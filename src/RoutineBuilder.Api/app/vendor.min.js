!function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",c=o[1];for(s+=c.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?be(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.4.8/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(be(o[r]));return new t(s)}}function i(e){if(null==e||T(e))return!1;if(Vr(e)||C(e)||Sr&&e instanceof Sr)return!0;var t="length"in Object(e)&&e.length;return w(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function o(e,t,n){var r,a;if(e)if(A(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(Vr(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(M(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)wr.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function c(){return++Fr}function l(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;o>i;++i){var a=t[i];if(y(a)||A(a))for(var s=Object.keys(a),c=0,u=s.length;u>c;c++){var m=s[c],f=a[m];n&&y(f)?x(f)?e[m]=new Date(f.valueOf()):k(f)?e[m]=new RegExp(f):f.nodeName?e[m]=f.cloneNode(!0):R(f)?e[m]=f.clone():(y(e[m])||(e[m]=Vr(f)?[]:{}),d(e[m],[f],!0)):e[m]=f}}return l(e,r),e}function u(e){return d(e,Dr.call(arguments,1),!1)}function m(e){return d(e,Dr.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function p(e,t){return u(Object.create(e),t)}function h(){}function g(e){return e}function v(e){return function(){return e}}function $(e){return A(e.toString)&&e.toString!==Ir}function b(e){return"undefined"==typeof e}function E(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function M(e){return null!==e&&"object"==typeof e&&!Rr(e)}function C(e){return"string"==typeof e}function w(e){return"number"==typeof e}function x(e){return"[object Date]"===Ir.call(e)}function A(e){return"function"==typeof e}function k(e){return"[object RegExp]"===Ir.call(e)}function T(e){return e&&e.window===e}function S(e){return e&&e.$evalAsync&&e.$watch}function N(e){return"[object File]"===Ir.call(e)}function _(e){return"[object FormData]"===Ir.call(e)}function D(e){return"[object Blob]"===Ir.call(e)}function H(e){return"boolean"==typeof e}function O(e){return e&&A(e.then)}function I(e){return e&&w(e.length)&&Br.test(Ir.call(e))}function R(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function P(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function L(e){return Cr(e.nodeName||e[0]&&e[0].nodeName)}function F(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function j(e,t){function n(e,t){var n,i=t.$$hashKey;if(Vr(e))for(var o=0,a=e.length;a>o;o++)t.push(r(e[o]));else if(M(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)wr.call(e,n)&&(t[n]=r(e[n]));return l(t,i),t}function r(e){if(!y(e))return e;var t=i.indexOf(e);if(-1!==t)return a[t];if(T(e)||S(e))throw Pr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r,o=!1;return Vr(e)?(r=[],o=!0):I(e)?r=new e.constructor(e):x(e)?r=new Date(e.getTime()):k(e)?(r=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),r.lastIndex=e.lastIndex):A(e.cloneNode)?r=e.cloneNode(!0):(r=Object.create(Rr(e)),o=!0),i.push(e),a.push(r),o?n(e,r):r}var i=[],a=[];if(t){if(I(t))throw Pr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Pr("cpi","Can't copy! Source and destination are identical.");return Vr(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),i.push(e),a.push(t),n(e,t)}return r(e)}function V(e,t){if(Vr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function B(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Vr(e)){if(x(e))return x(t)?B(e.getTime(),t.getTime()):!1;if(k(e))return k(t)?e.toString()==t.toString():!1;if(S(e)||S(t)||T(e)||T(t)||Vr(t)||x(t)||k(t))return!1;i=ge();for(r in e)if("$"!==r.charAt(0)&&!A(e[r])){if(!B(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&E(t[r])&&!A(t[r]))return!1;return!0}if(!Vr(t))return!1;if((n=e.length)==t.length){for(r=0;n>r;r++)if(!B(e[r],t[r]))return!1;return!0}}return!1}function U(e,t,n){return e.concat(Dr.call(t,n))}function q(e,t){return Dr.call(e,t||0)}function z(e,t){var n=arguments.length>2?q(arguments,2):[];return!A(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,U(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function W(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:T(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":S(r)&&(i="$SCOPE"),i}function Y(e,t){return"undefined"==typeof e?n:(w(t)||(t=t?2:null),JSON.stringify(e,W,t))}function K(e){return C(e)?JSON.parse(e):e}function G(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function X(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Z(e,t,n){n=n?-1:1;var r=G(t,e.getTimezoneOffset());return X(e,n*(r-e.getTimezoneOffset()))}function J(e){e=Sr(e).clone();try{e.empty()}catch(t){}var n=Sr("<div>").append(e).html();try{return e[0].nodeType===Jr?Cr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Cr(t)})}catch(t){return Cr(n)}}function Q(e){try{return decodeURIComponent(e)}catch(t){}}function ee(e){var t={};return o((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=Q(r),E(r)&&(i=E(i)?Q(i):!0,wr.call(t,r)?Vr(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function te(e){var t=[];return o(e,function(e,n){Vr(e)?o(e,function(e){t.push(re(n,!0)+(e===!0?"":"="+re(e,!0)))}):t.push(re(n,!0)+(e===!0?"":"="+re(e,!0)))}),t.length?t.join("&"):""}function ne(e){return re(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function re(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ie(e,t){var n,r,i=Yr.length;for(r=0;i>r;++r)if(n=Yr[r]+t,C(n=e.getAttribute(n)))return n;return null}function oe(e,t){var n,r,i={};o(Yr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),o(Yr,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==ie(n,"strict-di"),t(n,r?[r]:[],i))}function ae(n,r,i){y(i)||(i={});var a={strictDi:!1};i=u(a,i);var s=function(){if(n=Sr(n),n.injector()){var e=n[0]===t?"document":J(n);throw Pr("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var o=et(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},c=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&c.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(c,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),Lr.resumeBootstrap=function(e){return o(e,function(e){r.push(e)}),s()},void(A(Lr.resumeDeferredBootstrap)&&Lr.resumeDeferredBootstrap()))}function se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ce(e){var t=Lr.element(e).injector();if(!t)throw Pr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function le(e,t){return t=t||"_",e.replace(Kr,function(e,n){return(n?t:"")+e.toLowerCase()})}function de(){var t;if(!Gr){var r=Wr();Nr=b(r)?e.jQuery:r?e[r]:n,Nr&&Nr.fn.on?(Sr=Nr,u(Nr.fn,{scope:vi.scope,isolateScope:vi.isolateScope,controller:vi.controller,injector:vi.injector,inheritedData:vi.inheritedData}),t=Nr.cleanData,Nr.cleanData=function(e){var n;if(jr)jr=!1;else for(var r,i=0;null!=(r=e[i]);i++)n=Nr._data(r,"events"),n&&n.$destroy&&Nr(r).triggerHandler("$destroy");t(e)}):Sr=Te,Lr.element=Sr,Gr=!0}}function ue(e,t,n){if(!e)throw Pr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function me(e,t,n){return n&&Vr(e)&&(e=e[e.length-1]),ue(A(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function fe(e,t){if("hasOwnProperty"===e)throw Pr("badname","hasOwnProperty is not a valid {0} name",t)}function pe(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&A(e)?z(o,e):e}function he(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Sr(Dr.call(e,0,i))),t.push(n));return t||e}function ge(){return Object.create(null)}function ve(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),d}}function t(e,t){return function(n,o){return o&&A(o)&&(o.$$moduleName=r),i.push([e,t,arguments]),d}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],s=[],c=[],l=e("$injector","invoke","push",s),d={_invokeQueue:i,_configBlocks:s,_runBlocks:c,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(e){return c.push(e),this}};return a&&l(a),d})}})}function $e(e){var t=[];return JSON.stringify(e,function(e,n){if(n=W(e,n),y(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function be(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):b(e)?"undefined":"string"!=typeof e?$e(e):e}function Ee(t){u(t,{bootstrap:ae,copy:j,extend:u,merge:m,equals:B,element:Sr,forEach:o,injector:et,noop:h,bind:z,toJson:Y,fromJson:K,identity:g,isUndefined:b,isDefined:E,isString:C,isFunction:A,isObject:y,isNumber:w,isElement:R,isArray:Vr,version:ni,isDate:x,lowercase:Cr,uppercase:xr,callbacks:{counter:0},getTestability:ce,$$minErr:r,$$csp:zr,reloadWithDebugInfo:se}),(_r=ve(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:bn}),e.provider("$compile",dt).directive({a:$o,input:Io,textarea:Io,form:Co,script:ka,select:Na,style:Da,option:_a,ngBind:Lo,ngBindHtml:jo,ngBindTemplate:Fo,ngClass:Bo,ngClassEven:qo,ngClassOdd:Uo,ngCloak:zo,ngController:Wo,ngForm:wo,ngHide:ya,ngIf:Go,ngInclude:Xo,ngInit:Jo,ngNonBindable:ma,ngPluralize:ga,ngRepeat:va,ngShow:Ea,ngStyle:Ma,ngSwitch:Ca,ngSwitchWhen:wa,ngSwitchDefault:xa,ngOptions:ha,ngTransclude:Aa,ngModel:la,ngList:Qo,ngChange:Vo,pattern:Oa,ngPattern:Oa,required:Ha,ngRequired:Ha,minlength:Ra,ngMinlength:Ra,maxlength:Ia,ngMaxlength:Ia,ngValue:Po,ngModelOptions:ua}).directive({ngInclude:Zo}).directive(bo).directive(Yo),e.provider({$anchorScroll:tt,$animate:Di,$animateCss:Hi,$$animateQueue:_i,$$AnimateRunner:Ni,$browser:st,$cacheFactory:ct,$controller:ht,$document:gt,$exceptionHandler:vt,$filter:Hn,$$forceReflow:Li,$interpolate:_t,$interval:Dt,$http:kt,$httpParamSerializer:bt,$httpParamSerializerJQLike:Et,$httpBackend:St,$xhrFactory:Tt,$location:Wt,$log:Yt,$parse:fn,$rootScope:$n,$q:pn,$$q:hn,$sce:Cn,$sceDelegate:Mn,$sniffer:wn,$templateCache:lt,$templateRequest:xn,$$testability:An,$timeout:kn,$window:Nn,$$rAF:vn,$$jqLite:Ge,$$HashMap:yi,$$cookieReader:Dn})}])}function ye(){return++ii}function Me(e){return e.replace(si,function(e,t,n,r){return r?n.toUpperCase():n}).replace(ci,"Moz$1")}function Ce(e){return!mi.test(e)}function we(e){var t=e.nodeType;return t===Xr||!t||t===ei}function xe(e){for(var t in ri[e.ng339])return!0;return!1}function Ae(e,t){var n,r,i,a,s=t.createDocumentFragment(),c=[];if(Ce(e))c.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(fi.exec(e)||["",""])[1].toLowerCase(),i=hi[r]||hi._default,n.innerHTML=i[1]+e.replace(pi,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;c=U(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(c,function(e){s.appendChild(e)}),s}function ke(e,n){n=n||t;var r;return(r=ui.exec(e))?[n.createElement(r[1])]:(r=Ae(e,n))?r.childNodes:[]}function Te(e){if(e instanceof Te)return e;var t;if(C(e)&&(e=Ur(e),t=!0),!(this instanceof Te)){if(t&&"<"!=e.charAt(0))throw di("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Te(e)}t?Le(this,ke(e)):Le(this,e)}function Se(e){return e.cloneNode(!0)}function Ne(e,t){if(t||De(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)De(n[r])}function _e(e,t,n,r){if(E(r))throw di("offargs","jqLite#off() does not support the `selector` argument");var i=He(e),a=i&&i.events,s=i&&i.handle;if(s)if(t){var c=function(t){var r=a[t];E(n)&&F(r||[],n),E(n)&&r&&r.length>0||(ai(e,t,s),delete a[t])};o(t.split(" "),function(e){c(e),li[e]&&c(li[e])})}else for(t in a)"$destroy"!==t&&ai(e,t,s),delete a[t]}function De(e,t){var r=e.ng339,i=r&&ri[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),_e(e)),delete ri[r],e.ng339=n}}function He(e,t){var r=e.ng339,i=r&&ri[r];return t&&!i&&(e.ng339=r=ye(),i=ri[r]={events:{},data:{},handle:n}),i}function Oe(e,t,n){if(we(e)){var r=E(n),i=!r&&t&&!y(t),o=!t,a=He(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];u(s,t)}}}function Ie(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Re(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",Ur((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ur(t)+" "," ")))})}function Pe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=Ur(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Ur(n))}}function Le(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Fe(e,t){return je(e,"$"+(t||"ngController")+"Controller")}function je(e,t,n){e.nodeType==ei&&(e=e.documentElement);for(var r=Vr(t)?t:[t];e;){for(var i=0,o=r.length;o>i;i++)if(E(n=Sr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===ti&&e.host}}function Ve(e){for(Ne(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Be(e,t){t||Ne(e);var n=e.parentNode;n&&n.removeChild(e)}function Ue(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Sr(n).on("load",t)}function qe(e,t){var n=$i[t.toLowerCase()];return n&&bi[L(e)]&&n}function ze(e){return Ei[e]}function We(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||Ye;o>1&&(i=V(i));for(var c=0;o>c;c++)n.isImmediatePropagationStopped()||s(e,n,i[c])}};return n.elem=e,n}function Ye(e,t,n){n.call(e,t)}function Ke(e,t,n){var r=t.relatedTarget;(!r||r!==e&&!gi.call(e,r))&&n.call(e,t)}function Ge(){this.$get=function(){return u(Te,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ie(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Pe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Re(e,t)}})}}function Xe(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||c)():r+":"+e}function Ze(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Je(e){var t=e.toString().replace(xi,""),n=t.match(Mi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Qe(e,t,n){var r,i,a,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw C(n)&&n||(n=e.name||Je(e)),Ai("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(xi,""),a=i.match(Mi),o(a[1].split(Ci),function(e){e.replace(wi,function(e,t,n){r.push(n)})})}e.$inject=r}}else Vr(e)?(s=e.length-1,me(e[s],"fn"),r=e.slice(0,s)):me(e,"fn",!0);return r}function et(e,t){function r(e){return function(t,n){return y(t)?void o(t,s(e)):e(t,n)}}function i(e,t){if(fe(e,"service"),(A(t)||Vr(t))&&(t=w.instantiate(t)),!t.$get)throw Ai("pget","Provider '{0}' must define $get factory method.",e);return M[e+g]=t}function a(e,t){return function(){var n=k.invoke(t,this);if(b(n))throw Ai("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function c(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return c(e,["$injector",function(e){return e.instantiate(t)}])}function d(e,t){return c(e,v(t),!1)}function u(e,t){fe(e,"constant"),M[e]=t,x[e]=t}function m(e,t){var n=w.get(e+g),r=n.$get;n.$get=function(){var e=k.invoke(r,n);return k.invoke(t,null,{$delegate:e})}}function f(e){ue(b(e)||Vr(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=w.get(r[0]);i[r[1]].apply(i,r[2])}}if(!E.get(e)){E.put(e,!0);try{C(e)?(t=_r(e),n=n.concat(f(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):A(e)?n.push(w.invoke(e)):Vr(e)?n.push(w.invoke(e)):me(e,"module")}catch(i){throw Vr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Ai("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function p(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===h)throw Ai("cdep","Circular dependency found: {0}",t+" <- "+$.join(" <- "));return e[t]}try{return $.unshift(t),e[t]=h,e[t]=n(t,r)}catch(i){throw e[t]===h&&delete e[t],i}finally{$.shift()}}function i(e,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,c,l=[],d=et.$$annotate(e,t,o);for(s=0,a=d.length;a>s;s++){if(c=d[s],"string"!=typeof c)throw Ai("itkn","Incorrect injection token! Expected service name as string, got {0}",c);l.push(i&&i.hasOwnProperty(c)?i[c]:r(c,o))}return Vr(e)&&(e=e[a]),e.apply(n,l)}function o(e,t,n){var r=Object.create((Vr(e)?e[e.length-1]:e).prototype||null),o=i(e,r,t,n);return y(o)||A(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:et.$$annotate,has:function(t){return M.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var h={},g="Provider",$=[],E=new Ze([],!0),M={$provide:{provider:r(i),factory:r(c),service:r(l),value:r(d),constant:r(u),decorator:m}},w=M.$injector=p(M,function(e,t){throw Lr.isString(t)&&$.push(t),Ai("unpr","Unknown provider: {0}",$.join(" <- "))}),x={},k=x.$injector=p(x,function(e,t){var r=w.get(e+g,t);return k.invoke(r.$get,r,n,e)});return o(f(e),function(e){e&&k.invoke(e)}),k}function tt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===L(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(A(e))e=e();else if(R(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=C(e)?e:n.hash();var t;e?(t=c.getElementById(e))?a(t):(t=i(c.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var c=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Ue(function(){r.$evalAsync(s)})}),s}]}function nt(e,t){return e||t?e?t?(Vr(e)&&(e=e.join(" ")),Vr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function rt(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Ti)return n}}function it(e){C(e)&&(e=e.split(" "));var t=ge();return o(e,function(e){e.length&&(t[e]=!0)}),t}function ot(e){return y(e)?e:{}}function at(e,t,n,r){function i(e){try{e.apply(null,q(arguments,1))}finally{if($--,0===$)for(;E.length;)try{E.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){x=null,l(),d()}function c(){try{return f.state}catch(e){}}function l(){y=c(),y=b(y)?null:y,B(y,T)&&(y=T),T=y}function d(){(C!==u.url()||M!==y)&&(C=u.url(),M=y,o(A,function(e){e(u.url(),y)}))}var u=this,m=(t[0],e.location),f=e.history,p=e.setTimeout,g=e.clearTimeout,v={};u.isMock=!1;var $=0,E=[];u.$$completeOutstandingRequest=i,u.$$incOutstandingRequestCount=function(){$++},u.notifyWhenNoOutstandingRequests=function(e){0===$?e():E.push(e)};var y,M,C=m.href,w=t.find("base"),x=null;l(),M=y,u.url=function(t,n,i){if(b(i)&&(i=null),m!==e.location&&(m=e.location),f!==e.history&&(f=e.history),t){var o=M===i;if(C===t&&(!r.history||o))return u;var s=C&&Pt(C)===Pt(t);return C=t,M=i,!r.history||s&&o?((!s||x)&&(x=t),n?m.replace(t):s?m.hash=a(t):m.href=t,m.href!==t&&(x=t)):(f[n?"replaceState":"pushState"](i,"",t),l(),M=y),u}return x||m.href.replace(/%27/g,"'")},u.state=function(){return y};var A=[],k=!1,T=null;u.onUrlChange=function(t){return k||(r.history&&Sr(e).on("popstate",s),Sr(e).on("hashchange",s),k=!0),A.push(t),t},u.$$applicationDestroyed=function(){Sr(e).off("hashchange popstate",s)},u.$$checkUrlChange=d,u.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return $++,n=p(function(){delete v[n],i(e)},t||0),v[n]=!0,n},u.defer.cancel=function(e){return v[e]?(delete v[e],g(e),i(h),!0):!1}}function st(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new at(e,r,t,n)}]}function ct(){this.$get=function(){function e(e,n){function i(e){e!=m&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,m),m=e,m.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=u({},n,{id:e}),c=ge(),l=n&&n.capacity||Number.MAX_VALUE,d=ge(),m=null,f=null;return t[e]={put:function(e,t){if(!b(t)){if(l<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});i(n)}return e in c||a++,c[e]=t,a>l&&this.remove(f.key),t}},get:function(e){if(l<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return c[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=d[e];if(!t)return;t==m&&(m=t.p),t==f&&(f=t.n),o(t.n,t.p),delete d[e]}e in c&&(delete c[e],a--)},removeAll:function(){c=ge(),a=0,d=ge(),m=f=null},destroy:function(){c=null,s=null,d=null,delete t[e]},info:function(){return u({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function lt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function dt(e,r){function i(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(e,function(e,o){var a=e.match(r);if(!a)throw Oi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),i}function a(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),y(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw Oi("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!pt(r,o))throw Oi("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function c(e){var t=e.charAt(0);if(!t||t!==Cr(t))throw Oi("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Oi("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var l={},d="Directive",m=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,$=P("ngSrc,ngSrcset,src,srcset"),M=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function k(t,n){return fe(t,"directive"),C(t)?(c(t),ue(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+d,["$injector","$exceptionHandler",function(e,n){var r=[];return o(l[t],function(i,o){try{var s=e.invoke(i);A(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var c=s.$$bindings=a(s,s.name);y(c.isolateScope)&&(s.$$isolateBindings=c.isolateScope),s.$$moduleName=i.$$moduleName,r.push(s)}catch(l){n(l)}}),r}])),l[t].push(n)):o(t,s(k)),this},this.aHrefSanitizationWhitelist=function(e){return E(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return E(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return E(e)?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,a,s,c,v,E,k,T,N){function _(e,t){try{e.addClass(t)}catch(n){}}function D(e,t,n,r,i){e instanceof Sr||(e=Sr(e)),o(e,function(t,n){t.nodeType==Jr&&t.nodeValue.match(/\S+/)&&(e[n]=Sr(t).wrap("<span></span>").parent()[0])});var a=O(e,t,e,n,r,i);D.$$addScopeClass(e);var s=null;return function(t,n,r){ue(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new()),r=r||{};var o=r.parentBoundTranscludeFn,c=r.transcludeControllers,l=r.futureParentElement;o&&o.$$boundTransclude&&(o=o.$$boundTransclude),s||(s=H(l));var d;if(d="html"!==s?Sr(Q(s,Sr("<div>").append(e).html())):n?vi.clone.call(e):e,c)for(var u in c)d.data("$"+u+"Controller",c[u].instance);return D.$$addScopeInfo(d,t),n&&n(d,t),a&&a(t,d,d,o),d}}function H(e){var t=e&&e[0];return t&&"foreignobject"!==L(t)&&t.toString().match(/SVG/)?"svg":"html"}function O(e,t,r,i,o,a){function s(e,r,i,o){var a,s,c,l,d,u,m,f,g;if(p){var v=r.length;for(g=new Array(v),d=0;d<h.length;d+=3)m=h[d],g[m]=r[m]}else g=r;for(d=0,u=h.length;u>d;)c=g[h[d++]],a=h[d++],s=h[d++],a?(a.scope?(l=e.$new(),D.$$addScopeInfo(Sr(c),l)):l=e,f=a.transcludeOnThisElement?I(e,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&t?I(e,t):null,a(s,l,c,i,f)):s&&s(e,c.childNodes,n,o)}for(var c,l,d,u,m,f,p,h=[],g=0;g<e.length;g++)c=new ae,l=R(e[g],[],c,0===g?i:n,o),d=l.length?V(l,e[g],c,t,r,null,[],[],a):null,d&&d.scope&&D.$$addScopeClass(c.$$element),m=d&&d.terminal||!(u=e[g].childNodes)||!u.length?null:O(u,d?(d.transcludeOnThisElement||!d.templateOnThisElement)&&d.transclude:t),(d||m)&&(h.push(g,d,m),f=!0,p=p||d),a=null;return f?s:null}function I(e,t,n){var r=function(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function R(e,t,n,r,i){var o,a,s=e.nodeType,c=n.$attr;switch(s){case Xr:z(t,ut(L(e)),"E",r,i);for(var l,d,u,p,h,g,v=e.attributes,$=0,b=v&&v.length;b>$;$++){var E=!1,M=!1;l=v[$],d=l.name,h=Ur(l.value),p=ut(d),(g=me.test(p))&&(d=d.replace(Ii,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var w=p.match(fe);w&&W(w[1])&&(E=d,M=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),u=ut(d.toLowerCase()),c[u]=d,(g||!n.hasOwnProperty(u))&&(n[u]=h,qe(e,u)&&(n[u]=!0)),te(e,t,h,u,g),z(t,u,"A",r,i,E,M)}if(a=e.className,y(a)&&(a=a.animVal),C(a)&&""!==a)for(;o=f.exec(a);)u=ut(o[2]),z(t,u,"C",r,i)&&(n[u]=Ur(o[3])),a=a.substr(o.index+o[0].length);break;case Jr:if(11===Tr)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Jr;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);Z(t,e.nodeValue);break;case Qr:try{o=m.exec(e.nodeValue),o&&(u=ut(o[1]),z(t,u,"M",r,i)&&(n[u]=Ur(o[2])))}catch(x){}}return t.sort(G),t}function P(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Oi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==Xr&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Sr(r)}function j(e,t,n){return function(r,i,o,a,s){return i=P(i[0],t,n),e(r,i,o,a,s)}}function V(e,r,o,a,s,l,d,u,m){function f(e,t,n,r){e&&(n&&(e=j(e,n,r)),e.require=v.require,e.directiveName=$,(N===v||v.$$isolateScope)&&(e=re(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=j(t,n,r)),t.require=v.require,t.directiveName=$,(N===v||v.$$isolateScope)&&(t=re(t,{isolateScope:!0})),u.push(t))}function p(e,t,n,r){var i;if(C(t)){var o=t.match(M),a=t.substring(o[0].length),s=o[1]||o[3],c="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var l="$"+a+"Controller";i=s?n.inheritedData(l):n.data(l)}if(!i&&!c)throw Oi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(Vr(t)){i=[];for(var d=0,u=t.length;u>d;d++)i[d]=p(e,t[d],n,r)}return i||null}function h(e,t,n,r,i,o){var a=ge();for(var s in r){var l=r[s],d={$scope:l===N||l.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},u=l.controller;"@"==u&&(u=t[l.name]);var m=c(u,d,!0,l.controllerAs);a[l.name]=m,L||e.data("$"+l.name+"Controller",m.instance)}return a}function g(e,t,i,a,s){function c(e,t,r){var i;return S(e)||(r=t,t=e,e=n),L&&(i=g),r||(r=L?$.parent():$),s(e,t,i,r,H)}var l,m,f,g,v,$,b,E,y;r===i?(b=o,$=o.$$element):($=Sr(i),b=new ae($,o)),f=t,N?m=t.$new(!0):k&&(f=t.$parent),s&&(v=c,v.$$boundTransclude=s),T&&(g=h($,b,v,T,m,t)),N&&(D.$$addScopeInfo($,m,!0,!(_&&(_===N||_===N.$$originalDirective))),D.$$addScopeClass($,!0),m.$$isolateBindings=N.$$isolateBindings,E=oe(t,b,m,m.$$isolateBindings,N),E&&m.$on("$destroy",E));for(var M in g){var C=T[M],w=g[M],x=C.$$bindings.bindToController;w.identifier&&x&&(y=oe(f,b,w.instance,x,C));var A=w();A!==w.instance&&(w.instance=A,$.data("$"+C.name+"Controller",A),y&&y(),y=oe(f,b,w.instance,x,C))}for(z=0,W=d.length;W>z;z++)l=d[z],ie(l,l.isolateScope?m:t,$,b,l.require&&p(l.directiveName,l.require,$,g),v);var H=t;for(N&&(N.template||null===N.templateUrl)&&(H=m),e&&e(H,i.childNodes,n,s),z=u.length-1;z>=0;z--)l=u[z],ie(l,l.isolateScope?m:t,$,b,l.require&&p(l.directiveName,l.require,$,g),v)}m=m||{};for(var v,$,b,E,w,x=-Number.MAX_VALUE,k=m.newScopeDirective,T=m.controllerDirectives,N=m.newIsolateScopeDirective,_=m.templateDirective,H=m.nonTlbTranscludeDirective,O=!1,I=!1,L=m.hasElementTranscludeDirective,F=o.$$element=Sr(r),V=l,B=a,z=0,W=e.length;W>z;z++){v=e[z];var G=v.$$start,Z=v.$$end;if(G&&(F=P(r,G,Z)),b=n,x>v.priority)break;if((w=v.scope)&&(v.templateUrl||(y(w)?(X("new/isolated scope",N||k,v,F),N=v):X("new/isolated scope",N,v,F)),
k=k||v),$=v.name,!v.templateUrl&&v.controller&&(w=v.controller,T=T||ge(),X("'"+$+"' controller",T[$],v,F),T[$]=v),(w=v.transclude)&&(O=!0,v.$$tlb||(X("transclusion",H,v,F),H=v),"element"==w?(L=!0,x=v.priority,b=F,F=o.$$element=Sr(t.createComment(" "+$+": "+o[$]+" ")),r=F[0],ne(s,q(b),r),B=D(b,a,x,V&&V.name,{nonTlbTranscludeDirective:H})):(b=Sr(Se(r)).contents(),F.empty(),B=D(b,a,n,n,{needsNewScope:v.$$isolateScope||v.$$newScope}))),v.template)if(I=!0,X("template",_,v,F),_=v,w=A(v.template)?v.template(F,o):v.template,w=de(w),v.replace){if(V=v,b=Ce(w)?[]:ft(Q(v.templateNamespace,Ur(w))),r=b[0],1!=b.length||r.nodeType!==Xr)throw Oi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");ne(s,F,r);var ee={$attr:{}},te=R(r,[],ee),se=e.splice(z+1,e.length-(z+1));(N||k)&&U(te,N,k),e=e.concat(te).concat(se),Y(o,ee),W=e.length}else F.html(w);if(v.templateUrl)I=!0,X("template",_,v,F),_=v,v.replace&&(V=v),g=K(e.splice(z,e.length-z),F,o,s,O&&B,d,u,{controllerDirectives:T,newScopeDirective:k!==v&&k,newIsolateScopeDirective:N,templateDirective:_,nonTlbTranscludeDirective:H}),W=e.length;else if(v.compile)try{E=v.compile(F,o,B),A(E)?f(null,E,G,Z):E&&f(E.pre,E.post,G,Z)}catch(ce){i(ce,J(F))}v.terminal&&(g.terminal=!0,x=Math.max(x,v.priority))}return g.scope=k&&k.scope===!0,g.transcludeOnThisElement=O,g.templateOnThisElement=I,g.transclude=B,m.hasElementTranscludeDirective=L,g}function U(e,t,n){for(var r=0,i=e.length;i>r;r++)e[r]=p(e[r],{$$isolateScope:t,$$newScope:n})}function z(t,n,r,o,a,s,c){if(n===a)return null;var u=null;if(l.hasOwnProperty(n))for(var m,f=e.get(n+d),h=0,g=f.length;g>h;h++)try{m=f[h],(b(o)||o>m.priority)&&-1!=m.restrict.indexOf(r)&&(s&&(m=p(m,{$$start:s,$$end:c})),t.push(m),u=m)}catch(v){i(v)}return u}function W(t){if(l.hasOwnProperty(t))for(var n,r=e.get(t+d),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function Y(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(_(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function K(e,t,n,r,i,s,c,l){var d,u,m=[],f=t[0],h=e.shift(),g=p(h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),v=A(h.templateUrl)?h.templateUrl(t,n):h.templateUrl,$=h.templateNamespace;return t.empty(),a(v).then(function(a){var p,b,E,M;if(a=de(a),h.replace){if(E=Ce(a)?[]:ft(Q($,Ur(a))),p=E[0],1!=E.length||p.nodeType!==Xr)throw Oi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h.name,v);b={$attr:{}},ne(r,t,p);var C=R(p,[],b);y(h.scope)&&U(C,!0),e=C.concat(e),Y(n,b)}else p=f,t.html(a);for(e.unshift(g),d=V(e,p,n,i,t,h,s,c,l),o(r,function(e,n){e==p&&(r[n]=t[0])}),u=O(t[0].childNodes,i);m.length;){var w=m.shift(),x=m.shift(),A=m.shift(),k=m.shift(),T=t[0];if(!w.$$destroyed){if(x!==f){var S=x.className;l.hasElementTranscludeDirective&&h.replace||(T=Se(p)),ne(A,Sr(x),T),_(Sr(T),S)}M=d.transcludeOnThisElement?I(w,d.transclude,k):k,d(u,w,T,r,M)}}m=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(m?m.push(t,n,r,o):(d.transcludeOnThisElement&&(o=I(t,d.transclude,i)),d(u,t,n,r,o)))}}function G(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function X(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Oi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,J(r))}function Z(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&D.$$addBindingClass(t),function(e,t){var i=t.parent();r||D.$$addBindingClass(i),D.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function Q(e,n){switch(e=Cr(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function ee(e,t){if("srcdoc"==t)return k.HTML;var n=L(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?k.RESOURCE_URL:void 0}function te(e,t,n,i,o){var a=ee(e,i);o=$[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===L(e))throw Oi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){var l=c.$$observers||(c.$$observers=ge());if(w.test(i))throw Oi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var d=c[i];d!==n&&(s=d&&r(d,!0,a,o),n=d),s&&(c[i]=s(e),(l[i]||(l[i]=[])).$$inter=!0,(c.$$observers&&c.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?c.$updateClass(e,t):c.$set(i,e)}))}}}})}}function ne(e,n,r){var i,o,a=n[0],s=n.length,c=a.parentNode;if(e)for(i=0,o=e.length;o>i;i++)if(e[i]==a){e[i++]=r;for(var l=i,d=l+s-1,u=e.length;u>l;l++,d++)u>d?e[l]=e[d]:delete e[l];e.length-=s-1,e.context===a&&(e.context=r);break}c&&c.replaceChild(r,a);var m=t.createDocumentFragment();m.appendChild(a),Sr.hasData(a)&&(Sr.data(r,Sr.data(a)),Nr?(jr=!0,Nr.cleanData([a])):delete Sr.cache[a[Sr.expando]]);for(var f=1,p=n.length;p>f;f++){var h=n[f];Sr(h).remove(),m.appendChild(h),delete n[f]}n[0]=r,n.length=1}function re(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function ie(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,J(n))}}function oe(e,t,n,i,a){var c=[];return o(i,function(i,o){var l,d,u,m,f=i.attrName,p=i.optional,g=i.mode;switch(g){case"@":p||wr.call(t,f)||(n[o]=t[f]=void 0),t.$observe(f,function(e){C(e)&&(n[o]=e)}),t.$$observers[f].$$scope=e,C(t[f])&&(n[o]=r(t[f])(e));break;case"=":if(!wr.call(t,f)){if(p)break;t[f]=void 0}if(p&&!t[f])break;d=s(t[f]),m=d.literal?B:function(e,t){return e===t||e!==e&&t!==t},u=d.assign||function(){throw l=n[o]=d(e),Oi("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[f],a.name)},l=n[o]=d(e);var v=function(t){return m(t,n[o])||(m(t,l)?u(e,t=n[o]):n[o]=t),l=t};v.$stateful=!0;var $;$=i.collection?e.$watchCollection(t[f],v):e.$watch(s(t[f],v),null,d.literal),c.push($);break;case"&":if(d=t.hasOwnProperty(f)?s(t[f]):h,d===h&&p)break;n[o]=function(t){return d(e,t)}}}),c.length&&function(){for(var e=0,t=c.length;t>e;++e)c[e]()}}var ae=function(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e};ae.prototype={$normalize:ut,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=mt(e,t);n&&n.length&&T.addClass(this.$$element,n);var r=mt(t,e);r&&r.length&&T.removeClass(this.$$element,r)},$set:function(e,t,n,r){var a,s=this.$$element[0],c=qe(s,e),l=ze(e),d=e;if(c?(this.$$element.prop(e,t),r=c):l&&(this[l]=t,d=l),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e],r||(this.$attr[e]=r=le(e,"-"))),a=L(this.$$element),"a"===a&&"href"===e||"img"===a&&"src"===e)this[e]=t=N(t,"src"===e);else if("img"===a&&"srcset"===e){for(var u="",m=Ur(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(m)?f:/(,)/,h=m.split(p),g=Math.floor(h.length/2),v=0;g>v;v++){var $=2*v;u+=N(Ur(h[$]),!0),u+=" "+Ur(h[$+1])}var E=Ur(h[2*v]).split(/\s/);u+=N(Ur(E[0]),!0),2===E.length&&(u+=" "+Ur(E[1])),this[e]=t=u}n!==!1&&(null===t||b(t)?this.$$element.removeAttr(r):this.$$element.attr(r,t));var y=this.$$observers;y&&o(y[d],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ge()),i=r[e]||(r[e]=[]);return i.push(t),v.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){F(i,t)}}};var se=r.startSymbol(),ce=r.endSymbol(),de="{{"==se||"}}"==ce?g:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,ce)},me=/^ngAttr[A-Z]/,fe=/^(.+)Start$/;return D.$$addBindingInfo=x?function(e,t){var n=e.data("$binding")||[];Vr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,D.$$addBindingClass=x?function(e){_(e,"ng-binding")}:h,D.$$addScopeInfo=x?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:h,D.$$addScopeClass=x?function(e,t){_(e,t?"ng-isolate-scope":"ng-scope")}:h,D}]}function ut(e){return Me(e.replace(Ii,""))}function mt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function ft(e){e=Sr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===Qr&&Hr.call(e,t,1)}return e}function pt(e,t){if(t&&C(t))return t;if(C(e)){var n=Pi.exec(e);if(n)return n[3]}}function ht(){var e={},t=!1;this.register=function(t,n){fe(t,"controller"),y(t)?u(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,o){function a(e,t,n,i){if(!e||!y(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,s,c,l){var d,m,f,p;if(c=c===!0,l&&C(l)&&(p=l),C(r)){if(m=r.match(Pi),!m)throw Ri("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);f=m[1],p=p||m[3],r=e.hasOwnProperty(f)?e[f]:pe(s.$scope,f,!0)||(t?pe(o,f,!0):n),me(r,f,!0)}if(c){var h=(Vr(r)?r[r.length-1]:r).prototype;d=Object.create(h||null),p&&a(s,p,d,f||r.name);var g;return g=u(function(){var e=i.invoke(r,d,s,f);return e!==d&&(y(e)||A(e))&&(d=e,p&&a(s,p,d,f||r.name)),d},{instance:d,identifier:p})}return d=i.instantiate(r,s,f),p&&a(s,p,d,f||r.name),d}}]}function gt(){this.$get=["$window",function(e){return Sr(e.document)}]}function vt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function $t(e){return y(e)?x(e)?e.toISOString():Y(e):e}function bt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||b(e)||(Vr(e)?o(e,function(e,r){t.push(re(n)+"="+re($t(e)))}):t.push(re(n)+"="+re($t(e))))}),t.join("&")}}}function Et(){this.$get=function(){return function(e){function t(e,r,i){null===e||b(e)||(Vr(e)?o(e,function(e,n){t(e,r+"["+(y(e)?n:"")+"]")}):y(e)&&!x(e)?a(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(re(r)+"="+re($t(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function yt(e,t){if(C(e)){var n=e.replace(Ui,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Fi)||Mt(n))&&(e=K(n))}}return e}function Mt(e){var t=e.match(Vi);return t&&Bi[t[0]].test(e)}function Ct(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=ge();return C(e)?o(e.split("\n"),function(e){n=e.indexOf(":"),t(Cr(Ur(e.substr(0,n))),Ur(e.substr(n+1)))}):y(e)&&o(e,function(e,n){t(Cr(n),Ur(e))}),r}function wt(e){var t;return function(n){if(t||(t=Ct(e)),n){var r=t[Cr(n)];return void 0===r&&(r=null),r}return t}}function xt(e,t,n,r){return A(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function At(e){return e>=200&&300>e}function kt(){var e=this.defaults={transformResponse:[yt],transformRequest:[function(e){return!y(e)||N(e)||D(e)||_(e)?e:Y(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:V(ji),put:V(ji),patch:V(ji)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return E(e)?(t=!!e,this):t};var i=!0;this.useLegacyPromiseExtensions=function(e){return E(e)?(i=!!e,this):i};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,c,l,d,m,f){function p(t){function a(e){var t=u({},e);return t.data=xt(e.data,e.headers,e.status,l.transformResponse),At(e.status)?t:m.reject(t)}function s(e,t){var n,r={};return o(e,function(e,i){A(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function c(t){var n,r,i,o=e.headers,a=u({},t.headers);o=u({},o.common,o[Cr(t.method)]);e:for(n in o){r=Cr(n);for(i in a)if(Cr(i)===r)continue e;a[n]=o[n]}return s(a,V(t))}if(!Lr.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var l=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);l.headers=c(t),l.method=xr(l.method),l.paramSerializer=C(l.paramSerializer)?f.get(l.paramSerializer):l.paramSerializer;var d=function(t){var r=t.headers,i=xt(t.data,wt(r),n,t.transformRequest);return b(i)&&o(r,function(e,t){"content-type"===Cr(t)&&delete r[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,i).then(a,a)},p=[d,n],h=m.when(l);for(o(w,function(e){(e.request||e.requestError)&&p.unshift(e.request,e.requestError),(e.response||e.responseError)&&p.push(e.response,e.responseError)});p.length;){var g=p.shift(),$=p.shift();h=h.then(g,$)}return i?(h.success=function(e){return me(e,"fn"),h.then(function(t){e(t.data,t.status,t.headers,l)}),h},h.error=function(e){return me(e,"fn"),h.then(null,function(t){e(t.data,t.status,t.headers,l)}),h}):(h.success=zi("success"),h.error=zi("error")),h}function h(e){o(arguments,function(e){p[e]=function(t,n){return p(u({},n||{},{method:e,url:t}))}})}function g(e){o(arguments,function(e){p[e]=function(t,n,r){return p(u({},r||{},{method:e,url:t,data:n}))}})}function v(r,i){function o(e,n,r,i){function o(){a(n,e,r,i)}f&&(At(e)?f.put(w,[e,n,Ct(r),i]):f.remove(w)),t?d.$applyAsync(o):(o(),d.$$phase||d.$apply())}function a(e,t,n,i){t=t>=-1?t:0,(At(t)?g.resolve:g.reject)({data:e,status:t,headers:wt(n),config:r,statusText:i})}function l(e){a(e.data,e.status,V(e.headers()),e.statusText)}function u(){var e=p.pendingRequests.indexOf(r);-1!==e&&p.pendingRequests.splice(e,1)}var f,h,g=m.defer(),v=g.promise,C=r.headers,w=$(r.url,r.paramSerializer(r.params));if(p.pendingRequests.push(r),v.then(u,u),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(f=y(r.cache)?r.cache:y(e.cache)?e.cache:M),f&&(h=f.get(w),E(h)?O(h)?h.then(l,l):Vr(h)?a(h[1],h[0],V(h[2]),h[3]):a(h,200,{},"OK"):f.put(w,v)),b(h)){var x=Sn(r.url)?c()[r.xsrfCookieName||e.xsrfCookieName]:n;x&&(C[r.xsrfHeaderName||e.xsrfHeaderName]=x),s(r.method,w,i,o,C,r.timeout,r.withCredentials,r.responseType)}return v}function $(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var M=l("$http");e.paramSerializer=C(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var w=[];return o(a,function(e){w.unshift(C(e)?f.get(e):f.invoke(e))}),p.pendingRequests=[],h("get","delete","head","jsonp"),g("post","put","patch"),p.defaults=e,p}]}function Tt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function St(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return Nt(e,r,e.defer,t.angular.callbacks,n[0])}]}function Nt(e,t,n,r,i){function a(e,t,n){var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){ai(o,"load",a),ai(o,"error",a),i.body.removeChild(o),o=null;var s=-1,c="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},oi(o,"load",a),oi(o,"error",a),i.body.appendChild(o),a}return function(i,s,c,l,d,u,m,f){function p(){$&&$(),y&&y.abort()}function g(t,r,i,o,a){E(w)&&n.cancel(w),$=y=null,t(r,i,o,a),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Cr(i)){var v="_"+(r.counter++).toString(36);r[v]=function(e){r[v].data=e,r[v].called=!0};var $=a(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){g(l,e,r[v].data,"",t),r[v]=h})}else{var y=t(i,s);y.open(i,s,!0),o(d,function(e,t){E(e)&&y.setRequestHeader(t,e)}),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=t?200:"file"==Tn(s).protocol?404:0),g(l,n,t,y.getAllResponseHeaders(),e)};var M=function(){g(l,-1,null,null,"")};if(y.onerror=M,y.onabort=M,m&&(y.withCredentials=!0),f)try{y.responseType=f}catch(C){if("json"!==f)throw C}y.send(b(c)?null:c)}if(u>0)var w=n(p,u);else O(u)&&u.then(p)}}function _t(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(m,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=Y(e)}return e}function c(o,c,m,f){function p(e){try{return e=T(e),f&&!E(e)?e:s(e)}catch(t){r(Wi.interr(o,t))}}f=!!f;for(var h,g,v,$=0,y=[],M=[],C=o.length,w=[],x=[];C>$;){if(-1==(h=o.indexOf(e,$))||-1==(g=o.indexOf(t,h+l))){$!==C&&w.push(a(o.substring($)));break}$!==h&&w.push(a(o.substring($,h))),v=o.substring(h+l,g),y.push(v),M.push(n(v,p)),$=g+d,x.push(w.length),w.push("")}if(m&&w.length>1&&Wi.throwNoconcat(o),!c||y.length){var k=function(e){for(var t=0,n=y.length;n>t;t++){if(f&&b(e[t]))return;w[x[t]]=e[t]}return w.join("")},T=function(e){return m?i.getTrusted(m,e):i.valueOf(e)};return u(function(e){var t=0,n=y.length,i=new Array(n);try{for(;n>t;t++)i[t]=M[t](e);return k(i)}catch(a){r(Wi.interr(o,a))}},{exp:o,expressions:y,$$watchDelegate:function(e,t){var n;return e.$watchGroup(M,function(r,i){var o=k(r);A(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var l=e.length,d=t.length,m=new RegExp(e.replace(/./g,o),"g"),f=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function Dt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,a,s,c){var l=arguments.length>4,d=l?q(arguments,4):[],u=t.setInterval,m=t.clearInterval,f=0,p=E(c)&&!c,h=(p?r:n).defer(),g=h.promise;return s=E(s)?s:0,g.then(null,null,l?function(){i.apply(null,d)}:i),g.$$intervalId=u(function(){h.notify(f++),s>0&&f>=s&&(h.resolve(f),m(g.$$intervalId),delete o[g.$$intervalId]),p||e.$apply()},a),o[g.$$intervalId]=h,g}var o={};return i.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},i}]}function Ht(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ne(t[n]);return t.join("/")}function Ot(e,t){var n=Tn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||Ki[n.protocol]||null}function It(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Tn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=ee(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Rt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function Pt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Lt(e){return e.replace(/(#.+)|#$/,"$1")}function Ft(e){return e.substr(0,Pt(e).lastIndexOf("/")+1)}function jt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Vt(e,t,n){this.$$html5=!0,n=n||"",Ot(e,this),this.$$parse=function(e){var n=Rt(t,e);if(!C(n))throw Gi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);It(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=te(this.$$search),n=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Ht(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return E(o=Rt(e,r))?(a=o,s=E(o=Rt(n,o))?t+(Rt("/",o)||o):e+a):E(o=Rt(t,r))?s=t+o:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Bt(e,t,n){Ot(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Rt(e,r)||Rt(t,r);b(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",b(a)&&(e=r,this.replace())):(o=Rt(n,a),b(o)&&(o=a)),It(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=te(this.$$search),r=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Ht(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Pt(e)==Pt(t)?(this.$$parse(t),!0):!1}}function Ut(e,t,n){this.$$html5=!0,Bt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==Pt(r)?o=r:(a=Rt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=te(this.$$search),r=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Ht(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function qt(e){return function(){return this[e]}}function zt(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Wt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return E(t)?(e=t,this):e},this.html5Mode=function(e){return H(e)?(t.enabled=e,this):y(e)?(H(e.enabled)&&(t.enabled=e.enabled),H(e.requireBase)&&(t.requireBase=e.requireBase),H(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=l.url(),o=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(a){throw l.url(i),l.$$state=o,a}}function c(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,d,u,m=r.baseHref(),f=r.url();if(t.enabled){if(!m&&t.requireBase)throw Gi("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=jt(f)+(m||"/"),d=i.history?Vt:Ut}else u=Pt(f),d=Bt;var p=Ft(u);l=new d(u,p,"#"+e),l.$$parseLinkUrl(f,f),l.$$state=r.state();var h=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Sr(e.target);"a"!==L(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),c=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Tn(s.animVal).href),h.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(s,c)&&(e.preventDefault(),l.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Lt(l.absUrl())!=Lt(f)&&r.url(l.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){return b(Rt(p,e))?void(a.location.href=e):(n.$evalAsync(function(){var r,i=l.absUrl(),o=l.$$state;e=Lt(e),l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=o,s(i,!1,o)):(g=!1,c(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Lt(r.url()),t=Lt(l.absUrl()),o=r.state(),a=l.$$replace,d=e!==t||l.$$html5&&i.history&&o!==l.$$state;(g||d)&&(g=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=o):(d&&s(t,a,o===l.$$state?null:l.$$state),c(e,o)))})),l.$$replace=!1}),l}]}function Yt(){var e=!0,t=this;this.debugEnabled=function(t){return E(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||h,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Kt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Zi("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Gt(e,t){if(e+="",!C(e))throw Zi("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function Xt(e,t){if(e){if(e.constructor===e)throw Zi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Zi("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Zi("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Zi("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Zt(e,t){if(e){if(e.constructor===e)throw Zi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Ji||e===Qi||e===eo)throw Zi("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Jt(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw Zi("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function Qt(e,t){return"undefined"!=typeof e?e:t}function en(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function tn(e,t){var n=e(t);return!n.$stateful}function nn(e,t){var n,r;switch(e.type){case io.Program:n=!0,o(e.body,function(e){nn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case io.Literal:e.constant=!0,e.toWatch=[];break;case io.UnaryExpression:nn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case io.BinaryExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case io.LogicalExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case io.ConditionalExpression:nn(e.test,t),nn(e.alternate,t),nn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case io.Identifier:e.constant=!1,e.toWatch=[e];break;case io.MemberExpression:nn(e.object,t),e.computed&&nn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case io.CallExpression:n=e.filter?tn(t,e.callee.name):!1,r=[],o(e.arguments,function(e){nn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&tn(t,e.callee.name)?r:[e];break;case io.AssignmentExpression:nn(e.left,t),nn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case io.ArrayExpression:n=!0,r=[],o(e.elements,function(e){nn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case io.ObjectExpression:n=!0,r=[],o(e.properties,function(e){nn(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case io.ThisExpression:e.constant=!1,e.toWatch=[]}}function rn(e){if(1==e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length?r:r[0]!==t?r:n}}function on(e){return e.type===io.Identifier||e.type===io.MemberExpression}function an(e){return 1===e.body.length&&on(e.body[0].expression)?{type:io.AssignmentExpression,left:e.body[0].expression,right:{type:io.NGValueParameter},operator:"="}:void 0}function sn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===io.Literal||e.body[0].expression.type===io.ArrayExpression||e.body[0].expression.type===io.ObjectExpression)}function cn(e){return e.constant}function ln(e,t){this.astBuilder=e,this.$filter=t}function dn(e,t){this.astBuilder=e,this.$filter=t}function un(e){return"constructor"==e}function mn(e){return A(e.valueOf)?e.valueOf():ao.call(e)}function fn(){var e=ge(),t=ge();this.$get=["$filter",function(r){function i(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=mn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function a(e,t,r,o,a){var s,c=o.inputs;if(1===c.length){var l=i;return c=c[0],e.$watch(function(e){var t=c(e);return i(t,l)||(s=o(e,n,n,[t]),l=t&&mn(t)),s},t,r,a)}for(var d=[],u=[],m=0,f=c.length;f>m;m++)d[m]=i,u[m]=null;return e.$watch(function(e){for(var t=!1,r=0,a=c.length;a>r;r++){var l=c[r](e);(t||(t=!i(l,d[r])))&&(u[r]=l,d[r]=l&&mn(l))}return t&&(s=o(e,n,n,u)),s},t,r,a)}function s(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,A(t)&&t.apply(this,arguments),E(e)&&r.$$postDigest(function(){E(o)&&i()})},n)}function c(e,t,n,r){function i(e){var t=!0;return o(e,function(e){E(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,A(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function l(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){A(t)&&t.apply(this,arguments),i()},n)}function d(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==c&&n!==s,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return E(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==a?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=a,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var u=zr().noUnsafeEval,m={csp:u,expensiveChecks:!1},f={csp:u,expensiveChecks:!0};return function(n,i,o){var u,p,g;switch(typeof n){case"string":n=n.trim(),g=n;var v=o?t:e;if(u=v[g],!u){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var $=o?f:m,b=new ro($),E=new oo(b,r,$);u=E.parse(n),u.constant?u.$$watchDelegate=l:p?u.$$watchDelegate=u.literal?c:s:u.inputs&&(u.$$watchDelegate=a),v[g]=u}return d(u,i);case"function":return d(n,i);default:return h}}}]}function pn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return gn(function(t){e.$evalAsync(t)},t)}]}function hn(){this.$get=["$browser","$exceptionHandler",function(e,t){return gn(function(t){e.defer(t)},t)}]}function gn(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function c(e){var r,i,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][e.status];try{A(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(c){i.reject(c),t(c)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){c(t)}))}function d(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function m(e){var t=new d,n=0,r=Vr(e)?[]:{};return o(e,function(e,i){n++,$(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var f=r("$q",TypeError),p=function(){return new d};u(a.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var r=new d;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return v(t,!0,e)},function(t){return v(t,!1,e)},t)}}),u(d.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(y(e)||A(e))&&(n=e&&e.then),A(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){r[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(A(e)?e(n):n);
}catch(s){t(s)}}})}});var h=function(e){var t=new d;return t.reject(e),t.promise},g=function(e,t){var n=new d;return t?n.resolve(e):n.reject(e),n.promise},v=function(e,t,n){var r=null;try{A(n)&&(r=n())}catch(i){return g(i,!1)}return O(r)?r.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},$=function(e,t,n,r){var i=new d;return i.resolve(e),i.promise.then(t,n,r)},E=$,M=function C(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!A(e))throw f("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof C))return new C(e);var r=new d;return e(t,n),r.promise};return M.defer=p,M.reject=h,M.when=$,M.resolve=E,M.all=m,M}function vn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function $n(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=c(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,l,d,u){function m(e){e.currentScope.$$destroyed=!0}function f(e){9===Tr&&(e.$$childHead&&f(e.$$childHead),e.$$nextSibling&&f(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(e){if(x.$$phase)throw n("inprog","{0} already in progress",x.$$phase);x.$$phase=e}function v(){x.$$phase=null}function $(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function E(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function M(){}function C(){for(;S.length;)try{S.shift()()}catch(e){l(e)}s=null}function w(){null===s&&(s=u.defer(function(){x.$apply(C)}))}p.prototype={constructor:p,$new:function(t,n){var r;return n=n||this,t?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",m),r},$watch:function(e,t,n,r){var i=d(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,c={fn:t,last:M,get:i,exp:r||e,eq:!!n};return a=null,A(t)||(c.fn=h),s||(s=o.$$watchers=[]),s.unshift(c),$(this,1),function(){F(s,c)>=0&&$(o,-1),a=null}},$watchGroup:function(e,t){function n(){c=!1,l?(l=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,c=!1,l=!0;if(!e.length){var d=!0;return s.$evalAsync(function(){d&&t(i,i,s)}),function(){d=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,c||(c=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s,c;if(!b(o)){if(y(o))if(i(o)){a!==f&&(a=f,g=a.length=0,u++),t=o.length,g!==t&&(u++,a.length=g=t);for(var l=0;t>l;l++)c=a[l],s=o[l],r=c!==c&&s!==s,r||c===s||(u++,a[l]=s)}else{a!==p&&(a=p={},g=0,u++),t=0;for(n in o)wr.call(o,n)&&(t++,s=o[n],c=a[n],n in a?(r=c!==c&&s!==s,r||c===s||(u++,a[n]=s)):(g++,a[n]=s,u++));if(g>t){u++;for(n in a)wr.call(o,n)||(g--,delete a[n])}}else a!==o&&(a=o,u++);return u}}function r(){if(h?(h=!1,t(o,o,c)):t(o,s,c),l)if(y(o))if(i(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)wr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,c=this,l=t.length>1,u=0,m=d(e,n),f=[],p={},h=!0,g=0;return this.$watch(m,r)},$digest:function(){var e,r,i,o,c,d,m,f,p,h,$=t,b=this,E=[];g("$digest"),u.$$checkUrlChange(),this===x&&null!==s&&(u.defer.cancel(s),C()),a=null;do{for(d=!1,f=b;k.length;){try{h=k.shift(),h.scope.$eval(h.expression,h.locals)}catch(y){l(y)}a=null}e:do{if(o=f.$$watchers)for(c=o.length;c--;)try{if(e=o[c])if((r=e.get(f))===(i=e.last)||(e.eq?B(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===a){d=!1;break e}}else d=!0,a=e,e.last=e.eq?j(r,null):r,e.fn(r,i===M?r:i,f),5>$&&(p=4-$,E[p]||(E[p]=[]),E[p].push({msg:A(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(y){l(y)}if(!(m=f.$$watchersCount&&f.$$childHead||f!==b&&f.$$nextSibling))for(;f!==b&&!(m=f.$$nextSibling);)f=f.$parent}while(f=m);if((d||k.length)&&!$--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,E)}while(d||k.length);for(v();T.length;)try{T.shift()()}catch(y){l(y)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&u.$$applicationDestroyed(),$(this,-this.$$watchersCount);for(var t in this.$$listenerCount)E(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$$nextSibling=null,f(this)}},$eval:function(e,t){return d(e)(this,t)},$evalAsync:function(e,t){x.$$phase||k.length||u.defer(function(){k.length&&x.$digest()}),k.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){T.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{v()}}catch(t){l(t)}finally{try{x.$digest()}catch(t){throw l(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&S.push(t),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,E(i,1,e))}},$emit:function(e,t){var n,r,i,o=[],a=this,s=!1,c={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},d=U([c],arguments,1);do{for(n=a.$$listeners[e]||o,c.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,d)}catch(u){l(u)}else n.splice(r,1),r--,i--;if(s)return c.currentScope=null,c;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=n,i=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return o;for(var a,s,c,d=U([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[e]||[],s=0,c=a.length;c>s;s++)if(a[s])try{a[s].apply(null,d)}catch(u){l(u)}else a.splice(s,1),s--,c--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var x=new p,k=x.$$asyncQueue=[],T=x.$$postDigestQueue=[],S=x.$$applyAsyncQueue=[];return x}]}function bn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return E(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return E(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=Tn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function En(e){if("self"===e)return e;if(C(e)){if(e.indexOf("***")>-1)throw so("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=qr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(k(e))return new RegExp("^"+e.source+"$");throw so("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yn(e){var t=[];return E(e)&&o(e,function(e){t.push(En(e))}),t}function Mn(){this.SCE_CONTEXTS=co;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=yn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=yn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Sn(t):!!e.exec(t.href)}function i(n){var i,o,a=Tn(n.toString()),s=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=u.hasOwnProperty(e)?u[e]:null;if(!n)throw so("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw so("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof d?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||b(t)||""===t)return t;var n=u.hasOwnProperty(e)?u[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===co.RESOURCE_URL){if(i(t))return t;throw so("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===co.HTML)return l(t);throw so("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(e){throw so("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(l=n.get("$sanitize"));var d=o(),u={};return u[co.HTML]=o(d),u[co.CSS]=o(d),u[co.URL]=o(d),u[co.JS]=o(d),u[co.RESOURCE_URL]=o(u[co.URL]),{trustAs:a,getTrusted:c,valueOf:s}}]}function Cn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Tr)throw so("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=V(co);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(co,function(e,t){var n=Cr(t);r[Me("parse_as_"+n)]=function(t){return i(e,t)},r[Me("get_trusted_"+n)]=function(t){return a(e,t)},r[Me("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function wn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=f((/android (\d+)/.exec(Cr((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,d=!1,u=!1;if(l){for(var m in l)if(r=c.exec(m)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),d=!!("transition"in l||n+"Transition"in l),u=!!("animation"in l||n+"Animation"in l),!o||d&&u||(d=C(l.webkitTransition),u=C(l.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||a),hasEvent:function(e){if("input"===e&&11>=Tr)return!1;if(b(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:zr(),vendorPrefix:n,transitions:d,animations:u,android:o}}]}function xn(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(o,a){function s(e){if(!a)throw Oi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText);return n.reject(e)}i.totalPendingRequests++,C(o)&&e.get(o)||(o=r.getTrustedResourceUrl(o));var c=t.defaults&&t.defaults.transformResponse;Vr(c)?c=c.filter(function(e){return e!==yt}):c===yt&&(c=null);var l={cache:e,transformResponse:c};return t.get(o,l)["finally"](function(){i.totalPendingRequests--}).then(function(t){return e.put(o,t.data),t.data},s)}return i.totalPendingRequests=0,i}]}function An(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=Lr.element(e).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+qr(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function kn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,c){A(o)||(c=s,s=o,o=h);var l,d=q(arguments,3),u=E(c)&&!c,m=(u?r:n).defer(),f=m.promise;return l=t.defer(function(){try{m.resolve(o.apply(null,d))}catch(t){m.reject(t),i(t)}finally{delete a[f.$$timeoutId]}u||e.$apply()},s),f.$$timeoutId=l,a[l]=m,f}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function Tn(e){var t=e;return Tr&&(lo.setAttribute("href",t),t=lo.href),lo.setAttribute("href",t),{href:lo.href,protocol:lo.protocol?lo.protocol.replace(/:$/,""):"",host:lo.host,search:lo.search?lo.search.replace(/^\?/,""):"",hash:lo.hash?lo.hash.replace(/^#/,""):"",hostname:lo.hostname,port:lo.port,pathname:"/"===lo.pathname.charAt(0)?lo.pathname:"/"+lo.pathname}}function Sn(e){var t=C(e)?Tn(e):e;return t.protocol===uo.protocol&&t.host===uo.host}function Nn(){this.$get=v(e)}function _n(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,c,l=n.cookie||"";if(l!==i)for(i=l,e=i.split("; "),r={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(c=t(o.substring(0,s)),b(r[c])&&(r[c]=t(o.substring(s+1))));return r}}function Dn(){this.$get=_n}function Hn(e){function t(r,i){if(y(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Ln),t("date",Zn),t("filter",On),t("json",Jn),t("limitTo",Qn),t("lowercase",go),t("number",Fn),t("orderBy",er),t("uppercase",vo)}function On(){return function(e,t,n){if(!i(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var o,a,s=Pn(t);switch(s){case"function":o=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=In(t,n,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function In(e,t,n){var r,i=y(e)&&"$"in e;return t===!0?t=B:A(t)||(t=function(e,t){return b(e)?!1:null===e||null===t?e===t:y(t)||y(e)&&!$(e)?!1:(e=Cr(""+e),t=Cr(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!y(r)?Rn(r,e.$,t,!1):Rn(r,e,t,n)}}function Rn(e,t,n,r,i){var o=Pn(e),a=Pn(t);if("string"===a&&"!"===t.charAt(0))return!Rn(e,t.substring(1),n,r);if(Vr(e))return e.some(function(e){return Rn(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Rn(e[s],t,n,!0))return!0;return i?!1:Rn(e,t,n,!1)}if("object"===a){for(s in t){var c=t[s];if(!A(c)&&!b(c)){var l="$"===s,d=l?e:e[s];if(!Rn(d,c,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Pn(e){return null===e?"null":typeof e}function Ln(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return b(n)&&(n=t.CURRENCY_SYM),b(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:jn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Fn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:jn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function jn(e,t,n,r,i){if(y(e))return"";var o=0>e;e=Math.abs(e);var a=e===1/0;if(!a&&!isFinite(e))return"";var s=e+"",c="",l=!1,d=[];if(a&&(c="∞"),!a&&-1!==s.indexOf("e")){var u=s.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>i+1?e=0:(c=s,l=!0)}if(a||l)i>0&&1>e&&(c=e.toFixed(i),e=parseFloat(c),c=c.replace(mo,r));else{var m=(s.split(mo)[1]||"").length;b(i)&&(i=Math.min(Math.max(t.minFrac,m),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var f=(""+e).split(mo),p=f[0];f=f[1]||"";var h,g=0,v=t.lgSize,$=t.gSize;if(p.length>=v+$)for(g=p.length-v,h=0;g>h;h++)(g-h)%$===0&&0!==h&&(c+=n),c+=p.charAt(h);for(h=g;h<p.length;h++)(p.length-h)%v===0&&0!==h&&(c+=n),c+=p.charAt(h);for(;f.length<i;)f+="0";i&&"0"!==i&&(c+=r+f.substr(0,i))}return 0===e&&(o=!1),d.push(o?t.negPre:t.posPre,c,o?t.negSuf:t.posSuf),d.join("")}function Vn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Bn(e,t,n,r){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Vn(o,t,r)}}function Un(e,t){return function(n,r){var i=n["get"+e](),o=xr(t?"SHORT"+e:e);return r[o][i]}}function qn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Vn(Math[r>0?"floor":"ceil"](r/60),2)+Vn(Math.abs(r%60),2)}function zn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Wn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Yn(e){return function(t){var n=zn(t.getFullYear()),r=Wn(t),i=+r-+n,o=1+Math.round(i/6048e5);return Vn(o,e)}}function Kn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Gn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Xn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Zn(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=f(t[9]+t[10]),o=f(t[9]+t[11])),a.call(r,f(t[1]),f(t[2])-1,f(t[3]));var c=f(t[4]||0)-i,l=f(t[5]||0)-o,d=f(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,c,l,d,u),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,c="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,C(n)&&(n=ho.test(n)?f(n):t(n)),w(n)&&(n=new Date(n)),!x(n)||!isFinite(n.getTime()))return n;for(;r;)s=po.exec(r),s?(l=U(l,s,1),r=l.pop()):(l.push(r),r=null);var d=n.getTimezoneOffset();return i&&(d=G(i,n.getTimezoneOffset()),n=Z(n,i,!0)),o(l,function(t){a=fo[t],c+=a?a(n,e.DATETIME_FORMATS,d):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function Jn(){return function(e,t){return b(t)&&(t=2),Y(e,t)}}function Qn(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):f(t),isNaN(t)?e:(w(e)&&(e=e.toString()),Vr(e)||C(e)?(n=!n||isNaN(n)?0:f(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function er(e){function t(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=g;if(A(t))i=t;else if(C(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var o=i();i=function(e){return e[o]}}return{get:i,descending:r*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function r(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),n(e))?e:$(e)&&(e=e.toString(),n(e))?e:t}function o(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=r(e,t)),{value:e,type:n}}function a(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,n,r){function s(e,t){return{value:e,predicateValues:l.map(function(n){return o(n.get(e),t)})}}function c(e,t){for(var n=0,r=0,i=l.length;i>r&&!(n=a(e.predicateValues[r],t.predicateValues[r])*l[r].descending);++r);return n}if(!i(e))return e;Vr(n)||(n=[n]),0===n.length&&(n=["+"]);var l=t(n,r);l.push({get:function(){return{}},descending:r?-1:1});var d=Array.prototype.map.call(e,s);return d.sort(c),e=d.map(function(e){return e.value})}}function tr(e){return A(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function nr(e,t){e.$name=t}function rr(e,t,r,i,a){var s=this,c=[];s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Eo,s.$rollbackViewValue=function(){o(c,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(c,function(e){e.$commitViewValue()})},s.$addControl=function(e){fe(e.$name,"input"),c.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),F(c,e),e.$$parentForm=Eo},$r({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(F(r,n),0===r.length&&delete e[t])},$animate:i}),s.$setDirty=function(){i.removeClass(e,na),i.addClass(e,ra),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){i.setClass(e,na,ra+" "+yo),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(c,function(e){e.$setPristine()})},s.$setUntouched=function(){o(c,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,yo),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function ir(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function or(e,t,n,r,i,o){ar(e,t,n,r,i,o),ir(r)}function ar(e,t,n,r,i,o){var a=Cr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,c()})}var c=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),c=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Ur(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))t.on("input",c);else{var l,d=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||d(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",d)}t.on("change",c),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function sr(e,t){if(x(e))return e;if(C(e)){_o.lastIndex=0;var n=_o.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,c=0,l=zn(r),d=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(r,0,l.getDate()+d,o,a,s,c)}}return NaN}function cr(e,t){return function(n,r){var i,a;if(x(n))return n;if(C(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),xo.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function lr(e,t,r,i){return function(o,a,s,c,l,d,u){function m(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return E(e)&&!x(e)?r(e)||n:e}dr(o,a,s,c),ar(o,a,s,c,l,d);var p,h=c&&c.$options&&c.$options.timezone;if(c.$$parserName=e,c.$parsers.push(function(e){if(c.$isEmpty(e))return null;if(t.test(e)){var i=r(e,p);return h&&(i=Z(i,h)),i}return n}),c.$formatters.push(function(e){if(e&&!x(e))throw sa("datefmt","Expected `{0}` to be a date",e);return m(e)?(p=e,p&&h&&(p=Z(p,h,!0)),u("date")(e,i,h)):(p=null,"")}),E(s.min)||s.ngMin){var g;c.$validators.min=function(e){return!m(e)||b(g)||r(e)>=g},s.$observe("min",function(e){g=f(e),c.$validate()})}if(E(s.max)||s.ngMax){var v;c.$validators.max=function(e){return!m(e)||b(v)||r(e)<=v},s.$observe("max",function(e){v=f(e),c.$validate()})}}}function dr(e,t,r,i){var o=t[0],a=i.$$hasNativeValidators=y(o.validity);a&&i.$parsers.push(function(e){var r=t.prop(Mr)||{};return r.badInput&&!r.typeMismatch?n:e})}function ur(e,t,r,i,o,a){if(dr(e,t,r,i),ar(e,t,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:To.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!w(e))throw sa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),E(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||b(s)||e>=s},r.$observe("min",function(e){E(e)&&!w(e)&&(e=parseFloat(e,10)),s=w(e)&&!isNaN(e)?e:n,i.$validate()})}if(E(r.max)||r.ngMax){var c;i.$validators.max=function(e){return i.$isEmpty(e)||b(c)||c>=e},r.$observe("max",function(e){E(e)&&!w(e)&&(e=parseFloat(e,10)),c=w(e)&&!isNaN(e)?e:n,i.$validate()})}}function mr(e,t,n,r,i,o){ar(e,t,n,r,i,o),ir(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Ao.test(n)}}function fr(e,t,n,r,i,o){ar(e,t,n,r,i,o),ir(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||ko.test(n)}}function pr(e,t,n,r){b(n.name)&&t.attr("name",c());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function hr(e,t,n,r,i){var o;if(E(r)){if(o=e(r),!o.constant)throw sa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function gr(e,t,n,r,i,o,a,s){var c=hr(s,e,"ngTrueValue",n.ngTrueValue,!0),l=hr(s,e,"ngFalseValue",n.ngFalseValue,!1),d=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",d),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return B(e,c)}),r.$parsers.push(function(e){return e?c:l})}function vr(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){var t=[];return Vr(e)?(o(e,function(e){t=t.concat(i(e))}),t):C(e)?e.split(" "):y(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,c){function l(e){var t=u(e,1);c.$addClass(t)}function d(e){var t=u(e,-1);c.$removeClass(t)}function u(e,t){var n=s.data("$classCounts")||ge(),r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function m(e,t){var i=r(t,e),o=r(e,t);i=u(i,1),o=u(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(p){if(!B(e,p)){var r=i(p);m(r,n)}}else l(n)}p=V(e)}var p;a.$watch(c[e],f,!0),c.$observe("class",function(t){f(a.$eval(c[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(c[e]));o===t?l(s):d(s)}})}}}]}function $r(e){function t(e,t,c){b(t)?r("$pending",e,c):i("$pending",e,c),H(t)?t?(u(s.$error,e,c),d(s.$$success,e,c)):(d(s.$error,e,c),u(s.$$success,e,c)):(u(s.$error,e,c),u(s.$$success,e,c)),s.$pending?(o(aa,!0),s.$valid=s.$invalid=n,a("",null)):(o(aa,!1),s.$valid=br(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var l;l=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,l),s.$$parentForm.$setValidity(e,l,s)}function r(e,t,n){s[e]||(s[e]={}),d(s[e],t,n)}function i(e,t,r){s[e]&&u(s[e],t,r),br(s[e])&&(s[e]=n)}function o(e,t){t&&!l[e]?(m.addClass(c,e),l[e]=!0):!t&&l[e]&&(m.removeClass(c,e),l[e]=!1)}function a(e,t){e=e?"-"+le(e,"-"):"",o(ea+e,t===!0),o(ta+e,t===!1)}var s=e.ctrl,c=e.$element,l={},d=e.set,u=e.unset,m=e.$animate;l[ta]=!(l[ea]=c.hasClass(ea)),s.$setValidity=t}function br(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Er(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var yr=/^\/(.+)\/([a-z]*)$/,Mr="validity",Cr=function(e){return C(e)?e.toLowerCase():e},wr=Object.prototype.hasOwnProperty,xr=function(e){return C(e)?e.toUpperCase():e},Ar=function(e){return C(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},kr=function(e){return C(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Cr=Ar,xr=kr);var Tr,Sr,Nr,_r,Dr=[].slice,Hr=[].splice,Or=[].push,Ir=Object.prototype.toString,Rr=Object.getPrototypeOf,Pr=r("ng"),Lr=e.angular||(e.angular={}),Fr=0;Tr=t.documentMode,h.$inject=[],g.$inject=[];var jr,Vr=Array.isArray,Br=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Ur=function(e){return C(e)?e.trim():e},qr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},zr=function(){function e(){try{return new Function(""),!1}catch(e){return!0}}if(!E(zr.rules)){var n=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");zr.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else zr.rules={noUnsafeEval:e(),noInlineStyle:!1}}return zr.rules},Wr=function(){if(E(Wr.name_))return Wr.name_;var e,n,r,i,o=Yr.length;for(n=0;o>n;++n)if(r=Yr[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return Wr.name_=i},Yr=["ng-","data-ng-","ng:","x-ng-"],Kr=/[A-Z]/g,Gr=!1,Xr=1,Zr=2,Jr=3,Qr=8,ei=9,ti=11,ni={full:"1.4.8",major:1,minor:4,dot:8,codeName:"ice-manipulation"};Te.expando="ng339";var ri=Te.cache={},ii=1,oi=function(e,t,n){e.addEventListener(t,n,!1)},ai=function(e,t,n){e.removeEventListener(t,n,!1)};Te._data=function(e){return this.cache[e[this.expando]]||{}};var si=/([\:\-\_]+(.))/g,ci=/^moz([A-Z])/,li={mouseleave:"mouseout",mouseenter:"mouseover"},di=r("jqLite"),ui=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,mi=/<|&#?\w+;/,fi=/<([\w:-]+)/,pi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,hi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};hi.optgroup=hi.option,hi.tbody=hi.tfoot=hi.colgroup=hi.caption=hi.thead,hi.th=hi.td;var gi=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},vi=Te.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),Te(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Sr(e>=0?this[e]:this[this.length+e])},length:0,push:Or,sort:[].sort,splice:[].splice},$i={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){$i[Cr(e)]=e});var bi={};o("input,select,option,textarea,button,form,details".split(","),function(e){bi[e]=!0});var Ei={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Oe,removeData:De,hasData:xe},function(e,t){Te[t]=e}),o({data:Oe,inheritedData:je,scope:function(e){return Sr.data(e,"$scope")||je(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Sr.data(e,"$isolateScope")||Sr.data(e,"$isolateScopeNoTemplate")},controller:Fe,injector:function(e){return je(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ie,css:function(e,t,n){return t=Me(t),E(n)?void(e.style[t]=n):e.style[t];
},attr:function(e,t,r){var i=e.nodeType;if(i!==Jr&&i!==Zr&&i!==Qr){var o=Cr(t);if($i[o]){if(!E(r))return e[t]||(e.attributes.getNamedItem(t)||h).specified?o:n;r?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(E(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){return E(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===Xr||n===Jr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===L(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(Ne(e,!0),void(e.innerHTML=t))},empty:Ve},function(e,t){Te.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Ve&&b(2==e.length&&e!==Ie&&e!==Fe?t:n)){if(y(t)){for(r=0;o>r;r++)if(e===Oe)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=b(a)?Math.min(o,1):o,c=0;s>c;c++){var l=e(this[c],t,n);a=a?a+l:l}return a}for(r=0;o>r;r++)e(this[r],t,n);return this}}),o({removeData:De,on:function(e,t,r,i){if(E(i))throw di("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(we(e)){var o=He(e,!0),a=o.events,s=o.handle;s||(s=o.handle=We(e,a));for(var c=t.indexOf(" ")>=0?t.split(" "):[t],l=c.length,d=function(t,n,i){var o=a[t];o||(o=a[t]=[],o.specialHandlerWrapper=n,"$destroy"===t||i||oi(e,t,s)),o.push(r)};l--;)t=c[l],li[t]?(d(li[t],Ke),d(t,n,!0)):d(t)}},off:_e,one:function(e,t,n){e=Sr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Ne(e),o(new Te(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===Xr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Xr||n===ti){t=new Te(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===Xr){var n=e.firstChild;o(new Te(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Sr(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Be,detach:function(e){Be(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Te(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Pe,removeClass:Re,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;b(r)&&(r=!Ie(e,t)),(r?Pe:Re)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==ti?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Se,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,c=He(e),l=c&&c.events,d=l&&l[s];d&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:h,type:s,target:e},t.type&&(r=u(r,t)),i=V(d),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Te.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)b(i)?(i=e(this[o],t,n,r),E(i)&&(i=Sr(i))):Le(i,e(this[o],t,n,r));return E(i)?i:this},Te.prototype.bind=Te.prototype.on,Te.prototype.unbind=Te.prototype.off}),Ze.prototype={put:function(e,t){this[Xe(e,this.nextUid)]=t},get:function(e){return this[Xe(e,this.nextUid)]},remove:function(e){var t=this[e=Xe(e,this.nextUid)];return delete this[e],t}};var yi=[function(){this.$get=[function(){return Ze}]}],Mi=/^[^\(]*\(\s*([^\)]*)\)/m,Ci=/,/,wi=/^\s*(_?)(\S+?)\1\s*$/,xi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ai=r("$injector");et.$$annotate=Qe;var ki=r("$animate"),Ti=1,Si="ng-animate",Ni=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=h,n.chain=h,n.prototype={end:h,cancel:h,resume:h,pause:h,complete:h,then:function(n,r){return e(function(e){t(function(){e()})}).then(n,r)}},n}]},_i=function(){var e=new Ze,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(e,t,n){var r=!1;return t&&(t=C(t)?t.split(" "):Vr(t)?t:[],o(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){o(t,function(t){var n=e.get(t);if(n){var r=it(t.attr("class")),i="",a="";o(n,function(e,t){var n=!!r[t];e!==n&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){i&&Pe(e,i),a&&Re(e,a)}),e.remove(t)}}),t.length=0}function s(n,o,s){var c=e.get(n)||{},l=i(c,o,!0),d=i(c,s,!1);(l||d)&&(e.put(n,c),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:h,on:h,off:h,pin:h,push:function(e,t,r,i){return i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass),new n}}}]},Di=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw ki("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Si+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw ki("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Si)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=rt(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Sr(r),i=i&&Sr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",ot(o))},move:function(n,r,i,o){return r=r&&Sr(r),i=i&&Sr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",ot(o))},leave:function(t,n){return e.push(t,"leave",ot(n),function(){t.remove()})},addClass:function(t,n,r){return r=ot(r),r.addClass=nt(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=ot(r),r.removeClass=nt(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=ot(i),i.addClass=nt(i.addClass,n),i.removeClass=nt(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=ot(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=nt(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Hi=function(){this.$get=["$$rAF","$q",function(e,t){var n=function(){};return n.prototype={done:function(e){this.defer&&this.defer[e===!0?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)}},function(t,r){function i(){return e(function(){o(),a||s.done(),a=!0}),s}function o(){r.addClass&&(t.addClass(r.addClass),r.addClass=null),r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null),r.to&&(t.css(r.to),r.to=null)}r.cleanupStyles&&(r.from=r.to=null),r.from&&(t.css(r.from),r.from=null);var a,s=new n;return{start:i,end:i}}}]},Oi=r("$compile");dt.$inject=["$provide","$$sanitizeUriProvider"];var Ii=/^((?:x|data)[\:\-_])/i,Ri=r("$controller"),Pi=/^(\S+)(\s+as\s+(\w+))?$/,Li=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Sr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Fi="application/json",ji={"Content-Type":Fi+";charset=utf-8"},Vi=/^\[|^\{(?!\{)/,Bi={"[":/]$/,"{":/}$/},Ui=/^\)\]\}',?\n/,qi=r("$http"),zi=function(e){return function(){throw qi("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},Wi=Lr.$interpolateMinErr=r("$interpolate");Wi.throwNoconcat=function(e){throw Wi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Wi.interr=function(e,t){return Wi("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Yi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Ki={http:80,https:443,ftp:21},Gi=r("$location"),Xi={$$html5:!1,$$replace:!1,absUrl:qt("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Yi.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:qt("$$protocol"),host:qt("$$host"),port:qt("$$port"),path:zt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(C(e)||w(e))e=e.toString(),this.$$search=ee(e);else{if(!y(e))throw Gi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=j(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:zt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Ut,Bt,Vt],function(e){e.prototype=Object.create(Xi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Vt||!this.$$html5)throw Gi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(t)?null:t,this}});var Zi=r("$parse"),Ji=Function.prototype.call,Qi=Function.prototype.apply,eo=Function.prototype.bind,to=ge();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){to[e]=!0});var no={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},ro=function(e){this.options=e};ro.prototype={constructor:ro,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=to[t],o=to[n],a=to[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=E(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Zi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Cr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=no[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var io=function(e,t){this.lexer=e,this.options=t};io.Program="Program",io.ExpressionStatement="ExpressionStatement",io.AssignmentExpression="AssignmentExpression",io.ConditionalExpression="ConditionalExpression",io.LogicalExpression="LogicalExpression",io.BinaryExpression="BinaryExpression",io.UnaryExpression="UnaryExpression",io.CallExpression="CallExpression",io.MemberExpression="MemberExpression",io.Identifier="Identifier",io.Literal="Literal",io.ArrayExpression="ArrayExpression",io.Property="Property",io.ObjectExpression="ObjectExpression",io.ThisExpression="ThisExpression",io.NGValueParameter="NGValueParameter",io.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:io.Program,body:e}},expressionStatement:function(){return{type:io.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:io.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:io.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:io.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:io.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:io.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:io.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:io.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:io.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:io.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=j(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:io.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:io.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:io.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:io.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:io.Identifier,name:e.text}},constant:function(){return{type:io.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:io.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:io.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:io.ObjectExpression,properties:t}},throwError:function(e,t){throw Zi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Zi("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Zi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:io.Literal,value:!0},"false":{type:io.Literal,value:!1},"null":{type:io.Literal,value:null},undefined:{type:io.Literal,value:n},"this":{type:io.ThisExpression}}},ln.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},nn(i,r.$filter);var a,s="";if(this.stage="assign",a=an(i)){this.state.computing="assign";var c=this.nextId();this.recurse(a,c),this.return_(c),s="fn.assign="+this.generateFunction("assign","s,v,l")}var l=rn(i.body);r.stage="inputs",o(l,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var d='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",d)(this.$filter,Kt,Xt,Zt,Gt,Jt,Qt,en,e);return this.state=this.stage=n,u.literal=sn(i),u.constant=cn(i),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,a,s){var c,l,d,u,m=this;if(i=i||h,!s&&E(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,a,!0));switch(e.type){case io.Program:o(e.body,function(t,r){m.recurse(t.expression,n,n,function(e){l=e}),r!==e.body.length-1?m.current().body.push(l,";"):m.return_(l)});break;case io.Literal:u=this.escape(e.value),this.assign(t,u),i(u);break;case io.UnaryExpression:this.recurse(e.argument,n,n,function(e){l=e}),u=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,u),i(u);break;case io.BinaryExpression:this.recurse(e.left,n,n,function(e){c=e}),this.recurse(e.right,n,n,function(e){l=e}),u="+"===e.operator?this.plus(c,l):"-"===e.operator?this.ifDefined(c,0)+e.operator+this.ifDefined(l,0):"("+c+")"+e.operator+"("+l+")",this.assign(t,u),i(u);break;case io.LogicalExpression:t=t||this.nextId(),m.recurse(e.left,t),m.if_("&&"===e.operator?t:m.not(t),m.lazyRecurse(e.right,t)),i(t);break;case io.ConditionalExpression:t=t||this.nextId(),m.recurse(e.test,t),m.if_(t,m.lazyRecurse(e.alternate,t),m.lazyRecurse(e.consequent,t)),i(t);break;case io.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),Kt(e.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",e.name)),function(){m.if_("inputs"===m.stage||"s",function(){a&&1!==a&&m.if_(m.not(m.nonComputedMember("s",e.name)),m.lazyAssign(m.nonComputedMember("s",e.name),"{}")),m.assign(t,m.nonComputedMember("s",e.name))})},t&&m.lazyAssign(t,m.nonComputedMember("l",e.name))),(m.state.expensiveChecks||un(e.name))&&m.addEnsureSafeObject(t),i(t);break;case io.MemberExpression:c=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),m.recurse(e.object,c,n,function(){m.if_(m.notNull(c),function(){e.computed?(l=m.nextId(),m.recurse(e.property,l),m.getStringValue(l),m.addEnsureSafeMemberName(l),a&&1!==a&&m.if_(m.not(m.computedMember(c,l)),m.lazyAssign(m.computedMember(c,l),"{}")),u=m.ensureSafeObject(m.computedMember(c,l)),m.assign(t,u),r&&(r.computed=!0,r.name=l)):(Kt(e.property.name),a&&1!==a&&m.if_(m.not(m.nonComputedMember(c,e.property.name)),m.lazyAssign(m.nonComputedMember(c,e.property.name),"{}")),u=m.nonComputedMember(c,e.property.name),(m.state.expensiveChecks||un(e.property.name))&&(u=m.ensureSafeObject(u)),m.assign(t,u),r&&(r.computed=!1,r.name=e.property.name))},function(){m.assign(t,"undefined")}),i(t)},!!a);break;case io.CallExpression:t=t||this.nextId(),e.filter?(l=m.filter(e.callee.name),d=[],o(e.arguments,function(e){var t=m.nextId();m.recurse(e,t),d.push(t)}),u=l+"("+d.join(",")+")",m.assign(t,u),i(t)):(l=m.nextId(),c={},d=[],m.recurse(e.callee,l,c,function(){m.if_(m.notNull(l),function(){m.addEnsureSafeFunction(l),o(e.arguments,function(e){m.recurse(e,m.nextId(),n,function(e){d.push(m.ensureSafeObject(e))})}),c.name?(m.state.expensiveChecks||m.addEnsureSafeObject(c.context),u=m.member(c.context,c.name,c.computed)+"("+d.join(",")+")"):u=l+"("+d.join(",")+")",u=m.ensureSafeObject(u),m.assign(t,u)},function(){m.assign(t,"undefined")}),i(t)}));break;case io.AssignmentExpression:if(l=this.nextId(),c={},!on(e.left))throw Zi("lval","Trying to assing a value to a non l-value");this.recurse(e.left,n,c,function(){m.if_(m.notNull(c.context),function(){m.recurse(e.right,l),m.addEnsureSafeObject(m.member(c.context,c.name,c.computed)),m.addEnsureSafeAssignContext(c.context),u=m.member(c.context,c.name,c.computed)+e.operator+l,m.assign(t,u),i(t||u)})},1);break;case io.ArrayExpression:d=[],o(e.elements,function(e){m.recurse(e,m.nextId(),n,function(e){d.push(e)})}),u="["+d.join(",")+"]",this.assign(t,u),i(u);break;case io.ObjectExpression:d=[],o(e.properties,function(e){m.recurse(e.value,m.nextId(),n,function(t){d.push(m.escape(e.key.type===io.Identifier?e.key.name:""+e.key.value)+":"+t)})}),u="{"+d.join(",")+"}",this.assign(t,u),i(u);break;case io.ThisExpression:this.assign(t,"s"),i("s");break;case io.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(C(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Zi("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},dn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,nn(r,n.$filter);var i,a;(i=an(r))&&(a=this.recurse(i));var s,c=rn(r.body);c&&(s=[],o(c,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var l=[];o(r.body,function(e){l.push(n.recurse(e.expression))});var d=0===r.body.length?function(){}:1===r.body.length?l[0]:function(e,t){var n;return o(l,function(r){n=r(e,t)}),n};return a&&(d.assign=function(e,t,n){return a(e,n,t)}),s&&(d.inputs=s),d.literal=sn(r),d.constant=cn(r),d},recurse:function(e,t,r){var i,a,s,c=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case io.Literal:return this.value(e.value,t);case io.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case io.BinaryExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case io.LogicalExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case io.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case io.Identifier:return Kt(e.name,c.expression),c.identifier(e.name,c.expensiveChecks||un(e.name),t,r,c.expression);case io.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(Kt(e.property.name,c.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(i,a,t,r,c.expression):this.nonComputedMember(i,a,c.expensiveChecks,t,r,c.expression);case io.CallExpression:return s=[],o(e.arguments,function(e){s.push(c.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,r,i,o){for(var c=[],l=0;l<s.length;++l)c.push(s[l](e,r,i,o));var d=a.apply(n,c,o);return t?{context:n,name:n,value:d}:d}:function(e,n,r,i){var o,l=a(e,n,r,i);if(null!=l.value){Xt(l.context,c.expression),Zt(l.value,c.expression);for(var d=[],u=0;u<s.length;++u)d.push(Xt(s[u](e,n,r,i),c.expression));o=Xt(l.value.apply(l.context,d),c.expression)}return t?{value:o}:o};case io.AssignmentExpression:return i=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,r,o){var s=i(e,n,r,o),l=a(e,n,r,o);return Xt(s.value,c.expression),Jt(s.context),s.context[s.name]=l,t?{value:l}:l};case io.ArrayExpression:return s=[],o(e.elements,function(e){s.push(c.recurse(e))}),function(e,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](e,n,r,i));return t?{value:o}:o};case io.ObjectExpression:return s=[],o(e.properties,function(e){s.push({key:e.key.type===io.Identifier?e.key.name:""+e.key.value,value:c.recurse(e.value)})}),function(e,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(e,n,r,i);return t?{value:o}:o};case io.ThisExpression:return function(e){return t?{value:e}:e};case io.NGValueParameter:return function(e,n,r,i){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=E(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=E(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),c=t(r,i,o,a),l=en(s,c);return n?{value:l}:l}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),c=t(r,i,o,a),l=(E(s)?s:0)-(E(c)?c:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var c=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:c}:c}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,o){return function(a,s,c,l){var d=s&&e in s?s:a;i&&1!==i&&d&&!d[e]&&(d[e]={});var u=d?d[e]:n;return t&&Xt(u,o),r?{context:d,name:e,value:u}:u}},computedMember:function(e,t,n,r,i){return function(o,a,s,c){var l,d,u=e(o,a,s,c);return null!=u&&(l=t(o,a,s,c),l=Gt(l),Kt(l,i),r&&1!==r&&u&&!u[l]&&(u[l]={}),d=u[l],Xt(d,i)),n?{context:u,name:l,value:d}:d}},nonComputedMember:function(e,t,r,i,o,a){return function(s,c,l,d){var u=e(s,c,l,d);o&&1!==o&&u&&!u[t]&&(u[t]={});var m=null!=u?u[t]:n;return(r||un(t))&&Xt(m,a),i?{context:u,name:t,value:m}:m}},inputs:function(e,t){
return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var oo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new io(this.lexer),this.astCompiler=n.csp?new dn(this.ast,t):new ln(this.ast,t)};oo.prototype={constructor:oo,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var ao=(ge(),ge(),Object.prototype.valueOf),so=r("$sce"),co={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Oi=r("$compile"),lo=t.createElement("a"),uo=Tn(e.location.href);_n.$inject=["$document"],Hn.$inject=["$provide"],Ln.$inject=["$locale"],Fn.$inject=["$locale"];var mo=".",fo={yyyy:Bn("FullYear",4),yy:Bn("FullYear",2,0,!0),y:Bn("FullYear",1),MMMM:Un("Month"),MMM:Un("Month",!0),MM:Bn("Month",2,1),M:Bn("Month",1,1),dd:Bn("Date",2),d:Bn("Date",1),HH:Bn("Hours",2),H:Bn("Hours",1),hh:Bn("Hours",2,-12),h:Bn("Hours",1,-12),mm:Bn("Minutes",2),m:Bn("Minutes",1),ss:Bn("Seconds",2),s:Bn("Seconds",1),sss:Bn("Milliseconds",3),EEEE:Un("Day"),EEE:Un("Day",!0),a:Kn,Z:qn,ww:Yn(2),w:Yn(1),G:Gn,GG:Gn,GGG:Gn,GGGG:Xn},po=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ho=/^\-?\d+$/;Zn.$inject=["$locale"];var go=v(Cr),vo=v(xr);er.$inject=["$parse"];var $o=v({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Ir.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),bo={};o($i,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=ut("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),bo[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(Ei,function(e,t){bo[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(yr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=ut("ng-"+e);bo[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Ir.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(Tr&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var Eo={$addControl:h,$$renameControl:nr,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h},yo="ng-submitted";rr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Mo=function(e){return["$timeout","$parse",function(t,r){function i(e){return""===e?r('this[""]').assign:r(e).assign||h}var o={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:rr,compile:function(r,o){r.addClass(na).addClass(ea);var a=o.name?"name":e&&o.ngForm?"ngForm":!1;return{pre:function(e,r,o,s){var c=s[0];if(!("action"in o)){var l=function(t){e.$apply(function(){c.$commitViewValue(),c.$setSubmitted()}),t.preventDefault()};oi(r[0],"submit",l),r.on("$destroy",function(){t(function(){ai(r[0],"submit",l)},0,!1)})}var d=s[1]||c.$$parentForm;d.$addControl(c);var m=a?i(c.$name):h;a&&(m(e,c),o.$observe(a,function(t){c.$name!==t&&(m(e,n),c.$$parentForm.$$renameControl(c,t),(m=i(c.$name))(e,c))})),r.on("$destroy",function(){c.$$parentForm.$removeControl(c),m(e,n),u(c,Eo)})}}}};return o}]},Co=Mo(),wo=Mo(!0),xo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Ao=/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-/]*)?$/,ko=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,To=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,So=/^(\d{4})-(\d{2})-(\d{2})$/,No=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,_o=/^(\d{4})-W(\d\d)$/,Do=/^(\d{4})-(\d\d)$/,Ho=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Oo={text:or,date:lr("date",So,cr(So,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":lr("datetimelocal",No,cr(No,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:lr("time",Ho,cr(Ho,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:lr("week",_o,sr,"yyyy-Www"),month:lr("month",Do,cr(Do,["yyyy","MM"]),"yyyy-MM"),number:ur,url:mr,email:fr,radio:pr,checkbox:gr,hidden:h,button:h,submit:h,reset:h,file:h},Io=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Oo[Cr(a.type)]||Oo.text)(i,o,a,s[0],t,e,n,r)}}}}],Ro=/^(true|false|\d+)$/,Po=function(){return{restrict:"A",priority:100,compile:function(e,t){return Ro.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Lo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=b(e)?"":e})}}}}],Fo=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=b(e)?"":e})}}}}],jo=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],Vo=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Bo=vr("",!0),Uo=vr("Odd",0),qo=vr("Even",1),zo=tr({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Wo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Yo={},Ko={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=ut("ng-"+e);Yo[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};Ko[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Go=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,c,l;n.$watch(i.ngIf,function(n){n?c||a(function(n,o){c=o,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=he(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],Xo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Lr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,c,l,d){var u,m,f,p=0,h=function(){m&&(m.remove(),m=null),u&&(u.$destroy(),u=null),f&&(n.leave(f).then(function(){m=null}),m=f,f=null)};r.$watch(o,function(o){var c=function(){!E(s)||s&&!r.$eval(s)||t()},m=++p;o?(e(o,!0).then(function(e){if(m===p){var t=r.$new();l.template=e;var s=d(t,function(e){h(),n.enter(e,null,i).then(c)});u=t,f=s,u.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){m===p&&(h(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(h(),l.template=null)})}}}}],Zo=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void e(Ae(o.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void e(r.contents())(n))}}}],Jo=tr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Qo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,c=s?Ur(a):a,l=function(e){if(!b(e)){var t=[];return e&&o(e.split(c),function(e){e&&t.push(s?Ur(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return Vr(e)?e.join(a):n}),i.$isEmpty=function(e){return!e||!e.length}}}},ea="ng-valid",ta="ng-invalid",na="ng-pristine",ra="ng-dirty",ia="ng-untouched",oa="ng-touched",aa="ng-pending",sa=r("ngModel"),ca=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,s,c,l,d,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=u(r.name||"",!1)(e),this.$$parentForm=Eo;var m,f=a(r.ngModel),p=f.assign,g=f,v=p,$=null,y=this;this.$$setOptions=function(e){if(y.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");g=function(e){var n=f(e);return A(n)&&(n=t(e)),n},v=function(e,t){A(f(e))?n(e,{$$$p:y.$modelValue}):p(e,y.$modelValue)}}else if(!f.assign)throw sa("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,J(i))},this.$render=h,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e};var M=0;$r({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){y.$dirty=!1,y.$pristine=!0,s.removeClass(i,ra),s.addClass(i,na)},this.$setDirty=function(){y.$dirty=!0,y.$pristine=!1,s.removeClass(i,na),s.addClass(i,ra),y.$$parentForm.$setDirty()},this.$setUntouched=function(){y.$touched=!1,y.$untouched=!0,s.setClass(i,ia,oa)},this.$setTouched=function(){y.$touched=!0,y.$untouched=!1,s.setClass(i,oa,ia)},this.$rollbackViewValue=function(){c.cancel($),y.$viewValue=y.$$lastCommittedViewValue,y.$render()},this.$validate=function(){if(!w(y.$modelValue)||!isNaN(y.$modelValue)){var e=y.$$lastCommittedViewValue,t=y.$$rawModelValue,r=y.$valid,i=y.$modelValue,o=y.$options&&y.$options.allowInvalid;y.$$runValidators(t,e,function(e){o||r===e||(y.$modelValue=e?t:n,y.$modelValue!==i&&y.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=y.$$parserName||"parse";return b(m)?(c(e,null),!0):(m||(o(y.$validators,function(e,t){c(t,null)}),o(y.$asyncValidators,function(e,t){c(t,null)})),c(e,m),m)}function a(){var n=!0;return o(y.$validators,function(r,i){var o=r(e,t);n=n&&o,c(i,o)}),n?!0:(o(y.$asyncValidators,function(e,t){c(t,null)}),!1)}function s(){var r=[],i=!0;o(y.$asyncValidators,function(o,a){var s=o(e,t);if(!O(s))throw sa("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);c(a,n),r.push(s.then(function(){c(a,!0)},function(e){i=!1,c(a,!1)}))}),r.length?d.all(r).then(function(){l(i)},h):l(!0)}function c(e,t){u===M&&y.$setValidity(e,t)}function l(e){u===M&&r(e)}M++;var u=M;return i()&&a()?void s():void l(!1)},this.$commitViewValue=function(){var e=y.$viewValue;c.cancel($),(y.$$lastCommittedViewValue!==e||""===e&&y.$$hasNativeValidators)&&(y.$$lastCommittedViewValue=e,y.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){y.$modelValue!==a&&y.$$writeModelToScope()}var r=y.$$lastCommittedViewValue,i=r;if(m=b(i)?n:!0)for(var o=0;o<y.$parsers.length;o++)if(i=y.$parsers[o](i),b(i)){m=!1;break}w(y.$modelValue)&&isNaN(y.$modelValue)&&(y.$modelValue=g(e));var a=y.$modelValue,s=y.$options&&y.$options.allowInvalid;y.$$rawModelValue=i,s&&(y.$modelValue=i,t()),y.$$runValidators(i,y.$$lastCommittedViewValue,function(e){s||(y.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){v(e,y.$modelValue),o(y.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){y.$viewValue=e,(!y.$options||y.$options.updateOnDefault)&&y.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=y.$options;i&&E(i.debounce)&&(n=i.debounce,w(n)?r=n:w(n[t])?r=n[t]:w(n["default"])&&(r=n["default"])),c.cancel($),r?$=c(function(){y.$commitViewValue()},r):l.$$phase?y.$commitViewValue():e.$apply(function(){y.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==y.$modelValue&&(y.$modelValue===y.$modelValue||t===t)){y.$modelValue=y.$$rawModelValue=t,m=n;for(var r=y.$formatters,i=r.length,o=t;i--;)o=r[i](o);y.$viewValue!==o&&(y.$viewValue=y.$$lastCommittedViewValue=o,y.$render(),y.$$runValidators(t,o,h))}return t})}],la=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ca,priority:1,compile:function(t){return t.addClass(na).addClass(ia).addClass(ea),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],da=/(\s+|^)default(\s+|$)/,ua=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=j(e.$eval(t.ngModelOptions)),E(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ur(this.$options.updateOn.replace(da,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ma=tr({terminal:!0,priority:1e3}),fa=r("ngOptions"),pa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ha=["$compile","$parse",function(e,n){function r(e,t,r){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!l&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(pa);if(!s)throw fa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,J(t));var c=s[5]||s[7],l=s[6],d=/ as /.test(s[0])&&s[1],u=s[9],m=n(s[2]?s[1]:c),f=d&&n(d),p=f||m,h=u&&n(u),g=u?function(e,t){return h(r,t)}:function(e){return Xe(e)},v=function(e,t){return g(e,C(e,t))},$=n(s[2]||s[1]),b=n(s[3]||""),E=n(s[4]||""),y=n(s[8]),M={},C=l?function(e,t){return M[l]=t,M[c]=e,M}:function(e){return M[c]=e,M};return{trackBy:u,getTrackByValue:v,getWatchables:n(y,function(e){var t=[];e=e||[];for(var n=a(e),i=n.length,o=0;i>o;o++){var c=e===n?o:n[o],l=(e[c],C(e[c],c)),d=g(e[c],l);if(t.push(d),s[2]||s[1]){var u=$(r,l);t.push(u)}if(s[4]){var m=E(r,l);t.push(m)}}return t}),getOptions:function(){for(var e=[],t={},n=y(r)||[],i=a(n),s=i.length,c=0;s>c;c++){var l=n===i?c:i[c],d=n[l],m=C(d,l),f=p(r,m),h=g(f,m),M=$(r,m),w=b(r,m),x=E(r,m),A=new o(h,f,M,w,x);e.push(A),t[h]=A}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return u?Lr.copy(e.viewValue):e.viewValue}}}}}function a(t,n,i,a){function l(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function d(e,t,n,r){var i;return t&&Cr(t.nodeName)===n?i=t:(i=r.cloneNode(!1),t?e.insertBefore(i,t):e.appendChild(i)),i}function u(e){for(var t;e;)t=e.nextSibling,Be(e),e=t}function m(e){var t=h&&h[0],n=M&&M[0];if(t||n)for(;e&&(e===t||e===n||e.nodeType===Qr||""===e.value);)e=e.nextSibling;return e}function f(){var e=C&&g.readValue();C=w.getOptions();var t={},r=n[0].firstChild;if(y&&n.prepend(h),r=m(r),C.items.forEach(function(e){var i,o,a;e.group?(i=t[e.group],i||(o=d(n[0],r,"optgroup",c),r=o.nextSibling,o.label=e.group,i=t[e.group]={groupElement:o,currentOptionElement:o.firstChild}),a=d(i.groupElement,i.currentOptionElement,"option",s),l(e,a),i.currentOptionElement=a.nextSibling):(a=d(n[0],r,"option",s),l(e,a),r=a.nextSibling)}),Object.keys(t).forEach(function(e){u(t[e].currentOptionElement)}),u(r),p.$render(),!p.$isEmpty(e)){var i=g.readValue();(w.trackBy?B(e,i):e===i)||(p.$setViewValue(i),p.$render())}}var p=a[1];if(p){for(var h,g=a[0],v=i.multiple,$=0,b=n.children(),E=b.length;E>$;$++)if(""===b[$].value){h=b.eq($);break}var y=!!h,M=Sr(s.cloneNode(!1));M.val("?");var C,w=r(i.ngOptions,n,t),x=function(){y||n.prepend(h),n.val(""),h.prop("selected",!0),h.attr("selected",!0)},A=function(){y||h.remove()},k=function(){n.prepend(M),n.val("?"),M.prop("selected",!0),M.attr("selected",!0)},T=function(){M.remove()};v?(p.$isEmpty=function(e){return!e||0===e.length},g.writeValue=function(e){C.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=C.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},g.readValue=function(){var e=n.val()||[],t=[];return o(e,function(e){var n=C.selectValueMap[e];n&&!n.disabled&&t.push(C.getViewValueFromOption(n))}),t},w.trackBy&&t.$watchCollection(function(){return Vr(p.$viewValue)?p.$viewValue.map(function(e){return w.getTrackByValue(e)}):void 0},function(){p.$render()})):(g.writeValue=function(e){var t=C.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(T(),A(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||y?(T(),x()):(A(),k())},g.readValue=function(){var e=C.selectValueMap[n.val()];return e&&!e.disabled?(A(),T(),C.getViewValueFromOption(e)):null},w.trackBy&&t.$watch(function(){return w.getTrackByValue(p.$viewValue)},function(){p.$render()})),y?(h.remove(),e(h)(t),h.removeClass("ng-scope")):h=Sr(s.cloneNode(!1)),f(),t.$watchCollection(w.getWatchables,f)}}var s=t.createElement("option"),c=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=h},post:a}}}],ga=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,c){function l(e){s.text(e||"")}var d,u=c.count,m=c.$attr.when&&s.attr(c.$attr.when),f=c.offset||0,p=a.$eval(m)||{},g={},v=t.startSymbol(),$=t.endSymbol(),E=v+u+"-"+f+$,y=Lr.noop;o(c,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+Cr(n[2]);p[r]=s.attr(c.$attr[t])}}),o(p,function(e,n){g[n]=t(e.replace(r,E))}),a.$watch(u,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in p||(r=e.pluralCat(r-f)),r!==d&&!(i&&w(d)&&isNaN(d))){y();var o=g[r];b(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+m),y=h,l()):y=a.$watch(o,l),d=r}})}}}],va=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",c=r("ngRepeat"),l=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},d=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,m){var f=m.ngRepeat,p=t.createComment(" end ngRepeat: "+f+" "),h=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=h[1],v=h[2],$=h[3],b=h[4];if(h=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!h)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var E=h[3]||h[1],y=h[2];if($&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test($)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test($)))throw c("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",$);var M,C,w,x,A={$id:Xe};return b?M=e(b):(w=function(e,t){return Xe(t)},x=function(e){return e}),function(e,t,r,m,h){M&&(C=function(t,n,r){return y&&(A[y]=t),A[E]=n,A.$index=r,M(e,A)});var g=ge();e.$watchCollection(v,function(r){var m,v,b,M,A,k,T,S,N,_,D,H,O=t[0],I=ge();if($&&(e[$]=r),i(r))N=r,S=C||w;else{S=C||x,N=[];for(var R in r)wr.call(r,R)&&"$"!==R.charAt(0)&&N.push(R)}for(M=N.length,D=new Array(M),m=0;M>m;m++)if(A=r===N?m:N[m],k=r[A],T=S(A,k,m),g[T])_=g[T],delete g[T],I[T]=_,D[m]=_;else{if(I[T])throw o(D,function(e){e&&e.scope&&(g[e.id]=e)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,T,k);D[m]={id:T,scope:n,clone:n},I[T]=!0}for(var P in g){if(_=g[P],H=he(_.clone),a.leave(H),H[0].parentNode)for(m=0,v=H.length;v>m;m++)H[m][s]=!0;_.scope.$destroy()}for(m=0;M>m;m++)if(A=r===N?m:N[m],k=r[A],_=D[m],_.scope){b=O;do b=b.nextSibling;while(b&&b[s]);d(_)!=b&&a.move(he(_.clone),null,Sr(O)),O=u(_),l(_.scope,m,E,k,y,A,M)}else h(function(e,t){_.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,a.enter(e,null,Sr(O)),O=n,_.clone=e,I[_.id]=_,l(_.scope,m,E,k,y,A,M)});g=I})}}}}],$a="ng-hide",ba="ng-hide-animate",Ea=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,$a,{tempClasses:ba})})}}}],ya=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,$a,{tempClasses:ba})})}}}],Ma=tr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ca=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,c=[],l=[],d=[],u=[],m=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=d.length;i>r;++r)e.cancel(d[r]);for(d.length=0,r=0,i=u.length;i>r;++r){var s=he(l[r].clone);u[r].$destroy();var f=d[r]=e.leave(s);f.then(m(d,r))}l.length=0,u.length=0,(c=a.cases["!"+n]||a.cases["?"])&&o(c,function(n){n.transclude(function(r,i){u.push(i);var o=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};l.push(a),e.enter(r,o.parent(),o)})})})}}}],wa=tr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),xa=tr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Aa=tr({restrict:"EAC",link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(t));o(function(e){t.empty(),t.append(e)})}}),ka=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ta={$setViewValue:h,$render:h},Sa=["$element","$scope","$attrs",function(e,r,i){var o=this,a=new Ze;o.ngModelCtrl=Ta,o.unknownOption=Sr(t.createElement("option")),o.renderUnknownOption=function(t){var n="? "+Xe(t)+" ?";o.unknownOption.val(n),e.prepend(o.unknownOption),e.val(n)},r.$on("$destroy",function(){o.renderUnknownOption=h}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),e.val()},o.writeValue=function(t){o.hasOption(t)?(o.removeUnknownOption(),e.val(t),""===t&&o.emptyOption.prop("selected",!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),e.val("")):o.renderUnknownOption(t)},o.addOption=function(e,t){fe(e,'"option value"'),""===e&&(o.emptyOption=t);var n=a.get(e)||0;a.put(e,n+1),o.ngModelCtrl.$render(),Er(t)},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(o.emptyOption=n)):a.put(e,t-1))},o.hasOption=function(e){return!!a.get(e)},o.registerOption=function(e,t,n,r,i){if(r){var a;n.$observe("value",function(e){E(a)&&o.removeOption(a),a=e,o.addOption(e,t)})}else i?e.$watch(i,function(e,r){n.$set("value",e),r!==e&&o.removeOption(r),o.addOption(e,t)}):o.addOption(n.value,t);t.on("$destroy",function(){o.removeOption(n.value),o.ngModelCtrl.$render()})}}],Na=function(){function e(e,t,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,i.$render=function(){a.writeValue(i.$viewValue)},t.on("change",function(){e.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Ze(e);o(t.find("option"),function(e){e.selected=E(n.get(e.value))})};var s,c=NaN;e.$watch(function(){c!==i.$viewValue||B(s,i.$viewValue)||(s=V(i.$viewValue),i.$render()),c=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}return{restrict:"E",require:["select","?ngModel"],controller:Sa,priority:1,link:{pre:e}}},_a=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(E(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],Da=v({restrict:"E",terminal:!1}),Ha=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Oa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(C(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,J(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||b(a)||a.test(t)}}}}},Ia=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=f(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Ra=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=f(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(de(),Ee(Lr),Lr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function r(e,r){var i=r;n===i&&(i=Math.min(t(e),3));var o=Math.pow(10,i),a=(e*o|0)%o;return{v:i,f:a}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(e,t){var n=0|e,o=r(e,t);return 1==n&&0==o.v?i.ONE:i.OTHER}})}]),void Sr(t).ready(function(){oe(t,ae)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t,n){"use strict";function r(e,t,n){if(!e)throw ngMinErr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(B(e)&&(e=e.join(" ")),B(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function o(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var r="";return e=B(e)?e:e&&U(e)&&e.length?e.split(/\s+/):[],V(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function s(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function c(e){if(e instanceof j)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===G)return e;break;default:return j(l(e))}return e.nodeType===G?j(e):void 0}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==G)return n}}function d(e,t,n){V(t,function(t){e.addClass(t,n)})}function u(e,t,n){V(t,function(t){e.removeClass(t,n)})}function m(e){return function(t,n){n.addClass&&(d(e,t,n.addClass),n.addClass=null),n.removeClass&&(u(e,t,n.removeClass),n.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||L;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=L},e.$$prepared=!0}return e}function p(e,t){h(e,t),g(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function v(e,t,n){var r=(t.addClass||"")+" "+(n.addClass||""),i=(t.removeClass||"")+" "+(n.removeClass||""),o=$(e.attr("class"),r,i);n.preparationClasses&&(t.preparationClasses=x(n.preparationClasses,t.preparationClasses),delete n.preparationClasses);var a=t.domOperation!==L?t.domOperation:null;return F(t,n),a&&(t.domOperation=a),o.addClass?t.addClass=o.addClass:t.addClass=null,o.removeClass?t.removeClass=o.removeClass:t.removeClass=null,t}function $(e,t,n){function r(e){U(e)&&(e=e.split(" "));var t={};return V(e,function(e){e.length&&(t[e]=!0)}),t}var i=1,o=-1,a={};e=r(e),t=r(t),V(t,function(e,t){a[t]=i}),n=r(n),V(n,function(e,t){a[t]=a[t]===i?null:o});var s={addClass:"",removeClass:""};return V(a,function(t,n){var r,a;t===i?(r="addClass",a=!e[n]):t===o&&(r="removeClass",a=e[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function b(e){return e instanceof t.element?e[0]:e}function E(e,t,n){var r="";t&&(r=a(t,J,!0)),n.addClass&&(r=x(r,a(n.addClass,X))),n.removeClass&&(r=x(r,a(n.removeClass,Z))),r.length&&(n.preparationClasses=r,e.addClass(r))}function y(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function M(e,t){var n=t?"-"+t+"s":"";return w(e,[me,n]),[me,n]}function C(e,t){var n=t?"paused":"",r=R+ce;return w(e,[r,n]),[r,n]}function w(e,t){var n=t[0],r=t[1];e.style[n]=r}function x(e,t){return e?t?e+" "+t:e:t}function A(e){return[ue,e+"s"]}function k(e,t){var n=t?de:me;return[n,e+"s"]}function T(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return V(n,function(e,t){var n=i[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=S(n)),0===n&&(n=null),r[t]=n}}),r}function S(e){var t=0,n=e.split(/\s*,\s*/);return V(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function N(e){return 0===e||null!=e}function _(e,t){var n=O,r=e+"s";return t?n+=re:r+=" linear all",[n,r]}function D(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function H(e,t,n){V(n,function(n){e[n]=W(e[n])?e[n]:t.style.getPropertyValue(n);
})}var O,I,R,P,L=t.noop,F=t.extend,j=t.element,V=t.forEach,B=t.isArray,U=t.isString,q=t.isObject,z=t.isUndefined,W=t.isDefined,Y=t.isFunction,K=t.isElement,G=1,X="-add",Z="-remove",J="ng-",Q="-active",ee="ng-animate",te="$$ngAnimateChildren",ne="";z(e.ontransitionend)&&W(e.onwebkittransitionend)?(ne="-webkit-",O="WebkitTransition",I="webkitTransitionEnd transitionend"):(O="transition",I="transitionend"),z(e.onanimationend)&&W(e.onwebkitanimationend)?(ne="-webkit-",R="WebkitAnimation",P="webkitAnimationEnd animationend"):(R="animation",P="animationend");var re="Duration",ie="Property",oe="Delay",ae="TimingFunction",se="IterationCount",ce="PlayState",le=9999,de=R+oe,ue=R+re,me=O+oe,fe=O+re,pe=["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),o=0;o<t.length;o++)t[o]();i||e(function(){i||n()})}}var r,i;return r=t.queue=[],t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),n()})},t}],he=[function(){return function(e,n,r){var i=r.ngAnimateChildren;t.isString(i)&&0===i.length?n.data(te,!0):r.$observe("ngAnimateChildren",function(e){e="on"===e||"true"===e,n.data(te,e)})}}],ge="$$animateCss",ve=1e3,$e=3,be=1.5,Ee={transitionDuration:fe,transitionDelay:me,transitionProperty:O+ie,animationDuration:ue,animationDelay:de,animationIterationCount:R+se},ye={transitionDuration:fe,transitionDelay:me,animationDuration:ue,animationDelay:de},Me=["$animateProvider",function(e){var t=D(),n=D();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$animate",function(e,r,i,c,l,d,u,v){function $(e,t){var n="$$ngAnimateParentKey",r=e.parentNode,i=r[n]||(r[n]=++F);return i+"-"+e.getAttribute("class")+"-"+t}function E(n,r,i,o){var a=t.get(i);return a||(a=T(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(i,a),a}function y(i,o,s,c){var l;if(t.count(s)>0&&(l=n.get(s),!l)){var d=a(o,"-stagger");r.addClass(i,d),l=T(e,i,c),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),r.removeClass(i,d),n.put(s,l)}return l||{}}function x(e){j.push(e),u.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=l(),r=0;r<j.length;r++)j[r](e);j.length=0})}function S(e,t,n){var r=E(e,t,n,Ee),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var D=m(r),F=0,j=[];return function(e,n){function l(){m()}function u(){m(!0)}function m(t){q||W&&z||(q=!0,z=!1,n.$$skipPreparationClasses||r.removeClass(e,fe),r.removeClass(e,he),C(U,!1),M(U,!1),V(re,function(e){U.style[e[0]]=""}),D(e,n),p(e,n),Object.keys(j).length&&V(j,function(e,t){e?U.style.setProperty(t,e):U.style.removeProperty(t)}),n.onDone&&n.onDone(),Y&&Y.complete(!t))}function E(e){Oe.blockTransition&&M(U,e),Oe.blockKeyframeAnimation&&C(U,!!e)}function T(){return Y=new i({end:l,cancel:u}),x(L),m(),{$$willAnimate:!1,start:function(){return Y},end:l}}function F(){function t(){if(!q){if(E(!1),V(re,function(e){var t=e[0],n=e[1];U.style[t]=n}),D(e,n),r.addClass(e,he),Oe.recalculateTimingStyles){if(pe=U.className+" "+fe,Ce=$(U,pe),De=S(U,pe,Ce),He=De.maxDelay,G=Math.max(He,0),te=De.maxDuration,0===te)return void m();Oe.hasTransitions=De.transitionDuration>0,Oe.hasAnimations=De.animationDuration>0}if(Oe.applyAnimationDelay&&(He="boolean"!=typeof n.delay&&N(n.delay)?parseFloat(n.delay):He,G=Math.max(He,0),De.animationDelay=He,Ie=k(He,!0),re.push(Ie),U.style[Ie[0]]=Ie[1]),ee=G*ve,ne=te*ve,n.easing){var t,s=n.easing;Oe.hasTransitions&&(t=O+ae,re.push([t,s]),U.style[t]=s),Oe.hasAnimations&&(t=R+ae,re.push([t,s]),U.style[t]=s)}De.transitionDuration&&l.push(I),De.animationDuration&&l.push(P),a=Date.now();var d=ee+be*ne,u=a+d,f=e.data(ge)||[],p=!0;if(f.length){var h=f[0];p=u>h.expectedEndTime,p?c.cancel(h.timer):f.push(m)}if(p){var v=c(i,d,!1);f[0]={timer:v,expectedEndTime:u},f.push(m),e.data(ge,f)}e.on(l.join(" "),o),n.to&&(n.cleanupStyles&&H(j,U,Object.keys(n.to)),g(e,n))}}function i(){var t=e.data(ge);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(ge)}}function o(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed($e));Math.max(n-a,0)>=ee&&r>=te&&(W=!0,m())}if(!q){if(!U.parentNode)return void m();var a,l=[],d=function(e){if(W)z&&e&&(z=!1,m());else if(z=!e,De.animationDuration){var t=C(U,z);z?re.push(t):s(re,t)}},u=Ne>0&&(De.transitionDuration&&0===we.transitionDuration||De.animationDuration&&0===we.animationDuration)&&Math.max(we.animationDelay,we.transitionDelay);u?c(t,Math.floor(u*Ne*ve),!1):t(),K.resume=function(){d(!0)},K.pause=function(){d(!1)}}}var j={},U=b(e);if(!U||!U.parentNode||!v.enabled())return T();n=f(n);var q,z,W,Y,K,G,ee,te,ne,re=[],oe=e.attr("class"),se=o(n);if(0===n.duration||!d.animations&&!d.transitions)return T();var ce=n.event&&B(n.event)?n.event.join(" "):n.event,de=ce&&n.structural,ue="",me="";de?ue=a(ce,J,!0):ce&&(ue=ce),n.addClass&&(me+=a(n.addClass,X)),n.removeClass&&(me.length&&(me+=" "),me+=a(n.removeClass,Z)),n.applyClassesEarly&&me.length&&D(e,n);var fe=[ue,me].join(" ").trim(),pe=oe+" "+fe,he=a(fe,Q),Ee=se.to&&Object.keys(se.to).length>0,Me=(n.keyframeStyle||"").length>0;if(!Me&&!Ee&&!fe)return T();var Ce,we;if(n.stagger>0){var xe=parseFloat(n.stagger);we={transitionDelay:xe,animationDelay:xe,transitionDuration:0,animationDuration:0}}else Ce=$(U,pe),we=y(U,fe,Ce,ye);n.$$skipPreparationClasses||r.addClass(e,fe);var Ae;if(n.transitionStyle){var ke=[O,n.transitionStyle];w(U,ke),re.push(ke)}if(n.duration>=0){Ae=U.style[O].length>0;var Te=_(n.duration,Ae);w(U,Te),re.push(Te)}if(n.keyframeStyle){var Se=[R,n.keyframeStyle];w(U,Se),re.push(Se)}var Ne=we?n.staggerIndex>=0?n.staggerIndex:t.count(Ce):0,_e=0===Ne;_e&&!n.skipBlocking&&M(U,le);var De=S(U,pe,Ce),He=De.maxDelay;G=Math.max(He,0),te=De.maxDuration;var Oe={};if(Oe.hasTransitions=De.transitionDuration>0,Oe.hasAnimations=De.animationDuration>0,Oe.hasTransitionAll=Oe.hasTransitions&&"all"==De.transitionProperty,Oe.applyTransitionDuration=Ee&&(Oe.hasTransitions&&!Oe.hasTransitionAll||Oe.hasAnimations&&!Oe.hasTransitions),Oe.applyAnimationDuration=n.duration&&Oe.hasAnimations,Oe.applyTransitionDelay=N(n.delay)&&(Oe.applyTransitionDuration||Oe.hasTransitions),Oe.applyAnimationDelay=N(n.delay)&&Oe.hasAnimations,Oe.recalculateTimingStyles=me.length>0,(Oe.applyTransitionDuration||Oe.applyAnimationDuration)&&(te=n.duration?parseFloat(n.duration):te,Oe.applyTransitionDuration&&(Oe.hasTransitions=!0,De.transitionDuration=te,Ae=U.style[O+ie].length>0,re.push(_(te,Ae))),Oe.applyAnimationDuration&&(Oe.hasAnimations=!0,De.animationDuration=te,re.push(A(te)))),0===te&&!Oe.recalculateTimingStyles)return T();if(null!=n.delay){var Ie=parseFloat(n.delay);Oe.applyTransitionDelay&&re.push(k(Ie)),Oe.applyAnimationDelay&&re.push(k(Ie,!0))}return null==n.duration&&De.transitionDuration>0&&(Oe.recalculateTimingStyles=Oe.recalculateTimingStyles||_e),ee=G*ve,ne=te*ve,n.skipBlocking||(Oe.blockTransition=De.transitionDuration>0,Oe.blockKeyframeAnimation=De.animationDuration>0&&we.animationDelay>0&&0===we.animationDuration),n.from&&(n.cleanupStyles&&H(j,U,Object.keys(n.from)),h(e,n)),Oe.blockTransition||Oe.blockKeyframeAnimation?E(te):n.skipBlocking||M(U,!1),{$$willAnimate:!0,end:l,start:function(){return q?void 0:(K={end:l,cancel:u,resume:null,pause:null},Y=new i(K),x(F),Y)}}}}]}],Ce=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor",i="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,a,s,c,l,d,u){function f(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return U(e)&&(e=e.split(" ")),U(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function h(t,a,c){function l(e){var t={},n=b(e).getBoundingClientRect();return V(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=$.scrollTop;break;case"left":r+=$.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function d(){var t=e(g,{addClass:i,delay:!0,from:l(a)});return t.$$willAnimate?t:null}function u(e){return e.attr("class")||""}function m(){var t=f(u(c)),n=p(t,v),r=p(v,t),a=e(g,{to:l(c),addClass:o+" "+n,removeClass:i+" "+r,delay:!0});return a.$$willAnimate?a:null}function h(){g.remove(),a.removeClass(n),c.removeClass(n)}var g=j(b(a).cloneNode(!0)),v=f(u(g));a.addClass(n),c.addClass(n),g.addClass(r),y.append(g);var E,M=d();if(!M&&(E=m(),!E))return h();var C=M||E;return{start:function(){function e(){n&&n.end()}var t,n=C.start();return n.done(function(){return n=null,!E&&(E=m())?(n=E.start(),n.done(function(){n=null,h(),t.complete()}),n):(h(),void t.complete())}),t=new s({end:e,cancel:e})}}}function g(e,t,n,r){var i=v(e,L),o=v(t,L),a=[];return V(r,function(e){var t=e.out,r=e["in"],i=h(n,t,r);i&&a.push(i)}),i||o||0!==a.length?{start:function(){function e(){V(t,function(e){e.end()})}var t=[];i&&t.push(i.start()),o&&t.push(o.start()),V(a,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}:void 0}function v(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=x(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}if(!l.animations&&!l.transitions)return L;var $=u[0].body,E=b(c),y=j(t(E)||$.contains(E)?E:$);m(d);return function(e){return e.from&&e.to?g(e.from,e.to,e.classes,e.anchors):v(e)}}]}],we=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function i(n){n=B(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}var o=m(r);return function(e,t,r,a){function s(){a.domOperation(),o(e,a)}function c(e,t,r,i,o){var a;switch(r){case"animate":a=[t,i.from,i.to,o];break;case"setClass":a=[t,h,g,o];break;case"addClass":a=[t,h,o];break;case"removeClass":a=[t,g,o];break;default:a=[t,o]}a.push(i);var s=e.apply(e,a);if(s)if(Y(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Y(s))return s;return L}function l(e,t,r,i,o){var a=[];return V(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,l=function(e){a||(a=!0,(o||L)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=c(s,e,t,r,function(e){var t=e===!1;l(t)}),i})}),a}function d(e,t,r,i,o){var a=l(e,t,r,i,o);if(0===a.length){var s,c;"beforeSetClass"===o?(s=l(e,"removeClass",r,i,"beforeRemoveClass"),c=l(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=l(e,"removeClass",r,i,"removeClass"),c=l(e,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),c&&(a=a.concat(c))}if(0!==a.length)return function(e){var t=[];return a.length&&V(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){V(t,function(t){e?t.cancel():t.end()})}}}3===arguments.length&&q(r)&&(a=r,r=null),a=f(a),r||(r=e.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var u,m,h=a.addClass,g=a.removeClass,v=i(r);if(v.length){var $,b;"leave"==t?(b="leave",$="afterLeave"):(b="before"+t.charAt(0).toUpperCase()+t.substr(1),$=t),"enter"!==t&&"move"!==t&&(u=d(e,t,a,v,b)),m=d(e,t,a,v,$)}return u||m?{start:function(){function t(t){c=!0,s(),p(e,a),l.complete(t)}function r(e){c||((i||L)(e),t(e))}var i,o=[];u&&o.push(function(e){i=u(e)}),o.length?o.push(function(e){s(),e(!0)}):s(),m&&o.push(function(e){i=m(e)});var c=!1,l=new n({end:function(){r()},cancel:function(){r(!0)}});return n.chain(o,t),l}}:void 0}}]}],xe=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){function e(){return function(){V(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],Ae="data-ng-animate",ke="$ngAnimatePin",Te=["$animateProvider",function(e){function t(e,t,n,r){return a[e].some(function(e){return e(t,n,r)})}function n(e,t){e=e||{};var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var i=1,o=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(e,t,r){return!t.structural&&n(t.options)}),a.skip.push(function(e,t,r){return!t.structural&&!n(t.options)}),a.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),a.skip.push(function(e,t,n){return n.structural&&n.state===o&&!t.structural}),a.cancel.push(function(e,t,n){return n.structural&&t.structural}),a.cancel.push(function(e,t,n){return n.state===o&&t.structural}),a.cancel.push(function(e,t,n){var r=t.options,i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(a,s,d,u,h,g,$,M,C,w){function x(){var e=!1;return function(t){e?t():s.$$postDigest(function(){e=!0,t()})}}function A(e,t){return v(e,t,{})}function k(e,t,n){var r=b(t),i=b(e),o=[],a=L[n];return a&&V(a,function(e){e.node.contains(r)?o.push(e.callback):"leave"===n&&e.node.contains(i)&&o.push(e.callback)}),o}function T(e,r,l){function d(t,n,r,i){C(function(){var t=k(h,e,n);t.length&&a(function(){V(t,function(t){t(e,r,i)})})}),t.progress(n,r,i)}function u(t){y(e,l),Z(e,l),p(e,l),l.domOperation(),M.complete(!t)}var m,h;e=c(e),e&&(m=b(e),h=e.parent()),l=f(l);var M=new $,C=x();if(B(l.addClass)&&(l.addClass=l.addClass.join(" ")),l.addClass&&!U(l.addClass)&&(l.addClass=null),B(l.removeClass)&&(l.removeClass=l.removeClass.join(" ")),l.removeClass&&!U(l.removeClass)&&(l.removeClass=null),l.from&&!q(l.from)&&(l.from=null),l.to&&!q(l.to)&&(l.to=null),!m)return u(),M;var w=[m.className,l.addClass,l.removeClass].join(" ");if(!X(w))return u(),M;var T=["enter","move","leave"].indexOf(r)>=0,_=!R||I.get(m),P=!_&&O.get(m)||{},L=!!P.state;if(_||L&&P.state==i||(_=!D(e,h,r)),_)return u(),M;T&&S(e);var F={structural:T,element:e,event:r,close:u,options:l,runner:M};if(L){var j=t("skip",e,F,P);if(j)return P.state===o?(u(),M):(v(e,P.options,l),P.runner);var z=t("cancel",e,F,P);if(z)if(P.state===o)P.runner.end();else{if(!P.structural)return v(e,P.options,F.options),P.runner;P.close()}else{var W=t("join",e,F,P);if(W){if(P.state!==o)return E(e,T?r:null,l),r=F.event=P.event,l=v(e,P.options,F.options),P.runner;A(e,l)}}}else A(e,l);var Y=F.structural;if(Y||(Y="animate"===F.event&&Object.keys(F.options.to||{}).length>0||n(F.options)),!Y)return u(),N(e),M;var K=(P.counter||0)+1;return F.counter=K,H(e,i,F),s.$$postDigest(function(){var t=O.get(m),i=!t;t=t||{};var a=e.parent()||[],s=a.length>0&&("animate"===t.event||t.structural||n(t.options));if(i||t.counter!==K||!s)return i&&(Z(e,l),p(e,l)),(i||T&&t.event!==r)&&(l.domOperation(),M.end()),void(s||N(e));r=!t.structural&&n(t.options,!0)?"setClass":t.event,H(e,o);var c=g(e,r,t.options);c.done(function(t){u(!t);var n=O.get(m);n&&n.counter===K&&N(b(e)),d(M,r,"close",{})}),M.setHost(c),d(M,r,"start",{})}),M}function S(e){var t=b(e),n=t.querySelectorAll("["+Ae+"]");V(n,function(e){var t=parseInt(e.getAttribute(Ae)),n=O.get(e);switch(t){case o:n.runner.end();case i:n&&O.remove(e)}})}function N(e){var t=b(e);t.removeAttribute(Ae),O.remove(t)}function _(e,t){return b(e)===b(t)}function D(e,t,n){var r,i=j(u[0].body),o=_(e,i)||"HTML"===e[0].nodeName,a=_(e,d),s=!1,c=e.data(ke);for(c&&(t=c);t&&t.length;){a||(a=_(t,d));var l=t[0];if(l.nodeType!==G)break;var m=O.get(l)||{};if(s||(s=m.structural||I.get(l)),z(r)||r===!0){var f=t.data(te);W(f)&&(r=f)}if(s&&r===!1)break;a||(a=_(t,d),a||(c=t.data(ke),c&&(t=c))),o||(o=_(t,i)),t=t.parent()}var p=!s||r;return p&&a&&o}function H(e,t,n){n=n||{},n.state=t;var r=b(e);r.setAttribute(Ae,t);var i=O.get(r),o=i?F(i,n):n;O.put(r,o)}var O=new h,I=new h,R=null,P=s.$watch(function(){return 0===M.totalPendingRequests},function(e){e&&(P(),s.$$postDigest(function(){s.$$postDigest(function(){null===R&&(R=!0)})}))}),L={},Y=e.classNameFilter(),X=Y?function(e){return Y.test(e)}:function(){return!0},Z=m(C);return{on:function(e,t,n){var r=l(t);L[e]=L[e]||[],L[e].push({node:r,callback:n})},off:function(e,t,n){function r(e,t,n){var r=l(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}var i=L[e];i&&(L[e]=1===arguments.length?null:r(i,t,n))},pin:function(e,t){r(K(e),"element","not an element"),r(K(t),"parentElement","not an element"),e.data(ke,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,T(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!R;else{var r=K(e);if(r){var i=b(e),o=I.get(i);1===n?t=!o:(t=!!t,t?o&&I.remove(i):I.put(i,!0))}else t=R=!!e}return t}}}]}],Se=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}],Ne=["$q","$sniffer","$$animateAsyncRun",function(e,t,n){function r(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}var i=0,o=1,a=2;return r.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},r.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;V(e,function(e){e.done(n)})},r.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===a?e():this._doneCallbacks.push(e)},progress:L,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===i&&(t._state=o,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==a&&(V(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=a)}},r}],_e=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function r(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,s,c,l,d,u){function h(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,r=n.parentNode;o.put(n,e);for(var a;r;){if(a=o.get(r)){a.processed||(a=t(a));break}r=r.parentNode}return(a||i).children.push(e),e}function n(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,o=0,a=[];for(t=0;t<r.length;t++){var s=r[t];0>=i&&(i=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,r.push(e)}),i--}return a.length&&n.push(a),n}var r,i={children:[]},o=new d;for(r=0;r<e.length;r++){var a=e[r];o.put(a.domNode,e[r]={domNode:a.domNode,fn:a.fn,children:[]})}for(r=0;r<e.length;r++)t(e[r]);return n(i)}var g=[],v=m(e);return function(d,m,$){function E(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),r=[];return V(n,function(e){var t=e.getAttribute(o);t&&t.length&&r.push(e)}),r}function y(e){var t=[],n={};V(e,function(e,r){var i=e.element,a=b(i),s=e.event,c=["enter","move"].indexOf(s)>=0,l=e.structural?E(a):[];if(l.length){var d=c?"to":"from";V(l,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][d]={animationID:r,element:j(e)}})}else t.push(e)});var r={},i={};return V(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var c=a?a.animationID:s.animationID,l=c.toString();return void(r[l]||(r[l]=!0,t.push(e[c])))}var d=e[a.animationID],u=e[s.animationID],m=a.animationID.toString();if(!i[m]){var f=i[m]={structural:!0,beforeStart:function(){d.beforeStart(),u.beforeStart()},close:function(){d.close(),u.close()},classes:M(d.classes,u.classes),from:d,to:u,anchors:[]};f.classes.length?t.push(f):(t.push(d),t.push(u))}i[m].anchors.push({out:a.element,"in":s.element})}),t}function M(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function C(e){for(var t=a.length-1;t>=0;t--){var n=a[t];if(c.has(n)){var r=c.get(n),i=r(e);if(i)return i}}}function w(){d.addClass(ee),_&&e.addClass(d,_)}function x(e,t){function n(e){r(e).setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function A(){var e=r(d);!e||"leave"===m&&$.$$domOperationFired||e.end()}function k(t){d.off("$destroy",A),n(d),v(d,$),p(d,$),$.domOperation(),_&&e.removeClass(d,_),d.removeClass(ee),S.complete(!t)}$=f($);var T=["enter","move","leave"].indexOf(m)>=0,S=new l({end:function(){k()},cancel:function(){k(!0)}});if(!a.length)return k(),S;t(d,S);var N=i(d.attr("class"),i($.addClass,$.removeClass)),_=$.tempClasses;return _&&(N+=" "+_,$.tempClasses=null),g.push({element:d,classes:N,event:m,structural:T,options:$,beforeStart:w,close:k}),d.on("$destroy",A),g.length>1?S:(s.$$postDigest(function(){var e=[];V(g,function(t){r(t.element)?e.push(t):t.close()}),g.length=0;var t=y(e),n=[];V(t,function(e){n.push({domNode:b(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,i=e.anchors?e.from.element||e.to.element:e.element;if(r(i)){var o=C(e);o&&(t=o.start)}if(t){var a=t();a.done(function(e){n(!e)}),x(e,a)}else n()}})}),u(h(n))}),S)}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",he).factory("$$rAFScheduler",pe).factory("$$AnimateRunner",Ne).factory("$$animateAsyncRun",Se).provider("$$animateQueue",Te).provider("$$animation",_e).provider("$animateCss",Me).provider("$$animateCssDriver",Ce).provider("$$animateJs",we).provider("$$animateJsDriver",xe)}(window,window.angular),function(e,t,n){"use strict";function r(){function e(e,t,r,i){return function(o,s,c){var l=c.$normalize(t);!n[l]||a(s,r)||c[l]||o.$watch(c[e],function(e){e=i?!e:!!e,s.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}var i=t.module("ngAria",["ng"]).provider("$aria",r),o=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],a=function(e,t){return-1!==t.indexOf(e[0].nodeName)?!0:void 0};i.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,r){return e.config(n)&&!r.attr(t)}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&"INPUT"!==t[0].nodeName}function r(e,t){var n=e.type,r=e.role;return"checkbox"===(n||r)||"menuitemcheckbox"===r?"checkbox":"radio"===(n||r)||"menuitemradio"===r?"radio":"range"===n||"progressbar"===r||"slider"===r?"range":"textbox"===(n||r)||"TEXTAREA"===t[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(i,s){var c=r(s,i);return{pre:function(e,t,n,r){"checkbox"===c&&"checkbox"!==n.type&&(r.$isEmpty=function(e){return e===!1})},post:function(r,i,s,l){function d(){return l.$modelValue}function u(){return f?(f=!1,function(e){var t=s.value==l.$viewValue;i.attr("aria-checked",t),i.attr("tabindex",0-!t)}):function(e){i.attr("aria-checked",s.value==l.$viewValue)}}function m(){i.attr("aria-checked",!l.$isEmpty(l.$viewValue))}var f=t("tabindex","tabindex",i)&&!a(i,o);switch(c){case"radio":case"checkbox":n(c,i)&&i.attr("role",c),t("aria-checked","ariaChecked",i)&&r.$watch(d,"radio"===c?u():m),f&&i.attr("tabindex",0);break;case"range":if(n(c,i)&&i.attr("role","slider"),e.config("ariaValue")){var p=!i.attr("aria-valuemin")&&(s.hasOwnProperty("min")||s.hasOwnProperty("ngMin")),h=!i.attr("aria-valuemax")&&(s.hasOwnProperty("max")||s.hasOwnProperty("ngMax")),g=!i.attr("aria-valuenow");p&&s.$observe("min",function(e){i.attr("aria-valuemin",e)}),h&&s.$observe("max",function(e){i.attr("aria-valuemax",e)}),g&&r.$watch(d,function(e){i.attr("aria-valuenow",e)})}f&&i.attr("tabindex",0);break;case"multiline":t("aria-multiline","ariaMultiline",i)&&i.attr("aria-multiline",!0)}l.$validators.required&&t("aria-required","ariaRequired",i)&&r.$watch(function(){return l.$error.required},function(e){i.attr("aria-required",!!e)}),t("aria-invalid","ariaInvalid",i)&&r.$watch(function(){return l.$invalid},function(e){i.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",[])}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,r){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,r){var i=t(r.ngClick,null,!0);return function(t,n,r){a(n,o)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),e.config("bindKeypress")&&!r.ngKeypress&&n.on("keypress",function(e){function n(){i(t,{$event:e})}var r=e.which||e.keyCode;(32===r||13===r)&&t.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,r){!e.config("tabindex")||n.attr("tabindex")||a(n,o)||n.attr("tabindex",0)}}])}(window,window.angular),function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.layout","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.bottomSheet","material.components.backdrop","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.fabTrigger","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function e(e,t){if(t.has("$swipe")){var n="You are using the ngTouch module. \nAngular Material already has mobile click, tap, and swipe support... \nngTouch is not supported with Angular Material!";e.warn(n)}}function n(e,t){e.decorator("$$rAF",["$delegate",r]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function r(e){return e.throttle=function(t){var n,r,i,o;return function(){n=arguments,o=this,i=t,r||(r=!0,e(function(){i.apply(o,Array.prototype.slice.call(n)),r=!1}))}},e}t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.gestures","material.core.theming"]).config(n).run(e),e.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"]}(),function(){function e(e){function t(e){return n?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}var n=/webkit/i.test(e.vendorPrefix);return{KEY_CODE:{COMMA:188,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(n?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(n?" webkitAnimationEnd":""),TRANSFORM:t("transform"),TRANSFORM_ORIGIN:t("transformOrigin"),TRANSITION:t("transition"),TRANSITION_DURATION:t("transitionDuration"),ANIMATION_PLAY_STATE:t("animationPlayState"),ANIMATION_DURATION:t("animationDuration"),ANIMATION_NAME:t("animationName"),ANIMATION_TIMING:t("animationTimingFunction"),ANIMATION_DIRECTION:t("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs"]}}t.module("material.core").factory("$mdConstant",e),e.$inject=["$sniffer"]}(),function(){function e(e,n){function r(){return[].concat($)}function i(){return $.length}function o(e){return $.length&&e>-1&&e<$.length}function a(e){return e?o(m(e)+1):!1}function s(e){return e?o(m(e)-1):!1}function c(e){return o(e)?$[e]:null}function l(e,t){return $.filter(function(n){return n[e]===t})}function d(e,n){return e?(t.isNumber(n)||(n=$.length),$.splice(n,0,e),m(e)):-1}function u(e){f(e)&&$.splice(m(e),1)}function m(e){return $.indexOf(e)}function f(e){return e&&m(e)>-1}function p(){return $.length?$[0]:null}function h(){return $.length?$[$.length-1]:null}function g(e,r,i,a){i=i||v;for(var s=m(r);;){if(!o(s))return null;var c=s+(e?-1:1),l=null;if(o(c)?l=$[c]:n&&(l=e?h():p(),c=m(l)),null===l||c===a)return null;if(i(l))return l;t.isUndefined(a)&&(a=c),s=c}}var v=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var $=e||[];return{items:r,count:i,inRange:o,contains:f,indexOf:m,itemAt:c,findBy:l,add:d,remove:u,first:p,last:h,next:t.bind(null,g,!1),previous:t.bind(null,g,!0),hasPrevious:s,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,r){function i(e){var n=m[e];t.isUndefined(n)&&(n=m[e]=o(e));var r=p[n];return t.isUndefined(r)&&(r=a(n)),r}function o(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=f[e];return t||(t=f[e]=r.matchMedia(e)),t.addListener(s),p[t.media]=!!t.matches}function s(e){n.$evalAsync(function(){p[e.media]=!!e.matches})}function c(e){return f[e]}function l(t,n){for(var r=0;r<e.MEDIA_PRIORITY.length;r++){var i=e.MEDIA_PRIORITY[r];if(f[m[i]].matches){var o=u(t,n+"-"+i);if(t[o])return t[o]}}return t[u(t,n)]}function d(n,r,i){var o=[];return n.forEach(function(n){var a=u(r,n);t.isDefined(r[a])&&o.push(r.$observe(a,t.bind(void 0,i,null)));for(var s in e.MEDIA)a=u(r,n+"-"+s),t.isDefined(r[a])&&o.push(r.$observe(a,t.bind(void 0,i,s)))}),function(){o.forEach(function(e){e()})}}function u(e,t){return h[t]||(h[t]=e.$normalize(t))}var m={},f={},p={},h={};return i.getResponsiveAttribute=l,i.getQuery=c,i.watchResponsiveAttributes=d,i}t.module("material.core").factory("$mdMedia",e),e.$inject=["$mdConstant","$rootScope","$window"]}(),function(){function r(r,o,a,s,c,l,d,u,m){function f(e){return e[0]||e}var p=l.startSymbol(),h=l.endSymbol(),g="{{"===p&&"}}"===h,v=function(e,n,r){var i=!1;if(e&&e.length){var o=m.getComputedStyle(e[0]);i=t.isDefined(o[n])&&(r?o[n]==r:!0);
}return i},$={dom:{},now:e.performance?t.bind(e.performance,e.performance.now):Date.now||function(){return(new Date).getTime()},clientRect:function(e,t,n){var r=f(e);t=f(t||r.offsetParent||document.body);var i=r.getBoundingClientRect(),o=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:i.left-o.left,top:i.top-o.top,width:i.width,height:i.height}},offsetRect:function(e,t){return $.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},scrollTop:function(e){e=t.element(e||r[0].body);var i=e[0]==r[0].body?r[0].body:n,o=i?i.scrollTop+i.parentElement.scrollTop:0;return o||Math.abs(e[0].getBoundingClientRect().top)},findFocusTarget:function(e,n){function r(e,n){var r,i=e[0].querySelectorAll(n);if(i&&i.length){var o=/\s*\[?([\-a-z]*)\]?\s*/i,a=o.exec(n),s=a?a[1]:null;i.length&&t.forEach(i,function(e){e=t.element(e);var n=e[0].getAttribute(s),i=n&&$.validateScope(e)?e.scope().$eval(n)!==!1:!0;i&&(r=e)})}return r}var i,o="[md-autofocus]";return i=r(e,n||o),i||n==o||(i=r(e,"[md-auto-focus]"),i||(i=r(e,o))),i},disableScrollAround:function(e,n){function i(e){function n(e){}function i(e){e.preventDefault()}e=t.element(e||s)[0];var o=50,a=t.element('<div class="md-scroll-mask" style="z-index: '+o+'">  <div class="md-scroll-mask-bar"></div></div>');return e.appendChild(a[0]),a.on("wheel",i),a.on("touchmove",i),r.on("keydown",n),function(){a.off("wheel"),a.off("touchmove"),a[0].parentNode.removeChild(a[0]),r.off("keydown",n),delete $.disableScrollAround._enableScrolling}}function o(){var e=s.parentNode,t=e.getAttribute("style")||"",n=s.getAttribute("style")||"",r=$.scrollTop(s),i=s.clientWidth;return s.scrollHeight>s.clientHeight+1&&(a(s,{position:"fixed",width:"100%",top:-r+"px"}),a(e,{overflowY:"scroll"})),s.clientWidth<i&&a(s,{overflow:"hidden"}),function(){s.setAttribute("style",n),e.setAttribute("style",t),s.scrollTop=r,e.scrollTop=r}}function a(e,t){for(var n in t)e.style[n]=t[n]}if($.disableScrollAround._count=$.disableScrollAround._count||0,++$.disableScrollAround._count,$.disableScrollAround._enableScrolling)return $.disableScrollAround._enableScrolling;e=t.element(e);var s=r[0].body,c=o(),l=i(n);return $.disableScrollAround._enableScrolling=function(){--$.disableScrollAround._count||(c(),l(),delete $.disableScrollAround._enableScrolling)}},enableScrolling:function(){var e=this.disableScrollAround._enableScrolling;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60px;"></div></div>');r[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function i(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",i))},!0);var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),r.$material=!0,r.$focus=!0,n.dispatchEvent(r)},createBackdrop:function(e,t){return a($.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var r=n.split("."),i=t;try{for(var o in r)r.hasOwnProperty(o)&&(i=i[r[o]])}catch(a){i=e}return"string"==typeof i||"number"==typeof i?i:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,r,i){var a;return function(){var s=r,c=Array.prototype.slice.call(arguments);o.cancel(a),a=o(function(){a=n,e.apply(s,c)},t||10,i)}},throttle:function(e,t){var n;return function(){var r=this,i=arguments,o=$.now();(!n||o-n>t)&&(e.apply(r,i),n=o)}},time:function(e){var t=$.now();return e(),$.now()-t},valueOnUse:function(e,t,n){var r=null,i=Array.prototype.slice.call(arguments),o=i.length>3?i.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===r&&(r=n.apply(e,o)),r}})},nextUid:function(){return""+i++},validateScope:function(e){var n=e&&t.isDefined(e.scope());return n||d.warn("element.scope() is not available when 'debug mode' == false. @see https://docs.angularjs.org/guide/production!"),n},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,r){if(e instanceof t.element&&(e=e[0]),n=n.toUpperCase(),r&&(e=e.parentNode),!e)return null;do if(e.nodeName===n)return e;while(e=e.parentNode);return null},elementContains:function(n,r){var i=e.Node&&e.Node.prototype&&Node.prototype.contains,o=i?t.bind(n,n.contains):t.bind(n,function(e){return n===r||!!(16&this.compareDocumentPosition(e))});return o(r)},extractElementByName:function(e,n,r,i){function o(e){return a(e)||(r?s(e):null)}function a(e){if(e)for(var t=0,r=e.length;r>t;t++)if(e[t].nodeName.toLowerCase()===n)return e[t];return null}function s(e){var t;if(e)for(var n=0,r=e.length;r>n;n++){var i=e[n];if(!t)for(var a=0,s=i.childNodes.length;s>a;a++)t=t||o([i.childNodes[a]])}return t}var c=o(e);return!c&&i&&d.warn($.supplant("Unable to find node '{0}' in element '{1}'.",[n,e[0].outerHTML])),t.element(c||e)},initOptionalProperties:function(e,n,r){r=r||{},t.forEach(e.$$isolateBindings,function(i,o){if(i.optional&&t.isUndefined(e[o])){var a=t.isDefined(n[i.attrName]);e[o]=t.isDefined(r[o])?r[o]:a}})},nextTick:function(e,t,n){function r(){var e=n&&n.$$destroyed,t=e?[]:i.queue,r=e?null:i.digest;i.queue=[],i.timeout=null,i.digest=!1,t.forEach(function(e){e()}),r&&s.$digest()}var i=$.nextTick,a=i.timeout,c=i.queue||[];return c.push(e),null==t&&(t=!0),i.digest=i.digest||t,i.queue=c,a||(i.timeout=o(r,0,!1))},processTemplate:function(e){return g?e:e&&t.isString(e)?e.replace(/\{\{/g,p).replace(/}}/g,h):e},getParentWithPointerEvents:function(e){for(var t=e.parent();v(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==u[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},hasComputedStyle:v};return $.dom.animator=c($),$}var i=0;t.module("material.core").factory("$mdUtil",r),r.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window"],t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(e,n,r){function i(e,r,i){var o=t.element(e)[0]||e;!o||o.hasAttribute(r)&&0!==o.getAttribute(r).length||c(o,r)||(i=t.isString(i)?i.trim():"",i.length?e.attr(r,i):n.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',o))}function o(t,n,r){e(function(){i(t,n,r())})}function a(e,t){o(e,t,function(){return s(e)})}function s(e){return e.text().trim()}function c(e,t){function n(e){var t=e.currentStyle?e.currentStyle:r.getComputedStyle(e);return"none"===t.display}var i=e.hasChildNodes(),o=!1;if(i)for(var a=e.childNodes,s=0;s<a.length;s++){var c=a[s];1===c.nodeType&&c.hasAttribute(t)&&(n(c)||(o=!0))}return o}return{expect:i,expectAsync:o,expectWithText:a}}t.module("material.core").service("$mdAria",e),e.$inject=["$$rAF","$log","$window"]}(),function(){function e(e,n,r,i,o,a){this.compile=function(s){var c=s.templateUrl,l=s.template||"",d=s.controller,u=s.controllerAs,m=t.extend({},s.resolve||{}),f=t.extend({},s.locals||{}),p=s.transformTemplate||t.identity,h=s.bindToController;return t.forEach(m,function(e,n){t.isString(e)?m[n]=r.get(e):m[n]=r.invoke(e)}),t.extend(m,f),c?m.$template=n.get(c,{cache:a}).then(function(e){return e.data}):m.$template=e.when(l),e.all(m).then(function(e){var n,r=p(e.$template,s),a=s.element||t.element("<div>").html(r.trim()).contents(),c=i(a);return n={locals:e,element:a,link:function(r){if(e.$scope=r,d){var i=o(d,e,!0);h&&t.extend(i.instance,e);var s=i();a.data("$ngControllerController",s),a.children().data("$ngControllerController",s),u&&(r[u]=s),n.controller=s}return c(r)}}})}}t.module("material.core").service("$mdCompiler",e),e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){function n(){}function r(n,r,i){function o(e){return function(t,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(t,e,n)}}function a(e,t,n){var r=p[t.replace(/^\$md./,"")];if(!r)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(p).join(", "));return r.registerElement(e,n)}function c(e,r){var i=new n(e);return t.extend(i,r),p[e]=i,g}var l=navigator.userAgent||navigator.vendor||e.opera,u=l.match(/ipad|iphone|ipod/i),m=l.match(/android/i),f="undefined"!=typeof e.jQuery&&t.element===e.jQuery,g={handler:c,register:a,isHijackingClicks:(u||m)&&!f&&!h};if(g.isHijackingClicks){var v=6;g.handler("click",{options:{maxDistance:v},onEnd:o("click")}),g.handler("focus",{options:{maxDistance:v},onEnd:function(e,t){function n(e){var t=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"];return"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("DISABLED")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||-1!=t.indexOf(e.nodeName))}t.distance<this.state.options.maxDistance&&n(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),g.handler("mouseup",{options:{maxDistance:v},onEnd:o("mouseup")}),g.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})}return g.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){i.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=i(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x,r=this.state.pos.y-t.y;Math.sqrt(n*n+r*r)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,r;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,r=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,r=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=s(e),d(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):r&&this.cancel())},dispatchDragMove:r.throttle(function(e){this.state.isRunning&&(d(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(d(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function i(e){this.name=e,this.state={}}function o(){function n(e,n,r){r=r||m;var i=new t.element.Event(n);i.$material=!0,i.pointer=r,i.srcEvent=e,t.extend(i,{clientX:r.x,clientY:r.y,screenX:r.x,screenY:r.y,pageX:r.x,pageY:r.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(r.target).trigger(i)}function r(t,n,r){r=r||m;var i;"click"===n||"mouseup"==n||"mousedown"==n?(i=document.createEvent("MouseEvents"),i.initMouseEvent(n,!0,!0,e,t.detail,r.x,r.y,r.x,r.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(n,!0,!0,{})),i.$material=!0,i.pointer=r,i.srcEvent=t,r.target.dispatchEvent(i)}var o="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return i.prototype={options:{},dispatchEvent:o?n:r,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var r=this.getNearestParent(e.target),i=r&&r.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,i),registeredParent:r},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[r.name],e.off("$destroy",n)}var r=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),n}},i}function a(e,n){function r(e){var t=!e.clientX&&!e.clientY;t||e.$material||e.isIonicTap||l(e)||(e.preventDefault(),e.stopPropagation())}function i(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||l(e)?(g=null,"label"==e.target.tagName.toLowerCase()&&(g={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),g=null)}function o(e,t){var r;for(var i in p)r=p[i],r instanceof n&&("start"===e&&r.cancel(),r[e](t,m))}function a(e){if(!m){var t=+Date.now();f&&!c(e,f)&&t-f.endTime<1500||(m=s(e),o("start",e))}}function u(e){m&&c(e,m)&&(d(e,m),o("move",e))}function h(e){m&&c(e,m)&&(d(e,m),m.endTime=+Date.now(),o("end",e),f=m,m=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!v&&e.isHijackingClicks&&(document.addEventListener("click",i,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("focus",r,!0),v=!0);var $="mousedown touchstart pointerdown",b="mousemove touchmove pointermove",E="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on($,a).on(b,u).on(E,h).on("$$mdGestureReset",function(){f=m=null})}function s(e){var t=u(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function c(e,t){return e&&t&&e.type.charAt(0)===t.type}function l(e){return g&&g.x==e.x&&g.y==e.y}function d(e,t){var n=u(e),r=t.x=n.pageX,i=t.y=n.pageY;t.distanceX=r-t.startX,t.distanceY=i-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function u(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}var m,f,p={},h=!1,g=null,v=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",o).run(a),n.prototype={skipClickHijack:function(){return h=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new r(e,t,n)}]},r.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"]}(),function(){function e(){function e(e){function n(e){return c.optionsFactory=e.options,c.methods=(e.methods||[]).concat(a),l}function r(e,t){return s[e]=t,l}function i(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return c.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},l}function o(n,r){function i(e){return e=e||{},e._options&&(e=e._options),u.show(t.extend({},d,e))}function o(e){return u.destroy(e)}function a(t,n){var i={};return i[e]=m,r.invoke(t||function(){return n},{},i)}var l,d,u=n(),m={hide:u.hide,cancel:u.cancel,show:i,destroy:o};return l=c.methods||[],d=a(c.optionsFactory,{}),t.forEach(s,function(e,t){m[t]=e}),t.forEach(c.presets,function(e,n){function r(e){this._options=t.extend({},i,e)}var i=a(e.optionsFactory,{}),o=(e.methods||[]).concat(l);if(t.extend(i,{$type:n}),t.forEach(o,function(e){r.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);m[s]=function(e){var t=m[n](e);return m.show(t)}}m[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new r)[e.argOption](n):new r(n)}}),m}var a=["onHide","onShow","onRemove"],s={},c={presets:{}},l={setDefaults:n,addPreset:i,addMethod:r,$get:o};return l.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),o.$inject=["$$interimElement","$injector"],l}function r(e,r,i,o,a,s,c,l,d,u,m){return function(){function f(e){e=e||{};var t=new v(e||{}),n=!e.skipHide&&E.length?$.hide():r.when(!0);return n["finally"](function(){E.push(t),t.show()["catch"](function(e){return e})}),t.deferred.promise}function p(e,t){function i(n){return n.remove(e,!1,t||{})["catch"](function(e){return e}),n.deferred.promise}if(!E.length)return r.when(e);if(t=t||{},t.closeAll){var o=r.all(E.reverse().map(i));return E=[],o}if(t.closeTo!==n)return r.all(E.splice(t.closeTo).map(i));var a=E.pop();return i(a)}function h(e,t){var n=E.shift();return n?(n.remove(e,!0,t||{})["catch"](function(e){return e}),n.deferred.promise):r.when(e)}function g(e){var n=e?null:E.shift(),i=t.element(e).length?t.element(e)[0].parentNode:null;if(i){var o=E.filter(function(e){var t=e.options.element[0];return t===i});o.length>0&&(n=o[0],E.splice(E.indexOf(n),1))}return n?n.remove(b,!1,{$destroy:!0}):r.when(b)}function v(m){function f(){return r(function(e,t){function n(e){C.deferred.reject(e),t(e)}g(m).then(function(t){w=v(t,m),x=y(w,m,t.controller).then(e,n)},n)})}function p(e,n,i){function o(e){C.deferred.resolve(e)}function a(e){C.deferred.reject(e)}return w?(m=t.extend(m||{},i||{}),m.cancelAutoHide&&m.cancelAutoHide(),m.element.triggerHandler("$mdInterimElementRemove"),m.$destroy===!0?M(m.element,m).then(function(){n&&a(e)||o(e)}):(r.when(x)["finally"](function(){M(m.element,m).then(function(){n&&a(e)||o(e)},a)}),C.deferred.promise)):r.when(!1)}function h(e){return e=e||{},e.template&&(e.template=l.processTemplate(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||o.$new(e.isolateScope),onShow:function(e,t,n){return c.enter(t,n.parent)},onRemove:function(e,t){return t&&c.leave(t)||r.when()}},e)}function g(e){var t=e.skipCompile?null:d.compile(e);return t||r(function(t){t({locals:{},link:function(){return e.element}})})}function v(e,n){t.extend(e.locals,n);var r=e.link(n.scope);return n.element=r,n.parent=b(r,n),n.themable&&u(r),r}function b(n,r){var i=r.parent;if(i=t.isFunction(i)?i(r.scope,n,r):t.isString(i)?t.element(e[0].querySelector(i)):t.element(i),!(i||{}).length){var o;return s[0]&&s[0].querySelector&&(o=s[0].querySelector(":not(svg) > body")),o||(o=s[0]),"#comment"==o.nodeName&&(o=e[0].body),t.element(o)}return i}function E(){var e,r=t.noop;m.hideDelay&&(e=a($.hide,m.hideDelay),r=function(){a.cancel(e)}),m.cancelAutoHide=function(){r(),m.cancelAutoHide=n}}function y(e,n,i){var o=n.onShowing||t.noop,a=n.onComplete||t.noop;return o(n.scope,e,n,i),r(function(t,o){try{r.when(n.onShow(n.scope,e,n,i)).then(function(){a(n.scope,e,n),E(),t(e)},o)}catch(s){o(s.message)}})}function M(e,n){var r=n.onRemoving||t.noop;return i(function(t,o){try{var a=i.when(n.onRemove(n.scope,e,n)||!0);r(e,a),1==n.$destroy?t(e):a.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),t(e)},o)}catch(s){o(s.message)}})}var C,w,x=r.when(!0);return m=h(m),C={options:m,deferred:r.defer(),show:f,remove:p}}var $,b=!1,E=[];return $={show:f,hide:p,cancel:h,destroy:g,$injector_:m}}}return e.$get=r,r.$inject=["$document","$q","$$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector"],e}t.module("material.core").provider("$$interimElement",e)}(),function(){!function(){function e(e){function a(e){return e.replace(c,"").replace(l,function(e,t,n,r){return r?n.toUpperCase():n})}var c=/^((?:x|data)[\:\-_])/i,l=/([\:\-\_]+(.))/g,d=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl"],u=["layout","flex","flex-order","flex-offset","layout-align"],m=["show","hide","layout-padding","layout-margin"];t.forEach(d,function(n){t.forEach(u,function(t){var r=n?t+"-"+n:t;e.directive(a(r),i(r))}),t.forEach(m,function(t){var r=n?t+"-"+n:t;e.directive(a(r),o(r))})}),e.directive("mdLayoutCss",n).directive("ngCloak",r("ng-cloak")).directive("layoutWrap",o("layout-wrap")).directive("layoutNoWrap",o("layout-no-wrap")).directive("layoutFill",o("layout-fill")).directive("layoutLtMd",s("layout-lt-md",!0)).directive("layoutLtLg",s("layout-lt-lg",!0)).directive("flexLtMd",s("flex-lt-md",!0)).directive("flexLtLg",s("flex-lt-lg",!0)).directive("layoutAlignLtMd",s("layout-align-lt-md")).directive("layoutAlignLtLg",s("layout-align-lt-lg")).directive("flexOrderLtMd",s("flex-order-lt-md")).directive("flexOrderLtLg",s("flex-order-lt-lg")).directive("offsetLtMd",s("flex-offset-lt-md")).directive("offsetLtLg",s("flex-offset-lt-lg")).directive("hideLtMd",s("hide-lt-md")).directive("hideLtLg",s("hide-lt-lg")).directive("showLtMd",s("show-lt-md")).directive("showLtLg",s("show-lt-lg"))}function n(){return{restrict:"A",priority:"900",compile:function(e,n){return w.enabled=!1,t.noop}}}function r(e){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(r){return w.enabled?(r.addClass(e),function(t,r){n(function(){r.removeClass(e)},10,!1)}):t.noop}}}]}function i(e){function n(t,n,r){var i=a(n,e,r),o=r.$observe(r.$normalize(e),i);i(m(e,r,"")),t.$on("$destroy",function(){o()})}return["$mdUtil","$interpolate","$log",function(r,i,o){return h=r,g=i,v=o,{restrict:"A",compile:function(r,i){var o;return w.enabled&&(c(e,i,r,v),l(e,m(e,i,""),d(r,e,i)),o=n),o||t.noop}}}]}function o(e){function n(t,n){n.addClass(e)}return["$mdUtil","$interpolate","$log",function(r,i,o){return h=r,g=i,v=o,{restrict:"A",compile:function(r,i){var o;return w.enabled&&(l(e,m(e,i,""),d(r,e,i)),n(null,r),o=n),o||t.noop}}}]}function a(e,n){var r;return function(i){var o=l(n,i||"");t.isDefined(o)&&(r&&e.removeClass(r),r=o?n+"-"+o.replace(b,"-"):n,e.addClass(r))}}function s(e){var n=e.split("-");return["$log",function(r){return r.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),t.noop}]}function c(e,t,n,r){var i,o,a,s=n[0].nodeName.toLowerCase();switch(e.replace($,"")){case"flex":("md-button"==s||"fieldset"==s)&&(o="<"+s+" "+e+"></"+s+">",a="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",i="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",r.warn(h.supplant(i,[o,a])))}}function l(e,n,r){var i=n;if(!u(n)){switch(e.replace($,"")){case"layout":f(n,y)||(n=y[0]);break;case"flex":f(n,E)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":(!n||isNaN(+n))&&(n="0");break;case"layout-align":var o=p(n);n=h.supplant("{main}-{cross}",o);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-no-wrap":n=""}n!=i&&(r||t.noop)(n)}return n}function d(e,t,n){return function(e){u(e)||(n[n.$normalize(t)]=e)}}function u(e){return(e||"").indexOf(g.startSymbol())>-1}function m(e,t,n){var r=t.$normalize(e);return t[r]?t[r].replace(b,"-"):n||null}function f(e,t,n){e=n&&e?e.replace(b,n):e;var r=!1;return e&&t.forEach(function(t){t=n?t.replace(b,n):t,r=r||t===e}),r}function p(e){var t,n={main:"start",cross:"stretch"};return e=e||"",(0==e.indexOf("-")||0==e.indexOf(" "))&&(e="none"+e),t=e.toLowerCase().trim().replace(b,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),M.indexOf(n.main)<0&&(n.main="start"),C.indexOf(n.cross)<0&&(n.cross="stretch"),n}var h,g,v,$=/(-gt)?-(sm|md|lg)/g,b=/\s+/g,E=["grow","initial","auto","none","noshrink","nogrow"],y=["row","column"],M=["","start","center","end","stretch","space-around","space-between"],C=["","start","center","end","stretch"],w={enabled:!0,breakpoints:[]};e(t.module("material.core.layout",["ng"]))}()}(),function(){function e(e,n){function r(e){return e&&""!==e}var i,o=[],a={};return i={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return o},get:function(e){if(!r(e))return null;var t,n,i;for(t=0,n=o.length;n>t;t++)if(i=o[t],i.$$mdHandle===e)return i;return null},register:function(e,n){function r(){var t=o.indexOf(e);-1!==t&&o.splice(t,1)}function i(){var t=a[n];t&&(t.resolve(e),delete a[n])}return n?(e.$$mdHandle=n,o.push(e),i(),r):t.noop},when:function(e){if(r(e)){var t=n.defer(),o=i.get(e);return o?t.resolve(o):a[e]=t,t.promise}return n.reject("Invalid `md-component-id` value.")}}}t.module("material.core").factory("$mdComponentRegistry",e),e.$inject=["$log","$q"]}(),function(){!function(){function e(e){function n(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(r,i,o){return o=t.extend(n(i),o),e.attach(r,i,o)}}}t.module("material.core").factory("$mdButtonInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,r,i){return e.attach(n,r,t.extend({center:!0,dimBackground:!1,fitRipple:!0},i))}return{attach:n}}t.module("material.core").factory("$mdCheckboxInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,r,i){return e.attach(n,r,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},i))}return{attach:n}}t.module("material.core").factory("$mdListInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){function e(e,n){return{controller:t.noop,link:function(t,r,i){i.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,r):e.attach(t,r)}}}function n(e){function n(n,i,o){return i.controller("mdNoInk")?t.noop:e.instantiate(r,{$scope:n,$element:i,rippleOptions:o})}return{attach:n}}function r(e,n,r,i,o,a){this.$window=i,this.$timeout=o,this.$mdUtil=a,this.$scope=e,this.$element=n,this.options=r,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color),this.bindEvents()}function i(e,n){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(t.bind(e,n),!1))}function o(){return{controller:t.noop}}t.module("material.core").factory("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",o).directive("mdNoBar",o).directive("mdNoStretch",o);var a=450;e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],n.$inject=["$injector"],r.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil"],r.prototype.color=function(e){function n(){var e=r.options&&r.options.colorElement?r.options.colorElement:[],t=e.length?e[0]:r.$element[0];return t?r.$window.getComputedStyle(t).color:"rgb(0,0,0)"}var r=this;return t.isDefined(e)&&(r._color=r._parseColor(e)),r._color||r._parseColor(r.inkRipple())||r._parseColor(n())},r.prototype.calculateColor=function(){return this.color()},r.prototype._parseColor=function(e,t){function n(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,r=t.substr(0,n),i=t.substr(n,n),o=t.substr(2*n);return 1===n&&(r+=r,i+=i,o+=o),"rgba("+parseInt(r,16)+","+parseInt(i,16)+","+parseInt(o,16)+",0.1)"}function r(e){return e.replace(")",", 0.1)").replace("(","a(")}return t=t||1,e?0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?r(e):0===e.indexOf("#")?n(e):void 0:void 0},r.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup)),this.$element.on("mouseleave",t.bind(this,this.handleMouseup)),this.$element.on("touchmove",t.bind(this,this.handleTouchmove))},r.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;this.createRipple(n,r)}else this.createRipple(e.offsetX,e.offsetY)},r.prototype.handleMouseup=function(){i(this,this.clearRipples)},r.prototype.handleTouchmove=function(){i(this,this.deleteRipples)},r.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},r.prototype.clearRipples=function(){for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},r.prototype.createContainer=function(){var e=t.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},r.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},r.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&t.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},r.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},r.prototype.createRipple=function(e,n){function r(e){return e?e.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}function i(e,t,n){return e?Math.max(t,n):Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}if(this.isRippleAllowed()){var o=this,s=t.element('<div class="md-ripple"></div>'),c=this.$element.prop("clientWidth"),l=this.$element.prop("clientHeight"),d=2*Math.max(Math.abs(c-e),e),u=2*Math.max(Math.abs(l-n),n),m=i(this.options.fitRipple,d,u),f=this.calculateColor();s.css({left:e+"px",top:n+"px",background:"black",width:m+"px",height:m+"px",backgroundColor:r(f),borderColor:r(f)}),this.lastRipple=s,this.clearTimeout(),this.timeout=this.$timeout(function(){o.clearTimeout(),o.mousedown||o.fadeInComplete(s)},.35*a,!1),this.options.dimBackground&&this.container.css({backgroundColor:f}),this.container.append(s),this.ripples.push(s),s.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){s.addClass("md-ripple-scaled md-ripple-active"),o.$timeout(function(){o.clearRipples()},a,!1)},!1)}},r.prototype.fadeInComplete=function(e){this.lastRipple===e?this.timeout||this.mousedown||this.removeRipple(e):this.removeRipple(e)},r.prototype.removeRipple=function(e){var t=this,n=this.ripples.indexOf(e);0>n||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),0===this.ripples.length&&this.container.css({backgroundColor:""
}),this.$timeout(function(){t.fadeOutComplete(e)},a,!1))},r.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),function(){!function(){function e(e){function n(n,r,i){return e.attach(n,r,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},i))}return{attach:n}}t.module("material.core").factory("$mdTabInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900",contrastStrongLightColors:"600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){function e(e){function r(e,t){return t=t||{},u[e]=a(e,t),$}function i(e,n){return a(e,t.extend({},u[e]||{},n))}function a(e,t){var n=x.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function c(e,n){if(m[e])return m[e];n=n||"default";var r="string"==typeof n?m[n]:n,i=new l(e);return r&&t.forEach(r.colors,function(e,n){i.colors[n]={name:e.name,hues:t.extend({},e.hues)}}),m[e]=i,i}function l(e){function n(e){if(e=0===arguments.length?!0:!!e,e!==r.isDark){r.isDark=e,r.foregroundPalette=r.isDark?h:p,r.foregroundShadow=r.isDark?g:v;var n=r.isDark?w:C,i=r.isDark?C:w;return t.forEach(n,function(e,t){var n=r.colors[t],o=i[t];if(n)for(var a in n.hues)n.hues[a]===o[a]&&(n.hues[a]=e[a])}),r}}var r=this;r.name=e,r.colors={},r.dark=n,n(!1),y.forEach(function(e){var n=(r.isDark?w:C)[e];r[e+"Palette"]=function(i,o){var a=r.colors[e]={name:i,hues:t.extend({},n,o)};return Object.keys(a.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",r.name).replace("%3",i).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(t){if(-1==x.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",r.name).replace("%3",e).replace("%4",i).replace("%5",x.join(", ")))}),r},r[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),r[e+"Palette"].apply(r,t)}})}function f(e,r){function i(e){return e===n||""===e?!0:o.THEMES[e]!==n}function o(t,r){r===n&&(r=t,t=n),t===n&&(t=e),o.inherit(r,r)}return o.inherit=function(n,o){function a(e){if(e){i(e)||r.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var t=n.data("$mdThemeName");t&&n.removeClass("md-"+t+"-theme"),n.addClass("md-"+e+"-theme"),n.data("$mdThemeName",e),s&&n.data("$mdThemeController",s)}}var s=o.controller("mdTheme"),c=n.attr("md-theme-watch");if((E||t.isDefined(c))&&"false"!=c){var l=e.$watch(function(){return s&&s.$mdTheme||("default"==b?"":b)},a);n.on("$destroy",l)}else{var d=s&&s.$mdTheme||("default"==b?"":b);a(d)}},o.THEMES=t.extend({},m),o.defaultTheme=function(){return b},o.registered=i,o.generateTheme=s,o}u={},m={};var $,b="default",E=!1;return t.extend(u,e),f.$inject=["$rootScope","$log"],$={definePalette:r,extendPalette:i,theme:c,setDefaultTheme:function(e){b=e},alwaysWatchTheme:function(e){E=e},generateThemesOnDemand:function(e){A=e},$get:f,_LIGHT_DEFAULT_HUES:C,_DARK_DEFAULT_HUES:w,_PALETTES:u,_THEMES:m,_parseRules:o,_rgba:d}}function r(e,t,n){return{priority:100,link:{pre:function(r,i,o){var a={$setTheme:function(t){e.registered(t)||n.warn("attempted to use unregistered theme '"+t+"'"),a.$mdTheme=t}};i.data("$mdThemeController",a),a.$setTheme(t(o.mdTheme)(r)),o.$observe("mdTheme",a.$setTheme)}}}}function i(e){return e}function o(e,n,r){c(e,n),r=r.replace(/THEME_NAME/g,e.name);var i=[],o=e.colors[n],a=new RegExp(".md-"+e.name+"-theme","g"),s=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),l=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,m=u[o.name];return r=r.replace(l,function(t,n,r,i,o){return"foreground"===n?"shadow"==r?e.foregroundShadow:e.foregroundPalette[r]||e.foregroundPalette[1]:(0===r.indexOf("hue")&&(r=e.colors[n].hues[r]),d((u[e.colors[n].name][r]||"")[o?"contrast":"value"],i))}),t.forEach(o.hues,function(t,n){var o=r.replace(s,function(e,n,r,i,o){return d(m[t]["color"===i?"value":"contrast"],o)});if("default"!==n&&(o=o.replace(a,".md-"+e.name+"-theme.md-"+n)),"default"==e.name){var c=/((?:(?:(?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)+) )?)((?:(?:\w|\.|-)+)?)\.md-default-theme((?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;o=o.replace(c,function(e,t,n,r){return e+", "+t+n+r})}i.push(o)}),i}function a(e){function n(e){var n=e.contrastDefaultColor,r=e.contrastLightColors||[],i=e.contrastStrongLightColors||[],o=e.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof i&&(i=i.split(" ")),"string"==typeof o&&(o=o.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,function(a,s){function c(){return"light"===n?o.indexOf(s)>-1?$:i.indexOf(s)>-1?E:b:r.indexOf(s)>-1?i.indexOf(s)>-1?E:b:$}if(!t.isObject(a)){var d=l(a);if(!d)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",s));e[s]={value:d,contrast:c()}}})}var r=document.head,i=r?r.firstElementChild:null,o=e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(i&&0!==o.length){t.forEach(u,n);var a=o.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"}),c=new RegExp("md-("+y.join("|")+")","g");y.forEach(function(e){k[e]=""}),a.forEach(function(e){for(var t,n=(e.match(c),0);t=y[n];n++)if(e.indexOf(".md-"+t)>-1)return k[t]+=e;for(n=0;t=y[n];n++)if(e.indexOf(t)>-1)return k[t]+=e;return k[M]+=e}),A||t.forEach(m,function(e){f[e.name]||s(e.name)})}}function s(e){var t=m[e],n=document.head,r=n?n.firstElementChild:null;f[e]||(y.forEach(function(e){for(var i=o(t,e,k[e]);i.length;){var a=i.shift();if(a){var s=document.createElement("style");s.setAttribute("md-theme-style",""),s.appendChild(document.createTextNode(a)),n.insertBefore(s,r)}}}),t.colors.primary.name==t.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec."),f[t.name]=!0)}function c(e,t){if(!u[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(u).join(", ")))}function l(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var n=e.length/3,r=e.substr(0,n),i=e.substr(n,n),o=e.substr(2*n);return 1===n&&(r+=r,i+=i,o+=o),[parseInt(r,16),parseInt(i,16),parseInt(o,16)]}}function d(e,n){return e?(4==e.length&&(e=t.copy(e),n?e.pop():n=e.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",r).directive("mdThemable",i).provider("$mdTheming",e).run(a);var u,m,f={},p={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},h={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},g="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",v="",$=l("rgba(0,0,0,0.87)"),b=l("rgba(255,255,255,0.87)"),E=l("rgb(255,255,255)"),y=["primary","accent","warn","background"],M="primary",C={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}},w={background:{"default":"800","hue-1":"600","hue-2":"300","hue-3":"900"}};y.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};C[e]||(C[e]=t),w[e]||(w[e]=t)});var x=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],A=!1;e.$inject=["$mdColorPalette"],r.$inject=["$mdTheming","$interpolate","$log"],i.$inject=["$mdTheming"];var k={};a.$inject=["$injector"]}(),function(){function e(e,n,r,i,o){var a;return a={translate3d:function(e,t,n,r){function i(n){return o(e,{to:n||t,addClass:r.transitionOutClass,removeClass:r.transitionInClass}).start()}return o(e,{from:t,to:n,addClass:r.transitionInClass}).start().then(function(){return i})},waitTransitionEnd:function(e,t){var o=3e3;return n(function(n,a){function s(t){t&&t.target!==e[0]||(t&&r.cancel(c),e.off(i.CSS.TRANSITIONEND,s),n())}t=t||{};var c=r(s,t.timeout||o);e.on(i.CSS.TRANSITIONEND,s)})},calculateZoomToOrigin:function(n,r){function i(){var e=n?n.parent():null,t=e?e.parent():null;return t?a.clientRect(t):null}var o=r.element,s=r.bounds,c="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",l=t.bind(null,e.supplant,c),d=l({centerX:0,centerY:0,scaleX:.5,scaleY:.5});if(o||s){var u=o?a.clientRect(o)||i():a.copyRect(s),m=a.copyRect(n[0].getBoundingClientRect()),f=a.centerPointFor(m),p=a.centerPointFor(u);d=l({centerX:p.x-f.x,centerY:p.y-f.y,scaleX:Math.round(100*Math.min(.5,u.width/m.width))/100,scaleY:Math.round(100*Math.min(.5,u.height/m.height))/100})}return d},toCss:function(e){function n(e,n,i){t.forEach(n.split(" "),function(e){r[e]=i})}var r={},o="left top right bottom width height x y min-width min-height max-width max-height";return t.forEach(e,function(e,a){if(!t.isUndefined(e))if(o.indexOf(a)>=0)r[a]=e+"px";else switch(a){case"transition":n(a,i.CSS.TRANSITION,e);break;case"transform":n(a,i.CSS.TRANSFORM,e);break;case"transformOrigin":n(a,i.CSS.TRANSFORM_ORIGIN,e)}}),r},toTransformCss:function(e,n,r){var o={};return t.forEach(i.CSS.TRANSFORM.split(" "),function(t){o[t]=e}),n&&(r=r||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",o.transition=r),o},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n=t.element(e)[0].getBoundingClientRect(),r=function(e){return e&&e.width>0&&e.height>0};return r(n)?a.copyRect(n):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}}}t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(t,n,r,i){return function(o){return e(o,t,n,r,i)}}])}(),function(){t.version.minor>=4?t.module("material.core.animate",[]):!function(){function e(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})}var n=t.forEach,r=t.isDefined(document.documentElement.style.WebkitAppearance),i=r?"-webkit-":"",o=(r?"webkitTransitionEnd ":"")+"transitionend",a=(r?"webkitAnimationEnd ":"")+"animationend",s=["$document",function(e){return function(){return e[0].body.clientWidth+1}}],c=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],l=["$q","$$rAFMutex",function(e,r){function i(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=r(),this._state=0}var o=0,a=1,s=2;return i.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===s?e():this._doneCallbacks.push(e)},progress:t.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===o&&(t._state=a,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==s&&(n(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=s)}},i}];t.module("material.core.animate",[]).factory("$$forceReflow",s).factory("$$AnimateRunner",l).factory("$$rAFMutex",c).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout",function(t,s,c,l,d,u){function m(r,s){var l=[],d=E(r);s.transitionStyle&&l.push([i+"transition",s.transitionStyle]),s.keyframeStyle&&l.push([i+"animation",s.keyframeStyle]),s.delay&&l.push([i+"transition-delay",s.delay+"s"]),s.duration&&l.push([i+"transition-duration",s.duration+"s"]);var m=s.keyframeStyle||s.to&&(s.duration>0||s.transitionStyle),h=!!s.addClass||!!s.removeClass,M=m||h;y(r,!0),$(r,s);var C,w,x=!1;return{close:t.close,start:function(){function t(){return x?void 0:(x=!0,C&&w&&r.off(C,w),f(r,s),v(r,s),n(l,function(t){d.style[e(t[0])]=""}),m.complete(!0),m)}var m=new c;return g(function(){if(y(r,!1),!M)return t();n(l,function(t){var n=t[0],r=t[1];d.style[e(n)]=r}),f(r,s);var c=p(r);if(0===c.duration)return t();var m=[];s.easing&&(c.transitionDuration&&m.push([i+"transition-timing-function",s.easing]),c.animationDuration&&m.push([i+"animation-timing-function",s.easing])),s.delay&&c.animationDelay&&m.push([i+"animation-delay",s.delay+"s"]),s.duration&&c.animationDuration&&m.push([i+"animation-duration",s.duration+"s"]),n(m,function(t){var n=t[0],r=t[1];d.style[e(n)]=r,l.push(t)});var h=c.delay,g=1e3*h,v=c.duration,$=1e3*v,E=Date.now();C=[],c.transitionDuration&&C.push(o),c.animationDuration&&C.push(a),C=C.join(" "),w=function(e){e.stopPropagation();var n=e.originalEvent||e,r=n.timeStamp||Date.now(),i=parseFloat(n.elapsedTime.toFixed(3));Math.max(r-E,0)>=g&&i>=v&&t()},r.on(C,w),b(r,s),u(t,g+1.5*$,!1)}),m}}}function f(e,t){t.addClass&&(d.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(d.removeClass(e,t.removeClass),t.removeClass=null)}function p(e){function n(e){return r?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}var i=E(e),o=t.getComputedStyle(i),a=h(o[n("transitionDuration")]),s=h(o[n("animationDuration")]),c=h(o[n("transitionDelay")]),l=h(o[n("animationDelay")]);s*=parseInt(o[n("animationIterationCount")],10)||1;var d=Math.max(s,a),u=Math.max(l,c);return{duration:d,delay:u,animationDuration:s,transitionDuration:a,animationDelay:l,transitionDelay:c}}function h(e){var t=0,r=(e||"").split(/\s*,\s*/);return n(r,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function g(e){M&&M(),C.push(e),M=s(function(){M=null;for(var e=l(),t=0;t<C.length;t++)C[t](e);C.length=0})}function v(e,t){$(e,t),b(e,t)}function $(e,t){t.from&&(e.css(t.from),t.from=null)}function b(e,t){t.to&&(e.css(t.to),t.to=null)}function E(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function y(t,n){var r=E(t),o=e(i+"transition-delay");r.style[o]=n?"-9999s":""}var M,C=[];return m}])}()}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){function e(e){return{restrict:"E",link:function(t,n,r){t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e,n,o,a,s,c,l){function d(r,i,l,d){i=o.extractElementByName(i,"md-bottom-sheet"),f=o.createBackdrop(r,"md-bottom-sheet-backdrop md-opaque"),l.clickOutsideToClose&&f.on("click",function(){o.nextTick(s.cancel,!0)}),a.inherit(f,l.parent),e.enter(f,l.parent,null);var u=new m(i,l.parent);return l.bottomSheet=u,a.inherit(u.element,l.parent),l.disableParentScroll&&(l.restoreScroll=o.disableScrollAround(u.element,l.parent)),e.enter(u.element,l.parent).then(function(){var e=o.findFocusTarget(i)||t.element(i[0].querySelector("button")||i[0].querySelector("a")||i[0].querySelector("[ng-click]"));e.focus(),l.escapeToClose&&(l.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&o.nextTick(s.cancel,!0)},c.on("keyup",l.rootElementKeyupCallback))})}function u(t,n,r){var i=r.bottomSheet;return e.leave(f),e.leave(i.element).then(function(){r.disableParentScroll&&(r.restoreScroll(),delete r.restoreScroll),i.cleanup()})}function m(e,t){function a(t){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function c(t){var r=t.pointer.distanceY;5>r&&(r=Math.max(-i,r/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(i+r)+"px,0)")}function d(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>r)){var i=e.prop("offsetHeight")-t.pointer.distanceY,a=Math.min(i/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,a+"ms"),o.nextTick(s.cancel,!0)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var u=l.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",a).on("$md.drag",c).on("$md.dragend",d),{element:e,cleanup:function(){u(),t.off("$md.dragstart",a),t.off("$md.drag",c),t.off("$md.dragend",d)}}}var f;return{themable:!0,onShow:d,onRemove:u,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}var r=.5,i=80;return n.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"],e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:n})}t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n),e.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"]}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,t,n,r,i,o,a){function s(s,l,d){var u=r.getComputedStyle(a[0].body);if("fixed"==u.position){var m=parseInt(u.height,10)+Math.abs(parseInt(u.top,10));l.css({height:m+"px"})}t.pin&&t.pin(l,n),o(function(){var t=l.parent()[0];if(t){"BODY"==t.nodeName&&l.css({position:"fixed"});var n=r.getComputedStyle(t);"static"==n.position&&i.warn(c)}e.inherit(l,l.parent())})}var c="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:s}}])}(),function(){function e(e,n,r,i){function o(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){if(o(t))return'<a class="md-button" ng-transclude></a>';var n="undefined"==typeof t.type?"button":t.type;return'<button class="md-button" type="'+n+'" ng-transclude></button>'}function s(a,s,c){var l=s[0];n(s),e.attach(a,s);var d=l.textContent.trim();d||r.expect(s,"aria-label"),o(c)&&t.isDefined(c.ngDisabled)&&a.$watch(c.ngDisabled,function(e){s.attr("tabindex",e?-1:0)}),s.on("click",function(e){c.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),a.mouseActive=!1,s.on("mousedown",function(){a.mouseActive=!0,i(function(){a.mouseActive=!1},100)}).on("focus",function(){a.mouseActive===!1&&s.addClass("md-focused")}).on("blur",function(e){s.removeClass("md-focused")})}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:s}}t.module("material.components.button",["material.core"]).directive("mdButton",e),e.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]}(),function(){function e(e){return{restrict:"E",link:function(t,n){e(n)}}}t.module("material.components.card",["material.core"]).directive("mdCard",e),e.$inject=["$mdTheming"]}(),function(){function e(e,n,r,i,o,a){function s(s,l){return l.type="checkbox",l.tabindex=l.tabindex||"0",s.attr("role",l.type),s.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()}),function(s,l,d,u){function m(e,t,n){d[e]&&s.$watch(d[e],function(e){n[e]&&l.attr(t,n[e])})}function f(e){var t=e.which||e.keyCode;(t===r.KEY_CODE.SPACE||t===r.KEY_CODE.ENTER)&&(e.preventDefault(),l.hasClass("md-focused")||l.addClass("md-focused"),p(e))}function p(e){l[0].hasAttribute("disabled")||s.$apply(function(){var t=d.ngChecked?d.checked:!u.$viewValue;u.$setViewValue(t,e&&e.type),u.$render()})}function h(){u.$viewValue?l.addClass(c):l.removeClass(c)}u=u||o.fakeNgModel(),i(l),d.ngChecked&&s.$watch(s.$eval.bind(s,d.ngChecked),u.$setViewValue.bind(u)),m("ngDisabled","tabindex",{"true":"-1","false":d.tabindex}),n.expectWithText(l,"aria-label"),e.link.pre(s,{on:t.noop,0:{}},d,[u]),s.mouseActive=!1,l.on("click",p).on("keypress",f).on("mousedown",function(){s.mouseActive=!0,a(function(){s.mouseActive=!1},100)}).on("focus",function(){s.mouseActive===!1&&l.addClass("md-focused")}).on("blur",function(){l.removeClass("md-focused")}),u.$render=h}}e=e[0];var c="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:s}}t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e),e.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,r,i){r[0];e(r),t.$broadcast("$mdContentLoaded",r),n(r[0])}}}function n(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}t.module("material.components.content",["material.core"]).directive("mdContent",e),e.$inject=["$mdTheming"]}(),function(){!function(){function e(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(i-r)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody role="rowgroup" md-virtual-repeat="i in ctrl.items" md-calendar-month md-month-offset="$index" class="md-calendar-month" md-start-index="ctrl.getSelectedMonthIndex()" md-item-size="'+r+'"></tbody></table></md-virtual-repeat-container></div>',scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter"},require:["ngModel","mdCalendar"],controller:n,controllerAs:"ctrl",bindToController:!0,link:function(e,t,n,r){var i=r[0],o=r[1];o.configureNgModel(i)}}}function n(e,t,n,r,i,o,a,c,l,d,u){if(a(e),this.items={length:2e3},this.maxDate&&this.minDate){var m=c.getMonthDistance(this.minDate,this.maxDate)+1;m=Math.max(m,1),m+=1,this.items.length=m}if(this.$animate=r,this.$q=i,this.$mdInkRipple=d,this.$mdUtil=u,this.keyCode=o.KEY_CODE,this.dateUtil=c,this.dateLocale=l,this.$element=e,this.$scope=n,this.calendarElement=e[0].querySelector(".md-calendar"),this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.today=this.dateUtil.createDateAtMidnight(),this.firstRenderableDate=this.dateUtil.incrementMonths(this.today,-this.items.length/2),this.minDate&&this.minDate>this.firstRenderableDate)this.firstRenderableDate=this.minDate;else if(this.maxDate){this.items.length-2;this.firstRenderableDate=this.dateUtil.incrementMonths(this.maxDate,-(this.items.length-2))}this.id=s++,this.ngModelCtrl=null,this.selectedDate=null,this.displayDate=null,this.focusDate=null,this.isInitialized=!1,this.isMonthTransitionInProgress=!1,t.tabindex||e.attr("tabindex","-1");var f=this;this.cellClickHandler=function(){var e=this;this.hasAttribute("data-timestamp")&&n.$apply(function(){var t=Number(e.getAttribute("data-timestamp"));f.setNgModelValue(f.dateUtil.createDateAtMidnight(t))})},this.attachCalendarEventListeners()}t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]).directive("mdCalendar",e);var r=265,i=45,o="md-calendar-selected-date",a="md-focus",s=0;n.$inject=["$element","$attrs","$scope","$animate","$q","$mdConstant","$mdTheming","$$mdDateUtil","$mdDateLocale","$mdInkRipple","$mdUtil"],n.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.changeSelectedDate(t.ngModelCtrl.$viewValue)}},n.prototype.buildInitialCalendarDisplay=function(){this.buildWeekHeader(),this.hideVerticalScrollbar(),this.displayDate=this.selectedDate||this.today,this.isInitialized=!0},n.prototype.hideVerticalScrollbar=function(){var e=this.$element[0],t=e.querySelector(".md-calendar-scroll-mask"),n=this.calendarScroller,r=e.querySelector(".md-calendar-day-header").clientWidth,i=n.offsetWidth-n.clientWidth;t.style.width=r+"px",n.style.width=r+i+"px",n.style.paddingRight=i+"px"},n.prototype.attachCalendarEventListeners=function(){this.$element.on("keydown",t.bind(this,this.handleKeyEvent))},n.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(e.which==t.keyCode.TAB&&e.preventDefault());if(e.which===t.keyCode.ENTER)return t.setNgModelValue(t.displayDate),void e.preventDefault();var n=t.getFocusDateFromKeyEvent(e);n&&(n=t.boundDateByMinAndMax(n),e.preventDefault(),e.stopPropagation(),t.changeDisplayDate(n).then(function(){t.focus(n)}))})},n.prototype.getFocusDateFromKeyEvent=function(e){var t=this.dateUtil,n=this.keyCode;switch(e.which){case n.RIGHT_ARROW:return t.incrementDays(this.displayDate,1);case n.LEFT_ARROW:return t.incrementDays(this.displayDate,-1);case n.DOWN_ARROW:return e.metaKey?t.incrementMonths(this.displayDate,1):t.incrementDays(this.displayDate,7);case n.UP_ARROW:return e.metaKey?t.incrementMonths(this.displayDate,-1):t.incrementDays(this.displayDate,-7);case n.PAGE_DOWN:return t.incrementMonths(this.displayDate,1);case n.PAGE_UP:return t.incrementMonths(this.displayDate,-1);case n.HOME:return t.getFirstDateOfMonth(this.displayDate);case n.END:return t.getLastDateOfMonth(this.displayDate);default:return null}},n.prototype.getSelectedMonthIndex=function(){return this.dateUtil.getMonthDistance(this.firstRenderableDate,this.selectedDate||this.today);
},n.prototype.scrollToMonth=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getMonthDistance(this.firstRenderableDate,e);this.calendarScroller.scrollTop=t*r}},n.prototype.setNgModelValue=function(e){this.$scope.$emit("md-calendar-change",e),this.ngModelCtrl.$setViewValue(e),this.ngModelCtrl.$render()},n.prototype.focus=function(e){var t=e||this.selectedDate||this.today,n=this.calendarElement.querySelector(".md-focus");n&&n.classList.remove(a);var r=this.getDateId(t),i=document.getElementById(r);i?(i.classList.add(a),i.focus()):this.focusDate=t},n.prototype.boundDateByMinAndMax=function(e){var t=e;return this.minDate&&e<this.minDate&&(t=new Date(this.minDate.getTime())),this.maxDate&&e>this.maxDate&&(t=new Date(this.maxDate.getTime())),t},n.prototype.changeSelectedDate=function(e){var t=this,n=this.selectedDate;this.selectedDate=e,this.changeDisplayDate(e).then(function(){if(n){var r=document.getElementById(t.getDateId(n));r&&(r.classList.remove(o),r.setAttribute("aria-selected","false"))}if(e){var i=document.getElementById(t.getDateId(e));i&&(i.classList.add(o),i.setAttribute("aria-selected","true"))}})},n.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildInitialCalendarDisplay(),this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},n.prototype.animateDateChange=function(e){return this.scrollToMonth(e),this.$q.when()},n.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),r=0;7>r;r++){var i=document.createElement("th");i.textContent=t[(r+e)%7],n.appendChild(i)}this.$element.find("thead").append(n)},n.prototype.getDateId=function(e){return["md",this.id,e.getFullYear(),e.getMonth(),e.getDate()].join("-")}}()}(),function(){!function(){function e(){return{require:["^^mdCalendar","mdCalendarMonth"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthCtrl",bindToController:!0,link:function(e,t,n,r){var i=r[0],o=r[1];o.calendarCtrl=i,o.generateContent(),e.$watch(function(){return o.offset},function(e,t){e!=t&&o.generateContent()})}}}function n(e,t,n){this.dateUtil=t,this.dateLocale=n,this.$element=e,this.calendarCtrl=null,this.offset,this.focusAfterAppend=null}t.module("material.components.datepicker").directive("mdCalendarMonth",e);var r="md-calendar-date-today",i="md-calendar-selected-date",o="md-focus";n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],n.prototype.generateContent=function(){var e=this.calendarCtrl,t=this.dateUtil.incrementMonths(e.firstRenderableDate,this.offset);this.$element.empty(),this.$element.append(this.buildCalendarForMonth(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(o),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(e){var t=this.calendarCtrl,n=document.createElement("td");if(n.tabIndex=-1,n.classList.add("md-calendar-date"),n.setAttribute("role","gridcell"),e){n.setAttribute("tabindex","-1"),n.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),n.id=t.getDateId(e),n.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,t.today)&&n.classList.add(r),this.dateUtil.isValidDate(t.selectedDate)&&this.dateUtil.isSameDay(e,t.selectedDate)&&(n.classList.add(i),n.setAttribute("aria-selected","true"));var o=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var a=document.createElement("span");n.appendChild(a),a.classList.add("md-calendar-date-selection-indicator"),a.textContent=o,n.addEventListener("click",t.cellClickHandler),t.focusDate&&this.dateUtil.isSameDay(e,t.focusDate)&&(this.focusAfterAppend=n)}else n.classList.add("md-calendar-date-disabled"),n.textContent=o}return n},n.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},n.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},n.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),r=this.getLocaleDay_(n),i=this.dateUtil.getNumberOfDaysInMonth(t),o=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);o.appendChild(s);var c=this.offset===this.calendarCtrl.items.length-1,l=0,d=document.createElement("td");if(d.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate&&d.classList.add("md-calendar-month-label-disabled"),d.textContent=this.dateLocale.monthHeaderFormatter(t),2>=r){d.setAttribute("colspan","7");var u=this.buildDateRow();if(u.appendChild(d),o.insertBefore(u,s),c)return o}else l=2,d.setAttribute("colspan","2"),s.appendChild(d);for(var m=l;r>m;m++)s.appendChild(this.buildDateCell());for(var f=r,p=n,h=1;i>=h;h++){if(7===f){if(c)return o;f=0,a++,s=this.buildDateRow(a),o.appendChild(s)}p.setDate(h);var g=this.buildDateCell(p);s.appendChild(g),f++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;o.childNodes.length<6;){for(var v=this.buildDateRow(),m=0;7>m;m++)v.appendChild(this.buildDateCell());o.appendChild(v)}return o},n.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){t.module("material.components.datepicker").config(["$provide",function(e){function t(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}t.prototype.$get=function(e){function t(e){if(!e)return"";var t=e.toLocaleTimeString(),n=e;return 0!=e.getHours()||-1===t.indexOf("11:")&&-1===t.indexOf("23:")||(n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),n.toLocaleDateString()}function n(e){return new Date(e)}function r(e){e=e.trim();var t=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return t.test(e)}function i(e){return m.shortMonths[e.getMonth()]+" "+e.getFullYear()}function o(e){return"Week "+e}function a(e){return[m.days[e.getDay()],m.months[e.getMonth()],m.dates[e.getDate()],e.getFullYear()].join(" ")}for(var s=e.DATETIME_FORMATS.DAY.map(function(e){return e[0]}),c=Array(32),l=1;31>=l;l++)c[l]=l;var d="Calendar",u="Open calendar",m={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||s,dates:this.dates||c,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||t,parseDate:this.parseDate||n,isDateComplete:this.isDateComplete||r,monthHeaderFormatter:this.monthHeaderFormatter||i,weekNumberFormatter:this.weekNumberFormatter||o,longDateFormatter:this.longDateFormatter||a,msgCalendar:this.msgCalendar||d,msgOpenCalendar:this.msgOpenCalendar||u};return m},t.prototype.$get.$inject=["$locale"],e.provider("$mdDateLocale",new t)}])}()}(),function(){!function(){function n(){return{template:'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" md-svg-icon="md-calendar"></md-icon></md-button><div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input class="md-datepicker-input" aria-haspopup="true" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"><md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.dateLocale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button></div><div class="md-datepicker-calendar-pane md-whiteframe-z1"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.dateLocale.msgCalendar}}" md-min-date="ctrl.minDate" md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>',require:["ngModel","mdDatepicker","?^mdInputContainer"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",dateFilter:"=mdDateFilter"},controller:r,controllerAs:"ctrl",bindToController:!0,link:function(e,t,n,r){var i=r[0],o=r[1],a=r[2];if(a)throw Error("md-datepicker should not be placed inside md-input-container.");o.configureNgModel(i)}}}function r(e,n,r,i,o,a,s,c,l,d,u,m){this.$compile=i,this.$timeout=o,this.$window=a,this.dateLocale=d,this.dateUtil=u,this.$mdConstant=s,this.$mdUtil=l,this.$$rAF=m,this.documentElement=t.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=n[0].querySelector("input"),this.ngInputElement=t.element(this.inputElement),this.inputContainer=n[0].querySelector(".md-datepicker-input-container"),this.calendarPane=n[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=n[0].querySelector(".md-datepicker-button"),this.inputMask=n[0].querySelector(".md-datepicker-input-mask-opaque"),this.$element=n,this.$attrs=r,this.$scope=e,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(n[0].disabled||t.isString(r.disabled)),this.isCalendarOpen=!1,this.calendarPaneOpenedFrom=null,this.calendarPane.id="md-date-pane"+l.nextUid(),c(n),this.bodyClickHandler=t.bind(this,this.handleBodyClick),this.windowResizeHandler=l.debounce(t.bind(this,this.closeCalendarPane),100),r.tabindex||n.attr("tabindex","-1"),this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners();var f=this;e.$on("$destroy",function(){f.detachCalendarPane()})}t.module("material.components.datepicker").directive("mdDatepicker",n);var i=3,o="md-datepicker-invalid",a=500,s=368,c=360;r.$inject=["$scope","$element","$attrs","$compile","$timeout","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF"],r.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){var e=t.ngModelCtrl.$viewValue;if(e&&!(e instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance. Currently the model is a: "+typeof e);t.date=e,t.inputElement.value=t.dateLocale.formatDate(e),t.resizeInputElement(),t.updateErrorState()}},r.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.ngModelCtrl.$setViewValue(n),e.date=n,e.inputElement.value=e.dateLocale.formatDate(n),e.closeCalendarPane(),e.resizeInputElement(),e.updateErrorState()}),e.ngInputElement.on("input",t.bind(e,e.resizeInputElement)),e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,a,e))},r.prototype.attachInteractionListeners=function(){var e=this,t=this.$scope,n=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(r){r.altKey&&r.keyCode==n.DOWN_ARROW&&(e.openCalendarPane(r),t.$digest())}),t.$on("md-calendar-close",function(){e.closeCalendarPane()})},r.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$mdUtil.validateScope(this.$element)?this.$element.scope():null;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},r.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton.disabled=e},r.prototype.updateErrorState=function(e){var n=e||this.date;this.clearErrorState(),this.dateUtil.isValidDate(n)?(this.dateUtil.isValidDate(this.minDate)&&this.ngModelCtrl.$setValidity("mindate",n>=this.minDate),this.dateUtil.isValidDate(this.maxDate)&&this.ngModelCtrl.$setValidity("maxdate",n<=this.maxDate),t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))):this.ngModelCtrl.$setValidity("valid",null==n),this.ngModelCtrl.$valid||this.inputContainer.classList.add(o)},r.prototype.clearErrorState=function(){this.inputContainer.classList.remove(o),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},r.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+i},r.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.dateLocale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t);var n=""==e||this.dateUtil.isValidDate(t)&&this.dateLocale.isDateComplete(e)&&this.isDateEnabled(t);n&&(this.ngModelCtrl.$setViewValue(t),this.date=t),this.updateErrorState(t)},r.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))},r.prototype.attachCalendarPane=function(){var e=this.calendarPane;e.style.transform="",this.$element.addClass("md-datepicker-open");var t=this.inputContainer.getBoundingClientRect(),n=document.body.getBoundingClientRect(),r=t.top-n.top,i=t.left-n.left,o=n.top<0&&0==document.body.scrollTop?-n.top:document.body.scrollTop,a=n.left<0&&0==document.body.scrollLeft?-n.left:document.body.scrollLeft,l=o+this.$window.innerHeight,d=a+this.$window.innerWidth;if(i+c>d){if(d-c>0)i=d-c;else{i=a;var u=this.$window.innerWidth/c;e.style.transform="scale("+u+")"}e.classList.add("md-datepicker-pos-adjusted")}r+s>l&&l-s>o&&(r=l-s,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=i+"px",e.style.top=r+"px",document.body.appendChild(e),this.inputMask.style.left=t.width+"px",this.$$rAF(function(){e.classList.add("md-pane-open")})},r.prototype.detachCalendarPane=function(){this.$element.removeClass("md-datepicker-open"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},r.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled){this.isCalendarOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar();var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),e.addEventListener("resize",this.windowResizeHandler)}},r.prototype.closeCalendarPane=function(){this.isCalendarOpen&&(this.isCalendarOpen=!1,this.detachCalendarPane(),this.calendarPaneOpenedFrom.focus(),this.calendarPaneOpenedFrom=null,this.$mdUtil.enableScrolling(),this.documentElement.off("click touchstart",this.bodyClickHandler),e.removeEventListener("resize",this.windowResizeHandler))},r.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},r.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},r.prototype.setFocused=function(e){this.isFocused=e},r.prototype.handleBodyClick=function(e){if(this.isCalendarOpen){var t=this.$mdUtil.getClosest(e.target,"md-calendar");t||this.closeCalendarPane(),this.$scope.$digest()}}}()}(),function(){!function(){t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function e(e){return new Date(e.getFullYear(),e.getMonth(),1)}function n(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function r(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function i(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function o(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function a(e,t){return e.getDate()==t.getDate()&&o(e,t)}function s(e,t){var n=r(e);return o(n,t)}function c(e,t){var n=i(e);return o(t,n)}function l(e,t){return v((e.getTime()+t.getTime())/2)}function d(t){var n=e(t);return Math.floor((n.getDay()+t.getDate()-1)/7)}function u(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function m(e,t){var r=new Date(e.getFullYear(),e.getMonth()+t,1),i=n(r);return i<e.getDate()?r.setDate(i):r.setDate(e.getDate()),r}function f(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function p(e){return new Date(e.getFullYear(),e.getMonth(),n(e))}function h(e){return null!=e&&e.getTime&&!isNaN(e.getTime())}function g(e){h(e)&&e.setHours(0,0,0,0)}function v(e){var n;return n=t.isUndefined(e)?new Date:new Date(e),g(n),n}function $(e,n,r){return(!t.isDate(n)||e>=n)&&(!t.isDate(r)||r>=e)}return{getFirstDateOfMonth:e,getNumberOfDaysInMonth:n,getDateInNextMonth:r,getDateInPreviousMonth:i,isInNextMonth:s,isInPreviousMonth:c,getDateMidpoint:l,isSameMonthAndYear:o,getWeekOfMonth:d,incrementDays:u,incrementMonths:m,getLastDateOfMonth:p,isSameDay:a,getMonthDistance:f,isValidDate:h,setDateTimeToMidnight:g,createDateAtMidnight:v,isDateWithinRange:$}})}()}(),function(){function e(e,n,r){return{restrict:"E",link:function(i,o,a){n(o),e(function(){function e(){o.toggleClass("md-content-overflow",a.scrollHeight>a.clientHeight)}var n,a=o[0].querySelector("md-dialog-content");a&&(n=a.getElementsByTagName("img"),e(),t.element(n).on("load",e)),i.$on("$destroy",function(){r.destroy(o)})})}}}function r(e){function r(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type == \'confirm\'"               ng-click="dialog.abort()" class="md-primary">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary" md-autofocus="dialog.$type!=\'confirm\'">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function(){this.hide=function(){e.hide(!0)},this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:!0,theme:t.defaultTheme()}}function i(e,r,i,s,c,l,d,u,m,f){function p(e,t,n,r){if(r){if(r.mdHtmlContent=r.htmlContent||n.htmlContent||"",r.mdTextContent=r.textContent||n.textContent||r.content||n.content||"",r.mdHtmlContent&&!f.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(r.mdHtmlContent&&r.mdTextContent)throw Error("md-dialog cannot have both `htmlContent` and `textContent`")}}function h(e,n,r,o){function a(){var e=n[0].querySelectorAll(".md-actions");e.length>0&&m.warn("Using a class of md-actions is deprected, please use <md-dialog-actions>.")}function s(){function e(){var e=n[0].querySelector(".dialog-close");if(!e){var r=n[0].querySelectorAll(".md-actions button, md-dialog-actions button");e=r[r.length-1]}return t.element(e)}if(r.focusOnOpen){var o=i.findFocusTarget(n)||e();o.focus()}}return t.element(l[0].body).addClass("md-dialog-is-showing"),v(r),E(n.find("md-dialog"),r),b(e,n,r),C(n,r).then(function(){$(n,r),y(n,r),a(),s()})}function g(e,n,r){function i(){return w(n,r)}function s(){t.element(l[0].body).removeClass("md-dialog-is-showing"),n.remove(),r.$destroy||r.origin.focus()}return r.deactivateListeners(),r.unlockScreenReader(),r.hideBackdrop(r.$destroy),o&&o.parentNode&&o.parentNode.removeChild(o),a&&a.parentNode&&a.parentNode.removeChild(a),r.$destroy?s():i().then(s)}function v(e){function r(e,r){var i=t.element(e||{});if(i&&i.length){var o={top:0,left:0,height:0,width:0},a=t.isFunction(i[0].getBoundingClientRect);return t.extend(r||{},{element:a?i:n,bounds:a?i[0].getBoundingClientRect():t.extend({},o,i[0]),focus:t.bind(i,i.focus)})}}function i(e,n){if(t.isString(e)){var r=e,i=l[0].querySelectorAll(r);e=i.length?i[0]:null}return t.element(e||n)}e.origin=t.extend({element:null,bounds:null,focus:t.noop},e.origin||{}),e.parent=i(e.parent,u),e.closeTo=r(i(e.closeTo)),e.openFrom=r(i(e.openFrom)),e.targetEvent&&(e.origin=r(e.targetEvent.target,e.origin))}function $(n,r){var o=t.element(d),a=i.debounce(function(){M(n,r)},60),c=[],l=function(){var t="alert"==r.$type?e.hide:e.cancel;i.nextTick(t,!0)};if(r.escapeToClose){var u=r.parent,m=function(e){e.keyCode===s.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),l())};n.on("keydown",m),u.on("keydown",m),o.on("resize",a),c.push(function(){n.off("keydown",m),u.off("keydown",m),o.off("resize",a)})}if(r.clickOutsideToClose){var f,u=n,p=function(e){f=e.target},h=function(e){f===u[0]&&e.target===u[0]&&(e.stopPropagation(),e.preventDefault(),l())};u.on("mousedown",p),u.on("mouseup",h),c.push(function(){u.off("mousedown",p),u.off("mouseup",h)})}r.deactivateListeners=function(){c.forEach(function(e){e()}),r.deactivateListeners=null}}function b(e,t,n){n.disableParentScroll&&(n.restoreScroll=i.disableScrollAround(t,n.parent)),n.hasBackdrop&&(n.backdrop=i.createBackdrop(e,"md-dialog-backdrop md-opaque"),c.enter(n.backdrop,n.parent)),n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():c.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}function E(e,t){var n="alert"===t.$type?"alertdialog":"dialog",s=e.find("md-dialog-content"),c=e.attr("id")||"dialog_"+i.nextUid();e.attr({role:n,tabIndex:"-1"}),0===s.length&&(s=e),s.attr("id",c),e.attr("aria-describedby",c),t.ariaLabel?r.expect(e,"aria-label",t.ariaLabel):r.expectAsync(e,"aria-label",function(){var e=s.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")}),o=document.createElement("div"),o.classList.add("md-dialog-focus-trap"),o.tabIndex=0,a=o.cloneNode(!1);var l=function(){e.focus()};o.addEventListener("focus",l),a.addEventListener("focus",l),e[0].parentNode.insertBefore(o,e[0]),e.append(a)}function y(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,i=0;i<t.length;i++)e===t[i]||x(t[i],["SCRIPT","STYLE"])||t[i].setAttribute("aria-hidden",r);n(e=e.parentNode)}}var r=!0;n(e[0]),t.unlockScreenReader=function(){r=!1,n(e[0]),t.unlockScreenReader=null}}function M(e,t){var n="fixed"==d.getComputedStyle(l[0].body).position,r=t.backdrop?d.getComputedStyle(t.backdrop[0]):null,o=r?Math.min(l[0].body.clientHeight,Math.ceil(Math.abs(parseInt(r.height,10)))):0;return e.css({top:(n?i.scrollTop(t.parent):0)+"px",height:o?o+"px":"100%"}),e}function C(e,t){t.parent.append(e),M(e,t);var n=e.find("md-dialog"),r=i.dom.animator,o=r.calculateZoomToOrigin,a={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=r.toTransformCss(o(n,t.openFrom||t.origin)),c=r.toTransformCss("");return t.fullscreen&&n.addClass("md-dialog-fullscreen"),r.translate3d(n,s,c,a).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(a={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=c,c=r.toTransformCss(o(n,t.closeTo)),r.translate3d(n,s,c,a)):e(r.toTransformCss(o(n,t.origin)))},!0})}function w(e,t){return t.reverseAnimate()}function x(e,t){return-1!==t.indexOf(e.nodeName)?!0:void 0}return{hasBackdrop:!0,isolateScope:!0,onShow:h,onShowing:p,onRemove:g,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){function n(e){return t.autoWrap&&!/<\/md-dialog>/g.test(e)?"<md-dialog>"+(e||"")+"</md-dialog>":e||""}return'<div class="md-dialog-container">'+n(e)+"</div>"}}}var o,a;return r.$inject=["$mdDialog","$mdTheming"],i.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen"],options:i}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:r}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:r})}t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",r),e.$inject=["$$rAF","$mdTheming","$mdDialog"],r.$inject=["$$interimElementProvider"]}(),function(){function e(e){return{restrict:"E",link:e}}t.module("material.components.divider",["material.core"]).directive("mdDivider",e),e.$inject=["$mdTheming"]}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(e,n){var r=e.children(),i=!1;t.forEach(["","data-","x-"],function(e){i=i||(r.attr(e+"ng-repeat")?!0:!1)}),i?r.addClass("md-fab-action-item"):r.wrap('<div class="md-fab-action-item">')}}}t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",e)}()}(),function(){!function(){function e(e,n,r,i,o,a){function s(){N.direction=N.direction||"down",N.isOpen=N.isOpen||!1,d(),n.addClass("md-animations-waiting")}function c(){var r=["click","focusin","focusout"];t.forEach(r,function(e){n.on(e,l)}),e.$on("$destroy",function(){t.forEach(r,function(e){n.off(e,l)}),p()})}function l(e){"click"==e.type&&k(e),"focusout"!=e.type||D||(D=a(function(){N.close()},100,!1)),"focusin"==e.type&&D&&(a.cancel(D),D=null)}function d(){N.currentActionIndex=-1}function u(){e.$watch("vm.direction",function(e,t){r.removeClass(n,"md-"+t),r.addClass(n,"md-"+e),d()});var t,i;e.$watch("vm.isOpen",function(e){d(),t&&i||(t=T(),i=S()),e?f():p();var o=e?"md-is-open":"",a=e?"":"md-is-open";t.attr("aria-haspopup",!0),t.attr("aria-expanded",e),i.attr("aria-hidden",!e),r.setClass(n,o,a)})}function m(){n[0].scrollHeight>0?r.addClass(n,"md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):10>_&&(a(m,100),_+=1)}function f(){n.on("keydown",g),i.nextTick(function(){t.element(document).on("click touchend",h)})}function p(){n.off("keydown",g),t.element(document).off("click touchend",h)}function h(e){if(e.target){var t=i.getClosest(e.target,"md-fab-trigger"),n=i.getClosest(e.target,"md-fab-actions");t||n||N.close()}}function g(e){switch(e.which){case o.KEY_CODE.ESCAPE:return N.close(),e.preventDefault(),!1;case o.KEY_CODE.LEFT_ARROW:return y(e),!1;case o.KEY_CODE.UP_ARROW:return M(e),!1;case o.KEY_CODE.RIGHT_ARROW:return C(e),!1;case o.KEY_CODE.DOWN_ARROW:return w(e),!1}}function v(e){b(e,-1)}function $(e){b(e,1)}function b(e,n){var r=E();N.currentActionIndex=N.currentActionIndex+n,N.currentActionIndex=Math.min(r.length-1,N.currentActionIndex),N.currentActionIndex=Math.max(0,N.currentActionIndex);var i=t.element(r[N.currentActionIndex]).children()[0];t.element(i).attr("tabindex",0),i.focus(),e.preventDefault(),e.stopImmediatePropagation()}function E(){var e=S()[0].querySelectorAll(".md-fab-action-item");return t.forEach(e,function(e){t.element(t.element(e).children()[0]).attr("tabindex",-1)}),e}function y(e){"left"===N.direction?$(e):v(e)}function M(e){"down"===N.direction?v(e):$(e)}function C(e){"left"===N.direction?v(e):$(e)}function w(e){"up"===N.direction?v(e):$(e)}function x(e){return i.getClosest(e,"md-fab-trigger")}function A(e){return i.getClosest(e,"md-fab-actions")}function k(e){x(e.target)&&N.toggle(),A(e.target)&&N.close()}function T(){return n.find("md-fab-trigger")}function S(){return n.find("md-fab-actions")}var N=this;N.open=function(){e.$evalAsync("vm.isOpen = true")},N.close=function(){e.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},N.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},s(),c(),u();var _=0;m();var D}t.module("material.components.fabShared",["material.core"]).controller("FabController",e),e.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"]}()}(),function(){!function(){function n(){function e(e,t){t.prepend('<div class="md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"FabController",controllerAs:"vm",link:e}}function r(n){function r(e){n(e,o,!1)}function i(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("md-animations-ready")){var r=n[0],i=n.controller("mdFabSpeedDial"),o=r.querySelectorAll(".md-fab-action-item"),a=r.querySelector("md-fab-trigger"),s=r.querySelector(".md-css-variables"),c=parseInt(e.getComputedStyle(s).zIndex);t.forEach(o,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=o.length-t+c}),a.style.zIndex=c+o.length+1,i.isOpen||t.forEach(o,function(e,t){var n,r,o=e.style,s=(a.clientHeight-e.clientHeight)/2,c=(a.clientWidth-e.clientWidth)/2;switch(i.direction){case"up":n=e.scrollHeight*(t+1)+s,r="Y";break;case"down":n=-(e.scrollHeight*(t+1)+s),r="Y";break;case"left":n=e.scrollWidth*(t+1)+c,r="X";break;case"right":n=-(e.scrollWidth*(t+1)+c),r="X"}var l="translate"+r+"("+n+"px)";o.transform=o.webkitTransform=l})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(i(e),r(n)):n()},removeClass:function(e,t,n){i(e),r(n)}}}function i(n){function r(e){n(e,o,!1)}function i(n){var r=n[0],i=n.controller("mdFabSpeedDial"),o=r.querySelectorAll(".md-fab-action-item"),s=r.querySelector(".md-css-variables"),c=parseInt(e.getComputedStyle(s).zIndex);t.forEach(o,function(e,t){var n=e.style,r=t*a;n.opacity=i.isOpen?1:0,n.transform=n.webkitTransform=i.isOpen?"scale(1)":"scale(0.1)",n.transitionDelay=(i.isOpen?r:o.length-r)+"ms",n.zIndex=o.length-t+c})}var a=65;return{addClass:function(e,t,n){i(e),r(n)},removeClass:function(e,t,n){i(e),r(n)}}}var o=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabSpeedDial",n).animation(".md-fling",r).animation(".md-scale",i).service("mdFabSpeedDialFlingAnimation",r).service("mdFabSpeedDialScaleAnimation",i),r.$inject=["$timeout"],i.$inject=["$timeout"]}()}(),function(){!function(){function n(){function e(e,t,n){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"FabController",controllerAs:"vm",link:e}}function r(){function n(n,r,i){if(r){var o=n[0],a=n.controller("mdFabToolbar"),s=o.querySelector(".md-fab-toolbar-background"),c=o.querySelector("md-fab-trigger button"),l=o.querySelector("md-toolbar"),d=o.querySelector("md-fab-trigger button md-icon"),u=n.find("md-fab-actions").children();if(c&&s){var m=e.getComputedStyle(c).getPropertyValue("background-color"),f=o.offsetWidth,p=(o.offsetHeight,2*(f/c.offsetWidth));s.style.backgroundColor=m,s.style.borderRadius=f+"px",a.isOpen?(l.style.pointerEvents="initial",s.style.width=c.offsetWidth+"px",s.style.height=c.offsetHeight+"px",s.style.transform="scale("+p+")",s.style.transitionDelay="0ms",d&&(d.style.transitionDelay=".3s"),t.forEach(u,function(e,t){e.style.transitionDelay=25*(u.length-t)+"ms"})):(l.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",d&&(d.style.transitionDelay="0ms"),t.forEach(u,function(e,t){e.style.transitionDelay=200+25*t+"ms";
}))}}}return{addClass:function(e,t,r){n(e,t,r),r()},removeClass:function(e,t,r){n(e,t,r),r()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",r).service("mdFabToolbarAnimation",r)}()}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"]}}t.module("material.components.fabTrigger",["material.core"]).directive("mdFabTrigger",e)}()}(),function(){function e(e,r,i,o){function a(n,a,s,c){function l(){for(var e in r.MEDIA)o(e),o.getQuery(r.MEDIA[e]).addListener(C);return o.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,u)}function d(){c.layoutDelegate=t.noop,w();for(var e in r.MEDIA)o.getQuery(r.MEDIA[e]).removeListener(C)}function u(e){null==e?c.invalidateLayout():o(e)&&c.invalidateLayout()}function m(e){var r=g(),o={tileSpans:v(r),colCount:$(),rowMode:y(),rowHeight:E(),gutter:b()};if(e||!t.equals(o,x)){var s=i(o.colCount,o.tileSpans,r).map(function(e,n){return{grid:{element:a,style:h(o.colCount,n,o.gutter,o.rowMode,o.rowHeight)},tiles:e.map(function(e,i){return{element:t.element(r[i]),style:p(e.position,e.spans,o.colCount,n,o.gutter,o.rowMode,o.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:s}}),x=o}}function f(e){return A+e+k}function p(e,t,n,r,i,o,a){var s=1/n*100,c=(n-1)/n,l=T({share:s,gutterShare:c,gutter:i}),d={left:S({unit:l,offset:e.col,gutter:i}),width:N({unit:l,span:t.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":d.top=S({unit:a,offset:e.row,gutter:i}),d.height=N({unit:a,span:t.row,gutter:i});break;case"ratio":var u=s/a,m=T({share:u,gutterShare:c,gutter:i});d.paddingTop=N({unit:m,span:t.row,gutter:i}),d.marginTop=S({unit:m,offset:e.row,gutter:i});break;case"fit":var f=(r-1)/r,u=1/r*100,m=T({share:u,gutterShare:f,gutter:i});d.top=S({unit:m,offset:e.row,gutter:i}),d.height=N({unit:m,span:t.row,gutter:i})}return d}function h(e,t,n,r,i){var o={};switch(r){case"fixed":o.height=N({unit:i,span:t,gutter:n}),o.paddingBottom="";break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,c=s*(1/i),l=T({share:c,gutterShare:a,gutter:n});o.height="",o.paddingBottom=N({unit:l,span:t,gutter:n});break;case"fit":}return o}function g(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed})}function v(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(o.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function $(){var e=parseInt(o.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function b(){return M(o.getResponsiveAttribute(s,"md-gutter")||1)}function E(){var e=o.getResponsiveAttribute(s,"md-row-height");switch(y()){case"fixed":return M(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function y(){var e=o.getResponsiveAttribute(s,"md-row-height");return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function M(e){return/\D$/.test(e)?e:e+"px"}a.attr("role","list"),c.layoutDelegate=m;var C=t.bind(c,c.invalidateLayout),w=l();n.$on("$destroy",d);var x,A=e.startSymbol(),k=e.endSymbol(),T=e(f("share")+"% - ("+f("gutter")+" * "+f("gutterShare")+")"),S=e("calc(("+f("unit")+" + "+f("gutter")+") * "+f("offset")+")"),N=e("calc(("+f("unit")+") * "+f("span")+" + ("+f("span")+" - 1) * "+f("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:a}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function r(e){function n(t,n){var r,a,s,c,l,d;return c=e.time(function(){a=i(t,n)}),r={layoutInfo:function(){return a},map:function(t){return l=e.time(function(){var e=r.layoutInfo();s=t(e.positioning,e.rowCount)}),r},reflow:function(t){return d=e.time(function(){var e=t||o;e(s.grid,s.tiles)}),r},performance:function(){return{tileCount:n.length,layoutTime:c,mapTime:l,reflowTime:d,totalTime:c+l+d}}}}function r(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function i(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,d=0;d-a<t.col;)s>=e?r():(a=l.indexOf(0,s),-1!==a&&-1!==(d=o(a+1))?s=d+1:(a=d=0,r()));return i(a,t.col,t.row),s=a+t.col,{col:a,row:c}}function r(){s=0,c++,i(0,e,-1)}function i(e,t,n){for(var r=e;e+t>r;r++)l[r]=Math.max(l[r]+n,0)}function o(e){var t;for(t=e;t<l.length;t++)if(0!==l[t])return t;return t===l.length?t:void 0}function a(){for(var t=[],n=0;e>n;n++)t.push(0);return t}var s=0,c=0,l=a();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:c+Math.max.apply(Math,l)}}var o=r;return n.animateWith=function(e){o=t.isFunction(e)?e:r},n}function i(e){function n(n,r,i,o){r.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],i,t.bind(o,o.invalidateLayout));o.invalidateTiles(),n.$on("$destroy",function(){r[0].$$mdDestroyed=!0,a(),o.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&o.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",i).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",r),e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],n.$inject=["$mdUtil"],n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},r.$inject=["$mdUtil"],i.$inject=["$mdMedia"]}(),function(){t.module("material.components.icon",["material.core"])}(),function(){function n(e,t){function n(t,n,r){e(n),n.find("md-icon").length&&n.addClass("md-has-icon")}function r(e,n,r,i){var o=this;o.isErrorGetter=r.mdIsError&&t(r.mdIsError),o.delegateClick=function(){o.input.focus()},o.element=n,o.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},o.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},o.setHasPlaceholder=function(e){n.toggleClass("md-input-has-placeholder",!!e)},o.setInvalid=function(e){e?i.addClass(n,"md-input-invalid"):i.removeClass(n,"md-input-invalid")},e.$watch(function(){return o.label&&o.input},function(e){e&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))})}return r.$inject=["$scope","$element","$attrs","$animate"],{restrict:"E",link:n,controller:r}}function r(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,r){!r||n.mdNoFloat||t.hasClass("md-container-ignore")||(r.label=t,e.$on("$destroy",function(){r.label=null}))}}}function i(e,n,r){function i(i,o,a,s){function c(e){return u.setHasValue(!f.$isEmpty(e)),e}function l(){u.setHasValue(o.val().length>0||(o[0].validity||{}).badInput)}function d(){function r(e){return h(),e}function a(){if(d.style.height=d.offsetHeight+"px",o.addClass("md-no-flex"),isNaN(m)){l.style.height="auto",l.scrollTop=0;var e=s();e&&(l.style.height=e+"px")}else{l.setAttribute("rows",1),p||(l.style.minHeight="0",p=o.prop("clientHeight"),l.style.minHeight=null);var t=Math.min(m,Math.round(l.scrollHeight/p));l.setAttribute("rows",t),l.style.height=p*t+"px"}o.removeClass("md-no-flex"),d.style.height="auto"}function s(){var e=l.scrollHeight-l.offsetHeight;return l.offsetHeight+(e>0?e:0)}function c(e){l.scrollTop=0;var t=l.scrollHeight-l.offsetHeight,n=l.offsetHeight+t;l.style.height=n+"px"}if(!t.isDefined(o.attr("md-no-autogrow"))){var l=o[0],d=u.element[0],m=NaN,p=null;l.hasAttribute("rows")&&(m=parseInt(l.getAttribute("rows")));var h=e.debounce(a,1);if(f?(f.$formatters.push(r),f.$viewChangeListeners.push(r)):h(),o.on("keydown input",h),isNaN(m)&&(o.attr("rows","1"),o.on("scroll",c)),t.element(n).on("resize",h),i.$on("$destroy",function(){t.element(n).off("resize",h)}),t.isDefined(o.attr("md-detect-hidden"))){var g=function(){var e=!1;return function(){var t=0===l.offsetHeight;t===!1&&e===!0&&a(),e=t}}();i.$watch(function(){return e.nextTick(g,!1),!0})}}}var u=s[0],m=!!s[1],f=s[1]||e.fakeNgModel(),p=t.isDefined(a.readonly);if(u){if(u.input)throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!");u.input=o;var h=t.element('<div class="md-errors-spacer">');o.after(h),u.label||r.expect(o,"aria-label",o.attr("placeholder")),o.addClass("md-input"),o.attr("id")||o.attr("id","input_"+e.nextUid()),"textarea"===o[0].tagName.toLowerCase()&&d(),m||l();var g=u.isErrorGetter||function(){return f.$invalid&&(f.$touched||f.$$parentForm&&f.$$parentForm.$submitted)};i.$watch(g,u.setInvalid),f.$parsers.push(c),f.$formatters.push(c),o.on("input",l),p||o.on("focus",function(e){u.setFocused(!0)}).on("blur",function(e){u.setFocused(!1),l()}),i.$on("$destroy",function(){u.setFocused(!1),u.setHasValue(!1),u.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:i}}function o(e,n){function r(r,i,o,a){function s(e){return l.parent?(l.text(String(i.val()||e||"").length+"/"+c),e):e}var c,l,d,u=a[0],m=a[1];n.nextTick(function(){d=t.element(m.element[0].querySelector(".md-errors-spacer")),l=t.element('<div class="md-char-counter">'),d.append(l),o.$set("ngTrim","false"),u.$formatters.push(s),u.$viewChangeListeners.push(s),i.on("input keydown keyup",function(){s()}),r.$watch(o.mdMaxlength,function(n){c=n,t.isNumber(n)&&n>0?(l.parent().length||e.enter(l,d),s()):e.leave(l)}),u.$validators["md-maxlength"]=function(e,n){return!t.isNumber(c)||0>c?!0:(e||i.val()||n||"").length<=c}})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:r}}function a(e){function n(e,n,r,i){if(i){var o=i.element.find("label"),a=t.isDefined(i.element.attr("md-no-float"));if(o&&o.length||a)return void i.setHasPlaceholder(!0);var s=r.placeholder;if(n.removeAttr("placeholder"),i.input&&"MD-SELECT"!=i.input[0].nodeName){var c='<label ng-click="delegateClick()">'+s+"</label>";i.element.addClass("md-icon-float"),i.element.prepend(c)}}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:n}}function s(){function e(e,n,r,i){i&&(n.toggleClass("md-input-messages-animation",!0),n.toggleClass("md-auto-hide",!0),("false"==r.mdAutoHide||t(r))&&n.toggleClass("md-auto-hide",!1))}function t(e){return $.some(function(t){return e[t]})}return{restrict:"EA",link:e,require:"^^?mdInputContainer"}}function c(e){function t(t){var n=e.getClosest(t,"md-input-container");if(n)return t.toggleClass("md-input-message-animation",!0),{}}return{restrict:"EA",compile:t,priority:100}}function l(e,t){return{addClass:function(n,r,i){var o=v(n);"md-input-invalid"==r&&o.hasClass("md-auto-hide")&&m(n,t,e)["finally"](i)}}}function d(e,t){return{enter:function(n,r){m(n,t,e)["finally"](r)},leave:function(n,r){f(n,t,e)["finally"](r)},addClass:function(n,r,i){"ng-hide"==r?f(n,t,e)["finally"](i):i()},removeClass:function(n,r,i){"ng-hide"==r?m(n,t,e)["finally"](i):i()}}}function u(e){return{enter:function(t,n){var r=v(t);return r.hasClass("md-auto-hide")?void n():p(t,e)},leave:function(t,n){return h(t,e)}}}function m(e,n,r){var i,o=[],a=v(e);return t.forEach(a.children(),function(e){i=p(t.element(e),n),o.push(i.start())}),r.all(o)}function f(e,n,r){var i,o=[],a=v(e);return t.forEach(a.children(),function(e){i=h(t.element(e),n),o.push(i.start())}),r.all(o)}function p(e,t){var n=e[0].offsetHeight;return t(e,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function h(t,n){var r=t[0].offsetHeight,i=e.getComputedStyle(t[0]);return 0==i.opacity?n(t,{}):n(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-r+"px"},duration:.3})}function g(e){var t=e.controller("mdInputContainer");return t.element}function v(e){var n=g(e),r="ng-messages,data-ng-messages,x-ng-messages,[ng-messages],[data-ng-messages],[x-ng-messages]";return t.element(n[0].querySelector(r))}t.module("material.components.input",["material.core"]).directive("mdInputContainer",n).directive("label",r).directive("input",i).directive("textarea",i).directive("mdMaxlength",o).directive("placeholder",a).directive("ngMessages",s).directive("ngMessage",c).directive("ngMessageExp",c).animation(".md-input-invalid",l).animation(".md-input-messages-animation",d).animation(".md-input-message-animation",u),n.$inject=["$mdTheming","$parse"],i.$inject=["$mdUtil","$window","$mdAria"],o.$inject=["$animate","$mdUtil"],a.$inject=["$log"];var $=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];c.$inject=["$mdUtil"],l.$inject=["$q","$animateCss"],d.$inject=["$q","$animateCss"],u.$inject=["$animateCss"]}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,r,i){var o=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(a,s){function c(){for(var e,t,n=["md-switch","md-checkbox"],r=0;t=n[r];++r)if((e=a.find(t)[0])&&!e.hasAttribute("aria-label")){var i=a.find("p")[0];if(!i)return;e.setAttribute("aria-label","Toggle "+i.textContent)}}function l(e){var n;"div"==e?(n=t.element('<div class="md-no-style md-list-item-inner">'),n.append(a.contents()),a.addClass("md-proxy-focus")):(n=t.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>'),u(a[0],n[0]),n.children().eq(0).append(a.contents())),a[0].setAttribute("tabindex","-1"),a.append(n)}function d(){if(v&&!f(v)&&v.hasAttribute("ng-click")){e.expect(v,"aria-label");var n=t.element('<md-button class="md-secondary-container md-icon-button">');u(v,n[0]),v.setAttribute("tabindex","-1"),v.classList.remove("md-secondary"),n.append(v),v=n[0]}v&&(v.hasAttribute("ng-click")||s.ngClick&&m(v))&&(a.addClass("md-with-secondary"),a.append(v))}function u(e,n){var r=["ng-if","ng-click","aria-label","ng-disabled","ui-sref","href","ng-href","ng-attr-ui-sref"];t.forEach(r,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function m(e){return-1!=o.indexOf(e.nodeName.toLowerCase())}function f(e){var t=e.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}function p(e,a,s,c){function l(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===s.$normalize(t[n].name))return!0;return!1}function d(){var e=a.children();e.length&&!e[0].hasAttribute("ng-click")&&t.forEach(o,function(e){t.forEach(f.querySelectorAll(e),function(e){m.push(e)})})}function u(){(1==m.length||p)&&(a.addClass("md-clickable"),p||c.attachRipple(e,t.element(a[0].querySelector(".md-no-style"))))}var m=[],f=a[0].firstElementChild,p=f&&l(f);d(),u(),a.hasClass("md-proxy-focus")&&m.length&&t.forEach(m,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,i(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&a.addClass("md-focused"),n.on("blur",function t(){a.removeClass("md-focused"),n.off("blur",t)})})}),p||m.length||f&&f.addEventListener("keypress",function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&f&&(f.click(),e.preventDefault(),e.stopPropagation())}}),a.off("click"),a.off("keypress"),1==m.length&&f&&a.children().eq(0).on("click",function(e){var n=r.getClosest(e.target,"BUTTON");!n&&f.contains(e.target)&&t.forEach(m,function(n){e.target===n||n.contains(e.target)||t.element(n).triggerHandler("click")})})}var h,g,v=a[0].querySelector(".md-secondary");if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)l("button");else{for(var $,b=0;$=o[b];++b)if(g=a[0].querySelector($)){h=!0;break}h?l("div"):a[0].querySelector("md-button:not(.md-secondary):not(.md-exclude)")||a.addClass("md-no-proxy")}return d(),c(),p}}}function r(e,t,n){function r(e,t){var r={};n.attach(e,t,r)}var i=this;i.attachRipple=r}t.module("material.components.list",["material.core"]).controller("MdListController",r).directive("mdList",e).directive("mdListItem",n),e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],r.$inject=["$scope","$element","$mdListInkRipple"]}(),function(){t.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){t.module("material.components.menuBar",["material.core","material.components.menu"])}(),function(){function e(e,r,i){function o(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(o,a,f){function p(){f.$observe("value",function(e){var t=s(e);a.attr("aria-valuenow",t),b()==u&&v(t)}),f.$observe("mdMode",function(e){switch(e){case u:case m:M.removeClass("ng-hide"),E&&M.removeClass(E),M.addClass(E="md-mode-"+e);break;default:E&&M.removeClass(E),M.addClass("ng-hide"),E=n}})}function h(){y.css({width:100*$()+"px",height:100*$()+"px"}),y.children().eq(0).css(C({transform:r.supplant("translate(-50%, -50%) scale( {0} )",[$()])}))}function g(){if(t.isUndefined(f.mdMode)){var e=t.isDefined(f.value),n=e?u:m,o="Auto-adding the missing md-mode='{0}' to the ProgressCircular element";i.debug(r.supplant(o,[n])),a.attr("md-mode",n),f.mdMode=n}}function v(e){if(b()){w=w||t.element(a[0].querySelector(".md-left > .md-half-circle")),x=x||t.element(a[0].querySelector(".md-right > .md-half-circle")),A=A||t.element(a[0].querySelector(".md-gap"));var n=c({borderBottomColor:50>=e?"transparent !important":"",transition:50>=e?"":"borderBottomColor 0.1s linear"}),i=c({transition:50>=e?"transform 0.1s linear":"",transform:r.supplant("rotate({0}deg)",[50>=e?135:(e-50)/50*180+135])}),o=c({transition:e>=50?"transform 0.1s linear":"",transform:r.supplant("rotate({0}deg)",[e>=50?45:e/50*180-135])});w.css(C(i)),x.css(C(o)),A.css(C(n))}}function $(){if(!f.mdDiameter)return d;var e=/([0-9]*)%/.exec(f.mdDiameter),t=Math.max(0,e&&e[1]/100||parseFloat(f.mdDiameter));return t>1?t/l:t}function b(){var e=(f.mdMode||"").trim();if(e)switch(e){case u:case m:break;default:e=n}return e}e(a);var E,y=a,M=t.element(a.children()[0]),C=r.dom.animator.toCss;a.attr("md-mode",b()),h(),g(),p();var w,x,A}function s(e){return Math.max(0,Math.min(e||0,100))}function c(e){for(var t in e)e.hasOwnProperty(t)&&""==e[t]&&delete e[t];return e}var l=100,d=.5,u="determinate",m="indeterminate";return{restrict:"E",scope:!0,template:'<div class="md-scale-wrapper"><div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div></div>',compile:o}}t.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e),e.$inject=["$mdTheming","$mdUtil","$log"]}(),function(){function e(e,r,i){function o(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(o,a,m){function f(){m.$observe("value",function(e){var t=s(e);a.attr("aria-valuenow",t),h()!=u&&g(E,t)}),m.$observe("mdBufferValue",function(e){g(b,s(e))}),m.$observe("mdMode",function(e){switch(e){case u:case d:case c:case l:y.removeClass("ng-hide "+v),y.addClass(v="md-mode-"+e);break;default:v&&y.removeClass(v),y.addClass("ng-hide"),v=n}})}function p(){if(t.isUndefined(m.mdMode)){var e=t.isDefined(m.value),n=e?c:l,o="Auto-adding the missing md-mode='{0}' to the ProgressLinear element";i.debug(r.supplant(o,[n])),a.attr("md-mode",n),m.mdMode=n}}function h(){var e=(m.mdMode||"").trim();if(e)switch(e){case c:case l:case d:case u:break;default:e=n}return e}function g(e,n){if(h()){var i=r.supplant("translateX({0}%) scale({1},1)",[(n-100)/2,n/100]),o=$({transform:i});t.element(e).css(o)}}e(a);var v,$=r.dom.animator.toCss,b=t.element(a[0].querySelector(".md-bar1")),E=t.element(a[0].querySelector(".md-bar2")),y=t.element(a[0].querySelector(".md-container"));a.attr("md-mode",h()),p(),f()}function s(e){return Math.max(0,Math.min(e||0,100))}var c="determinate",l="indeterminate",d="buffer",u="query";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:o}}t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e),e.$inject=["$mdTheming","$mdUtil","$log"]}(),function(){function e(e,n,r,i){function o(o,a,s,c){function l(){a.hasClass("md-focused")||a.addClass("md-focused")}function d(r){var i=r.which||r.keyCode;if(i==n.KEY_CODE.ENTER||r.currentTarget==r.target)switch(i){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:r.preventDefault(),u.selectPrevious(),l();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:r.preventDefault(),u.selectNext(),l();break;case n.KEY_CODE.ENTER:var o=t.element(e.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}}r(a);var u=c[0],m=c[1]||e.fakeNgModel();u.init(m),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",d).on("mousedown",function(e){o.mouseActive=!0,i(function(){o.mouseActive=!1},100)}).on("focus",function(){o.mouseActive===!1&&u.$element.addClass("md-focused")}).on("blur",function(){u.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[],this.$element=e}function s(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return c(this.$element,1)},selectPrevious:function(){return c(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function c(n,r){var i=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(i.count()){var o=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=i[0>r?"previous":"next"](a,o)||i.first();t.element(s).triggerHandler("click")}}return a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:o}}}function n(e,t,n){function r(r,o,a,s){function c(e){if(!s)throw"RadioGroupController not found.";s.add(d),a.$observe("value",d),o.on("click",l).on("$destroy",function(){s.remove(d)})}function l(e){o[0].hasAttribute("disabled")||r.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function d(){function e(e){"MD-RADIO-GROUP"!=o.parent()[0].nodeName&&o.parent()[e?"addClass":"removeClass"](i)}var t=s.getViewValue()==a.value;t!==m&&(m=t,o.attr("aria-checked",t),t?(e(!0),o.addClass(i),s.setActiveDescendant(o.attr("id"))):(e(!1),o.removeClass(i)))}function u(n,r){function i(){return a.id||"radio_"+t.nextUid()}r.ariaId=i(),n.attr({id:r.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var m;n(o),u(o,r),c()}var i="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:r}}t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n),e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){function e(e,r,i,o,a,s){function c(a,c){var l=t.element("<md-select-value><span></span></md-select-value>");if(l.append('<span class="md-select-icon" aria-hidden="true"></span>'),l.addClass("md-select-value"),l[0].hasAttribute("id")||l.attr("id","select_value_label_"+r.nextUid()),a.find("md-content").length||a.append(t.element("<md-content>").append(a.contents())),c.mdOnOpen&&(a.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="{{progressMode}}" ng-hide="$$loadingAsyncDone"></md-progress-circular></div>')),a.find("md-option").attr("ng-show","$$loadingAsyncDone")),c.name){var d=t.element('<select class="md-visually-hidden">');d.attr({name:"."+c.name,"ng-model":c.ngModel,"aria-hidden":"true",tabindex:"-1"});var u=a.find("md-option");t.forEach(u,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),d.append(n)}),a.parent().append(d)}var m=t.isDefined(c.multiple)?"multiple":"",f='<div class="md-select-menu-container" aria-hidden="true"><md-select-menu {0}>{1}</md-select-menu></div>';return f=r.supplant(f,[m,a.html()]),a.empty().append(l),a.append(f),c.tabindex=c.tabindex||"0",function(a,c,l,d){function u(){var e=c.attr("aria-label")||c.attr("placeholder");!e&&y&&y.label&&(e=y.label.text()),b=e,o.expect(c,"aria-label",e)}function m(){T&&(N=N||T.find("md-select-menu").controller("mdSelectMenu"),M.setLabelText(N.selectedLabels()))}function f(){if(b){var e=N.selectedLabels({mode:"aria"});c.attr("aria-label",e.length?b+": "+e:b)}}function p(){y&&y.setHasValue(N.selectedLabels().length>0||(c[0].validity||{}).badInput)}function h(){if(T=t.element(c[0].querySelector(".md-select-menu-container")),S=a,c.attr("md-container-class")){var e=T[0].getAttribute("class")+" "+c.attr("md-container-class");T[0].setAttribute("class",e)}N=T.find("md-select-menu").controller("mdSelectMenu"),N.init(C,l.ngModel),c.on("$destroy",function(){T.remove()})}function g(e){var n=[32,13,38,40];if(-1!=n.indexOf(e.keyCode))e.preventDefault(),v(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var r=N.optNodeForKeyboardSearch(e);if(!r)return;var i=t.element(r).controller("mdOption");N.isMultiple||N.deselect(Object.keys(N.selected)[0]),N.select(i.hashKey,i.value),N.refreshViewValue()}}function v(){S.isOpen=!0,c.attr("aria-expanded","true"),e.show({scope:S,preserveScope:!0,skipCompile:!0,element:T,target:c[0],selectCtrl:M,preserveElement:!0,hasBackdrop:!0,loadingAsync:l.mdOnOpen?a.$eval(l.mdOnOpen)||!0:!1})["finally"](function(){S.isOpen=!1,c.focus(),c.attr("aria-expanded","false"),C.$setTouched()})}var $,b,E=!0,y=d[0],M=d[1],C=d[2],w=d[3],x=c.find("md-select-value"),A=t.isDefined(l.readonly);if(y){var k=y.isErrorGetter||function(){return C.$invalid&&C.$touched};if(y.input)throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");y.input=c,y.label||o.expect(c,"aria-label",c.attr("placeholder")),a.$watch(k,y.setInvalid)}var T,S,N;if(h(),i(c),l.name&&w){var _=c.parent()[0].querySelector('select[name=".'+l.name+'"]');r.nextTick(function(){var e=t.element(_).controller("ngModel");e&&w.$removeControl(e)})}w&&r.nextTick(function(){w.$setPristine()});var D=C.$render;C.$render=function(){D(),m(),f(),p()},l.$observe("placeholder",C.$render),M.setLabelText=function(e){M.setIsPlaceholder(!e);var t=l.placeholder||(y&&y.label?y.label.text():"");e=e||t||"";var n=x.children().eq(0);n.html(e)},M.setIsPlaceholder=function(e){e?(x.addClass("md-select-placeholder"),y&&y.label&&y.label.addClass("md-placeholder")):(x.removeClass("md-select-placeholder"),y&&y.label&&y.label.removeClass("md-placeholder"))},A||(c.on("focus",function(e){y&&y.element.hasClass("md-input-has-value")&&y.setFocused(!0)}),r.nextTick(function(){c.on("blur",function(){E&&(E=!1,C.$setUntouched()),S.isOpen||(y&&y.setFocused(!1),p())})})),M.triggerClose=function(){s(l.mdOnClose)(a)},a.$$postDigest(function(){u(),m(),f()}),a.$watch(N.selectedLabels,m);var H;l.$observe("ngMultiple",function(e){H&&H();var t=s(e);H=a.$watch(function(){return t(a)},function(e,t){(e!==n||t!==n)&&(e?c.attr("multiple","multiple"):c.removeAttr("multiple"),c.attr("aria-multiselectable",e?"true":"false"),T&&(N.setMultiple(e),D=C.$render,C.$render=function(){D(),m(),f(),p()},C.$render()))})}),l.$observe("disabled",function(e){t.isString(e)&&(e=!0),($===n||$!==e)&&($=e,e?(c.attr({tabindex:-1,"aria-disabled":"true"}),c.off("click",v),c.off("keydown",g)):(c.attr({tabindex:l.tabindex,"aria-disabled":"false"}),c.on("click",v),c.on("keydown",g)))}),l.disabled||l.ngDisabled||(c.attr({tabindex:l.tabindex,"aria-disabled":"false"}),c.on("click",v),c.on("keydown",g));var O={role:"listbox","aria-expanded":"false","aria-multiselectable":l.multiple===n||l.ngMultiple?"false":"true"};c[0].hasAttribute("id")||(O.id="select_"+r.nextUid());var I="select_container_"+r.nextUid();T.attr("id",I),O["aria-owns"]=I,c.attr(O),a.$on("$destroy",function(){e.destroy()["finally"](function(){y&&(y.setFocused(!1),y.setHasValue(!1),y.input=null),C.$setTouched()})})}}return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:c,controller:function(){}}}function r(e,r,i){function o(e,n,o,a){function s(e){(13==e.keyCode||32==e.keyCode)&&c(e)}function c(n){var i=r.getClosest(n.target,"md-option"),o=i&&t.element(i).data("$mdOptionController");if(i&&o){if(i.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=l.hashGetter(o.value),s=t.isDefined(l.selected[a]);e.$apply(function(){l.isMultiple?s?l.deselect(a):l.select(a,o.value):s||(l.deselect(Object.keys(l.selected)[0]),l.select(a,o.value)),l.refreshViewValue()})}}var l=a[0];i(n),n.on("click",c),n.on("keypress",s)}function a(i,o,a){function s(){var e=d.ngModel.$modelValue||d.ngModel.$viewValue||[];if(t.isArray(e)){var n=Object.keys(d.selected),r=e.map(d.hashGetter),i=n.filter(function(e){return-1===r.indexOf(e)});i.forEach(d.deselect),r.forEach(function(t,n){d.select(t,e[n])})}}function l(){var e=d.ngModel.$viewValue||d.ngModel.$modelValue;Object.keys(d.selected).forEach(d.deselect),d.select(d.hashGetter(e),e)}var d=this;d.isMultiple=t.isDefined(o.multiple),d.selected={},d.options={},i.$watchCollection(function(){return d.options},function(){d.ngModel.$render()});var u,m;d.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var r=d.ngModel;m=m||r.$isEmpty,d.isMultiple=e,u&&u(),d.isMultiple?(r.$validators["md-multiple"]=n,r.$render=s,i.$watchCollection(d.modelBinding,function(e){n(e)&&s(e),d.ngModel.$setPristine()}),r.$isEmpty=function(e){return!e||0===e.length}):(delete r.$validators["md-multiple"],r.$render=l)};var f,p,h,g="",v=300;d.optNodeForKeyboardSearch=function(e){f&&clearTimeout(f),f=setTimeout(function(){f=n,g="",h=n,p=n},v),g+=String.fromCharCode(e.keyCode);var r=new RegExp("^"+g,"i");p||(p=a.find("md-option"),h=new Array(p.length),t.forEach(p,function(e,t){h[t]=e.textContent.trim()}));for(var i=0;i<h.length;++i)if(r.test(h[i]))return p[i]},d.init=function(n,r){if(d.ngModel=n,d.modelBinding=r,n.$options&&n.$options.trackBy){var o={},a=e(n.$options.trackBy);d.hashGetter=function(e,t){return o.$value=e,a(t||i,o)}}else d.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++c)):e};d.setMultiple(d.isMultiple)},d.selectedLabels=function(e){e=e||{};var t=e.mode||"html",n=r.nodesToArray(a[0].querySelectorAll("md-option[selected]"));if(n.length){var i;return"html"==t?i=function(e){return e.innerHTML}:"aria"==t&&(i=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),n.map(i).join(", ")}return""},d.select=function(e,t){var n=d.options[e];n&&n.setSelected(!0),d.selected[e]=t},d.deselect=function(e){var t=d.options[e];t&&t.setSelected(!1),delete d.selected[e];
},d.addOption=function(e,n){if(t.isDefined(d.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');d.options[e]=n,t.isDefined(d.selected[e])&&(d.select(e,n.value),d.refreshViewValue())},d.removeOption=function(e){delete d.options[e]},d.refreshViewValue=function(){var e,n=[];for(var r in d.selected)(e=d.options[r])?n.push(e.value):n.push(d.selected[r]);var i=d.ngModel.$options&&d.ngModel.$options.trackBy,o=d.isMultiple?n:n[0],a=d.ngModel.$modelValue;(i?t.equals(a,o):a==o)||(d.ngModel.$setViewValue(o),d.ngModel.$render())}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!0,controller:a,link:{pre:o}}}function i(e,n){function r(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),i}function i(r,i,o,a){function s(e,t,n){if(!d.hashGetter)return void(n||r.$$postDigest(function(){s(e,t,!0)}));var i=d.hashGetter(t,r),o=d.hashGetter(e,r);l.hashKey=o,l.value=e,d.removeOption(i,l),d.addOption(o,l)}function c(){var e={role:"option","aria-selected":"false"};i[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),i.attr(e)}var l=a[0],d=a[1];t.isDefined(o.ngValue)?r.$watch(o.ngValue,s):t.isDefined(o.value)?s(o.value):r.$watch(function(){return i.text()},s),o.$observe("disabled",function(e){e?i.attr("tabindex","-1"):i.attr("tabindex","0")}),r.$$postDigest(function(){o.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(d.isMultiple||d.deselect(Object.keys(d.selected)[0]),d.select(l.hashKey,l.value)):d.deselect(l.hashKey),d.refreshViewValue())})}),e.attach(r,i),c(),r.$on("$destroy",function(){d.removeOption(l.hashKey,l)})}function o(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return o.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:o,compile:r}}function o(){function e(e,n){var r=e.find("label");r.length||(r=t.element("<label>"),e.prepend(r)),r.addClass("md-container-ignore"),n.label&&r.text(n.label)}return{restrict:"E",compile:e}}function a(e){function r(e,r,l,d,u,m,f,p,h){function g(e,t,n){function r(){return f(t,{addClass:"md-leave"}).start()}function i(){t.removeClass("md-active"),t.attr("aria-hidden","true"),t[0].style.display="none",$(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?i():r().then(i)}function v(i,o,a){function s(e,t,n){return n.parent.append(t),u(function(e,n){try{f(t,{removeClass:"md-leave",duration:0}).start().then(c).then(e)}catch(r){n(r)}})}function c(){return u(function(e){if(a.isRemoved)return u.reject(!1);var t=b(i,o,a);t.container.element.css(y.toCss(t.container.styles)),t.dropDown.element.css(y.toCss(t.dropDown.styles)),m(function(){o.addClass("md-active"),t.dropDown.element.css(y.toCss({transform:""})),v(a.focusedNode),e()})})}function g(e,t,n){return n.disableParentScroll&&!l.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=l.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=l.createBackdrop(e,"md-select-backdrop md-click-catcher"),p.enter(n.backdrop,h[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}function v(e){e&&!e.hasAttribute("disabled")&&e.focus()}function $(e,n){var r=o.find("md-select-menu");if(!n.target)throw new Error(l.supplant(E,[n.target]));t.extend(n,{isRemoved:!1,target:t.element(n.target),parent:t.element(n.parent),selectEl:r,contentEl:o.find("md-content"),optionNodes:r[0].getElementsByTagName("md-option")})}function M(){var e=function(e,t,n){return function(){if(!n.isRemoved){var r=b(e,t,n),i=r.container,o=r.dropDown;i.element.css(y.toCss(i.styles)),o.element.css(y.toCss(o.styles))}}}(i,o,a),n=t.element(d);return n.on("resize",e),n.on("orientationchange",e),function(){n.off("resize",e),n.off("orientationchange",e)}}function C(){a.loadingAsync&&!a.isRemoved&&(i.$$loadingAsyncDone=!1,i.progressMode="indeterminate",u.when(a.loadingAsync).then(function(){i.$$loadingAsyncDone=!0,i.progressMode="",delete a.loadingAsync}).then(function(){m(c)}))}function w(){function t(t){t.preventDefault(),t.stopPropagation(),a.restoreFocus=!1,l.nextTick(e.hide,!0)}function i(t){var n=r.KEY_CODE;switch(t.preventDefault(),t.stopPropagation(),t.keyCode){case n.UP_ARROW:return d();case n.DOWN_ARROW:return c();case n.SPACE:case n.ENTER:var i=l.getClosest(t.target,"md-option");i&&(m.triggerHandler({type:"click",target:i}),t.preventDefault()),u(t);break;case n.TAB:case n.ESCAPE:t.stopPropagation(),t.preventDefault(),a.restoreFocus=!0,l.nextTick(e.hide,!0);break;default:if(t.keyCode>=31&&t.keyCode<=90){var o=m.controller("mdSelectMenu").optNodeForKeyboardSearch(t);a.focusedNode=o||a.focusedNode,o&&o.focus()}}}function s(e){var t,r=l.nodesToArray(a.optionNodes),i=r.indexOf(a.focusedNode);do-1===i?i=0:"next"===e&&i<r.length-1?i++:"prev"===e&&i>0&&i--,t=r[i],t.hasAttribute("disabled")&&(t=n);while(!t&&i<r.length-1&&i>0);t&&t.focus(),a.focusedNode=t}function c(){s("next")}function d(){s("prev")}function u(t){function n(){var e=!1;if(t&&t.currentTarget.children.length>0){var n=t.currentTarget.children[0],r=n.scrollHeight>n.clientHeight;if(r&&n.children.length>0){var i=t.pageX-t.currentTarget.getBoundingClientRect().left;i>n.querySelector("md-option").offsetWidth&&(e=!0)}}return e}if(!(t&&"click"==t.type&&t.currentTarget!=m[0]||n())){var r=l.getClosest(t.target,"md-option");r&&r.hasAttribute&&!r.hasAttribute("disabled")&&(t.preventDefault(),t.stopPropagation(),f.isMultiple||(a.restoreFocus=!0,l.nextTick(function(){e.hide(f.ngModel.$viewValue)},!0)))}}if(!a.isRemoved){var m=a.selectEl,f=m.controller("mdSelectMenu")||{};return o.addClass("md-clickable"),a.backdrop&&a.backdrop.on("click",t),m.on("keydown",i),m.on("click",u),function(){a.backdrop&&a.backdrop.off("click",t),m.off("keydown",i),m.off("click",u),o.removeClass("md-clickable"),a.isRemoved=!0}}}return C(),$(i,a),a.hideBackdrop=g(i,o,a),s(i,o,a).then(function(e){return o.attr("aria-hidden","false"),a.alreadyOpen=!0,a.cleanupInteraction=w(),a.cleanupResizing=M(),e},a.hideBackdrop)}function $(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n.selectedLabels()),t.triggerClose()}}function b(e,n,r){var u,m=n[0],f=r.target[0].children[0],p=h[0].body,g=r.selectEl[0],v=r.contentEl[0],$=p.getBoundingClientRect(),b=f.getBoundingClientRect(),E=!1,y={left:$.left+s,top:s,bottom:$.height-s,right:$.width-s-(l.floatingScrollbars()?16:0)},M={top:b.top-y.top,left:b.left-y.left,right:y.right-(b.left+b.width),bottom:y.bottom-(b.top+b.height)},C=$.width-2*s,w=g.querySelector("md-option[selected]"),x=g.getElementsByTagName("md-option"),A=g.getElementsByTagName("md-optgroup"),k=c(n,v),T=i(r.loadingAsync);u=T?v.firstElementChild||v:w?w:A.length?A[0]:x.length?x[0]:v.firstElementChild||v,v.offsetWidth>C?v.style["max-width"]=C+"px":v.style.maxWidth=null,E&&(v.style["min-width"]=b.width+"px"),k&&g.classList.add("md-overflow");var S=u;"MD-OPTGROUP"===(S.tagName||"").toUpperCase()&&(S=x[0]||v.firstElementChild||v,u=S),r.focusedNode=S,m.style.display="block";var N=g.getBoundingClientRect(),_=a(u);if(u){var D=d.getComputedStyle(u);_.paddingLeft=parseInt(D.paddingLeft,10)||0,_.paddingRight=parseInt(D.paddingRight,10)||0}if(k){var H=v.offsetHeight/2;v.scrollTop=_.top+_.height/2-H,M.top<H?v.scrollTop=Math.min(_.top,v.scrollTop+H-M.top):M.bottom<H&&(v.scrollTop=Math.max(_.top+_.height-N.height,v.scrollTop-H+M.bottom))}var O,I,R,P;E?(O=b.left,I=b.top+b.height,R="50% 0",I+N.height>y.bottom&&(I=b.top-N.height,R="50% 100%")):(O=b.left+_.left-_.paddingLeft+2,I=Math.floor(b.top+b.height/2-_.height/2-_.top+v.scrollTop)+2,R=_.left+b.width/2+"px "+(_.top+_.height/2-v.scrollTop)+"px 0px",P=Math.min(b.width+_.paddingLeft+_.paddingRight,C));var L=m.getBoundingClientRect(),F=Math.round(100*Math.min(b.width/N.width,1))/100,j=Math.round(100*Math.min(b.height/N.height,1))/100;return{container:{element:t.element(m),styles:{left:Math.floor(o(y.left,O,y.right-L.width)),top:Math.floor(o(y.top,I,y.bottom-L.height)),"min-width":P}},dropDown:{element:t.element(g),styles:{transformOrigin:R,transform:r.alreadyOpen?"":l.supplant("scale({0},{1})",[F,j])}}}}var E="$mdSelect.show() expected a target element in options.target but got '{0}'!",y=l.dom.animator;return{parent:"body",themable:!0,onShow:v,onRemove:g,hasBackdrop:!0,disableParentScroll:!0}}function i(e){return e&&t.isFunction(e.then)}function o(e,t,n){return Math.max(e,Math.min(t,n))}function a(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}function c(e,t){var n=!1;try{var r=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=r}finally{}return n}return r.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],e("$mdSelect").setDefaults({methods:["target"],options:r})}var s=8,c=0;t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",e).directive("mdSelectMenu",r).directive("mdOption",i).directive("mdOptgroup",o).provider("$mdSelect",a),e.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$compile","$parse"],r.$inject=["$parse","$mdUtil","$mdTheming"],i.$inject=["$mdButtonInkRipple","$mdUtil"],a.$inject=["$$interimElementProvider"]}(),function(){function e(e,t){return["$mdUtil",function(n){return{restrict:"A",multiElement:!0,link:function(r,i,o){var a=r.$on("$md-resize-enable",function(){a(),r.$watch(o[e],function(e){!!e===t&&(n.nextTick(function(){r.$broadcast("$md-resize")}),n.dom.animator.waitTransitionEnd(i).then(function(){r.$broadcast("$md-resize")}))})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",e("ngShow",!0)).directive("ngHide",e("ngHide",!1))}(),function(){function e(e,n){return function(r){function i(){return e.when(r).then(function(e){return s=e,e})}var o,a="SideNav '"+r+"' is not available!",s=e.get(r);return s||e.notFoundError(r),o={isOpen:function(){return s&&s.isOpen()},isLockedOpen:function(){return s&&s.isLockedOpen()},toggle:function(){return s?s.toggle():n.reject(a)},open:function(){return s?s.open():n.reject(a)},close:function(){return s?s.close():n.reject(a)},then:function(e){var r=s?n.when(s):i();return r.then(e||t.noop)}}}}function r(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,r){}}}function i(e,r,i,o,a,s,c,l,d,u){function m(s,m,f,p){function h(e,t){s.isLockedOpen=e,e===t?m.toggleClass("md-locked-open",!!e):a[e?"addClass":"removeClass"](m,"md-locked-open"),A.toggleClass("md-locked-open",!!e)}function g(e){var t=r.findFocusTarget(m)||r.findFocusTarget(m,"[md-sidenav-focus]")||m,n=m.parent();return n[e?"on":"off"]("keydown",b),A[e?"on":"off"]("click",E),e&&(M=u[0].activeElement),v(e),C=d.all([e?a.enter(A,n):a.leave(A),a[e?"removeClass":"addClass"](m,"md-closed")]).then(function(){s.isOpen&&t&&t.focus()})}function v(e){var r=m.parent();e&&!y?(y=r.css("overflow"),r.css("overflow","hidden")):t.isDefined(y)&&(r.css("overflow",y),y=n)}function $(e){return s.isOpen==e?d.when(!0):d(function(t){s.isOpen=e,r.nextTick(function(){C.then(function(e){s.isOpen||(M&&M.focus(),M=null),t(e)})})})}function b(e){var t=e.keyCode===i.KEY_CODE.ESCAPE;return t?E(e):d.when(!0)}function E(e){return e.preventDefault(),p.close()}var y,M=null,C=d.when(!0),w=c(f.mdIsLockedOpen),x=function(){return w(s.$parent,{$media:function(t){return l.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})},A=r.createBackdrop(s,"md-sidenav-backdrop md-opaque ng-enter");o.inherit(A,m),m.on("$destroy",function(){A.remove(),p.destroy()}),s.$on("$destroy",function(){A.remove()}),s.$watch(x,h),s.$watch("isOpen",g),p.$toggleOpen=$}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed"),e.attr("tabIndex","-1"),m}}}function o(e,t,n,r,i){var o=this;o.isOpen=function(){return!!e.isOpen},o.isLockedOpen=function(){return!!e.isLockedOpen},o.open=function(){return o.$toggleOpen(!0)},o.close=function(){return o.$toggleOpen(!1)},o.toggle=function(){return o.$toggleOpen(!e.isOpen)},o.$toggleOpen=function(t){return i.when(e.isOpen=t)},o.destroy=r.register(o,n.mdComponentId)}t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",i).directive("mdSidenavFocus",r).controller("$mdSidenavController",o),e.$inject=["$mdComponentRegistry","$q"],i.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$animate","$compile","$parse","$log","$q","$document"],o.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){function e(e,n,r,i,o,a,s,c,l){function d(e,t){return e.attr({tabIndex:0,role:"slider"}),r.expect(e,"aria-label"),u}function u(r,d,u,m){function f(){b(),C(),$()}function p(e){K=parseFloat(e),d.attr("aria-valuemin",e),f()}function h(e){G=parseFloat(e),d.attr("aria-valuemax",e),f()}function g(e){X=parseFloat(e),$()}function v(e){d.attr("aria-disabled",!!e)}function $(){if(t.isDefined(u.mdDiscrete)&&!t.isUndefined(X)){if(0>=X){var e="Slider step value must be greater than zero when in discrete mode";throw l.error(e),new Error(e)}var r=Math.floor((G-K)/X);if(!Z){Z=t.element('<canvas style="position:absolute;">'),q.append(Z);var i=n.getComputedStyle(q[0]);J=Z[0].getContext("2d"),J.fillStyle=i.backgroundColor||"black"}var o=E();Z[0].width=o.width,Z[0].height=o.height;for(var a,s=0;r>=s;s++)a=Math.floor(o.width*(s/r)),J.fillRect(a-1,0,2,o.height)}}function b(){Q=B[0].getBoundingClientRect()}function E(){return z(),Q}function y(e){if(!d[0].hasAttribute("disabled")){var t;e.keyCode===o.KEY_CODE.LEFT_ARROW?t=-X:e.keyCode===o.KEY_CODE.RIGHT_ARROW&&(t=X),t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),r.$evalAsync(function(){M(m.$viewValue+t)}))}}function M(e){m.$setViewValue(w(x(e)))}function C(){isNaN(m.$viewValue)&&(m.$viewValue=m.$modelValue);var e=(m.$viewValue-K)/(G-K);r.modelValue=m.$viewValue,d.attr("aria-valuenow",m.$viewValue),A(e),j.text(m.$viewValue)}function w(e){return t.isNumber(e)?Math.max(K,Math.min(G,e)):void 0}function x(e){if(t.isNumber(e)){var n=Math.round((e-K)/X)*X+K;return Math.round(1e3*n)/1e3}}function A(e){var t=100*e+"%";U.css("width",t),V.css("left",t),d.toggleClass("md-min",0===e),d.toggleClass("md-max",1===e)}function k(e){if(!L()){d.addClass("md-active"),d[0].focus(),b();var t=R(I(e.pointer.x)),n=w(x(t));r.$apply(function(){M(n),A(P(n))})}}function T(e){if(!L()){d.removeClass("md-dragging md-active");var t=R(I(e.pointer.x)),n=w(x(t));r.$apply(function(){M(n),C()})}}function S(e){L()||(ee=!0,e.stopPropagation(),d.addClass("md-dragging"),D(e))}function N(e){ee&&(e.stopPropagation(),D(e))}function _(e){ee&&(e.stopPropagation(),ee=!1)}function D(e){te?O(e.pointer.x):H(e.pointer.x)}function H(e){r.$evalAsync(function(){M(R(I(e)))})}function O(e){var t=R(I(e)),n=w(x(t));A(I(e)),j.text(n)}function I(e){return Math.max(0,Math.min(1,(e-Q.left)/Q.width))}function R(e){return K+e*(G-K)}function P(e){return(e-K)/(G-K)}a(d),m=m||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var L=t.noop;null!=u.disabled?L=function(){return!0}:u.ngDisabled&&(L=t.bind(null,c(u.ngDisabled),r.$parent));var F=t.element(d[0].querySelector(".md-thumb")),j=t.element(d[0].querySelector(".md-thumb-text")),V=F.parent(),B=t.element(d[0].querySelector(".md-track-container")),U=t.element(d[0].querySelector(".md-track-fill")),q=t.element(d[0].querySelector(".md-track-ticks")),z=i.throttle(b,5e3);t.isDefined(u.min)?u.$observe("min",p):p(0),t.isDefined(u.max)?u.$observe("max",h):h(100),t.isDefined(u.step)?u.$observe("step",g):g(1);var W=t.noop;u.ngDisabled&&(W=r.$parent.$watch(u.ngDisabled,v)),s.register(d,"drag"),d.on("keydown",y).on("$md.pressdown",k).on("$md.pressup",T).on("$md.dragstart",S).on("$md.drag",N).on("$md.dragend",_),setTimeout(f,0);var Y=e.throttle(f);t.element(n).on("resize",Y),r.$on("$destroy",function(){t.element(n).off("resize",Y),W()}),m.$render=C,m.$viewChangeListeners.push(C),m.$formatters.push(w),m.$formatters.push(x);var K,G,X,Z,J,Q={};b();var ee=!1,te=t.isDefined(u.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div>',compile:d}}t.module("material.components.slider",["material.core"]).directive("mdSlider",e),e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log"]}(),function(){function e(e,r,i,o){function a(e){function t(e,t){t.addClass("md-sticky-clone");var n={element:e,clone:t};return h.items.push(n),o.nextTick(function(){f.prepend(n.clone)}),p(),function(){h.items.forEach(function(t,n){t.element[0]===e[0]&&(h.items.splice(n,1),t.clone.remove())}),p()}}function a(){h.items.forEach(s),h.items=h.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=f.prop("scrollTop"),n=h.items.length-1;n>=0;n--)if(t>h.items[n].top){e=h.items[n];break}d(e)}function s(e){var t=e.element[0];for(e.top=0,e.left=0;t&&t!==f[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;e.height=e.element.prop("offsetHeight"),e.clone.css("margin-left",e.left+"px"),o.floatingScrollbars()&&e.clone.css("margin-right","0")}function l(){var e=f.prop("scrollTop"),t=e>(l.prevScrollTop||0);if(l.prevScrollTop=e,0===e)return void d(null);if(t){if(h.next&&h.next.top<=e)return void d(h.next);if(h.current&&h.next&&h.next.top-e<=h.next.height)return void m(h.current,e+(h.next.top-h.next.height-e))}if(!t){if(h.current&&h.prev&&e<h.current.top)return void d(h.prev);if(h.next&&h.current&&e>=h.next.top-h.current.height)return void m(h.current,e+(h.next.top-e-h.current.height))}h.current&&m(h.current,e)}function d(e){if(h.current!==e){h.current&&(m(h.current,null),u(h.current,null)),e&&u(e,"active"),h.current=e;var t=h.items.indexOf(e);h.next=h.items[t+1],h.prev=h.items[t-1],u(h.next,"next"),u(h.prev,"prev")}}function u(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function m(e,t){e&&(null===t||t===n?e.translateY&&(e.translateY=null,e.clone.css(r.CSS.TRANSFORM,"")):(e.translateY=t,e.clone.css(r.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)")))}var f=e.$element,p=i.throttle(a);c(f),f.on("$scrollstart",p),f.on("$scroll",l);var h;return h={prev:null,current:null,next:null,items:[],add:t,refreshElements:a}}function s(n){var r,i=t.element("<div>");e[0].body.appendChild(i[0]);for(var o=["sticky","-webkit-sticky"],a=0;a<o.length;++a)if(i.css({position:o[a],top:0,"z-index":2}),i.css("position")==o[a]){r=o[a];break}return i.remove(),r}function c(e){function t(){+o.now()-r>a?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),i.throttle(t))}var n,r,a=200;e.on("scroll touchmove",function(){n||(n=!0,i.throttle(t),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),r=+o.now()})}var l=s();return function(e,t,n){var r=t.controller("mdContent");if(r)if(l)t.css({position:l,top:0,"z-index":2});else{var i=r.$element.data("$$sticky");i||(i=a(r),r.$element.data("$$sticky",i));var o=i.add(t,n||t.clone());e.$on("$destroy",o)}}}t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e),e.$inject=["$document","$mdConstant","$$rAF","$mdUtil"]}(),function(){function e(e,n,r,i){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader">  <div class="md-subheader-inner">    <span class="md-subheader-content"></span>  </div></div>',link:function(o,a,s,c,l){function d(e){return t.element(e[0].querySelector(".md-subheader-content"))}r(a);var u=a[0].outerHTML;l(o,function(e){d(a).append(e)}),a.hasClass("md-no-sticky")||l(o,function(t){var r='<div class="md-subheader-wrapper">'+u+"</div>",s=n(r)(o);e(o,a,s),i.nextTick(function(){d(s).append(t)})})}}}t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e),e.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil"]}(),function(){function e(e){function t(e){function t(t,i,o){var a=e(o[n]);i.on(r,function(e){t.$apply(function(){a(t,{$event:e})})})}return{restrict:"A",link:t}}var n="md"+e,r="$md."+e.toLowerCase();return t.$inject=["$parse"],t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight")).directive("mdSwipeUp",e("SwipeUp")).directive("mdSwipeDown",e("SwipeDown"))}(),function(){function e(e,n,r,i,o,a){function s(e,s){var l=c.compile(e,s);return e.addClass("md-dragging"),function(e,s,c,d){function u(t){h&&h(e)||(t.stopPropagation(),s.addClass("md-dragging"),$={width:g.prop("offsetWidth")},s.removeClass("transition"))}function m(e){if($){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/$.width,n=d.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),g.css(r.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),$.translate=n}}function f(e){if($){e.stopPropagation(),s.removeClass("md-dragging"),g.css(r.CSS.TRANSFORM,"");var t=d.$viewValue?$.translate>.5:$.translate<.5;t&&p(!d.$viewValue),$=null}}function p(t){e.$apply(function(){d.$setViewValue(t),d.$render()})}d=d||n.fakeNgModel();var h=null;null!=c.disabled?h=function(){return!0}:c.ngDisabled&&(h=i(c.ngDisabled));var g=t.element(s[0].querySelector(".md-thumb-container")),v=t.element(s[0].querySelector(".md-container"));o(function(){s.removeClass("md-dragging")}),l(e,s,c,d),h&&e.$watch(h,function(e){s.attr("tabindex",e?-1:0)}),a.register(v,"drag"),v.on("$md.dragstart",u).on("$md.drag",m).on("$md.dragend",f);var $}}var c=e[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:s}}t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e),e.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(e){return{restrict:"E",link:function(t,n,r){t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e){i=e}function r(e,n,r,o){function a(t,a,s){i=s.textContent||s.content;var d=!o("gt-sm");return a=r.extractElementByName(a,"md-toast",!0),s.onSwipe=function(e,t){var i=e.type.replace("$md.",""),o=i.replace("swipe","");"down"===o&&-1!=s.position.indexOf("top")&&!d||"up"===o&&(-1!=s.position.indexOf("bottom")||d)||("left"!==o&&"right"!==o||!d)&&(a.addClass("md-"+i),r.nextTick(n.cancel))},s.openClass=c(s.position),s.parent.addClass(s.openClass),r.hasComputedStyle(s.parent,"position","static")&&s.parent.css("position","relative"),a.on(l,s.onSwipe),a.addClass(d?"md-bottom":s.position.split(" ").map(function(e){return"md-"+e}).join(" ")),s.parent&&s.parent.addClass("md-toast-animating"),e.enter(a,s.parent).then(function(){s.parent&&s.parent.removeClass("md-toast-animating")})}function s(t,n,i){return n.off(l,i.onSwipe),i.parent&&i.parent.addClass("md-toast-animating"),i.openClass&&i.parent.removeClass(i.openClass),(1==i.$destroy?n.remove():e.leave(n)).then(function(){i.parent&&i.parent.removeClass("md-toast-animating"),r.hasComputedStyle(i.parent,"position","static")&&i.parent.css("position","")})}function c(e){return o("gt-sm")?"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}var l="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:a,onRemove:s,position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,n){var r=n.autoWrap&&e&&!/md-toast-content/g.test(e);if(r){var i=t.element(e),o='<div class="md-toast-content">'+i.html()+"</div>";return i.empty().append(o),i[0].outerHTML}return r?'<div class="md-toast-content">'+e+"</div>":e||""}}}var i,o="ok",a=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent"],options:r}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){var n={template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span flex role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:["$scope",function(t){var n=this;t.$watch(function(){return i},function(){n.content=i}),this.resolve=function(){e.hide(o)}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0};return n}]}).addMethod("updateTextContent",n).addMethod("updateContent",n);return r.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"],a}t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n),e.$inject=["$mdToast"],n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,r,i,o){var a=t.bind(null,r.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,c,l){function d(){function i(e){var t=c.parent().find("md-content");!h&&t.length&&d(null,t),e=s.$eval(e),e===!1?g():g=m()}function d(e,t){t&&c.parent()[0]===t.parent()[0]&&(h&&h.off("scroll",E),h=t,g=m())}function u(e){var t=e?e.target.scrollTop:$;y(),v=Math.min(p/b,Math.max(0,v+t-$)),c.css(n.CSS.TRANSFORM,a([-v*b])),h.css(n.CSS.TRANSFORM,a([(p-v)*b])),$=t,r.nextTick(function(){var e=c.hasClass("md-whiteframe-z1");e&&!v?o.removeClass(c,"md-whiteframe-z1"):!e&&v&&o.addClass(c,"md-whiteframe-z1")})}function m(){return h?(h.on("scroll",E),h.attr("scroll-shrink","true"),e(f),function(){h.off("scroll",E),h.attr("scroll-shrink","false"),e(f)}):t.noop}function f(){p=c.prop("offsetHeight");var e=-p*b+"px";h.css({"margin-top":e,"margin-bottom":e}),u()}var p,h,g=t.noop,v=0,$=0,b=l.mdShrinkSpeedFactor||.5,E=e.throttle(u),y=r.debounce(f,5e3);s.$on("$mdContentLoaded",d),l.$observe("mdScrollShrink",i),l.ngShow&&s.$watch(l.ngShow,f),l.ngHide&&s.$watch(l.ngHide,f),s.$on("$destroy",g)}i(c),t.isDefined(l.mdScrollShrink)&&d()}}}t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e),e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"]}(),function(){function e(e,n,r,i,o,a,s,c,l){function d(s,d,f){function p(){t.isDefined(f.mdDelay)||(s.delay=u)}function h(){var e="center top";switch(s.direction){case"left":e="right center";break;case"right":e="left center";break;case"top":e="center bottom";break;case"bottom":e="center top"}A.css("transform-origin",e)}function g(){s.$on("$destroy",function(){s.visible=!1,d.remove(),t.element(n).off("resize",T)}),s.$watch("visible",function(e){e?y():M()}),s.$watch("direction",C)}function v(){x.attr("aria-label")||x.text().trim()||x.attr("aria-label",d.text().trim())}function $(){d.detach(),d.attr("role","tooltip")}function b(){function e(){E(!1)}var r=!1,o=t.element(n);if(x[0]&&"MutationObserver"in n){var a=new MutationObserver(function(e){e.forEach(function(e){"disabled"===e.attributeName&&x[0].disabled&&(E(!1),s.$digest())})});a.observe(x[0],{attributes:!0})}var c=function(){l=document.activeElement===x[0]},l=!1;o.on("blur",c),o.on("resize",T),document.addEventListener("scroll",e,!0),s.$on("$destroy",function(){o.off("blur",c),o.off("resize",T),document.removeEventListener("scroll",e,!0),a&&a.disconnect()});var d=function(e){return"focus"===e.type&&l?void(l=!1):(x.on("blur mouseleave touchend touchcancel",u),void E(!0))},u=function(){var e=s.hasOwnProperty("autohide")?s.autohide:f.hasOwnProperty("mdAutohide");(e||r||i[0].activeElement!==x[0])&&(x.off("blur mouseleave touchend touchcancel",u),x.triggerHandler("blur"),E(!1)),r=!1};x.on("mousedown",function(){r=!0}),x.on("focus mouseenter touchstart",d)}function E(t){E.value=!!t,E.queued||(t?(E.queued=!0,e(function(){s.visible=E.value,E.queued=!1},s.delay)):o.nextTick(function(){s.visible=!1}))}function y(){return k.append(d),o.hasComputedStyle(d,"display","none")?(s.visible=!1,void d.detach()):(C(),void t.forEach([d,A],function(e){c.addClass(e,"md-show")}))}function M(){var e=[];t.forEach([d,A],function(t){t.parent()&&t.hasClass("md-show")&&e.push(c.removeClass(t,"md-show"))}),l.all(e).then(function(){s.visible||d.detach()})}function C(){s.visible&&(h(),w())}function w(){function e(e){var t={left:e.left,top:e.top};return t.left=Math.min(t.left,k.prop("scrollWidth")-n.width-m),t.left=Math.max(t.left,m),t.top=Math.min(t.top,k.prop("scrollHeight")-n.height-m),t.top=Math.max(t.top,m),t}function t(e){return"left"===e?{left:r.left-n.width-m,top:r.top+r.height/2-n.height/2}:"right"===e?{left:r.left+r.width+m,top:r.top+r.height/2-n.height/2}:"top"===e?{left:r.left+r.width/2-n.width/2,top:r.top-n.height-m}:{left:r.left+r.width/2-n.width/2,top:r.top+r.height+m}}var n=o.offsetRect(d,k),r=o.offsetRect(x,k),i=t(s.direction),a=d.prop("offsetParent");s.direction?i=e(i):a&&i.top>a.scrollHeight-n.height-m&&(i=e(t("top"))),d.css({left:i.left+"px",top:i.top+"px"})}a(d);var x=o.getParentWithPointerEvents(d),A=t.element(d[0].getElementsByClassName("md-content")[0]),k=t.element(document.body),T=r.throttle(function(){C()});c.pin&&c.pin(d,x),p(),$(),b(),h(),g(),v()}var u=0,m=8;return{restrict:"E",transclude:!0,priority:210,template:'<div class="md-content" ng-transclude></div>',scope:{delay:"=?mdDelay",visible:"=?mdVisible",autohide:"=?mdAutohide",direction:"@?mdDirection"},link:d}}t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e),e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){function e(){return{controller:r,template:n,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function n(e){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"></div><div class="md-virtual-repeat-offsetter">'+e[0].innerHTML+"</div></div>"}function r(e,n,r,i,o,a,s,c){this.$rootScope=i,this.$scope=a,this.$element=s,this.$attrs=c,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.$attrs.mdTopIndex?(this.bindTopIndex=r(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=s[0].getElementsByClassName("md-virtual-repeat-scroller")[0],this.sizer=this.scroller.getElementsByClassName("md-virtual-repeat-sizer")[0],
this.offsetter=this.scroller.getElementsByClassName("md-virtual-repeat-offsetter")[0];var l=t.bind(this,this.updateSize);e(t.bind(this,function(){l();var e=n.debounce(l,10,null,!1),r=t.element(o);this.size||e(),r.on("resize",e),a.$on("$destroy",function(){r.off("resize",e)}),a.$emit("$md-resize-enable"),a.$on("$md-resize",l)}))}function i(e){return{controller:o,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var r=n.mdVirtualRepeat,i=r.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),o=i[1],a=e(i[2]),s=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,r,i){r[0].link_(r[1],i,o,a,s)}}}}function o(e,n,r,i,o,a,s){this.$scope=e,this.$element=n,this.$attrs=r,this.$browser=i,this.$document=o,this.$rootScope=a,this.$$rAF=s,this.onDemand=r.hasOwnProperty("mdOnDemand"),this.browserCheckUrlChange=i.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(r.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=t.noop,this.blocks={},this.pooledBlocks=[]}function a(e){if(!t.isFunction(e.getItemAtIndex)||!t.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=e}t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",e).directive("mdVirtualRepeat",i);var s=1533917,c=3;r.$inject=["$$rAF","$mdUtil","$parse","$rootScope","$window","$scope","$element","$attrs"],r.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},r.prototype.isHorizontal=function(){return this.horizontal},r.prototype.getSize=function(){return this.size},r.prototype.setSize_=function(e){var t=this.getDimensionName_();this.size=e,this.$element[0].style[t]=e+"px"},r.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},r.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},r.prototype.getScrollSize=function(){return this.scrollSize},r.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},r.prototype.sizeScroller_=function(e){var t=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",s>e)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var r=Math.floor(e/s),i=document.createElement("div");i.style[t]=s+"px",i.style[n]="1px";for(var o=0;r>o;o++)this.sizer.appendChild(i.cloneNode(!1));i.style[t]=e-r*s+"px",this.sizer.appendChild(i)}},r.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;!n||n>t?(this.originalSize||(this.originalSize=this.size),this.setSize_(t)):null!==this.originalSize&&(this.unsetSize_(),this.originalSize=null,this.updateSize()),this.repeater.containerUpdated()}},r.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},r.prototype.getScrollOffset=function(){return this.scrollOffset},r.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},r.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;e>n&&(e=n-1),this.scrollTo(t*e)},r.prototype.resetScroll=function(){this.scrollTo(0)},r.prototype.handleScroll_=function(){var e=this.isHorizontal()?this.scroller.scrollLeft:this.scroller.scrollTop;if(e!==this.scrollOffset){var t=this.repeater.getItemSize();if(t){var n=Math.max(0,Math.floor(e/t)-c),r=this.isHorizontal()?"translateX(":"translateY(";if(r+=n*t+"px)",this.scrollOffset=e,this.offsetter.style.webkitTransform=r,this.offsetter.style.transform=r,this.bindTopIndex){var i=Math.floor(e/t);i!==this.topIndex&&i<this.repeater.itemsLength&&(this.topIndex=i,this.bindTopIndex.assign(this.$scope,i),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},i.$inject=["$parse"],o.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF"],o.Block,o.prototype.link_=function(e,n,r,i,o){this.container=e,this.transclude=n,this.repeatName=r,this.rawRepeatListExpression=i,this.extraName=o,this.sized=!1,this.repeatListExpression=t.bind(this,this.repeatListExpression_),this.container.register(this)},o.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},o.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new a(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},o.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof a&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e){e&&e.length&&this.$$rAF(t.bind(this,this.readItemSize_))})),void(this.$rootScope.$$phase||this.$scope.$digest()))},o.prototype.getItemSize=function(){return this.itemSize},o.prototype.virtualRepeatUpdate_=function(e,n){this.isVirtualRepeatUpdating_=!0;var r=e&&e.length||0,i=!1;if(this.items&&r<this.items.length&&0!==this.container.getScrollOffset())return this.items=e,void this.container.resetScroll();if(r!==this.itemsLength&&(i=!0,this.itemsLength=r),this.items=e,(e!==n||i)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,i&&this.container.setScrollSize(r*this.itemSize),this.isFirstRender){this.isFirstRender=!1;var o=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.container.scrollToIndex(o)}Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var a,s,c=[],l=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)s=this.getBlock_(a),this.updateBlock_(s,a),c.push(s);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(var d=a-1;a<this.newEndIndex;a++)s=this.getBlock_(a),this.updateBlock_(s,a),l.push(s);c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.$element[0].nextSibling),l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.blocks[d]&&this.blocks[d].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isVirtualRepeatUpdating_=!1},o.prototype.getBlock_=function(e){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(t.bind(this,function(t,r){n={element:t,"new":!0,scope:r},this.updateScope_(r,e),this.parentNode.appendChild(t[0])})),n},o.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e["new"]||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e["new"]=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},o.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},o.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},o.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},o.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+t+c,this.newEndIndex=Math.min(e,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-c)},a.prototype.$$includeIndexes=function(e,t){for(var n=e;t>n;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()}}(),function(){t.module("material.components.whiteframe",[])}(),function(){function e(e,r,s,c,l,d,u,m,f,p){function h(){s.initOptionalProperties(e,f,{searchText:null,selectedItem:null}),l(r),b(),s.nextTick(function(){y(),v(),$(),r.on("focus",$)})}function g(){function t(){var e=0,t=r.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}function n(){var e=ue.scrollContainer.getBoundingClientRect(),t={};e.right>u.right-o&&(t.left=l.right-e.width+"px"),ue.$.scrollContainer.css(t)}if(!ue)return s.nextTick(g,!1,e);var c,l=ue.wrap.getBoundingClientRect(),d=ue.snap.getBoundingClientRect(),u=ue.root.getBoundingClientRect(),m=d.bottom-u.top,p=u.bottom-d.top,h=l.left-u.left,v=l.width,$=t();f.mdFloatingLabel&&(h+=a,v-=2*a),c={left:h+"px",minWidth:v+"px",maxWidth:Math.max(l.right-u.left,u.right-l.left)-o+"px"},m>p&&u.height-l.bottom-o<i?(c.top="auto",c.bottom=p+"px",c.maxHeight=Math.min(i,l.top-u.top-o)+"px"):(c.top=m-$+"px",c.bottom="auto",c.maxHeight=Math.min(i,u.bottom+s.scrollTop()-l.bottom-o)+"px"),ue.$.scrollContainer.css(c),s.nextTick(n,!1)}function v(){ue.$.root.length&&(l(ue.$.scrollContainer),ue.$.scrollContainer.detach(),ue.$.root.append(ue.$.scrollContainer),u.pin&&u.pin(ue.$.scrollContainer,m))}function $(){e.autofocus&&ue.input.focus()}function b(){var n=parseInt(e.delay,10)||0;f.$observe("disabled",function(e){ce.isDisabled=!!e}),f.$observe("required",function(e){ce.isRequired=!!e}),e.$watch("searchText",n?s.debounce(O,n):O),e.$watch("selectedItem",T),t.element(d).on("resize",g),e.$on("$destroy",E)}function E(){if(t.element(d).off("resize",g),ue){var e="ul scroller scrollContainer input".split(" ");t.forEach(e,function(e){ue.$[e].remove()})}}function y(){ue={main:r[0],scrollContainer:r[0].getElementsByClassName("md-virtual-repeat-container")[0],scroller:r[0].getElementsByClassName("md-virtual-repeat-scroller")[0],ul:r.find("ul")[0],input:r.find("input")[0],wrap:r.find("md-autocomplete-wrap")[0],root:document.body},ue.li=ue.ul.getElementsByTagName("li"),ue.snap=M(),ue.$=C(ue)}function M(){for(var e=r;e.length;e=e.parent())if(t.isDefined(e.attr("md-autocomplete-snap")))return e[0];return ue.wrap}function C(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t.element(e[r]));return n}function w(t,n){!t&&n?(g(),ue&&s.nextTick(function(){s.disableScrollAround(ue.ul)},!1,e)):t&&!n&&s.nextTick(function(){s.enableScrolling()},!1,e)}function x(){fe=!0}function A(){he||ue.input.focus(),fe=!1,ce.hidden=q()}function k(){ue.input.focus()}function T(t,n){t&&j(t).then(function(r){e.searchText=r,_(t,n)}),t!==n&&S()}function S(){t.isFunction(e.itemChange)&&e.itemChange(V(e.selectedItem))}function N(){t.isFunction(e.textChange)&&e.textChange()}function _(e,t){pe.forEach(function(n){n(e,t)})}function D(e){-1==pe.indexOf(e)&&pe.push(e)}function H(e){var t=pe.indexOf(e);-1!=t&&pe.splice(t,1)}function O(t,n){ce.index=B(),t!==n&&j(e.selectedItem).then(function(r){t!==r&&(e.selectedItem=null,t!==n&&N(),X()?ae():(ce.matches=[],U(!1),te()))})}function I(){he=!1,fe||(ce.hidden=q())}function R(e){e&&(fe=!1,he=!1),ue.input.blur()}function P(){he=!0,t.isString(e.searchText)||(e.searchText=""),ce.hidden=q(),ce.hidden||ae()}function L(e){switch(e.keyCode){case c.KEY_CODE.DOWN_ARROW:if(ce.loading)return;e.stopPropagation(),e.preventDefault(),ce.index=Math.min(ce.index+1,ce.matches.length-1),re(),te();break;case c.KEY_CODE.UP_ARROW:if(ce.loading)return;e.stopPropagation(),e.preventDefault(),ce.index=ce.index<0?ce.matches.length-1:Math.max(0,ce.index-1),re(),te();break;case c.KEY_CODE.TAB:if(A(),ce.hidden||ce.loading||ce.index<0||ce.matches.length<1)return;J(ce.index);break;case c.KEY_CODE.ENTER:if(ce.hidden||ce.loading||ce.index<0||ce.matches.length<1)return;if(Y())return;e.stopPropagation(),e.preventDefault(),J(ce.index);break;case c.KEY_CODE.ESCAPE:e.stopPropagation(),e.preventDefault(),Q(),R(!0)}}function F(){return t.isNumber(e.minLength)?e.minLength:1}function j(t){function n(t){return t&&e.itemText?e.itemText(V(t)):null}return p.when(n(t)||t)}function V(e){if(!e)return n;var t={};return ce.itemName&&(t[ce.itemName]=e),t}function B(){return e.autoselect?0:-1}function U(e){ce.loading!=e&&(ce.loading=e),ce.hidden=q()}function q(){return ce.loading&&!W()?!0:Y()?!0:he?!z():!0}function z(){return X()&&W()||oe()}function W(){return ce.matches.length?!0:!1}function Y(){return ce.scope.selectedItem?!0:!1}function K(){return ce.loading&&!Y()}function G(){return j(ce.matches[ce.index])}function X(){return(e.searchText||"").length>=F()}function Z(e,t,n){Object.defineProperty(ce,e,{get:function(){return n},set:function(e){var r=n;n=e,t(e,r)}})}function J(t){s.nextTick(function(){j(ce.matches[t]).then(function(e){var t=ue.$.input.controller("ngModel");t.$setViewValue(e),t.$render()})["finally"](function(){e.selectedItem=ce.matches[t],U(!1)})},!1)}function Q(){U(!0),ce.index=0,ce.matches=[],e.searchText="",J(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",!0,!0,{value:e.searchText}),ue.input.dispatchEvent(t),ue.input.focus()}function ee(n){function r(t){me[o]=t,(n||"")===(e.searchText||"")&&(ce.matches=t,ce.hidden=q(),e.selectOnMatch&&se(),te(),g())}var i=e.$parent.$eval(de),o=n.toLowerCase();t.isArray(i)?r(i):i&&(U(!0),s.nextTick(function(){i.success&&i.success(r),i.then&&i.then(r),i["finally"]&&i["finally"](function(){U(!1)})},!0,e))}function te(){G().then(function(e){ce.messages=[ne(),e]})}function ne(){if(ge===ce.matches.length)return"";switch(ge=ce.matches.length,ce.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+ce.matches.length+" matches available."}}function re(){if(ue.li[0]){var e=ue.li[0].offsetHeight,t=e*ce.index,n=t+e,r=ue.scroller.clientHeight,i=ue.scroller.scrollTop;i>t?ie(t):n>i+r&&ie(n-r)}}function ie(e){ue.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function oe(){var e=(ce.scope.searchText||"").length;return ce.hasNotFound&&!W()&&!ce.loading&&e>=F()&&he&&!Y()}function ae(){var t=e.searchText||"",n=t.toLowerCase();!e.noCache&&me[n]?(ce.matches=me[n],te()):ee(t),ce.hidden=q()}function se(){var t=e.searchText,n=ce.matches,r=n[0];1===n.length&&j(r).then(function(e){t==e&&J(0)})}var ce=this,le=e.itemsExpr.split(/ in /i),de=le[1],ue=null,me={},fe=!1,pe=[],he=!1,ge=0;return Z("hidden",w,!0),ce.scope=e,ce.parent=e.$parent,ce.itemName=le[0],ce.matches=[],ce.loading=!1,ce.hidden=!0,ce.index=null,ce.messages=[],ce.id=s.nextUid(),ce.isDisabled=null,ce.isRequired=null,ce.hasNotFound=!1,ce.keydown=L,ce.blur=I,ce.focus=P,ce.clear=Q,ce.select=J,ce.listEnter=x,ce.listLeave=A,ce.mouseUp=k,ce.getCurrentDisplayValue=G,ce.registerSelectedItemWatcher=D,ce.unregisterSelectedItemWatcher=H,ce.notFoundVisible=oe,ce.loadingIsVisible=K,h()}t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var r=41,i=5.5*r,o=8,a=2;e.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q"]}(),function(){function e(){var e=!1;return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",selectOnMatch:"=?mdSelectOnMatch",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId"},link:function(t,n,r,i){i.hasNotFound=e},template:function(t,n){function r(){var e=t.find("md-item-template").detach(),n=e.length?e.html():t.html();return e.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}function i(){var e=t.find("md-not-found").detach(),n=e.length?e.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+n+"</li>":""}function o(){return n.mdFloatingLabel?'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=l?'tabindex="'+l+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+c+"</div>            </md-input-container>":'            <input flex type="search"                '+(null!=l?'tabindex="'+l+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            <button                type="button"                tabindex="-1"                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"                ng-click="$mdAutocompleteCtrl.clear()">              <md-icon md-svg-icon="md-close"></md-icon>              <span class="md-visually-hidden">Clear</span>            </button>                '}var a=i(),s=r(),c=t.html(),l=n.tabindex;return e=a?!0:!1,n.hasOwnProperty("tabindex")||t.attr("tabindex","-1"),'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel, \'md-menu-showing\': !$mdAutocompleteCtrl.hidden }"            role="listbox">          '+o()+'          <md-progress-linear              class="'+(n.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+s+"                  </li>"+a+'            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages track by $index" ng-if="message">{{message}}</p>        </aria-status>'}}}t.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){function e(e,t){function n(e,n,r){return function(e,n,i){function o(n,r){c[r]=e[n],e.$watch(n,function(e){t.nextTick(function(){c[r]=e})})}function a(){var t=!1,n=!1;e.$watch(function(){n||t||(t=!0,e.$$postDigest(function(){n||c.$digest(),t=n=!1}))}),c.$watch(function(){n=!0})}var s=e.$mdAutocompleteCtrl,c=s.parent.$new(),l=s.itemName;o("$index","$index"),o("item",l),a(),r(c,function(e){n.after(e)})}}return{restrict:"AE",compile:n,terminal:!0,transclude:"element"}}t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e,n,r){function i(i,o){var s=null,c=null,l=r.mdHighlightFlags||"",d=e.$watch(function(e){return{term:i(e),unsafeText:o(e)}},function(e,r){(null===s||e.unsafeText!==r.unsafeText)&&(s=t.element("<div>").text(e.unsafeText).html()),(null===c||e.term!==r.term)&&(c=a(e.term,l)),n.html(s.replace(c,'<span class="highlight">$&</span>'))},!0);n.on("$destroy",d)}function o(e){return e&&e.replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}function a(e,t){var n="";return t.indexOf("^")>=1&&(n+="^"),n+=e,t.indexOf("$")>=1&&(n+="$"),new RegExp(o(n),t.replace(/[\$\^]/g,""))}this.init=i}t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.$inject=["$scope","$element","$attrs"]}(),function(){function e(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,r){var i=t(r.mdHighlightText),o=e(n.html());return function(e,t,n,r){r.init(i,o)}}}}t.module("material.components.autocomplete").directive("mdHighlightText",e),e.$inject=["$interpolate","$parse"]}(),function(){function e(e,r){function i(n,i){return n.append(r.processTemplate(o)),function(n,r,i,o){r.addClass("md-chip"),e(r),o&&t.element(r[0].querySelector(".md-chip-content")).on("blur",function(){o.selectedChip=-1})}}var o=r.processTemplate(n);return{restrict:"E",require:"^?mdChips",compile:i}}t.module("material.components.chips").directive("mdChip",e);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e){function t(t,n,r,i){n.on("click",function(e){t.$apply(function(){i.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}t.module("material.components.chips").directive("mdChipRemove",e),e.$inject=["$timeout"]}(),function(){function e(e){function t(t,n,r){var i=t.$parent.$mdChipsCtrl,o=i.parent.$new(!1,i.parent);o.$$replacedScope=t,o.$chip=t.$chip,o.$index=t.$index,o.$mdChipsCtrl=i;var a=i.$scope.$eval(r.mdChipTransclude);n.html(a),e(n.contents())(o)}return{restrict:"EA",terminal:!0,link:t,scope:!1}}t.module("material.components.chips").directive("mdChipTransclude",e),e.$inject=["$compile"]}(),function(){function e(e,t,n,r,i){this.$timeout=i,this.$mdConstant=t,this.$scope=e,this.parent=e.$parent,this.$log=n,this.$element=r,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.hasAutocomplete=!1,this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useOnAppend=!1,this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.useOnSelect=!1}t.module("material.components.chips").controller("MdChipsCtrl",e),e.$inject=["$scope","$mdConstant","$log","$element","$timeout"],e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.hasAutocomplete&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(t)return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(e.keyCode)){if(this.hasAutocomplete&&this.requireMatch||!t)return;e.preventDefault(),this.appendChip(t),this.resetChipBuffer()}}},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;e.preventDefault(),this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),this.selectedChip<0&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.placeholder:this.secondaryPlaceholder},e.prototype.removeAndSelectAdjacentChip=function(e){var n=this.getAdjacentChipIndex(e);this.removeChip(e),this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(n)}))},e.prototype.resetSelectedChip=function(){this.selectedChip=-1},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){if(this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:e});t.isDefined(n)&&(e=n)}if(t.isObject(e)){var r=this.items.some(function(n){return t.equals(e,n)});if(r)return}if(!(null==e||this.items.indexOf(e)+1)){var i=this.items.push(e);this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:i})}},e.prototype.useOnAppendExpression=function(){this.$log.warn("md-on-append is deprecated; please use md-transform-chip or md-on-add instead"),this.useTransformChip&&this.transformChip||(this.useTransformChip=!0,this.transformChip=this.onAppend)},e.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},e.prototype.useOnAddExpression=function(){this.useOnAdd=!0},e.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},e.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},e.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.removeChip=function(e){var t=this.items.splice(e,1);t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:e})},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){return this.items.length?e===this.items.length?this.onFocus():(e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),void this.focusChip(e)):(this.selectChip(-1),void this.onFocus())},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[this.selectedChip]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!=e&&this.focusChip(e)},e.prototype.focusChip=function(e){this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content').focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var r=this.$scope,i=this,o=function(e,n){r.$evalAsync(t.bind(i,n,e))};e.attr({tabindex:0}).on("keydown",function(e){o(e,i.inputKeydown)}).on("focus",function(e){o(e,i.onInputFocus)}).on("blur",function(e){o(e,i.onInputBlur)})},e.prototype.configureAutocomplete=function(e){e&&(this.hasAutocomplete=!0,e.registerSelectedItemWatcher(t.bind(this,function(e){e&&(this.appendChip(e),this.resetChipBuffer())})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function e(e,t,a,s,c){function l(n,r){function i(e){if(r.ngModel){var t=o[0].querySelector(e);return t&&t.outerHTML}}var o=r.$mdUserTemplate;r.$mdUserTemplate=null;var l=i("md-chips>*[md-chip-remove]")||u.remove,d=i("md-chips>md-chip-template")||u["default"],m=i("md-chips>md-autocomplete")||i("md-chips>input")||u.input,f=o.find("md-chip");return o[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,i,o,s){t.initOptionalProperties(n,r),e(i);var p=s[0];if(p.chipContentsTemplate=d,p.chipRemoveTemplate=l,p.chipInputTemplate=m,i.attr({"aria-hidden":!0,tabindex:-1}).on("focus",function(){p.onFocus()}),r.ngModel&&(p.configureNgModel(i.controller("ngModel")),o.mdTransformChip&&p.useTransformChipExpression(),o.mdOnAppend&&p.useOnAppendExpression(),o.mdOnAdd&&p.useOnAddExpression(),o.mdOnRemove&&p.useOnRemoveExpression(),o.mdOnSelect&&p.useOnSelectExpression(),m!=u.input&&n.$watch("$mdChipsCtrl.readonly",function(e){e||t.nextTick(function(){0===m.indexOf("<md-autocomplete")&&p.configureAutocomplete(i.find("md-autocomplete").controller("mdAutocomplete")),p.configureUserInput(i.find("input"))})}),t.nextTick(function(){var e=i.find("input");e&&e.toggleClass("md-input",!0);
})),f.length>0){var h=a(f.clone())(n.$parent);c(function(){i.find("md-chips-wrap").prepend(h)})}}}function d(){return{chips:t.processTemplate(n),input:t.processTemplate(r),"default":t.processTemplate(i),remove:t.processTemplate(o)}}var u=d();return{template:function(e,t){return t.$mdUserTemplate=e.clone(),u.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:l,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdChips",e);var n='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(), \'md-readonly\': !$mdChipsCtrl.ngModelCtrl }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="!$mdChipsCtrl.readonly"               class="md-chip-remove-container"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',r='        <input            class="md-input"            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',i="      <span>{{$chip}}</span>",o='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){var n=this.contactQuery({$query:e});return this.filterSelected?n.filter(t.bind(this,this.filterSelectedContacts)):n},e.prototype.itemName=function(e){return e[this.contactName]},e.prototype.filterSelectedContacts=function(e){return-1==this.contacts.indexOf(e)}}(),function(){function e(e,t){function r(n,r){return function(n,i,o,a){t.initOptionalProperties(n,r),e(i),i.attr("tabindex","-1")}}return{template:function(e,t){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:r,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",highlightFlags:"@?mdHighlightFlags"}}}t.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e,t,n){function r(r,i,o){function a(){var e=i.parent();return e.attr("aria-label")||e.text()?!0:e.parent().attr("aria-label")||e.parent().text()?!0:!1}function s(){r.svgIcon||r.svgSrc||(r.fontIcon&&i.addClass("md-font "+r.fontIcon),i.addClass(e.fontSet(r.fontSet)))}t(i),s();var c=o.alt||r.fontIcon||r.svgIcon||i.text(),l=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");o["aria-label"]||(""==c||a()?i.text()||n.expect(i,"aria-hidden","true"):(n.expect(i,"aria-label",c),n.expect(i,"role","img"))),l&&o.$observe(l,function(t){i.empty(),t&&e(t).then(function(e){i.append(e)})})}return{scope:{fontSet:"@mdFontSet",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",link:r}}t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria",e])}(),function(){function e(){}function n(e,t){this.url=e,this.viewBoxSize=t||i.defaultViewBoxSize}function r(e,n,r,i,o){function a(t){if(t=t||"",v[t])return r.when(v[t].clone());if($.test(t))return u(t).then(c(t));-1==t.indexOf(":")&&(t="$default:"+t);var n=e[t]?l:d;return n(t).then(c(t))}function s(n){var r=t.isUndefined(n)||!(n&&n.length);if(r)return e.defaultFontSet;var i=n;return t.forEach(e.fontSets,function(e){e.alias==n&&(i=e.fontSet||i)}),i}function c(t){return function(n){return v[t]=f(n)?n:new p(n,e[t]),v[t].clone()}}function l(t){var n=e[t];return u(n.url).then(function(e){return new p(e,n)})}function d(t){function n(e){var n=t.slice(t.lastIndexOf(":")+1),r=e.querySelector("#"+n);return r?new p(r,s):o(t)}function o(e){var t="icon "+e+" not found";return i.warn(t),r.reject(t||e)}var a=t.substring(0,t.lastIndexOf(":"))||"$default",s=e[a];return s?u(s.url).then(n):o(t)}function u(e){return n.get(e,{cache:o}).then(function(e){return t.element("<div>").append(e.data).find("svg")[0]})["catch"](m)}function m(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;return i.warn(n),r.reject(n)}function f(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function p(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function h(){var n=this.config?this.config.viewBoxSize:e.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n},function(e,t){this.element.setAttribute(t,e)},this),t.forEach({"pointer-events":"none",display:"block"},function(e,t){this.element.style[t]=e},this)}function g(){return this.element.cloneNode(!0)}var v={},$=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/i;return p.prototype={clone:g,prepare:h},a.fontSet=s,a}t.module("material.components.icon").provider("$mdIcon",e);var i={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};e.prototype={icon:function(e,t,r){return-1==e.indexOf(":")&&(e="$default:"+e),i[e]=new n(t,r),this},iconSet:function(e,t,r){return i[e]=new n(t,r),this},defaultIconSet:function(e,t){var r="$default";return i[r]||(i[r]=new n(e,t)),i[r].viewBoxSize=t||i.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return i.defaultViewBoxSize=e,this},fontSet:function(e,t){return i.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return i.defaultFontSet=e?e:"",this},defaultIconSize:function(e){return i.defaultIconSize=e,this},preloadIcons:function(e){var t=this,n=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'},{id:"md-calendar",url:"md-calendar.svg",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>'}];n.forEach(function(n){t.icon(n.id,n.url),e.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(e,t,n,o){return this.preloadIcons(o),r(i,e,t,n,o)}]},r.$inject=["config","$http","$q","$log","$templateCache"]}(),function(){function e(e,r,i,o,a,s,c,l){var d,u,m=this;this.nestLevel=parseInt(r.mdNestLevel,10)||0,this.init=function(e,n){n=n||{},d=e,u=i[0].querySelector("[ng-click],[ng-mouseenter]"),u.setAttribute("aria-expanded","false"),this.isInMenuBar=n.isInMenuBar,this.nestedMenus=a.nodesToArray(d[0].querySelectorAll(".md-nested-menu")),d.on("$mdInterimElementRemove",function(){m.isOpen=!1});var r="menu_container_"+a.nextUid();d.attr("id",r),t.element(u).attr({"aria-owns":r,"aria-haspopup":"true"}),o.$on("$destroy",this.disableHoverListener)};var f,p,h=[];this.enableHoverListener=function(){h.push(c.$on("$mdMenuOpen",function(e,t){d[0].contains(t[0])&&(m.currentlyOpenMenu=t.controller("mdMenu"),m.isAlreadyOpening=!1,m.currentlyOpenMenu.registerContainerProxy(m.triggerContainerProxy.bind(m)))})),h.push(c.$on("$mdMenuClose",function(e,t){d[0].contains(t[0])&&(m.currentlyOpenMenu=n)})),p=t.element(a.nodesToArray(d[0].children[0].children)),p.on("mouseenter",m.handleMenuItemHover),p.on("mouseleave",m.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;h.length;)h.shift()();p&&p.off("mouseenter",m.handleMenuItemHover),p&&p.off("mouseleave",m.handleMenuMouseLeave)},this.handleMenuItemHover=function(e){if(!m.isAlreadyOpening){var n=e.target.querySelector("md-menu")||a.getClosest(e.target,"MD-MENU");f=s(function(){if(n&&(n=t.element(n).controller("mdMenu")),m.currentlyOpenMenu&&m.currentlyOpenMenu!=n){var e=m.nestLevel+1;m.currentlyOpenMenu.close(!0,{closeTo:e})}else n&&!n.isOpen&&n.open&&(m.isAlreadyOpening=!0,n.open())},n?100:250);var r=e.currentTarget.querySelector("button:not([disabled])");r&&r.focus()}},this.handleMenuItemMouseLeave=function(){f&&(s.cancel(f),f=n)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),m.isOpen||(m.enableHoverListener(),m.isOpen=!0,u=u||(t?t.target:i[0]),u.setAttribute("aria-expanded","true"),o.$emit("$mdMenuOpen",i),e.show({scope:o,mdMenuCtrl:m,nestLevel:m.nestLevel,element:d,target:u,preserveElement:!0,parent:"body"})["finally"](function(){u.setAttribute("aria-expanded","false"),m.disableHoverListener()}))},o.$mdOpenMenu=this.open,o.$watch(function(){return m.isOpen},function(e){e?(d.attr("aria-hidden","false"),i[0].classList.add("md-open"),t.forEach(m.nestedMenus,function(e){e.classList.remove("md-open")})):(d.attr("aria-hidden","true"),i[0].classList.remove("md-open")),o.$mdMenuIsOpen=m.isOpen}),this.focusMenuContainer=function(){var e=d[0].querySelector("[md-menu-focus-target]");e||(e=d[0].querySelector(".md-button")),e.focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return m.isOpen?e.destroy():l.when(!1)},this.close=function(n,r){if(m.isOpen){m.isOpen=!1;var a=t.extend({},r,{skipFocus:n});if(o.$emit("$mdMenuClose",i,a),e.hide(null,r),!n){var s=m.restoreFocusTo||i.find("button")[0];s instanceof t.element&&(s=s[0]),s&&s.focus()}}},this.positionMode=function(){var e=(r.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(r.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")}}t.module("material.components.menu").controller("mdMenuCtrl",e),e.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q"]}(),function(){function e(e){function r(n){n.addClass("md-menu");var r=n.children()[0];if(r.hasAttribute("ng-click")||(r=r.querySelector("[ng-click],[ng-mouseenter]")||r),!r||"MD-BUTTON"!=r.nodeName&&"BUTTON"!=r.nodeName||r.hasAttribute("type")||r.setAttribute("type","button"),2!=n.children().length)throw Error(o+"Expected two children elements.");r&&r.setAttribute("aria-haspopup","true");var a=n[0].querySelectorAll("md-menu"),s=parseInt(n[0].getAttribute("md-nest-level"),10)||0;return a&&t.forEach(e.nodesToArray(a),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("md-nested-menu"),e.setAttribute("md-nest-level",s+1)}),i}function i(e,r,i,o){var a=o[0],s=o[1]!=n,c=t.element('<div class="md-open-menu-container md-whiteframe-z2"></div>'),l=r.children()[1];l.hasAttribute("role")||l.setAttribute("role","menu"),c.append(l),r.on("$destroy",function(){c.remove()}),r.append(c),c[0].style.display="none",a.init(c,{isInMenuBar:s})}var o="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:r}}t.module("material.components.menu").directive("mdMenu",e),e.$inject=["$mdUtil"]}(),function(){function e(e){function r(e,r,a,s,c,l,d,u,m){function f(n,r,i){return i.nestLevel?t.noop:(i.disableParentScroll&&!e.getClosest(i.target,"MD-DIALOG")?i.restoreScroll=e.disableScrollAround(i.element,i.parent):i.disableParentScroll=!1,i.hasBackdrop&&(i.backdrop=e.createBackdrop(n,"md-menu-backdrop md-click-catcher"),m.enter(i.backdrop,s[0].body)),function(){i.backdrop&&i.backdrop.remove(),i.disableParentScroll&&i.restoreScroll()})}function p(e,t,n){function r(){return u(t,{addClass:"md-leave"}).start()}function i(){t.removeClass("md-active"),$(t,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?i():r().then(i)}function h(n,i,o){function s(){return o.parent.append(i),i[0].style.display="",l(function(e){var t=b(i,o);i.removeClass("md-leave"),u(i,{addClass:"md-active",from:E.toCss(t),to:E.toCss({transform:""})}).start().then(e)})}function m(){if(!o.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(o,{alreadyOpen:!1,isRemoved:!1,target:t.element(o.target),parent:t.element(o.parent),menuContentEl:t.element(i[0].querySelector("md-menu-content"))})}function p(){var e=function(e,t){return d.throttle(function(){if(!o.isRemoved){var n=b(e,t);e.css(E.toCss(n))}})}(i,o);return c.addEventListener("resize",e),c.addEventListener("orientationchange",e),function(){c.removeEventListener("resize",e),c.removeEventListener("orientationchange",e)}}function h(){function t(t){var n;switch(t.keyCode){case a.KEY_CODE.ESCAPE:o.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case a.KEY_CODE.UP_ARROW:g(t,o.menuContentEl,o,-1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.DOWN_ARROW:g(t,o.menuContentEl,o,1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.LEFT_ARROW:o.nestLevel?o.mdMenuCtrl.close():o.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.RIGHT_ARROW:var r=e.getClosest(t.target,"MD-MENU");r&&r!=o.parent[0]?t.target.click():o.mdMenuCtrl.triggerContainerProxy(t),n=!0}n&&(t.preventDefault(),t.stopImmediatePropagation())}function r(e){e.preventDefault(),e.stopPropagation(),n.$apply(function(){o.mdMenuCtrl.close(!0,{closeAll:!0})})}function s(t){function r(){n.$apply(function(){o.mdMenuCtrl.close(!0,{closeAll:!0})})}function i(e,t){if(!e)return!1;for(var n,r=0;n=t[r];++r)for(var i,o=[n,"data-"+n,"x-"+n],a=0;i=o[a];++a)if(e.hasAttribute(i))return!0;return!1}var a=t.target;do{if(a==o.menuContentEl[0])return;if((i(a,["ng-click","ng-href","ui-sref"])||"BUTTON"==a.nodeName||"MD-BUTTON"==a.nodeName)&&!i(a,["md-prevent-menu-close"])){var s=e.getClosest(a,"MD-MENU");a.hasAttribute("disabled")||s&&s!=o.parent[0]||r();break}}while(a=a.parentNode)}i.addClass("md-clickable"),o.backdrop&&o.backdrop.on("click",r),o.menuContentEl.on("keydown",t),o.menuContentEl[0].addEventListener("click",s,!0);var c=o.menuContentEl[0].querySelector("[md-menu-focus-target]");if(!c){var l=o.menuContentEl[0].firstElementChild;c=l&&(l.querySelector(".md-button:not([disabled])")||l.firstElementChild)}return c&&c.focus(),function(){i.removeClass("md-clickable"),o.backdrop&&o.backdrop.off("click",r),o.menuContentEl.off("keydown",t),o.menuContentEl[0].removeEventListener("click",s,!0)}}return m(o),r.inherit(o.menuContentEl,o.target),o.cleanupResizing=p(),o.hideBackdrop=f(n,i,o),s().then(function(e){return o.alreadyOpen=!0,o.cleanupInteraction=h(),e})}function g(t,n,r,i){for(var o,a=e.getClosest(t.target,"MD-MENU-ITEM"),s=e.nodesToArray(n[0].children),c=s.indexOf(a),l=c+i;l>=0&&l<s.length;l+=i){var d=s[l].querySelector(".md-button");if(o=v(d))break}return o}function v(e){return e&&-1!=e.getAttribute("tabindex")?(e.focus(),s[0].activeElement==e):void 0}function $(e,t){t.preserveElement?i(e).style.display="none":i(e).parentNode===i(t.parent)&&i(t.parent).removeChild(i(e))}function b(t,r){function i(e){e.top=Math.max(Math.min(e.top,$.bottom-d.offsetHeight),$.top),e.left=Math.max(Math.min(e.left,$.right-d.offsetWidth),$.left)}function a(){for(var e=0;e<u.children.length;++e)if("none"!=c.getComputedStyle(u.children[e]).display)return u.children[e]}var l,d=t[0],u=t[0].firstElementChild,m=u.getBoundingClientRect(),f=s[0].body,p=f.getBoundingClientRect(),h=c.getComputedStyle(u),g=r.target[0].querySelector("[md-menu-origin]")||r.target[0],v=g.getBoundingClientRect(),$={left:p.left+o,top:Math.max(p.top,0)+o,bottom:Math.max(p.bottom,Math.max(p.top,0)+p.height)-o,right:p.right-o},b={top:0,left:0,right:0,bottom:0},E={top:0,left:0,right:0,bottom:0},y=r.mdMenuCtrl.positionMode();("target"==y.top||"target"==y.left||"target-right"==y.left)&&(l=a(),l&&(l=l.firstElementChild||l,l=l.querySelector("[md-menu-align-target]")||l,b=l.getBoundingClientRect(),E={top:parseFloat(d.style.top||0),left:parseFloat(d.style.left||0)}));var M={},C="top ";switch(y.top){case"target":M.top=E.top+v.top-b.top;break;case"cascade":M.top=v.top-parseFloat(h.paddingTop)-g.style.top;break;case"bottom":M.top=v.top+v.height;break;default:throw new Error('Invalid target mode "'+y.top+'" specified for md-menu on Y axis.')}switch(y.left){case"target":M.left=E.left+v.left-b.left,C+="left";break;case"target-right":M.left=v.right-m.width+(m.right-b.right),C+="right";break;case"cascade":var w=v.right+m.width<$.right;M.left=w?v.right-g.style.left:v.left-g.style.left-m.width,C+=w?"left":"right";break;case"left":M.left=v.left,C+="left";break;default:throw new Error('Invalid target mode "'+y.left+'" specified for md-menu on X axis.')}var x=r.mdMenuCtrl.offsets();M.top+=x.top,M.left+=x.left,i(M);var A=Math.round(100*Math.min(v.width/d.offsetWidth,1))/100,k=Math.round(100*Math.min(v.height/d.offsetHeight,1))/100;return{top:Math.round(M.top),left:Math.round(M.left),transform:r.alreadyOpen?n:e.supplant("scale({0},{1})",[A,k]),transformOrigin:C}}var E=e.dom.animator;return{parent:"body",onShow:h,onRemove:p,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,skipHide:!0,themable:!0}}function i(e){return e instanceof t.element&&(e=e[0]),e}var o=8;return r.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate"],e("$mdMenu").setDefaults({methods:["target"],options:r})}t.module("material.components.menu").provider("$mdMenu",e),e.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,i,o,a,s,c,l){this.$element=i,this.$attrs=o,this.$mdConstant=a,this.$mdUtil=c,this.$document=s,this.$scope=e,this.$rootScope=n,this.$timeout=l;var d=this;t.forEach(r,function(e){d[e]=t.bind(d,d[e])})}t.module("material.components.menuBar").controller("MenuBarController",e);var r=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];e.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],e.prototype.init=function(){var e=this.$element,t=this.$mdUtil,r=this.$scope,i=this,o=[];e.on("keydown",this.handleKeyDown),this.parentToolbar=t.getClosest(e,"MD-TOOLBAR"),o.push(this.$rootScope.$on("$mdMenuOpen",function(t,n){-1!=i.getMenus().indexOf(n[0])&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),i.currentlyOpenMenu=n.controller("mdMenu"),i.currentlyOpenMenu.registerContainerProxy(i.handleKeyDown),i.enableOpenOnHover())})),o.push(this.$rootScope.$on("$mdMenuClose",function(r,o,a){var s=i.getMenus();if(-1!=s.indexOf(o[0])&&(e[0].classList.remove("md-open"),o[0].classList.remove("md-open")),e[0].contains(o[0])){for(var c=o[0];c&&-1==s.indexOf(c);)c=t.getClosest(c,"MD-MENU",!0);c&&(a.skipFocus||c.querySelector("button:not([disabled])").focus(),i.currentlyOpenMenu=n,i.disableOpenOnHover(),i.setKeyboardMode(!0))}})),r.$on("$destroy",function(){for(;o.length;)o.shift()()}),this.setKeyboardMode(!0)},e.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},e.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){this.openOnHoverEnabled=!0;var e;(e=this.parentToolbar)&&(e.dataset.mdRestoreStyle=e.getAttribute("style"),e.style.position="relative",e.style.zIndex=100),t.element(this.getMenus()).on("mouseenter",this.handleMenuHover)}},e.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},e.prototype.disableOpenOnHover=function(){if(this.openOnHoverEnabled){this.openOnHoverEnabled=!1;var e;(e=this.parentToolbar)&&e.setAttribute("style",e.dataset.mdRestoreStyle||""),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover)}},e.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget),r=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(r)},e.prototype.scheduleOpenMenu=function(e){var t=this,r=this.$timeout;e!=t.currentlyOpenMenu&&(r.cancel(t.pendingMenuOpen),t.pendingMenuOpen=r(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},e.prototype.handleKeyDown=function(e){var n=this.$mdConstant.KEY_CODE,r=this.currentlyOpenMenu,i=r&&r.isOpen;this.setKeyboardMode(!0);var o,a,s;switch(e.keyCode){case n.DOWN_ARROW:r?r.focusMenuContainer():this.openFocusedMenu(),o=!0;break;case n.UP_ARROW:r&&r.close(),o=!0;break;case n.LEFT_ARROW:a=this.focusMenu(-1),i&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),o=!0;break;case n.RIGHT_ARROW:a=this.focusMenu(1),i&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),o=!0}o&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},e.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var r=!1;return-1==n?n=0:(0>e&&n>0||e>0&&n<t.length-e)&&(n+=e,r=!0),r?(t[n].querySelector("button").focus(),t[n]):void 0},e.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},e.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},e.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},e.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil,t=e.getClosest(this.$document[0].activeElement,"MD-MENU");if(!t)return-1;var n=this.getMenus().indexOf(t);return n},e.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1}}(),function(){function e(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(r,i){return i.ariaRole||r[0].setAttribute("role","menubar"),t.forEach(r[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button,a").setAttribute("role","menuitem"));var r=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(r,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),function(e,t,r,i){n(e,t),i.init()}}}}t.module("material.components.menuBar").directive("mdMenuBar",e),e.$inject=["$mdUtil","$mdTheming"]}(),function(){function e(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}t.module("material.components.menuBar").directive("mdMenuDivider",e)}(),function(){function e(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}t.module("material.components.menuBar").controller("MenuItemController",e),e.$inject=["$scope","$element","$attrs"],e.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,("checkbox"==n.type||"radio"==n.type)&&(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},e.prototype.clearNgAria=function(){var e=this.$element[0],n=["role","tabindex","aria-invalid","aria-checked"];t.forEach(n,function(t){e.removeAttribute(t)})},e.prototype.initClickListeners=function(){function e(){if("radio"==s){var e=a.ngValue?o.$eval(a.ngValue):a.value;return i.$modelValue==e}return i.$modelValue}function n(e){e?l.off("click",d):l.on("click",d)}var r=this,i=this.ngModel,o=this.$scope,a=this.$attrs,s=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var c=this.iconEl,l=t.element(this.buttonEl),d=this.handleClick;a.$observe("disabled",n),n(a.disabled),i.$render=function(){r.clearNgAria(),e()?(c.style.display="",l.attr("aria-checked","true")):(c.style.display="none",l.attr("aria-checked","false"))},o.$$postDigest(i.$render)},e.prototype.handleClick=function(e){var t,n=this.mode,r=this.ngModel,i=this.$attrs;"checkbox"==n?t=!r.$modelValue:"radio"==n&&(t=i.ngValue?this.$scope.$eval(i.ngValue):i.value),r.$setViewValue(t),r.$render()}}(),function(){function e(){return{require:["mdMenuItem","?ngModel"],priority:210,compile:function(e,n){function r(n,r,i){i=i||e,i instanceof t.element&&(i=i[0]),i.hasAttribute(n)||i.setAttribute(n,r)}function i(t){if(e[0].hasAttribute(t)){var n=e[0].getAttribute(t);a[0].setAttribute(t,n),e[0].removeAttribute(t)}}if("checkbox"==n.type||"radio"==n.type){var o=e[0].textContent,a=t.element('<md-button type="button"></md-button>');a.html(o),a.attr("tabindex","0"),e.html(""),e.append(t.element('<md-icon md-svg-icon="check"></md-icon>')),e.append(a),e[0].classList.add("md-indent"),r("role","checkbox"==n.type?"menuitemcheckbox":"menuitemradio",a),t.forEach(["ng-disabled"],i)}else r("role","menuitem",e[0].querySelector("md-button,button,a"));return function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}},controller:"MenuItemController"}}t.module("material.components.menuBar").directive("mdMenuItem",e)}(),function(){function e(){function e(e,r,i,o){if(o){var a=o.getTabElementIndex(r),s=n(r,"md-tab-body").remove(),c=n(r,"md-tab-label").remove(),l=o.insertTab({scope:e,parent:e.$parent,index:a,element:r,template:s.html(),label:c.html()},a);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&o.select(l.getIndex())}),e.$watch("disabled",function(){o.refreshIndex()}),e.$watch(function(){return o.getTabElementIndex(r)},function(e){l.index=e,o.updateTabOrder()}),e.$on("$destroy",function(){o.removeTab(l)})}}function n(e,n){for(var r=e[0].children,i=0,o=r.length;o>i;i++){var a=r[i];if(a.tagName===n.toUpperCase())return t.element(a)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(r,i){var o=n(r,"md-tab-label"),a=n(r,"md-tab-body");if(0==o.length&&(o=t.element("<md-tab-label></md-tab-label>"),i.label?o.text(i.label):o.append(r.contents()),0==a.length)){var s=r.contents().detach();a=t.element("<md-tab-body></md-tab-body>"),a.append(s)}return r.append(o),a.html()&&r.append(a),e},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){return{require:"^?mdTabs",link:function(e,t,n,r){r&&r.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var r=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){r(e,{$event:t})})})}}}}t.module("material.components.tabs").directive("mdTabScroll",e),e.$inject=["$parse"]}(),function(){function e(e,r,i,o,a,s,c,l,d,u){function m(){ce.selectedIndex=ce.selectedIndex||0,f(),h(),p(),u(r),s.nextTick(function(){re(),Q(),ie(),ce.tabs[ce.selectedIndex]&&ce.tabs[ce.selectedIndex].scope.select(),fe=!0,Y()})}function f(){var e=l.$mdTabsTemplate,n=t.element(de.data);n.html(e),d(n.contents())(ce.parent),delete l.$mdTabsTemplate}function p(){t.element(i).on("resize",O),e.$on("$destroy",$)}function h(){e.$watch("$mdTabsCtrl.selectedIndex",A)}function g(e,t){var n=l.$normalize("md-"+e);t&&W(e,t),l.$observe(n,function(t){ce[e]=t})}function v(e,t){function n(t){ce[e]="false"!==t}var r=l.$normalize("md-"+e);t&&W(e,t),l.hasOwnProperty(r)&&n(l[r]),l.$observe(r,n)}function $(){me=!0,t.element(i).off("resize",O)}function b(e){t.element(de.wrapper).toggleClass("md-stretch-tabs",B()),ie()}function E(e){ce.shouldCenterTabs=U()}function y(e,t){e!==t&&s.nextTick(ce.updateInkBarStyles);
}function M(e,t){e!==t&&(ce.maxTabWidth=G(),ce.shouldCenterTabs=U(),s.nextTick(function(){ce.maxTabWidth=G(),Q(ce.selectedIndex)}))}function C(e){r[e?"removeClass":"addClass"]("md-no-tab-content")}function w(n){var r=ce.shouldCenterTabs?"":"-"+n+"px";t.element(de.paging).css(o.CSS.TRANSFORM,"translate3d("+r+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function x(e,t){e!==t&&de.tabs[e]&&(Q(),J())}function A(t,n){t!==n&&(ce.selectedIndex=z(t),ce.lastSelectedIndex=n,ce.updateInkBarStyles(),re(),Q(t),e.$broadcast("$mdTabsChanged"),ce.tabs[n]&&ce.tabs[n].scope.deselect(),ce.tabs[t]&&ce.tabs[t].scope.select())}function k(e){var t=r[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])}function T(){T.watcher||(T.watcher=e.$watch(function(){s.nextTick(function(){T.watcher&&r.prop("offsetParent")&&(T.watcher(),T.watcher=null,O())},!1)}))}function S(e){switch(e.keyCode){case o.KEY_CODE.LEFT_ARROW:e.preventDefault(),Z(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:e.preventDefault(),Z(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:e.preventDefault(),le||(ce.selectedIndex=ce.focusIndex)}ce.lastClick=!1}function N(e){le||(ce.focusIndex=ce.selectedIndex=e),ce.lastClick=!0,s.nextTick(function(){ce.tabs[e].element.triggerHandler("click")},!1)}function _(e){ce.shouldPaginate&&(e.preventDefault(),ce.offsetLeft=ae(ce.offsetLeft-e.wheelDelta))}function D(){var e,t,n=de.canvas.clientWidth,r=n+ce.offsetLeft;for(e=0;e<de.tabs.length&&(t=de.tabs[e],!(t.offsetLeft+t.offsetWidth>r));e++);ce.offsetLeft=ae(t.offsetLeft)}function H(){var e,t;for(e=0;e<de.tabs.length&&(t=de.tabs[e],!(t.offsetLeft+t.offsetWidth>=ce.offsetLeft));e++);ce.offsetLeft=ae(t.offsetLeft+t.offsetWidth-de.canvas.clientWidth)}function O(){ce.lastSelectedIndex=ce.selectedIndex,ce.offsetLeft=ae(ce.offsetLeft),s.nextTick(function(){ce.updateInkBarStyles(),Y()})}function I(e){t.element(de.inkBar).toggleClass("ng-hide",e)}function R(e){r.toggleClass("md-dynamic-height",e)}function P(e){if(!me){var t=ce.selectedIndex,n=ce.tabs.splice(e.getIndex(),1)[0];ne(),ce.selectedIndex===t&&(n.scope.deselect(),ce.tabs[ce.selectedIndex]&&ce.tabs[ce.selectedIndex].scope.select()),s.nextTick(function(){Y(),ce.offsetLeft=ae(ce.offsetLeft)})}}function L(e,n){var r=fe,i={getIndex:function(){return ce.tabs.indexOf(o)},isActive:function(){return this.getIndex()===ce.selectedIndex},isLeft:function(){return this.getIndex()<ce.selectedIndex},isRight:function(){return this.getIndex()>ce.selectedIndex},shouldRender:function(){return!ce.noDisconnect||this.isActive()},hasFocus:function(){return!ce.lastClick&&ce.hasFocus&&this.getIndex()===ce.focusIndex},id:s.nextUid()},o=t.extend(i,e);return t.isDefined(n)?ce.tabs.splice(n,0,o):ce.tabs.push(o),ee(),te(),s.nextTick(function(){Y(),r&&ce.autoselect&&s.nextTick(function(){s.nextTick(function(){N(ce.tabs.indexOf(o))})})}),o}function F(){var e={};return e.wrapper=r[0].getElementsByTagName("md-tabs-wrapper")[0],e.data=r[0].getElementsByTagName("md-tab-data")[0],e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0],e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0],e.tabs=e.paging.getElementsByTagName("md-tab-item"),e.dummies=e.canvas.getElementsByTagName("md-dummy-tab"),e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0],e.contentsWrapper=r[0].getElementsByTagName("md-tabs-content-wrapper")[0],e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content"),e}function j(){return ce.offsetLeft>0}function V(){var e=de.tabs[de.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>de.canvas.clientWidth+ce.offsetLeft}function B(){switch(ce.stretchTabs){case"always":return!0;case"never":return!1;default:return!ce.shouldPaginate&&i.matchMedia("(max-width: 600px)").matches}}function U(){return ce.centerTabs&&!ce.shouldPaginate}function q(){if(ce.noPagination||!fe)return!1;var e=r.prop("clientWidth");return t.forEach(F().dummies,function(t){e-=t.offsetWidth}),0>e}function z(e){if(-1===e)return-1;var t,n,r=Math.max(ce.tabs.length-e,e);for(t=0;r>=t;t++){if(n=ce.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=ce.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function W(e,t,n){Object.defineProperty(ce,e,{get:function(){return n},set:function(e){var r=n;n=e,t&&t(e,r)}})}function Y(){B()||K(),ce.maxTabWidth=G(),ce.shouldPaginate=q()}function K(){var e=1;t.forEach(F().dummies,function(t){e+=Math.ceil(t.offsetWidth)}),t.element(de.paging).css("width",e+"px")}function G(){return r.prop("clientWidth")}function X(){var e=ce.tabs[ce.selectedIndex],t=ce.tabs[ce.focusIndex];ce.tabs=ce.tabs.sort(function(e,t){return e.index-t.index}),ce.selectedIndex=ce.tabs.indexOf(e),ce.focusIndex=ce.tabs.indexOf(t)}function Z(e,t){var n,r=t?"focusIndex":"selectedIndex",i=ce[r];for(n=i+e;ce.tabs[n]&&ce.tabs[n].scope.disabled;n+=e);ce.tabs[n]&&(ce[r]=n)}function J(){F().dummies[ce.focusIndex].focus()}function Q(e){if(null==e&&(e=ce.focusIndex),de.tabs[e]&&!ce.shouldCenterTabs){var t=de.tabs[e],n=t.offsetLeft,r=t.offsetWidth+n;ce.offsetLeft=Math.max(ce.offsetLeft,ae(r-de.canvas.clientWidth+64)),ce.offsetLeft=Math.min(ce.offsetLeft,ae(n))}}function ee(){ue.forEach(function(e){s.nextTick(e)}),ue=[]}function te(){var e=!1;t.forEach(ce.tabs,function(t){t.template&&(e=!0)}),ce.hasContent=e}function ne(){ce.selectedIndex=z(ce.selectedIndex),ce.focusIndex=z(ce.focusIndex)}function re(){if(!ce.dynamicHeight)return r.css("height","");if(!ce.tabs.length)return ue.push(re);var e=de.contents[ce.selectedIndex],t=e?e.offsetHeight:0,i=de.wrapper.offsetHeight,o=t+i,a=r.prop("clientHeight");if(a!==o){"bottom"===r.attr("md-align-tabs")&&(a-=i,o-=i,r.attr("md-border-bottom")!==n&&++a),le=!0;var l={height:a+"px"},d={height:o+"px"};r.css(l),c(r,{from:l,to:d,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){r.css({transition:"none",height:""}),s.nextTick(function(){r.css("transition","")}),le=!1})}}function ie(){if(!de.tabs[ce.selectedIndex])return void t.element(de.inkBar).css({left:"auto",right:"auto"});if(!ce.tabs.length)return ue.push(ce.updateInkBarStyles);if(!r.prop("offsetParent"))return T();var e,n=ce.selectedIndex,i=de.paging.offsetWidth,o=de.tabs[n],a=o.offsetLeft,c=i-a-o.offsetWidth;ce.shouldCenterTabs&&(e=Array.prototype.slice.call(de.tabs).reduce(function(e,t){return e+t.offsetWidth},0),i>e&&s.nextTick(ie,!1)),oe(),t.element(de.inkBar).css({left:a+"px",right:c+"px"})}function oe(){var e=ce.selectedIndex,n=ce.lastSelectedIndex,r=t.element(de.inkBar);t.isNumber(n)&&r.toggleClass("md-left",n>e).toggleClass("md-right",e>n)}function ae(e){if(!de.tabs.length||!ce.shouldPaginate)return 0;var t=de.tabs[de.tabs.length-1],n=t.offsetLeft+t.offsetWidth;return e=Math.max(0,e),e=Math.min(n-de.canvas.clientWidth,e)}function se(e,n){var r={colorElement:t.element(de.inkBar)};a.attach(e,n,r)}var ce=this,le=!1,de=F(),ue=[],me=!1,fe=!1;g("stretchTabs",b),W("focusIndex",x,ce.selectedIndex||0),W("offsetLeft",w,0),W("hasContent",C,!1),W("maxTabWidth",y,G()),W("shouldPaginate",M,!1),v("noInkBar",I),v("dynamicHeight",R),v("noPagination"),v("swipeContent"),v("noDisconnect"),v("autoselect"),v("centerTabs",E,!1),v("enableDisconnect"),ce.scope=e,ce.parent=e.$parent,ce.tabs=[],ce.lastSelectedIndex=null,ce.hasFocus=!1,ce.lastClick=!0,ce.shouldCenterTabs=U(),ce.updatePagination=s.debounce(Y,100),ce.redirectFocus=J,ce.attachRipple=se,ce.insertTab=L,ce.removeTab=P,ce.select=N,ce.scroll=_,ce.nextPage=D,ce.previousPage=H,ce.keydown=S,ce.canPageForward=V,ce.canPageBack=j,ce.refreshIndex=ne,ce.incrementIndex=Z,ce.getTabElementIndex=k,ce.updateInkBarStyles=s.debounce(ie,100),ce.updateTabOrder=s.debounce(X,100),m()}t.module("material.components.tabs").controller("MdTabsController",e),e.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming"]}(),function(){function e(){return{scope:{selectedIndex:"=?mdSelected"},template:function(e,t){return t.$mdTabsTemplate=e.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-icon="md-tabs-arrow"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-icon="md-tabs-arrow"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)" role="tablist"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)"> <md-tab-item tabindex="-1" class="md-tab" style="max-width: {{ $mdTabsCtrl.maxTabWidth + \'px\' }}" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <div class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" id="tab-item-{{::tab.id}}" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </div> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0"> <md-tab-content id="tab-content-{{::tab.id}}" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="$mdTabsCtrl.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}t.module("material.components.tabs").directive("mdTabs",e)}(),function(){function e(e,t){function n(n,r,i,o){function a(){n.$watch("connected",function(e){e===!1?s():c()}),n.$on("$destroy",c)}function s(){o.enableDisconnect&&t.disconnectScope(l)}function c(){o.enableDisconnect&&t.reconnectScope(l)}if(o){var l=o.enableDisconnect?n.compileScope.$new():n.compileScope;return r.html(n.template),e(r.contents())(l),r.on("DOMSubtreeModified",function(){o.updatePagination(),o.updateInkBarStyles()}),t.nextTick(a)}}return{restrict:"A",link:n,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.module("material.components.tabs").directive("mdTabsTemplate",e),e.$inject=["$compile","$mdUtil"]}(),function(){t.module("material.core").constant("$MD_THEME_CSS","md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme[disabled] {    background: '{{background-100}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions-container.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions-container.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }md-backdrop {  background-color: '{{background-900-0.0}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme {    background-color: '{{background-900-1.0}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]):hover,.md-button.md-THEME_NAME-theme:not([disabled]):hover {  background-color: '{{background-500-0.2}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]).md-focused {  background-color: '{{background-500-0.2}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover,.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {  background-color: transparent; }a.md-button.md-THEME_NAME-theme.md-fab,.md-button.md-THEME_NAME-theme.md-fab {  background-color: '{{accent-color}}';  color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab md-icon,  .md-button.md-THEME_NAME-theme.md-fab md-icon {    color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {    background-color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {    background-color: '{{accent-A700}}'; }a.md-button.md-THEME_NAME-theme.md-primary,.md-button.md-THEME_NAME-theme.md-primary {  color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab,  .md-button.md-THEME_NAME-theme.md-primary.md-raised,  .md-button.md-THEME_NAME-theme.md-primary.md-fab {    color: '{{primary-contrast}}';    background-color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {      color: '{{primary-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {      background-color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {      background-color: '{{primary-600}}'; }  a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {    color: '{{primary-color}}'; }a.md-button.md-THEME_NAME-theme.md-fab,.md-button.md-THEME_NAME-theme.md-fab {  background-color: '{{accent-color}}';  color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {    color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {    background-color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {    background-color: '{{accent-A700}}'; }a.md-button.md-THEME_NAME-theme.md-raised,.md-button.md-THEME_NAME-theme.md-raised {  color: '{{background-900}}';  background-color: '{{background-50}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {    color: '{{background-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {    background-color: '{{background-50}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {    background-color: '{{background-200}}'; }a.md-button.md-THEME_NAME-theme.md-warn,.md-button.md-THEME_NAME-theme.md-warn {  color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab,  .md-button.md-THEME_NAME-theme.md-warn.md-raised,  .md-button.md-THEME_NAME-theme.md-warn.md-fab {    color: '{{warn-contrast}}';    background-color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {      color: '{{warn-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {      background-color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {      background-color: '{{warn-700}}'; }  a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {    color: '{{warn-color}}'; }a.md-button.md-THEME_NAME-theme.md-accent,.md-button.md-THEME_NAME-theme.md-accent {  color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab,  .md-button.md-THEME_NAME-theme.md-accent.md-raised,  .md-button.md-THEME_NAME-theme.md-accent.md-fab {    color: '{{accent-contrast}}';    background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {      background-color: '{{accent-700}}'; }  a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {    color: '{{accent-color}}'; }a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled] {  color: '{{foreground-3}}' !important;  cursor: default; }  a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,  .md-button.md-THEME_NAME-theme[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {    color: '{{foreground-3}}'; }a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled] {  background-color: '{{foreground-4}}'; }a.md-button.md-THEME_NAME-theme[disabled],.md-button.md-THEME_NAME-theme[disabled] {  background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }  md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon {    color: '{{background-color}}';    background-color: '{{foreground-3}}'; }  md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead {    color: '{{foreground-2}}'; }  md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead {    color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{accent-contrast-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{primary-contrast-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-content.md-THEME_NAME-theme {  color: '{{foreground-1}}';  background-color: '{{background-color}}'; }/** Theme styles for mdCalendar. */.md-calendar.md-THEME_NAME-theme {  color: '{{foreground-1}}'; }  .md-calendar.md-THEME_NAME-theme tr:last-child td {    border-bottom-color: '{{background-200}}'; }.md-THEME_NAME-theme .md-calendar-day-header {  background: '{{background-hue-1}}';  color: '{{foreground-1}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator {  border: 1px solid '{{primary-500}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled {  color: '{{primary-500-0.6}}'; }.md-THEME_NAME-theme .md-calendar-date.md-focus .md-calendar-date-selection-indicator {  background: '{{background-hue-1}}'; }.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover {  background: '{{background-hue-1}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator {  background: '{{primary-500}}';  color: '{{primary-500-contrast}}';  border-color: transparent; }.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled {  color: '{{foreground-3}}'; }/** Theme styles for mdDatepicker. */md-datepicker.md-THEME_NAME-theme {  background: '{{background-color}}'; }.md-THEME_NAME-theme .md-datepicker-input {  color: '{{background-contrast}}';  background: '{{background-color}}'; }  .md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder, .md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder, .md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder, .md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder {    color: \"{{foreground-3}}\"; }.md-THEME_NAME-theme .md-datepicker-input-container {  border-bottom-color: '{{background-300}}'; }  .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused {    border-bottom-color: '{{primary-500}}'; }  .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid {    border-bottom-color: '{{warn-A700}}'; }.md-THEME_NAME-theme .md-datepicker-calendar-pane {  border-color: '{{background-300}}'; }.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle {  border-top-color: '{{foreground-3}}'; }.md-THEME_NAME-theme .md-datepicker-triangle-button:hover .md-datepicker-expand-triangle {  border-top-color: '{{foreground-2}}'; }.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon {  fill: '{{primary-500}}'; }.md-THEME_NAME-theme .md-datepicker-calendar,.md-THEME_NAME-theme .md-datepicker-input-mask-opaque {  background: '{{background-color}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions, md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }.layout-row > md-divider.md-THEME_NAME-theme {  border-right-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: \"{{foreground-3}}\"; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label,md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [ng-messages] :not(.md-char-counter),md-input-container.md-THEME_NAME-theme ng-message :not(.md-char-counter), md-input-container.md-THEME_NAME-theme data-ng-message :not(.md-char-counter), md-input-container.md-THEME_NAME-theme x-ng-message :not(.md-char-counter),md-input-container.md-THEME_NAME-theme [ng-message] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [data-ng-message] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [x-ng-message] :not(.md-char-counter),md-input-container.md-THEME_NAME-theme [ng-message-exp] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [data-ng-message-exp] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [x-ng-message-exp] :not(.md-char-counter) {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message,md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message],md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message-exp], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message-exp], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message-exp],md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled],md-input-container.md-THEME_NAME-theme .md-input [disabled] {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, \"{{foreground-3}}\" 0%, \"{{foreground-3}}\" 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, \"{{foreground-3}}\" 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > .md-avatar-icon {  background-color: '{{foreground-3}}';  color: '{{background-color}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-menu-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-divider {    background-color: '{{foreground-4}}'; }md-menu-bar.md-THEME_NAME-theme > button.md-button {  color: '{{foreground-2}}';  border-radius: 2px; }md-menu-bar.md-THEME_NAME-theme md-menu.md-open > button, md-menu-bar.md-THEME_NAME-theme md-menu > button:focus {  outline: none;  background: '{{background-200}}'; }md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover > button {  background-color: '{{ background-500-0.2}}'; }md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus {  background: transparent; }md-menu-content.md-THEME_NAME-theme .md-menu > .md-button:after {  color: '{{foreground-2}}'; }md-menu-content.md-THEME_NAME-theme .md-menu.md-open > .md-button {  background-color: '{{ background-500-0.2}}'; }md-toolbar.md-THEME_NAME-theme.md-menu-toolbar {  background-color: '{{background-color}}';  color: '{{foreground-1}}'; }  md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler {    background-color: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon {      color: '{{primary-contrast}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient(\"{{warn-100}}\" 0%, \"{{warn-100}}\" 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient(\"{{accent-100}}\" 0%, \"{{accent-100}}\" 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled],md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,  md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on,  md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple {  color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple, md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple {  color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple {  color: '{{warn-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  border-bottom-color: transparent;  background-image: linear-gradient(to right, \"{{foreground-3}}\" 0%, \"{{foreground-3}}\" 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, \"{{foreground-3}}\" 100%); }md-select.md-THEME_NAME-theme .md-select-value {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-value {  color: '{{warn-A700}}' !important;  border-bottom-color: '{{warn-A700}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-option[disabled] {  color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([disabled]):not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-ink-ripple {  color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple {  color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple {  color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled], md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon, md-tabs.md-THEME_NAME-theme .md-tab.md-focused, md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{accent-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{primary-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{warn-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{primary-contrast}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{accent-contrast}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{warn-contrast}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme .md-toast-content {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-toast-content .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button:not(.md-raised) {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-content {    background-color: '{{foreground-2}}'; }");
}()}(window,window.angular),window.ngMaterial={version:{full:"1.0.2"}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXIuanMiLCJhbmd1bGFyLWFuaW1hdGUuanMiLCJhbmd1bGFyLWFyaWEuanMiLCJhbmd1bGFyLW1hdGVyaWFsLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwibWluRXJyIiwibW9kdWxlIiwiRXJyb3JDb25zdHJ1Y3RvciIsIkVycm9yIiwicGFyYW1QcmVmaXgiLCJpIiwiU0tJUF9JTkRFWEVTIiwidGVtcGxhdGVBcmdzIiwiYXJndW1lbnRzIiwiY29kZSIsIm1lc3NhZ2UiLCJ0ZW1wbGF0ZSIsInJlcGxhY2UiLCJtYXRjaCIsImluZGV4Iiwic2xpY2UiLCJzaGlmdGVkSW5kZXgiLCJsZW5ndGgiLCJ0b0RlYnVnU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaXNBcnJheUxpa2UiLCJvYmoiLCJpc1dpbmRvdyIsImlzQXJyYXkiLCJpc1N0cmluZyIsImpxTGl0ZSIsIk9iamVjdCIsImlzTnVtYmVyIiwiaXRlbSIsImZvckVhY2giLCJpdGVyYXRvciIsImNvbnRleHQiLCJrZXkiLCJpc0Z1bmN0aW9uIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaXNQcmltaXRpdmUiLCJpc0JsYW5rT2JqZWN0IiwiZm9yRWFjaFNvcnRlZCIsImtleXMiLCJzb3J0IiwicmV2ZXJzZVBhcmFtcyIsIml0ZXJhdG9yRm4iLCJ2YWx1ZSIsIm5leHRVaWQiLCJ1aWQiLCJzZXRIYXNoS2V5IiwiaCIsIiQkaGFzaEtleSIsImJhc2VFeHRlbmQiLCJkc3QiLCJvYmpzIiwiZGVlcCIsImlpIiwiaXNPYmplY3QiLCJqIiwiamoiLCJzcmMiLCJpc0RhdGUiLCJEYXRlIiwidmFsdWVPZiIsImlzUmVnRXhwIiwiUmVnRXhwIiwibm9kZU5hbWUiLCJjbG9uZU5vZGUiLCJpc0VsZW1lbnQiLCJjbG9uZSIsImV4dGVuZCIsIm1lcmdlIiwidG9JbnQiLCJzdHIiLCJwYXJzZUludCIsImluaGVyaXQiLCJwYXJlbnQiLCJleHRyYSIsImNyZWF0ZSIsIm5vb3AiLCJpZGVudGl0eSIsIiQiLCJ2YWx1ZUZuIiwiaGFzQ3VzdG9tVG9TdHJpbmciLCJ0b1N0cmluZyIsImlzVW5kZWZpbmVkIiwiaXNEZWZpbmVkIiwiZ2V0UHJvdG90eXBlT2YiLCJpc1Njb3BlIiwiJGV2YWxBc3luYyIsIiR3YXRjaCIsImlzRmlsZSIsImlzRm9ybURhdGEiLCJpc0Jsb2IiLCJpc0Jvb2xlYW4iLCJpc1Byb21pc2VMaWtlIiwidGhlbiIsImlzVHlwZWRBcnJheSIsIlRZUEVEX0FSUkFZX1JFR0VYUCIsInRlc3QiLCJub2RlIiwicHJvcCIsImF0dHIiLCJmaW5kIiwibWFrZU1hcCIsIml0ZW1zIiwic3BsaXQiLCJub2RlTmFtZV8iLCJlbGVtZW50IiwibG93ZXJjYXNlIiwiYXJyYXlSZW1vdmUiLCJhcnJheSIsImluZGV4T2YiLCJzcGxpY2UiLCJjb3B5Iiwic291cmNlIiwiZGVzdGluYXRpb24iLCJjb3B5UmVjdXJzZSIsInB1c2giLCJjb3B5RWxlbWVudCIsInN0YWNrU291cmNlIiwic3RhY2tEZXN0IiwibmdNaW5FcnIiLCJuZWVkc1JlY3Vyc2UiLCJjb25zdHJ1Y3RvciIsImdldFRpbWUiLCJsYXN0SW5kZXgiLCJzaGFsbG93Q29weSIsImNoYXJBdCIsImVxdWFscyIsIm8xIiwibzIiLCJrZXlTZXQiLCJ0MSIsInQyIiwiY3JlYXRlTWFwIiwiY29uY2F0IiwiYXJyYXkxIiwiYXJyYXkyIiwic2xpY2VBcmdzIiwiYXJncyIsInN0YXJ0SW5kZXgiLCJiaW5kIiwic2VsZiIsImZuIiwiY3VycnlBcmdzIiwiYXBwbHkiLCJ0b0pzb25SZXBsYWNlciIsInZhbCIsInRvSnNvbiIsInByZXR0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmcm9tSnNvbiIsImpzb24iLCJwYXJzZSIsInRpbWV6b25lVG9PZmZzZXQiLCJ0aW1lem9uZSIsImZhbGxiYWNrIiwicmVxdWVzdGVkVGltZXpvbmVPZmZzZXQiLCJpc05hTiIsImFkZERhdGVNaW51dGVzIiwiZGF0ZSIsIm1pbnV0ZXMiLCJzZXRNaW51dGVzIiwiZ2V0TWludXRlcyIsImNvbnZlcnRUaW1lem9uZVRvTG9jYWwiLCJyZXZlcnNlIiwidGltZXpvbmVPZmZzZXQiLCJnZXRUaW1lem9uZU9mZnNldCIsInN0YXJ0aW5nVGFnIiwiZW1wdHkiLCJlIiwiZWxlbUh0bWwiLCJhcHBlbmQiLCJodG1sIiwibm9kZVR5cGUiLCJOT0RFX1RZUEVfVEVYVCIsInRyeURlY29kZVVSSUNvbXBvbmVudCIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlS2V5VmFsdWUiLCJrZXlWYWx1ZSIsInNwbGl0UG9pbnQiLCJzdWJzdHJpbmciLCJ0b0tleVZhbHVlIiwicGFydHMiLCJhcnJheVZhbHVlIiwiZW5jb2RlVXJpUXVlcnkiLCJqb2luIiwiZW5jb2RlVXJpU2VnbWVudCIsInBjdEVuY29kZVNwYWNlcyIsImdldE5nQXR0cmlidXRlIiwibmdBdHRyIiwibmdBdHRyUHJlZml4ZXMiLCJnZXRBdHRyaWJ1dGUiLCJhbmd1bGFySW5pdCIsImJvb3RzdHJhcCIsImFwcEVsZW1lbnQiLCJjb25maWciLCJwcmVmaXgiLCJuYW1lIiwiaGFzQXR0cmlidXRlIiwiY2FuZGlkYXRlIiwicXVlcnlTZWxlY3RvciIsInN0cmljdERpIiwibW9kdWxlcyIsImRlZmF1bHRDb25maWciLCJkb0Jvb3RzdHJhcCIsImluamVjdG9yIiwidGFnIiwidW5zaGlmdCIsIiRwcm92aWRlIiwiZGVidWdJbmZvRW5hYmxlZCIsIiRjb21waWxlUHJvdmlkZXIiLCJjcmVhdGVJbmplY3RvciIsImludm9rZSIsInNjb3BlIiwiY29tcGlsZSIsIiRhcHBseSIsImRhdGEiLCJOR19FTkFCTEVfREVCVUdfSU5GTyIsIk5HX0RFRkVSX0JPT1RTVFJBUCIsImFuZ3VsYXIiLCJyZXN1bWVCb290c3RyYXAiLCJleHRyYU1vZHVsZXMiLCJyZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCIsInJlbG9hZFdpdGhEZWJ1Z0luZm8iLCJsb2NhdGlvbiIsInJlbG9hZCIsImdldFRlc3RhYmlsaXR5Iiwicm9vdEVsZW1lbnQiLCJnZXQiLCJzbmFrZV9jYXNlIiwic2VwYXJhdG9yIiwiU05BS0VfQ0FTRV9SRUdFWFAiLCJsZXR0ZXIiLCJwb3MiLCJ0b0xvd2VyQ2FzZSIsImJpbmRKUXVlcnkiLCJvcmlnaW5hbENsZWFuRGF0YSIsImJpbmRKUXVlcnlGaXJlZCIsImpxTmFtZSIsImpxIiwialF1ZXJ5Iiwib24iLCJKUUxpdGVQcm90b3R5cGUiLCJpc29sYXRlU2NvcGUiLCJjb250cm9sbGVyIiwiaW5oZXJpdGVkRGF0YSIsImNsZWFuRGF0YSIsImVsZW1zIiwiZXZlbnRzIiwic2tpcERlc3Ryb3lPbk5leHRKUXVlcnlDbGVhbkRhdGEiLCJlbGVtIiwiX2RhdGEiLCIkZGVzdHJveSIsInRyaWdnZXJIYW5kbGVyIiwiSlFMaXRlIiwiYXNzZXJ0QXJnIiwiYXJnIiwicmVhc29uIiwiYXNzZXJ0QXJnRm4iLCJhY2NlcHRBcnJheUFubm90YXRpb24iLCJhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSIsImdldHRlciIsInBhdGgiLCJiaW5kRm5Ub1Njb3BlIiwibGFzdEluc3RhbmNlIiwibGVuIiwiZ2V0QmxvY2tOb2RlcyIsIm5vZGVzIiwiYmxvY2tOb2RlcyIsImVuZE5vZGUiLCJuZXh0U2libGluZyIsInNldHVwTW9kdWxlTG9hZGVyIiwiZW5zdXJlIiwiZmFjdG9yeSIsIiRpbmplY3Rvck1pbkVyciIsIiQkbWluRXJyIiwicmVxdWlyZXMiLCJjb25maWdGbiIsImludm9rZUxhdGVyIiwicHJvdmlkZXIiLCJtZXRob2QiLCJpbnNlcnRNZXRob2QiLCJxdWV1ZSIsImludm9rZVF1ZXVlIiwibW9kdWxlSW5zdGFuY2UiLCJpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUiLCJyZWNpcGVOYW1lIiwiZmFjdG9yeUZ1bmN0aW9uIiwiJCRtb2R1bGVOYW1lIiwiY29uZmlnQmxvY2tzIiwicnVuQmxvY2tzIiwiX2ludm9rZVF1ZXVlIiwiX2NvbmZpZ0Jsb2NrcyIsIl9ydW5CbG9ja3MiLCJzZXJ2aWNlIiwiY29uc3RhbnQiLCJkZWNvcmF0b3IiLCJhbmltYXRpb24iLCJmaWx0ZXIiLCJkaXJlY3RpdmUiLCJydW4iLCJibG9jayIsInRoaXMiLCJzZXJpYWxpemVPYmplY3QiLCJzZWVuIiwicHVibGlzaEV4dGVybmFsQVBJIiwidmVyc2lvbiIsInVwcGVyY2FzZSIsImNhbGxiYWNrcyIsImNvdW50ZXIiLCIkJGNzcCIsImNzcCIsImFuZ3VsYXJNb2R1bGUiLCIkJHNhbml0aXplVXJpIiwiJCRTYW5pdGl6ZVVyaVByb3ZpZGVyIiwiJENvbXBpbGVQcm92aWRlciIsImEiLCJodG1sQW5jaG9yRGlyZWN0aXZlIiwiaW5wdXQiLCJpbnB1dERpcmVjdGl2ZSIsInRleHRhcmVhIiwiZm9ybSIsImZvcm1EaXJlY3RpdmUiLCJzY3JpcHQiLCJzY3JpcHREaXJlY3RpdmUiLCJzZWxlY3QiLCJzZWxlY3REaXJlY3RpdmUiLCJzdHlsZSIsInN0eWxlRGlyZWN0aXZlIiwib3B0aW9uIiwib3B0aW9uRGlyZWN0aXZlIiwibmdCaW5kIiwibmdCaW5kRGlyZWN0aXZlIiwibmdCaW5kSHRtbCIsIm5nQmluZEh0bWxEaXJlY3RpdmUiLCJuZ0JpbmRUZW1wbGF0ZSIsIm5nQmluZFRlbXBsYXRlRGlyZWN0aXZlIiwibmdDbGFzcyIsIm5nQ2xhc3NEaXJlY3RpdmUiLCJuZ0NsYXNzRXZlbiIsIm5nQ2xhc3NFdmVuRGlyZWN0aXZlIiwibmdDbGFzc09kZCIsIm5nQ2xhc3NPZGREaXJlY3RpdmUiLCJuZ0Nsb2FrIiwibmdDbG9ha0RpcmVjdGl2ZSIsIm5nQ29udHJvbGxlciIsIm5nQ29udHJvbGxlckRpcmVjdGl2ZSIsIm5nRm9ybSIsIm5nRm9ybURpcmVjdGl2ZSIsIm5nSGlkZSIsIm5nSGlkZURpcmVjdGl2ZSIsIm5nSWYiLCJuZ0lmRGlyZWN0aXZlIiwibmdJbmNsdWRlIiwibmdJbmNsdWRlRGlyZWN0aXZlIiwibmdJbml0IiwibmdJbml0RGlyZWN0aXZlIiwibmdOb25CaW5kYWJsZSIsIm5nTm9uQmluZGFibGVEaXJlY3RpdmUiLCJuZ1BsdXJhbGl6ZSIsIm5nUGx1cmFsaXplRGlyZWN0aXZlIiwibmdSZXBlYXQiLCJuZ1JlcGVhdERpcmVjdGl2ZSIsIm5nU2hvdyIsIm5nU2hvd0RpcmVjdGl2ZSIsIm5nU3R5bGUiLCJuZ1N0eWxlRGlyZWN0aXZlIiwibmdTd2l0Y2giLCJuZ1N3aXRjaERpcmVjdGl2ZSIsIm5nU3dpdGNoV2hlbiIsIm5nU3dpdGNoV2hlbkRpcmVjdGl2ZSIsIm5nU3dpdGNoRGVmYXVsdCIsIm5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSIsIm5nT3B0aW9ucyIsIm5nT3B0aW9uc0RpcmVjdGl2ZSIsIm5nVHJhbnNjbHVkZSIsIm5nVHJhbnNjbHVkZURpcmVjdGl2ZSIsIm5nTW9kZWwiLCJuZ01vZGVsRGlyZWN0aXZlIiwibmdMaXN0IiwibmdMaXN0RGlyZWN0aXZlIiwibmdDaGFuZ2UiLCJuZ0NoYW5nZURpcmVjdGl2ZSIsInBhdHRlcm4iLCJwYXR0ZXJuRGlyZWN0aXZlIiwibmdQYXR0ZXJuIiwicmVxdWlyZWQiLCJyZXF1aXJlZERpcmVjdGl2ZSIsIm5nUmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtaW5sZW5ndGhEaXJlY3RpdmUiLCJuZ01pbmxlbmd0aCIsIm1heGxlbmd0aCIsIm1heGxlbmd0aERpcmVjdGl2ZSIsIm5nTWF4bGVuZ3RoIiwibmdWYWx1ZSIsIm5nVmFsdWVEaXJlY3RpdmUiLCJuZ01vZGVsT3B0aW9ucyIsIm5nTW9kZWxPcHRpb25zRGlyZWN0aXZlIiwibmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUiLCJuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyIsIm5nRXZlbnREaXJlY3RpdmVzIiwiJGFuY2hvclNjcm9sbCIsIiRBbmNob3JTY3JvbGxQcm92aWRlciIsIiRhbmltYXRlIiwiJEFuaW1hdGVQcm92aWRlciIsIiRhbmltYXRlQ3NzIiwiJENvcmVBbmltYXRlQ3NzUHJvdmlkZXIiLCIkJGFuaW1hdGVRdWV1ZSIsIiQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyIiwiJCRBbmltYXRlUnVubmVyIiwiJCRDb3JlQW5pbWF0ZVJ1bm5lclByb3ZpZGVyIiwiJGJyb3dzZXIiLCIkQnJvd3NlclByb3ZpZGVyIiwiJGNhY2hlRmFjdG9yeSIsIiRDYWNoZUZhY3RvcnlQcm92aWRlciIsIiRjb250cm9sbGVyIiwiJENvbnRyb2xsZXJQcm92aWRlciIsIiRkb2N1bWVudCIsIiREb2N1bWVudFByb3ZpZGVyIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyIiwiJGZpbHRlciIsIiRGaWx0ZXJQcm92aWRlciIsIiQkZm9yY2VSZWZsb3ciLCIkJEZvcmNlUmVmbG93UHJvdmlkZXIiLCIkaW50ZXJwb2xhdGUiLCIkSW50ZXJwb2xhdGVQcm92aWRlciIsIiRpbnRlcnZhbCIsIiRJbnRlcnZhbFByb3ZpZGVyIiwiJGh0dHAiLCIkSHR0cFByb3ZpZGVyIiwiJGh0dHBQYXJhbVNlcmlhbGl6ZXIiLCIkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyIiwiJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UiLCIkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyIiwiJGh0dHBCYWNrZW5kIiwiJEh0dHBCYWNrZW5kUHJvdmlkZXIiLCIkeGhyRmFjdG9yeSIsIiR4aHJGYWN0b3J5UHJvdmlkZXIiLCIkbG9jYXRpb24iLCIkTG9jYXRpb25Qcm92aWRlciIsIiRsb2ciLCIkTG9nUHJvdmlkZXIiLCIkcGFyc2UiLCIkUGFyc2VQcm92aWRlciIsIiRyb290U2NvcGUiLCIkUm9vdFNjb3BlUHJvdmlkZXIiLCIkcSIsIiRRUHJvdmlkZXIiLCIkJHEiLCIkJFFQcm92aWRlciIsIiRzY2UiLCIkU2NlUHJvdmlkZXIiLCIkc2NlRGVsZWdhdGUiLCIkU2NlRGVsZWdhdGVQcm92aWRlciIsIiRzbmlmZmVyIiwiJFNuaWZmZXJQcm92aWRlciIsIiR0ZW1wbGF0ZUNhY2hlIiwiJFRlbXBsYXRlQ2FjaGVQcm92aWRlciIsIiR0ZW1wbGF0ZVJlcXVlc3QiLCIkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIiLCIkJHRlc3RhYmlsaXR5IiwiJCRUZXN0YWJpbGl0eVByb3ZpZGVyIiwiJHRpbWVvdXQiLCIkVGltZW91dFByb3ZpZGVyIiwiJHdpbmRvdyIsIiRXaW5kb3dQcm92aWRlciIsIiQkckFGIiwiJCRSQUZQcm92aWRlciIsIiQkanFMaXRlIiwiJCRqcUxpdGVQcm92aWRlciIsIiQkSGFzaE1hcCIsIiQkSGFzaE1hcFByb3ZpZGVyIiwiJCRjb29raWVSZWFkZXIiLCIkJENvb2tpZVJlYWRlclByb3ZpZGVyIiwianFOZXh0SWQiLCJqcUlkIiwiY2FtZWxDYXNlIiwiU1BFQ0lBTF9DSEFSU19SRUdFWFAiLCJfIiwib2Zmc2V0IiwidG9VcHBlckNhc2UiLCJNT1pfSEFDS19SRUdFWFAiLCJqcUxpdGVJc1RleHROb2RlIiwiSFRNTF9SRUdFWFAiLCJqcUxpdGVBY2NlcHRzRGF0YSIsIk5PREVfVFlQRV9FTEVNRU5UIiwiTk9ERV9UWVBFX0RPQ1VNRU5UIiwianFMaXRlSGFzRGF0YSIsImpxQ2FjaGUiLCJuZzMzOSIsImpxTGl0ZUJ1aWxkRnJhZ21lbnQiLCJ0bXAiLCJ3cmFwIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJUQUdfTkFNRV9SRUdFWFAiLCJleGVjIiwid3JhcE1hcCIsIl9kZWZhdWx0IiwiaW5uZXJIVE1MIiwiWEhUTUxfVEFHX1JFR0VYUCIsImxhc3RDaGlsZCIsImNoaWxkTm9kZXMiLCJmaXJzdENoaWxkIiwidGV4dENvbnRlbnQiLCJqcUxpdGVQYXJzZUhUTUwiLCJwYXJzZWQiLCJTSU5HTEVfVEFHX1JFR0VYUCIsImFyZ0lzU3RyaW5nIiwidHJpbSIsImpxTGl0ZU1pbkVyciIsImpxTGl0ZUFkZE5vZGVzIiwianFMaXRlQ2xvbmUiLCJqcUxpdGVEZWFsb2MiLCJvbmx5RGVzY2VuZGFudHMiLCJqcUxpdGVSZW1vdmVEYXRhIiwicXVlcnlTZWxlY3RvckFsbCIsImRlc2NlbmRhbnRzIiwibCIsImpxTGl0ZU9mZiIsInR5cGUiLCJ1bnN1cHBvcnRlZCIsImV4cGFuZG9TdG9yZSIsImpxTGl0ZUV4cGFuZG9TdG9yZSIsImhhbmRsZSIsInJlbW92ZUhhbmRsZXIiLCJsaXN0ZW5lckZucyIsInJlbW92ZUV2ZW50TGlzdGVuZXJGbiIsIk1PVVNFX0VWRU5UX01BUCIsImV4cGFuZG9JZCIsImNyZWF0ZUlmTmVjZXNzYXJ5IiwianFMaXRlRGF0YSIsImlzU2ltcGxlU2V0dGVyIiwiaXNTaW1wbGVHZXR0ZXIiLCJtYXNzR2V0dGVyIiwianFMaXRlSGFzQ2xhc3MiLCJzZWxlY3RvciIsImpxTGl0ZVJlbW92ZUNsYXNzIiwiY3NzQ2xhc3NlcyIsInNldEF0dHJpYnV0ZSIsImNzc0NsYXNzIiwianFMaXRlQWRkQ2xhc3MiLCJleGlzdGluZ0NsYXNzZXMiLCJyb290IiwiZWxlbWVudHMiLCJqcUxpdGVDb250cm9sbGVyIiwianFMaXRlSW5oZXJpdGVkRGF0YSIsImRvY3VtZW50RWxlbWVudCIsIm5hbWVzIiwicGFyZW50Tm9kZSIsIk5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCIsImhvc3QiLCJqcUxpdGVFbXB0eSIsInJlbW92ZUNoaWxkIiwianFMaXRlUmVtb3ZlIiwia2VlcERhdGEiLCJqcUxpdGVEb2N1bWVudExvYWRlZCIsImFjdGlvbiIsIndpbiIsInJlYWR5U3RhdGUiLCJzZXRUaW1lb3V0IiwiZ2V0Qm9vbGVhbkF0dHJOYW1lIiwiYm9vbGVhbkF0dHIiLCJCT09MRUFOX0FUVFIiLCJCT09MRUFOX0VMRU1FTlRTIiwiZ2V0QWxpYXNlZEF0dHJOYW1lIiwiQUxJQVNFRF9BVFRSIiwiY3JlYXRlRXZlbnRIYW5kbGVyIiwiZXZlbnRIYW5kbGVyIiwiZXZlbnQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJkZWZhdWx0UHJldmVudGVkIiwiZXZlbnRGbnMiLCJldmVudEZuc0xlbmd0aCIsImltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsIm9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCJoYW5kbGVyV3JhcHBlciIsInNwZWNpYWxIYW5kbGVyV3JhcHBlciIsImRlZmF1bHRIYW5kbGVyV3JhcHBlciIsImhhbmRsZXIiLCJzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlciIsInRhcmdldCIsInJlbGF0ZWQiLCJyZWxhdGVkVGFyZ2V0IiwianFMaXRlQ29udGFpbnMiLCIkZ2V0IiwiaGFzQ2xhc3MiLCJjbGFzc2VzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhhc2hLZXkiLCJuZXh0VWlkRm4iLCJvYmpUeXBlIiwiSGFzaE1hcCIsImlzb2xhdGVkVWlkIiwicHV0IiwiYW5vbkZuIiwiZm5UZXh0IiwiU1RSSVBfQ09NTUVOVFMiLCJGTl9BUkdTIiwiYW5ub3RhdGUiLCIkaW5qZWN0IiwiYXJnRGVjbCIsImxhc3QiLCJGTl9BUkdfU1BMSVQiLCJGTl9BUkciLCJhbGwiLCJ1bmRlcnNjb3JlIiwibW9kdWxlc1RvTG9hZCIsInN1cHBvcnRPYmplY3QiLCJkZWxlZ2F0ZSIsInByb3ZpZGVyXyIsInByb3ZpZGVySW5qZWN0b3IiLCJpbnN0YW50aWF0ZSIsInByb3ZpZGVyQ2FjaGUiLCJwcm92aWRlclN1ZmZpeCIsImVuZm9yY2VSZXR1cm5WYWx1ZSIsInJlc3VsdCIsImluc3RhbmNlSW5qZWN0b3IiLCJmYWN0b3J5Rm4iLCJlbmZvcmNlIiwiJGluamVjdG9yIiwiaW5zdGFuY2VDYWNoZSIsInNlcnZpY2VOYW1lIiwiZGVjb3JGbiIsIm9yaWdQcm92aWRlciIsIm9yaWckZ2V0Iiwib3JpZ0luc3RhbmNlIiwiJGRlbGVnYXRlIiwibG9hZE1vZHVsZXMiLCJtb2R1bGVGbiIsInJ1bkludm9rZVF1ZXVlIiwiaW52b2tlQXJncyIsImxvYWRlZE1vZHVsZXMiLCJzdGFjayIsImNyZWF0ZUludGVybmFsSW5qZWN0b3IiLCJjYWNoZSIsImdldFNlcnZpY2UiLCJjYWxsZXIiLCJJTlNUQU5USUFUSU5HIiwiZXJyIiwic2hpZnQiLCJsb2NhbHMiLCIkJGFubm90YXRlIiwiVHlwZSIsImluc3RhbmNlIiwicHJvdG90eXBlIiwicmV0dXJuZWRWYWx1ZSIsImhhcyIsImF1dG9TY3JvbGxpbmdFbmFibGVkIiwiZGlzYWJsZUF1dG9TY3JvbGxpbmciLCJnZXRGaXJzdEFuY2hvciIsImxpc3QiLCJBcnJheSIsInNvbWUiLCJnZXRZT2Zmc2V0Iiwic2Nyb2xsIiwieU9mZnNldCIsImdldENvbXB1dGVkU3R5bGUiLCJwb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJvdHRvbSIsInNjcm9sbFRvIiwic2Nyb2xsSW50b1ZpZXciLCJlbGVtVG9wIiwidG9wIiwic2Nyb2xsQnkiLCJoYXNoIiwiZWxtIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRFbGVtZW50c0J5TmFtZSIsIm5ld1ZhbCIsIm9sZFZhbCIsIm1lcmdlQ2xhc3NlcyIsImIiLCJleHRyYWN0RWxlbWVudE5vZGUiLCJFTEVNRU5UX05PREUiLCJzcGxpdENsYXNzZXMiLCJrbGFzcyIsInByZXBhcmVBbmltYXRlT3B0aW9ucyIsIm9wdGlvbnMiLCJCcm93c2VyIiwiY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QiLCJvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCIsIm91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcyIsInBvcCIsImVycm9yIiwiZ2V0SGFzaCIsInVybCIsInN1YnN0ciIsImNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlIiwicGVuZGluZ0xvY2F0aW9uIiwiY2FjaGVTdGF0ZSIsImZpcmVVcmxDaGFuZ2UiLCJnZXRDdXJyZW50U3RhdGUiLCJoaXN0b3J5Iiwic3RhdGUiLCJjYWNoZWRTdGF0ZSIsImxhc3RDYWNoZWRTdGF0ZSIsImxhc3RCcm93c2VyVXJsIiwibGFzdEhpc3RvcnlTdGF0ZSIsInVybENoYW5nZUxpc3RlbmVycyIsImxpc3RlbmVyIiwiY2xlYXJUaW1lb3V0IiwicGVuZGluZ0RlZmVySWRzIiwiaXNNb2NrIiwiJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCIsIiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQiLCJub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzIiwiY2FsbGJhY2siLCJocmVmIiwiYmFzZUVsZW1lbnQiLCJzYW1lU3RhdGUiLCJzYW1lQmFzZSIsInN0cmlwSGFzaCIsInVybENoYW5nZUluaXQiLCJvblVybENoYW5nZSIsIiQkYXBwbGljYXRpb25EZXN0cm95ZWQiLCJvZmYiLCIkJGNoZWNrVXJsQ2hhbmdlIiwiYmFzZUhyZWYiLCJkZWZlciIsImRlbGF5IiwidGltZW91dElkIiwiY2FuY2VsIiwiZGVmZXJJZCIsImNhY2hlRmFjdG9yeSIsImNhY2hlSWQiLCJyZWZyZXNoIiwiZW50cnkiLCJmcmVzaEVuZCIsInN0YWxlRW5kIiwibiIsImxpbmsiLCJwIiwibmV4dEVudHJ5IiwicHJldkVudHJ5IiwiY2FjaGVzIiwic2l6ZSIsInN0YXRzIiwiaWQiLCJjYXBhY2l0eSIsIk51bWJlciIsIk1BWF9WQUxVRSIsImxydUhhc2giLCJscnVFbnRyeSIsInJlbW92ZSIsInJlbW92ZUFsbCIsImRlc3Ryb3kiLCJpbmZvIiwiJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIiwicGFyc2VJc29sYXRlQmluZGluZ3MiLCJkaXJlY3RpdmVOYW1lIiwiaXNDb250cm9sbGVyIiwiTE9DQUxfUkVHRVhQIiwiYmluZGluZ3MiLCJkZWZpbml0aW9uIiwic2NvcGVOYW1lIiwiJGNvbXBpbGVNaW5FcnIiLCJtb2RlIiwiY29sbGVjdGlvbiIsIm9wdGlvbmFsIiwiYXR0ck5hbWUiLCJwYXJzZURpcmVjdGl2ZUJpbmRpbmdzIiwiYmluZFRvQ29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImlkZW50aWZpZXJGb3JDb250cm9sbGVyIiwiYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lIiwiaGFzRGlyZWN0aXZlcyIsIlN1ZmZpeCIsIkNPTU1FTlRfRElSRUNUSVZFX1JFR0VYUCIsIkNMQVNTX0RJUkVDVElWRV9SRUdFWFAiLCJBTExfT1JfTk9USElOR19BVFRSUyIsIlJFUVVJUkVfUFJFRklYX1JFR0VYUCIsIkVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAiLCJyZWdpc3RlckRpcmVjdGl2ZSIsImRpcmVjdGl2ZUZhY3RvcnkiLCJkaXJlY3RpdmVzIiwicHJpb3JpdHkiLCJyZXF1aXJlIiwicmVzdHJpY3QiLCIkJGJpbmRpbmdzIiwiJCRpc29sYXRlQmluZGluZ3MiLCJhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCIsInJlZ2V4cCIsImltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCIsImVuYWJsZWQiLCJzYWZlQWRkQ2xhc3MiLCIkZWxlbWVudCIsImNsYXNzTmFtZSIsIiRjb21waWxlTm9kZXMiLCJ0cmFuc2NsdWRlRm4iLCJtYXhQcmlvcml0eSIsImlnbm9yZURpcmVjdGl2ZSIsInByZXZpb3VzQ29tcGlsZUNvbnRleHQiLCJub2RlVmFsdWUiLCJjb21wb3NpdGVMaW5rRm4iLCJjb21waWxlTm9kZXMiLCIkJGFkZFNjb3BlQ2xhc3MiLCJuYW1lc3BhY2UiLCJjbG9uZUNvbm5lY3RGbiIsIm5lZWRzTmV3U2NvcGUiLCIkcGFyZW50IiwiJG5ldyIsInBhcmVudEJvdW5kVHJhbnNjbHVkZUZuIiwidHJhbnNjbHVkZUNvbnRyb2xsZXJzIiwiZnV0dXJlUGFyZW50RWxlbWVudCIsIiQkYm91bmRUcmFuc2NsdWRlIiwiZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyIsIiRsaW5rTm9kZSIsIndyYXBUZW1wbGF0ZSIsImNvbnRyb2xsZXJOYW1lIiwiJCRhZGRTY29wZUluZm8iLCJwYXJlbnRFbGVtZW50Iiwibm9kZUxpc3QiLCIkcm9vdEVsZW1lbnQiLCJub2RlTGlua0ZuIiwiY2hpbGRMaW5rRm4iLCJjaGlsZFNjb3BlIiwiaWR4IiwiY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiIsInN0YWJsZU5vZGVMaXN0Iiwibm9kZUxpbmtGbkZvdW5kIiwibm9kZUxpc3RMZW5ndGgiLCJsaW5rRm5zIiwidHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQiLCJjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGUiLCJ0ZW1wbGF0ZU9uVGhpc0VsZW1lbnQiLCJhdHRycyIsImxpbmtGbkZvdW5kIiwiQXR0cmlidXRlcyIsImNvbGxlY3REaXJlY3RpdmVzIiwiYXBwbHlEaXJlY3RpdmVzVG9Ob2RlIiwiJCRlbGVtZW50IiwidGVybWluYWwiLCJwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuIiwiYm91bmRUcmFuc2NsdWRlRm4iLCJ0cmFuc2NsdWRlZFNjb3BlIiwiY2xvbmVGbiIsImNvbnRyb2xsZXJzIiwiY29udGFpbmluZ1Njb3BlIiwiJCR0cmFuc2NsdWRlZCIsImF0dHJzTWFwIiwiJGF0dHIiLCJhZGREaXJlY3RpdmUiLCJkaXJlY3RpdmVOb3JtYWxpemUiLCJuTmFtZSIsIm5nQXR0ck5hbWUiLCJpc05nQXR0ciIsIm5BdHRycyIsImF0dHJpYnV0ZXMiLCJhdHRyU3RhcnROYW1lIiwiYXR0ckVuZE5hbWUiLCJOR19BVFRSX0JJTkRJTkciLCJQUkVGSVhfUkVHRVhQIiwibXVsdGlFbGVtZW50TWF0Y2giLCJNVUxUSV9FTEVNRU5UX0RJUl9SRSIsImRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50IiwiYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlIiwiYW5pbVZhbCIsIm1zaWUiLCJhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUiLCJOT0RFX1RZUEVfQ09NTUVOVCIsImJ5UHJpb3JpdHkiLCJncm91cFNjYW4iLCJhdHRyU3RhcnQiLCJhdHRyRW5kIiwiZGVwdGgiLCJncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlciIsImxpbmtGbiIsImNvbXBpbGVOb2RlIiwidGVtcGxhdGVBdHRycyIsImpxQ29sbGVjdGlvbiIsIm9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSIsInByZUxpbmtGbnMiLCJwb3N0TGlua0ZucyIsImFkZExpbmtGbnMiLCJwcmUiLCJwb3N0IiwibmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIiwiJCRpc29sYXRlU2NvcGUiLCJjbG9uZUFuZEFubm90YXRlRm4iLCJnZXRDb250cm9sbGVycyIsImVsZW1lbnRDb250cm9sbGVycyIsImluaGVyaXRUeXBlIiwiZGF0YU5hbWUiLCJzZXR1cENvbnRyb2xsZXJzIiwiY29udHJvbGxlckRpcmVjdGl2ZXMiLCJjb250cm9sbGVyS2V5IiwiJHNjb3BlIiwiJGF0dHJzIiwiJHRyYW5zY2x1ZGUiLCJjb250cm9sbGVySW5zdGFuY2UiLCJoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSIsImxpbmtOb2RlIiwiY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGUiLCJjbG9uZUF0dGFjaEZuIiwic2NvcGVUb0NoaWxkIiwiY29udHJvbGxlclNjb3BlIiwicmVtb3ZlU2NvcGVCaW5kaW5nV2F0Y2hlcyIsInJlbW92ZUNvbnRyb2xsZXJCaW5kaW5nV2F0Y2hlcyIsIm5ld1Njb3BlRGlyZWN0aXZlIiwidGVtcGxhdGVEaXJlY3RpdmUiLCIkJG9yaWdpbmFsRGlyZWN0aXZlIiwiaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzIiwiJG9uIiwiY29udHJvbGxlckRpcmVjdGl2ZSIsImlkZW50aWZpZXIiLCJjb250cm9sbGVyUmVzdWx0IiwiaW52b2tlTGlua0ZuIiwidGVtcGxhdGVVcmwiLCIkdGVtcGxhdGUiLCJkaXJlY3RpdmVWYWx1ZSIsInRlcm1pbmFsUHJpb3JpdHkiLCJub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIiwiaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSIsImhhc1RlbXBsYXRlIiwiJGNvbXBpbGVOb2RlIiwicmVwbGFjZURpcmVjdGl2ZSIsImNoaWxkVHJhbnNjbHVkZUZuIiwiJCRzdGFydCIsIiQkZW5kIiwiYXNzZXJ0Tm9EdXBsaWNhdGUiLCIkJHRsYiIsImNyZWF0ZUNvbW1lbnQiLCJyZXBsYWNlV2l0aCIsImNvbnRlbnRzIiwiJCRuZXdTY29wZSIsImRlbm9ybWFsaXplVGVtcGxhdGUiLCJyZW1vdmVDb21tZW50cyIsInRlbXBsYXRlTmFtZXNwYWNlIiwibmV3VGVtcGxhdGVBdHRycyIsInRlbXBsYXRlRGlyZWN0aXZlcyIsInVucHJvY2Vzc2VkRGlyZWN0aXZlcyIsIm1hcmtEaXJlY3RpdmVTY29wZSIsIm1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzIiwiY29tcGlsZVRlbXBsYXRlVXJsIiwiTWF0aCIsIm1heCIsIm5ld1Njb3BlIiwidERpcmVjdGl2ZXMiLCJzdGFydEF0dHJOYW1lIiwiZW5kQXR0ck5hbWUiLCJtdWx0aUVsZW1lbnQiLCJzcmNBdHRyIiwiZHN0QXR0ciIsIiRzZXQiLCJ0QXR0cnMiLCJhZnRlclRlbXBsYXRlTm9kZUxpbmtGbiIsImFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiIsImxpbmtRdWV1ZSIsImJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUiLCJvcmlnQXN5bmNEaXJlY3RpdmUiLCJkZXJpdmVkU3luY0RpcmVjdGl2ZSIsImNvbnRlbnQiLCJ0ZW1wVGVtcGxhdGVBdHRycyIsImJlZm9yZVRlbXBsYXRlTGlua05vZGUiLCJsaW5rUm9vdEVsZW1lbnQiLCIkJGRlc3Ryb3llZCIsIm9sZENsYXNzZXMiLCJpZ25vcmVDaGlsZExpbmtGbiIsImRpZmYiLCJ3aGF0IiwicHJldmlvdXNEaXJlY3RpdmUiLCJ3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZCIsIm1vZHVsZU5hbWUiLCJ0ZXh0IiwiaW50ZXJwb2xhdGVGbiIsInRlbXBsYXRlTm9kZSIsInRlbXBsYXRlTm9kZVBhcmVudCIsImhhc0NvbXBpbGVQYXJlbnQiLCIkJGFkZEJpbmRpbmdDbGFzcyIsIiQkYWRkQmluZGluZ0luZm8iLCJleHByZXNzaW9ucyIsIndyYXBwZXIiLCJnZXRUcnVzdGVkQ29udGV4dCIsImF0dHJOb3JtYWxpemVkTmFtZSIsIkhUTUwiLCJSRVNPVVJDRV9VUkwiLCJhbGxPck5vdGhpbmciLCJ0cnVzdGVkQ29udGV4dCIsIiQkb2JzZXJ2ZXJzIiwibmV3VmFsdWUiLCIkJGludGVyIiwiJCRzY29wZSIsIm9sZFZhbHVlIiwiJHVwZGF0ZUNsYXNzIiwiZWxlbWVudHNUb1JlbW92ZSIsIm5ld05vZGUiLCJmaXJzdEVsZW1lbnRUb1JlbW92ZSIsInJlbW92ZUNvdW50IiwiajIiLCJyZXBsYWNlQ2hpbGQiLCJoYXNEYXRhIiwiZXhwYW5kbyIsImsiLCJrayIsImFubm90YXRpb24iLCJyZW1vdmVXYXRjaENvbGxlY3Rpb24iLCJsYXN0VmFsdWUiLCJwYXJlbnRHZXQiLCJwYXJlbnRTZXQiLCJjb21wYXJlIiwiJG9ic2VydmUiLCJsaXRlcmFsIiwiYXNzaWduIiwicGFyZW50VmFsdWVXYXRjaCIsInBhcmVudFZhbHVlIiwiJHN0YXRlZnVsIiwicmVtb3ZlV2F0Y2giLCIkd2F0Y2hDb2xsZWN0aW9uIiwiYXR0cmlidXRlc1RvQ29weSIsIiRub3JtYWxpemUiLCIkYWRkQ2xhc3MiLCJjbGFzc1ZhbCIsIiRyZW1vdmVDbGFzcyIsIm5ld0NsYXNzZXMiLCJ0b0FkZCIsInRva2VuRGlmZmVyZW5jZSIsInRvUmVtb3ZlIiwid3JpdGVBdHRyIiwiYm9vbGVhbktleSIsImFsaWFzZWRLZXkiLCJvYnNlcnZlciIsInRyaW1tZWRTcmNzZXQiLCJzcmNQYXR0ZXJuIiwicmF3VXJpcyIsIm5iclVyaXNXaXRoMnBhcnRzIiwiZmxvb3IiLCJpbm5lcklkeCIsImxhc3RUdXBsZSIsInJlbW92ZUF0dHIiLCJsaXN0ZW5lcnMiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsImJpbmRpbmciLCJpc29sYXRlZCIsIm5vVGVtcGxhdGUiLCJzdHIxIiwic3RyMiIsInZhbHVlcyIsInRva2VuczEiLCJ0b2tlbnMyIiwib3V0ZXIiLCJ0b2tlbiIsImpxTm9kZXMiLCJpZGVudCIsIkNOVFJMX1JFRyIsImdsb2JhbHMiLCJyZWdpc3RlciIsImFsbG93R2xvYmFscyIsImFkZElkZW50aWZpZXIiLCJleHByZXNzaW9uIiwibGF0ZXIiLCIkY29udHJvbGxlck1pbkVyciIsImNvbnRyb2xsZXJQcm90b3R5cGUiLCJleGNlcHRpb24iLCJjYXVzZSIsInNlcmlhbGl6ZVZhbHVlIiwidiIsInRvSVNPU3RyaW5nIiwicGFyYW1zIiwic2VyaWFsaXplIiwidG9TZXJpYWxpemUiLCJ0b3BMZXZlbCIsImRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0iLCJoZWFkZXJzIiwidGVtcERhdGEiLCJKU09OX1BST1RFQ1RJT05fUFJFRklYIiwiY29udGVudFR5cGUiLCJBUFBMSUNBVElPTl9KU09OIiwiaXNKc29uTGlrZSIsImpzb25TdGFydCIsIkpTT05fU1RBUlQiLCJKU09OX0VORFMiLCJwYXJzZUhlYWRlcnMiLCJmaWxsSW5QYXJzZWQiLCJsaW5lIiwiaGVhZGVyVmFsIiwiaGVhZGVyS2V5IiwiaGVhZGVyc0dldHRlciIsImhlYWRlcnNPYmoiLCJ0cmFuc2Zvcm1EYXRhIiwic3RhdHVzIiwiZm5zIiwiaXNTdWNjZXNzIiwiZGVmYXVsdHMiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInRyYW5zZm9ybVJlcXVlc3QiLCJkIiwiY29tbW9uIiwiQWNjZXB0IiwiQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04iLCJwYXRjaCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJwYXJhbVNlcmlhbGl6ZXIiLCJ1c2VBcHBseUFzeW5jIiwidXNlTGVnYWN5UHJvbWlzZSIsInVzZUxlZ2FjeVByb21pc2VFeHRlbnNpb25zIiwiaW50ZXJjZXB0b3JGYWN0b3JpZXMiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0Q29uZmlnIiwicmVzcG9uc2UiLCJyZXNwIiwicmVqZWN0IiwiZXhlY3V0ZUhlYWRlckZucyIsImhlYWRlckNvbnRlbnQiLCJwcm9jZXNzZWRIZWFkZXJzIiwiaGVhZGVyRm4iLCJoZWFkZXIiLCJtZXJnZUhlYWRlcnMiLCJkZWZIZWFkZXJOYW1lIiwibG93ZXJjYXNlRGVmSGVhZGVyTmFtZSIsInJlcUhlYWRlck5hbWUiLCJkZWZIZWFkZXJzIiwicmVxSGVhZGVycyIsImRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uIiwic2VydmVyUmVxdWVzdCIsInJlcURhdGEiLCJ3aXRoQ3JlZGVudGlhbHMiLCJzZW5kUmVxIiwiY2hhaW4iLCJwcm9taXNlIiwid2hlbiIsInJldmVyc2VkSW50ZXJjZXB0b3JzIiwiaW50ZXJjZXB0b3IiLCJyZXF1ZXN0IiwicmVxdWVzdEVycm9yIiwicmVzcG9uc2VFcnJvciIsInRoZW5GbiIsInJlamVjdEZuIiwic3VjY2VzcyIsIiRodHRwTWluRXJyTGVnYWN5Rm4iLCJjcmVhdGVTaG9ydE1ldGhvZHMiLCJjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSIsImRvbmUiLCJoZWFkZXJzU3RyaW5nIiwic3RhdHVzVGV4dCIsInJlc29sdmVIdHRwUHJvbWlzZSIsInJlc29sdmVQcm9taXNlIiwiJGFwcGx5QXN5bmMiLCIkJHBoYXNlIiwiZGVmZXJyZWQiLCJyZXNvbHZlIiwicmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0IiwicmVtb3ZlUGVuZGluZ1JlcSIsInBlbmRpbmdSZXF1ZXN0cyIsImNhY2hlZFJlc3AiLCJidWlsZFVybCIsImRlZmF1bHRDYWNoZSIsInhzcmZWYWx1ZSIsInVybElzU2FtZU9yaWdpbiIsInRpbWVvdXQiLCJyZXNwb25zZVR5cGUiLCJzZXJpYWxpemVkUGFyYW1zIiwiaW50ZXJjZXB0b3JGYWN0b3J5IiwiWE1MSHR0cFJlcXVlc3QiLCJjcmVhdGVIdHRwQmFja2VuZCIsImNyZWF0ZVhociIsIiRicm93c2VyRGVmZXIiLCJyYXdEb2N1bWVudCIsImpzb25wUmVxIiwiY2FsbGJhY2tJZCIsImFzeW5jIiwiYm9keSIsImNhbGxlZCIsImFkZEV2ZW50TGlzdGVuZXJGbiIsInRpbWVvdXRSZXF1ZXN0IiwianNvbnBEb25lIiwieGhyIiwiYWJvcnQiLCJjb21wbGV0ZVJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsInJlc3BvbnNlVGV4dCIsInVybFJlc29sdmUiLCJwcm90b2NvbCIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsIm9uZXJyb3IiLCJvbmFib3J0Iiwic2VuZCIsImVzY2FwZSIsImNoIiwidW5lc2NhcGVUZXh0IiwiZXNjYXBlZFN0YXJ0UmVnZXhwIiwiZXNjYXBlZEVuZFJlZ2V4cCIsIm11c3RIYXZlRXhwcmVzc2lvbiIsInBhcnNlU3RyaW5naWZ5SW50ZXJjZXB0b3IiLCJnZXRWYWx1ZSIsIiRpbnRlcnBvbGF0ZU1pbkVyciIsImludGVyciIsImVuZEluZGV4IiwiZXhwIiwicGFyc2VGbnMiLCJ0ZXh0TGVuZ3RoIiwiZXhwcmVzc2lvblBvc2l0aW9ucyIsInN0YXJ0U3ltYm9sTGVuZ3RoIiwiZW5kU3ltYm9sTGVuZ3RoIiwidGhyb3dOb2NvbmNhdCIsImNvbXB1dGUiLCJnZXRUcnVzdGVkIiwiJCR3YXRjaERlbGVnYXRlIiwiJHdhdGNoR3JvdXAiLCJvbGRWYWx1ZXMiLCJjdXJyVmFsdWUiLCJpbnRlcnZhbCIsImNvdW50IiwiaW52b2tlQXBwbHkiLCJoYXNQYXJhbXMiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJpdGVyYXRpb24iLCJza2lwQXBwbHkiLCIkJGludGVydmFsSWQiLCJub3RpZnkiLCJpbnRlcnZhbHMiLCJlbmNvZGVQYXRoIiwic2VnbWVudHMiLCJwYXJzZUFic29sdXRlVXJsIiwiYWJzb2x1dGVVcmwiLCJsb2NhdGlvbk9iaiIsInBhcnNlZFVybCIsIiQkcHJvdG9jb2wiLCIkJGhvc3QiLCJob3N0bmFtZSIsIiQkcG9ydCIsInBvcnQiLCJERUZBVUxUX1BPUlRTIiwicGFyc2VBcHBVcmwiLCJyZWxhdGl2ZVVybCIsInByZWZpeGVkIiwiJCRwYXRoIiwicGF0aG5hbWUiLCIkJHNlYXJjaCIsInNlYXJjaCIsIiQkaGFzaCIsImJlZ2luc1dpdGgiLCJiZWdpbiIsIndob2xlIiwidHJpbUVtcHR5SGFzaCIsInN0cmlwRmlsZSIsImxhc3RJbmRleE9mIiwic2VydmVyQmFzZSIsIkxvY2F0aW9uSHRtbDVVcmwiLCJhcHBCYXNlIiwiYXBwQmFzZU5vRmlsZSIsImJhc2VQcmVmaXgiLCIkJGh0bWw1IiwiJCRwYXJzZSIsInBhdGhVcmwiLCIkbG9jYXRpb25NaW5FcnIiLCIkJGNvbXBvc2UiLCIkJHVybCIsIiQkYWJzVXJsIiwiJCRwYXJzZUxpbmtVcmwiLCJyZWxIcmVmIiwiYXBwVXJsIiwicHJldkFwcFVybCIsInJld3JpdHRlblVybCIsIkxvY2F0aW9uSGFzaGJhbmdVcmwiLCJoYXNoUHJlZml4IiwicmVtb3ZlV2luZG93c0RyaXZlTmFtZSIsImJhc2UiLCJmaXJzdFBhdGhTZWdtZW50TWF0Y2giLCJ3aW5kb3dzRmlsZVBhdGhFeHAiLCJ3aXRob3V0SGFzaFVybCIsIndpdGhvdXRCYXNlVXJsIiwiTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwiLCJsb2NhdGlvbkdldHRlciIsInByb3BlcnR5IiwibG9jYXRpb25HZXR0ZXJTZXR0ZXIiLCJwcmVwcm9jZXNzIiwiaHRtbDVNb2RlIiwicmVxdWlyZUJhc2UiLCJyZXdyaXRlTGlua3MiLCJzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrIiwib2xkVXJsIiwib2xkU3RhdGUiLCIkJHN0YXRlIiwiYWZ0ZXJMb2NhdGlvbkNoYW5nZSIsIiRicm9hZGNhc3QiLCJhYnNVcmwiLCJMb2NhdGlvbk1vZGUiLCJpbml0aWFsVXJsIiwiSUdOT1JFX1VSSV9SRUdFWFAiLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5Iiwid2hpY2giLCJidXR0b24iLCJhYnNIcmVmIiwicHJldmVudERlZmF1bHQiLCJpbml0aWFsaXppbmciLCJuZXdVcmwiLCJuZXdTdGF0ZSIsIiRkaWdlc3QiLCJjdXJyZW50UmVwbGFjZSIsIiQkcmVwbGFjZSIsInVybE9yU3RhdGVDaGFuZ2VkIiwiZGVidWciLCJkZWJ1Z0VuYWJsZWQiLCJmbGFnIiwiZm9ybWF0RXJyb3IiLCJzb3VyY2VVUkwiLCJjb25zb2xlTG9nIiwiY29uc29sZSIsImxvZ0ZuIiwibG9nIiwiaGFzQXBwbHkiLCJhcmcxIiwiYXJnMiIsIndhcm4iLCJlbnN1cmVTYWZlTWVtYmVyTmFtZSIsImZ1bGxFeHByZXNzaW9uIiwiJHBhcnNlTWluRXJyIiwiZ2V0U3RyaW5nVmFsdWUiLCJlbnN1cmVTYWZlT2JqZWN0IiwiY2hpbGRyZW4iLCJlbnN1cmVTYWZlRnVuY3Rpb24iLCJDQUxMIiwiQVBQTFkiLCJCSU5EIiwiZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQiLCJGdW5jdGlvbiIsImlmRGVmaW5lZCIsInBsdXNGbiIsInIiLCJpc1N0YXRlbGVzcyIsImZpbHRlck5hbWUiLCJmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zIiwiYXN0IiwiYWxsQ29uc3RhbnRzIiwiYXJnc1RvV2F0Y2giLCJBU1QiLCJQcm9ncmFtIiwiZXhwciIsIkxpdGVyYWwiLCJ0b1dhdGNoIiwiVW5hcnlFeHByZXNzaW9uIiwiYXJndW1lbnQiLCJCaW5hcnlFeHByZXNzaW9uIiwibGVmdCIsInJpZ2h0IiwiTG9naWNhbEV4cHJlc3Npb24iLCJDb25kaXRpb25hbEV4cHJlc3Npb24iLCJhbHRlcm5hdGUiLCJjb25zZXF1ZW50IiwiSWRlbnRpZmllciIsIk1lbWJlckV4cHJlc3Npb24iLCJvYmplY3QiLCJjb21wdXRlZCIsIkNhbGxFeHByZXNzaW9uIiwiY2FsbGVlIiwiQXNzaWdubWVudEV4cHJlc3Npb24iLCJBcnJheUV4cHJlc3Npb24iLCJPYmplY3RFeHByZXNzaW9uIiwicHJvcGVydGllcyIsIlRoaXNFeHByZXNzaW9uIiwiZ2V0SW5wdXRzIiwibGFzdEV4cHJlc3Npb24iLCJpc0Fzc2lnbmFibGUiLCJhc3NpZ25hYmxlQVNUIiwiTkdWYWx1ZVBhcmFtZXRlciIsIm9wZXJhdG9yIiwiaXNMaXRlcmFsIiwiaXNDb25zdGFudCIsIkFTVENvbXBpbGVyIiwiYXN0QnVpbGRlciIsIkFTVEludGVycHJldGVyIiwiaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUiLCJnZXRWYWx1ZU9mIiwib2JqZWN0VmFsdWVPZiIsImNhY2hlRGVmYXVsdCIsImNhY2hlRXhwZW5zaXZlIiwiZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayIsIm9sZFZhbHVlT2ZWYWx1ZSIsImlucHV0c1dhdGNoRGVsZWdhdGUiLCJvYmplY3RFcXVhbGl0eSIsInBhcnNlZEV4cHJlc3Npb24iLCJwcmV0dHlQcmludEV4cHJlc3Npb24iLCJsYXN0UmVzdWx0IiwiaW5wdXRFeHByZXNzaW9ucyIsImlucHV0cyIsIm9sZElucHV0VmFsdWVPZiIsIm5ld0lucHV0VmFsdWUiLCJvbGRJbnB1dFZhbHVlT2ZWYWx1ZXMiLCJvbGRJbnB1dFZhbHVlcyIsImNoYW5nZWQiLCJvbmVUaW1lV2F0Y2hEZWxlZ2F0ZSIsInVud2F0Y2giLCJvbGQiLCIkJHBvc3REaWdlc3QiLCJvbmVUaW1lTGl0ZXJhbFdhdGNoRGVsZWdhdGUiLCJpc0FsbERlZmluZWQiLCJhbGxEZWZpbmVkIiwiY29uc3RhbnRXYXRjaERlbGVnYXRlIiwiYWRkSW50ZXJjZXB0b3IiLCJpbnRlcmNlcHRvckZuIiwid2F0Y2hEZWxlZ2F0ZSIsInVzZUlucHV0cyIsInJlZ3VsYXJXYXRjaCIsIm5vVW5zYWZlRXZhbCIsIiRwYXJzZU9wdGlvbnMiLCJleHBlbnNpdmVDaGVja3MiLCIkcGFyc2VPcHRpb25zRXhwZW5zaXZlIiwib25lVGltZSIsImNhY2hlS2V5IiwicGFyc2VPcHRpb25zIiwibGV4ZXIiLCJMZXhlciIsInBhcnNlciIsIlBhcnNlciIsInFGYWN0b3J5IiwibmV4dFRpY2siLCJleGNlcHRpb25IYW5kbGVyIiwiY2FsbE9uY2UiLCJyZXNvbHZlRm4iLCJQcm9taXNlIiwic2ltcGxlQmluZCIsInByb2Nlc3NRdWV1ZSIsInBlbmRpbmciLCJwcm9jZXNzU2NoZWR1bGVkIiwic2NoZWR1bGVQcm9jZXNzUXVldWUiLCJEZWZlcnJlZCIsInByb21pc2VzIiwicmVzdWx0cyIsIiRxTWluRXJyIiwiVHlwZUVycm9yIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwicHJvZ3Jlc3NCYWNrIiwiY2F0Y2giLCJmaW5hbGx5IiwiaGFuZGxlQ2FsbGJhY2siLCIkJHJlamVjdCIsIiQkcmVzb2x2ZSIsInByb2dyZXNzIiwibWFrZVByb21pc2UiLCJyZXNvbHZlZCIsImlzUmVzb2x2ZWQiLCJjYWxsYmFja091dHB1dCIsImVycmJhY2siLCIkUSIsIlEiLCJyZXNvbHZlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyYWZTdXBwb3J0ZWQiLCJyYWYiLCJ0aW1lciIsInN1cHBvcnRlZCIsImNyZWF0ZUNoaWxkU2NvcGVDbGFzcyIsIkNoaWxkU2NvcGUiLCIkJHdhdGNoZXJzIiwiJCRuZXh0U2libGluZyIsIiQkY2hpbGRIZWFkIiwiJCRjaGlsZFRhaWwiLCIkJGxpc3RlbmVycyIsIiQkbGlzdGVuZXJDb3VudCIsIiQkd2F0Y2hlcnNDb3VudCIsIiRpZCIsIiQkQ2hpbGRTY29wZSIsIlRUTCIsIiRyb290U2NvcGVNaW5FcnIiLCJsYXN0RGlydHlXYXRjaCIsImFwcGx5QXN5bmNJZCIsImRpZ2VzdFR0bCIsImRlc3Ryb3lDaGlsZFNjb3BlIiwiJGV2ZW50IiwiY3VycmVudFNjb3BlIiwiY2xlYW5VcFNjb3BlIiwiJCRwcmV2U2libGluZyIsIiRyb290IiwiU2NvcGUiLCJiZWdpblBoYXNlIiwicGhhc2UiLCJjbGVhclBoYXNlIiwiaW5jcmVtZW50V2F0Y2hlcnNDb3VudCIsImN1cnJlbnQiLCJkZWNyZW1lbnRMaXN0ZW5lckNvdW50IiwiaW5pdFdhdGNoVmFsIiwiZmx1c2hBcHBseUFzeW5jIiwiYXBwbHlBc3luY1F1ZXVlIiwic2NoZWR1bGVBcHBseUFzeW5jIiwiaXNvbGF0ZSIsImNoaWxkIiwid2F0Y2hFeHAiLCJ3YXRjaGVyIiwiZXEiLCJ3YXRjaEV4cHJlc3Npb25zIiwid2F0Y2hHcm91cEFjdGlvbiIsImNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkIiwiZmlyc3RSdW4iLCJuZXdWYWx1ZXMiLCJkZXJlZ2lzdGVyRm5zIiwic2hvdWxkQ2FsbCIsInVud2F0Y2hGbiIsIiR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvciIsIl92YWx1ZSIsIm5ld0xlbmd0aCIsImJvdGhOYU4iLCJuZXdJdGVtIiwib2xkSXRlbSIsImludGVybmFsQXJyYXkiLCJvbGRMZW5ndGgiLCJjaGFuZ2VEZXRlY3RlZCIsImludGVybmFsT2JqZWN0IiwiJHdhdGNoQ29sbGVjdGlvbkFjdGlvbiIsImluaXRSdW4iLCJ2ZXJ5T2xkVmFsdWUiLCJ0cmFja1ZlcnlPbGRWYWx1ZSIsImNoYW5nZURldGVjdG9yIiwid2F0Y2giLCJ3YXRjaGVycyIsImRpcnR5IiwibmV4dCIsImxvZ0lkeCIsImFzeW5jVGFzayIsInR0bCIsIndhdGNoTG9nIiwiYXN5bmNRdWV1ZSIsIiRldmFsIiwidHJhdmVyc2VTY29wZXNMb29wIiwibXNnIiwicG9zdERpZ2VzdFF1ZXVlIiwiZXZlbnROYW1lIiwiJGFwcGx5QXN5bmNFeHByZXNzaW9uIiwibmFtZWRMaXN0ZW5lcnMiLCJpbmRleE9mTGlzdGVuZXIiLCIkZW1pdCIsInRhcmdldFNjb3BlIiwibGlzdGVuZXJBcmdzIiwiJCRhc3luY1F1ZXVlIiwiJCRwb3N0RGlnZXN0UXVldWUiLCIkJGFwcGx5QXN5bmNRdWV1ZSIsInVyaSIsImlzSW1hZ2UiLCJub3JtYWxpemVkVmFsIiwicmVnZXgiLCJhZGp1c3RNYXRjaGVyIiwibWF0Y2hlciIsIiRzY2VNaW5FcnIiLCJlc2NhcGVGb3JSZWdleHAiLCJhZGp1c3RNYXRjaGVycyIsIm1hdGNoZXJzIiwiYWRqdXN0ZWRNYXRjaGVycyIsIlNDRV9DT05URVhUUyIsInJlc291cmNlVXJsV2hpdGVsaXN0IiwicmVzb3VyY2VVcmxCbGFja2xpc3QiLCJtYXRjaFVybCIsImlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kiLCJhbGxvd2VkIiwiZ2VuZXJhdGVIb2xkZXJUeXBlIiwiQmFzZSIsImhvbGRlclR5cGUiLCJ0cnVzdGVkVmFsdWUiLCIkJHVud3JhcFRydXN0ZWRWYWx1ZSIsInRydXN0QXMiLCJDb25zdHJ1Y3RvciIsImJ5VHlwZSIsIm1heWJlVHJ1c3RlZCIsInRydXN0ZWRWYWx1ZUhvbGRlckJhc2UiLCJodG1sU2FuaXRpemVyIiwiQ1NTIiwiVVJMIiwiSlMiLCJzY2UiLCJpc0VuYWJsZWQiLCJwYXJzZUFzIiwiZW51bVZhbHVlIiwibE5hbWUiLCJ2ZW5kb3JQcmVmaXgiLCJldmVudFN1cHBvcnQiLCJhbmRyb2lkIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiYm94ZWUiLCJ2ZW5kb3JSZWdleCIsImJvZHlTdHlsZSIsInRyYW5zaXRpb25zIiwiYW5pbWF0aW9ucyIsIndlYmtpdFRyYW5zaXRpb24iLCJ3ZWJraXRBbmltYXRpb24iLCJwdXNoU3RhdGUiLCJoYXNFdmVudCIsImRpdkVsbSIsImhhbmRsZVJlcXVlc3RGbiIsInRwbCIsImlnbm9yZVJlcXVlc3RFcnJvciIsImhhbmRsZUVycm9yIiwidG90YWxQZW5kaW5nUmVxdWVzdHMiLCJnZXRUcnVzdGVkUmVzb3VyY2VVcmwiLCJ0cmFuc2Zvcm1lciIsImh0dHBPcHRpb25zIiwidGVzdGFiaWxpdHkiLCJmaW5kQmluZGluZ3MiLCJvcHRfZXhhY3RNYXRjaCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJtYXRjaGVzIiwiZGF0YUJpbmRpbmciLCJiaW5kaW5nTmFtZSIsImZpbmRNb2RlbHMiLCJwcmVmaXhlcyIsImF0dHJpYnV0ZUVxdWFscyIsImdldExvY2F0aW9uIiwic2V0TG9jYXRpb24iLCJ3aGVuU3RhYmxlIiwiZGVmZXJyZWRzIiwiJCR0aW1lb3V0SWQiLCJ1cmxQYXJzaW5nTm9kZSIsInJlcXVlc3RVcmwiLCJvcmlnaW5VcmwiLCIkJENvb2tpZVJlYWRlciIsInNhZmVEZWNvZGVVUklDb21wb25lbnQiLCJsYXN0Q29va2llcyIsImxhc3RDb29raWVTdHJpbmciLCJjb29raWVBcnJheSIsImNvb2tpZSIsImN1cnJlbnRDb29raWVTdHJpbmciLCJmaWx0ZXJzIiwic3VmZml4IiwiY3VycmVuY3lGaWx0ZXIiLCJkYXRlRmlsdGVyIiwiZmlsdGVyRmlsdGVyIiwianNvbkZpbHRlciIsImxpbWl0VG9GaWx0ZXIiLCJsb3dlcmNhc2VGaWx0ZXIiLCJudW1iZXJGaWx0ZXIiLCJvcmRlckJ5RmlsdGVyIiwidXBwZXJjYXNlRmlsdGVyIiwiY29tcGFyYXRvciIsInByZWRpY2F0ZUZuIiwibWF0Y2hBZ2FpbnN0QW55UHJvcCIsImV4cHJlc3Npb25UeXBlIiwiZ2V0VHlwZUZvckZpbHRlciIsImNyZWF0ZVByZWRpY2F0ZUZuIiwic2hvdWxkTWF0Y2hQcmltaXRpdmVzIiwiYWN0dWFsIiwiZXhwZWN0ZWQiLCJkZWVwQ29tcGFyZSIsImRvbnRNYXRjaFdob2xlT2JqZWN0IiwiYWN0dWFsVHlwZSIsImV4cGVjdGVkVHlwZSIsImV4cGVjdGVkVmFsIiwibWF0Y2hBbnlQcm9wZXJ0eSIsImFjdHVhbFZhbCIsIiRsb2NhbGUiLCJmb3JtYXRzIiwiTlVNQkVSX0ZPUk1BVFMiLCJhbW91bnQiLCJjdXJyZW5jeVN5bWJvbCIsImZyYWN0aW9uU2l6ZSIsIkNVUlJFTkNZX1NZTSIsIlBBVFRFUk5TIiwibWF4RnJhYyIsImZvcm1hdE51bWJlciIsIkdST1VQX1NFUCIsIkRFQ0lNQUxfU0VQIiwibnVtYmVyIiwiZ3JvdXBTZXAiLCJkZWNpbWFsU2VwIiwiaXNOZWdhdGl2ZSIsImFicyIsImlzSW5maW5pdHkiLCJJbmZpbml0eSIsImlzRmluaXRlIiwibnVtU3RyIiwiZm9ybWF0ZWRUZXh0IiwiaGFzRXhwb25lbnQiLCJ0b0ZpeGVkIiwicGFyc2VGbG9hdCIsImZyYWN0aW9uTGVuIiwibWluIiwibWluRnJhYyIsInJvdW5kIiwiZnJhY3Rpb24iLCJsZ3JvdXAiLCJsZ1NpemUiLCJncm91cCIsImdTaXplIiwibmVnUHJlIiwicG9zUHJlIiwibmVnU3VmIiwicG9zU3VmIiwicGFkTnVtYmVyIiwibnVtIiwiZGlnaXRzIiwibmVnIiwiZGF0ZUdldHRlciIsImRhdGVTdHJHZXR0ZXIiLCJzaG9ydEZvcm0iLCJ0aW1lWm9uZUdldHRlciIsInpvbmUiLCJwYWRkZWRab25lIiwiZ2V0Rmlyc3RUaHVyc2RheU9mWWVhciIsInllYXIiLCJkYXlPZldlZWtPbkZpcnN0IiwiZ2V0RGF5IiwiZ2V0VGh1cnNkYXlUaGlzV2VlayIsImRhdGV0aW1lIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJ3ZWVrR2V0dGVyIiwiZmlyc3RUaHVycyIsInRoaXNUaHVycyIsImFtcG1HZXR0ZXIiLCJnZXRIb3VycyIsIkFNUE1TIiwiZXJhR2V0dGVyIiwiRVJBUyIsImxvbmdFcmFHZXR0ZXIiLCJFUkFOQU1FUyIsImpzb25TdHJpbmdUb0RhdGUiLCJzdHJpbmciLCJSX0lTTzg2MDFfU1RSIiwidHpIb3VyIiwidHpNaW4iLCJkYXRlU2V0dGVyIiwic2V0VVRDRnVsbFllYXIiLCJzZXRGdWxsWWVhciIsInRpbWVTZXR0ZXIiLCJzZXRVVENIb3VycyIsInNldEhvdXJzIiwibSIsInMiLCJtcyIsImZvcm1hdCIsIkRBVEVUSU1FX0ZPUk1BVFMiLCJOVU1CRVJfU1RSSU5HIiwiREFURV9GT1JNQVRTX1NQTElUIiwiZGF0ZVRpbWV6b25lT2Zmc2V0IiwiREFURV9GT1JNQVRTIiwic3BhY2luZyIsImxpbWl0IiwicHJvY2Vzc1ByZWRpY2F0ZXMiLCJzb3J0UHJlZGljYXRlIiwicmV2ZXJzZU9yZGVyIiwibWFwIiwicHJlZGljYXRlIiwiZGVzY2VuZGluZyIsIm9iamVjdFZhbHVlIiwiZ2V0UHJlZGljYXRlVmFsdWUiLCJ2MSIsInYyIiwiZ2V0Q29tcGFyaXNvbk9iamVjdCIsInByZWRpY2F0ZVZhbHVlcyIsInByZWRpY2F0ZXMiLCJkb0NvbXBhcmlzb24iLCJjb21wYXJlVmFsdWVzIiwibmdEaXJlY3RpdmUiLCJudWxsRm9ybVJlbmFtZUNvbnRyb2wiLCJjb250cm9sIiwiJG5hbWUiLCJGb3JtQ29udHJvbGxlciIsImNvbnRyb2xzIiwiJGVycm9yIiwiJCRzdWNjZXNzIiwiJHBlbmRpbmciLCIkZGlydHkiLCIkcHJpc3RpbmUiLCIkdmFsaWQiLCIkaW52YWxpZCIsIiRzdWJtaXR0ZWQiLCIkJHBhcmVudEZvcm0iLCJudWxsRm9ybUN0cmwiLCIkcm9sbGJhY2tWaWV3VmFsdWUiLCIkY29tbWl0Vmlld1ZhbHVlIiwiJGFkZENvbnRyb2wiLCIkJHJlbmFtZUNvbnRyb2wiLCJuZXdOYW1lIiwib2xkTmFtZSIsIiRyZW1vdmVDb250cm9sIiwiJHNldFZhbGlkaXR5IiwiYWRkU2V0VmFsaWRpdHlNZXRob2QiLCJjdHJsIiwic2V0IiwidW5zZXQiLCIkc2V0RGlydHkiLCJQUklTVElORV9DTEFTUyIsIkRJUlRZX0NMQVNTIiwiJHNldFByaXN0aW5lIiwic2V0Q2xhc3MiLCJTVUJNSVRURURfQ0xBU1MiLCIkc2V0VW50b3VjaGVkIiwiJHNldFN1Ym1pdHRlZCIsInN0cmluZ0Jhc2VkSW5wdXRUeXBlIiwiJGZvcm1hdHRlcnMiLCIkaXNFbXB0eSIsInRleHRJbnB1dFR5cGUiLCJiYXNlSW5wdXRUeXBlIiwiY29tcG9zaW5nIiwiZXYiLCJuZ1RyaW0iLCIkdmlld1ZhbHVlIiwiJCRoYXNOYXRpdmVWYWxpZGF0b3JzIiwiJHNldFZpZXdWYWx1ZSIsImRlZmVyTGlzdGVuZXIiLCJvcmlnVmFsdWUiLCJrZXlDb2RlIiwiJHJlbmRlciIsIndlZWtQYXJzZXIiLCJpc29XZWVrIiwiZXhpc3RpbmdEYXRlIiwiV0VFS19SRUdFWFAiLCJ3ZWVrIiwiaG91cnMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiYWRkRGF5cyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJOYU4iLCJjcmVhdGVEYXRlUGFyc2VyIiwibWFwcGluZyIsImlzbyIsIklTT19EQVRFX1JFR0VYUCIsInl5eXkiLCJNTSIsImRkIiwiSEgiLCJtbSIsInNzIiwic3NzIiwicGFydCIsImNyZWF0ZURhdGVJbnB1dFR5cGUiLCJwYXJzZURhdGUiLCJpc1ZhbGlkRGF0ZSIsInBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUiLCJiYWRJbnB1dENoZWNrZXIiLCJwcmV2aW91c0RhdGUiLCIkb3B0aW9ucyIsIiQkcGFyc2VyTmFtZSIsIiRwYXJzZXJzIiwicGFyc2VkRGF0ZSIsIm5nTW9kZWxNaW5FcnIiLCJuZ01pbiIsIm1pblZhbCIsIiR2YWxpZGF0b3JzIiwiJHZhbGlkYXRlIiwibmdNYXgiLCJtYXhWYWwiLCJuYXRpdmVWYWxpZGF0aW9uIiwidmFsaWRpdHkiLCJWQUxJRElUWV9TVEFURV9QUk9QRVJUWSIsImJhZElucHV0IiwidHlwZU1pc21hdGNoIiwibnVtYmVySW5wdXRUeXBlIiwiTlVNQkVSX1JFR0VYUCIsInVybElucHV0VHlwZSIsIm1vZGVsVmFsdWUiLCJ2aWV3VmFsdWUiLCJVUkxfUkVHRVhQIiwiZW1haWxJbnB1dFR5cGUiLCJlbWFpbCIsIkVNQUlMX1JFR0VYUCIsInJhZGlvSW5wdXRUeXBlIiwiY2hlY2tlZCIsInBhcnNlQ29uc3RhbnRFeHByIiwicGFyc2VGbiIsImNoZWNrYm94SW5wdXRUeXBlIiwidHJ1ZVZhbHVlIiwibmdUcnVlVmFsdWUiLCJmYWxzZVZhbHVlIiwibmdGYWxzZVZhbHVlIiwiY2xhc3NEaXJlY3RpdmUiLCJhcnJheURpZmZlcmVuY2UiLCJhcnJheUNsYXNzZXMiLCJhZGRDbGFzc2VzIiwiZGlnZXN0Q2xhc3NDb3VudHMiLCJyZW1vdmVDbGFzc2VzIiwiY2xhc3NDb3VudHMiLCJjbGFzc2VzVG9VcGRhdGUiLCJ1cGRhdGVDbGFzc2VzIiwibmdDbGFzc1dhdGNoQWN0aW9uIiwiJGluZGV4Iiwib2xkJGluZGV4IiwibW9kIiwic2V0VmFsaWRpdHkiLCJ2YWxpZGF0aW9uRXJyb3JLZXkiLCJjcmVhdGVBbmRTZXQiLCJ1bnNldEFuZENsZWFudXAiLCJjYWNoZWRUb2dnbGVDbGFzcyIsIlBFTkRJTkdfQ0xBU1MiLCJ0b2dnbGVWYWxpZGF0aW9uQ3NzIiwiaXNPYmplY3RFbXB0eSIsImNvbWJpbmVkU3RhdGUiLCJzd2l0Y2hWYWx1ZSIsImNsYXNzQ2FjaGUiLCJpc1ZhbGlkIiwiVkFMSURfQ0xBU1MiLCJJTlZBTElEX0NMQVNTIiwiY2hyb21lSGFjayIsIm9wdGlvbkVsZW1lbnQiLCJzZWxlY3RlZCIsIlJFR0VYX1NUUklOR19SRUdFWFAiLCJtYW51YWxMb3dlcmNhc2UiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjaGFyQ29kZUF0IiwibWFudWFsVXBwZXJjYXNlIiwiZG9jdW1lbnRNb2RlIiwicnVsZXMiLCJuZ0NzcEVsZW1lbnQiLCJuZ0NzcEF0dHJpYnV0ZSIsIm5vSW5saW5lU3R5bGUiLCJuYW1lXyIsImVsIiwiTk9ERV9UWVBFX0FUVFJJQlVURSIsImZ1bGwiLCJtYWpvciIsIm1pbm9yIiwiZG90IiwiY29kZU5hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm1vdXNlbGVhdmUiLCJtb3VzZWVudGVyIiwidGhlYWQiLCJjb2wiLCJ0ciIsInRkIiwib3B0Z3JvdXAiLCJ0Ym9keSIsInRmb290IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGgiLCJOb2RlIiwiY29udGFpbnMiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsInJlYWR5IiwidHJpZ2dlciIsImZpcmVkIiwicmVtb3ZlRGF0YSIsInJlbW92ZUF0dHJpYnV0ZSIsImNzcyIsImxvd2VyY2FzZWROYW1lIiwiZ2V0TmFtZWRJdGVtIiwic3BlY2lmaWVkIiwicmV0IiwiZ2V0VGV4dCIsIiRkdiIsIm11bHRpcGxlIiwibm9kZUNvdW50IiwidHlwZXMiLCJhZGRIYW5kbGVyIiwibm9FdmVudExpc3RlbmVyIiwib25lIiwib25GbiIsInJlcGxhY2VOb2RlIiwiaW5zZXJ0QmVmb3JlIiwiY29udGVudERvY3VtZW50IiwicHJlcGVuZCIsIndyYXBOb2RlIiwiZGV0YWNoIiwiYWZ0ZXIiLCJuZXdFbGVtZW50IiwidG9nZ2xlQ2xhc3MiLCJjb25kaXRpb24iLCJjbGFzc0NvbmRpdGlvbiIsIm5leHRFbGVtZW50U2libGluZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZXh0cmFQYXJhbWV0ZXJzIiwiZHVtbXlFdmVudCIsImV2ZW50Rm5zQ29weSIsImhhbmRsZXJBcmdzIiwiYXJnMyIsInVuYmluZCIsIiRhbmltYXRlTWluRXJyIiwiTkdfQU5JTUFURV9DTEFTU05BTUUiLCJBbmltYXRlUnVubmVyIiwiZW5kIiwicmVzdW1lIiwicGF1c2UiLCJjb21wbGV0ZSIsInBhc3MiLCJmYWlsIiwicG9zdERpZ2VzdEVsZW1lbnRzIiwidXBkYXRlRGF0YSIsImhhbmRsZUNTU0NsYXNzQ2hhbmdlcyIsImV4aXN0aW5nIiwiYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QiLCJhZGQiLCJjbGFzc2VzQWRkZWQiLCJjbGFzc2VzUmVtb3ZlZCIsInBpbiIsImRvbU9wZXJhdGlvbiIsImZyb20iLCJ0byIsIiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnMiLCJjbGFzc05hbWVGaWx0ZXIiLCIkJGNsYXNzTmFtZUZpbHRlciIsInJlc2VydmVkUmVnZXgiLCJkb21JbnNlcnQiLCJhZnRlckVsZW1lbnQiLCJhZnRlck5vZGUiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwicnVubmVyIiwiZW50ZXIiLCJtb3ZlIiwibGVhdmUiLCJhZGRjbGFzcyIsImFuaW1hdGUiLCJ0ZW1wQ2xhc3NlcyIsIlJBRlByb21pc2UiLCJnZXRQcm9taXNlIiwiZjEiLCJmMiIsImNsb3NlIiwiY2xvc2VkIiwiY2xlYW51cFN0eWxlcyIsInN0YXJ0IiwiZG9tTm9kZSIsIm9mZnNldFdpZHRoIiwiQ29udGVudC1UeXBlIiwiWyIsInsiLCIkaHR0cE1pbkVyciIsIlBBVEhfTUFUQ0giLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJsb2NhdGlvblByb3RvdHlwZSIsInBhcmFtVmFsdWUiLCJMb2NhdGlvbiIsIk9QRVJBVE9SUyIsIkVTQ0FQRSIsImYiLCJ0IiwiJyIsIlwiIiwibGV4IiwidG9rZW5zIiwicmVhZFN0cmluZyIsInBlZWsiLCJyZWFkTnVtYmVyIiwiaXNJZGVudCIsInJlYWRJZGVudCIsImlzIiwiaXNXaGl0ZXNwYWNlIiwiY2gyIiwiY2gzIiwib3AxIiwib3AyIiwib3AzIiwidGhyb3dFcnJvciIsImNoYXJzIiwiaXNFeHBPcGVyYXRvciIsImNvbFN0ciIsInBlZWtDaCIsInF1b3RlIiwicmF3U3RyaW5nIiwiaGV4IiwicmVwIiwiRXhwcmVzc2lvblN0YXRlbWVudCIsIlByb3BlcnR5IiwicHJvZ3JhbSIsImV4cHJlc3Npb25TdGF0ZW1lbnQiLCJleHBlY3QiLCJmaWx0ZXJDaGFpbiIsImFzc2lnbm1lbnQiLCJ0ZXJuYXJ5IiwibG9naWNhbE9SIiwiY29uc3VtZSIsImxvZ2ljYWxBTkQiLCJlcXVhbGl0eSIsInJlbGF0aW9uYWwiLCJhZGRpdGl2ZSIsIm11bHRpcGxpY2F0aXZlIiwidW5hcnkiLCJwcmltYXJ5IiwiYXJyYXlEZWNsYXJhdGlvbiIsImNvbnN0YW50cyIsInBhcnNlQXJndW1lbnRzIiwiYmFzZUV4cHJlc3Npb24iLCJwZWVrVG9rZW4iLCJraW5kIiwiZTEiLCJlMiIsImUzIiwiZTQiLCJwZWVrQWhlYWQiLCJ0cnVlIiwiZmFsc2UiLCJudWxsIiwibmV4dElkIiwidmFycyIsIm93biIsImFzc2lnbmFibGUiLCJzdGFnZSIsImNvbXB1dGluZyIsInJlY3Vyc2UiLCJyZXR1cm5fIiwiZ2VuZXJhdGVGdW5jdGlvbiIsImZuS2V5IiwiaW50b0lkIiwid2F0Y2hJZCIsImZuU3RyaW5nIiwiVVNFIiwiU1RSSUNUIiwiZmlsdGVyUHJlZml4Iiwid2F0Y2hGbnMiLCJ2YXJzUHJlZml4Iiwic2VjdGlvbiIsIm5hbWVJZCIsInJlY3Vyc2lvbkZuIiwic2tpcFdhdGNoSWRDaGVjayIsImlmXyIsImxhenlBc3NpZ24iLCJjb21wdXRlZE1lbWJlciIsImxhenlSZWN1cnNlIiwicGx1cyIsIm5vdCIsImdldEhhc093blByb3BlcnR5Iiwibm9uQ29tcHV0ZWRNZW1iZXIiLCJhZGRFbnN1cmVTYWZlT2JqZWN0Iiwibm90TnVsbCIsImFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lIiwiYWRkRW5zdXJlU2FmZUZ1bmN0aW9uIiwibWVtYmVyIiwiYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQiLCJkZWZhdWx0VmFsdWUiLCJzdHJpbmdFc2NhcGVSZWdleCIsInN0cmluZ0VzY2FwZUZuIiwiYyIsInNraXAiLCJpbml0IiwicmhzIiwibGhzIiwidW5hcnkrIiwidW5hcnktIiwidW5hcnkhIiwiYmluYXJ5KyIsImJpbmFyeS0iLCJiaW5hcnkqIiwiYmluYXJ5LyIsImJpbmFyeSUiLCJiaW5hcnk9PT0iLCJiaW5hcnkhPT0iLCJiaW5hcnk9PSIsImJpbmFyeSE9IiwiYmluYXJ5PCIsImJpbmFyeT4iLCJiaW5hcnk8PSIsImJpbmFyeT49IiwiYmluYXJ5JiYiLCJiaW5hcnl8fCIsInRlcm5hcnk/OiIsImFzdENvbXBpbGVyIiwieXkiLCJ5IiwiTU1NTSIsIk1NTSIsIk0iLCJIIiwiaGgiLCJFRUVFIiwiRUVFIiwiWiIsInd3IiwidyIsIkciLCJHRyIsIkdHRyIsIkdHR0ciLCJ4bGlua0hyZWYiLCJwcm9wTmFtZSIsImRlZmF1bHRMaW5rRm4iLCJub3JtYWxpemVkIiwiaHRtbEF0dHIiLCJmb3JtRGlyZWN0aXZlRmFjdG9yeSIsImlzTmdGb3JtIiwiZ2V0U2V0dGVyIiwiZm9ybUVsZW1lbnQiLCJuYW1lQXR0ciIsImN0cmxzIiwiaGFuZGxlRm9ybVN1Ym1pc3Npb24iLCJwYXJlbnRGb3JtQ3RybCIsInNldHRlciIsIkRBVEVfUkVHRVhQIiwiREFURVRJTUVMT0NBTF9SRUdFWFAiLCJNT05USF9SRUdFWFAiLCJUSU1FX1JFR0VYUCIsImlucHV0VHlwZSIsImRhdGV0aW1lLWxvY2FsIiwidGltZSIsIm1vbnRoIiwicmFkaW8iLCJjaGVja2JveCIsImhpZGRlbiIsInN1Ym1pdCIsInJlc2V0IiwiZmlsZSIsIkNPTlNUQU5UX1ZBTFVFX1JFR0VYUCIsInRwbEF0dHIiLCIkY29tcGlsZSIsInRlbXBsYXRlRWxlbWVudCIsInRFbGVtZW50IiwibmdCaW5kSHRtbEdldHRlciIsIm5nQmluZEh0bWxXYXRjaCIsImdldFRydXN0ZWRIdG1sIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCJmb3JjZUFzeW5jRXZlbnRzIiwiYmx1ciIsImZvY3VzIiwicHJldmlvdXNFbGVtZW50cyIsInNyY0V4cCIsIm9ubG9hZEV4cCIsImF1dG9TY3JvbGxFeHAiLCJhdXRvc2Nyb2xsIiwicHJldmlvdXNFbGVtZW50IiwiY3VycmVudEVsZW1lbnQiLCJjaGFuZ2VDb3VudGVyIiwiY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCIsImFmdGVyQW5pbWF0aW9uIiwidGhpc0NoYW5nZUlkIiwidHJpbVZhbHVlcyIsIlVOVE9VQ0hFRF9DTEFTUyIsIlRPVUNIRURfQ0xBU1MiLCJOZ01vZGVsQ29udHJvbGxlciIsIiRtb2RlbFZhbHVlIiwiJCRyYXdNb2RlbFZhbHVlIiwiJGFzeW5jVmFsaWRhdG9ycyIsIiR1bnRvdWNoZWQiLCIkdG91Y2hlZCIsInBhcnNlclZhbGlkIiwicGFyc2VkTmdNb2RlbCIsInBhcnNlZE5nTW9kZWxBc3NpZ24iLCJuZ01vZGVsR2V0IiwibmdNb2RlbFNldCIsInBlbmRpbmdEZWJvdW5jZSIsIiQkc2V0T3B0aW9ucyIsImdldHRlclNldHRlciIsImludm9rZU1vZGVsR2V0dGVyIiwiaW52b2tlTW9kZWxTZXR0ZXIiLCIkJCRwIiwiY3VycmVudFZhbGlkYXRpb25SdW5JZCIsIiRzZXRUb3VjaGVkIiwiJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlIiwicHJldlZhbGlkIiwicHJldk1vZGVsVmFsdWUiLCJhbGxvd0ludmFsaWQiLCIkJHJ1blZhbGlkYXRvcnMiLCJhbGxWYWxpZCIsIiQkd3JpdGVNb2RlbFRvU2NvcGUiLCJkb25lQ2FsbGJhY2siLCJwcm9jZXNzUGFyc2VFcnJvcnMiLCJlcnJvcktleSIsInByb2Nlc3NTeW5jVmFsaWRhdG9ycyIsInN5bmNWYWxpZGF0b3JzVmFsaWQiLCJ2YWxpZGF0b3IiLCJwcm9jZXNzQXN5bmNWYWxpZGF0b3JzIiwidmFsaWRhdG9yUHJvbWlzZXMiLCJ2YWxpZGF0aW9uRG9uZSIsImxvY2FsVmFsaWRhdGlvblJ1bklkIiwiJCRwYXJzZUFuZFZhbGlkYXRlIiwid3JpdGVUb01vZGVsSWZOZWVkZWQiLCJ1cGRhdGVPbkRlZmF1bHQiLCIkJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0IiwiZGVib3VuY2UiLCJkZWJvdW5jZURlbGF5IiwiZm9ybWF0dGVycyIsIm1vZGVsQ3RybCIsImZvcm1DdHJsIiwidXBkYXRlT24iLCJERUZBVUxUX1JFR0VYUCIsInRoYXQiLCJuZ09wdGlvbnNNaW5FcnIiLCJOR19PUFRJT05TX1JFR0VYUCIsInBhcnNlT3B0aW9uc0V4cHJlc3Npb24iLCJvcHRpb25zRXhwIiwic2VsZWN0RWxlbWVudCIsIk9wdGlvbiIsInNlbGVjdFZhbHVlIiwibGFiZWwiLCJkaXNhYmxlZCIsImdldE9wdGlvblZhbHVlc0tleXMiLCJvcHRpb25WYWx1ZXMiLCJvcHRpb25WYWx1ZXNLZXlzIiwia2V5TmFtZSIsIml0ZW1LZXkiLCJ2YWx1ZU5hbWUiLCJzZWxlY3RBcyIsInRyYWNrQnkiLCJzZWxlY3RBc0ZuIiwidmlld1ZhbHVlRm4iLCJ0cmFja0J5Rm4iLCJnZXRUcmFja0J5VmFsdWVGbiIsImdldFRyYWNrQnlWYWx1ZSIsImdldExvY2FscyIsImRpc3BsYXlGbiIsImdyb3VwQnlGbiIsImRpc2FibGVXaGVuRm4iLCJ2YWx1ZXNGbiIsImdldFdhdGNoYWJsZXMiLCJ3YXRjaGVkQXJyYXkiLCJvcHRpb25WYWx1ZXNMZW5ndGgiLCJkaXNhYmxlV2hlbiIsImdldE9wdGlvbnMiLCJvcHRpb25JdGVtcyIsInNlbGVjdFZhbHVlTWFwIiwib3B0aW9uSXRlbSIsImdldE9wdGlvbkZyb21WaWV3VmFsdWUiLCJnZXRWaWV3VmFsdWVGcm9tT3B0aW9uIiwibmdPcHRpb25zUG9zdExpbmsiLCJ1cGRhdGVPcHRpb25FbGVtZW50IiwiYWRkT3JSZXVzZUVsZW1lbnQiLCJyZW1vdmVFeGNlc3NFbGVtZW50cyIsInNraXBFbXB0eUFuZFVua25vd25PcHRpb25zIiwiZW1wdHlPcHRpb25fIiwiZW1wdHlPcHRpb24iLCJ1bmtub3duT3B0aW9uXyIsInVua25vd25PcHRpb24iLCJ1cGRhdGVPcHRpb25zIiwicHJldmlvdXNWYWx1ZSIsInNlbGVjdEN0cmwiLCJyZWFkVmFsdWUiLCJncm91cE1hcCIsInByb3ZpZGVkRW1wdHlPcHRpb24iLCJncm91cEVsZW1lbnQiLCJvcHRHcm91cFRlbXBsYXRlIiwiY3VycmVudE9wdGlvbkVsZW1lbnQiLCJvcHRpb25UZW1wbGF0ZSIsIm5nTW9kZWxDdHJsIiwibmV4dFZhbHVlIiwicmVuZGVyRW1wdHlPcHRpb24iLCJyZW1vdmVFbXB0eU9wdGlvbiIsInJlbmRlclVua25vd25PcHRpb24iLCJyZW1vdmVVbmtub3duT3B0aW9uIiwid3JpdGVWYWx1ZSIsInNlbGVjdGVkVmFsdWVzIiwic2VsZWN0aW9ucyIsInNlbGVjdGVkT3B0aW9uIiwicmVnaXN0ZXJPcHRpb24iLCJCUkFDRSIsIklTX1dIRU4iLCJ1cGRhdGVFbGVtZW50VGV4dCIsIm5ld1RleHQiLCJsYXN0Q291bnQiLCJudW1iZXJFeHAiLCJ3aGVuRXhwIiwid2hlbnMiLCJ3aGVuc0V4cEZucyIsImJyYWNlUmVwbGFjZW1lbnQiLCJ3YXRjaFJlbW92ZXIiLCJhdHRyaWJ1dGVOYW1lIiwidG1wTWF0Y2giLCJ3aGVuS2V5IiwiY291bnRJc05hTiIsInBsdXJhbENhdCIsIndoZW5FeHBGbiIsIk5HX1JFTU9WRUQiLCJuZ1JlcGVhdE1pbkVyciIsInVwZGF0ZVNjb3BlIiwidmFsdWVJZGVudGlmaWVyIiwia2V5SWRlbnRpZmllciIsImFycmF5TGVuZ3RoIiwiJGZpcnN0IiwiJGxhc3QiLCIkbWlkZGxlIiwiJG9kZCIsIiRldmVuIiwiZ2V0QmxvY2tTdGFydCIsImdldEJsb2NrRW5kIiwibmdSZXBlYXRFbmRDb21tZW50IiwiYWxpYXNBcyIsInRyYWNrQnlFeHAiLCJ0cmFja0J5RXhwR2V0dGVyIiwidHJhY2tCeUlkRXhwRm4iLCJ0cmFja0J5SWRBcnJheUZuIiwidHJhY2tCeUlkT2JqRm4iLCJoYXNoRm5Mb2NhbHMiLCJsYXN0QmxvY2tNYXAiLCJuZXh0Tm9kZSIsImNvbGxlY3Rpb25MZW5ndGgiLCJ0cmFja0J5SWQiLCJ0cmFja0J5SWRGbiIsImNvbGxlY3Rpb25LZXlzIiwibmV4dEJsb2NrT3JkZXIiLCJwcmV2aW91c05vZGUiLCJuZXh0QmxvY2tNYXAiLCJibG9ja0tleSIsIk5HX0hJREVfQ0xBU1MiLCJOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTIiwibmV3U3R5bGVzIiwib2xkU3R5bGVzIiwiY2FzZXMiLCJuZ1N3aXRjaENvbnRyb2xsZXIiLCJ3YXRjaEV4cHIiLCJzZWxlY3RlZFRyYW5zY2x1ZGVzIiwic2VsZWN0ZWRFbGVtZW50cyIsInByZXZpb3VzTGVhdmVBbmltYXRpb25zIiwic2VsZWN0ZWRTY29wZXMiLCJzcGxpY2VGYWN0b3J5Iiwic2VsZWN0ZWRUcmFuc2NsdWRlIiwiY2FzZUVsZW1lbnQiLCJzZWxlY3RlZFNjb3BlIiwiYW5jaG9yIiwibm9vcE5nTW9kZWxDb250cm9sbGVyIiwiU2VsZWN0Q29udHJvbGxlciIsIm9wdGlvbnNNYXAiLCJ1bmtub3duVmFsIiwiaGFzT3B0aW9uIiwiYWRkT3B0aW9uIiwicmVtb3ZlT3B0aW9uIiwib3B0aW9uU2NvcGUiLCJvcHRpb25BdHRycyIsImludGVycG9sYXRlVmFsdWVGbiIsImludGVycG9sYXRlVGV4dEZuIiwic2VsZWN0UHJlTGluayIsImxhc3RWaWV3IiwibGFzdFZpZXdSZWYiLCJzZWxlY3RDdHJsTmFtZSIsInBhdHRlcm5FeHAiLCJpbnRWYWwiLCJnZXREZWNpbWFscyIsImdldFZGIiwib3B0X3ByZWNpc2lvbiIsInBvdyIsIlBMVVJBTF9DQVRFR09SWSIsIlpFUk8iLCJPTkUiLCJUV08iLCJGRVciLCJNQU5ZIiwiT1RIRVIiLCJEQVkiLCJGSVJTVERBWU9GV0VFSyIsIk1PTlRIIiwiU0hPUlREQVkiLCJTSE9SVE1PTlRIIiwiV0VFS0VORFJBTkdFIiwiZnVsbERhdGUiLCJsb25nRGF0ZSIsIm1lZGl1bSIsIm1lZGl1bURhdGUiLCJtZWRpdW1UaW1lIiwic2hvcnQiLCJzaG9ydERhdGUiLCJzaG9ydFRpbWUiLCJtaW5JbnQiLCJ2ZiIsImhlYWQiLCJwYWNrYWdlU3R5bGVzIiwic3R5bGVzIiwicGVuZENsYXNzZXMiLCJmaXgiLCJpc1ByZWZpeCIsInJlbW92ZUZyb21BcnJheSIsImFyciIsInN0cmlwQ29tbWVudHNGcm9tRWxlbWVudCIsIiQkYWRkQ2xhc3MiLCIkJHJlbW92ZUNsYXNzIiwiYXBwbHlBbmltYXRpb25DbGFzc2VzRmFjdG9yeSIsInByZXBhcmVBbmltYXRpb25PcHRpb25zIiwiJCRwcmVwYXJlZCIsIiQkZG9tT3BlcmF0aW9uRmlyZWQiLCJhcHBseUFuaW1hdGlvblN0eWxlcyIsImFwcGx5QW5pbWF0aW9uRnJvbVN0eWxlcyIsImFwcGx5QW5pbWF0aW9uVG9TdHlsZXMiLCJtZXJnZUFuaW1hdGlvbk9wdGlvbnMiLCJuZXdPcHRpb25zIiwicmVzb2x2ZUVsZW1lbnRDbGFzc2VzIiwicHJlcGFyYXRpb25DbGFzc2VzIiwiY29uY2F0V2l0aFNwYWNlIiwicmVhbERvbU9wZXJhdGlvbiIsInNwbGl0Q2xhc3Nlc1RvTG9va3VwIiwiQUREX0NMQVNTIiwiUkVNT1ZFX0NMQVNTIiwiZmxhZ3MiLCJhbGxvdyIsImdldERvbU5vZGUiLCJhcHBseUdlbmVyYXRlZFByZXBhcmF0aW9uQ2xhc3NlcyIsIkVWRU5UX0NMQVNTX1BSRUZJWCIsIkFERF9DTEFTU19TVUZGSVgiLCJSRU1PVkVfQ0xBU1NfU1VGRklYIiwiY2xlYXJHZW5lcmF0ZWRDbGFzc2VzIiwiYWN0aXZlQ2xhc3NlcyIsImJsb2NrVHJhbnNpdGlvbnMiLCJkdXJhdGlvbiIsImFwcGx5SW5saW5lU3R5bGUiLCJUUkFOU0lUSU9OX0RFTEFZX1BST1AiLCJibG9ja0tleWZyYW1lQW5pbWF0aW9ucyIsImFwcGx5QmxvY2siLCJBTklNQVRJT05fUFJPUCIsIkFOSU1BVElPTl9QTEFZU1RBVEVfS0VZIiwic3R5bGVUdXBsZSIsImdldENzc0tleWZyYW1lRHVyYXRpb25TdHlsZSIsIkFOSU1BVElPTl9EVVJBVElPTl9QUk9QIiwiZ2V0Q3NzRGVsYXlTdHlsZSIsImlzS2V5ZnJhbWVBbmltYXRpb24iLCJBTklNQVRJT05fREVMQVlfUFJPUCIsImNvbXB1dGVDc3NTdHlsZXMiLCJkZXRlY3RlZFN0eWxlcyIsImZvcm1hbFN0eWxlTmFtZSIsImFjdHVhbFN0eWxlTmFtZSIsInBhcnNlTWF4VGltZSIsIm1heFZhbHVlIiwidHJ1dGh5VGltaW5nVmFsdWUiLCJnZXRDc3NUcmFuc2l0aW9uRHVyYXRpb25TdHlsZSIsImFwcGx5T25seUR1cmF0aW9uIiwiVFJBTlNJVElPTl9QUk9QIiwiRFVSQVRJT05fS0VZIiwiY3JlYXRlTG9jYWxDYWNoZUxvb2t1cCIsImZsdXNoIiwidG90YWwiLCJyZWdpc3RlclJlc3RvcmFibGVTdHlsZXMiLCJiYWNrdXAiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiVFJBTlNJVElPTkVORF9FVkVOVCIsIkFOSU1BVElPTkVORF9FVkVOVCIsIkFDVElWRV9DTEFTU19TVUZGSVgiLCJOR19BTklNQVRFX0NISUxEUkVOX0RBVEEiLCJDU1NfUFJFRklYIiwib250cmFuc2l0aW9uZW5kIiwib253ZWJraXR0cmFuc2l0aW9uZW5kIiwib25hbmltYXRpb25lbmQiLCJvbndlYmtpdGFuaW1hdGlvbmVuZCIsIlBST1BFUlRZX0tFWSIsIkRFTEFZX0tFWSIsIlRJTUlOR19LRVkiLCJBTklNQVRJT05fSVRFUkFUSU9OX0NPVU5UX0tFWSIsIlNBRkVfRkFTVF9GT1JXQVJEX0RVUkFUSU9OX1ZBTFVFIiwiVFJBTlNJVElPTl9EVVJBVElPTl9QUk9QIiwiJCRyQUZTY2hlZHVsZXJGYWN0b3J5Iiwic2NoZWR1bGVyIiwidGFza3MiLCJjYW5jZWxGbiIsIndhaXRVbnRpbFF1aWV0IiwiJCRBbmltYXRlQ2hpbGRyZW5EaXJlY3RpdmUiLCJuZ0FuaW1hdGVDaGlsZHJlbiIsIkFOSU1BVEVfVElNRVJfS0VZIiwiT05FX1NFQ09ORCIsIkVMQVBTRURfVElNRV9NQVhfREVDSU1BTF9QTEFDRVMiLCJDTE9TSU5HX1RJTUVfQlVGRkVSIiwiREVURUNUX0NTU19QUk9QRVJUSUVTIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwidHJhbnNpdGlvbkRlbGF5IiwidHJhbnNpdGlvblByb3BlcnR5IiwiYW5pbWF0aW9uRHVyYXRpb24iLCJhbmltYXRpb25EZWxheSIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiREVURUNUX1NUQUdHRVJfQ1NTX1BST1BFUlRJRVMiLCIkQW5pbWF0ZUNzc1Byb3ZpZGVyIiwiJGFuaW1hdGVQcm92aWRlciIsImdjc0xvb2t1cCIsImdjc1N0YWdnZXJMb29rdXAiLCIkJHJBRlNjaGVkdWxlciIsImdjc0hhc2hGbiIsImV4dHJhQ2xhc3NlcyIsIktFWSIsInBhcmVudElEIiwicGFyZW50Q291bnRlciIsImNvbXB1dGVDYWNoZWRDc3NTdHlsZXMiLCJ0aW1pbmdzIiwiY29tcHV0ZUNhY2hlZENzc1N0YWdnZXJTdHlsZXMiLCJzdGFnZ2VyIiwic3RhZ2dlckNsYXNzTmFtZSIsInJhZldhaXRRdWV1ZSIsInBhZ2VXaWR0aCIsImNvbXB1dGVUaW1pbmdzIiwiYUQiLCJ0RCIsIm1heERlbGF5IiwibWF4RHVyYXRpb24iLCJhcHBseUFuaW1hdGlvbkNsYXNzZXMiLCJlbmRGbiIsInJlamVjdGVkIiwiYW5pbWF0aW9uQ2xvc2VkIiwiYW5pbWF0aW9uQ29tcGxldGVkIiwiYW5pbWF0aW9uUGF1c2VkIiwiJCRza2lwUHJlcGFyYXRpb25DbGFzc2VzIiwidGVtcG9yYXJ5U3R5bGVzIiwicmVzdG9yZVN0eWxlcyIsInNldFByb3BlcnR5IiwicmVtb3ZlUHJvcGVydHkiLCJvbkRvbmUiLCJhcHBseUJsb2NraW5nIiwiYmxvY2tUcmFuc2l0aW9uIiwiYmxvY2tLZXlmcmFtZUFuaW1hdGlvbiIsImNsb3NlQW5kUmV0dXJuTm9vcEFuaW1hdG9yIiwiJCR3aWxsQW5pbWF0ZSIsInRyaWdnZXJBbmltYXRpb25TdGFydCIsInJlY2FsY3VsYXRlVGltaW5nU3R5bGVzIiwiZnVsbENsYXNzTmFtZSIsInJlbGF0aXZlRGVsYXkiLCJoYXNUcmFuc2l0aW9ucyIsImhhc0FuaW1hdGlvbnMiLCJhcHBseUFuaW1hdGlvbkRlbGF5IiwiZGVsYXlTdHlsZSIsIm1heERlbGF5VGltZSIsIm1heER1cmF0aW9uVGltZSIsImVhc2luZyIsImVhc2VQcm9wIiwiZWFzZVZhbCIsInN0YXJ0VGltZSIsIm5vdyIsInRpbWVyVGltZSIsImVuZFRpbWUiLCJhbmltYXRpb25zRGF0YSIsInNldHVwRmFsbGJhY2tUaW1lciIsImN1cnJlbnRUaW1lckRhdGEiLCJleHBlY3RlZEVuZFRpbWUiLCJvbkFuaW1hdGlvbkV4cGlyZWQiLCJvbkFuaW1hdGlvblByb2dyZXNzIiwib3JpZ2luYWxFdmVudCIsInRpbWVTdGFtcCIsIiRtYW51YWxUaW1lU3RhbXAiLCJlbGFwc2VkVGltZSIsInBsYXlQYXVzZSIsInBsYXlBbmltYXRpb24iLCJtYXhTdGFnZ2VyIiwiaXRlbUluZGV4IiwicnVubmVySG9zdCIsImlzU3RydWN0dXJhbCIsInN0cnVjdHVyYWwiLCJzdHJ1Y3R1cmFsQ2xhc3NOYW1lIiwiYWRkUmVtb3ZlQ2xhc3NOYW1lIiwiYXBwbHlDbGFzc2VzRWFybHkiLCJoYXNUb1N0eWxlcyIsImNvbnRhaW5zS2V5ZnJhbWVBbmltYXRpb24iLCJrZXlmcmFtZVN0eWxlIiwic3RhZ2dlclZhbCIsInRyYW5zaXRpb25TdHlsZSIsImR1cmF0aW9uU3R5bGUiLCJzdGFnZ2VySW5kZXgiLCJpc0ZpcnN0Iiwic2tpcEJsb2NraW5nIiwiaGFzVHJhbnNpdGlvbkFsbCIsImFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uIiwiYXBwbHlBbmltYXRpb25EdXJhdGlvbiIsImFwcGx5VHJhbnNpdGlvbkRlbGF5IiwiJCRBbmltYXRlQ3NzRHJpdmVyUHJvdmlkZXIiLCIkJGFuaW1hdGlvblByb3ZpZGVyIiwiaXNEb2N1bWVudEZyYWdtZW50IiwiZHJpdmVycyIsIk5HX0FOSU1BVEVfU0hJTV9DTEFTU19OQU1FIiwiTkdfQU5JTUFURV9BTkNIT1JfQ0xBU1NfTkFNRSIsIk5HX09VVF9BTkNIT1JfQ0xBU1NfTkFNRSIsIk5HX0lOX0FOQ0hPUl9DTEFTU19OQU1FIiwiZmlsdGVyQ3NzQ2xhc3NlcyIsImdldFVuaXF1ZVZhbHVlcyIsInByZXBhcmVBbmNob3JlZEFuaW1hdGlvbiIsIm91dEFuY2hvciIsImluQW5jaG9yIiwiY2FsY3VsYXRlQW5jaG9yU3R5bGVzIiwiY29vcmRzIiwiYm9keU5vZGUiLCJzY3JvbGxUb3AiLCJzY3JvbGxMZWZ0IiwicHJlcGFyZU91dEFuaW1hdGlvbiIsImFuaW1hdG9yIiwiZ2V0Q2xhc3NWYWwiLCJwcmVwYXJlSW5BbmltYXRpb24iLCJlbmRpbmdDbGFzc2VzIiwic3RhcnRpbmdDbGFzc2VzIiwicm9vdEJvZHlFbGVtZW50IiwiYW5pbWF0b3JJbiIsImFuaW1hdG9yT3V0Iiwic3RhcnRpbmdBbmltYXRvciIsImN1cnJlbnRBbmltYXRpb24iLCJwcmVwYXJlRnJvbVRvQW5jaG9yQW5pbWF0aW9uIiwiYW5jaG9ycyIsImZyb21BbmltYXRpb24iLCJwcmVwYXJlUmVndWxhckFuaW1hdGlvbiIsInRvQW5pbWF0aW9uIiwiYW5jaG9yQW5pbWF0aW9ucyIsIm91dEVsZW1lbnQiLCJpbkVsZW1lbnQiLCJhbmltYXRpb25SdW5uZXJzIiwiYW5pbWF0aW9uRGV0YWlscyIsInJvb3ROb2RlIiwiJCRBbmltYXRlSnNQcm92aWRlciIsImxvb2t1cEFuaW1hdGlvbnMiLCJmbGFnTWFwIiwiYW5pbWF0aW9uRmFjdG9yeSIsImFwcGx5T3B0aW9ucyIsImV4ZWN1dGVBbmltYXRpb25GbiIsImNsYXNzZXNUb0FkZCIsImNsYXNzZXNUb1JlbW92ZSIsImdyb3VwRXZlbnRlZEFuaW1hdGlvbnMiLCJmbk5hbWUiLCJvcGVyYXRpb25zIiwiYW5pIiwiZW5kUHJvZ3Jlc3NDYiIsIm9uQW5pbWF0aW9uQ29tcGxldGUiLCJjYW5jZWxsZWQiLCJwYWNrYWdlQW5pbWF0aW9ucyIsInJ1bm5lcnMiLCJhbmltYXRlRm4iLCJiZWZvcmUiLCJhZnRlckZuIiwiYmVmb3JlRm4iLCJvbkNvbXBsZXRlIiwiZW5kQW5pbWF0aW9ucyIsImNsb3NlQWN0aXZlQW5pbWF0aW9ucyIsIiQkQW5pbWF0ZUpzRHJpdmVyUHJvdmlkZXIiLCIkJGFuaW1hdGVKcyIsInByZXBhcmVBbmltYXRpb24iLCJlbmRGbkZhY3RvcnkiLCJOR19BTklNQVRFX0FUVFJfTkFNRSIsIk5HX0FOSU1BVEVfUElOX0RBVEEiLCIkJEFuaW1hdGVRdWV1ZVByb3ZpZGVyIiwiaXNBbGxvd2VkIiwicnVsZVR5cGUiLCJwcmV2aW91c0FuaW1hdGlvbiIsImhhc0FuaW1hdGlvbkNsYXNzZXMiLCJhbmQiLCJQUkVfRElHRVNUX1NUQVRFIiwiUlVOTklOR19TVEFURSIsIm5ld0FuaW1hdGlvbiIsIm5PIiwiY08iLCIkJGFuaW1hdGlvbiIsInBvc3REaWdlc3RUYXNrRmFjdG9yeSIsInBvc3REaWdlc3RDYWxsZWQiLCJub3JtYWxpemVBbmltYXRpb25PcHRpb25zIiwiZmluZENhbGxiYWNrcyIsInRhcmdldE5vZGUiLCJ0YXJnZXRQYXJlbnROb2RlIiwiZW50cmllcyIsImNhbGxiYWNrUmVnaXN0cnkiLCJxdWV1ZUFuaW1hdGlvbiIsIm5vdGlmeVByb2dyZXNzIiwicnVuSW5OZXh0UG9zdERpZ2VzdE9yTm93IiwiaXNBbmltYXRhYmxlQ2xhc3NOYW1lIiwic2tpcEFuaW1hdGlvbnMiLCJhbmltYXRpb25zRW5hYmxlZCIsImRpc2FibGVkRWxlbWVudHNMb29rdXAiLCJleGlzdGluZ0FuaW1hdGlvbiIsImFjdGl2ZUFuaW1hdGlvbnNMb29rdXAiLCJoYXNFeGlzdGluZ0FuaW1hdGlvbiIsImFyZUFuaW1hdGlvbnNBbGxvd2VkIiwiY2xvc2VDaGlsZEFuaW1hdGlvbnMiLCJza2lwQW5pbWF0aW9uRmxhZyIsImNhbmNlbEFuaW1hdGlvbkZsYWciLCJqb2luQW5pbWF0aW9uRmxhZyIsImlzVmFsaWRBbmltYXRpb24iLCJjbGVhckVsZW1lbnRBbmltYXRpb25TdGF0ZSIsIm1hcmtFbGVtZW50QW5pbWF0aW9uU3RhdGUiLCJhbmltYXRpb25DYW5jZWxsZWQiLCJyZWFsUnVubmVyIiwic2V0SG9zdCIsImlzTWF0Y2hpbmdFbGVtZW50Iiwibm9kZU9yRWxtQSIsIm5vZGVPckVsbUIiLCJhbmltYXRlQ2hpbGRyZW4iLCJib2R5RWxlbWVudCIsImJvZHlFbGVtZW50RGV0ZWN0ZWQiLCJyb290RWxlbWVudERldGVjdGVkIiwicGFyZW50QW5pbWF0aW9uRGV0ZWN0ZWQiLCJwYXJlbnRIb3N0IiwiZGV0YWlscyIsImFsbG93QW5pbWF0aW9uIiwiZGVyZWdpc3RlcldhdGNoIiwiaXNFbXB0eSIsImNvbnRhaW5lciIsImZpbHRlckZyb21SZWdpc3RyeSIsIm1hdGNoQ29udGFpbmVyIiwibWF0Y2hDYWxsYmFjayIsImNvbnRhaW5lck5vZGUiLCJpc01hdGNoIiwiYm9vbCIsImFyZ0NvdW50IiwiaGFzRWxlbWVudCIsInJlY29yZEV4aXN0cyIsIiQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeSIsIndhaXRGb3JUaWNrIiwid2FpdFF1ZXVlIiwicGFzc2VkIiwiJCRBbmltYXRlUnVubmVyRmFjdG9yeSIsIiQkYW5pbWF0ZUFzeW5jUnVuIiwiX2RvbmVDYWxsYmFja3MiLCJfcnVuSW5BbmltYXRpb25GcmFtZSIsIl9zdGF0ZSIsIklOSVRJQUxfU1RBVEUiLCJET05FX1BFTkRJTkdfU1RBVEUiLCJET05FX0NPTVBMRVRFX1NUQVRFIiwib25Qcm9ncmVzcyIsInJlc29sdmVIYW5kbGVyIiwicmVqZWN0SGFuZGxlciIsIl9yZXNvbHZlIiwiJCRBbmltYXRpb25Qcm92aWRlciIsInNldFJ1bm5lciIsIlJVTk5FUl9TVE9SQUdFX0tFWSIsInJlbW92ZVJ1bm5lciIsImdldFJ1bm5lciIsIk5HX0FOSU1BVEVfUkVGX0FUVFIiLCJzb3J0QW5pbWF0aW9ucyIsInByb2Nlc3NOb2RlIiwicHJvY2Vzc2VkIiwiZWxlbWVudE5vZGUiLCJsb29rdXAiLCJwYXJlbnRFbnRyeSIsInRyZWUiLCJmbGF0dGVuIiwicmVtYWluaW5nTGV2ZWxFbnRyaWVzIiwibmV4dExldmVsRW50cmllcyIsInJvdyIsImNoaWxkRW50cnkiLCJhbmltYXRpb25RdWV1ZSIsImdldEFuY2hvck5vZGVzIiwiU0VMRUNUT1IiLCJncm91cEFuaW1hdGlvbnMiLCJwcmVwYXJlZEFuaW1hdGlvbnMiLCJyZWZMb29rdXAiLCJlbnRlck9yTW92ZSIsImFuY2hvck5vZGVzIiwiZGlyZWN0aW9uIiwiYW5pbWF0aW9uSUQiLCJ1c2VkSW5kaWNlc0xvb2t1cCIsImFuY2hvckdyb3VwcyIsImluZGV4S2V5IiwibG9va3VwS2V5IiwiYmVmb3JlU3RhcnQiLCJjc3NDbGFzc2VzSW50ZXJzZWN0aW9uIiwib3V0IiwiaW4iLCJhYSIsImludm9rZUZpcnN0RHJpdmVyIiwiZHJpdmVyTmFtZSIsImRyaXZlciIsInVwZGF0ZUFuaW1hdGlvblJ1bm5lcnMiLCJuZXdSdW5uZXIiLCJ1cGRhdGUiLCJoYW5kbGVEZXN0cm95ZWRFbGVtZW50IiwiZ3JvdXBlZEFuaW1hdGlvbnMiLCJ0b0JlU29ydGVkQW5pbWF0aW9ucyIsImFuaW1hdGlvbkVudHJ5Iiwic3RhcnRBbmltYXRpb25GbiIsImNsb3NlRm4iLCJ0YXJnZXRFbGVtZW50Iiwib3BlcmF0aW9uIiwiYW5pbWF0aW9uUnVubmVyIiwiJEFyaWFQcm92aWRlciIsImFyaWFBdHRyIiwibm9kZUJsYWNrTGlzdCIsIm5lZ2F0ZSIsImFyaWFDYW1lbE5hbWUiLCJpc05vZGVPbmVPZiIsImJvb2xWYWwiLCJhcmlhSGlkZGVuIiwiYXJpYUNoZWNrZWQiLCJhcmlhRGlzYWJsZWQiLCJhcmlhUmVxdWlyZWQiLCJhcmlhSW52YWxpZCIsImFyaWFNdWx0aWxpbmUiLCJhcmlhVmFsdWUiLCJ0YWJpbmRleCIsImJpbmRLZXlwcmVzcyIsImJpbmRSb2xlRm9yQ2xpY2siLCJuZXdDb25maWciLCIkJHdhdGNoRXhwciIsIm5nQXJpYU1vZHVsZSIsIm5vZGVUeXBlQXJyYXkiLCIkYXJpYSIsInNob3VsZEF0dGFjaEF0dHIiLCJub3JtYWxpemVkQXR0ciIsInNob3VsZEF0dGFjaFJvbGUiLCJyb2xlIiwiZ2V0U2hhcGUiLCJzaGFwZSIsIm5nQXJpYVdhdGNoTW9kZWxWYWx1ZSIsImdldFJhZGlvUmVhY3Rpb24iLCJuZWVkc1RhYkluZGV4IiwibmdBcmlhQ2hlY2tib3hSZWFjdGlvbiIsIm5lZWRzQXJpYVZhbHVlbWluIiwibmVlZHNBcmlhVmFsdWVtYXgiLCJuZWVkc0FyaWFWYWx1ZW5vdyIsIm5nTWVzc2FnZXMiLCJuZ0NsaWNrIiwibmdLZXlwcmVzcyIsIkRldGVjdE5nVG91Y2giLCJNZENvcmVDb25maWd1cmUiLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJyQUZEZWNvcmF0b3IiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYWNjZW50UGFsZXR0ZSIsIndhcm5QYWxldHRlIiwiYmFja2dyb3VuZFBhbGV0dGUiLCJ0aHJvdHRsZSIsImNiIiwicXVldWVkQXJncyIsImFscmVhZHlRdWV1ZWQiLCJxdWV1ZUNiIiwiTWRDb25zdGFudEZhY3RvcnkiLCJ2ZW5kb3JQcm9wZXJ0eSIsIndlYmtpdCIsIktFWV9DT0RFIiwiQ09NTUEiLCJFTlRFUiIsIlNQQUNFIiwiUEFHRV9VUCIsIlBBR0VfRE9XTiIsIkVORCIsIkhPTUUiLCJMRUZUX0FSUk9XIiwiVVBfQVJST1ciLCJSSUdIVF9BUlJPVyIsIkRPV05fQVJST1ciLCJUQUIiLCJCQUNLU1BBQ0UiLCJERUxFVEUiLCJUUkFOU0lUSU9ORU5EIiwiQU5JTUFUSU9ORU5EIiwiVFJBTlNGT1JNIiwiVFJBTlNGT1JNX09SSUdJTiIsIlRSQU5TSVRJT04iLCJUUkFOU0lUSU9OX0RVUkFUSU9OIiwiQU5JTUFUSU9OX1BMQVlfU1RBVEUiLCJBTklNQVRJT05fRFVSQVRJT04iLCJBTklNQVRJT05fTkFNRSIsIkFOSU1BVElPTl9USU1JTkciLCJBTklNQVRJT05fRElSRUNUSU9OIiwiTUVESUEiLCJ4cyIsImd0LXhzIiwic20iLCJndC1zbSIsIm1kIiwiZ3QtbWQiLCJsZyIsImd0LWxnIiwieGwiLCJNRURJQV9QUklPUklUWSIsIk1kSXRlcmF0b3IiLCJyZWxvb3AiLCJnZXRJdGVtcyIsIl9pdGVtcyIsImluUmFuZ2UiLCJoYXNOZXh0IiwiaGFzUHJldmlvdXMiLCJpdGVtQXQiLCJmaW5kQnkiLCJmaXJzdCIsImZpbmRTdWJzZXF1ZW50SXRlbSIsImJhY2t3YXJkcyIsInZhbGlkYXRlIiwidHJ1ZUZuIiwiY3VySW5kZXgiLCJuZXh0SW5kZXgiLCJmb3VuZEl0ZW0iLCJwcmV2aW91cyIsIm1kTWVkaWFGYWN0b3J5IiwiJG1kQ29uc3RhbnQiLCIkbWRNZWRpYSIsInF1ZXJ5IiwidmFsaWRhdGVkIiwicXVlcmllcyIsIm1xbHMiLCJtYXRjaE1lZGlhIiwiYWRkTGlzdGVuZXIiLCJvblF1ZXJ5Q2hhbmdlIiwibWVkaWEiLCJnZXRRdWVyeSIsImdldFJlc3BvbnNpdmVBdHRyaWJ1dGUiLCJtZWRpYU5hbWUiLCJub3JtYWxpemVkTmFtZSIsImdldE5vcm1hbGl6ZWROYW1lIiwid2F0Y2hSZXNwb25zaXZlQXR0cmlidXRlcyIsImF0dHJOYW1lcyIsIndhdGNoRm4iLCJ1bndhdGNoRm5zIiwibm9ybWFsaXplQ2FjaGUiLCJVdGlsRmFjdG9yeSIsIiQkbWRBbmltYXRlIiwiZ2V0Tm9kZSIsInVzZXNTdGFuZGFyZFN5bWJvbHMiLCJoYXNDb21wdXRlZFN0eWxlIiwiaGFzVmFsdWUiLCJjb21wdXRlZFN0eWxlcyIsIiRtZFV0aWwiLCJkb20iLCJwZXJmb3JtYW5jZSIsImNsaWVudFJlY3QiLCJvZmZzZXRQYXJlbnQiLCJpc09mZnNldFJlY3QiLCJub2RlUmVjdCIsIm9mZnNldFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsIm5vZGVzVG9BcnJheSIsImZpbmRGb2N1c1RhcmdldCIsImNvbnRhaW5lckVsIiwiYXR0cmlidXRlVmFsIiwic2NhbkZvckZvY3VzYWJsZSIsImVsRm91bmQiLCJFWFBfQVRUUiIsImF0dHJpYnV0ZSIsIml0IiwiZm9jdXNFeHByZXNzaW9uIiwiaXNGb2N1c2FibGUiLCJ2YWxpZGF0ZVNjb3BlIiwiZWxUb0ZvY3VzIiwiQVVUT19GT0NVUyIsImRpc2FibGVTY3JvbGxBcm91bmQiLCJkaXNhYmxlRWxlbWVudFNjcm9sbCIsImRpc2FibGVLZXlOYXYiLCJ6SW5kZXgiLCJzY3JvbGxNYXNrIiwiX2VuYWJsZVNjcm9sbGluZyIsImRpc2FibGVCb2R5U2Nyb2xsIiwiaHRtbE5vZGUiLCJyZXN0b3JlSHRtbFN0eWxlIiwicmVzdG9yZUJvZHlTdHlsZSIsInNjcm9sbE9mZnNldCIsImNsaWVudFdpZHRoIiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiYXBwbHlTdHlsZXMiLCJvdmVyZmxvd1kiLCJvdmVyZmxvdyIsIl9jb3VudCIsInJlc3RvcmVCb2R5IiwicmVzdG9yZUVsZW1lbnQiLCJlbmFibGVTY3JvbGxpbmciLCJmbG9hdGluZ1Njcm9sbGJhcnMiLCJjYWNoZWQiLCJ0ZW1wTm9kZSIsImZvcmNlRm9jdXMiLCJmb2N1c09uQ2xpY2siLCIkZm9jdXMiLCJuZXdFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdE1vdXNlRXZlbnQiLCIkbWF0ZXJpYWwiLCJkaXNwYXRjaEV2ZW50IiwiY3JlYXRlQmFja2Ryb3AiLCJzdXBwbGFudCIsImZha2VOZ01vZGVsIiwiJGZha2UiLCJmdW5jIiwid2FpdCIsInJlY2VudCIsInZhbHVlT25Vc2UiLCJkZWZpbmVQcm9wZXJ0eSIsIm5leHRVbmlxdWVJZCIsImhhc1Njb3BlIiwiZGlzY29ubmVjdFNjb3BlIiwiJCRkaXNjb25uZWN0ZWQiLCJyZWNvbm5lY3RTY29wZSIsImdldENsb3Nlc3QiLCJ0YWdOYW1lIiwib25seVBhcmVudCIsImVsZW1lbnRDb250YWlucyIsImhhc0NvbnRhaW5zIiwiZmluZEZuIiwiZXh0cmFjdEVsZW1lbnRCeU5hbWUiLCJzY2FuRGVlcCIsIndhcm5Ob3RGb3VuZCIsInNjYW5UcmVlIiwic2NhbkxldmVsIiwic2NhbkNoaWxkcmVuIiwiZm91bmQiLCJudW1DaGlsZCIsIm91dGVySFRNTCIsImluaXRPcHRpb25hbFByb3BlcnRpZXMiLCJhdHRySXNEZWZpbmVkIiwiZGlnZXN0IiwicHJvY2Vzc1RlbXBsYXRlIiwiZ2V0UGFyZW50V2l0aFBvaW50ZXJFdmVudHMiLCJnZXROZWFyZXN0Q29udGVudEVsZW1lbnQiLCJBcmlhU2VydmljZSIsImNoaWxkSGFzQXR0cmlidXRlIiwiZXhwZWN0QXN5bmMiLCJkZWZhdWx0VmFsdWVHZXR0ZXIiLCJleHBlY3RXaXRoVGV4dCIsImlzSGlkZGVuIiwiY3VycmVudFN0eWxlIiwiZGlzcGxheSIsImhhc0NoaWxkcmVuIiwiaGFzQ2hpbGROb2RlcyIsImhhc0F0dHIiLCJtZENvbXBpbGVyU2VydmljZSIsInRyYW5zZm9ybVRlbXBsYXRlIiwiY29tcGlsZWREYXRhIiwiaW52b2tlQ3RybCIsIk1kR2VzdHVyZVByb3ZpZGVyIiwiTWRHZXN0dXJlIiwiJCRNZEdlc3R1cmVIYW5kbGVyIiwiY2hlY2tEaXN0YW5jZUFuZEVtaXQiLCJwb2ludGVyIiwiZGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsImhhbmRsZXJOYW1lIiwiSEFORExFUlMiLCJyZWdpc3RlckVsZW1lbnQiLCJ2ZW5kb3IiLCJvcGVyYSIsImlzSW9zIiwiaXNBbmRyb2lkIiwiaGFzSlF1ZXJ5IiwiaXNIaWphY2tpbmdDbGlja3MiLCJmb3JjZVNraXBDbGlja0hpamFjayIsIm1heENsaWNrRGlzdGFuY2UiLCJvbkVuZCIsImNhbkZvY3VzIiwiZm9jdXNhYmxlRWxlbWVudHMiLCJvblN0YXJ0Iiwib25DYW5jZWwiLCJyZWdpc3RlcmVkUGFyZW50IiwieCIsIm9uTW92ZSIsImR4IiwiZHkiLCJzcXJ0IiwibWluRGlzdGFuY2UiLCJob3Jpem9udGFsIiwiY2FuY2VsTXVsdGlwbGllciIsInNob3VsZFN0YXJ0RHJhZyIsInNob3VsZENhbmNlbCIsImRyYWdQb2ludGVyIiwiZGlzcGF0Y2hEcmFnTW92ZSIsImRpc3RhbmNlWCIsImRpc3RhbmNlWSIsIm1ha2VTdGFydFBvaW50ZXIiLCJ1cGRhdGVQb2ludGVyU3RhdGUiLCJpc1J1bm5pbmciLCJtaW5WZWxvY2l0eSIsImV2ZW50VHlwZSIsInZlbG9jaXR5WCIsImRpcmVjdGlvblgiLCJ2ZWxvY2l0eVkiLCJkaXJlY3Rpb25ZIiwiR2VzdHVyZUhhbmRsZXIiLCJNZEdlc3R1cmVIYW5kbGVyIiwialF1ZXJ5RGlzcGF0Y2hFdmVudCIsInNyY0V2ZW50IiwiZXZlbnRQb2ludGVyIiwiZXZlbnRPYmoiLCJFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwic2NyZWVuWCIsInNjcmVlblkiLCJwYWdlWCIsInBhZ2VZIiwiYWx0S2V5IiwibmF0aXZlRGlzcGF0Y2hFdmVudCIsImRldGFpbCIsImluaXRDdXN0b21FdmVudCIsInBhcmVudFRhcmdldCIsImdldE5lYXJlc3RQYXJlbnQiLCJwYXJlbnRUYXJnZXRPcHRpb25zIiwiJG1kR2VzdHVyZSIsIm9uRGVzdHJveSIsImF0dGFjaFRvRG9jdW1lbnQiLCJtb3VzZUlucHV0SGlqYWNrZXIiLCJpc0tleUNsaWNrIiwiaXNJb25pY1RhcCIsImlzSW5wdXRFdmVudEZyb21MYWJlbENsaWNrIiwiY2xpY2tIaWphY2tlciIsImxhc3RMYWJlbENsaWNrUG9zIiwicnVuSGFuZGxlcnMiLCJoYW5kbGVyRXZlbnQiLCJnZXN0dXJlU3RhcnQiLCJsYXN0UG9pbnRlciIsInR5cGVzTWF0Y2giLCJnZXN0dXJlTW92ZSIsImdlc3R1cmVFbmQiLCJpc0luaXRpYWxpemVkIiwiU1RBUlRfRVZFTlRTIiwiTU9WRV9FVkVOVFMiLCJFTkRfRVZFTlRTIiwicG9pbnQiLCJnZXRFdmVudFBvaW50Iiwic3RhcnRQb2ludGVyIiwic3RhcnRYIiwic3RhcnRZIiwidG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwic2tpcENsaWNrSGlqYWNrIiwiSW50ZXJpbUVsZW1lbnRQcm92aWRlciIsImNyZWF0ZUludGVyaW1FbGVtZW50UHJvdmlkZXIiLCJpbnRlcmltRmFjdG9yeU5hbWUiLCJzZXREZWZhdWx0cyIsInByb3ZpZGVyQ29uZmlnIiwib3B0aW9uc0ZhY3RvcnkiLCJtZXRob2RzIiwiRVhQT1NFRF9NRVRIT0RTIiwiYWRkTWV0aG9kIiwiY3VzdG9tTWV0aG9kcyIsImFkZFByZXNldCIsInByZXNldHMiLCJhcmdPcHRpb24iLCIkJGludGVyaW1FbGVtZW50Iiwic2hvd0ludGVyaW1FbGVtZW50Iiwib3B0cyIsIl9vcHRpb25zIiwiaW50ZXJpbUVsZW1lbnRTZXJ2aWNlIiwic2hvdyIsImRlZmF1bHRPcHRpb25zIiwiZGVzdHJveUludGVyaW1FbGVtZW50IiwiaW52b2tlRmFjdG9yeSIsImRlZmF1bHRWYWwiLCJwdWJsaWNTZXJ2aWNlIiwiZGVmYXVsdE1ldGhvZHMiLCJoaWRlIiwiUHJlc2V0IiwicHJlc2V0RGVmYXVsdHMiLCJwcmVzZXRNZXRob2RzIiwiJHR5cGUiLCJtZXRob2ROYW1lIiwiSW50ZXJpbUVsZW1lbnRGYWN0b3J5IiwiJG1kQ29tcGlsZXIiLCIkbWRUaGVtaW5nIiwiaW50ZXJpbUVsZW1lbnQiLCJJbnRlcmltRWxlbWVudCIsImhpZGVFeGlzdGluZyIsInNraXBIaWRlIiwiY2xvc2VFbGVtZW50IiwiaW50ZXJpbSIsImNsb3NlQWxsIiwiY2xvc2VUbyIsImNudHIiLCJmaWx0ZXJlZCIsImN1cnJOb2RlIiwiU0hPV19DQU5DRUxMRUQiLCJjcmVhdGVBbmRUcmFuc2l0aW9uSW4iLCJyZWplY3RBbGwiLCJmYXVsdCIsImNvbXBpbGVFbGVtZW50IiwibGlua0VsZW1lbnQiLCJzaG93QWN0aW9uIiwic2hvd0VsZW1lbnQiLCJ0cmFuc2l0aW9uT3V0QW5kUmVtb3ZlIiwiaXNDYW5jZWxsZWQiLCJyZXNvbHZlQWxsIiwiY2FuY2VsQXV0b0hpZGUiLCJoaWRlRWxlbWVudCIsImNvbmZpZ3VyZVNjb3BlQW5kVHJhbnNpdGlvbnMiLCJwcmVzZXJ2ZVNjb3BlIiwib25TaG93Iiwib25SZW1vdmUiLCJjb21waWxlZCIsInNraXBDb21waWxlIiwiY29tcGlsZURhdGEiLCJmaW5kUGFyZW50IiwidGhlbWFibGUiLCJzdGFydEF1dG9IaWRlIiwiYXV0b0hpZGVUaW1lciIsImhpZGVEZWxheSIsIm5vdGlmeVNob3dpbmciLCJvblNob3dpbmciLCJub3RpZnlDb21wbGV0ZSIsImFubm91bmNlUmVtb3ZpbmciLCJvblJlbW92aW5nIiwiJGluamVjdG9yXyIsInJlZ2lzdGVyTGF5b3V0QVBJIiwiQlJFQUtQT0lOVFMiLCJBUElfV0lUSF9WQUxVRVMiLCJBUElfTk9fVkFMVUVTIiwibXFiIiwiZnVsbE5hbWUiLCJhdHRyaWJ1dGVXaXRoT2JzZXJ2ZSIsImF0dHJpYnV0ZVdpdGhvdXRWYWx1ZSIsImRpc2FibGVMYXlvdXREaXJlY3RpdmUiLCJidWlsZENsb2FrSW50ZXJjZXB0b3IiLCJ3YXJuQXR0ck5vdFN1cHBvcnRlZCIsInRyYW5zbGF0ZVdpdGhWYWx1ZVRvQ3NzQ2xhc3MiLCJ1cGRhdGVGbiIsInVwZGF0ZUNsYXNzV2l0aFZhbHVlIiwiZ2V0Tm9ybWFsaXplZEF0dHJWYWx1ZSIsIl8kbWRVdGlsXyIsIl8kaW50ZXJwb2xhdGVfIiwiXyRsb2dfIiwidmFsaWRhdGVBdHRyaWJ1dGVVc2FnZSIsInZhbGlkYXRlQXR0cmlidXRlVmFsdWUiLCJidWlsZFVwZGF0ZUZuIiwidHJhbnNsYXRlVG9Dc3NDbGFzcyIsImxhc3RDbGFzcyIsIldISVRFU1BBQ0UiLCJ1c2FnZSIsIlNVRkZJWEVTIiwibmVlZHNJbnRlcnBvbGF0aW9uIiwiZmluZEluIiwiTEFZT1VUX09QVElPTlMiLCJGTEVYX09QVElPTlMiLCJheGlzIiwiZXh0cmFjdEFsaWduQXhpcyIsImF0dHJWYWx1ZSIsIm1haW4iLCJjcm9zcyIsIkFMSUdOTUVOVF9NQUlOX0FYSVMiLCJBTElHTk1FTlRfQ1JPU1NfQVhJUyIsImJyZWFrcG9pbnRzIiwiQ29tcG9uZW50UmVnaXN0cnkiLCJpc1ZhbGlkSUQiLCJpbnN0YW5jZXMiLCJwZW5kaW5ncyIsIm5vdEZvdW5kRXJyb3IiLCJnZXRJbnN0YW5jZXMiLCIkJG1kSGFuZGxlIiwiZGVyZWdpc3RlciIsInJlc29sdmVXaGVuIiwiZGZkIiwiTWRCdXR0b25JbmtSaXBwbGUiLCIkbWRJbmtSaXBwbGUiLCJvcHRpb25zRm9yRWxlbWVudCIsImlzTWVudUl0ZW0iLCJmaXRSaXBwbGUiLCJjZW50ZXIiLCJkaW1CYWNrZ3JvdW5kIiwiYXR0YWNoIiwiTWRDaGVja2JveElua1JpcHBsZSIsIk1kTGlzdElua1JpcHBsZSIsIm91dGxpbmUiLCJyaXBwbGVTaXplIiwiSW5rUmlwcGxlRGlyZWN0aXZlIiwiJG1kQnV0dG9uSW5rUmlwcGxlIiwiJG1kQ2hlY2tib3hJbmtSaXBwbGUiLCJJbmtSaXBwbGVTZXJ2aWNlIiwiSW5rUmlwcGxlQ3RybCIsInJpcHBsZU9wdGlvbnMiLCJtb3VzZWRvd24iLCJyaXBwbGVzIiwibGFzdFJpcHBsZSIsImNyZWF0ZUNvbnRhaW5lciIsImNyZWF0ZVJpcHBsZSIsInNldENvbG9yIiwiY29sb3IiLCJiaW5kRXZlbnRzIiwiYXV0b0NsZWFudXAiLCJjbGVhbnVwRm4iLCJhdHRyTm9EaXJlY3RpdmUiLCJEVVJBVElPTiIsImdldEVsZW1lbnRDb2xvciIsImNvbG9yRWxlbWVudCIsIl9jb2xvciIsIl9wYXJzZUNvbG9yIiwiaW5rUmlwcGxlIiwiY2FsY3VsYXRlQ29sb3IiLCJtdWx0aXBsaWVyIiwiaGV4VG9SR0JBIiwiZGlnIiwicmVkIiwiZ3JlZW4iLCJibHVlIiwicmdiVG9SR0JBIiwiaGFuZGxlTW91c2Vkb3duIiwiaGFuZGxlTW91c2V1cCIsImhhbmRsZVRvdWNobW92ZSIsInNyY0VsZW1lbnQiLCJsYXllclJlY3QiLCJsYXllclgiLCJsYXllclkiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImNsZWFyUmlwcGxlcyIsImRlbGV0ZVJpcHBsZXMiLCJmYWRlSW5Db21wbGV0ZSIsImlzUmlwcGxlQWxsb3dlZCIsInJnYmFUb1JHQiIsImdldFNpemUiLCJmaXQiLCJyaXBwbGUiLCJiYWNrZ3JvdW5kIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJyZW1vdmVSaXBwbGUiLCJmYWRlT3V0Q29tcGxldGUiLCJNZFRhYklua1JpcHBsZSIsIjUwIiwiMTAwIiwiMjAwIiwiMzAwIiwiNDAwIiwiNTAwIiwiNjAwIiwiNzAwIiwiODAwIiwiOTAwIiwiQTEwMCIsIkEyMDAiLCJBNDAwIiwiQTcwMCIsImNvbnRyYXN0RGVmYXVsdENvbG9yIiwiY29udHJhc3REYXJrQ29sb3JzIiwiY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyIsInBpbmsiLCJwdXJwbGUiLCJkZWVwLXB1cnBsZSIsImluZGlnbyIsImxpZ2h0LWJsdWUiLCJjb250cmFzdExpZ2h0Q29sb3JzIiwiY3lhbiIsInRlYWwiLCJsaWdodC1ncmVlbiIsImxpbWUiLCJ5ZWxsb3ciLCJhbWJlciIsIm9yYW5nZSIsImRlZXAtb3JhbmdlIiwiYnJvd24iLCJncmV5IiwiMTAwMCIsImJsdWUtZ3JleSIsIlRoZW1pbmdQcm92aWRlciIsIiRtZENvbG9yUGFsZXR0ZSIsImRlZmluZVBhbGV0dGUiLCJQQUxFVFRFUyIsImNoZWNrUGFsZXR0ZVZhbGlkIiwidGhlbWluZ1Byb3ZpZGVyIiwiZXh0ZW5kUGFsZXR0ZSIsIm1pc3NpbmdDb2xvcnMiLCJWQUxJRF9IVUVfVkFMVUVTIiwiZmllbGQiLCJyZWdpc3RlclRoZW1lIiwiaW5oZXJpdEZyb20iLCJUSEVNRVMiLCJwYXJlbnRUaGVtZSIsIlRoZW1lIiwiY29sb3JzIiwiY29sb3JUeXBlIiwiaHVlcyIsInNldERhcmsiLCJpc0RhcmsiLCJmb3JlZ3JvdW5kUGFsZXR0ZSIsIkxJR0hUX0ZPUkVHUk9VTkQiLCJEQVJLX0ZPUkVHUk9VTkQiLCJmb3JlZ3JvdW5kU2hhZG93IiwiREFSS19TSEFET1ciLCJMSUdIVF9TSEFET1ciLCJuZXdEZWZhdWx0SHVlcyIsIkRBUktfREVGQVVMVF9IVUVTIiwiTElHSFRfREVGQVVMVF9IVUVTIiwib2xkRGVmYXVsdEh1ZXMiLCJuZXdEZWZhdWx0cyIsIm9sZERlZmF1bHRzIiwiaHVlTmFtZSIsImRhcmsiLCJUSEVNRV9DT0xPUl9UWVBFUyIsImRlZmF1bHRIdWVzIiwicGFsZXR0ZU5hbWUiLCJodWVWYWx1ZSIsIlRoZW1pbmdTZXJ2aWNlIiwicmVnaXN0ZXJlZCIsInRoZW1lTmFtZSIsImFwcGx5VGhlbWUiLCJjaGFuZ2VUaGVtZSIsIm9sZFRoZW1lIiwiYXR0clRoZW1lVmFsdWUiLCJhbHdheXNXYXRjaFRoZW1lIiwiJG1kVGhlbWUiLCJkZWZhdWx0VGhlbWUiLCJnZW5lcmF0ZVRoZW1lIiwic2V0RGVmYXVsdFRoZW1lIiwiYWx3YXlzV2F0Y2giLCJnZW5lcmF0ZVRoZW1lc09uRGVtYW5kIiwib25EZW1hbmQiLCJnZW5lcmF0ZU9uRGVtYW5kIiwiX0xJR0hUX0RFRkFVTFRfSFVFUyIsIl9EQVJLX0RFRkFVTFRfSFVFUyIsIl9QQUxFVFRFUyIsIl9USEVNRVMiLCJfcGFyc2VSdWxlcyIsInBhcnNlUnVsZXMiLCJfcmdiYSIsInJnYmEiLCJUaGVtaW5nRGlyZWN0aXZlIiwiJHNldFRoZW1lIiwibWRUaGVtZSIsIlRoZW1hYmxlRGlyZWN0aXZlIiwiY2hlY2tWYWxpZFBhbGV0dGUiLCJnZW5lcmF0ZWRSdWxlcyIsInRoZW1lTmFtZVJlZ2V4IiwiaHVlUmVnZXgiLCJzaW1wbGVWYXJpYWJsZVJlZ2V4IiwicGFsZXR0ZSIsImh1ZSIsIm9wYWNpdHkiLCJjb250cmFzdCIsIm5ld1J1bGUiLCJodWVUeXBlIiwidGhlbWVSdWxlUmVnZXgiLCJnZW5lcmF0ZUFsbFRoZW1lcyIsInNhbml0aXplUGFsZXR0ZSIsImRlZmF1bHRDb250cmFzdCIsImxpZ2h0Q29sb3JzIiwic3Ryb25nTGlnaHRDb2xvcnMiLCJkYXJrQ29sb3JzIiwiZ2V0Q29udHJhc3RDb2xvciIsIkRBUktfQ09OVFJBU1RfQ09MT1IiLCJTVFJPTkdfTElHSFRfQ09OVFJBU1RfQ09MT1IiLCJMSUdIVF9DT05UUkFTVF9DT0xPUiIsInJnYlZhbHVlIiwiY29sb3JUb1JnYmFBcnJheSIsImZpcnN0RWxlbWVudENoaWxkIiwidGhlbWVDc3MiLCJydWxlIiwicnVsZU1hdGNoUmVnZXgiLCJydWxlc0J5VHlwZSIsIkRFRkFVTFRfQ09MT1JfVFlQRSIsIkdFTkVSQVRFRCIsInN0eWxlU3RyaW5ncyIsInN0eWxlQ29udGVudCIsImFjY2VudCIsImNsciIsImdybiIsImJsdSIsInJnYkFycmF5IiwiMSIsIjIiLCIzIiwiNCIsImRlZmF1bHQiLCJodWUtMSIsImh1ZS0yIiwiaHVlLTMiLCJkZWZhdWx0RGVmYXVsdEh1ZXMiLCJBbmltYXRlRG9tVXRpbHMiLCJ0cmFuc2xhdGUzZCIsInJldmVyc2VUcmFuc2xhdGUiLCJuZXdGcm9tIiwidHJhbnNpdGlvbk91dENsYXNzIiwidHJhbnNpdGlvbkluQ2xhc3MiLCJ3YWl0VHJhbnNpdGlvbkVuZCIsIlRJTUVPVVQiLCJmaW5pc2hlZCIsImNhbGN1bGF0ZVpvb21Ub09yaWdpbiIsIm9yaWdpbmF0b3IiLCJjdXJyZW50Qm91bmRzIiwib3JpZ2luIiwiYm91bmRzIiwiem9vbVRlbXBsYXRlIiwiYnVpbGRab29tIiwiem9vbVN0eWxlIiwiY2VudGVyWCIsImNlbnRlclkiLCJzY2FsZVgiLCJzY2FsZVkiLCJvcmlnaW5CbmRzIiwiY29weVJlY3QiLCJkaWFsb2dSZWN0IiwiZGlhbG9nQ2VudGVyUHQiLCJjZW50ZXJQb2ludEZvciIsIm9yaWdpbkNlbnRlclB0IiwidG9Dc3MiLCJyYXciLCJjb252ZXJ0VG9WZW5kb3IiLCJsb29rdXBzIiwidG9UcmFuc2Zvcm1Dc3MiLCJ0cmFuc2Zvcm0iLCJhZGRUcmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsImlzUG9zaXRpdmVTaXplQ2xpZW50UmVjdCIsInJlY3QiLCJ0YXJnZXRSZWN0IiwiV0VCS0lUIiwiV2Via2l0QXBwZWFyYW5jZSIsIlBSRUZJWCIsIlRSQU5TSVRJT05fRVZFTlRTIiwiQU5JTUFUSU9OX0VWRU5UUyIsIiQkRm9yY2VSZWZsb3dGYWN0b3J5IiwiJCRyQUZNdXRleEZhY3RvcnkiLCIkJHJBRk11dGV4IiwiaGFzQ29tcGxldGVTdHlsZXMiLCJoYXNDb21wbGV0ZUNsYXNzZXMiLCJoYXNDb21wbGV0ZUFuaW1hdGlvbiIsImV2ZW50Rm4iLCJhcHBseUNsYXNzZXMiLCJtb3JlU3R5bGVzIiwiY3MiLCJ0ZHIiLCJhZHIiLCJ0ZHkiLCJhZHkiLCJjYW5jZWxMYXN0UkFGUmVxdWVzdCIsIk1kQm90dG9tU2hlZXREaXJlY3RpdmUiLCIkbWRCb3R0b21TaGVldCIsIk1kQm90dG9tU2hlZXRQcm92aWRlciIsIiQkaW50ZXJpbUVsZW1lbnRQcm92aWRlciIsImJvdHRvbVNoZWV0RGVmYXVsdHMiLCJiYWNrZHJvcCIsImNsaWNrT3V0c2lkZVRvQ2xvc2UiLCJib3R0b21TaGVldCIsIkJvdHRvbVNoZWV0IiwiZGlzYWJsZVBhcmVudFNjcm9sbCIsInJlc3RvcmVTY3JvbGwiLCJmb2N1c2FibGUiLCJlc2NhcGVUb0Nsb3NlIiwicm9vdEVsZW1lbnRLZXl1cENhbGxiYWNrIiwiY2xlYW51cCIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnIiwiUEFERElORyIsIm9uRHJhZ0VuZCIsIkNMT1NJTkdfVkVMT0NJVFkiLCJkaXN0YW5jZVJlbWFpbmluZyIsInBvc3RMaW5rIiwiaFZpZXdwb3J0IiwiRVJST1JfQ1NTX1BPU0lUSU9OIiwiTWRCdXR0b25EaXJlY3RpdmUiLCIkbWRBcmlhIiwiaXNBbmNob3IiLCJuZ0hyZWYiLCJuZ0xpbmsiLCJ1aVNyZWYiLCJnZXRUZW1wbGF0ZSIsImJ0blR5cGUiLCJlbGVtZW50SGFzVGV4dCIsIm5nRGlzYWJsZWQiLCJpc0Rpc2FibGVkIiwibW91c2VBY3RpdmUiLCJtZENhcmREaXJlY3RpdmUiLCJNZENoZWNrYm94RGlyZWN0aXZlIiwidmFsdWVPcHRzIiwia2V5cHJlc3NIYW5kbGVyIiwibmdDaGVja2VkIiwicmVuZGVyIiwiQ0hFQ0tFRF9DU1MiLDAsIm1kQ29udGVudERpcmVjdGl2ZSIsIkNvbnRlbnRDb250cm9sbGVyIiwiaW9zU2Nyb2xsRml4IiwiJG1hdGVyaWFsU2Nyb2xsRml4ZWQiLCJvZmZzZXRIZWlnaHQiLCJjYWxlbmRhckRpcmVjdGl2ZSIsIlRCT0RZX1NJTkdMRV9ST1dfSEVJR0hUIiwiVEJPRFlfSEVJR0hUIiwibWluRGF0ZSIsIm1heERhdGUiLCJDYWxlbmRhckN0cmwiLCJtZENhbGVuZGFyQ3RybCIsImNvbmZpZ3VyZU5nTW9kZWwiLCIkJG1kRGF0ZVV0aWwiLCIkbWREYXRlTG9jYWxlIiwibnVtTW9udGhzIiwiZ2V0TW9udGhEaXN0YW5jZSIsImRhdGVVdGlsIiwiZGF0ZUxvY2FsZSIsImNhbGVuZGFyRWxlbWVudCIsImNhbGVuZGFyU2Nyb2xsZXIiLCJ0b2RheSIsImNyZWF0ZURhdGVBdE1pZG5pZ2h0IiwiZmlyc3RSZW5kZXJhYmxlRGF0ZSIsImluY3JlbWVudE1vbnRocyIsInNlbGVjdGVkRGF0ZSIsImRpc3BsYXlEYXRlIiwiZm9jdXNEYXRlIiwiaXNNb250aFRyYW5zaXRpb25JblByb2dyZXNzIiwiY2VsbENsaWNrSGFuZGxlciIsImNlbGxFbGVtZW50IiwidGltZXN0YW1wIiwic2V0TmdNb2RlbFZhbHVlIiwiYXR0YWNoQ2FsZW5kYXJFdmVudExpc3RlbmVycyIsIlNFTEVDVEVEX0RBVEVfQ0xBU1MiLCJGT0NVU0VEX0RBVEVfQ0xBU1MiLCJjaGFuZ2VTZWxlY3RlZERhdGUiLCJidWlsZEluaXRpYWxDYWxlbmRhckRpc3BsYXkiLCJidWlsZFdlZWtIZWFkZXIiLCJoaWRlVmVydGljYWxTY3JvbGxiYXIiLCJzY3JvbGxlciIsImhlYWRlcldpZHRoIiwic2Nyb2xsYmFyV2lkdGgiLCJwYWRkaW5nUmlnaHQiLCJoYW5kbGVLZXlFdmVudCIsImdldEZvY3VzRGF0ZUZyb21LZXlFdmVudCIsImJvdW5kRGF0ZUJ5TWluQW5kTWF4IiwiY2hhbmdlRGlzcGxheURhdGUiLCJpbmNyZW1lbnREYXlzIiwiZ2V0Rmlyc3REYXRlT2ZNb250aCIsImdldExhc3REYXRlT2ZNb250aCIsImdldFNlbGVjdGVkTW9udGhJbmRleCIsInNjcm9sbFRvTW9udGgiLCJtb250aERpc3RhbmNlIiwib3B0X2RhdGUiLCJwcmV2aW91c0ZvY3VzIiwiY2xhc3NMaXN0IiwiY2VsbElkIiwiZ2V0RGF0ZUlkIiwiY2VsbCIsImJvdW5kRGF0ZSIsInByZXZpb3VzU2VsZWN0ZWREYXRlIiwicHJldkRhdGVDZWxsIiwiZGF0ZUNlbGwiLCJhbmltYXRpb25Qcm9taXNlIiwiYW5pbWF0ZURhdGVDaGFuZ2UiLCJmaXJzdERheU9mV2VlayIsInNob3J0RGF5cyIsIm1kQ2FsZW5kYXJNb250aERpcmVjdGl2ZSIsIkNhbGVuZGFyTW9udGhDdHJsIiwiY2FsZW5kYXJDdHJsIiwibW9udGhDdHJsIiwiZ2VuZXJhdGVDb250ZW50Iiwib2xkT2Zmc2V0IiwiZm9jdXNBZnRlckFwcGVuZCIsIlRPREFZX0NMQVNTIiwiYnVpbGRDYWxlbmRhckZvck1vbnRoIiwiYnVpbGREYXRlQ2VsbCIsInRhYkluZGV4IiwibG9uZ0RhdGVGb3JtYXR0ZXIiLCJpc1NhbWVEYXkiLCJjZWxsVGV4dCIsImRhdGVzIiwiaXNEYXRlRW5hYmxlZCIsInNlbGVjdGlvbkluZGljYXRvciIsImlzRGF0ZVdpdGhpblJhbmdlIiwiYnVpbGREYXRlUm93Iiwicm93TnVtYmVyIiwid2Vla051bWJlckZvcm1hdHRlciIsIm9wdF9kYXRlSW5Nb250aCIsImZpcnN0RGF5T2ZNb250aCIsImZpcnN0RGF5T2ZUaGVXZWVrIiwiZ2V0TG9jYWxlRGF5XyIsIm51bWJlck9mRGF5c0luTW9udGgiLCJnZXROdW1iZXJPZkRheXNJbk1vbnRoIiwibW9udGhCb2R5IiwiaXNGaW5hbE1vbnRoIiwiYmxhbmtDZWxsT2Zmc2V0IiwibW9udGhMYWJlbENlbGwiLCJtb250aEhlYWRlckZvcm1hdHRlciIsIm1vbnRoTGFiZWxSb3ciLCJkYXlPZldlZWsiLCJpdGVyYXRpb25EYXRlIiwic2V0RGF0ZSIsIndoaXRlc3BhY2VSb3ciLCJEYXRlTG9jYWxlUHJvdmlkZXIiLCJtb250aHMiLCJzaG9ydE1vbnRocyIsImRheXMiLCJmb3JtYXREYXRlIiwibXNnQ2FsZW5kYXIiLCJtc2dPcGVuQ2FsZW5kYXIiLCJkZWZhdWx0Rm9ybWF0RGF0ZSIsImxvY2FsZVRpbWUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJkZWZhdWx0UGFyc2VEYXRlIiwiZGF0ZVN0cmluZyIsImRlZmF1bHRJc0RhdGVDb21wbGV0ZSIsInJlIiwiZGVmYXVsdE1vbnRoSGVhZGVyRm9ybWF0dGVyIiwiZGVmYXVsdFdlZWtOdW1iZXJGb3JtYXR0ZXIiLCJkZWZhdWx0TG9uZ0RhdGVGb3JtYXR0ZXIiLCJkZWZhdWx0U2hvcnREYXlzIiwiZGF5IiwiZGVmYXVsdERhdGVzIiwiZGVmYXVsdE1zZ0NhbGVuZGFyIiwiZGVmYXVsdE1zZ09wZW5DYWxlbmRhciIsImlzRGF0ZUNvbXBsZXRlIiwiZGF0ZVBpY2tlckRpcmVjdGl2ZSIsInBsYWNlaG9sZGVyIiwiRGF0ZVBpY2tlckN0cmwiLCJtZERhdGVQaWNrZXJDdHJsIiwibWRJbnB1dENvbnRhaW5lciIsImlucHV0RWxlbWVudCIsIm5nSW5wdXRFbGVtZW50IiwiaW5wdXRDb250YWluZXIiLCJjYWxlbmRhclBhbmUiLCJjYWxlbmRhckJ1dHRvbiIsImlucHV0TWFzayIsImlzRm9jdXNlZCIsInNldERpc2FibGVkIiwiaXNDYWxlbmRhck9wZW4iLCJjYWxlbmRhclBhbmVPcGVuZWRGcm9tIiwiYm9keUNsaWNrSGFuZGxlciIsImhhbmRsZUJvZHlDbGljayIsIndpbmRvd1Jlc2l6ZUhhbmRsZXIiLCJjbG9zZUNhbGVuZGFyUGFuZSIsImluc3RhbGxQcm9wZXJ0eUludGVyY2VwdG9ycyIsImF0dGFjaENoYW5nZUxpc3RlbmVycyIsImF0dGFjaEludGVyYWN0aW9uTGlzdGVuZXJzIiwiZGV0YWNoQ2FsZW5kYXJQYW5lIiwiRVhUUkFfSU5QVVRfU0laRSIsIkRFRkFVTFRfREVCT1VOQ0VfSU5URVJWQUwiLCJDQUxFTkRBUl9QQU5FX0hFSUdIVCIsIkNBTEVOREFSX1BBTkVfV0lEVEgiLCJyZXNpemVJbnB1dEVsZW1lbnQiLCJ1cGRhdGVFcnJvclN0YXRlIiwiaGFuZGxlSW5wdXRFdmVudCIsImtleUNvZGVzIiwib3BlbkNhbGVuZGFyUGFuZSIsImNsZWFyRXJyb3JTdGF0ZSIsImlucHV0U3RyaW5nIiwic2V0RGF0ZVRpbWVUb01pZG5pZ2h0IiwiaXNWYWxpZElucHV0IiwiYXR0YWNoQ2FsZW5kYXJQYW5lIiwiZWxlbWVudFJlY3QiLCJib2R5UmVjdCIsInBhbmVUb3AiLCJwYW5lTGVmdCIsInZpZXdwb3J0VG9wIiwidmlld3BvcnRMZWZ0Iiwidmlld3BvcnRCb3R0b20iLCJpbm5lckhlaWdodCIsInZpZXdwb3J0UmlnaHQiLCJpbm5lcldpZHRoIiwic2NhbGUiLCJmb2N1c0NhbGVuZGFyIiwiZ2V0Q2FsZW5kYXJDdHJsIiwic2V0Rm9jdXNlZCIsImlzSW5DYWxlbmRhciIsImdldERhdGVJbk5leHRNb250aCIsImdldERhdGVJblByZXZpb3VzTW9udGgiLCJpc1NhbWVNb250aEFuZFllYXIiLCJkMSIsImQyIiwiaXNJbk5leHRNb250aCIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJuZXh0TW9udGgiLCJpc0luUHJldmlvdXNNb250aCIsInByZXZpb3VzTW9udGgiLCJnZXREYXRlTWlkcG9pbnQiLCJnZXRXZWVrT2ZNb250aCIsIm51bWJlck9mRGF5cyIsIm51bWJlck9mTW9udGhzIiwiZGF0ZUluVGFyZ2V0TW9udGgiLCJvcHRfdmFsdWUiLCJNZERpYWxvZ0RpcmVjdGl2ZSIsIiRtZERpYWxvZyIsImFkZE92ZXJmbG93Q2xhc3MiLCJpbWFnZXMiLCJNZERpYWxvZ1Byb3ZpZGVyIiwiYWR2YW5jZWREaWFsb2dPcHRpb25zIiwiZGlhbG9nRGVmYXVsdE9wdGlvbnMiLCJiZWZvcmVTaG93IiwibWRIdG1sQ29udGVudCIsImh0bWxDb250ZW50IiwibWRUZXh0Q29udGVudCIsIndhcm5EZXByZWNhdGVkQWN0aW9ucyIsImJhZEFjdGlvbnMiLCJmb2N1c09uT3BlbiIsImZpbmRDbG9zZUJ1dHRvbiIsImNsb3NlQnV0dG9uIiwiYWN0aW9uQnV0dG9ucyIsImNhcHR1cmVQYXJlbnRBbmRGcm9tVG9FbGVtZW50cyIsImNvbmZpZ3VyZUFyaWEiLCJzaG93QmFja2Ryb3AiLCJkaWFsb2dQb3BJbiIsImFjdGl2YXRlTGlzdGVuZXJzIiwibG9ja1NjcmVlblJlYWRlciIsImFuaW1hdGVSZW1vdmFsIiwiZGlhbG9nUG9wT3V0IiwiZGV0YWNoQW5kQ2xlYW4iLCJkZWFjdGl2YXRlTGlzdGVuZXJzIiwidW5sb2NrU2NyZWVuUmVhZGVyIiwiaGlkZUJhY2tkcm9wIiwidG9wRm9jdXNUcmFwIiwiYm90dG9tRm9jdXNUcmFwIiwib3JpZyIsImhhc0ZuIiwiZ2V0RG9tRWxlbWVudCIsImRlZmF1bHRFbGVtZW50Iiwic2ltcGxlU2VsZWN0b3IiLCJvcGVuRnJvbSIsInRhcmdldEV2ZW50Iiwib25XaW5kb3dSZXNpemUiLCJzdHJldGNoRGlhbG9nQ29udGFpbmVyVG9WaWV3cG9ydCIsInJlbW92ZUxpc3RlbmVycyIsInNtYXJ0Q2xvc2UiLCJrZXlIYW5kbGVyRm4iLCJzb3VyY2VFbGVtIiwibW91c2Vkb3duSGFuZGxlciIsIm1vdXNldXBIYW5kbGVyIiwicmVtb3ZlRm4iLCJoYXNCYWNrZHJvcCIsImRpYWxvZ0NvbnRlbnQiLCJkaWFsb2dJZCIsImFyaWFMYWJlbCIsIndvcmRzIiwiZm9jdXNIYW5kbGVyIiwid2Fsa0RPTSIsImlzRml4ZWQiLCJjZWlsIiwiZGlhbG9nRWwiLCJidWlsZFRyYW5zbGF0ZVRvT3JpZ2luIiwidHJhbnNsYXRlT3B0aW9ucyIsImZ1bGxzY3JlZW4iLCJhbmltYXRlUmV2ZXJzYWwiLCJyZXZlcnNlQW5pbWF0ZSIsImF1dG9XcmFwIiwidmFsaWRhdGVkVGVtcGxhdGUiLCJNZERpdmlkZXJEaXJlY3RpdmUiLCJNZEZhYkFjdGlvbnNEaXJlY3RpdmUiLCJoYXNOZ1JlcGVhdCIsIkZhYkNvbnRyb2xsZXIiLCJzZXR1cERlZmF1bHRzIiwidm0iLCJpc09wZW4iLCJyZXNldEFjdGlvbkluZGV4Iiwic2V0dXBMaXN0ZW5lcnMiLCJldmVudFR5cGVzIiwicGFyc2VFdmVudHMiLCJkaXNhYmxlS2V5Ym9hcmQiLCJoYW5kbGVJdGVtQ2xpY2siLCJjbG9zZVRpbWVvdXQiLCJjdXJyZW50QWN0aW9uSW5kZXgiLCJzZXR1cFdhdGNoZXJzIiwibmV3RGlyIiwib2xkRGlyIiwiYWN0aW9ucyIsImdldFRyaWdnZXJFbGVtZW50IiwiZ2V0QWN0aW9uc0VsZW1lbnQiLCJlbmFibGVLZXlib2FyZCIsImZpcmVJbml0aWFsQW5pbWF0aW9ucyIsImluaXRpYWxBbmltYXRpb25BdHRlbXB0cyIsImtleVByZXNzZWQiLCJjaGVja0Zvck91dHNpZGVDbGljayIsImNsb3Nlc3RUcmlnZ2VyIiwiY2xvc2VzdEFjdGlvbnMiLCJkb0tleUxlZnQiLCJkb0tleVVwIiwiZG9LZXlSaWdodCIsImRvS2V5RG93biIsImRvQWN0aW9uUHJldiIsImZvY3VzQWN0aW9uIiwiZG9BY3Rpb25OZXh0IiwicmVzZXRBY3Rpb25UYWJJbmRleGVzIiwiZm9jdXNFbGVtZW50IiwiaXNUcmlnZ2VyIiwiaXNBY3Rpb24iLCJ0b2dnbGUiLCJNZEZhYlNwZWVkRGlhbERpcmVjdGl2ZSIsIkZhYlNwZWVkRGlhbExpbmsiLCJNZEZhYlNwZWVkRGlhbEZsaW5nQW5pbWF0aW9uIiwiZGVsYXlEb25lIiwiY3NzQW5pbWF0aW9uRHVyYXRpb24iLCJydW5BbmltYXRpb24iLCJ0cmlnZ2VyRWxlbWVudCIsInZhcmlhYmxlc0VsZW1lbnQiLCJzdGFydFpJbmRleCIsIndlYmtpdFRyYW5zZm9ybSIsIm5ld1Bvc2l0aW9uIiwidHJpZ2dlckl0ZW1IZWlnaHRPZmZzZXQiLCJ0cmlnZ2VySXRlbVdpZHRoT2Zmc2V0Iiwic2Nyb2xsV2lkdGgiLCJuZXdUcmFuc2xhdGUiLCJNZEZhYlNwZWVkRGlhbFNjYWxlQW5pbWF0aW9uIiwib2Zmc2V0RGVsYXkiLCJNZEZhYlRvb2xiYXJEaXJlY3RpdmUiLCJNZEZhYlRvb2xiYXJBbmltYXRpb24iLCJiYWNrZ3JvdW5kRWxlbWVudCIsInRvb2xiYXJFbGVtZW50IiwiaWNvbkVsZW1lbnQiLCJib3JkZXJSYWRpdXMiLCJwb2ludGVyRXZlbnRzIiwiTWRGYWJUcmlnZ2VyRGlyZWN0aXZlIiwiR3JpZExpc3REaXJlY3RpdmUiLCIkbWRHcmlkTGF5b3V0Iiwid2F0Y2hNZWRpYSIsImludmFsaWRhdGVMYXlvdXQiLCJsYXlvdXRJZk1lZGlhTWF0Y2giLCJ1bndhdGNoTWVkaWEiLCJsYXlvdXREZWxlZ2F0ZSIsInVud2F0Y2hBdHRycyIsInJlbW92ZUxpc3RlbmVyIiwidGlsZXNJbnZhbGlkYXRlZCIsInRpbGVzIiwiZ2V0VGlsZUVsZW1lbnRzIiwicHJvcHMiLCJ0aWxlU3BhbnMiLCJnZXRUaWxlU3BhbnMiLCJjb2xDb3VudCIsImdldENvbHVtbkNvdW50Iiwicm93TW9kZSIsImdldFJvd01vZGUiLCJyb3dIZWlnaHQiLCJnZXRSb3dIZWlnaHQiLCJndXR0ZXIiLCJnZXRHdXR0ZXIiLCJsYXN0TGF5b3V0UHJvcHMiLCJ0aWxlUG9zaXRpb25zIiwicm93Q291bnQiLCJncmlkIiwiZ2V0R3JpZFN0eWxlIiwicHMiLCJnZXRUaWxlU3R5bGUiLCJzcGFucyIsInJlZmxvdyIsIm1kT25MYXlvdXQiLCJleHByU3RyIiwiaFNoYXJlIiwiaEd1dHRlclNoYXJlIiwiaFVuaXQiLCJVTklUIiwic2hhcmUiLCJndXR0ZXJTaGFyZSIsIlBPU0lUSU9OIiwidW5pdCIsIkRJTUVOU0lPTiIsInNwYW4iLCJwYWRkaW5nVG9wIiwibWFyZ2luVG9wIiwidlNoYXJlIiwidlVuaXQiLCJ2R3V0dGVyU2hhcmUiLCJwYWRkaW5nQm90dG9tIiwiZWxlIiwiJCRtZERlc3Ryb3llZCIsInRpbGVFbGVtZW50cyIsImFwcGx5RGVmYXVsdFVuaXQiLCJ3aFJhdGlvIiwiR3JpZExpc3RDb250cm9sbGVyIiwibGF5b3V0SW52YWxpZGF0ZWQiLCIkdGltZW91dF8iLCJHcmlkTGF5b3V0RmFjdG9yeSIsIkdyaWRMYXlvdXQiLCJsYXlvdXRJbmZvIiwiZ3JpZFN0eWxlcyIsImxheW91dFRpbWUiLCJtYXBUaW1lIiwicmVmbG93VGltZSIsImNhbGN1bGF0ZUdyaWRGb3IiLCJwb3NpdGlvbmluZyIsImFuaW1hdG9yRm4iLCJkZWZhdWx0QW5pbWF0b3IiLCJ0aWxlQ291bnQiLCJ0b3RhbFRpbWUiLCJHcmlkVGlsZUFuaW1hdG9yIiwicmVzZXJ2ZVNwYWNlIiwiY3VyQ29sIiwibmV4dFJvdyIsInNwYWNlVHJhY2tlciIsImZpbmRFbmQiLCJhZGp1c3RSb3ciLCJjdXJSb3ciLCJjb2xzIiwiYnkiLCJuZXdTcGFjZVRyYWNrZXIiLCJ0cmFja2VyIiwiYW5pbWF0ZVdpdGgiLCJjdXN0b21BbmltYXRvciIsIkdyaWRUaWxlRGlyZWN0aXZlIiwiZ3JpZEN0cmwiLCJpbnZhbGlkYXRlVGlsZXMiLCJuZXdJZHgiLCJvbGRJZHgiLCJHcmlkVGlsZUNhcHRpb25EaXJlY3RpdmUiLCJsYXlvdXQiLCJtZElucHV0Q29udGFpbmVyRGlyZWN0aXZlIiwiQ29udGFpbmVyQ3RybCIsImlzRXJyb3JHZXR0ZXIiLCJtZElzRXJyb3IiLCJkZWxlZ2F0ZUNsaWNrIiwic2V0SGFzVmFsdWUiLCJzZXRIYXNQbGFjZWhvbGRlciIsImhhc1BsYWNlaG9sZGVyIiwic2V0SW52YWxpZCIsImlzSW52YWxpZCIsImhhc0xhYmVsQW5kSW5wdXQiLCJsYWJlbERpcmVjdGl2ZSIsImNvbnRhaW5lckN0cmwiLCJtZE5vRmxvYXQiLCJpbnB1dFRleHRhcmVhRGlyZWN0aXZlIiwibmdNb2RlbFBpcGVsaW5lQ2hlY2tWYWx1ZSIsImlucHV0Q2hlY2tWYWx1ZSIsInNldHVwVGV4dGFyZWEiLCJwaXBlbGluZUxpc3RlbmVyIiwib25DaGFuZ2VUZXh0YXJlYSIsImdyb3dUZXh0YXJlYSIsIm1pbl9yb3dzIiwiZ2V0SGVpZ2h0IiwibGluZUhlaWdodCIsIm1pbkhlaWdodCIsInJvd3MiLCJvblNjcm9sbCIsImhhbmRsZUhpZGRlbkNoYW5nZSIsIndhc0hpZGRlbiIsImhhc05nTW9kZWwiLCJpc1JlYWRvbmx5IiwicmVhZG9ubHkiLCJlcnJvcnNTcGFjZXIiLCJtZE1heGxlbmd0aERpcmVjdGl2ZSIsInJlbmRlckNoYXJDb3VudCIsImNoYXJDb3VudEVsIiwibWRNYXhsZW5ndGgiLCJwbGFjZWhvbGRlckRpcmVjdGl2ZSIsImhhc05vRmxvYXQiLCJwbGFjZWhvbGRlclRleHQiLCJuZ01lc3NhZ2VzRGlyZWN0aXZlIiwibWRBdXRvSGlkZSIsImhhc1Zpc2liaWx0eURpcmVjdGl2ZSIsInZpc2liaWxpdHlEaXJlY3RpdmVzIiwibmdNZXNzYWdlRGlyZWN0aXZlIiwibWRJbnB1dEludmFsaWRNZXNzYWdlc0FuaW1hdGlvbiIsIm1lc3NhZ2VzIiwiZ2V0TWVzc2FnZXNFbGVtZW50Iiwic2hvd0lucHV0TWVzc2FnZXMiLCJuZ01lc3NhZ2VzQW5pbWF0aW9uIiwiaGlkZUlucHV0TWVzc2FnZXMiLCJuZ01lc3NhZ2VBbmltYXRpb24iLCJzaG93TWVzc2FnZSIsImhpZGVNZXNzYWdlIiwiYW5pbWF0b3JzIiwibWFyZ2luLXRvcCIsImdldElucHV0RWxlbWVudCIsIm1kTGlzdERpcmVjdGl2ZSIsInRFbCIsIm1kTGlzdEl0ZW1EaXJlY3RpdmUiLCJwcm94aWVkVHlwZXMiLCJzZXR1cFRvZ2dsZUFyaWEiLCJ0b2dnbGVUeXBlIiwidG9nZ2xlVHlwZXMiLCJ3cmFwSW4iLCJjb3B5QXR0cmlidXRlcyIsIndyYXBTZWNvbmRhcnkiLCJzZWNvbmRhcnlJdGVtIiwiaXNCdXR0b24iLCJidXR0b25XcmFwcGVyIiwiaXNQcm94aWVkRWxlbWVudCIsImNvcGllZEF0dHJzIiwiaGFzQ2xpY2tFdmVudCIsImNvbXB1dGVQcm94aWVzIiwicHJveGllcyIsImNvbXB1dGVDbGlja2FibGUiLCJoYXNDbGljayIsImF0dGFjaFJpcHBsZSIsInByb3h5IiwicHJveHlPbkJsdXIiLCJjbGljayIsInBhcmVudEJ1dHRvbiIsImhhc1Byb3hpZWRFbGVtZW50IiwicHJveHlFbGVtZW50IiwibmdBdHRyVWlTcmVmIiwiTWRMaXN0Q29udHJvbGxlciIsIiRtZExpc3RJbmtSaXBwbGUiLCJNZFByb2dyZXNzQ2lyY3VsYXJEaXJlY3RpdmUiLCJ3YXRjaEF0dHJpYnV0ZXMiLCJwZXJjZW50VmFsdWUiLCJjbGFtcCIsIk1PREVfREVURVJNSU5BVEUiLCJhbmltYXRlSW5kaWNhdG9yIiwiTU9ERV9JTkRFVEVSTUlOQVRFIiwic3Bpbm5lcldyYXBwZXIiLCJsYXN0TW9kZSIsInVwZGF0ZVNjYWxlIiwiY2lyY2xlIiwiZ2V0RGlhbWV0ZXJSYXRpbyIsInRvVmVuZG9yQ1NTIiwidmFsaWRhdGVNb2RlIiwibWRNb2RlIiwibGVmdEMiLCJyaWdodEMiLCJnYXAiLCJnYXBTdHlsZXMiLCJyZW1vdmVFbXB0eVZhbHVlcyIsImJvcmRlckJvdHRvbUNvbG9yIiwibGVmdFN0eWxlcyIsInJpZ2h0U3R5bGVzIiwibWREaWFtZXRlciIsIkRFRkFVTFRfU0NBTElORyIsIkRFRkFVTFRfUFJPR1JFU1NfU0laRSIsIk1kUHJvZ3Jlc3NMaW5lYXJEaXJlY3RpdmUiLCJNT0RFX1FVRVJZIiwiYmFyMiIsImJhcjEiLCJNT0RFX0JVRkZFUiIsIm1kUmFkaW9Hcm91cERpcmVjdGl2ZSIsImxpbmtSYWRpb0dyb3VwIiwic2V0Rm9jdXMiLCJrZXlkb3duTGlzdGVuZXIiLCJjdXJyZW50VGFyZ2V0IiwicmdDdHJsIiwic2VsZWN0UHJldmlvdXMiLCJzZWxlY3ROZXh0IiwiUmFkaW9Hcm91cENvbnRyb2xsZXIiLCJfcmFkaW9CdXR0b25SZW5kZXJGbnMiLCJjcmVhdGVSYWRpb0dyb3VwQ29udHJvbGxlclByb3RvIiwiX25nTW9kZWxDdHJsIiwicmJSZW5kZXIiLCJzZXRWaWV3VmFsdWUiLCJnZXRWaWV3VmFsdWUiLCJjaGFuZ2VTZWxlY3RlZEJ1dHRvbiIsInNldEFjdGl2ZURlc2NlbmRhbnQiLCJyYWRpb0lkIiwiaW5jcmVtZW50IiwiYnV0dG9ucyIsIm1kUmFkaW9CdXR0b25EaXJlY3RpdmUiLCJpbml0aWFsaXplIiwibWFya1BhcmVudEFzQ2hlY2tlZCIsImxhc3RDaGVja2VkIiwiYnVpbGRBcmlhSUQiLCJhcmlhSWQiLCJhcmlhLWNoZWNrZWQiLCJTZWxlY3REaXJlY3RpdmUiLCIkbWRTZWxlY3QiLCJ2YWx1ZUVsIiwibWRPbk9wZW4iLCJhdXRvZmlsbENsb25lIiwibmctbW9kZWwiLCJhcmlhLWhpZGRlbiIsIm5ld0VsIiwic2VsZWN0VGVtcGxhdGUiLCJpbml0QXJpYUxhYmVsIiwibGFiZWxUZXh0IiwiYXJpYUxhYmVsQmFzZSIsInN5bmNMYWJlbFRleHQiLCJzZWxlY3RDb250YWluZXIiLCJzZWxlY3RNZW51Q3RybCIsIm1kU2VsZWN0Q3RybCIsInNldExhYmVsVGV4dCIsInNlbGVjdGVkTGFiZWxzIiwic3luY0FyaWFMYWJlbCIsImFyaWFMYWJlbHMiLCJmaW5kU2VsZWN0Q29udGFpbmVyIiwic2VsZWN0U2NvcGUiLCJoYW5kbGVLZXlwcmVzcyIsImFsbG93ZWRDb2RlcyIsIm9wZW5TZWxlY3QiLCJvcHROb2RlRm9yS2V5Ym9hcmRTZWFyY2giLCJvcHRpb25DdHJsIiwiaXNNdWx0aXBsZSIsImRlc2VsZWN0IiwicmVmcmVzaFZpZXdWYWx1ZSIsInByZXNlcnZlRWxlbWVudCIsImxvYWRpbmdBc3luYyIsInVudG91Y2hlZCIsInNlbGVjdEVsIiwib3JpZ2luYWxSZW5kZXIiLCJzZXRJc1BsYWNlaG9sZGVyIiwidG1wUGxhY2Vob2xkZXIiLCJpc1BsYWNlaG9sZGVyIiwidHJpZ2dlckNsb3NlIiwibWRPbkNsb3NlIiwiZGVyZWdpc3RlcldhdGNoZXIiLCJwcmV2VmFsIiwic2V0TXVsdGlwbGUiLCJhcmlhLWRpc2FibGVkIiwiYXJpYUF0dHJzIiwiYXJpYS1leHBhbmRlZCIsImFyaWEtbXVsdGlzZWxlY3RhYmxlIiwibmdNdWx0aXBsZSIsImNvbnRhaW5lcklkIiwiU2VsZWN0TWVudURpcmVjdGl2ZSIsInByZUxpbmsiLCJrZXlMaXN0ZW5lciIsImNsaWNrTGlzdGVuZXIiLCJvcHRpb25IYXNoS2V5IiwiaGFzaEdldHRlciIsImlzU2VsZWN0ZWQiLCJTZWxlY3RNZW51Q29udHJvbGxlciIsInJlbmRlck11bHRpcGxlIiwibmV3U2VsZWN0ZWRWYWx1ZXMiLCJvbGRTZWxlY3RlZCIsIm5ld1NlbGVjdGVkSGFzaGVzIiwiZGVzZWxlY3RlZCIsInJlbmRlclNpbmd1bGFyIiwiZGVyZWdpc3RlckNvbGxlY3Rpb25XYXRjaCIsImRlZmF1bHRJc0VtcHR5IiwidmFsaWRhdGVBcnJheSIsIm1vZGVsQmluZGluZyIsImNsZWFyU2VhcmNoVGltZW91dCIsIm9wdE5vZGVzIiwib3B0VGV4dCIsInNlYXJjaFN0ciIsIkNMRUFSX1NFQVJDSF9BRlRFUiIsInRyYWNrQnlMb2NhbHMiLCJ0cmFja0J5UGFyc2VkIiwidmFsdWVTY29wZSIsIiR2YWx1ZSIsIiQkbWRTZWxlY3RJZCIsInNlbGVjdE5leHRJZCIsInNlbGVjdGVkT3B0aW9uRWxzIiwibWFwRm4iLCJoYXNoZWRWYWx1ZSIsInNldFNlbGVjdGVkIiwidXNpbmdUcmFja0J5IiwiT3B0aW9uRGlyZWN0aXZlIiwic2V0T3B0aW9uVmFsdWUiLCJwcmV2QXR0ZW1wdCIsIm9sZEhhc2hLZXkiLCJuZXdIYXNoS2V5IiwiYXJpYS1zZWxlY3RlZCIsIk9wdGlvbkNvbnRyb2xsZXIiLCJPcHRncm91cERpcmVjdGl2ZSIsImxhYmVsRWxlbWVudCIsIlNlbGVjdFByb3ZpZGVyIiwic2VsZWN0RGVmYXVsdE9wdGlvbnMiLCJjbGVhbkVsZW1lbnQiLCJhbm5vdW5jZUNsb3NlZCIsInJlc3RvcmVGb2N1cyIsImNsZWFudXBJbnRlcmFjdGlvbiIsImNsZWFudXBSZXNpemluZyIsInNob3dEcm9wRG93biIsInBvc2l0aW9uQW5kRm9jdXNNZW51IiwiaXNSZW1vdmVkIiwiY2FsY3VsYXRlTWVudVBvc2l0aW9ucyIsImRyb3BEb3duIiwiYXV0b0ZvY3VzIiwiZm9jdXNlZE5vZGUiLCJzYW5pdGl6ZUFuZENvbmZpZ3VyZSIsIkVSUlJPUl9UQVJHRVRfRVhQRUNURUQiLCJjb250ZW50RWwiLCJvcHRpb25Ob2RlcyIsImFjdGl2YXRlUmVzaXppbmciLCJkZWJvdW5jZWRPblJlc2l6ZSIsInVwZGF0ZXMiLCJ3YXRjaEFzeW5jTG9hZCIsIiQkbG9hZGluZ0FzeW5jRG9uZSIsInByb2dyZXNzTW9kZSIsImFjdGl2YXRlSW50ZXJhY3Rpb24iLCJvbkJhY2tkcm9wQ2xpY2siLCJvbk1lbnVLZXlEb3duIiwiZm9jdXNQcmV2T3B0aW9uIiwiZm9jdXNOZXh0T3B0aW9uIiwiY2hlY2tDbG9zZU1lbnUiLCJvcHROb2RlIiwiZm9jdXNPcHRpb24iLCJuZXdPcHRpb24iLCJvcHRpb25zQXJyYXkiLCJtb3VzZU9uU2Nyb2xsYmFyIiwiY2xpY2tPblNjcm9sbGJhciIsImhhc1Njcm9sbGJhciIsInJlbFBvc1giLCJhbHJlYWR5T3BlbiIsIm1kU2VsZWN0IiwibWVudUNvbnRyb2xsZXIiLCJjZW50ZXJlZE5vZGUiLCJzZWxlY3ROb2RlIiwiY29udGVudE5vZGUiLCJwYXJlbnRSZWN0Iiwic2hvdWxkT3BlbkFyb3VuZFRhcmdldCIsIlNFTEVDVF9FREdFX01BUkdJTiIsInNwYWNlQXZhaWxhYmxlIiwibWF4V2lkdGgiLCJzZWxlY3RlZE5vZGUiLCJvcHRncm91cE5vZGVzIiwiaXNTY3JvbGxhYmxlIiwiY2FsY3VsYXRlU2Nyb2xsYWJsZSIsImxvYWRpbmciLCJzZWxlY3RNZW51UmVjdCIsImNlbnRlcmVkUmVjdCIsImdldE9mZnNldFJlY3QiLCJjZW50ZXJlZFN0eWxlIiwicGFkZGluZ0xlZnQiLCJzY3JvbGxCdWZmZXIiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJtaW5XaWR0aCIsImNvbnRhaW5lclJlY3QiLCJtaW4td2lkdGgiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib2xkRGlzcGxheSIsImNyZWF0ZURpcmVjdGl2ZSIsInRhcmdldFZhbHVlIiwidW5yZWdpc3RlciIsIlNpZGVuYXZTZXJ2aWNlIiwiJG1kQ29tcG9uZW50UmVnaXN0cnkiLCJ3YWl0Rm9ySW5zdGFuY2UiLCJlcnJvck1zZyIsImlzTG9ja2VkT3BlbiIsImNhbGxiYWNrRm4iLCJTaWRlbmF2Rm9jdXNEaXJlY3RpdmUiLCJzaWRlbmF2Q3RybCIsIlNpZGVuYXZEaXJlY3RpdmUiLCJ1cGRhdGVJc0xvY2tlZCIsImlzTG9ja2VkIiwidXBkYXRlSXNPcGVuIiwiZm9jdXNFbCIsIm9uS2V5RG93biIsInRyaWdnZXJpbmdFbGVtZW50IiwiYWN0aXZlRWxlbWVudCIsImxhc3RQYXJlbnRPdmVyRmxvdyIsInRvZ2dsZU9wZW4iLCJpc0VzY2FwZSIsImlzTG9ja2VkT3BlblBhcnNlZCIsIm1kSXNMb2NrZWRPcGVuIiwiJG1lZGlhIiwiJHRvZ2dsZU9wZW4iLCJTaWRlbmF2Q29udHJvbGxlciIsIm1kQ29tcG9uZW50SWQiLCJTbGlkZXJEaXJlY3RpdmUiLCJ1cGRhdGVBbGwiLCJyZWZyZXNoU2xpZGVyRGltZW5zaW9ucyIsIm5nTW9kZWxSZW5kZXIiLCJyZWRyYXdUaWNrcyIsInVwZGF0ZU1pbiIsInVwZGF0ZU1heCIsInVwZGF0ZVN0ZXAiLCJzdGVwIiwidXBkYXRlQXJpYURpc2FibGVkIiwibWREaXNjcmV0ZSIsIm51bVN0ZXBzIiwidGlja0NhbnZhcyIsInRpY2tDb250YWluZXIiLCJ0cmFja1RpY2tzU3R5bGUiLCJ0aWNrQ3R4IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImRpbWVuc2lvbnMiLCJnZXRTbGlkZXJEaW1lbnNpb25zIiwiZmlsbFJlY3QiLCJzbGlkZXJEaW1lbnNpb25zIiwidHJhY2tDb250YWluZXIiLCJ0aHJvdHRsZWRSZWZyZXNoRGltZW5zaW9ucyIsImNoYW5nZUFtb3VudCIsInNldE1vZGVsVmFsdWUiLCJtaW5NYXhWYWxpZGF0b3IiLCJzdGVwVmFsaWRhdG9yIiwicGVyY2VudCIsInNldFNsaWRlclBlcmNlbnQiLCJ0aHVtYlRleHQiLCJmb3JtYXR0ZWRWYWx1ZSIsInBlcmNlbnRTdHIiLCJhY3RpdmVUcmFjayIsInRodW1iQ29udGFpbmVyIiwib25QcmVzc0Rvd24iLCJpc0Rpc2FibGVkR2V0dGVyIiwiZXhhY3RWYWwiLCJwZXJjZW50VG9WYWx1ZSIsInBvc2l0aW9uVG9QZXJjZW50IiwiY2xvc2VzdFZhbCIsInZhbHVlVG9QZXJjZW50Iiwib25QcmVzc1VwIiwiaXNEcmFnZ2luZyIsInNldFNsaWRlckZyb21FdmVudCIsImlzRGlzY3JldGUiLCJhZGp1c3RUaHVtYlBvc2l0aW9uIiwiZG9TbGlkZSIsInRodW1iIiwic3RvcERpc2FibGVkV2F0Y2giLCJkZWJvdW5jZWRVcGRhdGVBbGwiLCJNZFN0aWNreSIsInNldHVwU3RpY2t5IiwiY29udGVudEN0cmwiLCJzdGlja3lDbG9uZSIsImRlYm91bmNlZFJlZnJlc2hFbGVtZW50cyIsInJlZnJlc2hFbGVtZW50cyIsInJlZnJlc2hQb3NpdGlvbiIsImN1cnJlbnRTY3JvbGxUb3AiLCJzZXRDdXJyZW50SXRlbSIsImlzU2Nyb2xsaW5nRG93biIsInByZXZTY3JvbGxUb3AiLCJ0cmFuc2xhdGUiLCJwcmV2Iiwic2V0U3RpY2t5U3RhdGUiLCJ0cmFuc2xhdGVZIiwic2V0dXBBdWdtZW50ZWRTY3JvbGxFdmVudHMiLCJjaGVja1N0aWNreVN1cHBvcnQiLCIkZWwiLCJzdGlja3lQcm9wIiwidGVzdEVsIiwic3RpY2t5UHJvcHMiLCJ6LWluZGV4IiwibG9vcFNjcm9sbEV2ZW50IiwibGFzdFNjcm9sbFRpbWUiLCJTQ1JPTExfRU5EX0RFTEFZIiwiaXNTY3JvbGxpbmciLCJicm93c2VyU3RpY2t5U3VwcG9ydCIsIiQkc3RpY2t5IiwiTWRTdWJoZWFkZXJEaXJlY3RpdmUiLCIkbWRTdGlja3kiLCJnZXRDb250ZW50Iiwid3JhcHBlckh0bWwiLCJnZXREaXJlY3RpdmUiLCJEaXJlY3RpdmVGYWN0b3J5IiwiTWRTd2l0Y2giLCJtZENoZWNrYm94RGlyZWN0aXZlIiwibWRTd2l0Y2hDb21waWxlIiwiY2hlY2tib3hMaW5rIiwiY2hlY2tib3hEaXJlY3RpdmUiLCJkaXNhYmxlZEdldHRlciIsImRyYWciLCJpc0NoYW5nZWQiLCJhcHBseU1vZGVsVmFsdWUiLCJzd2l0Y2hDb250YWluZXIiLCJNZFRvYXN0RGlyZWN0aXZlIiwiJG1kVG9hc3QiLCJNZFRvYXN0UHJvdmlkZXIiLCJ1cGRhdGVUZXh0Q29udGVudCIsIm5ld0NvbnRlbnQiLCJhY3RpdmVUb2FzdENvbnRlbnQiLCJ0b2FzdERlZmF1bHRPcHRpb25zIiwiaXNTbVNjcmVlbiIsIm9uU3dpcGUiLCJnZXN0dXJlIiwic3dpcGUiLCJvcGVuQ2xhc3MiLCJ0b2FzdE9wZW5DbGFzcyIsIlNXSVBFX0VWRU5UUyIsInNob3VsZEFkZFdyYXBwZXIiLCJwYXJzZWRUZW1wbGF0ZSIsIndyYXBwZWRDb250ZW50IiwiQUNUSU9OX1JFU09MVkUiLCJtZFRvb2xiYXJEaXJlY3RpdmUiLCJzZXR1cFNjcm9sbFNocmluayIsIm9uQ2hhbmdlU2Nyb2xsU2hyaW5rIiwic2hyaW5rV2l0aFNjcm9sbCIsImNsb3Nlc3RDb250ZW50IiwiY29udGVudEVsZW1lbnQiLCJvbk1kQ29udGVudExvYWQiLCJkaXNhYmxlU2Nyb2xsU2hyaW5rIiwiZW5hYmxlU2Nyb2xsU2hyaW5rIiwibmV3Q29udGVudEVsIiwiZGVib3VuY2VkQ29udGVudFNjcm9sbCIsIm9uQ29udGVudFNjcm9sbCIsImRlYm91bmNlZFVwZGF0ZUhlaWdodCIsInRvb2xiYXJIZWlnaHQiLCJzaHJpbmtTcGVlZEZhY3RvciIsImhhc1doaXRlRnJhbWUiLCJ1cGRhdGVUb29sYmFySGVpZ2h0IiwibWFyZ2luIiwibWFyZ2luLWJvdHRvbSIsIm1kU2hyaW5rU3BlZWRGYWN0b3IiLCJtZFNjcm9sbFNocmluayIsIk1kVG9vbHRpcERpcmVjdGl2ZSIsIm1kRGVsYXkiLCJUT09MVElQX1NIT1dfREVMQVkiLCJ1cGRhdGVDb250ZW50T3JpZ2luIiwiY29uZmlndXJlV2F0Y2hlcnMiLCJ2aXNpYmxlIiwiaXNWaXNpYmxlIiwic2hvd1Rvb2x0aXAiLCJoaWRlVG9vbHRpcCIsInVwZGF0ZVBvc2l0aW9uIiwiYWRkQXJpYUxhYmVsIiwibWFuaXB1bGF0ZUVsZW1lbnQiLCJ3aW5kb3dTY3JvbGxIYW5kbGVyIiwic2V0VmlzaWJsZSIsIm5nV2luZG93IiwiYXR0cmlidXRlT2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwibXV0YXRpb24iLCJvYnNlcnZlIiwid2luZG93Qmx1ckhhbmRsZXIiLCJlbGVtZW50Rm9jdXNlZE9uV2luZG93Qmx1ciIsImRpc2Nvbm5lY3QiLCJlbnRlckhhbmRsZXIiLCJsZWF2ZUhhbmRsZXIiLCJhdXRvaGlkZSIsInF1ZXVlZCIsInRvb2x0aXBQYXJlbnQiLCJwb3NpdGlvblRvb2x0aXAiLCJmaXRJblBhcmVudCIsInRpcFJlY3QiLCJUT09MVElQX1dJTkRPV19FREdFX1NQQUNFIiwiZ2V0UG9zaXRpb24iLCJkaXIiLCJWaXJ0dWFsUmVwZWF0Q29udGFpbmVyRGlyZWN0aXZlIiwiVmlydHVhbFJlcGVhdENvbnRhaW5lckNvbnRyb2xsZXIiLCJ2aXJ0dWFsUmVwZWF0Q29udGFpbmVyVGVtcGxhdGUiLCJzY3JvbGxTaXplIiwicmVwZWF0ZXIiLCJhdXRvU2hyaW5rIiwiYXV0b1Nocmlua01pbiIsIm1kQXV0b1Nocmlua01pbiIsIm9yaWdpbmFsU2l6ZSIsIm9mZnNldFNpemUiLCJtZE9mZnNldFNpemUiLCJvbGRFbGVtZW50U2l6ZSIsIm1kVG9wSW5kZXgiLCJiaW5kVG9wSW5kZXgiLCJ0b3BJbmRleCIsIm5ld0luZGV4Iiwic2Nyb2xsVG9JbmRleCIsInNpemVyIiwib2Zmc2V0dGVyIiwiYm91bmRVcGRhdGVTaXplIiwidXBkYXRlU2l6ZSIsImRlYm91bmNlZFVwZGF0ZVNpemUiLCJqV2luZG93IiwiVmlydHVhbFJlcGVhdERpcmVjdGl2ZSIsIlZpcnR1YWxSZXBlYXRDb250cm9sbGVyIiwibWRWaXJ0dWFsUmVwZWF0IiwicmVwZWF0TmFtZSIsInJlcGVhdExpc3RFeHByZXNzaW9uIiwiZXh0cmFOYW1lIiwibWRFeHRyYU5hbWUiLCJsaW5rXyIsImJyb3dzZXJDaGVja1VybENoYW5nZSIsIm5ld1N0YXJ0SW5kZXgiLCJuZXdFbmRJbmRleCIsIm5ld1Zpc2libGVFbmQiLCJpdGVtU2l6ZSIsIm1kSXRlbVNpemUiLCJpc0ZpcnN0UmVuZGVyIiwiaXNWaXJ0dWFsUmVwZWF0VXBkYXRpbmdfIiwiaXRlbXNMZW5ndGgiLCJ1bndhdGNoSXRlbVNpemVfIiwiYmxvY2tzIiwicG9vbGVkQmxvY2tzIiwiVmlydHVhbFJlcGVhdE1vZGVsQXJyYXlMaWtlIiwibW9kZWwiLCJnZXRJdGVtQXRJbmRleCIsImdldExlbmd0aCIsIk1BWF9FTEVNRU5UX1NJWkUiLCJOVU1fRVhUUkEiLCJyZXBlYXRlckN0cmwiLCJoYW5kbGVTY3JvbGxfIiwiaXNIb3Jpem9udGFsIiwic2V0U2l6ZV8iLCJkaW1lbnNpb24iLCJnZXREaW1lbnNpb25OYW1lXyIsInVuc2V0U2l6ZV8iLCJjb250YWluZXJVcGRhdGVkIiwiZ2V0U2Nyb2xsU2l6ZSIsInNpemVTY3JvbGxlcl8iLCJjcm9zc0RpbWVuc2lvbiIsIm51bUNoaWxkcmVuIiwic2l6ZXJDaGlsZCIsImF1dG9TaHJpbmtfIiwic2hyaW5rU2l6ZSIsImdldEl0ZW1TaXplIiwiY3VycmVudFNpemUiLCJzZXRTY3JvbGxTaXplIiwiaXRlbXNTaXplIiwiZ2V0U2Nyb2xsT2Zmc2V0IiwicmVzZXRTY3JvbGwiLCJudW1JdGVtcyIsIkJsb2NrIiwicmF3UmVwZWF0TGlzdEV4cHJlc3Npb24iLCJzaXplZCIsInJlcGVhdExpc3RFeHByZXNzaW9uXyIsInJlYWRJdGVtU2l6ZV8iLCJnZXRCbG9ja18iLCJwb29sQmxvY2tfIiwicmVwZWF0TGlzdCIsInZpcnR1YWxMaXN0IiwiJCRpbmNsdWRlSW5kZXhlcyIsIm9sZEl0ZW1zIiwidmlydHVhbFJlcGVhdFVwZGF0ZV8iLCJ1cGRhdGVJbmRleGVzXyIsImxlbmd0aENoYW5nZWQiLCJtZFN0YXJ0SW5kZXgiLCJibG9ja0luZGV4IiwibmV3U3RhcnRCbG9ja3MiLCJuZXdFbmRCbG9ja3MiLCJ1cGRhdGVCbG9ja18iLCJtYXhJbmRleCIsImRvbUZyYWdtZW50RnJvbUJsb2Nrc18iLCJuZXciLCJ1cGRhdGVTY29wZV8iLCJjb250YWluZXJMZW5ndGgiLCJNZEF1dG9jb21wbGV0ZUN0cmwiLCJzZWFyY2hUZXh0Iiwic2VsZWN0ZWRJdGVtIiwiZ2F0aGVyRWxlbWVudHMiLCJtb3ZlRHJvcGRvd24iLCJwb3NpdGlvbkRyb3Bkb3duIiwiZ2V0VmVydGljYWxPZmZzZXQiLCJjb3JyZWN0SG9yaXpvbnRhbEFsaWdubWVudCIsImRyb3Bkb3duIiwic2Nyb2xsQ29udGFpbmVyIiwiTUVOVV9QQURESU5HIiwiaHJlY3QiLCJ2cmVjdCIsInNuYXAiLCJib3QiLCJtZEZsb2F0aW5nTGFiZWwiLCJJTlBVVF9QQURESU5HIiwiTUFYX0hFSUdIVCIsIm1heEhlaWdodCIsImF1dG9mb2N1cyIsImlzUmVxdWlyZWQiLCJoYW5kbGVTZWFyY2hUZXh0Iiwic2VsZWN0ZWRJdGVtQ2hhbmdlIiwidWwiLCJsaSIsImdldFNuYXBUYXJnZXQiLCJnZXRBbmd1bGFyRWxlbWVudHMiLCJvbGRIaWRkZW4iLCJvbkxpc3RFbnRlciIsIm5vQmx1ciIsIm9uTGlzdExlYXZlIiwiaGFzRm9jdXMiLCJzaG91bGRIaWRlIiwib25Nb3VzZXVwIiwicHJldmlvdXNTZWxlY3RlZEl0ZW0iLCJnZXREaXNwbGF5VmFsdWUiLCJoYW5kbGVTZWxlY3RlZEl0ZW1DaGFuZ2UiLCJhbm5vdW5jZUl0ZW1DaGFuZ2UiLCJpdGVtQ2hhbmdlIiwiZ2V0SXRlbUFzTmFtZVZhbCIsImFubm91bmNlVGV4dENoYW5nZSIsInRleHRDaGFuZ2UiLCJzZWxlY3RlZEl0ZW1XYXRjaGVycyIsInJlZ2lzdGVyU2VsZWN0ZWRJdGVtV2F0Y2hlciIsInVucmVnaXN0ZXJTZWxlY3RlZEl0ZW1XYXRjaGVyIiwicHJldmlvdXNTZWFyY2hUZXh0IiwiZ2V0RGVmYXVsdEluZGV4IiwiaXNNaW5MZW5ndGhNZXQiLCJoYW5kbGVRdWVyeSIsInNldExvYWRpbmciLCJ1cGRhdGVNZXNzYWdlcyIsImRvQmx1ciIsImZvcmNlQmx1ciIsImtleWRvd24iLCJ1cGRhdGVTY3JvbGwiLCJoYXNTZWxlY3Rpb24iLCJjbGVhclZhbHVlIiwiZ2V0TWluTGVuZ3RoIiwibWluTGVuZ3RoIiwiZ2V0SXRlbVRleHQiLCJpdGVtVGV4dCIsIml0ZW1OYW1lIiwiYXV0b3NlbGVjdCIsImhhc01hdGNoZXMiLCJzaG91bGRTaG93Iiwibm90Rm91bmRWaXNpYmxlIiwibG9hZGluZ0lzVmlzaWJsZSIsImdldEN1cnJlbnREaXNwbGF5VmFsdWUiLCJmZXRjaFJlc3VsdHMiLCJoYW5kbGVSZXN1bHRzIiwidGVybSIsInNlbGVjdE9uTWF0Y2giLCJzZWxlY3RJdGVtT25NYXRjaCIsIml0ZW1FeHByIiwiZ2V0Q291bnRNZXNzYWdlIiwiaGd0IiwiaGFzTm90Rm91bmQiLCJub0NhY2hlIiwiZGlzcGxheVZhbHVlIiwiaXRlbVBhcnRzIiwiaXRlbXNFeHByIiwiY2xlYXIiLCJsaXN0RW50ZXIiLCJsaXN0TGVhdmUiLCJtb3VzZVVwIiwiSVRFTV9IRUlHSFQiLCJNZEF1dG9jb21wbGV0ZSIsImhhc05vdEZvdW5kVGVtcGxhdGUiLCJpbnB1dE5hbWUiLCJpbnB1dE1pbmxlbmd0aCIsImlucHV0TWF4bGVuZ3RoIiwiZmxvYXRpbmdMYWJlbCIsIm1lbnVDbGFzcyIsImlucHV0SWQiLCJnZXRJdGVtVGVtcGxhdGUiLCJ0ZW1wbGF0ZVRhZyIsImdldE5vSXRlbXNUZW1wbGF0ZSIsImxlZnRvdmVyIiwibm9JdGVtc1RlbXBsYXRlIiwiaXRlbVRlbXBsYXRlIiwiTWRBdXRvY29tcGxldGVJdGVtU2NvcGVEaXJlY3RpdmUiLCJ0QXR0ciIsIndhdGNoVmFyaWFibGUiLCJ2YXJpYWJsZSIsImFsaWFzIiwiY29ubmVjdFNjb3BlcyIsInNjb3BlRGlnZXN0aW5nIiwibmV3U2NvcGVEaWdlc3RpbmciLCIkbWRBdXRvY29tcGxldGVDdHJsIiwiTWRIaWdobGlnaHRDdHJsIiwidGVybUV4cHIiLCJ1bnNhZmVUZXh0RXhwciIsIm1kSGlnaGxpZ2h0RmxhZ3MiLCJ1bnNhZmVUZXh0IiwicHJldlN0YXRlIiwiZ2V0UmVnRXhwIiwic2FuaXRpemUiLCJNZEhpZ2hsaWdodCIsIm1kSGlnaGxpZ2h0VGV4dCIsIk1kQ2hpcCIsImhpbnRUZW1wbGF0ZSIsInNlbGVjdGVkQ2hpcCIsIkRFTEVURV9ISU5UX1RFTVBMQVRFIiwiTWRDaGlwUmVtb3ZlIiwicmVtb3ZlQ2hpcCIsIiQkcmVwbGFjZWRTY29wZSIsIk1kQ2hpcFRyYW5zY2x1ZGUiLCIkbWRDaGlwc0N0cmwiLCIkY2hpcCIsIm5ld0h0bWwiLCJtZENoaXBUcmFuc2NsdWRlIiwiTWRDaGlwc0N0cmwiLCJ1c2VySW5wdXROZ01vZGVsQ3RybCIsInVzZXJJbnB1dEVsZW1lbnQiLCJoYXNBdXRvY29tcGxldGUiLCJkZWxldGVIaW50IiwiZGVsZXRlQnV0dG9uTGFiZWwiLCJjaGlwQnVmZmVyIiwidXNlT25BcHBlbmQiLCJ1c2VUcmFuc2Zvcm1DaGlwIiwidXNlT25BZGQiLCJ1c2VPblJlbW92ZSIsInVzZU9uU2VsZWN0IiwiaW5wdXRLZXlkb3duIiwiZ2V0Q2hpcEJ1ZmZlciIsInNlbGVjdEFuZEZvY3VzQ2hpcFNhZmUiLCJzZXBhcmF0b3JLZXlzIiwicmVxdWlyZU1hdGNoIiwiYXBwZW5kQ2hpcCIsInJlc2V0Q2hpcEJ1ZmZlciIsImNoaXBLZXlkb3duIiwicmVtb3ZlQW5kU2VsZWN0QWRqYWNlbnRDaGlwIiwib25Gb2N1cyIsImdldFBsYWNlaG9sZGVyIiwidXNlU2Vjb25kYXJ5Iiwic2Vjb25kYXJ5UGxhY2Vob2xkZXIiLCJzZWxJbmRleCIsImdldEFkamFjZW50Q2hpcEluZGV4IiwicmVzZXRTZWxlY3RlZENoaXAiLCJuZXdDaGlwIiwidHJhbnNmb3JtQ2hpcCIsInRyYW5zZm9ybWVkQ2hpcCIsImlkZW50aWNhbCIsIm9uQWRkIiwidXNlT25BcHBlbmRFeHByZXNzaW9uIiwib25BcHBlbmQiLCJ1c2VUcmFuc2Zvcm1DaGlwRXhwcmVzc2lvbiIsInVzZU9uQWRkRXhwcmVzc2lvbiIsInVzZU9uUmVtb3ZlRXhwcmVzc2lvbiIsInVzZU9uU2VsZWN0RXhwcmVzc2lvbiIsInJlbW92ZWQiLCJyZW1vdmVDaGlwQW5kRm9jdXNJbnB1dCIsInNlbGVjdENoaXAiLCJmb2N1c0NoaXAiLCJvblNlbGVjdCIsInNlbGVjdEFuZEZvY3VzQ2hpcCIsIm9uSW5wdXRGb2N1cyIsImlucHV0SGFzRm9jdXMiLCJvbklucHV0Qmx1ciIsImNvbmZpZ3VyZVVzZXJJbnB1dCIsInNjb3BlQXBwbHlGbiIsImNvbmZpZ3VyZUF1dG9jb21wbGV0ZSIsIk1kQ2hpcHMiLCJnZXRUZW1wbGF0ZUJ5UXVlcnkiLCJ1c2VyVGVtcGxhdGUiLCJjaGlwUmVtb3ZlVGVtcGxhdGUiLCJ0ZW1wbGF0ZXMiLCJjaGlwQ29udGVudHNUZW1wbGF0ZSIsImNoaXBJbnB1dFRlbXBsYXRlIiwic3RhdGljQ2hpcHMiLCJtZENoaXBzQ3RybCIsIm1kVHJhbnNmb3JtQ2hpcCIsIm1kT25BcHBlbmQiLCJtZE9uQWRkIiwibWRPblJlbW92ZSIsIm1kT25TZWxlY3QiLCJjb21waWxlZFN0YXRpY0NoaXBzIiwiZ2V0VGVtcGxhdGVzIiwiY2hpcHMiLCJNRF9DSElQU19URU1QTEFURSIsIkNISVBfSU5QVVRfVEVNUExBVEUiLCJDSElQX0RFRkFVTFRfVEVNUExBVEUiLCJDSElQX1JFTU9WRV9URU1QTEFURSIsIk1kQ29udGFjdENoaXBzQ3RybCIsInF1ZXJ5Q29udGFjdCIsImNvbnRhY3RRdWVyeSIsIiRxdWVyeSIsImZpbHRlclNlbGVjdGVkIiwiZmlsdGVyU2VsZWN0ZWRDb250YWN0cyIsImNvbnRhY3ROYW1lIiwiY29udGFjdCIsImNvbnRhY3RzIiwiTWRDb250YWN0Q2hpcHMiLCJNRF9DT05UQUNUX0NISVBTX1RFTVBMQVRFIiwiY29udGFjdEltYWdlIiwiY29udGFjdEVtYWlsIiwiaGlnaGxpZ2h0RmxhZ3MiLCJtZEljb25EaXJlY3RpdmUiLCIkbWRJY29uIiwicGFyZW50c0hhdmVUZXh0IiwicHJlcGFyZUZvckZvbnRJY29uIiwic3ZnSWNvbiIsInN2Z1NyYyIsImZvbnRJY29uIiwiZm9udFNldCIsImFsdCIsIm1kU3ZnSWNvbiIsIm1kU3ZnU3JjIiwiYXR0clZhbCIsInN2ZyIsIk1kSWNvblByb3ZpZGVyIiwiQ29uZmlndXJhdGlvbkl0ZW0iLCJ2aWV3Qm94U2l6ZSIsImRlZmF1bHRWaWV3Qm94U2l6ZSIsIk1kSWNvblNlcnZpY2UiLCJnZXRJY29uIiwiaWNvbkNhY2hlIiwidXJsUmVnZXgiLCJsb2FkQnlVUkwiLCJjYWNoZUljb24iLCJsb2FkIiwibG9hZEJ5SUQiLCJsb2FkRnJvbUljb25TZXQiLCJmaW5kUmVnaXN0ZXJlZEZvbnRTZXQiLCJ1c2VEZWZhdWx0IiwiZGVmYXVsdEZvbnRTZXQiLCJmb250U2V0cyIsImljb24iLCJpc0ljb24iLCJJY29uIiwiaWNvbkNvbmZpZyIsImV4dHJhY3RGcm9tU2V0IiwiaWNvbk5hbWUiLCJpY29uU2V0Q29uZmlnIiwiYW5ub3VuY2VJZE5vdEZvdW5kIiwic2V0TmFtZSIsImFubm91bmNlTm90Rm91bmQiLCJwcmVwYXJlIiwicHJlcGFyZUFuZFN0eWxlIiwicHJlc2VydmVBc3BlY3RSYXRpbyIsInZpZXdCb3giLCJwb2ludGVyLWV2ZW50cyIsImNsb25lU1ZHIiwiaWNvblNldCIsImRlZmF1bHRJY29uU2V0IiwiZGVmYXVsdEljb25TaXplIiwiaWNvblNpemUiLCJwcmVsb2FkSWNvbnMiLCJpY29uUHJvdmlkZXIiLCJzdmdSZWdpc3RyeSIsImFzc2V0IiwiTWVudUNvbnRyb2xsZXIiLCIkbWRNZW51IiwibWVudUNvbnRhaW5lciIsIm5lc3RMZXZlbCIsIm1kTmVzdExldmVsIiwic2V0TWVudUNvbnRhaW5lciIsImlzSW5NZW51QmFyIiwibmVzdGVkTWVudXMiLCJtZW51Q29udGFpbmVySWQiLCJhcmlhLW93bnMiLCJhcmlhLWhhc3BvcHVwIiwiZGlzYWJsZUhvdmVyTGlzdGVuZXIiLCJvcGVuTWVudVRpbWVvdXQiLCJtZW51SXRlbXMiLCJkZXJlZ2lzdGVyU2NvcGVMaXN0ZW5lcnMiLCJlbmFibGVIb3Zlckxpc3RlbmVyIiwiY3VycmVudGx5T3Blbk1lbnUiLCJpc0FscmVhZHlPcGVuaW5nIiwicmVnaXN0ZXJDb250YWluZXJQcm94eSIsInRyaWdnZXJDb250YWluZXJQcm94eSIsImhhbmRsZU1lbnVJdGVtSG92ZXIiLCJoYW5kbGVNZW51SXRlbU1vdXNlTGVhdmUiLCJoYW5kbGVNZW51TW91c2VMZWF2ZSIsIm5lc3RlZE1lbnUiLCJmb2N1c2FibGVUYXJnZXQiLCJtZE1lbnVDdHJsIiwiJG1kT3Blbk1lbnUiLCIkbWRNZW51SXNPcGVuIiwiZm9jdXNNZW51Q29udGFpbmVyIiwiZm9jdXNUYXJnZXQiLCJjb250YWluZXJQcm94eSIsInNraXBGb2N1cyIsImNsb3NlT3B0cyIsImV2ZW50RGV0YWlscyIsInJlc3RvcmVGb2N1c1RvIiwicG9zaXRpb25Nb2RlIiwiYXR0YWNobWVudCIsIm1kUG9zaXRpb25Nb2RlIiwib2Zmc2V0cyIsIm1kT2Zmc2V0IiwiTWVudURpcmVjdGl2ZSIsIklOVkFMSURfUFJFRklYIiwibmVzdGluZ0RlcHRoIiwibWVudUVsIiwibWVudUNvbnRlbnRzIiwiTWVudVByb3ZpZGVyIiwibWVudURlZmF1bHRPcHRpb25zIiwiZGV0YWNoRWxlbWVudCIsInNob3dNZW51IiwiY2FsY3VsYXRlTWVudVBvc2l0aW9uIiwibWVudUNvbnRlbnRFbCIsInN0YXJ0UmVwb3NpdGlvbmluZ09uUmVzaXplIiwicmVwb3NpdGlvbk1lbnUiLCJoYW5kbGVkIiwiZm9jdXNNZW51SXRlbSIsInBhcmVudE1lbnUiLCJjYXB0dXJlQ2xpY2tMaXN0ZW5lciIsImhhc0FueUF0dHJpYnV0ZSIsInJhd0F0dHIiLCJhbHRGb3JtcyIsImNsb3Nlc3RNZW51IiwiZGlkRm9jdXMiLCJjdXJyZW50SXRlbSIsImN1cnJlbnRJbmRleCIsImF0dGVtcHRGb2N1cyIsInRvTm9kZSIsImZpcnN0VmlzaWJsZUNoaWxkIiwib3Blbk1lbnVOb2RlIiwiYWxpZ25UYXJnZXQiLCJvcGVuTWVudU5vZGVSZWN0IiwiYm91bmRyeU5vZGUiLCJib3VuZHJ5Tm9kZVJlY3QiLCJtZW51U3R5bGUiLCJvcmlnaW5Ob2RlIiwib3JpZ2luTm9kZVJlY3QiLCJNRU5VX0VER0VfTUFSR0lOIiwiYWxpZ25UYXJnZXRSZWN0IiwiZXhpc3RpbmdPZmZzZXRzIiwid2lsbEZpdFJpZ2h0IiwiTWVudUJhckNvbnRyb2xsZXIiLCJCT1VORF9NRU5VX01FVEhPRFMiLCJoYW5kbGVLZXlEb3duIiwicGFyZW50VG9vbGJhciIsImdldE1lbnVzIiwiZW5hYmxlT3Blbk9uSG92ZXIiLCJyb290TWVudXMiLCJkaXNhYmxlT3Blbk9uSG92ZXIiLCJzZXRLZXlib2FyZE1vZGUiLCJvcGVuT25Ib3ZlckVuYWJsZWQiLCJkYXRhc2V0IiwibWRSZXN0b3JlU3R5bGUiLCJoYW5kbGVNZW51SG92ZXIiLCJzY2hlZHVsZU9wZW5Ib3ZlcmVkTWVudSIsIm1lbnVDdHJsIiwic2NoZWR1bGVPcGVuTWVudSIsInBlbmRpbmdNZW51T3BlbiIsImN1cnJlbnRNZW51Iiwid2FzT3BlbiIsIm5ld01lbnUiLCJuZXdNZW51Q3RybCIsIm9wZW5Gb2N1c2VkTWVudSIsImZvY3VzTWVudSIsIm1lbnVzIiwiZm9jdXNlZEluZGV4IiwiZ2V0Rm9jdXNlZE1lbnVJbmRleCIsImdldE9wZW5NZW51SW5kZXgiLCJtZW51IiwiZ2V0Rm9jdXNlZE1lbnUiLCJmb2N1c2VkRWwiLCJNZW51QmFyRGlyZWN0aXZlIiwidGVtcGxhdGVFbCIsImFyaWFSb2xlIiwiY29udGVudEVscyIsIk1lbnVEaXZpZGVyRGlyZWN0aXZlIiwiTWVudUl0ZW1Db250cm9sbGVyIiwiaWNvbkVsIiwiYnV0dG9uRWwiLCJpbml0Q2xpY2tMaXN0ZW5lcnMiLCJjbGVhck5nQXJpYSIsImNsZWFyQXR0cnMiLCJoYW5kbGVDbGljayIsIk1lbnVJdGVtRGlyZWN0aXZlIiwic2V0RGVmYXVsdCIsIm1vdmVBdHRyVG9CdXR0b24iLCJNZFRhYiIsImdldFRhYkVsZW1lbnRJbmRleCIsImluc2VydFRhYiIsImFjdGl2ZSIsImdldEluZGV4IiwicmVmcmVzaEluZGV4IiwidXBkYXRlVGFiT3JkZXIiLCJyZW1vdmVUYWIiLCJNZFRhYkl0ZW0iLCJNZFRhYkxhYmVsIiwiTWRUYWJTY3JvbGwiLCJtZFRhYlNjcm9sbCIsIk1kVGFic0NvbnRyb2xsZXIiLCIkbWRUYWJJbmtSaXBwbGUiLCJzZWxlY3RlZEluZGV4IiwiY29tcGlsZVRlbXBsYXRlIiwidXBkYXRlSGVpZ2h0RnJvbUNvbnRlbnQiLCJhZGp1c3RPZmZzZXQiLCJ1cGRhdGVJbmtCYXJTdHlsZXMiLCJ0YWJzIiwibG9hZGVkIiwidXBkYXRlUGFnaW5hdGlvbiIsIiRtZFRhYnNUZW1wbGF0ZSIsImhhbmRsZVdpbmRvd1Jlc2l6ZSIsImhhbmRsZVNlbGVjdGVkSW5kZXhDaGFuZ2UiLCJkZWZpbmVPbmVXYXlCaW5kaW5nIiwiZGVmaW5lQm9vbGVhbkF0dHJpYnV0ZSIsInVwZGF0ZVZhbHVlIiwiZGVzdHJveWVkIiwiaGFuZGxlU3RyZXRjaFRhYnMiLCJzdHJldGNoVGFicyIsInNob3VsZFN0cmV0Y2hUYWJzIiwiaGFuZGxlQ2VudGVyVGFicyIsInNob3VsZENlbnRlclRhYnMiLCJoYW5kbGVNYXhUYWJXaWR0aCIsIm5ld1dpZHRoIiwib2xkV2lkdGgiLCJoYW5kbGVTaG91bGRQYWdpbmF0ZSIsIm1heFRhYldpZHRoIiwiZ2V0TWF4VGFiV2lkdGgiLCJoYW5kbGVIYXNDb250ZW50IiwiaGFzQ29udGVudCIsImhhbmRsZU9mZnNldENoYW5nZSIsInBhZ2luZyIsImhhbmRsZUZvY3VzSW5kZXhDaGFuZ2UiLCJvbGRJbmRleCIsInJlZGlyZWN0Rm9jdXMiLCJnZXROZWFyZXN0U2FmZUluZGV4IiwibGFzdFNlbGVjdGVkSW5kZXgiLCJ0YWJFbCIsImhhbmRsZVJlc2l6ZVdoZW5WaXNpYmxlIiwiaW5jcmVtZW50SW5kZXgiLCJsb2NrZWQiLCJmb2N1c0luZGV4IiwibGFzdENsaWNrIiwic2hvdWxkUGFnaW5hdGUiLCJmaXhPZmZzZXQiLCJ3aGVlbERlbHRhIiwibmV4dFBhZ2UiLCJ0YWIiLCJ2aWV3cG9ydFdpZHRoIiwiY2FudmFzIiwidG90YWxXaWR0aCIsInByZXZpb3VzUGFnZSIsImhhbmRsZUlua0JhciIsImlua0JhciIsImhhbmRsZUR5bmFtaWNIZWlnaHQiLCJ0YWJEYXRhIiwiaGFzTG9hZGVkIiwicHJvdG8iLCJpc0FjdGl2ZSIsImlzTGVmdCIsImlzUmlnaHQiLCJzaG91bGRSZW5kZXIiLCJub0Rpc2Nvbm5lY3QiLCJ1cGRhdGVIYXNDb250ZW50IiwiZ2V0RWxlbWVudHMiLCJkdW1taWVzIiwiY29udGVudHNXcmFwcGVyIiwiY2FuUGFnZUJhY2siLCJjYW5QYWdlRm9yd2FyZCIsImxhc3RUYWIiLCJjZW50ZXJUYWJzIiwibm9QYWdpbmF0aW9uIiwiY2FudmFzV2lkdGgiLCJtYXhPZmZzZXQiLCJ1cGRhdGVQYWdpbmdXaWR0aCIsImZvY3VzSXRlbSIsImluYyIsImR5bmFtaWNIZWlnaHQiLCJ0YWJDb250ZW50IiwiY29udGVudEhlaWdodCIsInRhYnNIZWlnaHQiLCJuZXdIZWlnaHQiLCJjdXJyZW50SGVpZ2h0IiwiZnJvbUhlaWdodCIsInRvSGVpZ2h0IiwidGFiV2lkdGgiLCJyZWR1Y2UiLCJ1cGRhdGVJbmtCYXJDbGFzc05hbWUiLCJpbmsiLCJNZFRhYnMiLCJNZFRhYnNUZW1wbGF0ZSIsImhhbmRsZVNjb3BlIiwicmVjb25uZWN0Iiwi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LEtBQUFDLEdBQ0FDLE9BQUFDLEdBQ0FDLE9BQUFDLEdBQ0FDLE1BQUFDLEdBQ0FDLE9BQUFDLEdBQ0FDLE9BQUFDLEdBQ0FDLFdBQUFDLEdBQ0FDLGVBQUFDLEdBQ0FDLFFBQUFDLEdBQ0FDLFlBQUFDLEdBQ0FDLFdBQUFDLEdBQ0FDLFFBQUFDLEdBQ0FDLGFBQUFDLEdBQ0FDLE9BQUFDLEdBQ0FDLE9BQUFDLEdBQ0FDLEtBQUFDLEdBQ0FDLFVBQUFDLEdBQ0FDLE9BQUFDLEdBQ0FDLGNBQUFDLEdBQ0FDLFlBQUFDLEdBQ0FDLFNBQUFDLEdBQ0FDLE9BQUFDLEdBQ0FDLFFBQUFDLEdBQ0FDLFNBQUFDLEdBQ0FDLGFBQUFDLEdBQ0FDLGdCQUFBQyxHQUNBQyxVQUFBQyxHQUNBQyxhQUFBQyxHQUNBQyxRQUFBQyxHQUNBQyxPQUFBQyxHQUNBQyxTQUFBQyxHQUNBQyxRQUFBQyxHQUNBQyxVQUFBRCxHQUNBRSxTQUFBQyxHQUNBQyxXQUFBRCxHQUNBRSxVQUFBQyxHQUNBQyxZQUFBRCxHQUNBRSxVQUFBQyxHQUNBQyxZQUFBRCxHQUNBRSxRQUFBQyxHQUNBQyxlQUFBQyxLQUVBbkcsV0FDQXNELFVBQUE4QyxLQUVBcEcsVUFBQXFHLElBQ0FyRyxVQUFBc0csSUFDQWpNLEVBQUF1RSxVQUNBMkgsY0FBQUMsR0FDQUMsU0FBQUMsR0FDQUMsWUFBQUMsR0FDQUMsZUFBQUMsR0FDQUMsZ0JBQUFDLEdBQ0FDLFNBQUFDLEdBQ0FDLGNBQUFDLEdBQ0FDLFlBQUFDLEdBQ0FDLFVBQUFDLEdBQ0FDLGtCQUFBQyxHQUNBQyxRQUFBQyxHQUNBQyxjQUFBQyxHQUNBQyxhQUFBQyxHQUNBQyxVQUFBQyxHQUNBQyxNQUFBQyxHQUNBQyxxQkFBQUMsR0FDQUMsMkJBQUFDLEdBQ0FDLGFBQUFDLEdBQ0FDLFlBQUFDLEdBQ0FDLFVBQUFDLEdBQ0FDLEtBQUFDLEdBQ0FDLE9BQUFDLEdBQ0FDLFdBQUFDLEdBQ0FDLEdBQUFDLEdBQ0FDLElBQUFDLEdBQ0FDLEtBQUFDLEdBQ0FDLGFBQUFDLEdBQ0FDLFNBQUFDLEdBQ0FDLGVB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QSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxxQkFBQSxRQUVBZSxRQUNBN0IsR0FBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLHFCQUFBLE9BQ0FRLG9CQUFBLFVBQ0FOLDBCQUFBLFdBRUFjLGVBQ0E5QixHQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMscUJBQUEsUUFDQUMsbUJBQUEsK0JBQ0FDLDBCQUFBLGlDQUVBZSxPQUNBL0IsR0FBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLHFCQUFBLFFBQ0FDLG1CQUFBLGFBQ0FDLDBCQUFBLFdBRUFnQixNQUNBaEMsR0FBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBd0IsS0FBQSxVQUNBdkIsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxxQkFBQSxPQUNBUSxvQkFBQSxtQkFFQVksYUFDQWxDLEdBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxxQkFBQSxRQUNBQyxtQkFBQSxpQkFDQUMsMEJBQUEsZ0JBS0EsV0FrSUEsUUFBQW1CLEdBQUFDLEdBc0NBLFFBQUFDLEdBQUFscEcsRUFBQW1oRCxHQUdBLE1BRkFBLEdBQUFBLE1BQ0Fnb0QsRUFBQW5wRyxHQUFBb3BHLEVBQUFwcEcsRUFBQW1oRCxHQUNBa29ELEVBTUEsUUFBQUMsR0FBQXRwRyxFQUFBbWhELEdBQ0EsTUFBQWlvRCxHQUFBcHBHLEVBQUFzQixFQUFBeEosVUFBQXF4RyxFQUFBbnBHLE9BQUFtaEQsSUFJQSxRQUFBaW9ELEdBQUFwcEcsRUFBQW1oRCxHQUNBLEdBQUFvb0QsR0FBQUMsRUFBQW5qRyxPQUFBLFNBQUFvakcsR0FDQSxPQUFBdG9ELEVBQUFzb0QsSUFFQSxJQUFBRixFQUFBMzBHLE9BQ0EsS0FBQSxJQUFBZCxPQUFBLG1DQUNBUyxRQUFBLEtBQUFnMUcsRUFBQW5xRyxLQUFBLE9BQ0E3SyxRQUFBLEtBQUF5TCxHQUdBLE9BQUFtaEQsR0FPQSxRQUFBdW9ELEdBQUExcEcsRUFBQTJwRyxHQUNBLEdBQUFDLEVBQUE1cEcsR0FBQSxNQUFBNHBHLEdBQUE1cEcsRUFFQTJwRyxHQUFBQSxHQUFBLFNBRUEsSUFBQUUsR0FBQSxnQkFBQUYsR0FBQUMsRUFBQUQsR0FBQUEsRUFDQXJoQixFQUFBLEdBQUF3aEIsR0FBQTlwRyxFQWNBLE9BWkE2cEcsSUFDQXZvRyxFQUFBOUwsUUFBQXEwRyxFQUFBRSxPQUFBLFNBQUE1RixFQUFBNkYsR0FDQTFoQixFQUFBeWhCLE9BQUFDLElBQ0FocUcsS0FBQW1rRyxFQUFBbmtHLEtBR0FpcUcsS0FBQTNvRyxFQUFBeEosVUFBQXFzRyxFQUFBOEYsU0FJQUwsRUFBQTVwRyxHQUFBc29GLEVBRUFBLEVBR0EsUUFBQXdoQixHQUFBOXBHLEdBUUEsUUFBQWtxRyxHQUFBQyxHQUlBLEdBSEFBLEVBQUEsSUFBQWgyRyxVQUFBUyxRQUFBLElBQUF1MUcsRUFHQUEsSUFBQTV0RyxFQUFBNHRHLE9BQUEsQ0FFQTV0RyxFQUFBNHRHLE9BQUFBLEVBRUE1dEcsRUFBQTZ0RyxrQkFBQTd0RyxFQUFBNHRHLE9BQUFFLEVBQUFDLEVBQ0EvdEcsRUFBQWd1RyxpQkFBQWh1RyxFQUFBNHRHLE9BQUFLLEVBQUFDLENBTUEsSUFBQUMsR0FBQW51RyxFQUFBNHRHLE9BQUFRLEVBQUFDLEVBQ0FDLEVBQUF0dUcsRUFBQTR0RyxPQUFBUyxFQUFBRCxDQWFBLE9BWkFycEcsR0FBQTlMLFFBQUFrMUcsRUFBQSxTQUFBSSxFQUFBZCxHQUNBLEdBQUE3RixHQUFBNW5HLEVBQUF3dEcsT0FBQUMsR0FDQWUsRUFBQUYsRUFBQWIsRUFDQSxJQUFBN0YsRUFDQSxJQUFBLEdBQUE2RyxLQUFBN0csR0FBQThGLEtBQ0E5RixFQUFBOEYsS0FBQWUsS0FBQUQsRUFBQUMsS0FDQTdHLEVBQUE4RixLQUFBZSxHQUFBRixFQUFBRSxNQU1BenVHLEdBcENBLEdBQUFBLEdBQUFrSyxJQUNBbEssR0FBQXlELEtBQUFBLEVBQ0F6RCxFQUFBd3RHLFVBRUF4dEcsRUFBQTB1RyxLQUFBZixFQUNBQSxHQUFBLEdBa0NBZ0IsRUFBQTExRyxRQUFBLFNBQUF3MEcsR0FDQSxHQUFBbUIsSUFBQTV1RyxFQUFBNHRHLE9BQUFRLEVBQUFDLEdBQUFaLEVBQ0F6dEcsR0FBQXl0RyxFQUFBLFdBQUEsU0FBQW9CLEVBQUFuQixHQUNBLEdBQUE5RixHQUFBNW5HLEVBQUF3dEcsT0FBQUMsSUFDQWhxRyxLQUFBb3JHLEVBQ0FuQixLQUFBM29HLEVBQUF4SixVQUFBcXpHLEVBQUFsQixHQTBCQSxPQXZCQTUwRyxRQUFBYSxLQUFBaXVHLEVBQUE4RixNQUFBejBHLFFBQUEsU0FBQXdLLEdBQ0EsSUFBQW1yRyxFQUFBbnJHLEdBQ0EsS0FBQSxJQUFBbE0sT0FBQSwyRUFDQVMsUUFBQSxLQUFBeUwsR0FDQXpMLFFBQUEsS0FBQWdJLEVBQUF5RCxNQUNBekwsUUFBQSxLQUFBNjJHLEdBQ0E3MkcsUUFBQSxLQUFBYyxPQUFBYSxLQUFBaTFHLEdBQUEvckcsS0FBQSxVQUlBL0osT0FBQWEsS0FBQWl1RyxFQUFBOEYsTUFBQTlvRCxJQUFBLFNBQUF4ckQsR0FDQSxNQUFBd3VHLEdBQUE4RixLQUFBdDBHLEtBQ0FILFFBQUEsU0FBQTYxRyxHQUNBLEdBQUEsSUFBQTdCLEVBQUFodkcsUUFBQTZ3RyxHQUNBLEtBQUEsSUFBQXYzRyxPQUFBLDZFQUNBUyxRQUFBLEtBQUE4MkcsR0FDQTkyRyxRQUFBLEtBQUFnSSxFQUFBeUQsTUFDQXpMLFFBQUEsS0FBQXkxRyxHQUNBejFHLFFBQUEsS0FBQTYyRyxHQUNBNzJHLFFBQUEsS0FBQWkxRyxFQUFBcHFHLEtBQUEsVUFJQTdDLEdBR0FBLEVBQUF5dEcsRUFBQSxTQUFBLFdBQ0EsR0FBQTV0RyxHQUFBNGdCLE1BQUFQLFVBQUEvbkIsTUFBQW9CLEtBQUEzQixVQUdBLE9BRkE0eEMsU0FBQU0sS0FBQSwyQkFBQTJqRSxFQUFBLDREQUNBQSxFQUFBLHNCQUNBenRHLEVBQUF5dEcsRUFBQSxXQUFBdHRHLE1BQUFILEVBQUFILE1BMEJBLFFBQUFrdkcsR0FBQTc3RixFQUFBSixHQXVDQSxRQUFBazhGLEdBQUFDLEdBQ0EsTUFBQUEsS0FBQTkzRyxHQUFBLEtBQUE4M0csR0FBQSxFQUNBQyxFQUFBN0IsT0FBQTRCLEtBQUE5M0csRUFHQSxRQUFBKzNHLEdBQUF6cUcsRUFBQTRxRCxHQUVBQSxJQUFBbDRELElBQ0FrNEQsRUFBQTVxRCxFQUNBQSxFQUFBdE4sR0FFQXNOLElBQUF0TixJQUNBc04sRUFBQXlPLEdBRUFnOEYsRUFBQXR6RyxRQUFBeXpELEVBQUFBLEdBaEJBLE1BbkNBNi9DLEdBQUF0ekcsUUFBQSxTQUFBeXpELEVBQUF4ekQsR0FjQSxRQUFBc3pHLEdBQUFwakIsR0FDQSxHQUFBQSxFQUFBLENBQ0FpakIsRUFBQWpqQixJQUNBajVFLEVBQUFnM0IsS0FBQSx3Q0FBQWlpRCxFQUFBLGtEQUdBLElBQUFxakIsR0FBQS8vQyxFQUFBenFELEtBQUEsZUFDQXdxRyxJQUFBLy9DLEVBQUE1eUMsWUFBQSxNQUFBMnlGLEVBQUEsVUFDQS8vQyxFQUFBN3lDLFNBQUEsTUFBQXV2RSxFQUFBLFVBQ0ExOEIsRUFBQXpxRCxLQUFBLGVBQUFtbkYsR0FDQTlrQyxHQUNBb0ksRUFBQXpxRCxLQUFBLHFCQUFBcWlELElBeEJBLEdBQUFBLEdBQUFwckQsRUFBQTJLLFdBQUEsV0FFQTZvRyxFQUFBaGdELEVBQUE5eEQsS0FBQSxpQkFDQSxLQUFBK3hHLEdBQUF2cUcsRUFBQXhJLFVBQUE4eUcsS0FBQSxTQUFBQSxFQUFBLENBQ0EsR0FBQWhyQixHQUFBbnhFLEVBQUF2VyxPQUFBLFdBQ0EsTUFBQXNxRCxJQUFBQSxFQUFBc29ELFdBQUEsV0FBQUMsRUFBQSxHQUFBQSxJQUNBTCxFQUNBOS9DLEdBQUFocEQsR0FBQSxXQUFBZytFLE9BQ0EsQ0FDQSxHQUFBMEgsR0FBQTlrQyxHQUFBQSxFQUFBc29ELFdBQUEsV0FBQUMsRUFBQSxHQUFBQSxFQUNBTCxHQUFBcGpCLEtBbUJBbWpCLEVBQUE3QixPQUFBdG9HLEVBQUF4SixVQUFBOHhHLEdBQ0E2QixFQUFBTSxhQUFBLFdBQUEsTUFBQUEsSUFDQU4sRUFBQUYsV0FBQUEsRUFDQUUsRUFBQU8sY0FBQUEsRUFFQVAsRUF4T0F0QyxLQUNBUyxJQUVBLElBQUFQLEdBQ0EwQyxFQUFBLFVBQ0FGLEdBQUEsQ0FRQSxPQUxBdnFHLEdBQUF4SixPQUFBcXhHLEVBQUFGLEdBSUFxQyxFQUFBMXhGLFNBQUEsYUFBQSxRQUNBeXZGLEdBQ0FILGNBQUFBLEVBQ0FJLGNBQUFBLEVBQ0FoaEIsTUFBQW9oQixFQUVBdUMsZ0JBQUEsU0FBQTNqQixHQUNBeWpCLEVBQUF6akIsR0FFQXVqQixpQkFBQSxTQUFBSyxHQUNBTCxFQUFBSyxHQUVBQyx1QkFBQSxTQUFBQyxHQUNBQyxFQUFBRCxHQUVBeHpGLEtBQUEweUYsRUFDQWdCLG9CQUFBMUIsRUFDQTJCLG1CQUFBNUIsRUFDQTZCLFVBQUFyRCxFQUNBc0QsUUFBQTdDLEVBQ0E4QyxZQUFBQyxFQUNBQyxNQUFBQyxHQTZOQSxRQUFBQyxHQUFBOVAsRUFBQTN1RixFQUFBZ0IsR0FDQSxPQUNBd1YsU0FBQSxJQUNBN0MsTUFDQWlKLElBQUEsU0FBQWpxQixFQUFBNHFELEVBQUE1akMsR0FDQSxHQUFBdzdCLElBQ0F1cEQsVUFBQSxTQUFBemtCLEdBQ0EwVSxFQUFBdU8sV0FBQWpqQixJQUNBajVFLEVBQUFnM0IsS0FBQSx3Q0FBQWlpRCxFQUFBLEtBRUE5a0MsRUFBQXNvRCxTQUFBeGpCLEdBR0ExOEIsR0FBQXpxRCxLQUFBLHFCQUFBcWlELEdBQ0FBLEVBQUF1cEQsVUFBQTErRixFQUFBMlosRUFBQWdsRixTQUFBaHNHLElBQ0FnbkIsRUFBQStLLFNBQUEsVUFBQXl3QixFQUFBdXBELGNBT0EsUUFBQUUsR0FBQWpRLEdBQ0EsTUFBQUEsR0FJQSxRQUFBMlAsR0FBQXJrQixFQUFBMGhCLEVBQUF6K0MsR0FDQTJoRCxFQUFBNWtCLEVBQUEwaEIsR0FFQXorQyxFQUFBQSxFQUFBaDNELFFBQUEsY0FBQSt6RixFQUFBdG9GLEtBQ0EsSUFBQW10RyxNQUNBaEosRUFBQTdiLEVBQUF5aEIsT0FBQUMsR0FFQW9ELEVBQUEsR0FBQTMxRyxRQUFBLE9BQUE2d0YsRUFBQXRvRixLQUFBLFNBQUEsS0FFQXF0RyxFQUFBLEdBQUE1MUcsUUFBQSxpQkFBQXV5RyxFQUFBLGtEQUFBLEtBQ0FzRCxFQUFBLHVGQUNBQyxFQUFBcEUsRUFBQWhGLEVBQUFua0csS0F3Q0EsT0FuQ0F1ckQsR0FBQUEsRUFBQWgzRCxRQUFBKzRHLEVBQUEsU0FBQTk0RyxFQUFBdzFHLEVBQUF3RCxFQUFBQyxFQUFBQyxHQUNBLE1BQUEsZUFBQTFELEVBQ0EsVUFBQXdELEVBQ0FsbEIsRUFBQWlpQixpQkFFQWppQixFQUFBOGhCLGtCQUFBb0QsSUFBQWxsQixFQUFBOGhCLGtCQUFBLElBR0EsSUFBQW9ELEVBQUFoekcsUUFBQSxTQUNBZ3pHLEVBQUFsbEIsRUFBQXloQixPQUFBQyxHQUFBQyxLQUFBdUQsSUFFQVgsR0FBQTFELEVBQUE3Z0IsRUFBQXloQixPQUFBQyxHQUFBaHFHLE1BQUF3dEcsSUFBQSxJQUFBRSxFQUFBLFdBQUEsU0FBQUQsTUFJQW5zRyxFQUFBOUwsUUFBQTJ1RyxFQUFBOEYsS0FBQSxTQUFBb0IsRUFBQUwsR0FDQSxHQUFBMkMsR0FBQXBpRCxFQUNBaDNELFFBQUE4NEcsRUFBQSxTQUFBNzRHLEVBQUFtZCxFQUFBcTRGLEVBQUE0RCxFQUFBSCxHQUNBLE1BQUFaLEdBQUFVLEVBQUFsQyxHQUFBLFVBQUF1QyxFQUFBLFFBQUEsWUFBQUgsSUFRQSxJQU5BLFlBQUF6QyxJQUNBMkMsRUFBQUEsRUFBQXA1RyxRQUFBNjRHLEVBQUEsT0FBQTlrQixFQUFBdG9GLEtBQUEsYUFBQWdyRyxJQUtBLFdBQUExaUIsRUFBQXRvRixLQUFBLENBQ0EsR0FBQTZ0RyxHQUFBLDhIQUNBRixHQUFBQSxFQUFBcDVHLFFBQUFzNUcsRUFBQSxTQUFBcjVHLEVBQUF1TCxFQUFBeVksRUFBQXFoQyxHQUNBLE1BQUFybEQsR0FBQSxLQUFBdUwsRUFBQXlZLEVBQUFxaEMsSUFHQXN6RCxFQUFBcnlHLEtBQUE2eUcsS0FHQVIsRUFNQSxRQUFBVyxHQUFBOXlGLEdBbUVBLFFBQUEreUYsR0FBQVIsR0FDQSxHQUFBUyxHQUFBVCxFQUFBNUYscUJBQ0FzRyxFQUFBVixFQUFBcEYsd0JBQ0ErRixFQUFBWCxFQUFBMUYsOEJBQ0FzRyxFQUFBWixFQUFBM0Ysc0JBR0EsaUJBQUFxRyxLQUFBQSxFQUFBQSxFQUFBL3pHLE1BQUEsTUFDQSxnQkFBQWcwRyxLQUFBQSxFQUFBQSxFQUFBaDBHLE1BQUEsTUFDQSxnQkFBQWkwRyxLQUFBQSxFQUFBQSxFQUFBajBHLE1BQUEsWUFHQXF6RyxHQUFBNUYsMkJBQ0E0RixHQUFBcEYsMEJBQ0FvRixHQUFBMUYsZ0NBQ0EwRixHQUFBM0YsbUJBR0F0bUcsRUFBQTlMLFFBQUErM0csRUFBQSxTQUFBbEMsRUFBQUwsR0FlQSxRQUFBb0QsS0FDQSxNQUFBLFVBQUFKLEVBQ0FHLEVBQUEzekcsUUFBQXd3RyxHQUFBLEdBQ0FxRCxFQUVBSCxFQUFBMXpHLFFBQUF3d0csR0FBQSxHQUFBc0QsRUFDQUMsRUFHQU4sRUFBQXp6RyxRQUFBd3dHLEdBQUEsR0FDQWtELEVBQUExekcsUUFBQXd3RyxHQUFBLEdBQUFzRCxFQUNBQyxFQUVBRixFQTNCQSxJQUFBL3NHLEVBQUFySyxTQUFBbzBHLEdBQUEsQ0FFQSxHQUFBbUQsR0FBQUMsRUFBQXBELEVBQ0EsS0FBQW1ELEVBQ0EsS0FBQSxJQUFBMTZHLE9BQUEsOEVBQ0FTLFFBQUEsS0FBQTgyRyxHQUNBOTJHLFFBQUEsS0FBQWc1RyxFQUFBdnRHLE1BQ0F6TCxRQUFBLEtBQUF5MkcsR0FHQXVDLEdBQUF2QyxJQUNBMTBHLE1BQUFrNEcsRUFDQWQsU0FBQVUsUUFqR0EsR0FBQWhoQyxHQUFBMzVFLFNBQUEyNUUsS0FDQTc1RCxFQUFBNjVELEVBQUFBLEVBQUFzaEMsa0JBQUEsS0FDQUMsRUFBQTN6RixFQUFBMkIsSUFBQSxpQkFBQTNCLEVBQUFqWixJQUFBLGlCQUFBLEVBRUEsSUFBQXdSLEdBQ0EsSUFBQW83RixFQUFBLzVHLE9BQUEsQ0FHQTBNLEVBQUE5TCxRQUFBMnpHLEVBQUE0RSxFQU1BLElBQUF4aUQsR0FBQW9qRCxFQUNBejBHLE1BQUEsb0JBQ0FtTSxPQUFBLFNBQUF1b0csR0FBQSxNQUFBQSxJQUFBQSxFQUFBaDZHLFNBQ0F1c0QsSUFBQSxTQUFBeXRELEdBQUEsTUFBQUEsR0FBQS82RixPQUFBLE1BR0FnN0YsRUFBQSxHQUFBcDNHLFFBQUEsT0FBQXl6RyxFQUFBOXJHLEtBQUEsS0FBQSxJQUFBLElBRUE4ckcsR0FBQTExRyxRQUFBLFNBQUFnZixHQUNBczZGLEVBQUF0NkYsR0FBQSxLQUtBKzJDLEVBQUEvMUQsUUFBQSxTQUFBbzVHLEdBR0EsSUFBQSxHQUFBcDZGLEdBQUF4Z0IsR0FGQTQ2RyxFQUFBcDZHLE1BQUFxNkcsR0FFQSxHQUFBcjZGLEVBQUEwMkYsRUFBQWwzRyxHQUFBQSxJQUNBLEdBQUE0NkcsRUFBQXAwRyxRQUFBLE9BQUFnYSxHQUFBLEdBQ0EsTUFBQXM2RixHQUFBdDZGLElBQUFvNkYsQ0FNQSxLQUFBNTZHLEVBQUEsRUFBQXdnQixFQUFBMDJGLEVBQUFsM0csR0FBQUEsSUFDQSxHQUFBNDZHLEVBQUFwMEcsUUFBQWdhLEdBQUEsR0FDQSxNQUFBczZGLEdBQUF0NkYsSUFBQW82RixDQUtBLE9BQUFFLEdBQUFDLElBQUFILElBS0F2QyxHQUVBL3FHLEVBQUE5TCxRQUFBbzBHLEVBQUEsU0FBQXRoQixHQUNBMG1CLEVBQUExbUIsRUFBQXRvRixPQUNBZ3NHLEVBQUExakIsRUFBQXRvRixTQWtFQSxRQUFBZ3NHLEdBQUFoc0csR0FDQSxHQUFBc29GLEdBQUFzaEIsRUFBQTVwRyxHQUNBb3RFLEVBQUEzNUUsU0FBQTI1RSxLQUNBNzVELEVBQUE2NUQsRUFBQUEsRUFBQXNoQyxrQkFBQSxJQUVBTSxHQUFBaHZHLEtBR0FrckcsRUFBQTExRyxRQUFBLFNBQUF3MEcsR0FFQSxJQURBLEdBQUFpRixHQUFBdEMsRUFBQXJrQixFQUFBMGhCLEVBQUE4RSxFQUFBOUUsSUFDQWlGLEVBQUFyNkcsUUFBQSxDQUNBLEdBQUFzNkcsR0FBQUQsRUFBQTd5RixPQUNBLElBQUE4eUYsRUFBQSxDQUNBLEdBQUFobkcsR0FBQXpVLFNBQUFxZixjQUFBLFFBQ0E1SyxHQUFBeU4sYUFBQSxpQkFBQSxJQUNBek4sRUFBQTJLLFlBQUFwZixTQUFBbWYsZUFBQXM4RixJQUNBOWhDLEVBQUE1ZSxhQUFBdG1ELEVBQUFxTCxPQU1BKzBFLEVBQUF5aEIsT0FBQS96QyxRQUFBaDJELE1BQUFzb0YsRUFBQXloQixPQUFBb0YsT0FBQW52RyxNQUNBK2xDLFFBQUFNLEtBQUEsOEdBSUEyb0UsRUFBQTFtQixFQUFBdG9GLE9BQUEsR0FNQSxRQUFBa3RHLEdBQUE1a0IsRUFBQTBoQixHQUVBLElBQUFiLEdBQUE3Z0IsRUFBQXloQixPQUFBQyxRQUFBaHFHLE1BQ0EsS0FBQSxJQUFBbE0sT0FDQSwwRkFDQVMsUUFBQSxLQUFBK3pGLEVBQUF0b0YsTUFDQXpMLFFBQUEsS0FBQXkxRyxHQUNBejFHLFFBQUEsS0FBQWMsT0FBQWEsS0FBQWl6RyxHQUFBL3BHLEtBQUEsUUFLQSxRQUFBcXZHLEdBQUFXLEdBQ0EsR0FBQTl0RyxFQUFBcE0sUUFBQWs2RyxJQUFBLEdBQUFBLEVBQUF4NkcsT0FBQSxNQUFBdzZHLEVBQ0EsSUFBQSxPQUFBejFHLEtBQUF5MUcsR0FDQSxNQUFBQSxHQUFBNzZHLFFBQUEsd0JBQUEsSUFBQTJGLE1BQUEsS0FBQWluRCxJQUFBLFNBQUE3cUQsRUFBQXRDLEdBQ0EsTUFBQSxJQUFBQSxFQUFBK29ELFdBQUF6bUQsRUFBQSxJQUFBNEIsU0FBQTVCLEVBQUEsS0FJQSxJQURBLEtBQUE4NEcsRUFBQTV6RyxPQUFBLEtBQUE0ekcsRUFBQUEsRUFBQXJ3RyxVQUFBLElBQ0EsMkJBQUFwRixLQUFBeTFHLEdBQUEsQ0FFQSxHQUFBbkssR0FBQW1LLEVBQUF4NkcsT0FBQSxFQUNBc3dHLEVBQUFrSyxFQUFBaHdGLE9BQUEsRUFBQTZsRixHQUNBb0ssRUFBQUQsRUFBQWh3RixPQUFBNmxGLEVBQUFBLEdBQ0FxSyxFQUFBRixFQUFBaHdGLE9BQUEsRUFBQTZsRixFQU1BLE9BTEEsS0FBQUEsSUFDQUMsR0FBQUEsRUFDQW1LLEdBQUFBLEVBQ0FDLEdBQUFBLElBRUFwM0csU0FBQWd0RyxFQUFBLElBQUFodEcsU0FBQW0zRyxFQUFBLElBQUFuM0csU0FBQW8zRyxFQUFBLE1BR0EsUUFBQXpDLEdBQUEwQyxFQUFBOUIsR0FDQSxNQUFBOEIsSUFFQSxHQUFBQSxFQUFBMzZHLFNBQ0EyNkcsRUFBQWp1RyxFQUFBNUcsS0FBQTYwRyxHQUNBOUIsRUFBQThCLEVBQUF2d0YsTUFBQXl1RixFQUFBOEIsRUFBQXZ3RixPQUVBeXVGLElBQUEsZ0JBQUFBLElBQUEsZ0JBQUFBLElBQUFBLEVBQUE3NEcsUUFDQSxRQUFBMjZHLEVBQUFud0csS0FBQSxLQUFBLElBQUFxdUcsRUFBQSxJQUNBLE9BQUE4QixFQUFBbndHLEtBQUEsS0FBQSxLQVJBLGVBaHBCQWtDLEVBQUExTixPQUFBLHlCQUFBLGtDQUNBMFMsVUFBQSxVQUFBd21HLEdBQ0F4bUcsVUFBQSxhQUFBMm1HLEdBQ0EvbkcsU0FBQSxhQUFBOGpHLEdBQ0F6aUcsSUFBQXVuRyxFQWdEQSxJQUdBM0UsR0FDQVMsRUFKQW9GLEtBTUExRSxHQUNBdHFHLEtBQUEsT0FDQXd2RyxFQUFBLG1CQUNBQyxFQUFBLG1CQUNBQyxFQUFBLG1CQUNBQyxFQUFBLG9CQUVBdEYsR0FDQXJxRyxLQUFBLFFBQ0F3dkcsRUFBQSx3QkFDQUMsRUFBQSx3QkFDQUMsRUFBQSx3QkFDQUMsRUFBQSwwQkFHQW5GLEVBQUEsNkRBQ0FDLEVBQUEsR0FFQTRELEVBQUFJLEVBQUEsb0JBQ0FGLEVBQUFFLEVBQUEsMEJBQ0FILEVBQUFHLEVBQUEsb0JBRUF2RCxHQUFBLFVBQUEsU0FBQSxPQUFBLGNBQ0E2RCxFQUFBLFVBR0FuRSxHQUNBdUUsUUFDQVMsVUFBQSxPQUNBQyxRQUFBLE9BQ0FDLFFBQUEsT0FDQUMsUUFBQSxRQUVBeEosWUFDQXFKLFVBQUEsT0FDQUMsUUFBQSxNQUNBQyxRQUFBLE1BQ0FDLFFBQUEsUUFJQXBGLEdBQ0FwRSxZQUNBcUosVUFBQSxNQUNBQyxRQUFBLE1BQ0FDLFFBQUEsTUFDQUMsUUFBQSxPQUdBN0UsR0FBQTExRyxRQUFBLFNBQUF3MEcsR0FFQSxHQUFBZ0csSUFDQUosVUFBQSxNQUNBQyxRQUFBLE1BQ0FDLFFBQUEsTUFDQUMsUUFBQSxPQUVBbkYsR0FBQVosS0FBQVksRUFBQVosR0FBQWdHLEdBQ0FyRixFQUFBWCxLQUFBVyxFQUFBWCxHQUFBZ0csSUFHQSxJQUFBeEcsSUFDQSxLQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUNBLE1BQUEsTUFBQSxNQUFBLE9BQUEsT0FBQSxPQUFBLFFBSUE2QyxHQUFBLENBK1BBckQsR0FBQXB2RixTQUFBLG1CQXNCQWt6RixFQUFBbHpGLFNBQUEsYUFBQSxlQUFBLFFBS0FxekYsRUFBQXJ6RixTQUFBLGFBd0RBLElBQUFrMUYsS0EySEFoQixHQUFBbDBGLFNBQUEsZ0JBbUZBLFdBbUJBLFFBQUFxMkYsR0FBQTNoQixFQUFBMytFLEVBQUFnQixFQUFBZzhFLEVBQUExL0UsR0FDQSxHQUFBMVEsRUFDQSxPQUFBQSxJQUlBMnpHLFlBQUEsU0FBQTEzRixFQUFBcTRDLEVBQUFDLEVBQUFueUMsR0FlQSxRQUFBd3hGLEdBQUFDLEdBQ0EsTUFBQW5qRyxHQUFBdUwsR0FDQXM0QyxHQUFBcy9DLEdBQUF2L0MsRUFDQTkzQyxTQUFBNEYsRUFBQTB4RixtQkFDQXIzRixZQUFBMkYsRUFBQTJ4RixvQkFDQWorQyxRQW5CQSxNQUFBcGxELEdBQUF1TCxHQUNBcTRDLEtBQUFBLEVBQ0FDLEdBQUFBLEVBQ0EvM0MsU0FBQTRGLEVBQUEyeEYsb0JBRUFqK0MsUUFDQTc0RCxLQUFBLFdBRUEsTUFBQTIyRyxNQW9CQUksa0JBQUEsU0FBQW4yRyxFQUFBMGhHLEdBQ0EsR0FBQTBVLEdBQUEsR0FFQSxPQUFBN2dHLEdBQUEsU0FBQWlzQixFQUFBdkMsR0FVQSxRQUFBbzNFLEdBQUFoc0QsR0FDQUEsR0FBQUEsRUFBQWpzQyxTQUFBcGUsRUFBQSxLQUVBcXFELEdBQUE5ekMsRUFBQTRRLE9BQUEydEIsR0FDQTkwQyxFQUFBNm1CLElBQUEwckUsRUFBQXYyQyxJQUFBOHpDLGNBQUF1bUIsR0FHQTcwRSxLQWhCQWtnRSxFQUFBQSxLQUVBLElBQUE1c0QsR0FBQXYrQixFQUFBOC9GLEVBQUEzVSxFQUFBei9ELFNBQUFtMEUsRUFDQXAyRyxHQUFBd0ksR0FBQStwRixFQUFBdjJDLElBQUE4ekMsY0FBQXVtQixNQTZCQUMsc0JBQUEsU0FBQXQyRyxFQUFBdTJHLEdBOEJBLFFBQUFDLEtBQ0EsR0FBQW5ULEdBQUFyakcsRUFBQUEsRUFBQWhDLFNBQUEsS0FDQUEsRUFBQXFsRyxFQUFBQSxFQUFBcmxHLFNBQUEsSUFFQSxPQUFBQSxHQUFBbUUsRUFBQWt5RixXQUFBcjJGLEdBQUEsS0FqQ0EsR0FBQXk0RyxHQUFBRixFQUFBdjJHLFFBQ0EwMkcsRUFBQUgsRUFBQUcsT0FFQUMsRUFBQSx5RUFDQUMsRUFBQTF2RyxFQUFBaEYsS0FBQSxLQUFBZ3lGLEVBQUF5RCxTQUFBZ2YsR0FDQUUsRUFBQUQsR0FBQUUsUUFBQSxFQUFBQyxRQUFBLEVBQUFDLE9BQUEsR0FBQUMsT0FBQSxJQUVBLElBQUFSLEdBQUFDLEVBQUEsQ0FDQSxHQUFBUSxHQUFBVCxFQUFBdDBHLEVBQUFreUYsV0FBQW9pQixJQUFBRCxJQUFBcjBHLEVBQUFnMUcsU0FBQVQsR0FDQVUsRUFBQWoxRyxFQUFBZzFHLFNBQUFuM0csRUFBQSxHQUFBbWpCLHlCQUNBazBGLEVBQUFsMUcsRUFBQW0xRyxlQUFBRixHQUNBRyxFQUFBcDFHLEVBQUFtMUcsZUFBQUosRUFJQUwsR0FBQUQsR0FDQUUsUUFBQVMsRUFBQW5iLEVBQUFpYixFQUFBamIsRUFDQTJhLFFBQUFRLEVBQUEzMkMsRUFBQXkyQyxFQUFBejJDLEVBQ0FvMkMsT0FBQXZpRixLQUFBc3VCLE1BQUEsSUFBQXR1QixLQUFBb3VCLElBQUEsR0FBQXEwRCxFQUFBeGlCLE1BQUEwaUIsRUFBQTFpQixRQUFBLElBQ0F1aUIsT0FBQXhpRixLQUFBc3VCLE1BQUEsSUFBQXR1QixLQUFBb3VCLElBQUEsR0FBQXEwRCxFQUFBdmlCLE9BQUF5aUIsRUFBQXppQixTQUFBLE1BSUEsTUFBQWtpQixJQWlCQVcsTUFBQSxTQUFBQyxHQTBCQSxRQUFBQyxHQUFBbjhHLEVBQUErL0YsRUFBQXAvRixHQUNBZ0wsRUFBQTlMLFFBQUFrZ0csRUFBQXg3RixNQUFBLEtBQUEsU0FBQXZFLEdBQ0E4M0QsRUFBQTkzRCxHQUFBVyxJQTNCQSxHQUFBbTNELE1BQ0Fza0QsRUFBQSxrRkFzQkEsT0FwQkF6d0csR0FBQTlMLFFBQUFxOEcsRUFBQSxTQUFBdjdHLEVBQUFYLEdBQ0EsSUFBQTJMLEVBQUF6SSxZQUFBdkMsR0FFQSxHQUFBeTdHLEVBQUF2M0csUUFBQTdFLElBQUEsRUFDQTgzRCxFQUFBOTNELEdBQUFXLEVBQUEsU0FFQSxRQUFBWCxHQUNBLElBQUEsYUFDQW04RyxFQUFBbjhHLEVBQUFnM0YsRUFBQXYyQyxJQUFBazBDLFdBQUFoMEYsRUFDQSxNQUNBLEtBQUEsWUFDQXc3RyxFQUFBbjhHLEVBQUFnM0YsRUFBQXYyQyxJQUFBZzBDLFVBQUE5ekYsRUFDQSxNQUNBLEtBQUEsa0JBQ0F3N0csRUFBQW44RyxFQUFBZzNGLEVBQUF2MkMsSUFBQWkwQyxpQkFBQS96RixNQU1BbTNELEdBWUF1a0QsZUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBQUExa0QsS0FVQSxPQVRBbnNELEdBQUE5TCxRQUFBbTNGLEVBQUF2MkMsSUFBQWcwQyxVQUFBbHdGLE1BQUEsS0FBQSxTQUFBdkUsR0FDQTgzRCxFQUFBOTNELEdBQUFzOEcsSUFHQUMsSUFDQUMsRUFBQUEsR0FBQSx1REFDQTFrRCxFQUFBLFdBQUEwa0QsR0FHQTFrRCxHQU1BOGpELFNBQUEsU0FBQTUyRyxFQUFBQyxHQUNBLE1BQUFELElBRUFDLEVBQUFBLE1BRUEwRyxFQUFBOUwsUUFBQSxxQ0FBQTBFLE1BQUEsS0FBQSxTQUFBdkUsR0FDQWlGLEVBQUFqRixHQUFBazVCLEtBQUFzdUIsTUFBQXhpRCxFQUFBaEYsTUFHQWlGLEVBQUFrMEYsTUFBQWwwRixFQUFBazBGLE9BQUFsMEYsRUFBQXd0QyxNQUFBeHRDLEVBQUF1dEMsS0FDQXZ0QyxFQUFBbTBGLE9BQUFuMEYsRUFBQW0wRixRQUFBbjBGLEVBQUE0aUIsT0FBQTVpQixFQUFBZ2pCLElBRUFoakIsR0FYQSxNQWlCQTZ6RixXQUFBLFNBQUFyMEYsR0FDQSxHQUFBMDJHLEdBQUF4dkcsRUFBQWxILFFBQUFBLEdBQUEsR0FBQW1qQix3QkFDQTYwRixFQUFBLFNBQUFDLEdBQ0EsTUFBQUEsSUFBQUEsRUFBQXZqQixNQUFBLEdBQUF1akIsRUFBQXRqQixPQUFBLEVBSUEsT0FBQXFqQixHQUFBdEIsR0FBQXYwRyxFQUFBZzFHLFNBQUFULEdBQUEsTUFNQVksZUFBQSxTQUFBWSxHQUNBLE1BQUFBLElBQ0E5YixFQUFBM25FLEtBQUFzdUIsTUFBQW0xRCxFQUFBbnFFLEtBQUFtcUUsRUFBQXhqQixNQUFBLEdBQ0E5ekIsRUFBQW5zQyxLQUFBc3VCLE1BQUFtMUQsRUFBQTEwRixJQUFBMDBGLEVBQUF2akIsT0FBQSxLQUNBeUgsRUFBQSxFQUFBeDdCLEVBQUEsS0F2TkExNUQsRUFDQTFOLE9BQUEsaUJBQ0FnUixRQUFBLGVBQUEsS0FBQSxXQUFBLGNBQUEsY0FBQSxTQUFBK0ssRUFBQWdCLEVBQUFnOEUsRUFBQTEvRSxHQUtBLE1BQUEsVUFBQXFoRixHQUNBLE1BQUEyaEIsR0FBQTNoQixFQUFBMytFLEVBQUFnQixFQUFBZzhFLEVBQUExL0UsVUF1TkEsV0FLQTNMLEVBQUF1RixRQUFBbWxELE9BQUEsRUFDQTFxRCxFQUFBMU4sT0FBQSw2QkFFQSxXQW9ZQSxRQUFBNmQsR0FBQXhaLEdBQ0EsTUFBQUEsR0FBQTFELFFBQUEsVUFBQSxTQUFBMEQsR0FDQSxNQUFBQSxHQUFBdUQsT0FBQSxHQUFBcVcsZ0JBcFlBLEdBQUFyYyxHQUFBOEwsRUFBQTlMLFFBRUErOEcsRUFBQWp4RyxFQUFBeEksVUFBQXJGLFNBQUEwaUIsZ0JBQUFqTyxNQUFBc3FHLGtCQUdBQyxFQUFBRixFQUFBLFdBQUEsR0FFQUcsR0FBQUgsRUFBQSx1QkFBQSxJQUFBLGdCQUNBSSxHQUFBSixFQUFBLHNCQUFBLElBQUEsZUFFQUssR0FBQSxZQUFBLFNBQUEva0csR0FDQSxNQUFBLFlBQ0EsTUFBQUEsR0FBQSxHQUFBb3ZCLEtBQUF3ekQsWUFBQSxLQUlBb2lCLEdBQUEsUUFBQSxTQUFBOWhHLEdBQ0EsTUFBQSxZQUNBLEdBQUE0d0UsSUFBQSxDQUlBLE9BSEE1d0UsR0FBQSxXQUNBNHdFLEdBQUEsSUFFQSxTQUFBbmxGLEdBQ0FtbEYsRUFBQW5sRixJQUFBdVUsRUFBQXZVLE9BS0FvbEYsR0FBQSxLQUFBLGFBQUEsU0FBQWp5RSxFQUFBbWpHLEdBS0EsUUFBQWxqRCxHQUFBcjVDLEdBQ0E5UCxLQUFBdTVFLFFBQUF6cEUsR0FFQTlQLEtBQUFxN0Usa0JBQ0FyN0UsS0FBQXM3RSxxQkFBQSt3QixJQUNBcnNHLEtBQUF1N0UsT0FBQSxFQVRBLEdBQUFDLEdBQUEsRUFDQUMsRUFBQSxFQUNBQyxFQUFBLENBZ0dBLE9BdEZBdnlCLEdBQUFuekMsV0FDQXVqRSxRQUFBLFNBQUF6cEUsR0FDQTlQLEtBQUE4UCxLQUFBQSxPQUdBNmtCLEtBQUEsU0FBQTUrQixHQUNBaUssS0FBQXU3RSxTQUFBRyxFQUNBM2xGLElBRUFpSyxLQUFBcTdFLGVBQUFobkYsS0FBQTBCLElBSUEweEMsU0FBQTVzQyxFQUFBL0ksS0FFQXc1RCxXQUFBLFdBQ0EsSUFBQXRyRCxLQUFBOHpCLFFBQUEsQ0FDQSxHQUFBaCtCLEdBQUFrSyxJQUNBQSxNQUFBOHpCLFFBQUE1cUIsRUFBQSxTQUFBaXNCLEVBQUF2QyxHQUNBOThCLEVBQUE2K0IsS0FBQSxTQUFBckQsR0FDQUEsS0FBQSxFQUFBc0IsSUFBQXVDLFFBSUEsTUFBQW4xQixNQUFBOHpCLFNBR0EvZ0MsS0FBQSxTQUFBNm9GLEVBQUFDLEdBQ0EsTUFBQTc3RSxNQUFBc3JELGFBQUF2NEQsS0FBQTZvRixFQUFBQyxJQUdBejBDLFFBQUEsU0FBQXYxQixHQUNBLE1BQUE3UixNQUFBc3JELGFBQUEsU0FBQXo1QyxJQUdBdzFCLFVBQUEsU0FBQXgxQixHQUNBLE1BQUE3UixNQUFBc3JELGFBQUEsV0FBQXo1QyxJQUdBeTNDLE1BQUEsV0FDQXRwRCxLQUFBOFAsS0FBQXc1QyxPQUNBdHBELEtBQUE4UCxLQUFBdzVDLFNBSUFELE9BQUEsV0FDQXJwRCxLQUFBOFAsS0FBQXU1QyxRQUNBcnBELEtBQUE4UCxLQUFBdTVDLFVBSUFELElBQUEsV0FDQXBwRCxLQUFBOFAsS0FBQXM1QyxLQUNBcHBELEtBQUE4UCxLQUFBczVDLE1BRUFwcEQsS0FBQTg3RSxVQUFBLElBR0FoaEUsT0FBQSxXQUNBOWEsS0FBQThQLEtBQUFnTCxRQUNBOWEsS0FBQThQLEtBQUFnTCxTQUVBOWEsS0FBQTg3RSxVQUFBLElBR0F2eUIsU0FBQSxTQUFBNzJCLEdBQ0EsR0FBQTU4QixHQUFBa0ssSUFDQWxLLEdBQUF5bEYsU0FBQUMsSUFDQTFsRixFQUFBeWxGLE9BQUFFLEVBQ0EzbEYsRUFBQXdsRixxQkFBQSxXQUNBeGxGLEVBQUFnbUYsU0FBQXBwRCxPQUtBb3BELFNBQUEsU0FBQXBwRCxHQUNBMXlCLEtBQUF1N0UsU0FBQUcsSUFDQTNzRixFQUFBaVIsS0FBQXE3RSxlQUFBLFNBQUF0bEYsR0FDQUEsRUFBQTI4QixLQUVBMXlCLEtBQUFxN0UsZUFBQWx0RixPQUFBLEVBQ0E2UixLQUFBdTdFLE9BQUFHLEtBS0F2eUIsR0FHQXR1RCxHQUNBMU4sT0FBQSw0QkFDQWdSLFFBQUEsZ0JBQUFndUcsR0FDQWh1RyxRQUFBLGtCQUFBZzlFLEdBQ0FoOUUsUUFBQSxhQUFBaXVHLEdBQ0FqdUcsUUFBQSxlQUFBLFVBQUEsUUFBQSxrQkFBQSxnQkFBQSxXQUFBLFdBQ0EsU0FBQWlNLEVBQUFFLEVBQUExRCxFQUFBYyxFQUFBOEMsRUFBQU4sR0FFQSxRQUFBNm9ELEdBQUFwL0QsRUFBQXVrQixHQUVBLEdBQUEyMkQsTUFDQTE3RSxFQUFBcTFFLEVBQUE3MEUsRUFFQXVrQixHQUFBODVELGlCQUNBbkQsRUFBQXg2RSxNQUFBMjNHLEVBQUEsYUFBQTl6RixFQUFBODVELGtCQUdBOTVELEVBQUE0NUQsZUFDQWpELEVBQUF4NkUsTUFBQTIzRyxFQUFBLFlBQUE5ekYsRUFBQTQ1RCxnQkFHQTU1RCxFQUFBMEMsT0FDQWkwRCxFQUFBeDZFLE1BQUEyM0csRUFBQSxtQkFBQTl6RixFQUFBMEMsTUFBQSxNQUdBMUMsRUFBQTh3RCxVQUNBNkYsRUFBQXg2RSxNQUFBMjNHLEVBQUEsc0JBQUE5ekYsRUFBQTh3RCxTQUFBLEtBR0EsSUFBQXNqQyxHQUFBcDBGLEVBQUE0NUQsZUFDQTU1RCxFQUFBbXlDLEtBQUFueUMsRUFBQTh3RCxTQUFBLEdBQUE5d0QsRUFBQTg1RCxpQkFDQXU2QixJQUFBcjBGLEVBQUE1RixZQUFBNEYsRUFBQTNGLFlBQ0FpNkYsRUFBQUYsR0FBQUMsQ0FFQXA5QixHQUFBeDdFLEdBQUEsR0FDQWcwRSxFQUFBaDBFLEVBQUF1a0IsRUFFQSxJQUNBeGIsR0FBQSt2RyxFQURBaCtCLEdBQUEsQ0FHQSxRQUNBaGpCLE1BQUFyaEQsRUFBQXFoRCxNQUNBRyxNQUFBLFdBK0VBLFFBQUFILEtBQ0EsTUFBQWdqQixHQUFBLFFBQ0FBLEdBQUEsRUFFQS94RSxHQUFBK3ZHLEdBQ0E5NEcsRUFBQTZtQixJQUFBOWQsRUFBQSt2RyxHQUVBQyxFQUFBLzRHLEVBQUF1a0IsR0FDQXd2RCxFQUFBL3pFLEVBQUF1a0IsR0FDQW5wQixFQUFBOC9FLEVBQUEsU0FBQTF6RCxHQUNBaG9CLEVBQUFzTyxNQUFBdUosRUFBQW1RLEVBQUEsS0FBQSxLQUVBMnZDLEVBQUF2QixVQUFBLEdBQ0F1QixHQTNGQSxHQUFBQSxHQUFBLEdBQUFsa0QsRUE0RUEsT0EzRUFxbEUsR0FBQSxXQUVBLEdBREFrRCxFQUFBeDdFLEdBQUEsSUFDQTY0RyxFQUNBLE1BQUEvZ0QsSUFHQTE4RCxHQUFBOC9FLEVBQUEsU0FBQTF6RCxHQUNBLEdBQUFqc0IsR0FBQWlzQixFQUFBLEdBQ0F0ckIsRUFBQXNyQixFQUFBLEVBQ0Fob0IsR0FBQXNPLE1BQUF1SixFQUFBOWIsSUFBQVcsSUFHQTY4RyxFQUFBLzRHLEVBQUF1a0IsRUFFQSxJQUFBeTFELEdBQUFNLEVBQUF0NkUsRUFDQSxJQUFBLElBQUFnNkUsRUFBQTNFLFNBQ0EsTUFBQXZkLElBR0EsSUFBQWtoRCxLQUVBejBGLEdBQUErM0QsU0FDQXRDLEVBQUFsQixvQkFDQWtnQyxFQUFBdDRHLE1BQUEyM0csRUFBQSw2QkFBQTl6RixFQUFBKzNELFNBRUF0QyxFQUFBZixtQkFDQSsvQixFQUFBdDRHLE1BQUEyM0csRUFBQSw0QkFBQTl6RixFQUFBKzNELFVBSUEvM0QsRUFBQTBDLE9BQUEreUQsRUFBQWQsZ0JBQ0E4L0IsRUFBQXQ0RyxNQUFBMjNHLEVBQUEsa0JBQUE5ekYsRUFBQTBDLE1BQUEsTUFHQTFDLEVBQUE4d0QsVUFBQTJFLEVBQUFmLG1CQUNBKy9CLEVBQUF0NEcsTUFBQTIzRyxFQUFBLHFCQUFBOXpGLEVBQUE4d0QsU0FBQSxNQUdBajZFLEVBQUE0OUcsRUFBQSxTQUFBeHhGLEdBQ0EsR0FBQWpzQixHQUFBaXNCLEVBQUEsR0FDQXRyQixFQUFBc3JCLEVBQUEsRUFDQWhvQixHQUFBc08sTUFBQXVKLEVBQUE5YixJQUFBVyxFQUNBZy9FLEVBQUF4NkUsS0FBQThtQixJQUdBLElBQUFpekQsR0FBQVQsRUFBQS95RCxNQUNBbTFELEVBQUEsSUFBQTNCLEVBQ0FDLEVBQUFWLEVBQUEzRSxTQUNBZ0gsRUFBQSxJQUFBM0IsRUFDQStCLEVBQUF2L0UsS0FBQXcvRSxLQUVBM3pFLE1BQ0FpeEUsRUFBQWxCLG9CQUNBL3ZFLEVBQUFySSxLQUFBNDNHLEdBRUF0K0IsRUFBQWYsbUJBQ0Fsd0UsRUFBQXJJLEtBQUE2M0csR0FFQXh2RyxFQUFBQSxFQUFBL0QsS0FBQSxLQUNBOHpHLEVBQUEsU0FBQXo3RixHQUNBQSxFQUFBUSxpQkFDQSxJQUFBd3NDLEdBQUFodEMsRUFBQTgvRCxlQUFBOS9ELEVBQ0ErL0QsRUFBQS95QixFQUFBK3lCLFdBQUFsZ0YsS0FBQXcvRSxNQUNBWSxFQUFBMzZCLFdBQUEwSCxFQUFBaXpCLFlBQUE1NkIsUUFBQSxHQUNBanVCLE1BQUFDLElBQUEwb0QsRUFBQVgsRUFBQSxJQUFBTCxHQUFBa0IsR0FBQTVDLEdBQ0E1aUIsS0FHQTkzRCxFQUFBd0ksR0FBQU8sRUFBQSt2RyxHQUVBN2tDLEVBQUFqMEUsRUFBQXVrQixHQUVBaE8sRUFBQXVoRCxFQUFBc2tCLEVBQUEsSUFBQUMsR0FBQSxLQUdBbGxCLElBcUJBLFFBQUE0aEQsR0FBQS80RyxFQUFBdWtCLEdBQ0FBLEVBQUE1RixXQUNBOUgsRUFBQThILFNBQUEzZSxFQUFBdWtCLEVBQUE1RixVQUNBNEYsRUFBQTVGLFNBQUEsTUFFQTRGLEVBQUEzRixjQUNBL0gsRUFBQStILFlBQUE1ZSxFQUFBdWtCLEVBQUEzRixhQUNBMkYsRUFBQTNGLFlBQUEsTUFJQSxRQUFBMDdELEdBQUF0NkUsR0FxQkEsUUFBQVAsR0FBQWxFLEdBQ0EsTUFBQTQ4RyxHQUFBLFNBQUE1OEcsRUFBQTZGLE9BQUEsR0FBQXFXLGNBQUFsYyxFQUFBeXBCLE9BQUEsR0FDQXpwQixFQXRCQSxHQUFBaUUsR0FBQXExRSxFQUFBNzBFLEdBQ0FpNUcsRUFBQXhpRyxFQUFBd00saUJBQUF6akIsR0FDQTA1RyxFQUFBNWlDLEVBQUEyaUMsRUFBQXg1RyxFQUFBLHdCQUNBMDVHLEVBQUE3aUMsRUFBQTJpQyxFQUFBeDVHLEVBQUEsdUJBQ0EyNUcsRUFBQTlpQyxFQUFBMmlDLEVBQUF4NUcsRUFBQSxxQkFDQTQ1RyxFQUFBL2lDLEVBQUEyaUMsRUFBQXg1RyxFQUFBLG1CQUVBMDVHLElBQUFyN0csU0FBQW03RyxFQUFBeDVHLEVBQUEsNEJBQUEsS0FBQSxDQUNBLElBQUE0MUUsR0FBQTVnRCxLQUFBQyxJQUFBeWtGLEVBQUFELEdBQ0FqeUYsRUFBQXdOLEtBQUFDLElBQUEya0YsRUFBQUQsRUFFQSxRQUNBL2pDLFNBQUFBLEVBQ0FwdUQsTUFBQUEsRUFDQWd5RCxrQkFBQWtnQyxFQUNBcmdDLG1CQUFBb2dDLEVBQ0FoZ0MsZUFBQW1nQyxFQUNBdGdDLGdCQUFBcWdDLEdBU0EsUUFBQTlpQyxHQUFBejRFLEdBQ0EsR0FBQTA0RSxHQUFBLEVBQ0F2N0MsR0FBQW45QixHQUFBLElBQUFpQyxNQUFBLFVBVUEsT0FUQTFFLEdBQUE0L0IsRUFBQSxTQUFBOStCLEdBR0EsS0FBQUEsRUFBQWtGLE9BQUFsRixFQUFBMUIsT0FBQSxLQUNBMEIsRUFBQUEsRUFBQXlJLFVBQUEsRUFBQXpJLEVBQUExQixPQUFBLElBRUEwQixFQUFBeW1ELFdBQUF6bUQsSUFBQSxFQUNBcTZFLEVBQUFBLEVBQUE5aEQsS0FBQUMsSUFBQXg0QixFQUFBcTZFLEdBQUFyNkUsSUFFQXE2RSxFQUtBLFFBQUErQixHQUFBbHlELEdBQ0FrekYsR0FDQUEsSUFFQWwvQixFQUFBMTVFLEtBQUEwbEIsR0FDQWt6RixFQUFBM2lHLEVBQUEsV0FDQTJpRyxFQUFBLElBUUEsS0FBQSxHQUpBai9CLEdBQUF0bUUsSUFJQW5hLEVBQUEsRUFBQUEsRUFBQXdnRixFQUFBNS9FLE9BQUFaLElBQ0F3Z0YsRUFBQXhnRixHQUFBeWdGLEVBRUFELEdBQUE1L0UsT0FBQSxJQUlBLFFBQUF1NUUsR0FBQS96RSxFQUFBdWtCLEdBQ0F5dkQsRUFBQWgwRSxFQUFBdWtCLEdBQ0EwdkQsRUFBQWowRSxFQUFBdWtCLEdBR0EsUUFBQXl2RCxHQUFBaDBFLEVBQUF1a0IsR0FDQUEsRUFBQWt5QyxPQUNBejJELEVBQUFxekQsSUFBQTl1QyxFQUFBa3lDLE1BQ0FseUMsRUFBQWt5QyxLQUFBLE1BSUEsUUFBQXdkLEdBQUFqMEUsRUFBQXVrQixHQUNBQSxFQUFBbXlDLEtBQ0ExMkQsRUFBQXF6RCxJQUFBOXVDLEVBQUFteUMsSUFDQW55QyxFQUFBbXlDLEdBQUEsTUFJQSxRQUFBbWUsR0FBQTcwRSxHQUNBLElBQUEsR0FBQXBHLEdBQUEsRUFBQUEsRUFBQW9HLEVBQUF4RixPQUFBWixJQUNBLEdBQUEsSUFBQW9HLEVBQUFwRyxHQUFBd0ssU0FBQSxNQUFBcEUsR0FBQXBHLEdBSUEsUUFBQTRoRixHQUFBeDdFLEVBQUFnbkYsR0FDQSxHQUFBeG5GLEdBQUFxMUUsRUFBQTcwRSxHQUNBekUsRUFBQThiLEVBQUFnaEcsRUFBQSxtQkFDQTc0RyxHQUFBc08sTUFBQXZTLEdBQUF5ckYsRUFBQSxTQUFBLEdBbkRBLEdBQUFzeUIsR0FDQWwvQixJQXFEQSxPQUFBaGIsWUFvQkEsV0FVQWw0RCxFQUFBMU4sT0FBQSxvQ0FDQSxnQkFDQSwyQkFDQSx5Q0FJQSxXQWtCQSxRQUFBKy9HLEdBQUFDLEdBQ0EsT0FDQTd1RixTQUFBLElBQ0EvQyxLQUFBLFNBQUFoaEIsRUFBQTVHLEVBQUFOLEdBR0FrSCxFQUFBNnJCLElBQUEsV0FBQSxXQUNBK21GLEVBQUE3d0YsY0F5R0EsUUFBQTh3RixHQUFBQyxHQWFBLFFBQUFDLEdBQUFobkcsRUFBQTQvRSxFQUFBMkIsRUFBQTBPLEVBQUE0VyxFQUFBMXNGLEVBQUFpeUUsR0FhQSxRQUFBd0YsR0FBQTM5RixFQUFBNUcsRUFBQXVrQixFQUFBNWIsR0FFQTNJLEVBQUFrMEYsRUFBQTRFLHFCQUFBOTRGLEVBQUEsbUJBR0E0NUcsRUFBQTFsQixFQUFBd0QsZUFBQTl3RixFQUFBLHNDQUVBMmQsRUFBQXMxRixxQkFDQUQsRUFBQXB4RyxHQUFBLFFBQUEsV0FDQTByRixFQUFBM2hELFNBQUFpbkUsRUFBQXJ5RixRQUFBLEtBSUF5N0UsRUFBQTdrRyxRQUFBNjdHLEVBQUFyMUYsRUFBQXZtQixRQUVBMlUsRUFBQXlrRCxNQUFBd2lELEVBQUFyMUYsRUFBQXZtQixPQUFBLEtBRUEsSUFBQTg3RyxHQUFBLEdBQUFDLEdBQUEvNUcsRUFBQXVrQixFQUFBdm1CLE9BU0EsT0FSQXVtQixHQUFBdTFGLFlBQUFBLEVBRUFsWCxFQUFBN2tHLFFBQUErN0csRUFBQTk1RyxRQUFBdWtCLEVBQUF2bUIsUUFFQXVtQixFQUFBeTFGLHNCQUNBejFGLEVBQUEwMUYsY0FBQS9sQixFQUFBd0Isb0JBQUFva0IsRUFBQTk1RyxRQUFBdWtCLEVBQUF2bUIsU0FHQTJVLEVBQUF5a0QsTUFBQTBpRCxFQUFBOTVHLFFBQUF1a0IsRUFBQXZtQixRQUNBb0IsS0FBQSxXQUNBLEdBQUE4NkcsR0FBQWhtQixFQUFBVyxnQkFBQTcwRixJQUFBa0gsRUFBQWxILFFBQ0FBLEVBQUEsR0FBQStGLGNBQUEsV0FDQS9GLEVBQUEsR0FBQStGLGNBQUEsTUFDQS9GLEVBQUEsR0FBQStGLGNBQUEsY0FFQW0wRyxHQUFBaDJDLFFBRUEzL0MsRUFBQTQxRixnQkFDQTUxRixFQUFBNjFGLHlCQUFBLFNBQUFwMkcsR0FDQUEsRUFBQTRtRCxVQUFBMm5DLEVBQUF4RCxTQUFBLzFCLFFBQ0FrN0IsRUFBQTNoRCxTQUFBaW5FLEVBQUFyeUYsUUFBQSxJQUdBMkYsRUFBQXRrQixHQUFBLFFBQUErYixFQUFBNjFGLDZCQU1BLFFBQUE1VixHQUFBNTlGLEVBQUE1RyxFQUFBdWtCLEdBRUEsR0FBQXUxRixHQUFBdjFGLEVBQUF1MUYsV0FHQSxPQURBbm5HLEdBQUEya0QsTUFBQXNpRCxHQUNBam5HLEVBQUEya0QsTUFBQXdpRCxFQUFBOTVHLFNBQUFaLEtBQUEsV0FDQW1sQixFQUFBeTFGLHNCQUNBejFGLEVBQUEwMUYsc0JBQ0ExMUYsR0FBQTAxRixlQUdBSCxFQUFBTyxZQU9BLFFBQUFOLEdBQUEvNUcsRUFBQWhDLEdBZ0JBLFFBQUFzOEcsR0FBQWp3RCxHQUVBcnFELEVBQUFxekQsSUFBQWsvQixFQUFBdjJDLElBQUFtMEMsb0JBQUEsT0FHQSxRQUFBb3FCLEdBQUFsd0QsR0FDQSxHQUFBd3RELEdBQUF4dEQsRUFBQTJ3QyxRQUFBaUMsU0FDQSxHQUFBNGEsSUFFQUEsRUFBQXBqRixLQUFBQyxLQUFBOGxGLEVBQUEzQyxFQUFBLElBRUE3M0csRUFBQXF6RCxJQUFBay9CLEVBQUF2MkMsSUFBQWcwQyxVQUFBLGtCQUFBd3FCLEVBQUEzQyxHQUFBLFNBR0EsUUFBQTRDLEdBQUFwd0QsR0FDQSxHQUFBQSxFQUFBMndDLFFBQUFpQyxVQUFBLElBQ0E1eUMsRUFBQTJ3QyxRQUFBaUMsVUFBQSxJQUFBeG9FLEtBQUEwdEIsSUFBQWtJLEVBQUEyd0MsUUFBQXlDLFdBQUFpZCxHQUFBLENBQ0EsR0FBQUMsR0FBQTM2RyxFQUFBUCxLQUFBLGdCQUFBNHFELEVBQUEyd0MsUUFBQWlDLFVBQ0Fua0IsRUFBQXJrRCxLQUFBb3VCLElBQUE4M0QsRUFBQXR3RCxFQUFBMndDLFFBQUF5QyxVQUFBLElBQUEsSUFDQXo5RixHQUFBcXpELElBQUFrL0IsRUFBQXYyQyxJQUFBbTBDLG9CQUFBclgsRUFBQSxNQUNBb2IsRUFBQTNoRCxTQUFBaW5FLEVBQUFyeUYsUUFBQSxPQUVBbm5CLEdBQUFxekQsSUFBQWsvQixFQUFBdjJDLElBQUFtMEMsb0JBQUEsSUFDQW53RixFQUFBcXpELElBQUFrL0IsRUFBQXYyQyxJQUFBZzBDLFVBQUEsSUF0Q0EsR0FBQW9ZLEdBQUFySixFQUFBdGpFLFNBQUF6OUIsRUFBQSxRQUFBMCtGLFlBQUEsR0FLQSxPQUpBMStGLEdBQUF3SyxHQUFBLGdCQUFBOHhHLEdBQ0E5eEcsR0FBQSxXQUFBK3hHLEdBQ0EveEcsR0FBQSxjQUFBaXlHLElBR0F6NkcsUUFBQUEsRUFDQXE2RyxRQUFBLFdBQ0FqUyxJQUNBcHFHLEVBQUE2b0IsSUFBQSxnQkFBQXl6RixHQUNBdDhHLEVBQUE2b0IsSUFBQSxXQUFBMHpGLEdBQ0F2OEcsRUFBQTZvQixJQUFBLGNBQUE0ekYsS0F6RkEsR0FBQWIsRUFFQSxRQUNBL1UsVUFBQSxFQUNBTixPQUFBQSxFQUNBQyxTQUFBQSxFQUNBMlYsZUFBQSxFQUNBTixxQkFBQSxFQUNBRyxxQkFBQSxHQXBCQSxHQUFBVSxHQUFBLEdBQ0FGLEVBQUEsRUFHQSxPQURBYixHQUFBbjZGLFNBQUEsV0FBQSxjQUFBLFVBQUEsYUFBQSxpQkFBQSxlQUFBLGNBQ0FrNkYsRUFBQSxrQkFDQTVZLGFBQ0FHLFNBQUEsc0JBQUEsZ0JBQUEsdUJBQ0ExOEUsUUFBQW8xRixJQWxJQXp5RyxFQUNBMU4sT0FBQSxtQ0FDQSxnQkFDQSxpQ0FFQTBTLFVBQUEsZ0JBQUFxdEcsR0FDQXp1RyxTQUFBLGlCQUFBMnVHLEdBZUFGLEVBQUEvNUYsU0FBQSxrQkE4T0FpNkYsRUFBQWo2RixTQUFBLCtCQUdBLFdBc0JBdFksRUFDQTFOLE9BQUEsZ0NBQUEsa0JBQ0EwUyxVQUFBLGNBQUEsYUFBQSxXQUFBLGVBQUEsVUFBQSxPQUFBLFFBQUEsWUFBQSxTQUFBMDJGLEVBQUFqd0YsRUFBQW1hLEVBQUFyVyxFQUFBeEIsRUFBQTBCLEVBQUFsRCxHQVFBLFFBQUFtbkcsR0FBQWgwRyxFQUFBNUcsRUFBQTR0QixHQUlBLEdBQUFpVixHQUFBcHNCLEVBQUF3TSxpQkFBQXhQLEVBQUEsR0FBQW92QixLQUNBLElBQUEsU0FBQUEsRUFBQTNmLFNBQUEsQ0FDQSxHQUFBMjNGLEdBQUEvOEcsU0FBQStrQyxFQUFBOHhELE9BQUEsSUFBQWxnRSxLQUFBMHRCLElBQUFya0QsU0FBQStrQyxFQUFBcmYsSUFBQSxJQUNBeGpCLEdBQUFxekQsS0FDQXNoQyxPQUFBa21CLEVBQUEsT0FLQWxvRyxFQUFBNGpELEtBQUE1akQsRUFBQTRqRCxJQUFBdjJELEVBQUE4c0IsR0FFQW5XLEVBQUEsV0FJQSxHQUFBM1ksR0FBQWdDLEVBQUFoQyxTQUFBLEVBQ0EsSUFBQUEsRUFBQSxDQUVBLFFBQUFBLEVBQUFWLFVBQ0EwQyxFQUFBcXpELEtBQUFud0MsU0FBQSxTQUdBLElBQUFnd0QsR0FBQXo4RCxFQUFBd00saUJBQUFqbEIsRUFDQSxXQUFBazFFLEVBQUFod0QsVUFFQWpPLEVBQUFnM0IsS0FBQTZ1RSxHQUlBbFksRUFBQTdrRyxRQUFBaUMsRUFBQUEsRUFBQWhDLFlBeENBLEdBQUE4OEcsR0FBQSx3RkFFQSxRQUNBbndGLFNBQUEsSUFDQS9DLEtBQUFnekYsU0E0Q0EsV0FrRUEsUUFBQUcsR0FBQTNSLEVBQUF4RyxFQUFBb1ksRUFBQXprRyxHQVVBLFFBQUEwa0csR0FBQXY3RyxHQUNBLE1BQUF3SCxHQUFBeEksVUFBQWdCLEVBQUEybUIsT0FBQW5mLEVBQUF4SSxVQUFBZ0IsRUFBQXc3RyxTQUFBaDBHLEVBQUF4SSxVQUFBZ0IsRUFBQXk3RyxTQUFBajBHLEVBQUF4SSxVQUFBZ0IsRUFBQTA3RyxRQUdBLFFBQUFDLEdBQUFyN0csRUFBQU4sR0FDQSxHQUFBdTdHLEVBQUF2N0csR0FDQSxNQUFBLHlDQUdBLElBQUE0N0csR0FBQSxtQkFBQTU3RyxHQUFBMGEsS0FBQSxTQUFBMWEsRUFBQTBhLElBQ0EsT0FBQSxtQ0FBQWtoRyxFQUFBLDRCQUlBLFFBQUFWLEdBQUFoMEcsRUFBQTVHLEVBQUFOLEdBQ0EsR0FBQUYsR0FBQVEsRUFBQSxFQUNBNGlHLEdBQUE1aUcsR0FDQW9wRyxFQUFBTixPQUFBbGlHLEVBQUE1RyxFQUVBLElBQUF1N0csR0FBQS83RyxFQUFBNFosWUFBQUssTUFDQThoRyxJQUNBUCxFQUFBaGdELE9BQUFoN0QsRUFBQSxjQUtBaTdHLEVBQUF2N0csSUFBQXdILEVBQUF4SSxVQUFBZ0IsRUFBQTg3RyxhQUNBNTBHLEVBQUE5SCxPQUFBWSxFQUFBODdHLFdBQUEsU0FBQUMsR0FDQXo3RyxFQUFBTixLQUFBLFdBQUErN0csRUFBQSxHQUFBLEtBS0F6N0csRUFBQXdJLEdBQUEsUUFBQSxTQUFBeEUsR0FDQXRFLEVBQUErb0UsWUFBQSxJQUNBemtFLEVBQUE2bUMsaUJBQ0E3bUMsRUFBQTRaLDhCQUtBaFgsRUFBQTgwRyxhQUFBLEVBQ0ExN0csRUFBQXdJLEdBQUEsWUFBQSxXQUNBNUIsRUFBQTgwRyxhQUFBLEVBQ0FubEcsRUFBQSxXQUNBM1AsRUFBQTgwRyxhQUFBLEdBQ0EsT0FFQWx6RyxHQUFBLFFBQUEsV0FDQTVCLEVBQUE4MEcsZUFBQSxHQUNBMTdHLEVBQUEyZSxTQUFBLGdCQUdBblcsR0FBQSxPQUFBLFNBQUE2aEQsR0FDQXJxRCxFQUFBNGUsWUFBQSxnQkE5REEsT0FDQStMLFNBQUEsS0FDQXh3QixTQUFBLEVBQ0F1ekIsWUFBQSxFQUNBeHpCLFNBQUFtaEgsRUFDQXp6RixLQUFBZ3pGLEdBL0RBMXpHLEVBQ0ExTixPQUFBLDhCQUFBLGtCQUNBMFMsVUFBQSxXQUFBNnVHLEdBMkhBQSxFQUFBdjdGLFNBQUEscUJBQUEsYUFBQSxVQUFBLGVBR0EsV0E0SEEsUUFBQW04RixHQUFBL1ksR0FDQSxPQUNBajRFLFNBQUEsSUFDQS9DLEtBQUEsU0FBQTZKLEVBQUF0RyxHQUNBeTNFLEVBQUF6M0UsS0F0SEFqa0IsRUFBQTFOLE9BQUEsNEJBQ0Esa0JBRUEwUyxVQUFBLFNBQUF5dkcsR0F1SEFBLEVBQUFuOEYsU0FBQSxpQkFHQSxXQW1EQSxRQUFBbzhGLEdBQUF0dUcsRUFBQTB0RyxFQUFBem9CLEVBQUFxUSxFQUFBMU8sRUFBQTM5RSxHQXFCQSxRQUFBMVAsR0FBQTg4RCxFQUFBeHVDLEdBY0EsTUFaQUEsR0FBQS9hLEtBQUEsV0FDQSthLEVBQUFtM0QsU0FBQW4zRCxFQUFBbTNELFVBQUEsSUFDQTNvQixFQUFBamtFLEtBQUEsT0FBQXkxQixFQUFBL2EsTUFJQXVwRCxFQUFBbjdELEdBQUEsUUFBQSxTQUFBNlUsR0FDQWhSLEtBQUF4RyxhQUFBLGFBQ0F3WCxFQUFBTyw2QkFJQSxTQUFBaFgsRUFBQTVHLEVBQUFOLEVBQUErckUsR0E4Q0EsUUFBQWloQixHQUFBai9DLEVBQUFzMEIsRUFBQTg1QyxHQUNBbjhHLEVBQUErdEMsSUFDQTdtQyxFQUFBOUgsT0FBQVksRUFBQSt0QyxHQUFBLFNBQUFqckMsR0FDQXE1RyxFQUFBcjVHLElBQ0F4QyxFQUFBTixLQUFBcWlFLEVBQUE4NUMsRUFBQXI1RyxNQU1BLFFBQUFzNUcsR0FBQXp4RCxHQUNBLEdBQUFPLEdBQUFQLEVBQUEzZixPQUFBMmYsRUFBQU8sU0FDQUEsSUFBQTJuQyxFQUFBeEQsU0FBQUcsT0FBQXRrQyxJQUFBMm5DLEVBQUF4RCxTQUFBRSxTQUNBNWtDLEVBQUF4ZixpQkFFQTdxQyxFQUFBeWUsU0FBQSxlQUNBemUsRUFBQTJlLFNBQUEsY0FHQWtILEVBQUF3a0MsSUFHQSxRQUFBeGtDLEdBQUF3a0MsR0FDQXJxRCxFQUFBLEdBQUE2RixhQUFBLGFBSUFlLEVBQUFFLE9BQUEsV0FFQSxHQUFBa25ELEdBQUF0dUQsRUFBQXE4RyxVQUFBcjhHLEVBQUE0dUQsU0FBQW1kLEVBQUFsaEIsVUFFQWtoQixHQUFBaGhCLGNBQUF1RCxFQUFBM0QsR0FBQUEsRUFBQWp3QyxNQUNBcXhELEVBQUE1Z0IsWUFJQSxRQUFBbXhELEtBQ0F2d0MsRUFBQWxoQixXQUNBdnFELEVBQUEyZSxTQUFBczlGLEdBRUFqOEcsRUFBQTRlLFlBQUFxOUYsR0FyRkF4d0MsRUFBQUEsR0FBQXlvQixFQUFBMEQsY0FDQWdMLEVBQUE1aUcsR0FFQU4sRUFBQXE4RyxXQUNBbjFHLEVBQUE5SCxPQUNBOEgsRUFBQTB5QyxNQUFBcDNDLEtBQUEwRSxFQUFBbEgsRUFBQXE4RyxXQUNBdHdDLEVBQUFoaEIsY0FBQXZvRCxLQUFBdXBFLElBSUFpaEIsRUFBQSxhQUFBLFlBQ0Fsd0IsT0FBQSxLQUNBQyxRQUFBLzhELEVBQUE0c0YsV0FHQTB1QixFQUFBL2dCLGVBQUFqNkYsRUFBQSxjQUtBc04sRUFBQXNhLEtBQUFpSixJQUFBanFCLEdBQ0E0QixHQUFBdEIsRUFBQS9JLEtBQ0ErOUcsTUFDQXg4RyxHQUFBK3JFLElBRUE3a0UsRUFBQTgwRyxhQUFBLEVBQ0ExN0csRUFBQXdJLEdBQUEsUUFBQXFkLEdBQ0FyZCxHQUFBLFdBQUFzekcsR0FDQXR6RyxHQUFBLFlBQUEsV0FDQTVCLEVBQUE4MEcsYUFBQSxFQUNBbmxHLEVBQUEsV0FDQTNQLEVBQUE4MEcsYUFBQSxHQUNBLE9BRUFsekcsR0FBQSxRQUFBLFdBQ0E1QixFQUFBODBHLGVBQUEsR0FDQTE3RyxFQUFBMmUsU0FBQSxnQkFHQW5XLEdBQUEsT0FBQSxXQUNBeEksRUFBQTRlLFlBQUEsZ0JBR0E2c0QsRUFBQTVnQixRQUFBbXhELEdBOUVBMXVHLEVBQUFBLEVBQUEsRUFDQSxJQUFBMnVHLEdBQUEsWUFFQSxRQUNBdHhGLFNBQUEsSUFDQStDLFlBQUEsRUFDQWhELFFBQUEsV0FDQUQsU0FBQSxJQUNBdndCLFNBQ0EsNklBSUEyTSxRQUFBQSxHQXpEQUssRUFDQTFOLE9BQUEsZ0NBQUEsa0JBQ0EwUyxVQUFBLGFBQUEwdkcsR0F3S0FBLEVBQUFwOEYsU0FBQSxpQkFBQSxVQUFBLGNBQUEsYUFBQSxVQUFBLGVBR0EsV0FVQXRZLEVBQUExTixPQUFBLDZCQUNBLGdCQUNBLHdDQUlBLFdBcUNBLFFBQUEyaUgsR0FBQXZaLEdBY0EsUUFBQXdaLEdBQUEzcUYsRUFBQXRHLEdBQ0E5ZSxLQUFBb2xCLE9BQUFBLEVBQ0FwbEIsS0FBQThlLFNBQUFBLEVBZkEsT0FDQVIsU0FBQSxJQUNBaGlCLFlBQUEsU0FBQSxXQUFBeXpHLEdBQ0F4MEYsS0FBQSxTQUFBaGhCLEVBQUE1RyxFQUFBTixHQUNBTSxFQUFBLEVBRUE0aUcsR0FBQTVpRyxHQUNBNEcsRUFBQXNqQyxXQUFBLG1CQUFBbHFDLEdBRUFxOEcsRUFBQXI4RyxFQUFBLE1BV0EsUUFBQXE4RyxHQUFBNzhHLEdBS0EwSCxFQUFBbEgsUUFBQVIsR0FBQWdKLEdBQUEsZ0JBQUEsU0FBQTZoRCxHQUVBLE1BQUFBLEVBQUEyd0MsUUFBQTVnRixPQUVBaXdDLEVBQUFpeUQsdUJBQ0FqeUQsRUFBQWl5RCxzQkFBQSxFQUVBLElBQUE5OEcsRUFBQXNnRixVQUNBdGdGLEVBQUFzZ0YsVUFBQSxFQUNBdGdGLEVBQUE4MkYsZUFBQTkyRixFQUFBc2dGLFVBQUF0Z0YsRUFBQSs4RyxlQUNBLzhHLEVBQUFzZ0YsV0FBQSxPQS9EQTU0RSxFQUFBMU4sT0FBQSwrQkFDQSxrQkFFQTBTLFVBQUEsWUFBQWl3RyxHQTJDQUEsRUFBQTM4RixTQUFBLGlCQXVCQSxZQUdBLFdBMENBLFFBQUFnOUYsS0FDQSxPQUNBdGlILFNBQ0EsMk1BR0F1aUgsRUFBQUMsR0FBQSwwUUFLQUEsRUFBQSx5REFJQTkxRyxPQUNBKzFHLFFBQUEsYUFDQUMsUUFBQSxhQUNBajlELFdBQUEsaUJBRUFqMUIsU0FBQSxVQUFBLGNBQ0EvaEIsV0FBQWswRyxFQUNBanpGLGFBQUEsT0FDQUQsa0JBQUEsRUFDQS9CLEtBQUEsU0FBQWhoQixFQUFBNUcsRUFBQTR0QixFQUFBVyxHQUNBLEdBQUFrOUMsR0FBQWw5QyxFQUFBLEdBQ0F1dUYsRUFBQXZ1RixFQUFBLEVBQ0F1dUYsR0FBQUMsaUJBQUF0eEMsS0FxQkEsUUFBQW94QyxHQUFBMXhGLEVBQUF1RyxFQUFBRCxFQUFBOWUsRUFBQTRDLEVBQUFnOUUsRUFDQXFRLEVBQUFvYSxFQUFBQyxFQUFBelUsRUFBQXRVLEdBU0EsR0FSQTBPLEVBQUF6M0UsR0FNQTllLEtBQUF4TSxPQUFBckYsT0FBQSxLQUVBNlIsS0FBQXV3RyxTQUFBdndHLEtBQUFzd0csUUFBQSxDQUVBLEdBQUFPLEdBQUFGLEVBQUFHLGlCQUFBOXdHLEtBQUFzd0csUUFBQXR3RyxLQUFBdXdHLFNBQUEsQ0FDQU0sR0FBQXpvRixLQUFBQyxJQUFBd29GLEVBQUEsR0FFQUEsR0FBQSxFQUNBN3dHLEtBQUF4TSxNQUFBckYsT0FBQTBpSCxFQTBDQSxHQXRDQTd3RyxLQUFBc0csU0FBQUEsRUFHQXRHLEtBQUFrSixHQUFBQSxFQUdBbEosS0FBQW04RixhQUFBQSxFQUdBbjhGLEtBQUE2bkYsUUFBQUEsRUFHQTduRixLQUFBdStDLFFBQUEybkMsRUFBQXhELFNBR0ExaUYsS0FBQSt3RyxTQUFBSixFQUdBM3dHLEtBQUFneEcsV0FBQUosRUFHQTV3RyxLQUFBOGUsU0FBQUEsRUFHQTllLEtBQUFvbEIsT0FBQUEsRUFHQXBsQixLQUFBaXhHLGdCQUFBbnlGLEVBQUEsR0FBQXBsQixjQUFBLGdCQUdBc0csS0FBQWt4RyxpQkFBQXB5RixFQUFBLEdBQUFwbEIsY0FBQSwrQkFHQXNHLEtBQUFteEcsTUFBQW54RyxLQUFBK3dHLFNBQUFLLHVCQUdBcHhHLEtBQUFxeEcsb0JBQUFyeEcsS0FBQSt3RyxTQUFBTyxnQkFBQXR4RyxLQUFBbXhHLE9BQUFueEcsS0FBQXhNLE1BQUFyRixPQUFBLEdBRUE2UixLQUFBc3dHLFNBQUF0d0csS0FBQXN3RyxRQUFBdHdHLEtBQUFxeEcsb0JBQ0FyeEcsS0FBQXF4RyxvQkFBQXJ4RyxLQUFBc3dHLFlBQ0EsSUFBQXR3RyxLQUFBdXdHLFFBQUEsQ0FJQXZ3RyxLQUFBeE0sTUFBQXJGLE9BQUEsQ0FDQTZSLE1BQUFxeEcsb0JBQUFyeEcsS0FBQSt3RyxTQUFBTyxnQkFBQXR4RyxLQUFBdXdHLFVBQUF2d0csS0FBQXhNLE1BQUFyRixPQUFBLElBS0E2UixLQUFBOGIsR0FBQWd3RSxJQUdBOXJGLEtBQUFvL0QsWUFBQSxLQVNBcC9ELEtBQUF1eEcsYUFBQSxLQVNBdnhHLEtBQUF3eEcsWUFBQSxLQU1BeHhHLEtBQUF5eEcsVUFBQSxLQUdBenhHLEtBQUEwekYsZUFBQSxFQUdBMXpGLEtBQUEweEcsNkJBQUEsRUFLQXJzRixFQUFBLFVBQ0F2RyxFQUFBenJCLEtBQUEsV0FBQSxLQUdBLElBQUF5QyxHQUFBa0ssSUFPQUEsTUFBQTJ4RyxpQkFBQSxXQUNBLEdBQUFDLEdBQUE1eEcsSUFDQUEsTUFBQXhHLGFBQUEsbUJBQ0E0ckIsRUFBQTNxQixPQUFBLFdBQ0EsR0FBQW8zRyxHQUFBNzFGLE9BQUE0MUYsRUFBQTM0RyxhQUFBLGtCQUNBbkQsR0FBQWc4RyxnQkFBQWg4RyxFQUFBaTdHLFNBQUFLLHFCQUFBUyxPQUtBN3hHLEtBQUEreEcsK0JBbk5BbDNHLEVBQUExTixPQUFBLGtDQUNBLGdCQUNBLDJCQUNBLHNDQUNBMFMsVUFBQSxhQUFBc3dHLEVBc0JBLElBQUFFLEdBQUEsSUFNQUQsRUFBQSxHQW1DQTRCLEVBQUEsNEJBR0FDLEVBQUEsV0FHQW5tQixFQUFBLENBNElBMGtCLEdBQUFyOUYsU0FBQSxXQUFBLFNBQUEsU0FBQSxXQUFBLEtBQUEsY0FBQSxhQUFBLGVBQUEsZ0JBQUEsZUFBQSxXQVNBcTlGLEVBQUF4NkYsVUFBQTA2RixpQkFBQSxTQUFBdHhDLEdBQ0FwL0QsS0FBQW8vRCxZQUFBQSxDQUVBLElBQUF0cEUsR0FBQWtLLElBQ0FvL0QsR0FBQTVnQixRQUFBLFdBQ0Exb0QsRUFBQW84RyxtQkFBQXA4RyxFQUFBc3BFLFlBQUFsaEIsY0FRQXN5RCxFQUFBeDZGLFVBQUFtOEYsNEJBQUEsV0FDQW55RyxLQUFBb3lHLGtCQUNBcHlHLEtBQUFxeUcsd0JBRUFyeUcsS0FBQXd4RyxZQUFBeHhHLEtBQUF1eEcsY0FBQXZ4RyxLQUFBbXhHLE1BQ0FueEcsS0FBQTB6RixlQUFBLEdBVUE4YyxFQUFBeDZGLFVBQUFxOEYsc0JBQUEsV0FDQSxHQUFBMStHLEdBQUFxTSxLQUFBOGUsU0FBQSxHQUVBMnFFLEVBQUE5MUYsRUFBQStGLGNBQUEsNEJBQ0E0NEcsRUFBQXR5RyxLQUFBa3hHLGlCQUVBcUIsRUFBQTUrRyxFQUFBK0YsY0FBQSwyQkFBQXN3RixZQUNBd29CLEVBQUFGLEVBQUF4bUQsWUFBQXdtRCxFQUFBdG9CLFdBRUFQLEdBQUFob0YsTUFBQTRtRixNQUFBa3FCLEVBQUEsS0FDQUQsRUFBQTd3RyxNQUFBNG1GLE1BQUFrcUIsRUFBQUMsRUFBQSxLQUNBRixFQUFBN3dHLE1BQUFneEcsYUFBQUQsRUFBQSxNQUtBaEMsRUFBQXg2RixVQUFBKzdGLDZCQUFBLFdBRUEveEcsS0FBQThlLFNBQUEzaUIsR0FBQSxVQUFBdEIsRUFBQWhGLEtBQUFtSyxLQUFBQSxLQUFBMHlHLGtCQVVBbEMsRUFBQXg2RixVQUFBMDhGLGVBQUEsU0FBQTFoRyxHQUNBLEdBQUFsYixHQUFBa0ssSUFDQUEsTUFBQW9sQixPQUFBM3FCLE9BQUEsV0FHQSxHQUFBdVcsRUFBQXF0QixPQUFBdm9DLEVBQUF5b0QsUUFBQW9PLFFBQUEzN0MsRUFBQXF0QixPQUFBdm9DLEVBQUF5b0QsUUFBQStrQyxJQU9BLE1BTkF4dEYsR0FBQXN2QixPQUFBcW9CLE1BQUEsMEJBRUF6OEIsRUFBQXF0QixPQUFBdm9DLEVBQUF5b0QsUUFBQStrQyxLQUNBdHlFLEVBQUF3dEIsaUJBUUEsSUFBQXh0QixFQUFBcXRCLFFBQUF2b0MsRUFBQXlvRCxRQUFBcWtDLE1BR0EsTUFGQTlzRixHQUFBZzhHLGdCQUFBaDhHLEVBQUEwN0csaUJBQ0F4Z0csR0FBQXd0QixnQkFLQSxJQUFBdm5DLEdBQUFuQixFQUFBNjhHLHlCQUFBM2hHLEVBQ0EvWixLQUNBQSxFQUFBbkIsRUFBQTg4RyxxQkFBQTM3RyxHQUNBK1osRUFBQXd0QixpQkFDQXh0QixFQUFBUSxrQkFJQTFiLEVBQUErOEcsa0JBQUE1N0csR0FBQWxFLEtBQUEsV0FDQStDLEVBQUEraEUsTUFBQTVnRSxTQVdBdTVHLEVBQUF4NkYsVUFBQTI4Rix5QkFBQSxTQUFBM2hHLEdBQ0EsR0FBQSsvRixHQUFBL3dHLEtBQUErd0csU0FDQXh5RCxFQUFBditDLEtBQUF1K0MsT0FFQSxRQUFBdnRDLEVBQUFxdEIsT0FDQSxJQUFBa2dCLEdBQUE2a0MsWUFBQSxNQUFBMnRCLEdBQUErQixjQUFBOXlHLEtBQUF3eEcsWUFBQSxFQUNBLEtBQUFqekQsR0FBQTJrQyxXQUFBLE1BQUE2dEIsR0FBQStCLGNBQUE5eUcsS0FBQXd4RyxZQUFBLEdBQ0EsS0FBQWp6RCxHQUFBOGtDLFdBQ0EsTUFBQXJ5RSxHQUFBbXRCLFFBQ0E0eUUsRUFBQU8sZ0JBQUF0eEcsS0FBQXd4RyxZQUFBLEdBQ0FULEVBQUErQixjQUFBOXlHLEtBQUF3eEcsWUFBQSxFQUNBLEtBQUFqekQsR0FBQTRrQyxTQUNBLE1BQUFueUUsR0FBQW10QixRQUNBNHlFLEVBQUFPLGdCQUFBdHhHLEtBQUF3eEcsWUFBQSxJQUNBVCxFQUFBK0IsY0FBQTl5RyxLQUFBd3hHLFlBQUEsR0FDQSxLQUFBanpELEdBQUF3a0MsVUFBQSxNQUFBZ3VCLEdBQUFPLGdCQUFBdHhHLEtBQUF3eEcsWUFBQSxFQUNBLEtBQUFqekQsR0FBQXVrQyxRQUFBLE1BQUFpdUIsR0FBQU8sZ0JBQUF0eEcsS0FBQXd4RyxZQUFBLEdBQ0EsS0FBQWp6RCxHQUFBMGtDLEtBQUEsTUFBQTh0QixHQUFBZ0Msb0JBQUEveUcsS0FBQXd4RyxZQUNBLEtBQUFqekQsR0FBQXlrQyxJQUFBLE1BQUErdEIsR0FBQWlDLG1CQUFBaHpHLEtBQUF3eEcsWUFDQSxTQUFBLE1BQUEsUUFRQWhCLEVBQUF4NkYsVUFBQWk5RixzQkFBQSxXQUNBLE1BQUFqekcsTUFBQSt3RyxTQUFBRCxpQkFBQTl3RyxLQUFBcXhHLG9CQUNBcnhHLEtBQUF1eEcsY0FBQXZ4RyxLQUFBbXhHO0VBT0FYLEVBQUF4NkYsVUFBQWs5RixjQUFBLFNBQUFqOEcsR0FDQSxHQUFBK0ksS0FBQSt3RyxTQUFBNXdELFlBQUFscEQsR0FBQSxDQUlBLEdBQUFrOEcsR0FBQW56RyxLQUFBK3dHLFNBQUFELGlCQUFBOXdHLEtBQUFxeEcsb0JBQUFwNkcsRUFDQStJLE1BQUFreEcsaUJBQUF6OUIsVUFBQTAvQixFQUFBOUMsSUFPQUcsRUFBQXg2RixVQUFBODdGLGdCQUFBLFNBQUE3NkcsR0FDQStJLEtBQUFvbEIsT0FBQXFvQixNQUFBLHFCQUFBeDJDLEdBQ0ErSSxLQUFBby9ELFlBQUFoaEIsY0FBQW5uRCxHQUNBK0ksS0FBQW8vRCxZQUFBNWdCLFdBT0FneUQsRUFBQXg2RixVQUFBNmhELE1BQUEsU0FBQXU3QyxHQUNBLEdBQUFuOEcsR0FBQW04RyxHQUFBcHpHLEtBQUF1eEcsY0FBQXZ4RyxLQUFBbXhHLE1BRUFrQyxFQUFBcnpHLEtBQUFpeEcsZ0JBQUF2M0csY0FBQSxZQUNBMjVHLElBQ0FBLEVBQUFDLFVBQUFsM0YsT0FBQTYxRixFQUdBLElBQUFzQixHQUFBdnpHLEtBQUF3ekcsVUFBQXY4RyxHQUNBdzhHLEVBQUF6bUgsU0FBQXVxQixlQUFBZzhGLEVBQ0FFLElBQ0FBLEVBQUFILFVBQUF2cEQsSUFBQWtvRCxHQUNBd0IsRUFBQTU3QyxTQUVBNzNELEtBQUF5eEcsVUFBQXg2RyxHQVVBdTVHLEVBQUF4NkYsVUFBQTQ4RixxQkFBQSxTQUFBMzdHLEdBQ0EsR0FBQXk4RyxHQUFBejhHLENBT0EsT0FOQStJLE1BQUFzd0csU0FBQXI1RyxFQUFBK0ksS0FBQXN3RyxVQUNBb0QsRUFBQSxHQUFBN2lILE1BQUFtUCxLQUFBc3dHLFFBQUExN0csWUFFQW9MLEtBQUF1d0csU0FBQXQ1RyxFQUFBK0ksS0FBQXV3RyxVQUNBbUQsRUFBQSxHQUFBN2lILE1BQUFtUCxLQUFBdXdHLFFBQUEzN0csWUFFQTgrRyxHQVNBbEQsRUFBQXg2RixVQUFBazhGLG1CQUFBLFNBQUFqN0csR0FDQSxHQUFBbkIsR0FBQWtLLEtBQ0EyekcsRUFBQTN6RyxLQUFBdXhHLFlBQ0F2eEcsTUFBQXV4RyxhQUFBdDZHLEVBQ0ErSSxLQUFBNnlHLGtCQUFBNTdHLEdBQUFsRSxLQUFBLFdBR0EsR0FBQTRnSCxFQUFBLENBQ0EsR0FBQUMsR0FDQTVtSCxTQUFBdXFCLGVBQUF6aEIsRUFBQTA5RyxVQUFBRyxHQUNBQyxLQUNBQSxFQUFBTixVQUFBbDNGLE9BQUE0MUYsR0FDQTRCLEVBQUExa0csYUFBQSxnQkFBQSxVQUtBLEdBQUFqWSxFQUFBLENBQ0EsR0FBQTQ4RyxHQUFBN21ILFNBQUF1cUIsZUFBQXpoQixFQUFBMDlHLFVBQUF2OEcsR0FDQTQ4RyxLQUNBQSxFQUFBUCxVQUFBdnBELElBQUFpb0QsR0FDQTZCLEVBQUEza0csYUFBQSxnQkFBQSxhQVlBc2hHLEVBQUF4NkYsVUFBQTY4RixrQkFBQSxTQUFBNTdHLEdBR0EsSUFBQStJLEtBQUEwekYsY0FFQSxNQURBMXpGLE1BQUFteUcsOEJBQ0FueUcsS0FBQWtKLEdBQUE2cUIsTUFJQSxLQUFBL3pCLEtBQUErd0csU0FBQTV3RCxZQUFBbHBELElBQUErSSxLQUFBMHhHLDRCQUNBLE1BQUExeEcsTUFBQWtKLEdBQUE2cUIsTUFHQS96QixNQUFBMHhHLDZCQUFBLENBQ0EsSUFBQW9DLEdBQUE5ekcsS0FBQSt6RyxrQkFBQTk4RyxFQUVBK0ksTUFBQXd4RyxZQUFBdjZHLENBRUEsSUFBQW5CLEdBQUFrSyxJQUtBLE9BSkE4ekcsR0FBQS9nSCxLQUFBLFdBQ0ErQyxFQUFBNDdHLDZCQUFBLElBR0FvQyxHQVFBdEQsRUFBQXg2RixVQUFBKzlGLGtCQUFBLFNBQUE5OEcsR0FFQSxNQURBK0ksTUFBQWt6RyxjQUFBajhHLEdBQ0ErSSxLQUFBa0osR0FBQTZxQixRQVNBeThFLEVBQUF4NkYsVUFBQW84RixnQkFBQSxXQUtBLElBQUEsR0FKQTRCLEdBQUFoMEcsS0FBQWd4RyxXQUFBZ0QsZUFDQUMsRUFBQWowRyxLQUFBZ3hHLFdBQUFpRCxVQUVBbDNCLEVBQUEvdkYsU0FBQXFmLGNBQUEsTUFDQTllLEVBQUEsRUFBQSxFQUFBQSxFQUFBQSxJQUFBLENBQ0EsR0FBQWc1RCxHQUFBdjVELFNBQUFxZixjQUFBLEtBQ0FrNkMsR0FBQXg1QyxZQUFBa25HLEdBQUExbUgsRUFBQXltSCxHQUFBLEdBQ0FqM0IsRUFBQTN3RSxZQUFBbTZDLEdBR0F2bUQsS0FBQThlLFNBQUF4ckIsS0FBQSxTQUFBdUUsT0FBQWtsRixJQVNBeXpCLEVBQUF4NkYsVUFBQXc5RixVQUFBLFNBQUF2OEcsR0FDQSxPQUNBLEtBQ0ErSSxLQUFBOGIsR0FDQTdrQixFQUFBbWhELGNBQ0FuaEQsRUFBQW9oRCxXQUNBcGhELEVBQUFxaEQsV0FDQTMvQyxLQUFBLFlBS0EsWUFHQSxXQWFBLFFBQUF1N0csS0FDQSxPQUNBNzFGLFNBQUEsZUFBQSxtQkFDQTlqQixPQUFBNFEsT0FBQSxrQkFDQTdPLFdBQUE2M0csRUFDQTUyRixhQUFBLGNBQ0FELGtCQUFBLEVBQ0EvQixLQUFBLFNBQUFoaEIsRUFBQTVHLEVBQUE0dEIsRUFBQVcsR0FDQSxHQUFBa3lGLEdBQUFseUYsRUFBQSxHQUNBbXlGLEVBQUFueUYsRUFBQSxFQUVBbXlGLEdBQUFELGFBQUFBLEVBQ0FDLEVBQUFDLGtCQU1BLzVHLEVBQUE5SCxPQUFBLFdBQUEsTUFBQTRoSCxHQUFBbHBHLFFBQUEsU0FBQUEsRUFBQW9wRyxHQUNBcHBHLEdBQUFvcEcsR0FDQUYsRUFBQUMsc0JBb0JBLFFBQUFILEdBQUFyMUYsRUFBQTZ4RixFQUFBQyxHQUNBNXdHLEtBQUErd0csU0FBQUosRUFDQTN3RyxLQUFBZ3hHLFdBQUFKLEVBQ0E1d0csS0FBQThlLFNBQUFBLEVBQ0E5ZSxLQUFBbzBHLGFBQUEsS0FPQXAwRyxLQUFBbUwsT0FNQW5MLEtBQUF3MEcsaUJBQUEsS0FsRUEzNUcsRUFBQTFOLE9BQUEsa0NBQ0EwUyxVQUFBLGtCQUFBcTBHLEVBb0NBLElBQUFPLEdBQUEseUJBR0F6QyxFQUFBLDRCQUdBQyxFQUFBLFVBeUJBa0MsR0FBQWhoRyxTQUFBLFdBQUEsZUFBQSxpQkFHQWdoRyxFQUFBbitGLFVBQUFzK0YsZ0JBQUEsV0FDQSxHQUFBRixHQUFBcDBHLEtBQUFvMEcsYUFDQW45RyxFQUFBK0ksS0FBQSt3RyxTQUFBTyxnQkFBQThDLEVBQUEvQyxvQkFBQXJ4RyxLQUFBbUwsT0FFQW5MLE1BQUE4ZSxTQUFBcG5CLFFBQ0FzSSxLQUFBOGUsU0FBQWpuQixPQUFBbUksS0FBQTAwRyxzQkFBQXo5RyxJQUVBK0ksS0FBQXcwRyxtQkFDQXgwRyxLQUFBdzBHLGlCQUFBbEIsVUFBQXZwRCxJQUFBa29ELEdBQ0FqeUcsS0FBQXcwRyxpQkFBQTM4QyxRQUNBNzNELEtBQUF3MEcsaUJBQUEsT0FXQUwsRUFBQW4rRixVQUFBMitGLGNBQUEsU0FBQXZCLEdBQ0EsR0FBQWdCLEdBQUFwMEcsS0FBQW8wRyxhQUdBWCxFQUFBem1ILFNBQUFxZixjQUFBLEtBS0EsSUFKQW9uRyxFQUFBbUIsU0FBQSxHQUNBbkIsRUFBQUgsVUFBQXZwRCxJQUFBLG9CQUNBMHBELEVBQUF2a0csYUFBQSxPQUFBLFlBRUFra0csRUFBQSxDQUNBSyxFQUFBdmtHLGFBQUEsV0FBQSxNQUNBdWtHLEVBQUF2a0csYUFBQSxhQUFBbFAsS0FBQWd4RyxXQUFBNkQsa0JBQUF6QixJQUNBSyxFQUFBMzNGLEdBQUFzNEYsRUFBQVosVUFBQUosR0FHQUssRUFBQXZrRyxhQUFBLGlCQUFBa2tHLEVBQUF4K0csV0FJQW9MLEtBQUErd0csU0FBQStELFVBQUExQixFQUFBZ0IsRUFBQWpELFFBQ0FzQyxFQUFBSCxVQUFBdnBELElBQUEwcUQsR0FHQXowRyxLQUFBK3dHLFNBQUE1d0QsWUFBQWkwRCxFQUFBN0MsZUFDQXZ4RyxLQUFBK3dHLFNBQUErRCxVQUFBMUIsRUFBQWdCLEVBQUE3QyxnQkFDQWtDLEVBQUFILFVBQUF2cEQsSUFBQWlvRCxHQUNBeUIsRUFBQXZrRyxhQUFBLGdCQUFBLFFBR0EsSUFBQTZsRyxHQUFBLzBHLEtBQUFneEcsV0FBQWdFLE1BQUE1QixFQUFBOTZELFVBRUEsSUFBQXQ0QyxLQUFBaTFHLGNBQUE3QixHQUFBLENBRUEsR0FBQThCLEdBQUFsb0gsU0FBQXFmLGNBQUEsT0FDQW9uRyxHQUFBcm5HLFlBQUE4b0csR0FDQUEsRUFBQTVCLFVBQUF2cEQsSUFBQSx3Q0FDQW1yRCxFQUFBbm9HLFlBQUFnb0csRUFFQXRCLEVBQUEvdEQsaUJBQUEsUUFBQTB1RCxFQUFBekMsa0JBRUF5QyxFQUFBM0MsV0FBQXp4RyxLQUFBK3dHLFNBQUErRCxVQUFBMUIsRUFBQWdCLEVBQUEzQyxhQUNBenhHLEtBQUF3MEcsaUJBQUFmLE9BR0FBLEdBQUFILFVBQUF2cEQsSUFBQSw2QkFDQTBwRCxFQUFBMW1HLFlBQUFnb0csRUFJQSxNQUFBdEIsSUFRQVUsRUFBQW4rRixVQUFBaS9GLGNBQUEsU0FBQTdCLEdBQ0EsTUFBQXB6RyxNQUFBK3dHLFNBQUFvRSxrQkFBQS9CLEVBQ0FwekcsS0FBQW8wRyxhQUFBOUQsUUFBQXR3RyxLQUFBbzBHLGFBQUE3RCxZQUNBMTFHLEVBQUExTCxXQUFBNlEsS0FBQW8wRyxhQUFBOWdFLGFBQ0F0ekMsS0FBQW8wRyxhQUFBOWdFLFdBQUE4L0QsS0FRQWUsRUFBQW4rRixVQUFBby9GLGFBQUEsU0FBQUMsR0FDQSxHQUFBdDRCLEdBQUEvdkYsU0FBQXFmLGNBQUEsS0FRQSxPQVBBMHdFLEdBQUE3dEUsYUFBQSxPQUFBLE9BS0E2dEUsRUFBQTd0RSxhQUFBLGFBQUFsUCxLQUFBZ3hHLFdBQUFzRSxvQkFBQUQsSUFFQXQ0QixHQVFBbzNCLEVBQUFuK0YsVUFBQTArRixzQkFBQSxTQUFBYSxHQUNBLEdBQUF0K0csR0FBQStJLEtBQUErd0csU0FBQTV3RCxZQUFBbzFELEdBQUFBLEVBQUEsR0FBQTFrSCxNQUVBMmtILEVBQUF4MUcsS0FBQSt3RyxTQUFBZ0Msb0JBQUE5N0csR0FDQXcrRyxFQUFBejFHLEtBQUEwMUcsY0FBQUYsR0FDQUcsRUFBQTMxRyxLQUFBK3dHLFNBQUE2RSx1QkFBQTMrRyxHQUdBNCtHLEVBQUE3b0gsU0FBQWtmLHlCQUVBbXBHLEVBQUEsRUFDQXQ0QixFQUFBLzhFLEtBQUFvMUcsYUFBQUMsRUFDQVEsR0FBQXpwRyxZQUFBMndFLEVBS0EsSUFBQSs0QixHQUFBOTFHLEtBQUFtTCxTQUFBbkwsS0FBQW8wRyxhQUFBNWdILE1BQUFyRixPQUFBLEVBS0E0bkgsRUFBQSxFQUNBQyxFQUFBaHBILFNBQUFxZixjQUFBLEtBT0EsSUFOQTJwRyxFQUFBMUMsVUFBQXZwRCxJQUFBLDJCQUVBL3BELEtBQUFvMEcsYUFBQTdELFNBQUFpRixFQUFBeDFHLEtBQUFvMEcsYUFBQTdELFNBQ0F5RixFQUFBMUMsVUFBQXZwRCxJQUFBLG9DQUVBaXNELEVBQUFqcEcsWUFBQS9NLEtBQUFneEcsV0FBQWlGLHFCQUFBaC9HLEdBQ0EsR0FBQXcrRyxFQUFBLENBQ0FPLEVBQUE5bUcsYUFBQSxVQUFBLElBRUEsSUFBQWduRyxHQUFBbDJHLEtBQUFvMUcsY0FJQSxJQUhBYyxFQUFBOXBHLFlBQUE0cEcsR0FDQUgsRUFBQTl0RCxhQUFBbXVELEVBQUFuNUIsR0FFQSs0QixFQUNBLE1BQUFELE9BR0FFLEdBQUEsRUFDQUMsRUFBQTltRyxhQUFBLFVBQUEsS0FDQTZ0RSxFQUFBM3dFLFlBQUE0cEcsRUFNQSxLQUFBLEdBQUF6b0gsR0FBQXdvSCxFQUFBTixFQUFBbG9ILEVBQUFBLElBQ0F3dkYsRUFBQTN3RSxZQUFBcE0sS0FBQTIwRyxnQkFPQSxLQUFBLEdBRkF3QixHQUFBVixFQUNBVyxFQUFBWixFQUNBNWpGLEVBQUEsRUFBQStqRixHQUFBL2pGLEVBQUFBLElBQUEsQ0FFQSxHQUFBLElBQUF1a0YsRUFBQSxDQUVBLEdBQUFMLEVBQ0EsTUFBQUQsRUFFQU0sR0FBQSxFQUNBZCxJQUNBdDRCLEVBQUEvOEUsS0FBQW8xRyxhQUFBQyxHQUNBUSxFQUFBenBHLFlBQUEyd0UsR0FHQXE1QixFQUFBQyxRQUFBemtGLEVBQ0EsSUFBQTZoRixHQUFBenpHLEtBQUEyMEcsY0FBQXlCLEVBQ0FyNUIsR0FBQTN3RSxZQUFBcW5HLEdBRUEwQyxJQUlBLEtBQUFwNUIsRUFBQWx3RSxXQUFBMWUsT0FBQSxHQUNBNHVGLEVBQUEzd0UsWUFBQXBNLEtBQUEyMEcsZ0JBS0EsTUFBQWtCLEVBQUFocEcsV0FBQTFlLE9BQUEsR0FBQSxDQUVBLElBQUEsR0FEQW1vSCxHQUFBdDJHLEtBQUFvMUcsZUFDQTduSCxFQUFBLEVBQUEsRUFBQUEsRUFBQUEsSUFDQStvSCxFQUFBbHFHLFlBQUFwTSxLQUFBMjBHLGdCQUVBa0IsR0FBQXpwRyxZQUFBa3FHLEdBR0EsTUFBQVQsSUFTQTFCLEVBQUFuK0YsVUFBQTAvRixjQUFBLFNBQUF6K0csR0FDQSxPQUFBQSxFQUFBZ2hELFVBQUEsRUFBQWo0QyxLQUFBZ3hHLFdBQUFnRCxpQkFBQSxTQUtBLFlBR0EsV0E2RUFuNUcsRUFBQTFOLE9BQUEsa0NBQUFrTSxRQUFBLFdBQUEsU0FBQWEsR0FJQSxRQUFBcThHLEtBRUF2MkcsS0FBQXcyRyxPQUFBLEtBR0F4MkcsS0FBQXkyRyxZQUFBLEtBR0F6MkcsS0FBQTAyRyxLQUFBLEtBR0ExMkcsS0FBQWkwRyxVQUFBLEtBR0FqMEcsS0FBQWcxRyxNQUFBLEtBR0FoMUcsS0FBQWcwRyxlQUFBLEVBTUFoMEcsS0FBQTIyRyxXQUFBLEtBTUEzMkcsS0FBQWtnRCxVQUFBLEtBTUFsZ0QsS0FBQWkyRyxxQkFBQSxLQU1BajJHLEtBQUFzMUcsb0JBQUEsS0FPQXQxRyxLQUFBNjBHLGtCQUFBLEtBTUE3MEcsS0FBQTQyRyxZQUFBLEdBTUE1MkcsS0FBQTYyRyxnQkFBQSxHQVNBTixFQUFBdmdHLFVBQUE3RCxLQUFBLFNBQUEyaUMsR0FNQSxRQUFBZ2lFLEdBQUE3L0csR0FDQSxJQUFBQSxFQUNBLE1BQUEsRUFRQSxJQUFBOC9HLEdBQUE5L0csRUFBQSsvRyxxQkFDQUwsRUFBQTEvRyxDQU1BLE9BTEEsSUFBQUEsRUFBQTBoRCxZQUNBLEtBQUFvK0QsRUFBQWhqSCxRQUFBLFFBQUEsS0FBQWdqSCxFQUFBaGpILFFBQUEsU0FDQTRpSCxFQUFBLEdBQUE5bEgsTUFBQW9HLEVBQUFtaEQsY0FBQW5oRCxFQUFBb2hELFdBQUFwaEQsRUFBQXFoRCxVQUFBLEVBQUEsRUFBQSxJQUdBcStELEVBQUFNLHFCQVFBLFFBQUFDLEdBQUFDLEdBQ0EsTUFBQSxJQUFBdG1ILE1BQUFzbUgsR0FZQSxRQUFBQyxHQUFBRCxHQUNBQSxFQUFBQSxFQUFBL3BHLE1BSUEsSUFBQWlxRyxHQUFBLDJFQUNBLE9BQUFBLEdBQUFua0gsS0FBQWlrSCxHQVFBLFFBQUFHLEdBQUFyZ0gsR0FDQSxNQUFBdUksR0FBQWkzRyxZQUFBeC9HLEVBQUFvaEQsWUFBQSxJQUFBcGhELEVBQUFtaEQsY0FRQSxRQUFBbS9ELEdBQUE3aEUsR0FDQSxNQUFBLFFBQUFBLEVBUUEsUUFBQThoRSxHQUFBdmdILEdBRUEsT0FDQXVJLEVBQUFrM0csS0FBQXovRyxFQUFBZ2hELFVBQ0F6NEMsRUFBQWczRyxPQUFBdi9HLEVBQUFvaEQsWUFDQTc0QyxFQUFBdzFHLE1BQUEvOUcsRUFBQXFoRCxXQUNBcmhELEVBQUFtaEQsZUFDQXovQyxLQUFBLEtBV0EsSUFBQSxHQU5BOCtHLEdBQUEzaUUsRUFBQWtGLGlCQUFBMnJCLElBQUFqckIsSUFBQSxTQUFBZzlELEdBQ0EsTUFBQUEsR0FBQSxLQUlBQyxFQUFBcGhHLE1BQUEsSUFDQWhwQixFQUFBLEVBQUEsSUFBQUEsRUFBQUEsSUFDQW9xSCxFQUFBcHFILEdBQUFBLENBSUEsSUFBQXFxSCxHQUFBLFdBQ0FDLEVBQUEsZ0JBRUFyNEcsR0FDQWczRyxPQUFBeDJHLEtBQUF3MkcsUUFBQTFoRSxFQUFBa0YsaUJBQUE2ckIsTUFDQTR3QyxZQUFBejJHLEtBQUF5MkcsYUFBQTNoRSxFQUFBa0YsaUJBQUErckIsV0FDQTJ3QyxLQUFBMTJHLEtBQUEwMkcsTUFBQTVoRSxFQUFBa0YsaUJBQUEyckIsSUFDQXN1QyxVQUFBajBHLEtBQUFpMEcsV0FBQXdELEVBQ0F6QyxNQUFBaDFHLEtBQUFnMUcsT0FBQTJDLEVBQ0EzRCxlQUFBaDBHLEtBQUFnMEcsZ0JBQUEsRUFDQTJDLFdBQUEzMkcsS0FBQTIyRyxZQUFBRyxFQUNBNTJELFVBQUFsZ0QsS0FBQWtnRCxXQUFBZzNELEVBQ0FZLGVBQUE5M0csS0FBQTgzRyxnQkFBQVYsRUFDQW5CLHFCQUFBajJHLEtBQUFpMkcsc0JBQUFxQixFQUNBaEMsb0JBQUF0MUcsS0FBQXMxRyxxQkFBQWlDLEVBQ0ExQyxrQkFBQTcwRyxLQUFBNjBHLG1CQUFBMkMsRUFDQVosWUFBQTUyRyxLQUFBNDJHLGFBQUFnQixFQUNBZixnQkFBQTcyRyxLQUFBNjJHLGlCQUFBZ0IsRUFHQSxPQUFBcjRHLElBRUErMkcsRUFBQXZnRyxVQUFBN0QsS0FBQWdCLFNBQUEsV0FFQWpaLEVBQUF1RSxTQUFBLGdCQUFBLEdBQUE4M0csYUFLQSxZQUdBLFdBZ0RBLFFBQUF3QixLQUNBLE9BQ0FscUgsU0FJQSx5bUNBOEJBd3dCLFNBQUEsVUFBQSxlQUFBLHNCQUNBOWpCLE9BQ0ErMUcsUUFBQSxhQUNBQyxRQUFBLGFBQ0F5SCxZQUFBLGlCQUNBMWtFLFdBQUEsaUJBRUFoM0MsV0FBQTI3RyxFQUNBMTZGLGFBQUEsT0FDQUQsa0JBQUEsRUFDQS9CLEtBQUEsU0FBQWhoQixFQUFBNUcsRUFBQU4sRUFBQTZ1QixHQUNBLEdBQUFrOUMsR0FBQWw5QyxFQUFBLEdBQ0FnMkYsRUFBQWgyRixFQUFBLEdBRUFpMkYsRUFBQWoyRixFQUFBLEVBQ0EsSUFBQWkyRixFQUNBLEtBQUE5cUgsT0FBQSxnRUFHQTZxSCxHQUFBeEgsaUJBQUF0eEMsS0F1Q0EsUUFBQTY0QyxHQUFBN3lGLEVBQUF0RyxFQUFBdUcsRUFBQSt4QyxFQUFBbHRELEVBQUFFLEVBQ0E4N0UsRUFBQXFRLEVBQUExTyxFQUFBK29CLEVBQUFELEVBQUFybUcsR0FFQXRLLEtBQUFvM0QsU0FBQUEsRUFHQXAzRCxLQUFBa0ssU0FBQUEsRUFHQWxLLEtBQUFvSyxRQUFBQSxFQUdBcEssS0FBQWd4RyxXQUFBSixFQUdBNXdHLEtBQUErd0csU0FBQUosRUFHQTN3RyxLQUFBa21GLFlBQUFBLEVBR0FsbUYsS0FBQTZuRixRQUFBQSxFQUdBN25GLEtBQUFzSyxNQUFBQSxFQVNBdEssS0FBQTBQLGdCQUFBN1UsRUFBQWxILFFBQUEzRyxTQUFBMGlCLGlCQUdBMVAsS0FBQW8vRCxZQUFBLEtBR0FwL0QsS0FBQW80RyxhQUFBdDVGLEVBQUEsR0FBQXBsQixjQUFBLFNBR0FzRyxLQUFBcTRHLGVBQUF4OUcsRUFBQWxILFFBQUFxTSxLQUFBbzRHLGNBR0FwNEcsS0FBQXM0RyxlQUFBeDVGLEVBQUEsR0FBQXBsQixjQUFBLGtDQUdBc0csS0FBQXU0RyxhQUFBejVGLEVBQUEsR0FBQXBsQixjQUFBLGdDQUdBc0csS0FBQXc0RyxlQUFBMTVGLEVBQUEsR0FBQXBsQixjQUFBLHlCQU1Bc0csS0FBQXk0RyxVQUFBMzVGLEVBQUEsR0FBQXBsQixjQUFBLG9DQUdBc0csS0FBQThlLFNBQUFBLEVBR0E5ZSxLQUFBcWxCLE9BQUFBLEVBR0FybEIsS0FBQW9sQixPQUFBQSxFQUdBcGxCLEtBQUEvSSxLQUFBLEtBR0ErSSxLQUFBMDRHLFdBQUEsRUFHQTE0RyxLQUFBb3ZHLFdBQ0FwdkcsS0FBQTI0RyxZQUFBNzVGLEVBQUEsR0FBQXM5QyxVQUFBdmhFLEVBQUFuTSxTQUFBMjJCLEVBQUEsV0FHQXJsQixLQUFBNDRHLGdCQUFBLEVBT0E1NEcsS0FBQTY0Ryx1QkFBQSxLQUVBNzRHLEtBQUF1NEcsYUFBQXo4RixHQUFBLGVBQUErckUsRUFBQS8zRixVQUVBeW1HLEVBQUF6M0UsR0FHQTllLEtBQUE4NEcsaUJBQUFqK0csRUFBQWhGLEtBQUFtSyxLQUFBQSxLQUFBKzRHLGlCQUdBLzRHLEtBQUFnNUcsb0JBQUFueEIsRUFBQXpzQixTQUFBdmdFLEVBQUFoRixLQUFBbUssS0FBQUEsS0FBQWk1RyxtQkFBQSxLQUtBNXpGLEVBQUEsVUFDQXZHLEVBQUF6ckIsS0FBQSxXQUFBLE1BR0EyTSxLQUFBazVHLDhCQUNBbDVHLEtBQUFtNUcsd0JBQ0FuNUcsS0FBQW81Ryw0QkFFQSxJQUFBdGpILEdBQUFrSyxJQUNBb2xCLEdBQUFnQixJQUFBLFdBQUEsV0FDQXR3QixFQUFBdWpILHVCQS9PQXgrRyxFQUFBMU4sT0FBQSxrQ0FDQTBTLFVBQUEsZUFBQWs0RyxFQThGQSxJQUFBdUIsR0FBQSxFQUdBbjFELEVBQUEsd0JBR0FvMUQsRUFBQSxJQVVBQyxFQUFBLElBVUFDLEVBQUEsR0F5SEF4QixHQUFBOWtHLFNBQUEsU0FBQSxXQUFBLFNBQUEsV0FBQSxXQUFBLFVBQUEsY0FBQSxhQUFBLFVBQUEsZ0JBQUEsZUFBQSxTQU1BOGtHLEVBQUFqaUcsVUFBQTA2RixpQkFBQSxTQUFBdHhDLEdBQ0FwL0QsS0FBQW8vRCxZQUFBQSxDQUVBLElBQUF0cEUsR0FBQWtLLElBQ0FvL0QsR0FBQTVnQixRQUFBLFdBQ0EsR0FBQTN1RCxHQUFBaUcsRUFBQXNwRSxZQUFBbGhCLFVBRUEsSUFBQXJ1RCxLQUFBQSxZQUFBZ0IsT0FDQSxLQUFBeEQsT0FBQSwyRkFDQXdDLEdBR0FpRyxHQUFBbUIsS0FBQXBILEVBQ0FpRyxFQUFBc2lILGFBQUF2b0gsTUFBQWlHLEVBQUFrN0csV0FBQTJGLFdBQUE5bUgsR0FDQWlHLEVBQUE0akgscUJBQ0E1akgsRUFBQTZqSCxxQkFTQTFCLEVBQUFqaUcsVUFBQW1qRyxzQkFBQSxXQUNBLEdBQUFyakgsR0FBQWtLLElBRUFsSyxHQUFBc3ZCLE9BQUFnQixJQUFBLHFCQUFBLFNBQUFwVixFQUFBL1osR0FDQW5CLEVBQUFzcEUsWUFBQWhoQixjQUFBbm5ELEdBQ0FuQixFQUFBbUIsS0FBQUEsRUFDQW5CLEVBQUFzaUgsYUFBQXZvSCxNQUFBaUcsRUFBQWs3RyxXQUFBMkYsV0FBQTEvRyxHQUNBbkIsRUFBQW1qSCxvQkFDQW5qSCxFQUFBNGpILHFCQUNBNWpILEVBQUE2akgscUJBR0E3akgsRUFBQXVpSCxlQUFBbDhHLEdBQUEsUUFBQXRCLEVBQUFoRixLQUFBQyxFQUFBQSxFQUFBNGpILHFCQUVBNWpILEVBQUF1aUgsZUFBQWw4RyxHQUFBLFFBQUFyRyxFQUFBK3hGLFFBQUF6c0IsU0FBQXRsRSxFQUFBOGpILGlCQUNBTCxFQUFBempILEtBSUFtaUgsRUFBQWppRyxVQUFBb2pHLDJCQUFBLFdBQ0EsR0FBQXRqSCxHQUFBa0ssS0FDQW9sQixFQUFBcGxCLEtBQUFvbEIsT0FDQXkwRixFQUFBNzVHLEtBQUFrbUYsWUFBQXhELFFBR0E1c0YsR0FBQXVpSCxlQUFBbDhHLEdBQUEsVUFBQSxTQUFBNlUsR0FDQUEsRUFBQW1oRixRQUFBbmhGLEVBQUF1dEMsU0FBQXM3RCxFQUFBeDJCLGFBQ0F2dEYsRUFBQWdrSCxpQkFBQTlvRyxHQUNBb1UsRUFBQXdaLGFBSUF4WixFQUFBZ0IsSUFBQSxvQkFBQSxXQUNBdHdCLEVBQUFtakgsdUJBUUFoQixFQUFBamlHLFVBQUFrakcsNEJBQUEsV0FDQSxHQUFBcGpILEdBQUFrSyxJQUVBLElBQUFBLEtBQUFxbEIsT0FBQSxXQUFBLENBR0EsR0FBQTlxQixHQUFBeUYsS0FBQTZuRixRQUFBcUIsY0FBQWxwRixLQUFBOGUsVUFBQTllLEtBQUE4ZSxTQUFBdmtCLFFBQUEsSUFFQUEsSUFDQUEsRUFBQTlILE9BQUF1TixLQUFBcWxCLE9BQUEsV0FBQSxTQUFBK3BGLEdBQ0F0NUcsRUFBQTZpSCxZQUFBdkosS0FLQXhnSCxPQUFBaTlGLGVBQUE3ckYsS0FBQSxlQUNBMUUsSUFBQSxXQUFBLE1BQUF4RixHQUFBc2lILGFBQUFKLGFBQ0FoN0QsSUFBQSxTQUFBbnRELEdBQUFpRyxFQUFBc2lILGFBQUFKLFlBQUFub0gsR0FBQSxPQVFBb29ILEVBQUFqaUcsVUFBQTJpRyxZQUFBLFNBQUF2SixHQUNBcHZHLEtBQUFvdkcsV0FBQUEsRUFDQXB2RyxLQUFBbzRHLGFBQUFoOEMsU0FBQWd6QyxFQUNBcHZHLEtBQUF3NEcsZUFBQXA4QyxTQUFBZ3pDLEdBY0E2SSxFQUFBamlHLFVBQUEyakcsaUJBQUEsU0FBQXZHLEdBQ0EsR0FBQW44RyxHQUFBbThHLEdBQUFwekcsS0FBQS9JLElBR0ErSSxNQUFBKzVHLGtCQUVBLzVHLEtBQUErd0csU0FBQTV3RCxZQUFBbHBELElBQ0ErSSxLQUFBK3dHLFNBQUE1d0QsWUFBQW5nRCxLQUFBc3dHLFVBQ0F0d0csS0FBQW8vRCxZQUFBdmlCLGFBQUEsVUFBQTVsRCxHQUFBK0ksS0FBQXN3RyxTQUdBdHdHLEtBQUErd0csU0FBQTV3RCxZQUFBbmdELEtBQUF1d0csVUFDQXZ3RyxLQUFBby9ELFlBQUF2aUIsYUFBQSxVQUFBNWxELEdBQUErSSxLQUFBdXdHLFNBR0ExMUcsRUFBQTFMLFdBQUE2USxLQUFBc3pDLGFBQ0F0ekMsS0FBQW8vRCxZQUFBdmlCLGFBQUEsV0FBQTc4QyxLQUFBc3pDLFdBQUFyOEMsS0FLQStJLEtBQUFvL0QsWUFBQXZpQixhQUFBLFFBQUEsTUFBQTVsRCxHQU1BK0ksS0FBQW8vRCxZQUFBbmpCLFFBQ0FqOEMsS0FBQXM0RyxlQUFBaEYsVUFBQXZwRCxJQUFBNUYsSUFLQTh6RCxFQUFBamlHLFVBQUErakcsZ0JBQUEsV0FDQS81RyxLQUFBczRHLGVBQUFoRixVQUFBbDNGLE9BQUErbkMsSUFDQSxVQUFBLFVBQUEsV0FBQSxTQUFBcDFELFFBQUEsU0FBQWkwRyxHQUNBaGpHLEtBQUFvL0QsWUFBQXZpQixhQUFBbW1ELEdBQUEsSUFDQWhqRyxPQUlBaTRHLEVBQUFqaUcsVUFBQTBqRyxtQkFBQSxXQUNBMTVHLEtBQUFvNEcsYUFBQXg4RixLQUFBNWIsS0FBQW80RyxhQUFBdm9ILE1BQUExQixPQUFBbXJILEdBT0FyQixFQUFBamlHLFVBQUE0akcsaUJBQUEsV0FDQSxHQUFBSSxHQUFBaDZHLEtBQUFvNEcsYUFBQXZvSCxNQUNBNndELEVBQUFzNUQsRUFBQWg2RyxLQUFBZ3hHLFdBQUE5d0QsVUFBQTg1RCxHQUFBLElBQ0FoNkcsTUFBQSt3RyxTQUFBa0osc0JBQUF2NUQsRUFJQSxJQUFBdzVELEdBQUEsSUFBQUYsR0FDQWg2RyxLQUFBK3dHLFNBQUE1d0QsWUFBQU8sSUFDQTFnRCxLQUFBZ3hHLFdBQUE4RyxlQUFBa0MsSUFDQWg2RyxLQUFBaTFHLGNBQUF2MEQsRUFJQXc1RCxLQUNBbDZHLEtBQUFvL0QsWUFBQWhoQixjQUFBc0MsR0FDQTFnRCxLQUFBL0ksS0FBQXlwRCxHQUdBMWdELEtBQUEyNUcsaUJBQUFqNUQsSUFRQXUzRCxFQUFBamlHLFVBQUFpL0YsY0FBQSxTQUFBN0IsR0FDQSxNQUFBcHpHLE1BQUErd0csU0FBQW9FLGtCQUFBL0IsRUFBQXB6RyxLQUFBc3dHLFFBQUF0d0csS0FBQXV3RyxZQUNBMTFHLEVBQUExTCxXQUFBNlEsS0FBQXN6QyxhQUFBdHpDLEtBQUFzekMsV0FBQTgvRCxLQUlBNkUsRUFBQWppRyxVQUFBbWtHLG1CQUFBLFdBQ0EsR0FBQTVCLEdBQUF2NEcsS0FBQXU0RyxZQUNBQSxHQUFBOTJHLE1BQUErcEcsVUFBQSxHQUNBeHJHLEtBQUE4ZSxTQUFBeE0sU0FBQSxxQkFFQSxJQUFBOG5HLEdBQUFwNkcsS0FBQXM0RyxlQUFBeGhHLHdCQUNBdWpHLEVBQUFydEgsU0FBQXdwQyxLQUFBMWYsd0JBSUF3akcsRUFBQUYsRUFBQWpqRyxJQUFBa2pHLEVBQUFsakcsSUFDQW9qRyxFQUFBSCxFQUFBMTRFLEtBQUEyNEUsRUFBQTM0RSxLQU1BODRFLEVBQUFILEVBQUFsakcsSUFBQSxHQUFBLEdBQUFucUIsU0FBQXdwQyxLQUFBaTlDLFdBQ0E0bUMsRUFBQWxqRyxJQUNBbnFCLFNBQUF3cEMsS0FBQWk5QyxVQUVBZ25DLEVBQUFKLEVBQUEzNEUsS0FBQSxHQUFBLEdBQUExMEMsU0FBQXdwQyxLQUFBazlDLFlBQ0EybUMsRUFBQTM0RSxLQUNBMTBDLFNBQUF3cEMsS0FBQWs5QyxXQUVBZ25DLEVBQUFGLEVBQUF4NkcsS0FBQW9LLFFBQUF1d0csWUFDQUMsRUFBQUgsRUFBQXo2RyxLQUFBb0ssUUFBQXl3RyxVQU1BLElBQUFOLEVBQUFkLEVBQUFtQixFQUFBLENBQ0EsR0FBQUEsRUFBQW5CLEVBQUEsRUFDQWMsRUFBQUssRUFBQW5CLE1BQ0EsQ0FDQWMsRUFBQUUsQ0FDQSxJQUFBSyxHQUFBOTZHLEtBQUFvSyxRQUFBeXdHLFdBQUFwQixDQUNBbEIsR0FBQTkyRyxNQUFBK3BHLFVBQUEsU0FBQXNQLEVBQUEsSUFHQXZDLEVBQUFqRixVQUFBdnBELElBQUEsOEJBS0F1d0QsRUFBQWQsRUFBQWtCLEdBQ0FBLEVBQUFsQixFQUFBZ0IsSUFDQUYsRUFBQUksRUFBQWxCLEVBQ0FqQixFQUFBakYsVUFBQXZwRCxJQUFBLCtCQUdBd3VELEVBQUE5MkcsTUFBQWlnQyxLQUFBNjRFLEVBQUEsS0FDQWhDLEVBQUE5MkcsTUFBQTBWLElBQUFtakcsRUFBQSxLQUNBdHRILFNBQUF3cEMsS0FBQXBxQixZQUFBbXNHLEdBTUF2NEcsS0FBQXk0RyxVQUFBaDNHLE1BQUFpZ0MsS0FBQTA0RSxFQUFBL3hCLE1BQUEsS0FHQXJvRixLQUFBc0ssTUFBQSxXQUNBaXVHLEVBQUFqRixVQUFBdnBELElBQUEsbUJBS0FrdUQsRUFBQWppRyxVQUFBcWpHLG1CQUFBLFdBQ0FyNUcsS0FBQThlLFNBQUF2TSxZQUFBLHNCQUNBdlMsS0FBQXU0RyxhQUFBakYsVUFBQWwzRixPQUFBLGdCQUNBcGMsS0FBQXU0RyxhQUFBakYsVUFBQWwzRixPQUFBLDhCQUVBcGMsS0FBQXU0RyxhQUFBM29HLFlBR0E1UCxLQUFBdTRHLGFBQUEzb0csV0FBQUksWUFBQWhRLEtBQUF1NEcsZUFRQU4sRUFBQWppRyxVQUFBOGpHLGlCQUFBLFNBQUE5b0csR0FDQSxJQUFBaFIsS0FBQTQ0RyxpQkFBQTU0RyxLQUFBb3ZHLFdBQUEsQ0FDQXB2RyxLQUFBNDRHLGdCQUFBLEVBQ0E1NEcsS0FBQTY0Ryx1QkFBQTduRyxFQUFBZSxPQU9BL1IsS0FBQTZuRixRQUFBd0Isb0JBQUFycEYsS0FBQXU0RyxjQUVBdjRHLEtBQUFtNkcscUJBQ0FuNkcsS0FBQSs2RyxlQUlBLElBQUFqbEgsR0FBQWtLLElBQ0FBLE1BQUE2bkYsUUFBQTNoRCxTQUFBLFdBSUFwd0MsRUFBQTRaLGdCQUFBdlQsR0FBQSxtQkFBQXJHLEVBQUFnakgsb0JBQ0EsR0FFQS9ySCxFQUFBMjRELGlCQUFBLFNBQUExbEQsS0FBQWc1Ryx1QkFLQWYsRUFBQWppRyxVQUFBaWpHLGtCQUFBLFdBQ0FqNUcsS0FBQTQ0RyxpQkFDQTU0RyxLQUFBNDRHLGdCQUFBLEVBQ0E1NEcsS0FBQXE1RyxxQkFDQXI1RyxLQUFBNjRHLHVCQUFBaGhELFFBQ0E3M0QsS0FBQTY0Ryx1QkFBQSxLQUNBNzRHLEtBQUE2bkYsUUFBQTRDLGtCQUVBenFGLEtBQUEwUCxnQkFBQThLLElBQUEsbUJBQUF4YSxLQUFBODRHLGtCQUNBL3JILEVBQUE0NEQsb0JBQUEsU0FBQTNsRCxLQUFBZzVHLHVCQUtBZixFQUFBamlHLFVBQUFnbEcsZ0JBQUEsV0FDQSxNQUFBbmdILEdBQUFsSCxRQUFBcU0sS0FBQXU0RyxhQUFBNytHLGNBQUEsZ0JBQUE0QyxXQUFBLGVBSUEyN0csRUFBQWppRyxVQUFBK2tHLGNBQUEsV0FFQSxHQUFBamxILEdBQUFrSyxJQUNBQSxNQUFBNm5GLFFBQUEzaEQsU0FBQSxXQUNBcHdDLEVBQUFrbEgsa0JBQUFuakQsVUFDQSxJQU9Bb2dELEVBQUFqaUcsVUFBQWlsRyxXQUFBLFNBQUF2QyxHQUNBMTRHLEtBQUEwNEcsVUFBQUEsR0FRQVQsRUFBQWppRyxVQUFBK2lHLGdCQUFBLFNBQUEvbkcsR0FDQSxHQUFBaFIsS0FBQTQ0RyxlQUFBLENBRUEsR0FBQXNDLEdBQUFsN0csS0FBQTZuRixRQUFBc0UsV0FBQW43RSxFQUFBZSxPQUFBLGNBQ0FtcEcsSUFDQWw3RyxLQUFBaTVHLG9CQUdBajVHLEtBQUFvbEIsT0FBQXdaLGtCQU1BLFlBR0EsV0FPQS9qQyxFQUFBMU4sT0FBQSxrQ0FBQWdSLFFBQUEsZUFBQSxXQTJCQSxRQUFBNDBHLEdBQUE5N0csR0FDQSxNQUFBLElBQUFwRyxNQUFBb0csRUFBQW1oRCxjQUFBbmhELEVBQUFvaEQsV0FBQSxHQVFBLFFBQUF1OUQsR0FBQTMrRyxHQUNBLE1BQUEsSUFBQXBHLE1BQUFvRyxFQUFBbWhELGNBQUFuaEQsRUFBQW9oRCxXQUFBLEVBQUEsR0FBQUMsVUFRQSxRQUFBNmlFLEdBQUFsa0gsR0FDQSxNQUFBLElBQUFwRyxNQUFBb0csRUFBQW1oRCxjQUFBbmhELEVBQUFvaEQsV0FBQSxFQUFBLEdBUUEsUUFBQStpRSxHQUFBbmtILEdBQ0EsTUFBQSxJQUFBcEcsTUFBQW9HLEVBQUFtaEQsY0FBQW5oRCxFQUFBb2hELFdBQUEsRUFBQSxHQVNBLFFBQUFnakUsR0FBQUMsRUFBQUMsR0FDQSxNQUFBRCxHQUFBbGpFLGdCQUFBbWpFLEVBQUFuakUsZUFBQWtqRSxFQUFBampFLGFBQUFrakUsRUFBQWxqRSxXQVNBLFFBQUF5OEQsR0FBQXdHLEVBQUFDLEdBQ0EsTUFBQUQsR0FBQWhqRSxXQUFBaWpFLEVBQUFqakUsV0FBQStpRSxFQUFBQyxFQUFBQyxHQVNBLFFBQUFDLEdBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQVIsRUFBQU0sRUFDQSxPQUFBSixHQUFBTSxFQUFBRCxHQVNBLFFBQUFFLEdBQUFILEVBQUFDLEdBQ0EsR0FBQUcsR0FBQVQsRUFBQUssRUFDQSxPQUFBSixHQUFBSyxFQUFBRyxHQVNBLFFBQUFDLEdBQUFSLEVBQUFDLEdBQ0EsTUFBQW5LLElBQUFrSyxFQUFBMW1ILFVBQUEybUgsRUFBQTNtSCxXQUFBLEdBUUEsUUFBQW1uSCxHQUFBOWtILEdBQ0EsR0FBQXUrRyxHQUFBekMsRUFBQTk3RyxFQUNBLE9BQUFteEIsTUFBQTJGLE9BQUF5bkYsRUFBQXY5RCxTQUFBaGhELEVBQUFxaEQsVUFBQSxHQUFBLEdBU0EsUUFBQXc2RCxHQUFBNzdHLEVBQUEra0gsR0FDQSxNQUFBLElBQUFuckgsTUFBQW9HLEVBQUFtaEQsY0FBQW5oRCxFQUFBb2hELFdBQUFwaEQsRUFBQXFoRCxVQUFBMGpFLEdBV0EsUUFBQTFLLEdBQUFyNkcsRUFBQWdsSCxHQUtBLEdBQUFDLEdBQUEsR0FBQXJySCxNQUFBb0csRUFBQW1oRCxjQUFBbmhELEVBQUFvaEQsV0FBQTRqRSxFQUFBLEdBQ0F0RyxFQUFBQyxFQUFBc0csRUFPQSxPQU5BdkcsR0FBQTErRyxFQUFBcWhELFVBQ0E0akUsRUFBQTdGLFFBQUFWLEdBRUF1RyxFQUFBN0YsUUFBQXAvRyxFQUFBcWhELFdBR0E0akUsRUFZQSxRQUFBcEwsR0FBQWxsRCxFQUFBeEMsR0FDQSxNQUFBLEtBQUFBLEVBQUFoUixjQUFBd1QsRUFBQXhULGdCQUFBZ1IsRUFBQS9RLFdBQUF1VCxFQUFBdlQsWUFRQSxRQUFBMjZELEdBQUEvN0csR0FDQSxNQUFBLElBQUFwRyxNQUFBb0csRUFBQW1oRCxjQUFBbmhELEVBQUFvaEQsV0FBQXU5RCxFQUFBMytHLElBUUEsUUFBQWtwRCxHQUFBbHBELEdBQ0EsTUFBQSxPQUFBQSxHQUFBQSxFQUFBckMsVUFBQW1DLE1BQUFFLEVBQUFyQyxXQU9BLFFBQUFxbEgsR0FBQWhqSCxHQUNBa3BELEVBQUFscEQsSUFDQUEsRUFBQTBpRCxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBWUEsUUFBQXkzRCxHQUFBK0ssR0FDQSxHQUFBbGxILEVBT0EsT0FMQUEsR0FEQTRELEVBQUF6SSxZQUFBK3BILEdBQ0EsR0FBQXRySCxNQUVBLEdBQUFBLE1BQUFzckgsR0FFQWxDLEVBQUFoakgsR0FDQUEsRUFVQSxRQUFBaytHLEdBQUFsK0csRUFBQXE1RyxFQUFBQyxHQUNBLFFBQUExMUcsRUFBQWpLLE9BQUEwL0csSUFBQXI1RyxHQUFBcTVHLE1BQ0F6MUcsRUFBQWpLLE9BQUEyL0csSUFBQUEsR0FBQXQ1RyxHQTlOQSxPQUNBODdHLG9CQUFBQSxFQUNBNkMsdUJBQUFBLEVBQ0F1RixtQkFBQUEsRUFDQUMsdUJBQUFBLEVBQ0FJLGNBQUFBLEVBQ0FJLGtCQUFBQSxFQUNBRSxnQkFBQUEsRUFDQVQsbUJBQUFBLEVBQ0FVLGVBQUFBLEVBQ0FqSixjQUFBQSxFQUNBeEIsZ0JBQUFBLEVBQ0EwQixtQkFBQUEsRUFDQThCLFVBQUFBLEVBQ0FoRSxpQkFBQUEsRUFDQTN3RCxZQUFBQSxFQUNBODVELHNCQUFBQSxFQUNBN0kscUJBQUFBLEVBQ0ErRCxrQkFBQUEsV0FrTkEsV0FnREEsUUFBQWlILEdBQUE5eEcsRUFBQWlzRixFQUFBOGxCLEdBQ0EsT0FDQS85RixTQUFBLElBQ0EvQyxLQUFBLFNBQUFoaEIsRUFBQTVHLEVBQUFOLEdBQ0FrakcsRUFBQTVpRyxHQUNBMlcsRUFBQSxXQWtCQSxRQUFBZ3lHLEtBQ0Ezb0gsRUFBQTIwRCxZQUFBLHNCQUFBai9CLEVBQUE0Z0UsYUFBQTVnRSxFQUFBNmdFLGNBbEJBLEdBQUFxeUIsR0FDQWx6RixFQUFBMTFCLEVBQUEsR0FBQStGLGNBQUEsb0JBRUEydkIsS0FDQWt6RixFQUFBbHpGLEVBQUFxL0IscUJBQUEsT0FDQTR6RCxJQUVBemhILEVBQUFsSCxRQUFBNG9ILEdBQUFwZ0gsR0FBQSxPQUFBbWdILElBR0EvaEgsRUFBQTZyQixJQUFBLFdBQUEsV0FDQWkyRixFQUFBLy9GLFFBQUEzb0IsU0EwWUEsUUFBQTZvSCxHQUFBblAsR0F3QkEsUUFBQW9QLEdBQUFKLEVBQUE5bEIsR0FDQSxPQUNBMW9HLFVBQ0Esc0dBQ0EsZ0ZBQ0EsbURBQ0EsMEVBQ0EsdURBQ0EsMkVBQ0EsMENBQ0EsYUFDQSx5QkFDQSx3QkFDQSxpSEFFQSw0QkFDQSxtQkFDQSx1R0FDQSx3QkFDQSxtQkFDQSx5QkFDQSxnQkFDQThLLEtBQUEsSUFBQTdLLFFBQUEsU0FBQSxJQUNBd08sV0FBQSxXQUNBMEQsS0FBQSsxRixLQUFBLFdBQ0FzbUIsRUFBQXRtQixNQUFBLElBRUEvMUYsS0FBQTgyQixNQUFBLFdBQ0F1bEYsRUFBQXZoRyxXQUdBeUMsYUFBQSxTQUNBRCxrQkFBQSxFQUNBdWtFLE1BQUEwVSxFQUFBK08sZ0JBS0EsUUFBQW9YLEdBQUFMLEVBQUExTixFQUFBOW1CLEVBQUEzQixFQUFBNS9FLEVBQUFjLEVBQUFnRCxFQUFBcVcsRUFBQTdYLEVBQUEyTCxHQWdDQSxRQUFBb29HLEdBQUFwaUgsRUFBQTVHLEVBQUF1a0IsRUFBQTViLEdBQ0EsR0FBQUEsRUFBQSxDQUtBLEdBSkFBLEVBQUFzZ0gsY0FBQXRnSCxFQUFBdWdILGFBQUEza0csRUFBQTJrRyxhQUFBLEdBQ0F2Z0gsRUFBQXdnSCxjQUFBeGdILEVBQUF5USxhQUFBbUwsRUFBQW5MLGFBQ0F6USxFQUFBK3NCLFNBQUFuUixFQUFBbVIsU0FBQSxHQUVBL3NCLEVBQUFzZ0gsZ0JBQUFyb0csRUFBQTJCLElBQUEsYUFDQSxLQUFBN29CLE9BQUEsb0VBR0EsSUFBQWlQLEVBQUFzZ0gsZUFBQXRnSCxFQUFBd2dILGNBQ0EsS0FBQXp2SCxPQUFBLCtEQU1BLFFBQUE2cUcsR0FBQTM5RixFQUFBNUcsRUFBQXVrQixFQUFBNWIsR0FrQkEsUUFBQXlnSCxLQUNBLEdBQUFDLEdBQUFycEgsRUFBQSxHQUFBZ2EsaUJBQUEsY0FFQXF2RyxHQUFBN3VILE9BQUEsR0FDQXlhLEVBQUFnM0IsS0FBQSw2RUFRQSxRQUFBcTlFLEtBWUEsUUFBQUMsS0FDQSxHQUFBQyxHQUFBeHBILEVBQUEsR0FBQStGLGNBQUEsZ0JBQ0EsS0FBQXlqSCxFQUFBLENBQ0EsR0FBQUMsR0FBQXpwSCxFQUFBLEdBQUFnYSxpQkFBQSwrQ0FDQXd2RyxHQUFBQyxFQUFBQSxFQUFBanZILE9BQUEsR0FFQSxNQUFBME0sR0FBQWxILFFBQUF3cEgsR0FqQkEsR0FBQWpsRyxFQUFBK2tHLFlBQUEsQ0FDQSxHQUFBbHJHLEdBQUE4MUUsRUFBQVcsZ0JBQUE3MEYsSUFBQXVwSCxHQUNBbnJHLEdBQUE4bEQsU0ExQkEsTUFOQWg5RCxHQUFBbEgsUUFBQXlULEVBQUEsR0FBQW92QixNQUFBbGtCLFNBQUEsd0JBRUErcUcsRUFBQW5sRyxHQUNBb2xHLEVBQUEzcEgsRUFBQUwsS0FBQSxhQUFBNGtCLEdBQ0FxbEcsRUFBQWhqSCxFQUFBNUcsRUFBQXVrQixHQUVBc2xHLEVBQUE3cEgsRUFBQXVrQixHQUNBbmxCLEtBQUEsV0FDQTBxSCxFQUFBOXBILEVBQUF1a0IsR0FDQXdsRyxFQUFBL3BILEVBQUF1a0IsR0FDQTZrRyxJQUNBRSxNQTRDQSxRQUFBOWtCLEdBQUE1OUYsRUFBQTVHLEVBQUF1a0IsR0FzQkEsUUFBQXlsRyxLQUNBLE1BQUFDLEdBQUFqcUgsRUFBQXVrQixHQU1BLFFBQUEybEcsS0FDQWhqSCxFQUFBbEgsUUFBQXlULEVBQUEsR0FBQW92QixNQUFBamtCLFlBQUEsd0JBQ0E1ZSxFQUFBeW9CLFNBRUFsRSxFQUFBcGIsVUFBQW9iLEVBQUFreUYsT0FBQXZ5QyxRQWpCQSxNQWZBMy9DLEdBQUE0bEcsc0JBQ0E1bEcsRUFBQTZsRyxxQkFDQTdsRyxFQUFBOGxHLGFBQUE5bEcsRUFBQXBiLFVBR0FtaEgsR0FBQUEsRUFBQXJ1RyxZQUNBcXVHLEVBQUFydUcsV0FBQUksWUFBQWl1RyxHQUdBQyxHQUFBQSxFQUFBdHVHLFlBQ0FzdUcsRUFBQXR1RyxXQUFBSSxZQUFBa3VHLEdBS0FobUcsRUFBQXBiLFNBQUErZ0gsSUFBQUYsSUFBQTVxSCxLQUFBOHFILEdBMEJBLFFBQUFSLEdBQUFubEcsR0FtQkEsUUFBQXBCLEdBQUFuakIsRUFBQXdxSCxHQUNBLEdBQUFqcUgsR0FBQTJHLEVBQUFsSCxRQUFBQSxNQUNBLElBQUFPLEdBQUFBLEVBQUEvRixPQUFBLENBTUEsR0FBQWs4RyxJQUFBbHpGLElBQUEsRUFBQXVxQixLQUFBLEVBQUE0bUQsT0FBQSxFQUFBRCxNQUFBLEdBQ0ErMUIsRUFBQXZqSCxFQUFBMUwsV0FBQStFLEVBQUEsR0FBQTRpQixzQkFFQSxPQUFBamMsR0FBQXhKLE9BQUE4c0gsT0FDQXhxSCxRQUFBeXFILEVBQUFscUgsRUFBQWpILEVBQ0FvOUcsT0FBQStULEVBQUFscUgsRUFBQSxHQUFBNGlCLHdCQUFBamMsRUFBQXhKLFVBQUFnNUcsRUFBQW4yRyxFQUFBLElBQ0EyakUsTUFBQWg5RCxFQUFBaEYsS0FBQTNCLEVBQUFBLEVBQUEyakUsVUFTQSxRQUFBd21ELEdBQUExcUgsRUFBQTJxSCxHQUNBLEdBQUF6akgsRUFBQW5NLFNBQUFpRixHQUFBLENBQ0EsR0FBQTRxSCxHQUFBNXFILEVBQ0EwbUYsRUFBQWp6RSxFQUFBLEdBQUF1RyxpQkFBQTR3RyxFQUNBNXFILEdBQUEwbUYsRUFBQWxzRixPQUFBa3NGLEVBQUEsR0FBQSxLQUlBLE1BQUF4L0UsR0FBQWxILFFBQUFBLEdBQUEycUgsR0FqREFwbUcsRUFBQWt5RixPQUFBdnZHLEVBQUF4SixRQUNBc0MsUUFBQSxLQUNBMDJHLE9BQUEsS0FDQXh5QyxNQUFBaDlELEVBQUEvSSxNQUNBb21CLEVBQUFreUYsWUFFQWx5RixFQUFBdm1CLE9BQUEwc0gsRUFBQW5tRyxFQUFBdm1CLE9BQUE4dUIsR0FDQXZJLEVBQUE2K0UsUUFBQWpnRixFQUFBdW5HLEVBQUFubUcsRUFBQTYrRSxVQUNBNytFLEVBQUFzbUcsU0FBQTFuRyxFQUFBdW5HLEVBQUFubUcsRUFBQXNtRyxXQUVBdG1HLEVBQUF1bUcsY0FDQXZtRyxFQUFBa3lGLE9BQUF0ekYsRUFBQW9CLEVBQUF1bUcsWUFBQTFzRyxPQUFBbUcsRUFBQWt5RixTQThDQSxRQUFBcVQsR0FBQTlwSCxFQUFBdWtCLEdBQ0EsR0FBQW5yQixHQUFBOE4sRUFBQWxILFFBQUF5VyxHQUNBczBHLEVBQUE3MkIsRUFBQXpzQixTQUFBLFdBQ0F1akQsRUFBQWhySCxFQUFBdWtCLElBQ0EsSUFFQTBtRyxLQUNBQyxFQUFBLFdBR0EsR0FBQTkvQixHQUFBLFNBQUE3bUUsRUFBQWkrRSxNQUFBa21CLEVBQUF0bUIsS0FBQXNtQixFQUFBdmhHLE1BQ0Erc0UsR0FBQTNoRCxTQUFBNjRDLEdBQUEsR0FHQSxJQUFBN21FLEVBQUE0MUYsY0FBQSxDQUNBLEdBQUEvN0YsR0FBQW1HLEVBQUF2bUIsT0FDQW10SCxFQUFBLFNBQUE5Z0UsR0FDQUEsRUFBQU8sVUFBQTJuQyxFQUFBeEQsU0FBQS8xQixTQUNBM08sRUFBQXhzQyxrQkFDQXdzQyxFQUFBeGYsaUJBRUFxZ0YsS0FLQWxySCxHQUFBd0ksR0FBQSxVQUFBMmlILEdBQ0Evc0csRUFBQTVWLEdBQUEsVUFBQTJpSCxHQUNBL3hILEVBQUFvUCxHQUFBLFNBQUF1aUgsR0FHQUUsRUFBQXZxSCxLQUFBLFdBRUFWLEVBQUE2bUIsSUFBQSxVQUFBc2tHLEdBQ0Evc0csRUFBQXlJLElBQUEsVUFBQXNrRyxHQUNBL3hILEVBQUF5dEIsSUFBQSxTQUFBa2tHLEtBSUEsR0FBQXhtRyxFQUFBczFGLG9CQUFBLENBQ0EsR0FDQXVSLEdBREFodEcsRUFBQXBlLEVBT0FxckgsRUFBQSxTQUFBaGhFLEdBQ0ErZ0UsRUFBQS9nRSxFQUFBanNDLFFBTUFrdEcsRUFBQSxTQUFBamhFLEdBQ0ErZ0UsSUFBQWh0RyxFQUFBLElBQUFpc0MsRUFBQWpzQyxTQUFBQSxFQUFBLEtBQ0Fpc0MsRUFBQXhzQyxrQkFDQXdzQyxFQUFBeGYsaUJBRUFxZ0YsS0FLQTlzRyxHQUFBNVYsR0FBQSxZQUFBNmlILEdBQ0FqdEcsRUFBQTVWLEdBQUEsVUFBQThpSCxHQUdBTCxFQUFBdnFILEtBQUEsV0FDQTBkLEVBQUF5SSxJQUFBLFlBQUF3a0csR0FDQWp0RyxFQUFBeUksSUFBQSxVQUFBeWtHLEtBS0EvbUcsRUFBQTRsRyxvQkFBQSxXQUNBYyxFQUFBN3ZILFFBQUEsU0FBQW13SCxHQUNBQSxNQUVBaG5HLEVBQUE0bEcsb0JBQUEsTUFPQSxRQUFBUCxHQUFBaGpILEVBQUE1RyxFQUFBdWtCLEdBRUFBLEVBQUF5MUYsc0JBR0F6MUYsRUFBQTAxRixjQUFBL2xCLEVBQUF3QixvQkFBQTExRixFQUFBdWtCLEVBQUF2bUIsU0FHQXVtQixFQUFBaW5HLGNBQ0FqbkcsRUFBQXExRixTQUFBMWxCLEVBQUF3RCxlQUFBOXdGLEVBQUEsZ0NBQ0ErTCxFQUFBeWtELE1BQUE3eUMsRUFBQXExRixTQUFBcjFGLEVBQUF2bUIsU0FNQXVtQixFQUFBOGxHLGFBQUEsU0FBQWxoSCxHQUNBb2IsRUFBQXExRixXQUNBendHLEVBQUFvYixFQUFBcTFGLFNBQUFueEYsU0FDQTlWLEVBQUEya0QsTUFBQS95QyxFQUFBcTFGLFdBR0FyMUYsRUFBQXkxRixzQkFDQXoxRixFQUFBMDFGLHNCQUNBMTFGLEdBQUEwMUYsZUFHQTExRixFQUFBOGxHLGFBQUEsTUFPQSxRQUFBVixHQUFBM3BILEVBQUF1a0IsR0FFQSxHQUFBMG9FLEdBQUEsVUFBQTFvRSxFQUFBaStFLE1BQUEsY0FBQSxTQUNBaXBCLEVBQUF6ckgsRUFBQUwsS0FBQSxxQkFDQStySCxFQUFBMXJILEVBQUFOLEtBQUEsT0FBQSxVQUFBdzBGLEVBQUEvM0YsU0FFQTZELEdBQUFOLE1BQ0F1dEYsS0FBQUEsRUFDQWcwQixTQUFBLE9BR0EsSUFBQXdLLEVBQUFqeEgsU0FDQWl4SCxFQUFBenJILEdBR0F5ckgsRUFBQS9ySCxLQUFBLEtBQUFnc0gsR0FDQTFySCxFQUFBTixLQUFBLG1CQUFBZ3NILEdBRUFubkcsRUFBQW9uRyxVQUNBM1EsRUFBQWhnRCxPQUFBaDdELEVBQUEsYUFBQXVrQixFQUFBb25HLFdBR0EzUSxFQUFBamhCLFlBQUEvNUYsRUFBQSxhQUFBLFdBQ0EsR0FBQTRySCxHQUFBSCxFQUFBbjFGLE9BQUF4MkIsTUFBQSxNQUVBLE9BREE4ckgsR0FBQXB4SCxPQUFBLElBQUFveEgsRUFBQUEsRUFBQXR4SCxNQUFBLEVBQUEsR0FBQXNILE9BQUEsUUFDQWdxSCxFQUFBNW1ILEtBQUEsT0FNQXNsSCxFQUFBanhILFNBQUFxZixjQUFBLE9BQ0E0eEcsRUFBQTNLLFVBQUF2cEQsSUFBQSx3QkFDQWswRCxFQUFBckosU0FBQSxFQUVBc0osRUFBQUQsRUFBQS9zSCxXQUFBLEVBSUEsSUFBQXN1SCxHQUFBLFdBQ0E3ckgsRUFBQWtrRSxRQUVBb21ELEdBQUF2NEQsaUJBQUEsUUFBQTg1RCxHQUNBdEIsRUFBQXg0RCxpQkFBQSxRQUFBODVELEdBSUE3ckgsRUFBQSxHQUFBaWMsV0FBQW00QyxhQUFBazJELEVBQUF0cUgsRUFBQSxJQUNBQSxFQUFBa0UsT0FBQXFtSCxHQU9BLFFBQUFSLEdBQUEvcEgsRUFBQXVrQixHQWtCQSxRQUFBdW5HLEdBQUE5ckgsR0FDQSxLQUFBQSxFQUFBaWMsWUFBQSxDQUNBLEdBQUFqYyxJQUFBM0csU0FBQXdwQyxLQUNBLE1BR0EsS0FBQSxHQURBMEosR0FBQXZzQyxFQUFBaWMsV0FBQXN3QixTQUNBM3lDLEVBQUEsRUFBQUEsRUFBQTJ5QyxFQUFBL3hDLE9BQUFaLElBR0FvRyxJQUFBdXNDLEVBQUEzeUMsSUFBQWl5RixFQUFBdC9DLEVBQUEzeUMsSUFBQSxTQUFBLFdBQ0EyeUMsRUFBQTN5QyxHQUFBMmhCLGFBQUEsY0FBQTIrRSxFQUlBNHhCLEdBQUE5ckgsRUFBQUEsRUFBQWljLGFBL0JBLEdBQUFpK0UsSUFBQSxDQUdBNHhCLEdBQUE5ckgsRUFBQSxJQUVBdWtCLEVBQUE2bEcsbUJBQUEsV0FDQWx3QixHQUFBLEVBQ0E0eEIsRUFBQTlySCxFQUFBLElBRUF1a0IsRUFBQTZsRyxtQkFBQSxNQThCQSxRQUFBWSxHQUFBdGtDLEVBQUFuaUUsR0FDQSxHQUFBd25HLEdBQUEsU0FBQXQxRyxFQUFBd00saUJBQUF4UCxFQUFBLEdBQUFvdkIsTUFBQTNmLFNBQ0EwMkYsRUFBQXIxRixFQUFBcTFGLFNBQUFuakcsRUFBQXdNLGlCQUFBc0IsRUFBQXExRixTQUFBLElBQUEsS0FDQWpsQixFQUFBaWxCLEVBQUFubEYsS0FBQW91QixJQUFBcHZDLEVBQUEsR0FBQW92QixLQUFBMHpELGFBQUE5aEUsS0FBQXUzRixLQUFBdjNGLEtBQUEwdEIsSUFBQXJrRCxTQUFBODdHLEVBQUFqbEIsT0FBQSxPQUFBLENBT0EsT0FMQWpPLEdBQUFyekIsS0FDQTd2QyxLQUFBdW9HLEVBQUE3M0IsRUFBQXBVLFVBQUF2N0QsRUFBQXZtQixRQUFBLEdBQUEsS0FDQTIyRixPQUFBQSxFQUFBQSxFQUFBLEtBQUEsU0FHQWpPLEVBTUEsUUFBQW1qQyxHQUFBbmpDLEVBQUFuaUUsR0FFQUEsRUFBQXZtQixPQUFBa0csT0FBQXdpRixHQUNBc2tDLEVBQUF0a0MsRUFBQW5pRSxFQUVBLElBQUEwbkcsR0FBQXZsQyxFQUFBL21GLEtBQUEsYUFDQXNnRixFQUFBaVUsRUFBQUMsSUFBQWxVLFNBQ0Fpc0MsRUFBQWpzQyxFQUFBcTJCLHNCQUNBNlYsR0FBQWpXLGtCQUFBLG1CQUFBRCxtQkFBQSxxQkFDQXgvQyxFQUFBd3BCLEVBQUEyM0IsZUFBQXNVLEVBQUFELEVBQUExbkcsRUFBQXNtRyxVQUFBdG1HLEVBQUFreUYsU0FDQS8vQyxFQUFBdXBCLEVBQUEyM0IsZUFBQSxHQU1BLE9BSkFyekYsR0FBQTZuRyxZQUNBSCxFQUFBdHRHLFNBQUEsd0JBR0FzaEUsRUFDQTYxQixZQUFBbVcsRUFBQXgxRCxFQUFBQyxFQUFBeTFELEdBQ0Evc0gsS0FBQSxTQUFBaXRILEdBd0JBLE1BdEJBOW5HLEdBQUErbkcsZUFBQSxXQUdBLGFBRkEvbkcsR0FBQStuRyxlQUVBL25HLEVBQUE2K0UsU0FFQStvQixHQUFBalcsa0JBQUEsb0JBQUFELG1CQUFBLG9CQUNBeC9DLEVBQUFDLEVBQ0FBLEVBQUF1cEIsRUFBQTIzQixlQUFBc1UsRUFBQUQsRUFBQTFuRyxFQUFBNitFLFVBRUFuakIsRUFDQTYxQixZQUFBbVcsRUFBQXgxRCxFQUFBQyxFQUFBeTFELElBR0FFLEVBQ0Fwc0MsRUFBQTIzQixlQUdBc1UsRUFBQUQsRUFBQTFuRyxFQUFBa3lGLFlBS0EsSUFPQSxRQUFBd1QsR0FBQXZqQyxFQUFBbmlFLEdBQ0EsTUFBQUEsR0FBQStuRyxpQkFNQSxRQUFBemdDLEdBQUE1aUYsRUFBQTJqRixHQUNBLE1BQUEsS0FBQUEsRUFBQXhzRixRQUFBNkksRUFBQTNMLFdBQ0EsRUFEQSxPQTVlQSxPQUNBa3VILGFBQUEsRUFDQTlpSCxjQUFBLEVBQ0E2N0YsT0FBQUEsRUFDQVcsVUFBQThqQixFQUNBeGtCLFNBQUFBLEVBQ0FxVixxQkFBQSxFQUNBTSxlQUFBLEVBQ0EyUSxZQUFBLEtBQ0ExbkIsUUFBQSxLQUNBeW5CLFNBQUEsS0FDQXZCLGFBQUEsRUFDQXRQLHFCQUFBLEVBQ0F1UyxVQUFBLEVBQ0FILFlBQUEsRUFDQTN4QixrQkFBQSxTQUFBdmdHLEVBQUFxcUIsR0FNQSxRQUFBaW9HLEdBQUF0eUgsR0FDQSxNQUFBcXFCLEdBQUFnb0csV0FBQSxpQkFBQWh0SCxLQUFBckYsR0FDQSxlQUFBQSxHQUFBLElBQUEsZUFFQUEsR0FBQSxHQVRBLE1BQUEsb0NBQUFzeUgsRUFBQXR5SCxHQUFBLFdBN0VBLEdBQUFvd0gsR0FBQUMsQ0FJQSxPQUZBekIsR0FBQXRwRyxTQUFBLFlBQUEsY0FDQXVwRyxFQUFBdnBHLFNBQUEsWUFBQSxVQUFBLFVBQUEsY0FBQSxXQUFBLFlBQUEsVUFBQSxlQUFBLE9BQUEsYUFDQWs2RixFQUFBLGFBQ0E1WSxhQUNBRyxTQUFBLHNCQUFBLGNBQUEsc0JBQUEsZ0JBQ0EsY0FBQSxVQUFBLFdBQUEsU0FBQSxjQUNBMThFLFFBQUF3a0csSUFFQTFuQixVQUFBLFNBQ0FKLFNBQUEsUUFBQSxjQUFBLGNBQUEsVUFBQSxZQUFBLEtBQUEsUUFDQSxPQUNBMThFLFFBQUF1a0csSUFFQXpuQixVQUFBLFdBQ0FKLFNBQUEsUUFBQSxjQUFBLGNBQUEsVUFBQSxZQUFBLEtBQUEsU0FDQSxRQUFBLE9BQ0ExOEUsUUFBQXVrRyxJQXhkQTVoSCxFQUNBMU4sT0FBQSw4QkFDQSxnQkFDQSxpQ0FFQTBTLFVBQUEsV0FBQXU4RyxHQUNBMzlHLFNBQUEsWUFBQSs5RyxHQW1FQUosRUFBQWpwRyxTQUFBLFFBQUEsYUFBQSxhQTY2QkFxcEcsRUFBQXJwRyxTQUFBLCtCQUdBLFdBK0JBLFFBQUFpdEcsR0FBQTdwQixHQUNBLE9BQ0FqNEUsU0FBQSxJQUNBL0MsS0FBQWc3RSxHQTFCQTE3RixFQUFBMU4sT0FBQSwrQkFDQSxrQkFFQTBTLFVBQUEsWUFBQXVnSCxHQTBCQUEsRUFBQWp0RyxTQUFBLGlCQUdBLFlBR0EsV0EwQkEsUUFBQWt0RyxLQUNBLE9BQ0EvaEcsU0FBQSxJQUVBRCxTQUFBLG1CQUFBLGtCQUVBN2pCLFFBQUEsU0FBQTdHLEVBQUFrdkIsR0FDQSxHQUFBcWQsR0FBQXZzQyxFQUFBdXNDLFdBRUFvZ0YsR0FBQSxDQUVBemxILEdBQUE5TCxTQUFBLEdBQUEsUUFBQSxNQUFBLFNBQUF1SyxHQUNBZ25ILEVBQUFBLElBQUFwZ0YsRUFBQTdzQyxLQUFBaUcsRUFBQSxjQUFBLEdBQUEsS0FJQWduSCxFQUNBcGdGLEVBQUE1dEIsU0FBQSxzQkFHQTR0QixFQUFBbDBCLEtBQUEsc0NBdkNBblIsRUFDQTFOLE9BQUEsa0NBQUEsa0JBQ0EwUyxVQUFBLGVBQUF3Z0gsU0E4Q0EsWUFHQSxXQU1BLFFBQUFFLEdBQUFuN0YsRUFBQXRHLEVBQUF4WSxFQUFBdWhGLEVBQUEzQixFQUFBaDhFLEdBNkJBLFFBQUFzMkcsS0FFQUMsRUFBQWhqQyxVQUFBZ2pDLEVBQUFoakMsV0FBQSxPQUdBZ2pDLEVBQUFDLE9BQUFELEVBQUFDLFNBQUEsRUFHQUMsSUFHQTdoRyxFQUFBeE0sU0FBQSx5QkFHQSxRQUFBc3VHLEtBQ0EsR0FBQUMsSUFDQSxRQUFBLFVBQUEsV0FJQWhtSCxHQUFBOUwsUUFBQTh4SCxFQUFBLFNBQUE1dkIsR0FDQW55RSxFQUFBM2lCLEdBQUE4MEYsRUFBQTZ2QixLQUlBMTdGLEVBQUFnQixJQUFBLFdBQUEsV0FDQXZyQixFQUFBOUwsUUFBQTh4SCxFQUFBLFNBQUE1dkIsR0FDQW55RSxFQUFBdEUsSUFBQXkyRSxFQUFBNnZCLEtBS0FDLE1BS0EsUUFBQUQsR0FBQTl2RyxHQUVBLFNBQUFBLEVBQUFqRCxNQUNBaXpHLEVBQUFod0csR0FJQSxZQUFBQSxFQUFBakQsTUFBQWt6RyxJQUNBQSxFQUFBLzJHLEVBQUEsV0FDQXUyRyxFQUFBaDFELFNBQ0EsS0FBQSxJQUlBLFdBQUF6NkMsRUFBQWpELE1BQUFrekcsSUFDQS8yRyxFQUFBNFEsT0FBQW1tRyxHQUNBQSxFQUFBLE1BSUEsUUFBQU4sS0FDQUYsRUFBQVMsbUJBQUEsR0FHQSxRQUFBQyxLQUVBLzdGLEVBQUEzeUIsT0FBQSxlQUFBLFNBQUEydUgsRUFBQUMsR0FFQS82RyxFQUFBaU0sWUFBQXVNLEVBQUEsTUFBQXVpRyxHQUNBLzZHLEVBQUFnTSxTQUFBd00sRUFBQSxNQUFBc2lHLEdBR0FULEtBR0EsSUFBQS81RCxHQUFBMDZELENBR0FsOEYsR0FBQTN5QixPQUFBLFlBQUEsU0FBQWl1SCxHQUVBQyxJQUlBLzVELEdBQUEwNkQsSUFDQTE2RCxFQUFBMjZELElBQ0FELEVBQUFFLEtBR0FkLEVBQ0FlLElBRUFWLEdBR0EsSUFBQTN6RixHQUFBc3pGLEVBQUEsYUFBQSxHQUNBcHpGLEVBQUFvekYsRUFBQSxHQUFBLFlBR0E5NUQsR0FBQXZ6RCxLQUFBLGlCQUFBLEdBQ0F1ekQsRUFBQXZ6RCxLQUFBLGdCQUFBcXRILEdBQ0FZLEVBQUFqdUgsS0FBQSxlQUFBcXRILEdBR0FwNkcsRUFBQWczQyxTQUFBeCtCLEVBQUFzTyxFQUFBRSxLQUlBLFFBQUFvMEYsS0FFQTVpRyxFQUFBLEdBQUFtckUsYUFBQSxFQUVBM2pGLEVBQUFnTSxTQUFBd00sRUFBQSx1QkFBQS9yQixLQUFBLFdBRUErckIsRUFBQXZNLFlBQUEsMkJBS0EsR0FBQW92RyxJQUNBejNHLEVBQUF3M0csRUFBQSxLQUdBQyxHQUFBLEdBSUEsUUFBQUYsS0FDQTNpRyxFQUFBM2lCLEdBQUEsVUFBQXlsSCxHQUlBLzVCLEVBQUEzaEQsU0FBQSxXQUNBcnJDLEVBQUFsSCxRQUFBM0csVUFBQW1QLEdBQUEsaUJBQUEwbEgsS0FRQSxRQUFBZCxLQUNBamlHLEVBQUF0RSxJQUFBLFVBQUFvbkcsR0FDQS9tSCxFQUFBbEgsUUFBQTNHLFVBQUF3dEIsSUFBQSxpQkFBQXFuRyxHQUdBLFFBQUFBLEdBQUE3d0csR0FDQSxHQUFBQSxFQUFBZSxPQUFBLENBQ0EsR0FBQSt2RyxHQUFBajZCLEVBQUFzRSxXQUFBbjdFLEVBQUFlLE9BQUEsa0JBQ0Fnd0csRUFBQWw2QixFQUFBc0UsV0FBQW43RSxFQUFBZSxPQUFBLGlCQUVBK3ZHLElBQUFDLEdBQ0F0QixFQUFBaDFELFNBS0EsUUFBQW0yRCxHQUFBNXdHLEdBQ0EsT0FBQUEsRUFBQXF0QixPQUNBLElBQUE2bkQsR0FBQXhELFNBQUEvMUIsT0FBQSxNQUFBOHpELEdBQUFoMUQsUUFBQXo2QyxFQUFBd3RCLGtCQUFBLENBQ0EsS0FBQTBuRCxHQUFBeEQsU0FBQVEsV0FBQSxNQUFBOCtCLEdBQUFoeEcsSUFBQSxDQUNBLEtBQUFrMUUsR0FBQXhELFNBQUFTLFNBQUEsTUFBQTgrQixHQUFBanhHLElBQUEsQ0FDQSxLQUFBazFFLEdBQUF4RCxTQUFBVSxZQUFBLE1BQUE4K0IsR0FBQWx4RyxJQUFBLENBQ0EsS0FBQWsxRSxHQUFBeEQsU0FBQVcsV0FBQSxNQUFBOCtCLEdBQUFueEcsSUFBQSxHQUlBLFFBQUFveEcsR0FBQXB4RyxHQUNBcXhHLEVBQUFyeEcsRUFBQSxJQUdBLFFBQUFzeEcsR0FBQXR4RyxHQUNBcXhHLEVBQUFyeEcsRUFBQSxHQUdBLFFBQUFxeEcsR0FBQXJ4RyxFQUFBeXNFLEdBQ0EsR0FBQTZqQyxHQUFBaUIsR0FHQTlCLEdBQUFTLG1CQUFBVCxFQUFBUyxtQkFBQXpqQyxFQUNBZ2pDLEVBQUFTLG1CQUFBOTRGLEtBQUFvdUIsSUFBQThxRSxFQUFBbnpILE9BQUEsRUFBQXN5SCxFQUFBUyxvQkFDQVQsRUFBQVMsbUJBQUE5NEYsS0FBQUMsSUFBQSxFQUFBbzRGLEVBQUFTLG1CQUdBLElBQUFzQixHQUFBM25ILEVBQUFsSCxRQUFBMnRILEVBQUFiLEVBQUFTLHFCQUFBaGhGLFdBQUEsRUFDQXJsQyxHQUFBbEgsUUFBQTZ1SCxHQUFBbnZILEtBQUEsV0FBQSxHQUNBbXZILEVBQUEzcUQsUUFHQTdtRCxFQUFBd3RCLGlCQUNBeHRCLEVBQUFPLDJCQUdBLFFBQUFneEcsS0FFQSxHQUFBakIsR0FBQUUsSUFBQSxHQUFBN3pHLGlCQUFBLHNCQU9BLE9BSkE5UyxHQUFBOUwsUUFBQXV5SCxFQUFBLFNBQUFseEcsR0FDQXZWLEVBQUFsSCxRQUFBa0gsRUFBQWxILFFBQUF5YyxHQUFBOHZCLFdBQUEsSUFBQTdzQyxLQUFBLFdBQUEsTUFHQWl1SCxFQUdBLFFBQUFVLEdBQUFoeEcsR0FDQSxTQUFBeXZHLEVBQUFoakMsVUFDQTZrQyxFQUFBdHhHLEdBRUFveEcsRUFBQXB4RyxHQUlBLFFBQUFpeEcsR0FBQWp4RyxHQUNBLFNBQUF5dkcsRUFBQWhqQyxVQUNBMmtDLEVBQUFweEcsR0FFQXN4RyxFQUFBdHhHLEdBSUEsUUFBQWt4RyxHQUFBbHhHLEdBQ0EsU0FBQXl2RyxFQUFBaGpDLFVBQ0Eya0MsRUFBQXB4RyxHQUVBc3hHLEVBQUF0eEcsR0FJQSxRQUFBbXhHLEdBQUFueEcsR0FDQSxPQUFBeXZHLEVBQUFoakMsVUFDQTJrQyxFQUFBcHhHLEdBRUFzeEcsRUFBQXR4RyxHQUlBLFFBQUF5eEcsR0FBQTl1SCxHQUNBLE1BQUFrMEYsR0FBQXNFLFdBQUF4NEYsRUFBQSxrQkFHQSxRQUFBK3VILEdBQUEvdUgsR0FDQSxNQUFBazBGLEdBQUFzRSxXQUFBeDRGLEVBQUEsa0JBR0EsUUFBQXF0SCxHQUFBaHdHLEdBQ0F5eEcsRUFBQXp4RyxFQUFBZSxTQUNBMHVHLEVBQUFrQyxTQUdBRCxFQUFBMXhHLEVBQUFlLFNBQ0EwdUcsRUFBQWgxRCxRQUlBLFFBQUE4MUQsS0FDQSxNQUFBemlHLEdBQUF4ckIsS0FBQSxrQkFHQSxRQUFBa3VILEtBQ0EsTUFBQTFpRyxHQUFBeHJCLEtBQUEsa0JBN1JBLEdBQUFtdEgsR0FBQXpnSCxJQUlBeWdILEdBQUF6cEYsS0FBQSxXQUNBNVIsRUFBQTV5QixXQUFBLHFCQUdBaXVILEVBQUFoMUQsTUFBQSxXQUVBcm1DLEVBQUE1eUIsV0FBQSxxQkFHQXNzQixFQUFBeHJCLEtBQUEsa0JBQUEsR0FBQXVrRSxTQUlBNG9ELEVBQUFrQyxPQUFBLFdBQ0F2OUYsRUFBQTV5QixXQUFBLDJCQUdBZ3VILElBQ0FJLElBQ0FPLEdBRUEsSUFBQVEsR0FBQSxDQUNBRCxJQXNDQSxJQUFBVCxHQXBFQXBtSCxFQUFBMU4sT0FBQSxpQ0FBQSxrQkFDQW1QLFdBQUEsZ0JBQUFpa0gsR0FtU0FBLEVBQUFwdEcsU0FBQSxTQUFBLFdBQUEsV0FBQSxVQUFBLGNBQUEsa0JBSUEsWUFHQSxXQTBGQSxRQUFBeXZHLEtBZ0JBLFFBQUFDLEdBQUF0b0gsRUFBQTVHLEdBRUFBLEVBQUFzMEQsUUFBQSx3Q0FqQkEsT0FDQTNwQyxTQUFBLElBRUEvakIsT0FDQWtqRixVQUFBLGdCQUNBaWpDLE9BQUEsWUFHQXBqRyxrQkFBQSxFQUNBaGhCLFdBQUEsZ0JBQ0FpaEIsYUFBQSxLQUVBaEMsS0FBQXNuRyxHQVNBLFFBQUFDLEdBQUE1NEcsR0FDQSxRQUFBNjRHLEdBQUFwdUYsR0FBQXpxQixFQUFBeXFCLEVBQUFxdUYsR0FBQSxHQUVBLFFBQUFDLEdBQUF0dkgsR0FFQSxJQUFBQSxFQUFBeWUsU0FBQSwwQkFBQXplLEVBQUF5ZSxTQUFBLHVCQUFBLENBSUEsR0FBQSt5QyxHQUFBeHhELEVBQUEsR0FDQW9wRCxFQUFBcHBELEVBQUEySSxXQUFBLGtCQUNBOUksRUFBQTJ4RCxFQUFBeDNDLGlCQUFBLHVCQUdBdTFHLEVBQUEvOUQsRUFBQXpyRCxjQUFBLGtCQUdBeXBILEVBQUFoK0QsRUFBQXpyRCxjQUFBLHFCQUdBMHBILEVBQUEzeEgsU0FBQTFFLEVBQUE2cEIsaUJBQUF1c0csR0FBQTM1QixPQUdBM3VGLEdBQUE5TCxRQUFBeUUsRUFBQSxTQUFBMUUsRUFBQWQsR0FDQSxHQUFBNjRFLEdBQUEvM0UsRUFBQTJTLEtBRUFvbEUsR0FBQTJrQyxVQUFBM2tDLEVBQUF3OEMsZ0JBQUEsR0FDQXg4QyxFQUFBNkYsZ0JBQUEsR0FDQTdGLEVBQUFtZ0MsUUFBQSxFQUdBbmdDLEVBQUEyaUIsT0FBQWgyRixFQUFBckYsT0FBQUgsRUFBQW8xSCxJQUlBRixFQUFBemhILE1BQUErbkYsT0FBQTQ1QixFQUFBNXZILEVBQUFyRixPQUFBLEVBR0E0dUQsRUFBQTJqRSxRQUNBN2xILEVBQUE5TCxRQUFBeUUsRUFBQSxTQUFBMUUsRUFBQWQsR0FDQSxHQUFBczFILEdBQUF0b0IsRUFDQW4wQixFQUFBLzNFLEVBQUEyUyxNQUtBOGhILEdBQUFMLEVBQUFoNUIsYUFBQXA3RixFQUFBbzdGLGNBQUEsRUFDQXM1QixHQUFBTixFQUFBbDVCLFlBQUFsN0YsRUFBQWs3RixhQUFBLENBRUEsUUFBQWp0QyxFQUFBMGdDLFdBQ0EsSUFBQSxLQUNBNmxDLEVBQUF4MEgsRUFBQW03RixjQUFBajhGLEVBQUEsR0FBQXUxSCxFQUNBdm9CLEVBQUEsR0FDQSxNQUNBLEtBQUEsT0FDQXNvQixJQUFBeDBILEVBQUFtN0YsY0FBQWo4RixFQUFBLEdBQUF1MUgsR0FDQXZvQixFQUFBLEdBQ0EsTUFDQSxLQUFBLE9BQ0Fzb0IsRUFBQXgwSCxFQUFBMjBILGFBQUF6MUgsRUFBQSxHQUFBdzFILEVBQ0F4b0IsRUFBQSxHQUNBLE1BQ0EsS0FBQSxRQUNBc29CLElBQUF4MEgsRUFBQTIwSCxhQUFBejFILEVBQUEsR0FBQXcxSCxHQUNBeG9CLEVBQUEsSUFJQSxHQUFBMG9CLEdBQUEsWUFBQTFvQixFQUFBLElBQUFzb0IsRUFBQSxLQUVBejhDLEdBQUEya0MsVUFBQTNrQyxFQUFBdzhDLGdCQUFBSyxLQUtBLE9BQ0FweEcsU0FBQSxTQUFBM2UsRUFBQW9yQixFQUFBNFYsR0FDQWhoQyxFQUFBeWUsU0FBQSxhQUNBNndHLEVBQUF0dkgsR0FDQW92SCxFQUFBcHVGLElBRUFBLEtBR0FwaUIsWUFBQSxTQUFBNWUsRUFBQW9yQixFQUFBNFYsR0FDQXN1RixFQUFBdHZILEdBQ0FvdkgsRUFBQXB1RixLQU1BLFFBQUFndkYsR0FBQXo1RyxHQUNBLFFBQUE2NEcsR0FBQXB1RixHQUFBenFCLEVBQUF5cUIsRUFBQXF1RixHQUFBLEdBSUEsUUFBQUMsR0FBQXR2SCxHQUNBLEdBQUF3eEQsR0FBQXh4RCxFQUFBLEdBQ0FvcEQsRUFBQXBwRCxFQUFBMkksV0FBQSxrQkFDQTlJLEVBQUEyeEQsRUFBQXgzQyxpQkFBQSx1QkFHQXcxRyxFQUFBaCtELEVBQUF6ckQsY0FBQSxxQkFHQTBwSCxFQUFBM3hILFNBQUExRSxFQUFBNnBCLGlCQUFBdXNHLEdBQUEzNUIsT0FHQTN1RixHQUFBOUwsUUFBQXlFLEVBQUEsU0FBQTFFLEVBQUFkLEdBQ0EsR0FBQTY0RSxHQUFBLzNFLEVBQUEyUyxNQUNBbWlILEVBQUE1MUgsRUFBQTRzQixDQUVBaXNELEdBQUFtZ0MsUUFBQWpxRCxFQUFBMmpFLE9BQUEsRUFBQSxFQUNBNzVDLEVBQUEya0MsVUFBQTNrQyxFQUFBdzhDLGdCQUFBdG1FLEVBQUEyakUsT0FBQSxXQUFBLGFBQ0E3NUMsRUFBQTZGLGlCQUFBM3ZCLEVBQUEyakUsT0FBQWtELEVBQUFwd0gsRUFBQXJGLE9BQUF5MUgsR0FBQSxLQUdBLzhDLEVBQUEyaUIsT0FBQWgyRixFQUFBckYsT0FBQUgsRUFBQW8xSCxJQXZCQSxHQUFBeG9HLEdBQUEsRUEyQkEsUUFDQXRJLFNBQUEsU0FBQTNlLEVBQUFvckIsRUFBQTRWLEdBQ0FzdUYsRUFBQXR2SCxHQUNBb3ZILEVBQUFwdUYsSUFHQXBpQixZQUFBLFNBQUE1ZSxFQUFBb3JCLEVBQUE0VixHQUNBc3VGLEVBQUF0dkgsR0FDQW92SCxFQUFBcHVGLEtBMU9BLEdBQUFxdUYsR0FBQSxHQU1Bbm9ILEdBRUExTixPQUFBLG9DQUNBLGdCQUNBLGdDQUNBLGlDQUNBLG1DQUlBMFMsVUFBQSxpQkFBQStpSCxHQUdBampILFVBQUEsWUFBQW1qSCxHQUNBbmpILFVBQUEsWUFBQWdrSCxHQUdBbmtILFFBQUEsK0JBQUFzakgsR0FDQXRqSCxRQUFBLCtCQUFBbWtILEdBMEtBYixFQUFBM3ZHLFNBQUEsWUE0Q0F3d0csRUFBQXh3RyxTQUFBLGtCQUlBLFlBR0EsV0F3RUEsUUFBQTB3RyxLQW9CQSxRQUFBdG9HLEdBQUFoaEIsRUFBQTVHLEVBQUFrdkIsR0FFQWx2QixFQUFBMmUsU0FBQSxrQkFHQTNlLEVBQUFMLEtBQUEsa0JBQUFBLEtBQUEsVUFDQTIwRCxRQUFBLGlEQXpCQSxPQUNBM3BDLFNBQUEsSUFDQStDLFlBQUEsRUFDQXh6QixTQUFBLHVHQUlBME0sT0FDQWtqRixVQUFBLGdCQUNBaWpDLE9BQUEsWUFHQXBqRyxrQkFBQSxFQUNBaGhCLFdBQUEsZ0JBQ0FpaEIsYUFBQSxLQUVBaEMsS0FBQUEsR0FhQSxRQUFBdW9HLEtBRUEsUUFBQWIsR0FBQXR2SCxFQUFBb3JCLEVBQUE0VixHQUVBLEdBQUE1VixFQUFBLENBSUEsR0FBQW9tQyxHQUFBeHhELEVBQUEsR0FDQW9wRCxFQUFBcHBELEVBQUEySSxXQUFBLGdCQUdBeW5ILEVBQUE1K0QsRUFBQXpyRCxjQUFBLDhCQUNBd3BILEVBQUEvOUQsRUFBQXpyRCxjQUFBLHlCQUNBc3FILEVBQUE3K0QsRUFBQXpyRCxjQUFBLGNBQ0F1cUgsRUFBQTkrRCxFQUFBenJELGNBQUEsaUNBQ0E0bkgsRUFBQTN0SCxFQUFBTCxLQUFBLGtCQUFBNHNDLFVBR0EsSUFBQWdqRixHQUFBYSxFQUFBLENBRUEsR0FBQXJtQixHQUFBM3dHLEVBQUE2cEIsaUJBQUFzc0csR0FBQXI0QyxpQkFBQSxvQkFDQXdkLEVBQUFsakMsRUFBQTJHLFlBSUFndkQsR0FIQTMxRCxFQUFBK3FELGFBR0EsR0FBQTduQixFQUFBNjZCLEVBQUFwM0QsYUFHQWk0RCxHQUFBdGlILE1BQUFzK0YsZ0JBQUFyQyxFQUNBcW1CLEVBQUF0aUgsTUFBQXlpSCxhQUFBNzdCLEVBQUEsS0FHQXRyQyxFQUFBMmpFLFFBRUFzRCxFQUFBdmlILE1BQUEwaUgsY0FBQSxVQUVBSixFQUFBdGlILE1BQUE0bUYsTUFBQTY2QixFQUFBcDNELFlBQUEsS0FDQWk0RCxFQUFBdGlILE1BQUE2bUYsT0FBQTQ2QixFQUFBaFQsYUFBQSxLQUNBNlQsRUFBQXRpSCxNQUFBK3BHLFVBQUEsU0FBQXNQLEVBQUEsSUFHQWlKLEVBQUF0aUgsTUFBQWlyRSxnQkFBQSxNQUNBdTNDLElBQUFBLEVBQUF4aUgsTUFBQWlyRSxnQkFBQSxPQUdBN3hFLEVBQUE5TCxRQUFBdXlILEVBQUEsU0FBQWx4RyxFQUFBcGlCLEdBQ0FvaUIsRUFBQTNPLE1BQUFpckUsZ0JBQUEsSUFBQTQwQyxFQUFBbnpILE9BQUFILEdBQUEsU0FJQWcySCxFQUFBdmlILE1BQUEwaUgsY0FBQSxPQUdBSixFQUFBdGlILE1BQUErcEcsVUFBQSxXQUdBdVksRUFBQXRpSCxNQUFBMFYsSUFBQSxJQUVBeGpCLEVBQUF5ZSxTQUFBLGNBQ0EyeEcsRUFBQXRpSCxNQUFBaWdDLEtBQUEsSUFDQXFpRixFQUFBdGlILE1BQUFrZ0MsTUFBQSxNQUdBaHVDLEVBQUF5ZSxTQUFBLGFBQ0EyeEcsRUFBQXRpSCxNQUFBa2dDLE1BQUEsSUFDQW9pRixFQUFBdGlILE1BQUFpZ0MsS0FBQSxNQUlBcWlGLEVBQUF0aUgsTUFBQWlyRSxnQkFBQSxRQUNBdTNDLElBQUFBLEVBQUF4aUgsTUFBQWlyRSxnQkFBQSxPQUdBN3hFLEVBQUE5TCxRQUFBdXlILEVBQUEsU0FBQWx4RyxFQUFBcGlCLEdBQ0FvaUIsRUFBQTNPLE1BQUFpckUsZ0JBQUEsSUFBQSxHQUFBMStFLEVBQUE7TUFNQSxPQUNBc2tCLFNBQUEsU0FBQTNlLEVBQUFvckIsRUFBQTRWLEdBQ0FzdUYsRUFBQXR2SCxFQUFBb3JCLEVBQUE0VixHQUNBQSxLQUdBcGlCLFlBQUEsU0FBQTVlLEVBQUFvckIsRUFBQTRWLEdBQ0FzdUYsRUFBQXR2SCxFQUFBb3JCLEVBQUE0VixHQUNBQSxNQXhMQTk1QixFQUVBMU4sT0FBQSxrQ0FDQSxnQkFDQSxnQ0FDQSxpQ0FDQSxtQ0FJQTBTLFVBQUEsZUFBQWdrSCxHQUdBbGtILFVBQUEsa0JBQUFta0gsR0FHQXRrSCxRQUFBLHdCQUFBc2tILFNBOEtBLFlBR0EsV0EwQkEsUUFBQU0sS0FFQSxPQUNBOWxHLFNBQUEsSUFFQUQsU0FBQSxtQkFBQSxtQkF4QkF4akIsRUFDQTFOLE9BQUEsa0NBQUEsa0JBQ0EwUyxVQUFBLGVBQUF1a0gsU0E2QkEsV0FrR0EsUUFBQUMsR0FBQXo4RyxFQUFBcytFLEVBQUFvK0IsRUFBQW4rQixHQVVBLFFBQUFvb0IsR0FBQWgwRyxFQUFBNUcsRUFBQTR0QixFQUFBdzdCLEdBY0EsUUFBQXduRSxLQUNBLElBQUEsR0FBQXo5QixLQUFBWixHQUFBOUIsTUFDQStCLEVBQUFXLEdBQ0FYLEVBQUFTLFNBQUFWLEVBQUE5QixNQUFBMEMsSUFDQUwsWUFBQSs5QixFQUVBLE9BQUFyK0IsR0FBQWMsMkJBQ0EsVUFBQSxnQkFBQSxhQUFBMWxFLEVBQUFrakcsR0FHQSxRQUFBQyxLQUNBM25FLEVBQUE0bkUsZUFBQTlwSCxFQUFBL0ksS0FFQTh5SCxHQUNBLEtBQUEsR0FBQTk5QixLQUFBWixHQUFBOUIsTUFDQStCLEVBQUFTLFNBQUFWLEVBQUE5QixNQUFBMEMsSUFDQSs5QixlQUFBTCxHQVFBLFFBQUFDLEdBQUEzOUIsR0FDQSxNQUFBQSxFQUdBL3BDLEVBQUF5bkUsbUJBQ0FyK0IsRUFBQVcsSUFDQS9wQyxFQUFBeW5FLG1CQWVBLFFBQUFHLEdBQUFHLEdBQ0EsR0FBQUMsR0FBQUMsSUFDQUMsR0FDQUMsVUFBQUMsRUFBQUosR0FDQUssU0FBQUMsSUFDQUMsUUFBQUMsSUFDQUMsVUFBQUMsSUFDQUMsT0FBQUMsSUFHQSxJQUFBYixJQUFBanFILEVBQUE3RixPQUFBaXdILEVBQUFXLEdBQUEsQ0FJQSxHQUFBNzlCLEdBQ0F1OEIsRUFBQVcsRUFBQUcsU0FBQUgsRUFBQUMsVUFBQUgsR0FDQXJxRSxJQUFBLFNBQUFtckUsRUFBQUMsR0FDQSxPQUNBQyxNQUNBcHlILFFBQUFBLEVBQ0E4TixNQUFBdWtILEVBQUFmLEVBQUFHLFNBQUFVLEVBQ0FiLEVBQUFTLE9BQUFULEVBQUFLLFFBQUFMLEVBQUFPLFlBRUFULE1BQUFjLEVBQUFuckUsSUFBQSxTQUFBdXJFLEVBQUExNEgsR0FDQSxPQUNBb0csUUFBQWtILEVBQUFsSCxRQUFBb3hILEVBQUF4M0gsSUFDQWtVLE1BQUF5a0gsRUFBQUQsRUFBQXB2RyxTQUFBb3ZHLEVBQUFFLE1BQ0FsQixFQUFBRyxTQUFBVSxFQUNBYixFQUFBUyxPQUFBVCxFQUFBSyxRQUFBTCxFQUFBTyxpQkFLQVksU0FDQXIrQixhQUdBeHRGLEdBQUE4ckgsWUFDQXo4RSxRQUNBbStDLFlBQUFBLEtBSUE2OUIsRUFBQVgsR0FTQSxRQUFBN2pGLEdBQUFrbEYsR0FDQSxNQUFBbDRGLEdBQUFrNEYsRUFBQWo0RixFQXVDQSxRQUFBNjNGLEdBQUFydkcsRUFBQXN2RyxFQUFBZixFQUFBVSxFQUFBSixFQUFBSixFQUFBRSxHQUlBLEdBQUFlLEdBQUEsRUFBQW5CLEVBQUEsSUFHQW9CLEdBQUFwQixFQUFBLEdBQUFBLEVBR0FxQixFQUFBQyxHQUFBQyxNQUFBSixFQUFBSyxZQUFBSixFQUFBZCxPQUFBQSxJQUlBamtILEdBQ0FpZ0MsS0FBQW1sRixHQUFBQyxLQUFBTCxFQUFBdDdHLE9BQUEwTCxFQUFBa3ZDLElBQUEyL0QsT0FBQUEsSUFDQXI5QixNQUFBMCtCLEdBQUFELEtBQUFMLEVBQUFPLEtBQUFiLEVBQUFwZ0UsSUFBQTIvRCxPQUFBQSxJQUVBdUIsV0FBQSxHQUNBQyxVQUFBLEdBQ0EvdkcsSUFBQSxHQUNBbXhFLE9BQUEsR0FHQSxRQUFBZzlCLEdBQ0EsSUFBQSxRQUVBN2pILEVBQUEwVixJQUFBMHZHLEdBQUFDLEtBQUF0QixFQUFBcjZHLE9BQUEwTCxFQUFBa21FLElBQUEyb0MsT0FBQUEsSUFDQWprSCxFQUFBNm1GLE9BQUF5K0IsR0FBQUQsS0FBQXRCLEVBQUF3QixLQUFBYixFQUFBcHBDLElBQUEyb0MsT0FBQUEsR0FDQSxNQUVBLEtBQUEsUUFHQSxHQUFBeUIsR0FBQVosRUFBQWYsRUFHQTRCLEVBQUFWLEdBQUFDLE1BQUFRLEVBQUFQLFlBQUFKLEVBQUFkLE9BQUFBLEdBS0Fqa0gsR0FBQXdsSCxXQUFBRixHQUFBRCxLQUFBTSxFQUFBSixLQUFBYixFQUFBcHBDLElBQUEyb0MsT0FBQUEsSUFDQWprSCxFQUFBeWxILFVBQUFMLEdBQUFDLEtBQUFNLEVBQUFqOEcsT0FBQTBMLEVBQUFrbUUsSUFBQTJvQyxPQUFBQSxHQUNBLE1BRUEsS0FBQSxNQUVBLEdBQUEyQixJQUFBdkIsRUFBQSxHQUFBQSxFQUdBcUIsRUFBQSxFQUFBckIsRUFBQSxJQUdBc0IsRUFBQVYsR0FBQUMsTUFBQVEsRUFBQVAsWUFBQVMsRUFBQTNCLE9BQUFBLEdBRUFqa0gsR0FBQTBWLElBQUEwdkcsR0FBQUMsS0FBQU0sRUFBQWo4RyxPQUFBMEwsRUFBQWttRSxJQUFBMm9DLE9BQUFBLElBQ0Fqa0gsRUFBQTZtRixPQUFBeStCLEdBQUFELEtBQUFNLEVBQUFKLEtBQUFiLEVBQUFwcEMsSUFBQTJvQyxPQUFBQSxJQUlBLE1BQUFqa0gsR0FHQSxRQUFBdWtILEdBQUFaLEVBQUFVLEVBQUFKLEVBQUFKLEVBQUFFLEdBQ0EsR0FBQS9qSCxLQUVBLFFBQUE2akgsR0FDQSxJQUFBLFFBQ0E3akgsRUFBQTZtRixPQUFBeStCLEdBQUFELEtBQUF0QixFQUFBd0IsS0FBQWxCLEVBQUFKLE9BQUFBLElBQ0Fqa0gsRUFBQTZsSCxjQUFBLEVBQ0EsTUFFQSxLQUFBLFFBRUEsR0FBQWQsR0FBQSxJQUFBcEIsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQ0FtQixFQUFBLEVBQUFuQixFQUFBLElBQ0ErQixFQUFBWixHQUFBLEVBQUFmLEdBQ0E0QixFQUFBVixHQUFBQyxNQUFBUSxFQUFBUCxZQUFBSixFQUFBZCxPQUFBQSxHQUVBamtILEdBQUE2bUYsT0FBQSxHQUNBN21GLEVBQUE2bEgsY0FBQVAsR0FBQUQsS0FBQU0sRUFBQUosS0FBQWxCLEVBQUFKLE9BQUFBLEdBQ0EsTUFFQSxLQUFBLE9BS0EsTUFBQWprSCxHQUdBLFFBQUF1akgsS0FDQSxTQUFBcGxILE9BQUF2USxLQUFBc0UsRUFBQXVzQyxXQUFBLFNBQUFxbkYsR0FDQSxNQUFBLGdCQUFBQSxFQUFBbjdCLFVBQUFtN0IsRUFBQUMsZ0JBUUEsUUFBQXJDLEdBQUFzQyxHQUNBLFNBQUEvc0UsSUFBQXJyRCxLQUFBbzRILEVBQUEsU0FBQUYsR0FDQSxHQUFBeHFFLEdBQUFsaUQsRUFBQWxILFFBQUE0ekgsR0FBQWpySCxXQUFBLGFBQ0EsUUFDQXlnRixJQUFBdHJGLFNBQ0EwMEYsRUFBQVUsdUJBQUE5cEMsRUFBQTEzQixPQUFBLGNBQUEsS0FBQSxFQUNBMGdDLElBQUF0MEQsU0FDQTAwRixFQUFBVSx1QkFBQTlwQyxFQUFBMTNCLE9BQUEsY0FBQSxLQUFBLEtBS0EsUUFBQWdnRyxLQUNBLEdBQUFELEdBQUEzekgsU0FBQTAwRixFQUFBVSx1QkFBQXRsRSxFQUFBLFdBQUEsR0FDQSxJQUFBeHFCLE1BQUFxdUgsR0FDQSxLQUFBLGlGQUVBLE9BQUFBLEdBR0EsUUFBQU8sS0FDQSxNQUFBK0IsR0FBQXZoQyxFQUFBVSx1QkFBQXRsRSxFQUFBLGNBQUEsR0FHQSxRQUFBa2tHLEtBQ0EsR0FBQUQsR0FBQXIvQixFQUFBVSx1QkFBQXRsRSxFQUFBLGdCQUNBLFFBQUFna0csS0FDQSxJQUFBLFFBQ0EsTUFBQW1DLEdBQUFsQyxFQUNBLEtBQUEsUUFDQSxHQUFBbUMsR0FBQW5DLEVBQUEveEgsTUFBQSxJQUNBLE9BQUE2aUQsWUFBQXF4RSxFQUFBLElBQUFyeEUsV0FBQXF4RSxFQUFBLEdBQ0EsS0FBQSxNQUNBLE1BQUEsSUFJQSxRQUFBcEMsS0FDQSxHQUFBQyxHQUFBci9CLEVBQUFVLHVCQUFBdGxFLEVBQUEsZ0JBQ0EsT0FBQSxPQUFBaWtHLEVBQ0EsTUFDQSxLQUFBQSxFQUFBenhILFFBQUEsS0FDQSxRQUVBLFFBSUEsUUFBQTJ6SCxHQUFBdnhILEdBQ0EsTUFBQSxNQUFBakQsS0FBQWlELEdBQUFBLEVBQUFBLEVBQUEsS0E1U0F4QyxFQUFBTixLQUFBLE9BQUEsUUFHQTBwRCxFQUFBNG5FLGVBQUFBLENBRUEsSUFBQUgsR0FBQTNwSCxFQUFBaEYsS0FBQWtuRCxFQUFBQSxFQUFBeW5FLGtCQUNBSSxFQUFBTCxHQUNBaHFILEdBQUE2ckIsSUFBQSxXQUFBcytGLEVBdUNBLElBQUFrQixHQTJEQXgzRixFQUFBeG1CLEVBQUF3bUIsY0FDQUMsRUFBQXptQixFQUFBeW1CLFlBYUFxNEYsRUFBQTkrRyxFQUFBdzVCLEVBQUEsU0FBQSxRQUFBQSxFQUFBLFVBQUEsTUFBQUEsRUFBQSxlQUFBLEtBS0F5bEYsRUFBQWovRyxFQUFBLFNBQUF3NUIsRUFBQSxRQUFBLE1BQUFBLEVBQUEsVUFBQSxPQUFBQSxFQUFBLFVBQUEsS0FNQTJsRixFQUFBbi9HLEVBQUEsU0FBQXc1QixFQUFBLFFBQUEsT0FBQUEsRUFBQSxRQUFBLE9BQUFBLEVBQUEsUUFBQSxXQUFBQSxFQUFBLFVBQUEsS0E3SUEsT0FDQTlpQixTQUFBLElBQ0FoaUIsV0FBQXNySCxFQUNBcnRILE9BQ0E4ckgsV0FBQSxLQUVBOXFHLEtBQUFnekYsR0F3VEEsUUFBQXFaLEdBQUEvL0IsR0FDQTduRixLQUFBNm5ILG1CQUFBLEVBQ0E3bkgsS0FBQThrSCxrQkFBQSxFQUNBOWtILEtBQUE4bkgsVUFBQWpnQyxFQUFBM2hELFNBQ0FsbUMsS0FBQTJrSCxlQUFBOXBILEVBQUEvSSxLQThCQSxRQUFBaTJILEdBQUFsZ0MsR0FlQSxRQUFBbWdDLEdBQUE1QyxFQUFBRixHQUNBLEdBQUFwdkgsR0FBQW15SCxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxDQU1BLE9BSkFGLEdBQUF0Z0MsRUFBQW54QixLQUFBLFdBQ0F1eEQsRUFBQUssRUFBQWxELEVBQUFGLEtBR0FwdkgsR0FLQW15SCxXQUFBLFdBQ0EsTUFBQUEsSUFPQXZ0RSxJQUFBLFNBQUFvL0MsR0FLQSxNQUpBc3VCLEdBQUF2Z0MsRUFBQW54QixLQUFBLFdBQ0EsR0FBQW42QyxHQUFBem1CLEVBQUFteUgsWUFDQUMsR0FBQXB1QixFQUFBdjlFLEVBQUFnc0csWUFBQWhzRyxFQUFBdXBHLFlBRUFod0gsR0FVQXN3SCxPQUFBLFNBQUFvQyxHQUtBLE1BSkFILEdBQUF4Z0MsRUFBQW54QixLQUFBLFdBQ0EsR0FBQWtkLEdBQUE0MEMsR0FBQUMsQ0FDQTcwQyxHQUFBczBDLEVBQUFuQyxLQUFBbUMsRUFBQW5ELFNBRUFqdkgsR0FNQWl5RixZQUFBLFdBQ0EsT0FDQTJnQyxVQUFBeEQsRUFBQS8ySCxPQUNBZzZILFdBQUFBLEVBQ0FDLFFBQUFBLEVBQ0FDLFdBQUFBLEVBQ0FNLFVBQUFSLEVBQUFDLEVBQUFDLEtBZ0JBLFFBQUFPLEdBQUE3QyxFQUFBaEIsR0FDQWdCLEVBQUFweUgsUUFBQXF6RCxJQUFBKytELEVBQUF0a0gsT0FDQXNqSCxFQUFBaDJILFFBQUEsU0FBQTg5RCxHQUNBQSxFQUFBbDVELFFBQUFxekQsSUFBQTZGLEVBQUFwckQsU0FvQkEsUUFBQTZtSCxHQUFBbEQsRUFBQUYsR0FlQSxRQUFBMkQsR0FBQTFDLEVBQUE1NEgsR0FDQSxHQUFBNDRILEVBQUFwZ0UsSUFBQXEvRCxFQUNBLEtBQUEsa0NBQUE3M0gsRUFBQSxtQkFDQTQ0SCxFQUFBcGdFLElBQUEsb0NBQ0FxL0QsRUFBQSxHQVdBLEtBUkEsR0FBQXg1RCxHQUFBLEVBQ0F4QyxFQUFBLEVBT0FBLEVBQUF3QyxFQUFBdTZELEVBQUFwZ0UsS0FDQStpRSxHQUFBMUQsRUFDQTJELEtBSUFuOUQsRUFBQW85RCxFQUFBajFILFFBQUEsRUFBQSswSCxHQUNBLEtBQUFsOUQsR0FBQSxNQUFBeEMsRUFBQTYvRCxFQUFBcjlELEVBQUEsSUFNQWs5RCxFQUFBMS9ELEVBQUEsR0FMQXdDLEVBQUF4QyxFQUFBLEVBQ0EyL0QsS0FVQSxPQUhBRyxHQUFBdDlELEVBQUF1NkQsRUFBQXBnRSxJQUFBb2dFLEVBQUFwcEMsS0FDQStyQyxFQUFBbDlELEVBQUF1NkQsRUFBQXBnRSxLQUdBQSxJQUFBNkYsRUFDQW14QixJQUFBb3NDLEdBSUEsUUFBQUosS0FDQUQsRUFBQSxFQUNBSyxJQUNBRCxFQUFBLEVBQUE5RCxFQUFBLElBR0EsUUFBQThELEdBQUE5K0QsRUFBQWcvRCxFQUFBQyxHQUNBLElBQUEsR0FBQTk3SCxHQUFBNjhELEVBQUFBLEVBQUFnL0QsRUFBQTc3SCxFQUFBQSxJQUNBeTdILEVBQUF6N0gsR0FBQTY2QixLQUFBQyxJQUFBMmdHLEVBQUF6N0gsR0FBQTg3SCxFQUFBLEdBSUEsUUFBQUosR0FBQXI5RCxHQUNBLEdBQUFyK0QsRUFDQSxLQUFBQSxFQUFBcStELEVBQUFyK0QsRUFBQXk3SCxFQUFBNzZILE9BQUFaLElBQ0EsR0FBQSxJQUFBeTdILEVBQUF6N0gsR0FDQSxNQUFBQSxFQUlBLE9BQUFBLEtBQUF5N0gsRUFBQTc2SCxPQUNBWixFQURBLE9BS0EsUUFBQSs3SCxLQUVBLElBQUEsR0FEQUMsTUFDQWg4SCxFQUFBLEVBQUE2M0gsRUFBQTczSCxFQUFBQSxJQUNBZzhILEVBQUFsMUgsS0FBQSxFQUVBLE9BQUFrMUgsR0FwRkEsR0FBQVQsR0FBQSxFQUNBSyxFQUFBLEVBQ0FILEVBQUFNLEdBRUEsUUFDQWYsWUFBQXJELEVBQUF4cUUsSUFBQSxTQUFBeXJFLEVBQUE1NEgsR0FDQSxPQUNBNDRILE1BQUFBLEVBQ0F0dkcsU0FBQWd5RyxFQUFBMUMsRUFBQTU0SCxNQUdBdTRILFNBQUFxRCxFQUFBL2dHLEtBQUFDLElBQUFweUIsTUFBQW15QixLQUFBNGdHLElBckhBLEdBQUFQLEdBQUFHLENBU0EsT0FKQVosR0FBQXdCLFlBQUEsU0FBQUMsR0FDQWhCLEVBQUE1dEgsRUFBQTFMLFdBQUFzNkgsR0FBQUEsRUFBQWIsR0FHQVosRUFvUEEsUUFBQTBCLEdBQUF2akMsR0FjQSxRQUFBb29CLEdBQUFoMEcsRUFBQTVHLEVBQUE0dEIsRUFBQW9vRyxHQUVBaDJILEVBQUFOLEtBQUEsT0FBQSxXQUdBLElBQUF1eEgsR0FBQXorQixFQUFBYywyQkFBQSxhQUFBLGNBQ0ExbEUsRUFBQTFtQixFQUFBaEYsS0FBQTh6SCxFQUFBQSxFQUFBbkYsa0JBR0FtRixHQUFBQyxrQkFDQXJ2SCxFQUFBNnJCLElBQUEsV0FBQSxXQUdBenlCLEVBQUEsR0FBQTZ6SCxlQUFBLEVBQ0E1QyxJQUNBK0UsRUFBQW5GLHFCQUdBM3BILEVBQUF4SSxVQUFBa0ksRUFBQXFsQixRQUFBdWpDLFNBQ0E1b0QsRUFBQTlILE9BQUEsV0FBQSxNQUFBOEgsR0FBQXFsQixRQUFBdWpDLFFBQ0EsU0FBQTBtRSxFQUFBQyxHQUNBRCxJQUFBQyxHQUdBSCxFQUFBQyxvQkFyQ0EsT0FDQXRyRyxTQUFBLElBQ0FELFFBQUEsY0FDQXh3QixTQUFBLGtDQUNBd3pCLFlBQUEsRUFDQTltQixTQUVBK0IsWUFBQSxTQUFBLFNBQUErb0IsR0FDQXJsQixLQUFBcWxCLE9BQUFBLElBRUE5SixLQUFBZ3pGLEdBbUNBLFFBQUF3YixLQUNBLE9BQ0FsOEgsU0FBQSwwQ0FDQXd6QixZQUFBLEdBM3VCQXhtQixFQUFBMU4sT0FBQSxnQ0FBQSxrQkFDQTBTLFVBQUEsYUFBQXdrSCxHQUNBeGtILFVBQUEsYUFBQTZwSCxHQUNBN3BILFVBQUEsbUJBQUFrcUgsR0FDQWxxSCxVQUFBLG1CQUFBa3FILEdBQ0E1ckgsUUFBQSxnQkFBQTRwSCxHQWtaQTFELEVBQUFseEcsU0FBQSxlQUFBLGNBQUEsZ0JBQUEsWUFTQXkwRyxFQUFBejBHLFNBQUEsV0FFQXkwRyxFQUFBNXhHLFdBQ0E0ekcsZ0JBQUEsV0FDQTVwSCxLQUFBOGtILGtCQUFBLEVBQ0E5a0gsS0FBQXdrSCxvQkFHQUEsaUJBQUEsV0FDQXhrSCxLQUFBNm5ILG9CQUdBN25ILEtBQUE2bkgsbUJBQUEsRUFDQTduSCxLQUFBOG5ILFVBQUFqdEgsRUFBQWhGLEtBQUFtSyxLQUFBQSxLQUFBZ3FILFdBR0FBLE9BQUEsV0FDQSxJQUNBaHFILEtBQUEya0gsZUFBQTNrSCxLQUFBOGtILGtCQUNBLFFBQ0E5a0gsS0FBQTZuSCxtQkFBQSxFQUNBN25ILEtBQUE4a0gsa0JBQUEsS0EwTUFpRCxFQUFBNTBHLFNBQUEsV0FzR0F1MkcsRUFBQXYyRyxTQUFBLGVBV0EsV0FTQXRZLEVBQUExTixPQUFBLDRCQUNBLHFCQUlBLFdBMERBLFFBQUE4OEgsR0FBQTF6QixFQUFBenRGLEdBUUEsUUFBQXlsRyxHQUFBaDBHLEVBQUE1RyxFQUFBTixHQUNBa2pHLEVBQUE1aUcsR0FDQUEsRUFBQUwsS0FBQSxXQUFBbkYsUUFBQXdGLEVBQUEyZSxTQUFBLGVBR0EsUUFBQTQzRyxHQUFBOWtHLEVBQUF0RyxFQUFBdUcsRUFBQS9lLEdBQ0EsR0FBQXhRLEdBQUFrSyxJQUVBbEssR0FBQXEwSCxjQUFBOWtHLEVBQUEra0csV0FBQXRoSCxFQUFBdWMsRUFBQStrRyxXQUVBdDBILEVBQUF1MEgsY0FBQSxXQUNBdjBILEVBQUFrTCxNQUFBNjJELFNBRUEvaEUsRUFBQW5DLFFBQUFtckIsRUFDQWhwQixFQUFBbWxILFdBQUEsU0FBQXZDLEdBQ0E1NUYsRUFBQXdwQyxZQUFBLHFCQUFBb3dELElBRUE1aUgsRUFBQXcwSCxZQUFBLFNBQUEzaUMsR0FDQTdvRSxFQUFBd3BDLFlBQUEsdUJBQUFxL0IsSUFFQTd4RixFQUFBeTBILGtCQUFBLFNBQUFDLEdBQ0ExckcsRUFBQXdwQyxZQUFBLDZCQUFBa2lFLElBRUExMEgsRUFBQTIwSCxXQUFBLFNBQUFDLEdBQ0FBLEVBQ0Fwa0gsRUFBQWdNLFNBQUF3TSxFQUFBLG9CQUVBeFksRUFBQWlNLFlBQUF1TSxFQUFBLHFCQUdBc0csRUFBQTN5QixPQUFBLFdBQ0EsTUFBQXFELEdBQUFxbUUsT0FBQXJtRSxFQUFBa0wsT0FDQSxTQUFBMnBILEdBQ0FBLElBQUE3MEgsRUFBQXFtRSxNQUFBOW9FLEtBQUEsUUFDQXlDLEVBQUFxbUUsTUFBQTlvRSxLQUFBLE1BQUF5QyxFQUFBa0wsTUFBQTNOLEtBQUEsU0F4Q0EsTUFEQTYySCxHQUFBLzJHLFNBQUEsU0FBQSxXQUFBLFNBQUEsYUFFQW1MLFNBQUEsSUFDQS9DLEtBQUFnekYsRUFDQWp5RyxXQUFBNHRILEdBNENBLFFBQUFVLEtBQ0EsT0FDQXRzRyxTQUFBLElBQ0FELFFBQUEscUJBQ0E5QyxLQUFBLFNBQUFoaEIsRUFBQTVHLEVBQUFOLEVBQUF3M0gsSUFDQUEsR0FBQXgzSCxFQUFBeTNILFdBQUFuM0gsRUFBQXllLFNBQUEseUJBRUF5NEcsRUFBQTF1RCxNQUFBeG9FLEVBQ0E0RyxFQUFBNnJCLElBQUEsV0FBQSxXQUNBeWtHLEVBQUExdUQsTUFBQSxVQWlIQSxRQUFBNHVELEdBQUFsakMsRUFBQXo5RSxFQUFBdWtHLEdBT0EsUUFBQUosR0FBQWgwRyxFQUFBNUcsRUFBQU4sRUFBQTJpRSxHQTJFQSxRQUFBZzFELEdBQUE5dEgsR0FFQSxNQURBMnRILEdBQUFQLGFBQUFsckQsRUFBQXhoQixTQUFBMWdELElBQ0FBLEVBR0EsUUFBQSt0SCxLQUdBSixFQUFBUCxZQUFBMzJILEVBQUF3QyxNQUFBaEksT0FBQSxJQUFBd0YsRUFBQSxHQUFBd3RELGNBQUFFLFVBR0EsUUFBQTZwRSxLQWtCQSxRQUFBQyxHQUFBdDdILEdBRUEsTUFEQXU3SCxLQUNBdjdILEVBdUJBLFFBQUF3N0gsS0FPQSxHQUxBaHhDLEVBQUE1NEUsTUFBQTZtRixPQUFBak8sRUFBQTYxQixhQUFBLEtBR0F2OEcsRUFBQTJlLFNBQUEsY0FFQXZiLE1BQUF1MEgsR0FBQSxDQUNBbjRILEVBQUFzTyxNQUFBNm1GLE9BQUEsT0FDQW4xRixFQUFBc2dGLFVBQUEsQ0FDQSxJQUFBNlUsR0FBQWlqQyxHQUNBampDLEtBQUFuMUYsRUFBQXNPLE1BQUE2bUYsT0FBQUEsRUFBQSxVQUNBLENBQ0FuMUYsRUFBQStiLGFBQUEsT0FBQSxHQUVBczhHLElBQ0FyNEgsRUFBQXNPLE1BQUFncUgsVUFBQSxJQUVBRCxFQUFBNzNILEVBQUFQLEtBQUEsZ0JBRUFELEVBQUFzTyxNQUFBZ3FILFVBQUEsS0FHQSxJQUFBQyxHQUFBdGpHLEtBQUFvdUIsSUFBQTgwRSxFQUFBbGpHLEtBQUFzdUIsTUFBQXZqRCxFQUFBODJGLGFBQUF1aEMsR0FDQXI0SCxHQUFBK2IsYUFBQSxPQUFBdzhHLEdBQ0F2NEgsRUFBQXNPLE1BQUE2bUYsT0FBQWtqQyxFQUFBRSxFQUFBLEtBSUEvM0gsRUFBQTRlLFlBQUEsY0FDQThuRSxFQUFBNTRFLE1BQUE2bUYsT0FBQSxPQUdBLFFBQUFpakMsS0FDQSxHQUFBdjZGLEdBQUE3OUIsRUFBQTgyRixhQUFBOTJGLEVBQUErOEcsWUFDQSxPQUFBLzhHLEdBQUErOEcsY0FBQWwvRSxFQUFBLEVBQUFBLEVBQUEsR0FHQSxRQUFBMjZGLEdBQUFoMEgsR0FDQXhFLEVBQUFzZ0YsVUFBQSxDQUVBLElBQUF6aUQsR0FBQTc5QixFQUFBODJGLGFBQUE5MkYsRUFBQSs4RyxhQUNBNW5CLEVBQUFuMUYsRUFBQSs4RyxhQUFBbC9FLENBQ0E3OUIsR0FBQXNPLE1BQUE2bUYsT0FBQUEsRUFBQSxLQXJGQSxJQUFBenRGLEVBQUF4SSxVQUFBc0IsRUFBQU4sS0FBQSxtQkFBQSxDQUlBLEdBQUFGLEdBQUFRLEVBQUEsR0FDQTBtRixFQUFBd3dDLEVBQUFsM0gsUUFBQSxHQUVBMjNILEVBQUFsc0UsSUFDQW9zRSxFQUFBLElBR0FyNEgsR0FBQXFHLGFBQUEsVUFDQTh4SCxFQUFBNzVILFNBQUEwQixFQUFBOEYsYUFBQSxTQUdBLElBQUFteUgsR0FBQXZqQyxFQUFBenNCLFNBQUFpd0QsRUFBQSxFQTBFQSxJQW5FQWpzRCxHQUNBQSxFQUFBemhCLFlBQUF0cEQsS0FBQTgySCxHQUNBL3JELEVBQUExSCxxQkFBQXJqRSxLQUFBODJILElBRUFDLElBRUF6M0gsRUFBQXdJLEdBQUEsZ0JBQUFpdkgsR0FFQXIwSCxNQUFBdTBILEtBQ0EzM0gsRUFBQU4sS0FBQSxPQUFBLEtBRUFNLEVBQUF3SSxHQUFBLFNBQUF3dkgsSUFHQTl3SCxFQUFBbEgsUUFBQXlXLEdBQUFqTyxHQUFBLFNBQUFpdkgsR0FFQTd3SCxFQUFBNnJCLElBQUEsV0FBQSxXQUNBdnJCLEVBQUFsSCxRQUFBeVcsR0FBQW9RLElBQUEsU0FBQTR3RyxLQWtEQXZ3SCxFQUFBeEksVUFBQXNCLEVBQUFOLEtBQUEscUJBQUEsQ0FFQSxHQUFBdTRILEdBQUEsV0FDQSxHQUFBQyxJQUFBLENBRUEsT0FBQSxZQUNBLEdBQUFoK0IsR0FBQSxJQUFBMTZGLEVBQUErOEcsWUFFQXJpQixNQUFBLEdBQUFnK0IsS0FBQSxHQUNBUixJQUdBUSxFQUFBaCtCLEtBTUF0ekYsR0FBQTlILE9BQUEsV0FFQSxNQURBbzFGLEdBQUEzaEQsU0FBQTBsRixHQUFBLElBQ0EsTUFsTUEsR0FBQWYsR0FBQTcwRCxFQUFBLEdBQ0E4MUQsSUFBQTkxRCxFQUFBLEdBQ0FvSixFQUFBcEosRUFBQSxJQUFBNnhCLEVBQUEwRCxjQUNBd2dDLEVBQUFseEgsRUFBQXhJLFVBQUFnQixFQUFBMjRILFNBRUEsSUFBQW5CLEVBQUEsQ0FDQSxHQUFBQSxFQUFBN3BILE1BQ0EsS0FBQSxJQUFBM1QsT0FBQSw2RkFFQXc5SCxHQUFBN3BILE1BQUFyTixDQUdBLElBQUFzNEgsR0FBQXB4SCxFQUFBbEgsUUFBQSxpQ0FDQUEsR0FBQXkwRCxNQUFBNmpFLEdBRUFwQixFQUFBMXVELE9BQ0F3eUMsRUFBQWhnRCxPQUFBaDdELEVBQUEsYUFBQUEsRUFBQU4sS0FBQSxnQkFHQU0sRUFBQTJlLFNBQUEsWUFDQTNlLEVBQUFOLEtBQUEsT0FDQU0sRUFBQU4sS0FBQSxLQUFBLFNBQUF3MEYsRUFBQS8zRixXQUdBLGFBQUE2RCxFQUFBLEdBQUF5NEYsUUFBQXh3RixlQUNBc3ZILElBTUFZLEdBQ0FiLEdBR0EsSUFBQWQsR0FBQVUsRUFBQVYsZUFBQSxXQUNBLE1BQUEvcUQsR0FBQWxqQixXQUNBa2pCLEVBQUFuRyxVQUNBbUcsRUFBQWhqQixjQUFBZ2pCLEVBQUFoakIsYUFBQUQsWUFJQTVoRCxHQUFBOUgsT0FBQTAzSCxFQUFBVSxFQUFBSixZQUVBcnJELEVBQUEzZSxTQUFBcHNELEtBQUEyMkgsR0FDQTVyRCxFQUFBemhCLFlBQUF0cEQsS0FBQTIySCxHQUVBcjNILEVBQUF3SSxHQUFBLFFBQUE4dUgsR0FFQWMsR0FDQXA0SCxFQUNBd0ksR0FBQSxRQUFBLFNBQUE2aEQsR0FDQTZzRSxFQUFBNVAsWUFBQSxLQUVBOStHLEdBQUEsT0FBQSxTQUFBNmhELEdBQ0E2c0UsRUFBQTVQLFlBQUEsR0FDQWdRLE1BUUExd0gsRUFBQTZyQixJQUFBLFdBQUEsV0FDQXlrRyxFQUFBNVAsWUFBQSxHQUNBNFAsRUFBQVAsYUFBQSxHQUNBTyxFQUFBN3BILE1BQUEsUUEzRUEsT0FDQXNkLFNBQUEsSUFDQUQsU0FBQSxxQkFBQSxZQUNBOUMsS0FBQWd6RixHQStNQSxRQUFBMmQsR0FBQTVsSCxFQUFBdWhGLEdBT0EsUUFBQTBtQixHQUFBaDBHLEVBQUE1RyxFQUFBTixFQUFBMmlFLEdBNkNBLFFBQUFtMkQsR0FBQXQ4SCxHQUVBLE1BQUF1OEgsR0FBQXo2SCxRQU1BeTZILEVBQUFuaUcsS0FBQXc2QixPQUFBOXdELEVBQUF3QyxPQUFBdEcsR0FBQSxJQUFBMUIsT0FBQSxJQUFBdVgsR0FDQTdWLEdBTkFBLEVBL0NBLEdBQUE2VixHQUdBMG1ILEVBQUFILEVBRkE3c0QsRUFBQXBKLEVBQUEsR0FDQTYwRCxFQUFBNzBELEVBQUEsRUFLQTZ4QixHQUFBM2hELFNBQUEsV0FDQStsRixFQUFBcHhILEVBQUFsSCxRQUFBazNILEVBQUFsM0gsUUFBQSxHQUFBK0YsY0FBQSxzQkFDQTB5SCxFQUFBdnhILEVBQUFsSCxRQUFBLGlDQUdBczRILEVBQUFwMEgsT0FBQXUwSCxHQUlBLzRILEVBQUF3MUIsS0FBQSxTQUFBLFNBRUF1MkMsRUFBQXpoQixZQUFBdHBELEtBQUE4M0gsR0FDQS9zRCxFQUFBMUgscUJBQUFyakUsS0FBQTgzSCxHQUNBeDRILEVBQUF3SSxHQUFBLHNCQUFBLFdBQ0Fnd0gsTUFHQTV4SCxFQUFBOUgsT0FBQVksRUFBQWc1SCxZQUFBLFNBQUF4OEgsR0FDQTZWLEVBQUE3VixFQUNBZ0wsRUFBQWhNLFNBQUFnQixJQUFBQSxFQUFBLEdBQ0F1OEgsRUFBQXo2SCxTQUFBeEQsUUFDQW1ZLEVBQUF5a0QsTUFBQXFoRSxFQUFBSCxHQUVBRSxLQUVBN2xILEVBQUEya0QsTUFBQW1oRSxLQUlBaHRELEVBQUF0ZSxZQUFBLGdCQUFBLFNBQUFZLEVBQUFDLEdBQ0EsT0FBQTltRCxFQUFBaE0sU0FBQTZXLElBQUEsRUFBQUEsR0FDQSxHQUVBZzhDLEdBQUEvdEQsRUFBQXdDLE9BQUF3ckQsR0FBQSxJQUFBeHpELFFBQUF1WCxLQS9DQSxPQUNBNFksU0FBQSxJQUNBRCxTQUFBLFVBQUEscUJBQ0E5QyxLQUFBZ3pGLEdBK0RBLFFBQUErZCxHQUFBMWpILEdBUUEsUUFBQTJsRyxHQUFBaDBHLEVBQUE1RyxFQUFBTixFQUFBaWxILEdBRUEsR0FBQUEsRUFBQSxDQUVBLEdBQUFuOEMsR0FBQW04QyxFQUFBM2tILFFBQUFMLEtBQUEsU0FDQWk1SCxFQUFBMXhILEVBQUF4SSxVQUFBaW1ILEVBQUEza0gsUUFBQU4sS0FBQSxlQUdBLElBQUE4b0UsR0FBQUEsRUFBQWh1RSxRQUFBbytILEVBR0EsV0FEQWpVLEdBQUFpUyxtQkFBQSxFQUtBLElBQUFpQyxHQUFBbjVILEVBQUEya0gsV0FJQSxJQUhBcmtILEVBQUF1NkIsV0FBQSxlQUdBb3FGLEVBQUF0M0csT0FBQSxhQUFBczNHLEVBQUF0M0csTUFBQSxHQUFBL1AsU0FBQSxDQUNBLEdBQUErbUgsR0FBQSxxQ0FBQXdVLEVBQUEsVUFFQWxVLEdBQUEza0gsUUFBQTJlLFNBQUEsaUJBQ0FnbUcsRUFBQTNrSCxRQUFBczBELFFBQUErdkQsS0E5QkEsT0FDQTE1RixTQUFBLElBQ0FELFFBQUEsc0JBQ0FELFNBQUEsSUFDQTdDLEtBQUFnekYsR0FpQ0EsUUFBQWtlLEtBVUEsUUFBQWxlLEdBQUFoMEcsRUFBQTVHLEVBQUE0dEIsRUFBQSsyRixHQUVBQSxJQUdBM2tILEVBQUEyMEQsWUFBQSwrQkFBQSxHQUdBMzBELEVBQUEyMEQsWUFBQSxnQkFBQSxJQUdBLFNBQUEvbUMsRUFBQW1yRyxZQUFBQyxFQUFBcHJHLEtBQ0E1dEIsRUFBQTIwRCxZQUFBLGdCQUFBLElBSUEsUUFBQXFrRSxHQUFBcHJHLEdBQ0EsTUFBQXFyRyxHQUFBcDJHLEtBQUEsU0FBQW5qQixHQUNBLE1BQUFrdUIsR0FBQWx1QixLQTNCQSxPQUNBaXJCLFNBQUEsS0FDQS9DLEtBQUFnekYsRUFJQWx3RixRQUFBLHVCQTBCQSxRQUFBd3VHLEdBQUFobEMsR0FPQSxRQUFBcnRGLEdBQUE3RyxHQUNBLEdBQUEya0gsR0FBQXp3QixFQUFBc0UsV0FBQXg0RixFQUFBLHFCQUdBLElBQUEya0gsRUFLQSxNQUZBM2tILEdBQUEyMEQsWUFBQSw4QkFBQSxNQWJBLE9BQ0FocUMsU0FBQSxLQUNBOWpCLFFBQUFBLEVBQ0E0akIsU0FBQSxLQWlCQSxRQUFBMHVHLEdBQUE1akgsRUFBQTFDLEdBQ0EsT0FDQThMLFNBQUEsU0FBQTNlLEVBQUFvckIsRUFBQTRWLEdBQ0EsR0FBQW80RixHQUFBQyxFQUFBcjVILEVBRUEscUJBQUFvckIsR0FBQWd1RyxFQUFBMzZHLFNBQUEsaUJBQ0E2NkcsRUFBQXQ1SCxFQUFBNlMsRUFBQTBDLEdBQUErakgsV0FBQXQ0RixLQVNBLFFBQUF1NEYsR0FBQWhrSCxFQUFBMUMsR0FDQSxPQUNBdWtELE1BQUEsU0FBQXAzRCxFQUFBZ2hDLEdBQ0FzNEYsRUFBQXQ1SCxFQUFBNlMsRUFBQTBDLEdBQUErakgsV0FBQXQ0RixJQUdBczJCLE1BQUEsU0FBQXQzRCxFQUFBZ2hDLEdBQ0F3NEYsRUFBQXg1SCxFQUFBNlMsRUFBQTBDLEdBQUFpa0gsV0FBQXg0RixJQUdBcmlCLFNBQUEsU0FBQTNlLEVBQUFvckIsRUFBQTRWLEdBQ0EsV0FBQTVWLEVBQ0FvdUcsRUFBQXg1SCxFQUFBNlMsRUFBQTBDLEdBQUFpa0gsV0FBQXg0RixHQUVBQSxLQUlBcGlCLFlBQUEsU0FBQTVlLEVBQUFvckIsRUFBQTRWLEdBQ0EsV0FBQTVWLEVBQ0FrdUcsRUFBQXQ1SCxFQUFBNlMsRUFBQTBDLEdBQUErakgsV0FBQXQ0RixHQUVBQSxNQU9BLFFBQUF5NEYsR0FBQTVtSCxHQUNBLE9BQ0F1a0QsTUFBQSxTQUFBcDNELEVBQUFnaEMsR0FDQSxHQUFBbzRGLEdBQUFDLEVBQUFyNUgsRUFHQSxPQUFBbzVILEdBQUEzNkcsU0FBQSxvQkFDQXVpQixLQUlBMDRGLEVBQUExNUgsRUFBQTZTLElBR0F5a0QsTUFBQSxTQUFBdDNELEVBQUFnaEMsR0FDQSxNQUFBMjRGLEdBQUEzNUgsRUFBQTZTLEtBTUEsUUFBQXltSCxHQUFBdDVILEVBQUE2UyxFQUFBMEMsR0FDQSxHQUFBMHFFLEdBQUEyNUMsS0FDQVIsRUFBQUMsRUFBQXI1SCxFQVFBLE9BTkFrSCxHQUFBOUwsUUFBQWcrSCxFQUFBN3NGLFdBQUEsU0FBQTJLLEdBQ0Erb0MsRUFBQXk1QyxFQUFBeHlILEVBQUFsSCxRQUFBazNDLEdBQUFya0MsR0FFQSttSCxFQUFBbDVILEtBQUF1L0UsRUFBQWhvQixXQUdBMWlELEVBQUFzSyxJQUFBKzVHLEdBR0EsUUFBQUosR0FBQXg1SCxFQUFBNlMsRUFBQTBDLEdBQ0EsR0FBQTBxRSxHQUFBMjVDLEtBQ0FSLEVBQUFDLEVBQUFyNUgsRUFRQSxPQU5Ba0gsR0FBQTlMLFFBQUFnK0gsRUFBQTdzRixXQUFBLFNBQUEySyxHQUNBK29DLEVBQUEwNUMsRUFBQXp5SCxFQUFBbEgsUUFBQWszQyxHQUFBcmtDLEdBRUErbUgsRUFBQWw1SCxLQUFBdS9FLEVBQUFob0IsV0FHQTFpRCxFQUFBc0ssSUFBQSs1RyxHQUdBLFFBQUFGLEdBQUExNUgsRUFBQTZTLEdBQ0EsR0FBQThoRixHQUFBMzBGLEVBQUEsR0FBQXU4RyxZQUVBLE9BQUExcEcsR0FBQTdTLEdBQ0FxZCxNQUFBLFFBQ0F3Z0UsWUFBQSxFQUNBcG5CLE1BQUE0OEMsUUFBQSxFQUFBd21CLGNBQUFsbEMsRUFBQSxNQUNBaitCLElBQUEyOEMsUUFBQSxFQUFBd21CLGFBQUEsS0FDQXhrRCxTQUFBLEtBSUEsUUFBQXNrRCxHQUFBMzVILEVBQUE2UyxHQUNBLEdBQUE4aEYsR0FBQTMwRixFQUFBLEdBQUF1OEcsYUFDQXJwQyxFQUFBOTVFLEVBQUE2cEIsaUJBQUFqakIsRUFBQSxHQUdBLE9BQUEsSUFBQWt6RSxFQUFBbWdDLFFBQ0F4Z0csRUFBQTdTLE1BSUE2UyxFQUFBN1MsR0FDQXFkLE1BQUEsUUFDQXdnRSxZQUFBLEVBQ0FwbkIsTUFBQTQ4QyxRQUFBLEVBQUF3bUIsYUFBQSxHQUNBbmpFLElBQUEyOEMsUUFBQSxFQUFBd21CLGNBQUFsbEMsRUFBQSxNQUNBdGYsU0FBQSxLQUlBLFFBQUF5a0QsR0FBQTk1SCxHQUNBLEdBQUEya0gsR0FBQTNrSCxFQUFBMkksV0FBQSxtQkFFQSxPQUFBZzhHLEdBQUEza0gsUUFHQSxRQUFBcTVILEdBQUFyNUgsR0FDQSxHQUFBcU4sR0FBQXlzSCxFQUFBOTVILEdBQ0FvYixFQUFBLDZGQUdBLE9BQUFsVSxHQUFBbEgsUUFBQXFOLEVBQUEsR0FBQXRILGNBQUFxVixJQXB0QkFsVSxFQUFBMU4sT0FBQSw2QkFDQSxrQkFFQTBTLFVBQUEsbUJBQUFvcUgsR0FDQXBxSCxVQUFBLFFBQUErcUgsR0FDQS9xSCxVQUFBLFFBQUFrckgsR0FDQWxySCxVQUFBLFdBQUFrckgsR0FDQWxySCxVQUFBLGNBQUFxc0gsR0FDQXJzSCxVQUFBLGNBQUF5c0gsR0FDQXpzSCxVQUFBLGFBQUE0c0gsR0FDQTVzSCxVQUFBLFlBQUFndEgsR0FDQWh0SCxVQUFBLGVBQUFndEgsR0FFQWx0SCxVQUFBLG9CQUFBbXRILEdBQ0FudEgsVUFBQSwrQkFBQXV0SCxHQUNBdnRILFVBQUEsOEJBQUF5dEgsR0FrRkFuRCxFQUFBOTJHLFNBQUEsYUFBQSxVQTZVQTQzRyxFQUFBNTNHLFNBQUEsVUFBQSxVQUFBLFdBbUVBKzRHLEVBQUEvNEcsU0FBQSxXQUFBLFdBcUNBbTVHLEVBQUFuNUcsU0FBQSxPQUVBLElBQUF5NUcsSUFBQSxPQUFBLFNBQUEsU0FBQSxlQUFBLGtCQXFEQUMsR0FBQTE1RyxTQUFBLFdBZUEyNUcsRUFBQTM1RyxTQUFBLEtBQUEsZUE2QkErNUcsRUFBQS81RyxTQUFBLEtBQUEsZUFxQkFpNkcsRUFBQWo2RyxTQUFBLGtCQTBFQSxXQXdDQSxRQUFBdTZHLEdBQUFuM0IsR0FDQSxPQUNBajRFLFNBQUEsSUFDQTlqQixRQUFBLFNBQUFtekgsR0FFQSxNQURBQSxHQUFBLEdBQUF6K0csYUFBQSxPQUFBLFFBQ0FxbkYsSUEyQ0EsUUFBQXEzQixHQUFBamYsRUFBQXpvQixFQUFBMkIsRUFBQTM5RSxHQUNBLEdBQUEyakgsSUFBQSxjQUFBLFlBQ0EsUUFDQXZ2RyxTQUFBLElBQ0FoaUIsV0FBQSxtQkFDQTlCLFFBQUEsU0FBQW16SCxFQUFBN2tHLEdBMkJBLFFBQUFnbEcsS0FJQSxJQUFBLEdBRkFuTCxHQUVBb0wsRUFIQUMsR0FBQSxZQUFBLGVBR0F6Z0ksRUFBQSxFQUFBd2dJLEVBQUFDLEVBQUF6Z0ksS0FBQUEsRUFDQSxJQUFBbzFILEVBQUFnTCxFQUFBcjZILEtBQUF5NkgsR0FBQSxNQUNBcEwsRUFBQW5wSCxhQUFBLGNBQUEsQ0FDQSxHQUFBZ2lCLEdBQUFteUcsRUFBQXI2SCxLQUFBLEtBQUEsRUFDQSxLQUFBa29CLEVBQUEsTUFDQW1uRyxHQUFBenpHLGFBQUEsYUFBQSxVQUFBc00sRUFBQXpPLGNBTUEsUUFBQWtoSCxHQUFBbGdILEdBQ0EsR0FBQXNzRSxFQUNBLFFBQUF0c0UsR0FDQXNzRSxFQUFBeC9FLEVBQUFsSCxRQUFBLGdEQUNBMG1GLEVBQUF4aUYsT0FBQTgxSCxFQUFBbG1HLFlBQ0FrbUcsRUFBQXI3RyxTQUFBLG9CQUVBK25FLEVBQUF4L0UsRUFBQWxILFFBQUEscUZBQ0F1NkgsRUFBQVAsRUFBQSxHQUFBdHpDLEVBQUEsSUFDQUEsRUFBQW42QyxXQUFBOEssR0FBQSxHQUFBbnpDLE9BQUE4MUgsRUFBQWxtRyxhQUdBa21HLEVBQUEsR0FBQXorRyxhQUFBLFdBQUEsTUFDQXkrRyxFQUFBOTFILE9BQUF3aUYsR0FHQSxRQUFBOHpDLEtBQ0EsR0FBQUMsSUFBQUMsRUFBQUQsSUFBQUEsRUFBQTUwSCxhQUFBLFlBQUEsQ0FDQW0xRyxFQUFBaGdELE9BQUF5L0QsRUFBQSxhQUNBLElBQUFFLEdBQUF6ekgsRUFBQWxILFFBQUEsNERBQ0F1NkgsR0FBQUUsRUFBQUUsRUFBQSxJQUNBRixFQUFBbC9HLGFBQUEsV0FBQSxNQUNBay9HLEVBQUE5YSxVQUFBbDNGLE9BQUEsZ0JBQ0FreUcsRUFBQXoySCxPQUFBdTJILEdBQ0FBLEVBQUFFLEVBQUEsR0FJQUYsSUFDQUEsRUFBQTUwSCxhQUFBLGFBQ0FzdkIsRUFBQXk0RCxTQUNBZ3RDLEVBQUFILE1BRUFULEVBQUFyN0csU0FBQSxxQkFDQXE3RyxFQUFBOTFILE9BQUF1MkgsSUFJQSxRQUFBRixHQUFBcC9ILEVBQUEyN0IsR0FDQSxHQUFBK2pHLElBQUEsUUFBQSxXQUFBLGFBQUEsY0FDQSxVQUFBLE9BQUEsVUFBQSxrQkFDQTN6SCxHQUFBOUwsUUFBQXkvSCxFQUFBLFNBQUFuN0gsR0FDQXZFLEVBQUEwSyxhQUFBbkcsS0FDQW8zQixFQUFBdmIsYUFBQTdiLEVBQUF2RSxFQUFBbUssYUFBQTVGLElBQ0F2RSxFQUFBaTRELGdCQUFBMXpELE1BS0EsUUFBQWs3SCxHQUFBcHBFLEdBQ0EsTUFBQSxJQUFBMG9FLEVBQUE5NUgsUUFBQW94RCxFQUFBbDBELFNBQUEySyxlQUdBLFFBQUF5eUgsR0FBQWxwRSxHQUNBLEdBQUFsMEQsR0FBQWswRCxFQUFBbDBELFNBQUFtYSxhQUVBLE9BQUEsYUFBQW5hLEdBQUEsVUFBQUEsRUFLQSxRQUFBczlHLEdBQUFucEYsRUFBQXRHLEVBQUF3RCxFQUFBeTZCLEdBOEJBLFFBQUEweEUsR0FBQTk2SCxHQUVBLElBQUEsR0FEQU4sR0FBQU0sRUFBQWt2QixXQUNBdDFCLEVBQUEsRUFBQUEsRUFBQThGLEVBQUFsRixPQUFBWixJQUNBLEdBQUEsWUFBQSswQixFQUFBeUssV0FBQTE1QixFQUFBOUYsR0FBQWdNLE1BQUEsT0FBQSxDQUVBLFFBQUEsRUFHQSxRQUFBbTFILEtBQ0EsR0FBQXh1RixHQUFBcGhCLEVBQUFvaEIsVUFDQUEsR0FBQS94QyxTQUFBK3hDLEVBQUEsR0FBQTFtQyxhQUFBLGFBQ0FxQixFQUFBOUwsUUFBQTgrSCxFQUFBLFNBQUE5L0csR0FDQWxULEVBQUE5TCxRQUFBK2QsRUFBQWEsaUJBQUFJLEdBQUEsU0FBQTg4QixHQUNBOGpGLEVBQUF0NkgsS0FBQXcyQyxPQUtBLFFBQUErakYsTUFDQSxHQUFBRCxFQUFBeGdJLFFBQUEwZ0ksS0FDQS92RyxFQUFBeE0sU0FBQSxnQkFFQXU4RyxHQUNBOXhFLEVBQUEreEUsYUFBQTFwRyxFQUFBdnFCLEVBQUFsSCxRQUFBbXJCLEVBQUEsR0FBQXBsQixjQUFBLG1CQW5EQSxHQUFBaTFILE1BQ0E3aEgsRUFBQWdTLEVBQUEsR0FBQW1wRixrQkFDQTRtQixFQUFBL2hILEdBQUEyaEgsRUFBQTNoSCxFQUVBNGhILEtBQ0FFLElBRUE5dkcsRUFBQTFNLFNBQUEsbUJBQUF1OEcsRUFBQXhnSSxRQUNBME0sRUFBQTlMLFFBQUE0L0gsRUFBQSxTQUFBSSxHQUNBQSxFQUFBbDBILEVBQUFsSCxRQUFBbzdILEdBRUEzcEcsRUFBQWlxRixhQUFBLEVBQ0EwZixFQUFBNXlILEdBQUEsWUFBQSxXQUNBaXBCLEVBQUFpcUYsYUFBQSxFQUNBbmxHLEVBQUEsV0FDQWtiLEVBQUFpcUYsYUFBQSxHQUNBLE9BRUFsekcsR0FBQSxRQUFBLFdBQ0FpcEIsRUFBQWlxRixlQUFBLEdBQUF2d0YsRUFBQXhNLFNBQUEsY0FDQXk4RyxFQUFBNXlILEdBQUEsT0FBQSxRQUFBNnlILEtBQ0Fsd0csRUFBQXZNLFlBQUEsY0FDQXc4RyxFQUFBdjBHLElBQUEsT0FBQXcwRyxTQWtDQUgsR0FBQUYsRUFBQXhnSSxRQUNBMmUsR0FBQUEsRUFBQTQ0QyxpQkFBQSxXQUFBLFNBQUEvdEQsR0FDQSxHQUFBLFNBQUFBLEVBQUFvYSxPQUFBOWdCLFVBQUEsWUFBQTBHLEVBQUFvYSxPQUFBOWdCLFNBQUEsQ0FDQSxHQUFBc3RELEdBQUE1bUQsRUFBQTBtQyxPQUFBMW1DLEVBQUE0bUQsT0FDQUEsSUFBQTJuQyxFQUFBeEQsU0FBQUcsT0FDQS8xRSxJQUNBQSxFQUFBbWlILFFBQ0F0M0gsRUFBQTZtQyxpQkFDQTdtQyxFQUFBNlosc0JBT0FzTixFQUFBdEUsSUFBQSxTQUNBc0UsRUFBQXRFLElBQUEsWUFFQSxHQUFBbTBHLEVBQUF4Z0ksUUFBQTJlLEdBQ0FnUyxFQUFBb2hCLFdBQUE4SyxHQUFBLEdBQUE3dUMsR0FBQSxRQUFBLFNBQUF4RSxHQUNBLEdBQUF1M0gsR0FBQXJuQyxFQUFBc0UsV0FBQXgwRixFQUFBb2EsT0FBQSxXQUNBbTlHLEdBQUFwaUgsRUFBQTI1QyxTQUFBOXVELEVBQUFvYSxTQUNBbFgsRUFBQTlMLFFBQUE0L0gsRUFBQSxTQUFBSSxHQUNBcDNILEVBQUFvYSxTQUFBZzlHLEdBQUFBLEVBQUF0b0UsU0FBQTl1RCxFQUFBb2EsU0FDQWxYLEVBQUFsSCxRQUFBbzdILEdBQUFoeUgsZUFBQSxhQXZMQSxHQUNBb3lILEdBQ0FDLEVBRkFoQixFQUFBVCxFQUFBLEdBQUFqMEgsY0FBQSxnQkFNQSxJQUZBaTBILEVBQUEsR0FBQXorRyxhQUFBLE9BQUEsWUFFQTRaLEVBQUF5NEQsU0FBQXo0RCxFQUFBK2xGLFFBQUEvbEYsRUFBQTlPLE1BQUE4TyxFQUFBaW1GLFFBQUFqbUYsRUFBQXVtRyxhQUNBcEIsRUFBQSxjQUNBLENBQ0EsSUFBQSxHQUFBbGdILEdBQUF4Z0IsRUFBQSxFQUFBd2dCLEVBQUE4L0csRUFBQXRnSSxLQUFBQSxFQUNBLEdBQUE2aEksRUFBQXpCLEVBQUEsR0FBQWowSCxjQUFBcVUsR0FBQSxDQUNBb2hILEdBQUEsQ0FDQSxPQUdBQSxFQUNBbEIsRUFBQSxPQUNBTixFQUFBLEdBQUFqMEgsY0FBQSxrREFDQWkwSCxFQUFBcjdHLFNBQUEsZUFpRkEsTUE5RUE2N0csS0FDQUwsSUE2RUF2ZixJQXVHQSxRQUFBK2dCLEdBQUFscUcsRUFBQXRHLEVBQUF5d0csR0FJQSxRQUFBVCxHQUFBdjBILEVBQUE1RyxHQUNBLEdBQUF1a0IsS0FDQXEzRyxHQUFBOXlCLE9BQUFsaUcsRUFBQTVHLEVBQUF1a0IsR0FMQSxHQUFBNmtDLEdBQUEvOEMsSUFDQSs4QyxHQUFBK3hFLGFBQUFBLEVBbFNBajBILEVBQUExTixPQUFBLDRCQUNBLGtCQUVBbVAsV0FBQSxtQkFBQWd6SCxHQUNBenZILFVBQUEsU0FBQTZ0SCxHQUNBN3RILFVBQUEsYUFBQSt0SCxHQW1DQUYsRUFBQXY2RyxTQUFBLGNBK09BeTZHLEVBQUF6NkcsU0FBQSxVQUFBLGNBQUEsVUFBQSxZQWtCQW04RyxFQUFBbjhHLFNBQUEsU0FBQSxXQUFBLHVCQUlBLFdBUUF0WSxFQUFBMU4sT0FBQSw0QkFDQSxnQkFDQSxvQ0FJQSxXQVFBME4sRUFBQTFOLE9BQUEsK0JBQ0EsZ0JBQ0EsZ0NBSUEsV0F1REEsUUFBQXFpSSxHQUFBajVCLEVBQUExTyxFQUFBai9FLEdBOEJBLFFBQUFwTyxHQUFBODhELEdBT0EsTUFKQUEsR0FBQWprRSxLQUFBLGdCQUFBLEdBQ0Fpa0UsRUFBQWprRSxLQUFBLGdCQUFBLEtBQ0Fpa0UsRUFBQWprRSxLQUFBLE9BQUEsZUFFQWs3RyxFQUdBLFFBQUFBLEdBQUFoMEcsRUFBQTVHLEVBQUFOLEdBZ0JBLFFBQUFvOEgsS0FDQXA4SCxFQUFBaTVCLFNBQUEsUUFBQSxTQUFBejhCLEdBQ0EsR0FBQTYvSCxHQUFBQyxFQUFBOS9ILEVBQ0E4RCxHQUFBTixLQUFBLGdCQUFBcThILEdBRUF6eUcsS0FBQTJ5RyxHQUNBQyxFQUFBSCxLQUdBcjhILEVBQUFpNUIsU0FBQSxTQUFBLFNBQUFyUCxHQUNBLE9BQUFBLEdBQ0EsSUFBQTJ5RyxHQUNBLElBQUFFLEdBQ0FDLEVBQUF4OUcsWUFBQSxXQUNBeTlHLEdBQUFELEVBQUF4OUcsWUFBQXk5RyxHQUNBRCxFQUFBejlHLFNBQUEwOUcsRUFBQSxXQUFBL3lHLEVBQ0EsTUFDQSxTQUNBK3lHLEdBQUFELEVBQUF4OUcsWUFBQXk5RyxHQUNBRCxFQUFBejlHLFNBQUEsV0FDQTA5RyxFQUFBL2lJLEtBVUEsUUFBQWdqSSxLQUVBQyxFQUFBbHBFLEtBQ0FxaEMsTUFBQSxJQUFBOG5DLElBQUEsS0FDQTduQyxPQUFBLElBQUE2bkMsSUFBQSxPQUdBRCxFQUFBaHdGLFdBQUE4SyxHQUFBLEdBQUFnYyxJQUFBb3BFLEdBQ0E1a0IsVUFBQTNqQixFQUFBeUQsU0FBQSxzQ0FBQTZrQyxTQU9BLFFBQUFFLEtBQ0EsR0FBQXgxSCxFQUFBekksWUFBQWlCLEVBQUFpOUgsUUFBQSxDQUNBLEdBQUEzb0MsR0FBQTlzRixFQUFBeEksVUFBQWdCLEVBQUF4RCxPQUNBb3RCLEVBQUEwcUUsRUFBQWlvQyxFQUFBRSxFQUNBdnpHLEVBQUEsdUVBRUEzVCxHQUFBbzJCLE1BQUE2b0QsRUFBQXlELFNBQUEvdUUsR0FBQVUsS0FFQXRwQixFQUFBTixLQUFBLFVBQUE0cEIsR0FDQTVwQixFQUFBLE9BQUE0cEIsR0FjQSxRQUFBNHlHLEdBQUFoZ0ksR0FDQSxHQUFBb3RCLElBQUEsQ0FFQXN6RyxFQUFBQSxHQUFBMTFILEVBQUFsSCxRQUFBQSxFQUFBLEdBQUErRixjQUFBLCtCQUNBODJILEVBQUFBLEdBQUEzMUgsRUFBQWxILFFBQUFBLEVBQUEsR0FBQStGLGNBQUEsZ0NBQ0ErMkgsRUFBQUEsR0FBQTUxSCxFQUFBbEgsUUFBQUEsRUFBQSxHQUFBK0YsY0FBQSxXQUVBLElBQUFnM0gsR0FBQUMsR0FDQUMsa0JBQUEsSUFBQS9nSSxFQUFBLHlCQUFBLEdBQ0E2N0csV0FBQSxJQUFBNzdHLEVBQUEsR0FBQSxrQ0FFQWdoSSxFQUFBRixHQUNBamxCLFdBQUEsSUFBQTc3RyxFQUFBLHdCQUFBLEdBQ0EyN0csVUFBQTNqQixFQUFBeUQsU0FBQSxrQkFBQSxJQUFBejdGLEVBQUEsS0FBQUEsRUFBQSxJQUFBLEdBQUEsSUFBQSxRQUVBaWhJLEVBQUFILEdBQ0FqbEIsV0FBQTc3RyxHQUFBLEdBQUEsd0JBQUEsR0FDQTI3RyxVQUFBM2pCLEVBQUF5RCxTQUFBLGtCQUFBejdGLEdBQUEsR0FBQSxHQUFBQSxFQUFBLEdBQUEsSUFBQSxPQUdBMGdJLEdBQUF2cEUsSUFBQW9wRSxFQUFBUyxJQUNBTCxFQUFBeHBFLElBQUFvcEUsRUFBQVUsSUFDQUwsRUFBQXpwRSxJQUFBb3BFLEVBQUFNLEtBVUEsUUFBQVAsS0FDQSxJQUFBOThILEVBQUEwOUgsV0FBQSxNQUFBQyxFQUVBLElBQUFqakksR0FBQSxZQUFBd2UsS0FBQWxaLEVBQUEwOUgsWUFDQWxoSSxFQUFBdTRCLEtBQUFDLElBQUEsRUFBQXQ2QixHQUFBQSxFQUFBLEdBQUEsS0FBQXVvRCxXQUFBampELEVBQUEwOUgsWUFHQSxPQUFBbGhJLEdBQUEsRUFBQUEsRUFBQW9oSSxFQUFBcGhJLEVBTUEsUUFBQW90QixLQUNBLEdBQUFwdEIsSUFBQXdELEVBQUFpOUgsUUFBQSxJQUFBbGpILE1BQ0EsSUFBQXZkLEVBQ0EsT0FBQUEsR0FDQSxJQUFBKy9ILEdBQ0EsSUFBQUUsR0FDQSxLQUNBLFNBQ0FqZ0ksRUFBQTVDLEVBSUEsTUFBQTRDLEdBNUlBMG1HLEVBQUE1aUcsRUFFQSxJQUVBcThILEdBRkFFLEVBQUF2OEgsRUFDQW84SCxFQUFBbDFILEVBQUFsSCxRQUFBQSxFQUFBdXNDLFdBQUEsSUFDQWt3RixFQUFBdm9DLEVBQUFDLElBQUFsVSxTQUFBdTNCLEtBRUF4M0csR0FBQU4sS0FBQSxVQUFBNHBCLEtBRUFnekcsSUFDQUksSUFDQVosR0ErREEsSUFBQWMsR0FBQUMsRUFBQUMsRUE2RUEsUUFBQWQsR0FBQTkvSCxHQUNBLE1BQUF1NEIsTUFBQUMsSUFBQSxFQUFBRCxLQUFBb3VCLElBQUEzbUQsR0FBQSxFQUFBLE1BR0EsUUFBQThnSSxHQUFBNStHLEdBQ0EsSUFBQSxHQUFBN2lCLEtBQUE2aUIsR0FDQUEsRUFBQTNpQixlQUFBRixJQUNBLElBQUE2aUIsRUFBQTdpQixVQUFBNmlCLEdBQUE3aUIsRUFJQSxPQUFBNmlCLEdBek1BLEdBQUFrL0csR0FBQSxJQUNBRCxFQUFBLEdBRUFwQixFQUFBLGNBQ0FFLEVBQUEsZUFHQSxRQUNBeHhHLFNBQUEsSUFDQS9qQixPQUFBLEVBQ0ExTSxTQUdBLDhQQWFBMk0sUUFBQUEsR0ExRUFLLEVBQUExTixPQUFBLHdDQUNBLGtCQUVBMFMsVUFBQSxxQkFBQTJ2SCxHQXlQQUEsRUFBQXI4RyxTQUFBLGFBQUEsVUFBQSxXQUdBLFdBNkRBLFFBQUErOUcsR0FBQTM2QixFQUFBMU8sRUFBQWovRSxHQWdCQSxRQUFBcE8sR0FBQTg4RCxFQUFBeHVDLEVBQUF6SCxHQUtBLE1BSkFpMkMsR0FBQWprRSxLQUFBLGdCQUFBLEdBQ0Fpa0UsRUFBQWprRSxLQUFBLGdCQUFBLEtBQ0Fpa0UsRUFBQWprRSxLQUFBLE9BQUEsZUFFQWs3RyxFQUVBLFFBQUFBLEdBQUFoMEcsRUFBQTVHLEVBQUFOLEdBZ0JBLFFBQUFvOEgsS0FDQXA4SCxFQUFBaTVCLFNBQUEsUUFBQSxTQUFBejhCLEdBQ0EsR0FBQTYvSCxHQUFBQyxFQUFBOS9ILEVBQ0E4RCxHQUFBTixLQUFBLGdCQUFBcThILEdBRUF6eUcsS0FBQWswRyxHQUFBdEIsRUFBQXVCLEVBQUExQixLQUdBcjhILEVBQUFpNUIsU0FBQSxnQkFBQSxTQUFBejhCLEdBQ0FnZ0ksRUFBQXdCLEVBQUExQixFQUFBOS9ILE1BR0F3RCxFQUFBaTVCLFNBQUEsU0FBQSxTQUFBclAsR0FDQSxPQUFBQSxHQUNBLElBQUFrMEcsR0FDQSxJQUFBRyxHQUNBLElBQUExQixHQUNBLElBQUFFLEdBQ0F6MUMsRUFBQTluRSxZQUFBLFdBQUF5OUcsR0FDQTMxQyxFQUFBL25FLFNBQUEwOUcsRUFBQSxXQUFBL3lHLEVBQ0EsTUFDQSxTQUNBK3lHLEdBQUEzMUMsRUFBQTluRSxZQUFBeTlHLEdBQ0EzMUMsRUFBQS9uRSxTQUFBLFdBQ0EwOUcsRUFBQS9pSSxLQVNBLFFBQUFvakksS0FDQSxHQUFBeDFILEVBQUF6SSxZQUFBaUIsRUFBQWk5SCxRQUFBLENBQ0EsR0FBQTNvQyxHQUFBOXNGLEVBQUF4SSxVQUFBZ0IsRUFBQXhELE9BQ0FvdEIsRUFBQTBxRSxFQUFBaW9DLEVBQUFFLEVBQ0F2ekcsRUFBQSxxRUFFQTNULEdBQUFvMkIsTUFBQTZvRCxFQUFBeUQsU0FBQS91RSxHQUFBVSxLQUVBdHBCLEVBQUFOLEtBQUEsVUFBQTRwQixHQUNBNXBCLEVBQUEsT0FBQTRwQixHQU9BLFFBQUFBLEtBQ0EsR0FBQXB0QixJQUFBd0QsRUFBQWk5SCxRQUFBLElBQUFsakgsTUFDQSxJQUFBdmQsRUFDQSxPQUFBQSxHQUNBLElBQUErL0gsR0FDQSxJQUFBRSxHQUNBLElBQUF3QixHQUNBLElBQUFILEdBQ0EsS0FDQSxTQUNBdGhJLEVBQUE1QyxFQUlBLE1BQUE0QyxHQU9BLFFBQUFnZ0ksR0FBQTk5RyxFQUFBbGlCLEdBQ0EsR0FBQW90QixJQUFBLENBRUEsR0FBQW90QyxHQUFBdzlCLEVBQUF5RCxTQUFBLGtDQUFBejdGLEVBQUEsS0FBQSxFQUFBQSxFQUFBLE1BQ0FnM0UsRUFBQXVwRCxHQUFBNWtCLFVBQUFuaEQsR0FDQXh2RCxHQUFBbEgsUUFBQW9lLEdBQUFpMUMsSUFBQTZmLElBMUZBMHZCLEVBQUE1aUcsRUFFQSxJQUFBcThILEdBQUFJLEVBQUF2b0MsRUFBQUMsSUFBQWxVLFNBQUF1M0IsTUFDQWttQixFQUFBeDJILEVBQUFsSCxRQUFBQSxFQUFBLEdBQUErRixjQUFBLGFBQ0EwM0gsRUFBQXYySCxFQUFBbEgsUUFBQUEsRUFBQSxHQUFBK0YsY0FBQSxhQUNBMmdGLEVBQUF4L0UsRUFBQWxILFFBQUFBLEVBQUEsR0FBQStGLGNBQUEsaUJBRUEvRixHQUFBTixLQUFBLFVBQUE0cEIsS0FFQW96RyxJQUNBWixJQXlGQSxRQUFBRSxHQUFBOS9ILEdBQ0EsTUFBQXU0QixNQUFBQyxJQUFBLEVBQUFELEtBQUFvdUIsSUFBQTNtRCxHQUFBLEVBQUEsTUEzSEEsR0FBQSsvSCxHQUFBLGNBQ0FFLEVBQUEsZ0JBQ0F3QixFQUFBLFNBQ0FILEVBQUEsT0FFQSxRQUNBN3lHLFNBQUEsSUFDQXp3QixTQUFBLG9JQUtBMk0sUUFBQUEsR0FsRUFLLEVBQUExTixPQUFBLHNDQUNBLGtCQUVBMFMsVUFBQSxtQkFBQXF4SCxHQWlMQUEsRUFBQS85RyxTQUFBLGFBQUEsVUFBQSxXQUlBLFdBc0RBLFFBQUFvK0csR0FBQTFwQyxFQUFBM0IsRUFBQXFRLEVBQUFyc0YsR0FVQSxRQUFBc25ILEdBQUFqM0gsRUFBQTVHLEVBQUFOLEVBQUEyaUUsR0EyQkEsUUFBQXk3RCxLQUNBOTlILEVBQUF5ZSxTQUFBLGVBQUF6ZSxFQUFBMmUsU0FBQSxjQU1BLFFBQUFvL0csR0FBQTF6RSxHQUNBLEdBQUFPLEdBQUFQLEVBQUEzZixPQUFBMmYsRUFBQU8sT0FNQSxJQUFBQSxHQUFBMm5DLEVBQUF4RCxTQUFBRSxPQUNBNWtDLEVBQUEyekUsZUFBQTN6RSxFQUFBanNDLE9BSUEsT0FBQXdzQyxHQUNBLElBQUEybkMsR0FBQXhELFNBQUFRLFdBQ0EsSUFBQWdELEdBQUF4RCxTQUFBUyxTQUNBbmxDLEVBQUF4ZixpQkFDQW96RixFQUFBQyxpQkFDQUosR0FDQSxNQUVBLEtBQUF2ckMsR0FBQXhELFNBQUFVLFlBQ0EsSUFBQThDLEdBQUF4RCxTQUFBVyxXQUNBcmxDLEVBQUF4ZixpQkFDQW96RixFQUFBRSxhQUNBTCxHQUNBLE1BRUEsS0FBQXZyQyxHQUFBeEQsU0FBQUUsTUFDQSxHQUFBemhGLEdBQUF0RyxFQUFBbEgsUUFBQWswRixFQUFBc0UsV0FBQXg0RixFQUFBLEdBQUEsUUFDQXdOLEdBQUFoVCxPQUFBLEdBQ0FnVCxFQUFBcEUsZUFBQSxXQS9EQXc1RixFQUFBNWlHLEVBQ0EsSUFBQWkrSCxHQUFBNTdELEVBQUEsR0FDQW9KLEVBQUFwSixFQUFBLElBQUE2eEIsRUFBQTBELGFBRUFxbUMsR0FBQTcrRCxLQUFBcU0sR0FFQTdrRSxFQUFBODBHLGFBQUEsRUFDQTE3RyxFQUFBTixNQUNBdXRGLEtBQUEsYUFDQWcwQixTQUFBamhILEVBQUFOLEtBQUEsYUFBQSxNQUVBOEksR0FBQSxVQUFBdTFILEdBQ0F2MUgsR0FBQSxZQUFBLFNBQUE2VSxHQUNBelcsRUFBQTgwRyxhQUFBLEVBQ0FubEcsRUFBQSxXQUNBM1AsRUFBQTgwRyxhQUFBLEdBQ0EsT0FFQWx6RyxHQUFBLFFBQUEsV0FDQTVCLEVBQUE4MEcsZUFBQSxHQUFBdWlCLEVBQUE5eUcsU0FBQXhNLFNBQUEsZ0JBRUFuVyxHQUFBLE9BQUEsV0FBQXkxSCxFQUFBOXlHLFNBQUF2TSxZQUFBLGdCQWtEQSxRQUFBdy9HLEdBQUFqekcsR0FDQTllLEtBQUFneUgseUJBQ0FoeUgsS0FBQThlLFNBQUFBLEVBR0EsUUFBQW16RyxLQUNBLE9BQ0FsL0QsS0FBQSxTQUFBcU0sR0FDQXAvRCxLQUFBa3lILGFBQUE5eUQsRUFDQXAvRCxLQUFBa3lILGFBQUExekUsUUFBQTNqRCxFQUFBaEYsS0FBQW1LLEtBQUFBLEtBQUEydkcsU0FFQTVsRCxJQUFBLFNBQUFvb0UsR0FDQW55SCxLQUFBZ3lILHNCQUFBMzlILEtBQUE4OUgsSUFFQS8xRyxPQUFBLFNBQUErMUcsR0FDQSxHQUFBbmtJLEdBQUFnUyxLQUFBZ3lILHNCQUFBaitILFFBQUFvK0gsRUFDQSxNQUFBbmtJLEdBQ0FnUyxLQUFBZ3lILHNCQUFBaCtILE9BQUFoRyxFQUFBLElBR0EyaEgsT0FBQSxXQUNBM3ZHLEtBQUFneUgsc0JBQUFqakksUUFBQSxTQUFBb2pJLEdBQ0FBLE9BR0FDLGFBQUEsU0FBQXZpSSxFQUFBb2hHLEdBQ0FqeEYsS0FBQWt5SCxhQUFBOXpFLGNBQUF2dUQsRUFBQW9oRyxHQUVBanhGLEtBQUEydkcsVUFFQTBpQixhQUFBLFdBQ0EsTUFBQXJ5SCxNQUFBa3lILGFBQUFoMEUsWUFFQTR6RSxXQUFBLFdBQ0EsTUFBQVEsR0FBQXR5SCxLQUFBOGUsU0FBQSxJQUVBK3lHLGVBQUEsV0FDQSxNQUFBUyxHQUFBdHlILEtBQUE4ZSxTQUFBLEtBRUF5ekcsb0JBQUEsU0FBQUMsR0FDQXh5SCxLQUFBOGUsU0FBQXpyQixLQUFBLHdCQUFBbS9ILEtBUUEsUUFBQUYsR0FBQTNnSSxFQUFBOGdJLEdBRUEsR0FBQUMsR0FBQTdxQyxFQUFBNzRGLFNBQUEyQyxFQUFBLEdBQUFnYyxpQkFBQSxvQkFBQSxFQUVBLElBQUEra0gsRUFBQXY1RixRQUFBLENBQ0EsR0FBQXdzRCxHQUFBLFNBQUFybkQsR0FFQSxPQUFBempDLEVBQUFsSCxRQUFBMnFDLEdBQUFqckMsS0FBQSxhQUdBaXhELEVBQUEzeUQsRUFBQSxHQUFBK0gsY0FBQSw4QkFDQXFZLEVBQUEyZ0gsRUFBQSxFQUFBRCxFQUFBLFdBQUEsUUFBQW51RSxFQUFBcWhDLElBQUErc0MsRUFBQWx0QyxPQUdBM3FGLEdBQUFsSCxRQUFBb2UsR0FBQWhWLGVBQUEsVUE3SUEsTUFGQWcxSCxHQUFBLzdHLFVBQUFpOEcsS0FHQTN6RyxTQUFBLElBQ0FoaUIsWUFBQSxXQUFBeTFILEdBQ0ExekcsU0FBQSxlQUFBLFlBQ0E5QyxNQUFBaUosSUFBQWd0RyxJQXdMQSxRQUFBbUIsR0FBQWhrQixFQUFBOW1CLEVBQUEwTyxHQWdCQSxRQUFBaDdFLEdBQUFoaEIsRUFBQTVHLEVBQUFOLEVBQUF1K0gsR0FXQSxRQUFBZ0IsR0FBQXQySCxHQUNBLElBQUFzMUgsRUFDQSxLQUFBLGlDQUdBQSxHQUFBN25FLElBQUE0bEQsR0FDQXQ4RyxFQUFBaTVCLFNBQUEsUUFBQXFqRixHQUVBaDhHLEVBQ0F3SSxHQUFBLFFBQUFxZCxHQUNBcmQsR0FBQSxXQUFBLFdBQ0F5MUgsRUFBQXgxRyxPQUFBdXpGLEtBT0EsUUFBQW4yRixHQUFBd2tDLEdBQ0FycUQsRUFBQSxHQUFBNkYsYUFBQSxhQUVBZSxFQUFBRSxPQUFBLFdBQ0FtM0gsRUFBQVEsYUFBQS8rSCxFQUFBeEQsTUFBQW11RCxHQUFBQSxFQUFBandDLFFBUUEsUUFBQTRoRyxLQXVCQSxRQUFBa2pCLEdBQUF2Z0gsR0FDQSxrQkFBQTNlLEVBQUFoQyxTQUFBLEdBQUFWLFVBQ0EwQyxFQUFBaEMsU0FBQTJnQixFQUFBLFdBQUEsZUFBQXM5RixHQXhCQSxHQUFBM3RELEdBQUEydkUsRUFBQVMsZ0JBQUFoL0gsRUFBQXhELEtBQ0FveUQsS0FBQTZ3RSxJQUlBQSxFQUFBN3dFLEVBQ0F0dUQsRUFBQU4sS0FBQSxlQUFBNHVELEdBRUFBLEdBQ0E0d0UsR0FBQSxHQUNBbC9ILEVBQUEyZSxTQUFBczlGLEdBRUFnaUIsRUFBQVcsb0JBQUE1K0gsRUFBQU4sS0FBQSxTQUdBdy9ILEdBQUEsR0FDQWwvSCxFQUFBNGUsWUFBQXE5RixLQWlCQSxRQUFBME4sR0FBQTNwSCxFQUFBNEcsR0FnQkEsUUFBQXc0SCxLQUNBLE1BQUExL0gsR0FBQXlvQixJQUFBLFNBQUErckUsRUFBQS8zRixVQWhCQXlLLEVBQUF5NEgsT0FBQUQsSUFFQXAvSCxFQUFBTixNQUNBeW9CLEdBQUF2aEIsRUFBQXk0SCxPQUNBcHlDLEtBQUEsUUFDQXF5QyxlQUFBLFVBR0F0a0IsRUFBQS9nQixlQUFBajZGLEVBQUEsY0FuRkEsR0FBQW0vSCxFQUVBdjhCLEdBQUE1aUcsR0FDQTJwSCxFQUFBM3BILEVBQUE0RyxHQUVBcTRILElBcEJBLEdBQUFoakIsR0FBQSxZQUVBLFFBQ0F0eEYsU0FBQSxJQUNBRCxRQUFBLGdCQUNBZ0QsWUFBQSxFQUNBeHpCLFNBQUEscUtBS0EwdEIsS0FBQUEsR0ExUEExZ0IsRUFBQTFOLE9BQUEsbUNBQ0Esa0JBRUEwUyxVQUFBLGVBQUEweEgsR0FDQTF4SCxVQUFBLGdCQUFBOHlILEdBaU1BcEIsRUFBQXArRyxTQUFBLFVBQUEsY0FBQSxhQUFBLFlBeUpBdy9HLEVBQUF4L0csU0FBQSxVQUFBLFVBQUEsaUJBR0EsV0FrSEEsUUFBQSsvRyxHQUFBQyxFQUFBdHJDLEVBQUEwTyxFQUFBb1ksRUFBQXYzQyxFQUFBdHVELEdBU0EsUUFBQXRPLEdBQUE3RyxFQUFBTixHQUVBLEdBQUErL0gsR0FBQXY0SCxFQUFBbEgsUUFBQSxtREFnQ0EsSUEvQkF5L0gsRUFBQXY3SCxPQUFBLDJEQUNBdTdILEVBQUE5Z0gsU0FBQSxtQkFDQThnSCxFQUFBLEdBQUE1NUgsYUFBQSxPQUNBNDVILEVBQUEvL0gsS0FBQSxLQUFBLHNCQUFBdzBGLEVBQUEvM0YsV0FJQTZELEVBQUFMLEtBQUEsY0FBQW5GLFFBQ0F3RixFQUFBa0UsT0FBQWdELEVBQUFsSCxRQUFBLGdCQUFBa0UsT0FBQWxFLEVBQUE4ekIsYUFLQXAwQixFQUFBZ2dJLFdBSUExL0gsRUFDQUwsS0FBQSxjQUNBMjBELFFBQUFwdEQsRUFBQWxILFFBQ0Esc0hBTUFBLEVBQ0FMLEtBQUEsYUFDQUQsS0FBQSxVQUFBLHVCQUdBQSxFQUFBa0csS0FBQSxDQUNBLEdBQUErNUgsR0FBQXo0SCxFQUFBbEgsUUFBQSxzQ0FDQTIvSCxHQUFBamdJLE1BQ0FrRyxLQUFBLElBQUFsRyxFQUFBa0csS0FDQWc2SCxXQUFBbGdJLEVBQUFzUixRQUNBNnVILGNBQUEsT0FDQXZ6QyxTQUFBLE1BRUEsSUFBQW9WLEdBQUExaEcsRUFBQUwsS0FBQSxZQUNBdUgsR0FBQTlMLFFBQUFzbUcsRUFBQSxTQUFBbHdDLEdBQ0EsR0FBQXN1RSxHQUFBNTRILEVBQUFsSCxRQUFBLFdBQUF3eEQsRUFBQXo0QyxVQUFBLFlBQ0F5NEMsR0FBQTNyRCxhQUFBLFlBQUFpNkgsRUFBQXBnSSxLQUFBLFdBQUE4eEQsRUFBQWxzRCxhQUFBLGFBQ0Frc0QsRUFBQTNyRCxhQUFBLFVBQUFpNkgsRUFBQXBnSSxLQUFBLFFBQUE4eEQsRUFBQWxzRCxhQUFBLFVBQ0FxNkgsRUFBQXo3SCxPQUFBNDdILEtBR0E5L0gsRUFBQWhDLFNBQUFrRyxPQUFBeTdILEdBSUEsR0FBQS9yRSxHQUFBMXNELEVBQUF4SSxVQUFBZ0IsRUFBQWswRCxVQUFBLFdBQUEsR0FDQW1zRSxFQUFBLHlHQVdBLE9BTkFBLEdBQUE3ckMsRUFBQXlELFNBQUFvb0MsR0FBQW5zRSxFQUFBNXpELEVBQUFtRSxTQUNBbkUsRUFBQStELFFBQUFHLE9BQUF1N0gsR0FDQXovSCxFQUFBa0UsT0FBQTY3SCxHQUVBcmdJLEVBQUE0c0YsU0FBQTVzRixFQUFBNHNGLFVBQUEsSUFFQSxTQUFBMWxGLEVBQUE1RyxFQUFBTixFQUFBMmlFLEdBeUhBLFFBQUEyOUQsS0FDQSxHQUFBQyxHQUFBamdJLEVBQUFOLEtBQUEsZUFBQU0sRUFBQU4sS0FBQSxnQkFDQXVnSSxHQUFBL0ksR0FBQUEsRUFBQTF1RCxRQUNBeTNELEVBQUEvSSxFQUFBMXVELE1BQUFseUMsUUFFQTRwRyxFQUFBRCxFQUNBamxCLEVBQUFoZ0QsT0FBQWg3RCxFQUFBLGFBQUFpZ0ksR0FLQSxRQUFBRSxLQUNBQyxJQUNBQyxFQUFBQSxHQUFBRCxFQUFBemdJLEtBQUEsa0JBQUFnSixXQUFBLGdCQUNBMjNILEVBQUFDLGFBQUFGLEVBQUFHLG1CQUlBLFFBQUFDLEtBQ0EsR0FBQVAsRUFBQSxDQUNBLEdBQUFRLEdBQUFMLEVBQUFHLGdCQUFBbDNHLEtBQUEsUUFDQXRwQixHQUFBTixLQUFBLGFBQUFnaEksRUFBQWxtSSxPQUFBMGxJLEVBQUEsS0FBQVEsRUFBQVIsSUF3RkEsUUFBQTVJLEtBR0FKLEdBQUFBLEVBQUFQLFlBQUEwSixFQUFBRyxpQkFBQWhtSSxPQUFBLElBQUF3RixFQUFBLEdBQUF3dEQsY0FBQUUsVUFHQSxRQUFBaXpFLEtBS0EsR0FKQVAsRUFBQWw1SCxFQUFBbEgsUUFDQUEsRUFBQSxHQUFBK0YsY0FBQSw4QkFFQTY2SCxFQUFBaDZILEVBQ0E1RyxFQUFBTixLQUFBLHNCQUFBLENBQ0EsR0FBQXhELEdBQUFra0ksRUFBQSxHQUFBOTZILGFBQUEsU0FBQSxJQUFBdEYsRUFBQU4sS0FBQSxxQkFDQTBnSSxHQUFBLEdBQUE3a0gsYUFBQSxRQUFBcmYsR0FFQW1rSSxFQUFBRCxFQUFBemdJLEtBQUEsa0JBQUFnSixXQUFBLGdCQUNBMDNILEVBQUFqaEUsS0FBQXFNLEVBQUEvckUsRUFBQXNSLFNBQ0FoUixFQUFBd0ksR0FBQSxXQUFBLFdBQ0E0M0gsRUFBQTMzRyxXQUlBLFFBQUFvNEcsR0FBQTc4SCxHQUNBLEdBQUE4OEgsSUFBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLElBQUEsSUFBQUEsRUFBQTFnSSxRQUFBNEQsRUFBQTRtRCxTQUVBNW1ELEVBQUE2bUMsaUJBQ0FrMkYsRUFBQS84SCxPQUVBLElBQUFBLEVBQUE0bUQsU0FBQSxJQUFBNW1ELEVBQUE0bUQsU0FBQSxHQUFBLENBQ0E1bUQsRUFBQTZtQyxnQkFDQSxJQUFBcnJDLEdBQUE2Z0ksRUFBQVcseUJBQUFoOUgsRUFDQSxLQUFBeEUsRUFBQSxNQUNBLElBQUF5aEksR0FBQS81SCxFQUFBbEgsUUFBQVIsR0FBQW1KLFdBQUEsV0FDQTAzSCxHQUFBYSxZQUNBYixFQUFBYyxTQUFBbG1JLE9BQUFhLEtBQUF1a0ksRUFBQTF2RSxVQUFBLElBRUEwdkUsRUFBQXp5SCxPQUFBcXpILEVBQUFwaUgsUUFBQW9pSCxFQUFBL2tJLE9BQ0Fta0ksRUFBQWUsb0JBS0EsUUFBQUwsS0FDQUgsRUFBQTdULFFBQUEsRUFDQS9zSCxFQUFBTixLQUFBLGdCQUFBLFFBRUE4L0gsRUFBQTM5QixNQUNBajdGLE1BQUFnNkgsRUFDQXQ4QixlQUFBLEVBQ0FJLGFBQUEsRUFDQTFrRyxRQUFBb2dJLEVBQ0FoaUgsT0FBQXBlLEVBQUEsR0FDQWlyRSxXQUFBcTFELEVBQ0FlLGlCQUFBLEVBQ0E3VixhQUFBLEVBQ0E4VixhQUFBNWhJLEVBQUFnZ0ksU0FBQTk0SCxFQUFBMHlDLE1BQUE1NUMsRUFBQWdnSSxZQUFBLEdBQUEsSUFUQUYsV0FVQSxXQUNBb0IsRUFBQTdULFFBQUEsRUFDQS9zSCxFQUFBa2tFLFFBQ0Fsa0UsRUFBQU4sS0FBQSxnQkFBQSxTQUNBK3JFLEVBQUF0RixnQkFsU0EsR0FDQXMxQyxHQUFBeWtCLEVBREFxQixHQUFBLEVBR0FySyxFQUFBNzBELEVBQUEsR0FDQWkrRCxFQUFBaitELEVBQUEsR0FDQW9KLEVBQUFwSixFQUFBLEdBQ0F3RixFQUFBeEYsRUFBQSxHQUVBbzlELEVBQUF6L0gsRUFBQUwsS0FBQSxtQkFDQXk0SCxFQUFBbHhILEVBQUF4SSxVQUFBZ0IsRUFBQTI0SCxTQUVBLElBQUFuQixFQUFBLENBQ0EsR0FBQVYsR0FBQVUsRUFBQVYsZUFBQSxXQUNBLE1BQUEvcUQsR0FBQWxqQixVQUFBa2pCLEVBQUFuRyxTQUdBLElBQUE0eEQsRUFBQTdwSCxNQUNBLEtBQUEsSUFBQTNULE9BQUEsMEZBR0F3OUgsR0FBQTdwSCxNQUFBck4sRUFDQWszSCxFQUFBMXVELE9BQ0F3eUMsRUFBQWhnRCxPQUFBaDdELEVBQUEsYUFBQUEsRUFBQU4sS0FBQSxnQkFHQWtILEVBQUE5SCxPQUFBMDNILEVBQUFVLEVBQUFKLFlBR0EsR0FBQXNKLEdBQUFRLEVBQUFQLENBS0EsSUFIQU0sSUFDQS85QixFQUFBNWlHLEdBRUFOLEVBQUFrRyxNQUFBaWlFLEVBQUEsQ0FDQSxHQUFBMjVELEdBQUF4aEksRUFBQWhDLFNBQUEsR0FBQStILGNBQUEsaUJBQUFyRyxFQUFBa0csS0FBQSxLQUNBc3VGLEdBQUEzaEQsU0FBQSxXQUNBLEdBQUE1cEMsR0FBQXpCLEVBQUFsSCxRQUFBd2hJLEdBQUE3NEgsV0FBQSxVQUNBQSxJQUNBay9ELEVBQUE1ZSxlQUFBdGdELEtBS0FrL0QsR0FDQXFzQixFQUFBM2hELFNBQUEsV0FDQXMxQixFQUFBbmUsZ0JBSUEsSUFBQSszRSxHQUFBaDJELEVBQUE1Z0IsT0FDQTRnQixHQUFBNWdCLFFBQUEsV0FDQTQyRSxJQUNBdEIsSUFDQU0sSUFDQW5KLEtBSUE1M0gsRUFBQWk1QixTQUFBLGNBQUE4eUMsRUFBQTVnQixTQUdBeTFFLEVBQUFDLGFBQUEsU0FBQWpxRyxHQUNBZ3FHLEVBQUFvQixrQkFBQXByRyxFQUVBLElBQUFxckcsR0FBQWppSSxFQUFBMmtILGNBQUE2UyxHQUFBQSxFQUFBMXVELE1BQUEwdUQsRUFBQTF1RCxNQUFBbHlDLE9BQUEsR0FDQUEsR0FBQUEsR0FBQXFyRyxHQUFBLEVBQ0EsSUFBQXZqSCxHQUFBcWhILEVBQUFsekYsV0FBQThLLEdBQUEsRUFDQWo1QixHQUFBamEsS0FBQW15QixJQUdBZ3FHLEVBQUFvQixpQkFBQSxTQUFBRSxHQUNBQSxHQUNBbkMsRUFBQTlnSCxTQUFBLHlCQUNBdTRHLEdBQUFBLEVBQUExdUQsT0FDQTB1RCxFQUFBMXVELE1BQUE3cEQsU0FBQSxvQkFHQThnSCxFQUFBN2dILFlBQUEseUJBQ0FzNEcsR0FBQUEsRUFBQTF1RCxPQUNBMHVELEVBQUExdUQsTUFBQTVwRCxZQUFBLG9CQUtBdzVHLElBQ0FwNEgsRUFDQXdJLEdBQUEsUUFBQSxTQUFBNmhELEdBR0E2c0UsR0FBQUEsRUFBQWwzSCxRQUFBeWUsU0FBQSx1QkFDQXk0RyxFQUFBNVAsWUFBQSxLQU1BcHpCLEVBQUEzaEQsU0FBQSxXQUNBdnlDLEVBQUF3SSxHQUFBLE9BQUEsV0FDQSs0SCxJQUNBQSxHQUFBLEVBQ0E5MUQsRUFBQTVoQixpQkFHQSsyRSxFQUFBN1QsU0FDQW1LLEdBQUFBLEVBQUE1UCxZQUFBLEdBQ0FnUSxVQUtBZ0osRUFBQXVCLGFBQUEsV0FDQTFzSCxFQUFBelYsRUFBQW9pSSxXQUFBbDdILElBR0FBLEVBQUFxcUMsYUFBQSxXQUNBK3VGLElBQ0FHLElBQ0FNLE1BWUE3NUgsRUFBQTlILE9BQUF1aEksRUFBQUcsZUFBQUwsRUFlQSxJQUFBNEIsRUFDQXJpSSxHQUFBaTVCLFNBQUEsYUFBQSxTQUFBbjJCLEdBQ0F1L0gsR0FBQUEsR0FDQSxJQUFBM3ZGLEdBQUFqOUIsRUFBQTNTLEVBQ0F1L0gsR0FBQW43SCxFQUFBOUgsT0FBQSxXQUNBLE1BQUFzekMsR0FBQXhyQyxJQUNBLFNBQUFndEQsRUFBQW91RSxJQUNBcHVFLElBQUF0NkQsR0FBQTBvSSxJQUFBMW9JLEtBQ0FzNkQsRUFDQTV6RCxFQUFBTixLQUFBLFdBQUEsWUFFQU0sRUFBQXU2QixXQUFBLFlBRUF2NkIsRUFBQU4sS0FBQSx1QkFBQWswRCxFQUFBLE9BQUEsU0FDQXdzRSxJQUNBQyxFQUFBNEIsWUFBQXJ1RSxHQUNBNnRFLEVBQUFoMkQsRUFBQTVnQixRQUNBNGdCLEVBQUE1Z0IsUUFBQSxXQUNBNDJFLElBQ0F0QixJQUNBTSxJQUNBbkosS0FFQTdyRCxFQUFBNWdCLGdCQUtBbnJELEVBQUFpNUIsU0FBQSxXQUFBLFNBQUE4dkMsR0FDQXZoRSxFQUFBbk0sU0FBQTB0RSxLQUNBQSxHQUFBLElBR0FnekMsSUFBQW5pSCxHQUFBbWlILElBQUFoekMsS0FHQWd6QyxFQUFBaHpDLEVBQ0FBLEdBQ0F6b0UsRUFBQU4sTUFBQTRzRixTQUFBLEdBQUE0MUMsZ0JBQUEsU0FDQWxpSSxFQUFBNm1CLElBQUEsUUFBQWs2RyxHQUNBL2dJLEVBQUE2bUIsSUFBQSxVQUFBZzZHLEtBRUE3Z0ksRUFBQU4sTUFBQTRzRixTQUFBNXNGLEVBQUE0c0YsU0FBQTQxQyxnQkFBQSxVQUNBbGlJLEVBQUF3SSxHQUFBLFFBQUF1NEgsR0FDQS9nSSxFQUFBd0ksR0FBQSxVQUFBcTRILE9BSUFuaEksRUFBQStvRSxVQUFBL29FLEVBQUE4N0csYUFDQXg3RyxFQUFBTixNQUFBNHNGLFNBQUE1c0YsRUFBQTRzRixTQUFBNDFDLGdCQUFBLFVBQ0FsaUksRUFBQXdJLEdBQUEsUUFBQXU0SCxHQUNBL2dJLEVBQUF3SSxHQUFBLFVBQUFxNEgsR0FJQSxJQUFBc0IsSUFDQWwxQyxLQUFBLFVBQ0FtMUMsZ0JBQUEsUUFDQUMsdUJBQUEzaUksRUFBQWswRCxXQUFBdDZELEdBQUFvRyxFQUFBNGlJLFdBQUEsUUFBQSxPQUdBdGlJLEdBQUEsR0FBQTZGLGFBQUEsUUFDQXM4SCxFQUFBaDZHLEdBQUEsVUFBQStyRSxFQUFBLzNGLFVBR0EsSUFBQW9tSSxHQUFBLG9CQUFBcnVDLEVBQUEvM0YsU0FDQWlrSSxHQUFBMWdJLEtBQUEsS0FBQTZpSSxHQUNBSixFQUFBLGFBQUFJLEVBQ0F2aUksRUFBQU4sS0FBQXlpSSxHQUVBdjdILEVBQUE2ckIsSUFBQSxXQUFBLFdBQ0Erc0csRUFDQTcyRyxVQURBNjJHLFdBRUEsV0FDQXRJLElBQ0FBLEVBQUE1UCxZQUFBLEdBQ0E0UCxFQUFBUCxhQUFBLEdBQ0FPLEVBQUE3cEgsTUFBQSxNQUVBbytELEVBQUF0RixtQkExU0EsT0FDQXg3QyxTQUFBLElBQ0FELFNBQUEscUJBQUEsV0FBQSxVQUFBLFVBQ0E3akIsUUFBQUEsRUFDQThCLFdBQUEsY0FpWEEsUUFBQTY1SCxHQUFBcnRILEVBQUErK0UsRUFBQTBPLEdBYUEsUUFBQTYvQixHQUFBNzdILEVBQUE1RyxFQUFBTixFQUFBMmlFLEdBT0EsUUFBQXFnRSxHQUFBMStILElBQ0EsSUFBQUEsRUFBQTRtRCxTQUFBLElBQUE1bUQsRUFBQTRtRCxVQUNBKzNFLEVBQUEzK0gsR0FJQSxRQUFBMitILEdBQUF0NEUsR0FDQSxHQUFBcjhDLEdBQUFrbUYsRUFBQXNFLFdBQUFudUMsRUFBQWpzQyxPQUFBLGFBQ0E2aUgsRUFBQWp6SCxHQUFBOUcsRUFBQWxILFFBQUFnTyxHQUFBakgsS0FBQSxzQkFDQSxJQUFBaUgsR0FBQWl6SCxFQUFBLENBQ0EsR0FBQWp6SCxFQUFBbkksYUFBQSxZQUVBLE1BREF3a0QsR0FBQXpzQyw0QkFDQSxDQUdBLElBQUFnbEgsR0FBQTMzRCxFQUFBNDNELFdBQUE1QixFQUFBL2tJLE9BQ0E0bUksRUFBQTU3SCxFQUFBeEksVUFBQXVzRSxFQUFBdGEsU0FBQWl5RSxHQUVBaDhILEdBQUFFLE9BQUEsV0FDQW1rRSxFQUFBaTJELFdBQ0E0QixFQUNBNzNELEVBQUFrMkQsU0FBQXlCLEdBRUEzM0QsRUFBQXI5RCxPQUFBZzFILEVBQUEzQixFQUFBL2tJLE9BR0E0bUksSUFDQTczRCxFQUFBazJELFNBQUFsbUksT0FBQWEsS0FBQW12RSxFQUFBdGEsVUFBQSxJQUNBc2EsRUFBQXI5RCxPQUFBZzFILEVBQUEzQixFQUFBL2tJLFFBR0ErdUUsRUFBQW0yRCxzQkFyQ0EsR0FBQW4yRCxHQUFBNUksRUFBQSxFQUVBdWdDLEdBQUE1aUcsR0FDQUEsRUFBQXdJLEdBQUEsUUFBQW02SCxHQUNBM2lJLEVBQUF3SSxHQUFBLFdBQUFrNkgsR0FzQ0EsUUFBQUssR0FBQXR4RyxFQUFBQyxFQUFBdkcsR0FrTEEsUUFBQTYzRyxLQUNBLEdBQUFDLEdBQUE5Z0ksRUFBQTZPLFFBQUFrMEQsYUFBQS9pRSxFQUFBNk8sUUFBQXU1QyxjQUNBLElBQUFyakQsRUFBQXBNLFFBQUFtb0ksR0FBQSxDQUVBLEdBQUFDLEdBQUFqb0ksT0FBQWEsS0FBQXFHLEVBQUF3dUQsVUFFQXd5RSxFQUFBRixFQUFBbDhFLElBQUE1a0QsRUFBQTBnSSxZQUNBTyxFQUFBRixFQUFBajNILE9BQUEsU0FBQXlYLEdBQ0EsTUFBQSxLQUFBeS9HLEVBQUEvaUksUUFBQXNqQixJQUdBMC9HLEdBQUFob0ksUUFBQStHLEVBQUFnL0gsVUFDQWdDLEVBQUEvbkksUUFBQSxTQUFBeWpCLEVBQUFqbEIsR0FDQXVJLEVBQUF5TCxPQUFBaVIsRUFBQW9rSCxFQUFBcnBJLE9BSUEsUUFBQXlwSSxLQUNBLEdBQUFubkksR0FBQWlHLEVBQUE2TyxRQUFBdTVDLFlBQUFwb0QsRUFBQTZPLFFBQUFrMEQsV0FDQWpxRSxRQUFBYSxLQUFBcUcsRUFBQXd1RCxVQUFBdjFELFFBQUErRyxFQUFBZy9ILFVBQ0FoL0gsRUFBQXlMLE9BQUF6TCxFQUFBMGdJLFdBQUEzbUksR0FBQUEsR0FyTUEsR0FBQWlHLEdBQUFrSyxJQUNBbEssR0FBQSsrSCxXQUFBaDZILEVBQUF4SSxVQUFBZ3pCLEVBQUFraUMsVUFFQXp4RCxFQUFBd3VELFlBR0F4dUQsRUFBQW9pQixXQUVBa04sRUFBQXlILGlCQUFBLFdBQ0EsTUFBQS8yQixHQUFBb2lCLFNBQ0EsV0FDQXBpQixFQUFBNk8sUUFBQTY1QyxXQUdBLElBQUF5NEUsR0FDQUMsQ0FDQXBoSSxHQUFBOC9ILFlBQUEsU0FBQWYsR0EwQkEsUUFBQXNDLEdBQUF6MUUsRUFBQUMsR0FHQSxNQUFBOW1ELEdBQUFwTSxRQUFBaXpELEdBQUFDLE9BNUJBLEdBQUFoOUMsR0FBQTdPLEVBQUE2TyxPQUNBdXlILEdBQUFBLEdBQUF2eUgsRUFBQWk1QyxTQUVBOW5ELEVBQUErK0gsV0FBQUEsRUFDQW9DLEdBQUFBLElBRUFuaEksRUFBQSsrSCxZQUNBbHdILEVBQUFtOEMsWUFBQSxlQUFBcTJFLEVBQ0F4eUgsRUFBQTY1QyxRQUFBbTRFLEVBSUF2eEcsRUFBQXlILGlCQUFBLzJCLEVBQUFzaEksYUFBQSxTQUFBdm5JLEdBQ0FzbkksRUFBQXRuSSxJQUFBOG1JLEVBQUE5bUksR0FDQWlHLEVBQUE2TyxRQUFBMDRDLGlCQUdBMTRDLEVBQUFpNUMsU0FBQSxTQUFBL3RELEdBQ0EsT0FBQUEsR0FBQSxJQUFBQSxFQUFBMUIsZ0JBR0F3VyxHQUFBbThDLFlBQUEsZUFDQW44QyxFQUFBNjVDLFFBQUF3NEUsR0FVQSxJQUNBSyxHQUFBQyxFQUFBQyxFQURBQyxFQUFBLEdBRUFDLEVBQUEsR0FDQTNoSSxHQUFBNitILHlCQUFBLFNBQUFoOUgsR0FDQTAvSCxHQUFBNTlHLGFBQUE0OUcsR0FDQUEsRUFBQTltSCxXQUFBLFdBQ0E4bUgsRUFBQXBxSSxFQUNBdXFJLEVBQUEsR0FDQUQsRUFBQXRxSSxFQUNBcXFJLEVBQUFycUksR0FDQXdxSSxHQUNBRCxHQUFBL3lFLE9BQUFDLGFBQUEvc0QsRUFBQTRtRCxRQUNBLElBQUF4akIsR0FBQSxHQUFBL3BDLFFBQUEsSUFBQXdtSSxFQUFBLElBQ0FGLEtBQ0FBLEVBQUF4NEcsRUFBQXhyQixLQUFBLGFBQ0Fpa0ksRUFBQSxHQUFBaGhILE9BQUErZ0gsRUFBQW5wSSxRQUNBME0sRUFBQTlMLFFBQUF1b0ksRUFBQSxTQUFBbnlFLEVBQUE1M0QsR0FDQWdxSSxFQUFBaHFJLEdBQUE0M0QsRUFBQXA0QyxZQUFBSyxTQUdBLEtBQUEsR0FBQTdmLEdBQUEsRUFBQUEsRUFBQWdxSSxFQUFBcHBJLFNBQUFaLEVBQ0EsR0FBQXd0QyxFQUFBN25DLEtBQUFxa0ksRUFBQWhxSSxJQUNBLE1BQUErcEksR0FBQS9wSSxJQUtBdUksRUFBQWk5RCxLQUFBLFNBQUFwdUQsRUFBQTJwQixHQU1BLEdBTEF4NEIsRUFBQTZPLFFBQUFBLEVBQ0E3TyxFQUFBc2hJLGFBQUE5b0csRUFJQTNwQixFQUFBNDdDLFVBQUE1N0MsRUFBQTQ3QyxTQUFBcWMsUUFBQSxDQUNBLEdBQUE4NkQsTUFDQUMsRUFBQTd1SCxFQUFBbkUsRUFBQTQ3QyxTQUFBcWMsUUFDQTltRSxHQUFBMGdJLFdBQUEsU0FBQTNtSSxFQUFBK25JLEdBRUEsTUFEQUYsR0FBQUcsT0FBQWhvSSxFQUNBOG5JLEVBQUFDLEdBQUF4eUcsRUFBQXN5RyxRQUtBNWhJLEdBQUEwZ0ksV0FBQSxTQUFBM21JLEdBQ0EsTUFBQWdMLEdBQUFySyxTQUFBWCxHQUNBLFdBQUFBLEVBQUFpb0ksZUFBQWpvSSxFQUFBaW9JLGVBQUFDLElBRUFsb0ksRUFHQWlHLEdBQUE4L0gsWUFBQTkvSCxFQUFBKytILGFBR0EvK0gsRUFBQXErSCxlQUFBLFNBQUE5K0IsR0FDQUEsRUFBQUEsS0FDQSxJQUFBcDRFLEdBQUFvNEUsRUFBQXA0RSxNQUFBLE9BQ0ErNkcsRUFBQW53QyxFQUFBVSxhQUFBenBFLEVBQUEsR0FBQW5SLGlCQUFBLHVCQUNBLElBQUFxcUgsRUFBQTdwSSxPQUFBLENBQ0EsR0FBQThwSSxFQU9BLE9BTEEsUUFBQWg3RyxFQUNBZzdHLEVBQUEsU0FBQTl5RSxHQUFBLE1BQUFBLEdBQUF6NEMsV0FDQSxRQUFBdVEsSUFDQWc3RyxFQUFBLFNBQUE5eUUsR0FBQSxNQUFBQSxHQUFBM3JELGFBQUEsY0FBQTJyRCxFQUFBbHNELGFBQUEsY0FBQWtzRCxFQUFBcDRDLGNBRUFpckgsRUFBQXQ5RSxJQUFBdTlFLEdBQUF0L0gsS0FBQSxNQUVBLE1BQUEsSUFJQTdDLEVBQUF5TCxPQUFBLFNBQUFpUixFQUFBMGxILEdBQ0EsR0FBQXYySCxHQUFBN0wsRUFBQW9pQixRQUFBMUYsRUFDQTdRLElBQUFBLEVBQUF3MkgsYUFBQSxHQUNBcmlJLEVBQUF3dUQsU0FBQTl4QyxHQUFBMGxILEdBRUFwaUksRUFBQWcvSCxTQUFBLFNBQUF0aUgsR0FDQSxHQUFBN1EsR0FBQTdMLEVBQUFvaUIsUUFBQTFGLEVBQ0E3USxJQUFBQSxFQUFBdzJILGFBQUEsU0FDQXJpSSxHQUFBd3VELFNBQUE5eEM7RUFHQTFjLEVBQUFzdUUsVUFBQSxTQUFBNXhELEVBQUFvaUgsR0FDQSxHQUFBLzVILEVBQUF4SSxVQUFBeUQsRUFBQW9pQixRQUFBMUYsSUFDQSxLQUFBLElBQUFubEIsT0FBQSw0RUFDQXVuSSxFQUFBL2tJLE1BQUEsV0FFQWlHLEdBQUFvaUIsUUFBQTFGLEdBQUFvaUgsRUFHQS81SCxFQUFBeEksVUFBQXlELEVBQUF3dUQsU0FBQTl4QyxNQUNBMWMsRUFBQXlMLE9BQUFpUixFQUFBb2lILEVBQUEva0ksT0FDQWlHLEVBQUFpL0gscUJBR0FqL0gsRUFBQXV1RSxhQUFBLFNBQUE3eEQsU0FDQTFjLEdBQUFvaUIsUUFBQTFGLElBS0ExYyxFQUFBaS9ILGlCQUFBLFdBQ0EsR0FDQXB6SCxHQURBZ3RCLElBRUEsS0FBQSxHQUFBbmMsS0FBQTFjLEdBQUF3dUQsVUFFQTNpRCxFQUFBN0wsRUFBQW9pQixRQUFBMUYsSUFDQW1jLEVBQUF0NkIsS0FBQXNOLEVBQUE5UixPQU9BOCtCLEVBQUF0NkIsS0FBQXlCLEVBQUF3dUQsU0FBQTl4QyxHQUdBLElBQUE0bEgsR0FBQXRpSSxFQUFBNk8sUUFBQTQ3QyxVQUFBenFELEVBQUE2TyxRQUFBNDdDLFNBQUFxYyxRQUVBbmxELEVBQUEzaEIsRUFBQSsrSCxXQUFBbG1HLEVBQUFBLEVBQUEsR0FDQWduRyxFQUFBNy9ILEVBQUE2TyxRQUFBazBELGFBRUF1L0QsRUFBQXY5SCxFQUFBN0YsT0FBQTJnSSxFQUFBbCtHLEdBQUFrK0csR0FBQWwrRyxLQUNBM2hCLEVBQUE2TyxRQUFBeTVDLGNBQUEzbUMsR0FDQTNoQixFQUFBNk8sUUFBQTY1QyxZQW5PQSxNQURBazRFLEdBQUF2akgsU0FBQSxTQUFBLFNBQUEsYUFFQW1MLFNBQUEsSUFDQUQsU0FBQSxnQkFDQTlqQixPQUFBLEVBQ0ErQixXQUFBbzZILEVBQ0FuN0csTUFBQWlKLElBQUE0eEcsSUE2UEEsUUFBQWlDLEdBQUF0N0IsRUFBQWxWLEdBVUEsUUFBQXJ0RixHQUFBN0csRUFBQU4sR0FLQSxNQUhBTSxHQUFBa0UsT0FBQWdELEVBQUFsSCxRQUFBLHlCQUFBa0UsT0FBQWxFLEVBQUE4ekIsYUFFQTl6QixFQUFBTixLQUFBLFdBQUFBLEVBQUE0c0YsVUFBQSxLQUNBc3VCLEVBR0EsUUFBQUEsR0FBQWgwRyxFQUFBNUcsRUFBQU4sRUFBQTJpRSxHQXlDQSxRQUFBc2lFLEdBQUFydEcsRUFBQUcsRUFBQW10RyxHQUNBLElBQUEzNUQsRUFBQTQzRCxXQU1BLFlBTEErQixHQUNBaCtILEVBQUFxcUMsYUFBQSxXQUNBMHpGLEVBQUFydEcsRUFBQUcsR0FBQSxLQUtBLElBQUFvdEcsR0FBQTU1RCxFQUFBNDNELFdBQUFwckcsRUFBQTd3QixHQUNBaytILEVBQUE3NUQsRUFBQTQzRCxXQUFBdnJHLEVBQUExd0IsRUFFQXE2SCxHQUFBcGlILFFBQUFpbUgsRUFDQTdELEVBQUEva0ksTUFBQW83QixFQUVBMnpDLEVBQUF5RixhQUFBbTBELEVBQUE1RCxHQUNBaDJELEVBQUF3RixVQUFBcTBELEVBQUE3RCxHQU9BLFFBQUF0WCxLQUNBLEdBQUF3WSxJQUNBbDFDLEtBQUEsU0FDQTgzQyxnQkFBQSxRQUdBL2tJLEdBQUEsR0FBQTZGLGFBQUEsUUFDQXM4SCxFQUFBaDZHLEdBQUEsaUJBQUErckUsRUFBQS8zRixXQUVBNkQsRUFBQU4sS0FBQXlpSSxHQXhFQSxHQUFBbEIsR0FBQTUrRCxFQUFBLEdBQ0E0SSxFQUFBNUksRUFBQSxFQUVBbjdELEdBQUF4SSxVQUFBZ0IsRUFBQXdTLFNBQ0F0TCxFQUFBOUgsT0FBQVksRUFBQXdTLFFBQUF5eUgsR0FDQXo5SCxFQUFBeEksVUFBQWdCLEVBQUF4RCxPQUNBeW9JLEVBQUFqbEksRUFBQXhELE9BRUEwSyxFQUFBOUgsT0FBQSxXQUNBLE1BQUFrQixHQUFBczJCLFFBQ0FxdUcsR0FHQWpsSSxFQUFBaTVCLFNBQUEsV0FBQSxTQUFBOHZDLEdBQ0FBLEVBQ0F6b0UsRUFBQU4sS0FBQSxXQUFBLE1BRUFNLEVBQUFOLEtBQUEsV0FBQSxPQUlBa0gsRUFBQXFxQyxhQUFBLFdBQ0F2eEMsRUFBQWk1QixTQUFBLFdBQUEsU0FBQWc0QixHQUNBenBELEVBQUF4SSxVQUFBaXlELEtBQ0EsZ0JBQUFBLEtBQUFBLEdBQUEsR0FDQUEsR0FDQXNhLEVBQUFpMkQsWUFDQWoyRCxFQUFBazJELFNBQUFsbUksT0FBQWEsS0FBQW12RSxFQUFBdGEsVUFBQSxJQUVBc2EsRUFBQXI5RCxPQUFBcXpILEVBQUFwaUgsUUFBQW9pSCxFQUFBL2tJLFFBRUErdUUsRUFBQWsyRCxTQUFBRixFQUFBcGlILFNBRUFvc0QsRUFBQW0yRCx3QkFJQWg0QixFQUFBTixPQUFBbGlHLEVBQUE1RyxHQUNBMnBILElBcUJBL2lILEVBQUE2ckIsSUFBQSxXQUFBLFdBQ0F3NEMsRUFBQXlGLGFBQUF1d0QsRUFBQXBpSCxRQUFBb2lILEtBZ0JBLFFBQUErRCxHQUFBNzVHLEdBQ0E5ZSxLQUFBc2tELFVBQUEsRUFDQXRrRCxLQUFBbTRILFlBQUEsU0FBQTFCLEdBQ0FBLElBQUF6MkgsS0FBQXNrRCxTQUNBeGxDLEVBQUF6ckIsTUFDQWl4RCxTQUFBLFdBQ0FvMEUsZ0JBQUEsVUFFQWpDLEdBQUF6MkgsS0FBQXNrRCxXQUNBeGxDLEVBQUFvUCxXQUFBLFlBQ0FwUCxFQUFBenJCLEtBQUEsZ0JBQUEsVUFFQTJNLEtBQUFza0QsU0FBQW15RSxHQXhHQSxNQURBa0MsR0FBQXhsSCxTQUFBLGFBRUFtTCxTQUFBLElBQ0FELFNBQUEsV0FBQSxrQkFDQS9oQixXQUFBcThILEVBQ0FuK0gsUUFBQUEsR0EyR0EsUUFBQW8rSCxLQUtBLFFBQUFwK0gsR0FBQTJxRCxFQUFBNWpDLEdBQ0EsR0FBQXMzRyxHQUFBMXpFLEVBQUE3eEQsS0FBQSxRQUNBdWxJLEdBQUExcUksU0FDQTBxSSxFQUFBaCtILEVBQUFsSCxRQUFBLFdBQ0F3eEQsRUFBQThDLFFBQUE0d0UsSUFFQUEsRUFBQXZtSCxTQUFBLHVCQUNBaVAsRUFBQTQ2QyxPQUFBMDhELEVBQUE1dUcsS0FBQTFJLEVBQUE0NkMsT0FYQSxPQUNBNzlDLFNBQUEsSUFDQTlqQixRQUFBQSxHQWFBLFFBQUFzK0gsR0FBQXpyQixHQVNBLFFBQUEwckIsR0FBQTVGLEVBQUFqdEMsRUFBQTJCLEVBQUF6OUUsRUFBQWxCLEVBQUFvQixFQUFBOUQsRUFBQUYsRUFBQWMsR0FnQkEsUUFBQSt3RixHQUFBNTlGLEVBQUE1RyxFQUFBMGhHLEdBZ0JBLFFBQUFzb0IsS0FDQSxNQUFBbjNHLEdBQUE3UyxHQUFBMmUsU0FBQSxhQUFBczVDLFFBTUEsUUFBQW90RSxLQUVBcmxJLEVBQUE0ZSxZQUFBLGFBQ0E1ZSxFQUFBTixLQUFBLGNBQUEsUUFDQU0sRUFBQSxHQUFBOE4sTUFBQXNzRixRQUFBLE9BRUFrckMsRUFBQTVqQyxJQUVBQSxFQUFBdjRGLFVBQUF1NEYsRUFBQTZqQyxjQUNBN2pDLEVBQUF0akYsT0FBQThsRCxRQXZCQSxNQVJBdzlCLEdBQUFBLE1BQ0FBLEVBQUE4akMscUJBQ0E5akMsRUFBQStqQyxrQkFDQS9qQyxFQUFBMm9CLGVBS0Ezb0IsRUFBQXY0RixZQUFBLEVBQUFrOEgsSUFBQXJiLElBQUE1cUgsS0FBQWltSSxHQWdDQSxRQUFBOWdDLEdBQUEzOUYsRUFBQTVHLEVBQUEwaEcsR0F5QkEsUUFBQWdrQyxHQUFBOStILEVBQUE1RyxFQUFBMGhHLEdBR0EsTUFGQUEsR0FBQTFqRyxPQUFBa0csT0FBQWxFLEdBRUF1VixFQUFBLFNBQUFpc0IsRUFBQXZDLEdBRUEsSUFFQXBzQixFQUFBN1MsR0FBQTRlLFlBQUEsV0FBQXkyRCxTQUFBLElBQ0FwZCxRQUNBNzRELEtBQUF1bUksR0FDQXZtSSxLQUFBb2lDLEdBRUEsTUFBQXg5QixHQUNBaTdCLEVBQUFqN0IsTUFVQSxRQUFBMmhJLEtBQ0EsTUFBQXB3SCxHQUFBLFNBQUFpc0IsR0FDQSxHQUFBa2dFLEVBQUFra0MsVUFBQSxNQUFBcndILEdBQUEwcEIsUUFBQSxFQUVBLElBQUFyVyxHQUFBaTlHLEVBQUFqL0gsRUFBQTVHLEVBQUEwaEcsRUFFQTk0RSxHQUFBODlELFVBQUExbUYsUUFBQXF6RCxJQUFBNHNCLEVBQUF1M0IsTUFBQTV1RixFQUFBODlELFVBQUF4VCxTQUNBdHFELEVBQUFrOUcsU0FBQTlsSSxRQUFBcXpELElBQUE0c0IsRUFBQXUzQixNQUFBNXVGLEVBQUFrOUcsU0FBQTV5RCxTQUVBdjhELEVBQUEsV0FDQTNXLEVBQUEyZSxTQUFBLGFBQ0FpSyxFQUFBazlHLFNBQUE5bEksUUFBQXF6RCxJQUFBNHNCLEVBQUF1M0IsT0FBQUssVUFBQSxNQUVBa3VCLEVBQUFya0MsRUFBQXNrQyxhQUNBeGtHLFFBU0EsUUFBQW9vRixHQUFBaGpILEVBQUE1RyxFQUFBdWtCLEdBb0JBLE1BakJBQSxHQUFBeTFGLHNCQUFBOWxCLEVBQUFzRSxXQUFBajBFLEVBQUFuRyxPQUFBLGFBR0FtRyxFQUFBMDFGLGNBQUEvbEIsRUFBQXdCLG9CQUFBbnhFLEVBQUF2a0IsUUFBQXVrQixFQUFBdm1CLFFBRUF1bUIsRUFBQXkxRixxQkFBQSxFQUdBejFGLEVBQUFpbkcsY0FFQWpuRyxFQUFBcTFGLFNBQUExbEIsRUFBQXdELGVBQUE5d0YsRUFBQSx1Q0FDQStMLEVBQUF5a0QsTUFBQTd5QyxFQUFBcTFGLFNBQUFubUcsRUFBQSxHQUFBb3ZCLEtBQUEsTUFBQXd5QyxTQUFBLEtBTUEsV0FDQTl3RCxFQUFBcTFGLFVBQUFyMUYsRUFBQXExRixTQUFBbnhGLFNBQ0FsRSxFQUFBeTFGLHFCQUFBejFGLEVBQUEwMUYsc0JBRUExMUYsR0FBQTAxRixlQU9BLFFBQUE4ckIsR0FBQUMsR0FDQUEsSUFBQUEsRUFBQW5nSSxhQUFBLGFBQ0FtZ0ksRUFBQTloRSxRQU9BLFFBQUEraEUsR0FBQXIvSCxFQUFBMmQsR0FDQSxHQUFBaTlHLEdBQUF4aEksRUFBQUwsS0FBQSxpQkFFQSxLQUFBNGtCLEVBQUFuRyxPQUNBLEtBQUEsSUFBQTFrQixPQUFBdzZGLEVBQUF5RCxTQUFBdXVDLEdBQUEzaEgsRUFBQW5HLFNBR0FsWCxHQUFBeEosT0FBQTZtQixHQUNBcWhILFdBQUEsRUFDQXhuSCxPQUFBbFgsRUFBQWxILFFBQUF1a0IsRUFBQW5HLFFBQ0FwZ0IsT0FBQWtKLEVBQUFsSCxRQUFBdWtCLEVBQUF2bUIsUUFDQXdqSSxTQUFBQSxFQUNBMkUsVUFBQW5tSSxFQUFBTCxLQUFBLGNBQ0F5bUksWUFBQTVFLEVBQUEsR0FBQXpzRSxxQkFBQSxlQU9BLFFBQUFzeEUsS0FDQSxHQUFBQyxHQUFBLFNBQUExL0gsRUFBQXdYLEVBQUFtRyxHQUVBLE1BQUEsWUFDQSxJQUFBQSxFQUFBcWhILFVBQUEsQ0FFQSxHQUFBVyxHQUFBVixFQUFBai9ILEVBQUF3WCxFQUFBbUcsR0FDQW1pRSxFQUFBNi9DLEVBQUE3L0MsVUFDQW8vQyxFQUFBUyxFQUFBVCxRQUVBcC9DLEdBQUExbUYsUUFBQXF6RCxJQUFBNHNCLEVBQUF1M0IsTUFBQTl3QixFQUFBeFQsU0FDQTR5RCxFQUFBOWxJLFFBQUFxekQsSUFBQTRzQixFQUFBdTNCLE1BQUFzdUIsRUFBQTV5RCxZQUdBdHNFLEVBQUE1RyxFQUFBMGhHLEdBRUF0b0csRUFBQThOLEVBQUFsSCxRQUFBeVcsRUFLQSxPQUpBcmQsR0FBQW9QLEdBQUEsU0FBQTg5SCxHQUNBbHRJLEVBQUFvUCxHQUFBLG9CQUFBODlILEdBR0EsV0FHQWx0SSxFQUFBeXRCLElBQUEsU0FBQXkvRyxHQUNBbHRJLEVBQUF5dEIsSUFBQSxvQkFBQXkvRyxJQVFBLFFBQUFFLEtBQ0E5a0MsRUFBQTQvQixlQUFBNS9CLEVBQUFra0MsWUFDQWgvSCxFQUFBNi9ILG9CQUFBLEVBQ0E3L0gsRUFBQTgvSCxhQUFBLGdCQUVBbnhILEVBQUE2cUIsS0FBQXNoRSxFQUFBNC9CLGNBQ0FsaUksS0FBQSxXQUNBd0gsRUFBQTYvSCxvQkFBQSxFQUNBNy9ILEVBQUE4L0gsYUFBQSxTQUNBaGxDLEdBQUE0L0IsZUFDQWxpSSxLQUFBLFdBQ0F1WCxFQUFBZ3ZILE1BUUEsUUFBQWdCLEtBNkJBLFFBQUFDLEdBQUE1aUksR0FDQUEsRUFBQTZtQyxpQkFDQTdtQyxFQUFBNlosa0JBQ0E2akYsRUFBQTZqQyxjQUFBLEVBQ0FyeEMsRUFBQTNoRCxTQUFBaXRGLEVBQUFwOUIsTUFBQSxHQUdBLFFBQUF5a0MsR0FBQXg4RSxHQUNBLEdBQUE2N0QsR0FBQTN6QixFQUFBeEQsUUFJQSxRQUhBMWtDLEVBQUF4ZixpQkFDQXdmLEVBQUF4c0Msa0JBRUF3c0MsRUFBQU8sU0FDQSxJQUFBczdELEdBQUExMkIsU0FDQSxNQUFBczNDLElBQ0EsS0FBQTVnQixHQUFBeDJCLFdBQ0EsTUFBQXEzQyxJQUNBLEtBQUE3Z0IsR0FBQWgzQixNQUNBLElBQUFnM0IsR0FBQWozQixNQUNBLEdBQUFqaEYsR0FBQWttRixFQUFBc0UsV0FBQW51QyxFQUFBanNDLE9BQUEsWUFDQXBRLEtBQ0E4M0gsRUFBQTE4SCxnQkFDQWdSLEtBQUEsUUFDQWdFLE9BQUFwUSxJQUVBcThDLEVBQUF4ZixrQkFFQW04RixFQUFBMzhFLEVBQ0EsTUFDQSxLQUFBNjdELEdBQUF2MkIsSUFDQSxJQUFBdTJCLEdBQUFsdEQsT0FDQTNPLEVBQUF4c0Msa0JBQ0F3c0MsRUFBQXhmLGlCQUNBNjJELEVBQUE2akMsY0FBQSxFQUNBcnhDLEVBQUEzaEQsU0FBQWl0RixFQUFBcDlCLE1BQUEsRUFDQSxNQUNBLFNBQ0EsR0FBQS8zQyxFQUFBTyxTQUFBLElBQUFQLEVBQUFPLFNBQUEsR0FBQSxDQUNBLEdBQUFxOEUsR0FBQW5CLEVBQUFuOUgsV0FBQSxnQkFBQXE0SCx5QkFBQTMyRSxFQUNBcTNDLEdBQUFza0MsWUFBQWlCLEdBQUF2bEMsRUFBQXNrQyxZQUNBaUIsR0FBQUEsRUFBQS9pRSxVQUtBLFFBQUFnakUsR0FBQXA5QyxHQUNBLEdBR0FxOUMsR0FIQUMsRUFBQWx6QyxFQUFBVSxhQUFBOE0sRUFBQTBrQyxhQUNBL3JJLEVBQUErc0ksRUFBQWhuSSxRQUFBc2hHLEVBQUFza0MsWUFJQSxHQUNBLEtBQUEzckksRUFFQUEsRUFBQSxFQUNBLFNBQUF5dkYsR0FBQXp2RixFQUFBK3NJLEVBQUE1c0ksT0FBQSxFQUNBSCxJQUNBLFNBQUF5dkYsR0FBQXp2RixFQUFBLEdBQ0FBLElBRUE4c0ksRUFBQUMsRUFBQS9zSSxHQUNBOHNJLEVBQUF0aEksYUFBQSxjQUFBc2hJLEVBQUE3dEksVUFDQTZ0SSxHQUFBOXNJLEVBQUErc0ksRUFBQTVzSSxPQUFBLEdBQUFILEVBQUEsRUFDQThzSSxJQUFBQSxFQUFBampFLFFBQ0F3OUIsRUFBQXNrQyxZQUFBbUIsRUFHQSxRQUFBSixLQUNBRyxFQUFBLFFBR0EsUUFBQUosS0FDQUksRUFBQSxRQUdBLFFBQUFGLEdBQUEzOEUsR0FtQkEsUUFBQWc5RSxLQUNBLEdBQUFDLElBQUEsQ0FDQSxJQUFBajlFLEdBQUFBLEVBQUEyekUsY0FBQXp4RixTQUFBL3hDLE9BQUEsRUFBQSxDQUNBLEdBQUEwOEMsR0FBQW1ULEVBQUEyekUsY0FBQXp4RixTQUFBLEdBQ0FnN0YsRUFBQXJ3RixFQUFBby9DLGFBQUFwL0MsRUFBQXEvQyxZQUNBLElBQUFneEMsR0FBQXJ3RixFQUFBM0ssU0FBQS94QyxPQUFBLEVBQUEsQ0FDQSxHQUFBZ3RJLEdBQUFuOUUsRUFBQWkwQyxNQUFBajBDLEVBQUEyekUsY0FBQTc2Ryx3QkFBQTRxQixJQUNBeTVGLEdBQUF0d0YsRUFBQW54QyxjQUFBLGFBQUFveUQsY0FDQW12RSxHQUFBLElBR0EsTUFBQUEsR0E3QkEsS0FBQWo5RSxHQUFBLFNBQUFBLEVBQUFqd0MsTUFBQWl3QyxFQUFBMnpFLGVBQUE4SCxFQUFBLElBQ0F1QixLQUFBLENBRUEsR0FBQXI1SCxHQUFBa21GLEVBQUFzRSxXQUFBbnVDLEVBQUFqc0MsT0FBQSxZQUNBcFEsSUFBQUEsRUFBQW5JLGVBQUFtSSxFQUFBbkksYUFBQSxjQUNBd2tELEVBQUF4ZixpQkFDQXdmLEVBQUF4c0Msa0JBQ0FvdEQsRUFBQWkyRCxhQUNBeC9CLEVBQUE2akMsY0FBQSxFQUVBcnhDLEVBQUEzaEQsU0FBQSxXQUNBaXRGLEVBQUFwOUIsS0FBQW4zQixFQUFBajZELFFBQUF1NUMsY0FDQSxNQXBIQSxJQUFBbTNDLEVBQUFra0MsVUFBQSxDQUVBLEdBQUFFLEdBQUFwa0MsRUFBQTgvQixTQUNBdjJELEVBQUE2NkQsRUFBQW45SCxXQUFBLG1CQVlBLE9BVkEzSSxHQUFBMmUsU0FBQSxnQkFHQStpRixFQUFBa1ksVUFBQWxZLEVBQUFrWSxTQUFBcHhHLEdBQUEsUUFBQW8rSCxHQUlBZCxFQUFBdDlILEdBQUEsVUFBQXErSCxHQUNBZixFQUFBdDlILEdBQUEsUUFBQXcrSCxHQUVBLFdBQ0F0bEMsRUFBQWtZLFVBQUFsWSxFQUFBa1ksU0FBQS95RixJQUFBLFFBQUErL0csR0FDQWQsRUFBQWovRyxJQUFBLFVBQUFnZ0gsR0FDQWYsRUFBQWovRyxJQUFBLFFBQUFtZ0gsR0FFQWhuSSxFQUFBNGUsWUFBQSxnQkFDQThpRixFQUFBa2tDLFdBQUEsSUF0TUEsTUFMQVksS0FDQVAsRUFBQXIvSCxFQUFBODZGLEdBRUFBLEVBQUEyb0IsYUFBQVQsRUFBQWhqSCxFQUFBNUcsRUFBQTBoRyxHQUVBZ2tDLEVBQUE5K0gsRUFBQTVHLEVBQUEwaEcsR0FDQXRpRyxLQUFBLFNBQUEyL0IsR0FNQSxNQUxBLytCLEdBQUFOLEtBQUEsY0FBQSxTQUNBZ2lHLEVBQUErbEMsYUFBQSxFQUNBL2xDLEVBQUE4akMsbUJBQUFtQixJQUNBamxDLEVBQUErakMsZ0JBQUFZLElBRUF0bkcsR0FDQTJpRSxFQUFBMm9CLGNBeVRBLFFBQUFpYixHQUFBNWpDLEdBQ0EsR0FBQWdtQyxHQUFBaG1DLEVBQUF6MkIsVUFDQSxJQUFBeThELEVBQUEsQ0FDQSxHQUFBQyxHQUFBam1DLEVBQUE4L0IsU0FBQTc0SCxXQUFBLGVBQ0ErK0gsR0FBQW5ILGFBQUFvSCxFQUFBbkgsa0JBQ0FrSCxFQUFBN0YsZ0JBUUEsUUFBQWdFLEdBQUFqL0gsRUFBQTVHLEVBQUEwaEcsR0FDQSxHQTBCQWttQyxHQXpCQTlnRCxFQUFBOW1GLEVBQUEsR0FDQW9rRixFQUFBc2QsRUFBQXRqRixPQUFBLEdBQUFtdUIsU0FBQSxHQUNBdHdCLEVBQUF4SSxFQUFBLEdBQUFvdkIsS0FDQWdsRyxFQUFBbm1DLEVBQUE4L0IsU0FBQSxHQUNBc0csRUFBQXBtQyxFQUFBeWtDLFVBQUEsR0FDQTRCLEVBQUE5ckgsRUFBQWtILHdCQUNBKzBGLEVBQUE5ekIsRUFBQWpoRSx3QkFDQTZrSCxHQUFBLEVBQ0F0eEIsR0FDQTNvRSxLQUFBZzZGLEVBQUFoNkYsS0FBQWs2RixFQUNBemtILElBQUF5a0gsRUFDQTdrSCxPQUFBMmtILEVBQUFwekMsT0FBQXN6QyxFQUNBajZGLE1BQUErNUYsRUFBQXJ6QyxNQUFBdXpDLEdBQUEvekMsRUFBQTZDLHFCQUFBLEdBQUEsSUFFQW14QyxHQUNBMWtILElBQUEwMEYsRUFBQTEwRixJQUFBa3pGLEVBQUFsekYsSUFDQXVxQixLQUFBbXFFLEVBQUFucUUsS0FBQTJvRSxFQUFBM29FLEtBQ0FDLE1BQUEwb0UsRUFBQTFvRSxPQUFBa3FFLEVBQUFucUUsS0FBQW1xRSxFQUFBeGpCLE9BQ0F0eEUsT0FBQXN6RixFQUFBdHpGLFFBQUE4MEYsRUFBQTEwRixJQUFBMDBGLEVBQUF2akIsU0FFQXd6QyxFQUFBSixFQUFBcnpDLE1BQUEsRUFBQXV6QyxFQUNBRyxFQUFBUCxFQUFBOWhJLGNBQUEsdUJBQ0FxZ0ksRUFBQXlCLEVBQUE5eUUscUJBQUEsYUFDQXN6RSxFQUFBUixFQUFBOXlFLHFCQUFBLGVBQ0F1ekUsRUFBQUMsRUFBQXZvSSxFQUFBOG5JLEdBR0FVLEVBQUFycEksRUFBQXVpRyxFQUFBNC9CLGFBaUJBc0csR0FoQkFZLEVBZ0JBVixFQUFBeHpCLG1CQUFBd3pCLEVBZEFNLEVBQ0FBLEVBRUFDLEVBQUE3dEksT0FDQTZ0SSxFQUFBLEdBRUFqQyxFQUFBNXJJLE9BQ0E0ckksRUFBQSxHQUdBMEIsRUFBQXh6QixtQkFBQXd6QixFQU9BQSxFQUFBM3ZFLFlBQUFnd0UsRUFDQUwsRUFBQWg2SCxNQUFBLGFBQUFxNkgsRUFBQSxLQUVBTCxFQUFBaDZILE1BQUFxNkgsU0FBQSxLQUVBSCxJQUNBRixFQUFBaDZILE1BQUEsYUFBQW9xRyxFQUFBeGpCLE1BQUEsTUFJQTR6QyxHQUNBVCxFQUFBbG9CLFVBQUF2cEQsSUFBQSxjQUdBLElBQUE0dkUsR0FBQTRCLENBQ0Esa0JBQUE1QixFQUFBdnRDLFNBQUEsSUFBQWhoRixnQkFDQXV1SCxFQUFBSSxFQUFBLElBQUEwQixFQUFBeHpCLG1CQUFBd3pCLEVBQ0FGLEVBQUE1QixHQUdBdGtDLEVBQUFza0MsWUFBQUEsRUFHQWwvQyxFQUFBaDVFLE1BQUFzc0YsUUFBQSxPQUNBLElBQUFxdUMsR0FBQVosRUFBQTFrSCx3QkFDQXVsSCxFQUFBQyxFQUFBZixFQUVBLElBQUFBLEVBQUEsQ0FDQSxHQUFBZ0IsR0FBQW55SCxFQUFBd00saUJBQUEya0gsRUFDQWMsR0FBQUcsWUFBQS9xSSxTQUFBOHFJLEVBQUFDLFlBQUEsS0FBQSxFQUNBSCxFQUFBNXBCLGFBQUFoaEgsU0FBQThxSSxFQUFBOXBCLGFBQUEsS0FBQSxFQUdBLEdBQUF3cEIsRUFBQSxDQUNBLEdBQUFRLEdBQUFoQixFQUFBdnJCLGFBQUEsQ0FDQXVyQixHQUFBaG9ELFVBQUE0b0QsRUFBQWxsSCxJQUFBa2xILEVBQUEvekMsT0FBQSxFQUFBbTBDLEVBRUFaLEVBQUExa0gsSUFBQXNsSCxFQUNBaEIsRUFBQWhvRCxVQUFBcnJELEtBQUFvdUIsSUFDQTZsRixFQUFBbGxILElBQ0Fza0gsRUFBQWhvRCxVQUFBZ3BELEVBQUFaLEVBQUExa0gsS0FFQTBrSCxFQUFBOWtILE9BQUEwbEgsSUFDQWhCLEVBQUFob0QsVUFBQXJyRCxLQUFBQyxJQUNBZzBHLEVBQUFsbEgsSUFBQWtsSCxFQUFBL3pDLE9BQUE4ekMsRUFBQTl6QyxPQUNBbXpDLEVBQUFob0QsVUFBQWdwRCxFQUFBWixFQUFBOWtILFNBS0EsR0FBQTJxQixHQUFBdnFCLEVBQUF1bEgsRUFBQUMsQ0FDQWhCLElBQ0FqNkYsRUFBQW1xRSxFQUFBbnFFLEtBQ0F2cUIsRUFBQTAwRixFQUFBMTBGLElBQUEwMEYsRUFBQXZqQixPQUNBbzBDLEVBQUEsUUFDQXZsSCxFQUFBaWxILEVBQUE5ekMsT0FBQStoQixFQUFBdHpGLFNBQ0FJLEVBQUEwMEYsRUFBQTEwRixJQUFBaWxILEVBQUE5ekMsT0FDQW8wQyxFQUFBLGNBR0FoN0YsRUFBQW1xRSxFQUFBbnFFLEtBQUEyNkYsRUFBQTM2RixLQUFBMjZGLEVBQUFHLFlBQUEsRUFDQXJsSCxFQUFBaVIsS0FBQTJGLE1BQUE4OUUsRUFBQTEwRixJQUFBMDBGLEVBQUF2akIsT0FBQSxFQUFBK3pDLEVBQUEvekMsT0FBQSxFQUNBK3pDLEVBQUFsbEgsSUFBQXNrSCxFQUFBaG9ELFdBQUEsRUFFQWlwRCxFQUFBTCxFQUFBMzZGLEtBQUFtcUUsRUFBQXhqQixNQUFBLEVBQUEsT0FDQWcwQyxFQUFBbGxILElBQUFrbEgsRUFBQS96QyxPQUFBLEVBQUFtekMsRUFBQWhvRCxXQUFBLFNBRUFrcEQsRUFBQXYwRyxLQUFBb3VCLElBQUFxMUQsRUFBQXhqQixNQUFBZzBDLEVBQUFHLFlBQUFILEVBQUE1cEIsYUFBQXFwQixHQUlBLElBQUFjLEdBQUFuaUQsRUFBQTNqRSx3QkFDQTZ6RixFQUFBdmlGLEtBQUFzdUIsTUFBQSxJQUFBdHVCLEtBQUFvdUIsSUFBQXExRCxFQUFBeGpCLE1BQUErekMsRUFBQS96QyxNQUFBLElBQUEsSUFDQXVpQixFQUFBeGlGLEtBQUFzdUIsTUFBQSxJQUFBdHVCLEtBQUFvdUIsSUFBQXExRCxFQUFBdmpCLE9BQUE4ekMsRUFBQTl6QyxPQUFBLElBQUEsR0FFQSxRQUNBak8sV0FDQTFtRixRQUFBa0gsRUFBQWxILFFBQUE4bUYsR0FDQTVULFFBQ0FubEMsS0FBQXRaLEtBQUEyRixNQUFBNGhHLEVBQUF0bEIsRUFBQTNvRSxLQUFBQSxFQUFBMm9FLEVBQUExb0UsTUFBQWk3RixFQUFBdjBDLFFBQ0FseEUsSUFBQWlSLEtBQUEyRixNQUFBNGhHLEVBQUF0bEIsRUFBQWx6RixJQUFBQSxFQUFBa3pGLEVBQUF0ekYsT0FBQTZsSCxFQUFBdDBDLFNBQ0F1MEMsWUFBQUYsSUFHQWxELFVBQ0E5bEksUUFBQWtILEVBQUFsSCxRQUFBNm5JLEdBQ0EzMEQsUUFDQTYxRCxnQkFBQUEsRUFDQWx4QixVQUFBblcsRUFBQStsQyxZQUFBLEdBQUF2ekMsRUFBQXlELFNBQUEsa0JBQUFxZixFQUFBQyxPQXRoQkEsR0FBQWl2QixHQUFBLDhFQUNBam1ELEVBQUFpVSxFQUFBQyxJQUFBbFUsUUFFQSxRQUNBamlGLE9BQUEsT0FDQTZtRyxVQUFBLEVBQ0FOLE9BQUFBLEVBQ0FDLFNBQUFBLEVBQ0FnbkIsYUFBQSxFQUNBeFIscUJBQUEsR0FzaEJBLFFBQUE3NkcsR0FBQXZFLEdBQ0EsTUFBQUEsSUFBQXNNLEVBQUExTCxXQUFBWixFQUFBd0UsTUFHQSxRQUFBNDhILEdBQUFuNUUsRUFBQWw3QixFQUFBK00sR0FDQSxNQUFBRCxNQUFBQyxJQUFBbXVCLEVBQUFwdUIsS0FBQW91QixJQUFBbDdCLEVBQUErTSxJQUdBLFFBQUFpMEcsR0FBQW5wSSxHQUNBLE1BQUFBLElBQ0F1dUMsS0FBQXZ1QyxFQUFBMnBJLFdBQ0EzbEgsSUFBQWhrQixFQUFBNHBJLFVBQ0ExMEMsTUFBQWwxRixFQUFBMjRELFlBQ0F3OEIsT0FBQW4xRixFQUFBKzhHLGVBQ0F4dUUsS0FBQSxFQUFBdnFCLElBQUEsRUFBQWt4RSxNQUFBLEVBQUFDLE9BQUEsR0FHQSxRQUFBNHpDLEdBQUF2b0ksRUFBQThuSSxHQUNBLEdBQUFRLElBQUEsQ0FFQSxLQUNBLEdBQUFlLEdBQUFycEksRUFBQSxHQUFBOE4sTUFBQXNzRixPQUdBcDZGLEdBQUEsR0FBQThOLE1BQUFzc0YsUUFBQSxRQUVBa3VDLEVBQUFSLEVBQUF4eEMsYUFBQXd4QyxFQUFBdnJCLGFBR0F2OEcsRUFBQSxHQUFBOE4sTUFBQXNzRixRQUFBaXZDLEVBQ0EsU0FHQSxNQUFBZixHQXhrQkEsTUFEQWxELEdBQUE1bEgsU0FBQSxZQUFBLGNBQUEsVUFBQSxVQUFBLEtBQUEsUUFBQSxjQUFBLFdBQUEsYUFDQWs2RixFQUFBLGFBQ0E1WSxhQUNBRyxTQUFBLFVBQ0ExOEUsUUFBQTZnSCxJQXIyQkEsR0FBQTZDLEdBQUEsRUFDQTdELEVBQUEsQ0FFQWw5SCxHQUFBMU4sT0FBQSw4QkFDQSxnQkFDQSxpQ0FFQTBTLFVBQUEsV0FBQXF6SCxHQUNBcnpILFVBQUEsZUFBQXMySCxHQUNBdDJILFVBQUEsV0FBQXc0SCxHQUNBeDRILFVBQUEsYUFBQSs0SCxHQUNBbjZILFNBQUEsWUFBQXE2SCxHQTRjQTVGLEVBQUEvL0csU0FBQSxZQUFBLFVBQUEsYUFBQSxVQUFBLFdBQUEsVUFxUUFnakgsRUFBQWhqSCxTQUFBLFNBQUEsVUFBQSxjQWtIQWtsSCxFQUFBbGxILFNBQUEscUJBQUEsV0ErbEJBMmxILEVBQUEzbEgsU0FBQSwrQkFJQSxXQWtCQSxRQUFBOHBILEdBQUExakksRUFBQTJqSSxHQUNBLE9BQUEsVUFBQSxTQUFBcjFDLEdBQ0EsT0FDQXZwRSxTQUFBLElBQ0FvSyxjQUFBLEVBQ0FuTixLQUFBLFNBQUE2SixFQUFBdEcsRUFBQXdELEdBQ0EsR0FBQTY2RyxHQUFBLzNHLEVBQUFnQixJQUFBLG9CQUFBLFdBQ0ErMkcsSUFFQS8zRyxFQUFBM3lCLE9BQUE2dkIsRUFBQS9vQixHQUFBLFNBQUExSixLQUNBQSxJQUFBcXRJLElBQ0FyMUMsRUFBQTNoRCxTQUFBLFdBQ0E5Z0IsRUFBQXlZLFdBQUEsZ0JBRUFncUQsRUFBQUMsSUFBQWxVLFNBQUFrMkIsa0JBQUFockYsR0FBQS9yQixLQUFBLFdBQ0FxeUIsRUFBQXlZLFdBQUEseUJBdEJBaGpDLEVBQUExTixPQUFBLGdDQUNBLGtCQUVBMFMsVUFBQSxTQUFBbzlILEVBQUEsVUFBQSxJQUNBcDlILFVBQUEsU0FBQW85SCxFQUFBLFVBQUEsT0E0QkEsV0E4REEsUUFBQUcsR0FBQUMsRUFBQW4wSCxHQUNBLE1BQUEsVUFBQWlGLEdBMENBLFFBQUFtdkgsS0FDQSxNQUFBRCxHQUNBdHBHLEtBQUE1bEIsR0FDQXBiLEtBQUEsU0FBQWcyRixHQUVBLE1BREFoekUsR0FBQWd6RSxFQUNBQSxJQTVDQSxHQUFBanpGLEdBQ0F5bkksRUFBQSxZQUFBcHZILEVBQUEsc0JBQ0E0SCxFQUFBc25ILEVBQUEvaEksSUFBQTZTLEVBTUEsT0FKQTRILElBQ0FzbkgsRUFBQXpoQyxjQUFBenRGLEdBR0FyWSxHQUlBNHFILE9BQUEsV0FDQSxNQUFBM3FHLElBQUFBLEVBQUEycUcsVUFFQThjLGFBQUEsV0FDQSxNQUFBem5ILElBQUFBLEVBQUF5bkgsZ0JBS0E3YSxPQUFBLFdBQ0EsTUFBQTVzRyxHQUFBQSxFQUFBNHNHLFNBQUF6NUcsRUFBQTBwQixPQUFBMnFHLElBRUF2bUcsS0FBQSxXQUNBLE1BQUFqaEIsR0FBQUEsRUFBQWloQixPQUFBOXRCLEVBQUEwcEIsT0FBQTJxRyxJQUVBOXhFLE1BQUEsV0FDQSxNQUFBMTFDLEdBQUFBLEVBQUEwMUMsUUFBQXZpRCxFQUFBMHBCLE9BQUEycUcsSUFFQXhxSSxLQUFBLFNBQUEwcUksR0FDQSxHQUFBM3BHLEdBQUEvZCxFQUFBN00sRUFBQTZxQixLQUFBaGUsR0FBQXVuSCxHQUNBLE9BQUF4cEcsR0FBQS9nQyxLQUFBMHFJLEdBQUE1aUksRUFBQS9JLFNBeUNBLFFBQUE0ckksS0FDQSxPQUNBcC9HLFNBQUEsSUFDQUQsUUFBQSxhQUNBOUMsS0FBQSxTQUFBaGhCLEVBQUE1RyxFQUFBTixFQUFBc3FJLE1BdUVBLFFBQUFDLEdBQUF6M0MsRUFBQTBCLEVBQUEzQixFQUFBcVEsRUFBQWp3RixFQUFBOHdELEVBQUF0dUQsRUFBQUYsRUFBQU0sRUFBQTlCLEdBaUJBLFFBQUFtbkcsR0FBQWgwRyxFQUFBNUcsRUFBQU4sRUFBQXNxSSxHQXVDQSxRQUFBRSxHQUFBQyxFQUFBMXlHLEdBQ0E3d0IsRUFBQWlqSSxhQUFBTSxFQUNBQSxJQUFBMXlHLEVBQ0F6M0IsRUFBQTIwRCxZQUFBLG1CQUFBdzFFLEdBRUF4M0gsRUFBQXczSCxFQUFBLFdBQUEsZUFBQW5xSSxFQUFBLGtCQUVBNDVHLEVBQUFqbEQsWUFBQSxtQkFBQXcxRSxHQU9BLFFBQUFDLEdBQUFyZCxHQUVBLEdBQUFzZCxHQUFBbjJDLEVBQUFXLGdCQUFBNzBGLElBQUFrMEYsRUFBQVcsZ0JBQUE3MEYsRUFBQSx1QkFBQUEsRUFDQWhDLEVBQUFnQyxFQUFBaEMsUUFZQSxPQVZBQSxHQUFBK3VILEVBQUEsS0FBQSxPQUFBLFVBQUF1ZCxHQUNBMXdCLEVBQUFtVCxFQUFBLEtBQUEsT0FBQSxRQUFBajFELEdBRUFpMUQsSUFFQXdkLEVBQUE5MkgsRUFBQSxHQUFBKzJILGVBR0F4d0IsRUFBQStTLEdBRUE1c0YsRUFBQTVxQixFQUFBc0ssS0FDQWt0RyxFQUFBcDZHLEVBQUF5a0QsTUFBQXdpRCxFQUFBNTdHLEdBQUEyVSxFQUFBMmtELE1BQUFzaUQsR0FDQWpuRyxFQUFBbzZHLEVBQUEsY0FBQSxZQUFBL3NILEVBQUEsZUFFQVosS0FBQSxXQUVBd0gsRUFBQW1tSCxRQUNBc2QsR0FBQUEsRUFBQW5tRSxVQVFBLFFBQUE4MUMsR0FBQXZ4QyxHQUNBLEdBQUF6cUUsR0FBQWdDLEVBQUFoQyxRQUNBeXFFLEtBQUFnaUUsR0FFQUEsRUFBQXpzSSxFQUFBcTFELElBQUEsWUFDQXIxRCxFQUFBcTFELElBQUEsV0FBQSxXQUVBbnNELEVBQUF4SSxVQUFBK3JJLEtBRUF6c0ksRUFBQXExRCxJQUFBLFdBQUFvM0UsR0FDQUEsRUFBQW54SSxHQVlBLFFBQUFveEksR0FBQTNkLEdBQ0EsTUFBQW5tSCxHQUFBbW1ILFFBQUFBLEVBRUF4M0csRUFBQTZxQixNQUFBLEdBR0E3cUIsRUFBQSxTQUFBaXNCLEdBRUE1NkIsRUFBQW1tSCxPQUFBQSxFQUVBNzRCLEVBQUEzaEQsU0FBQSxXQUVBcFMsRUFBQS9nQyxLQUFBLFNBQUFvaEIsR0FFQTVaLEVBQUFtbUgsU0FFQXdkLEdBQUFBLEVBQUFybUUsUUFDQXFtRSxFQUFBLE1BR0Evb0csRUFBQWhoQixTQWFBLFFBQUE4cEgsR0FBQWpnRixHQUNBLEdBQUFzZ0YsR0FBQXRnRixFQUFBTyxVQUFBMm5DLEVBQUF4RCxTQUFBLzFCLE1BQ0EsT0FBQTJ4RSxHQUFBN3lFLEVBQUF6TixHQUFBOTBDLEVBQUE2cUIsTUFBQSxHQVFBLFFBQUEwM0IsR0FBQXpOLEdBR0EsTUFGQUEsR0FBQXhmLGlCQUVBbS9GLEVBQUFseUUsUUF0SkEsR0FBQTJ5RSxHQUNBRixFQUFBLEtBQ0FwcUcsRUFBQTVxQixFQUFBNnFCLE1BQUEsR0FFQXdxRyxFQUFBejFILEVBQUF6VixFQUFBbXJJLGdCQUNBVixFQUFBLFdBQ0EsTUFBQVMsR0FBQWhrSSxFQUFBcWxCLFNBQ0E2K0csT0FBQSxTQUFBdmhJLEdBRUEsTUFEQTBMLEdBQUFnM0IsS0FBQSxrRUFDQXVtRCxFQUFBanBGLElBRUFpcEYsU0FBQUEsS0FHQW9uQixFQUFBMWxCLEVBQUF3RCxlQUFBOXdGLEVBQUEseUNBRUFnOEYsR0FBQTdrRyxRQUFBNjdHLEVBQUE1NUcsR0FFQUEsRUFBQXdJLEdBQUEsV0FBQSxXQUNBb3hHLEVBQUFueEYsU0FDQXVoSCxFQUFBcmhILFlBR0EvaEIsRUFBQTZyQixJQUFBLFdBQUEsV0FDQW1uRixFQUFBbnhGLFdBR0E3aEIsRUFBQTlILE9BQUFxckksRUFBQUQsR0FDQXRqSSxFQUFBOUgsT0FBQSxTQUFBc3JJLEdBSUFKLEVBQUFlLFlBQUFMLEVBakRBLE9BQ0EvL0csU0FBQSxJQUNBL2pCLE9BQ0FtbUgsT0FBQSxjQUVBcGtILFdBQUEsdUJBQ0E5QixRQUFBLFNBQUE3RyxHQUdBLE1BRkFBLEdBQUEyZSxTQUFBLGFBQ0EzZSxFQUFBTixLQUFBLFdBQUEsTUFDQWs3RyxJQTRLQSxRQUFBb3dCLEdBQUF2NUcsRUFBQXRHLEVBQUF1RyxFQUFBZzRHLEVBQUFuMEgsR0FFQSxHQUFBcFQsR0FBQWtLLElBS0FsSyxHQUFBNHFILE9BQUEsV0FBQSxRQUFBdDdGLEVBQUFzN0YsUUFDQTVxSCxFQUFBMG5JLGFBQUEsV0FBQSxRQUFBcDRHLEVBQUFvNEcsY0FHQTFuSSxFQUFBa2hDLEtBQUEsV0FBQSxNQUFBbGhDLEdBQUE0b0ksYUFBQSxJQUNBNW9JLEVBQUEyMUQsTUFBQSxXQUFBLE1BQUEzMUQsR0FBQTRvSSxhQUFBLElBQ0E1b0ksRUFBQTZzSCxPQUFBLFdBQUEsTUFBQTdzSCxHQUFBNG9JLGFBQUF0NUcsRUFBQXM3RixTQUNBNXFILEVBQUE0b0ksWUFBQSxTQUFBN3VJLEdBQUEsTUFBQXFaLEdBQUE2cUIsS0FBQTNPLEVBQUFzN0YsT0FBQTd3SCxJQUVBaUcsRUFBQXdtQixRQUFBK2dILEVBQUFqdUcsU0FBQXQ1QixFQUFBdXZCLEVBQUF1NUcsZUFsWkEvakksRUFDQTFOLE9BQUEsK0JBQ0EsZ0JBQ0EsaUNBRUFnUixRQUFBLGFBQUFpL0gsR0FDQXY5SCxVQUFBLFlBQUErOUgsR0FDQS85SCxVQUFBLGlCQUFBNjlILEdBQ0FwaEksV0FBQSx1QkFBQXFpSSxHQWlHQXZCLEVBQUFqcUgsU0FBQSx1QkFBQSxNQWdSQXlxSCxFQUFBenFILFNBQUEsV0FBQSxVQUFBLGNBQUEsYUFBQSxXQUFBLFdBQUEsU0FBQSxPQUFBLEtBQUEsYUEyQkF3ckgsRUFBQXhySCxTQUFBLFNBQUEsV0FBQSxTQUFBLHVCQUFBLFNBR0EsV0FrREEsUUFBQTBySCxHQUFBdjBILEVBQUFGLEVBQUF1a0csRUFBQTltQixFQUFBM0IsRUFBQXFRLEVBQUE3RCxFQUFBNXBGLEVBQUFGLEdBNEJBLFFBQUFwTyxHQUFBODhELEVBQUF4dUMsR0FRQSxNQVBBd3VDLEdBQUFqa0UsTUFDQXVoSCxTQUFBLEVBQ0FoMEIsS0FBQSxXQUdBK3RCLEVBQUFoZ0QsT0FBQTJJLEVBQUEsY0FFQWkzQyxFQUdBLFFBQUFBLEdBQUFoMEcsRUFBQTVHLEVBQUFOLEVBQUErckUsR0FxREEsUUFBQTAvRCxLQUNBQyxJQUNBQyxJQUNBQyxJQXVCQSxRQUFBQyxHQUFBcnZJLEdBQ0EybUQsRUFBQUYsV0FBQXptRCxHQUNBOEQsRUFBQU4sS0FBQSxnQkFBQXhELEdBQ0FpdkksSUFFQSxRQUFBSyxHQUFBdHZJLEdBQ0F3NEIsRUFBQWl1QixXQUFBem1ELEdBQ0E4RCxFQUFBTixLQUFBLGdCQUFBeEQsR0FDQWl2SSxJQUVBLFFBQUFNLEdBQUF2dkksR0FDQXd2SSxFQUFBL29GLFdBQUF6bUQsR0FDQW92SSxJQUVBLFFBQUFLLEdBQUFsd0IsR0FDQXo3RyxFQUFBTixLQUFBLGtCQUFBKzdHLEdBT0EsUUFBQTZ2QixLQUNBLEdBQUFwa0ksRUFBQXhJLFVBQUFnQixFQUFBa3NJLGNBQ0Exa0ksRUFBQXpJLFlBQUFpdEksR0FBQSxDQUVBLEdBQUEsR0FBQUEsRUFBQSxDQUNBLEdBQUFseUYsR0FBQSxtRUFFQSxNQURBdmtDLEdBQUE0UCxNQUFBMjBCLEdBQ0EsR0FBQTkvQyxPQUFBOC9DLEdBR0EsR0FBQXF5RixHQUFBcDNHLEtBQUEyRixPQUFBMUYsRUFBQW11QixHQUFBNm9GLEVBQ0EsS0FBQUksRUFBQSxDQUNBQSxFQUFBNWtJLEVBQUFsSCxRQUFBLHVDQUNBK3JJLEVBQUE3bkksT0FBQTRuSSxFQUVBLElBQUFFLEdBQUF2MUgsRUFBQXdNLGlCQUFBOG9ILEVBQUEsR0FDQUUsR0FBQUgsRUFBQSxHQUFBSSxXQUFBLE1BQ0FELEVBQUFFLFVBQUFILEVBQUE1L0IsaUJBQUEsUUFHQSxHQUFBZ2dDLEdBQUFDLEdBQ0FQLEdBQUEsR0FBQXAzQyxNQUFBMDNDLEVBQUExM0MsTUFDQW8zQyxFQUFBLEdBQUFuM0MsT0FBQXkzQyxFQUFBejNDLE1BR0EsS0FBQSxHQURBc0csR0FDQXJoRyxFQUFBLEVBQUFpeUksR0FBQWp5SSxFQUFBQSxJQUNBcWhHLEVBQUF4bUUsS0FBQTJGLE1BQUFneUcsRUFBQTEzQyxPQUFBOTZGLEVBQUFpeUksSUFDQUksRUFBQUssU0FBQXJ4QyxFQUFBLEVBQUEsRUFBQSxFQUFBbXhDLEVBQUF6M0MsU0FVQSxRQUFBeTJDLEtBQ0FtQixFQUFBQyxFQUFBLEdBQUFycEgsd0JBRUEsUUFBQWtwSCxLQUVBLE1BREFJLEtBQ0FGLEVBTUEsUUFBQXhPLEdBQUExekUsR0FDQSxJQUFBcnFELEVBQUEsR0FBQTZGLGFBQUEsWUFBQSxDQUlBLEdBQUE2bUksRUFDQXJpRixHQUFBTyxVQUFBMm5DLEVBQUF4RCxTQUFBUSxXQUNBbTlDLEdBQUFoQixFQUNBcmhGLEVBQUFPLFVBQUEybkMsRUFBQXhELFNBQUFVLGNBQ0FpOUMsRUFBQWhCLEdBRUFnQixLQUNBcmlGLEVBQUE3ZixTQUFBNmYsRUFBQTlmLFNBQUE4ZixFQUFBbTBDLFVBQ0FrdUMsR0FBQSxHQUVBcmlGLEVBQUF4ZixpQkFDQXdmLEVBQUF4c0Msa0JBQ0FqWCxFQUFBL0gsV0FBQSxXQUNBOHRJLEVBQUFsaEUsRUFBQWxoQixXQUFBbWlGLE9BUUEsUUFBQUMsR0FBQXp3SSxHQUNBdXZFLEVBQUFoaEIsY0FBQW1pRixFQUFBQyxFQUFBM3dJLEtBRUEsUUFBQW12SSxLQUNBam9JLE1BQUFxb0UsRUFBQWxoQixjQUNBa2hCLEVBQUFsaEIsV0FBQWtoQixFQUFBdkcsWUFHQSxJQUFBNG5FLElBQUFyaEUsRUFBQWxoQixXQUFBMUgsSUFBQW51QixFQUFBbXVCLEVBQ0FqOEMsR0FBQW1uRCxXQUFBMGQsRUFBQWxoQixXQUNBdnFELEVBQUFOLEtBQUEsZ0JBQUErckUsRUFBQWxoQixZQUNBd2lGLEVBQUFELEdBQ0FFLEVBQUExMkcsS0FBQW0xQyxFQUFBbGhCLFlBR0EsUUFBQXFpRixHQUFBMXdJLEdBQ0EsTUFBQWdMLEdBQUFoTSxTQUFBZ0IsR0FDQXU0QixLQUFBQyxJQUFBbXVCLEVBQUFwdUIsS0FBQW91QixJQUFBbnVCLEVBQUF4NEIsSUFEQSxPQUlBLFFBQUEyd0ksR0FBQTN3SSxHQUNBLEdBQUFnTCxFQUFBaE0sU0FBQWdCLEdBQUEsQ0FDQSxHQUFBK3dJLEdBQUF4NEcsS0FBQXN1QixPQUFBN21ELEVBQUEybUQsR0FBQTZvRixHQUFBQSxFQUFBN29GLENBRUEsT0FBQXB1QixNQUFBc3VCLE1BQUEsSUFBQWtxRixHQUFBLEtBT0EsUUFBQUYsR0FBQUQsR0FDQSxHQUFBSSxHQUFBLElBQUFKLEVBQUEsR0FFQUssR0FBQTk1RSxJQUFBLFFBQUE2NUUsR0FDQUUsRUFBQS81RSxJQUFBLE9BQUE2NUUsR0FFQWx0SSxFQUFBMjBELFlBQUEsU0FBQSxJQUFBbTRFLEdBQ0E5c0ksRUFBQTIwRCxZQUFBLFNBQUEsSUFBQW00RSxHQVVBLFFBQUFPLEdBQUFoakYsR0FDQSxJQUFBaWpGLElBQUEsQ0FFQXR0SSxFQUFBMmUsU0FBQSxhQUNBM2UsRUFBQSxHQUFBa2tFLFFBQ0FrbkUsR0FFQSxJQUFBbUMsR0FBQUMsRUFBQUMsRUFBQXBqRixFQUFBMndDLFFBQUFvQixJQUNBc3hDLEVBQUFkLEVBQUFDLEVBQUFVLEdBQ0EzbUksR0FBQUUsT0FBQSxXQUNBNmxJLEVBQUFlLEdBQ0FYLEVBQUFZLEVBQUFELE9BR0EsUUFBQUUsR0FBQXZqRixHQUNBLElBQUFpakYsSUFBQSxDQUVBdHRJLEVBQUE0ZSxZQUFBLHdCQUVBLElBQUEydUgsR0FBQUMsRUFBQUMsRUFBQXBqRixFQUFBMndDLFFBQUFvQixJQUNBc3hDLEVBQUFkLEVBQUFDLEVBQUFVLEdBQ0EzbUksR0FBQUUsT0FBQSxXQUNBNmxJLEVBQUFlLEdBQ0FyQyxPQUdBLFFBQUEvd0IsR0FBQWp3RCxHQUNBaWpGLE1BQ0FPLElBQUEsRUFDQXhqRixFQUFBeHNDLGtCQUVBN2QsRUFBQTJlLFNBQUEsZUFDQW12SCxFQUFBempGLElBRUEsUUFBQWt3RCxHQUFBbHdELEdBQ0F3akYsS0FDQXhqRixFQUFBeHNDLGtCQUNBaXdILEVBQUF6akYsSUFFQSxRQUFBb3dELEdBQUFwd0QsR0FDQXdqRixLQUNBeGpGLEVBQUF4c0Msa0JBQ0Fnd0gsSUFBQSxHQUdBLFFBQUFDLEdBQUF6akYsR0FHQTBqRixHQUFBQyxFQUFBM2pGLEVBQUEyd0MsUUFBQW9CLEdBQ0E2eEMsRUFBQTVqRixFQUFBMndDLFFBQUFvQixHQU9BLFFBQUE2eEMsR0FBQTd4QyxHQUNBeDFGLEVBQUEvSCxXQUFBLFdBQ0E4dEksRUFBQWEsRUFBQUMsRUFBQXJ4QyxPQVFBLFFBQUE0eEMsR0FBQTV4QyxHQUNBLEdBQUFteEMsR0FBQUMsRUFBQUMsRUFBQXJ4QyxJQUNBc3hDLEVBQUFkLEVBQUFDLEVBQUFVLEdBQ0FSLEdBQUFVLEVBQUFyeEMsSUFDQTR3QyxFQUFBMTJHLEtBQUFvM0csR0FRQSxRQUFBRCxHQUFBcnhDLEdBQ0EsTUFBQTNuRSxNQUFBQyxJQUFBLEVBQUFELEtBQUFvdUIsSUFBQSxHQUFBdTVDLEVBQUFtd0MsRUFBQXgrRixNQUFBdytGLEVBQUEsUUFRQSxRQUFBaUIsR0FBQVYsR0FDQSxNQUFBanFGLEdBQUFpcUYsR0FBQXA0RyxFQUFBbXVCLEdBR0EsUUFBQThxRixHQUFBbnJJLEdBQ0EsT0FBQUEsRUFBQXFnRCxJQUFBbnVCLEVBQUFtdUIsR0ExVEErL0MsRUFBQTVpRyxHQUNBeXJFLEVBQUFBLElBR0FoaEIsY0FBQSxTQUFBam9ELEdBQ0E2SixLQUFBaytDLFdBQUEvbkQsRUFDQTZKLEtBQUEwM0QscUJBQUEzb0UsUUFBQSxTQUFBb3pGLEdBQUFBLE9BRUExaEMsWUFDQTlDLGVBQ0ErWix3QkFHQSxJQUFBdXBFLEdBQUFwbUksRUFBQS9JLElBQ0EsT0FBQXVCLEVBQUErb0UsU0FDQTZrRSxFQUFBLFdBQUEsT0FBQSxHQUNBNXRJLEVBQUE4N0csYUFDQTh4QixFQUFBcG1JLEVBQUFoRixLQUFBLEtBQUFpVCxFQUFBelYsRUFBQTg3RyxZQUFBNTBHLEVBQUFxbEIsU0FHQSxJQUFBaWlILEdBQUFobkksRUFBQWxILFFBQUFBLEVBQUEsR0FBQStGLGNBQUEsY0FDQWluSSxFQUFBOWxJLEVBQUFsSCxRQUFBQSxFQUFBLEdBQUErRixjQUFBLG1CQUNBcW5JLEVBQUFjLEVBQUFsd0ksU0FDQXd1SSxFQUFBdGxJLEVBQUFsSCxRQUFBQSxFQUFBLEdBQUErRixjQUFBLHdCQUNBb25JLEVBQUFqbUksRUFBQWxILFFBQUFBLEVBQUEsR0FBQStGLGNBQUEsbUJBQ0FnbUksRUFBQTdrSSxFQUFBbEgsUUFBQUEsRUFBQSxHQUFBK0YsY0FBQSxvQkFDQTBtSSxFQUFBdjRDLEVBQUEzRixTQUFBNjhDLEVBQUEsSUFHQWxrSSxHQUFBeEksVUFBQWdCLEVBQUFtakQsS0FBQW5qRCxFQUFBaTVCLFNBQUEsTUFBQTR5RyxHQUFBQSxFQUFBLEdBQ0Fya0ksRUFBQXhJLFVBQUFnQixFQUFBZzFCLEtBQUFoMUIsRUFBQWk1QixTQUFBLE1BQUE2eUcsR0FBQUEsRUFBQSxLQUNBdGtJLEVBQUF4SSxVQUFBZ0IsRUFBQWdzSSxNQUFBaHNJLEVBQUFpNUIsU0FBQSxPQUFBOHlHLEdBQUFBLEVBQUEsRUFLQSxJQUFBMEMsR0FBQWpuSSxFQUFBL0ksSUFDQXVCLEdBQUE4N0csYUFDQTJ5QixFQUFBdm5JLEVBQUFxbEIsUUFBQW50QixPQUFBWSxFQUFBODdHLFdBQUFtd0IsSUFHQTVzQyxFQUFBdGpFLFNBQUF6N0IsRUFBQSxRQUVBQSxFQUNBd0ksR0FBQSxVQUFBdTFILEdBQ0F2MUgsR0FBQSxnQkFBQTZrSSxHQUNBN2tJLEdBQUEsY0FBQW9sSSxHQUNBcGxJLEdBQUEsZ0JBQUE4eEcsR0FDQTl4RyxHQUFBLFdBQUEreEcsR0FDQS94RyxHQUFBLGNBQUFpeUcsR0FRQTc5RixXQUFBdXVILEVBQUEsRUFFQSxJQUFBaUQsR0FBQXozSCxFQUFBNDNFLFNBQUE0OEMsRUFDQWprSSxHQUFBbEgsUUFBQXlXLEdBQUFqTyxHQUFBLFNBQUE0bEksR0FFQXhuSSxFQUFBNnJCLElBQUEsV0FBQSxXQUNBdnJCLEVBQUFsSCxRQUFBeVcsR0FBQW9RLElBQUEsU0FBQXVuSCxHQUNBRCxNQUdBMWlFLEVBQUE1Z0IsUUFBQXdnRixFQUNBNS9ELEVBQUExSCxxQkFBQXJqRSxLQUFBMnFJLEdBQ0E1L0QsRUFBQXpoQixZQUFBdHBELEtBQUFrc0ksR0FDQW5oRSxFQUFBemhCLFlBQUF0cEQsS0FBQW1zSSxFQUtBLElBQUFocUYsR0FDQW51QixFQUNBZzNHLEVBc0JBSSxFQUFBRyxFQW9DQU0sSUFDQW5CLElBbUZBLElBQUF5QyxLQUFBLEVBQ0FFLEdBQUE3bUksRUFBQXhJLFVBQUFnQixFQUFBa3NJLFlBblFBLE9BQ0FobEksU0FDQThqQixRQUFBLFdBQ0F4d0IsU0FDQSw4WkFnQkEyTSxRQUFBQSxHQWhFQUssRUFBQTFOLE9BQUEsOEJBQ0Esa0JBRUEwUyxVQUFBLFdBQUFnL0gsR0E4WUFBLEVBQUExckgsU0FBQSxRQUFBLFVBQUEsVUFBQSxVQUFBLGNBQUEsYUFBQSxhQUFBLFNBQUEsV0FHQSxXQWdDQSxRQUFBNnVILEdBQUE1NkgsRUFBQTgrRSxFQUFBNTdFLEVBQUF1OUUsR0E2QkEsUUFBQW82QyxHQUFBQyxHQTJCQSxRQUFBbjRFLEdBQUFwMkQsRUFBQXd1SSxHQUNBQSxFQUFBN3ZILFNBQUEsa0JBRUEsSUFBQXhqQixJQUNBNkUsUUFBQUEsRUFDQXZDLE1BQUErd0ksRUFVQSxPQVJBcnNJLEdBQUF0QyxNQUFBYSxLQUFBdkYsR0FFQSs0RixFQUFBM2hELFNBQUEsV0FDQTR6RixFQUFBN3hFLFFBQUFuNUQsRUFBQXNDLFNBR0FneEksSUFFQSxXQUNBdHNJLEVBQUF0QyxNQUFBekUsUUFBQSxTQUFBRCxFQUFBZCxHQUNBYyxFQUFBNkUsUUFBQSxLQUFBQSxFQUFBLEtBQ0FtQyxFQUFBdEMsTUFBQVEsT0FBQWhHLEVBQUEsR0FDQWMsRUFBQXNDLE1BQUFnckIsWUFHQWdtSCxLQUlBLFFBQUFDLEtBSUF2c0ksRUFBQXRDLE1BQUF6RSxRQUFBdXpJLEdBQ0F4c0ksRUFBQXRDLE1BQUFzQyxFQUFBdEMsTUFBQTlELEtBQUEsU0FBQW9SLEVBQUE4VyxHQUNBLE1BQUE5VyxHQUFBcVcsSUFBQVMsRUFBQVQsSUFBQSxHQUFBLEdBT0EsS0FBQSxHQUZBcm9CLEdBQ0F5ekksRUFBQXpJLEVBQUExbUksS0FBQSxhQUNBN0YsRUFBQXVJLEVBQUF0QyxNQUFBckYsT0FBQSxFQUFBWixHQUFBLEVBQUFBLElBQ0EsR0FBQWcxSSxFQUFBenNJLEVBQUF0QyxNQUFBakcsR0FBQTRwQixJQUFBLENBQ0Fyb0IsRUFBQWdILEVBQUF0QyxNQUFBakcsRUFDQSxPQUdBaTFJLEVBQUExekksR0FTQSxRQUFBd3pJLEdBQUF4ekksR0FHQSxHQUFBdzdDLEdBQUF4N0MsRUFBQTZFLFFBQUEsRUFHQSxLQUZBN0UsRUFBQXFvQixJQUFBLEVBQ0Fyb0IsRUFBQTR5QyxLQUFBLEVBQ0E0SSxHQUFBQSxJQUFBd3ZGLEVBQUEsSUFDQWhySSxFQUFBcW9CLEtBQUFtekIsRUFBQXl5RixVQUNBanVJLEVBQUE0eUMsTUFBQTRJLEVBQUF3eUYsV0FDQXh5RixFQUFBQSxFQUFBMjlDLFlBRUFuNUYsR0FBQXc1RixPQUFBeDVGLEVBQUE2RSxRQUFBUCxLQUFBLGdCQUNBdEUsRUFBQXNDLE1BQUE0MUQsSUFBQSxjQUFBbDRELEVBQUE0eUMsS0FBQSxNQUNBbW1ELEVBQUE2QyxzQkFDQTU3RixFQUFBc0MsTUFBQTQxRCxJQUFBLGVBQUEsS0FLQSxRQUFBMmtFLEtBQ0EsR0FBQWw0QyxHQUFBcW1ELEVBQUExbUksS0FBQSxhQUNBcXZJLEVBQUFodkQsR0FBQWs0QyxFQUFBK1csZUFBQSxFQVFBLElBTEEvVyxFQUFBK1csY0FBQWp2RCxFQUtBLElBQUFBLEVBR0EsV0FEQSt1RCxHQUFBLEtBT0EsSUFBQUMsRUFBQSxDQUdBLEdBQUEzc0ksRUFBQTYyQyxNQUFBNzJDLEVBQUE2MkMsS0FBQXgxQixLQUFBczhELEVBRUEsV0FEQSt1RCxHQUFBMXNJLEVBQUE2MkMsS0FLQSxJQUFBNzJDLEVBQUF3MEMsU0FBQXgwQyxFQUFBNjJDLE1BQUE3MkMsRUFBQTYyQyxLQUFBeDFCLElBQUFzOEQsR0FBQTM5RSxFQUFBNjJDLEtBQUEyN0MsT0FFQSxXQURBcTZDLEdBQUE3c0ksRUFBQXcwQyxRQUFBbXBDLEdBQUEzOUUsRUFBQTYyQyxLQUFBeDFCLElBQUFyaEIsRUFBQTYyQyxLQUFBMjdDLE9BQUE3VSxJQVFBLElBQUFndkQsRUFBQSxDQUdBLEdBQUEzc0ksRUFBQXcwQyxTQUFBeDBDLEVBQUE4c0ksTUFBQW52RCxFQUFBMzlFLEVBQUF3MEMsUUFBQW56QixJQUVBLFdBREFxckgsR0FBQTFzSSxFQUFBOHNJLEtBS0EsSUFBQTlzSSxFQUFBNjJDLE1BQUE3MkMsRUFBQXcwQyxTQUFBbXBDLEdBQUEzOUUsRUFBQTYyQyxLQUFBeDFCLElBQUFyaEIsRUFBQXcwQyxRQUFBZytDLE9BRUEsV0FEQXE2QyxHQUFBN3NJLEVBQUF3MEMsUUFBQW1wQyxHQUFBMzlFLEVBQUE2MkMsS0FBQXgxQixJQUFBczhELEVBQUEzOUUsRUFBQXcwQyxRQUFBZytDLFNBUUF4eUYsRUFBQXcwQyxTQUNBcTRGLEVBQUE3c0ksRUFBQXcwQyxRQUFBbXBDLEdBSUEsUUFBQSt1RCxHQUFBMXpJLEdBQ0EsR0FBQWdILEVBQUF3MEMsVUFBQXg3QyxFQUFBLENBRUFnSCxFQUFBdzBDLFVBQ0FxNEYsRUFBQTdzSSxFQUFBdzBDLFFBQUEsTUFDQXU0RixFQUFBL3NJLEVBQUF3MEMsUUFBQSxPQUlBeDdDLEdBQ0ErekksRUFBQS96SSxFQUFBLFVBR0FnSCxFQUFBdzBDLFFBQUF4N0MsQ0FDQSxJQUFBZCxHQUFBOEgsRUFBQXRDLE1BQUFPLFFBQUFqRixFQUVBZ0gsR0FBQTYyQyxLQUFBNzJDLEVBQUF0QyxNQUFBeEYsRUFBQSxHQUNBOEgsRUFBQThzSSxLQUFBOXNJLEVBQUF0QyxNQUFBeEYsRUFBQSxHQUNBNjBJLEVBQUEvc0ksRUFBQTYyQyxLQUFBLFFBQ0FrMkYsRUFBQS9zSSxFQUFBOHNJLEtBQUEsU0FHQSxRQUFBQyxHQUFBL3pJLEVBQUFvcUIsR0FDQXBxQixHQUFBQSxFQUFBb3FCLFFBQUFBLElBQ0FwcUIsRUFBQW9xQixRQUNBcHFCLEVBQUFzQyxNQUFBaUMsS0FBQSxvQkFBQXZFLEVBQUFvcUIsT0FDQXBxQixFQUFBNkUsUUFBQU4sS0FBQSxvQkFBQXZFLEVBQUFvcUIsUUFFQXBxQixFQUFBc0MsTUFBQWlDLEtBQUEsZUFBQTZsQixHQUNBcHFCLEVBQUE2RSxRQUFBTixLQUFBLGVBQUE2bEIsR0FDQXBxQixFQUFBb3FCLE1BQUFBLEdBR0EsUUFBQXlwSCxHQUFBN3pJLEVBQUFtbUQsR0FDQW5tRCxJQUNBLE9BQUFtbUQsR0FBQUEsSUFBQWhvRCxFQUNBNkIsRUFBQWcwSSxhQUNBaDBJLEVBQUFnMEksV0FBQSxLQUNBaDBJLEVBQUFzQyxNQUFBNDFELElBQUFrL0IsRUFBQXYyQyxJQUFBZzBDLFVBQUEsTUFHQTcwRixFQUFBZzBJLFdBQUE3dEYsRUFDQW5tRCxFQUFBc0MsTUFBQTQxRCxJQUNBay9CLEVBQUF2MkMsSUFBQWcwQyxVQUNBLGVBQUE3MEYsRUFBQTR5QyxLQUFBLE1BQUF1VCxFQUFBLFdBM01BLEdBQUE2a0YsR0FBQW9JLEVBQUFwakgsU0FJQXNqSCxFQUFBOTNILEVBQUE0M0UsU0FBQW1nRCxFQUlBVSxHQUFBakosR0FDQUEsRUFBQTM5SCxHQUFBLGVBQUFpbUksR0FDQXRJLEVBQUEzOUgsR0FBQSxVQUFBd3ZILEVBRUEsSUFBQTcxSCxFQUNBLE9BQUFBLElBQ0E4c0ksS0FBQSxLQUNBdDRGLFFBQUEsS0FDQXFDLEtBQUEsS0FDQW41QyxTQUNBdTJELElBQUFBLEVBQ0FzNEUsZ0JBQUFBLEdBK0xBLFFBQUFXLEdBQUFDLEdBQ0EsR0FBQUMsR0FDQUMsRUFBQXRvSSxFQUFBbEgsUUFBQSxRQUNBeVQsR0FBQSxHQUFBb3ZCLEtBQUFwcUIsWUFBQSsySCxFQUFBLEdBR0EsS0FBQSxHQURBQyxJQUFBLFNBQUEsa0JBQ0E3MUksRUFBQSxFQUFBQSxFQUFBNjFJLEVBQUFqMUksU0FBQVosRUFFQSxHQURBNDFJLEVBQUFuOEUsS0FBQW53QyxTQUFBdXNILEVBQUE3MUksR0FBQTRwQixJQUFBLEVBQUFrc0gsVUFBQSxJQUNBRixFQUFBbjhFLElBQUEsYUFBQW84RSxFQUFBNzFJLEdBQUEsQ0FDQTIxSSxFQUFBRSxFQUFBNzFJLEVBQ0EsT0FJQSxNQURBNDFJLEdBQUEvbUgsU0FDQThtSCxFQVFBLFFBQUFILEdBQUFwdkksR0FjQSxRQUFBMnZJLE1BQ0F6N0MsRUFBQXhYLE1BQUFrekQsRUFBQUMsR0FDQUMsR0FBQSxFQUNBOXZJLEVBQUFvSixlQUFBLGdCQUVBcEosRUFBQW9KLGVBQUEsV0FDQXVOLEVBQUE0M0UsU0FBQW9oRCxJQW5CQSxHQUNBRyxHQUNBRixFQUZBQyxFQUFBLEdBR0E3dkksR0FBQXdJLEdBQUEsbUJBQUEsV0FDQXNuSSxJQUNBQSxHQUFBLEVBQ0FuNUgsRUFBQTQzRSxTQUFBb2hELEdBQ0EzdkksRUFBQW9KLGVBQUEsaUJBRUFwSixFQUFBb0osZUFBQSxXQUNBd21JLEdBQUExN0MsRUFBQXhYLFFBL1FBLEdBQUFxekQsR0FBQVYsR0FLQSxPQUFBLFVBQUF6b0ksRUFBQTVHLEVBQUF3dUksR0FDQSxHQUFBRCxHQUFBdnVJLEVBQUEySSxXQUFBLFlBQ0EsSUFBQTRsSSxFQUVBLEdBQUF3QixFQUNBL3ZJLEVBQUFxekQsS0FDQW53QyxTQUFBNnNILEVBQ0F2c0gsSUFBQSxFQUNBa3NILFVBQUEsUUFFQSxDQUNBLEdBQUFNLEdBQUF6QixFQUFBcGpILFNBQUFwa0IsS0FBQSxXQUNBaXBJLEtBQ0FBLEVBQUExQixFQUFBQyxHQUNBQSxFQUFBcGpILFNBQUFwa0IsS0FBQSxXQUFBaXBJLEdBR0EsSUFBQTVuQyxHQUFBNG5DLEVBQUE1NUUsSUFBQXAyRCxFQUFBd3VJLEdBQUF4dUksRUFBQXZDLFFBQ0FtSixHQUFBNnJCLElBQUEsV0FBQTIxRSxLQS9DQWxoRyxFQUNBMU4sT0FBQSw4QkFDQSxnQkFDQSxnQ0FFQWdSLFFBQUEsWUFBQTZqSSxHQWlUQUEsRUFBQTd1SCxTQUFBLFlBQUEsY0FBQSxRQUFBLGNBR0EsV0E4Q0EsUUFBQXl3SCxHQUFBQyxFQUFBenNFLEVBQUFtL0IsRUFBQTFPLEdBQ0EsT0FDQXZwRSxTQUFBLElBQ0F4d0IsU0FBQSxFQUNBdXpCLFlBQUEsRUFDQXh6QixTQUFBLDJIQU9BMHRCLEtBQUEsU0FBQWhoQixFQUFBNUcsRUFBQU4sRUFBQTZ1QixFQUFBYixHQUlBLFFBQUF5aUgsR0FBQTMrRSxHQUNBLE1BQUF0cUQsR0FBQWxILFFBQUF3eEQsRUFBQSxHQUFBenJELGNBQUEsMEJBSkE2OEYsRUFBQTVpRyxFQUNBLElBQUFzNUYsR0FBQXQ1RixFQUFBLEdBQUFzNUYsU0FRQTVyRSxHQUFBOW1CLEVBQUEsU0FBQW5KLEdBQ0EweUksRUFBQW53SSxHQUFBa0UsT0FBQXpHLEtBS0F1QyxFQUFBeWUsU0FBQSxpQkFDQWlQLEVBQUE5bUIsRUFBQSxTQUFBbkosR0FLQSxHQUFBMnlJLEdBQUEscUNBQUE5MkMsRUFBQSxTQUNBazFDLEVBQUEvcUUsRUFBQTJzRSxHQUFBeHBJLEVBR0FzcEksR0FBQXRwSSxFQUFBNUcsRUFBQXd1SSxHQUlBdDZDLEVBQUEzaEQsU0FBQSxXQUNBNDlGLEVBQUEzQixHQUFBdHFJLE9BQUF6RyxTQXBFQXlKLEVBQ0ExTixPQUFBLGlDQUNBLGdCQUNBLCtCQUVBMFMsVUFBQSxjQUFBK2pJLEdBc0VBQSxFQUFBendILFNBQUEsWUFBQSxXQUFBLGFBQUEsY0FHQSxXQStFQSxRQUFBNndILEdBQUF6cUksR0FRQSxRQUFBMHFJLEdBQUFuN0gsR0FFQSxRQUFBeWxHLEdBQUFoMEcsRUFBQTVHLEVBQUFOLEdBQ0EsR0FBQTBDLEdBQUErUyxFQUFBelYsRUFBQXFwQixHQUNBL29CLEdBQUF3SSxHQUFBa3hDLEVBQUEsU0FBQTJRLEdBQ0F6akQsRUFBQUUsT0FBQSxXQUFBMUUsRUFBQXdFLEdBQUFxdkMsT0FBQW9VLFFBSkEsT0FBQTEvQixTQUFBLElBQUEvQyxLQUFBZ3pGLEdBUkEsR0FBQTd4RixHQUFBLEtBQUFuakIsRUFDQTh6QyxFQUFBLE9BQUE5ekMsRUFBQXFDLGFBR0EsT0FEQXFvSSxHQUFBOXdILFNBQUEsVUFDQTh3SCxFQVhBcHBJLEVBQUExTixPQUFBLDZCQUFBLGtCQUNBMFMsVUFBQSxjQUFBbWtJLEVBQUEsY0FDQW5rSSxVQUFBLGVBQUFta0ksRUFBQSxlQUNBbmtJLFVBQUEsWUFBQW1rSSxFQUFBLFlBQ0Fua0ksVUFBQSxjQUFBbWtJLEVBQUEsaUJBd0JBLFdBcURBLFFBQUFFLEdBQUFDLEVBQUF0OEMsRUFBQTNCLEVBQUFwOUUsRUFBQXdCLEVBQUFvb0YsR0FtQkEsUUFBQTB4QyxHQUFBendJLEVBQUFOLEdBQ0EsR0FBQWd4SSxHQUFBQyxFQUFBOXBJLFFBQUE3RyxFQUFBTixFQUlBLE9BRkFNLEdBQUEyZSxTQUFBLGVBRUEsU0FBQS9YLEVBQUE1RyxFQUFBTixFQUFBc1IsR0FrQ0EsUUFBQXNwRyxHQUFBandELEdBRUF1bUYsR0FBQUEsRUFBQWhxSSxLQUNBeWpELEVBQUF4c0Msa0JBRUE3ZCxFQUFBMmUsU0FBQSxlQUNBa3lILEdBQUFuOEMsTUFBQTA0QyxFQUFBM3RJLEtBQUEsZ0JBQ0FPLEVBQUE0ZSxZQUFBLGVBR0EsUUFBQTI3RixHQUFBbHdELEdBQ0EsR0FBQXdtRixFQUFBLENBQ0F4bUYsRUFBQXhzQyxrQkFDQXdzQyxFQUFBeXpDLFVBQUF6ekMsRUFBQXl6QyxTQUFBanpELGdCQUVBLElBQUFpaUcsR0FBQXppRixFQUFBMndDLFFBQUFnQyxVQUFBNnpDLEVBQUFuOEMsTUFHQXM2QyxFQUFBaCtILEVBQUF1NUMsV0FBQSxFQUFBdWlGLEVBQUFBLENBRUFrQyxHQUFBdjZHLEtBQUFDLElBQUEsRUFBQUQsS0FBQW91QixJQUFBLEVBQUFtc0YsSUFFQTVCLEVBQUEvNUUsSUFBQWsvQixFQUFBdjJDLElBQUFnMEMsVUFBQSxlQUFBLElBQUFnL0MsRUFBQSxVQUNBNkIsRUFBQTdCLFVBQUFBLEdBR0EsUUFBQXYwQixHQUFBcHdELEdBQ0EsR0FBQXdtRixFQUFBLENBQ0F4bUYsRUFBQXhzQyxrQkFFQTdkLEVBQUE0ZSxZQUFBLGVBQ0F3dUgsRUFBQS81RSxJQUFBay9CLEVBQUF2MkMsSUFBQWcwQyxVQUFBLEdBSUEsSUFBQThnRCxHQUFBOS9ILEVBQUF1NUMsV0FBQXNtRixFQUFBN0IsVUFBQSxHQUFBNkIsRUFBQTdCLFVBQUEsRUFDQThCLElBQ0FDLEdBQUEvL0gsRUFBQXU1QyxZQUVBc21GLEVBQUEsTUFHQSxRQUFBRSxHQUFBejVHLEdBQ0Exd0IsRUFBQUUsT0FBQSxXQUNBa0ssRUFBQXk1QyxjQUFBbnpCLEdBQ0F0bUIsRUFBQTY1QyxZQTlFQTc1QyxFQUFBQSxHQUFBa2pGLEVBQUEwRCxhQUVBLElBQUFnNUMsR0FBQSxJQUNBLE9BQUFseEksRUFBQStvRSxTQUNBbW9FLEVBQUEsV0FBQSxPQUFBLEdBQ0FseEksRUFBQTg3RyxhQUNBbzFCLEVBQUF6N0gsRUFBQXpWLEVBQUE4N0csWUFHQSxJQUFBNHhCLEdBQUFsbUksRUFBQWxILFFBQUFBLEVBQUEsR0FBQStGLGNBQUEsd0JBQ0FpckksRUFBQTlwSSxFQUFBbEgsUUFBQUEsRUFBQSxHQUFBK0YsY0FBQSxpQkFHQTRRLEdBQUEsV0FDQTNXLEVBQUE0ZSxZQUFBLGlCQUdBOHhILEVBQUE5cEksRUFBQTVHLEVBQUFOLEVBQUFzUixHQUVBNC9ILEdBQ0FocUksRUFBQTlILE9BQUE4eEksRUFBQSxTQUFBbjFCLEdBQ0F6N0csRUFBQU4sS0FBQSxXQUFBKzdHLEVBQUEsR0FBQSxLQUtBMWMsRUFBQXRqRSxTQUFBdTFHLEVBQUEsUUFDQUEsRUFDQXhvSSxHQUFBLGdCQUFBOHhHLEdBQ0E5eEcsR0FBQSxXQUFBK3hHLEdBQ0EveEcsR0FBQSxjQUFBaXlHLEVBRUEsSUFBQW8yQixJQXhEQSxHQUFBRixHQUFBSCxFQUFBLEVBRUEsUUFDQTdsSCxTQUFBLElBQ0FGLFNBQUEsSUFDQWlELFlBQUEsRUFDQXh6QixTQUNBLDhNQU9Bd3dCLFFBQUEsV0FDQTdqQixRQUFBNHBJLEdBNURBdnBJLEVBQUExTixPQUFBLDhCQUNBLGdCQUNBLGlDQUVBMFMsVUFBQSxXQUFBcWtJLEdBd0pBQSxFQUFBL3dILFNBQUEsc0JBQUEsVUFBQSxjQUFBLFNBQUEsUUFBQSxpQkFHQSxXQTBCQXRZLEVBQUExTixPQUFBLDRCQUNBLGdCQUNBLGdDQUlBLFdBaUJBLFFBQUF5M0ksR0FBQUMsR0FDQSxPQUNBdm1ILFNBQUEsSUFDQS9DLEtBQUEsU0FBQWhoQixFQUFBNUcsRUFBQU4sR0FHQWtILEVBQUE2ckIsSUFBQSxXQUFBLFdBQ0F5K0csRUFBQXZvSCxjQTJNQSxRQUFBd29ILEdBQUF6M0IsR0E2Q0EsUUFBQTAzQixHQUFBQyxHQUNBQyxFQUFBRCxFQU9BLFFBQUFFLEdBQUE1K0gsRUFBQXUrSCxFQUFBaDlDLEVBQUExQixHQStCQSxRQUFBK1IsR0FBQTM5RixFQUFBNUcsRUFBQXVrQixHQUNBK3NILEVBQUEvc0gsRUFBQW5MLGFBQUFtTCxFQUFBbVIsT0FFQSxJQUFBODdHLElBQUFoL0MsRUFBQSxRQXVDQSxPQXJDQXh5RixHQUFBazBGLEVBQUE0RSxxQkFBQTk0RixFQUFBLFlBQUEsR0FDQXVrQixFQUFBa3RILFFBQUEsU0FBQXBuRixFQUFBcW5GLEdBRUEsR0FBQUMsR0FBQXRuRixFQUFBandDLEtBQUFqZ0IsUUFBQSxPQUFBLElBQ0EydkYsRUFBQTZuRCxFQUFBeDNJLFFBQUEsUUFBQSxHQUlBLFVBQUEydkYsR0FBQSxJQUFBdmxFLEVBQUFyQixTQUFBOWlCLFFBQUEsU0FBQW94SSxHQUNBLE9BQUExbkQsSUFBQSxJQUFBdmxFLEVBQUFyQixTQUFBOWlCLFFBQUEsV0FBQW94SSxLQUlBLFNBQUExbkQsR0FBQSxVQUFBQSxJQUFBMG5ELEtBSUF4eEksRUFBQTJlLFNBQUEsTUFBQWd6SCxHQUNBejlDLEVBQUEzaEQsU0FBQTIrRixFQUFBL3BILFVBRUE1QyxFQUFBcXRILFVBQUFDLEVBQUF0dEgsRUFBQXJCLFVBSUFxQixFQUFBdm1CLE9BQUEyZ0IsU0FBQTRGLEVBQUFxdEgsV0FHQTE5QyxFQUFBSCxpQkFBQXh2RSxFQUFBdm1CLE9BQUEsV0FBQSxXQUNBdW1CLEVBQUF2bUIsT0FBQXExRCxJQUFBLFdBQUEsWUFHQXJ6RCxFQUFBd0ksR0FBQXNwSSxFQUFBdnRILEVBQUFrdEgsU0FDQXp4SSxFQUFBMmUsU0FBQTZ5SCxFQUFBLFlBQUFqdEgsRUFBQXJCLFNBQUFwakIsTUFBQSxLQUFBaW5ELElBQUEsU0FBQS8rQyxHQUNBLE1BQUEsTUFBQUEsSUFDQWhELEtBQUEsTUFFQXVmLEVBQUF2bUIsUUFBQXVtQixFQUFBdm1CLE9BQUEyZ0IsU0FBQSxzQkFDQWhNLEVBQUF5a0QsTUFBQXAzRCxFQUFBdWtCLEVBQUF2bUIsUUFBQW9CLEtBQUEsV0FDQW1sQixFQUFBdm1CLFFBQUF1bUIsRUFBQXZtQixPQUFBNGdCLFlBQUEsd0JBSUEsUUFBQTRsRixHQUFBNTlGLEVBQUE1RyxFQUFBdWtCLEdBS0EsTUFKQXZrQixHQUFBNm1CLElBQUFpckgsRUFBQXZ0SCxFQUFBa3RILFNBQ0FsdEgsRUFBQXZtQixRQUFBdW1CLEVBQUF2bUIsT0FBQTJnQixTQUFBLHNCQUNBNEYsRUFBQXF0SCxXQUFBcnRILEVBQUF2bUIsT0FBQTRnQixZQUFBMkYsRUFBQXF0SCxZQUVBLEdBQUFydEgsRUFBQXBiLFNBQUFuSixFQUFBeW9CLFNBQUE5VixFQUFBMmtELE1BQUF0M0QsSUFDQVosS0FBQSxXQUNBbWxCLEVBQUF2bUIsUUFBQXVtQixFQUFBdm1CLE9BQUE0Z0IsWUFBQSxzQkFDQXMxRSxFQUFBSCxpQkFBQXh2RSxFQUFBdm1CLE9BQUEsV0FBQSxXQUNBdW1CLEVBQUF2bUIsT0FBQXExRCxJQUFBLFdBQUEsTUFLQSxRQUFBdytFLEdBQUEzdUgsR0FDQSxNQUFBc3ZFLEdBQUEsU0FJQSxrQkFDQXR2RSxFQUFBOWlCLFFBQUEsT0FBQSxHQUFBLE1BQUEsVUFKQSx1QkE3RkEsR0FBQTB4SSxHQUFBLHdEQUNBLFFBQ0F2dEMsT0FBQUEsRUFDQUMsU0FBQUEsRUFDQXRoRixTQUFBLGNBQ0EyaEYsVUFBQSxFQUNBRyxVQUFBLElBQ0F1bkIsVUFBQSxFQUNBOXhCLGtCQUFBLFNBQUF2Z0csRUFBQXFxQixHQUNBLEdBQUF3dEgsR0FBQXh0SCxFQUFBZ29HLFVBQUFyeUgsSUFBQSxvQkFBQXFGLEtBQUFyRixFQUVBLElBQUE2M0ksRUFBQSxDQUlBLEdBQUFDLEdBQUE5cUksRUFBQWxILFFBQUE5RixHQUNBKzNJLEVBQUEsaUNBQUFELEVBQUE3dEksT0FBQSxRQUtBLE9BSEE2dEksR0FBQWp1SSxRQUFBRyxPQUFBK3RJLEdBR0FELEVBQUEsR0FBQTE0QyxVQUdBLE1BQUF5NEMsR0FDQSxpQ0FBQTczSSxFQUFBLFNBQ0FBLEdBQUEsS0E5RUEsR0FFQW8zSSxHQUZBWSxFQUFBLEtBR0FoQixFQUFBeDNCLEVBQUEsWUFDQTVZLGFBQ0FHLFNBQUEsV0FBQSxZQUFBLFVBQUEsVUFDQTE4RSxRQUFBZ3RILElBRUFsd0MsVUFBQSxVQUNBRSxVQUFBLGNBQ0FOLFNBQUEsY0FBQSxVQUFBLFNBQUEsa0JBQUEsUUFBQSxVQUNBMThFLFNBQUEsV0FBQSxhQUFBLFNBQUEyc0gsRUFBQXR1QyxHQUNBLEdBQUFsQixJQUNBeG5HLFNBQ0EsNlpBVUF5TyxZQUFBLFNBQUEsU0FBQThvQixHQUNBLEdBQUF0dkIsR0FBQWtLLElBQ0FvbEIsR0FBQTN5QixPQUFBLFdBQUEsTUFBQXd5SSxJQUFBLFdBQ0FudkksRUFBQXV6QixRQUFBNDdHLElBRUFqbEksS0FBQW0xQixRQUFBLFdBQ0EwdkcsRUFBQTl1QyxLQUFBOHZDLE1BR0Foa0QsTUFBQTBVLEVBQUErTyxlQUNBL25GLGFBQUEsUUFDQUQsa0JBQUEsRUFFQSxPQUFBKzNFLE9BR0FQLFVBQUEsb0JBQUFpd0MsR0FDQWp3QyxVQUFBLGdCQUFBaXdDLEVBT0EsT0FEQUcsR0FBQS94SCxTQUFBLFdBQUEsV0FBQSxVQUFBLFlBQ0EweEgsRUE1UUFocUksRUFBQTFOLE9BQUEsNkJBQ0EsZ0JBQ0EsK0JBRUEwUyxVQUFBLFVBQUEra0ksR0FDQW5tSSxTQUFBLFdBQUFxbUksR0FlQUYsRUFBQXp4SCxTQUFBLFlBa1dBMnhILEVBQUEzeEgsU0FBQSwrQkFHQSxXQWlFQSxRQUFBMnlILEdBQUF4N0gsRUFBQTQ3RSxFQUFBMkIsRUFBQTBPLEVBQUFqd0YsR0FDQSxHQUFBdzhILEdBQUFqb0ksRUFBQWhGLEtBQUEsS0FBQWd5RixFQUFBeUQsU0FBQSx5QkFFQSxRQUNBejlGLFNBQUEsR0FFQXl3QixTQUFBLElBRUEvQyxLQUFBLFNBQUFoaEIsRUFBQTVHLEVBQUFOLEdBUUEsUUFBQTB5SSxLQXlDQSxRQUFBQyxHQUFBQyxHQUNBLEdBQUFDLEdBQUF2eUksRUFBQWhDLFNBQUEyQixLQUFBLGVBS0E2eUksR0FBQUQsRUFBQS8zSSxRQUNBaTRJLEVBQUEsS0FBQUYsR0FJQUQsRUFBQTFySSxFQUFBMHlDLE1BQUFnNUYsR0FHQUEsS0FBQSxFQUNBSSxJQUVBQSxFQUFBQyxJQU9BLFFBQUFGLEdBQUF4OEYsRUFBQTI4RixHQUVBQSxHQUFBNXlJLEVBQUFoQyxTQUFBLEtBQUE0MEksRUFBQTUwSSxTQUFBLEtBRUF3MEksR0FDQUEsRUFBQTNySCxJQUFBLFNBQUFnc0gsR0FHQUwsRUFBQUksRUFDQUYsRUFBQUMsS0FPQSxRQUFBRyxHQUFBOXVJLEdBQ0EsR0FBQTg3RSxHQUFBOTdFLEVBQUFBLEVBQUFvYSxPQUFBMGhFLFVBQUFpdkQsQ0FFQWdFLEtBRUFueUUsRUFBQW5zQyxLQUFBb3VCLElBQ0Ftd0YsRUFBQUMsRUFDQXgrRyxLQUFBQyxJQUFBLEVBQUFrc0MsRUFBQWtmLEVBQUFpdkQsSUFHQS91SSxFQUFBcXpELElBQUFrL0IsRUFBQXYyQyxJQUFBZzBDLFVBQUFtL0MsSUFBQXZ1RSxFQUFBcXlFLEtBQ0FULEVBQUFuL0UsSUFBQWsvQixFQUFBdjJDLElBQUFnMEMsVUFBQW0vQyxJQUFBNkQsRUFBQXB5RSxHQUFBcXlFLEtBRUFsRSxFQUFBanZELEVBRUFvVSxFQUFBM2hELFNBQUEsV0FDQSxHQUFBMmdHLEdBQUFsekksRUFBQXllLFNBQUEsbUJBRUF5MEgsS0FBQXR5RSxFQUNBanVELEVBQUFpTSxZQUFBNWUsRUFBQSxxQkFDQWt6SSxHQUFBdHlFLEdBQ0FqdUQsRUFBQWdNLFNBQUEzZSxFQUFBLHNCQVNBLFFBQUEyeUksS0FDQSxNQUFBSCxJQUVBQSxFQUFBaHFJLEdBQUEsU0FBQXFxSSxHQUNBTCxFQUFBOXlJLEtBQUEsZ0JBQUEsUUFFQWlYLEVBQUF3OEgsR0FFQSxXQUNBWCxFQUFBM3JILElBQUEsU0FBQWdzSCxHQUNBTCxFQUFBOXlJLEtBQUEsZ0JBQUEsU0FFQWlYLEVBQUF3OEgsS0FYQWpzSSxFQUFBL0ksS0FrQkEsUUFBQWcxSSxLQUNBSCxFQUFBaHpJLEVBQUFQLEtBQUEsZUFPQSxJQUFBMnpJLElBQUFKLEVBQUFDLEVBQUEsSUFFQVQsR0FBQW4vRSxLQUNBd21FLGFBQUF1WixFQUNBQyxnQkFBQUQsSUFHQU4sSUEvSUEsR0FBQUUsR0FDQVIsRUFDQUUsRUFBQXhySSxFQUFBL0ksS0FJQXlpRSxFQUFBLEVBQ0FtdUUsRUFBQSxFQUNBa0UsRUFBQXZ6SSxFQUFBNHpJLHFCQUFBLEdBRUFULEVBQUFsOEgsRUFBQTQzRSxTQUFBdWtELEdBQ0FDLEVBQUE3K0MsRUFBQXpzQixTQUFBMHJFLEVBQUEsSUFNQXZzSSxHQUFBNnJCLElBQUEsbUJBQUFnZ0gsR0FNQS95SSxFQUFBaTVCLFNBQUEsaUJBQUEwNUcsR0FLQTN5SSxFQUFBd1EsUUFBQXRKLEVBQUE5SCxPQUFBWSxFQUFBd1EsT0FBQWlqSSxHQUNBenpJLEVBQUEwUCxRQUFBeEksRUFBQTlILE9BQUFZLEVBQUEwUCxPQUFBK2pJLEdBS0F2c0ksRUFBQTZyQixJQUFBLFdBQUFpZ0gsR0ExQ0E5dkMsRUFBQTVpRyxHQUVBa0gsRUFBQXhJLFVBQUFnQixFQUFBNnpJLGlCQUNBbkIsTUF2RUFsckksRUFBQTFOLE9BQUEsK0JBQ0EsZ0JBQ0EsZ0NBRUEwUyxVQUFBLFlBQUFpbUksR0FnT0FBLEVBQUEzeUgsU0FBQSxRQUFBLGNBQUEsVUFBQSxhQUFBLGVBR0EsV0FxQ0EsUUFBQWcwSCxHQUFBajlILEVBQUFFLEVBQUFFLEVBQUFsRCxFQUFBeWdGLEVBQUEwTyxFQUFBOTFFLEVBQ0FuYSxFQUFBNEMsR0FtQkEsUUFBQXFsRyxHQUFBaDBHLEVBQUE1RyxFQUFBTixHQXlCQSxRQUFBb2hHLEtBQ0E1NUYsRUFBQXhJLFVBQUFnQixFQUFBK3pJLFdBQUE3c0ksRUFBQXFnQixNQUFBeXNILEdBR0EsUUFBQUMsS0FDQSxHQUFBbDlCLEdBQUEsWUFDQSxRQUFBN3ZHLEVBQUFrakYsV0FDQSxJQUFBLE9BQUEyc0IsRUFBQSxjQUFBLE1BQ0EsS0FBQSxRQUFBQSxFQUFBLGFBQUEsTUFDQSxLQUFBLE1BQUFBLEVBQUEsZUFBQSxNQUNBLEtBQUEsU0FBQUEsRUFBQSxhQUVBL2dGLEVBQUEyOUIsSUFBQSxtQkFBQW9qRCxHQUdBLFFBQUFtOUIsS0FDQWh0SSxFQUFBNnJCLElBQUEsV0FBQSxXQUNBN3JCLEVBQUFpdEksU0FBQSxFQUNBN3pJLEVBQUF5b0IsU0FDQXZoQixFQUFBbEgsUUFBQXlXLEdBQUFvUSxJQUFBLFNBQUF5L0csS0FHQTEvSCxFQUFBOUgsT0FBQSxVQUFBLFNBQUFnMUksR0FDQUEsRUFBQUMsSUFDQUMsTUFHQXB0SSxFQUFBOUgsT0FBQSxZQUFBbTFJLEdBR0EsUUFBQUMsS0FDQWwySSxFQUFBMEIsS0FBQSxlQUFBMUIsRUFBQXM0QixPQUFBN2MsUUFDQXpiLEVBQUEwQixLQUFBLGFBQUFNLEVBQUFzMkIsT0FBQTdjLFFBSUEsUUFBQTA2SCxLQUNBbjBJLEVBQUF3MEQsU0FDQXgwRCxFQUFBTixLQUFBLE9BQUEsV0FHQSxRQUFBc3FHLEtBNEJBLFFBQUFvcUMsS0FDQUMsR0FBQSxHQTVCQSxHQUFBMzRCLElBQUEsRUFFQTQ0QixFQUFBcHRJLEVBQUFsSCxRQUFBeVcsRUFJQSxJQUFBelksRUFBQSxJQUFBLG9CQUFBeVksR0FBQSxDQUVBLEdBQUE4OUgsR0FBQSxHQUFBQyxrQkFBQSxTQUFBQyxHQUNBQSxFQUNBcjVJLFFBQUEsU0FBQXM1SSxHQUNBLGFBQUFBLEVBQUEzbkUsZUFBQS91RSxFQUFBLEdBQUF5cUUsV0FDQTRyRSxHQUFBLEdBQ0F6dEksRUFBQXFrQyxjQUtBc3BHLEdBQUFJLFFBQUEzMkksRUFBQSxJQUFBa3hCLFlBQUEsSUFJQSxHQUFBMGxILEdBQUEsV0FDQUMsRUFBQXg3SSxTQUFBbXhJLGdCQUFBeHNJLEVBQUEsSUFFQTYySSxHQUFBLENBTUFQLEdBQUE5ckksR0FBQSxPQUFBb3NJLEdBQ0FOLEVBQUE5ckksR0FBQSxTQUFBODlILEdBQ0FqdEksU0FBQTA0RCxpQkFBQSxTQUFBcWlGLEdBQUEsR0FDQXh0SSxFQUFBNnJCLElBQUEsV0FBQSxXQUNBNmhILEVBQUF6dEgsSUFBQSxPQUFBK3RILEdBQ0FOLEVBQUF6dEgsSUFBQSxTQUFBeS9HLEdBQ0FqdEksU0FBQTI0RCxvQkFBQSxTQUFBb2lGLEdBQUEsR0FDQUcsR0FBQUEsRUFBQU8sY0FHQSxJQUFBQyxHQUFBLFNBQUEvd0ksR0FFQSxNQUFBLFVBQUFBLEVBQUFvVyxNQUFBeTZILE9BQ0FBLEdBQUEsSUFHQTcySSxFQUFBd0ssR0FBQSx1Q0FBQXdzSSxPQUNBWCxJQUFBLEtBRUFXLEVBQUEsV0FDQSxHQUFBQyxHQUFBcnVJLEVBQUFuTCxlQUFBLFlBQUFtTCxFQUFBcXVJLFNBQUF2MUksRUFBQWpFLGVBQUEsZUFDQXc1SSxHQUFBdjVCLEdBQUFqb0csRUFBQSxHQUFBKzJILGdCQUFBeHNJLEVBQUEsTUFDQUEsRUFBQTZvQixJQUFBLHVDQUFBbXVILEdBQ0FoM0ksRUFBQW9MLGVBQUEsUUFDQWlySSxHQUFBLElBRUEzNEIsR0FBQSxFQUlBMTlHLEdBQUF3SyxHQUFBLFlBQUEsV0FBQWt6RyxHQUFBLElBQ0ExOUcsRUFBQXdLLEdBQUEsOEJBQUF1c0ksR0FLQSxRQUFBVixHQUFBbjRJLEdBQ0FtNEksRUFBQW40SSxRQUFBQSxFQUNBbTRJLEVBQUFhLFNBQ0FoNUksR0FDQW00SSxFQUFBYSxRQUFBLEVBQ0EzK0gsRUFBQSxXQUNBM1AsRUFBQWl0SSxRQUFBUSxFQUFBbjRJLE1BQ0FtNEksRUFBQWEsUUFBQSxHQUNBdHVJLEVBQUFxZ0IsUUFFQWl0RSxFQUFBM2hELFNBQUEsV0FBQTNyQyxFQUFBaXRJLFNBQUEsS0FLQSxRQUFBRSxLQU9BLE1BSkFvQixHQUFBanhJLE9BQUFsRSxHQUlBazBGLEVBQUFILGlCQUFBL3pGLEVBQUEsVUFBQSxTQUNBNEcsRUFBQWl0SSxTQUFBLE1BQ0E3ekksR0FBQXcwRCxXQUlBeS9FLFFBRUEvc0ksR0FBQTlMLFNBQUE0RSxFQUFBMDFCLEdBQUEsU0FBQTExQixHQUNBMlMsRUFBQWdNLFNBQUEzZSxFQUFBLGNBSUEsUUFBQWcwSSxLQUNBLEdBQUE5Z0csS0FDQWhzQyxHQUFBOUwsU0FBQTRFLEVBQUEwMUIsR0FBQSxTQUFBMC9ELEdBQ0FBLEVBQUFwM0YsVUFBQW8zRixFQUFBMzJFLFNBQUEsWUFDQXkwQixFQUFBeHlDLEtBQUFpUyxFQUFBaU0sWUFBQXcyRSxFQUFBLGNBSUE3L0UsRUFBQXNLLElBQUFxekIsR0FDQTl6QyxLQUFBLFdBQ0F3SCxFQUFBaXRJLFNBQUE3ekksRUFBQXcwRCxXQUlBLFFBQUF5L0UsS0FDQXJ0SSxFQUFBaXRJLFVBRUFGLElBQ0F5QixLQUdBLFFBQUFBLEtBbUJBLFFBQUFDLEdBQUFydEksR0FDQSxHQUFBMm5ILElBQUE1aEYsS0FBQS9sQyxFQUFBK2xDLEtBQUF2cUIsSUFBQXhiLEVBQUF3YixJQUtBLE9BSkFtc0csR0FBQTVoRixLQUFBdFosS0FBQW91QixJQUFBOHNFLEVBQUE1aEYsS0FBQW9uRyxFQUFBMTFJLEtBQUEsZUFBQTYxSSxFQUFBNWdELE1BQUE2Z0QsR0FDQTVsQixFQUFBNWhGLEtBQUF0WixLQUFBQyxJQUFBaTdGLEVBQUE1aEYsS0FBQXduRyxHQUNBNWxCLEVBQUFuc0csSUFBQWlSLEtBQUFvdUIsSUFBQThzRSxFQUFBbnNHLElBQUEyeEgsRUFBQTExSSxLQUFBLGdCQUFBNjFJLEVBQUEzZ0QsT0FBQTRnRCxHQUNBNWxCLEVBQUFuc0csSUFBQWlSLEtBQUFDLElBQUFpN0YsRUFBQW5zRyxJQUFBK3hILEdBQ0E1bEIsRUFHQSxRQUFBNmxCLEdBQUFDLEdBQ0EsTUFBQSxTQUFBQSxHQUNBMW5HLEtBQUFnNkYsRUFBQWg2RixLQUFBdW5HLEVBQUE1Z0QsTUFBQTZnRCxFQUNBL3hILElBQUF1a0gsRUFBQXZrSCxJQUFBdWtILEVBQUFwekMsT0FBQSxFQUFBMmdELEVBQUEzZ0QsT0FBQSxHQUNBLFVBQUE4Z0QsR0FDQTFuRyxLQUFBZzZGLEVBQUFoNkYsS0FBQWc2RixFQUFBcnpDLE1BQUE2Z0QsRUFDQS94SCxJQUFBdWtILEVBQUF2a0gsSUFBQXVrSCxFQUFBcHpDLE9BQUEsRUFBQTJnRCxFQUFBM2dELE9BQUEsR0FDQSxRQUFBOGdELEdBQ0ExbkcsS0FBQWc2RixFQUFBaDZGLEtBQUFnNkYsRUFBQXJ6QyxNQUFBLEVBQUE0Z0QsRUFBQTVnRCxNQUFBLEVBQ0FseEUsSUFBQXVrSCxFQUFBdmtILElBQUE4eEgsRUFBQTNnRCxPQUFBNGdELElBQ0F4bkcsS0FBQWc2RixFQUFBaDZGLEtBQUFnNkYsRUFBQXJ6QyxNQUFBLEVBQUE0Z0QsRUFBQTVnRCxNQUFBLEVBQ0FseEUsSUFBQXVrSCxFQUFBdmtILElBQUF1a0gsRUFBQXB6QyxPQUFBNGdELEdBdENBLEdBQUFELEdBQUFwaEQsRUFBQU8sV0FBQXowRixFQUFBbTFJLEdBQ0FwTixFQUFBN3pDLEVBQUFPLFdBQUF6MkYsRUFBQW0zSSxHQUNBeGxCLEVBQUE2bEIsRUFBQTV1SSxFQUFBa2pGLFdBQ0F3SyxFQUFBdDBGLEVBQUFQLEtBQUEsZUFJQW1ILEdBQUFrakYsVUFDQTZsQyxFQUFBMGxCLEVBQUExbEIsR0FDQXI3QixHQUFBcTdCLEVBQUFuc0csSUFBQTh3RSxFQUFBZ0MsYUFBQWcvQyxFQUFBM2dELE9BQUE0Z0QsSUFDQTVsQixFQUFBMGxCLEVBQUFHLEVBQUEsU0FHQXgxSSxFQUFBcXpELEtBQ0F0bEIsS0FBQTRoRixFQUFBNWhGLEtBQUEsS0FDQXZxQixJQUFBbXNHLEVBQUFuc0csSUFBQSxPQTVNQW8vRSxFQUFBNWlHLEVBRUEsSUFBQWhDLEdBQUFrMkYsRUFBQXlGLDJCQUFBMzVGLEdBQ0EwMUIsRUFBQXh1QixFQUFBbEgsUUFBQUEsRUFBQSxHQUFBaytDLHVCQUFBLGNBQUEsSUFDQWkzRixFQUFBanVJLEVBQUFsSCxRQUFBM0csU0FBQXdwQyxNQUNBeWpHLEVBQUEzdkgsRUFBQTQzRSxTQUFBLFdBQUEwbEQsS0FFQXRoSSxHQUFBNGpELEtBQUE1akQsRUFBQTRqRCxJQUFBdjJELEVBQUFoQyxHQUlBOGlHLElBQ0FxekMsSUFDQW5xQyxJQUlBMnBDLElBRUFDLElBQ0FNLElBdkNBLEdBQUFSLEdBQUEsRUFDQTZCLEVBQUEsQ0FFQSxRQUNBNXFILFNBQUEsSUFDQStDLFlBQUEsRUFDQWpELFNBQUEsSUFDQXZ3QixTQUFBLCtDQUNBME0sT0FDQXFnQixNQUFBLFlBQ0E0c0gsUUFBQSxjQUNBb0IsU0FBQSxlQUNBbnJELFVBQUEsaUJBRUFsaUUsS0FBQWd6RixHQS9DQTF6RyxFQUNBMU4sT0FBQSwrQkFBQSxrQkFDQTBTLFVBQUEsWUFBQXNuSSxHQTRSQUEsRUFBQWgwSCxTQUFBLFdBQUEsVUFBQSxRQUFBLFlBQUEsVUFBQSxhQUFBLGVBQUEsV0FBQSxTQUdBLFdBMkNBLFFBQUFrMkgsS0FDQSxPQUNBL3NJLFdBQUFndEksRUFDQXo3SSxTQUFBMDdJLEVBQ0EvdUksUUFBQSxTQUFBc2tCLEVBQUF1RyxHQUNBdkcsRUFDQXhNLFNBQUEsK0JBQ0FBLFNBQUErUyxFQUFBajJCLGVBQUEsc0JBQ0EsdUJBQ0Esd0JBTUEsUUFBQW02SSxHQUFBenFILEdBQ0EsTUFBQSwrSEFHQUEsRUFBQSxHQUFBcFMsVUFDQSxlQXFCQSxRQUFBNDhILEdBQ0FoL0gsRUFBQXU5RSxFQUFBLytFLEVBQUFFLEVBQUFvQixFQUFBZ2IsRUFBQXRHLEVBQUF1RyxHQUNBcmxCLEtBQUFnSixXQUFBQSxFQUNBaEosS0FBQW9sQixPQUFBQSxFQUNBcGxCLEtBQUE4ZSxTQUFBQSxFQUNBOWUsS0FBQXFsQixPQUFBQSxFQUdBcmxCLEtBQUE0YixLQUFBLEVBRUE1YixLQUFBd3BJLFdBQUEsRUFFQXhwSSxLQUFBK3BGLGFBQUEsRUFFQS9wRixLQUFBcXdGLFdBQUFyd0YsS0FBQXFsQixPQUFBajJCLGVBQUEsc0JBRUE0USxLQUFBeXBJLFNBQUEsS0FFQXpwSSxLQUFBMHBJLFdBQUExcEksS0FBQXFsQixPQUFBajJCLGVBQUEsZ0JBRUE0USxLQUFBMnBJLGNBQUFsNEksU0FBQXVPLEtBQUFxbEIsT0FBQXVrSCxnQkFBQSxLQUFBLEVBRUE1cEksS0FBQTZwSSxhQUFBLEtBRUE3cEksS0FBQThwSSxXQUFBcjRJLFNBQUF1TyxLQUFBcWxCLE9BQUEwa0gsYUFBQSxLQUFBLEVBRUEvcEksS0FBQWdxSSxlQUFBLEtBRUFocUksS0FBQXFsQixPQUFBNGtILFlBRUFqcUksS0FBQWtxSSxhQUFBcGhJLEVBQUE5SSxLQUFBcWxCLE9BQUE0a0gsWUFFQWpxSSxLQUFBbXFJLFNBQUFucUksS0FBQWtxSSxhQUFBbHFJLEtBQUFvbEIsUUFFQXZxQixFQUFBeEksVUFBQTJOLEtBQUFtcUksWUFDQW5xSSxLQUFBbXFJLFNBQUEsRUFDQW5xSSxLQUFBa3FJLGFBQUExOUcsT0FBQXhzQixLQUFBb2xCLE9BQUEsSUFHQXBsQixLQUFBb2xCLE9BQUEzeUIsT0FBQXVOLEtBQUFrcUksYUFBQXJ2SSxFQUFBaEYsS0FBQW1LLEtBQUEsU0FBQW9xSSxHQUNBQSxJQUFBcHFJLEtBQUFtcUksVUFDQW5xSSxLQUFBcXFJLGNBQUFELE9BSUFwcUksS0FBQW1xSSxTQUFBLEVBR0FucUksS0FBQXN5RyxTQUFBeHpGLEVBQUEsR0FBQSt5Qix1QkFBQSw4QkFBQSxHQUNBN3hDLEtBQUFzcUksTUFBQXRxSSxLQUFBc3lHLFNBQUF6Z0UsdUJBQUEsMkJBQUE7QUFDQTd4QyxLQUFBdXFJLFVBQUF2cUksS0FBQXN5RyxTQUFBemdFLHVCQUFBLCtCQUFBLEVBSUEsSUFBQTI0RixHQUFBM3ZJLEVBQUFoRixLQUFBbUssS0FBQUEsS0FBQXlxSSxXQUVBbmdJLEdBQUF6UCxFQUFBaEYsS0FBQW1LLEtBQUEsV0FDQXdxSSxHQUVBLElBQUFFLEdBQUE3aUQsRUFBQXpzQixTQUFBb3ZFLEVBQUEsR0FBQSxNQUFBLEdBQ0FHLEVBQUE5dkksRUFBQWxILFFBQUF5VyxFQUtBcEssTUFBQTRiLE1BQ0E4dUgsSUFHQUMsRUFBQXh1SSxHQUFBLFNBQUF1dUksR0FDQXRsSCxFQUFBZ0IsSUFBQSxXQUFBLFdBQ0F1a0gsRUFBQW53SCxJQUFBLFNBQUFrd0gsS0FHQXRsSCxFQUFBcW9CLE1BQUEscUJBQ0Fyb0IsRUFBQWdCLElBQUEsYUFBQW9rSCxNQXNRQSxRQUFBSSxHQUFBOWhJLEdBQ0EsT0FDQXhNLFdBQUF1dUksRUFDQXpzSCxTQUFBLElBQ0FDLFNBQUEsa0JBQUEsOEJBQ0FDLFNBQUEsSUFDQXVELFVBQUEsRUFDQVIsV0FBQSxVQUNBN21CLFFBQUEsU0FBQXNrQixFQUFBdUcsR0FDQSxHQUFBa0ssR0FBQWxLLEVBQUF5bEgsZ0JBQ0EvOEksRUFBQXdoQyxFQUFBeGhDLE1BQUEsd0NBQ0FnOUksRUFBQWg5SSxFQUFBLEdBQ0FpOUksRUFBQWxpSSxFQUFBL2EsRUFBQSxJQUNBazlJLEVBQUE1bEgsRUFBQTZsSCxhQUFBcGlJLEVBQUF1YyxFQUFBNmxILFlBRUEsT0FBQSxVQUFBOWxILEVBQUF0RyxFQUFBdUcsRUFBQTAzQixFQUFBejNCLEdBQ0F5M0IsRUFBQSxHQUFBb3VGLE1BQUFwdUYsRUFBQSxHQUFBejNCLEVBQUF5bEgsRUFBQUMsRUFBQUMsTUFTQSxRQUFBSixHQUFBemxILEVBQUF0RyxFQUFBdUcsRUFBQXZlLEVBQUFNLEVBQUE0QixFQUNBc0IsR0FDQXRLLEtBQUFvbEIsT0FBQUEsRUFDQXBsQixLQUFBOGUsU0FBQUEsRUFDQTllLEtBQUFxbEIsT0FBQUEsRUFDQXJsQixLQUFBOEcsU0FBQUEsRUFDQTlHLEtBQUFvSCxVQUFBQSxFQUNBcEgsS0FBQWdKLFdBQUFBLEVBQ0FoSixLQUFBc0ssTUFBQUEsRUFHQXRLLEtBQUEybEcsU0FBQXRnRixFQUFBajJCLGVBQUEsY0FFQTRRLEtBQUFvckksc0JBQUF0a0ksRUFBQTJULGlCQUVBemEsS0FBQXFySSxjQUFBLEVBRUFyckksS0FBQXNySSxZQUFBLEVBRUF0ckksS0FBQXVySSxjQUFBLEVBRUF2ckksS0FBQXBLLFdBQUEsRUFFQW9LLEtBQUFvNEIsU0FBQSxFQUlBcDRCLEtBQUF3ckksU0FBQXBtSCxFQUFBNm5CLE1BQUE1bkIsRUFBQW9tSCxhQUFBLEtBR0F6ckksS0FBQTBySSxlQUFBLEVBTUExckksS0FBQTJySSwwQkFBQSxFQUdBM3JJLEtBQUE0ckksWUFBQSxFQU1BNXJJLEtBQUE2ckksaUJBQUFoeEksRUFBQS9JLEtBTUFrTyxLQUFBOHJJLFVBRUE5ckksS0FBQStySSxnQkFxWEEsUUFBQUMsR0FBQUMsR0FDQSxJQUFBcHhJLEVBQUExTCxXQUFBODhJLEVBQUFDLGtCQUNBcnhJLEVBQUExTCxXQUFBODhJLEVBQUFFLFdBQ0EsS0FBQTkrSSxPQUFBLGtJQUlBMlMsTUFBQWlzSSxNQUFBQSxFQXgyQkFweEksRUFBQTFOLE9BQUEscUNBQ0EsZ0JBQ0EsaUNBRUEwUyxVQUFBLDJCQUFBd3BJLEdBQ0F4cEksVUFBQSxrQkFBQStxSSxFQTZEQSxJQUFBd0IsR0FBQSxRQVFBQyxFQUFBLENBaUZBL0MsR0FBQW4ySCxTQUFBLFFBQUEsVUFBQSxTQUFBLGFBQUEsVUFBQSxTQUFBLFdBQUEsVUFJQW0ySCxFQUFBdHpILFVBQUFvWixTQUFBLFNBQUFrOUcsR0FDQXRzSSxLQUFBeXBJLFNBQUE2QyxFQUVBenhJLEVBQUFsSCxRQUFBcU0sS0FBQXN5RyxVQUNBbjJHLEdBQUEsa0NBQUF0QixFQUFBaEYsS0FBQW1LLEtBQUFBLEtBQUF1c0ksaUJBS0FqRCxFQUFBdHpILFVBQUF3MkgsYUFBQSxXQUNBLE1BQUF4c0ksTUFBQXF3RixZQUtBaTVDLEVBQUF0ekgsVUFBQTJwRixRQUFBLFdBQ0EsTUFBQTMvRixNQUFBNGIsTUFTQTB0SCxFQUFBdHpILFVBQUF5MkgsU0FBQSxTQUFBN3dILEdBQ0EsR0FBQTh3SCxHQUFBMXNJLEtBQUEyc0ksbUJBRUEzc0ksTUFBQTRiLEtBQUFBLEVBQ0E1YixLQUFBOGUsU0FBQSxHQUFBcmQsTUFBQWlySSxHQUFBOXdILEVBQUEsTUFJQTB0SCxFQUFBdHpILFVBQUE0MkgsV0FBQSxXQUNBNXNJLEtBQUE4ZSxTQUFBLEdBQUFyZCxNQUFBekIsS0FBQTJzSSxxQkFBQTNzSSxLQUFBZ3FJLGVBQ0FocUksS0FBQWdxSSxlQUFBLE1BS0FWLEVBQUF0ekgsVUFBQXkwSCxXQUFBLFdBQ0F6cUksS0FBQTZwSSxlQUVBN3BJLEtBQUE0YixLQUFBNWIsS0FBQXdzSSxlQUNBeHNJLEtBQUE4ZSxTQUFBLEdBQUFrckUsWUFDQWhxRixLQUFBOGUsU0FBQSxHQUFBb3JFLGFBS0FscUYsS0FBQXVzSSxnQkFFQXZzSSxLQUFBeXBJLFVBQUF6cEksS0FBQXlwSSxTQUFBb0QscUJBS0F2RCxFQUFBdHpILFVBQUE4MkgsY0FBQSxXQUNBLE1BQUE5c0ksTUFBQXdwSSxZQUlBRixFQUFBdHpILFVBQUEyMkgsa0JBQUEsV0FDQSxNQUFBM3NJLE1BQUF3c0ksZUFBQSxRQUFBLFVBU0FsRCxFQUFBdHpILFVBQUErMkgsY0FBQSxTQUFBbnhILEdBQ0EsR0FBQTh3SCxHQUFBMXNJLEtBQUEyc0ksb0JBQ0FLLEVBQUFodEksS0FBQXdzSSxlQUFBLFNBQUEsT0FRQSxJQUxBeHNJLEtBQUFzcUksTUFBQTU5SCxVQUFBLEdBS0EwL0gsRUFBQXh3SCxFQUNBNWIsS0FBQXNxSSxNQUFBN29JLE1BQUFpckksR0FBQTl3SCxFQUFBLFNBQ0EsQ0FDQTViLEtBQUFzcUksTUFBQTdvSSxNQUFBaXJJLEdBQUEsT0FDQTFzSSxLQUFBc3FJLE1BQUE3b0ksTUFBQXVySSxHQUFBLE1BR0EsSUFBQUMsR0FBQTdrSCxLQUFBMkYsTUFBQW5TLEVBQUF3d0gsR0FHQWMsRUFBQWxnSixTQUFBcWYsY0FBQSxNQUNBNmdJLEdBQUF6ckksTUFBQWlySSxHQUFBTixFQUFBLEtBQ0FjLEVBQUF6ckksTUFBQXVySSxHQUFBLEtBRUEsS0FBQSxHQUFBei9JLEdBQUEsRUFBQTAvSSxFQUFBMS9JLEVBQUFBLElBQ0F5UyxLQUFBc3FJLE1BQUFsK0gsWUFBQThnSSxFQUFBaDhJLFdBQUEsR0FJQWc4SSxHQUFBenJJLE1BQUFpckksR0FBQTl3SCxFQUFBcXhILEVBQUFiLEVBQUEsS0FDQXBzSSxLQUFBc3FJLE1BQUFsK0gsWUFBQThnSSxLQVVBNUQsRUFBQXR6SCxVQUFBbTNILFlBQUEsU0FBQXZ4SCxHQUNBLEdBQUF3eEgsR0FBQWhsSCxLQUFBQyxJQUFBek0sRUFBQTViLEtBQUEycEksY0FBQTNwSSxLQUFBeXBJLFNBQUE0RCxjQUNBLElBQUFydEksS0FBQTBwSSxZQUFBMEQsSUFBQXB0SSxLQUFBNGIsS0FBQSxDQUNBLE9BQUE1YixLQUFBZ3FJLGlCQUNBaHFJLEtBQUFncUksZUFBQWhxSSxLQUFBOGUsU0FBQSxHQUFBcmQsTUFBQXpCLEtBQUEyc0kscUJBR0EsSUFBQVcsR0FBQXR0SSxLQUFBNnBJLGNBQUE3cEksS0FBQTRiLE1BQ0EweEgsR0FBQUEsRUFBQUYsR0FDQXB0SSxLQUFBNnBJLGVBQ0E3cEksS0FBQTZwSSxhQUFBN3BJLEtBQUE0YixNQUdBNWIsS0FBQXlzSSxTQUFBVyxJQUNBLE9BQUFwdEksS0FBQTZwSSxlQUNBN3BJLEtBQUE0c0ksYUFDQTVzSSxLQUFBNnBJLGFBQUEsS0FDQTdwSSxLQUFBeXFJLGNBR0F6cUksS0FBQXlwSSxTQUFBb0QscUJBVUF2RCxFQUFBdHpILFVBQUF1M0gsY0FBQSxTQUFBQyxHQUNBLEdBQUE1eEgsR0FBQTR4SCxFQUFBeHRJLEtBQUE4cEksVUFDQTlwSSxNQUFBd3BJLGFBQUE1dEgsSUFFQTViLEtBQUErc0ksY0FBQW54SCxHQUNBNWIsS0FBQW10SSxZQUFBdnhILEdBQ0E1YixLQUFBd3BJLFdBQUE1dEgsSUFLQTB0SCxFQUFBdHpILFVBQUF5M0gsZ0JBQUEsV0FDQSxNQUFBenRJLE1BQUErcEYsY0FPQXUvQyxFQUFBdHpILFVBQUFnQixTQUFBLFNBQUFILEdBQ0E3VyxLQUFBc3lHLFNBQUF0eUcsS0FBQXdzSSxlQUFBLGFBQUEsYUFBQTMxSCxFQUNBN1csS0FBQXVzSSxpQkFPQWpELEVBQUF0ekgsVUFBQXEwSCxjQUFBLFNBQUFyOEksR0FDQSxHQUFBdzlJLEdBQUF4ckksS0FBQXlwSSxTQUFBNEQsY0FDQXpCLEVBQUE1ckksS0FBQXlwSSxTQUFBbUMsV0FDQTU5SSxHQUFBNDlJLElBQ0E1OUksRUFBQTQ5SSxFQUFBLEdBRUE1ckksS0FBQWdYLFNBQUF3MEgsRUFBQXg5SSxJQUdBczdJLEVBQUF0ekgsVUFBQTAzSCxZQUFBLFdBQ0ExdEksS0FBQWdYLFNBQUEsSUFJQXN5SCxFQUFBdHpILFVBQUF1MkgsY0FBQSxXQUNBLEdBQUFwaEksR0FBQW5MLEtBQUF3c0ksZUFBQXhzSSxLQUFBc3lHLFNBQUE1K0IsV0FBQTF6RSxLQUFBc3lHLFNBQUE3K0IsU0FDQSxJQUFBdG9FLElBQUFuTCxLQUFBK3BGLGFBQUEsQ0FFQSxHQUFBeWhELEdBQUF4ckksS0FBQXlwSSxTQUFBNEQsYUFDQSxJQUFBN0IsRUFBQSxDQUVBLEdBQUFtQyxHQUFBdmxILEtBQUFDLElBQUEsRUFBQUQsS0FBQTJGLE1BQUE1aUIsRUFBQXFnSSxHQUFBYSxHQUVBN2dDLEVBQUF4ckcsS0FBQXdzSSxlQUFBLGNBQUEsYUFPQSxJQU5BaGhDLEdBQUFtaUMsRUFBQW5DLEVBQUEsTUFFQXhySSxLQUFBK3BGLGFBQUE1K0UsRUFDQW5MLEtBQUF1cUksVUFBQTlvSSxNQUFBNGhILGdCQUFBN1gsRUFDQXhyRyxLQUFBdXFJLFVBQUE5b0ksTUFBQStwRyxVQUFBQSxFQUVBeHJHLEtBQUFrcUksYUFBQSxDQUNBLEdBQUFDLEdBQUEvaEgsS0FBQTJGLE1BQUE1aUIsRUFBQXFnSSxFQUNBckIsS0FBQW5xSSxLQUFBbXFJLFVBQUFBLEVBQUFucUksS0FBQXlwSSxTQUFBbUMsY0FDQTVySSxLQUFBbXFJLFNBQUFBLEVBQ0FucUksS0FBQWtxSSxhQUFBMTlHLE9BQUF4c0IsS0FBQW9sQixPQUFBK2tILEdBQ0FucUksS0FBQWdKLFdBQUFpc0IsU0FBQWoxQixLQUFBb2xCLE9BQUF3WixXQUlBNStCLEtBQUF5cEksU0FBQW9ELHNCQW1FQWpDLEVBQUF6M0gsU0FBQSxVQTJEQTAzSCxFQUFBMTNILFNBQUEsU0FBQSxXQUFBLFNBQUEsV0FBQSxZQUFBLGFBQUEsU0FPQTAzSCxFQUFBK0MsTUFhQS9DLEVBQUE3MEgsVUFBQW0xSCxNQUNBLFNBQUE5d0QsRUFBQWg1RCxFQUFBMHBILEVBQUFDLEVBQUFDLEdBQ0FqckksS0FBQXE2RSxVQUFBQSxFQUNBcjZFLEtBQUFxaEIsV0FBQUEsRUFDQXJoQixLQUFBK3FJLFdBQUFBLEVBQ0EvcUksS0FBQTZ0SSx3QkFBQTdDLEVBQ0FockksS0FBQWlySSxVQUFBQSxFQUNBanJJLEtBQUE4dEksT0FBQSxFQUVBOXRJLEtBQUFnckkscUJBQUFud0ksRUFBQWhGLEtBQUFtSyxLQUFBQSxLQUFBK3RJLHVCQUVBL3RJLEtBQUFxNkUsVUFBQWpyRCxTQUFBcHZCLE9BS0E2cUksRUFBQTcwSCxVQUFBZzRILGNBQUEsV0FDQSxJQUFBaHVJLEtBQUF3ckksU0FBQSxDQUtBeHJJLEtBQUF4TSxNQUFBd00sS0FBQWdySSxxQkFBQWhySSxLQUFBb2xCLFFBQ0FwbEIsS0FBQTRQLFdBQUE1UCxLQUFBOGUsU0FBQSxHQUFBbFAsVUFDQSxJQUFBN1AsR0FBQUMsS0FBQWl1SSxVQUFBLEVBQ0FsdUksR0FBQXBNLFFBQUEsR0FBQWljLFlBQ0E1UCxLQUFBNFAsV0FBQXhELFlBQUFyTSxFQUFBcE0sUUFBQSxJQUdBcU0sS0FBQXdySSxTQUFBenJJLEVBQUFwTSxRQUFBLEdBQ0FxTSxLQUFBcTZFLFVBQUFteUQsZUFBQSxjQUFBLGlCQUFBLEtBRUF4c0ksS0FBQThySSxPQUFBLEdBQUEvckksRUFDQUMsS0FBQWt1SSxXQUFBLEdBRUFsdUksS0FBQXdySSxVQUNBeHJJLEtBQUE2c0kscUJBV0FoQyxFQUFBNzBILFVBQUErM0gsc0JBQUEsU0FBQXh6SSxHQUNBLEdBQUE0ekksR0FBQW51SSxLQUFBNnRJLHdCQUFBdHpJLEVBRUEsSUFBQXlGLEtBQUEybEcsVUFBQXdvQyxFQUFBLENBQ0EsR0FBQUMsR0FBQSxHQUFBcEMsR0FBQW1DLEVBRUEsT0FEQUMsR0FBQUMsaUJBQUFydUksS0FBQXFySSxjQUFBcnJJLEtBQUF1ckksZUFDQTZDLEVBRUEsTUFBQUQsSUFTQXRELEVBQUE3MEgsVUFBQTYySCxpQkFBQSxXQUVBLE1BQUE3c0ksTUFBQXdySSxVQVdBeHJJLEtBQUE4dEksUUFDQTl0SSxLQUFBeE0sTUFBQXdNLEtBQUFnckkscUJBQUFockksS0FBQW9sQixTQUdBcGxCLEtBQUE4dEksUUFDQTl0SSxLQUFBNnJJLG1CQUNBN3JJLEtBQUE4dEksT0FBQSxFQUNBOXRJLEtBQUFvbEIsT0FBQXlILGlCQUFBN3NCLEtBQUFnckkscUJBQ0Fud0ksRUFBQWhGLEtBQUFtSyxLQUFBLFNBQUF4TSxFQUFBODZJLEdBQ0F0dUksS0FBQTJySSwwQkFDQTNySSxLQUFBdXVJLHFCQUFBLzZJLEVBQUE4NkksT0FLQXR1SSxLQUFBd3VJLHVCQUVBeHVJLEtBQUFxckksZ0JBQUFyckksS0FBQXBLLFlBQ0FvSyxLQUFBc3JJLGNBQUF0ckksS0FBQW80QixVQUNBcDRCLEtBQUFxNkUsVUFBQW96RCxrQkFBQXp0SSxLQUFBcTZFLFVBQUF5eUQsbUJBQ0E5c0ksS0FBQXhNLGdCQUFBdzRJLElBQ0Foc0ksS0FBQXhNLE1BQUE2NkksaUJBQUFydUksS0FBQXFySSxjQUFBcnJJLEtBQUFzckksYUFFQXRySSxLQUFBdXVJLHFCQUFBdnVJLEtBQUF4TSxNQUFBd00sS0FBQXhNLFdBakNBd00sS0FBQTZySSxpQkFBQTdySSxLQUFBb2xCLE9BQUF5SCxpQkFDQTdzQixLQUFBZ3JJLHFCQUNBbndJLEVBQUFoRixLQUFBbUssS0FBQSxTQUFBeE0sR0FDQUEsR0FBQUEsRUFBQXJGLFFBQ0E2UixLQUFBc0ssTUFBQXpQLEVBQUFoRixLQUFBbUssS0FBQUEsS0FBQWd1SSx3QkFHQWh1SSxLQUFBZ0osV0FBQWlzQixTQUFBajFCLEtBQUFvbEIsT0FBQXdaLGFBbUNBaXNHLEVBQUE3MEgsVUFBQXEzSCxZQUFBLFdBQ0EsTUFBQXJ0SSxNQUFBd3JJLFVBU0FYLEVBQUE3MEgsVUFBQXU0SCxxQkFBQSxTQUFBLzZJLEVBQUE4NkksR0FDQXR1SSxLQUFBMnJJLDBCQUFBLENBRUEsSUFBQUMsR0FBQXA0SSxHQUFBQSxFQUFBckYsUUFBQSxFQUNBc2dKLEdBQUEsQ0FHQSxJQUFBenVJLEtBQUF4TSxPQUFBbzRJLEVBQUE1ckksS0FBQXhNLE1BQUFyRixRQUFBLElBQUE2UixLQUFBcTZFLFVBQUFvekQsa0JBR0EsTUFGQXp0SSxNQUFBeE0sTUFBQUEsTUFDQXdNLE1BQUFxNkUsVUFBQXF6RCxhQW9CQSxJQWhCQTlCLElBQUE1ckksS0FBQTRySSxjQUNBNkMsR0FBQSxFQUNBenVJLEtBQUE0ckksWUFBQUEsR0FHQTVySSxLQUFBeE0sTUFBQUEsR0FDQUEsSUFBQTg2SSxHQUFBRyxJQUNBenVJLEtBQUF3dUksaUJBR0F4dUksS0FBQTRQLFdBQUE1UCxLQUFBOGUsU0FBQSxHQUFBbFAsV0FFQTYrSCxHQUNBenVJLEtBQUFxNkUsVUFBQWt6RCxjQUFBM0IsRUFBQTVySSxLQUFBd3JJLFVBR0F4ckksS0FBQTBySSxjQUFBLENBQ0ExckksS0FBQTBySSxlQUFBLENBQ0EsSUFBQTkxSSxHQUFBb0ssS0FBQXFsQixPQUFBcXBILGFBQ0ExdUksS0FBQW9sQixPQUFBNm5CLE1BQUFqdEMsS0FBQXFsQixPQUFBcXBILGNBQ0ExdUksS0FBQXE2RSxVQUFBOHZELFFBQ0FucUksTUFBQXE2RSxVQUFBZ3dELGNBQUF6MEksR0FJQWhILE9BQUFhLEtBQUF1USxLQUFBOHJJLFFBQUEvOEksUUFBQSxTQUFBNC9JLEdBQ0EsR0FBQTNnSixHQUFBeUQsU0FBQWs5SSxFQUFBLEtBQ0EzZ0osRUFBQWdTLEtBQUFxckksZUFBQXI5SSxHQUFBZ1MsS0FBQXNySSxjQUNBdHJJLEtBQUFrdUksV0FBQWxnSixJQUVBZ1MsTUFPQUEsS0FBQThHLFNBQUEyVCxpQkFBQTVmLEVBQUEvSSxJQUVBLElBQUF2RSxHQUFBd1MsRUFDQTZ1SSxLQUNBQyxJQUdBLEtBQUF0aEosRUFBQXlTLEtBQUFxckksY0FBQTk5SSxFQUFBeVMsS0FBQXNySSxhQUFBLE1BQUF0ckksS0FBQThySSxPQUFBditJLEdBQUFBLElBQ0F3UyxFQUFBQyxLQUFBaXVJLFVBQUExZ0osR0FDQXlTLEtBQUE4dUksYUFBQS91SSxFQUFBeFMsR0FDQXFoSixFQUFBdjZJLEtBQUEwTCxFQUlBLE1BQUEsTUFBQUMsS0FBQThySSxPQUFBditJLEdBQUFBLElBQ0F5UyxLQUFBOHVJLGFBQUE5dUksS0FBQThySSxPQUFBditJLEdBQUFBLEVBS0EsS0FIQSxHQUFBd2hKLEdBQUF4aEosRUFBQSxFQUdBQSxFQUFBeVMsS0FBQXNySSxZQUFBLzlJLElBQ0F3UyxFQUFBQyxLQUFBaXVJLFVBQUExZ0osR0FDQXlTLEtBQUE4dUksYUFBQS91SSxFQUFBeFMsR0FDQXNoSixFQUFBeDZJLEtBQUEwTCxFQUlBNnVJLEdBQUF6Z0osUUFDQTZSLEtBQUE0UCxXQUFBbTRDLGFBQ0EvbkQsS0FBQWd2SSx1QkFBQUosR0FDQTV1SSxLQUFBOGUsU0FBQSxHQUFBOWdCLGFBRUE2d0ksRUFBQTFnSixRQUNBNlIsS0FBQTRQLFdBQUFtNEMsYUFDQS9uRCxLQUFBZ3ZJLHVCQUFBSCxHQUNBN3VJLEtBQUE4ckksT0FBQWlELElBQUEvdUksS0FBQThySSxPQUFBaUQsR0FBQXA3SSxRQUFBLEdBQUFxSyxhQUlBZ0MsS0FBQThHLFNBQUEyVCxpQkFBQXphLEtBQUFvckksc0JBRUFwckksS0FBQXBLLFdBQUFvSyxLQUFBcXJJLGNBQ0FyckksS0FBQW80QixTQUFBcDRCLEtBQUFzckksWUFFQXRySSxLQUFBMnJJLDBCQUFBLEdBU0FkLEVBQUE3MEgsVUFBQWk0SCxVQUFBLFNBQUFqZ0osR0FDQSxHQUFBZ1MsS0FBQStySSxhQUFBNTlJLE9BQ0EsTUFBQTZSLE1BQUErckksYUFBQXh6SCxLQUdBLElBQUF4WSxFQVlBLE9BWEFDLE1BQUFxaEIsV0FBQXhtQixFQUFBaEYsS0FBQW1LLEtBQUEsU0FBQTVPLEVBQUFtSixHQUNBd0YsR0FDQXBNLFFBQUF2QyxFQUNBNjlJLE9BQUEsRUFDQTEwSSxNQUFBQSxHQUdBeUYsS0FBQWt2SSxhQUFBMzBJLEVBQUF2TSxHQUNBZ1MsS0FBQTRQLFdBQUF4RCxZQUFBaGIsRUFBQSxPQUdBMk8sR0FXQThxSSxFQUFBNzBILFVBQUE4NEgsYUFBQSxTQUFBL3VJLEVBQUEvUixHQUNBZ1MsS0FBQThySSxPQUFBOTlJLEdBQUErUixHQUVBQSxFQUFBQSxRQUNBQSxFQUFBeEYsTUFBQTRvRCxTQUFBbjFELEdBQUErUixFQUFBeEYsTUFBQXlGLEtBQUErcUksY0FBQS9xSSxLQUFBeE0sTUFBQXhGLE1BR0ErUixFQUFBQSxRQUFBLEVBR0FDLEtBQUFrdkksYUFBQW52SSxFQUFBeEYsTUFBQXZNLEdBS0FnUyxLQUFBZ0osV0FBQWlzQixTQUNBbDFCLEVBQUF4RixNQUFBcWtDLFlBV0Fpc0csRUFBQTcwSCxVQUFBazVILGFBQUEsU0FBQTMwSSxFQUFBdk0sR0FDQXVNLEVBQUE0b0QsT0FBQW4xRCxFQUNBdU0sRUFBQXlGLEtBQUErcUksWUFBQS9xSSxLQUFBeE0sT0FBQXdNLEtBQUF4TSxNQUFBeEYsR0FDQWdTLEtBQUFpckksWUFBQTF3SSxFQUFBeUYsS0FBQWlySSxVQUFBanJJLEtBQUFvbEIsU0FBQXBsQixLQUFBeE0sTUFBQXhGLEtBU0E2OEksRUFBQTcwSCxVQUFBazRILFdBQUEsU0FBQWxnSixHQUNBZ1MsS0FBQStySSxhQUFBMTNJLEtBQUEyTCxLQUFBOHJJLE9BQUE5OUksSUFDQWdTLEtBQUE0UCxXQUFBSSxZQUFBaFEsS0FBQThySSxPQUFBOTlJLEdBQUEyRixRQUFBLFVBQ0FxTSxNQUFBOHJJLE9BQUE5OUksSUFXQTY4SSxFQUFBNzBILFVBQUFnNUgsdUJBQUEsU0FBQWxELEdBQ0EsR0FBQTcvSCxHQUFBak0sS0FBQW9ILFVBQUEsR0FBQThFLHdCQUlBLE9BSEE0L0gsR0FBQS84SSxRQUFBLFNBQUFnUixHQUNBa00sRUFBQUcsWUFBQXJNLEVBQUFwTSxRQUFBLE1BRUFzWSxHQVFBNCtILEVBQUE3MEgsVUFBQXc0SCxlQUFBLFdBQ0EsR0FBQTVDLEdBQUE1ckksS0FBQXhNLE1BQUF3TSxLQUFBeE0sTUFBQXJGLE9BQUEsRUFDQWdoSixFQUFBL21ILEtBQUF1M0YsS0FBQTMvRyxLQUFBcTZFLFVBQUFzbEIsVUFBQTMvRixLQUFBd3JJLFNBRUF4ckksTUFBQXFySSxjQUFBampILEtBQUFDLElBQUEsRUFBQUQsS0FBQW91QixJQUNBbzFGLEVBQUF1RCxFQUNBL21ILEtBQUEyRixNQUFBL3RCLEtBQUFxNkUsVUFBQW96RCxrQkFBQXp0SSxLQUFBd3JJLFlBQ0F4ckksS0FBQXVySSxjQUFBdnJJLEtBQUFxckksY0FBQThELEVBQUE5QyxFQUNBcnNJLEtBQUFzckksWUFBQWxqSCxLQUFBb3VCLElBQUFvMUYsRUFBQTVySSxLQUFBdXJJLGVBQ0F2ckksS0FBQXFySSxjQUFBampILEtBQUFDLElBQUEsRUFBQXJvQixLQUFBcXJJLGNBQUFnQixJQXFDQUwsRUFBQWgySCxVQUFBcTRILGlCQUFBLFNBQUF6aUYsRUFBQXhDLEdBQ0EsSUFBQSxHQUFBNzdELEdBQUFxK0QsRUFBQXhDLEVBQUE3N0QsRUFBQUEsSUFDQXlTLEtBQUE1USxlQUFBN0IsS0FDQXlTLEtBQUF6UyxHQUFBeVMsS0FBQWlzSSxNQUFBQyxlQUFBMytJLEdBR0F5UyxNQUFBN1IsT0FBQTZSLEtBQUFpc0ksTUFBQUUsZ0JBU0EsV0FPQXR4SSxFQUFBMU4sT0FBQSx3Q0FHQSxXQVlBLFFBQUFpaUosR0FBQWhxSCxFQUFBdEcsRUFBQStvRSxFQUFBM0IsRUFBQXFRLEVBQUFuc0YsRUFDQTlELEVBQUFtYSxFQUFBNEUsRUFBQW5jLEdBbURBLFFBQUE2cEQsS0FDQTgwQixFQUFBcUYsdUJBQUE5bkUsRUFBQUMsR0FBQWdxSCxXQUFBLEtBQUFDLGFBQUEsT0FDQS80QyxFQUFBejNFLEdBQ0F5b0gsSUFDQTEvQyxFQUFBM2hELFNBQUEsV0FDQXFwRyxJQUNBQyxJQUNBaHRCLElBQ0ExakcsRUFBQTNpQixHQUFBLFFBQUFxbUgsS0FRQSxRQUFBaXRCLEtBc0NBLFFBQUFDLEtBQ0EsR0FBQXZrSSxHQUFBLEVBQ0FtdEcsRUFBQXg1RixFQUFBeHJCLEtBQUEscUJBQ0EsSUFBQWdsSCxFQUFBbnFILE9BQUEsQ0FDQSxHQUFBNlMsR0FBQXMzRyxFQUFBaGxILEtBQUEsUUFDQTZYLEdBQUFtdEcsRUFBQWxsSCxLQUFBLGdCQUNBK1gsR0FBQW5LLEVBQUE1TixLQUFBLGFBQ0ErWCxHQUFBbkssRUFBQTVOLEtBQUEsZ0JBRUErWCxHQUFBbXRHLEVBQUFsbEgsS0FBQSxhQUVBLE1BQUErWCxHQU1BLFFBQUF3a0ksS0FDQSxHQUFBQyxHQUFBcmdJLEdBQUFzZ0ksZ0JBQUEvNEgsd0JBQ0ErdkQsSUFDQStvRSxHQUFBanVHLE1BQUFyeUIsRUFBQXF5QixNQUFBbXVHLElBQ0FqcEUsRUFBQW5sQyxLQUFBcXVHLEVBQUFwdUcsTUFBQWl1RyxFQUFBdm5ELE1BQUEsTUFFQTk0RSxHQUFBdmQsRUFBQTY5SSxnQkFBQTdvRixJQUFBNmYsR0E1REEsSUFBQXQzRCxHQUFBLE1BQUFzNEUsR0FBQTNoRCxTQUFBdXBHLEdBQUEsRUFBQXJxSCxFQUNBLElBUUF5aEQsR0FSQWtwRSxFQUFBeGdJLEdBQUF2RCxLQUFBOEssd0JBQ0FrNUgsRUFBQXpnSSxHQUFBMGdJLEtBQUFuNUgsd0JBQ0F4SCxFQUFBQyxHQUFBRCxLQUFBd0gsd0JBQ0FLLEVBQUE2NEgsRUFBQWo1SCxPQUFBekgsRUFBQTZILElBQ0ErNEgsRUFBQTVnSSxFQUFBeUgsT0FBQWk1SCxFQUFBNzRILElBQ0F1cUIsRUFBQXF1RyxFQUFBcnVHLEtBQUFweUIsRUFBQW95QixLQUNBMm1ELEVBQUEwbkQsRUFBQTFuRCxNQUNBbDlFLEVBQUF1a0ksR0FHQXJxSCxHQUFBOHFILGtCQUNBenVHLEdBQUEwdUcsRUFDQS9uRCxHQUFBLEVBQUErbkQsR0FFQXZwRSxHQUNBbmxDLEtBQUFBLEVBQUEsS0FDQWk3RixTQUFBdDBDLEVBQUEsS0FDQXl6QyxTQUFBMXpHLEtBQUFDLElBQUEwbkgsRUFBQXB1RyxNQUFBcnlCLEVBQUFveUIsS0FBQXB5QixFQUFBcXlCLE1BQUFvdUcsRUFBQXJ1RyxNQUFBb3VHLEVBQUEsTUFFQTM0SCxFQUFBKzRILEdBQUE1Z0ksRUFBQWc1RSxPQUFBeW5ELEVBQUFoNUgsT0FBQSs0SCxFQUFBTyxHQUNBeHBFLEVBQUExdkQsSUFBQSxPQUNBMHZELEVBQUE5dkQsT0FBQW01SCxFQUFBLEtBQ0FycEUsRUFBQXlwRSxVQUFBbG9ILEtBQUFvdUIsSUFBQTY1RixFQUFBTixFQUFBNTRILElBQUE3SCxFQUFBNkgsSUFBQTI0SCxHQUFBLE9BRUFqcEUsRUFBQTF2RCxJQUFBQSxFQUFBaE0sRUFBQSxLQUNBMDdELEVBQUE5dkQsT0FBQSxPQUNBOHZELEVBQUF5cEUsVUFBQWxvSCxLQUFBb3VCLElBQUE2NUYsRUFBQS9nSSxFQUFBeUgsT0FBQTh3RSxFQUFBcFUsWUFBQXM4RCxFQUFBaDVILE9BQUErNEgsR0FBQSxNQUdBdmdJLEdBQUF2ZCxFQUFBNjlJLGdCQUFBN29GLElBQUE2ZixHQUNBZ2hCLEVBQUEzaEQsU0FBQXlwRyxHQUFBLEdBb0NBLFFBQUFILEtBQ0FqZ0ksR0FBQXZkLEVBQUFzZCxLQUFBbmhCLFNBQ0Fvb0csRUFBQWhuRixHQUFBdmQsRUFBQTY5SSxpQkFDQXRnSSxHQUFBdmQsRUFBQTY5SSxnQkFBQTFuRixTQUNBNTRDLEdBQUF2ZCxFQUFBc2QsS0FBQXpYLE9BQUEwWCxHQUFBdmQsRUFBQTY5SSxpQkFDQXZwSSxFQUFBNGpELEtBQUE1akQsRUFBQTRqRCxJQUFBMzZDLEdBQUF2ZCxFQUFBNjlJLGdCQUFBcHZILElBTUEsUUFBQStoRyxLQUNBcDlGLEVBQUFtckgsV0FBQWhoSSxHQUFBdk8sTUFBQTYyRCxRQU1BLFFBQUEwdkUsS0FDQSxHQUFBNzdDLEdBQUFqNkYsU0FBQTJ6QixFQUFBeEssTUFBQSxLQUFBLENBQ0F5SyxHQUFBaUgsU0FBQSxXQUFBLFNBQUF6OEIsR0FBQWt0RCxHQUFBcXlELGFBQUF2L0csSUFDQXcxQixFQUFBaUgsU0FBQSxXQUFBLFNBQUF6OEIsR0FBQWt0RCxHQUFBeXpGLGFBQUEzZ0osSUFDQXUxQixFQUFBM3lCLE9BQUEsYUFBQWk1RixFQUFBN0QsRUFBQXpzQixTQUFBcTFFLEVBQUEva0QsR0FBQStrRCxHQUNBcnJILEVBQUEzeUIsT0FBQSxlQUFBaStJLEdBQ0E3MUksRUFBQWxILFFBQUF5VyxHQUFBak8sR0FBQSxTQUFBc3pJLEdBQ0FycUgsRUFBQWdCLElBQUEsV0FBQTRuRixHQU1BLFFBQUFBLEtBRUEsR0FEQW56RyxFQUFBbEgsUUFBQXlXLEdBQUFvUSxJQUFBLFNBQUFpMUgsR0FDQWxnSSxHQUFBLENBQ0EsR0FBQS9iLEdBQUEsb0NBQUFDLE1BQUEsSUFDQW9ILEdBQUE5TCxRQUFBeUUsRUFBQSxTQUFBdEUsR0FDQXFnQixHQUFBdmQsRUFBQTlDLEdBQUFrdEIsWUFRQSxRQUFBbXpILEtBQ0FoZ0ksSUFDQTRyRixLQUFBcjhFLEVBQUEsR0FDQSt3SCxnQkFBQS93SCxFQUFBLEdBQUEreUIsdUJBQUEsK0JBQUEsR0FDQXlnRSxTQUFBeHpGLEVBQUEsR0FBQSt5Qix1QkFBQSw4QkFBQSxHQUNBOCtGLEdBQUE3eEgsRUFBQXhyQixLQUFBLE1BQUEsR0FDQTBOLE1BQUE4ZCxFQUFBeHJCLEtBQUEsU0FBQSxHQUNBMFksS0FBQThTLEVBQUF4ckIsS0FBQSx3QkFBQSxHQUNBZ2MsS0FBQXRpQixTQUFBd3BDLE1BRUFqbkIsR0FBQXFoSSxHQUFBcmhJLEdBQUFvaEksR0FBQWpvRixxQkFBQSxNQUNBbjVDLEdBQUEwZ0ksS0FBQVksSUFDQXRoSSxHQUFBdmQsRUFBQTgrSSxFQUFBdmhJLElBT0EsUUFBQXNoSSxLQUNBLElBQUEsR0FBQWw5SSxHQUFBbXJCLEVBQUFuckIsRUFBQXhGLE9BQUF3RixFQUFBQSxFQUFBaEMsU0FDQSxHQUFBa0osRUFBQXhJLFVBQUFzQixFQUFBTixLQUFBLHlCQUFBLE1BQUFNLEdBQUEsRUFFQSxPQUFBNGIsSUFBQXZELEtBUUEsUUFBQThrSSxHQUFBdmhJLEdBQ0EsR0FBQWhoQixLQUNBLEtBQUEsR0FBQVcsS0FBQXFnQixHQUNBQSxFQUFBbmdCLGVBQUFGLEtBQUFYLEVBQUFXLEdBQUEyTCxFQUFBbEgsUUFBQTRiLEVBQUFyZ0IsSUFFQSxPQUFBWCxHQVVBLFFBQUFxOUgsR0FBQTkwRCxFQUFBaTZFLElBQ0FqNkUsR0FBQWk2RSxHQUNBdEIsSUFFQWxnSSxJQUNBczRFLEVBQUEzaEQsU0FBQSxXQUNBMmhELEVBQUF3QixvQkFBQTk1RSxHQUFBb2hJLE1BQ0EsRUFBQXZySCxJQUVBMHhDLElBQUFpNkUsR0FDQWxwRCxFQUFBM2hELFNBQUEsV0FDQTJoRCxFQUFBNEMsb0JBQ0EsRUFBQXJsRSxHQU9BLFFBQUE0ckgsS0FDQUMsSUFBQSxFQU1BLFFBQUFDLEtBQ0FDLElBQUE1aEksR0FBQXZPLE1BQUE2MkQsUUFDQW81RSxJQUFBLEVBQ0FsMEYsR0FBQStaLE9BQUFzNkUsSUFNQSxRQUFBQyxLQUNBOWhJLEdBQUF2TyxNQUFBNjJELFFBUUEsUUFBQTY0RSxHQUFBcEIsRUFBQWdDLEdBQ0FoQyxHQUNBaUMsRUFBQWpDLEdBQUF2OEksS0FBQSxTQUFBb0QsR0FDQWl2QixFQUFBaXFILFdBQUFsNUksRUFDQXE3SSxFQUFBbEMsRUFBQWdDLEtBSUFoQyxJQUFBZ0MsR0FBQUcsSUFNQSxRQUFBQSxLQUNBNTJJLEVBQUExTCxXQUFBaTJCLEVBQUFzc0gsYUFBQXRzSCxFQUFBc3NILFdBQUFDLEVBQUF2c0gsRUFBQWtxSCxlQU1BLFFBQUFzQyxLQUNBLzJJLEVBQUExTCxXQUFBaTJCLEVBQUF5c0gsYUFBQXpzSCxFQUFBeXNILGFBU0EsUUFBQUwsR0FBQWxDLEVBQUFnQyxHQUNBUSxHQUFBL2lKLFFBQUEsU0FBQWc4QyxHQUFBQSxFQUFBdWtHLEVBQUFnQyxLQU9BLFFBQUFTLEdBQUE1dkQsR0FDQSxJQUFBMnZELEdBQUEvOUksUUFBQW91RixJQUNBMnZELEdBQUF6OUksS0FBQTh0RixHQVFBLFFBQUE2dkQsR0FBQTd2RCxHQUNBLEdBQUE1MEYsR0FBQXVrSixHQUFBLzlJLFFBQUFvdUYsRUFDQSxLQUFBNTBGLEdBQ0F1a0osR0FBQTk5SSxPQUFBekcsRUFBQSxHQVNBLFFBQUFrakosR0FBQXBCLEVBQUE0QyxHQUNBbDFGLEdBQUEvdUQsTUFBQWtrSixJQUVBN0MsSUFBQTRDLEdBRUFWLEVBQUFuc0gsRUFBQWtxSCxjQUFBdjhJLEtBQUEsU0FBQW9ELEdBRUFrNUksSUFBQWw1SSxJQUNBaXZCLEVBQUFrcUgsYUFBQSxLQUdBRCxJQUFBNEMsR0FBQUwsSUFHQU8sSUFLQUMsTUFKQXIxRixHQUFBakwsV0FDQXVnRyxHQUFBLEdBQ0FDLFNBWUEsUUFBQTE2RSxLQUNBdTVFLElBQUEsRUFDQUYsS0FDQWwwRixHQUFBK1osT0FBQXM2RSxLQVFBLFFBQUFtQixHQUFBQyxHQUNBQSxJQUNBdkIsSUFBQSxFQUNBRSxJQUFBLEdBRUE1aEksR0FBQXZPLE1BQUE0MkQsT0FNQSxRQUFBQyxLQUNBczVFLElBQUEsRUFFQXQySSxFQUFBbk0sU0FBQTAyQixFQUFBaXFILGNBQUFqcUgsRUFBQWlxSCxXQUFBLElBQ0F0eUYsR0FBQStaLE9BQUFzNkUsSUFDQXIwRixHQUFBK1osUUFBQXM3RSxLQU9BLFFBQUFLLEdBQUF6aEksR0FDQSxPQUFBQSxFQUFBdXRDLFNBQ0EsSUFBQTJuQyxHQUFBeEQsU0FBQVcsV0FDQSxHQUFBdG1DLEdBQUFvL0UsUUFBQSxNQUNBbnJILEdBQUFRLGtCQUNBUixFQUFBd3RCLGlCQUNBdWUsR0FBQS91RCxNQUFBbzZCLEtBQUFvdUIsSUFBQXVHLEdBQUEvdUQsTUFBQSxFQUFBK3VELEdBQUFqTCxRQUFBM2pELE9BQUEsR0FDQXVrSixLQUNBSixJQUNBLE1BQ0EsS0FBQXBzRCxHQUFBeEQsU0FBQVMsU0FDQSxHQUFBcG1DLEdBQUFvL0UsUUFBQSxNQUNBbnJILEdBQUFRLGtCQUNBUixFQUFBd3RCLGlCQUNBdWUsR0FBQS91RCxNQUFBK3VELEdBQUEvdUQsTUFBQSxFQUFBK3VELEdBQUFqTCxRQUFBM2pELE9BQUEsRUFBQWk2QixLQUFBQyxJQUFBLEVBQUEwMEIsR0FBQS91RCxNQUFBLEdBQ0Ewa0osS0FDQUosSUFDQSxNQUNBLEtBQUFwc0QsR0FBQXhELFNBQUFZLElBSUEsR0FGQTR0RCxJQUVBbjBGLEdBQUErWixRQUFBL1osR0FBQW8vRSxTQUFBcC9FLEdBQUEvdUQsTUFBQSxHQUFBK3VELEdBQUFqTCxRQUFBM2pELE9BQUEsRUFBQSxNQUNBb1QsR0FBQXc3QyxHQUFBL3VELE1BQ0EsTUFDQSxLQUFBazRGLEdBQUF4RCxTQUFBRSxNQUNBLEdBQUE3bEMsR0FBQStaLFFBQUEvWixHQUFBby9FLFNBQUFwL0UsR0FBQS91RCxNQUFBLEdBQUErdUQsR0FBQWpMLFFBQUEzakQsT0FBQSxFQUFBLE1BQ0EsSUFBQXdrSixJQUFBLE1BQ0EzaEksR0FBQVEsa0JBQ0FSLEVBQUF3dEIsaUJBQ0FqOUIsRUFBQXc3QyxHQUFBL3VELE1BQ0EsTUFDQSxLQUFBazRGLEdBQUF4RCxTQUFBLzFCLE9BQ0EzN0MsRUFBQVEsa0JBQ0FSLEVBQUF3dEIsaUJBQ0FvMEcsSUFHQUwsR0FBQSxJQWFBLFFBQUFNLEtBQ0EsTUFBQWg0SSxHQUFBaE0sU0FBQXUyQixFQUFBMHRILFdBQUExdEgsRUFBQTB0SCxVQUFBLEVBUUEsUUFBQXZCLEdBQUF6aUosR0FPQSxRQUFBaWtKLEdBQUFqa0osR0FDQSxNQUFBQSxJQUFBczJCLEVBQUE0dEgsU0FBQTV0SCxFQUFBNHRILFNBQUFyQixFQUFBN2lKLElBQUEsS0FQQSxNQUFBb2EsR0FBQTZxQixLQUFBZy9HLEVBQUFqa0osSUFBQUEsR0FnQkEsUUFBQTZpSixHQUFBN2lKLEdBQ0EsSUFBQUEsRUFBQSxNQUFBN0IsRUFFQSxJQUFBMm9CLEtBR0EsT0FGQW1uQyxJQUFBazJGLFdBQUFyOUgsRUFBQW1uQyxHQUFBazJGLFVBQUFua0osR0FFQThtQixFQU9BLFFBQUFzOEgsS0FDQSxNQUFBOXNILEdBQUE4dEgsV0FBQSxFQUFBLEdBT0EsUUFBQWIsR0FBQXhpSixHQUNBa3RELEdBQUFvL0UsU0FBQXRzSSxJQUNBa3RELEdBQUFvL0UsUUFBQXRzSSxHQUlBa3RELEdBQUErWixPQUFBczZFLElBT0EsUUFBQUEsS0FDQSxNQUFBcjBGLElBQUFvL0UsVUFBQWdYLEtBQUEsRUFDQVIsS0FBQSxFQUNBeEIsSUFDQWlDLEtBREEsRUFRQSxRQUFBQSxLQUNBLE1BQUFqQixNQUFBZ0IsS0FBQUUsS0FPQSxRQUFBRixLQUNBLE1BQUFwMkYsSUFBQWpMLFFBQUEzakQsUUFBQSxHQUFBLEVBT0EsUUFBQXdrSixLQUNBLE1BQUE1MUYsSUFBQXhpRCxNQUFBKzBJLGNBQUEsR0FBQSxFQU9BLFFBQUFnRSxLQUNBLE1BQUF2MkYsSUFBQW8vRSxVQUFBd1csSUFPQSxRQUFBWSxLQUNBLE1BQUFoQyxHQUFBeDBGLEdBQUFqTCxRQUFBaUwsR0FBQS91RCxRQU9BLFFBQUFta0osS0FDQSxPQUFBL3NILEVBQUFpcUgsWUFBQSxJQUFBbGhKLFFBQUEwa0osSUFXQSxRQUFBaG5ELEdBQUEzOEYsRUFBQTJpQixFQUFBaGlCLEdBQ0FqQixPQUFBaTlGLGVBQUE5dUMsR0FBQTd0RCxHQUNBb00sSUFBQSxXQUFBLE1BQUF6TCxJQUNBbXRELElBQUEsU0FBQS94QixHQUNBLEdBQUFHLEdBQUF2N0IsQ0FDQUEsR0FBQW83QixFQUNBcFosRUFBQW9aLEVBQUFHLE1BU0EsUUFBQTdwQixHQUFBdlQsR0FFQTY1RixFQUFBM2hELFNBQUEsV0FDQXFyRyxFQUFBeDBGLEdBQUFqTCxRQUFBOWpELElBQUErRSxLQUFBLFNBQUFvRCxHQUNBLEdBQUF3TyxHQUFBNEssR0FBQXZkLEVBQUFnUCxNQUFBMUUsV0FBQSxVQUNBcUksR0FBQXk1QyxjQUFBam9ELEdBQ0F3TyxFQUFBNjVDLFlBSEEreUYsV0FJQSxXQUNBbnNILEVBQUFrcUgsYUFBQXZ5RixHQUFBakwsUUFBQTlqRCxHQUNBcWtKLEdBQUEsT0FFQSxHQU1BLFFBQUFPLEtBRUFQLEdBQUEsR0FHQXQxRixHQUFBL3VELE1BQUEsRUFDQSt1RCxHQUFBakwsV0FDQTFzQixFQUFBaXFILFdBQUEsR0FHQTl0SSxFQUFBLEdBR0EsSUFBQW93RixHQUFBM2tHLFNBQUFpK0YsWUFBQSxjQUNBMEcsR0FBQVcsZ0JBQUEsU0FBQSxHQUFBLEdBQUF6aUcsTUFBQXUxQixFQUFBaXFILGFBQ0E5L0gsR0FBQXZPLE1BQUFvcUYsY0FBQXVHLEdBRUFwaUYsR0FBQXZPLE1BQUE2MkQsUUFPQSxRQUFBMjdFLElBQUFuRSxHQWVBLFFBQUFvRSxHQUFBM2hHLEdBQ0F4OEIsR0FBQW8rSCxHQUFBNWhHLEdBQ0F1OUYsR0FBQSxPQUFBanFILEVBQUFpcUgsWUFBQSxNQUNBdHlGLEdBQUFqTCxRQUFBQSxFQUNBaUwsR0FBQStaLE9BQUFzNkUsSUFDQWhzSCxFQUFBdXVILGVBQUFDLEtBQ0F0QixLQUNBN0MsS0FyQkEsR0FBQWo4SSxHQUFBNHhCLEVBQUF4RixRQUFBcXRCLE1BQUE0bUcsSUFDQUgsRUFBQXJFLEVBQUF6ekksYUFDQWYsR0FBQXBNLFFBQUErRSxHQUNBaWdKLEVBQUFqZ0osR0FDQUEsSUFDQTYrSSxHQUFBLEdBQ0F4cUQsRUFBQTNoRCxTQUFBLFdBQ0ExeUMsRUFBQStnQyxTQUFBL2dDLEVBQUErZ0MsUUFBQWsvRyxHQUNBamdKLEVBQUFULE1BQUFTLEVBQUFULEtBQUEwZ0osR0FDQWpnSixFQUFBQSxZQUFBQSxFQUFBQSxXQUFBLFdBQ0E2K0ksR0FBQSxPQUVBLEVBQUFqdEgsSUFnQkEsUUFBQWt0SCxNQUNBaUIsSUFBQXhnSixLQUFBLFNBQUFvNkMsR0FDQTRQLEdBQUFnd0UsVUFBQSttQixLQUFBM21HLEtBUUEsUUFBQTJtRyxNQUNBLEdBQUEzekUsS0FBQXBqQixHQUFBakwsUUFBQTNqRCxPQUFBLE1BQUEsRUFFQSxRQURBZ3lFLEdBQUFwakIsR0FBQWpMLFFBQUEzakQsT0FDQTR1RCxHQUFBakwsUUFBQTNqRCxRQUNBLElBQUEsR0FDQSxNQUFBLGlDQUNBLEtBQUEsR0FDQSxNQUFBLDZCQUNBLFNBQ0EsTUFBQSxhQUFBNHVELEdBQUFqTCxRQUFBM2pELE9BQUEsdUJBT0EsUUFBQXVrSixNQUNBLEdBQUFuakksR0FBQXFoSSxHQUFBLEdBQUEsQ0FDQSxHQUFBdG9ELEdBQUEvNEUsR0FBQXFoSSxHQUFBLEdBQUExZ0MsYUFDQS80RixFQUFBbXhFLEVBQUF2ckMsR0FBQS91RCxNQUNBa2lKLEVBQUEvNEgsRUFBQW14RSxFQUNBeXJELEVBQUF4a0ksR0FBQStpRyxTQUFBcG9CLGFBQ0F6VyxFQUFBbGtFLEdBQUEraUcsU0FBQTcrQixTQUNBQSxHQUFBdDhELEVBQ0FILEdBQUFHLEdBQ0ErNEgsRUFBQXo4RCxFQUFBc2dFLEdBQ0EvOEgsR0FBQWs1SCxFQUFBNkQsSUFJQSxRQUFBLzhILElBQUE3TCxHQUNBb0UsR0FBQXZkLEVBQUE2OUksZ0JBQUF2ekksV0FBQSw0QkFBQTBhLFNBQUE3TCxHQUdBLFFBQUFrb0ksTUFDQSxHQUFBOTZHLElBQUF3a0IsR0FBQXhpRCxNQUFBODBJLFlBQUEsSUFBQWxoSixNQUVBLE9BQUE0dUQsSUFBQWkzRixjQUFBYixNQUFBcDJGLEdBQUFvL0UsU0FBQTVqRyxHQUFBczZHLEtBQUExQixLQUFBd0IsSUFPQSxRQUFBUCxNQUNBLEdBQUEvQyxHQUFBanFILEVBQUFpcUgsWUFBQSxHQUNBcUUsRUFBQXJFLEVBQUF6ekksZUFFQXdwQixFQUFBNnVILFNBQUEzK0gsR0FBQW8rSCxJQUNBMzJGLEdBQUFqTCxRQUFBeDhCLEdBQUFvK0gsR0FDQXBCLE1BRUFrQixHQUFBbkUsR0FHQXR5RixHQUFBK1osT0FBQXM2RSxJQVFBLFFBQUF3QyxNQUNBLEdBQUF2RSxHQUFBanFILEVBQUFpcUgsV0FDQXY5RixFQUFBaUwsR0FBQWpMLFFBQ0FoakQsRUFBQWdqRCxFQUFBLEVBQ0EsS0FBQUEsRUFBQTNqRCxRQUFBb2pKLEVBQUF6aUosR0FBQWlFLEtBQUEsU0FBQW1oSixHQUNBN0UsR0FBQTZFLEdBQUEzeUksRUFBQSxLQXh0QkEsR0FBQXc3QyxJQUFBLzhDLEtBQ0FtMEksR0FBQS91SCxFQUFBZ3ZILFVBQUEzZ0osTUFBQSxTQUNBb2dKLEdBQUFNLEdBQUEsR0FDQTVrSSxHQUFBLEtBQ0ErRixNQUNBMjdILElBQUEsRUFDQWEsTUFDQVgsSUFBQSxFQUNBaHhFLEdBQUEsQ0FrQ0EsT0EvQkEwckIsR0FBQSxTQUFBKy9CLEdBQUEsR0FHQTd1RSxHQUFBeGlELE1BQUE2cUIsRUFDQTIzQixHQUFBcHJELE9BQUF5ekIsRUFBQXhGLFFBQ0FtOUIsR0FBQWsyRixTQUFBa0IsR0FBQSxHQUNBcDNGLEdBQUFqTCxXQUNBaUwsR0FBQW8vRSxTQUFBLEVBQ0FwL0UsR0FBQStaLFFBQUEsRUFDQS9aLEdBQUEvdUQsTUFBQSxLQUNBK3VELEdBQUFnd0UsWUFDQWh3RSxHQUFBamhDLEdBQUErckUsRUFBQS8zRixVQUNBaXRELEdBQUFxeUQsV0FBQSxLQUNBcnlELEdBQUF5ekYsV0FBQSxLQUNBenpGLEdBQUFpM0YsYUFBQSxFQUdBajNGLEdBQUEwMUYsUUFBQUEsRUFDQTExRixHQUFBNmEsS0FBQUEsRUFDQTdhLEdBQUE4YSxNQUFBQSxFQUNBOWEsR0FBQXMzRixNQUFBekIsRUFDQTcxRixHQUFBeDdDLE9BQUFBLEVBQ0F3N0MsR0FBQXUzRixVQUFBdEQsRUFDQWowRixHQUFBdzNGLFVBQUFyRCxFQUNBbjBGLEdBQUF5M0YsUUFBQW5ELEVBQ0F0MEYsR0FBQXcyRix1QkFBQUEsRUFDQXgyRixHQUFBZzFGLDRCQUFBQSxFQUNBaDFGLEdBQUFpMUYsOEJBQUFBLEVBQ0FqMUYsR0FBQXMyRixnQkFBQUEsR0FDQXQyRixHQUFBdTJGLGlCQUFBQSxFQUVBdmdGLElBdERBbDRELEVBQ0ExTixPQUFBLG9DQUNBbVAsV0FBQSxxQkFBQTh5SSxFQUVBLElBQUFxRixHQUFBLEdBQ0FwRSxFQUFBLElBQUFvRSxFQUNBM0UsRUFBQSxFQUNBTSxFQUFBLENBa3VCQWhCLEdBQUFqOEgsU0FBQSxTQUFBLFdBQUEsVUFBQSxjQUFBLGFBQUEsVUFBQSxXQUFBLGVBQUEsU0FBQSxTQUdBLFdBMEhBLFFBQUF1aEksS0FDQSxHQUFBQyxJQUFBLENBRUEsUUFDQXI0SSxXQUFBLHFCQUNBaWhCLGFBQUEsc0JBQ0FoakIsT0FDQXE2SSxVQUFBLGVBQ0FDLGVBQUEsb0JBQ0FDLGVBQUEsb0JBQ0F6RixXQUFBLGlCQUNBQyxhQUFBLG1CQUNBOEUsVUFBQSxXQUNBcEIsU0FBQSxjQUNBaDdCLFlBQUEsZUFDQWk4QixRQUFBLGNBQ0FOLGNBQUEsb0JBQ0FqQyxXQUFBLHlCQUNBRyxXQUFBLHVCQUNBaUIsVUFBQSxnQkFDQWw0SCxNQUFBLFlBQ0EyMUgsVUFBQSxnQkFDQXdFLGNBQUEsb0JBQ0E3QixXQUFBLGlCQUNBOEIsVUFBQSxnQkFDQUMsUUFBQSxlQUVBMTVILEtBQUEsU0FBQWhoQixFQUFBNUcsRUFBQTR0QixFQUFBamxCLEdBQ0FBLEVBQUEwM0ksWUFBQVcsR0FFQTltSixTQUFBLFNBQUE4RixFQUFBTixHQWtEQSxRQUFBNmhKLEtBQ0EsR0FBQUMsR0FBQXhoSixFQUFBTCxLQUFBLG9CQUFBNjBELFNBQ0Fyd0QsRUFBQXE5SSxFQUFBaG5KLE9BQUFnbkosRUFBQXI5SSxPQUFBbkUsRUFBQW1FLE1BRUEsT0FEQXE5SSxHQUFBaG5KLFFBQUF3RixFQUFBK0QsUUFDQSx5REFBQUksRUFBQSxrQ0FHQSxRQUFBczlJLEtBQ0EsR0FBQUQsR0FBQXhoSixFQUFBTCxLQUFBLGdCQUFBNjBELFNBQ0F0NkQsRUFBQXNuSixFQUFBaG5KLE9BQUFnbkosRUFBQXI5SSxPQUFBLEVBQ0EsT0FBQWpLLEdBQ0EsMEdBQ0FBLEVBQUEsUUFDQSxHQUlBLFFBQUE0L0gsS0FDQSxNQUFBcDZILEdBQUE4OEksZ0JBQ0EsaUtBSUEsTUFBQWx3RCxFQUFBLGFBQUFBLEVBQUEsSUFBQSxJQUFBLHM5QkFrQkFvMUQsRUFBQSwwQ0FHQSx5REFFQSxNQUFBcDFELEVBQUEsYUFBQUEsRUFBQSxJQUFBLElBQUEsMnRDQS9GQSxHQUFBcTFELEdBQUFGLElBQ0FHLEVBQUFMLElBQ0FHLEVBQUExaEosRUFBQW1FLE9BQ0Ftb0YsRUFBQTVzRixFQUFBNHNGLFFBT0EsT0FKQTAwRCxHQUFBVyxHQUFBLEdBQUEsRUFFQWppSixFQUFBakUsZUFBQSxhQUFBdUUsRUFBQU4sS0FBQSxXQUFBLE1BRUEsOE1BS0FvNkgsSUFBQSxzREFFQXA2SCxFQUFBODhJLGdCQUFBLFlBQUEsSUFBQSwyakNBb0JBb0YsRUFBQSwwQkFDQUQsRUFBQSx3VkE1TEF6NkksRUFDQTFOLE9BQUEsb0NBQ0EwUyxVQUFBLGlCQUFBNjBJLE1BcVJBLFdBT0EsUUFBQWMsR0FBQXArRSxFQUFBeXdCLEdBUUEsUUFBQXJ0RixHQUFBODhELEVBQUFtK0UsRUFBQXAwSCxHQUNBLE1BQUEsVUFBQTltQixFQUFBNUcsRUFBQU4sR0FzQkEsUUFBQXFpSixHQUFBQyxFQUFBQyxHQUNBdHRILEVBQUFzdEgsR0FBQXI3SSxFQUFBbzdJLEdBRUFwN0ksRUFBQTlILE9BQUFrakosRUFBQSxTQUFBOWxKLEdBQ0FnNEYsRUFBQTNoRCxTQUFBLFdBQ0E1ZCxFQUFBc3RILEdBQUEvbEosTUFTQSxRQUFBZ21KLEtBQ0EsR0FBQUMsSUFBQSxFQUNBQyxHQUFBLENBRUF4N0ksR0FBQTlILE9BQUEsV0FDQXNqSixHQUFBRCxJQUlBQSxHQUFBLEVBQ0F2N0ksRUFBQXFxQyxhQUFBLFdBQ0FteEcsR0FDQXp0SCxFQUFBc1csVUFHQWszRyxFQUFBQyxHQUFBLE9BSUF6dEgsRUFBQTcxQixPQUFBLFdBQ0FzakosR0FBQSxJQXZEQSxHQUFBaDVGLEdBQUF4aUQsRUFBQXk3SSxvQkFDQTF0SCxFQUFBeTBCLEVBQUFwckQsT0FBQWt1QixPQUNBb3pILEVBQUFsMkYsRUFBQWsyRixRQUdBeUMsR0FBQSxTQUFBLFVBQ0FBLEVBQUEsT0FBQXpDLEdBR0E0QyxJQUdBeDBILEVBQUFpSCxFQUFBLFNBQUFsM0IsR0FDQXVDLEVBQUF5MEQsTUFBQWgzRCxNQXRCQSxPQUNBa3RCLFNBQUEsS0FDQTlqQixRQUFBQSxFQUNBcW5CLFVBQUEsRUFDQVIsV0FBQSxXQVRBeG1CLEVBQ0ExTixPQUFBLG9DQUNBMFMsVUFBQSw0QkFBQTIxSSxHQXlFQUEsRUFBQXJpSSxTQUFBLFdBQUEsY0FFQSxXQU9BLFFBQUE4aUksR0FBQTd3SCxFQUFBdEcsRUFBQXVHLEdBR0EsUUFBQTB0QyxHQUFBbWpGLEVBQUFDLEdBQ0EsR0FBQWxzSCxHQUFBLEtBQ0Fpa0IsRUFBQSxLQUNBbzZCLEVBQUFqakQsRUFBQSt3SCxrQkFBQSxHQUNBcnJHLEVBQUEzbEIsRUFBQTN5QixPQUFBLFNBQUEyeUIsR0FDQSxPQUNBc3VILEtBQUF3QyxFQUFBOXdILEdBQ0FpeEgsV0FBQUYsRUFBQS93SCxLQUVBLFNBQUFsTSxFQUFBbzlILElBQ0EsT0FBQXJzSCxHQUFBL1EsRUFBQW05SCxhQUFBQyxFQUFBRCxjQUNBcHNILEVBQUFwdkIsRUFBQWxILFFBQUEsU0FBQXMyQixLQUFBL1EsRUFBQW05SCxZQUFBditJLFNBRUEsT0FBQW8yQyxHQUFBaDFCLEVBQUF3NkgsT0FBQTRDLEVBQUE1QyxRQUNBeGxHLEVBQUFxb0csRUFBQXI5SCxFQUFBdzZILEtBQUFwckUsSUFHQXhwRCxFQUFBaG5CLEtBQUFteUIsRUFBQW44QixRQUFBb2dELEVBQUEsd0NBQ0EsRUFDQXB2QixHQUFBM2lCLEdBQUEsV0FBQTR1QyxHQUdBLFFBQUF5ckcsR0FBQTlDLEdBQ0EsTUFBQUEsSUFBQUEsRUFBQTVsSixRQUFBLGlDQUFBLFFBR0EsUUFBQXlvSixHQUFBdHNILEVBQUFxK0MsR0FDQSxHQUFBOTJFLEdBQUEsRUFJQSxPQUhBODJFLEdBQUF2MEUsUUFBQSxNQUFBLElBQUF2QyxHQUFBLEtBQ0FBLEdBQUF5NEIsRUFDQXErQyxFQUFBdjBFLFFBQUEsTUFBQSxJQUFBdkMsR0FBQSxLQUNBLEdBQUFSLFFBQUF3bEosRUFBQWhsSixHQUFBODJFLEVBQUF4NkUsUUFBQSxVQUFBLEtBakNBa1MsS0FBQSt5RCxLQUFBQSxFQUxBbDRELEVBQ0ExTixPQUFBLG9DQUNBbVAsV0FBQSxrQkFBQTI1SSxHQXVDQUEsRUFBQTlpSSxTQUFBLFNBQUEsV0FBQSxhQUdBLFdBb0NBLFFBQUFzakksR0FBQTd1SSxFQUFBa0IsR0FDQSxPQUNBK1ksVUFBQSxFQUNBdmxCLFdBQUEsa0JBQ0E5QixRQUFBLFNBQUE4OEQsRUFBQW0rRSxHQUNBLEdBQUFTLEdBQUFwdEksRUFBQTJzSSxFQUFBaUIsaUJBQ0FQLEVBQUF2dUksRUFBQTB2RCxFQUFBeC9ELE9BRUEsT0FBQSxVQUFBeUMsRUFBQTVHLEVBQUFOLEVBQUEwcEQsR0FDQUEsRUFBQWdXLEtBQUFtakYsRUFBQUMsTUExQ0F0N0ksRUFDQTFOLE9BQUEsb0NBQ0EwUyxVQUFBLGtCQUFBNDJJLEdBNkNBQSxFQUFBdGpJLFNBQUEsZUFBQSxhQUdBLFdBc0NBLFFBQUF3akksR0FBQXBnRCxFQUFBMU8sR0FTQSxRQUFBcnRGLEdBQUE3RyxFQUFBTixHQUlBLE1BRkFNLEdBQUFrRSxPQUFBZ3dGLEVBQUF3RixnQkFBQXVwRCxJQUVBLFNBQUFyOEksRUFBQTVHLEVBQUFOLEVBQUEwcEQsR0FDQXBwRCxFQUFBMmUsU0FBQSxXQUNBaWtGLEVBQUE1aUcsR0FFQW9wRCxHQUFBbGlELEVBQUFsSCxRQUFBQSxFQUFBLEdBQUErRixjQUFBLHFCQUNBeUMsR0FBQSxPQUFBLFdBQ0E0Z0QsRUFBQTg1RixhQUFBLE1BbEJBLEdBQUFELEdBQUEvdUQsRUFBQXdGLGdCQUFBeXBELEVBRUEsUUFDQXg0SCxTQUFBLElBQ0FELFFBQUEsWUFDQTdqQixRQUFBQSxHQXpDQUssRUFDQTFOLE9BQUEsNkJBQ0EwUyxVQUFBLFNBQUE4MkksRUFxQkEsSUFBQUcsR0FBQSxrSEFvQ0FILEdBQUF4akksU0FBQSxhQUFBLGNBR0EsV0FnQ0EsUUFBQTRqSSxHQUFBN3NJLEdBUUEsUUFBQXFrRyxHQUFBaDBHLEVBQUE1RyxFQUFBTixFQUFBMHBELEdBQ0FwcEQsRUFBQXdJLEdBQUEsUUFBQSxTQUFBNlUsR0FDQXpXLEVBQUFFLE9BQUEsV0FDQXNpRCxFQUFBaTZGLFdBQUF6OEksRUFBQTA4SSxnQkFBQTl6RixZQU1BajVDLEVBQUEsV0FDQXZXLEVBQUFOLE1BQUE0c0YsU0FBQSxHQUFBdXpDLGVBQUEsSUFDQTcvSCxFQUFBTCxLQUFBLFVBQUFELEtBQUEsV0FBQSxRQWxCQSxPQUNBaXJCLFNBQUEsSUFDQUQsUUFBQSxXQUNBOWpCLE9BQUEsRUFDQWdoQixLQUFBZ3pGLEdBbENBMXpHLEVBQ0ExTixPQUFBLDZCQUNBMFMsVUFBQSxlQUFBazNJLEdBa0RBQSxFQUFBNWpJLFNBQUEsZUFHQSxXQU9BLFFBQUErakksR0FBQTkvRSxHQU9BLFFBQUE3N0MsR0FBQWhoQixFQUFBNUcsRUFBQU4sR0FDQSxHQUFBMHBELEdBQUF4aUQsRUFBQXFsQixRQUFBdTNILGFBQ0E3dUgsRUFBQXkwQixFQUFBcHJELE9BQUFrdUIsTUFBQSxFQUFBazlCLEVBQUFwckQsT0FDQTIyQixHQUFBMnVILGdCQUFBMThJLEVBQ0ErdEIsRUFBQTh1SCxNQUFBNzhJLEVBQUE2OEksTUFDQTl1SCxFQUFBNjZCLE9BQUE1b0QsRUFBQTRvRCxPQUNBNzZCLEVBQUE2dUgsYUFBQXA2RixDQUVBLElBQUFzNkYsR0FBQXQ2RixFQUFBMzNCLE9BQUE2bkIsTUFBQTU1QyxFQUFBaWtKLGlCQUVBM2pKLEdBQUFtRSxLQUFBdS9JLEdBQ0FqZ0YsRUFBQXpqRSxFQUFBOHpCLFlBQUFhLEdBakJBLE9BQ0FoSyxTQUFBLEtBQ0F1RCxVQUFBLEVBQ0F0RyxLQUFBQSxFQUNBaGhCLE9BQUEsR0FUQU0sRUFDQTFOLE9BQUEsNkJBQ0EwUyxVQUFBLG1CQUFBcTNJLEdBdUJBQSxFQUFBL2pJLFNBQUEsZUFHQSxXQWtCQSxRQUFBb2tJLEdBQUFueUgsRUFBQThnRSxFQUFBdDlFLEVBQUFrVyxFQUFBNVUsR0FFQWxLLEtBQUFrSyxTQUFBQSxFQUdBbEssS0FBQWttRixZQUFBQSxFQUdBbG1GLEtBQUFvbEIsT0FBQUEsRUFHQXBsQixLQUFBck8sT0FBQXl6QixFQUFBeEYsUUFHQTVmLEtBQUE0SSxLQUFBQSxFQUdBNUksS0FBQThlLFNBQUFBLEVBR0E5ZSxLQUFBby9ELFlBQUEsS0FHQXAvRCxLQUFBdzNJLHFCQUFBLEtBR0F4M0ksS0FBQXkzSSxpQkFBQSxLQUdBejNJLEtBQUF4TSxTQUdBd00sS0FBQTYySSxhQUFBLEdBR0E3MkksS0FBQTAzSSxpQkFBQSxFQU9BMTNJLEtBQUEyM0ksV0FBQSxvQ0FNQTMzSSxLQUFBNDNJLGtCQUFBLFNBTUE1M0ksS0FBQTYzSSxXQUFBLEdBVUE3M0ksS0FBQTgzSSxhQUFBLEVBT0E5M0ksS0FBQSszSSxrQkFBQSxFQU1BLzNJLEtBQUFnNEksVUFBQSxFQU1BaDRJLEtBQUFpNEksYUFBQSxFQU9BajRJLEtBQUFrNEksYUFBQSxFQXpHQXI5SSxFQUNBMU4sT0FBQSw2QkFDQW1QLFdBQUEsY0FBQWk3SSxHQXlHQUEsRUFBQXBrSSxTQUFBLFNBQUEsY0FBQSxPQUFBLFdBQUEsWUFRQW9rSSxFQUFBdmhJLFVBQUFtaUksYUFBQSxTQUFBbm5JLEdBQ0EsR0FBQTZtSSxHQUFBNzNJLEtBQUFvNEksZUFHQSxNQUFBcDRJLEtBQUEwM0ksaUJBQUExbUksRUFBQUMsb0JBQUFELEVBQUFDLHNCQUFBLENBSUEsR0FBQUQsRUFBQXV0QyxVQUFBditDLEtBQUFrbUYsWUFBQXhELFNBQUFhLFVBQUEsQ0FDQSxHQUFBczBELEVBQUEsTUFJQSxPQUhBN21JLEdBQUF3dEIsaUJBQ0F4dEIsRUFBQVEsdUJBQ0F4UixLQUFBeE0sTUFBQXJGLFFBQUE2UixLQUFBcTRJLHVCQUFBcjRJLEtBQUF4TSxNQUFBckYsT0FBQSxJQVVBLEtBTEE2UixLQUFBczRJLGVBQUF0NEksS0FBQXM0SSxjQUFBbnFKLE9BQUEsS0FDQTZSLEtBQUFzNEksZUFBQXQ0SSxLQUFBa21GLFlBQUF4RCxTQUFBRSxRQUlBLEtBQUE1aUYsS0FBQXM0SSxjQUFBdmtKLFFBQUFpZCxFQUFBdXRDLFNBQUEsQ0FDQSxHQUFBditDLEtBQUEwM0ksaUJBQUExM0ksS0FBQXU0SSxlQUFBVixFQUFBLE1BQ0E3bUksR0FBQXd0QixpQkFDQXgrQixLQUFBdzRJLFdBQUFYLEdBQ0E3M0ksS0FBQXk0SSxxQkFTQWxCLEVBQUF2aEksVUFBQTBpSSxZQUFBLFNBQUExbkksR0FDQSxJQUFBaFIsS0FBQW80SSxnQkFDQSxPQUFBcG5JLEVBQUF1dEMsU0FDQSxJQUFBditDLE1BQUFrbUYsWUFBQXhELFNBQUFhLFVBQ0EsSUFBQXZqRixNQUFBa21GLFlBQUF4RCxTQUFBYyxPQUNBLEdBQUF4akYsS0FBQTYySSxhQUFBLEVBQUEsTUFDQTdsSSxHQUFBd3RCLGlCQUNBeCtCLEtBQUEyNEksNEJBQUEzNEksS0FBQTYySSxhQUNBLE1BQ0EsS0FBQTcySSxNQUFBa21GLFlBQUF4RCxTQUFBUSxXQUNBbHlFLEVBQUF3dEIsaUJBQ0F4K0IsS0FBQTYySSxhQUFBLElBQUE3MkksS0FBQTYySSxhQUFBNzJJLEtBQUF4TSxNQUFBckYsUUFDQTZSLEtBQUF4TSxNQUFBckYsUUFBQTZSLEtBQUFxNEksdUJBQUFyNEksS0FBQTYySSxhQUFBLEVBQ0EsTUFDQSxLQUFBNzJJLE1BQUFrbUYsWUFBQXhELFNBQUFVLFlBQ0FweUUsRUFBQXd0QixpQkFDQXgrQixLQUFBcTRJLHVCQUFBcjRJLEtBQUE2MkksYUFBQSxFQUNBLE1BQ0EsS0FBQTcySSxNQUFBa21GLFlBQUF4RCxTQUFBLzFCLE9BQ0EsSUFBQTNzRCxNQUFBa21GLFlBQUF4RCxTQUFBWSxJQUNBLEdBQUF0akYsS0FBQTYySSxhQUFBLEVBQUEsTUFDQTdsSSxHQUFBd3RCLGlCQUNBeCtCLEtBQUE0NEksWUFVQXJCLEVBQUF2aEksVUFBQTZpSSxlQUFBLFdBRUEsR0FBQUMsR0FBQTk0SSxLQUFBeE0sTUFBQXJGLFNBQ0EsSUFBQTZSLEtBQUErNEksc0JBQUEvNEksS0FBQSs0SSxxQkFDQSxPQUFBRCxHQUFBOTRJLEtBQUFnNEcsWUFBQWg0RyxLQUFBKzRJLHNCQU9BeEIsRUFBQXZoSSxVQUFBMmlJLDRCQUFBLFNBQUEzcUosR0FDQSxHQUFBZ3JKLEdBQUFoNUksS0FBQWk1SSxxQkFBQWpySixFQUNBZ1MsTUFBQWczSSxXQUFBaHBKLEdBQ0FnUyxLQUFBa0ssU0FBQXJQLEVBQUFoRixLQUFBbUssS0FBQSxXQUNBQSxLQUFBcTRJLHVCQUFBVyxPQU9BekIsRUFBQXZoSSxVQUFBa2pJLGtCQUFBLFdBQ0FsNUksS0FBQTYySSxhQUFBLElBWUFVLEVBQUF2aEksVUFBQWlqSSxxQkFBQSxTQUFBanJKLEdBQ0EsR0FBQTJQLEdBQUFxQyxLQUFBeE0sTUFBQXJGLE9BQUEsQ0FDQSxPQUFBLElBQUF3UCxFQUFBLEdBQ0EzUCxHQUFBMlAsRUFBQTNQLEVBQUEsRUFBQUEsR0FTQXVwSixFQUFBdmhJLFVBQUF3aUksV0FBQSxTQUFBVyxHQUNBLEdBQUFuNUksS0FBQSszSSxrQkFBQS8zSSxLQUFBbzVJLGNBQUEsQ0FDQSxHQUFBQyxHQUFBcjVJLEtBQUFvNUksZUFBQWhDLE1BQUErQixHQUlBdCtJLEdBQUF4SSxVQUFBZ25KLEtBQ0FGLEVBQUFFLEdBS0EsR0FBQXgrSSxFQUFBckssU0FBQTJvSixHQUFBLENBQ0EsR0FBQUcsR0FBQXQ1SSxLQUFBeE0sTUFBQWdqQixLQUFBLFNBQUExbkIsR0FDQSxNQUFBK0wsR0FBQTdGLE9BQUFta0osRUFBQXJxSixJQUVBLElBQUF3cUosRUFBQSxPQUlBLEtBQUEsTUFBQUgsR0FBQW41SSxLQUFBeE0sTUFBQU8sUUFBQW9sSixHQUFBLEdBQUEsQ0FHQSxHQUFBbnJKLEdBQUFnUyxLQUFBeE0sTUFBQWEsS0FBQThrSixFQUdBbjVJLE1BQUFnNEksVUFBQWg0SSxLQUFBdTVJLE9BQ0F2NUksS0FBQXU1SSxPQUFBbkMsTUFBQStCLEVBQUFoMkYsT0FBQW4xRCxNQWVBdXBKLEVBQUF2aEksVUFBQXdqSSxzQkFBQSxXQUNBeDVJLEtBQUE0SSxLQUFBZzNCLEtBQUEsaUZBQ0E1L0IsS0FBQSszSSxrQkFBQS8zSSxLQUFBbzVJLGdCQUNBcDVJLEtBQUErM0ksa0JBQUEsRUFDQS8zSSxLQUFBbzVJLGNBQUFwNUksS0FBQXk1SSxXQVdBbEMsRUFBQXZoSSxVQUFBMGpJLDJCQUFBLFdBQ0ExNUksS0FBQSszSSxrQkFBQSxHQVVBUixFQUFBdmhJLFVBQUEyakksbUJBQUEsV0FDQTM1SSxLQUFBZzRJLFVBQUEsR0FVQVQsRUFBQXZoSSxVQUFBNGpJLHNCQUFBLFdBQ0E1NUksS0FBQWk0SSxhQUFBLEdBVUFWLEVBQUF2aEksVUFBQTZqSSxzQkFBQSxXQUNBNzVJLEtBQUFrNEksYUFBQSxHQVdBWCxFQUFBdmhJLFVBQUFvaUksY0FBQSxXQUNBLE1BQUFwNEksTUFBQXkzSSxpQkFDQXozSSxLQUFBdzNJLHFCQUFBeDNJLEtBQUF3M0kscUJBQUF0NUYsV0FDQWwrQyxLQUFBeTNJLGlCQUFBLEdBQUE1bkosTUFGQW1RLEtBQUE2M0ksWUFRQU4sRUFBQXZoSSxVQUFBeWlJLGdCQUFBLFdBQ0F6NEksS0FBQXkzSSxpQkFDQXozSSxLQUFBdzNJLHNCQUNBeDNJLEtBQUF3M0kscUJBQUFwNUYsY0FBQSxJQUNBcCtDLEtBQUF3M0kscUJBQUFoNUYsV0FFQXgrQyxLQUFBeTNJLGlCQUFBLEdBQUE1bkosTUFBQSxHQUdBbVEsS0FBQTYzSSxXQUFBLElBUUFOLEVBQUF2aEksVUFBQWdoSSxXQUFBLFNBQUFocEosR0FDQSxHQUFBOHJKLEdBQUE5NUksS0FBQXhNLE1BQUFRLE9BQUFoRyxFQUFBLEVBRUE4ckosSUFBQUEsRUFBQTNySixRQUFBNlIsS0FBQWk0SSxhQUFBajRJLEtBQUFtNEYsVUFDQW40RixLQUFBbTRGLFVBQUFpL0MsTUFBQTBDLEVBQUEsR0FBQTMyRixPQUFBbjFELEtBSUF1cEosRUFBQXZoSSxVQUFBK2pJLHdCQUFBLFNBQUEvckosR0FDQWdTLEtBQUFnM0ksV0FBQWhwSixHQUNBZ1MsS0FBQTQ0SSxXQU1BckIsRUFBQXZoSSxVQUFBcWlJLHVCQUFBLFNBQUFycUosR0FDQSxNQUFBZ1MsTUFBQXhNLE1BQUFyRixPQUtBSCxJQUFBZ1MsS0FBQXhNLE1BQUFyRixPQUFBNlIsS0FBQTQ0SSxXQUNBNXFKLEVBQUFvNkIsS0FBQUMsSUFBQXI2QixFQUFBLEdBQ0FBLEVBQUFvNkIsS0FBQW91QixJQUFBeG9ELEVBQUFnUyxLQUFBeE0sTUFBQXJGLE9BQUEsR0FDQTZSLEtBQUFnNkksV0FBQWhzSixPQUNBZ1MsTUFBQWk2SSxVQUFBanNKLEtBUkFnUyxLQUFBZzZJLFdBQUEsUUFDQWg2SSxNQUFBNDRJLFlBY0FyQixFQUFBdmhJLFVBQUFna0ksV0FBQSxTQUFBaHNKLEdBQ0FBLEdBQUEsSUFBQUEsR0FBQWdTLEtBQUF4TSxNQUFBckYsUUFDQTZSLEtBQUE2MkksYUFBQTdvSixFQUdBZ1MsS0FBQWs0SSxhQUFBbDRJLEtBQUFrNkksVUFDQWw2SSxLQUFBazZJLFVBQUE5QyxNQUFBcDNJLEtBQUF4TSxNQUFBd00sS0FBQTYySSxpQkFHQTcySSxLQUFBNEksS0FBQWczQixLQUFBLGlEQVFBMjNHLEVBQUF2aEksVUFBQW1rSSxtQkFBQSxTQUFBbnNKLEdBQ0FnUyxLQUFBZzZJLFdBQUFoc0osR0FDQSxJQUFBQSxHQUNBZ1MsS0FBQWk2SSxVQUFBanNKLElBT0F1cEosRUFBQXZoSSxVQUFBaWtJLFVBQUEsU0FBQWpzSixHQUNBZ1MsS0FBQThlLFNBQUEsR0FBQXBsQixjQUFBLGtCQUFBMUwsRUFBQSx1QkFBQTZwRSxTQVFBMC9FLEVBQUF2aEksVUFBQTA2RixpQkFBQSxTQUFBdHhDLEdBQ0FwL0QsS0FBQW8vRCxZQUFBQSxDQUVBLElBQUF0cEUsR0FBQWtLLElBQ0FvL0QsR0FBQTVnQixRQUFBLFdBRUExb0QsRUFBQXRDLE1BQUFzQyxFQUFBc3BFLFlBQUFsaEIsYUFJQXE1RixFQUFBdmhJLFVBQUE0aUksUUFBQSxXQUNBLEdBQUE1M0ksR0FBQWhCLEtBQUE4ZSxTQUFBLEdBQUFwbEIsY0FBQSxRQUNBc0gsSUFBQUEsRUFBQTYyRCxRQUNBNzNELEtBQUFrNUkscUJBR0EzQixFQUFBdmhJLFVBQUFva0ksYUFBQSxXQUNBcDZJLEtBQUFxNkksZUFBQSxFQUNBcjZJLEtBQUFrNUkscUJBR0EzQixFQUFBdmhJLFVBQUFza0ksWUFBQSxXQUNBdDZJLEtBQUFxNkksZUFBQSxHQU9BOUMsRUFBQXZoSSxVQUFBdWtJLG1CQUFBLFNBQUFuaUMsR0FDQXA0RyxLQUFBeTNJLGlCQUFBci9CLENBR0EsSUFBQWg1QyxHQUFBZzVDLEVBQUE5N0csV0FBQSxVQUVBOGlFLElBQUFwL0QsS0FBQW8vRCxjQUNBcC9ELEtBQUF3M0kscUJBQUFwNEUsRUFHQSxJQUFBN2tFLEdBQUF5RixLQUFBb2xCLE9BQ0EyM0IsRUFBQS84QyxLQUdBdzZJLEVBQUEsU0FBQXhwSSxFQUFBamIsR0FDQXdFLEVBQUEvSCxXQUFBcUksRUFBQWhGLEtBQUFrbkQsRUFBQWhuRCxFQUFBaWIsSUFJQW9uRyxHQUNBL2tILE1BQUE0c0YsU0FBQSxJQUNBOWpGLEdBQUEsVUFBQSxTQUFBNlUsR0FBQXdwSSxFQUFBeHBJLEVBQUErckMsRUFBQW83RixnQkFDQWg4SSxHQUFBLFFBQUEsU0FBQTZVLEdBQUF3cEksRUFBQXhwSSxFQUFBK3JDLEVBQUFxOUYsZ0JBQ0FqK0ksR0FBQSxPQUFBLFNBQUE2VSxHQUFBd3BJLEVBQUF4cEksRUFBQStyQyxFQUFBdTlGLGdCQUdBL0MsRUFBQXZoSSxVQUFBeWtJLHNCQUFBLFNBQUExOUYsR0FDQUEsSUFDQS84QyxLQUFBMDNJLGlCQUFBLEVBQ0EzNkYsRUFBQWcxRiw0QkFBQWwzSSxFQUFBaEYsS0FBQW1LLEtBQUEsU0FBQWxSLEdBQ0FBLElBQ0FrUixLQUFBdzRJLFdBQUExcEosR0FDQWtSLEtBQUF5NEksc0JBSUF6NEksS0FBQThlLFNBQUF4ckIsS0FBQSxTQUNBNkksR0FBQSxRQUFBdEIsRUFBQWhGLEtBQUFtSyxLQUFBQSxLQUFBbzZJLGVBQ0FqK0ksR0FBQSxPQUFBdEIsRUFBQWhGLEtBQUFtSyxLQUFBQSxLQUFBczZJLGdCQUlBL0MsRUFBQXZoSSxVQUFBbTdILFNBQUEsV0FDQSxNQUFBbnhJLE1BQUFxNkksZUFBQXI2SSxLQUFBNjJJLGNBQUEsTUFJQSxXQTZKQSxRQUFBNkQsR0FBQW5rRCxFQUFBMU8sRUFBQXp3QixFQUFBeHVELEVBQUFzQixHQStEQSxRQUFBMVAsR0FBQTdHLEVBQUFOLEdBbUJBLFFBQUFzbkosR0FBQXYwRCxHQUNBLEdBQUEveUYsRUFBQXNSLFFBQUEsQ0FDQSxHQUFBaFIsR0FBQWluSixFQUFBLEdBQUFsaEosY0FBQTBzRixFQUNBLE9BQUF6eUYsSUFBQUEsRUFBQXM1RixXQXBCQSxHQUFBMnRELEdBQUF2bkosRUFBQSxlQUNBQSxHQUFBLGdCQUFBLElBSUEsSUFBQXduSixHQUFBRixFQUFBLCtCQUFBRyxFQUFBMStILE9BQ0EyK0gsRUFBQUosRUFBQSw4QkFBQUcsRUFBQUEsV0FDQUUsRUFBQUwsRUFBQSw2QkFDQUEsRUFBQSxtQkFDQUcsRUFBQTk1SSxNQUNBaTZJLEVBQUFMLEVBQUF0bkosS0FBQSxVQWdCQSxPQWJBc25KLEdBQUEsR0FBQWxoSixjQUFBLHVDQUNBa1AsRUFBQWczQixLQUFBLGdFQVlBLFNBQUFybEMsRUFBQTVHLEVBQUE0dEIsRUFBQVcsR0FDQTJsRSxFQUFBcUYsdUJBQUEzeUYsRUFBQWxILEdBRUFrakcsRUFBQTVpRyxFQUNBLElBQUF1bkosR0FBQWg1SCxFQUFBLEVBZ0VBLElBL0RBZzVILEVBQUFILHFCQUFBQSxFQUNBRyxFQUFBTCxtQkFBQUEsRUFDQUssRUFBQUYsa0JBQUFBLEVBRUFybkosRUFDQU4sTUFBQW1nSSxlQUFBLEVBQUF2ekMsU0FBQSxLQUNBOWpGLEdBQUEsUUFBQSxXQUFBKytJLEVBQUF0QyxZQUVBdmxKLEVBQUFzUixVQUNBdTJJLEVBQUF4cUMsaUJBQUEvOEcsRUFBQTJJLFdBQUEsWUFJQWlsQixFQUFBNDVILGlCQUFBRCxFQUFBeEIsNkJBTUFuNEgsRUFBQTY1SCxZQUFBRixFQUFBMUIsd0JBSUFqNEgsRUFBQTg1SCxTQUFBSCxFQUFBdkIscUJBSUFwNEgsRUFBQSs1SCxZQUFBSixFQUFBdEIsd0JBSUFyNEgsRUFBQWc2SCxZQUFBTCxFQUFBckIsd0JBS0FtQixHQUFBRixFQUFBOTVJLE9BS0F6RyxFQUFBOUgsT0FBQSx3QkFBQSxTQUFBdTVILEdBQ0FBLEdBQ0Fua0MsRUFBQTNoRCxTQUFBLFdBQ0EsSUFBQTgwRyxFQUFBam5KLFFBQUEscUJBQ0FtbkosRUFDQVQsc0JBQUE5bUosRUFBQUwsS0FBQSxtQkFDQWdKLFdBQUEsbUJBQ0E0K0ksRUFBQVgsbUJBQUE1bUosRUFBQUwsS0FBQSxjQU9BdTBGLEVBQUEzaEQsU0FBQSxXQUNBLEdBQUFsbEMsR0FBQXJOLEVBQUFMLEtBQUEsUUFFQTBOLElBQUFBLEVBQUFzbkQsWUFBQSxZQUFBO0lBS0EyeUYsRUFBQTlzSixPQUFBLEVBQUEsQ0FDQSxHQUFBcXRKLEdBQUFwa0YsRUFBQTZqRixFQUFBN3BKLFNBQUFtSixFQUFBcWxCLFFBQ0ExVixHQUFBLFdBQUF2VyxFQUFBTCxLQUFBLGlCQUFBMjBELFFBQUF1ekYsT0FLQSxRQUFBQyxLQUNBLE9BQ0FDLE1BQUE3ekQsRUFBQXdGLGdCQUFBc3VELEdBQ0EzNkksTUFBQTZtRixFQUFBd0YsZ0JBQUF1dUQsR0FDQXp5QyxVQUFBdGhCLEVBQUF3RixnQkFBQXd1RCxHQUNBei9ILE9BQUF5ckUsRUFBQXdGLGdCQUFBeXVELElBektBLEdBQUFoQixHQUFBVyxHQUVBLFFBQ0E1dEosU0FBQSxTQUFBOEYsRUFBQTR0QixHQU1BLE1BREFBLEdBQUEsZ0JBQUE1dEIsRUFBQXZDLFFBQ0EwcEosRUFBQVksT0FFQXI5SCxTQUFBLFdBQ0FDLFNBQUEsSUFDQWhpQixXQUFBLGNBQ0FpaEIsYUFBQSxlQUNBRCxrQkFBQSxFQUNBOWlCLFFBQUFBLEVBQ0FELE9BQ0F5eEgsU0FBQSxZQUNBaFUsWUFBQSxJQUNBK2dDLHFCQUFBLElBQ0FLLGNBQUEsbUJBQ0FLLFNBQUEsY0FDQUYsTUFBQSxXQUNBcGhELFNBQUEsY0FDQStoRCxTQUFBLGNBQ0F2QyxXQUFBLElBQ0FDLGtCQUFBLElBQ0FVLGNBQUEsb0JBQ0FDLGFBQUEscUJBekxBMTlJLEVBQ0ExTixPQUFBLDZCQUNBMFMsVUFBQSxVQUFBNjZJLEVBaUdBLElBQUFpQixHQUFBLDJuQ0F3QkFDLEVBQUEscVlBV0FDLEVBQUEsK0JBR0FDLEVBQUEsd1pBZ01BcEIsR0FBQXZuSSxTQUFBLGFBQUEsVUFBQSxXQUFBLE9BQUEsZUFHQSxXQWFBLFFBQUE0b0ksS0FFQS83SSxLQUFBc3ZJLGFBQUEsS0FHQXR2SSxLQUFBcXZJLFdBQUEsR0FmQXgwSSxFQUNBMU4sT0FBQSw2QkFDQW1QLFdBQUEscUJBQUF5L0ksR0FpQkFBLEVBQUEvbEksVUFBQWdtSSxhQUFBLFNBQUEzTSxHQUNBLEdBQUF2b0csR0FBQTltQyxLQUFBaThJLGNBQUFDLE9BQUE3TSxHQUNBLE9BQUFydkksTUFBQW04SSxlQUNBcjFHLEVBQUFsbkMsT0FBQS9FLEVBQUFoRixLQUFBbUssS0FBQUEsS0FBQW84SSx5QkFBQXQxRyxHQUlBaTFHLEVBQUEvbEksVUFBQWk5SCxTQUFBLFNBQUFua0osR0FDQSxNQUFBQSxHQUFBa1IsS0FBQXE4SSxjQUlBTixFQUFBL2xJLFVBQUFvbUksdUJBQUEsU0FBQUUsR0FDQSxNQUFBLElBQUF0OEksS0FBQXU4SSxTQUFBeG9KLFFBQUF1b0osT0FJQSxXQXdHQSxRQUFBRSxHQUFBam1ELEVBQUExTyxHQXVCQSxRQUFBcnRGLEdBQUE3RyxFQUFBTixHQUNBLE1BQUEsVUFBQWtILEVBQUE1RyxFQUFBNHRCLEVBQUFXLEdBRUEybEUsRUFBQXFGLHVCQUFBM3lGLEVBQUFsSCxHQUNBa2pHLEVBQUE1aUcsR0FFQUEsRUFBQU4sS0FBQSxXQUFBLE9BNUJBLE9BQ0F4RixTQUFBLFNBQUE4RixFQUFBNHRCLEdBQ0EsTUFBQWs3SCxJQUVBbitILFNBQUEsSUFDQWhpQixXQUFBLHFCQUNBaWhCLGFBQUEsc0JBQ0FELGtCQUFBLEVBQ0E5aUIsUUFBQUEsRUFDQUQsT0FDQTBoSixhQUFBLGNBQ0Fqa0MsWUFBQSxJQUNBK2dDLHFCQUFBLElBQ0FzRCxZQUFBLGlCQUNBSyxhQUFBLGtCQUNBQyxhQUFBLGtCQUNBSixTQUFBLFdBQ0FoRSxhQUFBLG1CQUNBcUUsZUFBQSx1QkF4SEEvaEosRUFDQTFOLE9BQUEsNkJBQ0EwUyxVQUFBLGlCQUFBMjhJLEVBbURBLElBQUFDLEdBQUEsdzNEQWlGQUQsR0FBQXJwSSxTQUFBLGFBQUEsY0FHQSxXQXVLQSxRQUFBMHBJLEdBQUFDLEVBQUF2bUQsRUFBQW9ZLEdBa0JBLFFBQUFKLEdBQUFoMEcsRUFBQTVHLEVBQUFOLEdBd0NBLFFBQUEwcEosS0FDQSxHQUFBcHJKLEdBQUFnQyxFQUFBaEMsUUFDQSxPQUFBQSxHQUFBMEIsS0FBQSxlQUFBMUIsRUFBQXM0QixRQUNBLEVBRUF0NEIsRUFBQUEsU0FBQTBCLEtBQUEsZUFBQTFCLEVBQUFBLFNBQUFzNEIsUUFDQSxHQUVBLEVBR0EsUUFBQSt5SCxLQUNBemlKLEVBQUEwaUosU0FBQTFpSixFQUFBMmlKLFNBQ0EzaUosRUFBQTRpSixVQUNBeHBKLEVBQUEyZSxTQUFBLFdBQUEvWCxFQUFBNGlKLFVBRUF4cEosRUFBQTJlLFNBQUF3cUksRUFBQU0sUUFBQTdpSixFQUFBNmlKLFdBdkRBN21ELEVBQUE1aUcsR0FFQXFwSixHQUtBLElBQUE3Z0YsR0FBQTlvRSxFQUFBZ3FKLEtBQUE5aUosRUFBQTRpSixVQUFBNWlKLEVBQUEwaUosU0FBQXRwSixFQUFBczJCLE9BQ0E3TSxFQUFBL3BCLEVBQUEwNUIsV0FBQTE1QixFQUFBaXZCLE1BQUFnN0gsV0FBQWpxSixFQUFBaXZCLE1BQUFpN0gsVUFBQSxHQUVBbHFKLEdBQUEsZ0JBRUEsSUFBQThvRSxHQUFBNGdGLElBS0FwcEosRUFBQXMyQixRQUlBMGtGLEVBQUFoZ0QsT0FBQWg3RCxFQUFBLGNBQUEsU0FQQWc3RyxFQUFBaGdELE9BQUFoN0QsRUFBQSxhQUFBd29FLEdBQ0F3eUMsRUFBQWhnRCxPQUFBaDdELEVBQUEsT0FBQSxTQVVBeXBCLEdBRUEvcEIsRUFBQWk1QixTQUFBbFAsRUFBQSxTQUFBb2dJLEdBRUE3cEosRUFBQStELFFBQ0E4bEosR0FDQVYsRUFBQVUsR0FBQXpxSixLQUFBLFNBQUEwcUosR0FDQTlwSixFQUFBa0UsT0FBQTRsSixPQWpEQSxPQUNBbGpKLE9BQ0E2aUosUUFBQSxhQUNBRCxTQUFBLGNBQ0FGLFFBQUEsYUFDQUMsT0FBQSxhQUVBNStILFNBQUEsSUFDQS9DLEtBQUFnekYsR0E5S0ExekcsRUFDQTFOLE9BQUEsNEJBQ0EwUyxVQUFBLFVBQUEsVUFBQSxhQUFBLFVBQUFnOUksT0FtUEEsV0E2TkEsUUFBQWEsTUE4R0EsUUFBQUMsR0FBQWpsSSxFQUFBa2xJLEdBQ0E1OUksS0FBQTBZLElBQUFBLEVBQ0ExWSxLQUFBNDlJLFlBQUFBLEdBQUF2a0osRUFBQXdrSixtQkE2Q0EsUUFBQUMsR0FBQXprSixFQUFBMk8sRUFBQWtCLEVBQUFOLEVBQUFnQixHQWFBLFFBQUFtMEksR0FBQWppSSxHQU1BLEdBTEFBLEVBQUFBLEdBQUEsR0FLQWtpSSxFQUFBbGlJLEdBQUEsTUFBQTVTLEdBQUE2cUIsS0FBQWlxSCxFQUFBbGlJLEdBQUExcUIsUUFDQSxJQUFBNnNKLEVBQUEvcUosS0FBQTRvQixHQUFBLE1BQUFvaUksR0FBQXBpSSxHQUFBL29CLEtBQUFvckosRUFBQXJpSSxHQUNBLEtBQUFBLEVBQUEvbkIsUUFBQSxPQUFBK25CLEVBQUEsWUFBQUEsRUFFQSxJQUFBc2lJLEdBQUEva0osRUFBQXlpQixHQUFBdWlJLEVBQUFDLENBQ0EsT0FBQUYsR0FBQXRpSSxHQUNBL29CLEtBQUFvckosRUFBQXJpSSxJQU9BLFFBQUF5aUksR0FBQTNJLEdBQ0EsR0FBQTRJLEdBQUEzakosRUFBQXpJLFlBQUF3akosTUFBQUEsR0FBQUEsRUFBQXpuSixPQUNBLElBQUFxd0osRUFBQSxNQUFBbmxKLEdBQUFvbEosY0FFQSxJQUFBdHFJLEdBQUF5aEksQ0FLQSxPQUpBLzZJLEdBQUE5TCxRQUFBc0ssRUFBQXFsSixTQUFBLFNBQUEzMUQsR0FDQUEsRUFBQTZzRCxPQUFBQSxJQUFBemhJLEVBQUE0MEUsRUFBQXEwRCxTQUFBanBJLEtBR0FBLEVBTUEsUUFBQWdxSSxHQUFBcmlJLEdBRUEsTUFBQSxVQUFBNmlJLEdBR0EsTUFGQVgsR0FBQWxpSSxHQUFBOGlJLEVBQUFELEdBQUFBLEVBQUEsR0FBQUUsR0FBQUYsRUFBQXRsSixFQUFBeWlCLElBRUFraUksRUFBQWxpSSxHQUFBMXFCLFNBU0EsUUFBQWl0SixHQUFBdmlJLEdBQ0EsR0FBQWdqSSxHQUFBemxKLEVBQUF5aUIsRUFDQSxPQUFBb2lJLEdBQUFZLEVBQUFwbUksS0FBQTNsQixLQUFBLFNBQUE0ckosR0FDQSxNQUFBLElBQUFFLEdBQUFGLEVBQUFHLEtBUUEsUUFBQVIsR0FBQXhpSSxHQU1BLFFBQUFpakksR0FBQS9oRyxHQUNBLEdBQUFnaUcsR0FBQWxqSSxFQUFBN3RCLE1BQUE2dEIsRUFBQXdmLFlBQUEsS0FBQSxHQUNBcWpILEVBQUEzaEcsRUFBQXRqRCxjQUFBLElBQUFzbEosRUFDQSxPQUFBTCxHQUFBLEdBQUFFLEdBQUFGLEVBQUFNLEdBQUFDLEVBQUFwakksR0FHQSxRQUFBb2pJLEdBQUFwakksR0FDQSxHQUFBcXhCLEdBQUEsUUFBQXJ4QixFQUFBLFlBR0EsT0FGQWxULEdBQUFnM0IsS0FBQXVOLEdBRUFqa0MsRUFBQTBwQixPQUFBdWEsR0FBQXJ4QixHQWZBLEdBQUFxakksR0FBQXJqSSxFQUFBeGpCLFVBQUEsRUFBQXdqQixFQUFBd2YsWUFBQSxPQUFBLFdBQ0EyakgsRUFBQTVsSixFQUFBOGxKLEVBRUEsT0FBQUYsR0FBQWYsRUFBQWUsRUFBQXZtSSxLQUFBM2xCLEtBQUFnc0osR0FBQUcsRUFBQXBqSSxHQW9CQSxRQUFBb2lJLEdBQUF4bEksR0FDQSxNQUFBMVEsR0FDQTFNLElBQUFvZCxHQUFBcEQsTUFBQTFMLElBQ0E3VyxLQUFBLFNBQUEyL0IsR0FDQSxNQUFBNzNCLEdBQUFsSCxRQUFBLFNBQUFrRSxPQUFBNjZCLEVBQUFoNEIsTUFBQXBILEtBQUEsT0FBQSxLQUhBMFUsU0FJQW8zSSxHQU1BLFFBQUFBLEdBQUExcEksR0FDQSxHQUFBeTNCLEdBQUF0eUMsRUFBQW5NLFNBQUFnbkIsR0FBQUEsRUFBQUEsRUFBQTluQixTQUFBOG5CLEVBQUFoYixNQUFBZ2IsRUFBQW1mLFVBR0EsT0FGQWpzQixHQUFBZzNCLEtBQUF1TixHQUVBamtDLEVBQUEwcEIsT0FBQXVhLEdBTUEsUUFBQXl4RyxHQUFBN3NJLEdBQ0EsTUFBQWxYLEdBQUF4SSxVQUFBMGYsRUFBQXBlLFVBQUFrSCxFQUFBeEksVUFBQTBmLEVBQUExWSxRQU1BLFFBQUF3bEosR0FBQTE1RixFQUFBOXJELEdBQ0E4ckQsR0FBQSxPQUFBQSxFQUFBaW5DLFVBQ0FqbkMsRUFBQXRxRCxFQUFBbEgsUUFBQSw0Q0FBQWtFLE9BQUFzdEQsR0FBQSxJQUlBQSxFQUFBbHNELGFBQUEsVUFDQWtzRCxFQUFBajJDLGFBQUEsUUFBQSw4QkFHQWxQLEtBQUFyTSxRQUFBd3hELEVBQ0FubEQsS0FBQTNHLE9BQUFBLEVBQ0EyRyxLQUFBcS9JLFVBT0EsUUFBQUMsS0FDQSxHQUFBMUIsR0FBQTU5SSxLQUFBM0csT0FBQTJHLEtBQUEzRyxPQUFBdWtKLFlBQUF2a0osRUFBQXdrSixrQkFDQWhqSixHQUFBOUwsU0FDQTZ3RyxJQUFBLEdBQ0F0WCxPQUFBLE9BQ0FELE1BQUEsT0FDQWszRCxvQkFBQSxnQkFDQUMsUUFBQXgvSSxLQUFBck0sUUFBQXNGLGFBQUEsWUFBQSxPQUFBMmtKLEVBQUEsSUFBQUEsR0FDQSxTQUFBem5KLEVBQUE5QyxHQUNBMk0sS0FBQXJNLFFBQUF1YixhQUFBN2IsRUFBQThDLElBQ0E2SixNQUVBbkYsRUFBQTlMLFNBQ0Ewd0osaUJBQUEsT0FDQTF4RCxRQUFBLFNBQ0EsU0FBQTUzRixFQUFBc0wsR0FDQXpCLEtBQUFyTSxRQUFBOE4sTUFBQUEsR0FBQXRMLEdBQ0E2SixNQU1BLFFBQUEwL0ksS0FDQSxNQUFBMS9JLE1BQUFyTSxRQUFBekMsV0FBQSxHQXRLQSxHQUFBOHNKLE1BQ0FDLEVBQUEsa0ZBTUEsT0FKQVksR0FBQTdvSSxXQUFBNWtCLE1BQUFzdUosRUFBQUwsUUFBQUMsR0FDQXZCLEVBQUFYLFFBQUFtQixFQUdBUixFQS9YQWxqSixFQUNBMU4sT0FBQSw0QkFDQXNSLFNBQUEsVUFBQWkvSSxFQWtOQSxJQUFBcmtKLElBQ0F3a0osbUJBQUEsR0FDQVksZUFBQSxpQkFDQUMsWUFLQWhCLEdBQUExbkksV0FDQTJvSSxLQUFBLFNBQUE3aUksRUFBQXBELEVBQUFrbEksR0FJQSxNQUhBLElBQUE5aEksRUFBQS9uQixRQUFBLE9BQUErbkIsRUFBQSxZQUFBQSxHQUVBemlCLEVBQUF5aUIsR0FBQSxHQUFBNmhJLEdBQUFqbEksRUFBQWtsSSxHQUNBNTlJLE1BR0EyL0ksUUFBQSxTQUFBN2pJLEVBQUFwRCxFQUFBa2xJLEdBRUEsTUFEQXZrSixHQUFBeWlCLEdBQUEsR0FBQTZoSSxHQUFBamxJLEVBQUFrbEksR0FDQTU5SSxNQUdBNC9JLGVBQUEsU0FBQWxuSSxFQUFBa2xJLEdBQ0EsR0FBQXVCLEdBQUEsVUFRQSxPQU5BOWxKLEdBQUE4bEosS0FDQTlsSixFQUFBOGxKLEdBQUEsR0FBQXhCLEdBQUFqbEksRUFBQWtsSSxJQUdBdmtKLEVBQUE4bEosR0FBQXZCLFlBQUFBLEdBQUF2a0osRUFBQXdrSixtQkFFQTc5SSxNQUdBNjlJLG1CQUFBLFNBQUFELEdBRUEsTUFEQXZrSixHQUFBd2tKLG1CQUFBRCxFQUNBNTlJLE1BTUFvOUksUUFBQSxTQUFBeEgsRUFBQTcySCxHQUtBLE1BSkExbEIsR0FBQXFsSixTQUFBcnFKLE1BQ0F1aEosTUFBQUEsRUFDQXdILFFBQUFyK0gsR0FBQTYySCxJQUVBNTFJLE1BUUF5K0ksZUFBQSxTQUFBMS9ILEdBRUEsTUFEQTFsQixHQUFBb2xKLGVBQUExL0gsRUFBQUEsRUFBQSxHQUNBL2UsTUFHQTYvSSxnQkFBQSxTQUFBQyxHQUVBLE1BREF6bUosR0FBQXdtSixnQkFBQUMsRUFDQTkvSSxNQUdBKy9JLGFBQUEsU0FBQW4ySSxHQUNBLEdBQUFvMkksR0FBQWhnSixLQUNBaWdKLElBRUFua0ksR0FBQSxnQkFDQXBELElBQUEsb0JBQ0Era0ksSUFBQSx3SUFHQTNoSSxHQUFBLFdBQ0FwRCxJQUFBLGVBQ0Era0ksSUFBQSw2TUFHQTNoSSxHQUFBLFlBQ0FwRCxJQUFBLGdCQUNBK2tJLElBQUEsNlJBR0EzaEksR0FBQSxVQUNBcEQsSUFBQSxjQUNBK2tJLElBQUEsNkhBR0EzaEksR0FBQSxrQkFDQXBELElBQUEsc0JBQ0Era0ksSUFBQSwyS0FHQTNoSSxHQUFBLGNBQ0FwRCxJQUFBLGtCQUNBK2tJLElBQUEsNE9BSUF3QyxHQUFBbHhKLFFBQUEsU0FBQW14SixHQUNBRixFQUFBckIsS0FBQXVCLEVBQUFwa0ksR0FBQW9rSSxFQUFBeG5JLEtBQ0E5TyxFQUFBaUosSUFBQXF0SSxFQUFBeG5JLElBQUF3bkksRUFBQXpDLFFBS0F0ckksTUFBQSxRQUFBLEtBQUEsT0FBQSxpQkFBQSxTQUFBbkssRUFBQWtCLEVBQUFOLEVBQUFnQixHQUVBLE1BREE1SixNQUFBKy9JLGFBQUFuMkksR0FDQWswSSxFQUFBemtKLEVBQUEyTyxFQUFBa0IsRUFBQU4sRUFBQWdCLE1Ba09BazBJLEVBQUEzcUksU0FBQSxTQUFBLFFBQUEsS0FBQSxPQUFBLHFCQUdBLFdBWUEsUUFBQWd0SSxHQUFBQyxFQUFBLzZILEVBQUF2RyxFQUFBc0csRUFBQXlpRSxFQUFBMzlFLEVBQUFsQixFQUFBRSxHQUVBLEdBQUFtM0ksR0FFQW45QixFQURBcHRILEVBQUFrSyxJQUdBQSxNQUFBc2dKLFVBQUE3dUosU0FBQTR6QixFQUFBazdILFlBQUEsS0FBQSxFQU1BdmdKLEtBQUEreUQsS0FBQSxTQUFBeXRGLEVBQUFuckQsR0FDQUEsRUFBQUEsTUFDQWdyRCxFQUFBRyxFQUVBdDlCLEVBQUFwa0csRUFBQSxHQUFBcGxCLGNBQUEsOEJBQ0F3cEgsRUFBQWgwRyxhQUFBLGdCQUFBLFNBRUFsUCxLQUFBeWdKLFlBQUFwckQsRUFBQW9yRCxZQUNBemdKLEtBQUEwZ0osWUFBQTc0RCxFQUFBVSxhQUFBODNELEVBQUEsR0FBQTF5SSxpQkFBQSxvQkFFQTB5SSxFQUFBbGtKLEdBQUEsMEJBQUEsV0FDQXJHLEVBQUE0cUgsUUFBQSxHQUdBLElBQUFpZ0MsR0FBQSxrQkFBQTk0RCxFQUFBLzNGLFNBQ0F1d0osR0FBQWh0SixLQUFBLEtBQUFzdEosR0FDQTlsSixFQUFBbEgsUUFBQXV2SCxHQUFBN3ZILE1BQ0F1dEosWUFBQUQsRUFDQUUsZ0JBQUEsU0FHQXo3SCxFQUFBZ0IsSUFBQSxXQUFBcG1CLEtBQUE4Z0osc0JBR0EsSUFBQUMsR0FBQUMsRUFBQUMsSUFDQWpoSixNQUFBa2hKLG9CQUFBLFdBQ0FELEVBQUE1c0osS0FBQTJVLEVBQUFvZCxJQUFBLGNBQUEsU0FBQXBWLEVBQUFtMEMsR0FDQWs3RixFQUFBLEdBQUE1NUYsU0FBQXRCLEVBQUEsTUFDQXJ2RCxFQUFBcXJKLGtCQUFBaDhGLEVBQUE3b0QsV0FBQSxVQUNBeEcsRUFBQXNySixrQkFBQSxFQUNBdHJKLEVBQUFxckosa0JBQUFFLHVCQUFBdnJKLEVBQUF3ckosc0JBQUF6ckosS0FBQUMsUUFHQW1ySixFQUFBNXNKLEtBQUEyVSxFQUFBb2QsSUFBQSxlQUFBLFNBQUFwVixFQUFBbTBDLEdBQ0FrN0YsRUFBQSxHQUFBNTVGLFNBQUF0QixFQUFBLE1BQ0FydkQsRUFBQXFySixrQkFBQWwwSixNQUdBK3pKLEVBQUFubUosRUFBQWxILFFBQUFrMEYsRUFBQVUsYUFBQTgzRCxFQUFBLEdBQUFuZ0gsU0FBQSxHQUFBQSxXQUNBOGdILEVBQUE3a0osR0FBQSxhQUFBckcsRUFBQXlySixxQkFDQVAsRUFBQTdrSixHQUFBLGFBQUFyRyxFQUFBMHJKLDJCQUdBeGhKLEtBQUE4Z0oscUJBQUEsV0FDQSxLQUFBRyxFQUFBOXlKLFFBQ0E4eUosRUFBQXRySSxTQUVBcXJJLElBQUFBLEVBQUF4bUksSUFBQSxhQUFBMWtCLEVBQUF5ckoscUJBQ0FQLEdBQUFBLEVBQUF4bUksSUFBQSxhQUFBMWtCLEVBQUEyckosdUJBR0F6aEosS0FBQXVoSixvQkFBQSxTQUFBdndJLEdBQ0EsSUFBQWxiLEVBQUFzckosaUJBQUEsQ0FDQSxHQUFBTSxHQUNBMXdJLEVBQUFlLE9BQUFyWSxjQUFBLFlBQ0FtdUYsRUFBQXNFLFdBQUFuN0UsRUFBQWUsT0FBQSxVQUVBZ3ZJLEdBQUE3MkksRUFBQSxXQUtBLEdBSkF3M0ksSUFDQUEsRUFBQTdtSixFQUFBbEgsUUFBQSt0SixHQUFBcGxKLFdBQUEsV0FHQXhHLEVBQUFxckosbUJBQUFyckosRUFBQXFySixtQkFBQU8sRUFBQSxDQUNBLEdBQUEzcUQsR0FBQWpoRyxFQUFBd3FKLFVBQUEsQ0FDQXhxSixHQUFBcXJKLGtCQUFBMTFGLE9BQUEsR0FBQXNyQyxRQUFBQSxRQUNBMnFELEtBQUFBLEVBQUFoaEMsUUFBQWdoQyxFQUFBMXFILE9BQ0FsaEMsRUFBQXNySixrQkFBQSxFQUNBTSxFQUFBMXFILFNBRUEwcUgsRUFBQSxJQUFBLElBQ0EsSUFBQUMsR0FBQTN3SSxFQUFBMmdILGNBQUFqNEgsY0FBQSx5QkFDQWlvSixJQUFBQSxFQUFBOXBGLFVBR0E3M0QsS0FBQXdoSix5QkFBQSxXQUNBVCxJQUNBNzJJLEVBQUE0USxPQUFBaW1JLEdBQ0FBLEVBQUE5ekosSUFRQStTLEtBQUFnM0IsS0FBQSxTQUFBZ25CLEdBQ0FBLEdBQUFBLEVBQUF4c0Msa0JBQ0F3c0MsR0FBQUEsRUFBQXhmLGlCQUNBMW9DLEVBQUE0cUgsU0FDQTVxSCxFQUFBb3JKLHNCQUNBcHJKLEVBQUE0cUgsUUFBQSxFQUNBd0MsRUFBQUEsSUFBQWxsRSxFQUFBQSxFQUFBanNDLE9BQUErTSxFQUFBLElBQ0Fva0csRUFBQWgwRyxhQUFBLGdCQUFBLFFBQ0FrVyxFQUFBcW9CLE1BQUEsY0FBQTN1QixHQUNBc2hJLEVBQUE1cUQsTUFDQWo3RixNQUFBNnFCLEVBQ0F3OEgsV0FBQTlySixFQUNBd3FKLFVBQUF4cUosRUFBQXdxSixVQUNBM3NKLFFBQUEwc0osRUFDQXR1SSxPQUFBbXhHLEVBQ0E4UixpQkFBQSxFQUNBcmpJLE9BQUEsU0FQQXl1SixXQVFBLFdBQ0FsOUIsRUFBQWgwRyxhQUFBLGdCQUFBLFNBQ0FwWixFQUFBZ3JKLDJCQUtBMTdILEVBQUF5OEgsWUFBQTdoSixLQUFBZzNCLEtBRUE1UixFQUFBM3lCLE9BQUEsV0FBQSxNQUFBcUQsR0FBQTRxSCxRQUFBLFNBQUFBLEdBQ0FBLEdBQ0EyL0IsRUFBQWh0SixLQUFBLGNBQUEsU0FDQXlyQixFQUFBLEdBQUF3MEYsVUFBQXZwRCxJQUFBLFdBQ0FsdkQsRUFBQTlMLFFBQUErRyxFQUFBNHFKLFlBQUEsU0FBQXY3RixHQUNBQSxFQUFBbXVELFVBQUFsM0YsT0FBQSxlQUdBaWtJLEVBQUFodEosS0FBQSxjQUFBLFFBQ0F5ckIsRUFBQSxHQUFBdzBGLFVBQUFsM0YsT0FBQSxZQUVBZ0osRUFBQTA4SCxjQUFBaHNKLEVBQUE0cUgsU0FHQTFnSCxLQUFBK2hKLG1CQUFBLFdBQ0EsR0FBQUMsR0FBQTNCLEVBQUEsR0FBQTNtSixjQUFBLHlCQUNBc29KLEtBQUFBLEVBQUEzQixFQUFBLEdBQUEzbUosY0FBQSxlQUNBc29KLEVBQUFucUYsU0FHQTczRCxLQUFBcWhKLHVCQUFBLFNBQUF4dkksR0FDQTdSLEtBQUFpaUosZUFBQXB3SSxHQUdBN1IsS0FBQXNoSixzQkFBQSxTQUFBdGpHLEdBQ0FoK0MsS0FBQWlpSixnQkFBQWppSixLQUFBaWlKLGVBQUFqa0csSUFHQWgrQyxLQUFBc2MsUUFBQSxXQUNBLE1BQUF4bUIsR0FBQTRxSCxPQUFBMC9CLEVBQUE5akksVUFBQXBULEVBQUE2cUIsTUFBQSxJQUlBL3pCLEtBQUF5ckQsTUFBQSxTQUFBeTJGLEVBQUFDLEdBQ0EsR0FBQXJzSixFQUFBNHFILE9BQUEsQ0FDQTVxSCxFQUFBNHFILFFBQUEsQ0FFQSxJQUFBMGhDLEdBQUF2bkosRUFBQXhKLFVBQUE4d0osR0FBQUQsVUFBQUEsR0FJQSxJQUhBOThILEVBQUFxb0IsTUFBQSxlQUFBM3VCLEVBQUFzakksR0FDQWhDLEVBQUFycUQsS0FBQSxLQUFBb3NELElBRUFELEVBQUEsQ0FDQSxHQUFBLzhGLEdBQUFydkQsRUFBQXVzSixnQkFBQXZqSSxFQUFBeHJCLEtBQUEsVUFBQSxFQUNBNnhELGFBQUF0cUQsR0FBQWxILFVBQUF3eEQsRUFBQUEsRUFBQSxJQUNBQSxHQUFBQSxFQUFBMFMsV0FRQTczRCxLQUFBc2lKLGFBQUEsV0FDQSxHQUFBQyxJQUFBbDlILEVBQUFtOUgsZ0JBQUEsVUFBQS91SixNQUFBLElBUUEsT0FKQSxJQUFBOHVKLEVBQUFwMEosUUFDQW8wSixFQUFBbHVKLEtBQUFrdUosRUFBQSxLQUlBN2dILEtBQUE2Z0gsRUFBQSxHQUNBcHJJLElBQUFvckksRUFBQSxLQVFBdmlKLEtBQUF5aUosUUFBQSxXQUNBLEdBQUE1ckksSUFBQXdPLEVBQUFxOUgsVUFBQSxPQUFBanZKLE1BQUEsS0FBQWluRCxJQUFBcEUsV0FDQSxJQUFBLEdBQUF6L0IsRUFBQTFvQixPQUNBLE9BQ0F1ekMsS0FBQTdxQixFQUFBLEdBQ0FNLElBQUFOLEVBQUEsR0FFQSxJQUFBLEdBQUFBLEVBQUExb0IsT0FDQSxPQUNBZ3BCLElBQUFOLEVBQUEsR0FDQTZxQixLQUFBN3FCLEVBQUEsR0FHQSxNQUFBeHBCLE9BQUEsa0VBdE5Bd04sRUFDQTFOLE9BQUEsNEJBQ0FtUCxXQUFBLGFBQUE2akosR0F3TkFBLEVBQUFodEksU0FBQSxVQUFBLFNBQUEsV0FBQSxTQUFBLFVBQUEsV0FBQSxhQUFBLFNBR0EsV0F3SkEsUUFBQXd2SSxHQUFBOTZELEdBVUEsUUFBQXJ0RixHQUFBNjhELEdBQ0FBLEVBQUEva0QsU0FBQSxVQUNBLElBQUE0d0csR0FBQTdyRCxFQUFBbjNCLFdBQUEsRUFXQSxJQVZBZ2pGLEVBQUExcEgsYUFBQSxjQUNBMHBILEVBQUFBLEVBQUF4cEgsY0FBQSwrQkFBQXdwSCxJQUVBQSxHQUNBLGFBQUFBLEVBQUFqeUgsVUFDQSxVQUFBaXlILEVBQUFqeUgsVUFDQWl5SCxFQUFBMXBILGFBQUEsU0FDQTBwSCxFQUFBaDBHLGFBQUEsT0FBQSxVQUdBLEdBQUFtb0QsRUFBQW4zQixXQUFBL3hDLE9BQ0EsS0FBQWQsT0FBQXUxSixFQUFBLGtDQUlBMS9CLElBQUFBLEVBQUFoMEcsYUFBQSxnQkFBQSxPQUVBLElBQUF3eEksR0FBQXJwRixFQUFBLEdBQUExcEQsaUJBQUEsV0FDQWsxSSxFQUFBcHhKLFNBQUE0bEUsRUFBQSxHQUFBcCtELGFBQUEsaUJBQUEsS0FBQSxDQVVBLE9BVEF5bkosSUFDQTdsSixFQUFBOUwsUUFBQTg0RixFQUFBVSxhQUFBbTRELEdBQUEsU0FBQW9DLEdBQ0FBLEVBQUF0cEosYUFBQSxxQkFDQXNwSixFQUFBNXpJLGFBQUEsbUJBQUEsV0FFQTR6SSxFQUFBeHZDLFVBQUF2cEQsSUFBQSxrQkFDQSs0RixFQUFBNXpJLGFBQUEsZ0JBQUEyekksRUFBQSxLQUdBdG5JLEVBR0EsUUFBQUEsR0FBQWhoQixFQUFBNUcsRUFBQTR0QixFQUFBeTBDLEdBQ0EsR0FBQTRyRixHQUFBNXJGLEVBQUEsR0FDQXlxRixFQUFBenFGLEVBQUEsSUFBQS9vRSxFQUVBb3pKLEVBQUF4bEosRUFBQWxILFFBQ0EsK0RBRUFvdkosRUFBQXB2SixFQUFBdXNDLFdBQUEsRUFDQTZpSCxHQUFBdnBKLGFBQUEsU0FDQXVwSixFQUFBN3pJLGFBQUEsT0FBQSxRQUVBbXhJLEVBQUF4b0osT0FBQWtySixHQUVBcHZKLEVBQUF3SSxHQUFBLFdBQUEsV0FDQWtrSixFQUFBamtJLFdBR0F6b0IsRUFBQWtFLE9BQUF3b0osR0FDQUEsRUFBQSxHQUFBNStJLE1BQUFzc0YsUUFBQSxPQUNBNnpELEVBQUE3dUYsS0FBQXN0RixHQUFBSSxZQUFBQSxJQTlEQSxHQUFBbUMsR0FBQSw0QkFDQSxRQUNBdGtJLFNBQUEsSUFDQUQsU0FBQSxTQUFBLGVBQ0EvaEIsV0FBQSxhQUNBL0IsT0FBQSxFQUNBQyxRQUFBQSxHQWRBSyxFQUNBMU4sT0FBQSw0QkFDQTBTLFVBQUEsU0FBQThpSixHQXVFQUEsRUFBQXh2SSxTQUFBLGNBR0EsV0FpQkEsUUFBQTZ2SSxHQUFBMzFDLEdBV0EsUUFBQTQxQyxHQUFBcDdELEVBQUEwTyxFQUFBclEsRUFBQTkrRSxFQUFBZ0QsRUFBQWxCLEVBQUFvQixFQUFBOUQsRUFBQUYsR0FtQkEsUUFBQWkzRyxHQUFBaGpILEVBQUE1RyxFQUFBdWtCLEdBQ0EsTUFBQUEsR0FBQW9vSSxVQUFBemxKLEVBQUEvSSxNQUdBb21CLEVBQUF5MUYsc0JBQUE5bEIsRUFBQXNFLFdBQUFqMEUsRUFBQW5HLE9BQUEsYUFHQW1HLEVBQUEwMUYsY0FBQS9sQixFQUFBd0Isb0JBQUFueEUsRUFBQXZrQixRQUFBdWtCLEVBQUF2bUIsUUFFQXVtQixFQUFBeTFGLHFCQUFBLEVBR0F6MUYsRUFBQWluRyxjQUNBam5HLEVBQUFxMUYsU0FBQTFsQixFQUFBd0QsZUFBQTl3RixFQUFBLHFDQUVBK0wsRUFBQXlrRCxNQUFBN3lDLEVBQUFxMUYsU0FBQW5tRyxFQUFBLEdBQUFvdkIsT0FNQSxXQUNBdGUsRUFBQXExRixVQUFBcjFGLEVBQUFxMUYsU0FBQW54RixTQUNBbEUsRUFBQXkxRixxQkFBQXoxRixFQUFBMDFGLGtCQVFBLFFBQUF6VixHQUFBNTlGLEVBQUE1RyxFQUFBMGhHLEdBY0EsUUFBQXNvQixLQUNBLE1BQUFuM0csR0FBQTdTLEdBQUEyZSxTQUFBLGFBQUFzNUMsUUFNQSxRQUFBaXlELEtBQ0FscUgsRUFBQTRlLFlBQUEsYUFDQTJ3SSxFQUFBdnZKLEVBQUEwaEcsR0FDQUEsRUFBQStsQyxhQUFBLEVBaEJBLE1BUEEvbEMsR0FBQThqQyxxQkFDQTlqQyxFQUFBK2pDLGtCQUNBL2pDLEVBQUEyb0IsZUFLQTNvQixFQUFBdjRGLFlBQUEsRUFBQStnSCxJQUFBRixJQUFBNXFILEtBQUE4cUgsR0F5QkEsUUFBQTNsQixHQUFBMzlGLEVBQUE1RyxFQUFBMGhHLEdBcUJBLFFBQUE4dEQsS0FJQSxNQUhBOXRELEdBQUExakcsT0FBQWtHLE9BQUFsRSxHQUNBQSxFQUFBLEdBQUE4TixNQUFBc3NGLFFBQUEsR0FFQTdrRixFQUFBLFNBQUFpc0IsR0FDQSxHQUFBdGUsR0FBQXVzSSxFQUFBenZKLEVBQUEwaEcsRUFFQTFoRyxHQUFBNGUsWUFBQSxZQUlBL0wsRUFBQTdTLEdBQ0EyZSxTQUFBLFlBQ0E4M0MsS0FBQXdwQixFQUFBdTNCLE1BQUF0MEYsR0FDQXd6QyxHQUFBdXBCLEVBQUF1M0IsT0FBQUssVUFBQSxPQUVBNS9DLFFBQ0E3NEQsS0FBQW9pQyxLQVFBLFFBQUF5a0csS0FDQSxJQUFBdmtDLEVBQUF0akYsT0FDQSxLQUFBMWtCLE9BQ0EscUVBR0F3TixHQUFBeEosT0FBQWdrRyxHQUNBK2xDLGFBQUEsRUFDQTdCLFdBQUEsRUFDQXhuSCxPQUFBbFgsRUFBQWxILFFBQUEwaEcsRUFBQXRqRixRQUNBcGdCLE9BQUFrSixFQUFBbEgsUUFBQTBoRyxFQUFBMWpHLFFBQ0EweEosY0FBQXhvSixFQUFBbEgsUUFBQUEsRUFBQSxHQUFBK0YsY0FBQSxzQkFPQSxRQUFBNHBKLEtBRUEsR0FBQUMsR0FBQSxTQUFBeHhJLEVBQUFtRyxHQUNBLE1BQUE1TixHQUFBNDNFLFNBQUEsV0FDQSxJQUFBbVQsRUFBQWtrQyxVQUFBLENBQ0EsR0FBQTFpSCxHQUFBdXNJLEVBQUFyeEksRUFBQW1HLEVBRUFuRyxHQUFBaTFDLElBQUE0c0IsRUFBQXUzQixNQUFBdDBGLFFBRUFsakIsRUFBQTBoRyxFQUtBLE9BSEFqckYsR0FBQXM3QyxpQkFBQSxTQUFBNjlGLEdBQ0FuNUksRUFBQXM3QyxpQkFBQSxvQkFBQTY5RixHQUVBLFdBR0FuNUksRUFBQXU3QyxvQkFBQSxTQUFBNDlGLEdBQ0FuNUksRUFBQXU3QyxvQkFBQSxvQkFBQTQ5RixJQVNBLFFBQUFqcEIsS0FrQ0EsUUFBQUUsR0FBQXg4RSxHQUNBLEdBQUF3bEcsRUFDQSxRQUFBeGxHLEVBQUFPLFNBQ0EsSUFBQTJuQyxHQUFBeEQsU0FBQS8xQixPQUNBMG9DLEVBQUF1c0QsV0FBQW4yRixPQUFBLEdBQUFxckMsVUFBQSxJQUNBMHNELEdBQUEsQ0FDQSxNQUNBLEtBQUF0OUQsR0FBQXhELFNBQUFTLFNBQ0FzZ0UsRUFBQXpsRyxFQUFBcTNDLEVBQUFndUQsY0FBQWh1RCxFQUFBLEtBQUFBLEVBQUFpckQsV0FDQWpyRCxFQUFBdXNELFdBQUFOLHNCQUFBdGpHLEdBRUF3bEcsR0FBQSxDQUNBLE1BQ0EsS0FBQXQ5RCxHQUFBeEQsU0FBQVcsV0FDQW9nRSxFQUFBemxHLEVBQUFxM0MsRUFBQWd1RCxjQUFBaHVELEVBQUEsSUFBQUEsRUFBQWlyRCxXQUNBanJELEVBQUF1c0QsV0FBQU4sc0JBQUF0akcsR0FFQXdsRyxHQUFBLENBQ0EsTUFDQSxLQUFBdDlELEdBQUF4RCxTQUFBUSxXQUNBbVMsRUFBQWlyRCxVQUNBanJELEVBQUF1c0QsV0FBQW4yRixRQUVBNHBDLEVBQUF1c0QsV0FBQU4sc0JBQUF0akcsR0FFQXdsRyxHQUFBLENBQ0EsTUFDQSxLQUFBdDlELEdBQUF4RCxTQUFBVSxZQUNBLEdBQUFzZ0UsR0FBQTc3RCxFQUFBc0UsV0FBQW51QyxFQUFBanNDLE9BQUEsVUFDQTJ4SSxJQUFBQSxHQUFBcnVELEVBQUExakcsT0FBQSxHQUNBcXNELEVBQUFqc0MsT0FBQWs5RyxRQUVBNTVCLEVBQUF1c0QsV0FBQU4sc0JBQUF0akcsR0FFQXdsRyxHQUFBLEVBR0FBLElBQ0F4bEcsRUFBQXhmLGlCQUNBd2YsRUFBQXpzQyw0QkFJQSxRQUFBZ3BILEdBQUE1aUksR0FDQUEsRUFBQTZtQyxpQkFDQTdtQyxFQUFBNlosa0JBQ0FqWCxFQUFBRSxPQUFBLFdBQ0E0NkYsRUFBQXVzRCxXQUFBbjJGLE9BQUEsR0FBQXFyQyxVQUFBLE1BS0EsUUFBQTZzRCxHQUFBaHNKLEdBZ0JBLFFBQUE4ekQsS0FDQWx4RCxFQUFBRSxPQUFBLFdBQ0E0NkYsRUFBQXVzRCxXQUFBbjJGLE9BQUEsR0FBQXFyQyxVQUFBLE1BSUEsUUFBQThzRCxHQUFBN3hJLEVBQUF3UCxHQUNBLElBQUF4UCxFQUFBLE9BQUEsQ0FDQSxLQUFBLEdBQUExZSxHQUFBOUYsRUFBQSxFQUFBOEYsRUFBQWt1QixFQUFBaDBCLEtBQUFBLEVBRUEsSUFBQSxHQUFBczJKLEdBREFDLEdBQUF6d0osRUFBQSxRQUFBQSxFQUFBLEtBQUFBLEdBQ0E1QyxFQUFBLEVBQUFvekosRUFBQUMsRUFBQXJ6SixLQUFBQSxFQUNBLEdBQUFzaEIsRUFBQXZZLGFBQUFxcUosR0FDQSxPQUFBLENBSUEsUUFBQSxFQS9CQSxHQUFBOXhJLEdBQUFwYSxFQUFBb2EsTUFHQSxHQUFBLENBQ0EsR0FBQUEsR0FBQXNqRixFQUFBZ3VELGNBQUEsR0FBQSxNQUNBLEtBQUFPLEVBQUE3eEksR0FBQSxXQUFBLFVBQUEsYUFDQSxVQUFBQSxFQUFBOWdCLFVBQUEsYUFBQThnQixFQUFBOWdCLFlBQUEyeUosRUFBQTd4SSxHQUFBLDBCQUFBLENBQ0EsR0FBQWd5SSxHQUFBbDhELEVBQUFzRSxXQUFBcDZFLEVBQUEsVUFDQUEsR0FBQXZZLGFBQUEsYUFBQXVxSixHQUFBQSxHQUFBMXVELEVBQUExakcsT0FBQSxJQUNBODVELEdBRUEsY0FFQTE1QyxFQUFBQSxFQUFBbkMsWUFuR0FqYyxFQUFBMmUsU0FBQSxnQkFHQStpRixFQUFBa1ksVUFBQWxZLEVBQUFrWSxTQUFBcHhHLEdBQUEsUUFBQW8rSCxHQU1BbGxDLEVBQUFndUQsY0FBQWxuSixHQUFBLFVBQUFxK0gsR0FDQW5sQyxFQUFBZ3VELGNBQUEsR0FBQTM5RixpQkFBQSxRQUFBaStGLEdBQUEsRUFHQSxJQUFBM0IsR0FBQTNzRCxFQUFBZ3VELGNBQUEsR0FBQTNwSixjQUFBLHlCQUNBLEtBQUFzb0osRUFBQSxDQUNBLEdBQUFsMUksR0FBQXVvRixFQUFBZ3VELGNBQUEsR0FBQXA3QyxpQkFFQSs1QyxHQUFBbDFJLElBQUFBLEVBQUFwVCxjQUFBLCtCQUFBb1QsRUFBQW03RixtQkFLQSxNQUZBKzVDLElBQUFBLEVBQUFucUYsUUFFQSxXQUNBbGtFLEVBQUE0ZSxZQUFBLGdCQUNBOGlGLEVBQUFrWSxVQUFBbFksRUFBQWtZLFNBQUEveUYsSUFBQSxRQUFBKy9HLEdBQ0FsbEMsRUFBQWd1RCxjQUFBN29JLElBQUEsVUFBQWdnSCxHQUNBbmxDLEVBQUFndUQsY0FBQSxHQUFBMTlGLG9CQUFBLFFBQUFnK0YsR0FBQSxJQTNHQSxNQVZBL3BCLEdBQUF2a0MsR0FHQWtCLEVBQUE3a0csUUFBQTJqRyxFQUFBZ3VELGNBQUFodUQsRUFBQXRqRixRQUdBc2pGLEVBQUErakMsZ0JBQUFrcUIsSUFDQWp1RCxFQUFBMm9CLGFBQUFULEVBQUFoakgsRUFBQTVHLEVBQUEwaEcsR0FHQTh0RCxJQUNBcHdKLEtBQUEsU0FBQTIvQixHQUdBLE1BRkEyaUUsR0FBQStsQyxhQUFBLEVBQ0EvbEMsRUFBQThqQyxtQkFBQW1CLElBQ0E1bkcsSUF3TkEsUUFBQSt3SCxHQUFBOXJKLEVBQUFtckosRUFBQXp0RCxFQUFBNVgsR0FTQSxJQUFBLEdBREF1bUUsR0FQQUMsRUFBQXA4RCxFQUFBc0UsV0FBQXgwRixFQUFBb2EsT0FBQSxnQkFFQXZlLEVBQUFxMEYsRUFBQVUsYUFBQXU2RCxFQUFBLEdBQUE1aUgsVUFDQWdrSCxFQUFBMXdKLEVBQUFPLFFBQUFrd0osR0FLQTEySixFQUFBMjJKLEVBQUF6bUUsRUFBQWx3RixHQUFBLEdBQUFBLEVBQUFpRyxFQUFBckYsT0FBQVosR0FBQWt3RixFQUFBLENBQ0EsR0FBQXVrRSxHQUFBeHVKLEVBQUFqRyxHQUFBbU0sY0FBQSxhQUVBLElBREFzcUosRUFBQUcsRUFBQW5DLEdBRUEsTUFHQSxNQUFBZ0MsR0FTQSxRQUFBRyxHQUFBaC9GLEdBQ0EsTUFBQUEsSUFBQSxJQUFBQSxFQUFBbHNELGFBQUEsYUFDQWtzRCxFQUFBMFMsUUFDQXp3RCxFQUFBLEdBQUErMkgsZUFBQWg1RSxHQUZBLE9BU0EsUUFBQSs5RixHQUFBdnZKLEVBQUEwaEcsR0FDQUEsRUFBQTIvQixnQkFLQW92QixFQUFBendKLEdBQUE4TixNQUFBc3NGLFFBQUEsT0FKQXEyRCxFQUFBendKLEdBQUFpYyxhQUFBdzBJLEVBQUEvdUQsRUFBQTFqRyxTQUNBeXlKLEVBQUEvdUQsRUFBQTFqRyxRQUFBcWUsWUFBQW8wSSxFQUFBendKLElBWUEsUUFBQXl2SixHQUFBaitGLEVBQUFrd0MsR0FrR0EsUUFBQXM2QixHQUFBaDBILEdBQ0FBLEVBQUF3YixJQUFBaVIsS0FBQUMsSUFBQUQsS0FBQW91QixJQUFBNzZDLEVBQUF3YixJQUFBa3pGLEVBQUF0ekYsT0FBQTBqRSxFQUFBeTFCLGNBQUE3RixFQUFBbHpGLEtBQ0F4YixFQUFBK2xDLEtBQUF0WixLQUFBQyxJQUFBRCxLQUFBb3VCLElBQUE3NkMsRUFBQStsQyxLQUFBMm9FLEVBQUExb0UsTUFBQTg0QyxFQUFBM3VCLGFBQUF1K0MsRUFBQTNvRSxNQU9BLFFBQUEyaUgsS0FDQSxJQUFBLEdBQUE5MkosR0FBQSxFQUFBQSxFQUFBKzJKLEVBQUFwa0gsU0FBQS94QyxTQUFBWixFQUNBLEdBQUEsUUFBQTZjLEVBQUF3TSxpQkFBQTB0SSxFQUFBcGtILFNBQUEzeUMsSUFBQXdnRyxRQUNBLE1BQUF1MkQsR0FBQXBrSCxTQUFBM3lDLEdBNUdBLEdBa0JBZzNKLEdBbEJBOXBFLEVBQUF0MUIsRUFBQSxHQUNBbS9GLEVBQUFuL0YsRUFBQSxHQUFBOGlELGtCQUNBdThDLEVBQUFGLEVBQUF4dEksd0JBQ0EydEksRUFBQXI5SSxFQUFBLEdBQUFvdkIsS0FDQWt1SCxFQUFBRCxFQUFBM3RJLHdCQUVBNnRJLEVBQUF2NkksRUFBQXdNLGlCQUFBMHRJLEdBRUFNLEVBQUF2dkQsRUFBQXRqRixPQUFBLEdBQUFyWSxjQUFBLHFCQUFBMjdGLEVBQUF0akYsT0FBQSxHQUNBOHlJLEVBQUFELEVBQUE5dEksd0JBRUF1ekYsR0FDQTNvRSxLQUFBZ2pILEVBQUFoakgsS0FBQW9qSCxFQUNBM3RJLElBQUFpUixLQUFBQyxJQUFBcThILEVBQUF2dEksSUFBQSxHQUFBMnRJLEVBQ0EvdEksT0FBQXFSLEtBQUFDLElBQUFxOEgsRUFBQTN0SSxPQUFBcVIsS0FBQUMsSUFBQXE4SCxFQUFBdnRJLElBQUEsR0FBQXV0SSxFQUFBcDhELFFBQUF3OEQsRUFDQW5qSCxNQUFBK2lILEVBQUEvaUgsTUFBQW1qSCxHQUdBQyxHQUFBNXRJLElBQUEsRUFBQXVxQixLQUFBLEVBQUFDLE1BQUEsRUFBQTVxQixPQUFBLEdBQUFpdUksR0FBQTd0SSxJQUFBLEVBQUF1cUIsS0FBQSxFQUFBQyxNQUFBLEVBQUE1cUIsT0FBQSxHQUNBdXJJLEVBQUFqdEQsRUFBQXVzRCxXQUFBVSxnQkFFQSxVQUFBQSxFQUFBbnJJLEtBQUEsVUFBQW1ySSxFQUFBNWdILE1BQUEsZ0JBQUE0Z0gsRUFBQTVnSCxRQUNBNmlILEVBQUFGLElBQ0FFLElBRUFBLEVBQUFBLEVBQUF0OEMsbUJBQUFzOEMsRUFDQUEsRUFBQUEsRUFBQTdxSixjQUFBLDJCQUFBNnFKLEVBQ0FRLEVBQUFSLEVBQUF6dEksd0JBRUFrdUksR0FDQTd0SSxJQUFBbS9CLFdBQUFta0MsRUFBQWg1RSxNQUFBMFYsS0FBQSxHQUNBdXFCLEtBQUE0VSxXQUFBbWtDLEVBQUFoNUUsTUFBQWlnQyxNQUFBLEtBS0EsSUFBQTdxQixNQUNBNmxILEVBQUEsTUFFQSxRQUFBNGxCLEVBQUFuckksS0FDQSxJQUFBLFNBQ0FOLEVBQUFNLElBQUE2dEksRUFBQTd0SSxJQUFBMHRJLEVBQUExdEksSUFBQTR0SSxFQUFBNXRJLEdBQ0EsTUFDQSxLQUFBLFVBQ0FOLEVBQUFNLElBQUEwdEksRUFBQTF0SSxJQUFBbS9CLFdBQUFxdUcsRUFBQTE5QixZQUFBMjlCLEVBQUFuakosTUFBQTBWLEdBQ0EsTUFDQSxLQUFBLFNBQ0FOLEVBQUFNLElBQUEwdEksRUFBQTF0SSxJQUFBMHRJLEVBQUF2OEQsTUFDQSxNQUNBLFNBQ0EsS0FBQSxJQUFBajdGLE9BQUEsd0JBQUFpMUosRUFBQW5ySSxJQUFBLHNDQUdBLE9BQUFtckksRUFBQTVnSCxNQUNBLElBQUEsU0FDQTdxQixFQUFBNnFCLEtBQUFzakgsRUFBQXRqSCxLQUFBbWpILEVBQUFuakgsS0FBQXFqSCxFQUFBcmpILEtBQ0FnN0YsR0FBQSxNQUNBLE1BQ0EsS0FBQSxlQUNBN2xILEVBQUE2cUIsS0FBQW1qSCxFQUFBbGpILE1BQUE2aUgsRUFBQW44RCxPQUFBbThELEVBQUE3aUgsTUFBQW9qSCxFQUFBcGpILE9BQ0ErNkYsR0FBQSxPQUNBLE1BQ0EsS0FBQSxVQUNBLEdBQUF1b0IsR0FBQUosRUFBQWxqSCxNQUFBNmlILEVBQUFuOEQsTUFBQWdpQixFQUFBMW9FLEtBQ0E5cUIsR0FBQTZxQixLQUFBdWpILEVBQUFKLEVBQUFsakgsTUFBQWlqSCxFQUFBbmpKLE1BQUFpZ0MsS0FBQW1qSCxFQUFBbmpILEtBQUFrakgsRUFBQW5qSixNQUFBaWdDLEtBQUE4aUgsRUFBQW44RCxNQUNBcTBDLEdBQUF1b0IsRUFBQSxPQUFBLE9BQ0EsTUFDQSxLQUFBLE9BQ0FwdUksRUFBQTZxQixLQUFBbWpILEVBQUFuakgsS0FDQWc3RixHQUFBLE1BQ0EsTUFDQSxTQUNBLEtBQUEsSUFBQXJ2SSxPQUFBLHdCQUFBaTFKLEVBQUE1Z0gsS0FBQSxzQ0FHQSxHQUFBK2dILEdBQUFwdEQsRUFBQXVzRCxXQUFBYSxTQUNBNXJJLEdBQUFNLEtBQUFzckksRUFBQXRySSxJQUNBTixFQUFBNnFCLE1BQUErZ0gsRUFBQS9nSCxLQUVBaXVGLEVBQUE5NEcsRUFFQSxJQUFBOHpGLEdBQUF2aUYsS0FBQXN1QixNQUFBLElBQUF0dUIsS0FBQW91QixJQUFBcXVHLEVBQUF4OEQsTUFBQTVOLEVBQUEzdUIsWUFBQSxJQUFBLElBQ0E4K0MsRUFBQXhpRixLQUFBc3VCLE1BQUEsSUFBQXR1QixLQUFBb3VCLElBQUFxdUcsRUFBQXY4RCxPQUFBN04sRUFBQXkxQixhQUFBLElBQUEsR0FFQSxRQUNBLzRGLElBQUFpUixLQUFBc3VCLE1BQUE3L0IsRUFBQU0sS0FDQXVxQixLQUFBdFosS0FBQXN1QixNQUFBNy9CLEVBQUE2cUIsTUFFQThwRSxVQUFBblcsRUFBQStsQyxZQUFBbnVJLEVBQUE0NkYsRUFBQXlELFNBQUEsa0JBQUFxZixFQUFBQyxJQUNBOHhCLGdCQUFBQSxHQXRjQSxHQUFBOW9ELEdBQUFpVSxFQUFBQyxJQUFBbFUsUUFFQSxRQUNBamlGLE9BQUEsT0FDQXVtRyxPQUFBQSxFQUNBQyxTQUFBQSxFQUNBZ25CLGFBQUEsRUFDQXhSLHFCQUFBLEVBQ0F0VixhQUFBLEVBQ0FKLGVBQUEsRUFDQXRCLFVBQUEsRUFDQTZCLFVBQUEsR0FvZEEsUUFBQTRyRCxHQUFBai9GLEdBSUEsTUFIQUEsYUFBQXRxRCxHQUFBbEgsVUFDQXd4RCxFQUFBQSxFQUFBLElBRUFBLEVBOWVBLEdBQUEyL0YsR0FBQSxDQUdBLE9BREE3QixHQUFBOXZJLFNBQUEsVUFBQSxhQUFBLGNBQUEsWUFBQSxVQUFBLEtBQUEsUUFBQSxjQUFBLFlBQ0FrNkYsRUFBQSxXQUNBNVksYUFDQUcsU0FBQSxVQUNBMThFLFFBQUErcUksSUFyQkFwb0osRUFDQTFOLE9BQUEsNEJBQ0FzUixTQUFBLFVBQUF1a0osR0E4ZkFBLEVBQUE3dkksU0FBQSwrQkFHQSxXQWFBLFFBQUEreEksR0FBQTkvSCxFQUFBcGMsRUFBQThWLEVBQUF1RyxFQUFBNmdFLEVBQUE5K0UsRUFBQXlnRixFQUFBMzlFLEdBQ0FsSyxLQUFBOGUsU0FBQUEsRUFDQTllLEtBQUFxbEIsT0FBQUEsRUFDQXJsQixLQUFBa21GLFlBQUFBLEVBQ0FsbUYsS0FBQTZuRixRQUFBQSxFQUNBN25GLEtBQUFvSCxVQUFBQSxFQUNBcEgsS0FBQW9sQixPQUFBQSxFQUNBcGxCLEtBQUFnSixXQUFBQSxFQUNBaEosS0FBQWtLLFNBQUFBLENBRUEsSUFBQXBVLEdBQUFrSyxJQUNBbkYsR0FBQTlMLFFBQUFvMkosRUFBQSxTQUFBL3VELEdBQ0F0Z0csRUFBQXNnRyxHQUFBdjdGLEVBQUFoRixLQUFBQyxFQUFBQSxFQUFBc2dHLE1BckJBdjdGLEVBQ0ExTixPQUFBLCtCQUNBbVAsV0FBQSxvQkFBQTRvSixFQUVBLElBQUFDLElBQUEsZ0JBQUEsa0JBQUEsMEJBQUEsc0JBb0JBRCxHQUFBL3hJLFNBQUEsU0FBQSxhQUFBLFdBQUEsU0FBQSxjQUFBLFlBQUEsVUFBQSxZQUVBK3hJLEVBQUFsdkksVUFBQSs4QyxLQUFBLFdBQ0EsR0FBQWowQyxHQUFBOWUsS0FBQThlLFNBQ0Erb0UsRUFBQTduRixLQUFBNm5GLFFBQ0F6aUUsRUFBQXBsQixLQUFBb2xCLE9BRUF0dkIsRUFBQWtLLEtBQ0FzckMsSUFDQXhzQixHQUFBM2lCLEdBQUEsVUFBQTZELEtBQUFvbEosZUFDQXBsSixLQUFBcWxKLGNBQUF4OUQsRUFBQXNFLFdBQUFydEUsRUFBQSxjQUVBd3NCLEVBQUFqM0MsS0FBQTJMLEtBQUFnSixXQUFBb2QsSUFBQSxjQUFBLFNBQUFwVixFQUFBbTBDLEdBQ0EsSUFBQXJ2RCxFQUFBd3ZKLFdBQUF2eEosUUFBQW94RCxFQUFBLE1BQ0FybUMsRUFBQSxHQUFBdzBGLFVBQUF2cEQsSUFBQSxXQUNBNUUsRUFBQSxHQUFBbXVELFVBQUF2cEQsSUFBQSxXQUNBajBELEVBQUFxckosa0JBQUFoOEYsRUFBQTdvRCxXQUFBLFVBQ0F4RyxFQUFBcXJKLGtCQUFBRSx1QkFBQXZySixFQUFBc3ZKLGVBQ0F0dkosRUFBQXl2Six3QkFJQWo2RyxFQUFBajNDLEtBQUEyTCxLQUFBZ0osV0FBQW9kLElBQUEsZUFBQSxTQUFBcFYsRUFBQW0wQyxFQUFBa3dDLEdBQ0EsR0FBQW13RCxHQUFBMXZKLEVBQUF3dkosVUFNQSxJQUxBLElBQUFFLEVBQUF6eEosUUFBQW94RCxFQUFBLE1BQ0FybUMsRUFBQSxHQUFBdzBGLFVBQUFsM0YsT0FBQSxXQUNBK29DLEVBQUEsR0FBQW11RCxVQUFBbDNGLE9BQUEsWUFHQTBDLEVBQUEsR0FBQTJuQyxTQUFBdEIsRUFBQSxJQUFBLENBRUEsSUFEQSxHQUFBdStGLEdBQUF2K0YsRUFBQSxHQUNBdStGLEdBQUEsSUFBQThCLEVBQUF6eEosUUFBQTJ2SixJQUNBQSxFQUFBNzdELEVBQUFzRSxXQUFBdTNELEVBQUEsV0FBQSxFQUVBQSxLQUNBcnVELEVBQUE2c0QsV0FBQXdCLEVBQUFocUosY0FBQSwwQkFBQW0rRCxRQUNBL2hFLEVBQUFxckosa0JBQUFsMEosRUFDQTZJLEVBQUEydkoscUJBQ0EzdkosRUFBQTR2SixpQkFBQSxRQUtBdGdJLEVBQUFnQixJQUFBLFdBQUEsV0FDQSxLQUFBa2xCLEVBQUFuOUMsUUFDQW05QyxFQUFBMzFCLFlBS0EzVixLQUFBMGxKLGlCQUFBLElBR0FSLEVBQUFsdkksVUFBQTB2SSxnQkFBQSxTQUFBOW1JLEdBQ0FBLEVBQUE1ZSxLQUFBOGUsU0FBQSxHQUFBdzBGLFVBQUF2cEQsSUFBQSxvQkFDQS9wRCxLQUFBOGUsU0FBQSxHQUFBdzBGLFVBQUFsM0YsT0FBQSxxQkFHQThvSSxFQUFBbHZJLFVBQUF1dkksa0JBQUEsV0FDQSxJQUFBdmxKLEtBQUEybEosbUJBQUEsQ0FDQTNsSixLQUFBMmxKLG9CQUFBLENBRUEsSUFBQU4sSUFDQUEsRUFBQXJsSixLQUFBcWxKLGlCQUNBQSxFQUFBTyxRQUFBQyxlQUFBUixFQUFBcHNKLGFBQUEsU0FDQW9zSixFQUFBNWpKLE1BQUFvVixTQUFBLFdBQ0F3dUksRUFBQTVqSixNQUFBK25GLE9BQUEsS0FFQTN1RixFQUNBbEgsUUFBQXFNLEtBQUFzbEosWUFDQW5wSixHQUFBLGFBQUE2RCxLQUFBOGxKLG1CQUdBWixFQUFBbHZJLFVBQUE4dkksZ0JBQUEsU0FBQW51SixHQUNBcUksS0FBQTBsSixpQkFBQSxHQUNBMWxKLEtBQUEybEosb0JBQ0EzbEosS0FBQStsSix3QkFBQXB1SixJQUtBdXRKLEVBQUFsdkksVUFBQXl2SSxtQkFBQSxXQUNBLEdBQUF6bEosS0FBQTJsSixtQkFBQSxDQUNBM2xKLEtBQUEybEosb0JBQUEsQ0FDQSxJQUFBTixJQUNBQSxFQUFBcmxKLEtBQUFxbEosZ0JBQ0FBLEVBQUFuMkksYUFBQSxRQUFBbTJJLEVBQUFPLFFBQUFDLGdCQUFBLElBRUFockosRUFDQWxILFFBQUFxTSxLQUFBc2xKLFlBQ0E5cUksSUFBQSxhQUFBeGEsS0FBQThsSixtQkFHQVosRUFBQWx2SSxVQUFBK3ZJLHdCQUFBLFNBQUFwdUosR0FDQSxHQUFBbXJKLEdBQUFqb0osRUFBQWxILFFBQUFnRSxFQUFBZzZILGVBQ0FxMEIsRUFBQWxELEVBQUF4bUosV0FBQSxTQUNBMEQsTUFBQTBsSixpQkFBQSxHQUNBMWxKLEtBQUFpbUosaUJBQUFELElBR0FkLEVBQUFsdkksVUFBQWl3SSxpQkFBQSxTQUFBRCxHQUNBLEdBQUFsd0osR0FBQWtLLEtBQ0FrSyxFQUFBbEssS0FBQWtLLFFBQ0E4N0ksSUFBQWx3SixFQUFBcXJKLG9CQUNBajNJLEVBQUE0USxPQUFBaGxCLEVBQUFvd0osaUJBQ0Fwd0osRUFBQW93SixnQkFBQWg4SSxFQUFBLFdBQ0FwVSxFQUFBb3dKLGdCQUFBajVKLEVBQ0E2SSxFQUFBcXJKLG1CQUNBcnJKLEVBQUFxckosa0JBQUExMUYsT0FBQSxHQUFBcXJDLFVBQUEsSUFFQWt2RCxFQUFBaHZILFFBQ0EsS0FBQSxLQUlBa3VILEVBQUFsdkksVUFBQW92SSxjQUFBLFNBQUF6dEosR0FDQSxHQUFBa2lILEdBQUE3NUcsS0FBQWttRixZQUFBeEQsU0FDQXlqRSxFQUFBbm1KLEtBQUFtaEosa0JBQ0FpRixFQUFBRCxHQUFBQSxFQUFBemxDLE1BQ0ExZ0gsTUFBQTBsSixpQkFBQSxFQUNBLElBQUFsQyxHQUFBNkMsRUFBQUMsQ0FDQSxRQUFBM3VKLEVBQUE0bUQsU0FDQSxJQUFBczdELEdBQUF4MkIsV0FDQThpRSxFQUNBQSxFQUFBcEUscUJBRUEvaEosS0FBQXVtSixrQkFFQS9DLEdBQUEsQ0FDQSxNQUNBLEtBQUEzcEMsR0FBQTEyQixTQUNBZ2pFLEdBQUFBLEVBQUExNkYsUUFDQSszRixHQUFBLENBQ0EsTUFDQSxLQUFBM3BDLEdBQUEzMkIsV0FDQW1qRSxFQUFBcm1KLEtBQUF3bUosVUFBQSxJQUNBSixJQUNBRSxFQUFBenJKLEVBQUFsSCxRQUFBMHlKLEdBQUEvcEosV0FBQSxVQUNBMEQsS0FBQWltSixpQkFBQUssSUFFQTlDLEdBQUEsQ0FDQSxNQUNBLEtBQUEzcEMsR0FBQXoyQixZQUNBaWpFLEVBQUFybUosS0FBQXdtSixVQUFBLEdBQ0FKLElBQ0FFLEVBQUF6ckosRUFBQWxILFFBQUEweUosR0FBQS9wSixXQUFBLFVBQ0EwRCxLQUFBaW1KLGlCQUFBSyxJQUVBOUMsR0FBQSxFQUdBQSxJQUNBN3JKLEdBQUFBLEVBQUE2bUMsZ0JBQUE3bUMsRUFBQTZtQyxpQkFDQTdtQyxHQUFBQSxFQUFBNFosMEJBQUE1WixFQUFBNFosNkJBSUEyekksRUFBQWx2SSxVQUFBd3dJLFVBQUEsU0FBQS9vRSxHQUNBLEdBQUFncEUsR0FBQXptSixLQUFBc2xKLFdBQ0FvQixFQUFBMW1KLEtBQUEybUoscUJBRUEsS0FBQUQsSUFBQUEsRUFBQTFtSixLQUFBNG1KLG1CQUVBLElBQUFwaUgsSUFBQSxDQVVBLE9BUkEsSUFBQWtpSCxFQUFBQSxFQUFBLEdBRUEsRUFBQWpwRSxHQUFBaXBFLEVBQUEsR0FDQWpwRSxFQUFBLEdBQUFpcEUsRUFBQUQsRUFBQXQ0SixPQUFBc3ZGLEtBRUFpcEUsR0FBQWpwRSxFQUNBajVDLEdBQUEsR0FFQUEsR0FDQWlpSCxFQUFBQyxHQUFBaHRKLGNBQUEsVUFBQW0rRCxRQUNBNHVGLEVBQUFDLElBRkEsUUFNQXhCLEVBQUFsdkksVUFBQXV3SSxnQkFBQSxXQUNBLEdBQUFNLEdBQUE3bUosS0FBQThtSixnQkFDQUQsSUFBQWhzSixFQUFBbEgsUUFBQWt6SixHQUFBdnFKLFdBQUEsVUFBQTA2QixRQUdBa3VILEVBQUFsdkksVUFBQXN2SSxTQUFBLFdBQ0EsR0FBQXhtSSxHQUFBOWUsS0FBQThlLFFBQ0EsT0FBQTllLE1BQUE2bkYsUUFBQVUsYUFBQXpwRSxFQUFBLEdBQUFvaEIsVUFDQXRnQyxPQUFBLFNBQUF1bEQsR0FBQSxNQUFBLFdBQUFBLEVBQUFsMEQsWUFHQWkwSixFQUFBbHZJLFVBQUE4d0ksZUFBQSxXQUNBLE1BQUE5bUosTUFBQXNsSixXQUFBdGxKLEtBQUEybUosd0JBR0F6QixFQUFBbHZJLFVBQUEyd0ksb0JBQUEsV0FDQSxHQUFBOStELEdBQUE3bkYsS0FBQTZuRixRQUNBay9ELEVBQUFsL0QsRUFBQXNFLFdBQ0Fuc0YsS0FBQW9ILFVBQUEsR0FBQSsySCxjQUNBLFVBRUEsS0FBQTRvQixFQUFBLE1BQUEsRUFFQSxJQUFBTCxHQUFBMW1KLEtBQUFzbEosV0FBQXZ4SixRQUFBZ3pKLEVBQ0EsT0FBQUwsSUFJQXhCLEVBQUFsdkksVUFBQTR3SSxpQkFBQSxXQUVBLElBQUEsR0FEQUgsR0FBQXptSixLQUFBc2xKLFdBQ0EvM0osRUFBQSxFQUFBQSxFQUFBazVKLEVBQUF0NEosU0FBQVosRUFDQSxHQUFBazVKLEVBQUFsNUosR0FBQStsSCxVQUFBN3NELFNBQUEsV0FBQSxNQUFBbDVELEVBRUEsT0FBQSxPQVlBLFdBcUdBLFFBQUF5NUosR0FBQW4vRCxFQUFBME8sR0FDQSxPQUNBajRFLFNBQUEsSUFDQUQsUUFBQSxZQUNBL2hCLFdBQUEsb0JBRUE5QixRQUFBLFNBQUF5c0osRUFBQS9pSSxHQXFCQSxNQXBCQUEsR0FBQWdqSSxVQUNBRCxFQUFBLEdBQUEvM0ksYUFBQSxPQUFBLFdBRUFyVSxFQUFBOUwsUUFBQWs0SixFQUFBLEdBQUEvbUgsU0FBQSxTQUFBNGlILEdBQ0EsR0FBQSxXQUFBQSxFQUFBN3hKLFNBQUEsQ0FDQTZ4SixFQUFBdHBKLGFBQUEsc0JBQ0FzcEosRUFBQTV6SSxhQUFBLG1CQUFBLGVBQ0E0ekksRUFBQXBwSixjQUFBLFlBQUF3VixhQUFBLE9BQUEsWUFFQSxJQUFBaTRJLEdBQUF0L0QsRUFBQVUsYUFBQXU2RCxFQUFBbjFJLGlCQUFBLG1CQUNBOVMsR0FBQTlMLFFBQUFvNEosRUFBQSxTQUFBcnRCLEdBQ0FBLEVBQUF4bUIsVUFBQXZwRCxJQUFBLG9CQUNBK3ZFLEVBQUF4bUIsVUFBQXZwRCxJQUFBLFlBQ0ErdkUsRUFBQXRnSSxhQUFBLFVBQ0FzZ0ksRUFBQTVxSCxhQUFBLFFBQUEsUUFNQSxTQUFBM1UsRUFBQTRxRCxFQUFBNWpDLEVBQUF3N0IsR0FDQXc1QyxFQUFBaDhGLEVBQUE0cUQsR0FDQXBJLEVBQUFnVyxVQXJDQWw0RCxFQUNBMU4sT0FBQSwrQkFDQTBTLFVBQUEsWUFBQW1uSixHQXlDQUEsRUFBQTd6SSxTQUFBLFVBQUEsaUJBR0EsV0FTQSxRQUFBaTBJLEtBQ0EsT0FDQTlvSSxTQUFBLElBQ0E5akIsUUFBQSxTQUFBeXNKLEVBQUEvaUksR0FDQUEsRUFBQTA4RCxNQUNBcW1FLEVBQUEsR0FBQS8zSSxhQUFBLE9BQUEsZUFWQXJVLEVBQ0ExTixPQUFBLCtCQUNBMFMsVUFBQSxnQkFBQXVuSixNQWVBLFdBWUEsUUFBQUMsR0FBQWppSSxFQUFBdEcsRUFBQXVHLEdBQ0FybEIsS0FBQThlLFNBQUFBLEVBQ0E5ZSxLQUFBcWxCLE9BQUFBLEVBQ0FybEIsS0FBQW9sQixPQUFBQSxFQVhBdnFCLEVBQ0ExTixPQUFBLCtCQUNBbVAsV0FBQSxxQkFBQStxSixHQVdBQSxFQUFBbDBJLFNBQUEsU0FBQSxXQUFBLFVBRUFrMEksRUFBQXJ4SSxVQUFBKzhDLEtBQUEsU0FBQXB1RCxHQUNBLEdBQUFtYSxHQUFBOWUsS0FBQThlLFNBQ0F1RyxFQUFBcmxCLEtBQUFxbEIsTUFFQXJsQixNQUFBMkUsUUFBQUEsR0FDQSxZQUFBMGdCLEVBQUF0WCxNQUFBLFNBQUFzWCxFQUFBdFgsUUFDQS9OLEtBQUFpZCxLQUFBb0ksRUFBQXRYLEtBQ0EvTixLQUFBc25KLE9BQUF4b0ksRUFBQSxHQUFBb2hCLFNBQUEsR0FDQWxnQyxLQUFBdW5KLFNBQUF6b0ksRUFBQSxHQUFBb2hCLFNBQUEsR0FDQXY3QixHQUVBM0UsS0FBQXduSix1QkFTQUgsRUFBQXJ4SSxVQUFBeXhJLFlBQUEsV0FDQSxHQUFBdGlHLEdBQUFubEQsS0FBQThlLFNBQUEsR0FDQTRvSSxHQUFBLE9BQUEsV0FBQSxlQUFBLGVBQ0E3c0osR0FBQTlMLFFBQUEyNEosRUFBQSxTQUFBcjBKLEdBQ0E4eEQsRUFBQTRCLGdCQUFBMXpELE1BSUFnMEosRUFBQXJ4SSxVQUFBd3hJLG1CQUFBLFdBOEJBLFFBQUEvd0IsS0FDQSxHQUFBLFNBQUF4NUcsRUFBQSxDQUNBLEdBQUE5bUIsR0FBQWt2QixFQUFBeGYsUUFBQXVmLEVBQUE2bkIsTUFBQTVuQixFQUFBeGYsU0FBQXdmLEVBQUF4MUIsS0FDQSxPQUFBOFUsR0FBQWswRCxhQUFBMWlFLEVBRUEsTUFBQXdPLEdBQUFrMEQsWUFJQSxRQUFBOC9DLEdBQUF2OEMsR0FDQUEsRUFDQTk5QixFQUFBOWpCLElBQUEsUUFBQW10SSxHQUVBcnBILEVBQUFuaUMsR0FBQSxRQUFBd3JKLEdBMUNBLEdBQUE3eEosR0FBQWtLLEtBQ0EyRSxFQUFBM0UsS0FBQTJFLFFBQ0F5Z0IsRUFBQXBsQixLQUFBb2xCLE9BQ0FDLEVBQUFybEIsS0FBQXFsQixPQUVBcEksR0FEQWpkLEtBQUE4ZSxTQUNBOWUsS0FBQWlkLEtBRUFqZCxNQUFBMm5KLFlBQUE5c0osRUFBQWhGLEtBQUFtSyxLQUFBQSxLQUFBMm5KLFlBRUEsSUFBQWhKLEdBQUEzK0ksS0FBQXNuSixPQUNBaHBILEVBQUF6akMsRUFBQWxILFFBQUFxTSxLQUFBdW5KLFVBQ0FJLEVBQUEzbkosS0FBQTJuSixXQUVBdGlJLEdBQUFpSCxTQUFBLFdBQUFxc0YsR0FDQUEsRUFBQXR6RixFQUFBKzJDLFVBRUF6M0QsRUFBQTY1QyxRQUFBLFdBQ0Exb0QsRUFBQTJ4SixjQUNBaHhCLEtBQ0Frb0IsRUFBQWw5SSxNQUFBc3NGLFFBQUEsR0FDQXp2RCxFQUFBanJDLEtBQUEsZUFBQSxVQUVBc3JKLEVBQUFsOUksTUFBQXNzRixRQUFBLE9BQ0F6dkQsRUFBQWpyQyxLQUFBLGVBQUEsV0FJQSt4QixFQUFBd2YsYUFBQWpnQyxFQUFBNjVDLFVBb0JBNm9HLEVBQUFyeEksVUFBQTJ4SSxZQUFBLFNBQUFod0osR0FDQSxHQUdBOGYsR0FIQXdGLEVBQUFqZCxLQUFBaWQsS0FDQXRZLEVBQUEzRSxLQUFBMkUsUUFDQTBnQixFQUFBcmxCLEtBQUFxbEIsTUFFQSxhQUFBcEksRUFDQXhGLEdBQUE5UyxFQUFBazBELFlBQ0EsU0FBQTU3QyxJQUNBeEYsRUFBQTROLEVBQUF4ZixRQUFBN0YsS0FBQW9sQixPQUFBNm5CLE1BQUE1bkIsRUFBQXhmLFNBQUF3ZixFQUFBeDFCLE9BRUE4VSxFQUFBeTVDLGNBQUEzbUMsR0FDQTlTLEVBQUE2NUMsY0FJQSxXQVlBLFFBQUFvcEcsS0FDQSxPQUNBdnBJLFNBQUEsYUFBQSxZQUNBRCxTQUFBLElBQ0E1akIsUUFBQSxTQUFBeXNKLEVBQUEvaUksR0EwQkEsUUFBQTJqSSxHQUFBeDBKLEVBQUE4QyxFQUFBZ3ZELEdBQ0FBLEVBQUFBLEdBQUE4aEcsRUFDQTloRyxZQUFBdHFELEdBQUFsSCxVQUNBd3hELEVBQUFBLEVBQUEsSUFFQUEsRUFBQTNyRCxhQUFBbkcsSUFDQTh4RCxFQUFBajJDLGFBQUE3YixFQUFBOEMsR0FJQSxRQUFBMnhKLEdBQUF6MEosR0FDQSxHQUFBNHpKLEVBQUEsR0FBQXp0SixhQUFBbkcsR0FBQSxDQUNBLEdBQUE4QyxHQUFBOHdKLEVBQUEsR0FBQWh1SixhQUFBNUYsRUFDQWswSixHQUFBLEdBQUFyNEksYUFBQTdiLEVBQUE4QyxHQUNBOHdKLEVBQUEsR0FBQWxnRyxnQkFBQTF6RCxJQXZDQSxHQUFBLFlBQUE2d0IsRUFBQW5XLE1BQUEsU0FBQW1XLEVBQUFuVyxLQUFBLENBQ0EsR0FBQWtjLEdBQUFnOUgsRUFBQSxHQUFBbDZJLFlBQ0F3NkksRUFBQTFzSixFQUFBbEgsUUFBQSx3Q0FDQTR6SixHQUFBenZKLEtBQUFteUIsR0FDQXM5SCxFQUFBbDBKLEtBQUEsV0FBQSxLQUVBNHpKLEVBQUFudkosS0FBQSxJQUNBbXZKLEVBQUFwdkosT0FBQWdELEVBQUFsSCxRQUFBLDRDQUNBc3pKLEVBQUFwdkosT0FBQTB2SixHQUNBTixFQUFBLEdBQUEzekMsVUFBQXZwRCxJQUFBLGFBRUE4OUYsRUFBQSxPQUFBLFlBQUEzakksRUFBQW5XLEtBQUEsbUJBQUEsZ0JBQUF3NUksR0FDQTFzSixFQUFBOUwsU0FBQSxlQUFBKzRKLE9BR0FELEdBQUEsT0FBQSxXQUFBWixFQUFBLEdBQUF2dEosY0FBQSxzQkFJQSxPQUFBLFVBQUFhLEVBQUE0cUQsRUFBQTVqQyxFQUFBeTBDLEdBQ0EsR0FBQWpaLEdBQUFpWixFQUFBLEdBQ0FyeEQsRUFBQXF4RCxFQUFBLEVBQ0FqWixHQUFBZ1csS0FBQXB1RCxLQXFCQXJJLFdBQUEsc0JBeERBekIsRUFDQTFOLE9BQUEsK0JBQ0EwUyxVQUFBLGFBQUErbkosTUEyREEsV0EwREEsUUFBQUcsS0FpQ0EsUUFBQXg1QyxHQUFBaDBHLEVBQUE1RyxFQUFBTixFQUFBMHBELEdBQ0EsR0FBQUEsRUFBQSxDQUNBLEdBQUEvdUQsR0FBQSt1RCxFQUFBaXJHLG1CQUFBcjBKLEdBQ0E2aUMsRUFBQTFwQixFQUFBblosRUFBQSxlQUFBeW9CLFNBQ0ErL0MsRUFBQXJ2RCxFQUFBblosRUFBQSxnQkFBQXlvQixTQUNBMWhCLEVBQUFxaUQsRUFBQWtyRyxXQUNBMXRKLE1BQUFBLEVBQ0E1SSxPQUFBNEksRUFBQXFsQixRQUNBNXhCLE1BQUFBLEVBQ0EyRixRQUFBQSxFQUNBOUYsU0FBQTJvQyxFQUFBMStCLE9BQ0Fxa0UsTUFBQUEsRUFBQXJrRSxRQUNBOUosRUFFQXVNLEdBQUFnSCxPQUFBaEgsRUFBQWdILFFBQUExRyxFQUFBL0ksS0FDQXlJLEVBQUF1NkgsU0FBQXY2SCxFQUFBdTZILFVBQUFqNkgsRUFBQS9JLEtBRUF5SSxFQUFBOUgsT0FBQSxTQUFBLFNBQUF5MUosR0FBQUEsR0FBQW5yRyxFQUFBeDdDLE9BQUE3RyxFQUFBeXRKLGNBQ0E1dEosRUFBQTlILE9BQUEsV0FBQSxXQUFBc3FELEVBQUFxckcsaUJBQ0E3dEosRUFBQTlILE9BQ0EsV0FDQSxNQUFBc3FELEdBQUFpckcsbUJBQUFyMEosSUFFQSxTQUFBeTJJLEdBQ0ExdkksRUFBQTFNLE1BQUFvOEksRUFDQXJ0RixFQUFBc3JHLG1CQUdBOXRKLEVBQUE2ckIsSUFBQSxXQUFBLFdBQUEyMkIsRUFBQXVyRyxVQUFBNXRKLE1BR0EsUUFBQW9TLEdBQUFuWixFQUFBeTRGLEdBRUEsSUFBQSxHQURBbHNELEdBQUF2c0MsRUFBQSxHQUFBdXNDLFNBQ0EzeUMsRUFBQSxFQUFBb1EsRUFBQXVpQyxFQUFBL3hDLE9BQUF3UCxFQUFBcFEsRUFBQUEsSUFBQSxDQUNBLEdBQUFzOUMsR0FBQTNLLEVBQUEzeUMsRUFDQSxJQUFBczlDLEVBQUF1aEQsVUFBQUEsRUFBQWhoRixjQUFBLE1BQUF2USxHQUFBbEgsUUFBQWszQyxHQUVBLE1BQUFod0MsR0FBQWxILFVBckVBLE9BQ0EwcUIsUUFBQSxXQUNBd0QsVUFBQSxFQUNBcm5CLFFBQUEsU0FBQTdHLEVBQUFOLEdBQ0EsR0FBQThvRSxHQUFBcnZELEVBQUFuWixFQUFBLGdCQUNBNmlDLEVBQUExcEIsRUFBQW5aLEVBQUEsY0FFQSxJQUFBLEdBQUF3b0UsRUFBQWh1RSxTQUNBZ3VFLEVBQUF0aEUsRUFBQWxILFFBQUEsaUNBQ0FOLEVBQUE4b0UsTUFBQUEsRUFBQWx5QyxLQUFBNTJCLEVBQUE4b0UsT0FDQUEsRUFBQXRrRSxPQUFBbEUsRUFBQTh6QixZQUVBLEdBQUErTyxFQUFBcm9DLFFBQUEsQ0FDQSxHQUFBczVCLEdBQUE5ekIsRUFBQTh6QixXQUFBMGdDLFFBQ0EzeEIsR0FBQTM3QixFQUFBbEgsUUFBQSwrQkFDQTZpQyxFQUFBMytCLE9BQUE0dkIsR0FPQSxNQUhBOXpCLEdBQUFrRSxPQUFBc2tFLEdBQ0EzbEMsRUFBQTErQixRQUFBbkUsRUFBQWtFLE9BQUEyK0IsR0FFQSszRSxHQUVBaDBHLE9BQ0EydEosT0FBQSxhQUNBOXJGLFNBQUEsZUFDQTc2RCxPQUFBLGVBQ0F1ekgsU0FBQSxtQkFqQ0FqNkgsRUFDQTFOLE9BQUEsNEJBQ0EwUyxVQUFBLFFBQUFrb0osTUE2RUEsV0FPQSxRQUFBUSxLQUNBLE9BQ0FscUksUUFBQSxXQUNBOUMsS0FBQSxTQUFBaGhCLEVBQUE1RyxFQUFBTixFQUFBMHBELEdBQ0FBLEdBQ0FBLEVBQUEreEUsYUFBQXYwSCxFQUFBNUcsS0FUQWtILEVBQ0ExTixPQUFBLDRCQUNBMFMsVUFBQSxZQUFBMG9KLE1BYUEsV0FPQSxRQUFBQyxLQUNBLE9BQUEzbUksVUFBQSxHQUxBaG5CLEVBQ0ExTixPQUFBLDRCQUNBMFMsVUFBQSxhQUFBMm9KLE1BUUEsV0FNQSxRQUFBQyxHQUFBMy9JLEdBQ0EsT0FDQXdWLFNBQUEsSUFDQTlqQixRQUFBLFNBQUFza0IsRUFBQXpyQixHQUNBLEdBQUEwQyxHQUFBK1MsRUFBQXpWLEVBQUFxMUosWUFBQSxNQUFBLEVBQ0EsT0FBQSxVQUFBbnVKLEVBQUE1RyxHQUNBQSxFQUFBd0ksR0FBQSxhQUFBLFNBQUE2VSxHQUNBelcsRUFBQUUsT0FBQSxXQUFBMUUsRUFBQXdFLEdBQUFxdkMsT0FBQTU0QixXQVZBblcsRUFBQTFOLE9BQUEsNEJBQ0EwUyxVQUFBLGNBQUE0b0osR0FlQUEsRUFBQXQxSSxTQUFBLGFBR0EsV0FVQSxRQUFBdzFJLEdBQUF2akksRUFBQXRHLEVBQUExVSxFQUFBODdFLEVBQUEwaUUsRUFDQS9nRSxFQUFBcmhGLEVBQUE2ZSxFQUFBK3hDLEVBQUFtL0IsR0E4REEsUUFBQXhqQyxLQUNBaFcsR0FBQThyRyxjQUFBOXJHLEdBQUE4ckcsZUFBQSxFQUNBQyxJQUNBdmhCLElBQ0E1cEMsSUFDQXBILEVBQUF6M0UsR0FDQStvRSxFQUFBM2hELFNBQUEsV0FDQTZpSCxLQUNBQyxJQUNBQyxLQUNBbHNHLEdBQUFtc0csS0FBQW5zRyxHQUFBOHJHLGdCQUFBOXJHLEdBQUFtc0csS0FBQW5zRyxHQUFBOHJHLGVBQUF0dUosTUFBQWdILFNBQ0E0bkosSUFBQSxFQUNBQyxNQVFBLFFBQUFOLEtBQ0EsR0FBQWo3SixHQUFBdzNCLEVBQUFna0ksZ0JBQ0ExMUosRUFBQWtILEVBQUFsSCxRQUFBNGIsR0FBQTdVLEtBQ0EvRyxHQUFBbUUsS0FBQWpLLEdBQ0F1cEUsRUFBQXpqRSxFQUFBOHpCLFlBQUFzMUIsR0FBQXByRCxjQUNBMHpCLEdBQUFna0ksZ0JBTUEsUUFBQTFyRCxLQUNBOWlHLEVBQUFsSCxRQUFBeVcsR0FBQWpPLEdBQUEsU0FBQW10SixHQUNBbGtJLEVBQUFnQixJQUFBLFdBQUE0bkYsR0FNQSxRQUFBdTVCLEtBQ0FuaUgsRUFBQTN5QixPQUFBLDRCQUFBODJKLEdBUUEsUUFBQUMsR0FBQXQ2SixFQUFBMmlCLEdBQ0EsR0FBQXhlLEdBQUFneUIsRUFBQTBILFdBQUEsTUFBQTc5QixFQUNBMmlCLElBQUFnNkUsRUFBQTM4RixFQUFBMmlCLEdBQ0F3VCxFQUFBaUgsU0FBQWo1QixFQUFBLFNBQUE0M0IsR0FBQTh4QixHQUFBN3RELEdBQUErN0IsSUFTQSxRQUFBdytILEdBQUF2NkosRUFBQTJpQixHQUtBLFFBQUE2M0ksR0FBQXorSCxHQUNBOHhCLEdBQUE3dEQsR0FBQSxVQUFBKzdCLEVBTEEsR0FBQTUzQixHQUFBZ3lCLEVBQUEwSCxXQUFBLE1BQUE3OUIsRUFDQTJpQixJQUFBZzZFLEVBQUEzOEYsRUFBQTJpQixHQUNBd1QsRUFBQWoyQixlQUFBaUUsSUFBQXEySixFQUFBcmtJLEVBQUFoeUIsSUFDQWd5QixFQUFBaUgsU0FBQWo1QixFQUFBcTJKLEdBU0EsUUFBQTE3QyxLQUNBMjdDLElBQUEsRUFDQTl1SixFQUFBbEgsUUFBQXlXLEdBQUFvUSxJQUFBLFNBQUE4dUksR0FTQSxRQUFBTSxHQUFBQyxHQUNBaHZKLEVBQUFsSCxRQUFBNGIsR0FBQWtiLFNBQUE2OUIsWUFBQSxrQkFBQXdoRyxLQUNBYixLQUdBLFFBQUFjLEdBQUE5K0gsR0FDQTh4QixHQUFBaXRHLGlCQUFBQSxJQUdBLFFBQUFDLEdBQUFDLEVBQUFDLEdBQ0FELElBQUFDLEdBQ0F0aUUsRUFBQTNoRCxTQUFBNlcsR0FBQWtzRztDQUlBLFFBQUFtQixHQUFBbi9ILEVBQUFHLEdBQ0FILElBQUFHLElBQ0EyeEIsR0FBQXN0RyxZQUFBQyxJQUNBdnRHLEdBQUFpdEcsaUJBQUFBLElBQ0FuaUUsRUFBQTNoRCxTQUFBLFdBQ0E2VyxHQUFBc3RHLFlBQUFDLElBQ0F0QixFQUFBanNHLEdBQUE4ckcsa0JBU0EsUUFBQTBCLEdBQUFDLEdBQ0ExckksRUFBQTBySSxFQUFBLGNBQUEsWUFBQSxxQkFPQSxRQUFBQyxHQUFBL29ILEdBQ0EsR0FBQXpXLEdBQUE4eEIsR0FBQWl0RyxpQkFBQSxHQUFBLElBQUF0b0gsRUFBQSxJQUNBN21DLEdBQUFsSCxRQUFBNGIsR0FBQW03SSxRQUFBMWpHLElBQUFrL0IsRUFBQXYyQyxJQUFBZzBDLFVBQUEsZUFBQTE0RCxFQUFBLFdBQ0E3RixFQUFBeVksV0FBQSw0QkFRQSxRQUFBOHNILEdBQUF2Z0IsRUFBQXdnQixHQUNBeGdCLElBQUF3Z0IsR0FDQXI3SSxHQUFBMjVJLEtBQUE5ZSxLQUNBNGUsSUFDQTZCLEtBUUEsUUFBQXRCLEdBQUF0K0gsRUFBQUcsR0FDQUgsSUFBQUcsSUFFQTJ4QixHQUFBOHJHLGNBQUFpQyxFQUFBNy9ILEdBQ0E4eEIsR0FBQWd1RyxrQkFBQTMvSCxFQUNBMnhCLEdBQUFrc0cscUJBQ0FGLEtBQ0FDLEVBQUEvOUgsR0FDQTdGLEVBQUF5WSxXQUFBLGtCQUNBa2YsR0FBQW1zRyxLQUFBOTlILElBQUEyeEIsR0FBQW1zRyxLQUFBOTlILEdBQUE3d0IsTUFBQXU2SCxXQUNBLzNFLEdBQUFtc0csS0FBQWorSCxJQUFBOHhCLEdBQUFtc0csS0FBQWorSCxHQUFBMXdCLE1BQUFnSCxVQUdBLFFBQUF5bUosR0FBQWdELEdBQ0EsR0FBQTlCLEdBQUFwcUksRUFBQSxHQUFBNHBDLHFCQUFBLFNBQ0EsT0FBQW55QyxPQUFBUCxVQUFBamlCLFFBQUExRSxLQUFBNjVKLEVBQUE4QixFQUFBLElBT0EsUUFBQUMsS0FFQUEsRUFBQWxnSCxVQUVBa2dILEVBQUFsZ0gsUUFBQTNsQixFQUFBM3lCLE9BQUEsV0FFQW8xRixFQUFBM2hELFNBQUEsV0FFQStrSCxFQUFBbGdILFNBRUFqc0IsRUFBQTFyQixLQUFBLGtCQUNBNjNKLEVBQUFsZ0gsVUFDQWtnSCxFQUFBbGdILFFBQUEsS0FFQXUrRyxPQUVBLE1BVUEsUUFBQTdXLEdBQUF6aEksR0FDQSxPQUFBQSxFQUFBdXRDLFNBQ0EsSUFBQTJuQyxHQUFBeEQsU0FBQVEsV0FDQWx5RSxFQUFBd3RCLGlCQUNBMHNILEVBQUEsSUFBQSxFQUNBLE1BQ0EsS0FBQWhsRSxHQUFBeEQsU0FBQVUsWUFDQXB5RSxFQUFBd3RCLGlCQUNBMHNILEVBQUEsR0FBQSxFQUNBLE1BQ0EsS0FBQWhsRSxHQUFBeEQsU0FBQUcsTUFDQSxJQUFBcUQsR0FBQXhELFNBQUFFLE1BQ0E1eEUsRUFBQXd0QixpQkFDQTJzSCxLQUFBcHVHLEdBQUE4ckcsY0FBQTlyRyxHQUFBcXVHLFlBR0FydUcsR0FBQXN1RyxXQUFBLEVBUUEsUUFBQTlwSixHQUFBdlQsR0FDQW05SixLQUFBcHVHLEdBQUFxdUcsV0FBQXJ1RyxHQUFBOHJHLGNBQUE3NkosR0FDQSt1RCxHQUFBc3VHLFdBQUEsRUFFQXhqRSxFQUFBM2hELFNBQUEsV0FDQTZXLEdBQUFtc0csS0FBQWw3SixHQUFBMkYsUUFBQW9KLGVBQUEsV0FDQSxHQU9BLFFBQUEyWixHQUFBMUYsR0FDQStyQyxHQUFBdXVHLGlCQUNBdDZJLEVBQUF3dEIsaUJBQ0F1ZSxHQUFBKy9FLFdBQUF5dUIsR0FBQXh1RyxHQUFBKy9FLFdBQUE5ckgsRUFBQXc2SSxhQU1BLFFBQUFDLEtBQ0EsR0FFQWwrSixHQUFBbStKLEVBRkFDLEVBQUFwOEksR0FBQXE4SSxPQUFBNWhFLFlBQ0E2aEUsRUFBQUYsRUFBQTV1RyxHQUFBKy9FLFVBRUEsS0FBQXZ2SSxFQUFBLEVBQUFBLEVBQUFnaUIsR0FBQTI1SSxLQUFBLzZKLFNBQ0F1OUosRUFBQW44SSxHQUFBMjVJLEtBQUEzN0osS0FDQW0rSixFQUFBNXVCLFdBQUE0dUIsRUFBQTUvRixZQUFBKy9GLElBRkF0K0osS0FJQXd2RCxHQUFBKy9FLFdBQUF5dUIsR0FBQUcsRUFBQTV1QixZQU1BLFFBQUFndkIsS0FDQSxHQUFBditKLEdBQUFtK0osQ0FDQSxLQUFBbitKLEVBQUEsRUFBQUEsRUFBQWdpQixHQUFBMjVJLEtBQUEvNkosU0FDQXU5SixFQUFBbjhJLEdBQUEyNUksS0FBQTM3SixLQUNBbStKLEVBQUE1dUIsV0FBQTR1QixFQUFBNS9GLGFBQUEvTyxHQUFBKy9FLGFBRkF2dkksS0FJQXd2RCxHQUFBKy9FLFdBQUF5dUIsR0FBQUcsRUFBQTV1QixXQUFBNHVCLEVBQUE1L0YsWUFBQXY4QyxHQUFBcThJLE9BQUE1aEUsYUFNQSxRQUFBcy9ELEtBQ0F2c0csR0FBQWd1RyxrQkFBQWh1RyxHQUFBOHJHLGNBQ0E5ckcsR0FBQSsvRSxXQUFBeXVCLEdBQUF4dUcsR0FBQSsvRSxZQUNBajFDLEVBQUEzaEQsU0FBQSxXQUNBNlcsR0FBQWtzRyxxQkFDQUcsTUFJQSxRQUFBMkMsR0FBQWgyRCxHQUNBbDdGLEVBQUFsSCxRQUFBNGIsR0FBQXk4SSxRQUFBMWpHLFlBQUEsVUFBQXl0QyxHQU9BLFFBQUFrMkQsR0FBQXA4SixHQUNBaXZCLEVBQUF3cEMsWUFBQSxvQkFBQXo0RCxHQU9BLFFBQUF5NEosR0FBQTRELEdBQ0EsSUFBQXZDLEdBQUEsQ0FDQSxHQUFBZCxHQUFBOXJHLEdBQUE4ckcsY0FDQTZDLEVBQUEzdUcsR0FBQW1zRyxLQUFBbDFKLE9BQUFrNEosRUFBQS9ELFdBQUEsR0FBQSxFQUNBQyxNQUdBcnJHLEdBQUE4ckcsZ0JBQUFBLElBQ0E2QyxFQUFBbnhKLE1BQUF1NkgsV0FDQS8zRSxHQUFBbXNHLEtBQUFuc0csR0FBQThyRyxnQkFBQTlyRyxHQUFBbXNHLEtBQUFuc0csR0FBQThyRyxlQUFBdHVKLE1BQUFnSCxVQUVBc21GLEVBQUEzaEQsU0FBQSxXQUNBa2pILElBQ0Fyc0csR0FBQSsvRSxXQUFBeXVCLEdBQUF4dUcsR0FBQSsvRSxlQVVBLFFBQUFtckIsR0FBQWlFLEVBQUFsK0osR0FDQSxHQUFBbStKLEdBQUFoRCxHQUNBaUQsR0FDQWpFLFNBQUEsV0FBQSxNQUFBcHJHLElBQUFtc0csS0FBQW4xSixRQUFBMjNKLElBQ0FXLFNBQUEsV0FBQSxNQUFBcnNKLE1BQUFtb0osYUFBQXByRyxHQUFBOHJHLGVBQ0F5RCxPQUFBLFdBQUEsTUFBQXRzSixNQUFBbW9KLFdBQUFwckcsR0FBQThyRyxlQUNBMEQsUUFBQSxXQUFBLE1BQUF2c0osTUFBQW1vSixXQUFBcHJHLEdBQUE4ckcsZUFDQTJELGFBQUEsV0FBQSxPQUFBenZHLEdBQUEwdkcsY0FBQXpzSixLQUFBcXNKLFlBQ0FsYixTQUFBLFdBQ0EsT0FBQXAwRixHQUFBc3VHLFdBQ0F0dUcsR0FBQW8wRixVQUFBbnhJLEtBQUFtb0osYUFBQXByRyxHQUFBcXVHLFlBRUF0dkksR0FBQStyRSxFQUFBLzNGLFdBRUE0N0osRUFBQTd3SixFQUFBeEosT0FBQSs2SixFQUFBRixFQWVBLE9BZEFyeEosR0FBQXhJLFVBQUFyRSxHQUNBK3VELEdBQUFtc0csS0FBQWwxSixPQUFBaEcsRUFBQSxFQUFBMDlKLEdBRUEzdUcsR0FBQW1zRyxLQUFBNzBKLEtBQUFxM0osR0FFQWxsSCxLQUNBa21ILEtBQ0E3a0UsRUFBQTNoRCxTQUFBLFdBQ0FrakgsSUFFQStDLEdBQUFwdkcsR0FBQW0yRixZQUFBcnJELEVBQUEzaEQsU0FBQSxXQUNBMmhELEVBQUEzaEQsU0FBQSxXQUFBM2tDLEVBQUF3N0MsR0FBQW1zRyxLQUFBbjFKLFFBQUEyM0osVUFHQUEsRUFTQSxRQUFBaUIsS0FDQSxHQUFBcDlJLEtBZUEsT0FaQUEsR0FBQWtiLFFBQUEzTCxFQUFBLEdBQUE0cEMscUJBQUEsbUJBQUEsR0FDQW41QyxFQUFBN1UsS0FBQW9rQixFQUFBLEdBQUE0cEMscUJBQUEsZUFBQSxHQUNBbjVDLEVBQUFxOEksT0FBQXI4SSxFQUFBa2IsUUFBQWkrQixxQkFBQSxrQkFBQSxHQUNBbjVDLEVBQUFtN0ksT0FBQW43SSxFQUFBcThJLE9BQUFsakcscUJBQUEseUJBQUEsR0FDQW41QyxFQUFBMjVJLEtBQUEzNUksRUFBQW03SSxPQUFBaGlHLHFCQUFBLGVBQ0FuNUMsRUFBQXE5SSxRQUFBcjlJLEVBQUFxOEksT0FBQWxqRyxxQkFBQSxnQkFDQW41QyxFQUFBeThJLE9BQUF6OEksRUFBQW03SSxPQUFBaGlHLHFCQUFBLGNBQUEsR0FHQW41QyxFQUFBczlJLGdCQUFBL3RJLEVBQUEsR0FBQTRwQyxxQkFBQSwyQkFBQSxHQUNBbjVDLEVBQUFrWSxTQUFBbFksRUFBQXM5SSxnQkFBQW5rRyxxQkFBQSxrQkFFQW41QyxFQU9BLFFBQUF1OUksS0FDQSxNQUFBL3ZHLElBQUErL0UsV0FBQSxFQU9BLFFBQUFpd0IsS0FDQSxHQUFBQyxHQUFBejlJLEdBQUEyNUksS0FBQTM1SSxHQUFBMjVJLEtBQUEvNkosT0FBQSxFQUNBLE9BQUE2K0osSUFBQUEsRUFBQWx3QixXQUFBa3dCLEVBQUFsaEcsWUFBQXY4QyxHQUFBcThJLE9BQUE1aEUsWUFDQWp0QyxHQUFBKy9FLFdBT0EsUUFBQWd0QixLQUNBLE9BQUEvc0csR0FBQThzRyxhQUNBLElBQUEsU0FDQSxPQUFBLENBQ0EsS0FBQSxRQUNBLE9BQUEsQ0FDQSxTQUNBLE9BQUE5c0csR0FBQXV1RyxnQkFDQWxoSixFQUFBbzhFLFdBQUEsc0JBQUExMEMsU0FRQSxRQUFBazRHLEtBQ0EsTUFBQWp0RyxJQUFBa3dHLGFBQUFsd0csR0FBQXV1RyxlQU9BLFFBQUFBLEtBQ0EsR0FBQXZ1RyxHQUFBbXdHLGVBQUEvRCxHQUFBLE9BQUEsQ0FDQSxJQUFBZ0UsR0FBQXJ1SSxFQUFBMXJCLEtBQUEsY0FFQSxPQURBeUgsR0FBQTlMLFFBQUE0OUosSUFBQUMsUUFBQSxTQUFBbEIsR0FBQXlCLEdBQUF6QixFQUFBNS9GLGNBQ0EsRUFBQXFoRyxFQVNBLFFBQUFyQyxHQUFBMWdCLEdBQ0EsR0FBQSxLQUFBQSxFQUFBLE1BQUEsRUFDQSxJQUNBNzhJLEdBQUFtK0osRUFEQTBCLEVBQUFobEksS0FBQUMsSUFBQTAwQixHQUFBbXNHLEtBQUEvNkosT0FBQWk4SSxFQUFBQSxFQUVBLEtBQUE3OEksRUFBQSxFQUFBNi9KLEdBQUE3L0osRUFBQUEsSUFBQSxDQUVBLEdBREFtK0osRUFBQTN1RyxHQUFBbXNHLEtBQUE5ZSxFQUFBNzhJLEdBQ0FtK0osR0FBQUEsRUFBQW54SixNQUFBNmhFLFlBQUEsRUFBQSxNQUFBc3ZGLEdBQUF2RCxVQUVBLElBREF1RCxFQUFBM3VHLEdBQUFtc0csS0FBQTllLEVBQUE3OEksR0FDQW0rSixHQUFBQSxFQUFBbnhKLE1BQUE2aEUsWUFBQSxFQUFBLE1BQUFzdkYsR0FBQXZELFdBRUEsTUFBQS9kLEdBWUEsUUFBQXYrQyxHQUFBMzhGLEVBQUEyaUIsRUFBQWhpQixHQUNBakIsT0FBQWk5RixlQUFBOXVDLEdBQUE3dEQsR0FDQW9NLElBQUEsV0FBQSxNQUFBekwsSUFDQW10RCxJQUFBLFNBQUEveEIsR0FDQSxHQUFBRyxHQUFBdjdCLENBQ0FBLEdBQUFvN0IsRUFDQXBaLEdBQUFBLEVBQUFvWixFQUFBRyxNQVFBLFFBQUFnK0gsS0FDQVUsS0FBQXVELElBQ0F0d0csR0FBQXN0RyxZQUFBQyxJQUNBdnRHLEdBQUF1dUcsZUFBQUEsSUFHQSxRQUFBK0IsS0FDQSxHQUFBaGxFLEdBQUEsQ0FDQXh0RixHQUFBOUwsUUFBQTQ5SixJQUFBQyxRQUFBLFNBQUFqNUosR0FDQTAwRixHQUFBamdFLEtBQUF1M0YsS0FBQWhzSCxFQUFBbTRELGVBRUFqeEQsRUFBQWxILFFBQUE0YixHQUFBbTdJLFFBQUExakcsSUFBQSxRQUFBcWhDLEVBQUEsTUFHQSxRQUFBaWlFLEtBQ0EsTUFBQXhySSxHQUFBMXJCLEtBQUEsZUFPQSxRQUFBaTFKLEtBQ0EsR0FBQS9ZLEdBQUF2eUYsR0FBQW1zRyxLQUFBbnNHLEdBQUE4ckcsZUFDQXlFLEVBQUF2d0csR0FBQW1zRyxLQUFBbnNHLEdBQUFxdUcsV0FDQXJ1RyxJQUFBbXNHLEtBQUFuc0csR0FBQW1zRyxLQUFBeDVKLEtBQUEsU0FBQW9SLEVBQUE4VyxHQUNBLE1BQUE5VyxHQUFBOVMsTUFBQTRwQixFQUFBNXBCLFFBRUErdUQsR0FBQThyRyxjQUFBOXJHLEdBQUFtc0csS0FBQW4xSixRQUFBdTdJLEdBQ0F2eUYsR0FBQXF1RyxXQUFBcnVHLEdBQUFtc0csS0FBQW4xSixRQUFBdTVKLEdBT0EsUUFBQXBDLEdBQUFxQyxFQUFBMTFGLEdBQ0EsR0FBQXV5RSxHQUNBbDdJLEVBQUEyb0UsRUFBQSxhQUFBLGdCQUNBN3BFLEVBQUErdUQsR0FBQTd0RCxFQUNBLEtBQUFrN0ksRUFBQXA4SSxFQUFBdS9KLEVBQ0F4d0csR0FBQW1zRyxLQUFBOWUsSUFBQXJ0RixHQUFBbXNHLEtBQUE5ZSxHQUFBN3ZJLE1BQUE2aEUsU0FDQWd1RSxHQUFBbWpCLEdBQ0F4d0csR0FBQW1zRyxLQUFBOWUsS0FDQXJ0RixHQUFBN3RELEdBQUFrN0ksR0FRQSxRQUFBeWdCLEtBQ0E4QixJQUFBQyxRQUFBN3ZHLEdBQUFxdUcsWUFBQXZ6RixRQU1BLFFBQUFteEYsR0FBQWg3SixHQUVBLEdBREEsTUFBQUEsSUFBQUEsRUFBQSt1RCxHQUFBcXVHLFlBQ0E3N0ksR0FBQTI1SSxLQUFBbDdKLEtBQ0ErdUQsR0FBQWl0RyxpQkFBQSxDQUNBLEdBQUEwQixHQUFBbjhJLEdBQUEyNUksS0FBQWw3SixHQUNBMHpDLEVBQUFncUgsRUFBQTV1QixXQUNBbjdGLEVBQUErcEgsRUFBQTUvRixZQUFBcHFCLENBQ0FxYixJQUFBKy9FLFdBQUExMEcsS0FBQUMsSUFBQTAwQixHQUFBKy9FLFdBQUF5dUIsR0FBQTVwSCxFQUFBcHlCLEdBQUFxOEksT0FBQTVoRSxZQUFBLEtBQ0FqdEMsR0FBQSsvRSxXQUFBMTBHLEtBQUFvdUIsSUFBQXVHLEdBQUErL0UsV0FBQXl1QixHQUFBN3BILEtBT0EsUUFBQThFLE1BQ0E1bkMsR0FBQTdQLFFBQUEsU0FBQTA4RixHQUFBNUQsRUFBQTNoRCxTQUFBdWxELEtBQ0E3c0YsTUFNQSxRQUFBOHRKLE1BQ0EsR0FBQWxDLElBQUEsQ0FDQTN2SixHQUFBOUwsUUFBQWd1RCxHQUFBbXNHLEtBQUEsU0FBQXdDLEdBQ0FBLEVBQUE3OUosV0FBQTI4SixHQUFBLEtBRUF6dEcsR0FBQXl0RyxXQUFBQSxFQU1BLFFBQUFwQyxNQUNBcnJHLEdBQUE4ckcsY0FBQWlDLEVBQUEvdEcsR0FBQThyRyxlQUNBOXJHLEdBQUFxdUcsV0FBQU4sRUFBQS90RyxHQUFBcXVHLFlBT0EsUUFBQXJDLE1BQ0EsSUFBQWhzRyxHQUFBeXdHLGNBQUEsTUFBQTF1SSxHQUFBa29DLElBQUEsU0FBQSxHQUNBLEtBQUFqSyxHQUFBbXNHLEtBQUEvNkosT0FBQSxNQUFBeVEsSUFBQXZLLEtBQUEwMEosR0FFQSxJQUFBMEUsR0FBQWwrSSxHQUFBa1ksU0FBQXMxQixHQUFBOHJHLGVBQ0E2RSxFQUFBRCxFQUFBQSxFQUFBdjlDLGFBQUEsRUFDQXk5QyxFQUFBcCtJLEdBQUFrYixRQUFBeWxGLGFBQ0EwOUMsRUFBQUYsRUFBQUMsRUFDQUUsRUFBQS91SSxFQUFBMXJCLEtBQUEsZUFFQSxJQUFBeTZKLElBQUFELEVBQUEsQ0FJQSxXQUFBOXVJLEVBQUF6ckIsS0FBQSxtQkFDQXc2SixHQUFBRixFQUNBQyxHQUFBRCxFQUVBN3VJLEVBQUF6ckIsS0FBQSxzQkFBQXBHLEtBQUE0Z0ssR0FJQTFDLElBQUEsQ0FFQSxJQUFBMkMsSUFBQXhsRSxPQUFBdWxFLEVBQUEsTUFDQUUsR0FBQXpsRSxPQUFBc2xFLEVBQUEsS0FJQTl1SSxHQUFBa29DLElBQUE4bUcsR0FHQXRuSixFQUFBc1ksR0FDQXNyQyxLQUFBMGpHLEVBQ0F6akcsR0FBQTBqRyxFQUNBOTlFLE9BQUEsaUNBQ0FqSCxTQUFBLEtBQ0FwZCxRQUFBajNCLEtBQUEsV0FHQTdWLEVBQUFrb0MsS0FDQTBrRCxXQUFBLE9BQ0FwakIsT0FBQSxLQU1BVCxFQUFBM2hELFNBQUEsV0FDQXBuQixFQUFBa29DLElBQUEsYUFBQSxNQUlBbWtHLElBQUEsS0FRQSxRQUFBbEMsTUFDQSxJQUFBMTVJLEdBQUEyNUksS0FBQW5zRyxHQUFBOHJHLGVBRUEsV0FEQWh1SixHQUFBbEgsUUFBQTRiLEdBQUF5OEksUUFBQWhsRyxLQUFBdGxCLEtBQUEsT0FBQUMsTUFBQSxRQUdBLEtBQUFvYixHQUFBbXNHLEtBQUEvNkosT0FBQSxNQUFBeVEsSUFBQXZLLEtBQUEwb0QsR0FBQWtzRyxtQkFHQSxLQUFBbnFJLEVBQUExckIsS0FBQSxnQkFBQSxNQUFBNjNKLElBQ0EsSUFLQStDLEdBTEFoZ0ssRUFBQSt1RCxHQUFBOHJHLGNBQ0FnRCxFQUFBdDhJLEdBQUFtN0ksT0FBQTUrRixZQUNBNC9GLEVBQUFuOEksR0FBQTI1SSxLQUFBbDdKLEdBQ0EwekMsRUFBQWdxSCxFQUFBNXVCLFdBQ0FuN0YsRUFBQWtxSCxFQUFBbnFILEVBQUFncUgsRUFBQTUvRixXQUVBL08sSUFBQWl0RyxtQkFDQWdFLEVBQUF6M0ksTUFBQVAsVUFBQS9uQixNQUFBb0IsS0FBQWtnQixHQUFBMjVJLE1BQUErRSxPQUFBLFNBQUFwK0osRUFBQThELEdBQ0EsTUFBQTlELEdBQUE4RCxFQUFBbTRELGFBQ0EsR0FDQSsvRixFQUFBbUMsR0FBQW5tRSxFQUFBM2hELFNBQUEraUgsSUFBQSxJQUVBaUYsS0FDQXJ6SixFQUFBbEgsUUFBQTRiLEdBQUF5OEksUUFBQWhsRyxLQUFBdGxCLEtBQUFBLEVBQUEsS0FBQUMsTUFBQUEsRUFBQSxPQU1BLFFBQUF1c0gsTUFDQSxHQUFBOWpCLEdBQUFydEYsR0FBQThyRyxjQUNBK0IsRUFBQTd0RyxHQUFBZ3VHLGtCQUNBb0QsRUFBQXR6SixFQUFBbEgsUUFBQTRiLEdBQUF5OEksT0FDQW54SixHQUFBaE0sU0FBQSs3SixJQUNBdUQsRUFDQTdsRyxZQUFBLFVBQUFzaUcsRUFBQXhnQixHQUNBOWhGLFlBQUEsV0FBQThoRixFQUFBd2dCLEdBUUEsUUFBQVcsSUFBQTE3SixHQUNBLElBQUEwZixHQUFBMjVJLEtBQUEvNkosU0FBQTR1RCxHQUFBdXVHLGVBQUEsTUFBQSxFQUNBLElBQUEwQixHQUFBejlJLEdBQUEyNUksS0FBQTM1SSxHQUFBMjVJLEtBQUEvNkosT0FBQSxHQUNBMDlKLEVBQUFtQixFQUFBbHdCLFdBQUFrd0IsRUFBQWxoRyxXQUdBLE9BRkFqOEQsR0FBQXU0QixLQUFBQyxJQUFBLEVBQUF4NEIsR0FDQUEsRUFBQXU0QixLQUFBb3VCLElBQUFxMUcsRUFBQXQ4SSxHQUFBcThJLE9BQUE1aEUsWUFBQW42RixHQVNBLFFBQUFpL0gsSUFBQXYwSCxFQUFBNUcsR0FDQSxHQUFBdWtCLElBQUErbEYsYUFBQXBqRyxFQUFBbEgsUUFBQTRiLEdBQUF5OEksUUFDQXBELEdBQUFuc0QsT0FBQWxpRyxFQUFBNUcsRUFBQXVrQixHQTN1QkEsR0FBQTZrQyxJQUFBLzhDLEtBQ0FtckosSUFBQSxFQUNBNTdJLEdBQUFvOUksSUFDQS90SixNQUNBK3FKLElBQUEsRUFDQVIsSUFBQSxDQUdBSyxHQUFBLGNBQUFJLEdBR0EvOUQsRUFBQSxhQUFBOCtELEVBQUE1dEcsR0FBQThyRyxlQUFBLEdBQ0FoOUQsRUFBQSxhQUFBNCtELEVBQUEsR0FDQTUrRCxFQUFBLGFBQUEwK0QsR0FBQSxHQUNBMStELEVBQUEsY0FBQW8rRCxFQUFBSyxLQUNBeitELEVBQUEsaUJBQUF1K0QsR0FBQSxHQUdBWCxFQUFBLFdBQUFzQyxHQUNBdEMsRUFBQSxnQkFBQXdDLEdBQ0F4QyxFQUFBLGdCQUNBQSxFQUFBLGdCQUNBQSxFQUFBLGdCQUNBQSxFQUFBLGNBQ0FBLEVBQUEsYUFBQU0sR0FBQSxHQUNBTixFQUFBLG9CQUdBMXNHLEdBQUF4aUQsTUFBQTZxQixFQUNBMjNCLEdBQUFwckQsT0FBQXl6QixFQUFBeEYsUUFDQW05QixHQUFBbXNHLFFBQ0Fuc0csR0FBQWd1RyxrQkFBQSxLQUNBaHVHLEdBQUFvMEYsVUFBQSxFQUNBcDBGLEdBQUFzdUcsV0FBQSxFQUNBdHVHLEdBQUFpdEcsaUJBQUFBLElBR0FqdEcsR0FBQXFzRyxpQkFBQXZoRSxFQUFBenNCLFNBQUFndUYsRUFBQSxLQUNBcnNHLEdBQUE4dEcsY0FBQUEsRUFDQTl0RyxHQUFBK3hFLGFBQUFBLEdBQ0EveEUsR0FBQWtyRyxVQUFBQSxFQUNBbHJHLEdBQUF1ckcsVUFBQUEsRUFDQXZyRyxHQUFBeDdDLE9BQUFBLEVBQ0F3N0MsR0FBQXJtQyxPQUFBQSxFQUNBcW1DLEdBQUEwdUcsU0FBQUEsRUFDQTF1RyxHQUFBK3VHLGFBQUFBLEVBQ0EvdUcsR0FBQTAxRixRQUFBQSxFQUNBMTFGLEdBQUFnd0csZUFBQUEsRUFDQWh3RyxHQUFBK3ZHLFlBQUFBLEVBQ0EvdkcsR0FBQXFyRyxhQUFBQSxHQUNBcnJHLEdBQUFtdUcsZUFBQUEsRUFDQW51RyxHQUFBaXJHLG1CQUFBQSxFQUNBanJHLEdBQUFrc0csbUJBQUFwaEUsRUFBQXpzQixTQUFBNnRGLEdBQUEsS0FDQWxzRyxHQUFBc3JHLGVBQUF4Z0UsRUFBQXpzQixTQUFBaXRGLEVBQUEsS0FFQXQxRixJQWpFQWw0RCxFQUNBMU4sT0FBQSw0QkFDQW1QLFdBQUEsbUJBQUFxc0osR0FzdkJBQSxFQUFBeDFJLFNBQUEsU0FBQSxXQUFBLFVBQUEsY0FBQSxrQkFBQSxVQUFBLGNBQUEsU0FBQSxXQUFBLGlCQUdBLFdBNkZBLFFBQUFpN0ksS0FDQSxPQUNBN3pKLE9BQ0FzdUosY0FBQSxnQkFFQWg3SixTQUFBLFNBQUE4RixFQUFBTixHQUVBLE1BREFBLEdBQUEsZ0JBQUFNLEVBQUFtRSxPQUNBLHduR0FtR0F3RSxXQUFBLG1CQUNBaWhCLGFBQUEsY0FDQUQsa0JBQUEsR0FoSEF6aUIsRUFDQTFOLE9BQUEsNEJBQ0EwUyxVQUFBLFNBQUF1dUosTUFtSEEsV0FPQSxRQUFBQyxHQUFBajNGLEVBQUF5d0IsR0FXQSxRQUFBdHNFLEdBQUFoaEIsRUFBQTVHLEVBQUFOLEVBQUEwcEQsR0FXQSxRQUFBdXhHLEtBQ0EvekosRUFBQTlILE9BQUEsWUFBQSxTQUFBNUMsR0FBQUEsS0FBQSxFQUFBNDRJLElBQUE4bEIsTUFDQWgwSixFQUFBNnJCLElBQUEsV0FBQW1vSSxHQUdBLFFBQUE5bEIsS0FDQTFyRixFQUFBeXhHLGtCQUFBM21FLEVBQUFtRSxnQkFBQXlpRSxHQUdBLFFBQUFGLEtBQ0F4eEcsRUFBQXl4RyxrQkFBQTNtRSxFQUFBcUUsZUFBQXVpRSxHQXBCQSxHQUFBMXhHLEVBQUEsQ0FDQSxHQUFBMHhHLEdBQUExeEcsRUFBQXl4RyxpQkFBQWowSixFQUFBazBKLGFBQUE1dUksT0FBQXRsQixFQUFBazBKLFlBT0EsT0FOQTk2SixHQUFBbUUsS0FBQXlDLEVBQUExTSxVQUNBdXBFLEVBQUF6akUsRUFBQTh6QixZQUFBZ25JLEdBQ0E5NkosRUFBQXdJLEdBQUEscUJBQUEsV0FDQTRnRCxFQUFBcXNHLG1CQUNBcnNHLEVBQUFrc0csdUJBRUFwaEUsRUFBQTNoRCxTQUFBb29ILElBbkJBLE9BQ0Fod0ksU0FBQSxJQUNBL0MsS0FBQUEsRUFDQWhoQixPQUNBMU0sU0FBQSxrQkFDQTZnSyxVQUFBLGtCQUNBRCxhQUFBLFlBRUFwd0ksUUFBQSxZQWJBeGpCLEVBQ0ExTixPQUFBLDRCQUNBMFMsVUFBQSxpQkFBQXd1SixHQXNDQUEsRUFBQWw3SSxTQUFBLFdBQUEsY0FHQSxXQUNBdFksRUFBQTFOLE9BQUEsaUJBQUFzUyxTQUFBLGdCQUFBO0tBSUExUyxPQUFBQSxPQUFBOE4sU0FBQTlOLE9BQUE0aEssWUFBQXZ1SixTQUFBaWxELEtBQUEiLCJmaWxlIjoidmVuZG9yLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhckpTIHYxLjQuOFxuICogKGMpIDIwMTAtMjAxNSBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiAqIExpY2Vuc2U6IE1JVFxuICovXG4oZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7J3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoaXMgb2JqZWN0IHByb3ZpZGVzIGEgdXRpbGl0eSBmb3IgcHJvZHVjaW5nIHJpY2ggRXJyb3IgbWVzc2FnZXMgd2l0aGluXG4gKiBBbmd1bGFyLiBJdCBjYW4gYmUgY2FsbGVkIGFzIGZvbGxvd3M6XG4gKlxuICogdmFyIGV4YW1wbGVNaW5FcnIgPSBtaW5FcnIoJ2V4YW1wbGUnKTtcbiAqIHRocm93IGV4YW1wbGVNaW5FcnIoJ29uZScsICdUaGlzIHswfSBpcyB7MX0nLCBmb28sIGJhcik7XG4gKlxuICogVGhlIGFib3ZlIGNyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgbWluRXJyIGluIHRoZSBleGFtcGxlIG5hbWVzcGFjZS4gVGhlXG4gKiByZXN1bHRpbmcgZXJyb3Igd2lsbCBoYXZlIGEgbmFtZXNwYWNlZCBlcnJvciBjb2RlIG9mIGV4YW1wbGUub25lLiAgVGhlXG4gKiByZXN1bHRpbmcgZXJyb3Igd2lsbCByZXBsYWNlIHswfSB3aXRoIHRoZSB2YWx1ZSBvZiBmb28sIGFuZCB7MX0gd2l0aCB0aGVcbiAqIHZhbHVlIG9mIGJhci4gVGhlIG9iamVjdCBpcyBub3QgcmVzdHJpY3RlZCBpbiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBpdCBjYW5cbiAqIHRha2UuXG4gKlxuICogSWYgZmV3ZXIgYXJndW1lbnRzIGFyZSBzcGVjaWZpZWQgdGhhbiBuZWNlc3NhcnkgZm9yIGludGVycG9sYXRpb24sIHRoZSBleHRyYVxuICogaW50ZXJwb2xhdGlvbiBtYXJrZXJzIHdpbGwgYmUgcHJlc2VydmVkIGluIHRoZSBmaW5hbCBzdHJpbmcuXG4gKlxuICogU2luY2UgZGF0YSB3aWxsIGJlIHBhcnNlZCBzdGF0aWNhbGx5IGR1cmluZyBhIGJ1aWxkIHN0ZXAsIHNvbWUgcmVzdHJpY3Rpb25zXG4gKiBhcmUgYXBwbGllZCB3aXRoIHJlc3BlY3QgdG8gaG93IG1pbkVyciBpbnN0YW5jZXMgYXJlIGNyZWF0ZWQgYW5kIGNhbGxlZC5cbiAqIEluc3RhbmNlcyBzaG91bGQgaGF2ZSBuYW1lcyBvZiB0aGUgZm9ybSBuYW1lc3BhY2VNaW5FcnIgZm9yIGEgbWluRXJyIGNyZWF0ZWRcbiAqIHVzaW5nIG1pbkVycignbmFtZXNwYWNlJykgLiBFcnJvciBjb2RlcywgbmFtZXNwYWNlcyBhbmQgdGVtcGxhdGUgc3RyaW5nc1xuICogc2hvdWxkIGFsbCBiZSBzdGF0aWMgc3RyaW5ncywgbm90IHZhcmlhYmxlcyBvciBnZW5lcmFsIGV4cHJlc3Npb25zLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGUgVGhlIG5hbWVzcGFjZSB0byB1c2UgZm9yIHRoZSBuZXcgbWluRXJyIGluc3RhbmNlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gRXJyb3JDb25zdHJ1Y3RvciBDdXN0b20gZXJyb3IgY29uc3RydWN0b3IgdG8gYmUgaW5zdGFudGlhdGVkIHdoZW4gcmV0dXJuaW5nXG4gKiAgIGVycm9yIGZyb20gcmV0dXJuZWQgZnVuY3Rpb24sIGZvciBjYXNlcyB3aGVuIGEgcGFydGljdWxhciB0eXBlIG9mIGVycm9yIGlzIHVzZWZ1bC5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb2RlOnN0cmluZywgdGVtcGxhdGU6c3RyaW5nLCAuLi50ZW1wbGF0ZUFyZ3MpOiBFcnJvcn0gbWluRXJyIGluc3RhbmNlXG4gKi9cblxuZnVuY3Rpb24gbWluRXJyKG1vZHVsZSwgRXJyb3JDb25zdHJ1Y3Rvcikge1xuICBFcnJvckNvbnN0cnVjdG9yID0gRXJyb3JDb25zdHJ1Y3RvciB8fCBFcnJvcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBTS0lQX0lOREVYRVMgPSAyO1xuXG4gICAgdmFyIHRlbXBsYXRlQXJncyA9IGFyZ3VtZW50cyxcbiAgICAgIGNvZGUgPSB0ZW1wbGF0ZUFyZ3NbMF0sXG4gICAgICBtZXNzYWdlID0gJ1snICsgKG1vZHVsZSA/IG1vZHVsZSArICc6JyA6ICcnKSArIGNvZGUgKyAnXSAnLFxuICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZUFyZ3NbMV0sXG4gICAgICBwYXJhbVByZWZpeCwgaTtcblxuICAgIG1lc3NhZ2UgKz0gdGVtcGxhdGUucmVwbGFjZSgvXFx7XFxkK1xcfS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgdmFyIGluZGV4ID0gK21hdGNoLnNsaWNlKDEsIC0xKSxcbiAgICAgICAgc2hpZnRlZEluZGV4ID0gaW5kZXggKyBTS0lQX0lOREVYRVM7XG5cbiAgICAgIGlmIChzaGlmdGVkSW5kZXggPCB0ZW1wbGF0ZUFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnU3RyaW5nKHRlbXBsYXRlQXJnc1tzaGlmdGVkSW5kZXhdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgbWVzc2FnZSArPSAnXFxuaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNC44LycgK1xuICAgICAgKG1vZHVsZSA/IG1vZHVsZSArICcvJyA6ICcnKSArIGNvZGU7XG5cbiAgICBmb3IgKGkgPSBTS0lQX0lOREVYRVMsIHBhcmFtUHJlZml4ID0gJz8nOyBpIDwgdGVtcGxhdGVBcmdzLmxlbmd0aDsgaSsrLCBwYXJhbVByZWZpeCA9ICcmJykge1xuICAgICAgbWVzc2FnZSArPSBwYXJhbVByZWZpeCArICdwJyArIChpIC0gU0tJUF9JTkRFWEVTKSArICc9JyArXG4gICAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh0b0RlYnVnU3RyaW5nKHRlbXBsYXRlQXJnc1tpXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRXJyb3JDb25zdHJ1Y3RvcihtZXNzYWdlKTtcbiAgfTtcbn1cblxuLyogV2UgbmVlZCB0byB0ZWxsIGpzaGludCB3aGF0IHZhcmlhYmxlcyBhcmUgYmVpbmcgZXhwb3J0ZWQgKi9cbi8qIGdsb2JhbCBhbmd1bGFyOiB0cnVlLFxuICBtc2llOiB0cnVlLFxuICBqcUxpdGU6IHRydWUsXG4gIGpRdWVyeTogdHJ1ZSxcbiAgc2xpY2U6IHRydWUsXG4gIHNwbGljZTogdHJ1ZSxcbiAgcHVzaDogdHJ1ZSxcbiAgdG9TdHJpbmc6IHRydWUsXG4gIG5nTWluRXJyOiB0cnVlLFxuICBhbmd1bGFyTW9kdWxlOiB0cnVlLFxuICB1aWQ6IHRydWUsXG4gIFJFR0VYX1NUUklOR19SRUdFWFA6IHRydWUsXG4gIFZBTElESVRZX1NUQVRFX1BST1BFUlRZOiB0cnVlLFxuXG4gIGxvd2VyY2FzZTogdHJ1ZSxcbiAgdXBwZXJjYXNlOiB0cnVlLFxuICBtYW51YWxMb3dlcmNhc2U6IHRydWUsXG4gIG1hbnVhbFVwcGVyY2FzZTogdHJ1ZSxcbiAgbm9kZU5hbWVfOiB0cnVlLFxuICBpc0FycmF5TGlrZTogdHJ1ZSxcbiAgZm9yRWFjaDogdHJ1ZSxcbiAgZm9yRWFjaFNvcnRlZDogdHJ1ZSxcbiAgcmV2ZXJzZVBhcmFtczogdHJ1ZSxcbiAgbmV4dFVpZDogdHJ1ZSxcbiAgc2V0SGFzaEtleTogdHJ1ZSxcbiAgZXh0ZW5kOiB0cnVlLFxuICB0b0ludDogdHJ1ZSxcbiAgaW5oZXJpdDogdHJ1ZSxcbiAgbWVyZ2U6IHRydWUsXG4gIG5vb3A6IHRydWUsXG4gIGlkZW50aXR5OiB0cnVlLFxuICB2YWx1ZUZuOiB0cnVlLFxuICBpc1VuZGVmaW5lZDogdHJ1ZSxcbiAgaXNEZWZpbmVkOiB0cnVlLFxuICBpc09iamVjdDogdHJ1ZSxcbiAgaXNCbGFua09iamVjdDogdHJ1ZSxcbiAgaXNTdHJpbmc6IHRydWUsXG4gIGlzTnVtYmVyOiB0cnVlLFxuICBpc0RhdGU6IHRydWUsXG4gIGlzQXJyYXk6IHRydWUsXG4gIGlzRnVuY3Rpb246IHRydWUsXG4gIGlzUmVnRXhwOiB0cnVlLFxuICBpc1dpbmRvdzogdHJ1ZSxcbiAgaXNTY29wZTogdHJ1ZSxcbiAgaXNGaWxlOiB0cnVlLFxuICBpc0Zvcm1EYXRhOiB0cnVlLFxuICBpc0Jsb2I6IHRydWUsXG4gIGlzQm9vbGVhbjogdHJ1ZSxcbiAgaXNQcm9taXNlTGlrZTogdHJ1ZSxcbiAgdHJpbTogdHJ1ZSxcbiAgZXNjYXBlRm9yUmVnZXhwOiB0cnVlLFxuICBpc0VsZW1lbnQ6IHRydWUsXG4gIG1ha2VNYXA6IHRydWUsXG4gIGluY2x1ZGVzOiB0cnVlLFxuICBhcnJheVJlbW92ZTogdHJ1ZSxcbiAgY29weTogdHJ1ZSxcbiAgc2hhbGxvd0NvcHk6IHRydWUsXG4gIGVxdWFsczogdHJ1ZSxcbiAgY3NwOiB0cnVlLFxuICBqcTogdHJ1ZSxcbiAgY29uY2F0OiB0cnVlLFxuICBzbGljZUFyZ3M6IHRydWUsXG4gIGJpbmQ6IHRydWUsXG4gIHRvSnNvblJlcGxhY2VyOiB0cnVlLFxuICB0b0pzb246IHRydWUsXG4gIGZyb21Kc29uOiB0cnVlLFxuICBjb252ZXJ0VGltZXpvbmVUb0xvY2FsOiB0cnVlLFxuICB0aW1lem9uZVRvT2Zmc2V0OiB0cnVlLFxuICBzdGFydGluZ1RhZzogdHJ1ZSxcbiAgdHJ5RGVjb2RlVVJJQ29tcG9uZW50OiB0cnVlLFxuICBwYXJzZUtleVZhbHVlOiB0cnVlLFxuICB0b0tleVZhbHVlOiB0cnVlLFxuICBlbmNvZGVVcmlTZWdtZW50OiB0cnVlLFxuICBlbmNvZGVVcmlRdWVyeTogdHJ1ZSxcbiAgYW5ndWxhckluaXQ6IHRydWUsXG4gIGJvb3RzdHJhcDogdHJ1ZSxcbiAgZ2V0VGVzdGFiaWxpdHk6IHRydWUsXG4gIHNuYWtlX2Nhc2U6IHRydWUsXG4gIGJpbmRKUXVlcnk6IHRydWUsXG4gIGFzc2VydEFyZzogdHJ1ZSxcbiAgYXNzZXJ0QXJnRm46IHRydWUsXG4gIGFzc2VydE5vdEhhc093blByb3BlcnR5OiB0cnVlLFxuICBnZXR0ZXI6IHRydWUsXG4gIGdldEJsb2NrTm9kZXM6IHRydWUsXG4gIGhhc093blByb3BlcnR5OiB0cnVlLFxuICBjcmVhdGVNYXA6IHRydWUsXG5cbiAgTk9ERV9UWVBFX0VMRU1FTlQ6IHRydWUsXG4gIE5PREVfVFlQRV9BVFRSSUJVVEU6IHRydWUsXG4gIE5PREVfVFlQRV9URVhUOiB0cnVlLFxuICBOT0RFX1RZUEVfQ09NTUVOVDogdHJ1ZSxcbiAgTk9ERV9UWVBFX0RPQ1VNRU5UOiB0cnVlLFxuICBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQ6IHRydWUsXG4qL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ1xuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKlxuICogIyBuZyAoY29yZSBtb2R1bGUpXG4gKiBUaGUgbmcgbW9kdWxlIGlzIGxvYWRlZCBieSBkZWZhdWx0IHdoZW4gYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIGlzIHN0YXJ0ZWQuIFRoZSBtb2R1bGUgaXRzZWxmXG4gKiBjb250YWlucyB0aGUgZXNzZW50aWFsIGNvbXBvbmVudHMgZm9yIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbiB0byBmdW5jdGlvbi4gVGhlIHRhYmxlIGJlbG93XG4gKiBsaXN0cyBhIGhpZ2ggbGV2ZWwgYnJlYWtkb3duIG9mIGVhY2ggb2YgdGhlIHNlcnZpY2VzL2ZhY3RvcmllcywgZmlsdGVycywgZGlyZWN0aXZlcyBhbmQgdGVzdGluZ1xuICogY29tcG9uZW50cyBhdmFpbGFibGUgd2l0aGluIHRoaXMgY29yZSBtb2R1bGUuXG4gKlxuICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9XCJuZ1wiPjwvZGl2PlxuICovXG5cbnZhciBSRUdFWF9TVFJJTkdfUkVHRVhQID0gL15cXC8oLispXFwvKFthLXpdKikkLztcblxuLy8gVGhlIG5hbWUgb2YgYSBmb3JtIGNvbnRyb2wncyBWYWxpZGl0eVN0YXRlIHByb3BlcnR5LlxuLy8gVGhpcyBpcyB1c2VkIHNvIHRoYXQgaXQncyBwb3NzaWJsZSBmb3IgaW50ZXJuYWwgdGVzdHMgdG8gY3JlYXRlIG1vY2sgVmFsaWRpdHlTdGF0ZXMuXG52YXIgVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkgPSAndmFsaWRpdHknO1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5sb3dlcmNhc2VcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uIENvbnZlcnRzIHRoZSBzcGVjaWZpZWQgc3RyaW5nIHRvIGxvd2VyY2FzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIGJlIGNvbnZlcnRlZCB0byBsb3dlcmNhc2UuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBMb3dlcmNhc2VkIHN0cmluZy5cbiAqL1xudmFyIGxvd2VyY2FzZSA9IGZ1bmN0aW9uKHN0cmluZykge3JldHVybiBpc1N0cmluZyhzdHJpbmcpID8gc3RyaW5nLnRvTG93ZXJDYXNlKCkgOiBzdHJpbmc7fTtcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLnVwcGVyY2FzZVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb24gQ29udmVydHMgdGhlIHNwZWNpZmllZCBzdHJpbmcgdG8gdXBwZXJjYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gYmUgY29udmVydGVkIHRvIHVwcGVyY2FzZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVwcGVyY2FzZWQgc3RyaW5nLlxuICovXG52YXIgdXBwZXJjYXNlID0gZnVuY3Rpb24oc3RyaW5nKSB7cmV0dXJuIGlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9VcHBlckNhc2UoKSA6IHN0cmluZzt9O1xuXG5cbnZhciBtYW51YWxMb3dlcmNhc2UgPSBmdW5jdGlvbihzKSB7XG4gIC8qIGpzaGludCBiaXR3aXNlOiBmYWxzZSAqL1xuICByZXR1cm4gaXNTdHJpbmcocylcbiAgICAgID8gcy5yZXBsYWNlKC9bQS1aXS9nLCBmdW5jdGlvbihjaCkge3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoLmNoYXJDb2RlQXQoMCkgfCAzMik7fSlcbiAgICAgIDogcztcbn07XG52YXIgbWFudWFsVXBwZXJjYXNlID0gZnVuY3Rpb24ocykge1xuICAvKiBqc2hpbnQgYml0d2lzZTogZmFsc2UgKi9cbiAgcmV0dXJuIGlzU3RyaW5nKHMpXG4gICAgICA/IHMucmVwbGFjZSgvW2Etel0vZywgZnVuY3Rpb24oY2gpIHtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaC5jaGFyQ29kZUF0KDApICYgfjMyKTt9KVxuICAgICAgOiBzO1xufTtcblxuXG4vLyBTdHJpbmcjdG9Mb3dlckNhc2UgYW5kIFN0cmluZyN0b1VwcGVyQ2FzZSBkb24ndCBwcm9kdWNlIGNvcnJlY3QgcmVzdWx0cyBpbiBicm93c2VycyB3aXRoIFR1cmtpc2hcbi8vIGxvY2FsZSwgZm9yIHRoaXMgcmVhc29uIHdlIG5lZWQgdG8gZGV0ZWN0IHRoaXMgY2FzZSBhbmQgcmVkZWZpbmUgbG93ZXJjYXNlL3VwcGVyY2FzZSBtZXRob2RzXG4vLyB3aXRoIGNvcnJlY3QgYnV0IHNsb3dlciBhbHRlcm5hdGl2ZXMuXG5pZiAoJ2knICE9PSAnSScudG9Mb3dlckNhc2UoKSkge1xuICBsb3dlcmNhc2UgPSBtYW51YWxMb3dlcmNhc2U7XG4gIHVwcGVyY2FzZSA9IG1hbnVhbFVwcGVyY2FzZTtcbn1cblxuXG52YXJcbiAgICBtc2llLCAgICAgICAgICAgICAvLyBob2xkcyBtYWpvciB2ZXJzaW9uIG51bWJlciBmb3IgSUUsIG9yIE5hTiBpZiBVQSBpcyBub3QgSUUuXG4gICAganFMaXRlLCAgICAgICAgICAgLy8gZGVsYXkgYmluZGluZyBzaW5jZSBqUXVlcnkgY291bGQgYmUgbG9hZGVkIGFmdGVyIHVzLlxuICAgIGpRdWVyeSwgICAgICAgICAgIC8vIGRlbGF5IGJpbmRpbmdcbiAgICBzbGljZSAgICAgICAgICAgICA9IFtdLnNsaWNlLFxuICAgIHNwbGljZSAgICAgICAgICAgID0gW10uc3BsaWNlLFxuICAgIHB1c2ggICAgICAgICAgICAgID0gW10ucHVzaCxcbiAgICB0b1N0cmluZyAgICAgICAgICA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXG4gICAgZ2V0UHJvdG90eXBlT2YgICAgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgbmdNaW5FcnIgICAgICAgICAgPSBtaW5FcnIoJ25nJyksXG5cbiAgICAvKiogQG5hbWUgYW5ndWxhciAqL1xuICAgIGFuZ3VsYXIgICAgICAgICAgID0gd2luZG93LmFuZ3VsYXIgfHwgKHdpbmRvdy5hbmd1bGFyID0ge30pLFxuICAgIGFuZ3VsYXJNb2R1bGUsXG4gICAgdWlkICAgICAgICAgICAgICAgPSAwO1xuXG4vKipcbiAqIGRvY3VtZW50TW9kZSBpcyBhbiBJRS1vbmx5IHByb3BlcnR5XG4gKiBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvY2MxOTY5ODgodj12cy44NSkuYXNweFxuICovXG5tc2llID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xuXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gb2JqXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYG9iamAgaXMgYW4gYXJyYXkgb3IgYXJyYXktbGlrZSBvYmplY3QgKE5vZGVMaXN0LCBBcmd1bWVudHMsXG4gKiAgICAgICAgICAgICAgICAgICBTdHJpbmcgLi4uKVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZShvYmopIHtcblxuICAvLyBgbnVsbGAsIGB1bmRlZmluZWRgIGFuZCBgd2luZG93YCBhcmUgbm90IGFycmF5LWxpa2VcbiAgaWYgKG9iaiA9PSBudWxsIHx8IGlzV2luZG93KG9iaikpIHJldHVybiBmYWxzZTtcblxuICAvLyBhcnJheXMsIHN0cmluZ3MgYW5kIGpRdWVyeS9qcUxpdGUgb2JqZWN0cyBhcmUgYXJyYXkgbGlrZVxuICAvLyAqIGpxTGl0ZSBpcyBlaXRoZXIgdGhlIGpRdWVyeSBvciBqcUxpdGUgY29uc3RydWN0b3IgZnVuY3Rpb25cbiAgLy8gKiB3ZSBoYXZlIHRvIGNoZWNrIHRoZSBleGlzdGFuY2Ugb2YganFMaXRlIGZpcnN0IGFzIHRoaXMgbWV0aG9kIGlzIGNhbGxlZFxuICAvLyAgIHZpYSB0aGUgZm9yRWFjaCBtZXRob2Qgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGpxTGl0ZSBvYmplY3QgaW4gdGhlIGZpcnN0IHBsYWNlXG4gIGlmIChpc0FycmF5KG9iaikgfHwgaXNTdHJpbmcob2JqKSB8fCAoanFMaXRlICYmIG9iaiBpbnN0YW5jZW9mIGpxTGl0ZSkpIHJldHVybiB0cnVlO1xuXG4gIC8vIFN1cHBvcnQ6IGlPUyA4LjIgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxuICAvLyBcImxlbmd0aFwiIGluIG9iaiB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0xMTUwOClcbiAgdmFyIGxlbmd0aCA9IFwibGVuZ3RoXCIgaW4gT2JqZWN0KG9iaikgJiYgb2JqLmxlbmd0aDtcblxuICAvLyBOb2RlTGlzdCBvYmplY3RzICh3aXRoIGBpdGVtYCBtZXRob2QpIGFuZFxuICAvLyBvdGhlciBvYmplY3RzIHdpdGggc3VpdGFibGUgbGVuZ3RoIGNoYXJhY3RlcmlzdGljcyBhcmUgYXJyYXktbGlrZVxuICByZXR1cm4gaXNOdW1iZXIobGVuZ3RoKSAmJlxuICAgIChsZW5ndGggPj0gMCAmJiAobGVuZ3RoIC0gMSkgaW4gb2JqIHx8IHR5cGVvZiBvYmouaXRlbSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZm9yRWFjaFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEludm9rZXMgdGhlIGBpdGVyYXRvcmAgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBpdGVtIGluIGBvYmpgIGNvbGxlY3Rpb24sIHdoaWNoIGNhbiBiZSBlaXRoZXIgYW5cbiAqIG9iamVjdCBvciBhbiBhcnJheS4gVGhlIGBpdGVyYXRvcmAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIGBpdGVyYXRvcih2YWx1ZSwga2V5LCBvYmopYCwgd2hlcmUgYHZhbHVlYFxuICogaXMgdGhlIHZhbHVlIG9mIGFuIG9iamVjdCBwcm9wZXJ0eSBvciBhbiBhcnJheSBlbGVtZW50LCBga2V5YCBpcyB0aGUgb2JqZWN0IHByb3BlcnR5IGtleSBvclxuICogYXJyYXkgZWxlbWVudCBpbmRleCBhbmQgb2JqIGlzIHRoZSBgb2JqYCBpdHNlbGYuIFNwZWNpZnlpbmcgYSBgY29udGV4dGAgZm9yIHRoZSBmdW5jdGlvbiBpcyBvcHRpb25hbC5cbiAqXG4gKiBJdCBpcyB3b3J0aCBub3RpbmcgdGhhdCBgLmZvckVhY2hgIGRvZXMgbm90IGl0ZXJhdGUgb3ZlciBpbmhlcml0ZWQgcHJvcGVydGllcyBiZWNhdXNlIGl0IGZpbHRlcnNcbiAqIHVzaW5nIHRoZSBgaGFzT3duUHJvcGVydHlgIG1ldGhvZC5cbiAqXG4gKiBVbmxpa2UgRVMyNjInc1xuICogW0FycmF5LnByb3RvdHlwZS5mb3JFYWNoXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtMTUuNC40LjE4KSxcbiAqIFByb3ZpZGluZyAndW5kZWZpbmVkJyBvciAnbnVsbCcgdmFsdWVzIGZvciBgb2JqYCB3aWxsIG5vdCB0aHJvdyBhIFR5cGVFcnJvciwgYnV0IHJhdGhlciBqdXN0XG4gKiByZXR1cm4gdGhlIHZhbHVlIHByb3ZpZGVkLlxuICpcbiAgIGBgYGpzXG4gICAgIHZhciB2YWx1ZXMgPSB7bmFtZTogJ21pc2tvJywgZ2VuZGVyOiAnbWFsZSd9O1xuICAgICB2YXIgbG9nID0gW107XG4gICAgIGFuZ3VsYXIuZm9yRWFjaCh2YWx1ZXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICB0aGlzLnB1c2goa2V5ICsgJzogJyArIHZhbHVlKTtcbiAgICAgfSwgbG9nKTtcbiAgICAgZXhwZWN0KGxvZykudG9FcXVhbChbJ25hbWU6IG1pc2tvJywgJ2dlbmRlcjogbWFsZSddKTtcbiAgIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogT2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yIEl0ZXJhdG9yIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3Q9fSBjb250ZXh0IE9iamVjdCB0byBiZWNvbWUgY29udGV4dCAoYHRoaXNgKSBmb3IgdGhlIGl0ZXJhdG9yIGZ1bmN0aW9uLlxuICogQHJldHVybnMge09iamVjdHxBcnJheX0gUmVmZXJlbmNlIHRvIGBvYmpgLlxuICovXG5cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICB2YXIga2V5LCBsZW5ndGg7XG4gIGlmIChvYmopIHtcbiAgICBpZiAoaXNGdW5jdGlvbihvYmopKSB7XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgLy8gTmVlZCB0byBjaGVjayBpZiBoYXNPd25Qcm9wZXJ0eSBleGlzdHMsXG4gICAgICAgIC8vIGFzIG9uIElFOCB0aGUgcmVzdWx0IG9mIHF1ZXJ5U2VsZWN0b3JBbGwgaXMgYW4gb2JqZWN0IHdpdGhvdXQgYSBoYXNPd25Qcm9wZXJ0eSBmdW5jdGlvblxuICAgICAgICBpZiAoa2V5ICE9ICdwcm90b3R5cGUnICYmIGtleSAhPSAnbGVuZ3RoJyAmJiBrZXkgIT0gJ25hbWUnICYmICghb2JqLmhhc093blByb3BlcnR5IHx8IG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSkge1xuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmopIHx8IGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgIHZhciBpc1ByaW1pdGl2ZSA9IHR5cGVvZiBvYmogIT09ICdvYmplY3QnO1xuICAgICAgZm9yIChrZXkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBrZXkgPCBsZW5ndGg7IGtleSsrKSB7XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSB8fCBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvYmouZm9yRWFjaCAmJiBvYmouZm9yRWFjaCAhPT0gZm9yRWFjaCkge1xuICAgICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCwgb2JqKTtcbiAgICB9IGVsc2UgaWYgKGlzQmxhbmtPYmplY3Qob2JqKSkge1xuICAgICAgLy8gY3JlYXRlTWFwKCkgZmFzdCBwYXRoIC0tLSBTYWZlIHRvIGF2b2lkIGhhc093blByb3BlcnR5IGNoZWNrIGJlY2F1c2UgcHJvdG90eXBlIGNoYWluIGlzIGVtcHR5XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iai5oYXNPd25Qcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gU2xvdyBwYXRoIGZvciBvYmplY3RzIGluaGVyaXRpbmcgT2JqZWN0LnByb3RvdHlwZSwgaGFzT3duUHJvcGVydHkgY2hlY2sgbmVlZGVkXG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNsb3cgcGF0aCBmb3Igb2JqZWN0cyB3aGljaCBkbyBub3QgaGF2ZSBhIG1ldGhvZCBgaGFzT3duUHJvcGVydHlgXG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hTb3J0ZWQob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaikuc29ydCgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXlzW2ldXSwga2V5c1tpXSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5cblxuLyoqXG4gKiB3aGVuIHVzaW5nIGZvckVhY2ggdGhlIHBhcmFtcyBhcmUgdmFsdWUsIGtleSwgYnV0IGl0IGlzIG9mdGVuIHVzZWZ1bCB0byBoYXZlIGtleSwgdmFsdWUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZywgKil9IGl0ZXJhdG9yRm5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbigqLCBzdHJpbmcpfVxuICovXG5mdW5jdGlvbiByZXZlcnNlUGFyYW1zKGl0ZXJhdG9yRm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHsgaXRlcmF0b3JGbihrZXksIHZhbHVlKTsgfTtcbn1cblxuLyoqXG4gKiBBIGNvbnNpc3RlbnQgd2F5IG9mIGNyZWF0aW5nIHVuaXF1ZSBJRHMgaW4gYW5ndWxhci5cbiAqXG4gKiBVc2luZyBzaW1wbGUgbnVtYmVycyBhbGxvd3MgdXMgdG8gZ2VuZXJhdGUgMjguNiBtaWxsaW9uIHVuaXF1ZSBpZHMgcGVyIHNlY29uZCBmb3IgMTAgeWVhcnMgYmVmb3JlXG4gKiB3ZSBoaXQgbnVtYmVyIHByZWNpc2lvbiBpc3N1ZXMgaW4gSmF2YVNjcmlwdC5cbiAqXG4gKiBNYXRoLnBvdygyLDUzKSAvIDYwIC8gNjAgLyAyNCAvIDM2NSAvIDEwID0gMjguNk1cbiAqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbiB1bmlxdWUgYWxwaGEtbnVtZXJpYyBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gbmV4dFVpZCgpIHtcbiAgcmV0dXJuICsrdWlkO1xufVxuXG5cbi8qKlxuICogU2V0IG9yIGNsZWFyIHRoZSBoYXNoa2V5IGZvciBhbiBvYmplY3QuXG4gKiBAcGFyYW0gb2JqIG9iamVjdFxuICogQHBhcmFtIGggdGhlIGhhc2hrZXkgKCF0cnV0aHkgdG8gZGVsZXRlIHRoZSBoYXNoa2V5KVxuICovXG5mdW5jdGlvbiBzZXRIYXNoS2V5KG9iaiwgaCkge1xuICBpZiAoaCkge1xuICAgIG9iai4kJGhhc2hLZXkgPSBoO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSBvYmouJCRoYXNoS2V5O1xuICB9XG59XG5cblxuZnVuY3Rpb24gYmFzZUV4dGVuZChkc3QsIG9ianMsIGRlZXApIHtcbiAgdmFyIGggPSBkc3QuJCRoYXNoS2V5O1xuXG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IG9ianMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHZhciBvYmogPSBvYmpzW2ldO1xuICAgIGlmICghaXNPYmplY3Qob2JqKSAmJiAhaXNGdW5jdGlvbihvYmopKSBjb250aW51ZTtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgZm9yICh2YXIgaiA9IDAsIGpqID0ga2V5cy5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tqXTtcbiAgICAgIHZhciBzcmMgPSBvYmpba2V5XTtcblxuICAgICAgaWYgKGRlZXAgJiYgaXNPYmplY3Qoc3JjKSkge1xuICAgICAgICBpZiAoaXNEYXRlKHNyYykpIHtcbiAgICAgICAgICBkc3Rba2V5XSA9IG5ldyBEYXRlKHNyYy52YWx1ZU9mKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUmVnRXhwKHNyYykpIHtcbiAgICAgICAgICBkc3Rba2V5XSA9IG5ldyBSZWdFeHAoc3JjKTtcbiAgICAgICAgfSBlbHNlIGlmIChzcmMubm9kZU5hbWUpIHtcbiAgICAgICAgICBkc3Rba2V5XSA9IHNyYy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KHNyYykpIHtcbiAgICAgICAgICBkc3Rba2V5XSA9IHNyYy5jbG9uZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghaXNPYmplY3QoZHN0W2tleV0pKSBkc3Rba2V5XSA9IGlzQXJyYXkoc3JjKSA/IFtdIDoge307XG4gICAgICAgICAgYmFzZUV4dGVuZChkc3Rba2V5XSwgW3NyY10sIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkc3Rba2V5XSA9IHNyYztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRIYXNoS2V5KGRzdCwgaCk7XG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmV4dGVuZFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV4dGVuZHMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBgZHN0YCBieSBjb3B5aW5nIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZnJvbSB0aGUgYHNyY2Agb2JqZWN0KHMpXG4gKiB0byBgZHN0YC4gWW91IGNhbiBzcGVjaWZ5IG11bHRpcGxlIGBzcmNgIG9iamVjdHMuIElmIHlvdSB3YW50IHRvIHByZXNlcnZlIG9yaWdpbmFsIG9iamVjdHMsIHlvdSBjYW4gZG8gc29cbiAqIGJ5IHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZSB0YXJnZXQ6IGB2YXIgb2JqZWN0ID0gYW5ndWxhci5leHRlbmQoe30sIG9iamVjdDEsIG9iamVjdDIpYC5cbiAqXG4gKiAqKk5vdGU6KiogS2VlcCBpbiBtaW5kIHRoYXQgYGFuZ3VsYXIuZXh0ZW5kYCBkb2VzIG5vdCBzdXBwb3J0IHJlY3Vyc2l2ZSBtZXJnZSAoZGVlcCBjb3B5KS4gVXNlXG4gKiB7QGxpbmsgYW5ndWxhci5tZXJnZX0gZm9yIHRoaXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gc3JjIFNvdXJjZSBvYmplY3QocykuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZWZlcmVuY2UgdG8gYGRzdGAuXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChkc3QpIHtcbiAgcmV0dXJuIGJhc2VFeHRlbmQoZHN0LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIGZhbHNlKTtcbn1cblxuXG4vKipcbiogQG5nZG9jIGZ1bmN0aW9uXG4qIEBuYW1lIGFuZ3VsYXIubWVyZ2VcbiogQG1vZHVsZSBuZ1xuKiBAa2luZCBmdW5jdGlvblxuKlxuKiBAZGVzY3JpcHRpb25cbiogRGVlcGx5IGV4dGVuZHMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBgZHN0YCBieSBjb3B5aW5nIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZnJvbSB0aGUgYHNyY2Agb2JqZWN0KHMpXG4qIHRvIGBkc3RgLiBZb3UgY2FuIHNwZWNpZnkgbXVsdGlwbGUgYHNyY2Agb2JqZWN0cy4gSWYgeW91IHdhbnQgdG8gcHJlc2VydmUgb3JpZ2luYWwgb2JqZWN0cywgeW91IGNhbiBkbyBzb1xuKiBieSBwYXNzaW5nIGFuIGVtcHR5IG9iamVjdCBhcyB0aGUgdGFyZ2V0OiBgdmFyIG9iamVjdCA9IGFuZ3VsYXIubWVyZ2Uoe30sIG9iamVjdDEsIG9iamVjdDIpYC5cbipcbiogVW5saWtlIHtAbGluayBhbmd1bGFyLmV4dGVuZCBleHRlbmQoKX0sIGBtZXJnZSgpYCByZWN1cnNpdmVseSBkZXNjZW5kcyBpbnRvIG9iamVjdCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuKiBvYmplY3RzLCBwZXJmb3JtaW5nIGEgZGVlcCBjb3B5LlxuKlxuKiBAcGFyYW0ge09iamVjdH0gZHN0IERlc3RpbmF0aW9uIG9iamVjdC5cbiogQHBhcmFtIHsuLi5PYmplY3R9IHNyYyBTb3VyY2Ugb2JqZWN0KHMpLlxuKiBAcmV0dXJucyB7T2JqZWN0fSBSZWZlcmVuY2UgdG8gYGRzdGAuXG4qL1xuZnVuY3Rpb24gbWVyZ2UoZHN0KSB7XG4gIHJldHVybiBiYXNlRXh0ZW5kKGRzdCwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCB0cnVlKTtcbn1cblxuXG5cbmZ1bmN0aW9uIHRvSW50KHN0cikge1xuICByZXR1cm4gcGFyc2VJbnQoc3RyLCAxMCk7XG59XG5cblxuZnVuY3Rpb24gaW5oZXJpdChwYXJlbnQsIGV4dHJhKSB7XG4gIHJldHVybiBleHRlbmQoT2JqZWN0LmNyZWF0ZShwYXJlbnQpLCBleHRyYSk7XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLm5vb3BcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgbm8gb3BlcmF0aW9ucy4gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZnVsIHdoZW4gd3JpdGluZyBjb2RlIGluIHRoZVxuICogZnVuY3Rpb25hbCBzdHlsZS5cbiAgIGBgYGpzXG4gICAgIGZ1bmN0aW9uIGZvbyhjYWxsYmFjaykge1xuICAgICAgIHZhciByZXN1bHQgPSBjYWxjdWxhdGVSZXN1bHQoKTtcbiAgICAgICAoY2FsbGJhY2sgfHwgYW5ndWxhci5ub29wKShyZXN1bHQpO1xuICAgICB9XG4gICBgYGBcbiAqL1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5ub29wLiRpbmplY3QgPSBbXTtcblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pZGVudGl0eVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGl0cyBmaXJzdCBhcmd1bWVudC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXG4gKiBmdW5jdGlvbmFsIHN0eWxlLlxuICpcbiAgIGBgYGpzXG4gICAgIGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyYW5zZm9ybWF0aW9uRm4sIHZhbHVlKSB7XG4gICAgICAgcmV0dXJuICh0cmFuc2Zvcm1hdGlvbkZuIHx8IGFuZ3VsYXIuaWRlbnRpdHkpKHZhbHVlKTtcbiAgICAgfTtcbiAgIGBgYFxuICAqIEBwYXJhbSB7Kn0gdmFsdWUgdG8gYmUgcmV0dXJuZWQuXG4gICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBwYXNzZWQgaW4uXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KCQpIHtyZXR1cm4gJDt9XG5pZGVudGl0eS4kaW5qZWN0ID0gW107XG5cblxuZnVuY3Rpb24gdmFsdWVGbih2YWx1ZSkge3JldHVybiBmdW5jdGlvbigpIHtyZXR1cm4gdmFsdWU7fTt9XG5cbmZ1bmN0aW9uIGhhc0N1c3RvbVRvU3RyaW5nKG9iaikge1xuICByZXR1cm4gaXNGdW5jdGlvbihvYmoudG9TdHJpbmcpICYmIG9iai50b1N0cmluZyAhPT0gdG9TdHJpbmc7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNVbmRlZmluZWRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIHVuZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgdW5kZWZpbmVkLlxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0RlZmluZWRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGRlZmluZWQuXG4gKi9cbmZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc09iamVjdFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYW4gYE9iamVjdGAuIFVubGlrZSBgdHlwZW9mYCBpbiBKYXZhU2NyaXB0LCBgbnVsbGBzIGFyZSBub3RcbiAqIGNvbnNpZGVyZWQgdG8gYmUgb2JqZWN0cy4gTm90ZSB0aGF0IEphdmFTY3JpcHQgYXJyYXlzIGFyZSBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgT2JqZWN0YCBidXQgbm90IGBudWxsYC5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vaXNvYmplY3Q0XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xufVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYSBudWxsIHByb3RvdHlwZVxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYW4gYE9iamVjdGAgd2l0aCBhIG51bGwgcHJvdG90eXBlXG4gKi9cbmZ1bmN0aW9uIGlzQmxhbmtPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIWdldFByb3RvdHlwZU9mKHZhbHVlKTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc1N0cmluZ1xuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgU3RyaW5nYC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgU3RyaW5nYC5cbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJzt9XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNOdW1iZXJcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgYE51bWJlcmAuXG4gKlxuICogVGhpcyBpbmNsdWRlcyB0aGUgXCJzcGVjaWFsXCIgbnVtYmVycyBgTmFOYCwgYCtJbmZpbml0eWAgYW5kIGAtSW5maW5pdHlgLlxuICpcbiAqIElmIHlvdSB3aXNoIHRvIGV4Y2x1ZGUgdGhlc2UgdGhlbiB5b3UgY2FuIHVzZSB0aGUgbmF0aXZlXG4gKiBbYGlzRmluaXRlJ10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvaXNGaW5pdGUpXG4gKiBtZXRob2QuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYE51bWJlcmAuXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7fVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzRGF0ZVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhIGRhdGUuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYERhdGVgLlxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNBcnJheVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYW4gYEFycmF5YC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYW4gYEFycmF5YC5cbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0Z1bmN0aW9uXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBGdW5jdGlvbmAuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYEZ1bmN0aW9uYC5cbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7fVxuXG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgcmVndWxhciBleHByZXNzaW9uIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYFJlZ0V4cGAuXG4gKi9cbmZ1bmN0aW9uIGlzUmVnRXhwKHZhbHVlKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5cblxuLyoqXG4gKiBDaGVja3MgaWYgYG9iamAgaXMgYSB3aW5kb3cgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IG9iaiBPYmplY3QgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iai5cbiAqL1xuZnVuY3Rpb24gaXNXaW5kb3cob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLndpbmRvdyA9PT0gb2JqO1xufVxuXG5cbmZ1bmN0aW9uIGlzU2NvcGUob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLiRldmFsQXN5bmMgJiYgb2JqLiR3YXRjaDtcbn1cblxuXG5mdW5jdGlvbiBpc0ZpbGUob2JqKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEZpbGVdJztcbn1cblxuXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGb3JtRGF0YV0nO1xufVxuXG5cbmZ1bmN0aW9uIGlzQmxvYihvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG5cbmZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG59XG5cblxuZnVuY3Rpb24gaXNQcm9taXNlTGlrZShvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBpc0Z1bmN0aW9uKG9iai50aGVuKTtcbn1cblxuXG52YXIgVFlQRURfQVJSQVlfUkVHRVhQID0gL15cXFtvYmplY3QgKD86VWludDh8VWludDhDbGFtcGVkfFVpbnQxNnxVaW50MzJ8SW50OHxJbnQxNnxJbnQzMnxGbG9hdDMyfEZsb2F0NjQpQXJyYXlcXF0kLztcbmZ1bmN0aW9uIGlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgaXNOdW1iZXIodmFsdWUubGVuZ3RoKSAmJiBUWVBFRF9BUlJBWV9SRUdFWFAudGVzdCh0b1N0cmluZy5jYWxsKHZhbHVlKSk7XG59XG5cblxudmFyIHRyaW0gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gdmFsdWUudHJpbSgpIDogdmFsdWU7XG59O1xuXG4vLyBDb3BpZWQgZnJvbTpcbi8vIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvbG9jYWxfY2xvc3VyZV9nb29nX3N0cmluZ19zdHJpbmcuanMuc291cmNlLmh0bWwjbGluZTEwMjFcbi8vIFByZXJlcTogcyBpcyBhIHN0cmluZy5cbnZhciBlc2NhcGVGb3JSZWdleHAgPSBmdW5jdGlvbihzKSB7XG4gIHJldHVybiBzLnJlcGxhY2UoLyhbLSgpXFxbXFxde30rPyouJFxcXnwsOiM8IVxcXFxdKS9nLCAnXFxcXCQxJykuXG4gICAgICAgICAgIHJlcGxhY2UoL1xceDA4L2csICdcXFxceDA4Jyk7XG59O1xuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzRWxlbWVudFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBET00gZWxlbWVudCAob3Igd3JhcHBlZCBqUXVlcnkgZWxlbWVudCkuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQgKG9yIHdyYXBwZWQgalF1ZXJ5IGVsZW1lbnQpLlxuICovXG5mdW5jdGlvbiBpc0VsZW1lbnQobm9kZSkge1xuICByZXR1cm4gISEobm9kZSAmJlxuICAgIChub2RlLm5vZGVOYW1lICAvLyB3ZSBhcmUgYSBkaXJlY3QgZWxlbWVudFxuICAgIHx8IChub2RlLnByb3AgJiYgbm9kZS5hdHRyICYmIG5vZGUuZmluZCkpKTsgIC8vIHdlIGhhdmUgYW4gb24gYW5kIGZpbmQgbWV0aG9kIHBhcnQgb2YgalF1ZXJ5IEFQSVxufVxuXG4vKipcbiAqIEBwYXJhbSBzdHIgJ2tleTEsa2V5MiwuLi4nXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBpbiB0aGUgZm9ybSBvZiB7a2V5MTp0cnVlLCBrZXkyOnRydWUsIC4uLn1cbiAqL1xuZnVuY3Rpb24gbWFrZU1hcChzdHIpIHtcbiAgdmFyIG9iaiA9IHt9LCBpdGVtcyA9IHN0ci5zcGxpdChcIixcIiksIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgIG9ialtpdGVtc1tpXV0gPSB0cnVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cblxuZnVuY3Rpb24gbm9kZU5hbWVfKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGxvd2VyY2FzZShlbGVtZW50Lm5vZGVOYW1lIHx8IChlbGVtZW50WzBdICYmIGVsZW1lbnRbMF0ubm9kZU5hbWUpKTtcbn1cblxuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIG9iaikge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhcnJheSwgb2JqKSAhPSAtMTtcbn1cblxuZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksIHZhbHVlKSB7XG4gIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YodmFsdWUpO1xuICBpZiAoaW5kZXggPj0gMCkge1xuICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gIH1cbiAgcmV0dXJuIGluZGV4O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5jb3B5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIGRlZXAgY29weSBvZiBgc291cmNlYCwgd2hpY2ggc2hvdWxkIGJlIGFuIG9iamVjdCBvciBhbiBhcnJheS5cbiAqXG4gKiAqIElmIG5vIGRlc3RpbmF0aW9uIGlzIHN1cHBsaWVkLCBhIGNvcHkgb2YgdGhlIG9iamVjdCBvciBhcnJheSBpcyBjcmVhdGVkLlxuICogKiBJZiBhIGRlc3RpbmF0aW9uIGlzIHByb3ZpZGVkLCBhbGwgb2YgaXRzIGVsZW1lbnRzIChmb3IgYXJyYXlzKSBvciBwcm9wZXJ0aWVzIChmb3Igb2JqZWN0cylcbiAqICAgYXJlIGRlbGV0ZWQgYW5kIHRoZW4gYWxsIGVsZW1lbnRzL3Byb3BlcnRpZXMgZnJvbSB0aGUgc291cmNlIGFyZSBjb3BpZWQgdG8gaXQuXG4gKiAqIElmIGBzb3VyY2VgIGlzIG5vdCBhbiBvYmplY3Qgb3IgYXJyYXkgKGluYy4gYG51bGxgIGFuZCBgdW5kZWZpbmVkYCksIGBzb3VyY2VgIGlzIHJldHVybmVkLlxuICogKiBJZiBgc291cmNlYCBpcyBpZGVudGljYWwgdG8gJ2Rlc3RpbmF0aW9uJyBhbiBleGNlcHRpb24gd2lsbCBiZSB0aHJvd24uXG4gKlxuICogQHBhcmFtIHsqfSBzb3VyY2UgVGhlIHNvdXJjZSB0aGF0IHdpbGwgYmUgdXNlZCB0byBtYWtlIGEgY29weS5cbiAqICAgICAgICAgICAgICAgICAgIENhbiBiZSBhbnkgdHlwZSwgaW5jbHVkaW5nIHByaW1pdGl2ZXMsIGBudWxsYCwgYW5kIGB1bmRlZmluZWRgLlxuICogQHBhcmFtIHsoT2JqZWN0fEFycmF5KT19IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIGludG8gd2hpY2ggdGhlIHNvdXJjZSBpcyBjb3BpZWQuIElmXG4gKiAgICAgcHJvdmlkZWQsIG11c3QgYmUgb2YgdGhlIHNhbWUgdHlwZSBhcyBgc291cmNlYC5cbiAqIEByZXR1cm5zIHsqfSBUaGUgY29weSBvciB1cGRhdGVkIGBkZXN0aW5hdGlvbmAsIGlmIGBkZXN0aW5hdGlvbmAgd2FzIHNwZWNpZmllZC5cbiAqXG4gKiBAZXhhbXBsZVxuIDxleGFtcGxlIG1vZHVsZT1cImNvcHlFeGFtcGxlXCI+XG4gPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuIDxmb3JtIG5vdmFsaWRhdGUgY2xhc3M9XCJzaW1wbGUtZm9ybVwiPlxuIE5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlci5uYW1lXCIgLz48YnIgLz5cbiBFLW1haWw6IDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuZy1tb2RlbD1cInVzZXIuZW1haWxcIiAvPjxiciAvPlxuIEdlbmRlcjogPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwidXNlci5nZW5kZXJcIiB2YWx1ZT1cIm1hbGVcIiAvPm1hbGVcbiA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwiZmVtYWxlXCIgLz5mZW1hbGU8YnIgLz5cbiA8YnV0dG9uIG5nLWNsaWNrPVwicmVzZXQoKVwiPlJFU0VUPC9idXR0b24+XG4gPGJ1dHRvbiBuZy1jbGljaz1cInVwZGF0ZSh1c2VyKVwiPlNBVkU8L2J1dHRvbj5cbiA8L2Zvcm0+XG4gPHByZT5mb3JtID0ge3t1c2VyIHwganNvbn19PC9wcmU+XG4gPHByZT5tYXN0ZXIgPSB7e21hc3RlciB8IGpzb259fTwvcHJlPlxuIDwvZGl2PlxuXG4gPHNjcmlwdD5cbiAgYW5ndWxhci5tb2R1bGUoJ2NvcHlFeGFtcGxlJywgW10pXG4gICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICRzY29wZS5tYXN0ZXI9IHt9O1xuXG4gICAgICAkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24odXNlcikge1xuICAgICAgICAvLyBFeGFtcGxlIHdpdGggMSBhcmd1bWVudFxuICAgICAgICAkc2NvcGUubWFzdGVyPSBhbmd1bGFyLmNvcHkodXNlcik7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRXhhbXBsZSB3aXRoIDIgYXJndW1lbnRzXG4gICAgICAgIGFuZ3VsYXIuY29weSgkc2NvcGUubWFzdGVyLCAkc2NvcGUudXNlcik7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucmVzZXQoKTtcbiAgICB9XSk7XG4gPC9zY3JpcHQ+XG4gPC9maWxlPlxuIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gY29weShzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gIHZhciBzdGFja1NvdXJjZSA9IFtdO1xuICB2YXIgc3RhY2tEZXN0ID0gW107XG5cbiAgaWYgKGRlc3RpbmF0aW9uKSB7XG4gICAgaWYgKGlzVHlwZWRBcnJheShkZXN0aW5hdGlvbikpIHtcbiAgICAgIHRocm93IG5nTWluRXJyKCdjcHRhJywgXCJDYW4ndCBjb3B5ISBUeXBlZEFycmF5IGRlc3RpbmF0aW9uIGNhbm5vdCBiZSBtdXRhdGVkLlwiKTtcbiAgICB9XG4gICAgaWYgKHNvdXJjZSA9PT0gZGVzdGluYXRpb24pIHtcbiAgICAgIHRocm93IG5nTWluRXJyKCdjcGknLCBcIkNhbid0IGNvcHkhIFNvdXJjZSBhbmQgZGVzdGluYXRpb24gYXJlIGlkZW50aWNhbC5cIik7XG4gICAgfVxuXG4gICAgLy8gRW1wdHkgdGhlIGRlc3RpbmF0aW9uIG9iamVjdFxuICAgIGlmIChpc0FycmF5KGRlc3RpbmF0aW9uKSkge1xuICAgICAgZGVzdGluYXRpb24ubGVuZ3RoID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaChkZXN0aW5hdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoa2V5ICE9PSAnJCRoYXNoS2V5Jykge1xuICAgICAgICAgIGRlbGV0ZSBkZXN0aW5hdGlvbltrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZSk7XG4gICAgc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pO1xuICAgIHJldHVybiBjb3B5UmVjdXJzZShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcbiAgfVxuXG4gIHJldHVybiBjb3B5RWxlbWVudChzb3VyY2UpO1xuXG4gIGZ1bmN0aW9uIGNvcHlSZWN1cnNlKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICB2YXIgaCA9IGRlc3RpbmF0aW9uLiQkaGFzaEtleTtcbiAgICB2YXIgcmVzdWx0LCBrZXk7XG4gICAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc291cmNlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgZGVzdGluYXRpb24ucHVzaChjb3B5RWxlbWVudChzb3VyY2VbaV0pKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQmxhbmtPYmplY3Qoc291cmNlKSkge1xuICAgICAgLy8gY3JlYXRlTWFwKCkgZmFzdCBwYXRoIC0tLSBTYWZlIHRvIGF2b2lkIGhhc093blByb3BlcnR5IGNoZWNrIGJlY2F1c2UgcHJvdG90eXBlIGNoYWluIGlzIGVtcHR5XG4gICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgZGVzdGluYXRpb25ba2V5XSA9IGNvcHlFbGVtZW50KHNvdXJjZVtrZXldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNvdXJjZSAmJiB0eXBlb2Ygc291cmNlLmhhc093blByb3BlcnR5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBTbG93IHBhdGgsIHdoaWNoIG11c3QgcmVseSBvbiBoYXNPd25Qcm9wZXJ0eVxuICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjb3B5RWxlbWVudChzb3VyY2Vba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2xvd2VzdCBwYXRoIC0tLSBoYXNPd25Qcm9wZXJ0eSBjYW4ndCBiZSBjYWxsZWQgYXMgYSBtZXRob2RcbiAgICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gY29weUVsZW1lbnQoc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHNldEhhc2hLZXkoZGVzdGluYXRpb24sIGgpO1xuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvcHlFbGVtZW50KHNvdXJjZSkge1xuICAgIC8vIFNpbXBsZSB2YWx1ZXNcbiAgICBpZiAoIWlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfVxuXG4gICAgLy8gQWxyZWFkeSBjb3BpZWQgdmFsdWVzXG4gICAgdmFyIGluZGV4ID0gc3RhY2tTb3VyY2UuaW5kZXhPZihzb3VyY2UpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBzdGFja0Rlc3RbaW5kZXhdO1xuICAgIH1cblxuICAgIGlmIChpc1dpbmRvdyhzb3VyY2UpIHx8IGlzU2NvcGUoc291cmNlKSkge1xuICAgICAgdGhyb3cgbmdNaW5FcnIoJ2Nwd3MnLFxuICAgICAgICBcIkNhbid0IGNvcHkhIE1ha2luZyBjb3BpZXMgb2YgV2luZG93IG9yIFNjb3BlIGluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgbmVlZHNSZWN1cnNlID0gZmFsc2U7XG4gICAgdmFyIGRlc3RpbmF0aW9uO1xuXG4gICAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgZGVzdGluYXRpb24gPSBbXTtcbiAgICAgIG5lZWRzUmVjdXJzZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChpc1R5cGVkQXJyYXkoc291cmNlKSkge1xuICAgICAgZGVzdGluYXRpb24gPSBuZXcgc291cmNlLmNvbnN0cnVjdG9yKHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmIChpc0RhdGUoc291cmNlKSkge1xuICAgICAgZGVzdGluYXRpb24gPSBuZXcgRGF0ZShzb3VyY2UuZ2V0VGltZSgpKTtcbiAgICB9IGVsc2UgaWYgKGlzUmVnRXhwKHNvdXJjZSkpIHtcbiAgICAgIGRlc3RpbmF0aW9uID0gbmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlLCBzb3VyY2UudG9TdHJpbmcoKS5tYXRjaCgvW15cXC9dKiQvKVswXSk7XG4gICAgICBkZXN0aW5hdGlvbi5sYXN0SW5kZXggPSBzb3VyY2UubGFzdEluZGV4O1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UuY2xvbmVOb2RlKSkge1xuICAgICAgICBkZXN0aW5hdGlvbiA9IHNvdXJjZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlc3RpbmF0aW9uID0gT2JqZWN0LmNyZWF0ZShnZXRQcm90b3R5cGVPZihzb3VyY2UpKTtcbiAgICAgIG5lZWRzUmVjdXJzZSA9IHRydWU7XG4gICAgfVxuXG4gICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xuICAgIHN0YWNrRGVzdC5wdXNoKGRlc3RpbmF0aW9uKTtcblxuICAgIHJldHVybiBuZWVkc1JlY3Vyc2VcbiAgICAgID8gY29weVJlY3Vyc2Uoc291cmNlLCBkZXN0aW5hdGlvbilcbiAgICAgIDogZGVzdGluYXRpb247XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc2hhbGxvdyBjb3B5IG9mIGFuIG9iamVjdCwgYW4gYXJyYXkgb3IgYSBwcmltaXRpdmUuXG4gKlxuICogQXNzdW1lcyB0aGF0IHRoZXJlIGFyZSBubyBwcm90byBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICovXG5mdW5jdGlvbiBzaGFsbG93Q29weShzcmMsIGRzdCkge1xuICBpZiAoaXNBcnJheShzcmMpKSB7XG4gICAgZHN0ID0gZHN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc3JjLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGRzdFtpXSA9IHNyY1tpXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc3JjKSkge1xuICAgIGRzdCA9IGRzdCB8fCB7fTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICAgIGlmICghKGtleS5jaGFyQXQoMCkgPT09ICckJyAmJiBrZXkuY2hhckF0KDEpID09PSAnJCcpKSB7XG4gICAgICAgIGRzdFtrZXldID0gc3JjW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRzdCB8fCBzcmM7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZXF1YWxzXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiB0d28gb2JqZWN0cyBvciB0d28gdmFsdWVzIGFyZSBlcXVpdmFsZW50LiBTdXBwb3J0cyB2YWx1ZSB0eXBlcywgcmVndWxhclxuICogZXhwcmVzc2lvbnMsIGFycmF5cyBhbmQgb2JqZWN0cy5cbiAqXG4gKiBUd28gb2JqZWN0cyBvciB2YWx1ZXMgYXJlIGNvbnNpZGVyZWQgZXF1aXZhbGVudCBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICpcbiAqICogQm90aCBvYmplY3RzIG9yIHZhbHVlcyBwYXNzIGA9PT1gIGNvbXBhcmlzb24uXG4gKiAqIEJvdGggb2JqZWN0cyBvciB2YWx1ZXMgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYW5kIGFsbCBvZiB0aGVpciBwcm9wZXJ0aWVzIGFyZSBlcXVhbCBieVxuICogICBjb21wYXJpbmcgdGhlbSB3aXRoIGBhbmd1bGFyLmVxdWFsc2AuXG4gKiAqIEJvdGggdmFsdWVzIGFyZSBOYU4uIChJbiBKYXZhU2NyaXB0LCBOYU4gPT0gTmFOID0+IGZhbHNlLiBCdXQgd2UgY29uc2lkZXIgdHdvIE5hTiBhcyBlcXVhbClcbiAqICogQm90aCB2YWx1ZXMgcmVwcmVzZW50IHRoZSBzYW1lIHJlZ3VsYXIgZXhwcmVzc2lvbiAoSW4gSmF2YVNjcmlwdCxcbiAqICAgL2FiYy8gPT0gL2FiYy8gPT4gZmFsc2UuIEJ1dCB3ZSBjb25zaWRlciB0d28gcmVndWxhciBleHByZXNzaW9ucyBhcyBlcXVhbCB3aGVuIHRoZWlyIHRleHR1YWxcbiAqICAgcmVwcmVzZW50YXRpb24gbWF0Y2hlcykuXG4gKlxuICogRHVyaW5nIGEgcHJvcGVydHkgY29tcGFyaXNvbiwgcHJvcGVydGllcyBvZiBgZnVuY3Rpb25gIHR5cGUgYW5kIHByb3BlcnRpZXMgd2l0aCBuYW1lc1xuICogdGhhdCBiZWdpbiB3aXRoIGAkYCBhcmUgaWdub3JlZC5cbiAqXG4gKiBTY29wZSBhbmQgRE9NV2luZG93IG9iamVjdHMgYXJlIGJlaW5nIGNvbXBhcmVkIG9ubHkgYnkgaWRlbnRpZnkgKGA9PT1gKS5cbiAqXG4gKiBAcGFyYW0geyp9IG8xIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvMiBPYmplY3Qgb3IgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGFyZ3VtZW50cyBhcmUgZXF1YWwuXG4gKi9cbmZ1bmN0aW9uIGVxdWFscyhvMSwgbzIpIHtcbiAgaWYgKG8xID09PSBvMikgcmV0dXJuIHRydWU7XG4gIGlmIChvMSA9PT0gbnVsbCB8fCBvMiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICBpZiAobzEgIT09IG8xICYmIG8yICE9PSBvMikgcmV0dXJuIHRydWU7IC8vIE5hTiA9PT0gTmFOXG4gIHZhciB0MSA9IHR5cGVvZiBvMSwgdDIgPSB0eXBlb2YgbzIsIGxlbmd0aCwga2V5LCBrZXlTZXQ7XG4gIGlmICh0MSA9PSB0Mikge1xuICAgIGlmICh0MSA9PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKGlzQXJyYXkobzEpKSB7XG4gICAgICAgIGlmICghaXNBcnJheShvMikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKChsZW5ndGggPSBvMS5sZW5ndGgpID09IG8yLmxlbmd0aCkge1xuICAgICAgICAgIGZvciAoa2V5ID0gMDsga2V5IDwgbGVuZ3RoOyBrZXkrKykge1xuICAgICAgICAgICAgaWYgKCFlcXVhbHMobzFba2V5XSwgbzJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKG8xKSkge1xuICAgICAgICBpZiAoIWlzRGF0ZShvMikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGVxdWFscyhvMS5nZXRUaW1lKCksIG8yLmdldFRpbWUoKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVnRXhwKG8xKSkge1xuICAgICAgICByZXR1cm4gaXNSZWdFeHAobzIpID8gbzEudG9TdHJpbmcoKSA9PSBvMi50b1N0cmluZygpIDogZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNTY29wZShvMSkgfHwgaXNTY29wZShvMikgfHwgaXNXaW5kb3cobzEpIHx8IGlzV2luZG93KG8yKSB8fFxuICAgICAgICAgIGlzQXJyYXkobzIpIHx8IGlzRGF0ZShvMikgfHwgaXNSZWdFeHAobzIpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGtleVNldCA9IGNyZWF0ZU1hcCgpO1xuICAgICAgICBmb3IgKGtleSBpbiBvMSkge1xuICAgICAgICAgIGlmIChrZXkuY2hhckF0KDApID09PSAnJCcgfHwgaXNGdW5jdGlvbihvMVtrZXldKSkgY29udGludWU7XG4gICAgICAgICAgaWYgKCFlcXVhbHMobzFba2V5XSwgbzJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBrZXlTZXRba2V5XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChrZXkgaW4gbzIpIHtcbiAgICAgICAgICBpZiAoIShrZXkgaW4ga2V5U2V0KSAmJlxuICAgICAgICAgICAgICBrZXkuY2hhckF0KDApICE9PSAnJCcgJiZcbiAgICAgICAgICAgICAgaXNEZWZpbmVkKG8yW2tleV0pICYmXG4gICAgICAgICAgICAgICFpc0Z1bmN0aW9uKG8yW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGNzcCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIWlzRGVmaW5lZChjc3AucnVsZXMpKSB7XG5cblxuICAgIHZhciBuZ0NzcEVsZW1lbnQgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25nLWNzcF0nKSB8fFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1uZy1jc3BdJykpO1xuXG4gICAgaWYgKG5nQ3NwRWxlbWVudCkge1xuICAgICAgdmFyIG5nQ3NwQXR0cmlidXRlID0gbmdDc3BFbGVtZW50LmdldEF0dHJpYnV0ZSgnbmctY3NwJykgfHxcbiAgICAgICAgICAgICAgICAgICAgbmdDc3BFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1uZy1jc3AnKTtcbiAgICAgIGNzcC5ydWxlcyA9IHtcbiAgICAgICAgbm9VbnNhZmVFdmFsOiAhbmdDc3BBdHRyaWJ1dGUgfHwgKG5nQ3NwQXR0cmlidXRlLmluZGV4T2YoJ25vLXVuc2FmZS1ldmFsJykgIT09IC0xKSxcbiAgICAgICAgbm9JbmxpbmVTdHlsZTogIW5nQ3NwQXR0cmlidXRlIHx8IChuZ0NzcEF0dHJpYnV0ZS5pbmRleE9mKCduby1pbmxpbmUtc3R5bGUnKSAhPT0gLTEpXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjc3AucnVsZXMgPSB7XG4gICAgICAgIG5vVW5zYWZlRXZhbDogbm9VbnNhZmVFdmFsKCksXG4gICAgICAgIG5vSW5saW5lU3R5bGU6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjc3AucnVsZXM7XG5cbiAgZnVuY3Rpb24gbm9VbnNhZmVFdmFsKCkge1xuICAgIHRyeSB7XG4gICAgICAvKiBqc2hpbnQgLVcwMzEsIC1XMDU0ICovXG4gICAgICBuZXcgRnVuY3Rpb24oJycpO1xuICAgICAgLyoganNoaW50ICtXMDMxLCArVzA1NCAqL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbW9kdWxlIG5nXG4gKiBAbmFtZSBuZ0pxXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nSnEgdGhlIG5hbWUgb2YgdGhlIGxpYnJhcnkgYXZhaWxhYmxlIHVuZGVyIGB3aW5kb3dgXG4gKiB0byBiZSB1c2VkIGZvciBhbmd1bGFyLmVsZW1lbnRcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoaXMgZGlyZWN0aXZlIHRvIGZvcmNlIHRoZSBhbmd1bGFyLmVsZW1lbnQgbGlicmFyeS4gIFRoaXMgc2hvdWxkIGJlXG4gKiB1c2VkIHRvIGZvcmNlIGVpdGhlciBqcUxpdGUgYnkgbGVhdmluZyBuZy1qcSBibGFuayBvciBzZXR0aW5nIHRoZSBuYW1lIG9mXG4gKiB0aGUganF1ZXJ5IHZhcmlhYmxlIHVuZGVyIHdpbmRvdyAoZWcuIGpRdWVyeSkuXG4gKlxuICogU2luY2UgYW5ndWxhciBsb29rcyBmb3IgdGhpcyBkaXJlY3RpdmUgd2hlbiBpdCBpcyBsb2FkZWQgKGRvZXNuJ3Qgd2FpdCBmb3IgdGhlXG4gKiBET01Db250ZW50TG9hZGVkIGV2ZW50KSwgaXQgbXVzdCBiZSBwbGFjZWQgb24gYW4gZWxlbWVudCB0aGF0IGNvbWVzIGJlZm9yZSB0aGUgc2NyaXB0XG4gKiB3aGljaCBsb2FkcyBhbmd1bGFyLiBBbHNvLCBvbmx5IHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBgbmctanFgIHdpbGwgYmUgdXNlZCBhbmQgYWxsXG4gKiBvdGhlcnMgaWdub3JlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byBmb3JjZSBqcUxpdGUgdXNpbmcgdGhlIGBuZ0pxYCBkaXJlY3RpdmUgdG8gdGhlIGBodG1sYCB0YWcuXG4gYGBgaHRtbFxuIDwhZG9jdHlwZSBodG1sPlxuIDxodG1sIG5nLWFwcCBuZy1qcT5cbiAuLi5cbiAuLi5cbiA8L2h0bWw+XG4gYGBgXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYSBqUXVlcnkgYmFzZWQgbGlicmFyeSBvZiBhIGRpZmZlcmVudCBuYW1lLlxuICogVGhlIGxpYnJhcnkgbmFtZSBtdXN0IGJlIGF2YWlsYWJsZSBhdCB0aGUgdG9wIG1vc3QgJ3dpbmRvdycuXG4gYGBgaHRtbFxuIDwhZG9jdHlwZSBodG1sPlxuIDxodG1sIG5nLWFwcCBuZy1qcT1cImpRdWVyeUxpYlwiPlxuIC4uLlxuIC4uLlxuIDwvaHRtbD5cbiBgYGBcbiAqL1xudmFyIGpxID0gZnVuY3Rpb24oKSB7XG4gIGlmIChpc0RlZmluZWQoanEubmFtZV8pKSByZXR1cm4ganEubmFtZV87XG4gIHZhciBlbDtcbiAgdmFyIGksIGlpID0gbmdBdHRyUHJlZml4ZXMubGVuZ3RoLCBwcmVmaXgsIG5hbWU7XG4gIGZvciAoaSA9IDA7IGkgPCBpaTsgKytpKSB7XG4gICAgcHJlZml4ID0gbmdBdHRyUHJlZml4ZXNbaV07XG4gICAgaWYgKGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBwcmVmaXgucmVwbGFjZSgnOicsICdcXFxcOicpICsgJ2pxXScpKSB7XG4gICAgICBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKHByZWZpeCArICdqcScpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChqcS5uYW1lXyA9IG5hbWUpO1xufTtcblxuZnVuY3Rpb24gY29uY2F0KGFycmF5MSwgYXJyYXkyLCBpbmRleCkge1xuICByZXR1cm4gYXJyYXkxLmNvbmNhdChzbGljZS5jYWxsKGFycmF5MiwgaW5kZXgpKTtcbn1cblxuZnVuY3Rpb24gc2xpY2VBcmdzKGFyZ3MsIHN0YXJ0SW5kZXgpIHtcbiAgcmV0dXJuIHNsaWNlLmNhbGwoYXJncywgc3RhcnRJbmRleCB8fCAwKTtcbn1cblxuXG4vKiBqc2hpbnQgLVcxMDEgKi9cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmJpbmRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FsbHMgZnVuY3Rpb24gYGZuYCBib3VuZCB0byBgc2VsZmAgKGBzZWxmYCBiZWNvbWVzIHRoZSBgdGhpc2AgZm9yXG4gKiBgZm5gKS4gWW91IGNhbiBzdXBwbHkgb3B0aW9uYWwgYGFyZ3NgIHRoYXQgYXJlIHByZWJvdW5kIHRvIHRoZSBmdW5jdGlvbi4gVGhpcyBmZWF0dXJlIGlzIGFsc29cbiAqIGtub3duIGFzIFtwYXJ0aWFsIGFwcGxpY2F0aW9uXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BhcnRpYWxfYXBwbGljYXRpb24pLCBhc1xuICogZGlzdGluZ3Vpc2hlZCBmcm9tIFtmdW5jdGlvbiBjdXJyeWluZ10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DdXJyeWluZyNDb250cmFzdF93aXRoX3BhcnRpYWxfZnVuY3Rpb25fYXBwbGljYXRpb24pLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZWxmIENvbnRleHQgd2hpY2ggYGZuYCBzaG91bGQgYmUgZXZhbHVhdGVkIGluLlxuICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBGdW5jdGlvbiB0byBiZSBib3VuZC5cbiAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBhcmd1bWVudHMgdG8gYmUgcHJlYm91bmQgdG8gdGhlIGBmbmAgZnVuY3Rpb24gY2FsbC5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBGdW5jdGlvbiB0aGF0IHdyYXBzIHRoZSBgZm5gIHdpdGggYWxsIHRoZSBzcGVjaWZpZWQgYmluZGluZ3MuXG4gKi9cbi8qIGpzaGludCArVzEwMSAqL1xuZnVuY3Rpb24gYmluZChzZWxmLCBmbikge1xuICB2YXIgY3VycnlBcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBzbGljZUFyZ3MoYXJndW1lbnRzLCAyKSA6IFtdO1xuICBpZiAoaXNGdW5jdGlvbihmbikgJiYgIShmbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICByZXR1cm4gY3VycnlBcmdzLmxlbmd0aFxuICAgICAgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICAgICAgPyBmbi5hcHBseShzZWxmLCBjb25jYXQoY3VycnlBcmdzLCBhcmd1bWVudHMsIDApKVxuICAgICAgICAgICAgOiBmbi5hcHBseShzZWxmLCBjdXJyeUFyZ3MpO1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cylcbiAgICAgICAgICAgIDogZm4uY2FsbChzZWxmKTtcbiAgICAgICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpbiBJRSwgbmF0aXZlIG1ldGhvZHMgYXJlIG5vdCBmdW5jdGlvbnMgc28gdGhleSBjYW5ub3QgYmUgYm91bmQgKG5vdGU6IHRoZXkgZG9uJ3QgbmVlZCB0byBiZSlcbiAgICByZXR1cm4gZm47XG4gIH1cbn1cblxuXG5mdW5jdGlvbiB0b0pzb25SZXBsYWNlcihrZXksIHZhbHVlKSB7XG4gIHZhciB2YWwgPSB2YWx1ZTtcblxuICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykge1xuICAgIHZhbCA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyh2YWx1ZSkpIHtcbiAgICB2YWwgPSAnJFdJTkRPVyc7XG4gIH0gZWxzZSBpZiAodmFsdWUgJiYgIGRvY3VtZW50ID09PSB2YWx1ZSkge1xuICAgIHZhbCA9ICckRE9DVU1FTlQnO1xuICB9IGVsc2UgaWYgKGlzU2NvcGUodmFsdWUpKSB7XG4gICAgdmFsID0gJyRTQ09QRSc7XG4gIH1cblxuICByZXR1cm4gdmFsO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLnRvSnNvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNlcmlhbGl6ZXMgaW5wdXQgaW50byBhIEpTT04tZm9ybWF0dGVkIHN0cmluZy4gUHJvcGVydGllcyB3aXRoIGxlYWRpbmcgJCQgY2hhcmFjdGVycyB3aWxsIGJlXG4gKiBzdHJpcHBlZCBzaW5jZSBhbmd1bGFyIHVzZXMgdGhpcyBub3RhdGlvbiBpbnRlcm5hbGx5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fERhdGV8c3RyaW5nfG51bWJlcn0gb2JqIElucHV0IHRvIGJlIHNlcmlhbGl6ZWQgaW50byBKU09OLlxuICogQHBhcmFtIHtib29sZWFufG51bWJlcn0gW3ByZXR0eT0yXSBJZiBzZXQgdG8gdHJ1ZSwgdGhlIEpTT04gb3V0cHV0IHdpbGwgY29udGFpbiBuZXdsaW5lcyBhbmQgd2hpdGVzcGFjZS5cbiAqICAgIElmIHNldCB0byBhbiBpbnRlZ2VyLCB0aGUgSlNPTiBvdXRwdXQgd2lsbCBjb250YWluIHRoYXQgbWFueSBzcGFjZXMgcGVyIGluZGVudGF0aW9uLlxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IEpTT04taWZpZWQgc3RyaW5nIHJlcHJlc2VudGluZyBgb2JqYC5cbiAqL1xuZnVuY3Rpb24gdG9Kc29uKG9iaiwgcHJldHR5KSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgaWYgKCFpc051bWJlcihwcmV0dHkpKSB7XG4gICAgcHJldHR5ID0gcHJldHR5ID8gMiA6IG51bGw7XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgdG9Kc29uUmVwbGFjZXIsIHByZXR0eSk7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZnJvbUpzb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXNlcmlhbGl6ZXMgYSBKU09OIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ganNvbiBKU09OIHN0cmluZyB0byBkZXNlcmlhbGl6ZS5cbiAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl8c3RyaW5nfG51bWJlcn0gRGVzZXJpYWxpemVkIEpTT04gc3RyaW5nLlxuICovXG5mdW5jdGlvbiBmcm9tSnNvbihqc29uKSB7XG4gIHJldHVybiBpc1N0cmluZyhqc29uKVxuICAgICAgPyBKU09OLnBhcnNlKGpzb24pXG4gICAgICA6IGpzb247XG59XG5cblxuZnVuY3Rpb24gdGltZXpvbmVUb09mZnNldCh0aW1lem9uZSwgZmFsbGJhY2spIHtcbiAgdmFyIHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0ID0gRGF0ZS5wYXJzZSgnSmFuIDAxLCAxOTcwIDAwOjAwOjAwICcgKyB0aW1lem9uZSkgLyA2MDAwMDtcbiAgcmV0dXJuIGlzTmFOKHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0KSA/IGZhbGxiYWNrIDogcmVxdWVzdGVkVGltZXpvbmVPZmZzZXQ7XG59XG5cblxuZnVuY3Rpb24gYWRkRGF0ZU1pbnV0ZXMoZGF0ZSwgbWludXRlcykge1xuICBkYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICBkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyBtaW51dGVzKTtcbiAgcmV0dXJuIGRhdGU7XG59XG5cblxuZnVuY3Rpb24gY29udmVydFRpbWV6b25lVG9Mb2NhbChkYXRlLCB0aW1lem9uZSwgcmV2ZXJzZSkge1xuICByZXZlcnNlID0gcmV2ZXJzZSA/IC0xIDogMTtcbiAgdmFyIHRpbWV6b25lT2Zmc2V0ID0gdGltZXpvbmVUb09mZnNldCh0aW1lem9uZSwgZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpKTtcbiAgcmV0dXJuIGFkZERhdGVNaW51dGVzKGRhdGUsIHJldmVyc2UgKiAodGltZXpvbmVPZmZzZXQgLSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpKTtcbn1cblxuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gc3RhcnRpbmdUYWcoZWxlbWVudCkge1xuICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpLmNsb25lKCk7XG4gIHRyeSB7XG4gICAgLy8gdHVybnMgb3V0IElFIGRvZXMgbm90IGxldCB5b3Ugc2V0IC5odG1sKCkgb24gZWxlbWVudHMgd2hpY2hcbiAgICAvLyBhcmUgbm90IGFsbG93ZWQgdG8gaGF2ZSBjaGlsZHJlbi4gU28gd2UganVzdCBpZ25vcmUgaXQuXG4gICAgZWxlbWVudC5lbXB0eSgpO1xuICB9IGNhdGNoIChlKSB7fVxuICB2YXIgZWxlbUh0bWwgPSBqcUxpdGUoJzxkaXY+JykuYXBwZW5kKGVsZW1lbnQpLmh0bWwoKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZWxlbWVudFswXS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgPyBsb3dlcmNhc2UoZWxlbUh0bWwpIDpcbiAgICAgICAgZWxlbUh0bWwuXG4gICAgICAgICAgbWF0Y2goL14oPFtePl0rPikvKVsxXS5cbiAgICAgICAgICByZXBsYWNlKC9ePChbXFx3XFwtXSspLywgZnVuY3Rpb24obWF0Y2gsIG5vZGVOYW1lKSB7IHJldHVybiAnPCcgKyBsb3dlcmNhc2Uobm9kZU5hbWUpOyB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBsb3dlcmNhc2UoZWxlbUh0bWwpO1xuICB9XG5cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogVHJpZXMgdG8gZGVjb2RlIHRoZSBVUkkgY29tcG9uZW50IHdpdGhvdXQgdGhyb3dpbmcgYW4gZXhjZXB0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gc3RyIHZhbHVlIHBvdGVudGlhbCBVUkkgY29tcG9uZW50IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBjYW4gYmUgZGVjb2RlZFxuICogd2l0aCB0aGUgZGVjb2RlVVJJQ29tcG9uZW50IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiB0cnlEZWNvZGVVUklDb21wb25lbnQodmFsdWUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElnbm9yZSBhbnkgaW52YWxpZCB1cmkgY29tcG9uZW50XG4gIH1cbn1cblxuXG4vKipcbiAqIFBhcnNlcyBhbiBlc2NhcGVkIHVybCBxdWVyeSBzdHJpbmcgaW50byBrZXktdmFsdWUgcGFpcnMuXG4gKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsYm9vbGVhbnxBcnJheT59XG4gKi9cbmZ1bmN0aW9uIHBhcnNlS2V5VmFsdWUoLyoqc3RyaW5nKi9rZXlWYWx1ZSkge1xuICB2YXIgb2JqID0ge307XG4gIGZvckVhY2goKGtleVZhbHVlIHx8IFwiXCIpLnNwbGl0KCcmJyksIGZ1bmN0aW9uKGtleVZhbHVlKSB7XG4gICAgdmFyIHNwbGl0UG9pbnQsIGtleSwgdmFsO1xuICAgIGlmIChrZXlWYWx1ZSkge1xuICAgICAga2V5ID0ga2V5VmFsdWUgPSBrZXlWYWx1ZS5yZXBsYWNlKC9cXCsvZywnJTIwJyk7XG4gICAgICBzcGxpdFBvaW50ID0ga2V5VmFsdWUuaW5kZXhPZignPScpO1xuICAgICAgaWYgKHNwbGl0UG9pbnQgIT09IC0xKSB7XG4gICAgICAgIGtleSA9IGtleVZhbHVlLnN1YnN0cmluZygwLCBzcGxpdFBvaW50KTtcbiAgICAgICAgdmFsID0ga2V5VmFsdWUuc3Vic3RyaW5nKHNwbGl0UG9pbnQgKyAxKTtcbiAgICAgIH1cbiAgICAgIGtleSA9IHRyeURlY29kZVVSSUNvbXBvbmVudChrZXkpO1xuICAgICAgaWYgKGlzRGVmaW5lZChrZXkpKSB7XG4gICAgICAgIHZhbCA9IGlzRGVmaW5lZCh2YWwpID8gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbCkgOiB0cnVlO1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgICAgICBvYmpba2V5XS5wdXNoKHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2JqW2tleV0gPSBbb2JqW2tleV0sdmFsXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHRvS2V5VmFsdWUob2JqKSB7XG4gIHZhciBwYXJ0cyA9IFtdO1xuICBmb3JFYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24oYXJyYXlWYWx1ZSkge1xuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwgdHJ1ZSkgK1xuICAgICAgICAgICAgICAgICAgIChhcnJheVZhbHVlID09PSB0cnVlID8gJycgOiAnPScgKyBlbmNvZGVVcmlRdWVyeShhcnJheVZhbHVlLCB0cnVlKSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwgdHJ1ZSkgK1xuICAgICAgICAgICAgICAgKHZhbHVlID09PSB0cnVlID8gJycgOiAnPScgKyBlbmNvZGVVcmlRdWVyeSh2YWx1ZSwgdHJ1ZSkpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcGFydHMubGVuZ3RoID8gcGFydHMuam9pbignJicpIDogJyc7XG59XG5cblxuLyoqXG4gKiBXZSBuZWVkIG91ciBjdXN0b20gbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBkb2Vzbid0IGZvbGxvd1xuICogaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzk4Ni50eHQgd2l0aCByZWdhcmRzIHRvIHRoZSBjaGFyYWN0ZXIgc2V0IChwY2hhcikgYWxsb3dlZCBpbiBwYXRoXG4gKiBzZWdtZW50czpcbiAqICAgIHNlZ21lbnQgICAgICAgPSAqcGNoYXJcbiAqICAgIHBjaGFyICAgICAgICAgPSB1bnJlc2VydmVkIC8gcGN0LWVuY29kZWQgLyBzdWItZGVsaW1zIC8gXCI6XCIgLyBcIkBcIlxuICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcbiAqICAgIHVucmVzZXJ2ZWQgICAgPSBBTFBIQSAvIERJR0lUIC8gXCItXCIgLyBcIi5cIiAvIFwiX1wiIC8gXCJ+XCJcbiAqICAgIHN1Yi1kZWxpbXMgICAgPSBcIiFcIiAvIFwiJFwiIC8gXCImXCIgLyBcIidcIiAvIFwiKFwiIC8gXCIpXCJcbiAqICAgICAgICAgICAgICAgICAgICAgLyBcIipcIiAvIFwiK1wiIC8gXCIsXCIgLyBcIjtcIiAvIFwiPVwiXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVVyaVNlZ21lbnQodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVcmlRdWVyeSh2YWwsIHRydWUpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyNi9naSwgJyYnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lM0QvZ2ksICc9JykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTJCL2dpLCAnKycpO1xufVxuXG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgaW50ZW5kZWQgZm9yIGVuY29kaW5nICprZXkqIG9yICp2YWx1ZSogcGFydHMgb2YgcXVlcnkgY29tcG9uZW50LiBXZSBuZWVkIGEgY3VzdG9tXG4gKiBtZXRob2QgYmVjYXVzZSBlbmNvZGVVUklDb21wb25lbnQgaXMgdG9vIGFnZ3Jlc3NpdmUgYW5kIGVuY29kZXMgc3R1ZmYgdGhhdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAqIGVuY29kZWQgcGVyIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODY6XG4gKiAgICBxdWVyeSAgICAgICA9ICooIHBjaGFyIC8gXCIvXCIgLyBcIj9cIiApXG4gKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvIFwiOlwiIC8gXCJAXCJcbiAqICAgIHVucmVzZXJ2ZWQgICAgPSBBTFBIQSAvIERJR0lUIC8gXCItXCIgLyBcIi5cIiAvIFwiX1wiIC8gXCJ+XCJcbiAqICAgIHBjdC1lbmNvZGVkICAgPSBcIiVcIiBIRVhESUcgSEVYRElHXG4gKiAgICBzdWItZGVsaW1zICAgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiXG4gKiAgICAgICAgICAgICAgICAgICAgIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxuICovXG5mdW5jdGlvbiBlbmNvZGVVcmlRdWVyeSh2YWwsIHBjdEVuY29kZVNwYWNlcykge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNCL2dpLCAnOycpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyMC9nLCAocGN0RW5jb2RlU3BhY2VzID8gJyUyMCcgOiAnKycpKTtcbn1cblxudmFyIG5nQXR0clByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmc6JywgJ3gtbmctJ107XG5cbmZ1bmN0aW9uIGdldE5nQXR0cmlidXRlKGVsZW1lbnQsIG5nQXR0cikge1xuICB2YXIgYXR0ciwgaSwgaWkgPSBuZ0F0dHJQcmVmaXhlcy5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBpaTsgKytpKSB7XG4gICAgYXR0ciA9IG5nQXR0clByZWZpeGVzW2ldICsgbmdBdHRyO1xuICAgIGlmIChpc1N0cmluZyhhdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cikpKSB7XG4gICAgICByZXR1cm4gYXR0cjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdBcHBcbiAqIEBtb2R1bGUgbmdcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7YW5ndWxhci5Nb2R1bGV9IG5nQXBwIGFuIG9wdGlvbmFsIGFwcGxpY2F0aW9uXG4gKiAgIHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGV9IG5hbWUgdG8gbG9hZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5nU3RyaWN0RGkgaWYgdGhpcyBhdHRyaWJ1dGUgaXMgcHJlc2VudCBvbiB0aGUgYXBwIGVsZW1lbnQsIHRoZSBpbmplY3RvciB3aWxsIGJlXG4gKiAgIGNyZWF0ZWQgaW4gXCJzdHJpY3QtZGlcIiBtb2RlLiBUaGlzIG1lYW5zIHRoYXQgdGhlIGFwcGxpY2F0aW9uIHdpbGwgZmFpbCB0byBpbnZva2UgZnVuY3Rpb25zIHdoaWNoXG4gKiAgIGRvIG5vdCB1c2UgZXhwbGljaXQgZnVuY3Rpb24gYW5ub3RhdGlvbiAoYW5kIGFyZSB0aHVzIHVuc3VpdGFibGUgZm9yIG1pbmlmaWNhdGlvbiksIGFzIGRlc2NyaWJlZFxuICogICBpbiB7QGxpbmsgZ3VpZGUvZGkgdGhlIERlcGVuZGVuY3kgSW5qZWN0aW9uIGd1aWRlfSwgYW5kIHVzZWZ1bCBkZWJ1Z2dpbmcgaW5mbyB3aWxsIGFzc2lzdCBpblxuICogICB0cmFja2luZyBkb3duIHRoZSByb290IG9mIHRoZXNlIGJ1Z3MuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVXNlIHRoaXMgZGlyZWN0aXZlIHRvICoqYXV0by1ib290c3RyYXAqKiBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24uIFRoZSBgbmdBcHBgIGRpcmVjdGl2ZVxuICogZGVzaWduYXRlcyB0aGUgKipyb290IGVsZW1lbnQqKiBvZiB0aGUgYXBwbGljYXRpb24gYW5kIGlzIHR5cGljYWxseSBwbGFjZWQgbmVhciB0aGUgcm9vdCBlbGVtZW50XG4gKiBvZiB0aGUgcGFnZSAtIGUuZy4gb24gdGhlIGA8Ym9keT5gIG9yIGA8aHRtbD5gIHRhZ3MuXG4gKlxuICogT25seSBvbmUgQW5ndWxhckpTIGFwcGxpY2F0aW9uIGNhbiBiZSBhdXRvLWJvb3RzdHJhcHBlZCBwZXIgSFRNTCBkb2N1bWVudC4gVGhlIGZpcnN0IGBuZ0FwcGBcbiAqIGZvdW5kIGluIHRoZSBkb2N1bWVudCB3aWxsIGJlIHVzZWQgdG8gZGVmaW5lIHRoZSByb290IGVsZW1lbnQgdG8gYXV0by1ib290c3RyYXAgYXMgYW5cbiAqIGFwcGxpY2F0aW9uLiBUbyBydW4gbXVsdGlwbGUgYXBwbGljYXRpb25zIGluIGFuIEhUTUwgZG9jdW1lbnQgeW91IG11c3QgbWFudWFsbHkgYm9vdHN0cmFwIHRoZW0gdXNpbmdcbiAqIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0gaW5zdGVhZC4gQW5ndWxhckpTIGFwcGxpY2F0aW9ucyBjYW5ub3QgYmUgbmVzdGVkIHdpdGhpbiBlYWNoIG90aGVyLlxuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSBhbiAqKkFuZ3VsYXJKUyBtb2R1bGUqKiB0byBiZSB1c2VkIGFzIHRoZSByb290IG1vZHVsZSBmb3IgdGhlIGFwcGxpY2F0aW9uLiAgVGhpc1xuICogbW9kdWxlIHdpbGwgYmUgbG9hZGVkIGludG8gdGhlIHtAbGluayBhdXRvLiRpbmplY3Rvcn0gd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgYm9vdHN0cmFwcGVkLiBJdFxuICogc2hvdWxkIGNvbnRhaW4gdGhlIGFwcGxpY2F0aW9uIGNvZGUgbmVlZGVkIG9yIGhhdmUgZGVwZW5kZW5jaWVzIG9uIG90aGVyIG1vZHVsZXMgdGhhdCB3aWxsXG4gKiBjb250YWluIHRoZSBjb2RlLiBTZWUge0BsaW5rIGFuZ3VsYXIubW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBJbiB0aGUgZXhhbXBsZSBiZWxvdyBpZiB0aGUgYG5nQXBwYCBkaXJlY3RpdmUgd2VyZSBub3QgcGxhY2VkIG9uIHRoZSBgaHRtbGAgZWxlbWVudCB0aGVuIHRoZVxuICogZG9jdW1lbnQgd291bGQgbm90IGJlIGNvbXBpbGVkLCB0aGUgYEFwcENvbnRyb2xsZXJgIHdvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgYW5kIHRoZSBge3sgYStiIH19YFxuICogd291bGQgbm90IGJlIHJlc29sdmVkIHRvIGAzYC5cbiAqXG4gKiBgbmdBcHBgIGlzIHRoZSBlYXNpZXN0LCBhbmQgbW9zdCBjb21tb24gd2F5IHRvIGJvb3RzdHJhcCBhbiBhcHBsaWNhdGlvbi5cbiAqXG4gPGV4YW1wbGUgbW9kdWxlPVwibmdBcHBEZW1vXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgPGRpdiBuZy1jb250cm9sbGVyPVwibmdBcHBEZW1vQ29udHJvbGxlclwiPlxuICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XG4gICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgIGFuZ3VsYXIubW9kdWxlKCduZ0FwcERlbW8nLCBbXSkuY29udHJvbGxlcignbmdBcHBEZW1vQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAkc2NvcGUuYSA9IDE7XG4gICAgICRzY29wZS5iID0gMjtcbiAgIH0pO1xuICAgPC9maWxlPlxuIDwvZXhhbXBsZT5cbiAqXG4gKiBVc2luZyBgbmdTdHJpY3REaWAsIHlvdSB3b3VsZCBzZWUgc29tZXRoaW5nIGxpa2UgdGhpczpcbiAqXG4gPGV4YW1wbGUgbmctYXBwLWluY2x1ZGVkPVwidHJ1ZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgIDxkaXYgbmctYXBwPVwibmdBcHBTdHJpY3REZW1vXCIgbmctc3RyaWN0LWRpPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkdvb2RDb250cm9sbGVyMVwiPlxuICAgICAgICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XG5cbiAgICAgICAgICAgPHA+VGhpcyByZW5kZXJzIGJlY2F1c2UgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgZmFpbCB0b1xuICAgICAgICAgICAgICBpbnN0YW50aWF0ZSwgYnkgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBzdHlsZSAoc2VlXG4gICAgICAgICAgICAgIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcbiAgICAgICAgICAgPC9wPlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR29vZENvbnRyb2xsZXIyXCI+XG4gICAgICAgICAgIE5hbWU6IDxpbnB1dCBuZy1tb2RlbD1cIm5hbWVcIj48YnIgLz5cbiAgICAgICAgICAgSGVsbG8sIHt7bmFtZX19IVxuXG4gICAgICAgICAgIDxwPlRoaXMgcmVuZGVycyBiZWNhdXNlIHRoZSBjb250cm9sbGVyIGRvZXMgbm90IGZhaWwgdG9cbiAgICAgICAgICAgICAgaW5zdGFudGlhdGUsIGJ5IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gc3R5bGVcbiAgICAgICAgICAgICAgKHNlZSBzY3JpcHQuanMgZm9yIGRldGFpbHMpXG4gICAgICAgICAgIDwvcD5cbiAgICAgICA8L2Rpdj5cblxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkJhZENvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fVxuXG4gICAgICAgICAgIDxwPlRoZSBjb250cm9sbGVyIGNvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQsIGR1ZSB0byByZWx5aW5nXG4gICAgICAgICAgICAgIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9ucyAod2hpY2ggYXJlIGRpc2FibGVkIGluXG4gICAgICAgICAgICAgIHN0cmljdCBtb2RlKS4gQXMgc3VjaCwgdGhlIGNvbnRlbnQgb2YgdGhpcyBzZWN0aW9uIGlzIG5vdFxuICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQsIGFuZCB0aGVyZSBzaG91bGQgYmUgYW4gZXJyb3IgaW4geW91ciB3ZWIgY29uc29sZS5cbiAgICAgICAgICAgPC9wPlxuICAgICAgIDwvZGl2PlxuICAgPC9kaXY+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICBhbmd1bGFyLm1vZHVsZSgnbmdBcHBTdHJpY3REZW1vJywgW10pXG4gICAgIC8vIEJhZENvbnRyb2xsZXIgd2lsbCBmYWlsIHRvIGluc3RhbnRpYXRlLCBkdWUgdG8gcmVseWluZyBvbiBhdXRvbWF0aWMgZnVuY3Rpb24gYW5ub3RhdGlvbixcbiAgICAgLy8gcmF0aGVyIHRoYW4gYW4gZXhwbGljaXQgYW5ub3RhdGlvblxuICAgICAuY29udHJvbGxlcignQmFkQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICRzY29wZS5hID0gMTtcbiAgICAgICAkc2NvcGUuYiA9IDI7XG4gICAgIH0pXG4gICAgIC8vIFVubGlrZSBCYWRDb250cm9sbGVyLCBHb29kQ29udHJvbGxlcjEgYW5kIEdvb2RDb250cm9sbGVyMiB3aWxsIG5vdCBmYWlsIHRvIGJlIGluc3RhbnRpYXRlZCxcbiAgICAgLy8gZHVlIHRvIHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb25zIHVzaW5nIHRoZSBhcnJheSBzdHlsZSBhbmQgJGluamVjdCBwcm9wZXJ0eSwgcmVzcGVjdGl2ZWx5LlxuICAgICAuY29udHJvbGxlcignR29vZENvbnRyb2xsZXIxJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAkc2NvcGUuYSA9IDE7XG4gICAgICAgJHNjb3BlLmIgPSAyO1xuICAgICB9XSlcbiAgICAgLmNvbnRyb2xsZXIoJ0dvb2RDb250cm9sbGVyMicsIEdvb2RDb250cm9sbGVyMik7XG4gICAgIGZ1bmN0aW9uIEdvb2RDb250cm9sbGVyMigkc2NvcGUpIHtcbiAgICAgICAkc2NvcGUubmFtZSA9IFwiV29ybGRcIjtcbiAgICAgfVxuICAgICBHb29kQ29udHJvbGxlcjIuJGluamVjdCA9IFsnJHNjb3BlJ107XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICBkaXZbbmctY29udHJvbGxlcl0ge1xuICAgICAgIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgYm9yZGVyOiAxcHggc29saWQ7XG4gICAgICAgcGFkZGluZzogLjVlbTtcbiAgIH1cbiAgIGRpdltuZy1jb250cm9sbGVyXj1Hb29kXSB7XG4gICAgICAgYm9yZGVyLWNvbG9yOiAjZDZlOWM2O1xuICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkZmYwZDg7XG4gICAgICAgY29sb3I6ICMzYzc2M2Q7XG4gICB9XG4gICBkaXZbbmctY29udHJvbGxlcl49QmFkXSB7XG4gICAgICAgYm9yZGVyLWNvbG9yOiAjZWJjY2QxO1xuICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmRlZGU7XG4gICAgICAgY29sb3I6ICNhOTQ0NDI7XG4gICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgIH1cbiAgIDwvZmlsZT5cbiA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uIGFuZ3VsYXJJbml0KGVsZW1lbnQsIGJvb3RzdHJhcCkge1xuICB2YXIgYXBwRWxlbWVudCxcbiAgICAgIG1vZHVsZSxcbiAgICAgIGNvbmZpZyA9IHt9O1xuXG4gIC8vIFRoZSBlbGVtZW50IGBlbGVtZW50YCBoYXMgcHJpb3JpdHkgb3ZlciBhbnkgb3RoZXIgZWxlbWVudFxuICBmb3JFYWNoKG5nQXR0clByZWZpeGVzLCBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xuXG4gICAgaWYgKCFhcHBFbGVtZW50ICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICBhcHBFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIG1vZHVsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIH1cbiAgfSk7XG4gIGZvckVhY2gobmdBdHRyUHJlZml4ZXMsIGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBuYW1lID0gcHJlZml4ICsgJ2FwcCc7XG4gICAgdmFyIGNhbmRpZGF0ZTtcblxuICAgIGlmICghYXBwRWxlbWVudCAmJiAoY2FuZGlkYXRlID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbJyArIG5hbWUucmVwbGFjZSgnOicsICdcXFxcOicpICsgJ10nKSkpIHtcbiAgICAgIGFwcEVsZW1lbnQgPSBjYW5kaWRhdGU7XG4gICAgICBtb2R1bGUgPSBjYW5kaWRhdGUuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIH1cbiAgfSk7XG4gIGlmIChhcHBFbGVtZW50KSB7XG4gICAgY29uZmlnLnN0cmljdERpID0gZ2V0TmdBdHRyaWJ1dGUoYXBwRWxlbWVudCwgXCJzdHJpY3QtZGlcIikgIT09IG51bGw7XG4gICAgYm9vdHN0cmFwKGFwcEVsZW1lbnQsIG1vZHVsZSA/IFttb2R1bGVdIDogW10sIGNvbmZpZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuYm9vdHN0cmFwXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIG1hbnVhbGx5IHN0YXJ0IHVwIGFuZ3VsYXIgYXBwbGljYXRpb24uXG4gKlxuICogU2VlOiB7QGxpbmsgZ3VpZGUvYm9vdHN0cmFwIEJvb3RzdHJhcH1cbiAqXG4gKiBOb3RlIHRoYXQgUHJvdHJhY3RvciBiYXNlZCBlbmQtdG8tZW5kIHRlc3RzIGNhbm5vdCB1c2UgdGhpcyBmdW5jdGlvbiB0byBib290c3RyYXAgbWFudWFsbHkuXG4gKiBUaGV5IG11c3QgdXNlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdBcHAgbmdBcHB9LlxuICpcbiAqIEFuZ3VsYXIgd2lsbCBkZXRlY3QgaWYgaXQgaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIGJyb3dzZXIgbW9yZSB0aGFuIG9uY2UgYW5kIG9ubHkgYWxsb3cgdGhlXG4gKiBmaXJzdCBsb2FkZWQgc2NyaXB0IHRvIGJlIGJvb3RzdHJhcHBlZCBhbmQgd2lsbCByZXBvcnQgYSB3YXJuaW5nIHRvIHRoZSBicm93c2VyIGNvbnNvbGUgZm9yXG4gKiBlYWNoIG9mIHRoZSBzdWJzZXF1ZW50IHNjcmlwdHMuIFRoaXMgcHJldmVudHMgc3RyYW5nZSByZXN1bHRzIGluIGFwcGxpY2F0aW9ucywgd2hlcmUgb3RoZXJ3aXNlXG4gKiBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgQW5ndWxhciB0cnkgdG8gd29yayBvbiB0aGUgRE9NLlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhZG9jdHlwZSBodG1sPlxuICogPGh0bWw+XG4gKiA8Ym9keT5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIldlbGNvbWVDb250cm9sbGVyXCI+XG4gKiAgIHt7Z3JlZXRpbmd9fVxuICogPC9kaXY+XG4gKlxuICogPHNjcmlwdCBzcmM9XCJhbmd1bGFyLmpzXCI+PC9zY3JpcHQ+XG4gKiA8c2NyaXB0PlxuICogICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2RlbW8nLCBbXSlcbiAqICAgLmNvbnRyb2xsZXIoJ1dlbGNvbWVDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICAkc2NvcGUuZ3JlZXRpbmcgPSAnV2VsY29tZSEnO1xuICogICB9KTtcbiAqICAgYW5ndWxhci5ib290c3RyYXAoZG9jdW1lbnQsIFsnZGVtbyddKTtcbiAqIDwvc2NyaXB0PlxuICogPC9ib2R5PlxuICogPC9odG1sPlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIHRoZSByb290IG9mIGFuZ3VsYXIgYXBwbGljYXRpb24uXG4gKiBAcGFyYW0ge0FycmF5PFN0cmluZ3xGdW5jdGlvbnxBcnJheT49fSBtb2R1bGVzIGFuIGFycmF5IG9mIG1vZHVsZXMgdG8gbG9hZCBpbnRvIHRoZSBhcHBsaWNhdGlvbi5cbiAqICAgICBFYWNoIGl0ZW0gaW4gdGhlIGFycmF5IHNob3VsZCBiZSB0aGUgbmFtZSBvZiBhIHByZWRlZmluZWQgbW9kdWxlIG9yIGEgKERJIGFubm90YXRlZClcbiAqICAgICBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCBieSB0aGUgaW5qZWN0b3IgYXMgYSBgY29uZmlnYCBibG9jay5cbiAqICAgICBTZWU6IHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGVzfVxuICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgYW4gb2JqZWN0IGZvciBkZWZpbmluZyBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBhcHBsaWNhdGlvbi4gVGhlXG4gKiAgICAgZm9sbG93aW5nIGtleXMgYXJlIHN1cHBvcnRlZDpcbiAqXG4gKiAqIGBzdHJpY3REaWAgLSBkaXNhYmxlIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9uIGZvciB0aGUgYXBwbGljYXRpb24uIFRoaXMgaXMgbWVhbnQgdG9cbiAqICAgYXNzaXN0IGluIGZpbmRpbmcgYnVncyB3aGljaCBicmVhayBtaW5pZmllZCBjb2RlLiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICpcbiAqIEByZXR1cm5zIHthdXRvLiRpbmplY3Rvcn0gUmV0dXJucyB0aGUgbmV3bHkgY3JlYXRlZCBpbmplY3RvciBmb3IgdGhpcyBhcHAuXG4gKi9cbmZ1bmN0aW9uIGJvb3RzdHJhcChlbGVtZW50LCBtb2R1bGVzLCBjb25maWcpIHtcbiAgaWYgKCFpc09iamVjdChjb25maWcpKSBjb25maWcgPSB7fTtcbiAgdmFyIGRlZmF1bHRDb25maWcgPSB7XG4gICAgc3RyaWN0RGk6IGZhbHNlXG4gIH07XG4gIGNvbmZpZyA9IGV4dGVuZChkZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICB2YXIgZG9Cb290c3RyYXAgPSBmdW5jdGlvbigpIHtcbiAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuXG4gICAgaWYgKGVsZW1lbnQuaW5qZWN0b3IoKSkge1xuICAgICAgdmFyIHRhZyA9IChlbGVtZW50WzBdID09PSBkb2N1bWVudCkgPyAnZG9jdW1lbnQnIDogc3RhcnRpbmdUYWcoZWxlbWVudCk7XG4gICAgICAvL0VuY29kZSBhbmdsZSBicmFja2V0cyB0byBwcmV2ZW50IGlucHV0IGZyb20gYmVpbmcgc2FuaXRpemVkIHRvIGVtcHR5IHN0cmluZyAjODY4M1xuICAgICAgdGhyb3cgbmdNaW5FcnIoXG4gICAgICAgICAgJ2J0c3RycGQnLFxuICAgICAgICAgIFwiQXBwIEFscmVhZHkgQm9vdHN0cmFwcGVkIHdpdGggdGhpcyBFbGVtZW50ICd7MH0nXCIsXG4gICAgICAgICAgdGFnLnJlcGxhY2UoLzwvLCcmbHQ7JykucmVwbGFjZSgvPi8sJyZndDsnKSk7XG4gICAgfVxuXG4gICAgbW9kdWxlcyA9IG1vZHVsZXMgfHwgW107XG4gICAgbW9kdWxlcy51bnNoaWZ0KFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkge1xuICAgICAgJHByb3ZpZGUudmFsdWUoJyRyb290RWxlbWVudCcsIGVsZW1lbnQpO1xuICAgIH1dKTtcblxuICAgIGlmIChjb25maWcuZGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgLy8gUHVzaGluZyBzbyB0aGF0IHRoaXMgb3ZlcnJpZGVzIGBkZWJ1Z0luZm9FbmFibGVkYCBzZXR0aW5nIGRlZmluZWQgaW4gdXNlcidzIGBtb2R1bGVzYC5cbiAgICAgIG1vZHVsZXMucHVzaChbJyRjb21waWxlUHJvdmlkZXInLCBmdW5jdGlvbigkY29tcGlsZVByb3ZpZGVyKSB7XG4gICAgICAgICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZCh0cnVlKTtcbiAgICAgIH1dKTtcbiAgICB9XG5cbiAgICBtb2R1bGVzLnVuc2hpZnQoJ25nJyk7XG4gICAgdmFyIGluamVjdG9yID0gY3JlYXRlSW5qZWN0b3IobW9kdWxlcywgY29uZmlnLnN0cmljdERpKTtcbiAgICBpbmplY3Rvci5pbnZva2UoWyckcm9vdFNjb3BlJywgJyRyb290RWxlbWVudCcsICckY29tcGlsZScsICckaW5qZWN0b3InLFxuICAgICAgIGZ1bmN0aW9uIGJvb3RzdHJhcEFwcGx5KHNjb3BlLCBlbGVtZW50LCBjb21waWxlLCBpbmplY3Rvcikge1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudC5kYXRhKCckaW5qZWN0b3InLCBpbmplY3Rvcik7XG4gICAgICAgICAgY29tcGlsZShlbGVtZW50KShzY29wZSk7XG4gICAgICAgIH0pO1xuICAgICAgfV1cbiAgICApO1xuICAgIHJldHVybiBpbmplY3RvcjtcbiAgfTtcblxuICB2YXIgTkdfRU5BQkxFX0RFQlVHX0lORk8gPSAvXk5HX0VOQUJMRV9ERUJVR19JTkZPIS87XG4gIHZhciBOR19ERUZFUl9CT09UU1RSQVAgPSAvXk5HX0RFRkVSX0JPT1RTVFJBUCEvO1xuXG4gIGlmICh3aW5kb3cgJiYgTkdfRU5BQkxFX0RFQlVHX0lORk8udGVzdCh3aW5kb3cubmFtZSkpIHtcbiAgICBjb25maWcuZGVidWdJbmZvRW5hYmxlZCA9IHRydWU7XG4gICAgd2luZG93Lm5hbWUgPSB3aW5kb3cubmFtZS5yZXBsYWNlKE5HX0VOQUJMRV9ERUJVR19JTkZPLCAnJyk7XG4gIH1cblxuICBpZiAod2luZG93ICYmICFOR19ERUZFUl9CT09UU1RSQVAudGVzdCh3aW5kb3cubmFtZSkpIHtcbiAgICByZXR1cm4gZG9Cb290c3RyYXAoKTtcbiAgfVxuXG4gIHdpbmRvdy5uYW1lID0gd2luZG93Lm5hbWUucmVwbGFjZShOR19ERUZFUl9CT09UU1RSQVAsICcnKTtcbiAgYW5ndWxhci5yZXN1bWVCb290c3RyYXAgPSBmdW5jdGlvbihleHRyYU1vZHVsZXMpIHtcbiAgICBmb3JFYWNoKGV4dHJhTW9kdWxlcywgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICBtb2R1bGVzLnB1c2gobW9kdWxlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZG9Cb290c3RyYXAoKTtcbiAgfTtcblxuICBpZiAoaXNGdW5jdGlvbihhbmd1bGFyLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKSkge1xuICAgIGFuZ3VsYXIucmVzdW1lRGVmZXJyZWRCb290c3RyYXAoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5yZWxvYWRXaXRoRGVidWdJbmZvXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIHJlbG9hZCB0aGUgY3VycmVudCBhcHBsaWNhdGlvbiB3aXRoIGRlYnVnIGluZm9ybWF0aW9uIHR1cm5lZCBvbi5cbiAqIFRoaXMgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGEgY2FsbCB0byBgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKGZhbHNlKWAuXG4gKlxuICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RlYnVnSW5mb0VuYWJsZWR9IGZvciBtb3JlLlxuICovXG5mdW5jdGlvbiByZWxvYWRXaXRoRGVidWdJbmZvKCkge1xuICB3aW5kb3cubmFtZSA9ICdOR19FTkFCTEVfREVCVUdfSU5GTyEnICsgd2luZG93Lm5hbWU7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbn1cblxuLyoqXG4gKiBAbmFtZSBhbmd1bGFyLmdldFRlc3RhYmlsaXR5XG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgdGVzdGFiaWxpdHkgc2VydmljZSBmb3IgdGhlIGluc3RhbmNlIG9mIEFuZ3VsYXIgb24gdGhlIGdpdmVuXG4gKiBlbGVtZW50LlxuICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIHRoZSByb290IG9mIGFuZ3VsYXIgYXBwbGljYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldFRlc3RhYmlsaXR5KHJvb3RFbGVtZW50KSB7XG4gIHZhciBpbmplY3RvciA9IGFuZ3VsYXIuZWxlbWVudChyb290RWxlbWVudCkuaW5qZWN0b3IoKTtcbiAgaWYgKCFpbmplY3Rvcikge1xuICAgIHRocm93IG5nTWluRXJyKCd0ZXN0JyxcbiAgICAgICdubyBpbmplY3RvciBmb3VuZCBmb3IgZWxlbWVudCBhcmd1bWVudCB0byBnZXRUZXN0YWJpbGl0eScpO1xuICB9XG4gIHJldHVybiBpbmplY3Rvci5nZXQoJyQkdGVzdGFiaWxpdHknKTtcbn1cblxudmFyIFNOQUtFX0NBU0VfUkVHRVhQID0gL1tBLVpdL2c7XG5mdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUsIHNlcGFyYXRvcikge1xuICBzZXBhcmF0b3IgPSBzZXBhcmF0b3IgfHwgJ18nO1xuICByZXR1cm4gbmFtZS5yZXBsYWNlKFNOQUtFX0NBU0VfUkVHRVhQLCBmdW5jdGlvbihsZXR0ZXIsIHBvcykge1xuICAgIHJldHVybiAocG9zID8gc2VwYXJhdG9yIDogJycpICsgbGV0dGVyLnRvTG93ZXJDYXNlKCk7XG4gIH0pO1xufVxuXG52YXIgYmluZEpRdWVyeUZpcmVkID0gZmFsc2U7XG52YXIgc2tpcERlc3Ryb3lPbk5leHRKUXVlcnlDbGVhbkRhdGE7XG5mdW5jdGlvbiBiaW5kSlF1ZXJ5KCkge1xuICB2YXIgb3JpZ2luYWxDbGVhbkRhdGE7XG5cbiAgaWYgKGJpbmRKUXVlcnlGaXJlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGJpbmQgdG8galF1ZXJ5IGlmIHByZXNlbnQ7XG4gIHZhciBqcU5hbWUgPSBqcSgpO1xuICBqUXVlcnkgPSBpc1VuZGVmaW5lZChqcU5hbWUpID8gd2luZG93LmpRdWVyeSA6ICAgLy8gdXNlIGpRdWVyeSAoaWYgcHJlc2VudClcbiAgICAgICAgICAgIWpxTmFtZSAgICAgICAgICAgICA/IHVuZGVmaW5lZCAgICAgOiAgIC8vIHVzZSBqcUxpdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tqcU5hbWVdOyAgIC8vIHVzZSBqUXVlcnkgc3BlY2lmaWVkIGJ5IGBuZ0pxYFxuXG4gIC8vIFVzZSBqUXVlcnkgaWYgaXQgZXhpc3RzIHdpdGggcHJvcGVyIGZ1bmN0aW9uYWxpdHksIG90aGVyd2lzZSBkZWZhdWx0IHRvIHVzLlxuICAvLyBBbmd1bGFyIDEuMisgcmVxdWlyZXMgalF1ZXJ5IDEuNysgZm9yIG9uKCkvb2ZmKCkgc3VwcG9ydC5cbiAgLy8gQW5ndWxhciAxLjMrIHRlY2huaWNhbGx5IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSAyLjErIGJ1dCBpdCBtYXkgd29yayB3aXRoIG9sZGVyXG4gIC8vIHZlcnNpb25zLiBJdCB3aWxsIG5vdCB3b3JrIGZvciBzdXJlIHdpdGggalF1ZXJ5IDwxLjcsIHRob3VnaC5cbiAgaWYgKGpRdWVyeSAmJiBqUXVlcnkuZm4ub24pIHtcbiAgICBqcUxpdGUgPSBqUXVlcnk7XG4gICAgZXh0ZW5kKGpRdWVyeS5mbiwge1xuICAgICAgc2NvcGU6IEpRTGl0ZVByb3RvdHlwZS5zY29wZSxcbiAgICAgIGlzb2xhdGVTY29wZTogSlFMaXRlUHJvdG90eXBlLmlzb2xhdGVTY29wZSxcbiAgICAgIGNvbnRyb2xsZXI6IEpRTGl0ZVByb3RvdHlwZS5jb250cm9sbGVyLFxuICAgICAgaW5qZWN0b3I6IEpRTGl0ZVByb3RvdHlwZS5pbmplY3RvcixcbiAgICAgIGluaGVyaXRlZERhdGE6IEpRTGl0ZVByb3RvdHlwZS5pbmhlcml0ZWREYXRhXG4gICAgfSk7XG5cbiAgICAvLyBBbGwgbm9kZXMgcmVtb3ZlZCBmcm9tIHRoZSBET00gdmlhIHZhcmlvdXMgalF1ZXJ5IEFQSXMgbGlrZSAucmVtb3ZlKClcbiAgICAvLyBhcmUgcGFzc2VkIHRocm91Z2ggalF1ZXJ5LmNsZWFuRGF0YS4gTW9ua2V5LXBhdGNoIHRoaXMgbWV0aG9kIHRvIGZpcmVcbiAgICAvLyB0aGUgJGRlc3Ryb3kgZXZlbnQgb24gYWxsIHJlbW92ZWQgbm9kZXMuXG4gICAgb3JpZ2luYWxDbGVhbkRhdGEgPSBqUXVlcnkuY2xlYW5EYXRhO1xuICAgIGpRdWVyeS5jbGVhbkRhdGEgPSBmdW5jdGlvbihlbGVtcykge1xuICAgICAgdmFyIGV2ZW50cztcbiAgICAgIGlmICghc2tpcERlc3Ryb3lPbk5leHRKUXVlcnlDbGVhbkRhdGEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGVsZW07IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKykge1xuICAgICAgICAgIGV2ZW50cyA9IGpRdWVyeS5fZGF0YShlbGVtLCBcImV2ZW50c1wiKTtcbiAgICAgICAgICBpZiAoZXZlbnRzICYmIGV2ZW50cy4kZGVzdHJveSkge1xuICAgICAgICAgICAgalF1ZXJ5KGVsZW0pLnRyaWdnZXJIYW5kbGVyKCckZGVzdHJveScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2tpcERlc3Ryb3lPbk5leHRKUXVlcnlDbGVhbkRhdGEgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9yaWdpbmFsQ2xlYW5EYXRhKGVsZW1zKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGpxTGl0ZSA9IEpRTGl0ZTtcbiAgfVxuXG4gIGFuZ3VsYXIuZWxlbWVudCA9IGpxTGl0ZTtcblxuICAvLyBQcmV2ZW50IGRvdWJsZS1wcm94eWluZy5cbiAgYmluZEpRdWVyeUZpcmVkID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiB0aHJvdyBlcnJvciBpZiB0aGUgYXJndW1lbnQgaXMgZmFsc3kuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydEFyZyhhcmcsIG5hbWUsIHJlYXNvbikge1xuICBpZiAoIWFyZykge1xuICAgIHRocm93IG5nTWluRXJyKCdhcmVxJywgXCJBcmd1bWVudCAnezB9JyBpcyB7MX1cIiwgKG5hbWUgfHwgJz8nKSwgKHJlYXNvbiB8fCBcInJlcXVpcmVkXCIpKTtcbiAgfVxuICByZXR1cm4gYXJnO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRBcmdGbihhcmcsIG5hbWUsIGFjY2VwdEFycmF5QW5ub3RhdGlvbikge1xuICBpZiAoYWNjZXB0QXJyYXlBbm5vdGF0aW9uICYmIGlzQXJyYXkoYXJnKSkge1xuICAgICAgYXJnID0gYXJnW2FyZy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIGFzc2VydEFyZyhpc0Z1bmN0aW9uKGFyZyksIG5hbWUsICdub3QgYSBmdW5jdGlvbiwgZ290ICcgK1xuICAgICAgKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyA/IGFyZy5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnIDogdHlwZW9mIGFyZykpO1xuICByZXR1cm4gYXJnO1xufVxuXG4vKipcbiAqIHRocm93IGVycm9yIGlmIHRoZSBuYW1lIGdpdmVuIGlzIGhhc093blByb3BlcnR5XG4gKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgICAgdGhlIG5hbWUgdG8gdGVzdFxuICogQHBhcmFtICB7U3RyaW5nfSBjb250ZXh0IHRoZSBjb250ZXh0IGluIHdoaWNoIHRoZSBuYW1lIGlzIHVzZWQsIHN1Y2ggYXMgbW9kdWxlIG9yIGRpcmVjdGl2ZVxuICovXG5mdW5jdGlvbiBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCBjb250ZXh0KSB7XG4gIGlmIChuYW1lID09PSAnaGFzT3duUHJvcGVydHknKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ2JhZG5hbWUnLCBcImhhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lXCIsIGNvbnRleHQpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSB2YWx1ZSBhY2Nlc3NpYmxlIGZyb20gdGhlIG9iamVjdCBieSBwYXRoLiBBbnkgdW5kZWZpbmVkIHRyYXZlcnNhbHMgYXJlIGlnbm9yZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogc3RhcnRpbmcgb2JqZWN0XG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBwYXRoIHRvIHRyYXZlcnNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtiaW5kRm5Ub1Njb3BlPXRydWVdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB2YWx1ZSBhcyBhY2Nlc3NpYmxlIGJ5IHBhdGhcbiAqL1xuLy9UT0RPKG1pc2tvKTogdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZW1vdmVkXG5mdW5jdGlvbiBnZXR0ZXIob2JqLCBwYXRoLCBiaW5kRm5Ub1Njb3BlKSB7XG4gIGlmICghcGF0aCkgcmV0dXJuIG9iajtcbiAgdmFyIGtleXMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gIHZhciBrZXk7XG4gIHZhciBsYXN0SW5zdGFuY2UgPSBvYmo7XG4gIHZhciBsZW4gPSBrZXlzLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBpZiAob2JqKSB7XG4gICAgICBvYmogPSAobGFzdEluc3RhbmNlID0gb2JqKVtrZXldO1xuICAgIH1cbiAgfVxuICBpZiAoIWJpbmRGblRvU2NvcGUgJiYgaXNGdW5jdGlvbihvYmopKSB7XG4gICAgcmV0dXJuIGJpbmQobGFzdEluc3RhbmNlLCBvYmopO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBET00gc2libGluZ3MgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3Qgbm9kZSBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBsaWtlIG9iamVjdFxuICogQHJldHVybnMge0FycmF5fSB0aGUgaW5wdXR0ZWQgb2JqZWN0IG9yIGEganFMaXRlIGNvbGxlY3Rpb24gY29udGFpbmluZyB0aGUgbm9kZXNcbiAqL1xuZnVuY3Rpb24gZ2V0QmxvY2tOb2Rlcyhub2Rlcykge1xuICAvLyBUT0RPKHBlcmYpOiB1cGRhdGUgYG5vZGVzYCBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgbmV3IG9iamVjdD9cbiAgdmFyIG5vZGUgPSBub2Rlc1swXTtcbiAgdmFyIGVuZE5vZGUgPSBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXTtcbiAgdmFyIGJsb2NrTm9kZXM7XG5cbiAgZm9yICh2YXIgaSA9IDE7IG5vZGUgIT09IGVuZE5vZGUgJiYgKG5vZGUgPSBub2RlLm5leHRTaWJsaW5nKTsgaSsrKSB7XG4gICAgaWYgKGJsb2NrTm9kZXMgfHwgbm9kZXNbaV0gIT09IG5vZGUpIHtcbiAgICAgIGlmICghYmxvY2tOb2Rlcykge1xuICAgICAgICBibG9ja05vZGVzID0ganFMaXRlKHNsaWNlLmNhbGwobm9kZXMsIDAsIGkpKTtcbiAgICAgIH1cbiAgICAgIGJsb2NrTm9kZXMucHVzaChub2RlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYmxvY2tOb2RlcyB8fCBub2Rlcztcbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IHdpdGhvdXQgYSBwcm90b3R5cGUuIFRoaXMgb2JqZWN0IGlzIHVzZWZ1bCBmb3IgbG9va3VwIHdpdGhvdXQgaGF2aW5nIHRvXG4gKiBndWFyZCBhZ2FpbnN0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRlZCBwcm9wZXJ0aWVzIHZpYSBoYXNPd25Qcm9wZXJ0eS5cbiAqXG4gKiBSZWxhdGVkIG1pY3JvLWJlbmNobWFya3M6XG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL29iamVjdC1jcmVhdGUyXG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL3Byb3RvLW1hcC1sb29rdXAvMlxuICogLSBodHRwOi8vanNwZXJmLmNvbS9mb3ItaW4tdnMtb2JqZWN0LWtleXMyXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWFwKCkge1xuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxudmFyIE5PREVfVFlQRV9FTEVNRU5UID0gMTtcbnZhciBOT0RFX1RZUEVfQVRUUklCVVRFID0gMjtcbnZhciBOT0RFX1RZUEVfVEVYVCA9IDM7XG52YXIgTk9ERV9UWVBFX0NPTU1FTlQgPSA4O1xudmFyIE5PREVfVFlQRV9ET0NVTUVOVCA9IDk7XG52YXIgTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UID0gMTE7XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBJbnRlcmZhY2UgZm9yIGNvbmZpZ3VyaW5nIGFuZ3VsYXIge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9LlxuICovXG5cbmZ1bmN0aW9uIHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdykge1xuXG4gIHZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xuICB2YXIgbmdNaW5FcnIgPSBtaW5FcnIoJ25nJyk7XG5cbiAgZnVuY3Rpb24gZW5zdXJlKG9iaiwgbmFtZSwgZmFjdG9yeSkge1xuICAgIHJldHVybiBvYmpbbmFtZV0gfHwgKG9ialtuYW1lXSA9IGZhY3RvcnkoKSk7XG4gIH1cblxuICB2YXIgYW5ndWxhciA9IGVuc3VyZSh3aW5kb3csICdhbmd1bGFyJywgT2JqZWN0KTtcblxuICAvLyBXZSBuZWVkIHRvIGV4cG9zZSBgYW5ndWxhci4kJG1pbkVycmAgdG8gbW9kdWxlcyBzdWNoIGFzIGBuZ1Jlc291cmNlYCB0aGF0IHJlZmVyZW5jZSBpdCBkdXJpbmcgYm9vdHN0cmFwXG4gIGFuZ3VsYXIuJCRtaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyIHx8IG1pbkVycjtcblxuICByZXR1cm4gZW5zdXJlKGFuZ3VsYXIsICdtb2R1bGUnLCBmdW5jdGlvbigpIHtcbiAgICAvKiogQHR5cGUge09iamVjdC48c3RyaW5nLCBhbmd1bGFyLk1vZHVsZT59ICovXG4gICAgdmFyIG1vZHVsZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXIubW9kdWxlXG4gICAgICogQG1vZHVsZSBuZ1xuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogVGhlIGBhbmd1bGFyLm1vZHVsZWAgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyXG4gICAgICogbW9kdWxlcy5cbiAgICAgKiBBbGwgbW9kdWxlcyAoYW5ndWxhciBjb3JlIG9yIDNyZCBwYXJ0eSkgdGhhdCBzaG91bGQgYmUgYXZhaWxhYmxlIHRvIGFuIGFwcGxpY2F0aW9uIG11c3QgYmVcbiAgICAgKiByZWdpc3RlcmVkIHVzaW5nIHRoaXMgbWVjaGFuaXNtLlxuICAgICAqXG4gICAgICogUGFzc2luZyBvbmUgYXJndW1lbnQgcmV0cmlldmVzIGFuIGV4aXN0aW5nIHtAbGluayBhbmd1bGFyLk1vZHVsZX0sXG4gICAgICogd2hlcmVhcyBwYXNzaW5nIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQgY3JlYXRlcyBhIG5ldyB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9XG4gICAgICpcbiAgICAgKlxuICAgICAqICMgTW9kdWxlXG4gICAgICpcbiAgICAgKiBBIG1vZHVsZSBpcyBhIGNvbGxlY3Rpb24gb2Ygc2VydmljZXMsIGRpcmVjdGl2ZXMsIGNvbnRyb2xsZXJzLCBmaWx0ZXJzLCBhbmQgY29uZmlndXJhdGlvbiBpbmZvcm1hdGlvbi5cbiAgICAgKiBgYW5ndWxhci5tb2R1bGVgIGlzIHVzZWQgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZVxuICAgICAqIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteU1vZHVsZScsIFtdKTtcbiAgICAgKlxuICAgICAqIC8vIHJlZ2lzdGVyIGEgbmV3IHNlcnZpY2VcbiAgICAgKiBteU1vZHVsZS52YWx1ZSgnYXBwTmFtZScsICdNeUNvb2xBcHAnKTtcbiAgICAgKlxuICAgICAqIC8vIGNvbmZpZ3VyZSBleGlzdGluZyBzZXJ2aWNlcyBpbnNpZGUgaW5pdGlhbGl6YXRpb24gYmxvY2tzLlxuICAgICAqIG15TW9kdWxlLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAgKiAgIC8vIENvbmZpZ3VyZSBleGlzdGluZyBwcm92aWRlcnNcbiAgICAgKiAgICRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJyEnKTtcbiAgICAgKiB9XSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGVuIHlvdSBjYW4gY3JlYXRlIGFuIGluamVjdG9yIGFuZCBsb2FkIHlvdXIgbW9kdWxlcyBsaWtlIHRoaXM6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoWyduZycsICdteU1vZHVsZSddKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSG93ZXZlciBpdCdzIG1vcmUgbGlrZWx5IHRoYXQgeW91J2xsIGp1c3QgdXNlXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0gb3JcbiAgICAgKiB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9IHRvIHNpbXBsaWZ5IHRoaXMgcHJvY2VzcyBmb3IgeW91LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshc3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBtb2R1bGUgdG8gY3JlYXRlIG9yIHJldHJpZXZlLlxuICAgICAqIEBwYXJhbSB7IUFycmF5LjxzdHJpbmc+PX0gcmVxdWlyZXMgSWYgc3BlY2lmaWVkIHRoZW4gbmV3IG1vZHVsZSBpcyBiZWluZyBjcmVhdGVkLiBJZlxuICAgICAqICAgICAgICB1bnNwZWNpZmllZCB0aGVuIHRoZSBtb2R1bGUgaXMgYmVpbmcgcmV0cmlldmVkIGZvciBmdXJ0aGVyIGNvbmZpZ3VyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGNvbmZpZ0ZuIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBtb2R1bGUuIFNhbWUgYXNcbiAgICAgKiAgICAgICAge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZyBNb2R1bGUjY29uZmlnKCl9LlxuICAgICAqIEByZXR1cm5zIHttb2R1bGV9IG5ldyBtb2R1bGUgd2l0aCB0aGUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfSBhcGkuXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1vZHVsZShuYW1lLCByZXF1aXJlcywgY29uZmlnRm4pIHtcbiAgICAgIHZhciBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSA9IGZ1bmN0aW9uKG5hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICdoYXNPd25Qcm9wZXJ0eScpIHtcbiAgICAgICAgICB0aHJvdyBuZ01pbkVycignYmFkbmFtZScsICdoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCB7MH0gbmFtZScsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnbW9kdWxlJyk7XG4gICAgICBpZiAocmVxdWlyZXMgJiYgbW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBtb2R1bGVzW25hbWVdID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbnN1cmUobW9kdWxlcywgbmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghcmVxdWlyZXMpIHtcbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ25vbW9kJywgXCJNb2R1bGUgJ3swfScgaXMgbm90IGF2YWlsYWJsZSEgWW91IGVpdGhlciBtaXNzcGVsbGVkIFwiICtcbiAgICAgICAgICAgICBcInRoZSBtb2R1bGUgbmFtZSBvciBmb3Jnb3QgdG8gbG9hZCBpdC4gSWYgcmVnaXN0ZXJpbmcgYSBtb2R1bGUgZW5zdXJlIHRoYXQgeW91IFwiICtcbiAgICAgICAgICAgICBcInNwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlwiLCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxBcnJheS48Kj4+fSAqL1xuICAgICAgICB2YXIgaW52b2tlUXVldWUgPSBbXTtcblxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xuICAgICAgICB2YXIgY29uZmlnQmxvY2tzID0gW107XG5cbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEZ1bmN0aW9uPn0gKi9cbiAgICAgICAgdmFyIHJ1bkJsb2NrcyA9IFtdO1xuXG4gICAgICAgIHZhciBjb25maWcgPSBpbnZva2VMYXRlcignJGluamVjdG9yJywgJ2ludm9rZScsICdwdXNoJywgY29uZmlnQmxvY2tzKTtcblxuICAgICAgICAvKiogQHR5cGUge2FuZ3VsYXIuTW9kdWxlfSAqL1xuICAgICAgICB2YXIgbW9kdWxlSW5zdGFuY2UgPSB7XG4gICAgICAgICAgLy8gUHJpdmF0ZSBzdGF0ZVxuICAgICAgICAgIF9pbnZva2VRdWV1ZTogaW52b2tlUXVldWUsXG4gICAgICAgICAgX2NvbmZpZ0Jsb2NrczogY29uZmlnQmxvY2tzLFxuICAgICAgICAgIF9ydW5CbG9ja3M6IHJ1bkJsb2NrcyxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3JlcXVpcmVzXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogSG9sZHMgdGhlIGxpc3Qgb2YgbW9kdWxlcyB3aGljaCB0aGUgaW5qZWN0b3Igd2lsbCBsb2FkIGJlZm9yZSB0aGUgY3VycmVudCBtb2R1bGUgaXNcbiAgICAgICAgICAgKiBsb2FkZWQuXG4gICAgICAgICAgICovXG4gICAgICAgICAgcmVxdWlyZXM6IHJlcXVpcmVzLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjbmFtZVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIE5hbWUgb2YgdGhlIG1vZHVsZS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBuYW1lOiBuYW1lLFxuXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcHJvdmlkZXJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJUeXBlIENvbnN0cnVjdGlvbiBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZVxuICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciAkcHJvdmlkZS5wcm92aWRlcigpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBwcm92aWRlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckcHJvdmlkZScsICdwcm92aWRlcicpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZhY3RvcnlcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJGdW5jdGlvbiBGdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5ICRwcm92aWRlLmZhY3RvcnkoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgZmFjdG9yeTogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckcHJvdmlkZScsICdmYWN0b3J5JyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjc2VydmljZVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnN0YW50aWF0ZWQuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBzZXJ2aWNlOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ3NlcnZpY2UnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSN2YWx1ZVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBTZXJ2aWNlIGluc3RhbmNlIG9iamVjdC5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgJHByb3ZpZGUudmFsdWUoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgdmFsdWU6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICd2YWx1ZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbnN0YW50XG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGNvbnN0YW50IG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBDb25zdGFudCB2YWx1ZS5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBCZWNhdXNlIHRoZSBjb25zdGFudHMgYXJlIGZpeGVkLCB0aGV5IGdldCBhcHBsaWVkIGJlZm9yZSBvdGhlciBwcm92aWRlIG1ldGhvZHMuXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50ICRwcm92aWRlLmNvbnN0YW50KCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0YW50OiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAnY29uc3RhbnQnLCAndW5zaGlmdCcpLFxuXG4gICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNkZWNvcmF0b3JcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGRlY29yYXRlLlxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkIHJldHVybiB0aGUgZGVjb3JhdGVkIHNlcnZpY2UgaW5zdGFuY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciAkcHJvdmlkZS5kZWNvcmF0b3IoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgZGVjb3JhdG9yOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ2RlY29yYXRvcicpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2FuaW1hdGlvblxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBhbmltYXRpb24gbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFuaW1hdGlvbkZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGFuXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiAqKk5PVEUqKjogYW5pbWF0aW9ucyB0YWtlIGVmZmVjdCBvbmx5IGlmIHRoZSAqKm5nQW5pbWF0ZSoqIG1vZHVsZSBpcyBsb2FkZWQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIERlZmluZXMgYW4gYW5pbWF0aW9uIGhvb2sgdGhhdCBjYW4gYmUgbGF0ZXIgdXNlZCB3aXRoXG4gICAgICAgICAgICoge0BsaW5rICRhbmltYXRlICRhbmltYXRlfSBzZXJ2aWNlIGFuZCBkaXJlY3RpdmVzIHRoYXQgdXNlIHRoaXMgc2VydmljZS5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIGBgYGpzXG4gICAgICAgICAgICogbW9kdWxlLmFuaW1hdGlvbignLmFuaW1hdGlvbi1uYW1lJywgZnVuY3Rpb24oJGluamVjdDEsICRpbmplY3QyKSB7XG4gICAgICAgICAgICogICByZXR1cm4ge1xuICAgICAgICAgICAqICAgICBldmVudE5hbWUgOiBmdW5jdGlvbihlbGVtZW50LCBkb25lKSB7XG4gICAgICAgICAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAgICogICAgICAgLy9vbmNlIGNvbXBsZXRlLCB0aGVuIHJ1biBkb25lKClcbiAgICAgICAgICAgKiAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FuY2VsbGF0aW9uRnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAqICAgICAgICAgLy9jb2RlIHRvIGNhbmNlbCB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAgICogICAgICAgfVxuICAgICAgICAgICAqICAgICB9XG4gICAgICAgICAgICogICB9XG4gICAgICAgICAgICogfSlcbiAgICAgICAgICAgKiBgYGBcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGFuaW1hdGVQcm92aWRlciNyZWdpc3RlciAkYW5pbWF0ZVByb3ZpZGVyLnJlZ2lzdGVyKCl9IGFuZFxuICAgICAgICAgICAqIHtAbGluayBuZ0FuaW1hdGUgbmdBbmltYXRlIG1vZHVsZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICAgICAgICovXG4gICAgICAgICAgYW5pbWF0aW9uOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRhbmltYXRlUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNmaWx0ZXJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRmlsdGVyIG5hbWUgLSB0aGlzIG11c3QgYmUgYSB2YWxpZCBhbmd1bGFyIGV4cHJlc3Npb24gaWRlbnRpZmllclxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlckZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGZpbHRlci5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRmaWx0ZXJQcm92aWRlciNyZWdpc3RlciAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgICAgICAgICAqICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXG4gICAgICAgICAgICogTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcbiAgICAgICAgICAgKiB5b3VyIGZpbHRlcnMsIHRoZW4geW91IGNhbiB1c2UgY2FwaXRhbGl6YXRpb24gKGBteWFwcFN1YnNlY3Rpb25GaWx0ZXJ4YCkgb3IgdW5kZXJzY29yZXNcbiAgICAgICAgICAgKiAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxuICAgICAgICAgICAqIDwvZGl2PlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZpbHRlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckZmlsdGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb250cm9sbGVyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlXG4gICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29uc3RydWN0b3JzLlxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyICRjb250cm9sbGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29udHJvbGxlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29udHJvbGxlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZGlyZWN0aXZlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBEaXJlY3RpdmUgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZVxuICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy5cbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXJlY3RpdmVGYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZlxuICAgICAgICAgICAqIGRpcmVjdGl2ZXMuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBkaXJlY3RpdmU6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGNvbXBpbGVQcm92aWRlcicsICdkaXJlY3RpdmUnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb25maWdcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uZmlnRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIG9uIG1vZHVsZSBsb2FkLiBVc2VmdWwgZm9yIHNlcnZpY2VcbiAgICAgICAgICAgKiAgICBjb25maWd1cmF0aW9uLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byByZWdpc3RlciB3b3JrIHdoaWNoIG5lZWRzIHRvIGJlIHBlcmZvcm1lZCBvbiBtb2R1bGUgbG9hZGluZy5cbiAgICAgICAgICAgKiBGb3IgbW9yZSBhYm91dCBob3cgdG8gY29uZmlndXJlIHNlcnZpY2VzLCBzZWVcbiAgICAgICAgICAgKiB7QGxpbmsgcHJvdmlkZXJzI3Byb3ZpZGVyLXJlY2lwZSBQcm92aWRlciBSZWNpcGV9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3J1blxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbml0aWFsaXphdGlvbkZuIEV4ZWN1dGUgdGhpcyBmdW5jdGlvbiBhZnRlciBpbmplY3RvciBjcmVhdGlvbi5cbiAgICAgICAgICAgKiAgICBVc2VmdWwgZm9yIGFwcGxpY2F0aW9uIGluaXRpYWxpemF0aW9uLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byByZWdpc3RlciB3b3JrIHdoaWNoIHNob3VsZCBiZSBwZXJmb3JtZWQgd2hlbiB0aGUgaW5qZWN0b3IgaXMgZG9uZVxuICAgICAgICAgICAqIGxvYWRpbmcgYWxsIG1vZHVsZXMuXG4gICAgICAgICAgICovXG4gICAgICAgICAgcnVuOiBmdW5jdGlvbihibG9jaykge1xuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjb25maWdGbikge1xuICAgICAgICAgIGNvbmZpZyhjb25maWdGbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm92aWRlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nPX0gaW5zZXJ0TWV0aG9kXG4gICAgICAgICAqIEByZXR1cm5zIHthbmd1bGFyLk1vZHVsZX1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGludm9rZUxhdGVyKHByb3ZpZGVyLCBtZXRob2QsIGluc2VydE1ldGhvZCwgcXVldWUpIHtcbiAgICAgICAgICBpZiAoIXF1ZXVlKSBxdWV1ZSA9IGludm9rZVF1ZXVlO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHF1ZXVlW2luc2VydE1ldGhvZCB8fCAncHVzaCddKFtwcm92aWRlciwgbWV0aG9kLCBhcmd1bWVudHNdKTtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVJbnN0YW5jZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm92aWRlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gICAgICAgICAqIEByZXR1cm5zIHthbmd1bGFyLk1vZHVsZX1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZShwcm92aWRlciwgbWV0aG9kKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlY2lwZU5hbWUsIGZhY3RvcnlGdW5jdGlvbikge1xuICAgICAgICAgICAgaWYgKGZhY3RvcnlGdW5jdGlvbiAmJiBpc0Z1bmN0aW9uKGZhY3RvcnlGdW5jdGlvbikpIGZhY3RvcnlGdW5jdGlvbi4kJG1vZHVsZU5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgaW52b2tlUXVldWUucHVzaChbcHJvdmlkZXIsIG1ldGhvZCwgYXJndW1lbnRzXSk7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG5cbn1cblxuLyogZ2xvYmFsOiB0b0RlYnVnU3RyaW5nOiB0cnVlICovXG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZU9iamVjdChvYmopIHtcbiAgdmFyIHNlZW4gPSBbXTtcblxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgIHZhbCA9IHRvSnNvblJlcGxhY2VyKGtleSwgdmFsKTtcbiAgICBpZiAoaXNPYmplY3QodmFsKSkge1xuXG4gICAgICBpZiAoc2Vlbi5pbmRleE9mKHZhbCkgPj0gMCkgcmV0dXJuICcuLi4nO1xuXG4gICAgICBzZWVuLnB1c2godmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvRGVidWdTdHJpbmcob2JqKSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9iai50b1N0cmluZygpLnJlcGxhY2UoLyBcXHtbXFxzXFxTXSokLywgJycpO1xuICB9IGVsc2UgaWYgKGlzVW5kZWZpbmVkKG9iaikpIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc2VyaWFsaXplT2JqZWN0KG9iaik7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyogZ2xvYmFsIGFuZ3VsYXJNb2R1bGU6IHRydWUsXG4gIHZlcnNpb246IHRydWUsXG5cbiAgJENvbXBpbGVQcm92aWRlcixcblxuICBodG1sQW5jaG9yRGlyZWN0aXZlLFxuICBpbnB1dERpcmVjdGl2ZSxcbiAgaW5wdXREaXJlY3RpdmUsXG4gIGZvcm1EaXJlY3RpdmUsXG4gIHNjcmlwdERpcmVjdGl2ZSxcbiAgc2VsZWN0RGlyZWN0aXZlLFxuICBzdHlsZURpcmVjdGl2ZSxcbiAgb3B0aW9uRGlyZWN0aXZlLFxuICBuZ0JpbmREaXJlY3RpdmUsXG4gIG5nQmluZEh0bWxEaXJlY3RpdmUsXG4gIG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlLFxuICBuZ0NsYXNzRGlyZWN0aXZlLFxuICBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcbiAgbmdDbGFzc09kZERpcmVjdGl2ZSxcbiAgbmdDbG9ha0RpcmVjdGl2ZSxcbiAgbmdDb250cm9sbGVyRGlyZWN0aXZlLFxuICBuZ0Zvcm1EaXJlY3RpdmUsXG4gIG5nSGlkZURpcmVjdGl2ZSxcbiAgbmdJZkRpcmVjdGl2ZSxcbiAgbmdJbmNsdWRlRGlyZWN0aXZlLFxuICBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSxcbiAgbmdJbml0RGlyZWN0aXZlLFxuICBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlLFxuICBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcbiAgbmdSZXBlYXREaXJlY3RpdmUsXG4gIG5nU2hvd0RpcmVjdGl2ZSxcbiAgbmdTdHlsZURpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEaXJlY3RpdmUsXG4gIG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxuICBuZ09wdGlvbnNEaXJlY3RpdmUsXG4gIG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgbmdNb2RlbERpcmVjdGl2ZSxcbiAgbmdMaXN0RGlyZWN0aXZlLFxuICBuZ0NoYW5nZURpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcmVxdWlyZWREaXJlY3RpdmUsXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxuICBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gIG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gIG5nVmFsdWVEaXJlY3RpdmUsXG4gIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlLFxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyxcbiAgbmdFdmVudERpcmVjdGl2ZXMsXG5cbiAgJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxuICAkQW5pbWF0ZVByb3ZpZGVyLFxuICAkQ29yZUFuaW1hdGVDc3NQcm92aWRlcixcbiAgJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIsXG4gICQkQ29yZUFuaW1hdGVSdW5uZXJQcm92aWRlcixcbiAgJEJyb3dzZXJQcm92aWRlcixcbiAgJENhY2hlRmFjdG9yeVByb3ZpZGVyLFxuICAkQ29udHJvbGxlclByb3ZpZGVyLFxuICAkRG9jdW1lbnRQcm92aWRlcixcbiAgJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcixcbiAgJEZpbHRlclByb3ZpZGVyLFxuICAkJEZvcmNlUmVmbG93UHJvdmlkZXIsXG4gICRJbnRlcnBvbGF0ZVByb3ZpZGVyLFxuICAkSW50ZXJ2YWxQcm92aWRlcixcbiAgJCRIYXNoTWFwUHJvdmlkZXIsXG4gICRIdHRwUHJvdmlkZXIsXG4gICRIdHRwUGFyYW1TZXJpYWxpemVyUHJvdmlkZXIsXG4gICRIdHRwUGFyYW1TZXJpYWxpemVySlFMaWtlUHJvdmlkZXIsXG4gICRIdHRwQmFja2VuZFByb3ZpZGVyLFxuICAkeGhyRmFjdG9yeVByb3ZpZGVyLFxuICAkTG9jYXRpb25Qcm92aWRlcixcbiAgJExvZ1Byb3ZpZGVyLFxuICAkUGFyc2VQcm92aWRlcixcbiAgJFJvb3RTY29wZVByb3ZpZGVyLFxuICAkUVByb3ZpZGVyLFxuICAkJFFQcm92aWRlcixcbiAgJCRTYW5pdGl6ZVVyaVByb3ZpZGVyLFxuICAkU2NlUHJvdmlkZXIsXG4gICRTY2VEZWxlZ2F0ZVByb3ZpZGVyLFxuICAkU25pZmZlclByb3ZpZGVyLFxuICAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyLFxuICAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsXG4gICQkVGVzdGFiaWxpdHlQcm92aWRlcixcbiAgJFRpbWVvdXRQcm92aWRlcixcbiAgJCRSQUZQcm92aWRlcixcbiAgJFdpbmRvd1Byb3ZpZGVyLFxuICAkJGpxTGl0ZVByb3ZpZGVyLFxuICAkJENvb2tpZVJlYWRlclByb3ZpZGVyXG4qL1xuXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgYW5ndWxhci52ZXJzaW9uXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IEFuZ3VsYXJKUyB2ZXJzaW9uLlxuICpcbiAqIFRoaXMgb2JqZWN0IGhhcyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogLSBgZnVsbGAg4oCTIGB7c3RyaW5nfWAg4oCTIEZ1bGwgdmVyc2lvbiBzdHJpbmcsIHN1Y2ggYXMgXCIwLjkuMThcIi5cbiAqIC0gYG1ham9yYCDigJMgYHtudW1iZXJ9YCDigJMgTWFqb3IgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIwXCIuXG4gKiAtIGBtaW5vcmAg4oCTIGB7bnVtYmVyfWAg4oCTIE1pbm9yIHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiOVwiLlxuICogLSBgZG90YCDigJMgYHtudW1iZXJ9YCDigJMgRG90IHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiMThcIi5cbiAqIC0gYGNvZGVOYW1lYCDigJMgYHtzdHJpbmd9YCDigJMgQ29kZSBuYW1lIG9mIHRoZSByZWxlYXNlLCBzdWNoIGFzIFwiamlnZ2xpbmctYXJtZmF0XCIuXG4gKi9cbnZhciB2ZXJzaW9uID0ge1xuICBmdWxsOiAnMS40LjgnLCAgICAvLyBhbGwgb2YgdGhlc2UgcGxhY2Vob2xkZXIgc3RyaW5ncyB3aWxsIGJlIHJlcGxhY2VkIGJ5IGdydW50J3NcbiAgbWFqb3I6IDEsICAgIC8vIHBhY2thZ2UgdGFza1xuICBtaW5vcjogNCxcbiAgZG90OiA4LFxuICBjb2RlTmFtZTogJ2ljZS1tYW5pcHVsYXRpb24nXG59O1xuXG5cbmZ1bmN0aW9uIHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKSB7XG4gIGV4dGVuZChhbmd1bGFyLCB7XG4gICAgJ2Jvb3RzdHJhcCc6IGJvb3RzdHJhcCxcbiAgICAnY29weSc6IGNvcHksXG4gICAgJ2V4dGVuZCc6IGV4dGVuZCxcbiAgICAnbWVyZ2UnOiBtZXJnZSxcbiAgICAnZXF1YWxzJzogZXF1YWxzLFxuICAgICdlbGVtZW50JzoganFMaXRlLFxuICAgICdmb3JFYWNoJzogZm9yRWFjaCxcbiAgICAnaW5qZWN0b3InOiBjcmVhdGVJbmplY3RvcixcbiAgICAnbm9vcCc6IG5vb3AsXG4gICAgJ2JpbmQnOiBiaW5kLFxuICAgICd0b0pzb24nOiB0b0pzb24sXG4gICAgJ2Zyb21Kc29uJzogZnJvbUpzb24sXG4gICAgJ2lkZW50aXR5JzogaWRlbnRpdHksXG4gICAgJ2lzVW5kZWZpbmVkJzogaXNVbmRlZmluZWQsXG4gICAgJ2lzRGVmaW5lZCc6IGlzRGVmaW5lZCxcbiAgICAnaXNTdHJpbmcnOiBpc1N0cmluZyxcbiAgICAnaXNGdW5jdGlvbic6IGlzRnVuY3Rpb24sXG4gICAgJ2lzT2JqZWN0JzogaXNPYmplY3QsXG4gICAgJ2lzTnVtYmVyJzogaXNOdW1iZXIsXG4gICAgJ2lzRWxlbWVudCc6IGlzRWxlbWVudCxcbiAgICAnaXNBcnJheSc6IGlzQXJyYXksXG4gICAgJ3ZlcnNpb24nOiB2ZXJzaW9uLFxuICAgICdpc0RhdGUnOiBpc0RhdGUsXG4gICAgJ2xvd2VyY2FzZSc6IGxvd2VyY2FzZSxcbiAgICAndXBwZXJjYXNlJzogdXBwZXJjYXNlLFxuICAgICdjYWxsYmFja3MnOiB7Y291bnRlcjogMH0sXG4gICAgJ2dldFRlc3RhYmlsaXR5JzogZ2V0VGVzdGFiaWxpdHksXG4gICAgJyQkbWluRXJyJzogbWluRXJyLFxuICAgICckJGNzcCc6IGNzcCxcbiAgICAncmVsb2FkV2l0aERlYnVnSW5mbyc6IHJlbG9hZFdpdGhEZWJ1Z0luZm9cbiAgfSk7XG5cbiAgYW5ndWxhck1vZHVsZSA9IHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdyk7XG5cbiAgYW5ndWxhck1vZHVsZSgnbmcnLCBbJ25nTG9jYWxlJ10sIFsnJHByb3ZpZGUnLFxuICAgIGZ1bmN0aW9uIG5nTW9kdWxlKCRwcm92aWRlKSB7XG4gICAgICAvLyAkJHNhbml0aXplVXJpUHJvdmlkZXIgbmVlZHMgdG8gYmUgYmVmb3JlICRjb21waWxlUHJvdmlkZXIgYXMgaXQgaXMgdXNlZCBieSBpdC5cbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKHtcbiAgICAgICAgJCRzYW5pdGl6ZVVyaTogJCRTYW5pdGl6ZVVyaVByb3ZpZGVyXG4gICAgICB9KTtcbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCckY29tcGlsZScsICRDb21waWxlUHJvdmlkZXIpLlxuICAgICAgICBkaXJlY3RpdmUoe1xuICAgICAgICAgICAgYTogaHRtbEFuY2hvckRpcmVjdGl2ZSxcbiAgICAgICAgICAgIGlucHV0OiBpbnB1dERpcmVjdGl2ZSxcbiAgICAgICAgICAgIHRleHRhcmVhOiBpbnB1dERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGZvcm06IGZvcm1EaXJlY3RpdmUsXG4gICAgICAgICAgICBzY3JpcHQ6IHNjcmlwdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIHNlbGVjdDogc2VsZWN0RGlyZWN0aXZlLFxuICAgICAgICAgICAgc3R5bGU6IHN0eWxlRGlyZWN0aXZlLFxuICAgICAgICAgICAgb3B0aW9uOiBvcHRpb25EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0JpbmQ6IG5nQmluZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQmluZEh0bWw6IG5nQmluZEh0bWxEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0JpbmRUZW1wbGF0ZTogbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NsYXNzOiBuZ0NsYXNzRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbGFzc0V2ZW46IG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbGFzc09kZDogbmdDbGFzc09kZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xvYWs6IG5nQ2xvYWtEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NvbnRyb2xsZXI6IG5nQ29udHJvbGxlckRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nRm9ybTogbmdGb3JtRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdIaWRlOiBuZ0hpZGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0lmOiBuZ0lmRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdJbmNsdWRlOiBuZ0luY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0luaXQ6IG5nSW5pdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTm9uQmluZGFibGU6IG5nTm9uQmluZGFibGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1BsdXJhbGl6ZTogbmdQbHVyYWxpemVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1JlcGVhdDogbmdSZXBlYXREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1Nob3c6IG5nU2hvd0RpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU3R5bGU6IG5nU3R5bGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N3aXRjaDogbmdTd2l0Y2hEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N3aXRjaFdoZW46IG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU3dpdGNoRGVmYXVsdDogbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdPcHRpb25zOiBuZ09wdGlvbnNEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1RyYW5zY2x1ZGU6IG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTW9kZWw6IG5nTW9kZWxEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0xpc3Q6IG5nTGlzdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2hhbmdlOiBuZ0NoYW5nZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIHBhdHRlcm46IHBhdHRlcm5EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1BhdHRlcm46IHBhdHRlcm5EaXJlY3RpdmUsXG4gICAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1JlcXVpcmVkOiByZXF1aXJlZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG1pbmxlbmd0aDogbWlubGVuZ3RoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG1heGxlbmd0aDogbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNYXhsZW5ndGg6IG1heGxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nVmFsdWU6IG5nVmFsdWVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ01vZGVsT3B0aW9uczogbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmVcbiAgICAgICAgfSkuXG4gICAgICAgIGRpcmVjdGl2ZSh7XG4gICAgICAgICAgbmdJbmNsdWRlOiBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZVxuICAgICAgICB9KS5cbiAgICAgICAgZGlyZWN0aXZlKG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzKS5cbiAgICAgICAgZGlyZWN0aXZlKG5nRXZlbnREaXJlY3RpdmVzKTtcbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKHtcbiAgICAgICAgJGFuY2hvclNjcm9sbDogJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxuICAgICAgICAkYW5pbWF0ZTogJEFuaW1hdGVQcm92aWRlcixcbiAgICAgICAgJGFuaW1hdGVDc3M6ICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyLFxuICAgICAgICAkJGFuaW1hdGVRdWV1ZTogJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIsXG4gICAgICAgICQkQW5pbWF0ZVJ1bm5lcjogJCRDb3JlQW5pbWF0ZVJ1bm5lclByb3ZpZGVyLFxuICAgICAgICAkYnJvd3NlcjogJEJyb3dzZXJQcm92aWRlcixcbiAgICAgICAgJGNhY2hlRmFjdG9yeTogJENhY2hlRmFjdG9yeVByb3ZpZGVyLFxuICAgICAgICAkY29udHJvbGxlcjogJENvbnRyb2xsZXJQcm92aWRlcixcbiAgICAgICAgJGRvY3VtZW50OiAkRG9jdW1lbnRQcm92aWRlcixcbiAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXI6ICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIsXG4gICAgICAgICRmaWx0ZXI6ICRGaWx0ZXJQcm92aWRlcixcbiAgICAgICAgJCRmb3JjZVJlZmxvdzogJCRGb3JjZVJlZmxvd1Byb3ZpZGVyLFxuICAgICAgICAkaW50ZXJwb2xhdGU6ICRJbnRlcnBvbGF0ZVByb3ZpZGVyLFxuICAgICAgICAkaW50ZXJ2YWw6ICRJbnRlcnZhbFByb3ZpZGVyLFxuICAgICAgICAkaHR0cDogJEh0dHBQcm92aWRlcixcbiAgICAgICAgJGh0dHBQYXJhbVNlcmlhbGl6ZXI6ICRIdHRwUGFyYW1TZXJpYWxpemVyUHJvdmlkZXIsXG4gICAgICAgICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlOiAkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyLFxuICAgICAgICAkaHR0cEJhY2tlbmQ6ICRIdHRwQmFja2VuZFByb3ZpZGVyLFxuICAgICAgICAkeGhyRmFjdG9yeTogJHhockZhY3RvcnlQcm92aWRlcixcbiAgICAgICAgJGxvY2F0aW9uOiAkTG9jYXRpb25Qcm92aWRlcixcbiAgICAgICAgJGxvZzogJExvZ1Byb3ZpZGVyLFxuICAgICAgICAkcGFyc2U6ICRQYXJzZVByb3ZpZGVyLFxuICAgICAgICAkcm9vdFNjb3BlOiAkUm9vdFNjb3BlUHJvdmlkZXIsXG4gICAgICAgICRxOiAkUVByb3ZpZGVyLFxuICAgICAgICAkJHE6ICQkUVByb3ZpZGVyLFxuICAgICAgICAkc2NlOiAkU2NlUHJvdmlkZXIsXG4gICAgICAgICRzY2VEZWxlZ2F0ZTogJFNjZURlbGVnYXRlUHJvdmlkZXIsXG4gICAgICAgICRzbmlmZmVyOiAkU25pZmZlclByb3ZpZGVyLFxuICAgICAgICAkdGVtcGxhdGVDYWNoZTogJFRlbXBsYXRlQ2FjaGVQcm92aWRlcixcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdDogJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyLFxuICAgICAgICAkJHRlc3RhYmlsaXR5OiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIsXG4gICAgICAgICR0aW1lb3V0OiAkVGltZW91dFByb3ZpZGVyLFxuICAgICAgICAkd2luZG93OiAkV2luZG93UHJvdmlkZXIsXG4gICAgICAgICQkckFGOiAkJFJBRlByb3ZpZGVyLFxuICAgICAgICAkJGpxTGl0ZTogJCRqcUxpdGVQcm92aWRlcixcbiAgICAgICAgJCRIYXNoTWFwOiAkJEhhc2hNYXBQcm92aWRlcixcbiAgICAgICAgJCRjb29raWVSZWFkZXI6ICQkQ29va2llUmVhZGVyUHJvdmlkZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgXSk7XG59XG5cbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcbiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXG5cbi8qIGdsb2JhbCBKUUxpdGVQcm90b3R5cGU6IHRydWUsXG4gIGFkZEV2ZW50TGlzdGVuZXJGbjogdHJ1ZSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuOiB0cnVlLFxuICBCT09MRUFOX0FUVFI6IHRydWUsXG4gIEFMSUFTRURfQVRUUjogdHJ1ZSxcbiovXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vSlFMaXRlXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmVsZW1lbnRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBXcmFwcyBhIHJhdyBET00gZWxlbWVudCBvciBIVE1MIHN0cmluZyBhcyBhIFtqUXVlcnldKGh0dHA6Ly9qcXVlcnkuY29tKSBlbGVtZW50LlxuICpcbiAqIElmIGpRdWVyeSBpcyBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgIGlzIGFuIGFsaWFzIGZvciB0aGVcbiAqIFtqUXVlcnldKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkvKSBmdW5jdGlvbi4gSWYgalF1ZXJ5IGlzIG5vdCBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgXG4gKiBkZWxlZ2F0ZXMgdG8gQW5ndWxhcidzIGJ1aWx0LWluIHN1YnNldCBvZiBqUXVlcnksIGNhbGxlZCBcImpRdWVyeSBsaXRlXCIgb3IgXCJqcUxpdGUuXCJcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPmpxTGl0ZSBpcyBhIHRpbnksIEFQSS1jb21wYXRpYmxlIHN1YnNldCBvZiBqUXVlcnkgdGhhdCBhbGxvd3NcbiAqIEFuZ3VsYXIgdG8gbWFuaXB1bGF0ZSB0aGUgRE9NIGluIGEgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmxlIHdheS4gKipqcUxpdGUqKiBpbXBsZW1lbnRzIG9ubHkgdGhlIG1vc3RcbiAqIGNvbW1vbmx5IG5lZWRlZCBmdW5jdGlvbmFsaXR5IHdpdGggdGhlIGdvYWwgb2YgaGF2aW5nIGEgdmVyeSBzbWFsbCBmb290cHJpbnQuPC9kaXY+XG4gKlxuICogVG8gdXNlIGBqUXVlcnlgLCBzaW1wbHkgZW5zdXJlIGl0IGlzIGxvYWRlZCBiZWZvcmUgdGhlIGBhbmd1bGFyLmpzYCBmaWxlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydFwiPioqTm90ZToqKiBhbGwgZWxlbWVudCByZWZlcmVuY2VzIGluIEFuZ3VsYXIgYXJlIGFsd2F5cyB3cmFwcGVkIHdpdGggalF1ZXJ5IG9yXG4gKiBqcUxpdGU7IHRoZXkgYXJlIG5ldmVyIHJhdyBET00gcmVmZXJlbmNlcy48L2Rpdj5cbiAqXG4gKiAjIyBBbmd1bGFyJ3MganFMaXRlXG4gKiBqcUxpdGUgcHJvdmlkZXMgb25seSB0aGUgZm9sbG93aW5nIGpRdWVyeSBtZXRob2RzOlxuICpcbiAqIC0gW2BhZGRDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FkZENsYXNzLylcbiAqIC0gW2BhZnRlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FmdGVyLylcbiAqIC0gW2BhcHBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hcHBlbmQvKVxuICogLSBbYGF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hdHRyLykgLSBEb2VzIG5vdCBzdXBwb3J0IGZ1bmN0aW9ucyBhcyBwYXJhbWV0ZXJzXG4gKiAtIFtgYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2JpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YVxuICogLSBbYGNoaWxkcmVuKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY2hpbGRyZW4vKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgY2xvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jbG9uZS8pXG4gKiAtIFtgY29udGVudHMoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jb250ZW50cy8pXG4gKiAtIFtgY3NzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY3NzLykgLSBPbmx5IHJldHJpZXZlcyBpbmxpbmUtc3R5bGVzLCBkb2VzIG5vdCBjYWxsIGBnZXRDb21wdXRlZFN0eWxlKClgLiBBcyBhIHNldHRlciwgZG9lcyBub3QgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ3Mgb3IgYXBwZW5kICdweCcuXG4gKiAtIFtgZGF0YSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RhdGEvKVxuICogLSBbYGRldGFjaCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RldGFjaC8pXG4gKiAtIFtgZW1wdHkoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lbXB0eS8pXG4gKiAtIFtgZXEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lcS8pXG4gKiAtIFtgZmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2ZpbmQvKSAtIExpbWl0ZWQgdG8gbG9va3VwcyBieSB0YWcgbmFtZVxuICogLSBbYGhhc0NsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaGFzQ2xhc3MvKVxuICogLSBbYGh0bWwoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9odG1sLylcbiAqIC0gW2BuZXh0KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vbmV4dC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcbiAqIC0gW2BvbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29uLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudERhdGFcbiAqIC0gW2BvZmYoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmYvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50IG9iamVjdCBhcyBwYXJhbWV0ZXJcbiAqIC0gW2BvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vbmUvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBzZWxlY3RvcnNcbiAqIC0gW2BwYXJlbnQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wYXJlbnQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgcHJlcGVuZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ByZXBlbmQvKVxuICogLSBbYHByb3AoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcm9wLylcbiAqIC0gW2ByZWFkeSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlYWR5LylcbiAqIC0gW2ByZW1vdmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmUvKVxuICogLSBbYHJlbW92ZUF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVBdHRyLylcbiAqIC0gW2ByZW1vdmVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUNsYXNzLylcbiAqIC0gW2ByZW1vdmVEYXRhKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlRGF0YS8pXG4gKiAtIFtgcmVwbGFjZVdpdGgoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZXBsYWNlV2l0aC8pXG4gKiAtIFtgdGV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RleHQvKVxuICogLSBbYHRvZ2dsZUNsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdG9nZ2xlQ2xhc3MvKVxuICogLSBbYHRyaWdnZXJIYW5kbGVyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdHJpZ2dlckhhbmRsZXIvKSAtIFBhc3NlcyBhIGR1bW15IGV2ZW50IG9iamVjdCB0byBoYW5kbGVycy5cbiAqIC0gW2B1bmJpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS91bmJpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBldmVudCBvYmplY3QgYXMgcGFyYW1ldGVyXG4gKiAtIFtgdmFsKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdmFsLylcbiAqIC0gW2B3cmFwKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vd3JhcC8pXG4gKlxuICogIyMgalF1ZXJ5L2pxTGl0ZSBFeHRyYXNcbiAqIEFuZ3VsYXIgYWxzbyBwcm92aWRlcyB0aGUgZm9sbG93aW5nIGFkZGl0aW9uYWwgbWV0aG9kcyBhbmQgZXZlbnRzIHRvIGJvdGggalF1ZXJ5IGFuZCBqcUxpdGU6XG4gKlxuICogIyMjIEV2ZW50c1xuICogLSBgJGRlc3Ryb3lgIC0gQW5ndWxhckpTIGludGVyY2VwdHMgYWxsIGpxTGl0ZS9qUXVlcnkncyBET00gZGVzdHJ1Y3Rpb24gYXBpcyBhbmQgZmlyZXMgdGhpcyBldmVudFxuICogICAgb24gYWxsIERPTSBub2RlcyBiZWluZyByZW1vdmVkLiAgVGhpcyBjYW4gYmUgdXNlZCB0byBjbGVhbiB1cCBhbnkgM3JkIHBhcnR5IGJpbmRpbmdzIHRvIHRoZSBET01cbiAqICAgIGVsZW1lbnQgYmVmb3JlIGl0IGlzIHJlbW92ZWQuXG4gKlxuICogIyMjIE1ldGhvZHNcbiAqIC0gYGNvbnRyb2xsZXIobmFtZSlgIC0gcmV0cmlldmVzIHRoZSBjb250cm9sbGVyIG9mIHRoZSBjdXJyZW50IGVsZW1lbnQgb3IgaXRzIHBhcmVudC4gQnkgZGVmYXVsdFxuICogICByZXRyaWV2ZXMgY29udHJvbGxlciBhc3NvY2lhdGVkIHdpdGggdGhlIGBuZ0NvbnRyb2xsZXJgIGRpcmVjdGl2ZS4gSWYgYG5hbWVgIGlzIHByb3ZpZGVkIGFzXG4gKiAgIGNhbWVsQ2FzZSBkaXJlY3RpdmUgbmFtZSwgdGhlbiB0aGUgY29udHJvbGxlciBmb3IgdGhpcyBkaXJlY3RpdmUgd2lsbCBiZSByZXRyaWV2ZWQgKGUuZy5cbiAqICAgYCduZ01vZGVsJ2ApLlxuICogLSBgaW5qZWN0b3IoKWAgLSByZXRyaWV2ZXMgdGhlIGluamVjdG9yIG9mIHRoZSBjdXJyZW50IGVsZW1lbnQgb3IgaXRzIHBhcmVudC5cbiAqIC0gYHNjb3BlKClgIC0gcmV0cmlldmVzIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0gb2YgdGhlIGN1cnJlbnRcbiAqICAgZWxlbWVudCBvciBpdHMgcGFyZW50LiBSZXF1aXJlcyB7QGxpbmsgZ3VpZGUvcHJvZHVjdGlvbiNkaXNhYmxpbmctZGVidWctZGF0YSBEZWJ1ZyBEYXRhfSB0b1xuICogICBiZSBlbmFibGVkLlxuICogLSBgaXNvbGF0ZVNjb3BlKClgIC0gcmV0cmlldmVzIGFuIGlzb2xhdGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9IGlmIG9uZSBpcyBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGVcbiAqICAgY3VycmVudCBlbGVtZW50LiBUaGlzIGdldHRlciBzaG91bGQgYmUgdXNlZCBvbmx5IG9uIGVsZW1lbnRzIHRoYXQgY29udGFpbiBhIGRpcmVjdGl2ZSB3aGljaCBzdGFydHMgYSBuZXcgaXNvbGF0ZVxuICogICBzY29wZS4gQ2FsbGluZyBgc2NvcGUoKWAgb24gdGhpcyBlbGVtZW50IGFsd2F5cyByZXR1cm5zIHRoZSBvcmlnaW5hbCBub24taXNvbGF0ZSBzY29wZS5cbiAqICAgUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG8gYmUgZW5hYmxlZC5cbiAqIC0gYGluaGVyaXRlZERhdGEoKWAgLSBzYW1lIGFzIGBkYXRhKClgLCBidXQgd2Fsa3MgdXAgdGhlIERPTSB1bnRpbCBhIHZhbHVlIGlzIGZvdW5kIG9yIHRoZSB0b3BcbiAqICAgcGFyZW50IGVsZW1lbnQgaXMgcmVhY2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBlbGVtZW50IEhUTUwgc3RyaW5nIG9yIERPTUVsZW1lbnQgdG8gYmUgd3JhcHBlZCBpbnRvIGpRdWVyeS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IGpRdWVyeSBvYmplY3QuXG4gKi9cblxuSlFMaXRlLmV4cGFuZG8gPSAnbmczMzknO1xuXG52YXIganFDYWNoZSA9IEpRTGl0ZS5jYWNoZSA9IHt9LFxuICAgIGpxSWQgPSAxLFxuICAgIGFkZEV2ZW50TGlzdGVuZXJGbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGZhbHNlKTtcbiAgICB9LFxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGZhbHNlKTtcbiAgICB9O1xuXG4vKlxuICogISEhIFRoaXMgaXMgYW4gdW5kb2N1bWVudGVkIFwicHJpdmF0ZVwiIGZ1bmN0aW9uICEhIVxuICovXG5KUUxpdGUuX2RhdGEgPSBmdW5jdGlvbihub2RlKSB7XG4gIC8valF1ZXJ5IGFsd2F5cyByZXR1cm5zIGFuIG9iamVjdCBvbiBjYWNoZSBtaXNzXG4gIHJldHVybiB0aGlzLmNhY2hlW25vZGVbdGhpcy5leHBhbmRvXV0gfHwge307XG59O1xuXG5mdW5jdGlvbiBqcU5leHRJZCgpIHsgcmV0dXJuICsranFJZDsgfVxuXG5cbnZhciBTUEVDSUFMX0NIQVJTX1JFR0VYUCA9IC8oW1xcOlxcLVxcX10rKC4pKS9nO1xudmFyIE1PWl9IQUNLX1JFR0VYUCA9IC9ebW96KFtBLVpdKS87XG52YXIgTU9VU0VfRVZFTlRfTUFQPSB7IG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIiwgbW91c2VlbnRlcjogXCJtb3VzZW92ZXJcIn07XG52YXIganFMaXRlTWluRXJyID0gbWluRXJyKCdqcUxpdGUnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBzbmFrZV9jYXNlIHRvIGNhbWVsQ2FzZS5cbiAqIEFsc28gdGhlcmUgaXMgc3BlY2lhbCBjYXNlIGZvciBNb3ogcHJlZml4IHN0YXJ0aW5nIHdpdGggdXBwZXIgY2FzZSBsZXR0ZXIuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxuICovXG5mdW5jdGlvbiBjYW1lbENhc2UobmFtZSkge1xuICByZXR1cm4gbmFtZS5cbiAgICByZXBsYWNlKFNQRUNJQUxfQ0hBUlNfUkVHRVhQLCBmdW5jdGlvbihfLCBzZXBhcmF0b3IsIGxldHRlciwgb2Zmc2V0KSB7XG4gICAgICByZXR1cm4gb2Zmc2V0ID8gbGV0dGVyLnRvVXBwZXJDYXNlKCkgOiBsZXR0ZXI7XG4gICAgfSkuXG4gICAgcmVwbGFjZShNT1pfSEFDS19SRUdFWFAsICdNb3okMScpO1xufVxuXG52YXIgU0lOR0xFX1RBR19SRUdFWFAgPSAvXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC87XG52YXIgSFRNTF9SRUdFWFAgPSAvPHwmIz9cXHcrOy87XG52YXIgVEFHX05BTUVfUkVHRVhQID0gLzwoW1xcdzotXSspLztcbnZhciBYSFRNTF9UQUdfUkVHRVhQID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzotXSspW14+XSopXFwvPi9naTtcblxudmFyIHdyYXBNYXAgPSB7XG4gICdvcHRpb24nOiBbMSwgJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsICc8L3NlbGVjdD4nXSxcblxuICAndGhlYWQnOiBbMSwgJzx0YWJsZT4nLCAnPC90YWJsZT4nXSxcbiAgJ2NvbCc6IFsyLCAnPHRhYmxlPjxjb2xncm91cD4nLCAnPC9jb2xncm91cD48L3RhYmxlPiddLFxuICAndHInOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcbiAgJ3RkJzogWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J10sXG4gICdfZGVmYXVsdCc6IFswLCBcIlwiLCBcIlwiXVxufTtcblxud3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uO1xud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG5cbmZ1bmN0aW9uIGpxTGl0ZUlzVGV4dE5vZGUoaHRtbCkge1xuICByZXR1cm4gIUhUTUxfUkVHRVhQLnRlc3QoaHRtbCk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUFjY2VwdHNEYXRhKG5vZGUpIHtcbiAgLy8gVGhlIHdpbmRvdyBvYmplY3QgY2FuIGFjY2VwdCBkYXRhIGJ1dCBoYXMgbm8gbm9kZVR5cGVcbiAgLy8gT3RoZXJ3aXNlIHdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gZWxlbWVudHMgKDEpIGFuZCBkb2N1bWVudHMgKDkpXG4gIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gIHJldHVybiBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQgfHwgIW5vZGVUeXBlIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRE9DVU1FTlQ7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUhhc0RhdGEobm9kZSkge1xuICBmb3IgKHZhciBrZXkgaW4ganFDYWNoZVtub2RlLm5nMzM5XSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24ganFMaXRlQnVpbGRGcmFnbWVudChodG1sLCBjb250ZXh0KSB7XG4gIHZhciB0bXAsIHRhZywgd3JhcCxcbiAgICAgIGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBub2RlcyA9IFtdLCBpO1xuXG4gIGlmIChqcUxpdGVJc1RleHROb2RlKGh0bWwpKSB7XG4gICAgLy8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG4gICAgbm9kZXMucHVzaChjb250ZXh0LmNyZWF0ZVRleHROb2RlKGh0bWwpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcbiAgICB0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29udGV4dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICB0YWcgPSAoVEFHX05BTUVfUkVHRVhQLmV4ZWMoaHRtbCkgfHwgW1wiXCIsIFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpO1xuICAgIHdyYXAgPSB3cmFwTWFwW3RhZ10gfHwgd3JhcE1hcC5fZGVmYXVsdDtcbiAgICB0bXAuaW5uZXJIVE1MID0gd3JhcFsxXSArIGh0bWwucmVwbGFjZShYSFRNTF9UQUdfUkVHRVhQLCBcIjwkMT48LyQyPlwiKSArIHdyYXBbMl07XG5cbiAgICAvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcbiAgICBpID0gd3JhcFswXTtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB0bXAgPSB0bXAubGFzdENoaWxkO1xuICAgIH1cblxuICAgIG5vZGVzID0gY29uY2F0KG5vZGVzLCB0bXAuY2hpbGROb2Rlcyk7XG5cbiAgICB0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuICAgIHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICAvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG4gIGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgZnJhZ21lbnQuaW5uZXJIVE1MID0gXCJcIjsgLy8gQ2xlYXIgaW5uZXIgSFRNTFxuICBmb3JFYWNoKG5vZGVzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gIH0pO1xuXG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxuZnVuY3Rpb24ganFMaXRlUGFyc2VIVE1MKGh0bWwsIGNvbnRleHQpIHtcbiAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG4gIHZhciBwYXJzZWQ7XG5cbiAgaWYgKChwYXJzZWQgPSBTSU5HTEVfVEFHX1JFR0VYUC5leGVjKGh0bWwpKSkge1xuICAgIHJldHVybiBbY29udGV4dC5jcmVhdGVFbGVtZW50KHBhcnNlZFsxXSldO1xuICB9XG5cbiAgaWYgKChwYXJzZWQgPSBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsIGNvbnRleHQpKSkge1xuICAgIHJldHVybiBwYXJzZWQuY2hpbGROb2RlcztcbiAgfVxuXG4gIHJldHVybiBbXTtcbn1cblxuXG4vLyBJRTktMTEgaGFzIG5vIG1ldGhvZCBcImNvbnRhaW5zXCIgaW4gU1ZHIGVsZW1lbnQgYW5kIGluIE5vZGUucHJvdG90eXBlLiBCdWcgIzEwMjU5LlxudmFyIGpxTGl0ZUNvbnRhaW5zID0gTm9kZS5wcm90b3R5cGUuY29udGFpbnMgfHwgZnVuY3Rpb24oYXJnKSB7XG4gIC8vIGpzaGludCBiaXR3aXNlOiBmYWxzZVxuICByZXR1cm4gISEodGhpcy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhcmcpICYgMTYpO1xuICAvLyBqc2hpbnQgYml0d2lzZTogdHJ1ZVxufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBKUUxpdGUoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEpRTGl0ZSkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgdmFyIGFyZ0lzU3RyaW5nO1xuXG4gIGlmIChpc1N0cmluZyhlbGVtZW50KSkge1xuICAgIGVsZW1lbnQgPSB0cmltKGVsZW1lbnQpO1xuICAgIGFyZ0lzU3RyaW5nID0gdHJ1ZTtcbiAgfVxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSlFMaXRlKSkge1xuICAgIGlmIChhcmdJc1N0cmluZyAmJiBlbGVtZW50LmNoYXJBdCgwKSAhPSAnPCcpIHtcbiAgICAgIHRocm93IGpxTGl0ZU1pbkVycignbm9zZWwnLCAnTG9va2luZyB1cCBlbGVtZW50cyB2aWEgc2VsZWN0b3JzIGlzIG5vdCBzdXBwb3J0ZWQgYnkganFMaXRlISBTZWU6IGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL2FuZ3VsYXIuZWxlbWVudCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEpRTGl0ZShlbGVtZW50KTtcbiAgfVxuXG4gIGlmIChhcmdJc1N0cmluZykge1xuICAgIGpxTGl0ZUFkZE5vZGVzKHRoaXMsIGpxTGl0ZVBhcnNlSFRNTChlbGVtZW50KSk7XG4gIH0gZWxzZSB7XG4gICAganFMaXRlQWRkTm9kZXModGhpcywgZWxlbWVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlQ2xvbmUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZURlYWxvYyhlbGVtZW50LCBvbmx5RGVzY2VuZGFudHMpIHtcbiAgaWYgKCFvbmx5RGVzY2VuZGFudHMpIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCk7XG5cbiAgaWYgKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCkge1xuICAgIHZhciBkZXNjZW5kYW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGVzY2VuZGFudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBqcUxpdGVSZW1vdmVEYXRhKGRlc2NlbmRhbnRzW2ldKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xuICBpZiAoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSkgdGhyb3cganFMaXRlTWluRXJyKCdvZmZhcmdzJywgJ2pxTGl0ZSNvZmYoKSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBgc2VsZWN0b3JgIGFyZ3VtZW50Jyk7XG5cbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KTtcbiAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZXZlbnRzO1xuICB2YXIgaGFuZGxlID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5oYW5kbGU7XG5cbiAgaWYgKCFoYW5kbGUpIHJldHVybjsgLy9ubyBsaXN0ZW5lcnMgcmVnaXN0ZXJlZFxuXG4gIGlmICghdHlwZSkge1xuICAgIGZvciAodHlwZSBpbiBldmVudHMpIHtcbiAgICAgIGlmICh0eXBlICE9PSAnJGRlc3Ryb3knKSB7XG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG5cbiAgICB2YXIgcmVtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lckZucyA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChpc0RlZmluZWQoZm4pKSB7XG4gICAgICAgIGFycmF5UmVtb3ZlKGxpc3RlbmVyRm5zIHx8IFtdLCBmbik7XG4gICAgICB9XG4gICAgICBpZiAoIShpc0RlZmluZWQoZm4pICYmIGxpc3RlbmVyRm5zICYmIGxpc3RlbmVyRm5zLmxlbmd0aCA+IDApKSB7XG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xuICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3JFYWNoKHR5cGUuc3BsaXQoJyAnKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgcmVtb3ZlSGFuZGxlcih0eXBlKTtcbiAgICAgIGlmIChNT1VTRV9FVkVOVF9NQVBbdHlwZV0pIHtcbiAgICAgICAgcmVtb3ZlSGFuZGxlcihNT1VTRV9FVkVOVF9NQVBbdHlwZV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCwgbmFtZSkge1xuICB2YXIgZXhwYW5kb0lkID0gZWxlbWVudC5uZzMzOTtcbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGV4cGFuZG9JZCAmJiBqcUNhY2hlW2V4cGFuZG9JZF07XG5cbiAgaWYgKGV4cGFuZG9TdG9yZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICBkZWxldGUgZXhwYW5kb1N0b3JlLmRhdGFbbmFtZV07XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV4cGFuZG9TdG9yZS5oYW5kbGUpIHtcbiAgICAgIGlmIChleHBhbmRvU3RvcmUuZXZlbnRzLiRkZXN0cm95KSB7XG4gICAgICAgIGV4cGFuZG9TdG9yZS5oYW5kbGUoe30sICckZGVzdHJveScpO1xuICAgICAgfVxuICAgICAganFMaXRlT2ZmKGVsZW1lbnQpO1xuICAgIH1cbiAgICBkZWxldGUganFDYWNoZVtleHBhbmRvSWRdO1xuICAgIGVsZW1lbnQubmczMzkgPSB1bmRlZmluZWQ7IC8vIGRvbid0IGRlbGV0ZSBET00gZXhwYW5kb3MuIElFIGFuZCBDaHJvbWUgZG9uJ3QgbGlrZSBpdFxuICB9XG59XG5cblxuZnVuY3Rpb24ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsIGNyZWF0ZUlmTmVjZXNzYXJ5KSB7XG4gIHZhciBleHBhbmRvSWQgPSBlbGVtZW50Lm5nMzM5LFxuICAgICAgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcblxuICBpZiAoY3JlYXRlSWZOZWNlc3NhcnkgJiYgIWV4cGFuZG9TdG9yZSkge1xuICAgIGVsZW1lbnQubmczMzkgPSBleHBhbmRvSWQgPSBqcU5leHRJZCgpO1xuICAgIGV4cGFuZG9TdG9yZSA9IGpxQ2FjaGVbZXhwYW5kb0lkXSA9IHtldmVudHM6IHt9LCBkYXRhOiB7fSwgaGFuZGxlOiB1bmRlZmluZWR9O1xuICB9XG5cbiAgcmV0dXJuIGV4cGFuZG9TdG9yZTtcbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVEYXRhKGVsZW1lbnQsIGtleSwgdmFsdWUpIHtcbiAgaWYgKGpxTGl0ZUFjY2VwdHNEYXRhKGVsZW1lbnQpKSB7XG5cbiAgICB2YXIgaXNTaW1wbGVTZXR0ZXIgPSBpc0RlZmluZWQodmFsdWUpO1xuICAgIHZhciBpc1NpbXBsZUdldHRlciA9ICFpc1NpbXBsZVNldHRlciAmJiBrZXkgJiYgIWlzT2JqZWN0KGtleSk7XG4gICAgdmFyIG1hc3NHZXR0ZXIgPSAha2V5O1xuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgIWlzU2ltcGxlR2V0dGVyKTtcbiAgICB2YXIgZGF0YSA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZGF0YTtcblxuICAgIGlmIChpc1NpbXBsZVNldHRlcikgeyAvLyBkYXRhKCdrZXknLCB2YWx1ZSlcbiAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobWFzc0dldHRlcikgeyAgLy8gZGF0YSgpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzU2ltcGxlR2V0dGVyKSB7IC8vIGRhdGEoJ2tleScpXG4gICAgICAgICAgLy8gZG9uJ3QgZm9yY2UgY3JlYXRpb24gb2YgZXhwYW5kb1N0b3JlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgICAgICAgcmV0dXJuIGRhdGEgJiYgZGF0YVtrZXldO1xuICAgICAgICB9IGVsc2UgeyAvLyBtYXNzLXNldHRlcjogZGF0YSh7a2V5MTogdmFsMSwga2V5MjogdmFsMn0pXG4gICAgICAgICAgZXh0ZW5kKGRhdGEsIGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgaWYgKCFlbGVtZW50LmdldEF0dHJpYnV0ZSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gKChcIiBcIiArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyBcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpLlxuICAgICAgaW5kZXhPZihcIiBcIiArIHNlbGVjdG9yICsgXCIgXCIpID4gLTEpO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmVDbGFzcyhlbGVtZW50LCBjc3NDbGFzc2VzKSB7XG4gIGlmIChjc3NDbGFzc2VzICYmIGVsZW1lbnQuc2V0QXR0cmlidXRlKSB7XG4gICAgZm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNzc0NsYXNzKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0cmltKFxuICAgICAgICAgIChcIiBcIiArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyBcIiBcIilcbiAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpXG4gICAgICAgICAgLnJlcGxhY2UoXCIgXCIgKyB0cmltKGNzc0NsYXNzKSArIFwiIFwiLCBcIiBcIikpXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUFkZENsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcbiAgaWYgKGNzc0NsYXNzZXMgJiYgZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHtcbiAgICB2YXIgZXhpc3RpbmdDbGFzc2VzID0gKCcgJyArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAnICcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXG5cXHRdL2csIFwiIFwiKTtcblxuICAgIGZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLCBmdW5jdGlvbihjc3NDbGFzcykge1xuICAgICAgY3NzQ2xhc3MgPSB0cmltKGNzc0NsYXNzKTtcbiAgICAgIGlmIChleGlzdGluZ0NsYXNzZXMuaW5kZXhPZignICcgKyBjc3NDbGFzcyArICcgJykgPT09IC0xKSB7XG4gICAgICAgIGV4aXN0aW5nQ2xhc3NlcyArPSBjc3NDbGFzcyArICcgJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oZXhpc3RpbmdDbGFzc2VzKSk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVBZGROb2Rlcyhyb290LCBlbGVtZW50cykge1xuICAvLyBUSElTIENPREUgSVMgVkVSWSBIT1QuIERvbid0IG1ha2UgY2hhbmdlcyB3aXRob3V0IGJlbmNobWFya2luZy5cblxuICBpZiAoZWxlbWVudHMpIHtcblxuICAgIC8vIGlmIGEgTm9kZSAodGhlIG1vc3QgY29tbW9uIGNhc2UpXG4gICAgaWYgKGVsZW1lbnRzLm5vZGVUeXBlKSB7XG4gICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cbiAgICAgIC8vIGlmIGFuIEFycmF5IG9yIE5vZGVMaXN0IGFuZCBub3QgYSBXaW5kb3dcbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyAmJiBlbGVtZW50cy53aW5kb3cgIT09IGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuZnVuY3Rpb24ganFMaXRlQ29udHJvbGxlcihlbGVtZW50LCBuYW1lKSB7XG4gIHJldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsICckJyArIChuYW1lIHx8ICduZ0NvbnRyb2xsZXInKSArICdDb250cm9sbGVyJyk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgLy8gaWYgZWxlbWVudCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IHdvcmsgd2l0aCB0aGUgaHRtbCBlbGVtZW50IGluc3RlYWRcbiAgLy8gdGhpcyBtYWtlcyAkKGRvY3VtZW50KS5zY29wZSgpIHBvc3NpYmxlXG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlID09IE5PREVfVFlQRV9ET0NVTUVOVCkge1xuICAgIGVsZW1lbnQgPSBlbGVtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gbmFtZSA6IFtuYW1lXTtcblxuICB3aGlsZSAoZWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGlmIChpc0RlZmluZWQodmFsdWUgPSBqcUxpdGUuZGF0YShlbGVtZW50LCBuYW1lc1tpXSkpKSByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gSWYgZGVhbGluZyB3aXRoIGEgZG9jdW1lbnQgZnJhZ21lbnQgbm9kZSB3aXRoIGEgaG9zdCBlbGVtZW50LCBhbmQgbm8gcGFyZW50LCB1c2UgdGhlIGhvc3RcbiAgICAvLyBlbGVtZW50IGFzIHRoZSBwYXJlbnQuIFRoaXMgZW5hYmxlcyBkaXJlY3RpdmVzIHdpdGhpbiBhIFNoYWRvdyBET00gb3IgcG9seWZpbGxlZCBTaGFkb3cgRE9NXG4gICAgLy8gdG8gbG9va3VwIHBhcmVudCBjb250cm9sbGVycy5cbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlIHx8IChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQgJiYgZWxlbWVudC5ob3N0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVFbXB0eShlbGVtZW50KSB7XG4gIGpxTGl0ZURlYWxvYyhlbGVtZW50LCB0cnVlKTtcbiAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmUoZWxlbWVudCwga2VlcERhdGEpIHtcbiAgaWYgKCFrZWVwRGF0YSkganFMaXRlRGVhbG9jKGVsZW1lbnQpO1xuICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG59XG5cblxuZnVuY3Rpb24ganFMaXRlRG9jdW1lbnRMb2FkZWQoYWN0aW9uLCB3aW4pIHtcbiAgd2luID0gd2luIHx8IHdpbmRvdztcbiAgaWYgKHdpbi5kb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgLy8gRm9yY2UgdGhlIGFjdGlvbiB0byBiZSBydW4gYXN5bmMgZm9yIGNvbnNpc3RlbnQgYmVoYXZpb3VyXG4gICAgLy8gZnJvbSB0aGUgYWN0aW9uJ3MgcG9pbnQgb2Ygdmlld1xuICAgIC8vIGkuZS4gaXQgd2lsbCBkZWZpbml0ZWx5IG5vdCBiZSBpbiBhICRhcHBseVxuICAgIHdpbi5zZXRUaW1lb3V0KGFjdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gTm8gbmVlZCB0byB1bmJpbmQgdGhpcyBoYW5kbGVyIGFzIGxvYWQgaXMgb25seSBldmVyIGNhbGxlZCBvbmNlXG4gICAganFMaXRlKHdpbikub24oJ2xvYWQnLCBhY3Rpb24pO1xuICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRnVuY3Rpb25zIHdoaWNoIGFyZSBkZWNsYXJlZCBkaXJlY3RseS5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIEpRTGl0ZVByb3RvdHlwZSA9IEpRTGl0ZS5wcm90b3R5cGUgPSB7XG4gIHJlYWR5OiBmdW5jdGlvbihmbikge1xuICAgIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gdHJpZ2dlcigpIHtcbiAgICAgIGlmIChmaXJlZCkgcmV0dXJuO1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgZm4oKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBkb2N1bWVudCBpcyBhbHJlYWR5IGxvYWRlZFxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICBzZXRUaW1lb3V0KHRyaWdnZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uKCdET01Db250ZW50TG9hZGVkJywgdHJpZ2dlcik7IC8vIHdvcmtzIGZvciBtb2Rlcm4gYnJvd3NlcnMgYW5kIElFOVxuICAgICAgLy8gd2UgY2FuIG5vdCB1c2UganFMaXRlIHNpbmNlIHdlIGFyZSBub3QgZG9uZSBsb2FkaW5nIGFuZCBqUXVlcnkgY291bGQgYmUgbG9hZGVkIGxhdGVyLlxuICAgICAgLy8ganNoaW50IC1XMDY0XG4gICAgICBKUUxpdGUod2luZG93KS5vbignbG9hZCcsIHRyaWdnZXIpOyAvLyBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkIGZvciBvdGhlcnNcbiAgICAgIC8vIGpzaGludCArVzA2NFxuICAgIH1cbiAgfSxcbiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgIGZvckVhY2godGhpcywgZnVuY3Rpb24oZSkgeyB2YWx1ZS5wdXNoKCcnICsgZSk7fSk7XG4gICAgcmV0dXJuICdbJyArIHZhbHVlLmpvaW4oJywgJykgKyAnXSc7XG4gIH0sXG5cbiAgZXE6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICByZXR1cm4gKGluZGV4ID49IDApID8ganFMaXRlKHRoaXNbaW5kZXhdKSA6IGpxTGl0ZSh0aGlzW3RoaXMubGVuZ3RoICsgaW5kZXhdKTtcbiAgfSxcblxuICBsZW5ndGg6IDAsXG4gIHB1c2g6IHB1c2gsXG4gIHNvcnQ6IFtdLnNvcnQsXG4gIHNwbGljZTogW10uc3BsaWNlXG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgZ2V0dGVyL3NldHRlcnMuXG4vLyB0aGVzZSBmdW5jdGlvbnMgcmV0dXJuIHNlbGYgb24gc2V0dGVyIGFuZFxuLy8gdmFsdWUgb24gZ2V0LlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG52YXIgQk9PTEVBTl9BVFRSID0ge307XG5mb3JFYWNoKCdtdWx0aXBsZSxzZWxlY3RlZCxjaGVja2VkLGRpc2FibGVkLHJlYWRPbmx5LHJlcXVpcmVkLG9wZW4nLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gIEJPT0xFQU5fQVRUUltsb3dlcmNhc2UodmFsdWUpXSA9IHZhbHVlO1xufSk7XG52YXIgQk9PTEVBTl9FTEVNRU5UUyA9IHt9O1xuZm9yRWFjaCgnaW5wdXQsc2VsZWN0LG9wdGlvbix0ZXh0YXJlYSxidXR0b24sZm9ybSxkZXRhaWxzJy5zcGxpdCgnLCcpLCBmdW5jdGlvbih2YWx1ZSkge1xuICBCT09MRUFOX0VMRU1FTlRTW3ZhbHVlXSA9IHRydWU7XG59KTtcbnZhciBBTElBU0VEX0FUVFIgPSB7XG4gICduZ01pbmxlbmd0aCc6ICdtaW5sZW5ndGgnLFxuICAnbmdNYXhsZW5ndGgnOiAnbWF4bGVuZ3RoJyxcbiAgJ25nTWluJzogJ21pbicsXG4gICduZ01heCc6ICdtYXgnLFxuICAnbmdQYXR0ZXJuJzogJ3BhdHRlcm4nXG59O1xuXG5mdW5jdGlvbiBnZXRCb29sZWFuQXR0ck5hbWUoZWxlbWVudCwgbmFtZSkge1xuICAvLyBjaGVjayBkb20gbGFzdCBzaW5jZSB3ZSB3aWxsIG1vc3QgbGlrZWx5IGZhaWwgb24gbmFtZVxuICB2YXIgYm9vbGVhbkF0dHIgPSBCT09MRUFOX0FUVFJbbmFtZS50b0xvd2VyQ2FzZSgpXTtcblxuICAvLyBib29sZWFuQXR0ciBpcyBoZXJlIHR3aWNlIHRvIG1pbmltaXplIERPTSBhY2Nlc3NcbiAgcmV0dXJuIGJvb2xlYW5BdHRyICYmIEJPT0xFQU5fRUxFTUVOVFNbbm9kZU5hbWVfKGVsZW1lbnQpXSAmJiBib29sZWFuQXR0cjtcbn1cblxuZnVuY3Rpb24gZ2V0QWxpYXNlZEF0dHJOYW1lKG5hbWUpIHtcbiAgcmV0dXJuIEFMSUFTRURfQVRUUltuYW1lXTtcbn1cblxuZm9yRWFjaCh7XG4gIGRhdGE6IGpxTGl0ZURhdGEsXG4gIHJlbW92ZURhdGE6IGpxTGl0ZVJlbW92ZURhdGEsXG4gIGhhc0RhdGE6IGpxTGl0ZUhhc0RhdGFcbn0sIGZ1bmN0aW9uKGZuLCBuYW1lKSB7XG4gIEpRTGl0ZVtuYW1lXSA9IGZuO1xufSk7XG5cbmZvckVhY2goe1xuICBkYXRhOiBqcUxpdGVEYXRhLFxuICBpbmhlcml0ZWREYXRhOiBqcUxpdGVJbmhlcml0ZWREYXRhLFxuXG4gIHNjb3BlOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgLy8gQ2FuJ3QgdXNlIGpxTGl0ZURhdGEgaGVyZSBkaXJlY3RseSBzbyB3ZSBzdGF5IGNvbXBhdGlibGUgd2l0aCBqUXVlcnkhXG4gICAgcmV0dXJuIGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckc2NvcGUnKSB8fCBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50LCBbJyRpc29sYXRlU2NvcGUnLCAnJHNjb3BlJ10pO1xuICB9LFxuXG4gIGlzb2xhdGVTY29wZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIC8vIENhbid0IHVzZSBqcUxpdGVEYXRhIGhlcmUgZGlyZWN0bHkgc28gd2Ugc3RheSBjb21wYXRpYmxlIHdpdGggalF1ZXJ5IVxuICAgIHJldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCAnJGlzb2xhdGVTY29wZScpIHx8IGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZScpO1xuICB9LFxuXG4gIGNvbnRyb2xsZXI6IGpxTGl0ZUNvbnRyb2xsZXIsXG5cbiAgaW5qZWN0b3I6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCAnJGluamVjdG9yJyk7XG4gIH0sXG5cbiAgcmVtb3ZlQXR0cjogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSkge1xuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9LFxuXG4gIGhhc0NsYXNzOiBqcUxpdGVIYXNDbGFzcyxcblxuICBjc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IGNhbWVsQ2FzZShuYW1lKTtcblxuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICBlbGVtZW50LnN0eWxlW25hbWVdID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnN0eWxlW25hbWVdO1xuICAgIH1cbiAgfSxcblxuICBhdHRyOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgaWYgKG5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0FUVFJJQlVURSB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGxvd2VyY2FzZWROYW1lID0gbG93ZXJjYXNlKG5hbWUpO1xuICAgIGlmIChCT09MRUFOX0FUVFJbbG93ZXJjYXNlZE5hbWVdKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICBpZiAoISF2YWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnRbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIGxvd2VyY2FzZWROYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50W25hbWVdID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobG93ZXJjYXNlZE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKGVsZW1lbnRbbmFtZV0gfHxcbiAgICAgICAgICAgICAgICAgKGVsZW1lbnQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0obmFtZSkgfHwgbm9vcCkuc3BlY2lmaWVkKVxuICAgICAgICAgICAgICAgPyBsb3dlcmNhc2VkTmFtZVxuICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSkge1xuICAgICAgLy8gdGhlIGV4dHJhIGFyZ3VtZW50IFwiMlwiIGlzIHRvIGdldCB0aGUgcmlnaHQgdGhpbmcgZm9yIGEuaHJlZiBpbiBJRSwgc2VlIGpRdWVyeSBjb2RlXG4gICAgICAvLyBzb21lIGVsZW1lbnRzIChlLmcuIERvY3VtZW50KSBkb24ndCBoYXZlIGdldCBhdHRyaWJ1dGUsIHNvIHJldHVybiB1bmRlZmluZWRcbiAgICAgIHZhciByZXQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lLCAyKTtcbiAgICAgIC8vIG5vcm1hbGl6ZSBub24tZXhpc3RpbmcgYXR0cmlidXRlcyB0byB1bmRlZmluZWQgKGFzIGpRdWVyeSlcbiAgICAgIHJldHVybiByZXQgPT09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XG4gICAgfVxuICB9LFxuXG4gIHByb3A6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGVsZW1lbnRbbmFtZV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW1lbnRbbmFtZV07XG4gICAgfVxuICB9LFxuXG4gIHRleHQ6IChmdW5jdGlvbigpIHtcbiAgICBnZXRUZXh0LiRkdiA9ICcnO1xuICAgIHJldHVybiBnZXRUZXh0O1xuXG4gICAgZnVuY3Rpb24gZ2V0VGV4dChlbGVtZW50LCB2YWx1ZSkge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xuICAgICAgICByZXR1cm4gKG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQpID8gZWxlbWVudC50ZXh0Q29udGVudCA6ICcnO1xuICAgICAgfVxuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgIH1cbiAgfSkoKSxcblxuICB2YWw6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgaWYgKGVsZW1lbnQubXVsdGlwbGUgJiYgbm9kZU5hbWVfKGVsZW1lbnQpID09PSAnc2VsZWN0Jykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvckVhY2goZWxlbWVudC5vcHRpb25zLCBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChvcHRpb24udmFsdWUgfHwgb3B0aW9uLnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQubGVuZ3RoID09PSAwID8gbnVsbCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gIH0sXG5cbiAgaHRtbDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5pbm5lckhUTUw7XG4gICAgfVxuICAgIGpxTGl0ZURlYWxvYyhlbGVtZW50LCB0cnVlKTtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xuICB9LFxuXG4gIGVtcHR5OiBqcUxpdGVFbXB0eVxufSwgZnVuY3Rpb24oZm4sIG5hbWUpIHtcbiAgLyoqXG4gICAqIFByb3BlcnRpZXM6IHdyaXRlcyByZXR1cm4gc2VsZWN0aW9uLCByZWFkcyByZXR1cm4gZmlyc3QgdmFsdWVcbiAgICovXG4gIEpRTGl0ZS5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbihhcmcxLCBhcmcyKSB7XG4gICAgdmFyIGksIGtleTtcbiAgICB2YXIgbm9kZUNvdW50ID0gdGhpcy5sZW5ndGg7XG5cbiAgICAvLyBqcUxpdGVIYXNDbGFzcyBoYXMgb25seSB0d28gYXJndW1lbnRzLCBidXQgaXMgYSBnZXR0ZXItb25seSBmbiwgc28gd2UgbmVlZCB0byBzcGVjaWFsLWNhc2UgaXRcbiAgICAvLyBpbiBhIHdheSB0aGF0IHN1cnZpdmVzIG1pbmlmaWNhdGlvbi5cbiAgICAvLyBqcUxpdGVFbXB0eSB0YWtlcyBubyBhcmd1bWVudHMgYnV0IGlzIGEgc2V0dGVyLlxuICAgIGlmIChmbiAhPT0ganFMaXRlRW1wdHkgJiZcbiAgICAgICAgKGlzVW5kZWZpbmVkKChmbi5sZW5ndGggPT0gMiAmJiAoZm4gIT09IGpxTGl0ZUhhc0NsYXNzICYmIGZuICE9PSBqcUxpdGVDb250cm9sbGVyKSkgPyBhcmcxIDogYXJnMikpKSB7XG4gICAgICBpZiAoaXNPYmplY3QoYXJnMSkpIHtcblxuICAgICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgYnV0IHRoZSBvYmplY3QgcHJvcGVydGllcyBhcmUgdGhlIGtleS92YWx1ZXNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGZuID09PSBqcUxpdGVEYXRhKSB7XG4gICAgICAgICAgICAvLyBkYXRhKCkgdGFrZXMgdGhlIHdob2xlIG9iamVjdCBpbiBqUXVlcnlcbiAgICAgICAgICAgIGZuKHRoaXNbaV0sIGFyZzEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBhcmcxKSB7XG4gICAgICAgICAgICAgIGZuKHRoaXNbaV0sIGtleSwgYXJnMVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIHNlbGYgZm9yIGNoYWluaW5nXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gd2UgYXJlIGEgcmVhZCwgc28gcmVhZCB0aGUgZmlyc3QgY2hpbGQuXG4gICAgICAgIC8vIFRPRE86IGRvIHdlIHN0aWxsIG5lZWQgdGhpcz9cbiAgICAgICAgdmFyIHZhbHVlID0gZm4uJGR2O1xuICAgICAgICAvLyBPbmx5IGlmIHdlIGhhdmUgJGR2IGRvIHdlIGl0ZXJhdGUgb3ZlciBhbGwsIG90aGVyd2lzZSBpdCBpcyBqdXN0IHRoZSBmaXJzdCBlbGVtZW50LlxuICAgICAgICB2YXIgamogPSAoaXNVbmRlZmluZWQodmFsdWUpKSA/IE1hdGgubWluKG5vZGVDb3VudCwgMSkgOiBub2RlQ291bnQ7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgamo7IGorKykge1xuICAgICAgICAgIHZhciBub2RlVmFsdWUgPSBmbih0aGlzW2pdLCBhcmcxLCBhcmcyKTtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUgKyBub2RlVmFsdWUgOiBub2RlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgc28gYXBwbHkgdG8gYWxsIGNoaWxkcmVuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcbiAgICAgICAgZm4odGhpc1tpXSwgYXJnMSwgYXJnMik7XG4gICAgICB9XG4gICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVFdmVudEhhbmRsZXIoZWxlbWVudCwgZXZlbnRzKSB7XG4gIHZhciBldmVudEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCwgdHlwZSkge1xuICAgIC8vIGpRdWVyeSBzcGVjaWZpYyBhcGlcbiAgICBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBldmVudC5kZWZhdWx0UHJldmVudGVkO1xuICAgIH07XG5cbiAgICB2YXIgZXZlbnRGbnMgPSBldmVudHNbdHlwZSB8fCBldmVudC50eXBlXTtcbiAgICB2YXIgZXZlbnRGbnNMZW5ndGggPSBldmVudEZucyA/IGV2ZW50Rm5zLmxlbmd0aCA6IDA7XG5cbiAgICBpZiAoIWV2ZW50Rm5zTGVuZ3RoKSByZXR1cm47XG5cbiAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSkge1xuICAgICAgdmFyIG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgb3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24uY2FsbChldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPT09IHRydWU7XG4gICAgfTtcblxuICAgIC8vIFNvbWUgZXZlbnRzIGhhdmUgc3BlY2lhbCBoYW5kbGVycyB0aGF0IHdyYXAgdGhlIHJlYWwgaGFuZGxlclxuICAgIHZhciBoYW5kbGVyV3JhcHBlciA9IGV2ZW50Rm5zLnNwZWNpYWxIYW5kbGVyV3JhcHBlciB8fCBkZWZhdWx0SGFuZGxlcldyYXBwZXI7XG5cbiAgICAvLyBDb3B5IGV2ZW50IGhhbmRsZXJzIGluIGNhc2UgZXZlbnQgaGFuZGxlcnMgYXJyYXkgaXMgbW9kaWZpZWQgZHVyaW5nIGV4ZWN1dGlvbi5cbiAgICBpZiAoKGV2ZW50Rm5zTGVuZ3RoID4gMSkpIHtcbiAgICAgIGV2ZW50Rm5zID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRGbnNMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgIGhhbmRsZXJXcmFwcGVyKGVsZW1lbnQsIGV2ZW50LCBldmVudEZuc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrIGZvciBhbmd1bGFyTW9ja3MvY2xlYXJEYXRhQ2FjaGUgdGhhdCBtYWtlcyBpdCBwb3NzaWJsZSB0byBkZXJlZ2lzdGVyIGFsbFxuICAvLyAgICAgICBldmVudHMgb24gYGVsZW1lbnRgXG4gIGV2ZW50SGFuZGxlci5lbGVtID0gZWxlbWVudDtcbiAgcmV0dXJuIGV2ZW50SGFuZGxlcjtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEhhbmRsZXJXcmFwcGVyKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7XG4gIGhhbmRsZXIuY2FsbChlbGVtZW50LCBldmVudCk7XG59XG5cbmZ1bmN0aW9uIHNwZWNpYWxNb3VzZUhhbmRsZXJXcmFwcGVyKHRhcmdldCwgZXZlbnQsIGhhbmRsZXIpIHtcbiAgLy8gUmVmZXIgdG8galF1ZXJ5J3MgaW1wbGVtZW50YXRpb24gb2YgbW91c2VlbnRlciAmIG1vdXNlbGVhdmVcbiAgLy8gUmVhZCBhYm91dCBtb3VzZWVudGVyIGFuZCBtb3VzZWxlYXZlOlxuICAvLyBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19tb3VzZS5odG1sI2xpbms4XG4gIHZhciByZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgLy8gRm9yIG1vdXNlbnRlci9sZWF2ZSBjYWxsIHRoZSBoYW5kbGVyIGlmIHJlbGF0ZWQgaXMgb3V0c2lkZSB0aGUgdGFyZ2V0LlxuICAvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuICBpZiAoIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhanFMaXRlQ29udGFpbnMuY2FsbCh0YXJnZXQsIHJlbGF0ZWQpKSkge1xuICAgIGhhbmRsZXIuY2FsbCh0YXJnZXQsIGV2ZW50KTtcbiAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgdHJhdmVyc2FsLlxuLy8gVGhlc2UgZnVuY3Rpb25zIGNoYWluIHJlc3VsdHMgaW50byBhIHNpbmdsZVxuLy8gc2VsZWN0b3IuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZvckVhY2goe1xuICByZW1vdmVEYXRhOiBqcUxpdGVSZW1vdmVEYXRhLFxuXG4gIG9uOiBmdW5jdGlvbiBqcUxpdGVPbihlbGVtZW50LCB0eXBlLCBmbiwgdW5zdXBwb3J0ZWQpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSkgdGhyb3cganFMaXRlTWluRXJyKCdvbmFyZ3MnLCAnanFMaXRlI29uKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBvciBgZXZlbnREYXRhYCBwYXJhbWV0ZXJzJyk7XG5cbiAgICAvLyBEbyBub3QgYWRkIGV2ZW50IGhhbmRsZXJzIHRvIG5vbi1lbGVtZW50cyBiZWNhdXNlIHRoZXkgd2lsbCBub3QgYmUgY2xlYW5lZCB1cC5cbiAgICBpZiAoIWpxTGl0ZUFjY2VwdHNEYXRhKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCB0cnVlKTtcbiAgICB2YXIgZXZlbnRzID0gZXhwYW5kb1N0b3JlLmV2ZW50cztcbiAgICB2YXIgaGFuZGxlID0gZXhwYW5kb1N0b3JlLmhhbmRsZTtcblxuICAgIGlmICghaGFuZGxlKSB7XG4gICAgICBoYW5kbGUgPSBleHBhbmRvU3RvcmUuaGFuZGxlID0gY3JlYXRlRXZlbnRIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cyk7XG4gICAgfVxuXG4gICAgLy8gaHR0cDovL2pzcGVyZi5jb20vc3RyaW5nLWluZGV4b2YtdnMtc3BsaXRcbiAgICB2YXIgdHlwZXMgPSB0eXBlLmluZGV4T2YoJyAnKSA+PSAwID8gdHlwZS5zcGxpdCgnICcpIDogW3R5cGVdO1xuICAgIHZhciBpID0gdHlwZXMubGVuZ3RoO1xuXG4gICAgdmFyIGFkZEhhbmRsZXIgPSBmdW5jdGlvbih0eXBlLCBzcGVjaWFsSGFuZGxlcldyYXBwZXIsIG5vRXZlbnRMaXN0ZW5lcikge1xuICAgICAgdmFyIGV2ZW50Rm5zID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAoIWV2ZW50Rm5zKSB7XG4gICAgICAgIGV2ZW50Rm5zID0gZXZlbnRzW3R5cGVdID0gW107XG4gICAgICAgIGV2ZW50Rm5zLnNwZWNpYWxIYW5kbGVyV3JhcHBlciA9IHNwZWNpYWxIYW5kbGVyV3JhcHBlcjtcbiAgICAgICAgaWYgKHR5cGUgIT09ICckZGVzdHJveScgJiYgIW5vRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGV2ZW50Rm5zLnB1c2goZm4pO1xuICAgIH07XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB0eXBlID0gdHlwZXNbaV07XG4gICAgICBpZiAoTU9VU0VfRVZFTlRfTUFQW3R5cGVdKSB7XG4gICAgICAgIGFkZEhhbmRsZXIoTU9VU0VfRVZFTlRfTUFQW3R5cGVdLCBzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlcik7XG4gICAgICAgIGFkZEhhbmRsZXIodHlwZSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZEhhbmRsZXIodHlwZSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIG9mZjoganFMaXRlT2ZmLFxuXG4gIG9uZTogZnVuY3Rpb24oZWxlbWVudCwgdHlwZSwgZm4pIHtcbiAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuXG4gICAgLy9hZGQgdGhlIGxpc3RlbmVyIHR3aWNlIHNvIHRoYXQgd2hlbiBpdCBpcyBjYWxsZWRcbiAgICAvL3lvdSBjYW4gcmVtb3ZlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBhbmQgc3RpbGwgYmVcbiAgICAvL2FibGUgdG8gY2FsbCBlbGVtZW50Lm9mZihldiwgZm4pIG5vcm1hbGx5XG4gICAgZWxlbWVudC5vbih0eXBlLCBmdW5jdGlvbiBvbkZuKCkge1xuICAgICAgZWxlbWVudC5vZmYodHlwZSwgZm4pO1xuICAgICAgZWxlbWVudC5vZmYodHlwZSwgb25Gbik7XG4gICAgfSk7XG4gICAgZWxlbWVudC5vbih0eXBlLCBmbik7XG4gIH0sXG5cbiAgcmVwbGFjZVdpdGg6IGZ1bmN0aW9uKGVsZW1lbnQsIHJlcGxhY2VOb2RlKSB7XG4gICAgdmFyIGluZGV4LCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAganFMaXRlRGVhbG9jKGVsZW1lbnQpO1xuICAgIGZvckVhY2gobmV3IEpRTGl0ZShyZXBsYWNlTm9kZSksIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmIChpbmRleCkge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGluZGV4Lm5leHRTaWJsaW5nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobm9kZSwgZWxlbWVudCk7XG4gICAgICB9XG4gICAgICBpbmRleCA9IG5vZGU7XG4gICAgfSk7XG4gIH0sXG5cbiAgY2hpbGRyZW46IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICBmb3JFYWNoKGVsZW1lbnQuY2hpbGROb2RlcywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9LFxuXG4gIGNvbnRlbnRzOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY29udGVudERvY3VtZW50IHx8IGVsZW1lbnQuY2hpbGROb2RlcyB8fCBbXTtcbiAgfSxcblxuICBhcHBlbmQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHtcbiAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xuICAgIGlmIChub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0VMRU1FTlQgJiYgbm9kZVR5cGUgIT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCkgcmV0dXJuO1xuXG4gICAgbm9kZSA9IG5ldyBKUUxpdGUobm9kZSk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBub2RlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICB9XG4gIH0sXG5cbiAgcHJlcGVuZDogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkge1xuICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgdmFyIGluZGV4ID0gZWxlbWVudC5maXJzdENoaWxkO1xuICAgICAgZm9yRWFjaChuZXcgSlFMaXRlKG5vZGUpLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZShjaGlsZCwgaW5kZXgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHdyYXA6IGZ1bmN0aW9uKGVsZW1lbnQsIHdyYXBOb2RlKSB7XG4gICAgd3JhcE5vZGUgPSBqcUxpdGUod3JhcE5vZGUpLmVxKDApLmNsb25lKClbMF07XG4gICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKHdyYXBOb2RlLCBlbGVtZW50KTtcbiAgICB9XG4gICAgd3JhcE5vZGUuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH0sXG5cbiAgcmVtb3ZlOiBqcUxpdGVSZW1vdmUsXG5cbiAgZGV0YWNoOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAganFMaXRlUmVtb3ZlKGVsZW1lbnQsIHRydWUpO1xuICB9LFxuXG4gIGFmdGVyOiBmdW5jdGlvbihlbGVtZW50LCBuZXdFbGVtZW50KSB7XG4gICAgdmFyIGluZGV4ID0gZWxlbWVudCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIG5ld0VsZW1lbnQgPSBuZXcgSlFMaXRlKG5ld0VsZW1lbnQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmV3RWxlbWVudC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgbm9kZSA9IG5ld0VsZW1lbnRbaV07XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGluZGV4Lm5leHRTaWJsaW5nKTtcbiAgICAgIGluZGV4ID0gbm9kZTtcbiAgICB9XG4gIH0sXG5cbiAgYWRkQ2xhc3M6IGpxTGl0ZUFkZENsYXNzLFxuICByZW1vdmVDbGFzczoganFMaXRlUmVtb3ZlQ2xhc3MsXG5cbiAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yLCBjb25kaXRpb24pIHtcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGZvckVhY2goc2VsZWN0b3Iuc3BsaXQoJyAnKSwgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciBjbGFzc0NvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGNsYXNzQ29uZGl0aW9uKSkge1xuICAgICAgICAgIGNsYXNzQ29uZGl0aW9uID0gIWpxTGl0ZUhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgKGNsYXNzQ29uZGl0aW9uID8ganFMaXRlQWRkQ2xhc3MgOiBqcUxpdGVSZW1vdmVDbGFzcykoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBwYXJlbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQgPyBwYXJlbnQgOiBudWxsO1xuICB9LFxuXG4gIG5leHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gIH0sXG5cbiAgZmluZDogZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICBpZiAoZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoc2VsZWN0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9LFxuXG4gIGNsb25lOiBqcUxpdGVDbG9uZSxcblxuICB0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGV4dHJhUGFyYW1ldGVycykge1xuXG4gICAgdmFyIGR1bW15RXZlbnQsIGV2ZW50Rm5zQ29weSwgaGFuZGxlckFyZ3M7XG4gICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50LnR5cGUgfHwgZXZlbnQ7XG4gICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KTtcbiAgICB2YXIgZXZlbnRzID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5ldmVudHM7XG4gICAgdmFyIGV2ZW50Rm5zID0gZXZlbnRzICYmIGV2ZW50c1tldmVudE5hbWVdO1xuXG4gICAgaWYgKGV2ZW50Rm5zKSB7XG4gICAgICAvLyBDcmVhdGUgYSBkdW1teSBldmVudCB0byBwYXNzIHRvIHRoZSBoYW5kbGVyc1xuICAgICAgZHVtbXlFdmVudCA9IHtcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9LFxuICAgICAgICBpc0RlZmF1bHRQcmV2ZW50ZWQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0UHJldmVudGVkID09PSB0cnVlOyB9LFxuICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkgeyB0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7IH0sXG4gICAgICAgIGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID09PSB0cnVlOyB9LFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IG5vb3AsXG4gICAgICAgIHR5cGU6IGV2ZW50TmFtZSxcbiAgICAgICAgdGFyZ2V0OiBlbGVtZW50XG4gICAgICB9O1xuXG4gICAgICAvLyBJZiBhIGN1c3RvbSBldmVudCB3YXMgcHJvdmlkZWQgdGhlbiBleHRlbmQgb3VyIGR1bW15IGV2ZW50IHdpdGggaXRcbiAgICAgIGlmIChldmVudC50eXBlKSB7XG4gICAgICAgIGR1bW15RXZlbnQgPSBleHRlbmQoZHVtbXlFdmVudCwgZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb3B5IGV2ZW50IGhhbmRsZXJzIGluIGNhc2UgZXZlbnQgaGFuZGxlcnMgYXJyYXkgaXMgbW9kaWZpZWQgZHVyaW5nIGV4ZWN1dGlvbi5cbiAgICAgIGV2ZW50Rm5zQ29weSA9IHNoYWxsb3dDb3B5KGV2ZW50Rm5zKTtcbiAgICAgIGhhbmRsZXJBcmdzID0gZXh0cmFQYXJhbWV0ZXJzID8gW2R1bW15RXZlbnRdLmNvbmNhdChleHRyYVBhcmFtZXRlcnMpIDogW2R1bW15RXZlbnRdO1xuXG4gICAgICBmb3JFYWNoKGV2ZW50Rm5zQ29weSwgZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgaWYgKCFkdW1teUV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgICBmbi5hcHBseShlbGVtZW50LCBoYW5kbGVyQXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSwgZnVuY3Rpb24oZm4sIG5hbWUpIHtcbiAgLyoqXG4gICAqIGNoYWluaW5nIGZ1bmN0aW9uc1xuICAgKi9cbiAgSlFMaXRlLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICB2YXIgdmFsdWU7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBmbih0aGlzW2ldLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAvLyBhbnkgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIHZhbHVlIG5lZWRzIHRvIGJlIHdyYXBwZWRcbiAgICAgICAgICB2YWx1ZSA9IGpxTGl0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpxTGl0ZUFkZE5vZGVzKHZhbHVlLCBmbih0aGlzW2ldLCBhcmcxLCBhcmcyLCBhcmczKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiB0aGlzO1xuICB9O1xuXG4gIC8vIGJpbmQgbGVnYWN5IGJpbmQvdW5iaW5kIHRvIG9uL29mZlxuICBKUUxpdGUucHJvdG90eXBlLmJpbmQgPSBKUUxpdGUucHJvdG90eXBlLm9uO1xuICBKUUxpdGUucHJvdG90eXBlLnVuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub2ZmO1xufSk7XG5cblxuLy8gUHJvdmlkZXIgZm9yIHByaXZhdGUgJCRqcUxpdGUgc2VydmljZVxuZnVuY3Rpb24gJCRqcUxpdGVQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gJCRqcUxpdGUoKSB7XG4gICAgcmV0dXJuIGV4dGVuZChKUUxpdGUsIHtcbiAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbihub2RlLCBjbGFzc2VzKSB7XG4gICAgICAgIGlmIChub2RlLmF0dHIpIG5vZGUgPSBub2RlWzBdO1xuICAgICAgICByZXR1cm4ganFMaXRlSGFzQ2xhc3Mobm9kZSwgY2xhc3Nlcyk7XG4gICAgICB9LFxuICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKG5vZGUsIGNsYXNzZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuYXR0cikgbm9kZSA9IG5vZGVbMF07XG4gICAgICAgIHJldHVybiBqcUxpdGVBZGRDbGFzcyhub2RlLCBjbGFzc2VzKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24obm9kZSwgY2xhc3Nlcykge1xuICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcbiAgICAgICAgcmV0dXJuIGpxTGl0ZVJlbW92ZUNsYXNzKG5vZGUsIGNsYXNzZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGEgaGFzaCBvZiBhbiAnb2JqJy5cbiAqIEhhc2ggb2YgYTpcbiAqICBzdHJpbmcgaXMgc3RyaW5nXG4gKiAgbnVtYmVyIGlzIG51bWJlciBhcyBzdHJpbmdcbiAqICBvYmplY3QgaXMgZWl0aGVyIHJlc3VsdCBvZiBjYWxsaW5nICQkaGFzaEtleSBmdW5jdGlvbiBvbiB0aGUgb2JqZWN0IG9yIHVuaXF1ZWx5IGdlbmVyYXRlZCBpZCxcbiAqICAgICAgICAgdGhhdCBpcyBhbHNvIGFzc2lnbmVkIHRvIHRoZSAkJGhhc2hLZXkgcHJvcGVydHkgb2YgdGhlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gb2JqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBoYXNoIHN0cmluZyBzdWNoIHRoYXQgdGhlIHNhbWUgaW5wdXQgd2lsbCBoYXZlIHRoZSBzYW1lIGhhc2ggc3RyaW5nLlxuICogICAgICAgICBUaGUgcmVzdWx0aW5nIHN0cmluZyBrZXkgaXMgaW4gJ3R5cGU6aGFzaEtleScgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBoYXNoS2V5KG9iaiwgbmV4dFVpZEZuKSB7XG4gIHZhciBrZXkgPSBvYmogJiYgb2JqLiQkaGFzaEtleTtcblxuICBpZiAoa2V5KSB7XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGtleSA9IG9iai4kJGhhc2hLZXkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIHZhciBvYmpUeXBlID0gdHlwZW9mIG9iajtcbiAgaWYgKG9ialR5cGUgPT0gJ2Z1bmN0aW9uJyB8fCAob2JqVHlwZSA9PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpKSB7XG4gICAga2V5ID0gb2JqLiQkaGFzaEtleSA9IG9ialR5cGUgKyAnOicgKyAobmV4dFVpZEZuIHx8IG5leHRVaWQpKCk7XG4gIH0gZWxzZSB7XG4gICAga2V5ID0gb2JqVHlwZSArICc6JyArIG9iajtcbiAgfVxuXG4gIHJldHVybiBrZXk7XG59XG5cbi8qKlxuICogSGFzaE1hcCB3aGljaCBjYW4gdXNlIG9iamVjdHMgYXMga2V5c1xuICovXG5mdW5jdGlvbiBIYXNoTWFwKGFycmF5LCBpc29sYXRlZFVpZCkge1xuICBpZiAoaXNvbGF0ZWRVaWQpIHtcbiAgICB2YXIgdWlkID0gMDtcbiAgICB0aGlzLm5leHRVaWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiArK3VpZDtcbiAgICB9O1xuICB9XG4gIGZvckVhY2goYXJyYXksIHRoaXMucHV0LCB0aGlzKTtcbn1cbkhhc2hNYXAucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogU3RvcmUga2V5IHZhbHVlIHBhaXJcbiAgICogQHBhcmFtIGtleSBrZXkgdG8gc3RvcmUgY2FuIGJlIGFueSB0eXBlXG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSB0byBzdG9yZSBjYW4gYmUgYW55IHR5cGVcbiAgICovXG4gIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHRoaXNbaGFzaEtleShrZXksIHRoaXMubmV4dFVpZCldID0gdmFsdWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSBrZXlcbiAgICogQHJldHVybnMge09iamVjdH0gdGhlIHZhbHVlIGZvciB0aGUga2V5XG4gICAqL1xuICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiB0aGlzW2hhc2hLZXkoa2V5LCB0aGlzLm5leHRVaWQpXTtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBrZXkvdmFsdWUgcGFpclxuICAgKiBAcGFyYW0ga2V5XG4gICAqL1xuICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXNba2V5ID0gaGFzaEtleShrZXksIHRoaXMubmV4dFVpZCldO1xuICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuXG52YXIgJCRIYXNoTWFwUHJvdmlkZXIgPSBbZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFtmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSGFzaE1hcDtcbiAgfV07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBuYW1lIGFuZ3VsYXIuaW5qZWN0b3JcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGFuIGluamVjdG9yIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGZvciByZXRyaWV2aW5nIHNlcnZpY2VzIGFzIHdlbGwgYXMgZm9yXG4gKiBkZXBlbmRlbmN5IGluamVjdGlvbiAoc2VlIHtAbGluayBndWlkZS9kaSBkZXBlbmRlbmN5IGluamVjdGlvbn0pLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IG1vZHVsZXMgQSBsaXN0IG9mIG1vZHVsZSBmdW5jdGlvbnMgb3IgdGhlaXIgYWxpYXNlcy4gU2VlXG4gKiAgICAge0BsaW5rIGFuZ3VsYXIubW9kdWxlfS4gVGhlIGBuZ2AgbW9kdWxlIG11c3QgYmUgZXhwbGljaXRseSBhZGRlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtzdHJpY3REaT1mYWxzZV0gV2hldGhlciB0aGUgaW5qZWN0b3Igc2hvdWxkIGJlIGluIHN0cmljdCBtb2RlLCB3aGljaFxuICogICAgIGRpc2FsbG93cyBhcmd1bWVudCBuYW1lIGFubm90YXRpb24gaW5mZXJlbmNlLlxuICogQHJldHVybnMge2luamVjdG9yfSBJbmplY3RvciBvYmplY3QuIFNlZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogVHlwaWNhbCB1c2FnZVxuICogYGBganNcbiAqICAgLy8gY3JlYXRlIGFuIGluamVjdG9yXG4gKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKFsnbmcnXSk7XG4gKlxuICogICAvLyB1c2UgdGhlIGluamVjdG9yIHRvIGtpY2sgb2ZmIHlvdXIgYXBwbGljYXRpb25cbiAqICAgLy8gdXNlIHRoZSB0eXBlIGluZmVyZW5jZSB0byBhdXRvIGluamVjdCBhcmd1bWVudHMsIG9yIHVzZSBpbXBsaWNpdCBpbmplY3Rpb25cbiAqICAgJGluamVjdG9yLmludm9rZShmdW5jdGlvbigkcm9vdFNjb3BlLCAkY29tcGlsZSwgJGRvY3VtZW50KSB7XG4gKiAgICAgJGNvbXBpbGUoJGRvY3VtZW50KSgkcm9vdFNjb3BlKTtcbiAqICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiBTb21ldGltZXMgeW91IHdhbnQgdG8gZ2V0IGFjY2VzcyB0byB0aGUgaW5qZWN0b3Igb2YgYSBjdXJyZW50bHkgcnVubmluZyBBbmd1bGFyIGFwcFxuICogZnJvbSBvdXRzaWRlIEFuZ3VsYXIuIFBlcmhhcHMsIHlvdSB3YW50IHRvIGluamVjdCBhbmQgY29tcGlsZSBzb21lIG1hcmt1cCBhZnRlciB0aGVcbiAqIGFwcGxpY2F0aW9uIGhhcyBiZWVuIGJvb3RzdHJhcHBlZC4gWW91IGNhbiBkbyB0aGlzIHVzaW5nIHRoZSBleHRyYSBgaW5qZWN0b3IoKWAgYWRkZWRcbiAqIHRvIEpRdWVyeS9qcUxpdGUgZWxlbWVudHMuIFNlZSB7QGxpbmsgYW5ndWxhci5lbGVtZW50fS5cbiAqXG4gKiAqVGhpcyBpcyBmYWlybHkgcmFyZSBidXQgY291bGQgYmUgdGhlIGNhc2UgaWYgYSB0aGlyZCBwYXJ0eSBsaWJyYXJ5IGlzIGluamVjdGluZyB0aGVcbiAqIG1hcmt1cC4qXG4gKlxuICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlIGEgbmV3IGJsb2NrIG9mIEhUTUwgY29udGFpbmluZyBhIGBuZy1jb250cm9sbGVyYFxuICogZGlyZWN0aXZlIGlzIGFkZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50IGJvZHkgYnkgSlF1ZXJ5LiBXZSB0aGVuIGNvbXBpbGUgYW5kIGxpbmtcbiAqIGl0IGludG8gdGhlIGN1cnJlbnQgQW5ndWxhckpTIHNjb3BlLlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgJGRpdiA9ICQoJzxkaXYgbmctY29udHJvbGxlcj1cIk15Q3RybFwiPnt7Y29udGVudC5sYWJlbH19PC9kaXY+Jyk7XG4gKiAkKGRvY3VtZW50LmJvZHkpLmFwcGVuZCgkZGl2KTtcbiAqXG4gKiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmluamVjdG9yKCkuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gKiAgIHZhciBzY29wZSA9IGFuZ3VsYXIuZWxlbWVudCgkZGl2KS5zY29wZSgpO1xuICogICAkY29tcGlsZSgkZGl2KShzY29wZSk7XG4gKiB9KTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBhdXRvXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBJbXBsaWNpdCBtb2R1bGUgd2hpY2ggZ2V0cyBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIGVhY2gge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXG4gKi9cblxudmFyIEZOX0FSR1MgPSAvXlteXFwoXSpcXChcXHMqKFteXFwpXSopXFwpL207XG52YXIgRk5fQVJHX1NQTElUID0gLywvO1xudmFyIEZOX0FSRyA9IC9eXFxzKihfPykoXFxTKz8pXFwxXFxzKiQvO1xudmFyIFNUUklQX0NPTU1FTlRTID0gLygoXFwvXFwvLiokKXwoXFwvXFwqW1xcc1xcU10qP1xcKlxcLykpL21nO1xudmFyICRpbmplY3Rvck1pbkVyciA9IG1pbkVycignJGluamVjdG9yJyk7XG5cbmZ1bmN0aW9uIGFub25Gbihmbikge1xuICAvLyBGb3IgYW5vbnltb3VzIGZ1bmN0aW9ucywgc2hvd2luZyBhdCB0aGUgdmVyeSBsZWFzdCB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIGNhbiBoZWxwIGluXG4gIC8vIGRlYnVnZ2luZy5cbiAgdmFyIGZuVGV4dCA9IGZuLnRvU3RyaW5nKCkucmVwbGFjZShTVFJJUF9DT01NRU5UUywgJycpLFxuICAgICAgYXJncyA9IGZuVGV4dC5tYXRjaChGTl9BUkdTKTtcbiAgaWYgKGFyZ3MpIHtcbiAgICByZXR1cm4gJ2Z1bmN0aW9uKCcgKyAoYXJnc1sxXSB8fCAnJykucmVwbGFjZSgvW1xcc1xcclxcbl0rLywgJyAnKSArICcpJztcbiAgfVxuICByZXR1cm4gJ2ZuJztcbn1cblxuZnVuY3Rpb24gYW5ub3RhdGUoZm4sIHN0cmljdERpLCBuYW1lKSB7XG4gIHZhciAkaW5qZWN0LFxuICAgICAgZm5UZXh0LFxuICAgICAgYXJnRGVjbCxcbiAgICAgIGxhc3Q7XG5cbiAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICghKCRpbmplY3QgPSBmbi4kaW5qZWN0KSkge1xuICAgICAgJGluamVjdCA9IFtdO1xuICAgICAgaWYgKGZuLmxlbmd0aCkge1xuICAgICAgICBpZiAoc3RyaWN0RGkpIHtcbiAgICAgICAgICBpZiAoIWlzU3RyaW5nKG5hbWUpIHx8ICFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gZm4ubmFtZSB8fCBhbm9uRm4oZm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3N0cmljdGRpJyxcbiAgICAgICAgICAgICd7MH0gaXMgbm90IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gYW5kIGNhbm5vdCBiZSBpbnZva2VkIGluIHN0cmljdCBtb2RlJywgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm5UZXh0ID0gZm4udG9TdHJpbmcoKS5yZXBsYWNlKFNUUklQX0NPTU1FTlRTLCAnJyk7XG4gICAgICAgIGFyZ0RlY2wgPSBmblRleHQubWF0Y2goRk5fQVJHUyk7XG4gICAgICAgIGZvckVhY2goYXJnRGVjbFsxXS5zcGxpdChGTl9BUkdfU1BMSVQpLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICBhcmcucmVwbGFjZShGTl9BUkcsIGZ1bmN0aW9uKGFsbCwgdW5kZXJzY29yZSwgbmFtZSkge1xuICAgICAgICAgICAgJGluamVjdC5wdXNoKG5hbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGZuLiRpbmplY3QgPSAkaW5qZWN0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0FycmF5KGZuKSkge1xuICAgIGxhc3QgPSBmbi5sZW5ndGggLSAxO1xuICAgIGFzc2VydEFyZ0ZuKGZuW2xhc3RdLCAnZm4nKTtcbiAgICAkaW5qZWN0ID0gZm4uc2xpY2UoMCwgbGFzdCk7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0QXJnRm4oZm4sICdmbicsIHRydWUpO1xuICB9XG4gIHJldHVybiAkaW5qZWN0O1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGluamVjdG9yXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYCRpbmplY3RvcmAgaXMgdXNlZCB0byByZXRyaWV2ZSBvYmplY3QgaW5zdGFuY2VzIGFzIGRlZmluZWQgYnlcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlIHByb3ZpZGVyfSwgaW5zdGFudGlhdGUgdHlwZXMsIGludm9rZSBtZXRob2RzLFxuICogYW5kIGxvYWQgbW9kdWxlcy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGFsd2F5cyBob2xkcyB0cnVlOlxuICpcbiAqIGBgYGpzXG4gKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKCk7XG4gKiAgIGV4cGVjdCgkaW5qZWN0b3IuZ2V0KCckaW5qZWN0b3InKSkudG9CZSgkaW5qZWN0b3IpO1xuICogICBleHBlY3QoJGluamVjdG9yLmludm9rZShmdW5jdGlvbigkaW5qZWN0b3IpIHtcbiAqICAgICByZXR1cm4gJGluamVjdG9yO1xuICogICB9KSkudG9CZSgkaW5qZWN0b3IpO1xuICogYGBgXG4gKlxuICogIyBJbmplY3Rpb24gRnVuY3Rpb24gQW5ub3RhdGlvblxuICpcbiAqIEphdmFTY3JpcHQgZG9lcyBub3QgaGF2ZSBhbm5vdGF0aW9ucywgYW5kIGFubm90YXRpb25zIGFyZSBuZWVkZWQgZm9yIGRlcGVuZGVuY3kgaW5qZWN0aW9uLiBUaGVcbiAqIGZvbGxvd2luZyBhcmUgYWxsIHZhbGlkIHdheXMgb2YgYW5ub3RhdGluZyBmdW5jdGlvbiB3aXRoIGluamVjdGlvbiBhcmd1bWVudHMgYW5kIGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIGluZmVycmVkIChvbmx5IHdvcmtzIGlmIGNvZGUgbm90IG1pbmlmaWVkL29iZnVzY2F0ZWQpXG4gKiAgICRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oc2VydmljZUEpe30pO1xuICpcbiAqICAgLy8gYW5ub3RhdGVkXG4gKiAgIGZ1bmN0aW9uIGV4cGxpY2l0KHNlcnZpY2VBKSB7fTtcbiAqICAgZXhwbGljaXQuJGluamVjdCA9IFsnc2VydmljZUEnXTtcbiAqICAgJGluamVjdG9yLmludm9rZShleHBsaWNpdCk7XG4gKlxuICogICAvLyBpbmxpbmVcbiAqICAgJGluamVjdG9yLmludm9rZShbJ3NlcnZpY2VBJywgZnVuY3Rpb24oc2VydmljZUEpe31dKTtcbiAqIGBgYFxuICpcbiAqICMjIEluZmVyZW5jZVxuICpcbiAqIEluIEphdmFTY3JpcHQgY2FsbGluZyBgdG9TdHJpbmcoKWAgb24gYSBmdW5jdGlvbiByZXR1cm5zIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uLiBUaGUgZGVmaW5pdGlvblxuICogY2FuIHRoZW4gYmUgcGFyc2VkIGFuZCB0aGUgZnVuY3Rpb24gYXJndW1lbnRzIGNhbiBiZSBleHRyYWN0ZWQuIFRoaXMgbWV0aG9kIG9mIGRpc2NvdmVyaW5nXG4gKiBhbm5vdGF0aW9ucyBpcyBkaXNhbGxvd2VkIHdoZW4gdGhlIGluamVjdG9yIGlzIGluIHN0cmljdCBtb2RlLlxuICogKk5PVEU6KiBUaGlzIGRvZXMgbm90IHdvcmsgd2l0aCBtaW5pZmljYXRpb24sIGFuZCBvYmZ1c2NhdGlvbiB0b29scyBzaW5jZSB0aGVzZSB0b29scyBjaGFuZ2UgdGhlXG4gKiBhcmd1bWVudCBuYW1lcy5cbiAqXG4gKiAjIyBgJGluamVjdGAgQW5ub3RhdGlvblxuICogQnkgYWRkaW5nIGFuIGAkaW5qZWN0YCBwcm9wZXJ0eSBvbnRvIGEgZnVuY3Rpb24gdGhlIGluamVjdGlvbiBwYXJhbWV0ZXJzIGNhbiBiZSBzcGVjaWZpZWQuXG4gKlxuICogIyMgSW5saW5lXG4gKiBBcyBhbiBhcnJheSBvZiBpbmplY3Rpb24gbmFtZXMsIHdoZXJlIHRoZSBsYXN0IGl0ZW0gaW4gdGhlIGFycmF5IGlzIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2dldFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIGFuIGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZSB0byByZXRyaWV2ZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gY2FsbGVyIEFuIG9wdGlvbmFsIHN0cmluZyB0byBwcm92aWRlIHRoZSBvcmlnaW4gb2YgdGhlIGZ1bmN0aW9uIGNhbGwgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICogQHJldHVybiB7Kn0gVGhlIGluc3RhbmNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2ludm9rZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSW52b2tlIHRoZSBtZXRob2QgYW5kIHN1cHBseSB0aGUgbWV0aG9kIGFyZ3VtZW50cyBmcm9tIHRoZSBgJGluamVjdG9yYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBmbiBUaGUgaW5qZWN0YWJsZSBmdW5jdGlvbiB0byBpbnZva2UuIEZ1bmN0aW9uIHBhcmFtZXRlcnMgYXJlXG4gKiAgIGluamVjdGVkIGFjY29yZGluZyB0byB0aGUge0BsaW5rIGd1aWRlL2RpICRpbmplY3QgQW5ub3RhdGlvbn0gcnVsZXMuXG4gKiBAcGFyYW0ge09iamVjdD19IHNlbGYgVGhlIGB0aGlzYCBmb3IgdGhlIGludm9rZWQgbWV0aG9kLlxuICogQHBhcmFtIHtPYmplY3Q9fSBsb2NhbHMgT3B0aW9uYWwgb2JqZWN0LiBJZiBwcmVzZXQgdGhlbiBhbnkgYXJndW1lbnQgbmFtZXMgYXJlIHJlYWQgZnJvbSB0aGlzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxuICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSByZXR1cm5lZCBieSB0aGUgaW52b2tlZCBgZm5gIGZ1bmN0aW9uLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2hhc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQWxsb3dzIHRoZSB1c2VyIHRvIHF1ZXJ5IGlmIHRoZSBwYXJ0aWN1bGFyIHNlcnZpY2UgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGluamVjdG9yIGhhcyBnaXZlbiBzZXJ2aWNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2luc3RhbnRpYXRlXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBKUyB0eXBlLiBUaGUgbWV0aG9kIHRha2VzIGEgY29uc3RydWN0b3IgZnVuY3Rpb24sIGludm9rZXMgdGhlIG5ld1xuICogb3BlcmF0b3IsIGFuZCBzdXBwbGllcyBhbGwgb2YgdGhlIGFyZ3VtZW50cyB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24gYXMgc3BlY2lmaWVkIGJ5IHRoZVxuICogY29uc3RydWN0b3IgYW5ub3RhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBUeXBlIEFubm90YXRlZCBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gbG9jYWxzIE9wdGlvbmFsIG9iamVjdC4gSWYgcHJlc2V0IHRoZW4gYW55IGFyZ3VtZW50IG5hbWVzIGFyZSByZWFkIGZyb20gdGhpc1xuICogb2JqZWN0IGZpcnN0LCBiZWZvcmUgdGhlIGAkaW5qZWN0b3JgIGlzIGNvbnN1bHRlZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IG5ldyBpbnN0YW5jZSBvZiBgVHlwZWAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjYW5ub3RhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybnMgYW4gYXJyYXkgb2Ygc2VydmljZSBuYW1lcyB3aGljaCB0aGUgZnVuY3Rpb24gaXMgcmVxdWVzdGluZyBmb3IgaW5qZWN0aW9uLiBUaGlzIEFQSSBpc1xuICogdXNlZCBieSB0aGUgaW5qZWN0b3IgdG8gZGV0ZXJtaW5lIHdoaWNoIHNlcnZpY2VzIG5lZWQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgZnVuY3Rpb24gd2hlbiB0aGVcbiAqIGZ1bmN0aW9uIGlzIGludm9rZWQuIFRoZXJlIGFyZSB0aHJlZSB3YXlzIGluIHdoaWNoIHRoZSBmdW5jdGlvbiBjYW4gYmUgYW5ub3RhdGVkIHdpdGggdGhlIG5lZWRlZFxuICogZGVwZW5kZW5jaWVzLlxuICpcbiAqICMgQXJndW1lbnQgbmFtZXNcbiAqXG4gKiBUaGUgc2ltcGxlc3QgZm9ybSBpcyB0byBleHRyYWN0IHRoZSBkZXBlbmRlbmNpZXMgZnJvbSB0aGUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbi4gVGhpcyBpcyBkb25lXG4gKiBieSBjb252ZXJ0aW5nIHRoZSBmdW5jdGlvbiBpbnRvIGEgc3RyaW5nIHVzaW5nIGB0b1N0cmluZygpYCBtZXRob2QgYW5kIGV4dHJhY3RpbmcgdGhlIGFyZ3VtZW50XG4gKiBuYW1lcy5cbiAqIGBgYGpzXG4gKiAgIC8vIEdpdmVuXG4gKiAgIGZ1bmN0aW9uIE15Q29udHJvbGxlcigkc2NvcGUsICRyb3V0ZSkge1xuICogICAgIC8vIC4uLlxuICogICB9XG4gKlxuICogICAvLyBUaGVuXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShNeUNvbnRyb2xsZXIpKS50b0VxdWFsKFsnJHNjb3BlJywgJyRyb3V0ZSddKTtcbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gZGlzYWxsb3cgdGhpcyBtZXRob2QgYnkgdXNpbmcgc3RyaWN0IGluamVjdGlvbiBtb2RlLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgd2l0aCBjb2RlIG1pbmlmaWNhdGlvbiAvIG9iZnVzY2F0aW9uLiBGb3IgdGhpcyByZWFzb24gdGhlIGZvbGxvd2luZ1xuICogYW5ub3RhdGlvbiBzdHJhdGVnaWVzIGFyZSBzdXBwb3J0ZWQuXG4gKlxuICogIyBUaGUgYCRpbmplY3RgIHByb3BlcnR5XG4gKlxuICogSWYgYSBmdW5jdGlvbiBoYXMgYW4gYCRpbmplY3RgIHByb3BlcnR5IGFuZCBpdHMgdmFsdWUgaXMgYW4gYXJyYXkgb2Ygc3RyaW5ncywgdGhlbiB0aGUgc3RyaW5nc1xuICogcmVwcmVzZW50IG5hbWVzIG9mIHNlcnZpY2VzIHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZ1bmN0aW9uLlxuICogYGBganNcbiAqICAgLy8gR2l2ZW5cbiAqICAgdmFyIE15Q29udHJvbGxlciA9IGZ1bmN0aW9uKG9iZnVzY2F0ZWRTY29wZSwgb2JmdXNjYXRlZFJvdXRlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH1cbiAqICAgLy8gRGVmaW5lIGZ1bmN0aW9uIGRlcGVuZGVuY2llc1xuICogICBNeUNvbnRyb2xsZXJbJyRpbmplY3QnXSA9IFsnJHNjb3BlJywgJyRyb3V0ZSddO1xuICpcbiAqICAgLy8gVGhlblxuICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoTXlDb250cm9sbGVyKSkudG9FcXVhbChbJyRzY29wZScsICckcm91dGUnXSk7XG4gKiBgYGBcbiAqXG4gKiAjIFRoZSBhcnJheSBub3RhdGlvblxuICpcbiAqIEl0IGlzIG9mdGVuIGRlc2lyYWJsZSB0byBpbmxpbmUgSW5qZWN0ZWQgZnVuY3Rpb25zIGFuZCB0aGF0J3Mgd2hlbiBzZXR0aW5nIHRoZSBgJGluamVjdGAgcHJvcGVydHlcbiAqIGlzIHZlcnkgaW5jb252ZW5pZW50LiBJbiB0aGVzZSBzaXR1YXRpb25zIHVzaW5nIHRoZSBhcnJheSBub3RhdGlvbiB0byBzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgaW5cbiAqIGEgd2F5IHRoYXQgc3Vydml2ZXMgbWluaWZpY2F0aW9uIGlzIGEgYmV0dGVyIGNob2ljZTpcbiAqXG4gKiBgYGBqc1xuICogICAvLyBXZSB3aXNoIHRvIHdyaXRlIHRoaXMgKG5vdCBtaW5pZmljYXRpb24gLyBvYmZ1c2NhdGlvbiBzYWZlKVxuICogICBpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJGNvbXBpbGUsICRyb290U2NvcGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfSk7XG4gKlxuICogICAvLyBXZSBhcmUgZm9yY2VkIHRvIHdyaXRlIGJyZWFrIGlubGluaW5nXG4gKiAgIHZhciB0bXBGbiA9IGZ1bmN0aW9uKG9iZnVzY2F0ZWRDb21waWxlLCBvYmZ1c2NhdGVkUm9vdFNjb3BlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH07XG4gKiAgIHRtcEZuLiRpbmplY3QgPSBbJyRjb21waWxlJywgJyRyb290U2NvcGUnXTtcbiAqICAgaW5qZWN0b3IuaW52b2tlKHRtcEZuKTtcbiAqXG4gKiAgIC8vIFRvIGJldHRlciBzdXBwb3J0IGlubGluZSBmdW5jdGlvbiB0aGUgaW5saW5lIGFubm90YXRpb24gaXMgc3VwcG9ydGVkXG4gKiAgIGluamVjdG9yLmludm9rZShbJyRjb21waWxlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbihvYmZDb21waWxlLCBvYmZSb290U2NvcGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfV0pO1xuICpcbiAqICAgLy8gVGhlcmVmb3JlXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShcbiAqICAgICAgWyckY29tcGlsZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24ob2JmdXNfJGNvbXBpbGUsIG9iZnVzXyRyb290U2NvcGUpIHt9XSlcbiAqICAgICkudG9FcXVhbChbJyRjb21waWxlJywgJyRyb290U2NvcGUnXSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBmbiBGdW5jdGlvbiBmb3Igd2hpY2ggZGVwZW5kZW50IHNlcnZpY2UgbmFtZXMgbmVlZCB0b1xuICogYmUgcmV0cmlldmVkIGFzIGRlc2NyaWJlZCBhYm92ZS5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbc3RyaWN0RGk9ZmFsc2VdIERpc2FsbG93IGFyZ3VtZW50IG5hbWUgYW5ub3RhdGlvbiBpbmZlcmVuY2UuXG4gKlxuICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fSBUaGUgbmFtZXMgb2YgdGhlIHNlcnZpY2VzIHdoaWNoIHRoZSBmdW5jdGlvbiByZXF1aXJlcy5cbiAqL1xuXG5cblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkcHJvdmlkZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSB7QGxpbmsgYXV0by4kcHJvdmlkZSAkcHJvdmlkZX0gc2VydmljZSBoYXMgYSBudW1iZXIgb2YgbWV0aG9kcyBmb3IgcmVnaXN0ZXJpbmcgY29tcG9uZW50c1xuICogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIE1hbnkgb2YgdGhlc2UgZnVuY3Rpb25zIGFyZSBhbHNvIGV4cG9zZWQgb25cbiAqIHtAbGluayBhbmd1bGFyLk1vZHVsZX0uXG4gKlxuICogQW4gQW5ndWxhciAqKnNlcnZpY2UqKiBpcyBhIHNpbmdsZXRvbiBvYmplY3QgY3JlYXRlZCBieSBhICoqc2VydmljZSBmYWN0b3J5KiouICBUaGVzZSAqKnNlcnZpY2VcbiAqIGZhY3RvcmllcyoqIGFyZSBmdW5jdGlvbnMgd2hpY2gsIGluIHR1cm4sIGFyZSBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIHByb3ZpZGVyKiouXG4gKiBUaGUgKipzZXJ2aWNlIHByb3ZpZGVycyoqIGFyZSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMuIFdoZW4gaW5zdGFudGlhdGVkIHRoZXkgbXVzdCBjb250YWluIGFcbiAqIHByb3BlcnR5IGNhbGxlZCBgJGdldGAsIHdoaWNoIGhvbGRzIHRoZSAqKnNlcnZpY2UgZmFjdG9yeSoqIGZ1bmN0aW9uLlxuICpcbiAqIFdoZW4geW91IHJlcXVlc3QgYSBzZXJ2aWNlLCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0gaXMgcmVzcG9uc2libGUgZm9yIGZpbmRpbmcgdGhlXG4gKiBjb3JyZWN0ICoqc2VydmljZSBwcm92aWRlcioqLCBpbnN0YW50aWF0aW5nIGl0IGFuZCB0aGVuIGNhbGxpbmcgaXRzIGAkZ2V0YCAqKnNlcnZpY2UgZmFjdG9yeSoqXG4gKiBmdW5jdGlvbiB0byBnZXQgdGhlIGluc3RhbmNlIG9mIHRoZSAqKnNlcnZpY2UqKi5cbiAqXG4gKiBPZnRlbiBzZXJ2aWNlcyBoYXZlIG5vIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBhbmQgdGhlcmUgaXMgbm8gbmVlZCB0byBhZGQgbWV0aG9kcyB0byB0aGUgc2VydmljZVxuICogcHJvdmlkZXIuICBUaGUgcHJvdmlkZXIgd2lsbCBiZSBubyBtb3JlIHRoYW4gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB3aXRoIGEgYCRnZXRgIHByb3BlcnR5LiBGb3JcbiAqIHRoZXNlIGNhc2VzIHRoZSB7QGxpbmsgYXV0by4kcHJvdmlkZSAkcHJvdmlkZX0gc2VydmljZSBoYXMgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyB0byByZWdpc3RlclxuICogc2VydmljZXMgd2l0aG91dCBzcGVjaWZ5aW5nIGEgcHJvdmlkZXIuXG4gKlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciBwcm92aWRlcihwcm92aWRlcil9IC0gcmVnaXN0ZXJzIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogd2l0aCB0aGVcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfVxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNjb25zdGFudCBjb25zdGFudChvYmopfSAtIHJlZ2lzdGVycyBhIHZhbHVlL29iamVjdCB0aGF0IGNhbiBiZSBhY2Nlc3NlZCBieVxuICogICAgIHByb3ZpZGVycyBhbmQgc2VydmljZXMuXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3ZhbHVlIHZhbHVlKG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIG9ubHkgYmUgYWNjZXNzZWQgYnlcbiAqICAgICBzZXJ2aWNlcywgbm90IHByb3ZpZGVycy5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSBmYWN0b3J5KGZuKX0gLSByZWdpc3RlcnMgYSBzZXJ2aWNlICoqZmFjdG9yeSBmdW5jdGlvbioqLCBgZm5gLFxuICogICAgIHRoYXQgd2lsbCBiZSB3cmFwcGVkIGluIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogb2JqZWN0LCB3aG9zZSBgJGdldGAgcHJvcGVydHkgd2lsbCBjb250YWluIHRoZVxuICogICAgIGdpdmVuIGZhY3RvcnkgZnVuY3Rpb24uXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2Ugc2VydmljZShjbGFzcyl9IC0gcmVnaXN0ZXJzIGEgKipjb25zdHJ1Y3RvciBmdW5jdGlvbioqLCBgY2xhc3NgXG4gKiAgICAgdGhhdCB3aWxsIGJlIHdyYXBwZWQgaW4gYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiBvYmplY3QsIHdob3NlIGAkZ2V0YCBwcm9wZXJ0eSB3aWxsIGluc3RhbnRpYXRlXG4gKiAgICAgIGEgbmV3IG9iamVjdCB1c2luZyB0aGUgZ2l2ZW4gY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gKlxuICogU2VlIHRoZSBpbmRpdmlkdWFsIG1ldGhvZHMgZm9yIG1vcmUgaW5mb3JtYXRpb24gYW5kIGV4YW1wbGVzLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjcHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKipwcm92aWRlciBmdW5jdGlvbioqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBQcm92aWRlciBmdW5jdGlvbnNcbiAqIGFyZSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMsIHdob3NlIGluc3RhbmNlcyBhcmUgcmVzcG9uc2libGUgZm9yIFwicHJvdmlkaW5nXCIgYSBmYWN0b3J5IGZvciBhXG4gKiBzZXJ2aWNlLlxuICpcbiAqIFNlcnZpY2UgcHJvdmlkZXIgbmFtZXMgc3RhcnQgd2l0aCB0aGUgbmFtZSBvZiB0aGUgc2VydmljZSB0aGV5IHByb3ZpZGUgZm9sbG93ZWQgYnkgYFByb3ZpZGVyYC5cbiAqIEZvciBleGFtcGxlLCB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSBoYXMgYSBwcm92aWRlciBjYWxsZWRcbiAqIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfS5cbiAqXG4gKiBTZXJ2aWNlIHByb3ZpZGVyIG9iamVjdHMgY2FuIGhhdmUgYWRkaXRpb25hbCBtZXRob2RzIHdoaWNoIGFsbG93IGNvbmZpZ3VyYXRpb24gb2YgdGhlIHByb3ZpZGVyXG4gKiBhbmQgaXRzIHNlcnZpY2UuIEltcG9ydGFudGx5LCB5b3UgY2FuIGNvbmZpZ3VyZSB3aGF0IGtpbmQgb2Ygc2VydmljZSBpcyBjcmVhdGVkIGJ5IHRoZSBgJGdldGBcbiAqIG1ldGhvZCwgb3IgaG93IHRoYXQgc2VydmljZSB3aWxsIGFjdC4gRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyICRsb2dQcm92aWRlcn0gaGFzIGFcbiAqIG1ldGhvZCB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZCBkZWJ1Z0VuYWJsZWR9XG4gKiB3aGljaCBsZXRzIHlvdSBzcGVjaWZ5IHdoZXRoZXIgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2Ugd2lsbCBsb2cgZGVidWcgbWVzc2FnZXMgdG8gdGhlXG4gKiBjb25zb2xlIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuIE5PVEU6IHRoZSBwcm92aWRlciB3aWxsIGJlIGF2YWlsYWJsZSB1bmRlciBgbmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnUHJvdmlkZXInYCBrZXkuXG4gKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oKSl9IHByb3ZpZGVyIElmIHRoZSBwcm92aWRlciBpczpcbiAqXG4gKiAgIC0gYE9iamVjdGA6IHRoZW4gaXQgc2hvdWxkIGhhdmUgYSBgJGdldGAgbWV0aG9kLiBUaGUgYCRnZXRgIG1ldGhvZCB3aWxsIGJlIGludm9rZWQgdXNpbmdcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlICRpbmplY3Rvci5pbnZva2UoKX0gd2hlbiBhbiBpbnN0YW5jZSBuZWVkcyB0byBiZSBjcmVhdGVkLlxuICogICAtIGBDb25zdHJ1Y3RvcmA6IGEgbmV3IGluc3RhbmNlIG9mIHRoZSBwcm92aWRlciB3aWxsIGJlIGNyZWF0ZWQgdXNpbmdcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW5zdGFudGlhdGUgJGluamVjdG9yLmluc3RhbnRpYXRlKCl9LCB0aGVuIHRyZWF0ZWQgYXMgYG9iamVjdGAuXG4gKlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxuXG4gKiBAZXhhbXBsZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY3JlYXRlIGEgc2ltcGxlIGV2ZW50IHRyYWNraW5nIHNlcnZpY2UgYW5kIHJlZ2lzdGVyIGl0IHVzaW5nXG4gKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciAkcHJvdmlkZS5wcm92aWRlcigpfS5cbiAqXG4gKiBgYGBqc1xuICogIC8vIERlZmluZSB0aGUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXG4gKiAgZnVuY3Rpb24gRXZlbnRUcmFja2VyUHJvdmlkZXIoKSB7XG4gKiAgICB2YXIgdHJhY2tpbmdVcmwgPSAnL3RyYWNrJztcbiAqXG4gKiAgICAvLyBBIHByb3ZpZGVyIG1ldGhvZCBmb3IgY29uZmlndXJpbmcgd2hlcmUgdGhlIHRyYWNrZWQgZXZlbnRzIHNob3VsZCBiZWVuIHNhdmVkXG4gKiAgICB0aGlzLnNldFRyYWNraW5nVXJsID0gZnVuY3Rpb24odXJsKSB7XG4gKiAgICAgIHRyYWNraW5nVXJsID0gdXJsO1xuICogICAgfTtcbiAqXG4gKiAgICAvLyBUaGUgc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uXG4gKiAgICB0aGlzLiRnZXQgPSBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAqICAgICAgdmFyIHRyYWNrZWRFdmVudHMgPSB7fTtcbiAqICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAvLyBDYWxsIHRoaXMgdG8gdHJhY2sgYW4gZXZlbnRcbiAqICAgICAgICBldmVudDogZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgICAgICAgIHZhciBjb3VudCA9IHRyYWNrZWRFdmVudHNbZXZlbnRdIHx8IDA7XG4gKiAgICAgICAgICBjb3VudCArPSAxO1xuICogICAgICAgICAgdHJhY2tlZEV2ZW50c1tldmVudF0gPSBjb3VudDtcbiAqICAgICAgICAgIHJldHVybiBjb3VudDtcbiAqICAgICAgICB9LFxuICogICAgICAgIC8vIENhbGwgdGhpcyB0byBzYXZlIHRoZSB0cmFja2VkIGV2ZW50cyB0byB0aGUgdHJhY2tpbmdVcmxcbiAqICAgICAgICBzYXZlOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICRodHRwLnBvc3QodHJhY2tpbmdVcmwsIHRyYWNrZWRFdmVudHMpO1xuICogICAgICAgIH1cbiAqICAgICAgfTtcbiAqICAgIH1dO1xuICogIH1cbiAqXG4gKiAgZGVzY3JpYmUoJ2V2ZW50VHJhY2tlcicsIGZ1bmN0aW9uKCkge1xuICogICAgdmFyIHBvc3RTcHk7XG4gKlxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oJHByb3ZpZGUpIHtcbiAqICAgICAgLy8gUmVnaXN0ZXIgdGhlIGV2ZW50VHJhY2tlciBwcm92aWRlclxuICogICAgICAkcHJvdmlkZS5wcm92aWRlcignZXZlbnRUcmFja2VyJywgRXZlbnRUcmFja2VyUHJvdmlkZXIpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGJlZm9yZUVhY2gobW9kdWxlKGZ1bmN0aW9uKGV2ZW50VHJhY2tlclByb3ZpZGVyKSB7XG4gKiAgICAgIC8vIENvbmZpZ3VyZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcbiAqICAgICAgZXZlbnRUcmFja2VyUHJvdmlkZXIuc2V0VHJhY2tpbmdVcmwoJy9jdXN0b20tdHJhY2snKTtcbiAqICAgIH0pKTtcbiAqXG4gKiAgICBpdCgndHJhY2tzIGV2ZW50cycsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIpIHtcbiAqICAgICAgZXhwZWN0KGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKSkudG9FcXVhbCgxKTtcbiAqICAgICAgZXhwZWN0KGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKSkudG9FcXVhbCgyKTtcbiAqICAgIH0pKTtcbiAqXG4gKiAgICBpdCgnc2F2ZXMgdG8gdGhlIHRyYWNraW5nIHVybCcsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIsICRodHRwKSB7XG4gKiAgICAgIHBvc3RTcHkgPSBzcHlPbigkaHR0cCwgJ3Bvc3QnKTtcbiAqICAgICAgZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpO1xuICogICAgICBldmVudFRyYWNrZXIuc2F2ZSgpO1xuICogICAgICBleHBlY3QocG9zdFNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzBdKS5ub3QudG9FcXVhbCgnL3RyYWNrJyk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLnRvRXF1YWwoJy9jdXN0b20tdHJhY2snKTtcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1sxXSkudG9FcXVhbCh7ICdsb2dpbic6IDEgfSk7XG4gKiAgICB9KSk7XG4gKiAgfSk7XG4gKiBgYGBcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI2ZhY3RvcnlcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKipzZXJ2aWNlIGZhY3RvcnkqKiwgd2hpY2ggd2lsbCBiZSBjYWxsZWQgdG8gcmV0dXJuIHRoZSBzZXJ2aWNlIGluc3RhbmNlLlxuICogVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cyBwcm92aWRlciBjb25zaXN0cyBvZiBvbmx5IGEgYCRnZXRgIHByb3BlcnR5LFxuICogd2hpY2ggaXMgdGhlIGdpdmVuIHNlcnZpY2UgZmFjdG9yeSBmdW5jdGlvbi5cbiAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeShnZXRGbil9IGlmIHlvdSBkbyBub3QgbmVlZCB0b1xuICogY29uZmlndXJlIHlvdXIgc2VydmljZSBpbiBhIHByb3ZpZGVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59ICRnZXRGbiBUaGUgaW5qZWN0YWJsZSAkZ2V0Rm4gZm9yIHRoZSBpbnN0YW5jZSBjcmVhdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgIEludGVybmFsbHkgdGhpcyBpcyBhIHNob3J0IGhhbmQgZm9yIGAkcHJvdmlkZS5wcm92aWRlcihuYW1lLCB7JGdldDogJGdldEZufSlgLlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5mYWN0b3J5KCdwaW5nJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG4gKiAgICAgcmV0dXJuIGZ1bmN0aW9uIHBpbmcoKSB7XG4gKiAgICAgICByZXR1cm4gJGh0dHAuc2VuZCgnL3BpbmcnKTtcbiAqICAgICB9O1xuICogICB9XSk7XG4gKiBgYGBcbiAqIFlvdSB3b3VsZCB0aGVuIGluamVjdCBhbmQgdXNlIHRoaXMgc2VydmljZSBsaWtlIHRoaXM6XG4gKiBgYGBqc1xuICogICBzb21lTW9kdWxlLmNvbnRyb2xsZXIoJ0N0cmwnLCBbJ3BpbmcnLCBmdW5jdGlvbihwaW5nKSB7XG4gKiAgICAgcGluZygpO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjc2VydmljZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgY29uc3RydWN0b3IqKiwgd2hpY2ggd2lsbCBiZSBpbnZva2VkIHdpdGggYG5ld2AgdG8gY3JlYXRlIHRoZSBzZXJ2aWNlXG4gKiBpbnN0YW5jZS5cbiAqIFRoaXMgaXMgc2hvcnQgZm9yIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB3aGVyZSBpdHMgcHJvdmlkZXIncyBgJGdldGAgcHJvcGVydHkgaXMgdGhlIHNlcnZpY2VcbiAqIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGluc3RhbnRpYXRlIHRoZSBzZXJ2aWNlIGluc3RhbmNlLlxuICpcbiAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZShjbGFzcyl9IGlmIHlvdSBkZWZpbmUgeW91ciBzZXJ2aWNlXG4gKiBhcyBhIHR5cGUvY2xhc3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gY29uc3RydWN0b3IgQW4gaW5qZWN0YWJsZSBjbGFzcyAoY29uc3RydWN0b3IgZnVuY3Rpb24pXG4gKiAgICAgdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB1c2luZ1xuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0uXG4gKiBgYGBqc1xuICogICB2YXIgUGluZyA9IGZ1bmN0aW9uKCRodHRwKSB7XG4gKiAgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuICogICB9O1xuICpcbiAqICAgUGluZy4kaW5qZWN0ID0gWyckaHR0cCddO1xuICpcbiAqICAgUGluZy5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgnL3BpbmcnKTtcbiAqICAgfTtcbiAqICAgJHByb3ZpZGUuc2VydmljZSgncGluZycsIFBpbmcpO1xuICogYGBgXG4gKiBZb3Ugd291bGQgdGhlbiBpbmplY3QgYW5kIHVzZSB0aGlzIHNlcnZpY2UgbGlrZSB0aGlzOlxuICogYGBganNcbiAqICAgc29tZU1vZHVsZS5jb250cm9sbGVyKCdDdHJsJywgWydwaW5nJywgZnVuY3Rpb24ocGluZykge1xuICogICAgIHBpbmcuc2VuZCgpO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjdmFsdWVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKip2YWx1ZSBzZXJ2aWNlKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIHN1Y2ggYXMgYSBzdHJpbmcsIGFcbiAqIG51bWJlciwgYW4gYXJyYXksIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLiAgVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0c1xuICogcHJvdmlkZXIncyBgJGdldGAgcHJvcGVydHkgaXMgYSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgdGFrZXMgbm8gYXJndW1lbnRzIGFuZCByZXR1cm5zIHRoZSAqKnZhbHVlXG4gKiBzZXJ2aWNlKiouXG4gKlxuICogVmFsdWUgc2VydmljZXMgYXJlIHNpbWlsYXIgdG8gY29uc3RhbnQgc2VydmljZXMsIGV4Y2VwdCB0aGF0IHRoZXkgY2Fubm90IGJlIGluamVjdGVkIGludG8gYVxuICogbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYnV0IHRoZXkgY2FuIGJlIG92ZXJyaWRkZW4gYnlcbiAqIGFuIEFuZ3VsYXJcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciBkZWNvcmF0b3J9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlLlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGFyZSBzb21lIGV4YW1wbGVzIG9mIGNyZWF0aW5nIHZhbHVlIHNlcnZpY2VzLlxuICogYGBganNcbiAqICAgJHByb3ZpZGUudmFsdWUoJ0FETUlOX1VTRVInLCAnYWRtaW4nKTtcbiAqXG4gKiAgICRwcm92aWRlLnZhbHVlKCdSb2xlTG9va3VwJywgeyBhZG1pbjogMCwgd3JpdGVyOiAxLCByZWFkZXI6IDIgfSk7XG4gKlxuICogICAkcHJvdmlkZS52YWx1ZSgnaGFsZk9mJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICByZXR1cm4gdmFsdWUgLyAyO1xuICogICB9KTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNjb25zdGFudFxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKmNvbnN0YW50IHNlcnZpY2UqKiwgc3VjaCBhcyBhIHN0cmluZywgYSBudW1iZXIsIGFuIGFycmF5LCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbixcbiAqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBVbmxpa2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWV9IGl0IGNhbiBiZVxuICogaW5qZWN0ZWQgaW50byBhIG1vZHVsZSBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIChzZWUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ30pIGFuZCBpdCBjYW5ub3RcbiAqIGJlIG92ZXJyaWRkZW4gYnkgYW4gQW5ndWxhciB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgY29uc3RhbnQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBjb25zdGFudCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBhIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgY29uc3RhbnRzOlxuICogYGBganNcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ1NIQVJEX0hFSUdIVCcsIDMwNik7XG4gKlxuICogICAkcHJvdmlkZS5jb25zdGFudCgnTVlfQ09MT1VSUycsIFsncmVkJywgJ2JsdWUnLCAnZ3JleSddKTtcbiAqXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdkb3VibGUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgIHJldHVybiB2YWx1ZSAqIDI7XG4gKiAgIH0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI2RlY29yYXRvclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgZGVjb3JhdG9yKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIEEgc2VydmljZSBkZWNvcmF0b3JcbiAqIGludGVyY2VwdHMgdGhlIGNyZWF0aW9uIG9mIGEgc2VydmljZSwgYWxsb3dpbmcgaXQgdG8gb3ZlcnJpZGUgb3IgbW9kaWZ5IHRoZSBiZWhhdmlvdXIgb2YgdGhlXG4gKiBzZXJ2aWNlLiBUaGUgb2JqZWN0IHJldHVybmVkIGJ5IHRoZSBkZWNvcmF0b3IgbWF5IGJlIHRoZSBvcmlnaW5hbCBzZXJ2aWNlLCBvciBhIG5ldyBzZXJ2aWNlXG4gKiBvYmplY3Qgd2hpY2ggcmVwbGFjZXMgb3Igd3JhcHMgYW5kIGRlbGVnYXRlcyB0byB0aGUgb3JpZ2luYWwgc2VydmljZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBkZWNvcmF0ZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGRlY29yYXRvciBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSBzZXJ2aWNlIG5lZWRzIHRvIGJlXG4gKiAgICBpbnN0YW50aWF0ZWQgYW5kIHNob3VsZCByZXR1cm4gdGhlIGRlY29yYXRlZCBzZXJ2aWNlIGluc3RhbmNlLiBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIHVzaW5nXG4gKiAgICB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3Rvci5pbnZva2V9IG1ldGhvZCBhbmQgaXMgdGhlcmVmb3JlIGZ1bGx5IGluamVjdGFibGUuXG4gKiAgICBMb2NhbCBpbmplY3Rpb24gYXJndW1lbnRzOlxuICpcbiAqICAgICogYCRkZWxlZ2F0ZWAgLSBUaGUgb3JpZ2luYWwgc2VydmljZSBpbnN0YW5jZSwgd2hpY2ggY2FuIGJlIG1vbmtleSBwYXRjaGVkLCBjb25maWd1cmVkLFxuICogICAgICBkZWNvcmF0ZWQgb3IgZGVsZWdhdGVkIHRvLlxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIHdlIGRlY29yYXRlIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIHRvIGNvbnZlcnQgd2FybmluZ3MgdG8gZXJyb3JzIGJ5IGludGVyY2VwdGluZ1xuICogY2FsbHMgdG8ge0BsaW5rIG5nLiRsb2cjZXJyb3IgJGxvZy53YXJuKCl9LlxuICogYGBganNcbiAqICAgJHByb3ZpZGUuZGVjb3JhdG9yKCckbG9nJywgWyckZGVsZWdhdGUnLCBmdW5jdGlvbigkZGVsZWdhdGUpIHtcbiAqICAgICAkZGVsZWdhdGUud2FybiA9ICRkZWxlZ2F0ZS5lcnJvcjtcbiAqICAgICByZXR1cm4gJGRlbGVnYXRlO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKG1vZHVsZXNUb0xvYWQsIHN0cmljdERpKSB7XG4gIHN0cmljdERpID0gKHN0cmljdERpID09PSB0cnVlKTtcbiAgdmFyIElOU1RBTlRJQVRJTkcgPSB7fSxcbiAgICAgIHByb3ZpZGVyU3VmZml4ID0gJ1Byb3ZpZGVyJyxcbiAgICAgIHBhdGggPSBbXSxcbiAgICAgIGxvYWRlZE1vZHVsZXMgPSBuZXcgSGFzaE1hcChbXSwgdHJ1ZSksXG4gICAgICBwcm92aWRlckNhY2hlID0ge1xuICAgICAgICAkcHJvdmlkZToge1xuICAgICAgICAgICAgcHJvdmlkZXI6IHN1cHBvcnRPYmplY3QocHJvdmlkZXIpLFxuICAgICAgICAgICAgZmFjdG9yeTogc3VwcG9ydE9iamVjdChmYWN0b3J5KSxcbiAgICAgICAgICAgIHNlcnZpY2U6IHN1cHBvcnRPYmplY3Qoc2VydmljZSksXG4gICAgICAgICAgICB2YWx1ZTogc3VwcG9ydE9iamVjdCh2YWx1ZSksXG4gICAgICAgICAgICBjb25zdGFudDogc3VwcG9ydE9iamVjdChjb25zdGFudCksXG4gICAgICAgICAgICBkZWNvcmF0b3I6IGRlY29yYXRvclxuICAgICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcm92aWRlckluamVjdG9yID0gKHByb3ZpZGVyQ2FjaGUuJGluamVjdG9yID1cbiAgICAgICAgICBjcmVhdGVJbnRlcm5hbEluamVjdG9yKHByb3ZpZGVyQ2FjaGUsIGZ1bmN0aW9uKHNlcnZpY2VOYW1lLCBjYWxsZXIpIHtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGNhbGxlcikpIHtcbiAgICAgICAgICAgICAgcGF0aC5wdXNoKGNhbGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3VucHInLCBcIlVua25vd24gcHJvdmlkZXI6IHswfVwiLCBwYXRoLmpvaW4oJyA8LSAnKSk7XG4gICAgICAgICAgfSkpLFxuICAgICAgaW5zdGFuY2VDYWNoZSA9IHt9LFxuICAgICAgaW5zdGFuY2VJbmplY3RvciA9IChpbnN0YW5jZUNhY2hlLiRpbmplY3RvciA9XG4gICAgICAgICAgY3JlYXRlSW50ZXJuYWxJbmplY3RvcihpbnN0YW5jZUNhY2hlLCBmdW5jdGlvbihzZXJ2aWNlTmFtZSwgY2FsbGVyKSB7XG4gICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChzZXJ2aWNlTmFtZSArIHByb3ZpZGVyU3VmZml4LCBjYWxsZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKHByb3ZpZGVyLiRnZXQsIHByb3ZpZGVyLCB1bmRlZmluZWQsIHNlcnZpY2VOYW1lKTtcbiAgICAgICAgICB9KSk7XG5cblxuICBmb3JFYWNoKGxvYWRNb2R1bGVzKG1vZHVsZXNUb0xvYWQpLCBmdW5jdGlvbihmbikgeyBpZiAoZm4pIGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKGZuKTsgfSk7XG5cbiAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3I7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vICRwcm92aWRlclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiBzdXBwb3J0T2JqZWN0KGRlbGVnYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdChrZXkpKSB7XG4gICAgICAgIGZvckVhY2goa2V5LCByZXZlcnNlUGFyYW1zKGRlbGVnYXRlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVsZWdhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb3ZpZGVyKG5hbWUsIHByb3ZpZGVyXykge1xuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdzZXJ2aWNlJyk7XG4gICAgaWYgKGlzRnVuY3Rpb24ocHJvdmlkZXJfKSB8fCBpc0FycmF5KHByb3ZpZGVyXykpIHtcbiAgICAgIHByb3ZpZGVyXyA9IHByb3ZpZGVySW5qZWN0b3IuaW5zdGFudGlhdGUocHJvdmlkZXJfKTtcbiAgICB9XG4gICAgaWYgKCFwcm92aWRlcl8uJGdldCkge1xuICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdwZ2V0JywgXCJQcm92aWRlciAnezB9JyBtdXN0IGRlZmluZSAkZ2V0IGZhY3RvcnkgbWV0aG9kLlwiLCBuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3ZpZGVyQ2FjaGVbbmFtZSArIHByb3ZpZGVyU3VmZml4XSA9IHByb3ZpZGVyXztcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLCBmYWN0b3J5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGVuZm9yY2VkUmV0dXJuVmFsdWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZmFjdG9yeSwgdGhpcyk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3VuZGVmJywgXCJQcm92aWRlciAnezB9JyBtdXN0IHJldHVybiBhIHZhbHVlIGZyb20gJGdldCBmYWN0b3J5IG1ldGhvZC5cIiwgbmFtZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmYWN0b3J5KG5hbWUsIGZhY3RvcnlGbiwgZW5mb3JjZSkge1xuICAgIHJldHVybiBwcm92aWRlcihuYW1lLCB7XG4gICAgICAkZ2V0OiBlbmZvcmNlICE9PSBmYWxzZSA/IGVuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLCBmYWN0b3J5Rm4pIDogZmFjdG9yeUZuXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXJ2aWNlKG5hbWUsIGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIGZhY3RvcnkobmFtZSwgWyckaW5qZWN0b3InLCBmdW5jdGlvbigkaW5qZWN0b3IpIHtcbiAgICAgIHJldHVybiAkaW5qZWN0b3IuaW5zdGFudGlhdGUoY29uc3RydWN0b3IpO1xuICAgIH1dKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZhbHVlKG5hbWUsIHZhbCkgeyByZXR1cm4gZmFjdG9yeShuYW1lLCB2YWx1ZUZuKHZhbCksIGZhbHNlKTsgfVxuXG4gIGZ1bmN0aW9uIGNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2NvbnN0YW50Jyk7XG4gICAgcHJvdmlkZXJDYWNoZVtuYW1lXSA9IHZhbHVlO1xuICAgIGluc3RhbmNlQ2FjaGVbbmFtZV0gPSB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29yYXRvcihzZXJ2aWNlTmFtZSwgZGVjb3JGbikge1xuICAgIHZhciBvcmlnUHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChzZXJ2aWNlTmFtZSArIHByb3ZpZGVyU3VmZml4KSxcbiAgICAgICAgb3JpZyRnZXQgPSBvcmlnUHJvdmlkZXIuJGdldDtcblxuICAgIG9yaWdQcm92aWRlci4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3JpZ0luc3RhbmNlID0gaW5zdGFuY2VJbmplY3Rvci5pbnZva2Uob3JpZyRnZXQsIG9yaWdQcm92aWRlcik7XG4gICAgICByZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZGVjb3JGbiwgbnVsbCwgeyRkZWxlZ2F0ZTogb3JpZ0luc3RhbmNlfSk7XG4gICAgfTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBNb2R1bGUgTG9hZGluZ1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gbG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCkge1xuICAgIGFzc2VydEFyZyhpc1VuZGVmaW5lZChtb2R1bGVzVG9Mb2FkKSB8fCBpc0FycmF5KG1vZHVsZXNUb0xvYWQpLCAnbW9kdWxlc1RvTG9hZCcsICdub3QgYW4gYXJyYXknKTtcbiAgICB2YXIgcnVuQmxvY2tzID0gW10sIG1vZHVsZUZuO1xuICAgIGZvckVhY2gobW9kdWxlc1RvTG9hZCwgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICBpZiAobG9hZGVkTW9kdWxlcy5nZXQobW9kdWxlKSkgcmV0dXJuO1xuICAgICAgbG9hZGVkTW9kdWxlcy5wdXQobW9kdWxlLCB0cnVlKTtcblxuICAgICAgZnVuY3Rpb24gcnVuSW52b2tlUXVldWUocXVldWUpIHtcbiAgICAgICAgdmFyIGksIGlpO1xuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHF1ZXVlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICB2YXIgaW52b2tlQXJncyA9IHF1ZXVlW2ldLFxuICAgICAgICAgICAgICBwcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KGludm9rZUFyZ3NbMF0pO1xuXG4gICAgICAgICAgcHJvdmlkZXJbaW52b2tlQXJnc1sxXV0uYXBwbHkocHJvdmlkZXIsIGludm9rZUFyZ3NbMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChpc1N0cmluZyhtb2R1bGUpKSB7XG4gICAgICAgICAgbW9kdWxlRm4gPSBhbmd1bGFyTW9kdWxlKG1vZHVsZSk7XG4gICAgICAgICAgcnVuQmxvY2tzID0gcnVuQmxvY2tzLmNvbmNhdChsb2FkTW9kdWxlcyhtb2R1bGVGbi5yZXF1aXJlcykpLmNvbmNhdChtb2R1bGVGbi5fcnVuQmxvY2tzKTtcbiAgICAgICAgICBydW5JbnZva2VRdWV1ZShtb2R1bGVGbi5faW52b2tlUXVldWUpO1xuICAgICAgICAgIHJ1bkludm9rZVF1ZXVlKG1vZHVsZUZuLl9jb25maWdCbG9ja3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24obW9kdWxlKSkge1xuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShtb2R1bGUpKSB7XG4gICAgICAgICAgICBydW5CbG9ja3MucHVzaChwcm92aWRlckluamVjdG9yLmludm9rZShtb2R1bGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NlcnRBcmdGbihtb2R1bGUsICdtb2R1bGUnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoaXNBcnJheShtb2R1bGUpKSB7XG4gICAgICAgICAgbW9kdWxlID0gbW9kdWxlW21vZHVsZS5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5tZXNzYWdlICYmIGUuc3RhY2sgJiYgZS5zdGFjay5pbmRleE9mKGUubWVzc2FnZSkgPT0gLTEpIHtcbiAgICAgICAgICAvLyBTYWZhcmkgJiBGRidzIHN0YWNrIHRyYWNlcyBkb24ndCBjb250YWluIGVycm9yLm1lc3NhZ2UgY29udGVudFxuICAgICAgICAgIC8vIHVubGlrZSB0aG9zZSBvZiBDaHJvbWUgYW5kIElFXG4gICAgICAgICAgLy8gU28gaWYgc3RhY2sgZG9lc24ndCBjb250YWluIG1lc3NhZ2UsIHdlIGNyZWF0ZSBhIG5ldyBzdHJpbmcgdGhhdCBjb250YWlucyBib3RoLlxuICAgICAgICAgIC8vIFNpbmNlIGVycm9yLnN0YWNrIGlzIHJlYWQtb25seSBpbiBTYWZhcmksIEknbSBvdmVycmlkaW5nIGUgYW5kIG5vdCBlLnN0YWNrIGhlcmUuXG4gICAgICAgICAgLyoganNoaW50IC1XMDIyICovXG4gICAgICAgICAgZSA9IGUubWVzc2FnZSArICdcXG4nICsgZS5zdGFjaztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ21vZHVsZXJyJywgXCJGYWlsZWQgdG8gaW5zdGFudGlhdGUgbW9kdWxlIHswfSBkdWUgdG86XFxuezF9XCIsXG4gICAgICAgICAgICAgICAgICBtb2R1bGUsIGUuc3RhY2sgfHwgZS5tZXNzYWdlIHx8IGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBydW5CbG9ja3M7XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gaW50ZXJuYWwgSW5qZWN0b3JcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxJbmplY3RvcihjYWNoZSwgZmFjdG9yeSkge1xuXG4gICAgZnVuY3Rpb24gZ2V0U2VydmljZShzZXJ2aWNlTmFtZSwgY2FsbGVyKSB7XG4gICAgICBpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoc2VydmljZU5hbWUpKSB7XG4gICAgICAgIGlmIChjYWNoZVtzZXJ2aWNlTmFtZV0gPT09IElOU1RBTlRJQVRJTkcpIHtcbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ2NkZXAnLCAnQ2lyY3VsYXIgZGVwZW5kZW5jeSBmb3VuZDogezB9JyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWUgKyAnIDwtICcgKyBwYXRoLmpvaW4oJyA8LSAnKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhY2hlW3NlcnZpY2VOYW1lXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGF0aC51bnNoaWZ0KHNlcnZpY2VOYW1lKTtcbiAgICAgICAgICBjYWNoZVtzZXJ2aWNlTmFtZV0gPSBJTlNUQU5USUFUSU5HO1xuICAgICAgICAgIHJldHVybiBjYWNoZVtzZXJ2aWNlTmFtZV0gPSBmYWN0b3J5KHNlcnZpY2VOYW1lLCBjYWxsZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7XG4gICAgICAgICAgICBkZWxldGUgY2FjaGVbc2VydmljZU5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52b2tlKGZuLCBzZWxmLCBsb2NhbHMsIHNlcnZpY2VOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIGxvY2FscyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc2VydmljZU5hbWUgPSBsb2NhbHM7XG4gICAgICAgIGxvY2FscyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBhcmdzID0gW10sXG4gICAgICAgICAgJGluamVjdCA9IGNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUoZm4sIHN0cmljdERpLCBzZXJ2aWNlTmFtZSksXG4gICAgICAgICAgbGVuZ3RoLCBpLFxuICAgICAgICAgIGtleTtcblxuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gJGluamVjdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBrZXkgPSAkaW5qZWN0W2ldO1xuICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ2l0a24nLFxuICAgICAgICAgICAgICAgICAgJ0luY29ycmVjdCBpbmplY3Rpb24gdG9rZW4hIEV4cGVjdGVkIHNlcnZpY2UgbmFtZSBhcyBzdHJpbmcsIGdvdCB7MH0nLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGFyZ3MucHVzaChcbiAgICAgICAgICBsb2NhbHMgJiYgbG9jYWxzLmhhc093blByb3BlcnR5KGtleSlcbiAgICAgICAgICA/IGxvY2Fsc1trZXldXG4gICAgICAgICAgOiBnZXRTZXJ2aWNlKGtleSwgc2VydmljZU5hbWUpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheShmbikpIHtcbiAgICAgICAgZm4gPSBmbltsZW5ndGhdO1xuICAgICAgfVxuXG4gICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyanMtaW52b2tlLWFwcGx5LXZzLXN3aXRjaFxuICAgICAgLy8gIzUzODhcbiAgICAgIHJldHVybiBmbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZShUeXBlLCBsb2NhbHMsIHNlcnZpY2VOYW1lKSB7XG4gICAgICAvLyBDaGVjayBpZiBUeXBlIGlzIGFubm90YXRlZCBhbmQgdXNlIGp1c3QgdGhlIGdpdmVuIGZ1bmN0aW9uIGF0IG4tMSBhcyBwYXJhbWV0ZXJcbiAgICAgIC8vIGUuZy4gc29tZU1vZHVsZS5mYWN0b3J5KCdncmVldGVyJywgWyckd2luZG93JywgZnVuY3Rpb24ocmVuYW1lZCR3aW5kb3cpIHt9XSk7XG4gICAgICAvLyBPYmplY3QgY3JlYXRpb246IGh0dHA6Ly9qc3BlcmYuY29tL2NyZWF0ZS1jb25zdHJ1Y3Rvci8yXG4gICAgICB2YXIgaW5zdGFuY2UgPSBPYmplY3QuY3JlYXRlKChpc0FycmF5KFR5cGUpID8gVHlwZVtUeXBlLmxlbmd0aCAtIDFdIDogVHlwZSkucHJvdG90eXBlIHx8IG51bGwpO1xuICAgICAgdmFyIHJldHVybmVkVmFsdWUgPSBpbnZva2UoVHlwZSwgaW5zdGFuY2UsIGxvY2Fscywgc2VydmljZU5hbWUpO1xuXG4gICAgICByZXR1cm4gaXNPYmplY3QocmV0dXJuZWRWYWx1ZSkgfHwgaXNGdW5jdGlvbihyZXR1cm5lZFZhbHVlKSA/IHJldHVybmVkVmFsdWUgOiBpbnN0YW5jZTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaW52b2tlOiBpbnZva2UsXG4gICAgICBpbnN0YW50aWF0ZTogaW5zdGFudGlhdGUsXG4gICAgICBnZXQ6IGdldFNlcnZpY2UsXG4gICAgICBhbm5vdGF0ZTogY3JlYXRlSW5qZWN0b3IuJCRhbm5vdGF0ZSxcbiAgICAgIGhhczogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICByZXR1cm4gcHJvdmlkZXJDYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lICsgcHJvdmlkZXJTdWZmaXgpIHx8IGNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuY3JlYXRlSW5qZWN0b3IuJCRhbm5vdGF0ZSA9IGFubm90YXRlO1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGFuY2hvclNjcm9sbFByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgYCRhbmNob3JTY3JvbGxQcm92aWRlcmAgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nIHdoZW5ldmVyXG4gKiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gJEFuY2hvclNjcm9sbFByb3ZpZGVyKCkge1xuXG4gIHZhciBhdXRvU2Nyb2xsaW5nRW5hYmxlZCA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuY2hvclNjcm9sbFByb3ZpZGVyI2Rpc2FibGVBdXRvU2Nyb2xsaW5nXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBCeSBkZWZhdWx0LCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCAkYW5jaG9yU2Nyb2xsKCl9IHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3QgY2hhbmdlcyB0b1xuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kIHNjcm9sbCB0byB0aGUgZWxlbWVudCBtYXRjaGluZyB0aGUgbmV3IGhhc2guPGJyIC8+XG4gICAqIFVzZSB0aGlzIG1ldGhvZCB0byBkaXNhYmxlIGF1dG9tYXRpYyBzY3JvbGxpbmcuXG4gICAqXG4gICAqIElmIGF1dG9tYXRpYyBzY3JvbGxpbmcgaXMgZGlzYWJsZWQsIG9uZSBtdXN0IGV4cGxpY2l0bHkgY2FsbFxuICAgKiB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCAkYW5jaG9yU2Nyb2xsKCl9IGluIG9yZGVyIHRvIHNjcm9sbCB0byB0aGUgZWxlbWVudCByZWxhdGVkIHRvIHRoZVxuICAgKiBjdXJyZW50IGhhc2guXG4gICAqL1xuICB0aGlzLmRpc2FibGVBdXRvU2Nyb2xsaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJGFuY2hvclNjcm9sbFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKiBAcmVxdWlyZXMgJHdpbmRvd1xuICAgKiBAcmVxdWlyZXMgJGxvY2F0aW9uXG4gICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBXaGVuIGNhbGxlZCwgaXQgc2Nyb2xscyB0byB0aGUgZWxlbWVudCByZWxhdGVkIHRvIHRoZSBzcGVjaWZpZWQgYGhhc2hgIG9yIChpZiBvbWl0dGVkKSB0byB0aGVcbiAgICogY3VycmVudCB2YWx1ZSBvZiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0sIGFjY29yZGluZyB0byB0aGUgcnVsZXMgc3BlY2lmaWVkXG4gICAqIGluIHRoZVxuICAgKiBbSFRNTDUgc3BlY10oaHR0cDovL3d3dy53My5vcmcvaHRtbC93Zy9kcmFmdHMvaHRtbC9tYXN0ZXIvYnJvd3NlcnMuaHRtbCN0aGUtaW5kaWNhdGVkLXBhcnQtb2YtdGhlLWRvY3VtZW50KS5cbiAgICpcbiAgICogSXQgYWxzbyB3YXRjaGVzIHRoZSB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kIGF1dG9tYXRpY2FsbHkgc2Nyb2xscyB0b1xuICAgKiBtYXRjaCBhbnkgYW5jaG9yIHdoZW5ldmVyIGl0IGNoYW5nZXMuIFRoaXMgY2FuIGJlIGRpc2FibGVkIGJ5IGNhbGxpbmdcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGxQcm92aWRlciNkaXNhYmxlQXV0b1Njcm9sbGluZyAkYW5jaG9yU2Nyb2xsUHJvdmlkZXIuZGlzYWJsZUF1dG9TY3JvbGxpbmcoKX0uXG4gICAqXG4gICAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiB1c2UgaXRzIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsI3lPZmZzZXQgeU9mZnNldH0gcHJvcGVydHkgdG8gc3BlY2lmeSBhXG4gICAqIHZlcnRpY2FsIHNjcm9sbC1vZmZzZXQgKGVpdGhlciBmaXhlZCBvciBkeW5hbWljKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBoYXNoIFRoZSBoYXNoIHNwZWNpZnlpbmcgdGhlIGVsZW1lbnQgdG8gc2Nyb2xsIHRvLiBJZiBvbWl0dGVkLCB0aGUgdmFsdWUgb2ZcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSB3aWxsIGJlIHVzZWQuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7KG51bWJlcnxmdW5jdGlvbnxqcUxpdGUpfSB5T2Zmc2V0XG4gICAqIElmIHNldCwgc3BlY2lmaWVzIGEgdmVydGljYWwgc2Nyb2xsLW9mZnNldC4gVGhpcyBpcyBvZnRlbiB1c2VmdWwgd2hlbiB0aGVyZSBhcmUgZml4ZWRcbiAgICogcG9zaXRpb25lZCBlbGVtZW50cyBhdCB0aGUgdG9wIG9mIHRoZSBwYWdlLCBzdWNoIGFzIG5hdmJhcnMsIGhlYWRlcnMgZXRjLlxuICAgKlxuICAgKiBgeU9mZnNldGAgY2FuIGJlIHNwZWNpZmllZCBpbiB2YXJpb3VzIHdheXM6XG4gICAqIC0gKipudW1iZXIqKjogQSBmaXhlZCBudW1iZXIgb2YgcGl4ZWxzIHRvIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPjxiciAvPlxuICAgKiAtICoqZnVuY3Rpb24qKjogQSBnZXR0ZXIgZnVuY3Rpb24gY2FsbGVkIGV2ZXJ5dGltZSBgJGFuY2hvclNjcm9sbCgpYCBpcyBleGVjdXRlZC4gTXVzdCByZXR1cm5cbiAgICogICBhIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9mZnNldCAoaW4gcGl4ZWxzKS48YnIgLz48YnIgLz5cbiAgICogLSAqKmpxTGl0ZSoqOiBBIGpxTGl0ZS9qUXVlcnkgZWxlbWVudCB0byBiZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoZSBvZmZzZXQuIFRoZSBkaXN0YW5jZSBmcm9tXG4gICAqICAgdGhlIHRvcCBvZiB0aGUgcGFnZSB0byB0aGUgZWxlbWVudCdzIGJvdHRvbSB3aWxsIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPlxuICAgKiAgICoqTm90ZSoqOiBUaGUgZWxlbWVudCB3aWxsIGJlIHRha2VuIGludG8gYWNjb3VudCBvbmx5IGFzIGxvbmcgYXMgaXRzIGBwb3NpdGlvbmAgaXMgc2V0IHRvXG4gICAqICAgYGZpeGVkYC4gVGhpcyBvcHRpb24gaXMgdXNlZnVsLCB3aGVuIGRlYWxpbmcgd2l0aCByZXNwb25zaXZlIG5hdmJhcnMvaGVhZGVycyB0aGF0IGFkanVzdFxuICAgKiAgIHRoZWlyIGhlaWdodCBhbmQvb3IgcG9zaXRpb25pbmcgYWNjb3JkaW5nIHRvIHRoZSB2aWV3cG9ydCdzIHNpemUuXG4gICAqXG4gICAqIDxiciAvPlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiBJbiBvcmRlciBmb3IgYHlPZmZzZXRgIHRvIHdvcmsgcHJvcGVybHksIHNjcm9sbGluZyBzaG91bGQgdGFrZSBwbGFjZSBvbiB0aGUgZG9jdW1lbnQncyByb290IGFuZFxuICAgKiBub3Qgc29tZSBjaGlsZCBlbGVtZW50LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsRXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGlkPVwic2Nyb2xsQXJlYVwiIG5nLWNvbnRyb2xsZXI9XCJTY3JvbGxDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxhIG5nLWNsaWNrPVwiZ290b0JvdHRvbSgpXCI+R28gdG8gYm90dG9tPC9hPlxuICAgICAgICAgICA8YSBpZD1cImJvdHRvbVwiPjwvYT4gWW91J3JlIGF0IHRoZSBib3R0b20hXG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2FuY2hvclNjcm9sbEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ1Njcm9sbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnJGFuY2hvclNjcm9sbCcsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0JvdHRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGxvY2F0aW9uLmhhc2ggdG8gdGhlIGlkIG9mXG4gICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHlvdSB3aXNoIHRvIHNjcm9sbCB0by5cbiAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdHRvbScpO1xuXG4gICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpXG4gICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAjc2Nyb2xsQXJlYSB7XG4gICAgICAgICAgIGhlaWdodDogMjgwcHg7XG4gICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgfVxuXG4gICAgICAgICAjYm90dG9tIHtcbiAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgIG1hcmdpbi10b3A6IDIwMDBweDtcbiAgICAgICAgIH1cbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAgICpcbiAgICogPGhyIC8+XG4gICAqIFRoZSBleGFtcGxlIGJlbG93IGlsbHVzdHJhdGVzIHRoZSB1c2Ugb2YgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChzcGVjaWZpZWQgYXMgYSBmaXhlZCB2YWx1ZSkuXG4gICAqIFNlZSB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0ICRhbmNob3JTY3JvbGwueU9mZnNldH0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtaGVhZGVyXCIgbmctY29udHJvbGxlcj1cImhlYWRlckN0cmxcIj5cbiAgICAgICAgICAgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ290b0FuY2hvcih4KVwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgICBHbyB0byBhbmNob3Ige3t4fX1cbiAgICAgICAgICAgPC9hPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8ZGl2IGlkPVwiYW5jaG9ye3t4fX1cIiBjbGFzcz1cImFuY2hvclwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgQW5jaG9yIHt7eH19IG9mIDVcbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAucnVuKFsnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwpIHtcbiAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSA1MDsgICAvLyBhbHdheXMgc2Nyb2xsIGJ5IDUwIGV4dHJhIHBpeGVsc1xuICAgICAgICAgICB9XSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ2hlYWRlckN0cmwnLCBbJyRhbmNob3JTY3JvbGwnLCAnJGxvY2F0aW9uJywgJyRzY29wZScsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRhbmNob3JTY3JvbGwsICRsb2NhdGlvbiwgJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0FuY2hvciA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICAgdmFyIG5ld0hhc2ggPSAnYW5jaG9yJyArIHg7XG4gICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb24uaGFzaCgpICE9PSBuZXdIYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSAkbG9jYXRpb24uaGFzaCB0byBgbmV3SGFzaGAgYW5kXG4gICAgICAgICAgICAgICAgICAgLy8gJGFuY2hvclNjcm9sbCB3aWxsIGF1dG9tYXRpY2FsbHkgc2Nyb2xsIHRvIGl0XG4gICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2FuY2hvcicgKyB4KTtcbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAvLyBjYWxsICRhbmNob3JTY3JvbGwoKSBleHBsaWNpdGx5LFxuICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlICRsb2NhdGlvbi5oYXNoIGhhc24ndCBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgXSk7XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAgIGJvZHkge1xuICAgICAgICAgICBwYWRkaW5nLXRvcDogNTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmFuY2hvciB7XG4gICAgICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCBEYXJrT3JjaGlkO1xuICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEwcHggMjAwcHggMTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmZpeGVkLWhlYWRlciB7XG4gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgIHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7XG4gICAgICAgICB9XG5cbiAgICAgICAgIC5maXhlZC1oZWFkZXIgPiBhIHtcbiAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICBtYXJnaW46IDVweCAxNXB4O1xuICAgICAgICAgfVxuICAgICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHdpbmRvdywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gJHdpbmRvdy5kb2N1bWVudDtcblxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZmlyc3QgYW5jaG9yIGZyb20gYSBOb2RlTGlzdFxuICAgIC8vICh1c2luZyBgQXJyYXkjc29tZSgpYCBpbnN0ZWFkIG9mIGBhbmd1bGFyI2ZvckVhY2goKWAgc2luY2UgaXQncyBtb3JlIHBlcmZvcm1hbnRcbiAgICAvLyAgYW5kIHdvcmtpbmcgaW4gYWxsIHN1cHBvcnRlZCBicm93c2Vycy4pXG4gICAgZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGxpc3QsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKG5vZGVOYW1lXyhlbGVtZW50KSA9PT0gJ2EnKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFlPZmZzZXQoKSB7XG5cbiAgICAgIHZhciBvZmZzZXQgPSBzY3JvbGwueU9mZnNldDtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KG9mZnNldCkpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBvZmZzZXRbMF07XG4gICAgICAgIHZhciBzdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICAgICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNOdW1iZXIob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW0pIHtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0uc2Nyb2xsSW50b1ZpZXcoKTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0WU9mZnNldCgpO1xuXG4gICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAvLyBgb2Zmc2V0YCBpcyB0aGUgbnVtYmVyIG9mIHBpeGVscyB3ZSBzaG91bGQgc2Nyb2xsIFVQIGluIG9yZGVyIHRvIGFsaWduIGBlbGVtYCBwcm9wZXJseS5cbiAgICAgICAgICAvLyBUaGlzIGlzIHRydWUgT05MWSBpZiB0aGUgY2FsbCB0byBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCBpbml0aWFsbHkgYWxpZ25zIGBlbGVtYCBhdCB0aGVcbiAgICAgICAgICAvLyB0b3Agb2YgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSUYgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIGBlbGVtYCB0byB0aGUgZW5kIG9mIHRoZSBwYWdlJ3MgY29udGVudCBpcyBsZXNzXG4gICAgICAgICAgLy8gdGhhbiB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydCwgdGhlbiBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCB3aWxsIGFsaWduIHRoZSBgZWxlbWAgc29tZVxuICAgICAgICAgIC8vIHdheSBkb3duIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gVGhpcyBpcyBvZnRlbiB0aGUgY2FzZSBmb3IgZWxlbWVudHMgbmVhciB0aGUgYm90dG9tIG9mIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSW4gc3VjaCBjYXNlcyB3ZSBkbyBub3QgbmVlZCB0byBzY3JvbGwgdGhlIHdob2xlIGBvZmZzZXRgIHVwLCBqdXN0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cbiAgICAgICAgICAvLyB0aGUgdG9wIG9mIHRoZSBlbGVtZW50IGFuZCB0aGUgb2Zmc2V0LCB3aGljaCBpcyBlbm91Z2ggdG8gYWxpZ24gdGhlIHRvcCBvZiBgZWxlbWAgYXQgdGhlXG4gICAgICAgICAgLy8gZGVzaXJlZCBwb3NpdGlvbi5cbiAgICAgICAgICB2YXIgZWxlbVRvcCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICR3aW5kb3cuc2Nyb2xsQnkoMCwgZWxlbVRvcCAtIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsKGhhc2gpIHtcbiAgICAgIGhhc2ggPSBpc1N0cmluZyhoYXNoKSA/IGhhc2ggOiAkbG9jYXRpb24uaGFzaCgpO1xuICAgICAgdmFyIGVsbTtcblxuICAgICAgLy8gZW1wdHkgaGFzaCwgc2Nyb2xsIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICAgIGlmICghaGFzaCkgc2Nyb2xsVG8obnVsbCk7XG5cbiAgICAgIC8vIGVsZW1lbnQgd2l0aCBnaXZlbiBpZFxuICAgICAgZWxzZSBpZiAoKGVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpKSkgc2Nyb2xsVG8oZWxtKTtcblxuICAgICAgLy8gZmlyc3QgYW5jaG9yIHdpdGggZ2l2ZW4gbmFtZSA6LURcbiAgICAgIGVsc2UgaWYgKChlbG0gPSBnZXRGaXJzdEFuY2hvcihkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShoYXNoKSkpKSBzY3JvbGxUbyhlbG0pO1xuXG4gICAgICAvLyBubyBlbGVtZW50IGFuZCBoYXNoID09ICd0b3AnLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgZWxzZSBpZiAoaGFzaCA9PT0gJ3RvcCcpIHNjcm9sbFRvKG51bGwpO1xuICAgIH1cblxuICAgIC8vIGRvZXMgbm90IHNjcm9sbCB3aGVuIHVzZXIgY2xpY2tzIG9uIGFuY2hvciBsaW5rIHRoYXQgaXMgY3VycmVudGx5IG9uXG4gICAgLy8gKG5vIHVybCBjaGFuZ2UsIG5vICRsb2NhdGlvbi5oYXNoKCkgY2hhbmdlKSwgYnJvd3NlciBuYXRpdmUgZG9lcyBzY3JvbGxcbiAgICBpZiAoYXV0b1Njcm9sbGluZ0VuYWJsZWQpIHtcbiAgICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGF1dG9TY3JvbGxXYXRjaCgpIHtyZXR1cm4gJGxvY2F0aW9uLmhhc2goKTt9LFxuICAgICAgICBmdW5jdGlvbiBhdXRvU2Nyb2xsV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAvLyBza2lwIHRoZSBpbml0aWFsIHNjcm9sbCBpZiAkbG9jYXRpb24uaGFzaCBpcyBlbXB0eVxuICAgICAgICAgIGlmIChuZXdWYWwgPT09IG9sZFZhbCAmJiBuZXdWYWwgPT09ICcnKSByZXR1cm47XG5cbiAgICAgICAgICBqcUxpdGVEb2N1bWVudExvYWRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhzY3JvbGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2Nyb2xsO1xuICB9XTtcbn1cblxudmFyICRhbmltYXRlTWluRXJyID0gbWluRXJyKCckYW5pbWF0ZScpO1xudmFyIEVMRU1FTlRfTk9ERSA9IDE7XG52YXIgTkdfQU5JTUFURV9DTEFTU05BTUUgPSAnbmctYW5pbWF0ZSc7XG5cbmZ1bmN0aW9uIG1lcmdlQ2xhc3NlcyhhLGIpIHtcbiAgaWYgKCFhICYmICFiKSByZXR1cm4gJyc7XG4gIGlmICghYSkgcmV0dXJuIGI7XG4gIGlmICghYikgcmV0dXJuIGE7XG4gIGlmIChpc0FycmF5KGEpKSBhID0gYS5qb2luKCcgJyk7XG4gIGlmIChpc0FycmF5KGIpKSBiID0gYi5qb2luKCcgJyk7XG4gIHJldHVybiBhICsgJyAnICsgYjtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVsbSA9IGVsZW1lbnRbaV07XG4gICAgaWYgKGVsbS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICByZXR1cm4gZWxtO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzcGxpdENsYXNzZXMoY2xhc3Nlcykge1xuICBpZiAoaXNTdHJpbmcoY2xhc3NlcykpIHtcbiAgICBjbGFzc2VzID0gY2xhc3Nlcy5zcGxpdCgnICcpO1xuICB9XG5cbiAgLy8gVXNlIGNyZWF0ZU1hcCgpIHRvIHByZXZlbnQgY2xhc3MgYXNzdW1wdGlvbnMgaW52b2x2aW5nIHByb3BlcnR5IG5hbWVzIGluXG4gIC8vIE9iamVjdC5wcm90b3R5cGVcbiAgdmFyIG9iaiA9IGNyZWF0ZU1hcCgpO1xuICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgLy8gc29tZXRpbWVzIHRoZSBzcGxpdCBsZWF2ZXMgZW1wdHkgc3RyaW5nIHZhbHVlc1xuICAgIC8vIGluY2FzZSBleHRyYSBzcGFjZXMgd2VyZSBhcHBsaWVkIHRvIHRoZSBvcHRpb25zXG4gICAgaWYgKGtsYXNzLmxlbmd0aCkge1xuICAgICAgb2JqW2tsYXNzXSA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuLy8gaWYgYW55IG90aGVyIHR5cGUgb2Ygb3B0aW9ucyB2YWx1ZSBiZXNpZGVzIGFuIE9iamVjdCB2YWx1ZSBpc1xuLy8gcGFzc2VkIGludG8gdGhlICRhbmltYXRlLm1ldGhvZCgpIGFuaW1hdGlvbiB0aGVuIHRoaXMgaGVscGVyIGNvZGVcbi8vIHdpbGwgYmUgcnVuIHdoaWNoIHdpbGwgaWdub3JlIGl0LiBXaGlsZSB0aGlzIHBhdGNoIGlzIG5vdCB0aGVcbi8vIGdyZWF0ZXN0IHNvbHV0aW9uIHRvIHRoaXMsIGEgbG90IG9mIGV4aXN0aW5nIHBsdWdpbnMgZGVwZW5kIG9uXG4vLyAkYW5pbWF0ZSB0byBlaXRoZXIgY2FsbCB0aGUgY2FsbGJhY2sgKDwgMS4yKSBvciByZXR1cm4gYSBwcm9taXNlXG4vLyB0aGF0IGNhbiBiZSBjaGFuZ2VkLiBUaGlzIGhlbHBlciBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgdGhlIG9wdGlvbnNcbi8vIGFyZSB3aXBlZCBjbGVhbiBpbmNhc2UgYSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwcm92aWRlZC5cbmZ1bmN0aW9uIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gIHJldHVybiBpc09iamVjdChvcHRpb25zKVxuICAgICAgPyBvcHRpb25zXG4gICAgICA6IHt9O1xufVxuXG52YXIgJCRDb3JlQW5pbWF0ZVJ1bm5lclByb3ZpZGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJHEnLCAnJCRyQUYnLCBmdW5jdGlvbigkcSwgJCRyQUYpIHtcbiAgICBmdW5jdGlvbiBBbmltYXRlUnVubmVyKCkge31cbiAgICBBbmltYXRlUnVubmVyLmFsbCA9IG5vb3A7XG4gICAgQW5pbWF0ZVJ1bm5lci5jaGFpbiA9IG5vb3A7XG4gICAgQW5pbWF0ZVJ1bm5lci5wcm90b3R5cGUgPSB7XG4gICAgICBlbmQ6IG5vb3AsXG4gICAgICBjYW5jZWw6IG5vb3AsXG4gICAgICByZXN1bWU6IG5vb3AsXG4gICAgICBwYXVzZTogbm9vcCxcbiAgICAgIGNvbXBsZXRlOiBub29wLFxuICAgICAgdGhlbjogZnVuY3Rpb24ocGFzcywgZmFpbCkge1xuICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KS50aGVuKHBhc3MsIGZhaWwpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFuaW1hdGVSdW5uZXI7XG4gIH1dO1xufTtcblxuLy8gdGhpcyBpcyBwcmVmaXhlZCB3aXRoIENvcmUgc2luY2UgaXQgY29uZmxpY3RzIHdpdGhcbi8vIHRoZSBhbmltYXRlUXVldWVQcm92aWRlciBkZWZpbmVkIGluIG5nQW5pbWF0ZS9hbmltYXRlUXVldWUuanNcbnZhciAkJENvcmVBbmltYXRlUXVldWVQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcG9zdERpZ2VzdFF1ZXVlID0gbmV3IEhhc2hNYXAoKTtcbiAgdmFyIHBvc3REaWdlc3RFbGVtZW50cyA9IFtdO1xuXG4gIHRoaXMuJGdldCA9IFsnJCRBbmltYXRlUnVubmVyJywgJyRyb290U2NvcGUnLFxuICAgICAgIGZ1bmN0aW9uKCQkQW5pbWF0ZVJ1bm5lciwgICAkcm9vdFNjb3BlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVuYWJsZWQ6IG5vb3AsXG4gICAgICBvbjogbm9vcCxcbiAgICAgIG9mZjogbm9vcCxcbiAgICAgIHBpbjogbm9vcCxcblxuICAgICAgcHVzaDogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGRvbU9wZXJhdGlvbikge1xuICAgICAgICBkb21PcGVyYXRpb24gICAgICAgICYmIGRvbU9wZXJhdGlvbigpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLmZyb20gICAgICAgICYmIGVsZW1lbnQuY3NzKG9wdGlvbnMuZnJvbSk7XG4gICAgICAgIG9wdGlvbnMudG8gICAgICAgICAgJiYgZWxlbWVudC5jc3Mob3B0aW9ucy50byk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MgfHwgb3B0aW9ucy5yZW1vdmVDbGFzcykge1xuICAgICAgICAgIGFkZFJlbW92ZUNsYXNzZXNQb3N0RGlnZXN0KGVsZW1lbnQsIG9wdGlvbnMuYWRkQ2xhc3MsIG9wdGlvbnMucmVtb3ZlQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyAkJEFuaW1hdGVSdW5uZXIoKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgICB9XG4gICAgfTtcblxuXG4gICAgZnVuY3Rpb24gdXBkYXRlRGF0YShkYXRhLCBjbGFzc2VzLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgIGlmIChjbGFzc2VzKSB7XG4gICAgICAgIGNsYXNzZXMgPSBpc1N0cmluZyhjbGFzc2VzKSA/IGNsYXNzZXMuc3BsaXQoJyAnKSA6XG4gICAgICAgICAgICAgICAgICBpc0FycmF5KGNsYXNzZXMpID8gY2xhc3NlcyA6IFtdO1xuICAgICAgICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgZGF0YVtjbGFzc05hbWVdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUNTU0NsYXNzQ2hhbmdlcygpIHtcbiAgICAgIGZvckVhY2gocG9zdERpZ2VzdEVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciBkYXRhID0gcG9zdERpZ2VzdFF1ZXVlLmdldChlbGVtZW50KTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICB2YXIgZXhpc3RpbmcgPSBzcGxpdENsYXNzZXMoZWxlbWVudC5hdHRyKCdjbGFzcycpKTtcbiAgICAgICAgICB2YXIgdG9BZGQgPSAnJztcbiAgICAgICAgICB2YXIgdG9SZW1vdmUgPSAnJztcbiAgICAgICAgICBmb3JFYWNoKGRhdGEsIGZ1bmN0aW9uKHN0YXR1cywgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICB2YXIgaGFzQ2xhc3MgPSAhIWV4aXN0aW5nW2NsYXNzTmFtZV07XG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBoYXNDbGFzcykge1xuICAgICAgICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdG9BZGQgKz0gKHRvQWRkLmxlbmd0aCA/ICcgJyA6ICcnKSArIGNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b1JlbW92ZSArPSAodG9SZW1vdmUubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBmb3JFYWNoKGVsZW1lbnQsIGZ1bmN0aW9uKGVsbSkge1xuICAgICAgICAgICAgdG9BZGQgICAgJiYganFMaXRlQWRkQ2xhc3MoZWxtLCB0b0FkZCk7XG4gICAgICAgICAgICB0b1JlbW92ZSAmJiBqcUxpdGVSZW1vdmVDbGFzcyhlbG0sIHRvUmVtb3ZlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwb3N0RGlnZXN0UXVldWUucmVtb3ZlKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHBvc3REaWdlc3RFbGVtZW50cy5sZW5ndGggPSAwO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QoZWxlbWVudCwgYWRkLCByZW1vdmUpIHtcbiAgICAgIHZhciBkYXRhID0gcG9zdERpZ2VzdFF1ZXVlLmdldChlbGVtZW50KSB8fCB7fTtcblxuICAgICAgdmFyIGNsYXNzZXNBZGRlZCA9IHVwZGF0ZURhdGEoZGF0YSwgYWRkLCB0cnVlKTtcbiAgICAgIHZhciBjbGFzc2VzUmVtb3ZlZCA9IHVwZGF0ZURhdGEoZGF0YSwgcmVtb3ZlLCBmYWxzZSk7XG5cbiAgICAgIGlmIChjbGFzc2VzQWRkZWQgfHwgY2xhc3Nlc1JlbW92ZWQpIHtcblxuICAgICAgICBwb3N0RGlnZXN0UXVldWUucHV0KGVsZW1lbnQsIGRhdGEpO1xuICAgICAgICBwb3N0RGlnZXN0RWxlbWVudHMucHVzaChlbGVtZW50KTtcblxuICAgICAgICBpZiAocG9zdERpZ2VzdEVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGhhbmRsZUNTU0NsYXNzQ2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1dO1xufTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgJGFuaW1hdGUgdGhhdCBkb2Vzbid0IHBlcmZvcm0gYW55IGFuaW1hdGlvbnMsIGluc3RlYWQganVzdFxuICogc3luY2hyb25vdXNseSBwZXJmb3JtcyBET00gdXBkYXRlcyBhbmQgcmVzb2x2ZXMgdGhlIHJldHVybmVkIHJ1bm5lciBwcm9taXNlLlxuICpcbiAqIEluIG9yZGVyIHRvIGVuYWJsZSBhbmltYXRpb25zIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaGFzIHRvIGJlIGxvYWRlZC5cbiAqXG4gKiBUbyBzZWUgdGhlIGZ1bmN0aW9uYWwgaW1wbGVtZW50YXRpb24gY2hlY2sgb3V0IGBzcmMvbmdBbmltYXRlL2FuaW1hdGUuanNgLlxuICovXG52YXIgJEFuaW1hdGVQcm92aWRlciA9IFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkge1xuICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xuXG4gIHRoaXMuJCRyZWdpc3RlcmVkQW5pbWF0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXIjcmVnaXN0ZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIG5ldyBpbmplY3RhYmxlIGFuaW1hdGlvbiBmYWN0b3J5IGZ1bmN0aW9uLiBUaGUgZmFjdG9yeSBmdW5jdGlvbiBwcm9kdWNlcyB0aGVcbiAgICogYW5pbWF0aW9uIG9iamVjdCB3aGljaCBjb250YWlucyBjYWxsYmFjayBmdW5jdGlvbnMgZm9yIGVhY2ggZXZlbnQgdGhhdCBpcyBleHBlY3RlZCB0byBiZVxuICAgKiBhbmltYXRlZC5cbiAgICpcbiAgICogICAqIGBldmVudEZuYDogYGZ1bmN0aW9uKGVsZW1lbnQsIC4uLiAsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylgXG4gICAqICAgVGhlIGVsZW1lbnQgdG8gYW5pbWF0ZSwgdGhlIGBkb25lRnVuY3Rpb25gIGFuZCB0aGUgb3B0aW9ucyBmZWQgaW50byB0aGUgYW5pbWF0aW9uLiBEZXBlbmRpbmdcbiAgICogICBvbiB0aGUgdHlwZSBvZiBhbmltYXRpb24gYWRkaXRpb25hbCBhcmd1bWVudHMgd2lsbCBiZSBpbmplY3RlZCBpbnRvIHRoZSBhbmltYXRpb24gZnVuY3Rpb24uIFRoZVxuICAgKiAgIGxpc3QgYmVsb3cgZXhwbGFpbnMgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZXMgZm9yIHRoZSBkaWZmZXJlbnQgYW5pbWF0aW9uIG1ldGhvZHM6XG4gICAqXG4gICAqICAgLSBzZXRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgYWRkZWRDbGFzc2VzLCByZW1vdmVkQ2xhc3NlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxuICAgKiAgIC0gYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGFkZGVkQ2xhc3NlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxuICAgKiAgIC0gcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIHJlbW92ZWRDbGFzc2VzLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXG4gICAqICAgLSBlbnRlciwgbGVhdmUsIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcbiAgICogICAtIGFuaW1hdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb21TdHlsZXMsIHRvU3R5bGVzLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXG4gICAqXG4gICAqICAgTWFrZSBzdXJlIHRvIHRyaWdnZXIgdGhlIGBkb25lRnVuY3Rpb25gIG9uY2UgdGhlIGFuaW1hdGlvbiBpcyBmdWxseSBjb21wbGV0ZS5cbiAgICpcbiAgICogYGBganNcbiAgICogICByZXR1cm4ge1xuICAgKiAgICAgLy9lbnRlciwgbGVhdmUsIG1vdmUgc2lnbmF0dXJlXG4gICAqICAgICBldmVudEZuIDogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSwgb3B0aW9ucykge1xuICAgKiAgICAgICAvL2NvZGUgdG8gcnVuIHRoZSBhbmltYXRpb25cbiAgICogICAgICAgLy9vbmNlIGNvbXBsZXRlLCB0aGVuIHJ1biBkb25lKClcbiAgICogICAgICAgcmV0dXJuIGZ1bmN0aW9uIGVuZEZ1bmN0aW9uKHdhc0NhbmNlbGxlZCkge1xuICAgKiAgICAgICAgIC8vY29kZSB0byBjYW5jZWwgdGhlIGFuaW1hdGlvblxuICAgKiAgICAgICB9XG4gICAqICAgICB9XG4gICAqICAgfVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGFuaW1hdGlvbiAodGhpcyBpcyB3aGF0IHRoZSBjbGFzcy1iYXNlZCBDU1MgdmFsdWUgd2lsbCBiZSBjb21wYXJlZCB0bykuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZhY3RvcnkgVGhlIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHJldHVybiB0aGUgYW5pbWF0aW9uXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIGZhY3RvcnkpIHtcbiAgICBpZiAobmFtZSAmJiBuYW1lLmNoYXJBdCgwKSAhPT0gJy4nKSB7XG4gICAgICB0aHJvdyAkYW5pbWF0ZU1pbkVycignbm90Y3NlbCcsIFwiRXhwZWN0aW5nIGNsYXNzIHNlbGVjdG9yIHN0YXJ0aW5nIHdpdGggJy4nIGdvdCAnezB9Jy5cIiwgbmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIGtleSA9IG5hbWUgKyAnLWFuaW1hdGlvbic7XG4gICAgcHJvdmlkZXIuJCRyZWdpc3RlcmVkQW5pbWF0aW9uc1tuYW1lLnN1YnN0cigxKV0gPSBrZXk7XG4gICAgJHByb3ZpZGUuZmFjdG9yeShrZXksIGZhY3RvcnkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXIjY2xhc3NOYW1lRmlsdGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuZC9vciByZXR1cm5zIHRoZSBDU1MgY2xhc3MgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgY2hlY2tlZCB3aGVuIHBlcmZvcm1pbmdcbiAgICogYW4gYW5pbWF0aW9uLiBVcG9uIGJvb3RzdHJhcCB0aGUgY2xhc3NOYW1lRmlsdGVyIHZhbHVlIGlzIG5vdCBzZXQgYXQgYWxsIGFuZCB3aWxsXG4gICAqIHRoZXJlZm9yZSBlbmFibGUgJGFuaW1hdGUgdG8gYXR0ZW1wdCB0byBwZXJmb3JtIGFuIGFuaW1hdGlvbiBvbiBhbnkgZWxlbWVudCB0aGF0IGlzIHRyaWdnZXJlZC5cbiAgICogV2hlbiBzZXR0aW5nIHRoZSBgY2xhc3NOYW1lRmlsdGVyYCB2YWx1ZSwgYW5pbWF0aW9ucyB3aWxsIG9ubHkgYmUgcGVyZm9ybWVkIG9uIGVsZW1lbnRzXG4gICAqIHRoYXQgc3VjY2Vzc2Z1bGx5IG1hdGNoIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbi4gVGhpcyBpbiB0dXJuIGNhbiBib29zdCBwZXJmb3JtYW5jZVxuICAgKiBmb3IgbG93LXBvd2VyZWQgZGV2aWNlcyBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9ucyBjb250YWluaW5nIGEgbG90IG9mIHN0cnVjdHVyYWwgb3BlcmF0aW9ucy5cbiAgICogQHBhcmFtIHtSZWdFeHA9fSBleHByZXNzaW9uIFRoZSBjbGFzc05hbWUgZXhwcmVzc2lvbiB3aGljaCB3aWxsIGJlIGNoZWNrZWQgYWdhaW5zdCBhbGwgYW5pbWF0aW9uc1xuICAgKiBAcmV0dXJuIHtSZWdFeHB9IFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgZXhwcmVzc2lvbiB2YWx1ZS4gSWYgbnVsbCB0aGVuIHRoZXJlIGlzIG5vIGV4cHJlc3Npb24gdmFsdWVcbiAgICovXG4gIHRoaXMuY2xhc3NOYW1lRmlsdGVyID0gZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyID0gKGV4cHJlc3Npb24gaW5zdGFuY2VvZiBSZWdFeHApID8gZXhwcmVzc2lvbiA6IG51bGw7XG4gICAgICBpZiAodGhpcy4kJGNsYXNzTmFtZUZpbHRlcikge1xuICAgICAgICB2YXIgcmVzZXJ2ZWRSZWdleCA9IG5ldyBSZWdFeHAoXCIoXFxcXHMrfFxcXFwvKVwiICsgTkdfQU5JTUFURV9DTEFTU05BTUUgKyBcIihcXFxccyt8XFxcXC8pXCIpO1xuICAgICAgICBpZiAocmVzZXJ2ZWRSZWdleC50ZXN0KHRoaXMuJCRjbGFzc05hbWVGaWx0ZXIudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICB0aHJvdyAkYW5pbWF0ZU1pbkVycignbm9uZ2NscycsJyRhbmltYXRlUHJvdmlkZXIuY2xhc3NOYW1lRmlsdGVyKHJlZ2V4KSBwcm9oaWJpdHMgYWNjZXB0aW5nIGEgcmVnZXggdmFsdWUgd2hpY2ggbWF0Y2hlcy9jb250YWlucyB0aGUgXCJ7MH1cIiBDU1MgY2xhc3MuJywgTkdfQU5JTUFURV9DTEFTU05BTUUpO1xuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXI7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gWyckJGFuaW1hdGVRdWV1ZScsIGZ1bmN0aW9uKCQkYW5pbWF0ZVF1ZXVlKSB7XG4gICAgZnVuY3Rpb24gZG9tSW5zZXJ0KGVsZW1lbnQsIHBhcmVudEVsZW1lbnQsIGFmdGVyRWxlbWVudCkge1xuICAgICAgLy8gaWYgZm9yIHNvbWUgcmVhc29uIHRoZSBwcmV2aW91cyBlbGVtZW50IHdhcyByZW1vdmVkXG4gICAgICAvLyBmcm9tIHRoZSBkb20gc29tZXRpbWUgYmVmb3JlIHRoaXMgY29kZSBydW5zIHRoZW4gbGV0J3NcbiAgICAgIC8vIGp1c3Qgc3RpY2sgdG8gdXNpbmcgdGhlIHBhcmVudCBlbGVtZW50IGFzIHRoZSBhbmNob3JcbiAgICAgIGlmIChhZnRlckVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGFmdGVyTm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShhZnRlckVsZW1lbnQpO1xuICAgICAgICBpZiAoYWZ0ZXJOb2RlICYmICFhZnRlck5vZGUucGFyZW50Tm9kZSAmJiAhYWZ0ZXJOb2RlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgICBhZnRlckVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhZnRlckVsZW1lbnQgPyBhZnRlckVsZW1lbnQuYWZ0ZXIoZWxlbWVudCkgOiBwYXJlbnRFbGVtZW50LnByZXBlbmQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSAkYW5pbWF0ZVxuICAgICAqIEBkZXNjcmlwdGlvbiBUaGUgJGFuaW1hdGUgc2VydmljZSBleHBvc2VzIGEgc2VyaWVzIG9mIERPTSB1dGlsaXR5IG1ldGhvZHMgdGhhdCBwcm92aWRlIHN1cHBvcnRcbiAgICAgKiBmb3IgYW5pbWF0aW9uIGhvb2tzLiBUaGUgZGVmYXVsdCBiZWhhdmlvciBpcyB0aGUgYXBwbGljYXRpb24gb2YgRE9NIG9wZXJhdGlvbnMsIGhvd2V2ZXIsXG4gICAgICogd2hlbiBhbiBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgKGFuZCBhbmltYXRpb25zIGFyZSBlbmFibGVkKSwgJGFuaW1hdGUgd2lsbCBkbyB0aGUgaGVhdnkgbGlmdGluZ1xuICAgICAqIHRvIGVuc3VyZSB0aGF0IGFuaW1hdGlvbiBydW5zIHdpdGggdGhlIHRyaWdnZXJlZCBET00gb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCAkYW5pbWF0ZSBkb2Vzbid0IHRyaWdnZXIgYW55IGFuaW1hdGlvbnMuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGlzbid0XG4gICAgICogaW5jbHVkZWQgYW5kIG9ubHkgd2hlbiBpdCBpcyBhY3RpdmUgdGhlbiB0aGUgYW5pbWF0aW9uIGhvb2tzIHRoYXQgYCRhbmltYXRlYCB0cmlnZ2VycyB3aWxsIGJlXG4gICAgICogZnVuY3Rpb25hbC4gT25jZSBhY3RpdmUgdGhlbiBhbGwgc3RydWN0dXJhbCBgbmctYCBkaXJlY3RpdmVzIHdpbGwgdHJpZ2dlciBhbmltYXRpb25zIGFzIHRoZXkgcGVyZm9ybVxuICAgICAqIHRoZWlyIERPTS1yZWxhdGVkIG9wZXJhdGlvbnMgKGVudGVyLCBsZWF2ZSBhbmQgbW92ZSkuIE90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgbmdDbGFzc2AsXG4gICAgICogYG5nU2hvd2AsIGBuZ0hpZGVgIGFuZCBgbmdNZXNzYWdlc2AgYWxzbyBwcm92aWRlIHN1cHBvcnQgZm9yIGFuaW1hdGlvbnMuXG4gICAgICpcbiAgICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoZWAkYW5pbWF0ZWAgc2VydmljZSBpcyBhbHdheXMgdXNlZCB3aGVuIGV4ZWN1dGluZyBET00tcmVsYXRlZCBwcm9jZWR1cmVzIHdpdGhpbiBkaXJlY3RpdmVzLlxuICAgICAqXG4gICAgICogVG8gbGVhcm4gbW9yZSBhYm91dCBlbmFibGluZyBhbmltYXRpb24gc3VwcG9ydCwgY2xpY2sgaGVyZSB0byB2aXNpdCB0aGVcbiAgICAgKiB7QGxpbmsgbmdBbmltYXRlIG5nQW5pbWF0ZSBtb2R1bGUgcGFnZX0uXG4gICAgICovXG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIHdlIGRvbid0IGNhbGwgaXQgZGlyZWN0bHkgc2luY2Ugbm9uLWV4aXN0YW50IGFyZ3VtZW50cyBtYXlcbiAgICAgIC8vIGJlIGludGVycHJldGVkIGFzIG51bGwgd2l0aGluIHRoZSBzdWIgZW5hYmxlZCBmdW5jdGlvblxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGZpcmUgd2hlbmV2ZXIgdGhlIGFuaW1hdGlvbiBldmVudCAoZW50ZXIsIGxlYXZlLCBtb3ZlLCBldGMuLi4pXG4gICAgICAgKiAgICBoYXMgZmlyZWQgb24gdGhlIGdpdmVuIGVsZW1lbnQgb3IgYW1vbmcgYW55IG9mIGl0cyBjaGlsZHJlbi4gT25jZSB0aGUgbGlzdGVuZXIgaXMgZmlyZWQsIHRoZSBwcm92aWRlZCBjYWxsYmFja1xuICAgICAgICogICAgaXMgZmlyZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtczpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogJGFuaW1hdGUub24oJ2VudGVyJywgY29udGFpbmVyLFxuICAgICAgICogICAgZnVuY3Rpb24gY2FsbGJhY2soZWxlbWVudCwgcGhhc2UpIHtcbiAgICAgICAqICAgICAgLy8gY29vbCB3ZSBkZXRlY3RlZCBhbiBlbnRlciBhbmltYXRpb24gd2l0aGluIHRoZSBjb250YWluZXJcbiAgICAgICAqICAgIH1cbiAgICAgICAqICk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgdGhlIGFuaW1hdGlvbiBldmVudCB0aGF0IHdpbGwgYmUgY2FwdHVyZWQgKGUuZy4gZW50ZXIsIGxlYXZlLCBtb3ZlLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIGV0Yy4uLilcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIHRoZSBjb250YWluZXIgZWxlbWVudCB0aGF0IHdpbGwgY2FwdHVyZSBlYWNoIG9mIHRoZSBhbmltYXRpb24gZXZlbnRzIHRoYXQgYXJlIGZpcmVkIG9uIGl0c2VsZlxuICAgICAgICogICAgIGFzIHdlbGwgYXMgYW1vbmcgaXRzIGNoaWxkcmVuXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gdGhlIGxpc3RlbmVyIGlzIHRyaWdnZXJlZFxuICAgICAgICpcbiAgICAgICAqIFRoZSBhcmd1bWVudHMgcHJlc2VudCBpbiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gYXJlOlxuICAgICAgICogKiBgZWxlbWVudGAgLSBUaGUgY2FwdHVyZWQgRE9NIGVsZW1lbnQgdGhhdCB0aGUgYW5pbWF0aW9uIHdhcyBmaXJlZCBvbi5cbiAgICAgICAqICogYHBoYXNlYCAtIFRoZSBwaGFzZSBvZiB0aGUgYW5pbWF0aW9uLiBUaGUgdHdvIHBvc3NpYmxlIHBoYXNlcyBhcmUgKipzdGFydCoqICh3aGVuIHRoZSBhbmltYXRpb24gc3RhcnRzKSBhbmQgKipjbG9zZSoqICh3aGVuIGl0IGVuZHMpLlxuICAgICAgICovXG4gICAgICBvbjogJCRhbmltYXRlUXVldWUub24sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI29mZlxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqIEBkZXNjcmlwdGlvbiBEZXJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBiYXNlZCBvbiB0aGUgZXZlbnQgd2hpY2ggaGFzIGJlZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm92aWRlZCBlbGVtZW50LiBUaGlzIG1ldGhvZFxuICAgICAgICogY2FuIGJlIHVzZWQgaW4gdGhyZWUgZGlmZmVyZW50IHdheXMgZGVwZW5kaW5nIG9uIHRoZSBhcmd1bWVudHM6XG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqIC8vIHJlbW92ZSBhbGwgdGhlIGFuaW1hdGlvbiBldmVudCBsaXN0ZW5lcnMgbGlzdGVuaW5nIGZvciBgZW50ZXJgXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJyk7XG4gICAgICAgKlxuICAgICAgICogLy8gcmVtb3ZlIGFsbCB0aGUgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGBlbnRlcmAgb24gdGhlIGdpdmVuIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlblxuICAgICAgICogJGFuaW1hdGUub2ZmKCdlbnRlcicsIGNvbnRhaW5lcik7XG4gICAgICAgKlxuICAgICAgICogLy8gcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbiBwcm92aWRlZCBieSBgbGlzdGVuZXJGbmAgdGhhdCBpcyBzZXRcbiAgICAgICAqIC8vIHRvIGxpc3RlbiBmb3IgYGVudGVyYCBvbiB0aGUgZ2l2ZW4gYGVsZW1lbnRgIGFzIHdlbGwgYXMgaXRzIGNoaWxkcmVuXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJywgY29udGFpbmVyLCBjYWxsYmFjayk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgdGhlIGFuaW1hdGlvbiBldmVudCAoZS5nLiBlbnRlciwgbGVhdmUsIG1vdmUsIGFkZENsYXNzLCByZW1vdmVDbGFzcywgZXRjLi4uKVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gY29udGFpbmVyIHRoZSBjb250YWluZXIgZWxlbWVudCB0aGUgZXZlbnQgbGlzdGVuZXIgd2FzIHBsYWNlZCBvblxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGNhbGxiYWNrIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdhcyByZWdpc3RlcmVkIGFzIHRoZSBsaXN0ZW5lclxuICAgICAgICovXG4gICAgICBvZmY6ICQkYW5pbWF0ZVF1ZXVlLm9mZixcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNwaW5cbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQXNzb2NpYXRlcyB0aGUgcHJvdmlkZWQgZWxlbWVudCB3aXRoIGEgaG9zdCBwYXJlbnQgZWxlbWVudCB0byBhbGxvdyB0aGUgZWxlbWVudCB0byBiZSBhbmltYXRlZCBldmVuIGlmIGl0IGV4aXN0c1xuICAgICAgICogICAgb3V0c2lkZSBvZiB0aGUgRE9NIHN0cnVjdHVyZSBvZiB0aGUgQW5ndWxhciBhcHBsaWNhdGlvbi4gQnkgZG9pbmcgc28sIGFueSBhbmltYXRpb24gdHJpZ2dlcmVkIHZpYSBgJGFuaW1hdGVgIGNhbiBiZSBpc3N1ZWQgb24gdGhlXG4gICAgICAgKiAgICBlbGVtZW50IGRlc3BpdGUgYmVpbmcgb3V0c2lkZSB0aGUgcmVhbG0gb2YgdGhlIGFwcGxpY2F0aW9uIG9yIHdpdGhpbiBhbm90aGVyIGFwcGxpY2F0aW9uLiBTYXkgZm9yIGV4YW1wbGUgaWYgdGhlIGFwcGxpY2F0aW9uXG4gICAgICAgKiAgICB3YXMgYm9vdHN0cmFwcGVkIG9uIGFuIGVsZW1lbnQgdGhhdCBpcyBzb21ld2hlcmUgaW5zaWRlIG9mIHRoZSBgPGJvZHk+YCB0YWcsIGJ1dCB3ZSB3YW50ZWQgdG8gYWxsb3cgZm9yIGFuIGVsZW1lbnQgdG8gYmUgc2l0dWF0ZWRcbiAgICAgICAqICAgIGFzIGEgZGlyZWN0IGNoaWxkIG9mIGBkb2N1bWVudC5ib2R5YCwgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSBwaW5uaW5nIHRoZSBlbGVtZW50IHZpYSBgJGFuaW1hdGUucGluKGVsZW1lbnQpYC4gS2VlcCBpbiBtaW5kXG4gICAgICAgKiAgICB0aGF0IGNhbGxpbmcgYCRhbmltYXRlLnBpbihlbGVtZW50LCBwYXJlbnRFbGVtZW50KWAgd2lsbCBub3QgYWN0dWFsbHkgaW5zZXJ0IGludG8gdGhlIERPTSBhbnl3aGVyZTsgaXQgd2lsbCBqdXN0IGNyZWF0ZSB0aGUgYXNzb2NpYXRpb24uXG4gICAgICAgKlxuICAgICAgICogICAgTm90ZSB0aGF0IHRoaXMgZmVhdHVyZSBpcyBvbmx5IGFjdGl2ZSB3aGVuIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaXMgdXNlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGV4dGVybmFsIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHBpbm5lZFxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnRFbGVtZW50IHRoZSBob3N0IHBhcmVudCBlbGVtZW50IHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGV4dGVybmFsIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgcGluOiAkJGFuaW1hdGVRdWV1ZS5waW4sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VuYWJsZWRcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byBnZXQgYW5kIHNldCB3aGV0aGVyIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgb3Igbm90IG9uIHRoZSBlbnRpcmUgYXBwbGljYXRpb24gb3Igb24gYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuLiBUaGlzXG4gICAgICAgKiBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGluIGZvdXIgd2F5czpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogLy8gcmV0dXJucyB0cnVlIG9yIGZhbHNlXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKCk7XG4gICAgICAgKlxuICAgICAgICogLy8gY2hhbmdlcyB0aGUgZW5hYmxlZCBzdGF0ZSBmb3IgYWxsIGFuaW1hdGlvbnNcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZmFsc2UpO1xuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZCh0cnVlKTtcbiAgICAgICAqXG4gICAgICAgKiAvLyByZXR1cm5zIHRydWUgb3IgZmFsc2UgaWYgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCBmb3IgYW4gZWxlbWVudFxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50KTtcbiAgICAgICAqXG4gICAgICAgKiAvLyBjaGFuZ2VzIHRoZSBlbmFibGVkIHN0YXRlIGZvciBhbiBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudD19IGVsZW1lbnQgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGNvbnNpZGVyZWQgZm9yIGNoZWNraW5nL3NldHRpbmcgdGhlIGVuYWJsZWQgc3RhdGVcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGVuYWJsZWQgd2hldGhlciBvciBub3QgdGhlIGFuaW1hdGlvbnMgd2lsbCBiZSBlbmFibGVkIGZvciB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGFuaW1hdGlvbnMgYXJlIGVuYWJsZWRcbiAgICAgICAqL1xuICAgICAgZW5hYmxlZDogJCRhbmltYXRlUXVldWUuZW5hYmxlZCxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNjYW5jZWxcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQ2FuY2VscyB0aGUgcHJvdmlkZWQgYW5pbWF0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7UHJvbWlzZX0gYW5pbWF0aW9uUHJvbWlzZSBUaGUgYW5pbWF0aW9uIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZCB3aGVuIGFuIGFuaW1hdGlvbiBpcyBzdGFydGVkLlxuICAgICAgICovXG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uKHJ1bm5lcikge1xuICAgICAgICBydW5uZXIuZW5kICYmIHJ1bm5lci5lbmQoKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VudGVyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgdGhlIGVsZW1lbnQgaW50byB0aGUgRE9NIGVpdGhlciBhZnRlciB0aGUgYGFmdGVyYCBlbGVtZW50IChpZiBwcm92aWRlZCkgb3JcbiAgICAgICAqICAgYXMgdGhlIGZpcnN0IGNoaWxkIHdpdGhpbiB0aGUgYHBhcmVudGAgZWxlbWVudCBhbmQgdGhlbiB0cmlnZ2VycyBhbiBhbmltYXRpb24uXG4gICAgICAgKiAgIEEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgZHVyaW5nIHRoZSBuZXh0IGRpZ2VzdCBvbmNlIHRoZSBhbmltYXRpb25cbiAgICAgICAqICAgaGFzIGNvbXBsZXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBpbnNlcnRlZCBpbnRvIHRoZSBET01cbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcGFyZW50IHRoZSBwYXJlbnQgZWxlbWVudCB3aGljaCB3aWxsIGFwcGVuZCB0aGUgZWxlbWVudCBhc1xuICAgICAgICogICBhIGNoaWxkIChzbyBsb25nIGFzIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gYWZ0ZXIgdGhlIHNpYmxpbmcgZWxlbWVudCBhZnRlciB3aGljaCB0aGUgZWxlbWVudCB3aWxsIGJlIGFwcGVuZGVkXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBhZnRlciwgb3B0aW9ucykge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgJiYganFMaXRlKHBhcmVudCk7XG4gICAgICAgIGFmdGVyID0gYWZ0ZXIgJiYganFMaXRlKGFmdGVyKTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IGFmdGVyLnBhcmVudCgpO1xuICAgICAgICBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50LCBhZnRlcik7XG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdlbnRlcicsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNtb3ZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgKG1vdmVzKSB0aGUgZWxlbWVudCBpbnRvIGl0cyBuZXcgcG9zaXRpb24gaW4gdGhlIERPTSBlaXRoZXIgYWZ0ZXJcbiAgICAgICAqICAgdGhlIGBhZnRlcmAgZWxlbWVudCAoaWYgcHJvdmlkZWQpIG9yIGFzIHRoZSBmaXJzdCBjaGlsZCB3aXRoaW4gdGhlIGBwYXJlbnRgIGVsZW1lbnRcbiAgICAgICAqICAgYW5kIHRoZW4gdHJpZ2dlcnMgYW4gYW5pbWF0aW9uLiBBIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkXG4gICAgICAgKiAgIGR1cmluZyB0aGUgbmV4dCBkaWdlc3Qgb25jZSB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgbW92ZWQgaW50byB0aGUgbmV3IERPTSBwb3NpdGlvblxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXG4gICAgICAgKiAgIGEgY2hpbGQgKHNvIGxvbmcgYXMgdGhlIGFmdGVyIGVsZW1lbnQgaXMgbm90IHByZXNlbnQpXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IGFmdGVyIHdoaWNoIHRoZSBlbGVtZW50IHdpbGwgYmUgYXBwZW5kZWRcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50ICYmIGpxTGl0ZShwYXJlbnQpO1xuICAgICAgICBhZnRlciA9IGFmdGVyICYmIGpxTGl0ZShhZnRlcik7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudCB8fCBhZnRlci5wYXJlbnQoKTtcbiAgICAgICAgZG9tSW5zZXJ0KGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIpO1xuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbW92ZScsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2xlYXZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIFRyaWdnZXJzIGFuIGFuaW1hdGlvbiBhbmQgdGhlbiByZW1vdmVzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgICAqIFdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBhIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGR1cmluZyB0aGUgbmV4dFxuICAgICAgICogZGlnZXN0IG9uY2UgdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBsZWF2ZTogZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbGVhdmUnLCBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNhZGRDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVHJpZ2dlcnMgYW4gYWRkQ2xhc3MgYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSBhZGRpdGlvbiBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxuICAgICAgICogICBleGVjdXRpb24sIHRoZSBhZGRDbGFzcyBvcGVyYXRpb24gd2lsbCBvbmx5IGJlIGhhbmRsZWQgYWZ0ZXIgdGhlIG5leHQgZGlnZXN0IGFuZCBpdCB3aWxsIG5vdCB0cmlnZ2VyIGFuXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGFscmVhZHkgY29udGFpbnMgdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgcmVtb3ZlZCBhdCBhIGxhdGVyIHN0ZXAuXG4gICAgICAgKiAgIE5vdGUgdGhhdCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGFyZSB0cmVhdGVkIGRpZmZlcmVudGx5IGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9uc1xuICAgICAgICogICAobGlrZSBlbnRlciwgbW92ZSBhbmQgbGVhdmUpIHNpbmNlIHRoZSBDU1MgY2xhc3NlcyBtYXkgYmUgYWRkZWQvcmVtb3ZlZCBhdCBkaWZmZXJlbnQgcG9pbnRzXG4gICAgICAgKiAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5hZGRjbGFzcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2FkZENsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3JlbW92ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhIHJlbW92ZUNsYXNzIGFuaW1hdGlvbiBzdXJyb3VuZGluZyB0aGUgcmVtb3ZhbCBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxuICAgICAgICogICBleGVjdXRpb24sIHRoZSByZW1vdmVDbGFzcyBvcGVyYXRpb24gd2lsbCBvbmx5IGJlIGhhbmRsZWQgYWZ0ZXIgdGhlIG5leHQgZGlnZXN0IGFuZCBpdCB3aWxsIG5vdCB0cmlnZ2VyIGFuXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgYWRkZWQgYXQgYSBsYXRlciBzdGVwLlxuICAgICAgICogICBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcbiAgICAgICAqICAgKGxpa2UgZW50ZXIsIG1vdmUgYW5kIGxlYXZlKSBzaW5jZSB0aGUgQ1NTIGNsYXNzZXMgbWF5IGJlIGFkZGVkL3JlbW92ZWQgYXQgZGlmZmVyZW50IHBvaW50c1xuICAgICAgICogICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0b1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3JlbW92ZUNsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3NldENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBQZXJmb3JtcyBib3RoIHRoZSBhZGRpdGlvbiBhbmQgcmVtb3ZhbCBvZiBhIENTUyBjbGFzc2VzIG9uIGFuIGVsZW1lbnQgYW5kIChkdXJpbmcgdGhlIHByb2Nlc3MpXG4gICAgICAgKiAgICB0cmlnZ2VycyBhbiBhbmltYXRpb24gc3Vycm91bmRpbmcgdGhlIGNsYXNzIGFkZGl0aW9uL3JlbW92YWwuIE11Y2ggbGlrZSBgJGFuaW1hdGUuYWRkQ2xhc3NgIGFuZFxuICAgICAgICogICAgYCRhbmltYXRlLnJlbW92ZUNsYXNzYCwgYHNldENsYXNzYCB3aWxsIG9ubHkgZXZhbHVhdGUgdGhlIGNsYXNzZXMgYmVpbmcgYWRkZWQvcmVtb3ZlZCBvbmNlIGEgZGlnZXN0IGhhc1xuICAgICAgICogICAgcGFzc2VkLiBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcbiAgICAgICAqICAgIChsaWtlIGVudGVyLCBtb3ZlIGFuZCBsZWF2ZSkgc2luY2UgdGhlIENTUyBjbGFzc2VzIG1heSBiZSBhZGRlZC9yZW1vdmVkIGF0IGRpZmZlcmVudCBwb2ludHNcbiAgICAgICAqICAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWRkIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSByZW1vdmVkIChtdWx0aXBsZSBjbGFzc2VzIGFyZSBzZXBhcmF0ZWQgdmlhIHNwYWNlcylcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmFkZENsYXNzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMuYWRkQ2xhc3MsIGFkZCk7XG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgcmVtb3ZlKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3NldENsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2FuaW1hdGVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uIFBlcmZvcm1zIGFuIGlubGluZSBhbmltYXRpb24gb24gdGhlIGVsZW1lbnQgd2hpY2ggYXBwbGllcyB0aGUgcHJvdmlkZWQgdG8gYW5kIGZyb20gQ1NTIHN0eWxlcyB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqIElmIGFueSBkZXRlY3RlZCBDU1MgdHJhbnNpdGlvbiwga2V5ZnJhbWUgb3IgSmF2YVNjcmlwdCBtYXRjaGVzIHRoZSBwcm92aWRlZCBjbGFzc05hbWUgdmFsdWUgdGhlbiB0aGUgYW5pbWF0aW9uIHdpbGwgdGFrZVxuICAgICAgICogb24gdGhlIHByb3ZpZGVkIHN0eWxlcy4gRm9yIGV4YW1wbGUsIGlmIGEgdHJhbnNpdGlvbiBhbmltYXRpb24gaXMgc2V0IGZvciB0aGUgZ2l2ZW4gY2xhc3NOYW1lIHRoZW4gdGhlIHByb3ZpZGVkIGZyb20gYW5kXG4gICAgICAgKiB0byBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIGFsb25nc2lkZSB0aGUgZ2l2ZW4gdHJhbnNpdGlvbi4gSWYgYSBKYXZhU2NyaXB0IGFuaW1hdGlvbiBpcyBkZXRlY3RlZCB0aGVuIHRoZSBwcm92aWRlZCBzdHlsZXNcbiAgICAgICAqIHdpbGwgYmUgZ2l2ZW4gaW4gYXMgZnVuY3Rpb24gcGFyYW10ZXJzIGludG8gdGhlIGBhbmltYXRlYCBtZXRob2QgKG9yIGFzIGFwYXJ0IG9mIHRoZSBgb3B0aW9uc2AgcGFyYW1ldGVyKS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gZnJvbSB0aGUgZnJvbSAoc3RhcnRpbmcpIENTUyBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgYW5kIGFjcm9zcyB0aGUgYW5pbWF0aW9uLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRvIHRoZSB0byAoZGVzdGluYXRpb24pIENTUyBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgYW5kIGFjcm9zcyB0aGUgYW5pbWF0aW9uLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBjbGFzc05hbWUgYW4gb3B0aW9uYWwgQ1NTIGNsYXNzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi4gSWZcbiAgICAgICAqICAgIHRoaXMgdmFsdWUgaXMgbGVmdCBhcyBlbXB0eSB0aGVuIGEgQ1NTIGNsYXNzIG9mIGBuZy1pbmxpbmUtYW5pbWF0ZWAgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICAgKE5vdGUgdGhhdCBpZiBubyBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgdGhlbiB0aGlzIHZhbHVlIHdpbGwgbm90IGJlIGFwcHBsaWVkIHRvIHRoZSBlbGVtZW50LilcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIGFuaW1hdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb20sIHRvLCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gb3B0aW9ucy5mcm9tID8gZXh0ZW5kKG9wdGlvbnMuZnJvbSwgZnJvbSkgOiBmcm9tO1xuICAgICAgICBvcHRpb25zLnRvICAgPSBvcHRpb25zLnRvICAgPyBleHRlbmQob3B0aW9ucy50bywgdG8pICAgICA6IHRvO1xuXG4gICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSB8fCAnbmctaW5saW5lLWFuaW1hdGUnO1xuICAgICAgICBvcHRpb25zLnRlbXBDbGFzc2VzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMudGVtcENsYXNzZXMsIGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdhbmltYXRlJywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG59XTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGFuaW1hdGVDc3NcbiAqIEBraW5kIG9iamVjdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyB0aGUgY29yZSB2ZXJzaW9uIG9mIGAkYW5pbWF0ZUNzc2AuIEJ5IGRlZmF1bHQsIG9ubHkgd2hlbiB0aGUgYG5nQW5pbWF0ZWAgaXMgaW5jbHVkZWQsXG4gKiB0aGVuIHRoZSBgJGFuaW1hdGVDc3NgIHNlcnZpY2Ugd2lsbCBhY3R1YWxseSBwZXJmb3JtIGFuaW1hdGlvbnMuXG4gKlxuICogQ2xpY2sgaGVyZSB7QGxpbmsgbmdBbmltYXRlLiRhbmltYXRlQ3NzIHRvIHJlYWQgdGhlIGRvY3VtZW50YXRpb24gZm9yICRhbmltYXRlQ3NzfS5cbiAqL1xudmFyICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCAnJHEnLCBmdW5jdGlvbigkJHJBRiwgJHEpIHtcblxuICAgIHZhciBSQUZQcm9taXNlID0gZnVuY3Rpb24oKSB7fTtcbiAgICBSQUZQcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgICAgIGRvbmU6IGZ1bmN0aW9uKGNhbmNlbCkge1xuICAgICAgICB0aGlzLmRlZmVyICYmIHRoaXMuZGVmZXJbY2FuY2VsID09PSB0cnVlID8gJ3JlamVjdCcgOiAncmVzb2x2ZSddKCk7XG4gICAgICB9LFxuICAgICAgZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5kb25lKCk7XG4gICAgICB9LFxuICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5kb25lKHRydWUpO1xuICAgICAgfSxcbiAgICAgIGdldFByb21pc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVmZXIpIHtcbiAgICAgICAgICB0aGlzLmRlZmVyID0gJHEuZGVmZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kZWZlci5wcm9taXNlO1xuICAgICAgfSxcbiAgICAgIHRoZW46IGZ1bmN0aW9uKGYxLGYyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKS50aGVuKGYxLGYyKTtcbiAgICAgIH0sXG4gICAgICAnY2F0Y2gnOiBmdW5jdGlvbihmMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9taXNlKClbJ2NhdGNoJ10oZjEpO1xuICAgICAgfSxcbiAgICAgICdmaW5hbGx5JzogZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpWydmaW5hbGx5J10oZjEpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgLy8gdGhlcmUgaXMgbm8gcG9pbnQgaW4gYXBwbHlpbmcgdGhlIHN0eWxlcyBzaW5jZVxuICAgICAgLy8gdGhlcmUgaXMgbm8gYW5pbWF0aW9uIHRoYXQgZ29lcyBvbiBhdCBhbGwgaW5cbiAgICAgIC8vIHRoaXMgdmVyc2lvbiBvZiAkYW5pbWF0ZUNzcy5cbiAgICAgIGlmIChvcHRpb25zLmNsZWFudXBTdHlsZXMpIHtcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gb3B0aW9ucy50byA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmZyb20pIHtcbiAgICAgICAgZWxlbWVudC5jc3Mob3B0aW9ucy5mcm9tKTtcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGNsb3NlZCwgcnVubmVyID0gbmV3IFJBRlByb21pc2UoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBydW4sXG4gICAgICAgIGVuZDogcnVuXG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBydW4oKSB7XG4gICAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgaWYgKCFjbG9zZWQpIHtcbiAgICAgICAgICAgIHJ1bm5lci5kb25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKG9wdGlvbnMuYWRkQ2xhc3MpO1xuICAgICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnJlbW92ZUNsYXNzKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhvcHRpb25zLnJlbW92ZUNsYXNzKTtcbiAgICAgICAgICBvcHRpb25zLnJlbW92ZUNsYXNzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy50bykge1xuICAgICAgICAgIGVsZW1lbnQuY3NzKG9wdGlvbnMudG8pO1xuICAgICAgICAgIG9wdGlvbnMudG8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG59O1xuXG4vKiBnbG9iYWwgc3RyaXBIYXNoOiB0cnVlICovXG5cbi8qKlxuICogISBUaGlzIGlzIGEgcHJpdmF0ZSB1bmRvY3VtZW50ZWQgc2VydmljZSAhXG4gKlxuICogQG5hbWUgJGJyb3dzZXJcbiAqIEByZXF1aXJlcyAkbG9nXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgb2JqZWN0IGhhcyB0d28gZ29hbHM6XG4gKlxuICogLSBoaWRlIGFsbCB0aGUgZ2xvYmFsIHN0YXRlIGluIHRoZSBicm93c2VyIGNhdXNlZCBieSB0aGUgd2luZG93IG9iamVjdFxuICogLSBhYnN0cmFjdCBhd2F5IGFsbCB0aGUgYnJvd3NlciBzcGVjaWZpYyBmZWF0dXJlcyBhbmQgaW5jb25zaXN0ZW5jaWVzXG4gKlxuICogRm9yIHRlc3RzIHdlIHByb3ZpZGUge0BsaW5rIG5nTW9jay4kYnJvd3NlciBtb2NrIGltcGxlbWVudGF0aW9ufSBvZiB0aGUgYCRicm93c2VyYFxuICogc2VydmljZSwgd2hpY2ggY2FuIGJlIHVzZWQgZm9yIGNvbnZlbmllbnQgdGVzdGluZyBvZiB0aGUgYXBwbGljYXRpb24gd2l0aG91dCB0aGUgaW50ZXJhY3Rpb24gd2l0aFxuICogdGhlIHJlYWwgYnJvd3NlciBhcGlzLlxuICovXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSB3aW5kb3cgVGhlIGdsb2JhbCB3aW5kb3cgb2JqZWN0LlxuICogQHBhcmFtIHtvYmplY3R9IGRvY3VtZW50IGpRdWVyeSB3cmFwcGVkIGRvY3VtZW50LlxuICogQHBhcmFtIHtvYmplY3R9ICRsb2cgd2luZG93LmNvbnNvbGUgb3IgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgaW50ZXJmYWNlLlxuICogQHBhcmFtIHtvYmplY3R9ICRzbmlmZmVyICRzbmlmZmVyIHNlcnZpY2VcbiAqL1xuZnVuY3Rpb24gQnJvd3Nlcih3aW5kb3csIGRvY3VtZW50LCAkbG9nLCAkc25pZmZlcikge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICByYXdEb2N1bWVudCA9IGRvY3VtZW50WzBdLFxuICAgICAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG4gICAgICBoaXN0b3J5ID0gd2luZG93Lmhpc3RvcnksXG4gICAgICBzZXRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQsXG4gICAgICBjbGVhclRpbWVvdXQgPSB3aW5kb3cuY2xlYXJUaW1lb3V0LFxuICAgICAgcGVuZGluZ0RlZmVySWRzID0ge307XG5cbiAgc2VsZi5pc01vY2sgPSBmYWxzZTtcblxuICB2YXIgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPSAwO1xuICB2YXIgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzID0gW107XG5cbiAgLy8gVE9ETyh2b2p0YSk6IHJlbW92ZSB0aGlzIHRlbXBvcmFyeSBhcGlcbiAgc2VsZi4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0ID0gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Q7XG4gIHNlbGYuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9IGZ1bmN0aW9uKCkgeyBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCsrOyB9O1xuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbihzdXBwb3J0cyBjdXJyeWluZykgYW5kIGRlY3JlbWVudHMgdGhlIGBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3NgXG4gICAqIGNvdW50ZXIuIElmIHRoZSBjb3VudGVyIHJlYWNoZXMgMCwgYWxsIHRoZSBgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzYCBhcmUgZXhlY3V0ZWQuXG4gICAqL1xuICBmdW5jdGlvbiBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChmbikge1xuICAgIHRyeSB7XG4gICAgICBmbi5hcHBseShudWxsLCBzbGljZUFyZ3MoYXJndW1lbnRzLCAxKSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENvdW50LS07XG4gICAgICBpZiAob3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPT09IDApIHtcbiAgICAgICAgd2hpbGUgKG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgJGxvZy5lcnJvcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIYXNoKHVybCkge1xuICAgIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgcmV0dXJuIGluZGV4ID09PSAtMSA/ICcnIDogdXJsLnN1YnN0cihpbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogTm90ZTogdGhpcyBtZXRob2QgaXMgdXNlZCBvbmx5IGJ5IHNjZW5hcmlvIHJ1bm5lclxuICAgKiBUT0RPKHZvanRhKTogcHJlZml4IHRoaXMgbWV0aG9kIHdpdGggJCQgP1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBubyBvdXRzdGFuZGluZyByZXF1ZXN0XG4gICAqL1xuICBzZWxmLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIGlmIChvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBVUkwgQVBJXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdmFyIGNhY2hlZFN0YXRlLCBsYXN0SGlzdG9yeVN0YXRlLFxuICAgICAgbGFzdEJyb3dzZXJVcmwgPSBsb2NhdGlvbi5ocmVmLFxuICAgICAgYmFzZUVsZW1lbnQgPSBkb2N1bWVudC5maW5kKCdiYXNlJyksXG4gICAgICBwZW5kaW5nTG9jYXRpb24gPSBudWxsO1xuXG4gIGNhY2hlU3RhdGUoKTtcbiAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciN1cmxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEdFVFRFUjpcbiAgICogV2l0aG91dCBhbnkgYXJndW1lbnQsIHRoaXMgbWV0aG9kIGp1c3QgcmV0dXJucyBjdXJyZW50IHZhbHVlIG9mIGxvY2F0aW9uLmhyZWYuXG4gICAqXG4gICAqIFNFVFRFUjpcbiAgICogV2l0aCBhdCBsZWFzdCBvbmUgYXJndW1lbnQsIHRoaXMgbWV0aG9kIHNldHMgdXJsIHRvIG5ldyB2YWx1ZS5cbiAgICogSWYgaHRtbDUgaGlzdG9yeSBhcGkgc3VwcG9ydGVkLCBwdXNoU3RhdGUvcmVwbGFjZVN0YXRlIGlzIHVzZWQsIG90aGVyd2lzZVxuICAgKiBsb2NhdGlvbi5ocmVmL2xvY2F0aW9uLnJlcGxhY2UgaXMgdXNlZC5cbiAgICogUmV0dXJucyBpdHMgb3duIGluc3RhbmNlIHRvIGFsbG93IGNoYWluaW5nXG4gICAqXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgJGxvY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSB1c2UgdGhlXG4gICAqIHtAbGluayBuZy4kbG9jYXRpb24gJGxvY2F0aW9uIHNlcnZpY2V9IHRvIGNoYW5nZSB1cmwuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgTmV3IHVybCAod2hlbiB1c2VkIGFzIHNldHRlcilcbiAgICogQHBhcmFtIHtib29sZWFuPX0gcmVwbGFjZSBTaG91bGQgbmV3IHVybCByZXBsYWNlIGN1cnJlbnQgaGlzdG9yeSByZWNvcmQ/XG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc3RhdGUgb2JqZWN0IHRvIHVzZSB3aXRoIHB1c2hTdGF0ZS9yZXBsYWNlU3RhdGVcbiAgICovXG4gIHNlbGYudXJsID0gZnVuY3Rpb24odXJsLCByZXBsYWNlLCBzdGF0ZSkge1xuICAgIC8vIEluIG1vZGVybiBicm93c2VycyBgaGlzdG9yeS5zdGF0ZWAgaXMgYG51bGxgIGJ5IGRlZmF1bHQ7IHRyZWF0aW5nIGl0IHNlcGFyYXRlbHlcbiAgICAvLyBmcm9tIGB1bmRlZmluZWRgIHdvdWxkIGNhdXNlIGAkYnJvd3Nlci51cmwoJy9mb28nKWAgdG8gY2hhbmdlIGBoaXN0b3J5LnN0YXRlYFxuICAgIC8vIHRvIHVuZGVmaW5lZCB2aWEgYHB1c2hTdGF0ZWAuIEluc3RlYWQsIGxldCdzIGNoYW5nZSBgdW5kZWZpbmVkYCB0byBgbnVsbGAgaGVyZS5cbiAgICBpZiAoaXNVbmRlZmluZWQoc3RhdGUpKSB7XG4gICAgICBzdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQW5kcm9pZCBCcm93c2VyIEJGQ2FjaGUgY2F1c2VzIGxvY2F0aW9uLCBoaXN0b3J5IHJlZmVyZW5jZSB0byBiZWNvbWUgc3RhbGUuXG4gICAgaWYgKGxvY2F0aW9uICE9PSB3aW5kb3cubG9jYXRpb24pIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgIGlmIChoaXN0b3J5ICE9PSB3aW5kb3cuaGlzdG9yeSkgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuXG4gICAgLy8gc2V0dGVyXG4gICAgaWYgKHVybCkge1xuICAgICAgdmFyIHNhbWVTdGF0ZSA9IGxhc3RIaXN0b3J5U3RhdGUgPT09IHN0YXRlO1xuXG4gICAgICAvLyBEb24ndCBjaGFuZ2UgYW55dGhpbmcgaWYgcHJldmlvdXMgYW5kIGN1cnJlbnQgVVJMcyBhbmQgc3RhdGVzIG1hdGNoLiBUaGlzIGFsc28gcHJldmVudHNcbiAgICAgIC8vIElFPDEwIGZyb20gZ2V0dGluZyBpbnRvIHJlZGlyZWN0IGxvb3Agd2hlbiBpbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCBtb2RlLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvY29tbWl0L2ZmYjI3MDFcbiAgICAgIGlmIChsYXN0QnJvd3NlclVybCA9PT0gdXJsICYmICghJHNuaWZmZXIuaGlzdG9yeSB8fCBzYW1lU3RhdGUpKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuICAgICAgdmFyIHNhbWVCYXNlID0gbGFzdEJyb3dzZXJVcmwgJiYgc3RyaXBIYXNoKGxhc3RCcm93c2VyVXJsKSA9PT0gc3RyaXBIYXNoKHVybCk7XG4gICAgICBsYXN0QnJvd3NlclVybCA9IHVybDtcbiAgICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBzdGF0ZTtcbiAgICAgIC8vIERvbid0IHVzZSBoaXN0b3J5IEFQSSBpZiBvbmx5IHRoZSBoYXNoIGNoYW5nZWRcbiAgICAgIC8vIGR1ZSB0byBhIGJ1ZyBpbiBJRTEwL0lFMTEgd2hpY2ggbGVhZHNcbiAgICAgIC8vIHRvIG5vdCBmaXJpbmcgYSBgaGFzaGNoYW5nZWAgbm9yIGBwb3BzdGF0ZWAgZXZlbnRcbiAgICAgIC8vIGluIHNvbWUgY2FzZXMgKHNlZSAjOTE0MykuXG4gICAgICBpZiAoJHNuaWZmZXIuaGlzdG9yeSAmJiAoIXNhbWVCYXNlIHx8ICFzYW1lU3RhdGUpKSB7XG4gICAgICAgIGhpc3RvcnlbcmVwbGFjZSA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKHN0YXRlLCAnJywgdXJsKTtcbiAgICAgICAgY2FjaGVTdGF0ZSgpO1xuICAgICAgICAvLyBEbyB0aGUgYXNzaWdubWVudCBhZ2FpbiBzbyB0aGF0IHRob3NlIHR3byB2YXJpYWJsZXMgYXJlIHJlZmVyZW50aWFsbHkgaWRlbnRpY2FsLlxuICAgICAgICBsYXN0SGlzdG9yeVN0YXRlID0gY2FjaGVkU3RhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXNhbWVCYXNlIHx8IHBlbmRpbmdMb2NhdGlvbikge1xuICAgICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2UodXJsKTtcbiAgICAgICAgfSBlbHNlIGlmICghc2FtZUJhc2UpIHtcbiAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvY2F0aW9uLmhhc2ggPSBnZXRIYXNoKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2F0aW9uLmhyZWYgIT09IHVybCkge1xuICAgICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IHVybDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgLy8gZ2V0dGVyXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIC0gcGVuZGluZ0xvY2F0aW9uIGlzIG5lZWRlZCBhcyBicm93c2VycyBkb24ndCBhbGxvdyB0byByZWFkIG91dFxuICAgICAgLy8gICB0aGUgbmV3IGxvY2F0aW9uLmhyZWYgaWYgYSByZWxvYWQgaGFwcGVuZWQgb3IgaWYgdGhlcmUgaXMgYSBidWcgbGlrZSBpbiBpT1MgOSAoc2VlXG4gICAgICAvLyAgIGh0dHBzOi8vb3BlbnJhZGFyLmFwcHNwb3QuY29tLzIyMTg2MTA5KS5cbiAgICAgIC8vIC0gdGhlIHJlcGxhY2VtZW50IGlzIGEgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NDA3MTcyXG4gICAgICByZXR1cm4gcGVuZGluZ0xvY2F0aW9uIHx8IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgvJTI3L2csXCInXCIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjc3RhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGEgZ2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gaGlzdG9yeS5zdGF0ZSBvciBudWxsIGlmIGhpc3Rvcnkuc3RhdGUgaXMgdW5kZWZpbmVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBzdGF0ZVxuICAgKi9cbiAgc2VsZi5zdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjYWNoZWRTdGF0ZTtcbiAgfTtcblxuICB2YXIgdXJsQ2hhbmdlTGlzdGVuZXJzID0gW10sXG4gICAgICB1cmxDaGFuZ2VJbml0ID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UoKSB7XG4gICAgcGVuZGluZ0xvY2F0aW9uID0gbnVsbDtcbiAgICBjYWNoZVN0YXRlKCk7XG4gICAgZmlyZVVybENoYW5nZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudFN0YXRlKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5zdGF0ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBNU0lFIGNhbiByZXBvcnRlZGx5IHRocm93IHdoZW4gdGhlcmUgaXMgbm8gc3RhdGUgKFVOQ09ORklSTUVEKS5cbiAgICB9XG4gIH1cblxuICAvLyBUaGlzIHZhcmlhYmxlIHNob3VsZCBiZSB1c2VkICpvbmx5KiBpbnNpZGUgdGhlIGNhY2hlU3RhdGUgZnVuY3Rpb24uXG4gIHZhciBsYXN0Q2FjaGVkU3RhdGUgPSBudWxsO1xuICBmdW5jdGlvbiBjYWNoZVN0YXRlKCkge1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIHRoZSBvbmx5IHBsYWNlIGluICRicm93c2VyIHdoZXJlIGBoaXN0b3J5LnN0YXRlYCBpcyByZWFkLlxuICAgIGNhY2hlZFN0YXRlID0gZ2V0Q3VycmVudFN0YXRlKCk7XG4gICAgY2FjaGVkU3RhdGUgPSBpc1VuZGVmaW5lZChjYWNoZWRTdGF0ZSkgPyBudWxsIDogY2FjaGVkU3RhdGU7XG5cbiAgICAvLyBQcmV2ZW50IGNhbGxiYWNrcyBmbyBmaXJlIHR3aWNlIGlmIGJvdGggaGFzaGNoYW5nZSAmIHBvcHN0YXRlIHdlcmUgZmlyZWQuXG4gICAgaWYgKGVxdWFscyhjYWNoZWRTdGF0ZSwgbGFzdENhY2hlZFN0YXRlKSkge1xuICAgICAgY2FjaGVkU3RhdGUgPSBsYXN0Q2FjaGVkU3RhdGU7XG4gICAgfVxuICAgIGxhc3RDYWNoZWRTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlyZVVybENoYW5nZSgpIHtcbiAgICBpZiAobGFzdEJyb3dzZXJVcmwgPT09IHNlbGYudXJsKCkgJiYgbGFzdEhpc3RvcnlTdGF0ZSA9PT0gY2FjaGVkU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsYXN0QnJvd3NlclVybCA9IHNlbGYudXJsKCk7XG4gICAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuICAgIGZvckVhY2godXJsQ2hhbmdlTGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoc2VsZi51cmwoKSwgY2FjaGVkU3RhdGUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI29uVXJsQ2hhbmdlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkLCB3aGVuIHVybCBjaGFuZ2VzLlxuICAgKlxuICAgKiBJdCdzIG9ubHkgY2FsbGVkIHdoZW4gdGhlIHVybCBpcyBjaGFuZ2VkIGZyb20gb3V0c2lkZSBvZiBhbmd1bGFyOlxuICAgKiAtIHVzZXIgdHlwZXMgZGlmZmVyZW50IHVybCBpbnRvIGFkZHJlc3MgYmFyXG4gICAqIC0gdXNlciBjbGlja3Mgb24gaGlzdG9yeSAoZm9yd2FyZC9iYWNrKSBidXR0b25cbiAgICogLSB1c2VyIGNsaWNrcyBvbiBhIGxpbmtcbiAgICpcbiAgICogSXQncyBub3QgY2FsbGVkIHdoZW4gdXJsIGlzIGNoYW5nZWQgYnkgJGJyb3dzZXIudXJsKCkgbWV0aG9kXG4gICAqXG4gICAqIFRoZSBsaXN0ZW5lciBnZXRzIGNhbGxlZCB3aXRoIG5ldyB1cmwgYXMgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgdGhlICRsb2NhdGlvbiBzZXJ2aWNlLiBQbGVhc2UgdXNlIHRoZVxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbiBzZXJ2aWNlfSB0byBtb25pdG9yIHVybCBjaGFuZ2VzIGluIGFuZ3VsYXIgYXBwcy5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcpfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB1cmwgY2hhbmdlcy5cbiAgICogQHJldHVybiB7ZnVuY3Rpb24oc3RyaW5nKX0gUmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBsaXN0ZW5lciBmbiAtIGhhbmR5IGlmIHRoZSBmbiBpcyBhbm9ueW1vdXMuXG4gICAqL1xuICBzZWxmLm9uVXJsQ2hhbmdlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPKHZvanRhKTogcmVmYWN0b3IgdG8gdXNlIG5vZGUncyBzeW50YXggZm9yIGV2ZW50c1xuICAgIGlmICghdXJsQ2hhbmdlSW5pdCkge1xuICAgICAgLy8gV2UgbGlzdGVuIG9uIGJvdGggKGhhc2hjaGFuZ2UvcG9wc3RhdGUpIHdoZW4gYXZhaWxhYmxlLCBhcyBzb21lIGJyb3dzZXJzIChlLmcuIE9wZXJhKVxuICAgICAgLy8gZG9uJ3QgZmlyZSBwb3BzdGF0ZSB3aGVuIHVzZXIgY2hhbmdlIHRoZSBhZGRyZXNzIGJhciBhbmQgZG9uJ3QgZmlyZSBoYXNoY2hhbmdlIHdoZW4gdXJsXG4gICAgICAvLyBjaGFuZ2VkIGJ5IHB1c2gvcmVwbGFjZVN0YXRlXG5cbiAgICAgIC8vIGh0bWw1IGhpc3RvcnkgYXBpIC0gcG9wc3RhdGUgZXZlbnRcbiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5KSBqcUxpdGUod2luZG93KS5vbigncG9wc3RhdGUnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XG4gICAgICAvLyBoYXNoY2hhbmdlIGV2ZW50XG4gICAgICBqcUxpdGUod2luZG93KS5vbignaGFzaGNoYW5nZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcblxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IHRydWU7XG4gICAgfVxuXG4gICAgdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBjYWxsYmFjaztcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogUmVtb3ZlIHBvcHN0YXRlIGFuZCBoYXNoY2hhbmdlIGhhbmRsZXIgZnJvbSB3aW5kb3cuXG4gICAqXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSAkcm9vdFNjb3BlLlxuICAgKi9cbiAgc2VsZi4kJGFwcGxpY2F0aW9uRGVzdHJveWVkID0gZnVuY3Rpb24oKSB7XG4gICAganFMaXRlKHdpbmRvdykub2ZmKCdoYXNoY2hhbmdlIHBvcHN0YXRlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgdXJsIGhhcyBjaGFuZ2VkIG91dHNpZGUgb2YgQW5ndWxhci5cbiAgICogTmVlZHMgdG8gYmUgZXhwb3J0ZWQgdG8gYmUgYWJsZSB0byBjaGVjayBmb3IgY2hhbmdlcyB0aGF0IGhhdmUgYmVlbiBkb25lIGluIHN5bmMsXG4gICAqIGFzIGhhc2hjaGFuZ2UvcG9wc3RhdGUgZXZlbnRzIGZpcmUgaW4gYXN5bmMuXG4gICAqL1xuICBzZWxmLiQkY2hlY2tVcmxDaGFuZ2UgPSBmaXJlVXJsQ2hhbmdlO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE1pc2MgQVBJXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI2Jhc2VIcmVmXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIGN1cnJlbnQgPGJhc2UgaHJlZj5cbiAgICogKGFsd2F5cyByZWxhdGl2ZSAtIHdpdGhvdXQgZG9tYWluKVxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY3VycmVudCBiYXNlIGhyZWZcbiAgICovXG4gIHNlbGYuYmFzZUhyZWYgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaHJlZiA9IGJhc2VFbGVtZW50LmF0dHIoJ2hyZWYnKTtcbiAgICByZXR1cm4gaHJlZiA/IGhyZWYucmVwbGFjZSgvXihodHRwcz9cXDopP1xcL1xcL1teXFwvXSovLCAnJykgOiAnJztcbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjZGVmZXJcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uLCB3aG8ncyBleGVjdXRpb24gc2hvdWxkIGJlIGRlZmVycmVkLlxuICAgKiBAcGFyYW0ge251bWJlcj19IFtkZWxheT0wXSBvZiBtaWxsaXNlY29uZHMgdG8gZGVmZXIgdGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbi5cbiAgICogQHJldHVybnMgeyp9IERlZmVySWQgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHRhc2sgdmlhIGAkYnJvd3Nlci5kZWZlci5jYW5jZWwoKWAuXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFeGVjdXRlcyBhIGZuIGFzeW5jaHJvbm91c2x5IHZpYSBgc2V0VGltZW91dChmbiwgZGVsYXkpYC5cbiAgICpcbiAgICogVW5saWtlIHdoZW4gY2FsbGluZyBgc2V0VGltZW91dGAgZGlyZWN0bHksIGluIHRlc3QgdGhpcyBmdW5jdGlvbiBpcyBtb2NrZWQgYW5kIGluc3RlYWQgb2YgdXNpbmdcbiAgICogYHNldFRpbWVvdXRgIGluIHRlc3RzLCB0aGUgZm5zIGFyZSBxdWV1ZWQgaW4gYW4gYXJyYXksIHdoaWNoIGNhbiBiZSBwcm9ncmFtbWF0aWNhbGx5IGZsdXNoZWRcbiAgICogdmlhIGAkYnJvd3Nlci5kZWZlci5mbHVzaCgpYC5cbiAgICpcbiAgICovXG4gIHNlbGYuZGVmZXIgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHtcbiAgICB2YXIgdGltZW91dElkO1xuICAgIG91dHN0YW5kaW5nUmVxdWVzdENvdW50Kys7XG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXTtcbiAgICAgIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KGZuKTtcbiAgICB9LCBkZWxheSB8fCAwKTtcbiAgICBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXSA9IHRydWU7XG4gICAgcmV0dXJuIHRpbWVvdXRJZDtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlci5jYW5jZWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbmNlbHMgYSBkZWZlcnJlZCB0YXNrIGlkZW50aWZpZWQgd2l0aCBgZGVmZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZGVmZXJJZCBUb2tlbiByZXR1cm5lZCBieSB0aGUgYCRicm93c2VyLmRlZmVyYCBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHlcbiAgICogICAgICAgICAgICAgICAgICAgIGNhbmNlbGVkLlxuICAgKi9cbiAgc2VsZi5kZWZlci5jYW5jZWwgPSBmdW5jdGlvbihkZWZlcklkKSB7XG4gICAgaWYgKHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXSkge1xuICAgICAgZGVsZXRlIHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXTtcbiAgICAgIGNsZWFyVGltZW91dChkZWZlcklkKTtcbiAgICAgIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxufVxuXG5mdW5jdGlvbiAkQnJvd3NlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGxvZycsICckc25pZmZlcicsICckZG9jdW1lbnQnLFxuICAgICAgZnVuY3Rpb24oJHdpbmRvdywgJGxvZywgJHNuaWZmZXIsICRkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXIoJHdpbmRvdywgJGRvY3VtZW50LCAkbG9nLCAkc25pZmZlcik7XG4gICAgICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGNhY2hlRmFjdG9yeVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmFjdG9yeSB0aGF0IGNvbnN0cnVjdHMge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdHMgYW5kIGdpdmVzIGFjY2VzcyB0b1xuICogdGhlbS5cbiAqXG4gKiBgYGBqc1xuICpcbiAqICB2YXIgY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7XG4gKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdjYWNoZUlkJykpLnRvQmUoY2FjaGUpO1xuICogIGV4cGVjdCgkY2FjaGVGYWN0b3J5LmdldCgnbm9TdWNoQ2FjaGVJZCcpKS5ub3QudG9CZURlZmluZWQoKTtcbiAqXG4gKiAgY2FjaGUucHV0KFwia2V5XCIsIFwidmFsdWVcIik7XG4gKiAgY2FjaGUucHV0KFwiYW5vdGhlciBrZXlcIiwgXCJhbm90aGVyIHZhbHVlXCIpO1xuICpcbiAqICAvLyBXZSd2ZSBzcGVjaWZpZWQgbm8gb3B0aW9ucyBvbiBjcmVhdGlvblxuICogIGV4cGVjdChjYWNoZS5pbmZvKCkpLnRvRXF1YWwoe2lkOiAnY2FjaGVJZCcsIHNpemU6IDJ9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBjYWNoZS5cbiAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCB0aGF0IHNwZWNpZmllcyB0aGUgY2FjaGUgYmVoYXZpb3IuIFByb3BlcnRpZXM6XG4gKlxuICogICAtIGB7bnVtYmVyPX1gIGBjYXBhY2l0eWAg4oCUIHR1cm5zIHRoZSBjYWNoZSBpbnRvIExSVSBjYWNoZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBOZXdseSBjcmVhdGVkIGNhY2hlIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc2V0IG9mIG1ldGhvZHM6XG4gKlxuICogLSBge29iamVjdH1gIGBpbmZvKClgIOKAlCBSZXR1cm5zIGlkLCBzaXplLCBhbmQgb3B0aW9ucyBvZiBjYWNoZS5cbiAqIC0gYHt7Kn19YCBgcHV0KHtzdHJpbmd9IGtleSwgeyp9IHZhbHVlKWAg4oCUIFB1dHMgYSBuZXcga2V5LXZhbHVlIHBhaXIgaW50byB0aGUgY2FjaGUgYW5kIHJldHVybnNcbiAqICAgaXQuXG4gKiAtIGB7eyp9fWAgYGdldCh7c3RyaW5nfSBrZXkpYCDigJQgUmV0dXJucyBjYWNoZWQgdmFsdWUgZm9yIGBrZXlgIG9yIHVuZGVmaW5lZCBmb3IgY2FjaGUgbWlzcy5cbiAqIC0gYHt2b2lkfWAgYHJlbW92ZSh7c3RyaW5nfSBrZXkpYCDigJQgUmVtb3ZlcyBhIGtleS12YWx1ZSBwYWlyIGZyb20gdGhlIGNhY2hlLlxuICogLSBge3ZvaWR9YCBgcmVtb3ZlQWxsKClgIOKAlCBSZW1vdmVzIGFsbCBjYWNoZWQgdmFsdWVzLlxuICogLSBge3ZvaWR9YCBgZGVzdHJveSgpYCDigJQgUmVtb3ZlcyByZWZlcmVuY2VzIHRvIHRoaXMgY2FjaGUgZnJvbSAkY2FjaGVGYWN0b3J5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJjYWNoZUV4YW1wbGVBcHBcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYWNoZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5ld0NhY2hlS2V5XCIgcGxhY2Vob2xkZXI9XCJLZXlcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5ld0NhY2hlVmFsdWVcIiBwbGFjZWhvbGRlcj1cIlZhbHVlXCI+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicHV0KG5ld0NhY2hlS2V5LCBuZXdDYWNoZVZhbHVlKVwiPkNhY2hlPC9idXR0b24+XG5cbiAgICAgICAgIDxwIG5nLWlmPVwia2V5cy5sZW5ndGhcIj5DYWNoZWQgVmFsdWVzPC9wPlxuICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XCJrZXkgaW4ga2V5c1wiPlxuICAgICAgICAgICA8c3BhbiBuZy1iaW5kPVwia2V5XCI+PC9zcGFuPlxuICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cbiAgICAgICAgICAgPGIgbmctYmluZD1cImNhY2hlLmdldChrZXkpXCI+PC9iPlxuICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgIDxwPkNhY2hlIEluZm88L3A+XG4gICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cIihrZXksIHZhbHVlKSBpbiBjYWNoZS5pbmZvKClcIj5cbiAgICAgICAgICAgPHNwYW4gbmctYmluZD1cImtleVwiPjwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4+OiA8L3NwYW4+XG4gICAgICAgICAgIDxiIG5nLWJpbmQ9XCJ2YWx1ZVwiPjwvYj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2FjaGVFeGFtcGxlQXBwJywgW10pLlxuICAgICAgICAgY29udHJvbGxlcignQ2FjaGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRzY29wZSwgJGNhY2hlRmFjdG9yeSkge1xuICAgICAgICAgICAkc2NvcGUua2V5cyA9IFtdO1xuICAgICAgICAgICAkc2NvcGUuY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7XG4gICAgICAgICAgICRzY29wZS5wdXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoJHNjb3BlLmNhY2hlLmdldChrZXkpKSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAkc2NvcGUuY2FjaGUucHV0KGtleSwgYW5ndWxhci5pc1VuZGVmaW5lZCh2YWx1ZSkgPyBudWxsIDogdmFsdWUpO1xuICAgICAgICAgICB9O1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICBwIHtcbiAgICAgICAgIG1hcmdpbjogMTBweCAwIDNweDtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJENhY2hlRmFjdG9yeVByb3ZpZGVyKCkge1xuXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYWNoZXMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGNhY2hlRmFjdG9yeShjYWNoZUlkLCBvcHRpb25zKSB7XG4gICAgICBpZiAoY2FjaGVJZCBpbiBjYWNoZXMpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckY2FjaGVGYWN0b3J5JykoJ2lpZCcsIFwiQ2FjaGVJZCAnezB9JyBpcyBhbHJlYWR5IHRha2VuIVwiLCBjYWNoZUlkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNpemUgPSAwLFxuICAgICAgICAgIHN0YXRzID0gZXh0ZW5kKHt9LCBvcHRpb25zLCB7aWQ6IGNhY2hlSWR9KSxcbiAgICAgICAgICBkYXRhID0gY3JlYXRlTWFwKCksXG4gICAgICAgICAgY2FwYWNpdHkgPSAob3B0aW9ucyAmJiBvcHRpb25zLmNhcGFjaXR5KSB8fCBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgIGxydUhhc2ggPSBjcmVhdGVNYXAoKSxcbiAgICAgICAgICBmcmVzaEVuZCA9IG51bGwsXG4gICAgICAgICAgc3RhbGVFbmQgPSBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyB0eXBlXG4gICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBIGNhY2hlIG9iamVjdCB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBkYXRhLCBwcmltYXJpbHkgdXNlZCBieVxuICAgICAgICoge0BsaW5rICRodHRwICRodHRwfSBhbmQgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6c2NyaXB0IHNjcmlwdH0gZGlyZWN0aXZlIHRvIGNhY2hlXG4gICAgICAgKiB0ZW1wbGF0ZXMgYW5kIG90aGVyIGRhdGEuXG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqICBhbmd1bGFyLm1vZHVsZSgnc3VwZXJDYWNoZScpXG4gICAgICAgKiAgICAuZmFjdG9yeSgnc3VwZXJDYWNoZScsIFsnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRjYWNoZUZhY3RvcnkpIHtcbiAgICAgICAqICAgICAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3N1cGVyLWNhY2hlJyk7XG4gICAgICAgKiAgICB9XSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBFeGFtcGxlIHRlc3Q6XG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqICBpdCgnc2hvdWxkIGJlaGF2ZSBsaWtlIGEgY2FjaGUnLCBpbmplY3QoZnVuY3Rpb24oc3VwZXJDYWNoZSkge1xuICAgICAgICogICAgc3VwZXJDYWNoZS5wdXQoJ2tleScsICd2YWx1ZScpO1xuICAgICAgICogICAgc3VwZXJDYWNoZS5wdXQoJ2Fub3RoZXIga2V5JywgJ2Fub3RoZXIgdmFsdWUnKTtcbiAgICAgICAqXG4gICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5pbmZvKCkpLnRvRXF1YWwoe1xuICAgICAgICogICAgICBpZDogJ3N1cGVyLWNhY2hlJyxcbiAgICAgICAqICAgICAgc2l6ZTogMlxuICAgICAgICogICAgfSk7XG4gICAgICAgKlxuICAgICAgICogICAgc3VwZXJDYWNoZS5yZW1vdmUoJ2Fub3RoZXIga2V5Jyk7XG4gICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5nZXQoJ2Fub3RoZXIga2V5JykpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgICAqXG4gICAgICAgKiAgICBzdXBlckNhY2hlLnJlbW92ZUFsbCgpO1xuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuaW5mbygpKS50b0VxdWFsKHtcbiAgICAgICAqICAgICAgaWQ6ICdzdXBlci1jYWNoZScsXG4gICAgICAgKiAgICAgIHNpemU6IDBcbiAgICAgICAqICAgIH0pO1xuICAgICAgICogIH0pKTtcbiAgICAgICAqIGBgYFxuICAgICAgICovXG4gICAgICByZXR1cm4gY2FjaGVzW2NhY2hlSWRdID0ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcHV0XG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbnNlcnRzIGEgbmFtZWQgZW50cnkgaW50byB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdCB0byBiZVxuICAgICAgICAgKiByZXRyaWV2ZWQgbGF0ZXIsIGFuZCBpbmNyZW1lbnRpbmcgdGhlIHNpemUgb2YgdGhlIGNhY2hlIGlmIHRoZSBrZXkgd2FzIG5vdCBhbHJlYWR5XG4gICAgICAgICAqIHByZXNlbnQgaW4gdGhlIGNhY2hlLiBJZiBiZWhhdmluZyBsaWtlIGFuIExSVSBjYWNoZSwgaXQgd2lsbCBhbHNvIHJlbW92ZSBzdGFsZVxuICAgICAgICAgKiBlbnRyaWVzIGZyb20gdGhlIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogSXQgd2lsbCBub3QgaW5zZXJ0IHVuZGVmaW5lZCB2YWx1ZXMgaW50byB0aGUgY2FjaGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSB1bmRlciB3aGljaCB0aGUgY2FjaGVkIGRhdGEgaXMgc3RvcmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIHRoZSB2YWx1ZSB0byBzdG9yZSBhbG9uZ3NpZGUgdGhlIGtleS4gSWYgaXQgaXMgdW5kZWZpbmVkLCB0aGUga2V5XG4gICAgICAgICAqICAgIHdpbGwgbm90IGJlIHN0b3JlZC5cbiAgICAgICAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBzdG9yZWQuXG4gICAgICAgICAqL1xuICAgICAgICBwdXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldIHx8IChscnVIYXNoW2tleV0gPSB7a2V5OiBrZXl9KTtcblxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGEpKSBzaXplKys7XG4gICAgICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG5cbiAgICAgICAgICBpZiAoc2l6ZSA+IGNhcGFjaXR5KSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShzdGFsZUVuZC5rZXkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2dldFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0cmlldmVzIG5hbWVkIGRhdGEgc3RvcmVkIGluIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgb2YgdGhlIGRhdGEgdG8gYmUgcmV0cmlldmVkXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgc3RvcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV07XG5cbiAgICAgICAgICAgIGlmICghbHJ1RW50cnkpIHJldHVybjtcblxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcmVtb3ZlXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZW1vdmVzIGFuIGVudHJ5IGZyb20gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSBvZiB0aGUgZW50cnkgdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV07XG5cbiAgICAgICAgICAgIGlmICghbHJ1RW50cnkpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09IGZyZXNoRW5kKSBmcmVzaEVuZCA9IGxydUVudHJ5LnA7XG4gICAgICAgICAgICBpZiAobHJ1RW50cnkgPT0gc3RhbGVFbmQpIHN0YWxlRW5kID0gbHJ1RW50cnkubjtcbiAgICAgICAgICAgIGxpbmsobHJ1RW50cnkubixscnVFbnRyeS5wKTtcblxuICAgICAgICAgICAgZGVsZXRlIGxydUhhc2hba2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIShrZXkgaW4gZGF0YSkpIHJldHVybjtcblxuICAgICAgICAgIGRlbGV0ZSBkYXRhW2tleV07XG4gICAgICAgICAgc2l6ZS0tO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNyZW1vdmVBbGxcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENsZWFycyB0aGUgY2FjaGUgb2JqZWN0IG9mIGFueSBlbnRyaWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlQWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkYXRhID0gY3JlYXRlTWFwKCk7XG4gICAgICAgICAgc2l6ZSA9IDA7XG4gICAgICAgICAgbHJ1SGFzaCA9IGNyZWF0ZU1hcCgpO1xuICAgICAgICAgIGZyZXNoRW5kID0gc3RhbGVFbmQgPSBudWxsO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNkZXN0cm95XG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBEZXN0cm95cyB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdCBlbnRpcmVseSxcbiAgICAgICAgICogcmVtb3ZpbmcgaXQgZnJvbSB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkgJGNhY2hlRmFjdG9yeX0gc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGF0YSA9IG51bGw7XG4gICAgICAgICAgc3RhdHMgPSBudWxsO1xuICAgICAgICAgIGxydUhhc2ggPSBudWxsO1xuICAgICAgICAgIGRlbGV0ZSBjYWNoZXNbY2FjaGVJZF07XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2luZm9cbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHJpZXZlIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBhIHBhcnRpY3VsYXIge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgICAqICAgPHVsPlxuICAgICAgICAgKiAgICAgPGxpPioqaWQqKjogdGhlIGlkIG9mIHRoZSBjYWNoZSBpbnN0YW5jZTwvbGk+XG4gICAgICAgICAqICAgICA8bGk+KipzaXplKio6IHRoZSBudW1iZXIgb2YgZW50cmllcyBrZXB0IGluIHRoZSBjYWNoZSBpbnN0YW5jZTwvbGk+XG4gICAgICAgICAqICAgICA8bGk+KiouLi4qKjogYW55IGFkZGl0aW9uYWwgcHJvcGVydGllcyBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCB3aGVuIGNyZWF0aW5nIHRoZVxuICAgICAgICAgKiAgICAgICBjYWNoZS48L2xpPlxuICAgICAgICAgKiAgIDwvdWw+XG4gICAgICAgICAqL1xuICAgICAgICBpbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBzdGF0cywge3NpemU6IHNpemV9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIG1ha2VzIHRoZSBgZW50cnlgIHRoZSBmcmVzaEVuZCBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlZnJlc2goZW50cnkpIHtcbiAgICAgICAgaWYgKGVudHJ5ICE9IGZyZXNoRW5kKSB7XG4gICAgICAgICAgaWYgKCFzdGFsZUVuZCkge1xuICAgICAgICAgICAgc3RhbGVFbmQgPSBlbnRyeTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YWxlRW5kID09IGVudHJ5KSB7XG4gICAgICAgICAgICBzdGFsZUVuZCA9IGVudHJ5Lm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGluayhlbnRyeS5uLCBlbnRyeS5wKTtcbiAgICAgICAgICBsaW5rKGVudHJ5LCBmcmVzaEVuZCk7XG4gICAgICAgICAgZnJlc2hFbmQgPSBlbnRyeTtcbiAgICAgICAgICBmcmVzaEVuZC5uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIC8qKlxuICAgICAgICogYmlkaXJlY3Rpb25hbGx5IGxpbmtzIHR3byBlbnRyaWVzIG9mIHRoZSBMUlUgbGlua2VkIGxpc3RcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gbGluayhuZXh0RW50cnksIHByZXZFbnRyeSkge1xuICAgICAgICBpZiAobmV4dEVudHJ5ICE9IHByZXZFbnRyeSkge1xuICAgICAgICAgIGlmIChuZXh0RW50cnkpIG5leHRFbnRyeS5wID0gcHJldkVudHJ5OyAvL3Agc3RhbmRzIGZvciBwcmV2aW91cywgJ3ByZXYnIGRpZG4ndCBtaW5pZnlcbiAgICAgICAgICBpZiAocHJldkVudHJ5KSBwcmV2RW50cnkubiA9IG5leHRFbnRyeTsgLy9uIHN0YW5kcyBmb3IgbmV4dCwgJ25leHQnIGRpZG4ndCBtaW5pZnlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjYWNoZUZhY3RvcnkjaW5mb1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogR2V0IGluZm9ybWF0aW9uIGFib3V0IGFsbCB0aGUgY2FjaGVzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWRcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gLSBrZXktdmFsdWUgbWFwIG9mIGBjYWNoZUlkYCB0byB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgYGNhY2hlI2luZm9gXG4gICAqL1xuICAgIGNhY2hlRmFjdG9yeS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW5mbyA9IHt9O1xuICAgICAgZm9yRWFjaChjYWNoZXMsIGZ1bmN0aW9uKGNhY2hlLCBjYWNoZUlkKSB7XG4gICAgICAgIGluZm9bY2FjaGVJZF0gPSBjYWNoZS5pbmZvKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5I2dldFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogR2V0IGFjY2VzcyB0byBhIGNhY2hlIG9iamVjdCBieSB0aGUgYGNhY2hlSWRgIHVzZWQgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiBhIGNhY2hlIHRvIGFjY2Vzcy5cbiAgICogQHJldHVybnMge29iamVjdH0gQ2FjaGUgb2JqZWN0IGlkZW50aWZpZWQgYnkgdGhlIGNhY2hlSWQgb3IgdW5kZWZpbmVkIGlmIG5vIHN1Y2ggY2FjaGUuXG4gICAqL1xuICAgIGNhY2hlRmFjdG9yeS5nZXQgPSBmdW5jdGlvbihjYWNoZUlkKSB7XG4gICAgICByZXR1cm4gY2FjaGVzW2NhY2hlSWRdO1xuICAgIH07XG5cblxuICAgIHJldHVybiBjYWNoZUZhY3Rvcnk7XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR0ZW1wbGF0ZUNhY2hlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgZmlyc3QgdGltZSBhIHRlbXBsYXRlIGlzIHVzZWQsIGl0IGlzIGxvYWRlZCBpbiB0aGUgdGVtcGxhdGUgY2FjaGUgZm9yIHF1aWNrIHJldHJpZXZhbC4gWW91XG4gKiBjYW4gbG9hZCB0ZW1wbGF0ZXMgZGlyZWN0bHkgaW50byB0aGUgY2FjaGUgaW4gYSBgc2NyaXB0YCB0YWcsIG9yIGJ5IGNvbnN1bWluZyB0aGVcbiAqIGAkdGVtcGxhdGVDYWNoZWAgc2VydmljZSBkaXJlY3RseS5cbiAqXG4gKiBBZGRpbmcgdmlhIHRoZSBgc2NyaXB0YCB0YWc6XG4gKlxuICogYGBgaHRtbFxuICogICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L25nLXRlbXBsYXRlXCIgaWQ9XCJ0ZW1wbGF0ZUlkLmh0bWxcIj5cbiAqICAgICA8cD5UaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZTwvcD5cbiAqICAgPC9zY3JpcHQ+XG4gKiBgYGBcbiAqXG4gKiAqKk5vdGU6KiogdGhlIGBzY3JpcHRgIHRhZyBjb250YWluaW5nIHRoZSB0ZW1wbGF0ZSBkb2VzIG5vdCBuZWVkIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBgaGVhZGAgb2ZcbiAqIHRoZSBkb2N1bWVudCwgYnV0IGl0IG11c3QgYmUgYSBkZXNjZW5kZW50IG9mIHRoZSB7QGxpbmsgbmcuJHJvb3RFbGVtZW50ICRyb290RWxlbWVudH0gKElFLFxuICogZWxlbWVudCB3aXRoIG5nLWFwcCBhdHRyaWJ1dGUpLCBvdGhlcndpc2UgdGhlIHRlbXBsYXRlIHdpbGwgYmUgaWdub3JlZC5cbiAqXG4gKiBBZGRpbmcgdmlhIHRoZSBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2U6XG4gKlxuICogYGBganNcbiAqIHZhciBteUFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKTtcbiAqIG15QXBwLnJ1bihmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICogICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3RlbXBsYXRlSWQuaHRtbCcsICdUaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZScpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBUbyByZXRyaWV2ZSB0aGUgdGVtcGxhdGUgbGF0ZXIsIHNpbXBseSB1c2UgaXQgaW4geW91ciBIVE1MOlxuICogYGBgaHRtbFxuICogPGRpdiBuZy1pbmNsdWRlPVwiICd0ZW1wbGF0ZUlkLmh0bWwnIFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogb3IgZ2V0IGl0IHZpYSBKYXZhc2NyaXB0OlxuICogYGBganNcbiAqICR0ZW1wbGF0ZUNhY2hlLmdldCgndGVtcGxhdGVJZC5odG1sJylcbiAqIGBgYFxuICpcbiAqIFNlZSB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fS5cbiAqXG4gKi9cbmZ1bmN0aW9uICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRjYWNoZUZhY3RvcnkpIHtcbiAgICByZXR1cm4gJGNhY2hlRmFjdG9yeSgndGVtcGxhdGVzJyk7XG4gIH1dO1xufVxuXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xuXG4vKiAhIFZBUklBQkxFL0ZVTkNUSU9OIE5BTUlORyBDT05WRU5USU9OUyBUSEFUIEFQUExZIFRPIFRISVMgRklMRSFcbiAqXG4gKiBET00tcmVsYXRlZCB2YXJpYWJsZXM6XG4gKlxuICogLSBcIm5vZGVcIiAtIERPTSBOb2RlXG4gKiAtIFwiZWxlbWVudFwiIC0gRE9NIEVsZW1lbnQgb3IgTm9kZVxuICogLSBcIiRub2RlXCIgb3IgXCIkZWxlbWVudFwiIC0ganFMaXRlLXdyYXBwZWQgbm9kZSBvciBlbGVtZW50XG4gKlxuICpcbiAqIENvbXBpbGVyIHJlbGF0ZWQgc3R1ZmY6XG4gKlxuICogLSBcImxpbmtGblwiIC0gbGlua2luZyBmbiBvZiBhIHNpbmdsZSBkaXJlY3RpdmVcbiAqIC0gXCJub2RlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIHBhcnRpY3VsYXIgbm9kZVxuICogLSBcImNoaWxkTGlua0ZuXCIgLSAgZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgY2hpbGQgbm9kZXMgb2YgYSBwYXJ0aWN1bGFyIG5vZGVcbiAqIC0gXCJjb21wb3NpdGVMaW5rRm5cIiAtIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGEgY29tcGlsYXRpb24gcm9vdCAobm9kZUxpc3QpXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkY29tcGlsZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbXBpbGVzIGFuIEhUTUwgc3RyaW5nIG9yIERPTSBpbnRvIGEgdGVtcGxhdGUgYW5kIHByb2R1Y2VzIGEgdGVtcGxhdGUgZnVuY3Rpb24sIHdoaWNoXG4gKiBjYW4gdGhlbiBiZSB1c2VkIHRvIGxpbmsge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgYHNjb3BlYH0gYW5kIHRoZSB0ZW1wbGF0ZSB0b2dldGhlci5cbiAqXG4gKiBUaGUgY29tcGlsYXRpb24gaXMgYSBwcm9jZXNzIG9mIHdhbGtpbmcgdGhlIERPTSB0cmVlIGFuZCBtYXRjaGluZyBET00gZWxlbWVudHMgdG9cbiAqIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIFRoaXMgZG9jdW1lbnQgaXMgYW4gaW4tZGVwdGggcmVmZXJlbmNlIG9mIGFsbCBkaXJlY3RpdmUgb3B0aW9ucy5cbiAqIEZvciBhIGdlbnRsZSBpbnRyb2R1Y3Rpb24gdG8gZGlyZWN0aXZlcyB3aXRoIGV4YW1wbGVzIG9mIGNvbW1vbiB1c2UgY2FzZXMsXG4gKiBzZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlIGd1aWRlfS5cbiAqIDwvZGl2PlxuICpcbiAqICMjIENvbXByZWhlbnNpdmUgRGlyZWN0aXZlIEFQSVxuICpcbiAqIFRoZXJlIGFyZSBtYW55IGRpZmZlcmVudCBvcHRpb25zIGZvciBhIGRpcmVjdGl2ZS5cbiAqXG4gKiBUaGUgZGlmZmVyZW5jZSByZXNpZGVzIGluIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZhY3RvcnkgZnVuY3Rpb24uXG4gKiBZb3UgY2FuIGVpdGhlciByZXR1cm4gYSBcIkRpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdFwiIChzZWUgYmVsb3cpIHRoYXQgZGVmaW5lcyB0aGUgZGlyZWN0aXZlIHByb3BlcnRpZXMsXG4gKiBvciBqdXN0IHRoZSBgcG9zdExpbmtgIGZ1bmN0aW9uIChhbGwgb3RoZXIgcHJvcGVydGllcyB3aWxsIGhhdmUgdGhlIGRlZmF1bHQgdmFsdWVzKS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxuICogKipCZXN0IFByYWN0aWNlOioqIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBcImRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdFwiIGZvcm0uXG4gKiA8L2Rpdj5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBkaXJlY3RpdmUgZGVjbGFyZWQgd2l0aCBhIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdDpcbiAqXG4gKiBgYGBqc1xuICogICB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xuICpcbiAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykge1xuICogICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xuICogICAgICAgcHJpb3JpdHk6IDAsXG4gKiAgICAgICB0ZW1wbGF0ZTogJzxkaXY+PC9kaXY+JywgLy8gb3IgLy8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykgeyAuLi4gfSxcbiAqICAgICAgIC8vIG9yXG4gKiAgICAgICAvLyB0ZW1wbGF0ZVVybDogJ2RpcmVjdGl2ZS5odG1sJywgLy8gb3IgLy8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykgeyAuLi4gfSxcbiAqICAgICAgIHRyYW5zY2x1ZGU6IGZhbHNlLFxuICogICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAqICAgICAgIHRlbXBsYXRlTmFtZXNwYWNlOiAnaHRtbCcsXG4gKiAgICAgICBzY29wZTogZmFsc2UsXG4gKiAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0cmFuc2NsdWRlLCBvdGhlckluamVjdGFibGVzKSB7IC4uLiB9LFxuICogICAgICAgY29udHJvbGxlckFzOiAnc3RyaW5nSWRlbnRpZmllcicsXG4gKiAgICAgICBiaW5kVG9Db250cm9sbGVyOiBmYWxzZSxcbiAqICAgICAgIHJlcXVpcmU6ICdzaWJsaW5nRGlyZWN0aXZlTmFtZScsIC8vIG9yIC8vIFsnXnBhcmVudERpcmVjdGl2ZU5hbWUnLCAnP29wdGlvbmFsRGlyZWN0aXZlTmFtZScsICc/Xm9wdGlvbmFsUGFyZW50J10sXG4gKiAgICAgICBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50LCB0QXR0cnMsIHRyYW5zY2x1ZGUpIHtcbiAqICAgICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAgICBwcmU6IGZ1bmN0aW9uIHByZUxpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH0sXG4gKiAgICAgICAgICAgcG9zdDogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH1cbiAqICAgICAgICAgfVxuICogICAgICAgICAvLyBvclxuICogICAgICAgICAvLyByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoIC4uLiApIHsgLi4uIH1cbiAqICAgICAgIH0sXG4gKiAgICAgICAvLyBvclxuICogICAgICAgLy8gbGluazoge1xuICogICAgICAgLy8gIHByZTogZnVuY3Rpb24gcHJlTGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfSxcbiAqICAgICAgIC8vICBwb3N0OiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfVxuICogICAgICAgLy8gfVxuICogICAgICAgLy8gb3JcbiAqICAgICAgIC8vIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKCAuLi4gKSB7IC4uLiB9XG4gKiAgICAgfTtcbiAqICAgICByZXR1cm4gZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdDtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIEFueSB1bnNwZWNpZmllZCBvcHRpb25zIHdpbGwgdXNlIHRoZSBkZWZhdWx0IHZhbHVlLiBZb3UgY2FuIHNlZSB0aGUgZGVmYXVsdCB2YWx1ZXMgYmVsb3cuXG4gKiA8L2Rpdj5cbiAqXG4gKiBUaGVyZWZvcmUgdGhlIGFib3ZlIGNhbiBiZSBzaW1wbGlmaWVkIGFzOlxuICpcbiAqIGBgYGpzXG4gKiAgIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKC4uLik7XG4gKlxuICogICBteU1vZHVsZS5kaXJlY3RpdmUoJ2RpcmVjdGl2ZU5hbWUnLCBmdW5jdGlvbiBmYWN0b3J5KGluamVjdGFibGVzKSB7XG4gKiAgICAgdmFyIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3QgPSB7XG4gKiAgICAgICBsaW5rOiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycykgeyAuLi4gfVxuICogICAgIH07XG4gKiAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7XG4gKiAgICAgLy8gb3JcbiAqICAgICAvLyByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHsgLi4uIH1cbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKlxuICpcbiAqICMjIyBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3RcbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0IHByb3ZpZGVzIGluc3RydWN0aW9ucyB0byB0aGUge0BsaW5rIG5nLiRjb21waWxlXG4gKiBjb21waWxlcn0uIFRoZSBhdHRyaWJ1dGVzIGFyZTpcbiAqXG4gKiAjIyMjIGBtdWx0aUVsZW1lbnRgXG4gKiBXaGVuIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUsIHRoZSBIVE1MIGNvbXBpbGVyIHdpbGwgY29sbGVjdCBET00gbm9kZXMgYmV0d2VlblxuICogbm9kZXMgd2l0aCB0aGUgYXR0cmlidXRlcyBgZGlyZWN0aXZlLW5hbWUtc3RhcnRgIGFuZCBgZGlyZWN0aXZlLW5hbWUtZW5kYCwgYW5kIGdyb3VwIHRoZW1cbiAqIHRvZ2V0aGVyIGFzIHRoZSBkaXJlY3RpdmUgZWxlbWVudHMuIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgdGhpcyBmZWF0dXJlIGJlIHVzZWQgb24gZGlyZWN0aXZlc1xuICogd2hpY2ggYXJlIG5vdCBzdHJpY3RseSBiZWhhdmlvdXJhbCAoc3VjaCBhcyB7QGxpbmsgbmdDbGlja30pLCBhbmQgd2hpY2hcbiAqIGRvIG5vdCBtYW5pcHVsYXRlIG9yIHJlcGxhY2UgY2hpbGQgbm9kZXMgKHN1Y2ggYXMge0BsaW5rIG5nSW5jbHVkZX0pLlxuICpcbiAqICMjIyMgYHByaW9yaXR5YFxuICogV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgZGlyZWN0aXZlcyBkZWZpbmVkIG9uIGEgc2luZ2xlIERPTSBlbGVtZW50LCBzb21ldGltZXMgaXRcbiAqIGlzIG5lY2Vzc2FyeSB0byBzcGVjaWZ5IHRoZSBvcmRlciBpbiB3aGljaCB0aGUgZGlyZWN0aXZlcyBhcmUgYXBwbGllZC4gVGhlIGBwcmlvcml0eWAgaXMgdXNlZFxuICogdG8gc29ydCB0aGUgZGlyZWN0aXZlcyBiZWZvcmUgdGhlaXIgYGNvbXBpbGVgIGZ1bmN0aW9ucyBnZXQgY2FsbGVkLiBQcmlvcml0eSBpcyBkZWZpbmVkIGFzIGFcbiAqIG51bWJlci4gRGlyZWN0aXZlcyB3aXRoIGdyZWF0ZXIgbnVtZXJpY2FsIGBwcmlvcml0eWAgYXJlIGNvbXBpbGVkIGZpcnN0LiBQcmUtbGluayBmdW5jdGlvbnNcbiAqIGFyZSBhbHNvIHJ1biBpbiBwcmlvcml0eSBvcmRlciwgYnV0IHBvc3QtbGluayBmdW5jdGlvbnMgYXJlIHJ1biBpbiByZXZlcnNlIG9yZGVyLiBUaGUgb3JkZXJcbiAqIG9mIGRpcmVjdGl2ZXMgd2l0aCB0aGUgc2FtZSBwcmlvcml0eSBpcyB1bmRlZmluZWQuIFRoZSBkZWZhdWx0IHByaW9yaXR5IGlzIGAwYC5cbiAqXG4gKiAjIyMjIGB0ZXJtaW5hbGBcbiAqIElmIHNldCB0byB0cnVlIHRoZW4gdGhlIGN1cnJlbnQgYHByaW9yaXR5YCB3aWxsIGJlIHRoZSBsYXN0IHNldCBvZiBkaXJlY3RpdmVzXG4gKiB3aGljaCB3aWxsIGV4ZWN1dGUgKGFueSBkaXJlY3RpdmVzIGF0IHRoZSBjdXJyZW50IHByaW9yaXR5IHdpbGwgc3RpbGwgZXhlY3V0ZVxuICogYXMgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiBvbiBzYW1lIGBwcmlvcml0eWAgaXMgdW5kZWZpbmVkKS4gTm90ZSB0aGF0IGV4cHJlc3Npb25zXG4gKiBhbmQgb3RoZXIgZGlyZWN0aXZlcyB1c2VkIGluIHRoZSBkaXJlY3RpdmUncyB0ZW1wbGF0ZSB3aWxsIGFsc28gYmUgZXhjbHVkZWQgZnJvbSBleGVjdXRpb24uXG4gKlxuICogIyMjIyBgc2NvcGVgXG4gKiBUaGUgc2NvcGUgcHJvcGVydHkgY2FuIGJlIGB0cnVlYCwgYW4gb2JqZWN0IG9yIGEgZmFsc3kgdmFsdWU6XG4gKlxuICogKiAqKmZhbHN5OioqIE5vIHNjb3BlIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIGRpcmVjdGl2ZS4gVGhlIGRpcmVjdGl2ZSB3aWxsIHVzZSBpdHMgcGFyZW50J3Mgc2NvcGUuXG4gKlxuICogKiAqKmB0cnVlYDoqKiBBIG5ldyBjaGlsZCBzY29wZSB0aGF0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRzIGZyb20gaXRzIHBhcmVudCB3aWxsIGJlIGNyZWF0ZWQgZm9yXG4gKiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC4gSWYgbXVsdGlwbGUgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBlbGVtZW50IHJlcXVlc3QgYSBuZXcgc2NvcGUsXG4gKiBvbmx5IG9uZSBuZXcgc2NvcGUgaXMgY3JlYXRlZC4gVGhlIG5ldyBzY29wZSBydWxlIGRvZXMgbm90IGFwcGx5IGZvciB0aGUgcm9vdCBvZiB0aGUgdGVtcGxhdGVcbiAqIHNpbmNlIHRoZSByb290IG9mIHRoZSB0ZW1wbGF0ZSBhbHdheXMgZ2V0cyBhIG5ldyBzY29wZS5cbiAqXG4gKiAqICoqYHsuLi59YCAoYW4gb2JqZWN0IGhhc2gpOioqIEEgbmV3IFwiaXNvbGF0ZVwiIHNjb3BlIGlzIGNyZWF0ZWQgZm9yIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LiBUaGVcbiAqICdpc29sYXRlJyBzY29wZSBkaWZmZXJzIGZyb20gbm9ybWFsIHNjb3BlIGluIHRoYXQgaXQgZG9lcyBub3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdCBmcm9tIGl0cyBwYXJlbnRcbiAqIHNjb3BlLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGNyZWF0aW5nIHJldXNhYmxlIGNvbXBvbmVudHMsIHdoaWNoIHNob3VsZCBub3QgYWNjaWRlbnRhbGx5IHJlYWQgb3IgbW9kaWZ5XG4gKiBkYXRhIGluIHRoZSBwYXJlbnQgc2NvcGUuXG4gKlxuICogVGhlICdpc29sYXRlJyBzY29wZSBvYmplY3QgaGFzaCBkZWZpbmVzIGEgc2V0IG9mIGxvY2FsIHNjb3BlIHByb3BlcnRpZXMgZGVyaXZlZCBmcm9tIGF0dHJpYnV0ZXMgb24gdGhlXG4gKiBkaXJlY3RpdmUncyBlbGVtZW50LiBUaGVzZSBsb2NhbCBwcm9wZXJ0aWVzIGFyZSB1c2VmdWwgZm9yIGFsaWFzaW5nIHZhbHVlcyBmb3IgdGVtcGxhdGVzLiBUaGUga2V5cyBpblxuICogdGhlIG9iamVjdCBoYXNoIG1hcCB0byB0aGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgb24gdGhlIGlzb2xhdGUgc2NvcGU7IHRoZSB2YWx1ZXMgZGVmaW5lIGhvdyB0aGUgcHJvcGVydHlcbiAqIGlzIGJvdW5kIHRvIHRoZSBwYXJlbnQgc2NvcGUsIHZpYSBtYXRjaGluZyBhdHRyaWJ1dGVzIG9uIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50OlxuICpcbiAqICogYEBgIG9yIGBAYXR0cmAgLSBiaW5kIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgdG8gdGhlIHZhbHVlIG9mIERPTSBhdHRyaWJ1dGUuIFRoZSByZXN1bHQgaXNcbiAqICAgYWx3YXlzIGEgc3RyaW5nIHNpbmNlIERPTSBhdHRyaWJ1dGVzIGFyZSBzdHJpbmdzLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgIHRoZW4gdGhlXG4gKiAgIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGxvY2FsIG5hbWUuXG4gKiAgIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9XCJoZWxsbyB7e25hbWV9fVwiPmAgYW5kIHdpZGdldCBkZWZpbml0aW9uXG4gKiAgIG9mIGBzY29wZTogeyBsb2NhbE5hbWU6J0BteUF0dHInIH1gLCB0aGVuIHdpZGdldCBzY29wZSBwcm9wZXJ0eSBgbG9jYWxOYW1lYCB3aWxsIHJlZmxlY3RcbiAqICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiBgaGVsbG8ge3tuYW1lfX1gLiBBcyB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBjaGFuZ2VzIHNvIHdpbGwgdGhlXG4gKiAgIGBsb2NhbE5hbWVgIHByb3BlcnR5IG9uIHRoZSB3aWRnZXQgc2NvcGUuIFRoZSBgbmFtZWAgaXMgcmVhZCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUgKG5vdFxuICogICBjb21wb25lbnQgc2NvcGUpLlxuICpcbiAqICogYD1gIG9yIGA9YXR0cmAgLSBzZXQgdXAgYmktZGlyZWN0aW9uYWwgYmluZGluZyBiZXR3ZWVuIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgYW5kIHRoZVxuICogICBwYXJlbnQgc2NvcGUgcHJvcGVydHkgb2YgbmFtZSBkZWZpbmVkIHZpYSB0aGUgdmFsdWUgb2YgdGhlIGBhdHRyYCBhdHRyaWJ1dGUuIElmIG5vIGBhdHRyYFxuICogICBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lLlxuICogICBHaXZlbiBgPHdpZGdldCBteS1hdHRyPVwicGFyZW50TW9kZWxcIj5gIGFuZCB3aWRnZXQgZGVmaW5pdGlvbiBvZlxuICogICBgc2NvcGU6IHsgbG9jYWxNb2RlbDonPW15QXR0cicgfWAsIHRoZW4gd2lkZ2V0IHNjb3BlIHByb3BlcnR5IGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgdGhlXG4gKiAgIHZhbHVlIG9mIGBwYXJlbnRNb2RlbGAgb24gdGhlIHBhcmVudCBzY29wZS4gQW55IGNoYW5nZXMgdG8gYHBhcmVudE1vZGVsYCB3aWxsIGJlIHJlZmxlY3RlZFxuICogICBpbiBgbG9jYWxNb2RlbGAgYW5kIGFueSBjaGFuZ2VzIGluIGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgaW4gYHBhcmVudE1vZGVsYC4gSWYgdGhlIHBhcmVudFxuICogICBzY29wZSBwcm9wZXJ0eSBkb2Vzbid0IGV4aXN0LCBpdCB3aWxsIHRocm93IGEgTk9OX0FTU0lHTkFCTEVfTU9ERUxfRVhQUkVTU0lPTiBleGNlcHRpb24uIFlvdVxuICogICBjYW4gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2luZyBgPT9gIG9yIGA9P2F0dHJgIGluIG9yZGVyIHRvIGZsYWcgdGhlIHByb3BlcnR5IGFzIG9wdGlvbmFsLiBJZlxuICogICB5b3Ugd2FudCB0byBzaGFsbG93IHdhdGNoIGZvciBjaGFuZ2VzIChpLmUuICR3YXRjaENvbGxlY3Rpb24gaW5zdGVhZCBvZiAkd2F0Y2gpIHlvdSBjYW4gdXNlXG4gKiAgIGA9KmAgb3IgYD0qYXR0cmAgKGA9Kj9gIG9yIGA9Kj9hdHRyYCBpZiB0aGUgcHJvcGVydHkgaXMgb3B0aW9uYWwpLlxuICpcbiAqICogYCZgIG9yIGAmYXR0cmAgLSBwcm92aWRlcyBhIHdheSB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gdGhlIGNvbnRleHQgb2YgdGhlIHBhcmVudCBzY29wZS5cbiAqICAgSWYgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlXG4gKiAgIGxvY2FsIG5hbWUuIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9XCJjb3VudCA9IGNvdW50ICsgdmFsdWVcIj5gIGFuZCB3aWRnZXQgZGVmaW5pdGlvbiBvZlxuICogICBgc2NvcGU6IHsgbG9jYWxGbjonJm15QXR0cicgfWAsIHRoZW4gaXNvbGF0ZSBzY29wZSBwcm9wZXJ0eSBgbG9jYWxGbmAgd2lsbCBwb2ludCB0b1xuICogICBhIGZ1bmN0aW9uIHdyYXBwZXIgZm9yIHRoZSBgY291bnQgPSBjb3VudCArIHZhbHVlYCBleHByZXNzaW9uLiBPZnRlbiBpdCdzIGRlc2lyYWJsZSB0b1xuICogICBwYXNzIGRhdGEgZnJvbSB0aGUgaXNvbGF0ZWQgc2NvcGUgdmlhIGFuIGV4cHJlc3Npb24gdG8gdGhlIHBhcmVudCBzY29wZSwgdGhpcyBjYW4gYmVcbiAqICAgZG9uZSBieSBwYXNzaW5nIGEgbWFwIG9mIGxvY2FsIHZhcmlhYmxlIG5hbWVzIGFuZCB2YWx1ZXMgaW50byB0aGUgZXhwcmVzc2lvbiB3cmFwcGVyIGZuLlxuICogICBGb3IgZXhhbXBsZSwgaWYgdGhlIGV4cHJlc3Npb24gaXMgYGluY3JlbWVudChhbW91bnQpYCB0aGVuIHdlIGNhbiBzcGVjaWZ5IHRoZSBhbW91bnQgdmFsdWVcbiAqICAgYnkgY2FsbGluZyB0aGUgYGxvY2FsRm5gIGFzIGBsb2NhbEZuKHthbW91bnQ6IDIyfSlgLlxuICpcbiAqIEluIGdlbmVyYWwgaXQncyBwb3NzaWJsZSB0byBhcHBseSBtb3JlIHRoYW4gb25lIGRpcmVjdGl2ZSB0byBvbmUgZWxlbWVudCwgYnV0IHRoZXJlIG1pZ2h0IGJlIGxpbWl0YXRpb25zXG4gKiBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2Ygc2NvcGUgcmVxdWlyZWQgYnkgdGhlIGRpcmVjdGl2ZXMuIFRoZSBmb2xsb3dpbmcgcG9pbnRzIHdpbGwgaGVscCBleHBsYWluIHRoZXNlIGxpbWl0YXRpb25zLlxuICogRm9yIHNpbXBsaWNpdHkgb25seSB0d28gZGlyZWN0aXZlcyBhcmUgdGFrZW4gaW50byBhY2NvdW50LCBidXQgaXQgaXMgYWxzbyBhcHBsaWNhYmxlIGZvciBzZXZlcmFsIGRpcmVjdGl2ZXM6XG4gKlxuICogKiAqKm5vIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gVHdvIGRpcmVjdGl2ZXMgd2hpY2ggZG9uJ3QgcmVxdWlyZSB0aGVpciBvd24gc2NvcGUgd2lsbCB1c2UgdGhlaXIgcGFyZW50J3Mgc2NvcGVcbiAqICogKipjaGlsZCBzY29wZSoqICsgKipubyBzY29wZSoqID0+ICBCb3RoIGRpcmVjdGl2ZXMgd2lsbCBzaGFyZSBvbmUgc2luZ2xlIGNoaWxkIHNjb3BlXG4gKiAqICoqY2hpbGQgc2NvcGUqKiArICoqY2hpbGQgc2NvcGUqKiA9PiAgQm90aCBkaXJlY3RpdmVzIHdpbGwgc2hhcmUgb25lIHNpbmdsZSBjaGlsZCBzY29wZVxuICogKiAqKmlzb2xhdGVkIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gIFRoZSBpc29sYXRlZCBkaXJlY3RpdmUgd2lsbCB1c2UgaXQncyBvd24gY3JlYXRlZCBpc29sYXRlZCBzY29wZS4gVGhlIG90aGVyIGRpcmVjdGl2ZSB3aWxsIHVzZVxuICogaXRzIHBhcmVudCdzIHNjb3BlXG4gKiAqICoqaXNvbGF0ZWQgc2NvcGUqKiArICoqY2hpbGQgc2NvcGUqKiA9PiAgKipXb24ndCB3b3JrISoqIE9ubHkgb25lIHNjb3BlIGNhbiBiZSByZWxhdGVkIHRvIG9uZSBlbGVtZW50LiBUaGVyZWZvcmUgdGhlc2UgZGlyZWN0aXZlcyBjYW5ub3RcbiAqIGJlIGFwcGxpZWQgdG8gdGhlIHNhbWUgZWxlbWVudC5cbiAqICogKippc29sYXRlZCBzY29wZSoqICsgKippc29sYXRlZCBzY29wZSoqICA9PiAgKipXb24ndCB3b3JrISoqIE9ubHkgb25lIHNjb3BlIGNhbiBiZSByZWxhdGVkIHRvIG9uZSBlbGVtZW50LiBUaGVyZWZvcmUgdGhlc2UgZGlyZWN0aXZlc1xuICogY2Fubm90IGJlIGFwcGxpZWQgdG8gdGhlIHNhbWUgZWxlbWVudC5cbiAqXG4gKlxuICogIyMjIyBgYmluZFRvQ29udHJvbGxlcmBcbiAqIFdoZW4gYW4gaXNvbGF0ZSBzY29wZSBpcyB1c2VkIGZvciBhIGNvbXBvbmVudCAoc2VlIGFib3ZlKSwgYW5kIGBjb250cm9sbGVyQXNgIGlzIHVzZWQsIGBiaW5kVG9Db250cm9sbGVyOiB0cnVlYCB3aWxsXG4gKiBhbGxvdyBhIGNvbXBvbmVudCB0byBoYXZlIGl0cyBwcm9wZXJ0aWVzIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyLCByYXRoZXIgdGhhbiB0byBzY29wZS4gV2hlbiB0aGUgY29udHJvbGxlclxuICogaXMgaW5zdGFudGlhdGVkLCB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgdGhlIGlzb2xhdGUgc2NvcGUgYmluZGluZ3MgYXJlIGFscmVhZHkgYXZhaWxhYmxlLlxuICpcbiAqICMjIyMgYGNvbnRyb2xsZXJgXG4gKiBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiBUaGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQgYmVmb3JlIHRoZVxuICogcHJlLWxpbmtpbmcgcGhhc2UgYW5kIGNhbiBiZSBhY2Nlc3NlZCBieSBvdGhlciBkaXJlY3RpdmVzIChzZWVcbiAqIGByZXF1aXJlYCBhdHRyaWJ1dGUpLiBUaGlzIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byBjb21tdW5pY2F0ZSB3aXRoIGVhY2ggb3RoZXIgYW5kIGF1Z21lbnRcbiAqIGVhY2ggb3RoZXIncyBiZWhhdmlvci4gVGhlIGNvbnRyb2xsZXIgaXMgaW5qZWN0YWJsZSAoYW5kIHN1cHBvcnRzIGJyYWNrZXQgbm90YXRpb24pIHdpdGggdGhlIGZvbGxvd2luZyBsb2NhbHM6XG4gKlxuICogKiBgJHNjb3BlYCAtIEN1cnJlbnQgc2NvcGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50XG4gKiAqIGAkZWxlbWVudGAgLSBDdXJyZW50IGVsZW1lbnRcbiAqICogYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxuICogKiBgJHRyYW5zY2x1ZGVgIC0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZTpcbiAqICAgYGZ1bmN0aW9uKFtzY29wZV0sIGNsb25lTGlua2luZ0ZuLCBmdXR1cmVQYXJlbnRFbGVtZW50KWAuXG4gKiAgICAqIGBzY29wZWA6IG9wdGlvbmFsIGFyZ3VtZW50IHRvIG92ZXJyaWRlIHRoZSBzY29wZS5cbiAqICAgICogYGNsb25lTGlua2luZ0ZuYDogb3B0aW9uYWwgYXJndW1lbnQgdG8gY3JlYXRlIGNsb25lcyBvZiB0aGUgb3JpZ2luYWwgdHJhbnNjbHVkZWQgY29udGVudC5cbiAqICAgICogYGZ1dHVyZVBhcmVudEVsZW1lbnRgOlxuICogICAgICAgICogZGVmaW5lcyB0aGUgcGFyZW50IHRvIHdoaWNoIHRoZSBgY2xvbmVMaW5raW5nRm5gIHdpbGwgYWRkIHRoZSBjbG9uZWQgZWxlbWVudHMuXG4gKiAgICAgICAgKiBkZWZhdWx0OiBgJGVsZW1lbnQucGFyZW50KClgIHJlc3AuIGAkZWxlbWVudGAgZm9yIGB0cmFuc2NsdWRlOidlbGVtZW50J2AgcmVzcC4gYHRyYW5zY2x1ZGU6dHJ1ZWAuXG4gKiAgICAgICAgKiBvbmx5IG5lZWRlZCBmb3IgdHJhbnNjbHVkZXMgdGhhdCBhcmUgYWxsb3dlZCB0byBjb250YWluIG5vbiBodG1sIGVsZW1lbnRzIChlLmcuIFNWRyBlbGVtZW50cylcbiAqICAgICAgICAgIGFuZCB3aGVuIHRoZSBgY2xvbmVMaW5raW5GbmAgaXMgcGFzc2VkLFxuICogICAgICAgICAgYXMgdGhvc2UgZWxlbWVudHMgbmVlZCB0byBjcmVhdGVkIGFuZCBjbG9uZWQgaW4gYSBzcGVjaWFsIHdheSB3aGVuIHRoZXkgYXJlIGRlZmluZWQgb3V0c2lkZSB0aGVpclxuICogICAgICAgICAgdXN1YWwgY29udGFpbmVycyAoZS5nLiBsaWtlIGA8c3ZnPmApLlxuICogICAgICAgICogU2VlIGFsc28gdGhlIGBkaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2VgIHByb3BlcnR5LlxuICpcbiAqXG4gKiAjIyMjIGByZXF1aXJlYFxuICogUmVxdWlyZSBhbm90aGVyIGRpcmVjdGl2ZSBhbmQgaW5qZWN0IGl0cyBjb250cm9sbGVyIGFzIHRoZSBmb3VydGggYXJndW1lbnQgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb24uIFRoZVxuICogYHJlcXVpcmVgIHRha2VzIGEgc3RyaW5nIG5hbWUgKG9yIGFycmF5IG9mIHN0cmluZ3MpIG9mIHRoZSBkaXJlY3RpdmUocykgdG8gcGFzcyBpbi4gSWYgYW4gYXJyYXkgaXMgdXNlZCwgdGhlXG4gKiBpbmplY3RlZCBhcmd1bWVudCB3aWxsIGJlIGFuIGFycmF5IGluIGNvcnJlc3BvbmRpbmcgb3JkZXIuIElmIG5vIHN1Y2ggZGlyZWN0aXZlIGNhbiBiZVxuICogZm91bmQsIG9yIGlmIHRoZSBkaXJlY3RpdmUgZG9lcyBub3QgaGF2ZSBhIGNvbnRyb2xsZXIsIHRoZW4gYW4gZXJyb3IgaXMgcmFpc2VkICh1bmxlc3Mgbm8gbGluayBmdW5jdGlvblxuICogaXMgc3BlY2lmaWVkLCBpbiB3aGljaCBjYXNlIGVycm9yIGNoZWNraW5nIGlzIHNraXBwZWQpLiBUaGUgbmFtZSBjYW4gYmUgcHJlZml4ZWQgd2l0aDpcbiAqXG4gKiAqIChubyBwcmVmaXgpIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9uIHRoZSBjdXJyZW50IGVsZW1lbnQuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cbiAqICogYD9gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgb3IgcGFzcyBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKiAqIGBeYCAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQgYW5kIGl0cyBwYXJlbnRzLiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuXG4gKiAqIGBeXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxuICogKiBgP15gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cyBvciBwYXNzXG4gKiAgIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cbiAqICogYD9eXmAgLSBBdHRlbXB0IHRvIGxvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQncyBwYXJlbnRzLCBvciBwYXNzXG4gKiAgIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cbiAqXG4gKlxuICogIyMjIyBgY29udHJvbGxlckFzYFxuICogSWRlbnRpZmllciBuYW1lIGZvciBhIHJlZmVyZW5jZSB0byB0aGUgY29udHJvbGxlciBpbiB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUuXG4gKiBUaGlzIGFsbG93cyB0aGUgY29udHJvbGxlciB0byBiZSByZWZlcmVuY2VkIGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZS4gVGhpcyBpcyBlc3BlY2lhbGx5XG4gKiB1c2VmdWwgd2hlbiBhIGRpcmVjdGl2ZSBpcyB1c2VkIGFzIGNvbXBvbmVudCwgaS5lLiB3aXRoIGFuIGBpc29sYXRlYCBzY29wZS4gSXQncyBhbHNvIHBvc3NpYmxlXG4gKiB0byB1c2UgaXQgaW4gYSBkaXJlY3RpdmUgd2l0aG91dCBhbiBgaXNvbGF0ZWAgLyBgbmV3YCBzY29wZSwgYnV0IHlvdSBuZWVkIHRvIGJlIGF3YXJlIHRoYXQgdGhlXG4gKiBgY29udHJvbGxlckFzYCByZWZlcmVuY2UgbWlnaHQgb3ZlcndyaXRlIGEgcHJvcGVydHkgdGhhdCBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgcGFyZW50IHNjb3BlLlxuICpcbiAqXG4gKiAjIyMjIGByZXN0cmljdGBcbiAqIFN0cmluZyBvZiBzdWJzZXQgb2YgYEVBQ01gIHdoaWNoIHJlc3RyaWN0cyB0aGUgZGlyZWN0aXZlIHRvIGEgc3BlY2lmaWMgZGlyZWN0aXZlXG4gKiBkZWNsYXJhdGlvbiBzdHlsZS4gSWYgb21pdHRlZCwgdGhlIGRlZmF1bHRzIChlbGVtZW50cyBhbmQgYXR0cmlidXRlcykgYXJlIHVzZWQuXG4gKlxuICogKiBgRWAgLSBFbGVtZW50IG5hbWUgKGRlZmF1bHQpOiBgPG15LWRpcmVjdGl2ZT48L215LWRpcmVjdGl2ZT5gXG4gKiAqIGBBYCAtIEF0dHJpYnV0ZSAoZGVmYXVsdCk6IGA8ZGl2IG15LWRpcmVjdGl2ZT1cImV4cFwiPjwvZGl2PmBcbiAqICogYENgIC0gQ2xhc3M6IGA8ZGl2IGNsYXNzPVwibXktZGlyZWN0aXZlOiBleHA7XCI+PC9kaXY+YFxuICogKiBgTWAgLSBDb21tZW50OiBgPCEtLSBkaXJlY3RpdmU6IG15LWRpcmVjdGl2ZSBleHAgLS0+YFxuICpcbiAqXG4gKiAjIyMjIGB0ZW1wbGF0ZU5hbWVzcGFjZWBcbiAqIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRvY3VtZW50IHR5cGUgdXNlZCBieSB0aGUgbWFya3VwIGluIHRoZSB0ZW1wbGF0ZS5cbiAqIEFuZ3VsYXJKUyBuZWVkcyB0aGlzIGluZm9ybWF0aW9uIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gYmUgY3JlYXRlZCBhbmQgY2xvbmVkXG4gKiBpbiBhIHNwZWNpYWwgd2F5IHdoZW4gdGhleSBhcmUgZGVmaW5lZCBvdXRzaWRlIHRoZWlyIHVzdWFsIGNvbnRhaW5lcnMgbGlrZSBgPHN2Zz5gIGFuZCBgPG1hdGg+YC5cbiAqXG4gKiAqIGBodG1sYCAtIEFsbCByb290IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSBhcmUgSFRNTC4gUm9vdCBub2RlcyBtYXkgYWxzbyBiZVxuICogICB0b3AtbGV2ZWwgZWxlbWVudHMgc3VjaCBhcyBgPHN2Zz5gIG9yIGA8bWF0aD5gLlxuICogKiBgc3ZnYCAtIFRoZSByb290IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSBhcmUgU1ZHIGVsZW1lbnRzIChleGNsdWRpbmcgYDxtYXRoPmApLlxuICogKiBgbWF0aGAgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIE1hdGhNTCBlbGVtZW50cyAoZXhjbHVkaW5nIGA8c3ZnPmApLlxuICpcbiAqIElmIG5vIGB0ZW1wbGF0ZU5hbWVzcGFjZWAgaXMgc3BlY2lmaWVkLCB0aGVuIHRoZSBuYW1lc3BhY2UgaXMgY29uc2lkZXJlZCB0byBiZSBgaHRtbGAuXG4gKlxuICogIyMjIyBgdGVtcGxhdGVgXG4gKiBIVE1MIG1hcmt1cCB0aGF0IG1heTpcbiAqICogUmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgKGRlZmF1bHQpLlxuICogKiBSZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGl0c2VsZiAoaWYgYHJlcGxhY2VgIGlzIHRydWUgLSBERVBSRUNBVEVEKS5cbiAqICogV3JhcCB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgKGlmIGB0cmFuc2NsdWRlYCBpcyB0cnVlKS5cbiAqXG4gKiBWYWx1ZSBtYXkgYmU6XG4gKlxuICogKiBBIHN0cmluZy4gRm9yIGV4YW1wbGUgYDxkaXYgcmVkLW9uLWhvdmVyPnt7ZGVsZXRlX3N0cn19PC9kaXY+YC5cbiAqICogQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d28gYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYFxuICogICBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZCByZXR1cm5zIGEgc3RyaW5nIHZhbHVlLlxuICpcbiAqXG4gKiAjIyMjIGB0ZW1wbGF0ZVVybGBcbiAqIFRoaXMgaXMgc2ltaWxhciB0byBgdGVtcGxhdGVgIGJ1dCB0aGUgdGVtcGxhdGUgaXMgbG9hZGVkIGZyb20gdGhlIHNwZWNpZmllZCBVUkwsIGFzeW5jaHJvbm91c2x5LlxuICpcbiAqIEJlY2F1c2UgdGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgdGhlIGNvbXBpbGVyIHdpbGwgc3VzcGVuZCBjb21waWxhdGlvbiBvZiBkaXJlY3RpdmVzIG9uIHRoYXQgZWxlbWVudFxuICogZm9yIGxhdGVyIHdoZW4gdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHJlc29sdmVkLiAgSW4gdGhlIG1lYW50aW1lIGl0IHdpbGwgY29udGludWUgdG8gY29tcGlsZSBhbmQgbGlua1xuICogc2libGluZyBhbmQgcGFyZW50IGVsZW1lbnRzIGFzIHRob3VnaCB0aGlzIGVsZW1lbnQgaGFkIG5vdCBjb250YWluZWQgYW55IGRpcmVjdGl2ZXMuXG4gKlxuICogVGhlIGNvbXBpbGVyIGRvZXMgbm90IHN1c3BlbmQgdGhlIGVudGlyZSBjb21waWxhdGlvbiB0byB3YWl0IGZvciB0ZW1wbGF0ZXMgdG8gYmUgbG9hZGVkIGJlY2F1c2UgdGhpc1xuICogd291bGQgcmVzdWx0IGluIHRoZSB3aG9sZSBhcHAgXCJzdGFsbGluZ1wiIHVudGlsIGFsbCB0ZW1wbGF0ZXMgYXJlIGxvYWRlZCBhc3luY2hyb25vdXNseSAtIGV2ZW4gaW4gdGhlXG4gKiBjYXNlIHdoZW4gb25seSBvbmUgZGVlcGx5IG5lc3RlZCBkaXJlY3RpdmUgaGFzIGB0ZW1wbGF0ZVVybGAuXG4gKlxuICogVGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgZXZlbiBpZiB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gcHJlbG9hZGVkIGludG8gdGhlIHtAbGluayAkdGVtcGxhdGVDYWNoZX1cbiAqXG4gKiBZb3UgY2FuIHNwZWNpZnkgYHRlbXBsYXRlVXJsYCBhcyBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIFVSTCBvciBhcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3b1xuICogYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYCBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZCByZXR1cm5zXG4gKiBhIHN0cmluZyB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIHVybC4gIEluIGVpdGhlciBjYXNlLCB0aGUgdGVtcGxhdGUgVVJMIGlzIHBhc3NlZCB0aHJvdWdoIHtAbGlua1xuICogJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmwgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9LlxuICpcbiAqXG4gKiAjIyMjIGByZXBsYWNlYCAoWypERVBSRUNBVEVEKiFdLCB3aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciByZWxlYXNlIC0gaS5lLiB2Mi4wKVxuICogc3BlY2lmeSB3aGF0IHRoZSB0ZW1wbGF0ZSBzaG91bGQgcmVwbGFjZS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqXG4gKiAqIGB0cnVlYCAtIHRoZSB0ZW1wbGF0ZSB3aWxsIHJlcGxhY2UgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKiAqIGBmYWxzZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC5cbiAqXG4gKiBUaGUgcmVwbGFjZW1lbnQgcHJvY2VzcyBtaWdyYXRlcyBhbGwgb2YgdGhlIGF0dHJpYnV0ZXMgLyBjbGFzc2VzIGZyb20gdGhlIG9sZCBlbGVtZW50IHRvIHRoZSBuZXdcbiAqIG9uZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI3RlbXBsYXRlLWV4cGFuZGluZy1kaXJlY3RpdmVcbiAqIERpcmVjdGl2ZXMgR3VpZGV9IGZvciBhbiBleGFtcGxlLlxuICpcbiAqIFRoZXJlIGFyZSB2ZXJ5IGZldyBzY2VuYXJpb3Mgd2hlcmUgZWxlbWVudCByZXBsYWNlbWVudCBpcyByZXF1aXJlZCBmb3IgdGhlIGFwcGxpY2F0aW9uIGZ1bmN0aW9uLFxuICogdGhlIG1haW4gb25lIGJlaW5nIHJldXNhYmxlIGN1c3RvbSBjb21wb25lbnRzIHRoYXQgYXJlIHVzZWQgd2l0aGluIFNWRyBjb250ZXh0c1xuICogKGJlY2F1c2UgU1ZHIGRvZXNuJ3Qgd29yayB3aXRoIGN1c3RvbSBlbGVtZW50cyBpbiB0aGUgRE9NIHRyZWUpLlxuICpcbiAqICMjIyMgYHRyYW5zY2x1ZGVgXG4gKiBFeHRyYWN0IHRoZSBjb250ZW50cyBvZiB0aGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGFwcGVhcnMgYW5kIG1ha2UgaXQgYXZhaWxhYmxlIHRvIHRoZSBkaXJlY3RpdmUuXG4gKiBUaGUgY29udGVudHMgYXJlIGNvbXBpbGVkIGFuZCBwcm92aWRlZCB0byB0aGUgZGlyZWN0aXZlIGFzIGEgKip0cmFuc2NsdXNpb24gZnVuY3Rpb24qKi4gU2VlIHRoZVxuICoge0BsaW5rICRjb21waWxlI3RyYW5zY2x1c2lvbiBUcmFuc2NsdXNpb259IHNlY3Rpb24gYmVsb3cuXG4gKlxuICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiB0cmFuc2NsdXNpb24gZGVwZW5kaW5nIHVwb24gd2hldGhlciB5b3Ugd2FudCB0byB0cmFuc2NsdWRlIGp1c3QgdGhlIGNvbnRlbnRzIG9mIHRoZVxuICogZGlyZWN0aXZlJ3MgZWxlbWVudCBvciB0aGUgZW50aXJlIGVsZW1lbnQ6XG4gKlxuICogKiBgdHJ1ZWAgLSB0cmFuc2NsdWRlIHRoZSBjb250ZW50IChpLmUuIHRoZSBjaGlsZCBub2Rlcykgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKiAqIGAnZWxlbWVudCdgIC0gdHJhbnNjbHVkZSB0aGUgd2hvbGUgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgaW5jbHVkaW5nIGFueSBkaXJlY3RpdmVzIG9uIHRoaXNcbiAqICAgZWxlbWVudCB0aGF0IGRlZmluZWQgYXQgYSBsb3dlciBwcmlvcml0eSB0aGFuIHRoaXMgZGlyZWN0aXZlLiBXaGVuIHVzZWQsIHRoZSBgdGVtcGxhdGVgXG4gKiAgIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gKlxuICpcbiAqICMjIyMgYGNvbXBpbGVgXG4gKlxuICogYGBganNcbiAqICAgZnVuY3Rpb24gY29tcGlsZSh0RWxlbWVudCwgdEF0dHJzLCB0cmFuc2NsdWRlKSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29tcGlsZSBmdW5jdGlvbiBkZWFscyB3aXRoIHRyYW5zZm9ybWluZyB0aGUgdGVtcGxhdGUgRE9NLiBTaW5jZSBtb3N0IGRpcmVjdGl2ZXMgZG8gbm90IGRvXG4gKiB0ZW1wbGF0ZSB0cmFuc2Zvcm1hdGlvbiwgaXQgaXMgbm90IHVzZWQgb2Z0ZW4uIFRoZSBjb21waWxlIGZ1bmN0aW9uIHRha2VzIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxuICpcbiAqICAgKiBgdEVsZW1lbnRgIC0gdGVtcGxhdGUgZWxlbWVudCAtIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBkaXJlY3RpdmUgaGFzIGJlZW4gZGVjbGFyZWQuIEl0IGlzXG4gKiAgICAgc2FmZSB0byBkbyB0ZW1wbGF0ZSB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgZWxlbWVudCBhbmQgY2hpbGQgZWxlbWVudHMgb25seS5cbiAqXG4gKiAgICogYHRBdHRyc2AgLSB0ZW1wbGF0ZSBhdHRyaWJ1dGVzIC0gTm9ybWFsaXplZCBsaXN0IG9mIGF0dHJpYnV0ZXMgZGVjbGFyZWQgb24gdGhpcyBlbGVtZW50IHNoYXJlZFxuICogICAgIGJldHdlZW4gYWxsIGRpcmVjdGl2ZSBjb21waWxlIGZ1bmN0aW9ucy5cbiAqXG4gKiAgICogYHRyYW5zY2x1ZGVgIC0gIFsqREVQUkVDQVRFRCohXSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbjogYGZ1bmN0aW9uKHNjb3BlLCBjbG9uZUxpbmtpbmdGbilgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBUaGUgdGVtcGxhdGUgaW5zdGFuY2UgYW5kIHRoZSBsaW5rIGluc3RhbmNlIG1heSBiZSBkaWZmZXJlbnQgb2JqZWN0cyBpZiB0aGUgdGVtcGxhdGUgaGFzXG4gKiBiZWVuIGNsb25lZC4gRm9yIHRoaXMgcmVhc29uIGl0IGlzICoqbm90Kiogc2FmZSB0byBkbyBhbnl0aGluZyBvdGhlciB0aGFuIERPTSB0cmFuc2Zvcm1hdGlvbnMgdGhhdFxuICogYXBwbHkgdG8gYWxsIGNsb25lZCBET00gbm9kZXMgd2l0aGluIHRoZSBjb21waWxlIGZ1bmN0aW9uLiBTcGVjaWZpY2FsbHksIERPTSBsaXN0ZW5lciByZWdpc3RyYXRpb25cbiAqIHNob3VsZCBiZSBkb25lIGluIGEgbGlua2luZyBmdW5jdGlvbiByYXRoZXIgdGhhbiBpbiBhIGNvbXBpbGUgZnVuY3Rpb24uXG4gKiA8L2Rpdj5cblxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBUaGUgY29tcGlsZSBmdW5jdGlvbiBjYW5ub3QgaGFuZGxlIGRpcmVjdGl2ZXMgdGhhdCByZWN1cnNpdmVseSB1c2UgdGhlbXNlbHZlcyBpbiB0aGVpclxuICogb3duIHRlbXBsYXRlcyBvciBjb21waWxlIGZ1bmN0aW9ucy4gQ29tcGlsaW5nIHRoZXNlIGRpcmVjdGl2ZXMgcmVzdWx0cyBpbiBhbiBpbmZpbml0ZSBsb29wIGFuZCBhXG4gKiBzdGFjayBvdmVyZmxvdyBlcnJvcnMuXG4gKlxuICogVGhpcyBjYW4gYmUgYXZvaWRlZCBieSBtYW51YWxseSB1c2luZyAkY29tcGlsZSBpbiB0aGUgcG9zdExpbmsgZnVuY3Rpb24gdG8gaW1wZXJhdGl2ZWx5IGNvbXBpbGVcbiAqIGEgZGlyZWN0aXZlJ3MgdGVtcGxhdGUgaW5zdGVhZCBvZiByZWx5aW5nIG9uIGF1dG9tYXRpYyB0ZW1wbGF0ZSBjb21waWxhdGlvbiB2aWEgYHRlbXBsYXRlYCBvclxuICogYHRlbXBsYXRlVXJsYCBkZWNsYXJhdGlvbiBvciBtYW51YWwgY29tcGlsYXRpb24gaW5zaWRlIHRoZSBjb21waWxlIGZ1bmN0aW9uLlxuICogPC9kaXY+XG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICogKipOb3RlOioqIFRoZSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgYXMgaXRcbiAqICAgZS5nLiBkb2VzIG5vdCBrbm93IGFib3V0IHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHVzZSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZFxuICogICB0byB0aGUgbGluayBmdW5jdGlvbiBpbnN0ZWFkLlxuICogPC9kaXY+XG5cbiAqIEEgY29tcGlsZSBmdW5jdGlvbiBjYW4gaGF2ZSBhIHJldHVybiB2YWx1ZSB3aGljaCBjYW4gYmUgZWl0aGVyIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0LlxuICpcbiAqICogcmV0dXJuaW5nIGEgKHBvc3QtbGluaykgZnVuY3Rpb24gLSBpcyBlcXVpdmFsZW50IHRvIHJlZ2lzdGVyaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHZpYSB0aGVcbiAqICAgYGxpbmtgIHByb3BlcnR5IG9mIHRoZSBjb25maWcgb2JqZWN0IHdoZW4gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZW1wdHkuXG4gKlxuICogKiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggZnVuY3Rpb24ocykgcmVnaXN0ZXJlZCB2aWEgYHByZWAgYW5kIGBwb3N0YCBwcm9wZXJ0aWVzIC0gYWxsb3dzIHlvdSB0b1xuICogICBjb250cm9sIHdoZW4gYSBsaW5raW5nIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBsaW5raW5nIHBoYXNlLiBTZWUgaW5mbyBhYm91dFxuICogICBwcmUtbGlua2luZyBhbmQgcG9zdC1saW5raW5nIGZ1bmN0aW9ucyBiZWxvdy5cbiAqXG4gKlxuICogIyMjIyBgbGlua2BcbiAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBvbmx5IGlmIHRoZSBgY29tcGlsZWAgcHJvcGVydHkgaXMgbm90IGRlZmluZWQuXG4gKlxuICogYGBganNcbiAqICAgZnVuY3Rpb24gbGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZUZuKSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgbGluayBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcmVnaXN0ZXJpbmcgRE9NIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHVwZGF0aW5nIHRoZSBET00uIEl0IGlzXG4gKiBleGVjdXRlZCBhZnRlciB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gY2xvbmVkLiBUaGlzIGlzIHdoZXJlIG1vc3Qgb2YgdGhlIGRpcmVjdGl2ZSBsb2dpYyB3aWxsIGJlXG4gKiBwdXQuXG4gKlxuICogICAqIGBzY29wZWAgLSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBTY29wZX0gLSBUaGUgc2NvcGUgdG8gYmUgdXNlZCBieSB0aGVcbiAqICAgICBkaXJlY3RpdmUgZm9yIHJlZ2lzdGVyaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVzfS5cbiAqXG4gKiAgICogYGlFbGVtZW50YCAtIGluc3RhbmNlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGlzIHRvIGJlIHVzZWQuIEl0IGlzIHNhZmUgdG9cbiAqICAgICBtYW5pcHVsYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGUgZWxlbWVudCBvbmx5IGluIGBwb3N0TGlua2AgZnVuY3Rpb24gc2luY2UgdGhlIGNoaWxkcmVuIGhhdmVcbiAqICAgICBhbHJlYWR5IGJlZW4gbGlua2VkLlxuICpcbiAqICAgKiBgaUF0dHJzYCAtIGluc3RhbmNlIGF0dHJpYnV0ZXMgLSBOb3JtYWxpemVkIGxpc3Qgb2YgYXR0cmlidXRlcyBkZWNsYXJlZCBvbiB0aGlzIGVsZW1lbnQgc2hhcmVkXG4gKiAgICAgYmV0d2VlbiBhbGwgZGlyZWN0aXZlIGxpbmtpbmcgZnVuY3Rpb25zLlxuICpcbiAqICAgKiBgY29udHJvbGxlcmAgLSB0aGUgZGlyZWN0aXZlJ3MgcmVxdWlyZWQgY29udHJvbGxlciBpbnN0YW5jZShzKSAtIEluc3RhbmNlcyBhcmUgc2hhcmVkXG4gKiAgICAgYW1vbmcgYWxsIGRpcmVjdGl2ZXMsIHdoaWNoIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGNvbnRyb2xsZXJzIGFzIGEgY29tbXVuaWNhdGlvblxuICogICAgIGNoYW5uZWwuIFRoZSBleGFjdCB2YWx1ZSBkZXBlbmRzIG9uIHRoZSBkaXJlY3RpdmUncyBgcmVxdWlyZWAgcHJvcGVydHk6XG4gKiAgICAgICAqIG5vIGNvbnRyb2xsZXIocykgcmVxdWlyZWQ6IHRoZSBkaXJlY3RpdmUncyBvd24gY29udHJvbGxlciwgb3IgYHVuZGVmaW5lZGAgaWYgaXQgZG9lc24ndCBoYXZlIG9uZVxuICogICAgICAgKiBgc3RyaW5nYDogdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2VcbiAqICAgICAgICogYGFycmF5YDogYXJyYXkgb2YgY29udHJvbGxlciBpbnN0YW5jZXNcbiAqXG4gKiAgICAgSWYgYSByZXF1aXJlZCBjb250cm9sbGVyIGNhbm5vdCBiZSBmb3VuZCwgYW5kIGl0IGlzIG9wdGlvbmFsLCB0aGUgaW5zdGFuY2UgaXMgYG51bGxgLFxuICogICAgIG90aGVyd2lzZSB0aGUge0BsaW5rIGVycm9yOiRjb21waWxlOmN0cmVxIE1pc3NpbmcgUmVxdWlyZWQgQ29udHJvbGxlcn0gZXJyb3IgaXMgdGhyb3duLlxuICpcbiAqICAgICBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIHJlcXVpcmUgdGhlIGRpcmVjdGl2ZSdzIG93biBjb250cm9sbGVyIC0gaXQgd2lsbCBiZSBtYWRlIGF2YWlsYWJsZSBsaWtlXG4gKiAgICAgYW55IG90aGVyIGNvbnRyb2xsZXIuXG4gKlxuICogICAqIGB0cmFuc2NsdWRlRm5gIC0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqICAgICBUaGlzIGlzIHRoZSBzYW1lIGFzIHRoZSBgJHRyYW5zY2x1ZGVgXG4gKiAgICAgcGFyYW1ldGVyIG9mIGRpcmVjdGl2ZSBjb250cm9sbGVycywgc2VlIHRoZXJlIGZvciBkZXRhaWxzLlxuICogICAgIGBmdW5jdGlvbihbc2NvcGVdLCBjbG9uZUxpbmtpbmdGbiwgZnV0dXJlUGFyZW50RWxlbWVudClgLlxuICpcbiAqICMjIyMgUHJlLWxpbmtpbmcgZnVuY3Rpb25cbiAqXG4gKiBFeGVjdXRlZCBiZWZvcmUgdGhlIGNoaWxkIGVsZW1lbnRzIGFyZSBsaW5rZWQuIE5vdCBzYWZlIHRvIGRvIERPTSB0cmFuc2Zvcm1hdGlvbiBzaW5jZSB0aGVcbiAqIGNvbXBpbGVyIGxpbmtpbmcgZnVuY3Rpb24gd2lsbCBmYWlsIHRvIGxvY2F0ZSB0aGUgY29ycmVjdCBlbGVtZW50cyBmb3IgbGlua2luZy5cbiAqXG4gKiAjIyMjIFBvc3QtbGlua2luZyBmdW5jdGlvblxuICpcbiAqIEV4ZWN1dGVkIGFmdGVyIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLlxuICpcbiAqIE5vdGUgdGhhdCBjaGlsZCBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYHRlbXBsYXRlVXJsYCBkaXJlY3RpdmVzIHdpbGwgbm90IGhhdmUgYmVlbiBjb21waWxlZFxuICogYW5kIGxpbmtlZCBzaW5jZSB0aGV5IGFyZSB3YWl0aW5nIGZvciB0aGVpciB0ZW1wbGF0ZSB0byBsb2FkIGFzeW5jaHJvbm91c2x5IGFuZCB0aGVpciBvd25cbiAqIGNvbXBpbGF0aW9uIGFuZCBsaW5raW5nIGhhcyBiZWVuIHN1c3BlbmRlZCB1bnRpbCB0aGF0IG9jY3Vycy5cbiAqXG4gKiBJdCBpcyBzYWZlIHRvIGRvIERPTSB0cmFuc2Zvcm1hdGlvbiBpbiB0aGUgcG9zdC1saW5raW5nIGZ1bmN0aW9uIG9uIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCB3YWl0aW5nXG4gKiBmb3IgdGhlaXIgYXN5bmMgdGVtcGxhdGVzIHRvIGJlIHJlc29sdmVkLlxuICpcbiAqXG4gKiAjIyMgVHJhbnNjbHVzaW9uXG4gKlxuICogVHJhbnNjbHVzaW9uIGlzIHRoZSBwcm9jZXNzIG9mIGV4dHJhY3RpbmcgYSBjb2xsZWN0aW9uIG9mIERPTSBlbGVtZW50cyBmcm9tIG9uZSBwYXJ0IG9mIHRoZSBET00gYW5kXG4gKiBjb3B5aW5nIHRoZW0gdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBET00sIHdoaWxlIG1haW50YWluaW5nIHRoZWlyIGNvbm5lY3Rpb24gdG8gdGhlIG9yaWdpbmFsIEFuZ3VsYXJKU1xuICogc2NvcGUgZnJvbSB3aGVyZSB0aGV5IHdlcmUgdGFrZW4uXG4gKlxuICogVHJhbnNjbHVzaW9uIGlzIHVzZWQgKG9mdGVuIHdpdGgge0BsaW5rIG5nVHJhbnNjbHVkZX0pIHRvIGluc2VydCB0aGVcbiAqIG9yaWdpbmFsIGNvbnRlbnRzIG9mIGEgZGlyZWN0aXZlJ3MgZWxlbWVudCBpbnRvIGEgc3BlY2lmaWVkIHBsYWNlIGluIHRoZSB0ZW1wbGF0ZSBvZiB0aGUgZGlyZWN0aXZlLlxuICogVGhlIGJlbmVmaXQgb2YgdHJhbnNjbHVzaW9uLCBvdmVyIHNpbXBseSBtb3ZpbmcgdGhlIERPTSBlbGVtZW50cyBtYW51YWxseSwgaXMgdGhhdCB0aGUgdHJhbnNjbHVkZWRcbiAqIGNvbnRlbnQgaGFzIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBvbiB0aGUgc2NvcGUgZnJvbSB3aGljaCBpdCB3YXMgdGFrZW4sIGV2ZW4gaWYgdGhlIGRpcmVjdGl2ZVxuICogaGFzIGlzb2xhdGVkIHNjb3BlLlxuICogU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI2NyZWF0aW5nLWEtZGlyZWN0aXZlLXRoYXQtd3JhcHMtb3RoZXItZWxlbWVudHMgRGlyZWN0aXZlcyBHdWlkZX0uXG4gKlxuICogVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgdGhlIHdpZGdldCB0byBoYXZlIHByaXZhdGUgc3RhdGUgZm9yIGl0cyB0ZW1wbGF0ZSwgd2hpbGUgdGhlIHRyYW5zY2x1ZGVkXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gaXRzIG9yaWdpbmF0aW5nIHNjb3BlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogV2hlbiB0ZXN0aW5nIGFuIGVsZW1lbnQgdHJhbnNjbHVkZSBkaXJlY3RpdmUgeW91IG11c3Qgbm90IHBsYWNlIHRoZSBkaXJlY3RpdmUgYXQgdGhlIHJvb3Qgb2YgdGhlXG4gKiBET00gZnJhZ21lbnQgdGhhdCBpcyBiZWluZyBjb21waWxlZC4gU2VlIHtAbGluayBndWlkZS91bml0LXRlc3RpbmcjdGVzdGluZy10cmFuc2NsdXNpb24tZGlyZWN0aXZlc1xuICogVGVzdGluZyBUcmFuc2NsdXNpb24gRGlyZWN0aXZlc30uXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBGdW5jdGlvbnNcbiAqXG4gKiBXaGVuIGEgZGlyZWN0aXZlIHJlcXVlc3RzIHRyYW5zY2x1c2lvbiwgdGhlIGNvbXBpbGVyIGV4dHJhY3RzIGl0cyBjb250ZW50cyBhbmQgcHJvdmlkZXMgYSAqKnRyYW5zY2x1c2lvblxuICogZnVuY3Rpb24qKiB0byB0aGUgZGlyZWN0aXZlJ3MgYGxpbmtgIGZ1bmN0aW9uIGFuZCBgY29udHJvbGxlcmAuIFRoaXMgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIGlzIGEgc3BlY2lhbFxuICogKipsaW5raW5nIGZ1bmN0aW9uKiogdGhhdCB3aWxsIHJldHVybiB0aGUgY29tcGlsZWQgY29udGVudHMgbGlua2VkIHRvIGEgbmV3IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogSWYgeW91IGFyZSBqdXN0IHVzaW5nIHtAbGluayBuZ1RyYW5zY2x1ZGV9IHRoZW4geW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgdGhpcyBmdW5jdGlvbiwgc2luY2VcbiAqIG5nVHJhbnNjbHVkZSB3aWxsIGRlYWwgd2l0aCBpdCBmb3IgdXMuXG4gKiA8L2Rpdj5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byBtYW51YWxseSBjb250cm9sIHRoZSBpbnNlcnRpb24gYW5kIHJlbW92YWwgb2YgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaW4geW91ciBkaXJlY3RpdmVcbiAqIHRoZW4geW91IG11c3QgdXNlIHRoaXMgdHJhbnNjbHVkZSBmdW5jdGlvbi4gV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb24gaXQgcmV0dXJucyBhIGEganFMaXRlL0pRdWVyeVxuICogb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGNvbXBpbGVkIERPTSwgd2hpY2ggaXMgbGlua2VkIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIHlvdSBjYW4gcGFzcyBpbiBhICoqY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKiouIFRoaXMgZnVuY3Rpb24gYWNjZXB0c1xuICogdHdvIHBhcmFtZXRlcnMsIGBmdW5jdGlvbihjbG9uZSwgc2NvcGUpIHsgLi4uIH1gLCB3aGVyZSB0aGUgYGNsb25lYCBpcyBhIGZyZXNoIGNvbXBpbGVkIGNvcHkgb2YgeW91ciB0cmFuc2NsdWRlZFxuICogY29udGVudCBhbmQgdGhlIGBzY29wZWAgaXMgdGhlIG5ld2x5IGNyZWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlLCB0byB3aGljaCB0aGUgY2xvbmUgaXMgYm91bmQuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqQmVzdCBQcmFjdGljZSoqOiBBbHdheXMgcHJvdmlkZSBhIGBjbG9uZUZuYCAoY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKSB3aGVuIHlvdSBjYWxsIGEgdHJhbnNsdWRlIGZ1bmN0aW9uXG4gKiBzaW5jZSB5b3UgdGhlbiBnZXQgYSBmcmVzaCBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgRE9NIGFuZCBhbHNvIGhhdmUgYWNjZXNzIHRvIHRoZSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogPC9kaXY+XG4gKlxuICogSXQgaXMgbm9ybWFsIHByYWN0aWNlIHRvIGF0dGFjaCB5b3VyIHRyYW5zY2x1ZGVkIGNvbnRlbnQgKGBjbG9uZWApIHRvIHRoZSBET00gaW5zaWRlIHlvdXIgKipjbG9uZVxuICogYXR0YWNoIGZ1bmN0aW9uKio6XG4gKlxuICogYGBganNcbiAqIHZhciB0cmFuc2NsdWRlZENvbnRlbnQsIHRyYW5zY2x1c2lvblNjb3BlO1xuICpcbiAqICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lLCBzY29wZSkge1xuICogICBlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gKiAgIHRyYW5zY2x1ZGVkQ29udGVudCA9IGNsb25lO1xuICogICB0cmFuc2NsdXNpb25TY29wZSA9IHNjb3BlO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBMYXRlciwgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGZyb20geW91ciBET00gdGhlbiB5b3Ugc2hvdWxkIGFsc28gZGVzdHJveSB0aGVcbiAqIGFzc29jaWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlOlxuICpcbiAqIGBgYGpzXG4gKiB0cmFuc2NsdWRlZENvbnRlbnQucmVtb3ZlKCk7XG4gKiB0cmFuc2NsdXNpb25TY29wZS4kZGVzdHJveSgpO1xuICogYGBgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqQmVzdCBQcmFjdGljZSoqOiBpZiB5b3UgaW50ZW5kIHRvIGFkZCBhbmQgcmVtb3ZlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgbWFudWFsbHkgaW4geW91ciBkaXJlY3RpdmVcbiAqIChieSBjYWxsaW5nIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRvIGdldCB0aGUgRE9NIGFuZCBjYWxsaW5nIGBlbGVtZW50LnJlbW92ZSgpYCB0byByZW1vdmUgaXQpLFxuICogdGhlbiB5b3UgYXJlIGFsc28gcmVzcG9uc2libGUgZm9yIGNhbGxpbmcgYCRkZXN0cm95YCBvbiB0aGUgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogPC9kaXY+XG4gKlxuICogVGhlIGJ1aWx0LWluIERPTSBtYW5pcHVsYXRpb24gZGlyZWN0aXZlcywgc3VjaCBhcyB7QGxpbmsgbmdJZn0sIHtAbGluayBuZ1N3aXRjaH0gYW5kIHtAbGluayBuZ1JlcGVhdH1cbiAqIGF1dG9tYXRpY2FsbHkgZGVzdHJveSB0aGVpciB0cmFuc2x1ZGVkIGNsb25lcyBhcyBuZWNlc3Nhcnkgc28geW91IGRvIG5vdCBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoaXMgaWZcbiAqIHlvdSBhcmUgc2ltcGx5IHVzaW5nIHtAbGluayBuZ1RyYW5zY2x1ZGV9IHRvIGluamVjdCB0aGUgdHJhbnNjbHVzaW9uIGludG8geW91ciBkaXJlY3RpdmUuXG4gKlxuICpcbiAqICMjIyMgVHJhbnNjbHVzaW9uIFNjb3Blc1xuICpcbiAqIFdoZW4geW91IGNhbGwgYSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGl0IHJldHVybnMgYSBET00gZnJhZ21lbnQgdGhhdCBpcyBwcmUtYm91bmQgdG8gYSAqKnRyYW5zY2x1c2lvblxuICogc2NvcGUqKi4gVGhpcyBzY29wZSBpcyBzcGVjaWFsLCBpbiB0aGF0IGl0IGlzIGEgY2hpbGQgb2YgdGhlIGRpcmVjdGl2ZSdzIHNjb3BlIChhbmQgc28gZ2V0cyBkZXN0cm95ZWRcbiAqIHdoZW4gdGhlIGRpcmVjdGl2ZSdzIHNjb3BlIGdldHMgZGVzdHJveWVkKSBidXQgaXQgaW5oZXJpdHMgdGhlIHByb3BlcnRpZXMgb2YgdGhlIHNjb3BlIGZyb20gd2hpY2ggaXRcbiAqIHdhcyB0YWtlbi5cbiAqXG4gKiBGb3IgZXhhbXBsZSBjb25zaWRlciBhIGRpcmVjdGl2ZSB0aGF0IHVzZXMgdHJhbnNjbHVzaW9uIGFuZCBpc29sYXRlZCBzY29wZS4gVGhlIERPTSBoaWVyYXJjaHkgbWlnaHQgbG9va1xuICogbGlrZSB0aGlzOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctYXBwPlxuICogICA8ZGl2IGlzb2xhdGU+XG4gKiAgICAgPGRpdiB0cmFuc2NsdXNpb24+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBUaGUgYCRwYXJlbnRgIHNjb3BlIGhpZXJhcmNoeSB3aWxsIGxvb2sgbGlrZSB0aGlzOlxuICpcbiAqIGBgYFxuICogLSAkcm9vdFNjb3BlXG4gKiAgIC0gaXNvbGF0ZVxuICogICAgIC0gdHJhbnNjbHVzaW9uXG4gKiBgYGBcbiAqXG4gKiBidXQgdGhlIHNjb3BlcyB3aWxsIGluaGVyaXQgcHJvdG90eXBpY2FsbHkgZnJvbSBkaWZmZXJlbnQgc2NvcGVzIHRvIHRoZWlyIGAkcGFyZW50YC5cbiAqXG4gKiBgYGBcbiAqIC0gJHJvb3RTY29wZVxuICogICAtIHRyYW5zY2x1c2lvblxuICogLSBpc29sYXRlXG4gKiBgYGBcbiAqXG4gKlxuICogIyMjIEF0dHJpYnV0ZXNcbiAqXG4gKiBUaGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIEF0dHJpYnV0ZXN9IG9iamVjdCAtIHBhc3NlZCBhcyBhIHBhcmFtZXRlciBpbiB0aGVcbiAqIGBsaW5rKClgIG9yIGBjb21waWxlKClgIGZ1bmN0aW9ucy4gSXQgaGFzIGEgdmFyaWV0eSBvZiB1c2VzLlxuICpcbiAqIGFjY2Vzc2luZyAqTm9ybWFsaXplZCBhdHRyaWJ1dGUgbmFtZXM6KlxuICogRGlyZWN0aXZlcyBsaWtlICduZ0JpbmQnIGNhbiBiZSBleHByZXNzZWQgaW4gbWFueSB3YXlzOiAnbmc6YmluZCcsIGBkYXRhLW5nLWJpbmRgLCBvciAneC1uZy1iaW5kJy5cbiAqIHRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhbGxvd3MgZm9yIG5vcm1hbGl6ZWQgYWNjZXNzIHRvXG4gKiAgIHRoZSBhdHRyaWJ1dGVzLlxuICpcbiAqICogKkRpcmVjdGl2ZSBpbnRlci1jb21tdW5pY2F0aW9uOiogQWxsIGRpcmVjdGl2ZXMgc2hhcmUgdGhlIHNhbWUgaW5zdGFuY2Ugb2YgdGhlIGF0dHJpYnV0ZXNcbiAqICAgb2JqZWN0IHdoaWNoIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGF0dHJpYnV0ZXMgb2JqZWN0IGFzIGludGVyIGRpcmVjdGl2ZVxuICogICBjb21tdW5pY2F0aW9uLlxuICpcbiAqICogKlN1cHBvcnRzIGludGVycG9sYXRpb246KiBJbnRlcnBvbGF0aW9uIGF0dHJpYnV0ZXMgYXJlIGFzc2lnbmVkIHRvIHRoZSBhdHRyaWJ1dGUgb2JqZWN0XG4gKiAgIGFsbG93aW5nIG90aGVyIGRpcmVjdGl2ZXMgdG8gcmVhZCB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlLlxuICpcbiAqICogKk9ic2VydmluZyBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlczoqIFVzZSBgJG9ic2VydmVgIHRvIG9ic2VydmUgdGhlIHZhbHVlIGNoYW5nZXMgb2YgYXR0cmlidXRlc1xuICogICB0aGF0IGNvbnRhaW4gaW50ZXJwb2xhdGlvbiAoZS5nLiBgc3JjPVwie3tiYXJ9fVwiYCkuIE5vdCBvbmx5IGlzIHRoaXMgdmVyeSBlZmZpY2llbnQgYnV0IGl0J3MgYWxzb1xuICogICB0aGUgb25seSB3YXkgdG8gZWFzaWx5IGdldCB0aGUgYWN0dWFsIHZhbHVlIGJlY2F1c2UgZHVyaW5nIHRoZSBsaW5raW5nIHBoYXNlIHRoZSBpbnRlcnBvbGF0aW9uXG4gKiAgIGhhc24ndCBiZWVuIGV2YWx1YXRlZCB5ZXQgYW5kIHNvIHRoZSB2YWx1ZSBpcyBhdCB0aGlzIHRpbWUgc2V0IHRvIGB1bmRlZmluZWRgLlxuICpcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbiBsaW5raW5nRm4oc2NvcGUsIGVsbSwgYXR0cnMsIGN0cmwpIHtcbiAqICAgLy8gZ2V0IHRoZSBhdHRyaWJ1dGUgdmFsdWVcbiAqICAgY29uc29sZS5sb2coYXR0cnMubmdNb2RlbCk7XG4gKlxuICogICAvLyBjaGFuZ2UgdGhlIGF0dHJpYnV0ZVxuICogICBhdHRycy4kc2V0KCduZ01vZGVsJywgJ25ldyB2YWx1ZScpO1xuICpcbiAqICAgLy8gb2JzZXJ2ZSBjaGFuZ2VzIHRvIGludGVycG9sYXRlZCBhdHRyaWJ1dGVcbiAqICAgYXR0cnMuJG9ic2VydmUoJ25nTW9kZWwnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgIGNvbnNvbGUubG9nKCduZ01vZGVsIGhhcyBjaGFuZ2VkIHZhbHVlIHRvICcgKyB2YWx1ZSk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGUqKjogVHlwaWNhbGx5IGRpcmVjdGl2ZXMgYXJlIHJlZ2lzdGVyZWQgd2l0aCBgbW9kdWxlLmRpcmVjdGl2ZWAuIFRoZSBleGFtcGxlIGJlbG93IGlzXG4gKiB0byBpbGx1c3RyYXRlIGhvdyBgJGNvbXBpbGVgIHdvcmtzLlxuICogPC9kaXY+XG4gKlxuIDxleGFtcGxlIG1vZHVsZT1cImNvbXBpbGVFeGFtcGxlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnY29tcGlsZUV4YW1wbGUnLCBbXSwgZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcikge1xuICAgICAgICAvLyBjb25maWd1cmUgbmV3ICdjb21waWxlJyBkaXJlY3RpdmUgYnkgcGFzc2luZyBhIGRpcmVjdGl2ZVxuICAgICAgICAvLyBmYWN0b3J5IGZ1bmN0aW9uLiBUaGUgZmFjdG9yeSBmdW5jdGlvbiBpbmplY3RzIHRoZSAnJGNvbXBpbGUnXG4gICAgICAgICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCdjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAgICAgICAgICAvLyBkaXJlY3RpdmUgZmFjdG9yeSBjcmVhdGVzIGEgbGluayBmdW5jdGlvblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChcbiAgICAgICAgICAgICAgZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgLy8gd2F0Y2ggdGhlICdjb21waWxlJyBleHByZXNzaW9uIGZvciBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzLmNvbXBpbGUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlICdjb21waWxlJyBleHByZXNzaW9uIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24gaXQgaW50byB0aGUgY3VycmVudCBET01cbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZSB0aGUgbmV3IERPTSBhbmQgbGluayBpdCB0byB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgIC8vIHNjb3BlLlxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIG9ubHkgY29tcGlsZSAuY2hpbGROb2RlcyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgZ2V0IGludG8gaW5maW5pdGUgbG9vcCBjb21waWxpbmcgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNvbnRyb2xsZXIoJ0dyZWV0ZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLm5hbWUgPSAnQW5ndWxhcic7XG4gICAgICAgICRzY29wZS5odG1sID0gJ0hlbGxvIHt7bmFtZX19JztcbiAgICAgIH1dKTtcbiAgICA8L3NjcmlwdD5cbiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHcmVldGVyQ29udHJvbGxlclwiPlxuICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPiA8YnIvPlxuICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwiaHRtbFwiPjwvdGV4dGFyZWE+IDxici8+XG4gICAgICA8ZGl2IGNvbXBpbGU9XCJodG1sXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgIGl0KCdzaG91bGQgYXV0byBjb21waWxlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgdmFyIHRleHRhcmVhID0gJCgndGV4dGFyZWEnKTtcbiAgICAgICB2YXIgb3V0cHV0ID0gJCgnZGl2W2NvbXBpbGVdJyk7XG4gICAgICAgLy8gVGhlIGluaXRpYWwgc3RhdGUgcmVhZHMgJ0hlbGxvIEFuZ3VsYXInLlxuICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0JlKCdIZWxsbyBBbmd1bGFyJyk7XG4gICAgICAgdGV4dGFyZWEuY2xlYXIoKTtcbiAgICAgICB0ZXh0YXJlYS5zZW5kS2V5cygne3tuYW1lfX0hJyk7XG4gICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQmUoJ0FuZ3VsYXIhJyk7XG4gICAgIH0pO1xuICAgPC9maWxlPlxuIDwvZXhhbXBsZT5cblxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgb3IgSFRNTCBzdHJpbmcgdG8gY29tcGlsZSBpbnRvIGEgdGVtcGxhdGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZSBmdW5jdGlvbiBhdmFpbGFibGUgdG8gZGlyZWN0aXZlcyAtIERFUFJFQ0FURUQuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICogKipOb3RlOioqIFBhc3NpbmcgYSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdG8gdGhlICRjb21waWxlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIGFzIGl0XG4gKiAgIGUuZy4gd2lsbCBub3QgdXNlIHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHBhc3MgdGhlIHRyYW5zY2x1ZGUgZnVuY3Rpb24gYXMgYVxuICogICBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIHRvIHRoZSBsaW5rIGZ1bmN0aW9uIGluc3RlYWQuXG4gKiA8L2Rpdj5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UHJpb3JpdHkgb25seSBhcHBseSBkaXJlY3RpdmVzIGxvd2VyIHRoYW4gZ2l2ZW4gcHJpb3JpdHkgKE9ubHkgZWZmZWN0cyB0aGVcbiAqICAgICAgICAgICAgICAgICByb290IGVsZW1lbnQocyksIG5vdCB0aGVpciBjaGlsZHJlbilcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzY29wZSwgY2xvbmVBdHRhY2hGbj0sIG9wdGlvbnM9KX0gYSBsaW5rIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gYmluZCB0ZW1wbGF0ZVxuICogKGEgRE9NIGVsZW1lbnQvdHJlZSkgdG8gYSBzY29wZS4gV2hlcmU6XG4gKlxuICogICogYHNjb3BlYCAtIEEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IHRvIGJpbmQgdG8uXG4gKiAgKiBgY2xvbmVBdHRhY2hGbmAgLSBJZiBgY2xvbmVBdHRhY2hGbmAgaXMgcHJvdmlkZWQsIHRoZW4gdGhlIGxpbmsgZnVuY3Rpb24gd2lsbCBjbG9uZSB0aGVcbiAqICBgdGVtcGxhdGVgIGFuZCBjYWxsIHRoZSBgY2xvbmVBdHRhY2hGbmAgZnVuY3Rpb24gYWxsb3dpbmcgdGhlIGNhbGxlciB0byBhdHRhY2ggdGhlXG4gKiAgY2xvbmVkIGVsZW1lbnRzIHRvIHRoZSBET00gZG9jdW1lbnQgYXQgdGhlIGFwcHJvcHJpYXRlIHBsYWNlLiBUaGUgYGNsb25lQXR0YWNoRm5gIGlzXG4gKiAgY2FsbGVkIGFzOiA8YnIvPiBgY2xvbmVBdHRhY2hGbihjbG9uZWRFbGVtZW50LCBzY29wZSlgIHdoZXJlOlxuICpcbiAqICAgICAgKiBgY2xvbmVkRWxlbWVudGAgLSBpcyBhIGNsb25lIG9mIHRoZSBvcmlnaW5hbCBgZWxlbWVudGAgcGFzc2VkIGludG8gdGhlIGNvbXBpbGVyLlxuICogICAgICAqIGBzY29wZWAgLSBpcyB0aGUgY3VycmVudCBzY29wZSB3aXRoIHdoaWNoIHRoZSBsaW5raW5nIGZ1bmN0aW9uIGlzIHdvcmtpbmcgd2l0aC5cbiAqXG4gKiAgKiBgb3B0aW9uc2AgLSBBbiBvcHRpb25hbCBvYmplY3QgaGFzaCB3aXRoIGxpbmtpbmcgb3B0aW9ucy4gSWYgYG9wdGlvbnNgIGlzIHByb3ZpZGVkLCB0aGVuIHRoZSBmb2xsb3dpbmdcbiAqICBrZXlzIG1heSBiZSB1c2VkIHRvIGNvbnRyb2wgbGlua2luZyBiZWhhdmlvcjpcbiAqXG4gKiAgICAgICogYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCAtIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIG1hZGUgYXZhaWxhYmxlIHRvXG4gKiAgICAgICAgZGlyZWN0aXZlczsgaWYgZ2l2ZW4sIGl0IHdpbGwgYmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGxpbmsgZnVuY3Rpb25zIG9mXG4gKiAgICAgICAgZGlyZWN0aXZlcyBmb3VuZCBpbiBgZWxlbWVudGAgZHVyaW5nIGNvbXBpbGF0aW9uLlxuICogICAgICAqIGB0cmFuc2NsdWRlQ29udHJvbGxlcnNgIC0gYW4gb2JqZWN0IGhhc2ggd2l0aCBrZXlzIHRoYXQgbWFwIGNvbnRyb2xsZXIgbmFtZXNcbiAqICAgICAgICB0byBjb250cm9sbGVyIGluc3RhbmNlczsgaWYgZ2l2ZW4sIGl0IHdpbGwgbWFrZSB0aGUgY29udHJvbGxlcnNcbiAqICAgICAgICBhdmFpbGFibGUgdG8gZGlyZWN0aXZlcy5cbiAqICAgICAgKiBgZnV0dXJlUGFyZW50RWxlbWVudGAgLSBkZWZpbmVzIHRoZSBwYXJlbnQgdG8gd2hpY2ggdGhlIGBjbG9uZUF0dGFjaEZuYCB3aWxsIGFkZFxuICogICAgICAgIHRoZSBjbG9uZWQgZWxlbWVudHM7IG9ubHkgbmVlZGVkIGZvciB0cmFuc2NsdWRlcyB0aGF0IGFyZSBhbGxvd2VkIHRvIGNvbnRhaW4gbm9uIGh0bWxcbiAqICAgICAgICBlbGVtZW50cyAoZS5nLiBTVkcgZWxlbWVudHMpLiBTZWUgYWxzbyB0aGUgZGlyZWN0aXZlLmNvbnRyb2xsZXIgcHJvcGVydHkuXG4gKlxuICogQ2FsbGluZyB0aGUgbGlua2luZyBmdW5jdGlvbiByZXR1cm5zIHRoZSBlbGVtZW50IG9mIHRoZSB0ZW1wbGF0ZS4gSXQgaXMgZWl0aGVyIHRoZSBvcmlnaW5hbFxuICogZWxlbWVudCBwYXNzZWQgaW4sIG9yIHRoZSBjbG9uZSBvZiB0aGUgZWxlbWVudCBpZiB0aGUgYGNsb25lQXR0YWNoRm5gIGlzIHByb3ZpZGVkLlxuICpcbiAqIEFmdGVyIGxpbmtpbmcgdGhlIHZpZXcgaXMgbm90IHVwZGF0ZWQgdW50aWwgYWZ0ZXIgYSBjYWxsIHRvICRkaWdlc3Qgd2hpY2ggdHlwaWNhbGx5IGlzIGRvbmUgYnlcbiAqIEFuZ3VsYXIgYXV0b21hdGljYWxseS5cbiAqXG4gKiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gdGhlIGJvdW5kIHZpZXcsIHRoZXJlIGFyZSB0d28gd2F5cyB0byBkbyBpdDpcbiAqXG4gKiAtIElmIHlvdSBhcmUgbm90IGFza2luZyB0aGUgbGlua2luZyBmdW5jdGlvbiB0byBjbG9uZSB0aGUgdGVtcGxhdGUsIGNyZWF0ZSB0aGUgRE9NIGVsZW1lbnQocylcbiAqICAgYmVmb3JlIHlvdSBzZW5kIHRoZW0gdG8gdGhlIGNvbXBpbGVyIGFuZCBrZWVwIHRoaXMgcmVmZXJlbmNlIGFyb3VuZC5cbiAqICAgYGBganNcbiAqICAgICB2YXIgZWxlbWVudCA9ICRjb21waWxlKCc8cD57e3RvdGFsfX08L3A+Jykoc2NvcGUpO1xuICogICBgYGBcbiAqXG4gKiAtIGlmIG9uIHRoZSBvdGhlciBoYW5kLCB5b3UgbmVlZCB0aGUgZWxlbWVudCB0byBiZSBjbG9uZWQsIHRoZSB2aWV3IHJlZmVyZW5jZSBmcm9tIHRoZSBvcmlnaW5hbFxuICogICBleGFtcGxlIHdvdWxkIG5vdCBwb2ludCB0byB0aGUgY2xvbmUsIGJ1dCByYXRoZXIgdG8gdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRoYXQgd2FzIGNsb25lZC4gSW5cbiAqICAgdGhpcyBjYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgY2xvbmUgdmlhIHRoZSBjbG9uZUF0dGFjaEZuOlxuICogICBgYGBqc1xuICogICAgIHZhciB0ZW1wbGF0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJzxwPnt7dG90YWx9fTwvcD4nKSxcbiAqICAgICAgICAgc2NvcGUgPSAuLi4uO1xuICpcbiAqICAgICB2YXIgY2xvbmVkRWxlbWVudCA9ICRjb21waWxlKHRlbXBsYXRlRWxlbWVudCkoc2NvcGUsIGZ1bmN0aW9uKGNsb25lZEVsZW1lbnQsIHNjb3BlKSB7XG4gKiAgICAgICAvL2F0dGFjaCB0aGUgY2xvbmUgdG8gRE9NIGRvY3VtZW50IGF0IHRoZSByaWdodCBwbGFjZVxuICogICAgIH0pO1xuICpcbiAqICAgICAvL25vdyB3ZSBoYXZlIHJlZmVyZW5jZSB0byB0aGUgY2xvbmVkIERPTSB2aWEgYGNsb25lZEVsZW1lbnRgXG4gKiAgIGBgYFxuICpcbiAqXG4gKiBGb3IgaW5mb3JtYXRpb24gb24gaG93IHRoZSBjb21waWxlciB3b3Jrcywgc2VlIHRoZVxuICoge0BsaW5rIGd1aWRlL2NvbXBpbGVyIEFuZ3VsYXIgSFRNTCBDb21waWxlcn0gc2VjdGlvbiBvZiB0aGUgRGV2ZWxvcGVyIEd1aWRlLlxuICovXG5cbnZhciAkY29tcGlsZU1pbkVyciA9IG1pbkVycignJGNvbXBpbGUnKTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRjb21waWxlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqL1xuJENvbXBpbGVQcm92aWRlci4kaW5qZWN0ID0gWyckcHJvdmlkZScsICckJHNhbml0aXplVXJpUHJvdmlkZXInXTtcbmZ1bmN0aW9uICRDb21waWxlUHJvdmlkZXIoJHByb3ZpZGUsICQkc2FuaXRpemVVcmlQcm92aWRlcikge1xuICB2YXIgaGFzRGlyZWN0aXZlcyA9IHt9LFxuICAgICAgU3VmZml4ID0gJ0RpcmVjdGl2ZScsXG4gICAgICBDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAgPSAvXlxccypkaXJlY3RpdmVcXDpcXHMqKFtcXHdcXC1dKylcXHMrKC4qKSQvLFxuICAgICAgQ0xBU1NfRElSRUNUSVZFX1JFR0VYUCA9IC8oKFtcXHdcXC1dKykoPzpcXDooW147XSspKT87PykvLFxuICAgICAgQUxMX09SX05PVEhJTkdfQVRUUlMgPSBtYWtlTWFwKCduZ1NyYyxuZ1NyY3NldCxzcmMsc3Jjc2V0JyksXG4gICAgICBSRVFVSVJFX1BSRUZJWF9SRUdFWFAgPSAvXig/OihcXF5cXF4/KT8oXFw/KT8oXFxeXFxePyk/KT8vO1xuXG4gIC8vIFJlZjogaHR0cDovL2RldmVsb3BlcnMud2hhdHdnLm9yZy93ZWJhcHBhcGlzLmh0bWwjZXZlbnQtaGFuZGxlci1pZGwtYXR0cmlidXRlc1xuICAvLyBUaGUgYXNzdW1wdGlvbiBpcyB0aGF0IGZ1dHVyZSBET00gZXZlbnQgYXR0cmlidXRlIG5hbWVzIHdpbGwgYmVnaW4gd2l0aFxuICAvLyAnb24nIGFuZCBiZSBjb21wb3NlZCBvZiBvbmx5IEVuZ2xpc2ggbGV0dGVycy5cbiAgdmFyIEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAgPSAvXihvblthLXpdK3xmb3JtYWN0aW9uKSQvO1xuXG4gIGZ1bmN0aW9uIHBhcnNlSXNvbGF0ZUJpbmRpbmdzKHNjb3BlLCBkaXJlY3RpdmVOYW1lLCBpc0NvbnRyb2xsZXIpIHtcbiAgICB2YXIgTE9DQUxfUkVHRVhQID0gL15cXHMqKFtAJl18PShcXCo/KSkoXFw/PylcXHMqKFxcdyopXFxzKiQvO1xuXG4gICAgdmFyIGJpbmRpbmdzID0ge307XG5cbiAgICBmb3JFYWNoKHNjb3BlLCBmdW5jdGlvbihkZWZpbml0aW9uLCBzY29wZU5hbWUpIHtcbiAgICAgIHZhciBtYXRjaCA9IGRlZmluaXRpb24ubWF0Y2goTE9DQUxfUkVHRVhQKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignaXNjcCcsXG4gICAgICAgICAgICBcIkludmFsaWQgezN9IGZvciBkaXJlY3RpdmUgJ3swfScuXCIgK1xuICAgICAgICAgICAgXCIgRGVmaW5pdGlvbjogey4uLiB7MX06ICd7Mn0nIC4uLn1cIixcbiAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsIHNjb3BlTmFtZSwgZGVmaW5pdGlvbixcbiAgICAgICAgICAgIChpc0NvbnRyb2xsZXIgPyBcImNvbnRyb2xsZXIgYmluZGluZ3MgZGVmaW5pdGlvblwiIDpcbiAgICAgICAgICAgIFwiaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uXCIpKTtcbiAgICAgIH1cblxuICAgICAgYmluZGluZ3Nbc2NvcGVOYW1lXSA9IHtcbiAgICAgICAgbW9kZTogbWF0Y2hbMV1bMF0sXG4gICAgICAgIGNvbGxlY3Rpb246IG1hdGNoWzJdID09PSAnKicsXG4gICAgICAgIG9wdGlvbmFsOiBtYXRjaFszXSA9PT0gJz8nLFxuICAgICAgICBhdHRyTmFtZTogbWF0Y2hbNF0gfHwgc2NvcGVOYW1lXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGJpbmRpbmdzO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VEaXJlY3RpdmVCaW5kaW5ncyhkaXJlY3RpdmUsIGRpcmVjdGl2ZU5hbWUpIHtcbiAgICB2YXIgYmluZGluZ3MgPSB7XG4gICAgICBpc29sYXRlU2NvcGU6IG51bGwsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiBudWxsXG4gICAgfTtcbiAgICBpZiAoaXNPYmplY3QoZGlyZWN0aXZlLnNjb3BlKSkge1xuICAgICAgaWYgKGRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyID09PSB0cnVlKSB7XG4gICAgICAgIGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXIgPSBwYXJzZUlzb2xhdGVCaW5kaW5ncyhkaXJlY3RpdmUuc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCB0cnVlKTtcbiAgICAgICAgYmluZGluZ3MuaXNvbGF0ZVNjb3BlID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiaW5kaW5ncy5pc29sYXRlU2NvcGUgPSBwYXJzZUlzb2xhdGVCaW5kaW5ncyhkaXJlY3RpdmUuc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyKSkge1xuICAgICAgYmluZGluZ3MuYmluZFRvQ29udHJvbGxlciA9XG4gICAgICAgICAgcGFyc2VJc29sYXRlQmluZGluZ3MoZGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIsIGRpcmVjdGl2ZU5hbWUsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3QoYmluZGluZ3MuYmluZFRvQ29udHJvbGxlcikpIHtcbiAgICAgIHZhciBjb250cm9sbGVyID0gZGlyZWN0aXZlLmNvbnRyb2xsZXI7XG4gICAgICB2YXIgY29udHJvbGxlckFzID0gZGlyZWN0aXZlLmNvbnRyb2xsZXJBcztcbiAgICAgIGlmICghY29udHJvbGxlcikge1xuICAgICAgICAvLyBUaGVyZSBpcyBubyBjb250cm9sbGVyLCB0aGVyZSBtYXkgb3IgbWF5IG5vdCBiZSBhIGNvbnRyb2xsZXJBcyBwcm9wZXJ0eVxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9jdHJsJyxcbiAgICAgICAgICAgICAgXCJDYW5ub3QgYmluZCB0byBjb250cm9sbGVyIHdpdGhvdXQgZGlyZWN0aXZlICd7MH0ncyBjb250cm9sbGVyLlwiLFxuICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoIWlkZW50aWZpZXJGb3JDb250cm9sbGVyKGNvbnRyb2xsZXIsIGNvbnRyb2xsZXJBcykpIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgYSBjb250cm9sbGVyLCBidXQgbm8gaWRlbnRpZmllciBvciBjb250cm9sbGVyQXMgcHJvcGVydHlcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vaWRlbnQnLFxuICAgICAgICAgICAgICBcIkNhbm5vdCBiaW5kIHRvIGNvbnRyb2xsZXIgd2l0aG91dCBpZGVudGlmaWVyIGZvciBkaXJlY3RpdmUgJ3swfScuXCIsXG4gICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYmluZGluZ3M7XG4gIH1cblxuICBmdW5jdGlvbiBhc3NlcnRWYWxpZERpcmVjdGl2ZU5hbWUobmFtZSkge1xuICAgIHZhciBsZXR0ZXIgPSBuYW1lLmNoYXJBdCgwKTtcbiAgICBpZiAoIWxldHRlciB8fCBsZXR0ZXIgIT09IGxvd2VyY2FzZShsZXR0ZXIpKSB7XG4gICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignYmFkZGlyJywgXCJEaXJlY3RpdmUgbmFtZSAnezB9JyBpcyBpbnZhbGlkLiBUaGUgZmlyc3QgY2hhcmFjdGVyIG11c3QgYmUgYSBsb3dlcmNhc2UgbGV0dGVyXCIsIG5hbWUpO1xuICAgIH1cbiAgICBpZiAobmFtZSAhPT0gbmFtZS50cmltKCkpIHtcbiAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdiYWRkaXInLFxuICAgICAgICAgICAgXCJEaXJlY3RpdmUgbmFtZSAnezB9JyBpcyBpbnZhbGlkLiBUaGUgbmFtZSBzaG91bGQgbm90IGNvbnRhaW4gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlc1wiLFxuICAgICAgICAgICAgbmFtZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmVcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVyIGEgbmV3IGRpcmVjdGl2ZSB3aXRoIHRoZSBjb21waWxlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGRpcmVjdGl2ZSBpbiBjYW1lbC1jYXNlIChpLmUuIDxjb2RlPm5nQmluZDwvY29kZT4gd2hpY2hcbiAgICogICAgd2lsbCBtYXRjaCBhcyA8Y29kZT5uZy1iaW5kPC9jb2RlPiksIG9yIGFuIG9iamVjdCBtYXAgb2YgZGlyZWN0aXZlcyB3aGVyZSB0aGUga2V5cyBhcmUgdGhlXG4gICAqICAgIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmFjdG9yaWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5fSBkaXJlY3RpdmVGYWN0b3J5IEFuIGluamVjdGFibGUgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24uIFNlZVxuICAgKiAgICB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlfSBmb3IgbW9yZSBpbmZvLlxuICAgKiBAcmV0dXJucyB7bmcuJGNvbXBpbGVQcm92aWRlcn0gU2VsZiBmb3IgY2hhaW5pbmcuXG4gICAqL1xuICAgdGhpcy5kaXJlY3RpdmUgPSBmdW5jdGlvbiByZWdpc3RlckRpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmVGYWN0b3J5KSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2RpcmVjdGl2ZScpO1xuICAgIGlmIChpc1N0cmluZyhuYW1lKSkge1xuICAgICAgYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lKG5hbWUpO1xuICAgICAgYXNzZXJ0QXJnKGRpcmVjdGl2ZUZhY3RvcnksICdkaXJlY3RpdmVGYWN0b3J5Jyk7XG4gICAgICBpZiAoIWhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXSA9IFtdO1xuICAgICAgICAkcHJvdmlkZS5mYWN0b3J5KG5hbWUgKyBTdWZmaXgsIFsnJGluamVjdG9yJywgJyRleGNlcHRpb25IYW5kbGVyJyxcbiAgICAgICAgICBmdW5jdGlvbigkaW5qZWN0b3IsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlcyA9IFtdO1xuICAgICAgICAgICAgZm9yRWFjaChoYXNEaXJlY3RpdmVzW25hbWVdLCBmdW5jdGlvbihkaXJlY3RpdmVGYWN0b3J5LCBpbmRleCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBkaXJlY3RpdmUgPSAkaW5qZWN0b3IuaW52b2tlKGRpcmVjdGl2ZUZhY3RvcnkpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSA9IHsgY29tcGlsZTogdmFsdWVGbihkaXJlY3RpdmUpIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGlyZWN0aXZlLmNvbXBpbGUgJiYgZGlyZWN0aXZlLmxpbmspIHtcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5jb21waWxlID0gdmFsdWVGbihkaXJlY3RpdmUubGluayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5wcmlvcml0eSA9IGRpcmVjdGl2ZS5wcmlvcml0eSB8fCAwO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5uYW1lID0gZGlyZWN0aXZlLm5hbWUgfHwgbmFtZTtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlIHx8IChkaXJlY3RpdmUuY29udHJvbGxlciAmJiBkaXJlY3RpdmUubmFtZSk7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0ID0gZGlyZWN0aXZlLnJlc3RyaWN0IHx8ICdFQSc7XG4gICAgICAgICAgICAgICAgdmFyIGJpbmRpbmdzID0gZGlyZWN0aXZlLiQkYmluZGluZ3MgPVxuICAgICAgICAgICAgICAgICAgICBwYXJzZURpcmVjdGl2ZUJpbmRpbmdzKGRpcmVjdGl2ZSwgZGlyZWN0aXZlLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChiaW5kaW5ncy5pc29sYXRlU2NvcGUpKSB7XG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3MgPSBiaW5kaW5ncy5pc29sYXRlU2NvcGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS4kJG1vZHVsZU5hbWUgPSBkaXJlY3RpdmVGYWN0b3J5LiQkbW9kdWxlTmFtZTtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgICAgICAgIH1dKTtcbiAgICAgIH1cbiAgICAgIGhhc0RpcmVjdGl2ZXNbbmFtZV0ucHVzaChkaXJlY3RpdmVGYWN0b3J5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaChuYW1lLCByZXZlcnNlUGFyYW1zKHJlZ2lzdGVyRGlyZWN0aXZlKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBhW2hyZWZdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudGluZyBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBhW2hyZWZdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KHJlZ2V4cCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXG4gICAqIHVybHMgZHVyaW5nIGltZ1tzcmNdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAkJHNhbml0aXplVXJpUHJvdmlkZXIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICAkY29tcGlsZVByb3ZpZGVyI2RlYnVnSW5mb0VuYWJsZWRcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gZW5hYmxlZCB1cGRhdGUgdGhlIGRlYnVnSW5mb0VuYWJsZWQgc3RhdGUgaWYgcHJvdmlkZWQsIG90aGVyd2lzZSBqdXN0IHJldHVybiB0aGVcbiAgICogY3VycmVudCBkZWJ1Z0luZm9FbmFibGVkIHN0YXRlXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXG4gICAqXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDYWxsIHRoaXMgbWV0aG9kIHRvIGVuYWJsZS9kaXNhYmxlIHZhcmlvdXMgZGVidWcgcnVudGltZSBpbmZvcm1hdGlvbiBpbiB0aGUgY29tcGlsZXIgc3VjaCBhcyBhZGRpbmdcbiAgICogYmluZGluZyBpbmZvcm1hdGlvbiBhbmQgYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgc2NvcGUgb24gdG8gRE9NIGVsZW1lbnRzLlxuICAgKiBJZiBlbmFibGVkLCB0aGUgY29tcGlsZXIgd2lsbCBhZGQgdGhlIGZvbGxvd2luZyB0byBET00gZWxlbWVudHMgdGhhdCBoYXZlIGJlZW4gYm91bmQgdG8gdGhlIHNjb3BlXG4gICAqICogYG5nLWJpbmRpbmdgIENTUyBjbGFzc1xuICAgKiAqIGAkYmluZGluZ2AgZGF0YSBwcm9wZXJ0eSBjb250YWluaW5nIGFuIGFycmF5IG9mIHRoZSBiaW5kaW5nIGV4cHJlc3Npb25zXG4gICAqXG4gICAqIFlvdSBtYXkgd2FudCB0byBkaXNhYmxlIHRoaXMgaW4gcHJvZHVjdGlvbiBmb3IgYSBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBib29zdC4gU2VlXG4gICAqIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERpc2FibGluZyBEZWJ1ZyBEYXRhfSBmb3IgbW9yZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHZhciBkZWJ1Z0luZm9FbmFibGVkID0gdHJ1ZTtcbiAgdGhpcy5kZWJ1Z0luZm9FbmFibGVkID0gZnVuY3Rpb24oZW5hYmxlZCkge1xuICAgIGlmIChpc0RlZmluZWQoZW5hYmxlZCkpIHtcbiAgICAgIGRlYnVnSW5mb0VuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBkZWJ1Z0luZm9FbmFibGVkO1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFtcbiAgICAgICAgICAgICckaW5qZWN0b3InLCAnJGludGVycG9sYXRlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJHBhcnNlJyxcbiAgICAgICAgICAgICckY29udHJvbGxlcicsICckcm9vdFNjb3BlJywgJyRkb2N1bWVudCcsICckc2NlJywgJyRhbmltYXRlJywgJyQkc2FuaXRpemVVcmknLFxuICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgICAkaW50ZXJwb2xhdGUsICAgJGV4Y2VwdGlvbkhhbmRsZXIsICAgJHRlbXBsYXRlUmVxdWVzdCwgICAkcGFyc2UsXG4gICAgICAgICAgICAgJGNvbnRyb2xsZXIsICAgJHJvb3RTY29wZSwgICAkZG9jdW1lbnQsICAgJHNjZSwgICAkYW5pbWF0ZSwgICAkJHNhbml0aXplVXJpKSB7XG5cbiAgICB2YXIgQXR0cmlidXRlcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZXNUb0NvcHkpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzVG9Db3B5KSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlc1RvQ29weSk7XG4gICAgICAgIHZhciBpLCBsLCBrZXk7XG5cbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICB0aGlzW2tleV0gPSBhdHRyaWJ1dGVzVG9Db3B5W2tleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJGF0dHIgPSB7fTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4kJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH07XG5cbiAgICBBdHRyaWJ1dGVzLnByb3RvdHlwZSA9IHtcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG5vcm1hbGl6ZVxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIENvbnZlcnRzIGFuIGF0dHJpYnV0ZSBuYW1lIChlLmcuIGRhc2gvY29sb24vdW5kZXJzY29yZS1kZWxpbWl0ZWQgc3RyaW5nLCBvcHRpb25hbGx5IHByZWZpeGVkIHdpdGggYHgtYCBvclxuICAgICAgICogYGRhdGEtYCkgdG8gaXRzIG5vcm1hbGl6ZWQsIGNhbWVsQ2FzZSBmb3JtLlxuICAgICAgICpcbiAgICAgICAqIEFsc28gdGhlcmUgaXMgc3BlY2lhbCBjYXNlIGZvciBNb3ogcHJlZml4IHN0YXJ0aW5nIHdpdGggdXBwZXIgY2FzZSBsZXR0ZXIuXG4gICAgICAgKlxuICAgICAgICogRm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24gY2hlY2sgb3V0IHRoZSBndWlkZSBvbiB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI21hdGNoaW5nLWRpcmVjdGl2ZXMgTWF0Y2hpbmcgRGlyZWN0aXZlc31cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxuICAgICAgICovXG4gICAgICAkbm9ybWFsaXplOiBkaXJlY3RpdmVOb3JtYWxpemUsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkYWRkQ2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBZGRzIHRoZSBDU1MgY2xhc3MgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBjbGFzc1ZhbCBwYXJhbWV0ZXIgdG8gdGhlIGVsZW1lbnQuIElmIGFuaW1hdGlvbnNcbiAgICAgICAqIGFyZSBlbmFibGVkIHRoZW4gYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGZvciB0aGUgY2xhc3MgYWRkaXRpb24uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzVmFsIFRoZSBjbGFzc05hbWUgdmFsdWUgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKi9cbiAgICAgICRhZGRDbGFzczogZnVuY3Rpb24oY2xhc3NWYWwpIHtcbiAgICAgICAgaWYgKGNsYXNzVmFsICYmIGNsYXNzVmFsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgY2xhc3NWYWwpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRyZW1vdmVDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlbW92ZXMgdGhlIENTUyBjbGFzcyB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIGNsYXNzVmFsIHBhcmFtZXRlciBmcm9tIHRoZSBlbGVtZW50LiBJZlxuICAgICAgICogYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCB0aGVuIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBmb3IgdGhlIGNsYXNzIHJlbW92YWwuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzVmFsIFRoZSBjbGFzc05hbWUgdmFsdWUgdGhhdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudFxuICAgICAgICovXG4gICAgICAkcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGNsYXNzVmFsKSB7XG4gICAgICAgIGlmIChjbGFzc1ZhbCAmJiBjbGFzc1ZhbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIGNsYXNzVmFsKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkdXBkYXRlQ2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBZGRzIGFuZCByZW1vdmVzIHRoZSBhcHByb3ByaWF0ZSBDU1MgY2xhc3MgdmFsdWVzIHRvIHRoZSBlbGVtZW50IGJhc2VkIG9uIHRoZSBkaWZmZXJlbmNlXG4gICAgICAgKiBiZXR3ZWVuIHRoZSBuZXcgYW5kIG9sZCBDU1MgY2xhc3MgdmFsdWVzIChzcGVjaWZpZWQgYXMgbmV3Q2xhc3NlcyBhbmQgb2xkQ2xhc3NlcykuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5ld0NsYXNzZXMgVGhlIGN1cnJlbnQgQ1NTIGNsYXNzTmFtZSB2YWx1ZVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9sZENsYXNzZXMgVGhlIGZvcm1lciBDU1MgY2xhc3NOYW1lIHZhbHVlXG4gICAgICAgKi9cbiAgICAgICR1cGRhdGVDbGFzczogZnVuY3Rpb24obmV3Q2xhc3Nlcywgb2xkQ2xhc3Nlcykge1xuICAgICAgICB2YXIgdG9BZGQgPSB0b2tlbkRpZmZlcmVuY2UobmV3Q2xhc3Nlcywgb2xkQ2xhc3Nlcyk7XG4gICAgICAgIGlmICh0b0FkZCAmJiB0b0FkZC5sZW5ndGgpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgdG9BZGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvUmVtb3ZlID0gdG9rZW5EaWZmZXJlbmNlKG9sZENsYXNzZXMsIG5ld0NsYXNzZXMpO1xuICAgICAgICBpZiAodG9SZW1vdmUgJiYgdG9SZW1vdmUubGVuZ3RoKSB7XG4gICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIHRvUmVtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgYSBub3JtYWxpemVkIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBpbiBhIHdheSBzdWNoIHRoYXQgYWxsIGRpcmVjdGl2ZXNcbiAgICAgICAqIGNhbiBzaGFyZSB0aGUgYXR0cmlidXRlLiBUaGlzIGZ1bmN0aW9uIHByb3Blcmx5IGhhbmRsZXMgYm9vbGVhbiBhdHRyaWJ1dGVzLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBOb3JtYWxpemVkIGtleS4gKGllIG5nQXR0cmlidXRlKVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC4gSWYgYG51bGxgIGF0dHJpYnV0ZSB3aWxsIGJlIGRlbGV0ZWQuXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB3cml0ZUF0dHIgSWYgZmFsc2UsIGRvZXMgbm90IHdyaXRlIHRoZSB2YWx1ZSB0byBET00gZWxlbWVudCBhdHRyaWJ1dGUuXG4gICAgICAgKiAgICAgRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYXR0ck5hbWUgT3B0aW9uYWwgbm9uZSBub3JtYWxpemVkIG5hbWUuIERlZmF1bHRzIHRvIGtleS5cbiAgICAgICAqL1xuICAgICAgJHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSwgd3JpdGVBdHRyLCBhdHRyTmFtZSkge1xuICAgICAgICAvLyBUT0RPOiBkZWNpZGUgd2hldGhlciBvciBub3QgdG8gdGhyb3cgYW4gZXJyb3IgaWYgXCJjbGFzc1wiXG4gICAgICAgIC8vaXMgc2V0IHRocm91Z2ggdGhpcyBmdW5jdGlvbiBzaW5jZSBpdCBtYXkgY2F1c2UgJHVwZGF0ZUNsYXNzIHRvXG4gICAgICAgIC8vYmVjb21lIHVuc3RhYmxlLlxuXG4gICAgICAgIHZhciBub2RlID0gdGhpcy4kJGVsZW1lbnRbMF0sXG4gICAgICAgICAgICBib29sZWFuS2V5ID0gZ2V0Qm9vbGVhbkF0dHJOYW1lKG5vZGUsIGtleSksXG4gICAgICAgICAgICBhbGlhc2VkS2V5ID0gZ2V0QWxpYXNlZEF0dHJOYW1lKGtleSksXG4gICAgICAgICAgICBvYnNlcnZlciA9IGtleSxcbiAgICAgICAgICAgIG5vZGVOYW1lO1xuXG4gICAgICAgIGlmIChib29sZWFuS2V5KSB7XG4gICAgICAgICAgdGhpcy4kJGVsZW1lbnQucHJvcChrZXksIHZhbHVlKTtcbiAgICAgICAgICBhdHRyTmFtZSA9IGJvb2xlYW5LZXk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWxpYXNlZEtleSkge1xuICAgICAgICAgIHRoaXNbYWxpYXNlZEtleV0gPSB2YWx1ZTtcbiAgICAgICAgICBvYnNlcnZlciA9IGFsaWFzZWRLZXk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICAvLyB0cmFuc2xhdGUgbm9ybWFsaXplZCBrZXkgdG8gYWN0dWFsIGtleVxuICAgICAgICBpZiAoYXR0ck5hbWUpIHtcbiAgICAgICAgICB0aGlzLiRhdHRyW2tleV0gPSBhdHRyTmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdHRyTmFtZSA9IHRoaXMuJGF0dHJba2V5XTtcbiAgICAgICAgICBpZiAoIWF0dHJOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLiRhdHRyW2tleV0gPSBhdHRyTmFtZSA9IHNuYWtlX2Nhc2Uoa2V5LCAnLScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGVOYW1lID0gbm9kZU5hbWVfKHRoaXMuJCRlbGVtZW50KTtcblxuICAgICAgICBpZiAoKG5vZGVOYW1lID09PSAnYScgJiYga2V5ID09PSAnaHJlZicpIHx8XG4gICAgICAgICAgICAobm9kZU5hbWUgPT09ICdpbWcnICYmIGtleSA9PT0gJ3NyYycpKSB7XG4gICAgICAgICAgLy8gc2FuaXRpemUgYVtocmVmXSBhbmQgaW1nW3NyY10gdmFsdWVzXG4gICAgICAgICAgdGhpc1trZXldID0gdmFsdWUgPSAkJHNhbml0aXplVXJpKHZhbHVlLCBrZXkgPT09ICdzcmMnKTtcbiAgICAgICAgfSBlbHNlIGlmIChub2RlTmFtZSA9PT0gJ2ltZycgJiYga2V5ID09PSAnc3Jjc2V0Jykge1xuICAgICAgICAgIC8vIHNhbml0aXplIGltZ1tzcmNzZXRdIHZhbHVlc1xuICAgICAgICAgIHZhciByZXN1bHQgPSBcIlwiO1xuXG4gICAgICAgICAgLy8gZmlyc3QgY2hlY2sgaWYgdGhlcmUgYXJlIHNwYWNlcyBiZWNhdXNlIGl0J3Mgbm90IHRoZSBzYW1lIHBhdHRlcm5cbiAgICAgICAgICB2YXIgdHJpbW1lZFNyY3NldCA9IHRyaW0odmFsdWUpO1xuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICggICA5OTl4ICAgLHwgICA5OTl3ICAgLHwgICAsfCwgICApXG4gICAgICAgICAgdmFyIHNyY1BhdHRlcm4gPSAvKFxccytcXGQreFxccyosfFxccytcXGQrd1xccyosfFxccyssfCxcXHMrKS87XG4gICAgICAgICAgdmFyIHBhdHRlcm4gPSAvXFxzLy50ZXN0KHRyaW1tZWRTcmNzZXQpID8gc3JjUGF0dGVybiA6IC8oLCkvO1xuXG4gICAgICAgICAgLy8gc3BsaXQgc3Jjc2V0IGludG8gdHVwbGUgb2YgdXJpIGFuZCBkZXNjcmlwdG9yIGV4Y2VwdCBmb3IgdGhlIGxhc3QgaXRlbVxuICAgICAgICAgIHZhciByYXdVcmlzID0gdHJpbW1lZFNyY3NldC5zcGxpdChwYXR0ZXJuKTtcblxuICAgICAgICAgIC8vIGZvciBlYWNoIHR1cGxlc1xuICAgICAgICAgIHZhciBuYnJVcmlzV2l0aDJwYXJ0cyA9IE1hdGguZmxvb3IocmF3VXJpcy5sZW5ndGggLyAyKTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5iclVyaXNXaXRoMnBhcnRzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpbm5lcklkeCA9IGkgKiAyO1xuICAgICAgICAgICAgLy8gc2FuaXRpemUgdGhlIHVyaVxuICAgICAgICAgICAgcmVzdWx0ICs9ICQkc2FuaXRpemVVcmkodHJpbShyYXdVcmlzW2lubmVySWR4XSksIHRydWUpO1xuICAgICAgICAgICAgLy8gYWRkIHRoZSBkZXNjcmlwdG9yXG4gICAgICAgICAgICByZXN1bHQgKz0gKFwiIFwiICsgdHJpbShyYXdVcmlzW2lubmVySWR4ICsgMV0pKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzcGxpdCB0aGUgbGFzdCBpdGVtIGludG8gdXJpIGFuZCBkZXNjcmlwdG9yXG4gICAgICAgICAgdmFyIGxhc3RUdXBsZSA9IHRyaW0ocmF3VXJpc1tpICogMl0pLnNwbGl0KC9cXHMvKTtcblxuICAgICAgICAgIC8vIHNhbml0aXplIHRoZSBsYXN0IHVyaVxuICAgICAgICAgIHJlc3VsdCArPSAkJHNhbml0aXplVXJpKHRyaW0obGFzdFR1cGxlWzBdKSwgdHJ1ZSk7XG5cbiAgICAgICAgICAvLyBhbmQgYWRkIHRoZSBsYXN0IGRlc2NyaXB0b3IgaWYgYW55XG4gICAgICAgICAgaWYgKGxhc3RUdXBsZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAoXCIgXCIgKyB0cmltKGxhc3RUdXBsZVsxXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZSA9IHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3cml0ZUF0dHIgIT09IGZhbHNlKSB7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy4kJGVsZW1lbnQucmVtb3ZlQXR0cihhdHRyTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LmF0dHIoYXR0ck5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJlIG9ic2VydmVyc1xuICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSB0aGlzLiQkb2JzZXJ2ZXJzO1xuICAgICAgICAkJG9ic2VydmVycyAmJiBmb3JFYWNoKCQkb2JzZXJ2ZXJzW29ic2VydmVyXSwgZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4odmFsdWUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG9ic2VydmVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBPYnNlcnZlcyBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBvYnNlcnZlciBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgb25jZSBkdXJpbmcgdGhlIG5leHQgYCRkaWdlc3RgIGZvbGxvd2luZ1xuICAgICAgICogY29tcGlsYXRpb24uIFRoZSBvYnNlcnZlciBpcyB0aGVuIGludm9rZWQgd2hlbmV2ZXIgdGhlIGludGVycG9sYXRlZCB2YWx1ZVxuICAgICAgICogY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpIC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW50ZXJwb2xhdGVkVmFsdWUpfSBmbiBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyXG4gICAgICAgICAgICAgICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICAgKiAgICAgICAgU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI3RleHQtYW5kLWF0dHJpYnV0ZS1iaW5kaW5ncyBEaXJlY3RpdmVzfSBndWlkZSBmb3IgbW9yZSBpbmZvLlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBvYnNlcnZlci5cbiAgICAgICAqL1xuICAgICAgJG9ic2VydmU6IGZ1bmN0aW9uKGtleSwgZm4pIHtcbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcyxcbiAgICAgICAgICAgICQkb2JzZXJ2ZXJzID0gKGF0dHJzLiQkb2JzZXJ2ZXJzIHx8IChhdHRycy4kJG9ic2VydmVycyA9IGNyZWF0ZU1hcCgpKSksXG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSAoJCRvYnNlcnZlcnNba2V5XSB8fCAoJCRvYnNlcnZlcnNba2V5XSA9IFtdKSk7XG5cbiAgICAgICAgbGlzdGVuZXJzLnB1c2goZm4pO1xuICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFsaXN0ZW5lcnMuJCRpbnRlciAmJiBhdHRycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFpc1VuZGVmaW5lZChhdHRyc1trZXldKSkge1xuICAgICAgICAgICAgLy8gbm8gb25lIHJlZ2lzdGVyZWQgYXR0cmlidXRlIGludGVycG9sYXRpb24gZnVuY3Rpb24sIHNvIGxldHMgY2FsbCBpdCBtYW51YWxseVxuICAgICAgICAgICAgZm4oYXR0cnNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJzLCBmbik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuXG4gICAgZnVuY3Rpb24gc2FmZUFkZENsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgICRlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlnbm9yZSwgc2luY2UgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgdHJ5aW5nIHRvIHNldCBjbGFzcyBvblxuICAgICAgICAvLyBTVkcgZWxlbWVudCwgd2hlcmUgY2xhc3MgbmFtZSBpcyByZWFkLW9ubHkuXG4gICAgICB9XG4gICAgfVxuXG5cbiAgICB2YXIgc3RhcnRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxcbiAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxuICAgICAgICBkZW5vcm1hbGl6ZVRlbXBsYXRlID0gKHN0YXJ0U3ltYm9sID09ICd7eycgfHwgZW5kU3ltYm9sICA9PSAnfX0nKVxuICAgICAgICAgICAgPyBpZGVudGl0eVxuICAgICAgICAgICAgOiBmdW5jdGlvbiBkZW5vcm1hbGl6ZVRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtcXHsvZywgc3RhcnRTeW1ib2wpLnJlcGxhY2UoL319L2csIGVuZFN5bWJvbCk7XG4gICAgICAgIH0sXG4gICAgICAgIE5HX0FUVFJfQklORElORyA9IC9ebmdBdHRyW0EtWl0vO1xuICAgIHZhciBNVUxUSV9FTEVNRU5UX0RJUl9SRSA9IC9eKC4rKVN0YXJ0JC87XG5cbiAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8gPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRCaW5kaW5nSW5mbygkZWxlbWVudCwgYmluZGluZykge1xuICAgICAgdmFyIGJpbmRpbmdzID0gJGVsZW1lbnQuZGF0YSgnJGJpbmRpbmcnKSB8fCBbXTtcblxuICAgICAgaWYgKGlzQXJyYXkoYmluZGluZykpIHtcbiAgICAgICAgYmluZGluZ3MgPSBiaW5kaW5ncy5jb25jYXQoYmluZGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xuICAgICAgfVxuXG4gICAgICAkZWxlbWVudC5kYXRhKCckYmluZGluZycsIGJpbmRpbmdzKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3MgPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRCaW5kaW5nQ2xhc3MoJGVsZW1lbnQpIHtcbiAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgJ25nLWJpbmRpbmcnKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8gPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRTY29wZUluZm8oJGVsZW1lbnQsIHNjb3BlLCBpc29sYXRlZCwgbm9UZW1wbGF0ZSkge1xuICAgICAgdmFyIGRhdGFOYW1lID0gaXNvbGF0ZWQgPyAobm9UZW1wbGF0ZSA/ICckaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZScgOiAnJGlzb2xhdGVTY29wZScpIDogJyRzY29wZSc7XG4gICAgICAkZWxlbWVudC5kYXRhKGRhdGFOYW1lLCBzY29wZSk7XG4gICAgfSA6IG5vb3A7XG5cbiAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZFNjb3BlQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkKSB7XG4gICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkID8gJ25nLWlzb2xhdGUtc2NvcGUnIDogJ25nLXNjb3BlJyk7XG4gICAgfSA6IG5vb3A7XG5cbiAgICByZXR1cm4gY29tcGlsZTtcblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZ1bmN0aW9uIGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xuICAgICAgaWYgKCEoJGNvbXBpbGVOb2RlcyBpbnN0YW5jZW9mIGpxTGl0ZSkpIHtcbiAgICAgICAgLy8ganF1ZXJ5IGFsd2F5cyByZXdyYXBzLCB3aGVyZWFzIHdlIG5lZWQgdG8gcHJlc2VydmUgdGhlIG9yaWdpbmFsIHNlbGVjdG9yIHNvIHRoYXQgd2UgY2FuXG4gICAgICAgIC8vIG1vZGlmeSBpdC5cbiAgICAgICAgJGNvbXBpbGVOb2RlcyA9IGpxTGl0ZSgkY29tcGlsZU5vZGVzKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIGNhbiBub3QgY29tcGlsZSB0b3AgbGV2ZWwgdGV4dCBlbGVtZW50cyBzaW5jZSB0ZXh0IG5vZGVzIGNhbiBiZSBtZXJnZWQgYW5kIHdlIHdpbGxcbiAgICAgIC8vIG5vdCBiZSBhYmxlIHRvIGF0dGFjaCBzY29wZSBkYXRhIHRvIHRoZW0sIHNvIHdlIHdpbGwgd3JhcCB0aGVtIGluIDxzcGFuPlxuICAgICAgZm9yRWFjaCgkY29tcGlsZU5vZGVzLCBmdW5jdGlvbihub2RlLCBpbmRleCkge1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSBOT0RFX1RZUEVfVEVYVCAmJiBub2RlLm5vZGVWYWx1ZS5tYXRjaCgvXFxTKy8pIC8qIG5vbi1lbXB0eSAqLyApIHtcbiAgICAgICAgICAkY29tcGlsZU5vZGVzW2luZGV4XSA9IGpxTGl0ZShub2RlKS53cmFwKCc8c3Bhbj48L3NwYW4+JykucGFyZW50KClbMF07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbXBvc2l0ZUxpbmtGbiA9XG4gICAgICAgICAgICAgIGNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sICRjb21waWxlTm9kZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcbiAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKCRjb21waWxlTm9kZXMpO1xuICAgICAgdmFyIG5hbWVzcGFjZSA9IG51bGw7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gcHVibGljTGlua0ZuKHNjb3BlLCBjbG9uZUNvbm5lY3RGbiwgb3B0aW9ucykge1xuICAgICAgICBhc3NlcnRBcmcoc2NvcGUsICdzY29wZScpO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0NvbXBpbGVDb250ZXh0ICYmIHByZXZpb3VzQ29tcGlsZUNvbnRleHQubmVlZHNOZXdTY29wZSkge1xuICAgICAgICAgIC8vIEEgcGFyZW50IGRpcmVjdGl2ZSBkaWQgYSByZXBsYWNlIGFuZCBhIGRpcmVjdGl2ZSBvbiB0aGlzIGVsZW1lbnQgYXNrZWRcbiAgICAgICAgICAvLyBmb3IgdHJhbnNjbHVzaW9uLCB3aGljaCBjYXVzZWQgdXMgdG8gbG9zZSBhIGxheWVyIG9mIGVsZW1lbnQgb24gd2hpY2hcbiAgICAgICAgICAvLyB3ZSBjb3VsZCBob2xkIHRoZSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLCBzbyB3ZSB3aWxsIGNyZWF0ZSBpdCBtYW51YWxseVxuICAgICAgICAgIC8vIGhlcmUuXG4gICAgICAgICAgc2NvcGUgPSBzY29wZS4kcGFyZW50LiRuZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gPSBvcHRpb25zLnBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLFxuICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVycyA9IG9wdGlvbnMudHJhbnNjbHVkZUNvbnRyb2xsZXJzLFxuICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQgPSBvcHRpb25zLmZ1dHVyZVBhcmVudEVsZW1lbnQ7XG5cbiAgICAgICAgLy8gV2hlbiBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIGlzIHBhc3NlZCwgaXQgaXMgYVxuICAgICAgICAvLyBgY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGVgIGZ1bmN0aW9uIChpdCB3YXMgcHJldmlvdXNseSBwYXNzZWRcbiAgICAgICAgLy8gYXMgYHRyYW5zY2x1ZGVgIHRvIGRpcmVjdGl2ZS5saW5rKSBzbyB3ZSBtdXN0IHVud3JhcCBpdCB0byBnZXRcbiAgICAgICAgLy8gaXRzIGBib3VuZFRyYW5zY2x1ZGVGbmBcbiAgICAgICAgaWYgKHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlKSB7XG4gICAgICAgICAgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gPSBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgbmFtZXNwYWNlID0gZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyhmdXR1cmVQYXJlbnRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgJGxpbmtOb2RlO1xuICAgICAgICBpZiAobmFtZXNwYWNlICE9PSAnaHRtbCcpIHtcbiAgICAgICAgICAvLyBXaGVuIHVzaW5nIGEgZGlyZWN0aXZlIHdpdGggcmVwbGFjZTp0cnVlIGFuZCB0ZW1wbGF0ZVVybCB0aGUgJGNvbXBpbGVOb2Rlc1xuICAgICAgICAgIC8vIChvciBhIGNoaWxkIGVsZW1lbnQgaW5zaWRlIG9mIHRoZW0pXG4gICAgICAgICAgLy8gbWlnaHQgY2hhbmdlLCBzbyB3ZSBuZWVkIHRvIHJlY3JlYXRlIHRoZSBuYW1lc3BhY2UgYWRhcHRlZCBjb21waWxlTm9kZXNcbiAgICAgICAgICAvLyBmb3IgY2FsbCB0byB0aGUgbGluayBmdW5jdGlvbi5cbiAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxyZWFkeSBjbG9uZSB0aGUgbm9kZXMuLi5cbiAgICAgICAgICAkbGlua05vZGUgPSBqcUxpdGUoXG4gICAgICAgICAgICB3cmFwVGVtcGxhdGUobmFtZXNwYWNlLCBqcUxpdGUoJzxkaXY+JykuYXBwZW5kKCRjb21waWxlTm9kZXMpLmh0bWwoKSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGNsb25lQ29ubmVjdEZuKSB7XG4gICAgICAgICAgLy8gaW1wb3J0YW50ISE6IHdlIG11c3QgY2FsbCBvdXIganFMaXRlLmNsb25lKCkgc2luY2UgdGhlIGpRdWVyeSBvbmUgaXMgdHJ5aW5nIHRvIGJlIHNtYXJ0XG4gICAgICAgICAgLy8gYW5kIHNvbWV0aW1lcyBjaGFuZ2VzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIERPTS5cbiAgICAgICAgICAkbGlua05vZGUgPSBKUUxpdGVQcm90b3R5cGUuY2xvbmUuY2FsbCgkY29tcGlsZU5vZGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkbGlua05vZGUgPSAkY29tcGlsZU5vZGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zY2x1ZGVDb250cm9sbGVycykge1xuICAgICAgICAgIGZvciAodmFyIGNvbnRyb2xsZXJOYW1lIGluIHRyYW5zY2x1ZGVDb250cm9sbGVycykge1xuICAgICAgICAgICAgJGxpbmtOb2RlLmRhdGEoJyQnICsgY29udHJvbGxlck5hbWUgKyAnQ29udHJvbGxlcicsIHRyYW5zY2x1ZGVDb250cm9sbGVyc1tjb250cm9sbGVyTmFtZV0uaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oJGxpbmtOb2RlLCBzY29wZSk7XG5cbiAgICAgICAgaWYgKGNsb25lQ29ubmVjdEZuKSBjbG9uZUNvbm5lY3RGbigkbGlua05vZGUsIHNjb3BlKTtcbiAgICAgICAgaWYgKGNvbXBvc2l0ZUxpbmtGbikgY29tcG9zaXRlTGlua0ZuKHNjb3BlLCAkbGlua05vZGUsICRsaW5rTm9kZSwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICByZXR1cm4gJGxpbmtOb2RlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgIC8vIFRPRE86IE1ha2UgdGhpcyBkZXRlY3QgTWF0aE1MIGFzIHdlbGwuLi5cbiAgICAgIHZhciBub2RlID0gcGFyZW50RWxlbWVudCAmJiBwYXJlbnRFbGVtZW50WzBdO1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiAnaHRtbCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbm9kZU5hbWVfKG5vZGUpICE9PSAnZm9yZWlnbm9iamVjdCcgJiYgbm9kZS50b1N0cmluZygpLm1hdGNoKC9TVkcvKSA/ICdzdmcnIDogJ2h0bWwnO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGUgZnVuY3Rpb24gbWF0Y2hlcyBlYWNoIG5vZGUgaW4gbm9kZUxpc3QgYWdhaW5zdCB0aGUgZGlyZWN0aXZlcy4gT25jZSBhbGwgZGlyZWN0aXZlc1xuICAgICAqIGZvciBhIHBhcnRpY3VsYXIgbm9kZSBhcmUgY29sbGVjdGVkIHRoZWlyIGNvbXBpbGUgZnVuY3Rpb25zIGFyZSBleGVjdXRlZC4gVGhlIGNvbXBpbGVcbiAgICAgKiBmdW5jdGlvbnMgcmV0dXJuIHZhbHVlcyAtIHRoZSBsaW5raW5nIGZ1bmN0aW9ucyAtIGFyZSBjb21iaW5lZCBpbnRvIGEgY29tcG9zaXRlIGxpbmtpbmdcbiAgICAgKiBmdW5jdGlvbiwgd2hpY2ggaXMgdGhlIGEgbGlua2luZyBmdW5jdGlvbiBmb3IgdGhlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGVMaXN0fSBub2RlTGlzdCBhbiBhcnJheSBvZiBub2RlcyBvciBOb2RlTGlzdCB0byBjb21waWxlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlLCBjbG9uZUF0dGFjaEZuPSl9IHRyYW5zY2x1ZGVGbiBBIGxpbmtpbmcgZnVuY3Rpb24sIHdoZXJlIHRoZVxuICAgICAqICAgICAgICBzY29wZSBhcmd1bWVudCBpcyBhdXRvLWdlbmVyYXRlZCB0byB0aGUgbmV3IGNoaWxkIG9mIHRoZSB0cmFuc2NsdWRlZCBwYXJlbnQgc2NvcGUuXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gJHJvb3RFbGVtZW50IElmIHRoZSBub2RlTGlzdCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcGlsYXRpb24gdHJlZSB0aGVuXG4gICAgICogICAgICAgIHRoZSByb290RWxlbWVudCBtdXN0IGJlIHNldCB0aGUganFMaXRlIGNvbGxlY3Rpb24gb2YgdGhlIGNvbXBpbGUgcm9vdC4gVGhpcyBpc1xuICAgICAqICAgICAgICBuZWVkZWQgc28gdGhhdCB0aGUganFMaXRlIGNvbGxlY3Rpb24gaXRlbXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggd2lkZ2V0cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGNvbXBvc2l0ZSBsaW5raW5nIGZ1bmN0aW9uIG9mIGFsbCBvZiB0aGUgbWF0Y2hlZCBkaXJlY3RpdmVzIG9yIG51bGwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICB2YXIgbGlua0ZucyA9IFtdLFxuICAgICAgICAgIGF0dHJzLCBkaXJlY3RpdmVzLCBub2RlTGlua0ZuLCBjaGlsZE5vZGVzLCBjaGlsZExpbmtGbiwgbGlua0ZuRm91bmQsIG5vZGVMaW5rRm5Gb3VuZDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gd2UgbXVzdCBhbHdheXMgcmVmZXIgdG8gbm9kZUxpc3RbaV0gc2luY2UgdGhlIG5vZGVzIGNhbiBiZSByZXBsYWNlZCB1bmRlcm5lYXRoIHVzLlxuICAgICAgICBkaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMobm9kZUxpc3RbaV0sIFtdLCBhdHRycywgaSA9PT0gMCA/IG1heFByaW9yaXR5IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZURpcmVjdGl2ZSk7XG5cbiAgICAgICAgbm9kZUxpbmtGbiA9IChkaXJlY3RpdmVzLmxlbmd0aClcbiAgICAgICAgICAgID8gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIG5vZGVMaXN0W2ldLCBhdHRycywgdHJhbnNjbHVkZUZuLCAkcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIFtdLCBbXSwgcHJldmlvdXNDb21waWxlQ29udGV4dClcbiAgICAgICAgICAgIDogbnVsbDtcblxuICAgICAgICBpZiAobm9kZUxpbmtGbiAmJiBub2RlTGlua0ZuLnNjb3BlKSB7XG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoYXR0cnMuJCRlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkTGlua0ZuID0gKG5vZGVMaW5rRm4gJiYgbm9kZUxpbmtGbi50ZXJtaW5hbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICEoY2hpbGROb2RlcyA9IG5vZGVMaXN0W2ldLmNoaWxkTm9kZXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIWNoaWxkTm9kZXMubGVuZ3RoKVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IGNvbXBpbGVOb2RlcyhjaGlsZE5vZGVzLFxuICAgICAgICAgICAgICAgICBub2RlTGlua0ZuID8gKFxuICAgICAgICAgICAgICAgICAgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgfHwgIW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAgJiYgbm9kZUxpbmtGbi50cmFuc2NsdWRlKSA6IHRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgaWYgKG5vZGVMaW5rRm4gfHwgY2hpbGRMaW5rRm4pIHtcbiAgICAgICAgICBsaW5rRm5zLnB1c2goaSwgbm9kZUxpbmtGbiwgY2hpbGRMaW5rRm4pO1xuICAgICAgICAgIGxpbmtGbkZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBub2RlTGlua0ZuRm91bmQgPSBub2RlTGlua0ZuRm91bmQgfHwgbm9kZUxpbmtGbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdXNlIHRoZSBwcmV2aW91cyBjb250ZXh0IG9ubHkgZm9yIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSB2aXJ0dWFsIGdyb3VwXG4gICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyByZXR1cm4gYSBsaW5raW5nIGZ1bmN0aW9uIGlmIHdlIGhhdmUgZm91bmQgYW55dGhpbmcsIG51bGwgb3RoZXJ3aXNlXG4gICAgICByZXR1cm4gbGlua0ZuRm91bmQgPyBjb21wb3NpdGVMaW5rRm4gOiBudWxsO1xuXG4gICAgICBmdW5jdGlvbiBjb21wb3NpdGVMaW5rRm4oc2NvcGUsIG5vZGVMaXN0LCAkcm9vdEVsZW1lbnQsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgIHZhciBub2RlTGlua0ZuLCBjaGlsZExpbmtGbiwgbm9kZSwgY2hpbGRTY29wZSwgaSwgaWksIGlkeCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgdmFyIHN0YWJsZU5vZGVMaXN0O1xuXG5cbiAgICAgICAgaWYgKG5vZGVMaW5rRm5Gb3VuZCkge1xuICAgICAgICAgIC8vIGNvcHkgbm9kZUxpc3Qgc28gdGhhdCBpZiBhIG5vZGVMaW5rRm4gcmVtb3ZlcyBvciBhZGRzIGFuIGVsZW1lbnQgYXQgdGhpcyBET00gbGV2ZWwgb3VyXG4gICAgICAgICAgLy8gb2Zmc2V0cyBkb24ndCBnZXQgc2NyZXdlZCB1cFxuICAgICAgICAgIHZhciBub2RlTGlzdExlbmd0aCA9IG5vZGVMaXN0Lmxlbmd0aDtcbiAgICAgICAgICBzdGFibGVOb2RlTGlzdCA9IG5ldyBBcnJheShub2RlTGlzdExlbmd0aCk7XG5cbiAgICAgICAgICAvLyBjcmVhdGUgYSBzcGFyc2UgYXJyYXkgYnkgb25seSBjb3B5aW5nIHRoZSBlbGVtZW50cyB3aGljaCBoYXZlIGEgbGlua0ZuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpbmtGbnMubGVuZ3RoOyBpKz0zKSB7XG4gICAgICAgICAgICBpZHggPSBsaW5rRm5zW2ldO1xuICAgICAgICAgICAgc3RhYmxlTm9kZUxpc3RbaWR4XSA9IG5vZGVMaXN0W2lkeF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbm9kZUxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGxpbmtGbnMubGVuZ3RoOyBpIDwgaWk7KSB7XG4gICAgICAgICAgbm9kZSA9IHN0YWJsZU5vZGVMaXN0W2xpbmtGbnNbaSsrXV07XG4gICAgICAgICAgbm9kZUxpbmtGbiA9IGxpbmtGbnNbaSsrXTtcbiAgICAgICAgICBjaGlsZExpbmtGbiA9IGxpbmtGbnNbaSsrXTtcblxuICAgICAgICAgIGlmIChub2RlTGlua0ZuKSB7XG4gICAgICAgICAgICBpZiAobm9kZUxpbmtGbi5zY29wZSkge1xuICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gc2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKGpxTGl0ZShub2RlKSwgY2hpbGRTY29wZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihcbiAgICAgICAgICAgICAgICAgIHNjb3BlLCBub2RlTGlua0ZuLnRyYW5zY2x1ZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICghbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQgJiYgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiAmJiB0cmFuc2NsdWRlRm4pIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZUxpbmtGbihjaGlsZExpbmtGbiwgY2hpbGRTY29wZSwgbm9kZSwgJHJvb3RFbGVtZW50LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcblxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRMaW5rRm4pIHtcbiAgICAgICAgICAgIGNoaWxkTGlua0ZuKHNjb3BlLCBub2RlLmNoaWxkTm9kZXMsIHVuZGVmaW5lZCwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4sIHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4pIHtcblxuICAgICAgdmFyIGJvdW5kVHJhbnNjbHVkZUZuID0gZnVuY3Rpb24odHJhbnNjbHVkZWRTY29wZSwgY2xvbmVGbiwgY29udHJvbGxlcnMsIGZ1dHVyZVBhcmVudEVsZW1lbnQsIGNvbnRhaW5pbmdTY29wZSkge1xuXG4gICAgICAgIGlmICghdHJhbnNjbHVkZWRTY29wZSkge1xuICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUgPSBzY29wZS4kbmV3KGZhbHNlLCBjb250YWluaW5nU2NvcGUpO1xuICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUuJCR0cmFuc2NsdWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhbnNjbHVkZUZuKHRyYW5zY2x1ZGVkU2NvcGUsIGNsb25lRm4sIHtcbiAgICAgICAgICBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjogcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbixcbiAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnM6IGNvbnRyb2xsZXJzLFxuICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQ6IGZ1dHVyZVBhcmVudEVsZW1lbnRcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gYm91bmRUcmFuc2NsdWRlRm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9va3MgZm9yIGRpcmVjdGl2ZXMgb24gdGhlIGdpdmVuIG5vZGUgYW5kIGFkZHMgdGhlbSB0byB0aGUgZGlyZWN0aXZlIGNvbGxlY3Rpb24gd2hpY2ggaXNcbiAgICAgKiBzb3J0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbm9kZSBOb2RlIHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0gZGlyZWN0aXZlcyBBbiBhcnJheSB0byB3aGljaCB0aGUgZGlyZWN0aXZlcyBhcmUgYWRkZWQgdG8uIFRoaXMgYXJyYXkgaXMgc29ydGVkIGJlZm9yZVxuICAgICAqICAgICAgICB0aGUgZnVuY3Rpb24gcmV0dXJucy5cbiAgICAgKiBAcGFyYW0gYXR0cnMgVGhlIHNoYXJlZCBhdHRycyBvYmplY3Qgd2hpY2ggaXMgdXNlZCB0byBwb3B1bGF0ZSB0aGUgbm9ybWFsaXplZCBhdHRyaWJ1dGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbWF4UHJpb3JpdHkgTWF4IGRpcmVjdGl2ZSBwcmlvcml0eS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb2xsZWN0RGlyZWN0aXZlcyhub2RlLCBkaXJlY3RpdmVzLCBhdHRycywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSkge1xuICAgICAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZSxcbiAgICAgICAgICBhdHRyc01hcCA9IGF0dHJzLiRhdHRyLFxuICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgIGNsYXNzTmFtZTtcblxuICAgICAgc3dpdGNoIChub2RlVHlwZSkge1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9FTEVNRU5UOiAvKiBFbGVtZW50ICovXG4gICAgICAgICAgLy8gdXNlIHRoZSBub2RlIG5hbWU6IDxkaXJlY3RpdmU+XG4gICAgICAgICAgYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsXG4gICAgICAgICAgICAgIGRpcmVjdGl2ZU5vcm1hbGl6ZShub2RlTmFtZV8obm9kZSkpLCAnRScsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpO1xuXG4gICAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSBhdHRyaWJ1dGVzXG4gICAgICAgICAgZm9yICh2YXIgYXR0ciwgbmFtZSwgbk5hbWUsIG5nQXR0ck5hbWUsIHZhbHVlLCBpc05nQXR0ciwgbkF0dHJzID0gbm9kZS5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgIGogPSAwLCBqaiA9IG5BdHRycyAmJiBuQXR0cnMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgdmFyIGF0dHJTdGFydE5hbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBhdHRyRW5kTmFtZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBhdHRyID0gbkF0dHJzW2pdO1xuICAgICAgICAgICAgbmFtZSA9IGF0dHIubmFtZTtcbiAgICAgICAgICAgIHZhbHVlID0gdHJpbShhdHRyLnZhbHVlKTtcblxuICAgICAgICAgICAgLy8gc3VwcG9ydCBuZ0F0dHIgYXR0cmlidXRlIGJpbmRpbmdcbiAgICAgICAgICAgIG5nQXR0ck5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSk7XG4gICAgICAgICAgICBpZiAoaXNOZ0F0dHIgPSBOR19BVFRSX0JJTkRJTkcudGVzdChuZ0F0dHJOYW1lKSkge1xuICAgICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKFBSRUZJWF9SRUdFWFAsICcnKVxuICAgICAgICAgICAgICAgIC5zdWJzdHIoOCkucmVwbGFjZSgvXyguKS9nLCBmdW5jdGlvbihtYXRjaCwgbGV0dGVyKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBtdWx0aUVsZW1lbnRNYXRjaCA9IG5nQXR0ck5hbWUubWF0Y2goTVVMVElfRUxFTUVOVF9ESVJfUkUpO1xuICAgICAgICAgICAgaWYgKG11bHRpRWxlbWVudE1hdGNoICYmIGRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50KG11bHRpRWxlbWVudE1hdGNoWzFdKSkge1xuICAgICAgICAgICAgICBhdHRyU3RhcnROYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgYXR0ckVuZE5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDUpICsgJ2VuZCc7XG4gICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgYXR0cnNNYXBbbk5hbWVdID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciB8fCAhYXR0cnMuaGFzT3duUHJvcGVydHkobk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGdldEJvb2xlYW5BdHRyTmFtZShub2RlLCBuTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRydWU7IC8vIHByZXNlbmNlIG1lYW5zIHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5OYW1lLCBpc05nQXR0cik7XG4gICAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdBJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgYXR0clN0YXJ0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ckVuZE5hbWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVzZSBjbGFzcyBhcyBkaXJlY3RpdmVcbiAgICAgICAgICBjbGFzc05hbWUgPSBub2RlLmNsYXNzTmFtZTtcbiAgICAgICAgICBpZiAoaXNPYmplY3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAvLyBNYXliZSBTVkdBbmltYXRlZFN0cmluZ1xuICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuYW5pbVZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzU3RyaW5nKGNsYXNzTmFtZSkgJiYgY2xhc3NOYW1lICE9PSAnJykge1xuICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gQ0xBU1NfRElSRUNUSVZFX1JFR0VYUC5leGVjKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMl0pO1xuICAgICAgICAgICAgICBpZiAoYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQycsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdHJpbShtYXRjaFszXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnN1YnN0cihtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9URVhUOiAvKiBUZXh0IE5vZGUgKi9cbiAgICAgICAgICBpZiAobXNpZSA9PT0gMTEpIHtcbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yICMxMTc4MVxuICAgICAgICAgICAgd2hpbGUgKG5vZGUucGFyZW50Tm9kZSAmJiBub2RlLm5leHRTaWJsaW5nICYmIG5vZGUubmV4dFNpYmxpbmcubm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUKSB7XG4gICAgICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gbm9kZS5ub2RlVmFsdWUgKyBub2RlLm5leHRTaWJsaW5nLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcywgbm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9DT01NRU5UOiAvKiBDb21tZW50ICovXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1hdGNoID0gQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgaWYgKGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ00nLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbMl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gdHVybnMgb3V0IHRoYXQgdW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzIElFOSB0aHJvd3MgZXJyb3JzIHdoZW4gb25lIGF0dGVtcHRzIHRvIHJlYWRcbiAgICAgICAgICAgIC8vIGNvbW1lbnQncyBub2RlIHZhbHVlLlxuICAgICAgICAgICAgLy8gSnVzdCBpZ25vcmUgaXQgYW5kIGNvbnRpbnVlLiAoQ2FuJ3Qgc2VlbSB0byByZXByb2R1Y2UgaW4gdGVzdCBjYXNlLilcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMuc29ydChieVByaW9yaXR5KTtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbm9kZSB3aXRoIGFuIGRpcmVjdGl2ZS1zdGFydCBpdCBjb2xsZWN0cyBhbGwgb2YgdGhlIHNpYmxpbmdzIHVudGlsIGl0IGZpbmRzXG4gICAgICogZGlyZWN0aXZlLWVuZC5cbiAgICAgKiBAcGFyYW0gbm9kZVxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcbiAgICAgKiBAcGFyYW0gYXR0ckVuZFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdyb3VwU2Nhbihub2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcbiAgICAgIHZhciBub2RlcyA9IFtdO1xuICAgICAgdmFyIGRlcHRoID0gMDtcbiAgICAgIGlmIChhdHRyU3RhcnQgJiYgbm9kZS5oYXNBdHRyaWJ1dGUgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndXRlcmRpcicsXG4gICAgICAgICAgICAgICAgICAgICAgXCJVbnRlcm1pbmF0ZWQgYXR0cmlidXRlLCBmb3VuZCAnezB9JyBidXQgbm8gbWF0Y2hpbmcgJ3sxfScgZm91bmQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyU3RhcnQpKSBkZXB0aCsrO1xuICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKGF0dHJFbmQpKSBkZXB0aC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9IHdoaWxlIChkZXB0aCA+IDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGpxTGl0ZShub2Rlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcHBlciBmb3IgbGlua2luZyBmdW5jdGlvbiB3aGljaCBjb252ZXJ0cyBub3JtYWwgbGlua2luZyBmdW5jdGlvbiBpbnRvIGEgZ3JvdXBlZFxuICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIGxpbmtGblxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcbiAgICAgKiBAcGFyYW0gYXR0ckVuZFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihsaW5rRm4sIGF0dHJTdGFydCwgYXR0ckVuZCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICBlbGVtZW50ID0gZ3JvdXBTY2FuKGVsZW1lbnRbMF0sIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgIHJldHVybiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT25jZSB0aGUgZGlyZWN0aXZlcyBoYXZlIGJlZW4gY29sbGVjdGVkLCB0aGVpciBjb21waWxlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQuIFRoaXMgbWV0aG9kXG4gICAgICogaXMgcmVzcG9uc2libGUgZm9yIGlubGluaW5nIGRpcmVjdGl2ZSB0ZW1wbGF0ZXMgYXMgd2VsbCBhcyB0ZXJtaW5hdGluZyB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBvZiB0aGUgZGlyZWN0aXZlcyBpZiB0aGUgdGVybWluYWwgZGlyZWN0aXZlIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkaXJlY3RpdmVzIEFycmF5IG9mIGNvbGxlY3RlZCBkaXJlY3RpdmVzIHRvIGV4ZWN1dGUgdGhlaXIgY29tcGlsZSBmdW5jdGlvbi5cbiAgICAgKiAgICAgICAgdGhpcyBuZWVkcyB0byBiZSBwcmUtc29ydGVkIGJ5IHByaW9yaXR5IG9yZGVyLlxuICAgICAqIEBwYXJhbSB7Tm9kZX0gY29tcGlsZU5vZGUgVGhlIHJhdyBET00gbm9kZSB0byBhcHBseSB0aGUgY29tcGlsZSBmdW5jdGlvbnMgdG9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVBdHRycyBUaGUgc2hhcmVkIGF0dHJpYnV0ZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlRm4gQSBsaW5raW5nIGZ1bmN0aW9uLCB3aGVyZSB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUgYXJndW1lbnQgaXMgYXV0by1nZW5lcmF0ZWQgdG8gdGhlIG5ld1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxuICAgICAqIEBwYXJhbSB7SlFMaXRlfSBqcUNvbGxlY3Rpb24gSWYgd2UgYXJlIHdvcmtpbmcgb24gdGhlIHJvb3Qgb2YgdGhlIGNvbXBpbGUgdHJlZSB0aGVuIHRoaXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50IGhhcyB0aGUgcm9vdCBqcUxpdGUgYXJyYXkgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gaXQuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUgQW4gb3B0aW9uYWwgZGlyZWN0aXZlIHRoYXQgd2lsbCBiZSBpZ25vcmVkIHdoZW5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21waWxpbmcgdGhlIHRyYW5zY2x1c2lvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHByZUxpbmtGbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHBvc3RMaW5rRm5zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgQ29udGV4dCB1c2VkIGZvciBwcmV2aW91cyBjb21waWxhdGlvbiBvZiB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IGxpbmtGblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgdHJhbnNjbHVkZUZuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqcUNvbGxlY3Rpb24sIG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IHx8IHt9O1xuXG4gICAgICB2YXIgdGVybWluYWxQcmlvcml0eSA9IC1OdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlcyA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQuY29udHJvbGxlckRpcmVjdGl2ZXMsXG4gICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsXG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0LnRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGZhbHNlLFxuICAgICAgICAgIGhhc1RlbXBsYXRlID0gZmFsc2UsXG4gICAgICAgICAgaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlLFxuICAgICAgICAgICRjb21waWxlTm9kZSA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50ID0ganFMaXRlKGNvbXBpbGVOb2RlKSxcbiAgICAgICAgICBkaXJlY3RpdmUsXG4gICAgICAgICAgZGlyZWN0aXZlTmFtZSxcbiAgICAgICAgICAkdGVtcGxhdGUsXG4gICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxcbiAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IHRyYW5zY2x1ZGVGbixcbiAgICAgICAgICBsaW5rRm4sXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWU7XG5cbiAgICAgIC8vIGV4ZWN1dGVzIGFsbCBkaXJlY3RpdmVzIG9uIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICB2YXIgYXR0clN0YXJ0ID0gZGlyZWN0aXZlLiQkc3RhcnQ7XG4gICAgICAgIHZhciBhdHRyRW5kID0gZGlyZWN0aXZlLiQkZW5kO1xuXG4gICAgICAgIC8vIGNvbGxlY3QgbXVsdGlibG9jayBzZWN0aW9uc1xuICAgICAgICBpZiAoYXR0clN0YXJ0KSB7XG4gICAgICAgICAgJGNvbXBpbGVOb2RlID0gZ3JvdXBTY2FuKGNvbXBpbGVOb2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICB9XG4gICAgICAgICR0ZW1wbGF0ZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodGVybWluYWxQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkge1xuICAgICAgICAgIGJyZWFrOyAvLyBwcmV2ZW50IGZ1cnRoZXIgcHJvY2Vzc2luZyBvZiBkaXJlY3RpdmVzXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUgPSBkaXJlY3RpdmUuc2NvcGUpIHtcblxuICAgICAgICAgIC8vIHNraXAgdGhlIGNoZWNrIGZvciBkaXJlY3RpdmVzIHdpdGggYXN5bmMgdGVtcGxhdGVzLCB3ZSdsbCBjaGVjayB0aGUgZGVyaXZlZCBzeW5jXG4gICAgICAgICAgLy8gZGlyZWN0aXZlIHdoZW4gdGhlIHRlbXBsYXRlIGFycml2ZXNcbiAgICAgICAgICBpZiAoIWRpcmVjdGl2ZS50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZVZhbHVlKSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGFuIGlzb2xhdGVkIHNjb3BlLlxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZXJlIGlzIG5vIHNjb3BlIG9mIGFueSBraW5kIGFscmVhZHlcbiAgICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ25ldy9pc29sYXRlZCBzY29wZScsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBuZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGEgY2hpbGQgc2NvcGUuXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlcmUgaXMgbm8gaXNvbGF0ZWQgc2NvcGUgYWxyZWFkeVxuICAgICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnbmV3L2lzb2xhdGVkIHNjb3BlJywgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLCBkaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmUgPSBuZXdTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmU7XG4gICAgICAgIH1cblxuICAgICAgICBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlLm5hbWU7XG5cbiAgICAgICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGVVcmwgJiYgZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS5jb250cm9sbGVyO1xuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gY29udHJvbGxlckRpcmVjdGl2ZXMgfHwgY3JlYXRlTWFwKCk7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoXCInXCIgKyBkaXJlY3RpdmVOYW1lICsgXCInIGNvbnRyb2xsZXJcIixcbiAgICAgICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0sIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS50cmFuc2NsdWRlKSB7XG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgbmdJZiBhbmQgbmdSZXBlYXQgc28gdGhhdCB3ZSBkb24ndCBjb21wbGFpbiBhYm91dCBkdXBsaWNhdGUgdHJhbnNjbHVzaW9uLlxuICAgICAgICAgIC8vIFRoaXMgb3B0aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgZGlyZWN0aXZlcyB0aGF0IGtub3cgaG93IHRvIHNhZmVseSBoYW5kbGUgZWxlbWVudCB0cmFuc2NsdXNpb24sXG4gICAgICAgICAgLy8gd2hlcmUgdGhlIHRyYW5zY2x1ZGVkIG5vZGVzIGFyZSBhZGRlZCBvciByZXBsYWNlZCBhZnRlciBsaW5raW5nLlxuICAgICAgICAgIGlmICghZGlyZWN0aXZlLiQkdGxiKSB7XG4gICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgndHJhbnNjbHVzaW9uJywgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUgPT0gJ2VsZW1lbnQnKSB7XG4gICAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gZGlyZWN0aXZlLnByaW9yaXR5O1xuICAgICAgICAgICAgJHRlbXBsYXRlID0gJGNvbXBpbGVOb2RlO1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlID0gdGVtcGxhdGVBdHRycy4kJGVsZW1lbnQgPVxuICAgICAgICAgICAgICAgIGpxTGl0ZShkb2N1bWVudC5jcmVhdGVDb21tZW50KCcgJyArIGRpcmVjdGl2ZU5hbWUgKyAnOiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdICsgJyAnKSk7XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgc2xpY2VBcmdzKCR0ZW1wbGF0ZSksIGNvbXBpbGVOb2RlKTtcblxuICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4gPSBjb21waWxlKCR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB0ZXJtaW5hbFByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgJiYgcmVwbGFjZURpcmVjdGl2ZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBwYXNzIGluOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBjb250cm9sbGVyRGlyZWN0aXZlcyAtIG90aGVyd2lzZSB3ZSdsbCBjcmVhdGUgZHVwbGljYXRlcyBjb250cm9sbGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgb3IgdGVtcGxhdGVEaXJlY3RpdmUgLSBjb21iaW5pbmcgdGVtcGxhdGVzIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZWxlbWVudCB0cmFuc2NsdXNpb24gZG9lc24ndCBtYWtlIHNlbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgb25seSBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIHNvIHRoYXQgd2UgcHJldmVudCBwdXR0aW5nIHRyYW5zY2x1c2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIHNhbWUgZWxlbWVudCBtb3JlIHRoYW4gb25jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHRlbXBsYXRlID0ganFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKTtcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5lbXB0eSgpOyAvLyBjbGVhciBjb250ZW50c1xuICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4gPSBjb21waWxlKCR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLCB7IG5lZWRzTmV3U2NvcGU6IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSB8fCBkaXJlY3RpdmUuJCRuZXdTY29wZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGUpIHtcbiAgICAgICAgICBoYXNUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcblxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gKGlzRnVuY3Rpb24oZGlyZWN0aXZlLnRlbXBsYXRlKSlcbiAgICAgICAgICAgICAgPyBkaXJlY3RpdmUudGVtcGxhdGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzKVxuICAgICAgICAgICAgICA6IGRpcmVjdGl2ZS50ZW1wbGF0ZTtcblxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGVub3JtYWxpemVUZW1wbGF0ZShkaXJlY3RpdmVWYWx1ZSk7XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICBpZiAoanFMaXRlSXNUZXh0Tm9kZShkaXJlY3RpdmVWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUoZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlLCB0cmltKGRpcmVjdGl2ZVZhbHVlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSAkdGVtcGxhdGVbMF07XG5cbiAgICAgICAgICAgIGlmICgkdGVtcGxhdGUubGVuZ3RoICE9IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxydCcsXG4gICAgICAgICAgICAgICAgICBcIlRlbXBsYXRlIGZvciBkaXJlY3RpdmUgJ3swfScgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gezF9XCIsXG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCAnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XG5cbiAgICAgICAgICAgIHZhciBuZXdUZW1wbGF0ZUF0dHJzID0geyRhdHRyOiB7fX07XG5cbiAgICAgICAgICAgIC8vIGNvbWJpbmUgZGlyZWN0aXZlcyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIGFuZCBmcm9tIHRoZSB0ZW1wbGF0ZTpcbiAgICAgICAgICAgIC8vIC0gdGFrZSB0aGUgYXJyYXkgb2YgZGlyZWN0aXZlcyBmb3IgdGhpcyBlbGVtZW50XG4gICAgICAgICAgICAvLyAtIHNwbGl0IGl0IGludG8gdHdvIHBhcnRzLCB0aG9zZSB0aGF0IGFscmVhZHkgYXBwbGllZCAocHJvY2Vzc2VkKSBhbmQgdGhvc2UgdGhhdCB3ZXJlbid0ICh1bnByb2Nlc3NlZClcbiAgICAgICAgICAgIC8vIC0gY29sbGVjdCBkaXJlY3RpdmVzIGZyb20gdGhlIHRlbXBsYXRlIGFuZCBzb3J0IHRoZW0gYnkgcHJpb3JpdHlcbiAgICAgICAgICAgIC8vIC0gY29tYmluZSBkaXJlY3RpdmVzIGFzOiBwcm9jZXNzZWQgKyB0ZW1wbGF0ZSArIHVucHJvY2Vzc2VkXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCBuZXdUZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgICAgIHZhciB1bnByb2Nlc3NlZERpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLnNwbGljZShpICsgMSwgZGlyZWN0aXZlcy5sZW5ndGggLSAoaSArIDEpKTtcblxuICAgICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBuZXdTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgICAgICAvLyBUaGUgb3JpZ2luYWwgZGlyZWN0aXZlIGNhdXNlZCB0aGUgY3VycmVudCBlbGVtZW50IHRvIGJlIHJlcGxhY2VkIGJ1dCB0aGlzIGVsZW1lbnRcbiAgICAgICAgICAgICAgLy8gYWxzbyBuZWVkcyB0byBoYXZlIGEgbmV3IHNjb3BlLCBzbyB3ZSBuZWVkIHRvIHRlbGwgdGhlIHRlbXBsYXRlIGRpcmVjdGl2ZXNcbiAgICAgICAgICAgICAgLy8gdGhhdCB0aGV5IHdvdWxkIG5lZWQgdG8gZ2V0IHRoZWlyIHNjb3BlIGZyb20gZnVydGhlciB1cCwgaWYgdGhleSByZXF1aXJlIHRyYW5zY2x1c2lvblxuICAgICAgICAgICAgICBtYXJrRGlyZWN0aXZlU2NvcGUodGVtcGxhdGVEaXJlY3RpdmVzLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsIG5ld1Njb3BlRGlyZWN0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLmNvbmNhdCh0ZW1wbGF0ZURpcmVjdGl2ZXMpLmNvbmNhdCh1bnByb2Nlc3NlZERpcmVjdGl2ZXMpO1xuICAgICAgICAgICAgbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXModGVtcGxhdGVBdHRycywgbmV3VGVtcGxhdGVBdHRycyk7XG5cbiAgICAgICAgICAgIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5odG1sKGRpcmVjdGl2ZVZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlO1xuICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0ZW1wbGF0ZScsIHRlbXBsYXRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbm9kZUxpbmtGbiA9IGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLnNwbGljZShpLCBkaXJlY3RpdmVzLmxlbmd0aCAtIGkpLCAkY29tcGlsZU5vZGUsXG4gICAgICAgICAgICAgIHRlbXBsYXRlQXR0cnMsIGpxQ29sbGVjdGlvbiwgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSAmJiBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlczogY29udHJvbGxlckRpcmVjdGl2ZXMsXG4gICAgICAgICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmU6IChuZXdTY29wZURpcmVjdGl2ZSAhPT0gZGlyZWN0aXZlKSAmJiBuZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZTogdGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTogbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGl2ZS5jb21waWxlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpbmtGbiA9IGRpcmVjdGl2ZS5jb21waWxlKCRjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgY2hpbGRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlua0ZuKSkge1xuICAgICAgICAgICAgICBhZGRMaW5rRm5zKG51bGwsIGxpbmtGbiwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlua0ZuKSB7XG4gICAgICAgICAgICAgIGFkZExpbmtGbnMobGlua0ZuLnByZSwgbGlua0ZuLnBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSwgc3RhcnRpbmdUYWcoJGNvbXBpbGVOb2RlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZXJtaW5hbCkge1xuICAgICAgICAgIG5vZGVMaW5rRm4udGVybWluYWwgPSB0cnVlO1xuICAgICAgICAgIHRlcm1pbmFsUHJpb3JpdHkgPSBNYXRoLm1heCh0ZXJtaW5hbFByaW9yaXR5LCBkaXJlY3RpdmUucHJpb3JpdHkpO1xuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgbm9kZUxpbmtGbi5zY29wZSA9IG5ld1Njb3BlRGlyZWN0aXZlICYmIG5ld1Njb3BlRGlyZWN0aXZlLnNjb3BlID09PSB0cnVlO1xuICAgICAgbm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCA9IGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmU7XG4gICAgICBub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCA9IGhhc1RlbXBsYXRlO1xuICAgICAgbm9kZUxpbmtGbi50cmFuc2NsdWRlID0gY2hpbGRUcmFuc2NsdWRlRm47XG5cbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZTtcblxuICAgICAgLy8gbWlnaHQgYmUgbm9ybWFsIG9yIGRlbGF5ZWQgbm9kZUxpbmtGbiBkZXBlbmRpbmcgb24gaWYgdGVtcGxhdGVVcmwgaXMgcHJlc2VudFxuICAgICAgcmV0dXJuIG5vZGVMaW5rRm47XG5cbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgIGZ1bmN0aW9uIGFkZExpbmtGbnMocHJlLCBwb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcbiAgICAgICAgaWYgKHByZSkge1xuICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHByZSA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHByZSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICBwcmUucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlO1xuICAgICAgICAgIHByZS5kaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTmFtZTtcbiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7XG4gICAgICAgICAgICBwcmUgPSBjbG9uZUFuZEFubm90YXRlRm4ocHJlLCB7aXNvbGF0ZVNjb3BlOiB0cnVlfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByZUxpbmtGbnMucHVzaChwcmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3N0KSB7XG4gICAgICAgICAgaWYgKGF0dHJTdGFydCkgcG9zdCA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgcG9zdC5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmU7XG4gICAgICAgICAgcG9zdC5kaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTmFtZTtcbiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7XG4gICAgICAgICAgICBwb3N0ID0gY2xvbmVBbmRBbm5vdGF0ZUZuKHBvc3QsIHtpc29sYXRlU2NvcGU6IHRydWV9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcG9zdExpbmtGbnMucHVzaChwb3N0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIGZ1bmN0aW9uIGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIHJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpIHtcbiAgICAgICAgdmFyIHZhbHVlO1xuXG4gICAgICAgIGlmIChpc1N0cmluZyhyZXF1aXJlKSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IHJlcXVpcmUubWF0Y2goUkVRVUlSRV9QUkVGSVhfUkVHRVhQKTtcbiAgICAgICAgICB2YXIgbmFtZSA9IHJlcXVpcmUuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgdmFyIGluaGVyaXRUeXBlID0gbWF0Y2hbMV0gfHwgbWF0Y2hbM107XG4gICAgICAgICAgdmFyIG9wdGlvbmFsID0gbWF0Y2hbMl0gPT09ICc/JztcblxuICAgICAgICAgIC8vSWYgb25seSBwYXJlbnRzIHRoZW4gc3RhcnQgYXQgdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICAgICAgaWYgKGluaGVyaXRUeXBlID09PSAnXl4nKSB7XG4gICAgICAgICAgICAkZWxlbWVudCA9ICRlbGVtZW50LnBhcmVudCgpO1xuICAgICAgICAgIC8vT3RoZXJ3aXNlIGF0dGVtcHQgZ2V0dGluZyB0aGUgY29udHJvbGxlciBmcm9tIGVsZW1lbnRDb250cm9sbGVycyBpbiBjYXNlXG4gICAgICAgICAgLy90aGUgZWxlbWVudCBpcyB0cmFuc2NsdWRlZCAoYW5kIGhhcyBubyBkYXRhKSBhbmQgdG8gYXZvaWQgLmRhdGEgaWYgcG9zc2libGVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBlbGVtZW50Q29udHJvbGxlcnMgJiYgZWxlbWVudENvbnRyb2xsZXJzW25hbWVdO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAmJiB2YWx1ZS5pbnN0YW5jZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZGF0YU5hbWUgPSAnJCcgKyBuYW1lICsgJ0NvbnRyb2xsZXInO1xuICAgICAgICAgICAgdmFsdWUgPSBpbmhlcml0VHlwZSA/ICRlbGVtZW50LmluaGVyaXRlZERhdGEoZGF0YU5hbWUpIDogJGVsZW1lbnQuZGF0YShkYXRhTmFtZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF2YWx1ZSAmJiAhb3B0aW9uYWwpIHtcbiAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdjdHJlcScsXG4gICAgICAgICAgICAgICAgXCJDb250cm9sbGVyICd7MH0nLCByZXF1aXJlZCBieSBkaXJlY3RpdmUgJ3sxfScsIGNhbid0IGJlIGZvdW5kIVwiLFxuICAgICAgICAgICAgICAgIG5hbWUsIGRpcmVjdGl2ZU5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlcXVpcmUpKSB7XG4gICAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByZXF1aXJlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHZhbHVlW2ldID0gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSwgcmVxdWlyZVtpXSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlIHx8IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldHVwQ29udHJvbGxlcnMoJGVsZW1lbnQsIGF0dHJzLCB0cmFuc2NsdWRlRm4sIGNvbnRyb2xsZXJEaXJlY3RpdmVzLCBpc29sYXRlU2NvcGUsIHNjb3BlKSB7XG4gICAgICAgIHZhciBlbGVtZW50Q29udHJvbGxlcnMgPSBjcmVhdGVNYXAoKTtcbiAgICAgICAgZm9yICh2YXIgY29udHJvbGxlcktleSBpbiBjb250cm9sbGVyRGlyZWN0aXZlcykge1xuICAgICAgICAgIHZhciBkaXJlY3RpdmUgPSBjb250cm9sbGVyRGlyZWN0aXZlc1tjb250cm9sbGVyS2V5XTtcbiAgICAgICAgICB2YXIgbG9jYWxzID0ge1xuICAgICAgICAgICAgJHNjb3BlOiBkaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAgICRlbGVtZW50OiAkZWxlbWVudCxcbiAgICAgICAgICAgICRhdHRyczogYXR0cnMsXG4gICAgICAgICAgICAkdHJhbnNjbHVkZTogdHJhbnNjbHVkZUZuXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBjb250cm9sbGVyID0gZGlyZWN0aXZlLmNvbnRyb2xsZXI7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIgPT0gJ0AnKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyID0gYXR0cnNbZGlyZWN0aXZlLm5hbWVdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBjb250cm9sbGVySW5zdGFuY2UgPSAkY29udHJvbGxlcihjb250cm9sbGVyLCBsb2NhbHMsIHRydWUsIGRpcmVjdGl2ZS5jb250cm9sbGVyQXMpO1xuXG4gICAgICAgICAgLy8gRm9yIGRpcmVjdGl2ZXMgd2l0aCBlbGVtZW50IHRyYW5zY2x1c2lvbiB0aGUgZWxlbWVudCBpcyBhIGNvbW1lbnQsXG4gICAgICAgICAgLy8gYnV0IGpRdWVyeSAuZGF0YSBkb2Vzbid0IHN1cHBvcnQgYXR0YWNoaW5nIGRhdGEgdG8gY29tbWVudCBub2RlcyBhcyBpdCdzIGhhcmQgdG9cbiAgICAgICAgICAvLyBjbGVhbiB1cCAoaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvODMzNSkuXG4gICAgICAgICAgLy8gSW5zdGVhZCwgd2Ugc2F2ZSB0aGUgY29udHJvbGxlcnMgZm9yIHRoZSBlbGVtZW50IGluIGEgbG9jYWwgaGFzaCBhbmQgYXR0YWNoIHRvIC5kYXRhXG4gICAgICAgICAgLy8gbGF0ZXIsIG9uY2Ugd2UgaGF2ZSB0aGUgYWN0dWFsIGVsZW1lbnQuXG4gICAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcbiAgICAgICAgICBpZiAoIWhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGRpcmVjdGl2ZS5uYW1lICsgJ0NvbnRyb2xsZXInLCBjb250cm9sbGVySW5zdGFuY2UuaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudENvbnRyb2xsZXJzO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBzY29wZSwgbGlua05vZGUsICRyb290RWxlbWVudCwgYm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgdmFyIGxpbmtGbiwgaXNvbGF0ZVNjb3BlLCBjb250cm9sbGVyU2NvcGUsIGVsZW1lbnRDb250cm9sbGVycywgdHJhbnNjbHVkZUZuLCAkZWxlbWVudCxcbiAgICAgICAgICAgIGF0dHJzLCByZW1vdmVTY29wZUJpbmRpbmdXYXRjaGVzLCByZW1vdmVDb250cm9sbGVyQmluZGluZ1dhdGNoZXM7XG5cbiAgICAgICAgaWYgKGNvbXBpbGVOb2RlID09PSBsaW5rTm9kZSkge1xuICAgICAgICAgIGF0dHJzID0gdGVtcGxhdGVBdHRycztcbiAgICAgICAgICAkZWxlbWVudCA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRlbGVtZW50ID0ganFMaXRlKGxpbmtOb2RlKTtcbiAgICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCRlbGVtZW50LCB0ZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRyb2xsZXJTY29wZSA9IHNjb3BlO1xuICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgaXNvbGF0ZVNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXdTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgIGNvbnRyb2xsZXJTY29wZSA9IHNjb3BlLiRwYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgICAvLyB0cmFjayBgYm91bmRUcmFuc2NsdWRlRm5gIHNvIGl0IGNhbiBiZSB1bndyYXBwZWQgaWYgYHRyYW5zY2x1ZGVGbmBcbiAgICAgICAgICAvLyBpcyBsYXRlciBwYXNzZWQgYXMgYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCB0byBgcHVibGljTGlua0ZuYFxuICAgICAgICAgIHRyYW5zY2x1ZGVGbiA9IGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlO1xuICAgICAgICAgIHRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZSA9IGJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRyb2xsZXJEaXJlY3RpdmVzKSB7XG4gICAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzID0gc2V0dXBDb250cm9sbGVycygkZWxlbWVudCwgYXR0cnMsIHRyYW5zY2x1ZGVGbiwgY29udHJvbGxlckRpcmVjdGl2ZXMsIGlzb2xhdGVTY29wZSwgc2NvcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgIC8vIEluaXRpYWxpemUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBmb3IgbmV3IGlzb2xhdGUgc2NvcGUgZGlyZWN0aXZlLlxuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oJGVsZW1lbnQsIGlzb2xhdGVTY29wZSwgdHJ1ZSwgISh0ZW1wbGF0ZURpcmVjdGl2ZSAmJiAodGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fFxuICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9PT0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLiQkb3JpZ2luYWxEaXJlY3RpdmUpKSk7XG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoJGVsZW1lbnQsIHRydWUpO1xuICAgICAgICAgIGlzb2xhdGVTY29wZS4kJGlzb2xhdGVCaW5kaW5ncyA9XG4gICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJGlzb2xhdGVCaW5kaW5ncztcbiAgICAgICAgICByZW1vdmVTY29wZUJpbmRpbmdXYXRjaGVzID0gaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKHNjb3BlLCBhdHRycywgaXNvbGF0ZVNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzb2xhdGVTY29wZS4kJGlzb2xhdGVCaW5kaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpO1xuICAgICAgICAgIGlmIChyZW1vdmVTY29wZUJpbmRpbmdXYXRjaGVzKSB7XG4gICAgICAgICAgICBpc29sYXRlU2NvcGUuJG9uKCckZGVzdHJveScsIHJlbW92ZVNjb3BlQmluZGluZ1dhdGNoZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYmluZFRvQ29udHJvbGxlciBiaW5kaW5nc1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIGVsZW1lbnRDb250cm9sbGVycykge1xuICAgICAgICAgIHZhciBjb250cm9sbGVyRGlyZWN0aXZlID0gY29udHJvbGxlckRpcmVjdGl2ZXNbbmFtZV07XG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBlbGVtZW50Q29udHJvbGxlcnNbbmFtZV07XG4gICAgICAgICAgdmFyIGJpbmRpbmdzID0gY29udHJvbGxlckRpcmVjdGl2ZS4kJGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXI7XG5cbiAgICAgICAgICBpZiAoY29udHJvbGxlci5pZGVudGlmaWVyICYmIGJpbmRpbmdzKSB7XG4gICAgICAgICAgICByZW1vdmVDb250cm9sbGVyQmluZGluZ1dhdGNoZXMgPVxuICAgICAgICAgICAgICBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3MoY29udHJvbGxlclNjb3BlLCBhdHRycywgY29udHJvbGxlci5pbnN0YW5jZSwgYmluZGluZ3MsIGNvbnRyb2xsZXJEaXJlY3RpdmUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBjb250cm9sbGVyUmVzdWx0ID0gY29udHJvbGxlcigpO1xuICAgICAgICAgIGlmIChjb250cm9sbGVyUmVzdWx0ICE9PSBjb250cm9sbGVyLmluc3RhbmNlKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciBoYXMgYSByZXR1cm4gdmFsdWUsIG92ZXJ3cml0ZSB0aGUgaW5zdGFuY2VcbiAgICAgICAgICAgIC8vIGZyb20gc2V0dXBDb250cm9sbGVyc1xuICAgICAgICAgICAgY29udHJvbGxlci5pbnN0YW5jZSA9IGNvbnRyb2xsZXJSZXN1bHQ7XG4gICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGNvbnRyb2xsZXJEaXJlY3RpdmUubmFtZSArICdDb250cm9sbGVyJywgY29udHJvbGxlclJlc3VsdCk7XG4gICAgICAgICAgICByZW1vdmVDb250cm9sbGVyQmluZGluZ1dhdGNoZXMgJiYgcmVtb3ZlQ29udHJvbGxlckJpbmRpbmdXYXRjaGVzKCk7XG4gICAgICAgICAgICByZW1vdmVDb250cm9sbGVyQmluZGluZ1dhdGNoZXMgPVxuICAgICAgICAgICAgICBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3MoY29udHJvbGxlclNjb3BlLCBhdHRycywgY29udHJvbGxlci5pbnN0YW5jZSwgYmluZGluZ3MsIGNvbnRyb2xsZXJEaXJlY3RpdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBSRUxJTktJTkdcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBwcmVMaW5rRm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBsaW5rRm4gPSBwcmVMaW5rRm5zW2ldO1xuICAgICAgICAgIGludm9rZUxpbmtGbihsaW5rRm4sXG4gICAgICAgICAgICAgIGxpbmtGbi5pc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAgICAgJGVsZW1lbnQsXG4gICAgICAgICAgICAgIGF0dHJzLFxuICAgICAgICAgICAgICBsaW5rRm4ucmVxdWlyZSAmJiBnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSwgbGlua0ZuLnJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpLFxuICAgICAgICAgICAgICB0cmFuc2NsdWRlRm5cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUkVDVVJTSU9OXG4gICAgICAgIC8vIFdlIG9ubHkgcGFzcyB0aGUgaXNvbGF0ZSBzY29wZSwgaWYgdGhlIGlzb2xhdGUgZGlyZWN0aXZlIGhhcyBhIHRlbXBsYXRlLFxuICAgICAgICAvLyBvdGhlcndpc2UgdGhlIGNoaWxkIGVsZW1lbnRzIGRvIG5vdCBiZWxvbmcgdG8gdGhlIGlzb2xhdGUgZGlyZWN0aXZlLlxuICAgICAgICB2YXIgc2NvcGVUb0NoaWxkID0gc2NvcGU7XG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgJiYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZSB8fCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgPT09IG51bGwpKSB7XG4gICAgICAgICAgc2NvcGVUb0NoaWxkID0gaXNvbGF0ZVNjb3BlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkTGlua0ZuICYmIGNoaWxkTGlua0ZuKHNjb3BlVG9DaGlsZCwgbGlua05vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBib3VuZFRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgLy8gUE9TVExJTktJTkdcbiAgICAgICAgZm9yIChpID0gcG9zdExpbmtGbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBsaW5rRm4gPSBwb3N0TGlua0Zuc1tpXTtcbiAgICAgICAgICBpbnZva2VMaW5rRm4obGlua0ZuLFxuICAgICAgICAgICAgICBsaW5rRm4uaXNvbGF0ZVNjb3BlID8gaXNvbGF0ZVNjb3BlIDogc2NvcGUsXG4gICAgICAgICAgICAgICRlbGVtZW50LFxuICAgICAgICAgICAgICBhdHRycyxcbiAgICAgICAgICAgICAgbGlua0ZuLnJlcXVpcmUgJiYgZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsIGxpbmtGbi5yZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSxcbiAgICAgICAgICAgICAgdHJhbnNjbHVkZUZuXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYXMgYCR0cmFuc2NsdWRlYC5cbiAgICAgICAgLy8gTm90ZTogYWxsIGFyZ3VtZW50cyBhcmUgb3B0aW9uYWwhXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCBmdXR1cmVQYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgdmFyIHRyYW5zY2x1ZGVDb250cm9sbGVycztcblxuICAgICAgICAgIC8vIE5vIHNjb3BlIHBhc3NlZCBpbjpcbiAgICAgICAgICBpZiAoIWlzU2NvcGUoc2NvcGUpKSB7XG4gICAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gY2xvbmVBdHRhY2hGbjtcbiAgICAgICAgICAgIGNsb25lQXR0YWNoRm4gPSBzY29wZTtcbiAgICAgICAgICAgIHNjb3BlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSkge1xuICAgICAgICAgICAgdHJhbnNjbHVkZUNvbnRyb2xsZXJzID0gZWxlbWVudENvbnRyb2xsZXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWZ1dHVyZVBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA/ICRlbGVtZW50LnBhcmVudCgpIDogJGVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgY2xvbmVBdHRhY2hGbiwgdHJhbnNjbHVkZUNvbnRyb2xsZXJzLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzY29wZVRvQ2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVwZW5kaW5nIHVwb24gdGhlIGNvbnRleHQgaW4gd2hpY2ggYSBkaXJlY3RpdmUgZmluZHMgaXRzZWxmIGl0IG1pZ2h0IG5lZWQgdG8gaGF2ZSBhIG5ldyBpc29sYXRlZFxuICAgIC8vIG9yIGNoaWxkIHNjb3BlIGNyZWF0ZWQuIEZvciBpbnN0YW5jZTpcbiAgICAvLyAqIGlmIHRoZSBkaXJlY3RpdmUgaGFzIGJlZW4gcHVsbGVkIGludG8gYSB0ZW1wbGF0ZSBiZWNhdXNlIGFub3RoZXIgZGlyZWN0aXZlIHdpdGggYSBoaWdoZXIgcHJpb3JpdHlcbiAgICAvLyBhc2tlZCBmb3IgZWxlbWVudCB0cmFuc2NsdXNpb25cbiAgICAvLyAqIGlmIHRoZSBkaXJlY3RpdmUgaXRzZWxmIGFza3MgZm9yIHRyYW5zY2x1c2lvbiBidXQgaXQgaXMgYXQgdGhlIHJvb3Qgb2YgYSB0ZW1wbGF0ZSBhbmQgdGhlIG9yaWdpbmFsXG4gICAgLy8gZWxlbWVudCB3YXMgcmVwbGFjZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMjkzNlxuICAgIGZ1bmN0aW9uIG1hcmtEaXJlY3RpdmVTY29wZShkaXJlY3RpdmVzLCBpc29sYXRlU2NvcGUsIG5ld1Njb3BlKSB7XG4gICAgICBmb3IgKHZhciBqID0gMCwgamogPSBkaXJlY3RpdmVzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgZGlyZWN0aXZlc1tqXSA9IGluaGVyaXQoZGlyZWN0aXZlc1tqXSwgeyQkaXNvbGF0ZVNjb3BlOiBpc29sYXRlU2NvcGUsICQkbmV3U2NvcGU6IG5ld1Njb3BlfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbG9va3MgdXAgdGhlIGRpcmVjdGl2ZSBhbmQgZGVjb3JhdGVzIGl0IHdpdGggZXhjZXB0aW9uIGhhbmRsaW5nIGFuZCBwcm9wZXIgcGFyYW1ldGVycy4gV2VcbiAgICAgKiBjYWxsIHRoaXMgdGhlIGJvdW5kRGlyZWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZGlyZWN0aXZlIHRvIGxvb2sgdXAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIFRoZSBkaXJlY3RpdmUgbXVzdCBiZSBmb3VuZCBpbiBzcGVjaWZpYyBmb3JtYXQuXG4gICAgICogICBTdHJpbmcgY29udGFpbmluZyBhbnkgb2YgdGhlc2VzIGNoYXJhY3RlcnM6XG4gICAgICpcbiAgICAgKiAgICogYEVgOiBlbGVtZW50IG5hbWVcbiAgICAgKiAgICogYEEnOiBhdHRyaWJ1dGVcbiAgICAgKiAgICogYENgOiBjbGFzc1xuICAgICAqICAgKiBgTWA6IGNvbW1lbnRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBkaXJlY3RpdmUgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZERpcmVjdGl2ZSh0RGlyZWN0aXZlcywgbmFtZSwgbG9jYXRpb24sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHN0YXJ0QXR0ck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEF0dHJOYW1lKSB7XG4gICAgICBpZiAobmFtZSA9PT0gaWdub3JlRGlyZWN0aXZlKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBtYXRjaCA9IG51bGw7XG4gICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBmb3IgKHZhciBkaXJlY3RpdmUsIGRpcmVjdGl2ZXMgPSAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBTdWZmaXgpLFxuICAgICAgICAgICAgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgICAgICAgICBpZiAoKGlzVW5kZWZpbmVkKG1heFByaW9yaXR5KSB8fCBtYXhQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkgJiZcbiAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0LmluZGV4T2YobG9jYXRpb24pICE9IC0xKSB7XG4gICAgICAgICAgICAgIGlmIChzdGFydEF0dHJOYW1lKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlID0gaW5oZXJpdChkaXJlY3RpdmUsIHskJHN0YXJ0OiBzdGFydEF0dHJOYW1lLCAkJGVuZDogZW5kQXR0ck5hbWV9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0RGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSk7XG4gICAgICAgICAgICAgIG1hdGNoID0gZGlyZWN0aXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogbG9va3MgdXAgdGhlIGRpcmVjdGl2ZSBhbmQgcmV0dXJucyB0cnVlIGlmIGl0IGlzIGEgbXVsdGktZWxlbWVudCBkaXJlY3RpdmUsXG4gICAgICogYW5kIHRoZXJlZm9yZSByZXF1aXJlcyBET00gbm9kZXMgYmV0d2VlbiAtc3RhcnQgYW5kIC1lbmQgbWFya2VycyB0byBiZSBncm91cGVkXG4gICAgICogdG9nZXRoZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGRpcmVjdGl2ZSB3YXMgcmVnaXN0ZXJlZCBhcyBtdWx0aS1lbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50KG5hbWUpIHtcbiAgICAgIGlmIChoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGZvciAodmFyIGRpcmVjdGl2ZSwgZGlyZWN0aXZlcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFN1ZmZpeCksXG4gICAgICAgICAgICBpID0gMCwgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICAgIGlmIChkaXJlY3RpdmUubXVsdGlFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBlbGVtZW50IGlzIHJlcGxhY2VkIHdpdGggSFRNTCB0ZW1wbGF0ZSB0aGVuIHRoZSBuZXcgYXR0cmlidXRlc1xuICAgICAqIG9uIHRoZSB0ZW1wbGF0ZSBuZWVkIHRvIGJlIG1lcmdlZCB3aXRoIHRoZSBleGlzdGluZyBhdHRyaWJ1dGVzIGluIHRoZSBET00uXG4gICAgICogVGhlIGRlc2lyZWQgZWZmZWN0IGlzIHRvIGhhdmUgYm90aCBvZiB0aGUgYXR0cmlidXRlcyBwcmVzZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRzdCBkZXN0aW5hdGlvbiBhdHRyaWJ1dGVzIChvcmlnaW5hbCBET00pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNyYyBzb3VyY2UgYXR0cmlidXRlcyAoZnJvbSB0aGUgZGlyZWN0aXZlIHRlbXBsYXRlKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKGRzdCwgc3JjKSB7XG4gICAgICB2YXIgc3JjQXR0ciA9IHNyYy4kYXR0cixcbiAgICAgICAgICBkc3RBdHRyID0gZHN0LiRhdHRyLFxuICAgICAgICAgICRlbGVtZW50ID0gZHN0LiQkZWxlbWVudDtcblxuICAgICAgLy8gcmVhcHBseSB0aGUgb2xkIGF0dHJpYnV0ZXMgdG8gdGhlIG5ldyBlbGVtZW50XG4gICAgICBmb3JFYWNoKGRzdCwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSAhPSAnJCcpIHtcbiAgICAgICAgICBpZiAoc3JjW2tleV0gJiYgc3JjW2tleV0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSArPSAoa2V5ID09PSAnc3R5bGUnID8gJzsnIDogJyAnKSArIHNyY1trZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkc3QuJHNldChrZXksIHZhbHVlLCB0cnVlLCBzcmNBdHRyW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gY29weSB0aGUgbmV3IGF0dHJpYnV0ZXMgb24gdGhlIG9sZCBhdHRycyBvYmplY3RcbiAgICAgIGZvckVhY2goc3JjLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT0gJ2NsYXNzJykge1xuICAgICAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgdmFsdWUpO1xuICAgICAgICAgIGRzdFsnY2xhc3MnXSA9IChkc3RbJ2NsYXNzJ10gPyBkc3RbJ2NsYXNzJ10gKyAnICcgOiAnJykgKyB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0gJ3N0eWxlJykge1xuICAgICAgICAgICRlbGVtZW50LmF0dHIoJ3N0eWxlJywgJGVsZW1lbnQuYXR0cignc3R5bGUnKSArICc7JyArIHZhbHVlKTtcbiAgICAgICAgICBkc3RbJ3N0eWxlJ10gPSAoZHN0WydzdHlsZSddID8gZHN0WydzdHlsZSddICsgJzsnIDogJycpICsgdmFsdWU7XG4gICAgICAgICAgLy8gYGRzdGAgd2lsbCBuZXZlciBjb250YWluIGhhc093blByb3BlcnR5IGFzIERPTSBwYXJzZXIgd29uJ3QgbGV0IGl0LlxuICAgICAgICAgIC8vIFlvdSB3aWxsIGdldCBhbiBcIkludmFsaWRDaGFyYWN0ZXJFcnJvcjogRE9NIEV4Y2VwdGlvbiA1XCIgZXJyb3IgaWYgeW91XG4gICAgICAgICAgLy8gaGF2ZSBhbiBhdHRyaWJ1dGUgbGlrZSBcImhhcy1vd24tcHJvcGVydHlcIiBvciBcImRhdGEtaGFzLW93bi1wcm9wZXJ0eVwiLCBldGMuXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5LmNoYXJBdCgwKSAhPSAnJCcgJiYgIWRzdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgZHN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICBkc3RBdHRyW2tleV0gPSBzcmNBdHRyW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMsICRjb21waWxlTm9kZSwgdEF0dHJzLFxuICAgICAgICAkcm9vdEVsZW1lbnQsIGNoaWxkVHJhbnNjbHVkZUZuLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucywgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xuICAgICAgdmFyIGxpbmtRdWV1ZSA9IFtdLFxuICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLFxuICAgICAgICAgIGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbixcbiAgICAgICAgICBiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlID0gJGNvbXBpbGVOb2RlWzBdLFxuICAgICAgICAgIG9yaWdBc3luY0RpcmVjdGl2ZSA9IGRpcmVjdGl2ZXMuc2hpZnQoKSxcbiAgICAgICAgICBkZXJpdmVkU3luY0RpcmVjdGl2ZSA9IGluaGVyaXQob3JpZ0FzeW5jRGlyZWN0aXZlLCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogbnVsbCwgdHJhbnNjbHVkZTogbnVsbCwgcmVwbGFjZTogbnVsbCwgJCRvcmlnaW5hbERpcmVjdGl2ZTogb3JpZ0FzeW5jRGlyZWN0aXZlXG4gICAgICAgICAgfSksXG4gICAgICAgICAgdGVtcGxhdGVVcmwgPSAoaXNGdW5jdGlvbihvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwpKVxuICAgICAgICAgICAgICA/IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCgkY29tcGlsZU5vZGUsIHRBdHRycylcbiAgICAgICAgICAgICAgOiBvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwsXG4gICAgICAgICAgdGVtcGxhdGVOYW1lc3BhY2UgPSBvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2U7XG5cbiAgICAgICRjb21waWxlTm9kZS5lbXB0eSgpO1xuXG4gICAgICAkdGVtcGxhdGVSZXF1ZXN0KHRlbXBsYXRlVXJsKVxuICAgICAgICAudGhlbihmdW5jdGlvbihjb250ZW50KSB7XG4gICAgICAgICAgdmFyIGNvbXBpbGVOb2RlLCB0ZW1wVGVtcGxhdGVBdHRycywgJHRlbXBsYXRlLCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuO1xuXG4gICAgICAgICAgY29udGVudCA9IGRlbm9ybWFsaXplVGVtcGxhdGUoY29udGVudCk7XG5cbiAgICAgICAgICBpZiAob3JpZ0FzeW5jRGlyZWN0aXZlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIGlmIChqcUxpdGVJc1RleHROb2RlKGNvbnRlbnQpKSB7XG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gcmVtb3ZlQ29tbWVudHMod3JhcFRlbXBsYXRlKHRlbXBsYXRlTmFtZXNwYWNlLCB0cmltKGNvbnRlbnQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICR0ZW1wbGF0ZVswXTtcblxuICAgICAgICAgICAgaWYgKCR0ZW1wbGF0ZS5sZW5ndGggIT0gMSB8fCBjb21waWxlTm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3RwbHJ0JyxcbiAgICAgICAgICAgICAgICAgIFwiVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSAnezB9JyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX1cIixcbiAgICAgICAgICAgICAgICAgIG9yaWdBc3luY0RpcmVjdGl2ZS5uYW1lLCB0ZW1wbGF0ZVVybCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRlbXBUZW1wbGF0ZUF0dHJzID0geyRhdHRyOiB7fX07XG4gICAgICAgICAgICByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsICRjb21waWxlTm9kZSwgY29tcGlsZU5vZGUpO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlRGlyZWN0aXZlcyA9IGNvbGxlY3REaXJlY3RpdmVzKGNvbXBpbGVOb2RlLCBbXSwgdGVtcFRlbXBsYXRlQXR0cnMpO1xuXG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qob3JpZ0FzeW5jRGlyZWN0aXZlLnNjb3BlKSkge1xuICAgICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgZGlyZWN0aXZlIHRoYXQgY2F1c2VkIHRoZSB0ZW1wbGF0ZSB0byBiZSBsb2FkZWQgYXN5bmMgcmVxdWlyZWRcbiAgICAgICAgICAgICAgLy8gYW4gaXNvbGF0ZSBzY29wZVxuICAgICAgICAgICAgICBtYXJrRGlyZWN0aXZlU2NvcGUodGVtcGxhdGVEaXJlY3RpdmVzLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpcmVjdGl2ZXMgPSB0ZW1wbGF0ZURpcmVjdGl2ZXMuY29uY2F0KGRpcmVjdGl2ZXMpO1xuICAgICAgICAgICAgbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXModEF0dHJzLCB0ZW1wVGVtcGxhdGVBdHRycyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZTtcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5odG1sKGNvbnRlbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRpcmVjdGl2ZXMudW5zaGlmdChkZXJpdmVkU3luY0RpcmVjdGl2ZSk7XG5cbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbiA9IGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdEF0dHJzLFxuICAgICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiwgJGNvbXBpbGVOb2RlLCBvcmlnQXN5bmNEaXJlY3RpdmUsIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLFxuICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcbiAgICAgICAgICBmb3JFYWNoKCRyb290RWxlbWVudCwgZnVuY3Rpb24obm9kZSwgaSkge1xuICAgICAgICAgICAgaWYgKG5vZGUgPT0gY29tcGlsZU5vZGUpIHtcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50W2ldID0gJGNvbXBpbGVOb2RlWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiA9IGNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVbMF0uY2hpbGROb2RlcywgY2hpbGRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgd2hpbGUgKGxpbmtRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBzY29wZSA9IGxpbmtRdWV1ZS5zaGlmdCgpLFxuICAgICAgICAgICAgICAgIGJlZm9yZVRlbXBsYXRlTGlua05vZGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBsaW5rUm9vdEVsZW1lbnQgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBib3VuZFRyYW5zY2x1ZGVGbiA9IGxpbmtRdWV1ZS5zaGlmdCgpLFxuICAgICAgICAgICAgICAgIGxpbmtOb2RlID0gJGNvbXBpbGVOb2RlWzBdO1xuXG4gICAgICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSAhPT0gYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSkge1xuICAgICAgICAgICAgICB2YXIgb2xkQ2xhc3NlcyA9IGJlZm9yZVRlbXBsYXRlTGlua05vZGUuY2xhc3NOYW1lO1xuXG4gICAgICAgICAgICAgIGlmICghKHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgJiZcbiAgICAgICAgICAgICAgICAgIG9yaWdBc3luY0RpcmVjdGl2ZS5yZXBsYWNlKSkge1xuICAgICAgICAgICAgICAgIC8vIGl0IHdhcyBjbG9uZWQgdGhlcmVmb3JlIHdlIGhhdmUgdG8gY2xvbmUgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9IGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXBsYWNlV2l0aChsaW5rUm9vdEVsZW1lbnQsIGpxTGl0ZShiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlKSwgbGlua05vZGUpO1xuXG4gICAgICAgICAgICAgIC8vIENvcHkgaW4gQ1NTIGNsYXNzZXMgZnJvbSBvcmlnaW5hbCBub2RlXG4gICAgICAgICAgICAgIHNhZmVBZGRDbGFzcyhqcUxpdGUobGlua05vZGUpLCBvbGRDbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCkge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiwgc2NvcGUsIGxpbmtOb2RlLCAkcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsaW5rUXVldWUgPSBudWxsO1xuICAgICAgICB9KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGF5ZWROb2RlTGlua0ZuKGlnbm9yZUNoaWxkTGlua0ZuLCBzY29wZSwgbm9kZSwgcm9vdEVsZW1lbnQsIGJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgIHZhciBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm47XG4gICAgICAgIGlmIChzY29wZS4kJGRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBpZiAobGlua1F1ZXVlKSB7XG4gICAgICAgICAgbGlua1F1ZXVlLnB1c2goc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICByb290RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZSwgYm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sIHNjb3BlLCBub2RlLCByb290RWxlbWVudCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTb3J0aW5nIGZ1bmN0aW9uIGZvciBib3VuZCBkaXJlY3RpdmVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJ5UHJpb3JpdHkoYSwgYikge1xuICAgICAgdmFyIGRpZmYgPSBiLnByaW9yaXR5IC0gYS5wcmlvcml0eTtcbiAgICAgIGlmIChkaWZmICE9PSAwKSByZXR1cm4gZGlmZjtcbiAgICAgIGlmIChhLm5hbWUgIT09IGIubmFtZSkgcmV0dXJuIChhLm5hbWUgPCBiLm5hbWUpID8gLTEgOiAxO1xuICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFzc2VydE5vRHVwbGljYXRlKHdoYXQsIHByZXZpb3VzRGlyZWN0aXZlLCBkaXJlY3RpdmUsIGVsZW1lbnQpIHtcblxuICAgICAgZnVuY3Rpb24gd3JhcE1vZHVsZU5hbWVJZkRlZmluZWQobW9kdWxlTmFtZSkge1xuICAgICAgICByZXR1cm4gbW9kdWxlTmFtZSA/XG4gICAgICAgICAgKCcgKG1vZHVsZTogJyArIG1vZHVsZU5hbWUgKyAnKScpIDpcbiAgICAgICAgICAnJztcbiAgICAgIH1cblxuICAgICAgaWYgKHByZXZpb3VzRGlyZWN0aXZlKSB7XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdtdWx0aWRpcicsICdNdWx0aXBsZSBkaXJlY3RpdmVzIFt7MH17MX0sIHsyfXszfV0gYXNraW5nIGZvciB7NH0gb246IHs1fScsXG4gICAgICAgICAgICBwcmV2aW91c0RpcmVjdGl2ZS5uYW1lLCB3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZChwcmV2aW91c0RpcmVjdGl2ZS4kJG1vZHVsZU5hbWUpLFxuICAgICAgICAgICAgZGlyZWN0aXZlLm5hbWUsIHdyYXBNb2R1bGVOYW1lSWZEZWZpbmVkKGRpcmVjdGl2ZS4kJG1vZHVsZU5hbWUpLCB3aGF0LCBzdGFydGluZ1RhZyhlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcywgdGV4dCkge1xuICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUodGV4dCwgdHJ1ZSk7XG4gICAgICBpZiAoaW50ZXJwb2xhdGVGbikge1xuICAgICAgICBkaXJlY3RpdmVzLnB1c2goe1xuICAgICAgICAgIHByaW9yaXR5OiAwLFxuICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIHRleHRJbnRlcnBvbGF0ZUNvbXBpbGVGbih0ZW1wbGF0ZU5vZGUpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZU5vZGVQYXJlbnQgPSB0ZW1wbGF0ZU5vZGUucGFyZW50KCksXG4gICAgICAgICAgICAgICAgaGFzQ29tcGlsZVBhcmVudCA9ICEhdGVtcGxhdGVOb2RlUGFyZW50Lmxlbmd0aDtcblxuICAgICAgICAgICAgLy8gV2hlbiB0cmFuc2NsdWRpbmcgYSB0ZW1wbGF0ZSB0aGF0IGhhcyBiaW5kaW5ncyBpbiB0aGUgcm9vdFxuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCBhbmQgdGh1cyBuZWVkIHRvIGFkZCB0aGUgY2xhc3MgZHVyaW5nIGxpbmtpbmcgZm4uXG4gICAgICAgICAgICBpZiAoaGFzQ29tcGlsZVBhcmVudCkgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZU5vZGVQYXJlbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGV4dEludGVycG9sYXRlTGlua0ZuKHNjb3BlLCBub2RlKSB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudCgpO1xuICAgICAgICAgICAgICBpZiAoIWhhc0NvbXBpbGVQYXJlbnQpIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3MocGFyZW50KTtcbiAgICAgICAgICAgICAgY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKHBhcmVudCwgaW50ZXJwb2xhdGVGbi5leHByZXNzaW9ucyk7XG4gICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChpbnRlcnBvbGF0ZUZuLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBub2RlWzBdLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHdyYXBUZW1wbGF0ZSh0eXBlLCB0ZW1wbGF0ZSkge1xuICAgICAgdHlwZSA9IGxvd2VyY2FzZSh0eXBlIHx8ICdodG1sJyk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3N2Zyc6XG4gICAgICBjYXNlICdtYXRoJzpcbiAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgd3JhcHBlci5pbm5lckhUTUwgPSAnPCcgKyB0eXBlICsgJz4nICsgdGVtcGxhdGUgKyAnPC8nICsgdHlwZSArICc+JztcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSwgYXR0ck5vcm1hbGl6ZWROYW1lKSB7XG4gICAgICBpZiAoYXR0ck5vcm1hbGl6ZWROYW1lID09IFwic3JjZG9jXCIpIHtcbiAgICAgICAgcmV0dXJuICRzY2UuSFRNTDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBub2RlTmFtZV8obm9kZSk7XG4gICAgICAvLyBtYWN0aW9uW3hsaW5rOmhyZWZdIGNhbiBzb3VyY2UgU1ZHLiAgSXQncyBub3QgbGltaXRlZCB0byA8bWFjdGlvbj4uXG4gICAgICBpZiAoYXR0ck5vcm1hbGl6ZWROYW1lID09IFwieGxpbmtIcmVmXCIgfHxcbiAgICAgICAgICAodGFnID09IFwiZm9ybVwiICYmIGF0dHJOb3JtYWxpemVkTmFtZSA9PSBcImFjdGlvblwiKSB8fFxuICAgICAgICAgICh0YWcgIT0gXCJpbWdcIiAmJiAoYXR0ck5vcm1hbGl6ZWROYW1lID09IFwic3JjXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJuZ1NyY1wiKSkpIHtcbiAgICAgICAgcmV0dXJuICRzY2UuUkVTT1VSQ0VfVVJMO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlKG5vZGUsIGRpcmVjdGl2ZXMsIHZhbHVlLCBuYW1lLCBhbGxPck5vdGhpbmcpIHtcbiAgICAgIHZhciB0cnVzdGVkQ29udGV4dCA9IGdldFRydXN0ZWRDb250ZXh0KG5vZGUsIG5hbWUpO1xuICAgICAgYWxsT3JOb3RoaW5nID0gQUxMX09SX05PVEhJTkdfQVRUUlNbbmFtZV0gfHwgYWxsT3JOb3RoaW5nO1xuXG4gICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZSh2YWx1ZSwgdHJ1ZSwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZyk7XG5cbiAgICAgIC8vIG5vIGludGVycG9sYXRpb24gZm91bmQgLT4gaWdub3JlXG4gICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjtcblxuXG4gICAgICBpZiAobmFtZSA9PT0gXCJtdWx0aXBsZVwiICYmIG5vZGVOYW1lXyhub2RlKSA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycihcInNlbG11bHRpXCIsXG4gICAgICAgICAgICBcIkJpbmRpbmcgdG8gdGhlICdtdWx0aXBsZScgYXR0cmlidXRlIGlzIG5vdCBzdXBwb3J0ZWQuIEVsZW1lbnQ6IHswfVwiLFxuICAgICAgICAgICAgc3RhcnRpbmdUYWcobm9kZSkpO1xuICAgICAgfVxuXG4gICAgICBkaXJlY3RpdmVzLnB1c2goe1xuICAgICAgICBwcmlvcml0eTogMTAwLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHByZTogZnVuY3Rpb24gYXR0ckludGVycG9sYXRlUHJlTGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICAgICAgICAgdmFyICQkb2JzZXJ2ZXJzID0gKGF0dHIuJCRvYnNlcnZlcnMgfHwgKGF0dHIuJCRvYnNlcnZlcnMgPSBjcmVhdGVNYXAoKSkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAudGVzdChuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vZG9tZXZlbnRzJyxcbiAgICAgICAgICAgICAgICAgICAgICBcIkludGVycG9sYXRpb25zIGZvciBIVE1MIERPTSBldmVudCBhdHRyaWJ1dGVzIGFyZSBkaXNhbGxvd2VkLiAgUGxlYXNlIHVzZSB0aGUgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5nLSB2ZXJzaW9ucyAoc3VjaCBhcyBuZy1jbGljayBpbnN0ZWFkIG9mIG9uY2xpY2spIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIGNoYW5nZWQgc2luY2UgbGFzdCAkaW50ZXJwb2xhdGUoKWVkXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gYXR0cltuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGludGVycG9sYXRlIGFnYWluIHNpbmNlIHRoZSBhdHRyaWJ1dGUgdmFsdWUgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICAgICAgICAgICAgLy8gKGUuZy4gYnkgYW5vdGhlciBkaXJlY3RpdmUncyBjb21waWxlIGZ1bmN0aW9uKVxuICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlIHVuc2V0L2VtcHR5IHZhbHVlcyBtYWtlIGludGVycG9sYXRlRm4gZmFsc3lcbiAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlRm4gPSBuZXdWYWx1ZSAmJiAkaW50ZXJwb2xhdGUobmV3VmFsdWUsIHRydWUsIHRydXN0ZWRDb250ZXh0LCBhbGxPck5vdGhpbmcpO1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBhdHRyaWJ1dGUgd2FzIHVwZGF0ZWQgc28gdGhhdCB0aGVyZSBpcyBubyBpbnRlcnBvbGF0aW9uIGdvaW5nIG9uIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlciBhbnkgb2JzZXJ2ZXJzXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZUZuKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIGF0dHIgb2JqZWN0IHNvIHRoYXQgaXQncyByZWFkeSBpbiBjYXNlIHdlIG5lZWQgdGhlIHZhbHVlIGZvciBpc29sYXRlXG4gICAgICAgICAgICAgICAgLy8gc2NvcGUgaW5pdGlhbGl6YXRpb24sIG90aGVyd2lzZSB0aGUgdmFsdWUgd291bGQgbm90IGJlIGF2YWlsYWJsZSBmcm9tIGlzb2xhdGVcbiAgICAgICAgICAgICAgICAvLyBkaXJlY3RpdmUncyBsaW5raW5nIGZuIGR1cmluZyBsaW5raW5nIHBoYXNlXG4gICAgICAgICAgICAgICAgYXR0cltuYW1lXSA9IGludGVycG9sYXRlRm4oc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgKCQkb2JzZXJ2ZXJzW25hbWVdIHx8ICgkJG9ic2VydmVyc1tuYW1lXSA9IFtdKSkuJCRpbnRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgKGF0dHIuJCRvYnNlcnZlcnMgJiYgYXR0ci4kJG9ic2VydmVyc1tuYW1lXS4kJHNjb3BlIHx8IHNjb3BlKS5cbiAgICAgICAgICAgICAgICAgICR3YXRjaChpbnRlcnBvbGF0ZUZuLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hBY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vc3BlY2lhbCBjYXNlIGZvciBjbGFzcyBhdHRyaWJ1dGUgYWRkaXRpb24gKyByZW1vdmFsXG4gICAgICAgICAgICAgICAgICAgIC8vc28gdGhhdCBjbGFzcyBjaGFuZ2VzIGNhbiB0YXAgaW50byB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vaG9va3MgcHJvdmlkZWQgYnkgdGhlICRhbmltYXRlIHNlcnZpY2UuIEJlIHN1cmUgdG9cbiAgICAgICAgICAgICAgICAgICAgLy9za2lwIGFuaW1hdGlvbnMgd2hlbiB0aGUgZmlyc3QgZGlnZXN0IG9jY3VycyAod2hlblxuICAgICAgICAgICAgICAgICAgICAvL2JvdGggdGhlIG5ldyBhbmQgdGhlIG9sZCB2YWx1ZXMgYXJlIHRoZSBzYW1lKSBzaW5jZVxuICAgICAgICAgICAgICAgICAgICAvL3RoZSBDU1MgY2xhc3NlcyBhcmUgdGhlIG5vbi1pbnRlcnBvbGF0ZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAnY2xhc3MnICYmIG5ld1ZhbHVlICE9IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0ci4kdXBkYXRlQ2xhc3MobmV3VmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyLiRzZXQobmFtZSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYSBzcGVjaWFsIGpxTGl0ZS5yZXBsYWNlV2l0aCwgd2hpY2ggY2FuIHJlcGxhY2UgaXRlbXMgd2hpY2hcbiAgICAgKiBoYXZlIG5vIHBhcmVudHMsIHByb3ZpZGVkIHRoYXQgdGhlIGNvbnRhaW5pbmcganFMaXRlIGNvbGxlY3Rpb24gaXMgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0pxTGl0ZT19ICRyb290RWxlbWVudCBUaGUgcm9vdCBvZiB0aGUgY29tcGlsZSB0cmVlLiBVc2VkIHNvIHRoYXQgd2UgY2FuIHJlcGxhY2Ugbm9kZXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgcm9vdCBvZiB0aGUgdHJlZS5cbiAgICAgKiBAcGFyYW0ge0pxTGl0ZX0gZWxlbWVudHNUb1JlbW92ZSBUaGUganFMaXRlIGVsZW1lbnQgd2hpY2ggd2UgYXJlIGdvaW5nIHRvIHJlcGxhY2UuIFdlIGtlZXBcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgc2hlbGwsIGJ1dCByZXBsYWNlIGl0cyBET00gbm9kZSByZWZlcmVuY2UuXG4gICAgICogQHBhcmFtIHtOb2RlfSBuZXdOb2RlIFRoZSBuZXcgRE9NIG5vZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZVdpdGgoJHJvb3RFbGVtZW50LCBlbGVtZW50c1RvUmVtb3ZlLCBuZXdOb2RlKSB7XG4gICAgICB2YXIgZmlyc3RFbGVtZW50VG9SZW1vdmUgPSBlbGVtZW50c1RvUmVtb3ZlWzBdLFxuICAgICAgICAgIHJlbW92ZUNvdW50ID0gZWxlbWVudHNUb1JlbW92ZS5sZW5ndGgsXG4gICAgICAgICAgcGFyZW50ID0gZmlyc3RFbGVtZW50VG9SZW1vdmUucGFyZW50Tm9kZSxcbiAgICAgICAgICBpLCBpaTtcblxuICAgICAgaWYgKCRyb290RWxlbWVudCkge1xuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9ICRyb290RWxlbWVudC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgaWYgKCRyb290RWxlbWVudFtpXSA9PSBmaXJzdEVsZW1lbnRUb1JlbW92ZSkge1xuICAgICAgICAgICAgJHJvb3RFbGVtZW50W2krK10gPSBuZXdOb2RlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGksIGoyID0gaiArIHJlbW92ZUNvdW50IC0gMSxcbiAgICAgICAgICAgICAgICAgICAgIGpqID0gJHJvb3RFbGVtZW50Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgaiA8IGpqOyBqKyssIGoyKyspIHtcbiAgICAgICAgICAgICAgaWYgKGoyIDwgamopIHtcbiAgICAgICAgICAgICAgICAkcm9vdEVsZW1lbnRbal0gPSAkcm9vdEVsZW1lbnRbajJdO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAkcm9vdEVsZW1lbnRbal07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRyb290RWxlbWVudC5sZW5ndGggLT0gcmVtb3ZlQ291bnQgLSAxO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgcmVwbGFjZWQgZWxlbWVudCBpcyBhbHNvIHRoZSBqUXVlcnkgLmNvbnRleHQgdGhlbiByZXBsYWNlIGl0XG4gICAgICAgICAgICAvLyAuY29udGV4dCBpcyBhIGRlcHJlY2F0ZWQgalF1ZXJ5IGFwaSwgc28gd2Ugc2hvdWxkIHNldCBpdCBvbmx5IHdoZW4galF1ZXJ5IHNldCBpdFxuICAgICAgICAgICAgLy8gaHR0cDovL2FwaS5qcXVlcnkuY29tL2NvbnRleHQvXG4gICAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50LmNvbnRleHQgPT09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICRyb290RWxlbWVudC5jb250ZXh0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgZmlyc3RFbGVtZW50VG9SZW1vdmUpO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPKHBlcmYpOiB3aGF0J3MgdGhpcyBkb2N1bWVudCBmcmFnbWVudCBmb3I/IGlzIGl0IG5lZWRlZD8gY2FuIHdlIGF0IGxlYXN0IHJldXNlIGl0P1xuICAgICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZmlyc3RFbGVtZW50VG9SZW1vdmUpO1xuXG4gICAgICBpZiAoanFMaXRlLmhhc0RhdGEoZmlyc3RFbGVtZW50VG9SZW1vdmUpKSB7XG4gICAgICAgIC8vIENvcHkgb3ZlciB1c2VyIGRhdGEgKHRoYXQgaW5jbHVkZXMgQW5ndWxhcidzICRzY29wZSBldGMuKS4gRG9uJ3QgY29weSBwcml2YXRlXG4gICAgICAgIC8vIGRhdGEgaGVyZSBiZWNhdXNlIHRoZXJlJ3Mgbm8gcHVibGljIGludGVyZmFjZSBpbiBqUXVlcnkgdG8gZG8gdGhhdCBhbmQgY29weWluZyBvdmVyXG4gICAgICAgIC8vIGV2ZW50IGxpc3RlbmVycyAod2hpY2ggaXMgdGhlIG1haW4gdXNlIG9mIHByaXZhdGUgZGF0YSkgd291bGRuJ3Qgd29yayBhbnl3YXkuXG4gICAgICAgIGpxTGl0ZS5kYXRhKG5ld05vZGUsIGpxTGl0ZS5kYXRhKGZpcnN0RWxlbWVudFRvUmVtb3ZlKSk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGRhdGEgb2YgdGhlIHJlcGxhY2VkIGVsZW1lbnQuIFdlIGNhbm5vdCBqdXN0IGNhbGwgLnJlbW92ZSgpXG4gICAgICAgIC8vIG9uIHRoZSBlbGVtZW50IGl0IHNpbmNlIHRoYXQgd291bGQgZGVhbGxvY2F0ZSBzY29wZSB0aGF0IGlzIG5lZWRlZFxuICAgICAgICAvLyBmb3IgdGhlIG5ldyBub2RlLiBJbnN0ZWFkLCByZW1vdmUgdGhlIGRhdGEgXCJtYW51YWxseVwiLlxuICAgICAgICBpZiAoIWpRdWVyeSkge1xuICAgICAgICAgIGRlbGV0ZSBqcUxpdGUuY2FjaGVbZmlyc3RFbGVtZW50VG9SZW1vdmVbanFMaXRlLmV4cGFuZG9dXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBqUXVlcnkgMi54IGRvZXNuJ3QgZXhwb3NlIHRoZSBkYXRhIHN0b3JhZ2UuIFVzZSBqUXVlcnkuY2xlYW5EYXRhIHRvIGNsZWFuIHVwIGFmdGVyXG4gICAgICAgICAgLy8gdGhlIHJlcGxhY2VkIGVsZW1lbnQuIFRoZSBjbGVhbkRhdGEgdmVyc2lvbiBtb25rZXktcGF0Y2hlZCBieSBBbmd1bGFyIHdvdWxkIGNhdXNlXG4gICAgICAgICAgLy8gdGhlIHNjb3BlIHRvIGJlIHRyYXNoZWQgYW5kIHdlIGRvIG5lZWQgdGhlIHZlcnkgc2FtZSBzY29wZSB0byB3b3JrIHdpdGggdGhlIG5ld1xuICAgICAgICAgIC8vIGVsZW1lbnQuIEhvd2V2ZXIsIHdlIGNhbm5vdCBqdXN0IGNhY2hlIHRoZSBub24tcGF0Y2hlZCB2ZXJzaW9uIGFuZCB1c2UgaXQgaGVyZSBhc1xuICAgICAgICAgIC8vIHRoYXQgd291bGQgYnJlYWsgaWYgYW5vdGhlciBsaWJyYXJ5IHBhdGNoZXMgdGhlIG1ldGhvZCBhZnRlciBBbmd1bGFyIGRvZXMgKG9uZVxuICAgICAgICAgIC8vIGV4YW1wbGUgaXMgalF1ZXJ5IFVJKS4gSW5zdGVhZCwgc2V0IGEgZmxhZyBpbmRpY2F0aW5nIHNjb3BlIGRlc3Ryb3lpbmcgc2hvdWxkIGJlXG4gICAgICAgICAgLy8gc2tpcHBlZCB0aGlzIG9uZSB0aW1lLlxuICAgICAgICAgIHNraXBEZXN0cm95T25OZXh0SlF1ZXJ5Q2xlYW5EYXRhID0gdHJ1ZTtcbiAgICAgICAgICBqUXVlcnkuY2xlYW5EYXRhKFtmaXJzdEVsZW1lbnRUb1JlbW92ZV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGsgPSAxLCBrayA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzVG9SZW1vdmVba107XG4gICAgICAgIGpxTGl0ZShlbGVtZW50KS5yZW1vdmUoKTsgLy8gbXVzdCBkbyB0aGlzIHdheSB0byBjbGVhbiB1cCBleHBhbmRvXG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICBkZWxldGUgZWxlbWVudHNUb1JlbW92ZVtrXTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudHNUb1JlbW92ZVswXSA9IG5ld05vZGU7XG4gICAgICBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCA9IDE7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjbG9uZUFuZEFubm90YXRlRm4oZm4sIGFubm90YXRpb24pIHtcbiAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oKSB7IHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9LCBmbiwgYW5ub3RhdGlvbik7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBpbnZva2VMaW5rRm4obGlua0ZuLCBzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaW5rRm4oc2NvcGUsICRlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBTZXQgdXAgJHdhdGNoZXMgZm9yIGlzb2xhdGUgc2NvcGUgYW5kIGNvbnRyb2xsZXIgYmluZGluZ3MuIFRoaXMgcHJvY2Vzc1xuICAgIC8vIG9ubHkgb2NjdXJzIGZvciBpc29sYXRlIHNjb3BlcyBhbmQgbmV3IHNjb3BlcyB3aXRoIGNvbnRyb2xsZXJBcy5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3Moc2NvcGUsIGF0dHJzLCBkZXN0aW5hdGlvbiwgYmluZGluZ3MsIGRpcmVjdGl2ZSkge1xuICAgICAgdmFyIHJlbW92ZVdhdGNoQ29sbGVjdGlvbiA9IFtdO1xuICAgICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24oZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XG4gICAgICAgIHZhciBhdHRyTmFtZSA9IGRlZmluaXRpb24uYXR0ck5hbWUsXG4gICAgICAgIG9wdGlvbmFsID0gZGVmaW5pdGlvbi5vcHRpb25hbCxcbiAgICAgICAgbW9kZSA9IGRlZmluaXRpb24ubW9kZSwgLy8gQCwgPSwgb3IgJlxuICAgICAgICBsYXN0VmFsdWUsXG4gICAgICAgIHBhcmVudEdldCwgcGFyZW50U2V0LCBjb21wYXJlO1xuXG4gICAgICAgIHN3aXRjaCAobW9kZSkge1xuXG4gICAgICAgICAgY2FzZSAnQCc6XG4gICAgICAgICAgICBpZiAoIW9wdGlvbmFsICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IGF0dHJzW2F0dHJOYW1lXSA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKGF0dHJOYW1lLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF0dHJzLiQkb2JzZXJ2ZXJzW2F0dHJOYW1lXS4kJHNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXR0cnNbYXR0ck5hbWVdKSkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBiZWVuIHByb3ZpZGVkIHRoZW4gd2UgdHJpZ2dlciBhbiBpbnRlcnBvbGF0aW9uIHRvIGVuc3VyZVxuICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgaXMgdGhlcmUgZm9yIHVzZSBpbiB0aGUgbGluayBmblxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gJGludGVycG9sYXRlKGF0dHJzW2F0dHJOYW1lXSkoc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICc9JzpcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25hbCkgYnJlYWs7XG4gICAgICAgICAgICAgIGF0dHJzW2F0dHJOYW1lXSA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25hbCAmJiAhYXR0cnNbYXR0ck5hbWVdKSBicmVhaztcblxuICAgICAgICAgICAgcGFyZW50R2V0ID0gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSk7XG4gICAgICAgICAgICBpZiAocGFyZW50R2V0LmxpdGVyYWwpIHtcbiAgICAgICAgICAgICAgY29tcGFyZSA9IGVxdWFscztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbXBhcmUgPSBmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhID09PSBiIHx8IChhICE9PSBhICYmIGIgIT09IGIpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50U2V0ID0gcGFyZW50R2V0LmFzc2lnbiB8fCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIGNoYW5nZSwgb3Igd2Ugd2lsbCB0aHJvdyB0aGlzIGV4Y2VwdGlvbiBvbiBldmVyeSAkZGlnZXN0XG4gICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9uYXNzaWduJyxcbiAgICAgICAgICAgICAgICAgIFwiRXhwcmVzc2lvbiAnezB9JyB1c2VkIHdpdGggZGlyZWN0aXZlICd7MX0nIGlzIG5vbi1hc3NpZ25hYmxlIVwiLFxuICAgICAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdLCBkaXJlY3RpdmUubmFtZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHBhcmVudEdldChzY29wZSk7XG4gICAgICAgICAgICB2YXIgcGFyZW50VmFsdWVXYXRjaCA9IGZ1bmN0aW9uIHBhcmVudFZhbHVlV2F0Y2gocGFyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKCFjb21wYXJlKHBhcmVudFZhbHVlLCBkZXN0aW5hdGlvbltzY29wZU5hbWVdKSkge1xuICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBvdXQgb2Ygc3luYyBhbmQgbmVlZCB0byBjb3B5XG4gICAgICAgICAgICAgICAgaWYgKCFjb21wYXJlKHBhcmVudFZhbHVlLCBsYXN0VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBwYXJlbnQgY2hhbmdlZCBhbmQgaXQgaGFzIHByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHBhcmVudCBjYW4gYmUgYXNzaWduZWQgdGhlbiBkbyBzb1xuICAgICAgICAgICAgICAgICAgcGFyZW50U2V0KHNjb3BlLCBwYXJlbnRWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlID0gcGFyZW50VmFsdWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGFyZW50VmFsdWVXYXRjaC4kc3RhdGVmdWwgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHJlbW92ZVdhdGNoO1xuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uY29sbGVjdGlvbikge1xuICAgICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlbW92ZVdhdGNoID0gc2NvcGUuJHdhdGNoKCRwYXJzZShhdHRyc1thdHRyTmFtZV0sIHBhcmVudFZhbHVlV2F0Y2gpLCBudWxsLCBwYXJlbnRHZXQubGl0ZXJhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb24ucHVzaChyZW1vdmVXYXRjaCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJyYnOlxuICAgICAgICAgICAgLy8gRG9uJ3QgYXNzaWduIE9iamVjdC5wcm90b3R5cGUgbWV0aG9kIHRvIHNjb3BlXG4gICAgICAgICAgICBwYXJlbnRHZXQgPSBhdHRycy5oYXNPd25Qcm9wZXJ0eShhdHRyTmFtZSkgPyAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKSA6IG5vb3A7XG5cbiAgICAgICAgICAgIC8vIERvbid0IGFzc2lnbiBub29wIHRvIGRlc3RpbmF0aW9uIGlmIGV4cHJlc3Npb24gaXMgbm90IHZhbGlkXG4gICAgICAgICAgICBpZiAocGFyZW50R2V0ID09PSBub29wICYmIG9wdGlvbmFsKSBicmVhaztcblxuICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IGZ1bmN0aW9uKGxvY2Fscykge1xuICAgICAgICAgICAgICByZXR1cm4gcGFyZW50R2V0KHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJlbW92ZVdhdGNoQ29sbGVjdGlvbi5sZW5ndGggJiYgZnVuY3Rpb24gcmVtb3ZlV2F0Y2hlcygpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb25baV0oKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1dO1xufVxuXG52YXIgUFJFRklYX1JFR0VYUCA9IC9eKCg/Onh8ZGF0YSlbXFw6XFwtX10pL2k7XG4vKipcbiAqIENvbnZlcnRzIGFsbCBhY2NlcHRlZCBkaXJlY3RpdmVzIGZvcm1hdCBpbnRvIHByb3BlciBkaXJlY3RpdmUgbmFtZS5cbiAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXG4gKi9cbmZ1bmN0aW9uIGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKSB7XG4gIHJldHVybiBjYW1lbENhc2UobmFtZS5yZXBsYWNlKFBSRUZJWF9SRUdFWFAsICcnKSk7XG59XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIHNoYXJlZCBvYmplY3QgYmV0d2VlbiBkaXJlY3RpdmUgY29tcGlsZSAvIGxpbmtpbmcgZnVuY3Rpb25zIHdoaWNoIGNvbnRhaW5zIG5vcm1hbGl6ZWQgRE9NXG4gKiBlbGVtZW50IGF0dHJpYnV0ZXMuIFRoZSB2YWx1ZXMgcmVmbGVjdCBjdXJyZW50IGJpbmRpbmcgc3RhdGUgYHt7IH19YC4gVGhlIG5vcm1hbGl6YXRpb24gaXNcbiAqIG5lZWRlZCBzaW5jZSBhbGwgb2YgdGhlc2UgYXJlIHRyZWF0ZWQgYXMgZXF1aXZhbGVudCBpbiBBbmd1bGFyOlxuICpcbiAqIGBgYFxuICogICAgPHNwYW4gbmc6YmluZD1cImFcIiBuZy1iaW5kPVwiYVwiIGRhdGEtbmctYmluZD1cImFcIiB4LW5nLWJpbmQ9XCJhXCI+XG4gKiBgYGBcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBwcm9wZXJ0eVxuICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGF0dHJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgbWFwIG9mIERPTSBlbGVtZW50IGF0dHJpYnV0ZSBuYW1lcyB0byB0aGUgbm9ybWFsaXplZCBuYW1lLiBUaGlzIGlzXG4gKiBuZWVkZWQgdG8gZG8gcmV2ZXJzZSBsb29rdXAgZnJvbSBub3JtYWxpemVkIG5hbWUgYmFjayB0byBhY3R1YWwgbmFtZS5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHNldFxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNldCBET00gZWxlbWVudCBhdHRyaWJ1dGUgdmFsdWUuXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5vcm1hbGl6ZWQgZWxlbWVudCBhdHRyaWJ1dGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gbW9kaWZ5LiBUaGUgbmFtZSBpc1xuICogICAgICAgICAgcmV2ZXJzZS10cmFuc2xhdGVkIHVzaW5nIHRoZSB7QGxpbmsgbmcuJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGF0dHIgJGF0dHJ9XG4gKiAgICAgICAgICBwcm9wZXJ0eSB0byB0aGUgb3JpZ2luYWwgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byBzZXQgdGhlIGF0dHJpYnV0ZSB0by4gVGhlIHZhbHVlIGNhbiBiZSBhbiBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICovXG5cblxuXG4vKipcbiAqIENsb3N1cmUgY29tcGlsZXIgdHlwZSBpbmZvcm1hdGlvblxuICovXG5cbmZ1bmN0aW9uIG5vZGVzZXRMaW5raW5nRm4oXG4gIC8qIGFuZ3VsYXIuU2NvcGUgKi8gc2NvcGUsXG4gIC8qIE5vZGVMaXN0ICovIG5vZGVMaXN0LFxuICAvKiBFbGVtZW50ICovIHJvb3RFbGVtZW50LFxuICAvKiBmdW5jdGlvbihGdW5jdGlvbikgKi8gYm91bmRUcmFuc2NsdWRlRm5cbikge31cblxuZnVuY3Rpb24gZGlyZWN0aXZlTGlua2luZ0ZuKFxuICAvKiBub2Rlc2V0TGlua2luZ0ZuICovIG5vZGVzZXRMaW5raW5nRm4sXG4gIC8qIGFuZ3VsYXIuU2NvcGUgKi8gc2NvcGUsXG4gIC8qIE5vZGUgKi8gbm9kZSxcbiAgLyogRWxlbWVudCAqLyByb290RWxlbWVudCxcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuXG4pIHt9XG5cbmZ1bmN0aW9uIHRva2VuRGlmZmVyZW5jZShzdHIxLCBzdHIyKSB7XG4gIHZhciB2YWx1ZXMgPSAnJyxcbiAgICAgIHRva2VuczEgPSBzdHIxLnNwbGl0KC9cXHMrLyksXG4gICAgICB0b2tlbnMyID0gc3RyMi5zcGxpdCgvXFxzKy8pO1xuXG4gIG91dGVyOlxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2VuczEubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMxW2ldO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdG9rZW5zMi5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKHRva2VuID09IHRva2VuczJbal0pIGNvbnRpbnVlIG91dGVyO1xuICAgIH1cbiAgICB2YWx1ZXMgKz0gKHZhbHVlcy5sZW5ndGggPiAwID8gJyAnIDogJycpICsgdG9rZW47XG4gIH1cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ29tbWVudHMoanFOb2Rlcykge1xuICBqcU5vZGVzID0ganFMaXRlKGpxTm9kZXMpO1xuICB2YXIgaSA9IGpxTm9kZXMubGVuZ3RoO1xuXG4gIGlmIChpIDw9IDEpIHtcbiAgICByZXR1cm4ganFOb2RlcztcbiAgfVxuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB2YXIgbm9kZSA9IGpxTm9kZXNbaV07XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSB7XG4gICAgICBzcGxpY2UuY2FsbChqcU5vZGVzLCBpLCAxKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGpxTm9kZXM7XG59XG5cbnZhciAkY29udHJvbGxlck1pbkVyciA9IG1pbkVycignJGNvbnRyb2xsZXInKTtcblxuXG52YXIgQ05UUkxfUkVHID0gL14oXFxTKykoXFxzK2FzXFxzKyhcXHcrKSk/JC87XG5mdW5jdGlvbiBpZGVudGlmaWVyRm9yQ29udHJvbGxlcihjb250cm9sbGVyLCBpZGVudCkge1xuICBpZiAoaWRlbnQgJiYgaXNTdHJpbmcoaWRlbnQpKSByZXR1cm4gaWRlbnQ7XG4gIGlmIChpc1N0cmluZyhjb250cm9sbGVyKSkge1xuICAgIHZhciBtYXRjaCA9IENOVFJMX1JFRy5leGVjKGNvbnRyb2xsZXIpO1xuICAgIGlmIChtYXRjaCkgcmV0dXJuIG1hdGNoWzNdO1xuICB9XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIHtAbGluayBuZy4kY29udHJvbGxlciAkY29udHJvbGxlciBzZXJ2aWNlfSBpcyB1c2VkIGJ5IEFuZ3VsYXIgdG8gY3JlYXRlIG5ld1xuICogY29udHJvbGxlcnMuXG4gKlxuICogVGhpcyBwcm92aWRlciBhbGxvd3MgY29udHJvbGxlciByZWdpc3RyYXRpb24gdmlhIHRoZVxuICoge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXIgcmVnaXN0ZXJ9IG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gJENvbnRyb2xsZXJQcm92aWRlcigpIHtcbiAgdmFyIGNvbnRyb2xsZXJzID0ge30sXG4gICAgICBnbG9iYWxzID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlclxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgQ29udHJvbGxlciBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGNvbnRyb2xsZXJzIHdoZXJlIHRoZSBrZXlzIGFyZVxuICAgKiAgICB0aGUgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBjb25zdHJ1Y3RvcnMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXl9IGNvbnN0cnVjdG9yIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZm4gKG9wdGlvbmFsbHkgZGVjb3JhdGVkIHdpdGggRElcbiAgICogICAgYW5ub3RhdGlvbnMgaW4gdGhlIGFycmF5IG5vdGF0aW9uKS5cbiAgICovXG4gIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbihuYW1lLCBjb25zdHJ1Y3Rvcikge1xuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdjb250cm9sbGVyJyk7XG4gICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICBleHRlbmQoY29udHJvbGxlcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250cm9sbGVyc1tuYW1lXSA9IGNvbnN0cnVjdG9yO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFsc1xuICAgKiBAZGVzY3JpcHRpb24gSWYgY2FsbGVkLCBhbGxvd3MgYCRjb250cm9sbGVyYCB0byBmaW5kIGNvbnRyb2xsZXIgY29uc3RydWN0b3JzIG9uIGB3aW5kb3dgXG4gICAqL1xuICB0aGlzLmFsbG93R2xvYmFscyA9IGZ1bmN0aW9uKCkge1xuICAgIGdsb2JhbHMgPSB0cnVlO1xuICB9O1xuXG5cbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRpbmplY3RvciwgJHdpbmRvdykge1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSAkY29udHJvbGxlclxuICAgICAqIEByZXF1aXJlcyAkaW5qZWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBjb25zdHJ1Y3RvciBJZiBjYWxsZWQgd2l0aCBhIGZ1bmN0aW9uIHRoZW4gaXQncyBjb25zaWRlcmVkIHRvIGJlIHRoZVxuICAgICAqICAgIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIE90aGVyd2lzZSBpdCdzIGNvbnNpZGVyZWQgdG8gYmUgYSBzdHJpbmcgd2hpY2ggaXMgdXNlZFxuICAgICAqICAgIHRvIHJldHJpZXZlIHRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yIHVzaW5nIHRoZSBmb2xsb3dpbmcgc3RlcHM6XG4gICAgICpcbiAgICAgKiAgICAqIGNoZWNrIGlmIGEgY29udHJvbGxlciB3aXRoIGdpdmVuIG5hbWUgaXMgcmVnaXN0ZXJlZCB2aWEgYCRjb250cm9sbGVyUHJvdmlkZXJgXG4gICAgICogICAgKiBjaGVjayBpZiBldmFsdWF0aW5nIHRoZSBzdHJpbmcgb24gdGhlIGN1cnJlbnQgc2NvcGUgcmV0dXJucyBhIGNvbnN0cnVjdG9yXG4gICAgICogICAgKiBpZiAkY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFscywgY2hlY2sgYHdpbmRvd1tjb25zdHJ1Y3Rvcl1gIG9uIHRoZSBnbG9iYWxcbiAgICAgKiAgICAgIGB3aW5kb3dgIG9iamVjdCAobm90IHJlY29tbWVuZGVkKVxuICAgICAqXG4gICAgICogICAgVGhlIHN0cmluZyBjYW4gdXNlIHRoZSBgY29udHJvbGxlciBhcyBwcm9wZXJ0eWAgc3ludGF4LCB3aGVyZSB0aGUgY29udHJvbGxlciBpbnN0YW5jZSBpcyBwdWJsaXNoZWRcbiAgICAgKiAgICBhcyB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IG9uIHRoZSBgc2NvcGVgOyB0aGUgYHNjb3BlYCBtdXN0IGJlIGluamVjdGVkIGludG8gYGxvY2Fsc2AgcGFyYW0gZm9yIHRoaXNcbiAgICAgKiAgICB0byB3b3JrIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhbHMgSW5qZWN0aW9uIGxvY2FscyBmb3IgQ29udHJvbGxlci5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEluc3RhbmNlIG9mIGdpdmVuIGNvbnRyb2xsZXIuXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBgJGNvbnRyb2xsZXJgIHNlcnZpY2UgaXMgcmVzcG9uc2libGUgZm9yIGluc3RhbnRpYXRpbmcgY29udHJvbGxlcnMuXG4gICAgICpcbiAgICAgKiBJdCdzIGp1c3QgYSBzaW1wbGUgY2FsbCB0byB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSwgYnV0IGV4dHJhY3RlZCBpbnRvXG4gICAgICogYSBzZXJ2aWNlLCBzbyB0aGF0IG9uZSBjYW4gb3ZlcnJpZGUgdGhpcyBzZXJ2aWNlIHdpdGggW0JDIHZlcnNpb25dKGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE2NDk3ODgpLlxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbihleHByZXNzaW9uLCBsb2NhbHMsIGxhdGVyLCBpZGVudCkge1xuICAgICAgLy8gUFJJVkFURSBBUEk6XG4gICAgICAvLyAgIHBhcmFtIGBsYXRlcmAgLS0tIGluZGljYXRlcyB0aGF0IHRoZSBjb250cm9sbGVyJ3MgY29uc3RydWN0b3IgaXMgaW52b2tlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIElmIHRydWUsICRjb250cm9sbGVyIHdpbGwgYWxsb2NhdGUgdGhlIG9iamVjdCB3aXRoIHRoZSBjb3JyZWN0XG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHByb3RvdHlwZSBjaGFpbiwgYnV0IHdpbGwgbm90IGludm9rZSB0aGUgY29udHJvbGxlciB1bnRpbCBhIHJldHVybmVkXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIGlzIGludm9rZWQuXG4gICAgICAvLyAgIHBhcmFtIGBpZGVudGAgLS0tIEFuIG9wdGlvbmFsIGxhYmVsIHdoaWNoIG92ZXJyaWRlcyB0aGUgbGFiZWwgcGFyc2VkIGZyb20gdGhlIGNvbnRyb2xsZXJcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiwgaWYgYW55LlxuICAgICAgdmFyIGluc3RhbmNlLCBtYXRjaCwgY29uc3RydWN0b3IsIGlkZW50aWZpZXI7XG4gICAgICBsYXRlciA9IGxhdGVyID09PSB0cnVlO1xuICAgICAgaWYgKGlkZW50ICYmIGlzU3RyaW5nKGlkZW50KSkge1xuICAgICAgICBpZGVudGlmaWVyID0gaWRlbnQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0cmluZyhleHByZXNzaW9uKSkge1xuICAgICAgICBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goQ05UUkxfUkVHKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgIHRocm93ICRjb250cm9sbGVyTWluRXJyKCdjdHJsZm10JyxcbiAgICAgICAgICAgIFwiQmFkbHkgZm9ybWVkIGNvbnRyb2xsZXIgc3RyaW5nICd7MH0nLiBcIiArXG4gICAgICAgICAgICBcIk11c3QgbWF0Y2ggYF9fbmFtZV9fIGFzIF9faWRfX2Agb3IgYF9fbmFtZV9fYC5cIiwgZXhwcmVzc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3RydWN0b3IgPSBtYXRjaFsxXSxcbiAgICAgICAgaWRlbnRpZmllciA9IGlkZW50aWZpZXIgfHwgbWF0Y2hbM107XG4gICAgICAgIGV4cHJlc3Npb24gPSBjb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShjb25zdHJ1Y3RvcilcbiAgICAgICAgICAgID8gY29udHJvbGxlcnNbY29uc3RydWN0b3JdXG4gICAgICAgICAgICA6IGdldHRlcihsb2NhbHMuJHNjb3BlLCBjb25zdHJ1Y3RvciwgdHJ1ZSkgfHxcbiAgICAgICAgICAgICAgICAoZ2xvYmFscyA/IGdldHRlcigkd2luZG93LCBjb25zdHJ1Y3RvciwgdHJ1ZSkgOiB1bmRlZmluZWQpO1xuXG4gICAgICAgIGFzc2VydEFyZ0ZuKGV4cHJlc3Npb24sIGNvbnN0cnVjdG9yLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxhdGVyKSB7XG4gICAgICAgIC8vIEluc3RhbnRpYXRlIGNvbnRyb2xsZXIgbGF0ZXI6XG4gICAgICAgIC8vIFRoaXMgbWFjaGluZXJ5IGlzIHVzZWQgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBvYmplY3QgYmVmb3JlIGNhbGxpbmcgdGhlXG4gICAgICAgIC8vIGNvbnRyb2xsZXIncyBjb25zdHJ1Y3RvciBpdHNlbGYuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIGNvbnRyb2xsZXIgYmVmb3JlIHRoZSBjb25zdHJ1Y3RvciBpc1xuICAgICAgICAvLyBpbnZva2VkLiBQcmltYXJpbHksIHRoaXMgaXMgdXNlZCBmb3IgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBpbiAkY29tcGlsZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBmZWF0dXJlIGlzIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5IGFwcGxpY2F0aW9ucywgYW5kIGlzIHRodXMgbm90IGRvY3VtZW50ZWRcbiAgICAgICAgLy8gcHVibGljbHkuXG4gICAgICAgIC8vIE9iamVjdCBjcmVhdGlvbjogaHR0cDovL2pzcGVyZi5jb20vY3JlYXRlLWNvbnN0cnVjdG9yLzJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXJQcm90b3R5cGUgPSAoaXNBcnJheShleHByZXNzaW9uKSA/XG4gICAgICAgICAgZXhwcmVzc2lvbltleHByZXNzaW9uLmxlbmd0aCAtIDFdIDogZXhwcmVzc2lvbikucHJvdG90eXBlO1xuICAgICAgICBpbnN0YW5jZSA9IE9iamVjdC5jcmVhdGUoY29udHJvbGxlclByb3RvdHlwZSB8fCBudWxsKTtcblxuICAgICAgICBpZiAoaWRlbnRpZmllcikge1xuICAgICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbnN0YW50aWF0ZTtcbiAgICAgICAgcmV0dXJuIGluc3RhbnRpYXRlID0gZXh0ZW5kKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSAkaW5qZWN0b3IuaW52b2tlKGV4cHJlc3Npb24sIGluc3RhbmNlLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICBpZiAocmVzdWx0ICE9PSBpbnN0YW5jZSAmJiAoaXNPYmplY3QocmVzdWx0KSB8fCBpc0Z1bmN0aW9uKHJlc3VsdCkpKSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIGlmIChpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgIC8vIElmIHJlc3VsdCBjaGFuZ2VkLCByZS1hc3NpZ24gY29udHJvbGxlckFzIHZhbHVlIHRvIHNjb3BlLlxuICAgICAgICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgfSwge1xuICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSxcbiAgICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpbnN0YW5jZSA9ICRpbmplY3Rvci5pbnN0YW50aWF0ZShleHByZXNzaW9uLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcblxuICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBjb25zdHJ1Y3RvciB8fCBleHByZXNzaW9uLm5hbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgbmFtZSkge1xuICAgICAgaWYgKCEobG9jYWxzICYmIGlzT2JqZWN0KGxvY2Fscy4kc2NvcGUpKSkge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJyRjb250cm9sbGVyJykoJ25vc2NwJyxcbiAgICAgICAgICBcIkNhbm5vdCBleHBvcnQgY29udHJvbGxlciAnezB9JyBhcyAnezF9JyEgTm8gJHNjb3BlIG9iamVjdCBwcm92aWRlZCB2aWEgYGxvY2Fsc2AuXCIsXG4gICAgICAgICAgbmFtZSwgaWRlbnRpZmllcik7XG4gICAgICB9XG5cbiAgICAgIGxvY2Fscy4kc2NvcGVbaWRlbnRpZmllcl0gPSBpbnN0YW5jZTtcbiAgICB9XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkZG9jdW1lbnRcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIHtAbGluayBhbmd1bGFyLmVsZW1lbnQgalF1ZXJ5IG9yIGpxTGl0ZX0gd3JhcHBlciBmb3IgdGhlIGJyb3dzZXIncyBgd2luZG93LmRvY3VtZW50YCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImRvY3VtZW50RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8cD4kZG9jdW1lbnQgdGl0bGU6IDxiIG5nLWJpbmQ9XCJ0aXRsZVwiPjwvYj48L3A+XG4gICAgICAgICA8cD53aW5kb3cuZG9jdW1lbnQgdGl0bGU6IDxiIG5nLWJpbmQ9XCJ3aW5kb3dUaXRsZVwiPjwvYj48L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdkb2N1bWVudEV4YW1wbGUnLCBbXSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRzY29wZSwgJGRvY3VtZW50KSB7XG4gICAgICAgICAgICRzY29wZS50aXRsZSA9ICRkb2N1bWVudFswXS50aXRsZTtcbiAgICAgICAgICAgJHNjb3BlLndpbmRvd1RpdGxlID0gYW5ndWxhci5lbGVtZW50KHdpbmRvdy5kb2N1bWVudClbMF0udGl0bGU7XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJERvY3VtZW50UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsIGZ1bmN0aW9uKHdpbmRvdykge1xuICAgIHJldHVybiBqcUxpdGUod2luZG93LmRvY3VtZW50KTtcbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRleGNlcHRpb25IYW5kbGVyXG4gKiBAcmVxdWlyZXMgbmcuJGxvZ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQW55IHVuY2F1Z2h0IGV4Y2VwdGlvbiBpbiBhbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRlbGVnYXRlZCB0byB0aGlzIHNlcnZpY2UuXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBzaW1wbHkgZGVsZWdhdGVzIHRvIGAkbG9nLmVycm9yYCB3aGljaCBsb2dzIGl0IGludG9cbiAqIHRoZSBicm93c2VyIGNvbnNvbGUuXG4gKlxuICogSW4gdW5pdCB0ZXN0cywgaWYgYGFuZ3VsYXItbW9ja3MuanNgIGlzIGxvYWRlZCwgdGhpcyBzZXJ2aWNlIGlzIG92ZXJyaWRkZW4gYnlcbiAqIHtAbGluayBuZ01vY2suJGV4Y2VwdGlvbkhhbmRsZXIgbW9jayAkZXhjZXB0aW9uSGFuZGxlcn0gd2hpY2ggYWlkcyBpbiB0ZXN0aW5nLlxuICpcbiAqICMjIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqICAgYW5ndWxhci5tb2R1bGUoJ2V4Y2VwdGlvbk92ZXJyaWRlJywgW10pLmZhY3RvcnkoJyRleGNlcHRpb25IYW5kbGVyJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHtcbiAqICAgICAgIGV4Y2VwdGlvbi5tZXNzYWdlICs9ICcgKGNhdXNlZCBieSBcIicgKyBjYXVzZSArICdcIiknO1xuICogICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogVGhpcyBleGFtcGxlIHdpbGwgb3ZlcnJpZGUgdGhlIG5vcm1hbCBhY3Rpb24gb2YgYCRleGNlcHRpb25IYW5kbGVyYCwgdG8gbWFrZSBhbmd1bGFyXG4gKiBleGNlcHRpb25zIGZhaWwgaGFyZCB3aGVuIHRoZXkgaGFwcGVuLCBpbnN0ZWFkIG9mIGp1c3QgbG9nZ2luZyB0byB0aGUgY29uc29sZS5cbiAqXG4gKiA8aHIgLz5cbiAqIE5vdGUsIHRoYXQgY29kZSBleGVjdXRlZCBpbiBldmVudC1saXN0ZW5lcnMgKGV2ZW4gdGhvc2UgcmVnaXN0ZXJlZCB1c2luZyBqcUxpdGUncyBgb25gL2BiaW5kYFxuICogbWV0aG9kcykgZG9lcyBub3QgZGVsZWdhdGUgZXhjZXB0aW9ucyB0byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfVxuICogKHVubGVzcyBleGVjdXRlZCBkdXJpbmcgYSBkaWdlc3QpLlxuICpcbiAqIElmIHlvdSB3aXNoLCB5b3UgY2FuIG1hbnVhbGx5IGRlbGVnYXRlIGV4Y2VwdGlvbnMsIGUuZy5cbiAqIGB0cnkgeyAuLi4gfSBjYXRjaChlKSB7ICRleGNlcHRpb25IYW5kbGVyKGUpOyB9YFxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGV4Y2VwdGlvbiBFeGNlcHRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBlcnJvci5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gY2F1c2Ugb3B0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvbnRleHQgaW4gd2hpY2hcbiAqICAgICAgIHRoZSBlcnJvciB3YXMgdGhyb3duLlxuICpcbiAqL1xuZnVuY3Rpb24gJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckbG9nJywgZnVuY3Rpb24oJGxvZykge1xuICAgIHJldHVybiBmdW5jdGlvbihleGNlcHRpb24sIGNhdXNlKSB7XG4gICAgICAkbG9nLmVycm9yLmFwcGx5KCRsb2csIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfV07XG59XG5cbnZhciAkJEZvcmNlUmVmbG93UHJvdmlkZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckZG9jdW1lbnQnLCBmdW5jdGlvbigkZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZG9tTm9kZSkge1xuICAgICAgLy90aGUgbGluZSBiZWxvdyB3aWxsIGZvcmNlIHRoZSBicm93c2VyIHRvIHBlcmZvcm0gYSByZXBhaW50IHNvXG4gICAgICAvL3RoYXQgYWxsIHRoZSBhbmltYXRlZCBlbGVtZW50cyB3aXRoaW4gdGhlIGFuaW1hdGlvbiBmcmFtZSB3aWxsXG4gICAgICAvL2JlIHByb3Blcmx5IHVwZGF0ZWQgYW5kIGRyYXduIG9uIHNjcmVlbi4gVGhpcyBpcyByZXF1aXJlZCB0b1xuICAgICAgLy9lbnN1cmUgdGhhdCB0aGUgcHJlcGFyYXRpb24gYW5pbWF0aW9uIGlzIHByb3Blcmx5IGZsdXNoZWQgc28gdGhhdFxuICAgICAgLy90aGUgYWN0aXZlIHN0YXRlIHBpY2tzIHVwIGZyb20gdGhlcmUuIERPIE5PVCBSRU1PVkUgVEhJUyBMSU5FLlxuICAgICAgLy9ETyBOT1QgT1BUSU1JWkUgVEhJUyBMSU5FLiBUSEUgTUlOSUZJRVIgV0lMTCBSRU1PVkUgSVQgT1RIRVJXSVNFIFdISUNIXG4gICAgICAvL1dJTEwgUkVTVUxUIElOIEFOIFVOUFJFRElDVEFCTEUgQlVHIFRIQVQgSVMgVkVSWSBIQVJEIFRPIFRSQUNLIERPV04gQU5EXG4gICAgICAvL1dJTEwgVEFLRSBZRUFSUyBBV0FZIEZST00gWU9VUiBMSUZFLlxuICAgICAgaWYgKGRvbU5vZGUpIHtcbiAgICAgICAgaWYgKCFkb21Ob2RlLm5vZGVUeXBlICYmIGRvbU5vZGUgaW5zdGFuY2VvZiBqcUxpdGUpIHtcbiAgICAgICAgICBkb21Ob2RlID0gZG9tTm9kZVswXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9tTm9kZSA9ICRkb2N1bWVudFswXS5ib2R5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvbU5vZGUub2Zmc2V0V2lkdGggKyAxO1xuICAgIH07XG4gIH1dO1xufTtcblxudmFyIEFQUExJQ0FUSU9OX0pTT04gPSAnYXBwbGljYXRpb24vanNvbic7XG52YXIgQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04gPSB7J0NvbnRlbnQtVHlwZSc6IEFQUExJQ0FUSU9OX0pTT04gKyAnO2NoYXJzZXQ9dXRmLTgnfTtcbnZhciBKU09OX1NUQVJUID0gL15cXFt8Xlxceyg/IVxceykvO1xudmFyIEpTT05fRU5EUyA9IHtcbiAgJ1snOiAvXSQvLFxuICAneyc6IC99JC9cbn07XG52YXIgSlNPTl9QUk9URUNUSU9OX1BSRUZJWCA9IC9eXFwpXFxdXFx9Jyw/XFxuLztcbnZhciAkaHR0cE1pbkVyciA9IG1pbkVycignJGh0dHAnKTtcbnZhciAkaHR0cE1pbkVyckxlZ2FjeUZuID0gZnVuY3Rpb24obWV0aG9kKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyAkaHR0cE1pbkVycignbGVnYWN5JywgJ1RoZSBtZXRob2QgYHswfWAgb24gdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbSBgJGh0dHBgIGhhcyBiZWVuIGRpc2FibGVkLicsIG1ldGhvZCk7XG4gIH07XG59O1xuXG5mdW5jdGlvbiBzZXJpYWxpemVWYWx1ZSh2KSB7XG4gIGlmIChpc09iamVjdCh2KSkge1xuICAgIHJldHVybiBpc0RhdGUodikgPyB2LnRvSVNPU3RyaW5nKCkgOiB0b0pzb24odik7XG4gIH1cbiAgcmV0dXJuIHY7XG59XG5cblxuZnVuY3Rpb24gJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlcigpIHtcbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRodHRwUGFyYW1TZXJpYWxpemVyXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZhdWx0IHtAbGluayAkaHR0cCBgJGh0dHBgfSBwYXJhbXMgc2VyaWFsaXplciB0aGF0IGNvbnZlcnRzIG9iamVjdHMgdG8gc3RyaW5nc1xuICAgKiBhY2NvcmRpbmcgdG8gdGhlIGZvbGxvd2luZyBydWxlczpcbiAgICpcbiAgICogKiBgeydmb28nOiAnYmFyJ31gIHJlc3VsdHMgaW4gYGZvbz1iYXJgXG4gICAqICogYHsnZm9vJzogRGF0ZS5ub3coKX1gIHJlc3VsdHMgaW4gYGZvbz0yMDE1LTA0LTAxVDA5JTNBNTAlM0E0OS4yNjJaYCAoYHRvSVNPU3RyaW5nKClgIGFuZCBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIGEgRGF0ZSBvYmplY3QpXG4gICAqICogYHsnZm9vJzogWydiYXInLCAnYmF6J119YCByZXN1bHRzIGluIGBmb289YmFyJmZvbz1iYXpgIChyZXBlYXRlZCBrZXkgZm9yIGVhY2ggYXJyYXkgZWxlbWVudClcbiAgICogKiBgeydmb28nOiB7J2Jhcic6J2Jheid9fWAgcmVzdWx0cyBpbiBgZm9vPSU3QiUyMmJhciUyMiUzQSUyMmJheiUyMiU3RFwiYCAoc3RyaW5naWZpZWQgYW5kIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYW4gb2JqZWN0KVxuICAgKlxuICAgKiBOb3RlIHRoYXQgc2VyaWFsaXplciB3aWxsIHNvcnQgdGhlIHJlcXVlc3QgcGFyYW1ldGVycyBhbHBoYWJldGljYWxseS5cbiAgICogKi9cblxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmdQYXJhbVNlcmlhbGl6ZXIocGFyYW1zKSB7XG4gICAgICBpZiAoIXBhcmFtcykgcmV0dXJuICcnO1xuICAgICAgdmFyIHBhcnRzID0gW107XG4gICAgICBmb3JFYWNoU29ydGVkKHBhcmFtcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSAgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh2KSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSArICc9JyArIGVuY29kZVVyaVF1ZXJ5KHNlcmlhbGl6ZVZhbHVlKHZhbHVlKSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiAkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyKCkge1xuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEFsdGVybmF0aXZlIHtAbGluayAkaHR0cCBgJGh0dHBgfSBwYXJhbXMgc2VyaWFsaXplciB0aGF0IGZvbGxvd3NcbiAgICogalF1ZXJ5J3MgW2BwYXJhbSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2pxdWVyeS5wYXJhbS8pIG1ldGhvZCBsb2dpYy5cbiAgICogVGhlIHNlcmlhbGl6ZXIgd2lsbCBhbHNvIHNvcnQgdGhlIHBhcmFtcyBhbHBoYWJldGljYWxseS5cbiAgICpcbiAgICogVG8gdXNlIGl0IGZvciBzZXJpYWxpemluZyBgJGh0dHBgIHJlcXVlc3QgcGFyYW1ldGVycywgc2V0IGl0IGFzIHRoZSBgcGFyYW1TZXJpYWxpemVyYCBwcm9wZXJ0eTpcbiAgICpcbiAgICogYGBganNcbiAgICogJGh0dHAoe1xuICAgKiAgIHVybDogbXlVcmwsXG4gICAqICAgbWV0aG9kOiAnR0VUJyxcbiAgICogICBwYXJhbXM6IG15UGFyYW1zLFxuICAgKiAgIHBhcmFtU2VyaWFsaXplcjogJyRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlJ1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gc2V0IGl0IGFzIHRoZSBkZWZhdWx0IGBwYXJhbVNlcmlhbGl6ZXJgIGluIHRoZVxuICAgKiB7QGxpbmsgJGh0dHBQcm92aWRlciNkZWZhdWx0cyBgJGh0dHBQcm92aWRlcmB9LlxuICAgKlxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gaW5qZWN0IHRoZSBzZXJpYWxpemVyIGFuZCB1c2UgaXQgZXhwbGljaXRseSwgZm9yIGV4YW1wbGUgdG8gc2VyaWFsaXplXG4gICAqIGZvcm0gZGF0YSBmb3Igc3VibWlzc2lvbjpcbiAgICpcbiAgICogYGBganNcbiAgICogLmNvbnRyb2xsZXIoZnVuY3Rpb24oJGh0dHAsICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlKSB7XG4gICAqICAgLy8uLi5cbiAgICpcbiAgICogICAkaHR0cCh7XG4gICAqICAgICB1cmw6IG15VXJsLFxuICAgKiAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAqICAgICBkYXRhOiAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZShteURhdGEpLFxuICAgKiAgICAgaGVhZGVyczoge1xuICAgKiAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbiAgICogICAgIH1cbiAgICogICB9KTtcbiAgICpcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiAqL1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24galF1ZXJ5TGlrZVBhcmFtU2VyaWFsaXplcihwYXJhbXMpIHtcbiAgICAgIGlmICghcGFyYW1zKSByZXR1cm4gJyc7XG4gICAgICB2YXIgcGFydHMgPSBbXTtcbiAgICAgIHNlcmlhbGl6ZShwYXJhbXMsICcnLCB0cnVlKTtcbiAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcmJyk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZSh0b1NlcmlhbGl6ZSwgcHJlZml4LCB0b3BMZXZlbCkge1xuICAgICAgICBpZiAodG9TZXJpYWxpemUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodG9TZXJpYWxpemUpKSByZXR1cm47XG4gICAgICAgIGlmIChpc0FycmF5KHRvU2VyaWFsaXplKSkge1xuICAgICAgICAgIGZvckVhY2godG9TZXJpYWxpemUsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgc2VyaWFsaXplKHZhbHVlLCBwcmVmaXggKyAnWycgKyAoaXNPYmplY3QodmFsdWUpID8gaW5kZXggOiAnJykgKyAnXScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHRvU2VyaWFsaXplKSAmJiAhaXNEYXRlKHRvU2VyaWFsaXplKSkge1xuICAgICAgICAgIGZvckVhY2hTb3J0ZWQodG9TZXJpYWxpemUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgcHJlZml4ICtcbiAgICAgICAgICAgICAgICAodG9wTGV2ZWwgPyAnJyA6ICdbJykgK1xuICAgICAgICAgICAgICAgIGtleSArXG4gICAgICAgICAgICAgICAgKHRvcExldmVsID8gJycgOiAnXScpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KHByZWZpeCkgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh0b1NlcmlhbGl6ZSkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0oZGF0YSwgaGVhZGVycykge1xuICBpZiAoaXNTdHJpbmcoZGF0YSkpIHtcbiAgICAvLyBTdHJpcCBqc29uIHZ1bG5lcmFiaWxpdHkgcHJvdGVjdGlvbiBwcmVmaXggYW5kIHRyaW0gd2hpdGVzcGFjZVxuICAgIHZhciB0ZW1wRGF0YSA9IGRhdGEucmVwbGFjZShKU09OX1BST1RFQ1RJT05fUFJFRklYLCAnJykudHJpbSgpO1xuXG4gICAgaWYgKHRlbXBEYXRhKSB7XG4gICAgICB2YXIgY29udGVudFR5cGUgPSBoZWFkZXJzKCdDb250ZW50LVR5cGUnKTtcbiAgICAgIGlmICgoY29udGVudFR5cGUgJiYgKGNvbnRlbnRUeXBlLmluZGV4T2YoQVBQTElDQVRJT05fSlNPTikgPT09IDApKSB8fCBpc0pzb25MaWtlKHRlbXBEYXRhKSkge1xuICAgICAgICBkYXRhID0gZnJvbUpzb24odGVtcERhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBpc0pzb25MaWtlKHN0cikge1xuICAgIHZhciBqc29uU3RhcnQgPSBzdHIubWF0Y2goSlNPTl9TVEFSVCk7XG4gICAgcmV0dXJuIGpzb25TdGFydCAmJiBKU09OX0VORFNbanNvblN0YXJ0WzBdXS50ZXN0KHN0cik7XG59XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGtleSB2YWx1ZSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaGVhZGVycyBSYXcgaGVhZGVycyBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge09iamVjdH0gUGFyc2VkIGhlYWRlcnMgYXMga2V5IHZhbHVlIG9iamVjdFxuICovXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0gY3JlYXRlTWFwKCksIGk7XG5cbiAgZnVuY3Rpb24gZmlsbEluUGFyc2VkKGtleSwgdmFsKSB7XG4gICAgaWYgKGtleSkge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNTdHJpbmcoaGVhZGVycykpIHtcbiAgICBmb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgICBmaWxsSW5QYXJzZWQobG93ZXJjYXNlKHRyaW0obGluZS5zdWJzdHIoMCwgaSkpKSwgdHJpbShsaW5lLnN1YnN0cihpICsgMSkpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc09iamVjdChoZWFkZXJzKSkge1xuICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24oaGVhZGVyVmFsLCBoZWFkZXJLZXkpIHtcbiAgICAgIGZpbGxJblBhcnNlZChsb3dlcmNhc2UoaGVhZGVyS2V5KSwgdHJpbShoZWFkZXJWYWwpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZWQ7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gcGFyc2VkIGhlYWRlcnMuXG4gKlxuICogSGVhZGVycyBhcmUgbGF6eSBwYXJzZWQgd2hlbiBmaXJzdCByZXF1ZXN0ZWQuXG4gKiBAc2VlIHBhcnNlSGVhZGVyc1xuICpcbiAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpfSBoZWFkZXJzIEhlYWRlcnMgdG8gcHJvdmlkZSBhY2Nlc3MgdG8uXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nPSl9IFJldHVybnMgYSBnZXR0ZXIgZnVuY3Rpb24gd2hpY2ggaWYgY2FsbGVkIHdpdGg6XG4gKlxuICogICAtIGlmIGNhbGxlZCB3aXRoIHNpbmdsZSBhbiBhcmd1bWVudCByZXR1cm5zIGEgc2luZ2xlIGhlYWRlciB2YWx1ZSBvciBudWxsXG4gKiAgIC0gaWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIGhlYWRlcnMuXG4gKi9cbmZ1bmN0aW9uIGhlYWRlcnNHZXR0ZXIoaGVhZGVycykge1xuICB2YXIgaGVhZGVyc09iajtcblxuICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuICAgIGlmICghaGVhZGVyc09iaikgaGVhZGVyc09iaiA9ICBwYXJzZUhlYWRlcnMoaGVhZGVycyk7XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgdmFyIHZhbHVlID0gaGVhZGVyc09ialtsb3dlcmNhc2UobmFtZSldO1xuICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBoZWFkZXJzT2JqO1xuICB9O1xufVxuXG5cbi8qKlxuICogQ2hhaW4gYWxsIGdpdmVuIGZ1bmN0aW9uc1xuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgYm90aCByZXF1ZXN0IGFuZCByZXNwb25zZSB0cmFuc2Zvcm1pbmdcbiAqXG4gKiBAcGFyYW0geyp9IGRhdGEgRGF0YSB0byB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZz0pfSBoZWFkZXJzIEhUVFAgaGVhZGVycyBnZXR0ZXIgZm4uXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxuICogQHBhcmFtIHsoRnVuY3Rpb258QXJyYXkuPEZ1bmN0aW9uPil9IGZucyBGdW5jdGlvbiBvciBhbiBhcnJheSBvZiBmdW5jdGlvbnMuXG4gKiBAcmV0dXJucyB7Kn0gVHJhbnNmb3JtZWQgZGF0YS5cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBzdGF0dXMsIGZucykge1xuICBpZiAoaXNGdW5jdGlvbihmbnMpKSB7XG4gICAgcmV0dXJuIGZucyhkYXRhLCBoZWFkZXJzLCBzdGF0dXMpO1xuICB9XG5cbiAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG5cbmZ1bmN0aW9uIGlzU3VjY2VzcyhzdGF0dXMpIHtcbiAgcmV0dXJuIDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgMzAwO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkaHR0cFByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSBgJGh0dHBQcm92aWRlcmAgdG8gY2hhbmdlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IHNlcnZpY2UuXG4gKiAqL1xuZnVuY3Rpb24gJEh0dHBQcm92aWRlcigpIHtcbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBPYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlcyBmb3IgYWxsIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gcmVxdWVzdHMuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMuY2FjaGVgKiogLSB7T2JqZWN0fSAtIGFuIG9iamVjdCBidWlsdCB3aXRoIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5IGAkY2FjaGVGYWN0b3J5YH1cbiAgICogdGhhdCB3aWxsIHByb3ZpZGUgdGhlIGNhY2hlIGZvciBhbGwgcmVxdWVzdHMgd2hvIHNldCB0aGVpciBgY2FjaGVgIHByb3BlcnR5IHRvIGB0cnVlYC5cbiAgICogSWYgeW91IHNldCB0aGUgYGRlZmF1bHRzLmNhY2hlID0gZmFsc2VgIHRoZW4gb25seSByZXF1ZXN0cyB0aGF0IHNwZWNpZnkgdGhlaXIgb3duIGN1c3RvbVxuICAgKiBjYWNoZSBvYmplY3Qgd2lsbCBiZSBjYWNoZWQuIFNlZSB7QGxpbmsgJGh0dHAjY2FjaGluZyAkaHR0cCBDYWNoaW5nfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy54c3JmQ29va2llTmFtZWAqKiAtIHtzdHJpbmd9IC0gTmFtZSBvZiBjb29raWUgY29udGFpbmluZyB0aGUgWFNSRiB0b2tlbi5cbiAgICogRGVmYXVsdHMgdmFsdWUgaXMgYCdYU1JGLVRPS0VOJ2AuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMueHNyZkhlYWRlck5hbWVgKiogLSB7c3RyaW5nfSAtIE5hbWUgb2YgSFRUUCBoZWFkZXIgdG8gcG9wdWxhdGUgd2l0aCB0aGVcbiAgICogWFNSRiB0b2tlbi4gRGVmYXVsdHMgdmFsdWUgaXMgYCdYLVhTUkYtVE9LRU4nYC5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy5oZWFkZXJzYCoqIC0ge09iamVjdH0gLSBEZWZhdWx0IGhlYWRlcnMgZm9yIGFsbCAkaHR0cCByZXF1ZXN0cy5cbiAgICogUmVmZXIgdG8ge0BsaW5rIG5nLiRodHRwI3NldHRpbmctaHR0cC1oZWFkZXJzICRodHRwfSBmb3IgZG9jdW1lbnRhdGlvbiBvblxuICAgKiBzZXR0aW5nIGRlZmF1bHQgaGVhZGVycy5cbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5jb21tb25gKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wb3N0YCoqXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucHV0YCoqXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucGF0Y2hgKipcbiAgICpcbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXJgKiogLSBge3N0cmluZ3xmdW5jdGlvbihPYmplY3Q8c3RyaW5nLHN0cmluZz4pOnN0cmluZ31gIC0gQSBmdW5jdGlvblxuICAgKiAgdXNlZCB0byB0aGUgcHJlcGFyZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgcmVxdWVzdCBwYXJhbWV0ZXJzIChzcGVjaWZpZWQgYXMgYW4gb2JqZWN0KS5cbiAgICogIElmIHNwZWNpZmllZCBhcyBzdHJpbmcsIGl0IGlzIGludGVycHJldGVkIGFzIGEgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAgICogIERlZmF1bHRzIHRvIHtAbGluayBuZy4kaHR0cFBhcmFtU2VyaWFsaXplciAkaHR0cFBhcmFtU2VyaWFsaXplcn0uXG4gICAqXG4gICAqKi9cbiAgdmFyIGRlZmF1bHRzID0gdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAvLyB0cmFuc2Zvcm0gaW5jb21pbmcgcmVzcG9uc2UgZGF0YVxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBbZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybV0sXG5cbiAgICAvLyB0cmFuc2Zvcm0gb3V0Z29pbmcgcmVxdWVzdCBkYXRhXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uKGQpIHtcbiAgICAgIHJldHVybiBpc09iamVjdChkKSAmJiAhaXNGaWxlKGQpICYmICFpc0Jsb2IoZCkgJiYgIWlzRm9ybURhdGEoZCkgPyB0b0pzb24oZCkgOiBkO1xuICAgIH1dLFxuXG4gICAgLy8gZGVmYXVsdCBoZWFkZXJzXG4gICAgaGVhZGVyczoge1xuICAgICAgY29tbW9uOiB7XG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICAgICAgfSxcbiAgICAgIHBvc3Q6ICAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLFxuICAgICAgcHV0OiAgICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiksXG4gICAgICBwYXRjaDogIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKVxuICAgIH0sXG5cbiAgICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICAgIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICAgIHBhcmFtU2VyaWFsaXplcjogJyRodHRwUGFyYW1TZXJpYWxpemVyJ1xuICB9O1xuXG4gIHZhciB1c2VBcHBseUFzeW5jID0gZmFsc2U7XG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjdXNlQXBwbHlBc3luY1xuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQ29uZmlndXJlICRodHRwIHNlcnZpY2UgdG8gY29tYmluZSBwcm9jZXNzaW5nIG9mIG11bHRpcGxlIGh0dHAgcmVzcG9uc2VzIHJlY2VpdmVkIGF0IGFyb3VuZFxuICAgKiB0aGUgc2FtZSB0aW1lIHZpYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHlBc3luYyAkcm9vdFNjb3BlLiRhcHBseUFzeW5jfS4gVGhpcyBjYW4gcmVzdWx0IGluXG4gICAqIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGltcHJvdmVtZW50IGZvciBiaWdnZXIgYXBwbGljYXRpb25zIHRoYXQgbWFrZSBtYW55IEhUVFAgcmVxdWVzdHNcbiAgICogY29uY3VycmVudGx5IChjb21tb24gZHVyaW5nIGFwcGxpY2F0aW9uIGJvb3RzdHJhcCkuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIGZhbHNlLiBJZiBubyB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgdHJ1ZSwgd2hlbiByZXF1ZXN0cyBhcmUgbG9hZGVkLCB0aGV5IHdpbGwgc2NoZWR1bGUgYSBkZWZlcnJlZFxuICAgKiAgICBcImFwcGx5XCIgb24gdGhlIG5leHQgdGljaywgZ2l2aW5nIHRpbWUgZm9yIHN1YnNlcXVlbnQgcmVxdWVzdHMgaW4gYSByb3VnaGx5IH4xMG1zIHdpbmRvd1xuICAgKiAgICB0byBsb2FkIGFuZCBzaGFyZSB0aGUgc2FtZSBkaWdlc3QgY3ljbGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufE9iamVjdH0gSWYgYSB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlICRodHRwUHJvdmlkZXIgZm9yIGNoYWluaW5nLlxuICAgKiAgICBvdGhlcndpc2UsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cbiAgICoqL1xuICB0aGlzLnVzZUFwcGx5QXN5bmMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICB1c2VBcHBseUFzeW5jID0gISF2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdXNlQXBwbHlBc3luYztcbiAgfTtcblxuICB2YXIgdXNlTGVnYWN5UHJvbWlzZSA9IHRydWU7XG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjdXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIENvbmZpZ3VyZSBgJGh0dHBgIHNlcnZpY2UgdG8gcmV0dXJuIHByb21pc2VzIHdpdGhvdXQgdGhlIHNob3J0aGFuZCBtZXRob2RzIGBzdWNjZXNzYCBhbmQgYGVycm9yYC5cbiAgICogVGhpcyBzaG91bGQgYmUgdXNlZCB0byBtYWtlIHN1cmUgdGhhdCBhcHBsaWNhdGlvbnMgd29yayB3aXRob3V0IHRoZXNlIG1ldGhvZHMuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIHRydWUuIElmIG5vIHZhbHVlIGlzIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgY3VycmVudCBjb25maWd1cmVkIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiB0cnVlLCBgJGh0dHBgIHdpbGwgcmV0dXJuIGEgcHJvbWlzZSB3aXRoIHRoZSBkZXByZWNhdGVkIGxlZ2FjeSBgc3VjY2Vzc2AgYW5kIGBlcnJvcmAgbWV0aG9kcy5cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW58T2JqZWN0fSBJZiBhIHZhbHVlIGlzIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgJGh0dHBQcm92aWRlciBmb3IgY2hhaW5pbmcuXG4gICAqICAgIG90aGVyd2lzZSwgcmV0dXJucyB0aGUgY3VycmVudCBjb25maWd1cmVkIHZhbHVlLlxuICAgKiovXG4gIHRoaXMudXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICB1c2VMZWdhY3lQcm9taXNlID0gISF2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdXNlTGVnYWN5UHJvbWlzZTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjaW50ZXJjZXB0b3JzXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBBcnJheSBjb250YWluaW5nIHNlcnZpY2UgZmFjdG9yaWVzIGZvciBhbGwgc3luY2hyb25vdXMgb3IgYXN5bmNocm9ub3VzIHtAbGluayBuZy4kaHR0cCAkaHR0cH1cbiAgICogcHJlLXByb2Nlc3Npbmcgb2YgcmVxdWVzdCBvciBwb3N0cHJvY2Vzc2luZyBvZiByZXNwb25zZXMuXG4gICAqXG4gICAqIFRoZXNlIHNlcnZpY2UgZmFjdG9yaWVzIGFyZSBvcmRlcmVkIGJ5IHJlcXVlc3QsIGkuZS4gdGhleSBhcmUgYXBwbGllZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbiAgICogYXJyYXksIG9uIHJlcXVlc3QsIGJ1dCByZXZlcnNlIG9yZGVyLCBvbiByZXNwb25zZS5cbiAgICpcbiAgICoge0BsaW5rIG5nLiRodHRwI2ludGVyY2VwdG9ycyBJbnRlcmNlcHRvcnMgZGV0YWlsZWQgaW5mb31cbiAgICoqL1xuICB2YXIgaW50ZXJjZXB0b3JGYWN0b3JpZXMgPSB0aGlzLmludGVyY2VwdG9ycyA9IFtdO1xuXG4gIHRoaXMuJGdldCA9IFsnJGh0dHBCYWNrZW5kJywgJyQkY29va2llUmVhZGVyJywgJyRjYWNoZUZhY3RvcnknLCAnJHJvb3RTY29wZScsICckcScsICckaW5qZWN0b3InLFxuICAgICAgZnVuY3Rpb24oJGh0dHBCYWNrZW5kLCAkJGNvb2tpZVJlYWRlciwgJGNhY2hlRmFjdG9yeSwgJHJvb3RTY29wZSwgJHEsICRpbmplY3Rvcikge1xuXG4gICAgdmFyIGRlZmF1bHRDYWNoZSA9ICRjYWNoZUZhY3RvcnkoJyRodHRwJyk7XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgdGhhdCBkZWZhdWx0IHBhcmFtIHNlcmlhbGl6ZXIgaXMgZXhwb3NlZCBhcyBhIGZ1bmN0aW9uXG4gICAgICovXG4gICAgZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyID0gaXNTdHJpbmcoZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyKSA/XG4gICAgICAkaW5qZWN0b3IuZ2V0KGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcikgOiBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXI7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmNlcHRvcnMgc3RvcmVkIGluIHJldmVyc2Ugb3JkZXIuIElubmVyIGludGVyY2VwdG9ycyBiZWZvcmUgb3V0ZXIgaW50ZXJjZXB0b3JzLlxuICAgICAqIFRoZSByZXZlcnNhbCBpcyBuZWVkZWQgc28gdGhhdCB3ZSBjYW4gYnVpbGQgdXAgdGhlIGludGVyY2VwdGlvbiBjaGFpbiBhcm91bmQgdGhlXG4gICAgICogc2VydmVyIHJlcXVlc3QuXG4gICAgICovXG4gICAgdmFyIHJldmVyc2VkSW50ZXJjZXB0b3JzID0gW107XG5cbiAgICBmb3JFYWNoKGludGVyY2VwdG9yRmFjdG9yaWVzLCBmdW5jdGlvbihpbnRlcmNlcHRvckZhY3RvcnkpIHtcbiAgICAgIHJldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KVxuICAgICAgICAgID8gJGluamVjdG9yLmdldChpbnRlcmNlcHRvckZhY3RvcnkpIDogJGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSAkaHR0cFxuICAgICAqIEByZXF1aXJlcyBuZy4kaHR0cEJhY2tlbmRcbiAgICAgKiBAcmVxdWlyZXMgJGNhY2hlRmFjdG9yeVxuICAgICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAgICogQHJlcXVpcmVzICRxXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGNvcmUgQW5ndWxhciBzZXJ2aWNlIHRoYXQgZmFjaWxpdGF0ZXMgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSByZW1vdGVcbiAgICAgKiBIVFRQIHNlcnZlcnMgdmlhIHRoZSBicm93c2VyJ3MgW1hNTEh0dHBSZXF1ZXN0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi94bWxodHRwcmVxdWVzdClcbiAgICAgKiBvYmplY3Qgb3IgdmlhIFtKU09OUF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9KU09OUCkuXG4gICAgICpcbiAgICAgKiBGb3IgdW5pdCB0ZXN0aW5nIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSBgJGh0dHBgIHNlcnZpY2UsIHNlZVxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kICRodHRwQmFja2VuZCBtb2NrfS5cbiAgICAgKlxuICAgICAqIEZvciBhIGhpZ2hlciBsZXZlbCBvZiBhYnN0cmFjdGlvbiwgcGxlYXNlIGNoZWNrIG91dCB0aGUge0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlXG4gICAgICogJHJlc291cmNlfSBzZXJ2aWNlLlxuICAgICAqXG4gICAgICogVGhlICRodHRwIEFQSSBpcyBiYXNlZCBvbiB0aGUge0BsaW5rIG5nLiRxIGRlZmVycmVkL3Byb21pc2UgQVBJc30gZXhwb3NlZCBieVxuICAgICAqIHRoZSAkcSBzZXJ2aWNlLiBXaGlsZSBmb3Igc2ltcGxlIHVzYWdlIHBhdHRlcm5zIHRoaXMgZG9lc24ndCBtYXR0ZXIgbXVjaCwgZm9yIGFkdmFuY2VkIHVzYWdlXG4gICAgICogaXQgaXMgaW1wb3J0YW50IHRvIGZhbWlsaWFyaXplIHlvdXJzZWxmIHdpdGggdGhlc2UgQVBJcyBhbmQgdGhlIGd1YXJhbnRlZXMgdGhleSBwcm92aWRlLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBHZW5lcmFsIHVzYWdlXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50IOKAlCBhIHtAbGluayAkaHR0cCN1c2FnZSBjb25maWd1cmF0aW9uIG9iamVjdH0g4oCUXG4gICAgICogdGhhdCBpcyB1c2VkIHRvIGdlbmVyYXRlIGFuIEhUVFAgcmVxdWVzdCBhbmQgcmV0dXJucyAgYSB7QGxpbmsgbmcuJHEgcHJvbWlzZX0uXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgLy8gU2ltcGxlIEdFVCByZXF1ZXN0IGV4YW1wbGU6XG4gICAgICogICAkaHR0cCh7XG4gICAgICogICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICogICAgIHVybDogJy9zb21lVXJsJ1xuICAgICAqICAgfSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcbiAgICAgKiAgICAgICAvLyB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5XG4gICAgICogICAgICAgLy8gd2hlbiB0aGUgcmVzcG9uc2UgaXMgYXZhaWxhYmxlXG4gICAgICogICAgIH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2UpIHtcbiAgICAgKiAgICAgICAvLyBjYWxsZWQgYXN5bmNocm9ub3VzbHkgaWYgYW4gZXJyb3Igb2NjdXJzXG4gICAgICogICAgICAgLy8gb3Igc2VydmVyIHJldHVybnMgcmVzcG9uc2Ugd2l0aCBhbiBlcnJvciBzdGF0dXMuXG4gICAgICogICAgIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlIHJlc3BvbnNlIG9iamVjdCBoYXMgdGhlc2UgcHJvcGVydGllczpcbiAgICAgKlxuICAgICAqICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIFRoZSByZXNwb25zZSBib2R5IHRyYW5zZm9ybWVkIHdpdGggdGhlIHRyYW5zZm9ybVxuICAgICAqICAgICBmdW5jdGlvbnMuXG4gICAgICogICAtICoqc3RhdHVzKiog4oCTIGB7bnVtYmVyfWAg4oCTIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAqICAgLSAqKmhlYWRlcnMqKiDigJMgYHtmdW5jdGlvbihbaGVhZGVyTmFtZV0pfWAg4oCTIEhlYWRlciBnZXR0ZXIgZnVuY3Rpb24uXG4gICAgICogICAtICoqY29uZmlnKiog4oCTIGB7T2JqZWN0fWAg4oCTIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXF1ZXN0LlxuICAgICAqICAgLSAqKnN0YXR1c1RleHQqKiDigJMgYHtzdHJpbmd9YCDigJMgSFRUUCBzdGF0dXMgdGV4dCBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBBIHJlc3BvbnNlIHN0YXR1cyBjb2RlIGJldHdlZW4gMjAwIGFuZCAyOTkgaXMgY29uc2lkZXJlZCBhIHN1Y2Nlc3Mgc3RhdHVzIGFuZFxuICAgICAqIHdpbGwgcmVzdWx0IGluIHRoZSBzdWNjZXNzIGNhbGxiYWNrIGJlaW5nIGNhbGxlZC4gTm90ZSB0aGF0IGlmIHRoZSByZXNwb25zZSBpcyBhIHJlZGlyZWN0LFxuICAgICAqIFhNTEh0dHBSZXF1ZXN0IHdpbGwgdHJhbnNwYXJlbnRseSBmb2xsb3cgaXQsIG1lYW5pbmcgdGhhdCB0aGUgZXJyb3IgY2FsbGJhY2sgd2lsbCBub3QgYmVcbiAgICAgKiBjYWxsZWQgZm9yIHN1Y2ggcmVzcG9uc2VzLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBTaG9ydGN1dCBtZXRob2RzXG4gICAgICpcbiAgICAgKiBTaG9ydGN1dCBtZXRob2RzIGFyZSBhbHNvIGF2YWlsYWJsZS4gQWxsIHNob3J0Y3V0IG1ldGhvZHMgcmVxdWlyZSBwYXNzaW5nIGluIHRoZSBVUkwsIGFuZFxuICAgICAqIHJlcXVlc3QgZGF0YSBtdXN0IGJlIHBhc3NlZCBpbiBmb3IgUE9TVC9QVVQgcmVxdWVzdHMuIEFuIG9wdGlvbmFsIGNvbmZpZyBjYW4gYmUgcGFzc2VkIGFzIHRoZVxuICAgICAqIGxhc3QgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgJGh0dHAuZ2V0KCcvc29tZVVybCcsIGNvbmZpZykudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgICAqICAgJGh0dHAucG9zdCgnL3NvbWVVcmwnLCBkYXRhLCBjb25maWcpLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIENvbXBsZXRlIGxpc3Qgb2Ygc2hvcnRjdXQgbWV0aG9kczpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2dldCAkaHR0cC5nZXR9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjaGVhZCAkaHR0cC5oZWFkfVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3Bvc3QgJGh0dHAucG9zdH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwdXQgJGh0dHAucHV0fVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2RlbGV0ZSAkaHR0cC5kZWxldGV9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjanNvbnAgJGh0dHAuanNvbnB9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcGF0Y2ggJGh0dHAucGF0Y2h9XG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIFdyaXRpbmcgVW5pdCBUZXN0cyB0aGF0IHVzZSAkaHR0cFxuICAgICAqIFdoZW4gdW5pdCB0ZXN0aW5nICh1c2luZyB7QGxpbmsgbmdNb2NrIG5nTW9ja30pLCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbFxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kI2ZsdXNoICRodHRwQmFja2VuZC5mbHVzaCgpfSB0byBmbHVzaCBlYWNoIHBlbmRpbmdcbiAgICAgKiByZXF1ZXN0IHVzaW5nIHRyYWluZWQgcmVzcG9uc2VzLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogJGh0dHBCYWNrZW5kLmV4cGVjdEdFVCguLi4pO1xuICAgICAqICRodHRwLmdldCguLi4pO1xuICAgICAqICRodHRwQmFja2VuZC5mbHVzaCgpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgRGVwcmVjYXRpb24gTm90aWNlXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICAgICAqICAgVGhlIGAkaHR0cGAgbGVnYWN5IHByb21pc2UgbWV0aG9kcyBgc3VjY2Vzc2AgYW5kIGBlcnJvcmAgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQuXG4gICAgICogICBVc2UgdGhlIHN0YW5kYXJkIGB0aGVuYCBtZXRob2QgaW5zdGVhZC5cbiAgICAgKiAgIElmIHtAbGluayAkaHR0cFByb3ZpZGVyI3VzZUxlZ2FjeVByb21pc2VFeHRlbnNpb25zIGAkaHR0cFByb3ZpZGVyLnVzZUxlZ2FjeVByb21pc2VFeHRlbnNpb25zYH0gaXMgc2V0IHRvXG4gICAgICogICBgZmFsc2VgIHRoZW4gdGhlc2UgbWV0aG9kcyB3aWxsIHRocm93IHtAbGluayAkaHR0cDpsZWdhY3kgYCRodHRwL2xlZ2FjeWB9IGVycm9yLlxuICAgICAqIDwvZGl2PlxuICAgICAqXG4gICAgICogIyMgU2V0dGluZyBIVFRQIEhlYWRlcnNcbiAgICAgKlxuICAgICAqIFRoZSAkaHR0cCBzZXJ2aWNlIHdpbGwgYXV0b21hdGljYWxseSBhZGQgY2VydGFpbiBIVFRQIGhlYWRlcnMgdG8gYWxsIHJlcXVlc3RzLiBUaGVzZSBkZWZhdWx0c1xuICAgICAqIGNhbiBiZSBmdWxseSBjb25maWd1cmVkIGJ5IGFjY2Vzc2luZyB0aGUgYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVyc2AgY29uZmlndXJhdGlvblxuICAgICAqIG9iamVjdCwgd2hpY2ggY3VycmVudGx5IGNvbnRhaW5zIHRoaXMgZGVmYXVsdCBjb25maWd1cmF0aW9uOlxuICAgICAqXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbmAgKGhlYWRlcnMgdGhhdCBhcmUgY29tbW9uIGZvciBhbGwgcmVxdWVzdHMpOlxuICAgICAqICAgLSBgQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqIC8gKmBcbiAgICAgKiAtIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMucG9zdGA6IChoZWFkZXIgZGVmYXVsdHMgZm9yIFBPU1QgcmVxdWVzdHMpXG4gICAgICogICAtIGBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25gXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnB1dGAgKGhlYWRlciBkZWZhdWx0cyBmb3IgUFVUIHJlcXVlc3RzKVxuICAgICAqICAgLSBgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uYFxuICAgICAqXG4gICAgICogVG8gYWRkIG9yIG92ZXJ3cml0ZSB0aGVzZSBkZWZhdWx0cywgc2ltcGx5IGFkZCBvciByZW1vdmUgYSBwcm9wZXJ0eSBmcm9tIHRoZXNlIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBvYmplY3RzLiBUbyBhZGQgaGVhZGVycyBmb3IgYW4gSFRUUCBtZXRob2Qgb3RoZXIgdGhhbiBQT1NUIG9yIFBVVCwgc2ltcGx5IGFkZCBhIG5ldyBvYmplY3RcbiAgICAgKiB3aXRoIHRoZSBsb3dlcmNhc2VkIEhUVFAgbWV0aG9kIG5hbWUgYXMgdGhlIGtleSwgZS5nLlxuICAgICAqIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuZ2V0ID0geyAnTXktSGVhZGVyJyA6ICd2YWx1ZScgfWAuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdHMgY2FuIGFsc28gYmUgc2V0IGF0IHJ1bnRpbWUgdmlhIHRoZSBgJGh0dHAuZGVmYXVsdHNgIG9iamVjdCBpbiB0aGUgc2FtZVxuICAgICAqIGZhc2hpb24uIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogbW9kdWxlLnJ1bihmdW5jdGlvbigkaHR0cCkge1xuICAgICAqICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyBZbVZsY0RwaWIyOXcnXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiwgeW91IGNhbiBzdXBwbHkgYSBgaGVhZGVyc2AgcHJvcGVydHkgaW4gdGhlIGNvbmZpZyBvYmplY3QgcGFzc2VkIHdoZW5cbiAgICAgKiBjYWxsaW5nIGAkaHR0cChjb25maWcpYCwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBkZWZhdWx0cyB3aXRob3V0IGNoYW5naW5nIHRoZW0gZ2xvYmFsbHkuXG4gICAgICpcbiAgICAgKiBUbyBleHBsaWNpdGx5IHJlbW92ZSBhIGhlYWRlciBhdXRvbWF0aWNhbGx5IGFkZGVkIHZpYSAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMgb24gYSBwZXIgcmVxdWVzdCBiYXNpcyxcbiAgICAgKiBVc2UgdGhlIGBoZWFkZXJzYCBwcm9wZXJ0eSwgc2V0dGluZyB0aGUgZGVzaXJlZCBoZWFkZXIgdG8gYHVuZGVmaW5lZGAuIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiB2YXIgcmVxID0ge1xuICAgICAqICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgKiAgdXJsOiAnaHR0cDovL2V4YW1wbGUuY29tJyxcbiAgICAgKiAgaGVhZGVyczoge1xuICAgICAqICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcbiAgICAgKiAgfSxcbiAgICAgKiAgZGF0YTogeyB0ZXN0OiAndGVzdCcgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqICRodHRwKHJlcSkudGhlbihmdW5jdGlvbigpey4uLn0sIGZ1bmN0aW9uKCl7Li4ufSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyBUcmFuc2Zvcm1pbmcgUmVxdWVzdHMgYW5kIFJlc3BvbnNlc1xuICAgICAqXG4gICAgICogQm90aCByZXF1ZXN0cyBhbmQgcmVzcG9uc2VzIGNhbiBiZSB0cmFuc2Zvcm1lZCB1c2luZyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnM6IGB0cmFuc2Zvcm1SZXF1ZXN0YFxuICAgICAqIGFuZCBgdHJhbnNmb3JtUmVzcG9uc2VgLiBUaGVzZSBwcm9wZXJ0aWVzIGNhbiBiZSBhIHNpbmdsZSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdHJhbnNmb3JtZWQgdmFsdWUgKGBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpYCkgb3IgYW4gYXJyYXkgb2Ygc3VjaCB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMsXG4gICAgICogd2hpY2ggYWxsb3dzIHlvdSB0byBgcHVzaGAgb3IgYHVuc2hpZnRgIGEgbmV3IHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uIGludG8gdGhlIHRyYW5zZm9ybWF0aW9uIGNoYWluLlxuICAgICAqXG4gICAgICogIyMjIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zXG4gICAgICpcbiAgICAgKiBUaGUgYCRodHRwUHJvdmlkZXJgIHByb3ZpZGVyIGFuZCBgJGh0dHBgIHNlcnZpY2UgZXhwb3NlIGBkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0YCBhbmRcbiAgICAgKiBgZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VgIHByb3BlcnRpZXMuIElmIGEgcmVxdWVzdCBkb2VzIG5vdCBwcm92aWRlIGl0cyBvd24gdHJhbnNmb3JtYXRpb25zXG4gICAgICogdGhlbiB0aGVzZSB3aWxsIGJlIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIGF1Z21lbnQgb3IgcmVwbGFjZSB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgYnkgbW9kaWZ5aW5nIHRoZXNlIHByb3BlcnRpZXMgYnkgYWRkaW5nIHRvIG9yXG4gICAgICogcmVwbGFjaW5nIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEFuZ3VsYXIgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBkZWZhdWx0IHRyYW5zZm9ybWF0aW9uczpcbiAgICAgKlxuICAgICAqIFJlcXVlc3QgdHJhbnNmb3JtYXRpb25zIChgJGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0YCBhbmQgYCRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgKTpcbiAgICAgKlxuICAgICAqIC0gSWYgdGhlIGBkYXRhYCBwcm9wZXJ0eSBvZiB0aGUgcmVxdWVzdCBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWlucyBhbiBvYmplY3QsIHNlcmlhbGl6ZSBpdFxuICAgICAqICAgaW50byBKU09OIGZvcm1hdC5cbiAgICAgKlxuICAgICAqIFJlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucyAoYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VgIGFuZCBgJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VgKTpcbiAgICAgKlxuICAgICAqICAtIElmIFhTUkYgcHJlZml4IGlzIGRldGVjdGVkLCBzdHJpcCBpdCAoc2VlIFNlY3VyaXR5IENvbnNpZGVyYXRpb25zIHNlY3Rpb24gYmVsb3cpLlxuICAgICAqICAtIElmIEpTT04gcmVzcG9uc2UgaXMgZGV0ZWN0ZWQsIGRlc2VyaWFsaXplIGl0IHVzaW5nIGEgSlNPTiBwYXJzZXIuXG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIyBPdmVycmlkaW5nIHRoZSBEZWZhdWx0IFRyYW5zZm9ybWF0aW9ucyBQZXIgUmVxdWVzdFxuICAgICAqXG4gICAgICogSWYgeW91IHdpc2ggb3ZlcnJpZGUgdGhlIHJlcXVlc3QvcmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zIG9ubHkgZm9yIGEgc2luZ2xlIHJlcXVlc3QgdGhlbiBwcm92aWRlXG4gICAgICogYHRyYW5zZm9ybVJlcXVlc3RgIGFuZC9vciBgdHJhbnNmb3JtUmVzcG9uc2VgIHByb3BlcnRpZXMgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHBhc3NlZFxuICAgICAqIGludG8gYCRodHRwYC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgcHJvdmlkZSB0aGVzZSBwcm9wZXJ0aWVzIG9uIHRoZSBjb25maWcgb2JqZWN0IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyB3aWxsIGJlXG4gICAgICogb3ZlcndyaXR0ZW4uIElmIHlvdSB3aXNoIHRvIGF1Z21lbnQgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIHRoZW4geW91IG11c3QgaW5jbHVkZSB0aGVtIGluIHlvdXJcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBhcnJheS5cbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgY29kZSBkZW1vbnN0cmF0ZXMgYWRkaW5nIGEgbmV3IHJlc3BvbnNlIHRyYW5zZm9ybWF0aW9uIHRvIGJlIHJ1biBhZnRlciB0aGUgZGVmYXVsdCByZXNwb25zZVxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBoYXZlIGJlZW4gcnVuLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBmdW5jdGlvbiBhcHBlbmRUcmFuc2Zvcm0oZGVmYXVsdHMsIHRyYW5zZm9ybSkge1xuICAgICAqXG4gICAgICogICAvLyBXZSBjYW4ndCBndWFyYW50ZWUgdGhhdCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbiBpcyBhbiBhcnJheVxuICAgICAqICAgZGVmYXVsdHMgPSBhbmd1bGFyLmlzQXJyYXkoZGVmYXVsdHMpID8gZGVmYXVsdHMgOiBbZGVmYXVsdHNdO1xuICAgICAqXG4gICAgICogICAvLyBBcHBlbmQgdGhlIG5ldyB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgZGVmYXVsdHNcbiAgICAgKiAgIHJldHVybiBkZWZhdWx0cy5jb25jYXQodHJhbnNmb3JtKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAkaHR0cCh7XG4gICAgICogICB1cmw6ICcuLi4nLFxuICAgICAqICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgKiAgIHRyYW5zZm9ybVJlc3BvbnNlOiBhcHBlbmRUcmFuc2Zvcm0oJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgIHJldHVybiBkb1RyYW5zZm9ybSh2YWx1ZSk7XG4gICAgICogICB9KVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBDYWNoaW5nXG4gICAgICpcbiAgICAgKiBUbyBlbmFibGUgY2FjaGluZywgc2V0IHRoZSByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gYGNhY2hlYCBwcm9wZXJ0eSB0byBgdHJ1ZWAgKHRvIHVzZSBkZWZhdWx0XG4gICAgICogY2FjaGUpIG9yIHRvIGEgY3VzdG9tIGNhY2hlIG9iamVjdCAoYnVpbHQgd2l0aCB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9KS5cbiAgICAgKiBXaGVuIHRoZSBjYWNoZSBpcyBlbmFibGVkLCBgJGh0dHBgIHN0b3JlcyB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyIGluIHRoZSBzcGVjaWZpZWRcbiAgICAgKiBjYWNoZS4gVGhlIG5leHQgdGltZSB0aGUgc2FtZSByZXF1ZXN0IGlzIG1hZGUsIHRoZSByZXNwb25zZSBpcyBzZXJ2ZWQgZnJvbSB0aGUgY2FjaGUgd2l0aG91dFxuICAgICAqIHNlbmRpbmcgYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgZXZlbiBpZiB0aGUgcmVzcG9uc2UgaXMgc2VydmVkIGZyb20gY2FjaGUsIGRlbGl2ZXJ5IG9mIHRoZSBkYXRhIGlzIGFzeW5jaHJvbm91cyBpblxuICAgICAqIHRoZSBzYW1lIHdheSB0aGF0IHJlYWwgcmVxdWVzdHMgYXJlLlxuICAgICAqXG4gICAgICogSWYgdGhlcmUgYXJlIG11bHRpcGxlIEdFVCByZXF1ZXN0cyBmb3IgdGhlIHNhbWUgVVJMIHRoYXQgc2hvdWxkIGJlIGNhY2hlZCB1c2luZyB0aGUgc2FtZVxuICAgICAqIGNhY2hlLCBidXQgdGhlIGNhY2hlIGlzIG5vdCBwb3B1bGF0ZWQgeWV0LCBvbmx5IG9uZSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgd2lsbCBiZSBtYWRlIGFuZFxuICAgICAqIHRoZSByZW1haW5pbmcgcmVxdWVzdHMgd2lsbCBiZSBmdWxmaWxsZWQgdXNpbmcgdGhlIHJlc3BvbnNlIGZyb20gdGhlIGZpcnN0IHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIGNoYW5nZSB0aGUgZGVmYXVsdCBjYWNoZSB0byBhIG5ldyBvYmplY3QgKGJ1aWx0IHdpdGhcbiAgICAgKiB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9KSBieSB1cGRhdGluZyB0aGVcbiAgICAgKiB7QGxpbmsgbmcuJGh0dHAjZGVmYXVsdHMgYCRodHRwLmRlZmF1bHRzLmNhY2hlYH0gcHJvcGVydHkuIEFsbCByZXF1ZXN0cyB3aG8gc2V0XG4gICAgICogdGhlaXIgYGNhY2hlYCBwcm9wZXJ0eSB0byBgdHJ1ZWAgd2lsbCBub3cgdXNlIHRoaXMgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogSWYgeW91IHNldCB0aGUgZGVmYXVsdCBjYWNoZSB0byBgZmFsc2VgIHRoZW4gb25seSByZXF1ZXN0cyB0aGF0IHNwZWNpZnkgdGhlaXIgb3duIGN1c3RvbVxuICAgICAqIGNhY2hlIG9iamVjdCB3aWxsIGJlIGNhY2hlZC5cbiAgICAgKlxuICAgICAqICMjIEludGVyY2VwdG9yc1xuICAgICAqXG4gICAgICogQmVmb3JlIHlvdSBzdGFydCBjcmVhdGluZyBpbnRlcmNlcHRvcnMsIGJlIHN1cmUgdG8gdW5kZXJzdGFuZCB0aGVcbiAgICAgKiB7QGxpbmsgbmcuJHEgJHEgYW5kIGRlZmVycmVkL3Byb21pc2UgQVBJc30uXG4gICAgICpcbiAgICAgKiBGb3IgcHVycG9zZXMgb2YgZ2xvYmFsIGVycm9yIGhhbmRsaW5nLCBhdXRoZW50aWNhdGlvbiwgb3IgYW55IGtpbmQgb2Ygc3luY2hyb25vdXMgb3JcbiAgICAgKiBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3Npbmcgb2YgcmVxdWVzdCBvciBwb3N0cHJvY2Vzc2luZyBvZiByZXNwb25zZXMsIGl0IGlzIGRlc2lyYWJsZSB0byBiZVxuICAgICAqIGFibGUgdG8gaW50ZXJjZXB0IHJlcXVlc3RzIGJlZm9yZSB0aGV5IGFyZSBoYW5kZWQgdG8gdGhlIHNlcnZlciBhbmRcbiAgICAgKiByZXNwb25zZXMgYmVmb3JlIHRoZXkgYXJlIGhhbmRlZCBvdmVyIHRvIHRoZSBhcHBsaWNhdGlvbiBjb2RlIHRoYXRcbiAgICAgKiBpbml0aWF0ZWQgdGhlc2UgcmVxdWVzdHMuIFRoZSBpbnRlcmNlcHRvcnMgbGV2ZXJhZ2UgdGhlIHtAbGluayBuZy4kcVxuICAgICAqIHByb21pc2UgQVBJc30gdG8gZnVsZmlsbCB0aGlzIG5lZWQgZm9yIGJvdGggc3luY2hyb25vdXMgYW5kIGFzeW5jaHJvbm91cyBwcmUtcHJvY2Vzc2luZy5cbiAgICAgKlxuICAgICAqIFRoZSBpbnRlcmNlcHRvcnMgYXJlIHNlcnZpY2UgZmFjdG9yaWVzIHRoYXQgYXJlIHJlZ2lzdGVyZWQgd2l0aCB0aGUgYCRodHRwUHJvdmlkZXJgIGJ5XG4gICAgICogYWRkaW5nIHRoZW0gdG8gdGhlIGAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9yc2AgYXJyYXkuIFRoZSBmYWN0b3J5IGlzIGNhbGxlZCBhbmRcbiAgICAgKiBpbmplY3RlZCB3aXRoIGRlcGVuZGVuY2llcyAoaWYgc3BlY2lmaWVkKSBhbmQgcmV0dXJucyB0aGUgaW50ZXJjZXB0b3IuXG4gICAgICpcbiAgICAgKiBUaGVyZSBhcmUgdHdvIGtpbmRzIG9mIGludGVyY2VwdG9ycyAoYW5kIHR3byBraW5kcyBvZiByZWplY3Rpb24gaW50ZXJjZXB0b3JzKTpcbiAgICAgKlxuICAgICAqICAgKiBgcmVxdWVzdGA6IGludGVyY2VwdG9ycyBnZXQgY2FsbGVkIHdpdGggYSBodHRwIHtAbGluayAkaHR0cCN1c2FnZSBjb25maWd9IG9iamVjdC4gVGhlIGZ1bmN0aW9uIGlzIGZyZWUgdG9cbiAgICAgKiAgICAgbW9kaWZ5IHRoZSBgY29uZmlnYCBvYmplY3Qgb3IgY3JlYXRlIGEgbmV3IG9uZS4gVGhlIGZ1bmN0aW9uIG5lZWRzIHRvIHJldHVybiB0aGUgYGNvbmZpZ2BcbiAgICAgKiAgICAgb2JqZWN0IGRpcmVjdGx5LCBvciBhIHByb21pc2UgY29udGFpbmluZyB0aGUgYGNvbmZpZ2Agb3IgYSBuZXcgYGNvbmZpZ2Agb2JqZWN0LlxuICAgICAqICAgKiBgcmVxdWVzdEVycm9yYDogaW50ZXJjZXB0b3IgZ2V0cyBjYWxsZWQgd2hlbiBhIHByZXZpb3VzIGludGVyY2VwdG9yIHRocmV3IGFuIGVycm9yIG9yXG4gICAgICogICAgIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24uXG4gICAgICogICAqIGByZXNwb25zZWA6IGludGVyY2VwdG9ycyBnZXQgY2FsbGVkIHdpdGggaHR0cCBgcmVzcG9uc2VgIG9iamVjdC4gVGhlIGZ1bmN0aW9uIGlzIGZyZWUgdG9cbiAgICAgKiAgICAgbW9kaWZ5IHRoZSBgcmVzcG9uc2VgIG9iamVjdCBvciBjcmVhdGUgYSBuZXcgb25lLiBUaGUgZnVuY3Rpb24gbmVlZHMgdG8gcmV0dXJuIHRoZSBgcmVzcG9uc2VgXG4gICAgICogICAgIG9iamVjdCBkaXJlY3RseSwgb3IgYXMgYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIGByZXNwb25zZWAgb3IgYSBuZXcgYHJlc3BvbnNlYCBvYmplY3QuXG4gICAgICogICAqIGByZXNwb25zZUVycm9yYDogaW50ZXJjZXB0b3IgZ2V0cyBjYWxsZWQgd2hlbiBhIHByZXZpb3VzIGludGVyY2VwdG9yIHRocmV3IGFuIGVycm9yIG9yXG4gICAgICogICAgIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24uXG4gICAgICpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAvLyByZWdpc3RlciB0aGUgaW50ZXJjZXB0b3IgYXMgYSBzZXJ2aWNlXG4gICAgICogICAkcHJvdmlkZS5mYWN0b3J5KCdteUh0dHBJbnRlcmNlcHRvcicsIGZ1bmN0aW9uKCRxLCBkZXBlbmRlbmN5MSwgZGVwZW5kZW5jeTIpIHtcbiAgICAgKiAgICAgcmV0dXJuIHtcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3NcbiAgICAgKiAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICogICAgICAgfSxcbiAgICAgKlxuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxuICAgICAqICAgICAgJ3JlcXVlc3RFcnJvcic6IGZ1bmN0aW9uKHJlamVjdGlvbikge1xuICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yXG4gICAgICogICAgICAgICBpZiAoY2FuUmVjb3ZlcihyZWplY3Rpb24pKSB7XG4gICAgICogICAgICAgICAgIHJldHVybiByZXNwb25zZU9yTmV3UHJvbWlzZVxuICAgICAqICAgICAgICAgfVxuICAgICAqICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKlxuICAgICAqXG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXG4gICAgICogICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXG4gICAgICogICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICogICAgICAgfSxcbiAgICAgKlxuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxuICAgICAqICAgICAgJ3Jlc3BvbnNlRXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxuICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkge1xuICAgICAqICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VPck5ld1Byb21pc2VcbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH07XG4gICAgICogICB9KTtcbiAgICAgKlxuICAgICAqICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnbXlIdHRwSW50ZXJjZXB0b3InKTtcbiAgICAgKlxuICAgICAqXG4gICAgICogICAvLyBhbHRlcm5hdGl2ZWx5LCByZWdpc3RlciB0aGUgaW50ZXJjZXB0b3IgdmlhIGFuIGFub255bW91cyBmYWN0b3J5XG4gICAgICogICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGZ1bmN0aW9uKCRxLCBkZXBlbmRlbmN5MSwgZGVwZW5kZW5jeTIpIHtcbiAgICAgKiAgICAgcmV0dXJuIHtcbiAgICAgKiAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICogICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZVxuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAncmVzcG9uc2UnOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAqICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmVcbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH07XG4gICAgICogICB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIFNlY3VyaXR5IENvbnNpZGVyYXRpb25zXG4gICAgICpcbiAgICAgKiBXaGVuIGRlc2lnbmluZyB3ZWIgYXBwbGljYXRpb25zLCBjb25zaWRlciBzZWN1cml0eSB0aHJlYXRzIGZyb206XG4gICAgICpcbiAgICAgKiAtIFtKU09OIHZ1bG5lcmFiaWxpdHldKGh0dHA6Ly9oYWFja2VkLmNvbS9hcmNoaXZlLzIwMDgvMTEvMjAvYW5hdG9teS1vZi1hLXN1YnRsZS1qc29uLXZ1bG5lcmFiaWxpdHkuYXNweClcbiAgICAgKiAtIFtYU1JGXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Nyb3NzLXNpdGVfcmVxdWVzdF9mb3JnZXJ5KVxuICAgICAqXG4gICAgICogQm90aCBzZXJ2ZXIgYW5kIHRoZSBjbGllbnQgbXVzdCBjb29wZXJhdGUgaW4gb3JkZXIgdG8gZWxpbWluYXRlIHRoZXNlIHRocmVhdHMuIEFuZ3VsYXIgY29tZXNcbiAgICAgKiBwcmUtY29uZmlndXJlZCB3aXRoIHN0cmF0ZWdpZXMgdGhhdCBhZGRyZXNzIHRoZXNlIGlzc3VlcywgYnV0IGZvciB0aGlzIHRvIHdvcmsgYmFja2VuZCBzZXJ2ZXJcbiAgICAgKiBjb29wZXJhdGlvbiBpcyByZXF1aXJlZC5cbiAgICAgKlxuICAgICAqICMjIyBKU09OIFZ1bG5lcmFiaWxpdHkgUHJvdGVjdGlvblxuICAgICAqXG4gICAgICogQSBbSlNPTiB2dWxuZXJhYmlsaXR5XShodHRwOi8vaGFhY2tlZC5jb20vYXJjaGl2ZS8yMDA4LzExLzIwL2FuYXRvbXktb2YtYS1zdWJ0bGUtanNvbi12dWxuZXJhYmlsaXR5LmFzcHgpXG4gICAgICogYWxsb3dzIHRoaXJkIHBhcnR5IHdlYnNpdGUgdG8gdHVybiB5b3VyIEpTT04gcmVzb3VyY2UgVVJMIGludG9cbiAgICAgKiBbSlNPTlBdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSlNPTlApIHJlcXVlc3QgdW5kZXIgc29tZSBjb25kaXRpb25zLiBUb1xuICAgICAqIGNvdW50ZXIgdGhpcyB5b3VyIHNlcnZlciBjYW4gcHJlZml4IGFsbCBKU09OIHJlcXVlc3RzIHdpdGggZm9sbG93aW5nIHN0cmluZyBgXCIpXX0nLFxcblwiYC5cbiAgICAgKiBBbmd1bGFyIHdpbGwgYXV0b21hdGljYWxseSBzdHJpcCB0aGUgcHJlZml4IGJlZm9yZSBwcm9jZXNzaW5nIGl0IGFzIEpTT04uXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZSBpZiB5b3VyIHNlcnZlciBuZWVkcyB0byByZXR1cm46XG4gICAgICogYGBganNcbiAgICAgKiBbJ29uZScsJ3R3byddXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiB3aGljaCBpcyB2dWxuZXJhYmxlIHRvIGF0dGFjaywgeW91ciBzZXJ2ZXIgY2FuIHJldHVybjpcbiAgICAgKiBgYGBqc1xuICAgICAqICldfScsXG4gICAgICogWydvbmUnLCd0d28nXVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQW5ndWxhciB3aWxsIHN0cmlwIHRoZSBwcmVmaXgsIGJlZm9yZSBwcm9jZXNzaW5nIHRoZSBKU09OLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyMgQ3Jvc3MgU2l0ZSBSZXF1ZXN0IEZvcmdlcnkgKFhTUkYpIFByb3RlY3Rpb25cbiAgICAgKlxuICAgICAqIFtYU1JGXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Nyb3NzLXNpdGVfcmVxdWVzdF9mb3JnZXJ5KSBpcyBhIHRlY2huaXF1ZSBieSB3aGljaFxuICAgICAqIGFuIHVuYXV0aG9yaXplZCBzaXRlIGNhbiBnYWluIHlvdXIgdXNlcidzIHByaXZhdGUgZGF0YS4gQW5ndWxhciBwcm92aWRlcyBhIG1lY2hhbmlzbVxuICAgICAqIHRvIGNvdW50ZXIgWFNSRi4gV2hlbiBwZXJmb3JtaW5nIFhIUiByZXF1ZXN0cywgdGhlICRodHRwIHNlcnZpY2UgcmVhZHMgYSB0b2tlbiBmcm9tIGEgY29va2llXG4gICAgICogKGJ5IGRlZmF1bHQsIGBYU1JGLVRPS0VOYCkgYW5kIHNldHMgaXQgYXMgYW4gSFRUUCBoZWFkZXIgKGBYLVhTUkYtVE9LRU5gKS4gU2luY2Ugb25seVxuICAgICAqIEphdmFTY3JpcHQgdGhhdCBydW5zIG9uIHlvdXIgZG9tYWluIGNvdWxkIHJlYWQgdGhlIGNvb2tpZSwgeW91ciBzZXJ2ZXIgY2FuIGJlIGFzc3VyZWQgdGhhdFxuICAgICAqIHRoZSBYSFIgY2FtZSBmcm9tIEphdmFTY3JpcHQgcnVubmluZyBvbiB5b3VyIGRvbWFpbi4gVGhlIGhlYWRlciB3aWxsIG5vdCBiZSBzZXQgZm9yXG4gICAgICogY3Jvc3MtZG9tYWluIHJlcXVlc3RzLlxuICAgICAqXG4gICAgICogVG8gdGFrZSBhZHZhbnRhZ2Ugb2YgdGhpcywgeW91ciBzZXJ2ZXIgbmVlZHMgdG8gc2V0IGEgdG9rZW4gaW4gYSBKYXZhU2NyaXB0IHJlYWRhYmxlIHNlc3Npb25cbiAgICAgKiBjb29raWUgY2FsbGVkIGBYU1JGLVRPS0VOYCBvbiB0aGUgZmlyc3QgSFRUUCBHRVQgcmVxdWVzdC4gT24gc3Vic2VxdWVudCBYSFIgcmVxdWVzdHMgdGhlXG4gICAgICogc2VydmVyIGNhbiB2ZXJpZnkgdGhhdCB0aGUgY29va2llIG1hdGNoZXMgYFgtWFNSRi1UT0tFTmAgSFRUUCBoZWFkZXIsIGFuZCB0aGVyZWZvcmUgYmUgc3VyZVxuICAgICAqIHRoYXQgb25seSBKYXZhU2NyaXB0IHJ1bm5pbmcgb24geW91ciBkb21haW4gY291bGQgaGF2ZSBzZW50IHRoZSByZXF1ZXN0LiBUaGUgdG9rZW4gbXVzdCBiZVxuICAgICAqIHVuaXF1ZSBmb3IgZWFjaCB1c2VyIGFuZCBtdXN0IGJlIHZlcmlmaWFibGUgYnkgdGhlIHNlcnZlciAodG8gcHJldmVudCB0aGUgSmF2YVNjcmlwdCBmcm9tXG4gICAgICogbWFraW5nIHVwIGl0cyBvd24gdG9rZW5zKS4gV2UgcmVjb21tZW5kIHRoYXQgdGhlIHRva2VuIGlzIGEgZGlnZXN0IG9mIHlvdXIgc2l0ZSdzXG4gICAgICogYXV0aGVudGljYXRpb24gY29va2llIHdpdGggYSBbc2FsdF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU2FsdF8oY3J5cHRvZ3JhcGh5JiM0MTspXG4gICAgICogZm9yIGFkZGVkIHNlY3VyaXR5LlxuICAgICAqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGhlYWRlcnMgY2FuIGJlIHNwZWNpZmllZCB1c2luZyB0aGUgeHNyZkhlYWRlck5hbWUgYW5kIHhzcmZDb29raWVOYW1lXG4gICAgICogcHJvcGVydGllcyBvZiBlaXRoZXIgJGh0dHBQcm92aWRlci5kZWZhdWx0cyBhdCBjb25maWctdGltZSwgJGh0dHAuZGVmYXVsdHMgYXQgcnVuLXRpbWUsXG4gICAgICogb3IgdGhlIHBlci1yZXF1ZXN0IGNvbmZpZyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJbiBvcmRlciB0byBwcmV2ZW50IGNvbGxpc2lvbnMgaW4gZW52aXJvbm1lbnRzIHdoZXJlIG11bHRpcGxlIEFuZ3VsYXIgYXBwcyBzaGFyZSB0aGVcbiAgICAgKiBzYW1lIGRvbWFpbiBvciBzdWJkb21haW4sIHdlIHJlY29tbWVuZCB0aGF0IGVhY2ggYXBwbGljYXRpb24gdXNlcyB1bmlxdWUgY29va2llIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIE9iamVjdCBkZXNjcmliaW5nIHRoZSByZXF1ZXN0IHRvIGJlIG1hZGUgYW5kIGhvdyBpdCBzaG91bGQgYmVcbiAgICAgKiAgICBwcm9jZXNzZWQuIFRoZSBvYmplY3QgaGFzIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqXG4gICAgICogICAgLSAqKm1ldGhvZCoqIOKAkyBge3N0cmluZ31gIOKAkyBIVFRQIG1ldGhvZCAoZS5nLiAnR0VUJywgJ1BPU1QnLCBldGMpXG4gICAgICogICAgLSAqKnVybCoqIOKAkyBge3N0cmluZ31gIOKAkyBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkLlxuICAgICAqICAgIC0gKipwYXJhbXMqKiDigJMgYHtPYmplY3QuPHN0cmluZ3xPYmplY3Q+fWAg4oCTIE1hcCBvZiBzdHJpbmdzIG9yIG9iamVjdHMgd2hpY2ggd2lsbCBiZSBzZXJpYWxpemVkXG4gICAgICogICAgICB3aXRoIHRoZSBgcGFyYW1TZXJpYWxpemVyYCBhbmQgYXBwZW5kZWQgYXMgR0VUIHBhcmFtZXRlcnMuXG4gICAgICogICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIERhdGEgdG8gYmUgc2VudCBhcyB0aGUgcmVxdWVzdCBtZXNzYWdlIGRhdGEuXG4gICAgICogICAgLSAqKmhlYWRlcnMqKiDigJMgYHtPYmplY3R9YCDigJMgTWFwIG9mIHN0cmluZ3Mgb3IgZnVuY3Rpb25zIHdoaWNoIHJldHVybiBzdHJpbmdzIHJlcHJlc2VudGluZ1xuICAgICAqICAgICAgSFRUUCBoZWFkZXJzIHRvIHNlbmQgdG8gdGhlIHNlcnZlci4gSWYgdGhlIHJldHVybiB2YWx1ZSBvZiBhIGZ1bmN0aW9uIGlzIG51bGwsIHRoZVxuICAgICAqICAgICAgaGVhZGVyIHdpbGwgbm90IGJlIHNlbnQuIEZ1bmN0aW9ucyBhY2NlcHQgYSBjb25maWcgb2JqZWN0IGFzIGFuIGFyZ3VtZW50LlxuICAgICAqICAgIC0gKip4c3JmSGVhZGVyTmFtZSoqIOKAkyBge3N0cmluZ31gIOKAkyBOYW1lIG9mIEhUVFAgaGVhZGVyIHRvIHBvcHVsYXRlIHdpdGggdGhlIFhTUkYgdG9rZW4uXG4gICAgICogICAgLSAqKnhzcmZDb29raWVOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgY29va2llIGNvbnRhaW5pbmcgdGhlIFhTUkYgdG9rZW4uXG4gICAgICogICAgLSAqKnRyYW5zZm9ybVJlcXVlc3QqKiDigJNcbiAgICAgKiAgICAgIGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcil8QXJyYXkuPGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpPn1gIOKAk1xuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXG4gICAgICogICAgICByZXF1ZXN0IGJvZHkgYW5kIGhlYWRlcnMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgc2VyaWFsaXplZCkgdmVyc2lvbi5cbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGh0dHAjb3ZlcnJpZGluZy10aGUtZGVmYXVsdC10cmFuc2Zvcm1hdGlvbnMtcGVyLXJlcXVlc3RcbiAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxuICAgICAqICAgIC0gKip0cmFuc2Zvcm1SZXNwb25zZSoqIOKAk1xuICAgICAqICAgICAgYHtmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpPn1gIOKAk1xuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXG4gICAgICogICAgICByZXNwb25zZSBib2R5LCBoZWFkZXJzIGFuZCBzdGF0dXMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgZGVzZXJpYWxpemVkKSB2ZXJzaW9uLlxuICAgICAqICAgICAgU2VlIHtAbGluayBuZy4kaHR0cCNvdmVycmlkaW5nLXRoZS1kZWZhdWx0LXRyYW5zZm9ybWF0aW9ucy1wZXItcmVxdWVzdFxuICAgICAqICAgICAgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbmpxTGlrc31cbiAgICAgKiAgICAtICoqcGFyYW1TZXJpYWxpemVyKiogLSBge3N0cmluZ3xmdW5jdGlvbihPYmplY3Q8c3RyaW5nLHN0cmluZz4pOnN0cmluZ31gIC0gQSBmdW5jdGlvbiB1c2VkIHRvXG4gICAgICogICAgICBwcmVwYXJlIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgcmVxdWVzdCBwYXJhbWV0ZXJzIChzcGVjaWZpZWQgYXMgYW4gb2JqZWN0KS5cbiAgICAgKiAgICAgIElmIHNwZWNpZmllZCBhcyBzdHJpbmcsIGl0IGlzIGludGVycHJldGVkIGFzIGZ1bmN0aW9uIHJlZ2lzdGVyZWQgd2l0aCB0aGVcbiAgICAgKiAgICAgIHtAbGluayAkaW5qZWN0b3IgJGluamVjdG9yfSwgd2hpY2ggbWVhbnMgeW91IGNhbiBjcmVhdGUgeW91ciBvd24gc2VyaWFsaXplclxuICAgICAqICAgICAgYnkgcmVnaXN0ZXJpbmcgaXQgYXMgYSB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlIHNlcnZpY2V9LlxuICAgICAqICAgICAgVGhlIGRlZmF1bHQgc2VyaWFsaXplciBpcyB0aGUge0BsaW5rICRodHRwUGFyYW1TZXJpYWxpemVyICRodHRwUGFyYW1TZXJpYWxpemVyfTtcbiAgICAgKiAgICAgIGFsdGVybmF0aXZlbHksIHlvdSBjYW4gdXNlIHRoZSB7QGxpbmsgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2V9XG4gICAgICogICAgLSAqKmNhY2hlKiog4oCTIGB7Ym9vbGVhbnxDYWNoZX1gIOKAkyBJZiB0cnVlLCBhIGRlZmF1bHQgJGh0dHAgY2FjaGUgd2lsbCBiZSB1c2VkIHRvIGNhY2hlIHRoZVxuICAgICAqICAgICAgR0VUIHJlcXVlc3QsIG90aGVyd2lzZSBpZiBhIGNhY2hlIGluc3RhbmNlIGJ1aWx0IHdpdGhcbiAgICAgKiAgICAgIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9LCB0aGlzIGNhY2hlIHdpbGwgYmUgdXNlZCBmb3JcbiAgICAgKiAgICAgIGNhY2hpbmcuXG4gICAgICogICAgLSAqKnRpbWVvdXQqKiDigJMgYHtudW1iZXJ8UHJvbWlzZX1gIOKAkyB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcywgb3Ige0BsaW5rIG5nLiRxIHByb21pc2V9XG4gICAgICogICAgICB0aGF0IHNob3VsZCBhYm9ydCB0aGUgcmVxdWVzdCB3aGVuIHJlc29sdmVkLlxuICAgICAqICAgIC0gKip3aXRoQ3JlZGVudGlhbHMqKiAtIGB7Ym9vbGVhbn1gIC0gd2hldGhlciB0byBzZXQgdGhlIGB3aXRoQ3JlZGVudGlhbHNgIGZsYWcgb24gdGhlXG4gICAgICogICAgICBYSFIgb2JqZWN0LiBTZWUgW3JlcXVlc3RzIHdpdGggY3JlZGVudGlhbHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0hUVFAvQWNjZXNzX2NvbnRyb2xfQ09SUyNSZXF1ZXN0c193aXRoX2NyZWRlbnRpYWxzKVxuICAgICAqICAgICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogICAgLSAqKnJlc3BvbnNlVHlwZSoqIC0gYHtzdHJpbmd9YCAtIHNlZVxuICAgICAqICAgICAgW1hNTEh0dHBSZXF1ZXN0LnJlc3BvbnNlVHlwZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0I3htbGh0dHByZXF1ZXN0LXJlc3BvbnNldHlwZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IFJldHVybnMgYSB7QGxpbmsgbmcuJHEgYFByb21pc2V9YCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgdG8gYSByZXNwb25zZSBvYmplY3RcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gdGhlIHJlcXVlc3Qgc3VjY2VlZHMgb3IgZmFpbHMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPE9iamVjdD59IHBlbmRpbmdSZXF1ZXN0cyBBcnJheSBvZiBjb25maWcgb2JqZWN0cyBmb3IgY3VycmVudGx5IHBlbmRpbmdcbiAgICAgKiAgIHJlcXVlc3RzLiBUaGlzIGlzIHByaW1hcmlseSBtZWFudCB0byBiZSB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJodHRwRXhhbXBsZVwiPlxuPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgPGRpdiBuZy1jb250cm9sbGVyPVwiRmV0Y2hDb250cm9sbGVyXCI+XG4gICAgPHNlbGVjdCBuZy1tb2RlbD1cIm1ldGhvZFwiIGFyaWEtbGFiZWw9XCJSZXF1ZXN0IG1ldGhvZFwiPlxuICAgICAgPG9wdGlvbj5HRVQ8L29wdGlvbj5cbiAgICAgIDxvcHRpb24+SlNPTlA8L29wdGlvbj5cbiAgICA8L3NlbGVjdD5cbiAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVybFwiIHNpemU9XCI4MFwiIGFyaWEtbGFiZWw9XCJVUkxcIiAvPlxuICAgIDxidXR0b24gaWQ9XCJmZXRjaGJ0blwiIG5nLWNsaWNrPVwiZmV0Y2goKVwiPmZldGNoPC9idXR0b24+PGJyPlxuICAgIDxidXR0b24gaWQ9XCJzYW1wbGVnZXRidG5cIiBuZy1jbGljaz1cInVwZGF0ZU1vZGVsKCdHRVQnLCAnaHR0cC1oZWxsby5odG1sJylcIj5TYW1wbGUgR0VUPC9idXR0b24+XG4gICAgPGJ1dHRvbiBpZD1cInNhbXBsZWpzb25wYnRuXCJcbiAgICAgIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0pTT05QJyxcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9ncmVldC5waHA/Y2FsbGJhY2s9SlNPTl9DQUxMQkFDSyZuYW1lPVN1cGVyJTIwSGVybycpXCI+XG4gICAgICBTYW1wbGUgSlNPTlBcbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGlkPVwiaW52YWxpZGpzb25wYnRuXCJcbiAgICAgIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0pTT05QJywgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9kb2VzbnRleGlzdCZjYWxsYmFjaz1KU09OX0NBTExCQUNLJylcIj5cbiAgICAgICAgSW52YWxpZCBKU09OUFxuICAgICAgPC9idXR0b24+XG4gICAgPHByZT5odHRwIHN0YXR1cyBjb2RlOiB7e3N0YXR1c319PC9wcmU+XG4gICAgPHByZT5odHRwIHJlc3BvbnNlIGRhdGE6IHt7ZGF0YX19PC9wcmU+XG4gIDwvZGl2PlxuPC9maWxlPlxuPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICBhbmd1bGFyLm1vZHVsZSgnaHR0cEV4YW1wbGUnLCBbXSlcbiAgICAuY29udHJvbGxlcignRmV0Y2hDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLFxuICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgICAgJHNjb3BlLm1ldGhvZCA9ICdHRVQnO1xuICAgICAgICAkc2NvcGUudXJsID0gJ2h0dHAtaGVsbG8uaHRtbCc7XG5cbiAgICAgICAgJHNjb3BlLmZldGNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmNvZGUgPSBudWxsO1xuICAgICAgICAgICRzY29wZS5yZXNwb25zZSA9IG51bGw7XG5cbiAgICAgICAgICAkaHR0cCh7bWV0aG9kOiAkc2NvcGUubWV0aG9kLCB1cmw6ICRzY29wZS51cmwsIGNhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLlxuICAgICAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IHJlc3BvbnNlLmRhdGEgfHwgXCJSZXF1ZXN0IGZhaWxlZFwiO1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS51cGRhdGVNb2RlbCA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XG4gICAgICAgICAgJHNjb3BlLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAkc2NvcGUudXJsID0gdXJsO1xuICAgICAgICB9O1xuICAgICAgfV0pO1xuPC9maWxlPlxuPGZpbGUgbmFtZT1cImh0dHAtaGVsbG8uaHRtbFwiPlxuICBIZWxsbywgJGh0dHAhXG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gIHZhciBzdGF0dXMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3N0YXR1cycpKTtcbiAgdmFyIGRhdGEgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2RhdGEnKSk7XG4gIHZhciBmZXRjaEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ZldGNoYnRuJykpO1xuICB2YXIgc2FtcGxlR2V0QnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlZ2V0YnRuJykpO1xuICB2YXIgc2FtcGxlSnNvbnBCdG4gPSBlbGVtZW50KGJ5LmlkKCdzYW1wbGVqc29ucGJ0bicpKTtcbiAgdmFyIGludmFsaWRKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ludmFsaWRqc29ucGJ0bicpKTtcblxuICBpdCgnc2hvdWxkIG1ha2UgYW4geGhyIEdFVCByZXF1ZXN0JywgZnVuY3Rpb24oKSB7XG4gICAgc2FtcGxlR2V0QnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9IZWxsbywgXFwkaHR0cCEvKTtcbiAgfSk7XG5cbi8vIENvbW1lbnRlZCBvdXQgZHVlIHRvIGZsYWtlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxODVcbi8vIGl0KCdzaG91bGQgbWFrZSBhIEpTT05QIHJlcXVlc3QgdG8gYW5ndWxhcmpzLm9yZycsIGZ1bmN0aW9uKCkge1xuLy8gICBzYW1wbGVKc29ucEJ0bi5jbGljaygpO1xuLy8gICBmZXRjaEJ0bi5jbGljaygpO1xuLy8gICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4vLyAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgvU3VwZXIgSGVybyEvKTtcbi8vIH0pO1xuXG4gIGl0KCdzaG91bGQgbWFrZSBKU09OUCByZXF1ZXN0IHRvIGludmFsaWQgVVJMIGFuZCBpbnZva2UgdGhlIGVycm9yIGhhbmRsZXInLFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgaW52YWxpZEpzb25wQnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMCcpO1xuICAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgnUmVxdWVzdCBmYWlsZWQnKTtcbiAgfSk7XG48L2ZpbGU+XG48L2V4YW1wbGU+XG4gICAgICovXG4gICAgZnVuY3Rpb24gJGh0dHAocmVxdWVzdENvbmZpZykge1xuXG4gICAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QocmVxdWVzdENvbmZpZykpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckaHR0cCcpKCdiYWRyZXEnLCAnSHR0cCByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gbXVzdCBiZSBhbiBvYmplY3QuICBSZWNlaXZlZDogezB9JywgcmVxdWVzdENvbmZpZyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb25maWcgPSBleHRlbmQoe1xuICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0LFxuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICAgIHBhcmFtU2VyaWFsaXplcjogZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyXG4gICAgICB9LCByZXF1ZXN0Q29uZmlnKTtcblxuICAgICAgY29uZmlnLmhlYWRlcnMgPSBtZXJnZUhlYWRlcnMocmVxdWVzdENvbmZpZyk7XG4gICAgICBjb25maWcubWV0aG9kID0gdXBwZXJjYXNlKGNvbmZpZy5tZXRob2QpO1xuICAgICAgY29uZmlnLnBhcmFtU2VyaWFsaXplciA9IGlzU3RyaW5nKGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIpID9cbiAgICAgICAgJGluamVjdG9yLmdldChjb25maWcucGFyYW1TZXJpYWxpemVyKSA6IGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXI7XG5cbiAgICAgIHZhciBzZXJ2ZXJSZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHZhciBoZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gICAgICAgIHZhciByZXFEYXRhID0gdHJhbnNmb3JtRGF0YShjb25maWcuZGF0YSwgaGVhZGVyc0dldHRlcihoZWFkZXJzKSwgdW5kZWZpbmVkLCBjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7XG5cbiAgICAgICAgLy8gc3RyaXAgY29udGVudC10eXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChyZXFEYXRhKSkge1xuICAgICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGhlYWRlcikge1xuICAgICAgICAgICAgaWYgKGxvd2VyY2FzZShoZWFkZXIpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykgJiYgIWlzVW5kZWZpbmVkKGRlZmF1bHRzLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzID0gZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VuZCByZXF1ZXN0XG4gICAgICAgIHJldHVybiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSkudGhlbih0cmFuc2Zvcm1SZXNwb25zZSwgdHJhbnNmb3JtUmVzcG9uc2UpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGNoYWluID0gW3NlcnZlclJlcXVlc3QsIHVuZGVmaW5lZF07XG4gICAgICB2YXIgcHJvbWlzZSA9ICRxLndoZW4oY29uZmlnKTtcblxuICAgICAgLy8gYXBwbHkgaW50ZXJjZXB0b3JzXG4gICAgICBmb3JFYWNoKHJldmVyc2VkSW50ZXJjZXB0b3JzLCBmdW5jdGlvbihpbnRlcmNlcHRvcikge1xuICAgICAgICBpZiAoaW50ZXJjZXB0b3IucmVxdWVzdCB8fCBpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpIHtcbiAgICAgICAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsIGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlc3BvbnNlIHx8IGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpIHtcbiAgICAgICAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHRoZW5GbiA9IGNoYWluLnNoaWZ0KCk7XG4gICAgICAgIHZhciByZWplY3RGbiA9IGNoYWluLnNoaWZ0KCk7XG5cbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbih0aGVuRm4sIHJlamVjdEZuKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHVzZUxlZ2FjeVByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZS5zdWNjZXNzID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICBhc3NlcnRBcmdGbihmbiwgJ2ZuJyk7XG5cbiAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGZuKHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UuaGVhZGVycywgY29uZmlnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBwcm9taXNlLmVycm9yID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICBhc3NlcnRBcmdGbihmbiwgJ2ZuJyk7XG5cbiAgICAgICAgICBwcm9taXNlLnRoZW4obnVsbCwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGZuKHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UuaGVhZGVycywgY29uZmlnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2Uuc3VjY2VzcyA9ICRodHRwTWluRXJyTGVnYWN5Rm4oJ3N1Y2Nlc3MnKTtcbiAgICAgICAgcHJvbWlzZS5lcnJvciA9ICRodHRwTWluRXJyTGVnYWN5Rm4oJ2Vycm9yJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuXG4gICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgICAvLyBtYWtlIGEgY29weSBzaW5jZSB0aGUgcmVzcG9uc2UgbXVzdCBiZSBjYWNoZWFibGVcbiAgICAgICAgdmFyIHJlc3AgPSBleHRlbmQoe30sIHJlc3BvbnNlKTtcbiAgICAgICAgcmVzcC5kYXRhID0gdHJhbnNmb3JtRGF0YShyZXNwb25zZS5kYXRhLCByZXNwb25zZS5oZWFkZXJzLCByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuIChpc1N1Y2Nlc3MocmVzcG9uc2Uuc3RhdHVzKSlcbiAgICAgICAgICA/IHJlc3BcbiAgICAgICAgICA6ICRxLnJlamVjdChyZXNwKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZXhlY3V0ZUhlYWRlckZucyhoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgdmFyIGhlYWRlckNvbnRlbnQsIHByb2Nlc3NlZEhlYWRlcnMgPSB7fTtcblxuICAgICAgICBmb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uKGhlYWRlckZuLCBoZWFkZXIpIHtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihoZWFkZXJGbikpIHtcbiAgICAgICAgICAgIGhlYWRlckNvbnRlbnQgPSBoZWFkZXJGbihjb25maWcpO1xuICAgICAgICAgICAgaWYgKGhlYWRlckNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBwcm9jZXNzZWRIZWFkZXJzW2hlYWRlcl0gPSBoZWFkZXJDb250ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzZWRIZWFkZXJzW2hlYWRlcl0gPSBoZWFkZXJGbjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRIZWFkZXJzO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBtZXJnZUhlYWRlcnMoY29uZmlnKSB7XG4gICAgICAgIHZhciBkZWZIZWFkZXJzID0gZGVmYXVsdHMuaGVhZGVycyxcbiAgICAgICAgICAgIHJlcUhlYWRlcnMgPSBleHRlbmQoe30sIGNvbmZpZy5oZWFkZXJzKSxcbiAgICAgICAgICAgIGRlZkhlYWRlck5hbWUsIGxvd2VyY2FzZURlZkhlYWRlck5hbWUsIHJlcUhlYWRlck5hbWU7XG5cbiAgICAgICAgZGVmSGVhZGVycyA9IGV4dGVuZCh7fSwgZGVmSGVhZGVycy5jb21tb24sIGRlZkhlYWRlcnNbbG93ZXJjYXNlKGNvbmZpZy5tZXRob2QpXSk7XG5cbiAgICAgICAgLy8gdXNpbmcgZm9yLWluIGluc3RlYWQgb2YgZm9yRWFjaCB0byBhdm9pZCB1bmVjZXNzYXJ5IGl0ZXJhdGlvbiBhZnRlciBoZWFkZXIgaGFzIGJlZW4gZm91bmRcbiAgICAgICAgZGVmYXVsdEhlYWRlcnNJdGVyYXRpb246XG4gICAgICAgIGZvciAoZGVmSGVhZGVyTmFtZSBpbiBkZWZIZWFkZXJzKSB7XG4gICAgICAgICAgbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSA9IGxvd2VyY2FzZShkZWZIZWFkZXJOYW1lKTtcblxuICAgICAgICAgIGZvciAocmVxSGVhZGVyTmFtZSBpbiByZXFIZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAobG93ZXJjYXNlKHJlcUhlYWRlck5hbWUpID09PSBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIGRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlcUhlYWRlcnNbZGVmSGVhZGVyTmFtZV0gPSBkZWZIZWFkZXJzW2RlZkhlYWRlck5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXhlY3V0ZSBpZiBoZWFkZXIgdmFsdWUgaXMgYSBmdW5jdGlvbiBmb3IgbWVyZ2VkIGhlYWRlcnNcbiAgICAgICAgcmV0dXJuIGV4ZWN1dGVIZWFkZXJGbnMocmVxSGVhZGVycywgc2hhbGxvd0NvcHkoY29uZmlnKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJGh0dHAucGVuZGluZ1JlcXVlc3RzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjZ2V0XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgR0VUYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2RlbGV0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYERFTEVURWAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNoZWFkXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgSEVBRGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNqc29ucFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEpTT05QYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3QuXG4gICAgICogICAgICAgICAgICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgY2FsbGJhY2sgc2hvdWxkIGJlIHRoZSBzdHJpbmcgYEpTT05fQ0FMTEJBQ0tgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG4gICAgY3JlYXRlU2hvcnRNZXRob2RzKCdnZXQnLCAnZGVsZXRlJywgJ2hlYWQnLCAnanNvbnAnKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNwb3N0XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUE9TVGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjcHV0XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUFVUYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgKiBAbmFtZSAkaHR0cCNwYXRjaFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBBVENIYCByZXF1ZXN0LlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XG4gICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAgKi9cbiAgICBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSgncG9zdCcsICdwdXQnLCAncGF0Y2gnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAqIEBuYW1lICRodHRwI2RlZmF1bHRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSdW50aW1lIGVxdWl2YWxlbnQgb2YgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzYCBwcm9wZXJ0eS4gQWxsb3dzIGNvbmZpZ3VyYXRpb24gb2ZcbiAgICAgICAgICogZGVmYXVsdCBoZWFkZXJzLCB3aXRoQ3JlZGVudGlhbHMgYXMgd2VsbCBhcyByZXF1ZXN0IGFuZCByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNlZSBcIlNldHRpbmcgSFRUUCBIZWFkZXJzXCIgYW5kIFwiVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcIiBzZWN0aW9ucyBhYm92ZS5cbiAgICAgICAgICovXG4gICAgJGh0dHAuZGVmYXVsdHMgPSBkZWZhdWx0cztcblxuXG4gICAgcmV0dXJuICRodHRwO1xuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHMobmFtZXMpIHtcbiAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICAgICAgICByZXR1cm4gJGh0dHAoZXh0ZW5kKHt9LCBjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YShuYW1lKSB7XG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZCh7fSwgY29uZmlnIHx8IHt9LCB7XG4gICAgICAgICAgICBtZXRob2Q6IG5hbWUsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ha2VzIHRoZSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogISEhIEFDQ0VTU0VTIENMT1NVUkUgVkFSUzpcbiAgICAgKiAkaHR0cEJhY2tlbmQsIGRlZmF1bHRzLCAkbG9nLCAkcm9vdFNjb3BlLCBkZWZhdWx0Q2FjaGUsICRodHRwLnBlbmRpbmdSZXF1ZXN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNlbmRSZXEoY29uZmlnLCByZXFEYXRhKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgIGNhY2hlLFxuICAgICAgICAgIGNhY2hlZFJlc3AsXG4gICAgICAgICAgcmVxSGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgIHVybCA9IGJ1aWxkVXJsKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIoY29uZmlnLnBhcmFtcykpO1xuXG4gICAgICAkaHR0cC5wZW5kaW5nUmVxdWVzdHMucHVzaChjb25maWcpO1xuICAgICAgcHJvbWlzZS50aGVuKHJlbW92ZVBlbmRpbmdSZXEsIHJlbW92ZVBlbmRpbmdSZXEpO1xuXG5cbiAgICAgIGlmICgoY29uZmlnLmNhY2hlIHx8IGRlZmF1bHRzLmNhY2hlKSAmJiBjb25maWcuY2FjaGUgIT09IGZhbHNlICYmXG4gICAgICAgICAgKGNvbmZpZy5tZXRob2QgPT09ICdHRVQnIHx8IGNvbmZpZy5tZXRob2QgPT09ICdKU09OUCcpKSB7XG4gICAgICAgIGNhY2hlID0gaXNPYmplY3QoY29uZmlnLmNhY2hlKSA/IGNvbmZpZy5jYWNoZVxuICAgICAgICAgICAgICA6IGlzT2JqZWN0KGRlZmF1bHRzLmNhY2hlKSA/IGRlZmF1bHRzLmNhY2hlXG4gICAgICAgICAgICAgIDogZGVmYXVsdENhY2hlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgY2FjaGVkUmVzcCA9IGNhY2hlLmdldCh1cmwpO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGNhY2hlZFJlc3ApKSB7XG4gICAgICAgICAgaWYgKGlzUHJvbWlzZUxpa2UoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgICAgIC8vIGNhY2hlZCByZXF1ZXN0IGhhcyBhbHJlYWR5IGJlZW4gc2VudCwgYnV0IHRoZXJlIGlzIG5vIHJlc3BvbnNlIHlldFxuICAgICAgICAgICAgY2FjaGVkUmVzcC50aGVuKHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdCwgcmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc2VydmluZyBmcm9tIGNhY2hlXG4gICAgICAgICAgICBpZiAoaXNBcnJheShjYWNoZWRSZXNwKSkge1xuICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwWzFdLCBjYWNoZWRSZXNwWzBdLCBzaGFsbG93Q29weShjYWNoZWRSZXNwWzJdKSwgY2FjaGVkUmVzcFszXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwLCAyMDAsIHt9LCAnT0snKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcHV0IHRoZSBwcm9taXNlIGZvciB0aGUgbm9uLXRyYW5zZm9ybWVkIHJlc3BvbnNlIGludG8gY2FjaGUgYXMgYSBwbGFjZWhvbGRlclxuICAgICAgICAgIGNhY2hlLnB1dCh1cmwsIHByb21pc2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgLy8gaWYgd2Ugd29uJ3QgaGF2ZSB0aGUgcmVzcG9uc2UgaW4gY2FjaGUsIHNldCB0aGUgeHNyZiBoZWFkZXJzIGFuZFxuICAgICAgLy8gc2VuZCB0aGUgcmVxdWVzdCB0byB0aGUgYmFja2VuZFxuICAgICAgaWYgKGlzVW5kZWZpbmVkKGNhY2hlZFJlc3ApKSB7XG4gICAgICAgIHZhciB4c3JmVmFsdWUgPSB1cmxJc1NhbWVPcmlnaW4oY29uZmlnLnVybClcbiAgICAgICAgICAgID8gJCRjb29raWVSZWFkZXIoKVtjb25maWcueHNyZkNvb2tpZU5hbWUgfHwgZGVmYXVsdHMueHNyZkNvb2tpZU5hbWVdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICAgIHJlcUhlYWRlcnNbKGNvbmZpZy54c3JmSGVhZGVyTmFtZSB8fCBkZWZhdWx0cy54c3JmSGVhZGVyTmFtZSldID0geHNyZlZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgJGh0dHBCYWNrZW5kKGNvbmZpZy5tZXRob2QsIHVybCwgcmVxRGF0YSwgZG9uZSwgcmVxSGVhZGVycywgY29uZmlnLnRpbWVvdXQsXG4gICAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzLCBjb25maWcucmVzcG9uc2VUeXBlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2U7XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxsYmFjayByZWdpc3RlcmVkIHRvICRodHRwQmFja2VuZCgpOlxuICAgICAgICogIC0gY2FjaGVzIHRoZSByZXNwb25zZSBpZiBkZXNpcmVkXG4gICAgICAgKiAgLSByZXNvbHZlcyB0aGUgcmF3ICRodHRwIHByb21pc2VcbiAgICAgICAqICAtIGNhbGxzICRhcHBseVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBkb25lKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpIHtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgaWYgKGlzU3VjY2VzcyhzdGF0dXMpKSB7XG4gICAgICAgICAgICBjYWNoZS5wdXQodXJsLCBbc3RhdHVzLCByZXNwb25zZSwgcGFyc2VIZWFkZXJzKGhlYWRlcnNTdHJpbmcpLCBzdGF0dXNUZXh0XSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBwcm9taXNlIGZyb20gdGhlIGNhY2hlXG4gICAgICAgICAgICBjYWNoZS5yZW1vdmUodXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlSHR0cFByb21pc2UoKSB7XG4gICAgICAgICAgcmVzb2x2ZVByb21pc2UocmVzcG9uc2UsIHN0YXR1cywgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXNlQXBwbHlBc3luYykge1xuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5QXN5bmMocmVzb2x2ZUh0dHBQcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlSHR0cFByb21pc2UoKTtcbiAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkgJHJvb3RTY29wZS4kYXBwbHkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIC8qKlxuICAgICAgICogUmVzb2x2ZXMgdGhlIHJhdyAkaHR0cCBwcm9taXNlLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZShyZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzLCBzdGF0dXNUZXh0KSB7XG4gICAgICAgIC8vc3RhdHVzOiBIVFRQIHJlc3BvbnNlIHN0YXR1cyBjb2RlLCAwLCAtMSAoYWJvcnRlZCBieSB0aW1lb3V0IC8gcHJvbWlzZSlcbiAgICAgICAgc3RhdHVzID0gc3RhdHVzID49IC0xID8gc3RhdHVzIDogMDtcblxuICAgICAgICAoaXNTdWNjZXNzKHN0YXR1cykgPyBkZWZlcnJlZC5yZXNvbHZlIDogZGVmZXJyZWQucmVqZWN0KSh7XG4gICAgICAgICAgZGF0YTogcmVzcG9uc2UsXG4gICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVyc0dldHRlcihoZWFkZXJzKSxcbiAgICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiBzdGF0dXNUZXh0XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQocmVzdWx0KSB7XG4gICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3VsdC5kYXRhLCByZXN1bHQuc3RhdHVzLCBzaGFsbG93Q29weShyZXN1bHQuaGVhZGVycygpKSwgcmVzdWx0LnN0YXR1c1RleHQpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1vdmVQZW5kaW5nUmVxKCkge1xuICAgICAgICB2YXIgaWR4ID0gJGh0dHAucGVuZGluZ1JlcXVlc3RzLmluZGV4T2YoY29uZmlnKTtcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGJ1aWxkVXJsKHVybCwgc2VyaWFsaXplZFBhcmFtcykge1xuICAgICAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICB1cmwgKz0gKCh1cmwuaW5kZXhPZignPycpID09IC0xKSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkeGhyRmFjdG9yeVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmFjdG9yeSBmdW5jdGlvbiB1c2VkIHRvIGNyZWF0ZSBYTUxIdHRwUmVxdWVzdCBvYmplY3RzLlxuICpcbiAqIFJlcGxhY2Ugb3IgZGVjb3JhdGUgdGhpcyBzZXJ2aWNlIHRvIGNyZWF0ZSB5b3VyIG93biBjdXN0b20gWE1MSHR0cFJlcXVlc3Qgb2JqZWN0cy5cbiAqXG4gKiBgYGBcbiAqIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKVxuICogLmZhY3RvcnkoJyR4aHJGYWN0b3J5JywgZnVuY3Rpb24oKSB7XG4gKiAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVYaHIobWV0aG9kLCB1cmwpIHtcbiAqICAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCh7bW96U3lzdGVtOiB0cnVlfSk7XG4gKiAgIH07XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgSFRUUCBtZXRob2Qgb2YgdGhlIHJlcXVlc3QgKEdFVCwgUE9TVCwgUFVULCAuLilcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMIG9mIHRoZSByZXF1ZXN0LlxuICovXG5mdW5jdGlvbiAkeGhyRmFjdG9yeVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlWGhyKCkge1xuICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB9O1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkaHR0cEJhY2tlbmRcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XG4gKiBAcmVxdWlyZXMgJHhockZhY3RvcnlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhUVFAgYmFja2VuZCB1c2VkIGJ5IHRoZSB7QGxpbmsgbmcuJGh0dHAgc2VydmljZX0gdGhhdCBkZWxlZ2F0ZXMgdG9cbiAqIFhNTEh0dHBSZXF1ZXN0IG9iamVjdCBvciBKU09OUCBhbmQgZGVhbHMgd2l0aCBicm93c2VyIGluY29tcGF0aWJpbGl0aWVzLlxuICpcbiAqIFlvdSBzaG91bGQgbmV2ZXIgbmVlZCB0byB1c2UgdGhpcyBzZXJ2aWNlIGRpcmVjdGx5LCBpbnN0ZWFkIHVzZSB0aGUgaGlnaGVyLWxldmVsIGFic3RyYWN0aW9uczpcbiAqIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gb3Ige0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlICRyZXNvdXJjZX0uXG4gKlxuICogRHVyaW5nIHRlc3RpbmcgdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBzd2FwcGVkIHdpdGgge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgbW9ja1xuICogJGh0dHBCYWNrZW5kfSB3aGljaCBjYW4gYmUgdHJhaW5lZCB3aXRoIHJlc3BvbnNlcy5cbiAqL1xuZnVuY3Rpb24gJEh0dHBCYWNrZW5kUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJGJyb3dzZXInLCAnJHdpbmRvdycsICckZG9jdW1lbnQnLCAnJHhockZhY3RvcnknLCBmdW5jdGlvbigkYnJvd3NlciwgJHdpbmRvdywgJGRvY3VtZW50LCAkeGhyRmFjdG9yeSkge1xuICAgIHJldHVybiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlciwgJHhockZhY3RvcnksICRicm93c2VyLmRlZmVyLCAkd2luZG93LmFuZ3VsYXIuY2FsbGJhY2tzLCAkZG9jdW1lbnRbMF0pO1xuICB9XTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsIGNyZWF0ZVhociwgJGJyb3dzZXJEZWZlciwgY2FsbGJhY2tzLCByYXdEb2N1bWVudCkge1xuICAvLyBUT0RPKHZvanRhKTogZml4IHRoZSBzaWduYXR1cmVcbiAgcmV0dXJuIGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBwb3N0LCBjYWxsYmFjaywgaGVhZGVycywgdGltZW91dCwgd2l0aENyZWRlbnRpYWxzLCByZXNwb25zZVR5cGUpIHtcbiAgICAkYnJvd3Nlci4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50KCk7XG4gICAgdXJsID0gdXJsIHx8ICRicm93c2VyLnVybCgpO1xuXG4gICAgaWYgKGxvd2VyY2FzZShtZXRob2QpID09ICdqc29ucCcpIHtcbiAgICAgIHZhciBjYWxsYmFja0lkID0gJ18nICsgKGNhbGxiYWNrcy5jb3VudGVyKyspLnRvU3RyaW5nKDM2KTtcbiAgICAgIGNhbGxiYWNrc1tjYWxsYmFja0lkXSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdLmRhdGEgPSBkYXRhO1xuICAgICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0uY2FsbGVkID0gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBqc29ucERvbmUgPSBqc29ucFJlcSh1cmwucmVwbGFjZSgnSlNPTl9DQUxMQkFDSycsICdhbmd1bGFyLmNhbGxiYWNrcy4nICsgY2FsbGJhY2tJZCksXG4gICAgICAgICAgY2FsbGJhY2tJZCwgZnVuY3Rpb24oc3RhdHVzLCB0ZXh0KSB7XG4gICAgICAgIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjaywgc3RhdHVzLCBjYWxsYmFja3NbY2FsbGJhY2tJZF0uZGF0YSwgXCJcIiwgdGV4dCk7XG4gICAgICAgIGNhbGxiYWNrc1tjYWxsYmFja0lkXSA9IG5vb3A7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICB2YXIgeGhyID0gY3JlYXRlWGhyKG1ldGhvZCwgdXJsKTtcblxuICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiByZXF1ZXN0TG9hZGVkKCkge1xuICAgICAgICB2YXIgc3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0IHx8ICcnO1xuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyB0aGUgb2xkLXNjaG9vbCB3YXkgb2YgcmV0cmlldmluZyByZXNwb25zZSAoc3VwcG9ydGVkIGJ5IElFOSlcbiAgICAgICAgLy8gcmVzcG9uc2UvcmVzcG9uc2VUeXBlIHByb3BlcnRpZXMgd2VyZSBpbnRyb2R1Y2VkIGluIFhIUiBMZXZlbDIgc3BlYyAoc3VwcG9ydGVkIGJ5IElFMTApXG4gICAgICAgIHZhciByZXNwb25zZSA9ICgncmVzcG9uc2UnIGluIHhocikgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBJRTkgYnVnIChodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xNDUwKVxuICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHhoci5zdGF0dXM7XG5cbiAgICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS5cbiAgICAgICAgLy8gT2NjdXJzIHdoZW4gYWNjZXNzaW5nIGZpbGUgcmVzb3VyY2VzIG9yIG9uIEFuZHJvaWQgNC4xIHN0b2NrIGJyb3dzZXJcbiAgICAgICAgLy8gd2hpbGUgcmV0cmlldmluZyBmaWxlcyBmcm9tIGFwcGxpY2F0aW9uIGNhY2hlLlxuICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2UgPyAyMDAgOiB1cmxSZXNvbHZlKHVybCkucHJvdG9jb2wgPT0gJ2ZpbGUnID8gNDA0IDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjayxcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLFxuICAgICAgICAgICAgc3RhdHVzVGV4dCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVxdWVzdEVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFRoZSByZXNwb25zZSBpcyBhbHdheXMgZW1wdHlcbiAgICAgICAgLy8gU2VlIGh0dHBzOi8veGhyLnNwZWMud2hhdHdnLm9yZy8jcmVxdWVzdC1lcnJvci1zdGVwcyBhbmQgaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtbmV0d29yay1lcnJvclxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIC0xLCBudWxsLCBudWxsLCAnJyk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IHJlcXVlc3RFcnJvcjtcbiAgICAgIHhoci5vbmFib3J0ID0gcmVxdWVzdEVycm9yO1xuXG4gICAgICBpZiAod2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2VUeXBlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIFdlYktpdCBhZGRlZCBzdXBwb3J0IGZvciB0aGUganNvbiByZXNwb25zZVR5cGUgdmFsdWUgb24gMDkvMDMvMjAxM1xuICAgICAgICAgIC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD03MzY0OC4gVmVyc2lvbnMgb2YgU2FmYXJpIHByaW9yIHRvIDcgYXJlXG4gICAgICAgICAgLy8ga25vd24gdG8gdGhyb3cgd2hlbiBzZXR0aW5nIHRoZSB2YWx1ZSBcImpzb25cIiBhcyB0aGUgcmVzcG9uc2UgdHlwZS4gT3RoZXIgb2xkZXJcbiAgICAgICAgICAvLyBicm93c2VycyBpbXBsZW1lbnRpbmcgdGhlIHJlc3BvbnNlVHlwZVxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gVGhlIGpzb24gcmVzcG9uc2UgdHlwZSBjYW4gYmUgaWdub3JlZCBpZiBub3Qgc3VwcG9ydGVkLCBiZWNhdXNlIEpTT04gcGF5bG9hZHMgYXJlXG4gICAgICAgICAgLy8gcGFyc2VkIG9uIHRoZSBjbGllbnQtc2lkZSByZWdhcmRsZXNzLlxuICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQoaXNVbmRlZmluZWQocG9zdCkgPyBudWxsIDogcG9zdCk7XG4gICAgfVxuXG4gICAgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICB2YXIgdGltZW91dElkID0gJGJyb3dzZXJEZWZlcih0aW1lb3V0UmVxdWVzdCwgdGltZW91dCk7XG4gICAgfSBlbHNlIGlmIChpc1Byb21pc2VMaWtlKHRpbWVvdXQpKSB7XG4gICAgICB0aW1lb3V0LnRoZW4odGltZW91dFJlcXVlc3QpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gdGltZW91dFJlcXVlc3QoKSB7XG4gICAgICBqc29ucERvbmUgJiYganNvbnBEb25lKCk7XG4gICAgICB4aHIgJiYgeGhyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KSB7XG4gICAgICAvLyBjYW5jZWwgdGltZW91dCBhbmQgc3Vic2VxdWVudCB0aW1lb3V0IHByb21pc2UgcmVzb2x1dGlvblxuICAgICAgaWYgKGlzRGVmaW5lZCh0aW1lb3V0SWQpKSB7XG4gICAgICAgICRicm93c2VyRGVmZXIuY2FuY2VsKHRpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgICBqc29ucERvbmUgPSB4aHIgPSBudWxsO1xuXG4gICAgICBjYWxsYmFjayhzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KTtcbiAgICAgICRicm93c2VyLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qobm9vcCk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGpzb25wUmVxKHVybCwgY2FsbGJhY2tJZCwgZG9uZSkge1xuICAgIC8vIHdlIGNhbid0IHVzZSBqUXVlcnkvanFMaXRlIGhlcmUgYmVjYXVzZSBqUXVlcnkgZG9lcyBjcmF6eSBzdHVmZiB3aXRoIHNjcmlwdCBlbGVtZW50cywgZS5nLjpcbiAgICAvLyAtIGZldGNoZXMgbG9jYWwgc2NyaXB0cyB2aWEgWEhSIGFuZCBldmFscyB0aGVtXG4gICAgLy8gLSBhZGRzIGFuZCBpbW1lZGlhdGVseSByZW1vdmVzIHNjcmlwdCBlbGVtZW50cyBmcm9tIHRoZSBkb2N1bWVudFxuICAgIHZhciBzY3JpcHQgPSByYXdEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKSwgY2FsbGJhY2sgPSBudWxsO1xuICAgIHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcbiAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG5cbiAgICBjYWxsYmFjayA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImxvYWRcIiwgY2FsbGJhY2spO1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwgXCJlcnJvclwiLCBjYWxsYmFjayk7XG4gICAgICByYXdEb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgdmFyIHN0YXR1cyA9IC0xO1xuICAgICAgdmFyIHRleHQgPSBcInVua25vd25cIjtcblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSBcImxvYWRcIiAmJiAhY2FsbGJhY2tzW2NhbGxiYWNrSWRdLmNhbGxlZCkge1xuICAgICAgICAgIGV2ZW50ID0geyB0eXBlOiBcImVycm9yXCIgfTtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0ID0gZXZlbnQudHlwZTtcbiAgICAgICAgc3RhdHVzID0gZXZlbnQudHlwZSA9PT0gXCJlcnJvclwiID8gNDA0IDogMjAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBkb25lKHN0YXR1cywgdGV4dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGFkZEV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwibG9hZFwiLCBjYWxsYmFjayk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwgXCJlcnJvclwiLCBjYWxsYmFjayk7XG4gICAgcmF3RG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIHJldHVybiBjYWxsYmFjaztcbiAgfVxufVxuXG52YXIgJGludGVycG9sYXRlTWluRXJyID0gYW5ndWxhci4kaW50ZXJwb2xhdGVNaW5FcnIgPSBtaW5FcnIoJyRpbnRlcnBvbGF0ZScpO1xuJGludGVycG9sYXRlTWluRXJyLnRocm93Tm9jb25jYXQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHRocm93ICRpbnRlcnBvbGF0ZU1pbkVycignbm9jb25jYXQnLFxuICAgICAgXCJFcnJvciB3aGlsZSBpbnRlcnBvbGF0aW5nOiB7MH1cXG5TdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBkaXNhbGxvd3MgXCIgK1xuICAgICAgXCJpbnRlcnBvbGF0aW9ucyB0aGF0IGNvbmNhdGVuYXRlIG11bHRpcGxlIGV4cHJlc3Npb25zIHdoZW4gYSB0cnVzdGVkIHZhbHVlIGlzIFwiICtcbiAgICAgIFwicmVxdWlyZWQuICBTZWUgaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcuJHNjZVwiLCB0ZXh0KTtcbn07XG5cbiRpbnRlcnBvbGF0ZU1pbkVyci5pbnRlcnIgPSBmdW5jdGlvbih0ZXh0LCBlcnIpIHtcbiAgcmV0dXJuICRpbnRlcnBvbGF0ZU1pbkVycignaW50ZXJyJywgXCJDYW4ndCBpbnRlcnBvbGF0ZTogezB9XFxuezF9XCIsIHRleHQsIGVyci50b1N0cmluZygpKTtcbn07XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkaW50ZXJwb2xhdGVQcm92aWRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBpbnRlcnBvbGF0aW9uIG1hcmt1cC4gRGVmYXVsdHMgdG8gYHt7YCBhbmQgYH19YC5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwiY3VzdG9tSW50ZXJwb2xhdGlvbkFwcFwiPlxuPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbjxzY3JpcHQ+XG4gIHZhciBjdXN0b21JbnRlcnBvbGF0aW9uQXBwID0gYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUludGVycG9sYXRpb25BcHAnLCBbXSk7XG5cbiAgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcC5jb25maWcoZnVuY3Rpb24oJGludGVycG9sYXRlUHJvdmlkZXIpIHtcbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbCgnLy8nKTtcbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2woJy8vJyk7XG4gIH0pO1xuXG5cbiAgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcC5jb250cm9sbGVyKCdEZW1vQ29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5sYWJlbCA9IFwiVGhpcyBiaW5kaW5nIGlzIGJyb3VnaHQgeW91IGJ5IC8vIGludGVycG9sYXRpb24gc3ltYm9scy5cIjtcbiAgfSk7XG48L3NjcmlwdD5cbjxkaXYgbmctYXBwPVwiQXBwXCIgbmctY29udHJvbGxlcj1cIkRlbW9Db250cm9sbGVyIGFzIGRlbW9cIj5cbiAgICAvL2RlbW8ubGFiZWwvL1xuPC9kaXY+XG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gIGl0KCdzaG91bGQgaW50ZXJwb2xhdGUgYmluZGluZyB3aXRoIGN1c3RvbSBzeW1ib2xzJywgZnVuY3Rpb24oKSB7XG4gICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZGVtby5sYWJlbCcpKS5nZXRUZXh0KCkpLnRvQmUoJ1RoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuJyk7XG4gIH0pO1xuPC9maWxlPlxuPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkSW50ZXJwb2xhdGVQcm92aWRlcigpIHtcbiAgdmFyIHN0YXJ0U3ltYm9sID0gJ3t7JztcbiAgdmFyIGVuZFN5bWJvbCA9ICd9fSc7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjc3RhcnRTeW1ib2xcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFN5bWJvbCB0byBkZW5vdGUgc3RhcnQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYHt7YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBzdGFydGluZyBzeW1ib2wgdG8uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUgc3ltYm9sIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuXG4gICAqL1xuICB0aGlzLnN0YXJ0U3ltYm9sID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHN0YXJ0U3ltYm9sID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN0YXJ0U3ltYm9sO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaW50ZXJwb2xhdGVQcm92aWRlciNlbmRTeW1ib2xcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIGVuZCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBgfX1gLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIG5ldyB2YWx1ZSB0byBzZXQgdGhlIGVuZGluZyBzeW1ib2wgdG8uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUgc3ltYm9sIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuXG4gICAqL1xuICB0aGlzLmVuZFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBlbmRTeW1ib2wgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZW5kU3ltYm9sO1xuICAgIH1cbiAgfTtcblxuXG4gIHRoaXMuJGdldCA9IFsnJHBhcnNlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRzY2UnLCBmdW5jdGlvbigkcGFyc2UsICRleGNlcHRpb25IYW5kbGVyLCAkc2NlKSB7XG4gICAgdmFyIHN0YXJ0U3ltYm9sTGVuZ3RoID0gc3RhcnRTeW1ib2wubGVuZ3RoLFxuICAgICAgICBlbmRTeW1ib2xMZW5ndGggPSBlbmRTeW1ib2wubGVuZ3RoLFxuICAgICAgICBlc2NhcGVkU3RhcnRSZWdleHAgPSBuZXcgUmVnRXhwKHN0YXJ0U3ltYm9sLnJlcGxhY2UoLy4vZywgZXNjYXBlKSwgJ2cnKSxcbiAgICAgICAgZXNjYXBlZEVuZFJlZ2V4cCA9IG5ldyBSZWdFeHAoZW5kU3ltYm9sLnJlcGxhY2UoLy4vZywgZXNjYXBlKSwgJ2cnKTtcblxuICAgIGZ1bmN0aW9uIGVzY2FwZShjaCkge1xuICAgICAgcmV0dXJuICdcXFxcXFxcXFxcXFwnICsgY2g7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5lc2NhcGVUZXh0KHRleHQpIHtcbiAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoZXNjYXBlZFN0YXJ0UmVnZXhwLCBzdGFydFN5bWJvbCkuXG4gICAgICAgIHJlcGxhY2UoZXNjYXBlZEVuZFJlZ2V4cCwgZW5kU3ltYm9sKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdHJpbmdpZnkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7IC8vIG51bGwgfHwgdW5kZWZpbmVkXG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgdmFsdWUgPSAnJyArIHZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHZhbHVlID0gdG9Kc29uKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyAkcGFyc2VcbiAgICAgKiBAcmVxdWlyZXMgJHNjZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBDb21waWxlcyBhIHN0cmluZyB3aXRoIG1hcmt1cCBpbnRvIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFRoaXMgc2VydmljZSBpcyB1c2VkIGJ5IHRoZVxuICAgICAqIEhUTUwge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSBzZXJ2aWNlIGZvciBkYXRhIGJpbmRpbmcuIFNlZVxuICAgICAqIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciAkaW50ZXJwb2xhdGVQcm92aWRlcn0gZm9yIGNvbmZpZ3VyaW5nIHRoZVxuICAgICAqIGludGVycG9sYXRpb24gbWFya3VwLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgdmFyICRpbnRlcnBvbGF0ZSA9IC4uLjsgLy8gaW5qZWN0ZWRcbiAgICAgKiAgIHZhciBleHAgPSAkaW50ZXJwb2xhdGUoJ0hlbGxvIHt7bmFtZSB8IHVwcGVyY2FzZX19IScpO1xuICAgICAqICAgZXhwZWN0KGV4cCh7bmFtZTonQW5ndWxhcid9KSkudG9FcXVhbCgnSGVsbG8gQU5HVUxBUiEnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGAkaW50ZXJwb2xhdGVgIHRha2VzIGFuIG9wdGlvbmFsIGZvdXJ0aCBhcmd1bWVudCwgYGFsbE9yTm90aGluZ2AuIElmIGBhbGxPck5vdGhpbmdgIGlzXG4gICAgICogYHRydWVgLCB0aGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiB3aWxsIHJldHVybiBgdW5kZWZpbmVkYCB1bmxlc3MgYWxsIGVtYmVkZGVkIGV4cHJlc3Npb25zXG4gICAgICogZXZhbHVhdGUgdG8gYSB2YWx1ZSBvdGhlciB0aGFuIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIHZhciAkaW50ZXJwb2xhdGUgPSAuLi47IC8vIGluamVjdGVkXG4gICAgICogICB2YXIgY29udGV4dCA9IHtncmVldGluZzogJ0hlbGxvJywgbmFtZTogdW5kZWZpbmVkIH07XG4gICAgICpcbiAgICAgKiAgIC8vIGRlZmF1bHQgXCJmb3JnaXZpbmdcIiBtb2RlXG4gICAgICogICB2YXIgZXhwID0gJGludGVycG9sYXRlKCd7e2dyZWV0aW5nfX0ge3tuYW1lfX0hJyk7XG4gICAgICogICBleHBlY3QoZXhwKGNvbnRleHQpKS50b0VxdWFsKCdIZWxsbyAhJyk7XG4gICAgICpcbiAgICAgKiAgIC8vIFwiYWxsT3JOb3RoaW5nXCIgbW9kZVxuICAgICAqICAgZXhwID0gJGludGVycG9sYXRlKCd7e2dyZWV0aW5nfX0ge3tuYW1lfX0hJywgZmFsc2UsIG51bGwsIHRydWUpO1xuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9CZVVuZGVmaW5lZCgpO1xuICAgICAqICAgY29udGV4dC5uYW1lID0gJ0FuZ3VsYXInO1xuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9FcXVhbCgnSGVsbG8gQW5ndWxhciEnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGBhbGxPck5vdGhpbmdgIGlzIHVzZWZ1bCBmb3IgaW50ZXJwb2xhdGluZyBVUkxzLiBgbmdTcmNgIGFuZCBgbmdTcmNzZXRgIHVzZSB0aGlzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogIyMjI0VzY2FwZWQgSW50ZXJwb2xhdGlvblxuICAgICAqICRpbnRlcnBvbGF0ZSBwcm92aWRlcyBhIG1lY2hhbmlzbSBmb3IgZXNjYXBpbmcgaW50ZXJwb2xhdGlvbiBtYXJrZXJzLiBTdGFydCBhbmQgZW5kIG1hcmtlcnNcbiAgICAgKiBjYW4gYmUgZXNjYXBlZCBieSBwcmVjZWRpbmcgZWFjaCBvZiB0aGVpciBjaGFyYWN0ZXJzIHdpdGggYSBSRVZFUlNFIFNPTElEVVMgVSswMDVDIChiYWNrc2xhc2gpLlxuICAgICAqIEl0IHdpbGwgYmUgcmVuZGVyZWQgYXMgYSByZWd1bGFyIHN0YXJ0L2VuZCBtYXJrZXIsIGFuZCB3aWxsIG5vdCBiZSBpbnRlcnByZXRlZCBhcyBhbiBleHByZXNzaW9uXG4gICAgICogb3IgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgZW5hYmxlcyB3ZWItc2VydmVycyB0byBwcmV2ZW50IHNjcmlwdCBpbmplY3Rpb24gYXR0YWNrcyBhbmQgZGVmYWNpbmcgYXR0YWNrcywgdG8gc29tZVxuICAgICAqIGRlZ3JlZSwgd2hpbGUgYWxzbyBlbmFibGluZyBjb2RlIGV4YW1wbGVzIHRvIHdvcmsgd2l0aG91dCByZWx5aW5nIG9uIHRoZVxuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdOb25CaW5kYWJsZSBuZ05vbkJpbmRhYmxlfSBkaXJlY3RpdmUuXG4gICAgICpcbiAgICAgKiAqKkZvciBzZWN1cml0eSBwdXJwb3NlcywgaXQgaXMgc3Ryb25nbHkgZW5jb3VyYWdlZCB0aGF0IHdlYiBzZXJ2ZXJzIGVzY2FwZSB1c2VyLXN1cHBsaWVkIGRhdGEsXG4gICAgICogcmVwbGFjaW5nIGFuZ2xlIGJyYWNrZXRzICgmbHQ7LCAmZ3Q7KSB3aXRoICZhbXA7bHQ7IGFuZCAmYW1wO2d0OyByZXNwZWN0aXZlbHksIGFuZCByZXBsYWNpbmcgYWxsXG4gICAgICogaW50ZXJwb2xhdGlvbiBzdGFydC9lbmQgbWFya2VycyB3aXRoIHRoZWlyIGVzY2FwZWQgY291bnRlcnBhcnRzLioqXG4gICAgICpcbiAgICAgKiBFc2NhcGVkIGludGVycG9sYXRpb24gbWFya2VycyBhcmUgb25seSByZXBsYWNlZCB3aXRoIHRoZSBhY3R1YWwgaW50ZXJwb2xhdGlvbiBtYXJrZXJzIGluIHJlbmRlcmVkXG4gICAgICogb3V0cHV0IHdoZW4gdGhlICRpbnRlcnBvbGF0ZSBzZXJ2aWNlIHByb2Nlc3NlcyB0aGUgdGV4dC4gU28sIGZvciBIVE1MIGVsZW1lbnRzIGludGVycG9sYXRlZFxuICAgICAqIGJ5IHtAbGluayBuZy4kY29tcGlsZSAkY29tcGlsZX0sIG9yIG90aGVyd2lzZSBpbnRlcnBvbGF0ZWQgd2l0aCB0aGUgYG11c3RIYXZlRXhwcmVzc2lvbmAgcGFyYW1ldGVyXG4gICAgICogc2V0IHRvIGB0cnVlYCwgdGhlIGludGVycG9sYXRlZCB0ZXh0IG11c3QgY29udGFpbiBhbiB1bmVzY2FwZWQgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uLiBBcyBzdWNoLFxuICAgICAqIHRoaXMgaXMgdHlwaWNhbGx5IHVzZWZ1bCBvbmx5IHdoZW4gdXNlci1kYXRhIGlzIHVzZWQgaW4gcmVuZGVyaW5nIGEgdGVtcGxhdGUgZnJvbSB0aGUgc2VydmVyLCBvclxuICAgICAqIHdoZW4gb3RoZXJ3aXNlIHVudHJ1c3RlZCBkYXRhIGlzIHVzZWQgYnkgYSBkaXJlY3RpdmUuXG4gICAgICpcbiAgICAgKiA8ZXhhbXBsZT5cbiAgICAgKiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgKiAgICA8ZGl2IG5nLWluaXQ9XCJ1c2VybmFtZT0nQSB1c2VyJ1wiPlxuICAgICAqICAgICAgPHAgbmctaW5pdD1cImFwcHRpdGxlPSdFc2NhcGluZyBkZW1vJ1wiPnt7YXBwdGl0bGV9fTogXFx7XFx7IHVzZXJuYW1lID0gXCJkZWZhY2VkIHZhbHVlXCI7IFxcfVxcfVxuICAgICAqICAgICAgICA8L3A+XG4gICAgICogICAgICA8cD48c3Ryb25nPnt7dXNlcm5hbWV9fTwvc3Ryb25nPiBhdHRlbXB0cyB0byBpbmplY3QgY29kZSB3aGljaCB3aWxsIGRlZmFjZSB0aGVcbiAgICAgKiAgICAgICAgYXBwbGljYXRpb24sIGJ1dCBmYWlscyB0byBhY2NvbXBsaXNoIHRoZWlyIHRhc2ssIGJlY2F1c2UgdGhlIHNlcnZlciBoYXMgY29ycmVjdGx5XG4gICAgICogICAgICAgIGVzY2FwZWQgdGhlIGludGVycG9sYXRpb24gc3RhcnQvZW5kIG1hcmtlcnMgd2l0aCBSRVZFUlNFIFNPTElEVVMgVSswMDVDIChiYWNrc2xhc2gpXG4gICAgICogICAgICAgIGNoYXJhY3RlcnMuPC9wPlxuICAgICAqICAgICAgPHA+SW5zdGVhZCwgdGhlIHJlc3VsdCBvZiB0aGUgYXR0ZW1wdGVkIHNjcmlwdCBpbmplY3Rpb24gaXMgdmlzaWJsZSwgYW5kIGNhbiBiZSByZW1vdmVkXG4gICAgICogICAgICAgIGZyb20gdGhlIGRhdGFiYXNlIGJ5IGFuIGFkbWluaXN0cmF0b3IuPC9wPlxuICAgICAqICAgIDwvZGl2PlxuICAgICAqICA8L2ZpbGU+XG4gICAgICogPC9leGFtcGxlPlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgd2l0aCBtYXJrdXAgdG8gaW50ZXJwb2xhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gbXVzdEhhdmVFeHByZXNzaW9uIGlmIHNldCB0byB0cnVlIHRoZW4gdGhlIGludGVycG9sYXRpb24gc3RyaW5nIG11c3QgaGF2ZVxuICAgICAqICAgIGVtYmVkZGVkIGV4cHJlc3Npb24gaW4gb3JkZXIgdG8gcmV0dXJuIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFN0cmluZ3Mgd2l0aCBub1xuICAgICAqICAgIGVtYmVkZGVkIGV4cHJlc3Npb24gd2lsbCByZXR1cm4gbnVsbCBmb3IgdGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSB0cnVzdGVkQ29udGV4dCB3aGVuIHByb3ZpZGVkLCB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gcGFzc2VzIHRoZSBpbnRlcnBvbGF0ZWRcbiAgICAgKiAgICByZXN1bHQgdGhyb3VnaCB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZChpbnRlcnBvbGF0ZWRSZXN1bHQsXG4gICAgICogICAgdHJ1c3RlZENvbnRleHQpfSBiZWZvcmUgcmV0dXJuaW5nIGl0LiAgUmVmZXIgdG8gdGhlIHtAbGluayBuZy4kc2NlICRzY2V9IHNlcnZpY2UgdGhhdFxuICAgICAqICAgIHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGZvciBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGFsbE9yTm90aGluZyBpZiBgdHJ1ZWAsIHRoZW4gdGhlIHJldHVybmVkIGZ1bmN0aW9uIHJldHVybnMgdW5kZWZpbmVkXG4gICAgICogICAgdW5sZXNzIGFsbCBlbWJlZGRlZCBleHByZXNzaW9ucyBldmFsdWF0ZSB0byBhIHZhbHVlIG90aGVyIHRoYW4gYHVuZGVmaW5lZGAuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQpfSBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gY29tcHV0ZSB0aGVcbiAgICAgKiAgICBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBUaGUgZnVuY3Rpb24gaGFzIHRoZXNlIHBhcmFtZXRlcnM6XG4gICAgICpcbiAgICAgKiAtIGBjb250ZXh0YDogZXZhbHVhdGlvbiBjb250ZXh0IGZvciBhbGwgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIGludGVycG9sYXRlZCB0ZXh0XG4gICAgICovXG4gICAgZnVuY3Rpb24gJGludGVycG9sYXRlKHRleHQsIG11c3RIYXZlRXhwcmVzc2lvbiwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZykge1xuICAgICAgYWxsT3JOb3RoaW5nID0gISFhbGxPck5vdGhpbmc7XG4gICAgICB2YXIgc3RhcnRJbmRleCxcbiAgICAgICAgICBlbmRJbmRleCxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgZXhwcmVzc2lvbnMgPSBbXSxcbiAgICAgICAgICBwYXJzZUZucyA9IFtdLFxuICAgICAgICAgIHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aCxcbiAgICAgICAgICBleHAsXG4gICAgICAgICAgY29uY2F0ID0gW10sXG4gICAgICAgICAgZXhwcmVzc2lvblBvc2l0aW9ucyA9IFtdO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgIGlmICgoKHN0YXJ0SW5kZXggPSB0ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wsIGluZGV4KSkgIT0gLTEpICYmXG4gICAgICAgICAgICAgKChlbmRJbmRleCA9IHRleHQuaW5kZXhPZihlbmRTeW1ib2wsIHN0YXJ0SW5kZXggKyBzdGFydFN5bWJvbExlbmd0aCkpICE9IC0xKSkge1xuICAgICAgICAgIGlmIChpbmRleCAhPT0gc3RhcnRJbmRleCkge1xuICAgICAgICAgICAgY29uY2F0LnB1c2godW5lc2NhcGVUZXh0KHRleHQuc3Vic3RyaW5nKGluZGV4LCBzdGFydEluZGV4KSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHAgPSB0ZXh0LnN1YnN0cmluZyhzdGFydEluZGV4ICsgc3RhcnRTeW1ib2xMZW5ndGgsIGVuZEluZGV4KTtcbiAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGV4cCk7XG4gICAgICAgICAgcGFyc2VGbnMucHVzaCgkcGFyc2UoZXhwLCBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKSk7XG4gICAgICAgICAgaW5kZXggPSBlbmRJbmRleCArIGVuZFN5bWJvbExlbmd0aDtcbiAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zLnB1c2goY29uY2F0Lmxlbmd0aCk7XG4gICAgICAgICAgY29uY2F0LnB1c2goJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHdlIGRpZCBub3QgZmluZCBhbiBpbnRlcnBvbGF0aW9uLCBzbyB3ZSBoYXZlIHRvIGFkZCB0aGUgcmVtYWluZGVyIHRvIHRoZSBzZXBhcmF0b3JzIGFycmF5XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25jYXQucHVzaCh1bmVzY2FwZVRleHQodGV4dC5zdWJzdHJpbmcoaW5kZXgpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmNhdGVuYXRpbmcgZXhwcmVzc2lvbnMgbWFrZXMgaXQgaGFyZCB0byByZWFzb24gYWJvdXQgd2hldGhlciBzb21lIGNvbWJpbmF0aW9uIG9mXG4gICAgICAvLyBjb25jYXRlbmF0ZWQgdmFsdWVzIGFyZSB1bnNhZmUgdG8gdXNlIGFuZCBjb3VsZCBlYXNpbHkgbGVhZCB0byBYU1MuICBCeSByZXF1aXJpbmcgdGhhdCBhXG4gICAgICAvLyBzaW5nbGUgZXhwcmVzc2lvbiBiZSB1c2VkIGZvciBpZnJhbWVbc3JjXSwgb2JqZWN0W3NyY10sIGV0Yy4sIHdlIGVuc3VyZSB0aGF0IHRoZSB2YWx1ZVxuICAgICAgLy8gdGhhdCdzIHVzZWQgaXMgYXNzaWduZWQgb3IgY29uc3RydWN0ZWQgYnkgc29tZSBKUyBjb2RlIHNvbWV3aGVyZSB0aGF0IGlzIG1vcmUgdGVzdGFibGUgb3JcbiAgICAgIC8vIG1ha2UgaXQgb2J2aW91cyB0aGF0IHlvdSBib3VuZCB0aGUgdmFsdWUgdG8gc29tZSB1c2VyIGNvbnRyb2xsZWQgdmFsdWUuICBUaGlzIGhlbHBzIHJlZHVjZVxuICAgICAgLy8gdGhlIGxvYWQgd2hlbiBhdWRpdGluZyBmb3IgWFNTIGlzc3Vlcy5cbiAgICAgIGlmICh0cnVzdGVkQ29udGV4dCAmJiBjb25jYXQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0KHRleHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbiB8fCBleHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGNvbXB1dGUgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsT3JOb3RoaW5nICYmIGlzVW5kZWZpbmVkKHZhbHVlc1tpXSkpIHJldHVybjtcbiAgICAgICAgICAgIGNvbmNhdFtleHByZXNzaW9uUG9zaXRpb25zW2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbmNhdC5qb2luKCcnKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVzdGVkQ29udGV4dCA/XG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWQodHJ1c3RlZENvbnRleHQsIHZhbHVlKSA6XG4gICAgICAgICAgICAkc2NlLnZhbHVlT2YodmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gaW50ZXJwb2xhdGlvbkZuKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIHZhciBpaSA9IGV4cHJlc3Npb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkoaWkpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSBwYXJzZUZuc1tpXShjb250ZXh0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBjb21wdXRlKHZhbHVlcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoJGludGVycG9sYXRlTWluRXJyLmludGVycih0ZXh0LCBlcnIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAvLyBhbGwgb2YgdGhlc2UgcHJvcGVydGllcyBhcmUgdW5kb2N1bWVudGVkIGZvciBub3dcbiAgICAgICAgICBleHA6IHRleHQsIC8vanVzdCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHJlZ3VsYXIgd2F0Y2hlcnMgY3JlYXRlZCB2aWEgJHdhdGNoXG4gICAgICAgICAgZXhwcmVzc2lvbnM6IGV4cHJlc3Npb25zLFxuICAgICAgICAgICQkd2F0Y2hEZWxlZ2F0ZTogZnVuY3Rpb24oc2NvcGUsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiR3YXRjaEdyb3VwKHBhcnNlRm5zLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hlcih2YWx1ZXMsIG9sZFZhbHVlcykge1xuICAgICAgICAgICAgICB2YXIgY3VyclZhbHVlID0gY29tcHV0ZSh2YWx1ZXMpO1xuICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGN1cnJWYWx1ZSwgdmFsdWVzICE9PSBvbGRWYWx1ZXMgPyBsYXN0VmFsdWUgOiBjdXJyVmFsdWUsIHNjb3BlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBjdXJyVmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFsdWUgPSBnZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIGFsbE9yTm90aGluZyAmJiAhaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoJGludGVycG9sYXRlTWluRXJyLmludGVycih0ZXh0LCBlcnIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZSNzdGFydFN5bWJvbFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIHN0YXJ0IG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB7e2AuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sIGAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbGB9IHRvIGNoYW5nZVxuICAgICAqIHRoZSBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdGFydCBzeW1ib2wuXG4gICAgICovXG4gICAgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc3RhcnRTeW1ib2w7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZSNlbmRTeW1ib2xcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBlbmQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYH19YC5cbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sIGAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2xgfSB0byBjaGFuZ2VcbiAgICAgKiB0aGUgc3ltYm9sLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gZW5kIHN5bWJvbC5cbiAgICAgKi9cbiAgICAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZW5kU3ltYm9sO1xuICAgIH07XG5cbiAgICByZXR1cm4gJGludGVycG9sYXRlO1xuICB9XTtcbn1cblxuZnVuY3Rpb24gJEludGVydmFsUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckd2luZG93JywgJyRxJywgJyQkcScsXG4gICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgICAkd2luZG93LCAgICRxLCAgICQkcSkge1xuICAgIHZhciBpbnRlcnZhbHMgPSB7fTtcblxuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAgKiBAbmFtZSAkaW50ZXJ2YWxcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIEFuZ3VsYXIncyB3cmFwcGVyIGZvciBgd2luZG93LnNldEludGVydmFsYC4gVGhlIGBmbmAgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZXZlcnkgYGRlbGF5YFxuICAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICAqXG4gICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgcmVnaXN0ZXJpbmcgYW4gaW50ZXJ2YWwgZnVuY3Rpb24gaXMgYSBwcm9taXNlLiBUaGlzIHByb21pc2Ugd2lsbCBiZVxuICAgICAgKiBub3RpZmllZCB1cG9uIGVhY2ggdGljayBvZiB0aGUgaW50ZXJ2YWwsIGFuZCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIGBjb3VudGAgaXRlcmF0aW9ucywgb3JcbiAgICAgICogcnVuIGluZGVmaW5pdGVseSBpZiBgY291bnRgIGlzIG5vdCBkZWZpbmVkLiBUaGUgdmFsdWUgb2YgdGhlIG5vdGlmaWNhdGlvbiB3aWxsIGJlIHRoZVxuICAgICAgKiBudW1iZXIgb2YgaXRlcmF0aW9ucyB0aGF0IGhhdmUgcnVuLlxuICAgICAgKiBUbyBjYW5jZWwgYW4gaW50ZXJ2YWwsIGNhbGwgYCRpbnRlcnZhbC5jYW5jZWwocHJvbWlzZSlgLlxuICAgICAgKlxuICAgICAgKiBJbiB0ZXN0cyB5b3UgY2FuIHVzZSB7QGxpbmsgbmdNb2NrLiRpbnRlcnZhbCNmbHVzaCBgJGludGVydmFsLmZsdXNoKG1pbGxpcylgfSB0b1xuICAgICAgKiBtb3ZlIGZvcndhcmQgYnkgYG1pbGxpc2AgbWlsbGlzZWNvbmRzIGFuZCB0cmlnZ2VyIGFueSBmdW5jdGlvbnMgc2NoZWR1bGVkIHRvIHJ1biBpbiB0aGF0XG4gICAgICAqIHRpbWUuXG4gICAgICAqXG4gICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAgICAqICoqTm90ZSoqOiBJbnRlcnZhbHMgY3JlYXRlZCBieSB0aGlzIHNlcnZpY2UgbXVzdCBiZSBleHBsaWNpdGx5IGRlc3Ryb3llZCB3aGVuIHlvdSBhcmUgZmluaXNoZWRcbiAgICAgICogd2l0aCB0aGVtLiAgSW4gcGFydGljdWxhciB0aGV5IGFyZSBub3QgYXV0b21hdGljYWxseSBkZXN0cm95ZWQgd2hlbiBhIGNvbnRyb2xsZXIncyBzY29wZSBvciBhXG4gICAgICAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQgYXJlIGRlc3Ryb3llZC5cbiAgICAgICogWW91IHNob3VsZCB0YWtlIHRoaXMgaW50byBjb25zaWRlcmF0aW9uIGFuZCBtYWtlIHN1cmUgdG8gYWx3YXlzIGNhbmNlbCB0aGUgaW50ZXJ2YWwgYXQgdGhlXG4gICAgICAqIGFwcHJvcHJpYXRlIG1vbWVudC4gIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIG9uIGhvdyBhbmQgd2hlbiB0byBkbyB0aGlzLlxuICAgICAgKiA8L2Rpdj5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCByZXBlYXRlZGx5LlxuICAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggZnVuY3Rpb24gY2FsbC5cbiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbY291bnQ9MF0gTnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdC4gSWYgbm90IHNldCwgb3IgMCwgd2lsbCByZXBlYXRcbiAgICAgICogICBpbmRlZmluaXRlbHkuXG4gICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlXG4gICAgICAqICAgd2lsbCBpbnZva2UgYGZuYCB3aXRoaW4gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHl9IGJsb2NrLlxuICAgICAgKiBAcGFyYW0gey4uLio9fSBQYXNzIGFkZGl0aW9uYWwgcGFyYW1ldGVycyB0byB0aGUgZXhlY3V0ZWQgZnVuY3Rpb24uXG4gICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSBub3RpZmllZCBvbiBlYWNoIGl0ZXJhdGlvbi5cbiAgICAgICpcbiAgICAgICogQGV4YW1wbGVcbiAgICAgICogPGV4YW1wbGUgbW9kdWxlPVwiaW50ZXJ2YWxFeGFtcGxlXCI+XG4gICAgICAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAqICAgPHNjcmlwdD5cbiAgICAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdpbnRlcnZhbEV4YW1wbGUnLCBbXSlcbiAgICAgICogICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGludGVydmFsJyxcbiAgICAgICogICAgICAgICBmdW5jdGlvbigkc2NvcGUsICRpbnRlcnZhbCkge1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmZvcm1hdCA9ICdNL2QveXkgaDptbTpzcyBhJztcbiAgICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gMTAwO1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAxMjA7XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICB2YXIgc3RvcDtcbiAgICAgICogICAgICAgICAgICRzY29wZS5maWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAvLyBEb24ndCBzdGFydCBhIG5ldyBmaWdodCBpZiB3ZSBhcmUgYWxyZWFkeSBmaWdodGluZ1xuICAgICAgKiAgICAgICAgICAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApICkgcmV0dXJuO1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgICBzdG9wID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYmxvb2RfMSA+IDAgJiYgJHNjb3BlLmJsb29kXzIgPiAwKSB7XG4gICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9ICRzY29wZS5ibG9vZF8xIC0gMztcbiAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gJHNjb3BlLmJsb29kXzIgLSA0O1xuICAgICAgKiAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0KCk7XG4gICAgICAqICAgICAgICAgICAgICAgfVxuICAgICAgKiAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgKiAgICAgICAgICAgfTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApKSB7XG4gICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wKTtcbiAgICAgICogICAgICAgICAgICAgICBzdG9wID0gdW5kZWZpbmVkO1xuICAgICAgKiAgICAgICAgICAgICB9XG4gICAgICAqICAgICAgICAgICB9O1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLnJlc2V0RmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7XG4gICAgICAqICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gMTIwO1xuICAgICAgKiAgICAgICAgICAgfTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBpbnRlcnZhbCBpcyBkZXN0cm95ZWQgdG9vXG4gICAgICAqICAgICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQoKTtcbiAgICAgICogICAgICAgICAgIH0pO1xuICAgICAgKiAgICAgICAgIH1dKVxuICAgICAgKiAgICAgICAvLyBSZWdpc3RlciB0aGUgJ215Q3VycmVudFRpbWUnIGRpcmVjdGl2ZSBmYWN0b3J5IG1ldGhvZC5cbiAgICAgICogICAgICAgLy8gV2UgaW5qZWN0ICRpbnRlcnZhbCBhbmQgZGF0ZUZpbHRlciBzZXJ2aWNlIHNpbmNlIHRoZSBmYWN0b3J5IG1ldGhvZCBpcyBESS5cbiAgICAgICogICAgICAgLmRpcmVjdGl2ZSgnbXlDdXJyZW50VGltZScsIFsnJGludGVydmFsJywgJ2RhdGVGaWx0ZXInLFxuICAgICAgKiAgICAgICAgIGZ1bmN0aW9uKCRpbnRlcnZhbCwgZGF0ZUZpbHRlcikge1xuICAgICAgKiAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBkaXJlY3RpdmUgbGluayBmdW5jdGlvbi4gKGNvbXBpbGUgZnVuY3Rpb24gbm90IG5lZWRlZClcbiAgICAgICogICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICogICAgICAgICAgICAgdmFyIGZvcm1hdCwgIC8vIGRhdGUgZm9ybWF0XG4gICAgICAqICAgICAgICAgICAgICAgICBzdG9wVGltZTsgLy8gc28gdGhhdCB3ZSBjYW4gY2FuY2VsIHRoZSB0aW1lIHVwZGF0ZXNcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgLy8gdXNlZCB0byB1cGRhdGUgdGhlIFVJXG4gICAgICAqICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoKSB7XG4gICAgICAqICAgICAgICAgICAgICAgZWxlbWVudC50ZXh0KGRhdGVGaWx0ZXIobmV3IERhdGUoKSwgZm9ybWF0KSk7XG4gICAgICAqICAgICAgICAgICAgIH1cbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgLy8gd2F0Y2ggdGhlIGV4cHJlc3Npb24sIGFuZCB1cGRhdGUgdGhlIFVJIG9uIGNoYW5nZS5cbiAgICAgICogICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLm15Q3VycmVudFRpbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAqICAgICAgICAgICAgICAgZm9ybWF0ID0gdmFsdWU7XG4gICAgICAqICAgICAgICAgICAgICAgdXBkYXRlVGltZSgpO1xuICAgICAgKiAgICAgICAgICAgICB9KTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgc3RvcFRpbWUgPSAkaW50ZXJ2YWwodXBkYXRlVGltZSwgMTAwMCk7XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAgIC8vIGxpc3RlbiBvbiBET00gZGVzdHJveSAocmVtb3ZhbCkgZXZlbnQsIGFuZCBjYW5jZWwgdGhlIG5leHQgVUkgdXBkYXRlXG4gICAgICAqICAgICAgICAgICAgIC8vIHRvIHByZXZlbnQgdXBkYXRpbmcgdGltZSBhZnRlciB0aGUgRE9NIGVsZW1lbnQgd2FzIHJlbW92ZWQuXG4gICAgICAqICAgICAgICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wVGltZSk7XG4gICAgICAqICAgICAgICAgICAgIH0pO1xuICAgICAgKiAgICAgICAgICAgfVxuICAgICAgKiAgICAgICAgIH1dKTtcbiAgICAgICogICA8L3NjcmlwdD5cbiAgICAgICpcbiAgICAgICogICA8ZGl2PlxuICAgICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICogICAgICAgPGxhYmVsPkRhdGUgZm9ybWF0OiA8aW5wdXQgbmctbW9kZWw9XCJmb3JtYXRcIj48L2xhYmVsPiA8aHIvPlxuICAgICAgKiAgICAgICBDdXJyZW50IHRpbWUgaXM6IDxzcGFuIG15LWN1cnJlbnQtdGltZT1cImZvcm1hdFwiPjwvc3Bhbj5cbiAgICAgICogICAgICAgPGhyLz5cbiAgICAgICogICAgICAgQmxvb2QgMSA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMX19PC9mb250PlxuICAgICAgKiAgICAgICBCbG9vZCAyIDogPGZvbnQgY29sb3I9J3JlZCc+e3tibG9vZF8yfX08L2ZvbnQ+XG4gICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJmaWdodCgpXCI+RmlnaHQ8L2J1dHRvbj5cbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInN0b3BGaWdodCgpXCI+U3RvcEZpZ2h0PC9idXR0b24+XG4gICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJyZXNldEZpZ2h0KClcIj5yZXNldEZpZ2h0PC9idXR0b24+XG4gICAgICAqICAgICA8L2Rpdj5cbiAgICAgICogICA8L2Rpdj5cbiAgICAgICpcbiAgICAgICogPC9maWxlPlxuICAgICAgKiA8L2V4YW1wbGU+XG4gICAgICAqL1xuICAgIGZ1bmN0aW9uIGludGVydmFsKGZuLCBkZWxheSwgY291bnQsIGludm9rZUFwcGx5KSB7XG4gICAgICB2YXIgaGFzUGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQsXG4gICAgICAgICAgYXJncyA9IGhhc1BhcmFtcyA/IHNsaWNlQXJncyhhcmd1bWVudHMsIDQpIDogW10sXG4gICAgICAgICAgc2V0SW50ZXJ2YWwgPSAkd2luZG93LnNldEludGVydmFsLFxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwgPSAkd2luZG93LmNsZWFySW50ZXJ2YWwsXG4gICAgICAgICAgaXRlcmF0aW9uID0gMCxcbiAgICAgICAgICBza2lwQXBwbHkgPSAoaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpLFxuICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICBjb3VudCA9IGlzRGVmaW5lZChjb3VudCkgPyBjb3VudCA6IDA7XG5cbiAgICAgIHByb21pc2UudGhlbihudWxsLCBudWxsLCAoIWhhc1BhcmFtcykgPyBmbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgIH0pO1xuXG4gICAgICBwcm9taXNlLiQkaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICAgIGRlZmVycmVkLm5vdGlmeShpdGVyYXRpb24rKyk7XG5cbiAgICAgICAgaWYgKGNvdW50ID4gMCAmJiBpdGVyYXRpb24gPj0gY291bnQpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGl0ZXJhdGlvbik7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9taXNlLiQkaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgZGVsZXRlIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBBcHBseSkgJHJvb3RTY29wZS4kYXBwbHkoKTtcblxuICAgICAgfSwgZGVsYXkpO1xuXG4gICAgICBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdID0gZGVmZXJyZWQ7XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAqIEBuYW1lICRpbnRlcnZhbCNjYW5jZWxcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBgJGludGVydmFsYCBmdW5jdGlvbi5cbiAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIHdhcyBzdWNjZXNzZnVsbHkgY2FuY2VsZWQuXG4gICAgICAqL1xuICAgIGludGVydmFsLmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgIGlmIChwcm9taXNlICYmIHByb21pc2UuJCRpbnRlcnZhbElkIGluIGludGVydmFscykge1xuICAgICAgICBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLnJlamVjdCgnY2FuY2VsZWQnKTtcbiAgICAgICAgJHdpbmRvdy5jbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKTtcbiAgICAgICAgZGVsZXRlIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gaW50ZXJ2YWw7XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbG9jYWxlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiAkbG9jYWxlIHNlcnZpY2UgcHJvdmlkZXMgbG9jYWxpemF0aW9uIHJ1bGVzIGZvciB2YXJpb3VzIEFuZ3VsYXIgY29tcG9uZW50cy4gQXMgb2YgcmlnaHQgbm93IHRoZVxuICogb25seSBwdWJsaWMgYXBpIGlzOlxuICpcbiAqICogYGlkYCDigJMgYHtzdHJpbmd9YCDigJMgbG9jYWxlIGlkIGZvcm1hdHRlZCBhcyBgbGFuZ3VhZ2VJZC1jb3VudHJ5SWRgIChlLmcuIGBlbi11c2ApXG4gKi9cblxudmFyIFBBVEhfTUFUQ0ggPSAvXihbXlxcPyNdKikoXFw/KFteI10qKSk/KCMoLiopKT8kLyxcbiAgICBERUZBVUxUX1BPUlRTID0geydodHRwJzogODAsICdodHRwcyc6IDQ0MywgJ2Z0cCc6IDIxfTtcbnZhciAkbG9jYXRpb25NaW5FcnIgPSBtaW5FcnIoJyRsb2NhdGlvbicpO1xuXG5cbi8qKlxuICogRW5jb2RlIHBhdGggdXNpbmcgZW5jb2RlVXJpU2VnbWVudCwgaWdub3JpbmcgZm9yd2FyZCBzbGFzaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0byBlbmNvZGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCkge1xuICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcvJyksXG4gICAgICBpID0gc2VnbWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBzZWdtZW50c1tpXSA9IGVuY29kZVVyaVNlZ21lbnQoc2VnbWVudHNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oJy8nKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VBYnNvbHV0ZVVybChhYnNvbHV0ZVVybCwgbG9jYXRpb25PYmopIHtcbiAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUoYWJzb2x1dGVVcmwpO1xuXG4gIGxvY2F0aW9uT2JqLiQkcHJvdG9jb2wgPSBwYXJzZWRVcmwucHJvdG9jb2w7XG4gIGxvY2F0aW9uT2JqLiQkaG9zdCA9IHBhcnNlZFVybC5ob3N0bmFtZTtcbiAgbG9jYXRpb25PYmouJCRwb3J0ID0gdG9JbnQocGFyc2VkVXJsLnBvcnQpIHx8IERFRkFVTFRfUE9SVFNbcGFyc2VkVXJsLnByb3RvY29sXSB8fCBudWxsO1xufVxuXG5cbmZ1bmN0aW9uIHBhcnNlQXBwVXJsKHJlbGF0aXZlVXJsLCBsb2NhdGlvbk9iaikge1xuICB2YXIgcHJlZml4ZWQgPSAocmVsYXRpdmVVcmwuY2hhckF0KDApICE9PSAnLycpO1xuICBpZiAocHJlZml4ZWQpIHtcbiAgICByZWxhdGl2ZVVybCA9ICcvJyArIHJlbGF0aXZlVXJsO1xuICB9XG4gIHZhciBtYXRjaCA9IHVybFJlc29sdmUocmVsYXRpdmVVcmwpO1xuICBsb2NhdGlvbk9iai4kJHBhdGggPSBkZWNvZGVVUklDb21wb25lbnQocHJlZml4ZWQgJiYgbWF0Y2gucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycgP1xuICAgICAgbWF0Y2gucGF0aG5hbWUuc3Vic3RyaW5nKDEpIDogbWF0Y2gucGF0aG5hbWUpO1xuICBsb2NhdGlvbk9iai4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUobWF0Y2guc2VhcmNoKTtcbiAgbG9jYXRpb25PYmouJCRoYXNoID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoLmhhc2gpO1xuXG4gIC8vIG1ha2Ugc3VyZSBwYXRoIHN0YXJ0cyB3aXRoICcvJztcbiAgaWYgKGxvY2F0aW9uT2JqLiQkcGF0aCAmJiBsb2NhdGlvbk9iai4kJHBhdGguY2hhckF0KDApICE9ICcvJykge1xuICAgIGxvY2F0aW9uT2JqLiQkcGF0aCA9ICcvJyArIGxvY2F0aW9uT2JqLiQkcGF0aDtcbiAgfVxufVxuXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiZWdpblxuICogQHBhcmFtIHtzdHJpbmd9IHdob2xlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZXR1cm5zIHRleHQgZnJvbSB3aG9sZSBhZnRlciBiZWdpbiBvciB1bmRlZmluZWQgaWYgaXQgZG9lcyBub3QgYmVnaW4gd2l0aFxuICogICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiZWdpbnNXaXRoKGJlZ2luLCB3aG9sZSkge1xuICBpZiAod2hvbGUuaW5kZXhPZihiZWdpbikgPT09IDApIHtcbiAgICByZXR1cm4gd2hvbGUuc3Vic3RyKGJlZ2luLmxlbmd0aCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHJpcEhhc2godXJsKSB7XG4gIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gIHJldHVybiBpbmRleCA9PSAtMSA/IHVybCA6IHVybC5zdWJzdHIoMCwgaW5kZXgpO1xufVxuXG5mdW5jdGlvbiB0cmltRW1wdHlIYXNoKHVybCkge1xuICByZXR1cm4gdXJsLnJlcGxhY2UoLygjLispfCMkLywgJyQxJyk7XG59XG5cblxuZnVuY3Rpb24gc3RyaXBGaWxlKHVybCkge1xuICByZXR1cm4gdXJsLnN1YnN0cigwLCBzdHJpcEhhc2godXJsKS5sYXN0SW5kZXhPZignLycpICsgMSk7XG59XG5cbi8qIHJldHVybiB0aGUgc2VydmVyIG9ubHkgKHNjaGVtZTovL2hvc3Q6cG9ydCkgKi9cbmZ1bmN0aW9uIHNlcnZlckJhc2UodXJsKSB7XG4gIHJldHVybiB1cmwuc3Vic3RyaW5nKDAsIHVybC5pbmRleE9mKCcvJywgdXJsLmluZGV4T2YoJy8vJykgKyAyKSk7XG59XG5cblxuLyoqXG4gKiBMb2NhdGlvbkh0bWw1VXJsIHJlcHJlc2VudHMgYW4gdXJsXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gSFRNTDUgbW9kZSBpcyBlbmFibGVkIGFuZCBzdXBwb3J0ZWRcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZU5vRmlsZSBhcHBsaWNhdGlvbiBiYXNlIFVSTCBzdHJpcHBlZCBvZiBhbnkgZmlsZW5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlUHJlZml4IHVybCBwYXRoIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkh0bWw1VXJsKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsIGJhc2VQcmVmaXgpIHtcbiAgdGhpcy4kJGh0bWw1ID0gdHJ1ZTtcbiAgYmFzZVByZWZpeCA9IGJhc2VQcmVmaXggfHwgJyc7XG4gIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcyk7XG5cblxuICAvKipcbiAgICogUGFyc2UgZ2l2ZW4gaHRtbDUgKHJlZ3VsYXIpIHVybCBzdHJpbmcgaW50byBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSFRNTDUgdXJsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLiQkcGFyc2UgPSBmdW5jdGlvbih1cmwpIHtcbiAgICB2YXIgcGF0aFVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgdXJsKTtcbiAgICBpZiAoIWlzU3RyaW5nKHBhdGhVcmwpKSB7XG4gICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2lwdGhwcmZ4JywgJ0ludmFsaWQgdXJsIFwiezB9XCIsIG1pc3NpbmcgcGF0aCBwcmVmaXggXCJ7MX1cIi4nLCB1cmwsXG4gICAgICAgICAgYXBwQmFzZU5vRmlsZSk7XG4gICAgfVxuXG4gICAgcGFyc2VBcHBVcmwocGF0aFVybCwgdGhpcyk7XG5cbiAgICBpZiAoIXRoaXMuJCRwYXRoKSB7XG4gICAgICB0aGlzLiQkcGF0aCA9ICcvJztcbiAgICB9XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb21wb3NlIHVybCBhbmQgdXBkYXRlIGBhYnNVcmxgIHByb3BlcnR5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xuXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XG4gICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2VOb0ZpbGUgKyB0aGlzLiQkdXJsLnN1YnN0cigxKTsgLy8gZmlyc3QgY2hhciBpcyBhbHdheXMgJy8nXG4gIH07XG5cbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xuICAgIGlmIChyZWxIcmVmICYmIHJlbEhyZWZbMF0gPT09ICcjJykge1xuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBsaW5rcyB0byBoYXNoIGZyYWdtZW50czpcbiAgICAgIC8vIGtlZXAgdGhlIG9sZCB1cmwgYW5kIG9ubHkgcmVwbGFjZSB0aGUgaGFzaCBmcmFnbWVudFxuICAgICAgdGhpcy5oYXNoKHJlbEhyZWYuc2xpY2UoMSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBhcHBVcmwsIHByZXZBcHBVcmw7XG4gICAgdmFyIHJld3JpdHRlblVybDtcblxuICAgIGlmIChpc0RlZmluZWQoYXBwVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlLCB1cmwpKSkge1xuICAgICAgcHJldkFwcFVybCA9IGFwcFVybDtcbiAgICAgIGlmIChpc0RlZmluZWQoYXBwVXJsID0gYmVnaW5zV2l0aChiYXNlUHJlZml4LCBhcHBVcmwpKSkge1xuICAgICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlICsgKGJlZ2luc1dpdGgoJy8nLCBhcHBVcmwpIHx8IGFwcFVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlICsgcHJldkFwcFVybDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCkpKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlICsgYXBwVXJsO1xuICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PSB1cmwgKyAnLycpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGU7XG4gICAgfVxuICAgIGlmIChyZXdyaXR0ZW5VcmwpIHtcbiAgICAgIHRoaXMuJCRwYXJzZShyZXdyaXR0ZW5VcmwpO1xuICAgIH1cbiAgICByZXR1cm4gISFyZXdyaXR0ZW5Vcmw7XG4gIH07XG59XG5cblxuLyoqXG4gKiBMb2NhdGlvbkhhc2hiYW5nVXJsIHJlcHJlc2VudHMgdXJsXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gZGV2ZWxvcGVyIGRvZXNuJ3Qgb3B0IGludG8gaHRtbDUgbW9kZS5cbiAqIEl0IGFsc28gc2VydmVzIGFzIHRoZSBiYXNlIGNsYXNzIGZvciBodG1sNSBtb2RlIGZhbGxiYWNrIG9uIGxlZ2FjeSBicm93c2Vycy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZU5vRmlsZSBhcHBsaWNhdGlvbiBiYXNlIFVSTCBzdHJpcHBlZCBvZiBhbnkgZmlsZW5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nVXJsKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsIGhhc2hQcmVmaXgpIHtcblxuICBwYXJzZUFic29sdXRlVXJsKGFwcEJhc2UsIHRoaXMpO1xuXG5cbiAgLyoqXG4gICAqIFBhcnNlIGdpdmVuIGhhc2hiYW5nIHVybCBpbnRvIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBIYXNoYmFuZyB1cmxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHZhciB3aXRob3V0QmFzZVVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZSwgdXJsKSB8fCBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCk7XG4gICAgdmFyIHdpdGhvdXRIYXNoVXJsO1xuXG4gICAgaWYgKCFpc1VuZGVmaW5lZCh3aXRob3V0QmFzZVVybCkgJiYgd2l0aG91dEJhc2VVcmwuY2hhckF0KDApID09PSAnIycpIHtcblxuICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIHVybCBzdGFydHMgd2l0aCBhIGhhc2ggc28gd2UgaGF2ZVxuICAgICAgLy8gZ290IGVpdGhlciBhIGhhc2hiYW5nIHBhdGggb3IgYSBwbGFpbiBoYXNoIGZyYWdtZW50XG4gICAgICB3aXRob3V0SGFzaFVybCA9IGJlZ2luc1dpdGgoaGFzaFByZWZpeCwgd2l0aG91dEJhc2VVcmwpO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHdpdGhvdXRIYXNoVXJsKSkge1xuICAgICAgICAvLyBUaGVyZSB3YXMgbm8gaGFzaGJhbmcgcHJlZml4IHNvIHdlIGp1c3QgaGF2ZSBhIGhhc2ggZnJhZ21lbnRcbiAgICAgICAgd2l0aG91dEhhc2hVcmwgPSB3aXRob3V0QmFzZVVybDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGVyZSB3YXMgbm8gaGFzaGJhbmcgcGF0aCBub3IgaGFzaCBmcmFnbWVudDpcbiAgICAgIC8vIElmIHdlIGFyZSBpbiBIVE1MNSBtb2RlIHdlIHVzZSB3aGF0IGlzIGxlZnQgYXMgdGhlIHBhdGg7XG4gICAgICAvLyBPdGhlcndpc2Ugd2UgaWdub3JlIHdoYXQgaXMgbGVmdFxuICAgICAgaWYgKHRoaXMuJCRodG1sNSkge1xuICAgICAgICB3aXRob3V0SGFzaFVybCA9IHdpdGhvdXRCYXNlVXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2l0aG91dEhhc2hVcmwgPSAnJztcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHdpdGhvdXRCYXNlVXJsKSkge1xuICAgICAgICAgIGFwcEJhc2UgPSB1cmw7XG4gICAgICAgICAgdGhpcy5yZXBsYWNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJzZUFwcFVybCh3aXRob3V0SGFzaFVybCwgdGhpcyk7XG5cbiAgICB0aGlzLiQkcGF0aCA9IHJlbW92ZVdpbmRvd3NEcml2ZU5hbWUodGhpcy4kJHBhdGgsIHdpdGhvdXRIYXNoVXJsLCBhcHBCYXNlKTtcblxuICAgIHRoaXMuJCRjb21wb3NlKCk7XG5cbiAgICAvKlxuICAgICAqIEluIFdpbmRvd3MsIG9uIGFuIGFuY2hvciBub2RlIG9uIGRvY3VtZW50cyBsb2FkZWQgZnJvbVxuICAgICAqIHRoZSBmaWxlc3lzdGVtLCB0aGUgYnJvd3NlciB3aWxsIHJldHVybiBhIHBhdGhuYW1lXG4gICAgICogcHJlZml4ZWQgd2l0aCB0aGUgZHJpdmUgbmFtZSAoJy9DOi9wYXRoJykgd2hlbiBhXG4gICAgICogcGF0aG5hbWUgd2l0aG91dCBhIGRyaXZlIGlzIHNldDpcbiAgICAgKiAgKiBhLnNldEF0dHJpYnV0ZSgnaHJlZicsICcvZm9vJylcbiAgICAgKiAgICogYS5wYXRobmFtZSA9PT0gJy9DOi9mb28nIC8vdHJ1ZVxuICAgICAqXG4gICAgICogSW5zaWRlIG9mIEFuZ3VsYXIsIHdlJ3JlIGFsd2F5cyB1c2luZyBwYXRobmFtZXMgdGhhdFxuICAgICAqIGRvIG5vdCBpbmNsdWRlIGRyaXZlIG5hbWVzIGZvciByb3V0aW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZVdpbmRvd3NEcml2ZU5hbWUocGF0aCwgdXJsLCBiYXNlKSB7XG4gICAgICAvKlxuICAgICAgTWF0Y2hlcyBwYXRocyBmb3IgZmlsZSBwcm90b2NvbCBvbiB3aW5kb3dzLFxuICAgICAgc3VjaCBhcyAvQzovZm9vL2JhciwgYW5kIGNhcHR1cmVzIG9ubHkgL2Zvby9iYXIuXG4gICAgICAqL1xuICAgICAgdmFyIHdpbmRvd3NGaWxlUGF0aEV4cCA9IC9eXFwvW0EtWl06KFxcLy4qKS87XG5cbiAgICAgIHZhciBmaXJzdFBhdGhTZWdtZW50TWF0Y2g7XG5cbiAgICAgIC8vR2V0IHRoZSByZWxhdGl2ZSBwYXRoIGZyb20gdGhlIGlucHV0IFVSTC5cbiAgICAgIGlmICh1cmwuaW5kZXhPZihiYXNlKSA9PT0gMCkge1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShiYXNlLCAnJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBpbnB1dCBVUkwgaW50ZW50aW9uYWxseSBjb250YWlucyBhIGZpcnN0IHBhdGggc2VnbWVudCB0aGF0IGVuZHMgd2l0aCBhIGNvbG9uLlxuICAgICAgaWYgKHdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHVybCkpIHtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9XG5cbiAgICAgIGZpcnN0UGF0aFNlZ21lbnRNYXRjaCA9IHdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHBhdGgpO1xuICAgICAgcmV0dXJuIGZpcnN0UGF0aFNlZ21lbnRNYXRjaCA/IGZpcnN0UGF0aFNlZ21lbnRNYXRjaFsxXSA6IHBhdGg7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDb21wb3NlIGhhc2hiYW5nIHVybCBhbmQgdXBkYXRlIGBhYnNVcmxgIHByb3BlcnR5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xuXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XG4gICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2UgKyAodGhpcy4kJHVybCA/IGhhc2hQcmVmaXggKyB0aGlzLiQkdXJsIDogJycpO1xuICB9O1xuXG4gIHRoaXMuJCRwYXJzZUxpbmtVcmwgPSBmdW5jdGlvbih1cmwsIHJlbEhyZWYpIHtcbiAgICBpZiAoc3RyaXBIYXNoKGFwcEJhc2UpID09IHN0cmlwSGFzaCh1cmwpKSB7XG4gICAgICB0aGlzLiQkcGFyc2UodXJsKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG59XG5cblxuLyoqXG4gKiBMb2NhdGlvbkhhc2hiYW5nVXJsIHJlcHJlc2VudHMgdXJsXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gaHRtbDUgaGlzdG9yeSBhcGkgaXMgZW5hYmxlZCBidXQgdGhlIGJyb3dzZXJcbiAqIGRvZXMgbm90IHN1cHBvcnQgaXQuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2VOb0ZpbGUgYXBwbGljYXRpb24gYmFzZSBVUkwgc3RyaXBwZWQgb2YgYW55IGZpbGVuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaFByZWZpeCBoYXNoYmFuZyBwcmVmaXhcbiAqL1xuZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwoYXBwQmFzZSwgYXBwQmFzZU5vRmlsZSwgaGFzaFByZWZpeCkge1xuICB0aGlzLiQkaHRtbDUgPSB0cnVlO1xuICBMb2NhdGlvbkhhc2hiYW5nVXJsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xuICAgIGlmIChyZWxIcmVmICYmIHJlbEhyZWZbMF0gPT09ICcjJykge1xuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBsaW5rcyB0byBoYXNoIGZyYWdtZW50czpcbiAgICAgIC8vIGtlZXAgdGhlIG9sZCB1cmwgYW5kIG9ubHkgcmVwbGFjZSB0aGUgaGFzaCBmcmFnbWVudFxuICAgICAgdGhpcy5oYXNoKHJlbEhyZWYuc2xpY2UoMSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHJld3JpdHRlblVybDtcbiAgICB2YXIgYXBwVXJsO1xuXG4gICAgaWYgKGFwcEJhc2UgPT0gc3RyaXBIYXNoKHVybCkpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IHVybDtcbiAgICB9IGVsc2UgaWYgKChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCkpKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlICsgaGFzaFByZWZpeCArIGFwcFVybDtcbiAgICB9IGVsc2UgaWYgKGFwcEJhc2VOb0ZpbGUgPT09IHVybCArICcvJykge1xuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZTtcbiAgICB9XG4gICAgaWYgKHJld3JpdHRlblVybCkge1xuICAgICAgdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCk7XG4gICAgfVxuICAgIHJldHVybiAhIXJld3JpdHRlblVybDtcbiAgfTtcblxuICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xuXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XG4gICAgLy8gaW5jbHVkZSBoYXNoUHJlZml4IGluICQkYWJzVXJsIHdoZW4gJCR1cmwgaXMgZW1wdHkgc28gSUU5IGRvZXMgbm90IHJlbG9hZCBwYWdlIGJlY2F1c2Ugb2YgcmVtb3ZhbCBvZiAnIydcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZSArIGhhc2hQcmVmaXggKyB0aGlzLiQkdXJsO1xuICB9O1xuXG59XG5cblxudmFyIGxvY2F0aW9uUHJvdG90eXBlID0ge1xuXG4gIC8qKlxuICAgKiBBcmUgd2UgaW4gaHRtbDUgbW9kZT9cbiAgICogQHByaXZhdGVcbiAgICovXG4gICQkaHRtbDU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBIYXMgYW55IGNoYW5nZSBiZWVuIHJlcGxhY2luZz9cbiAgICogQHByaXZhdGVcbiAgICovXG4gICQkcmVwbGFjZTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI2Fic1VybFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBmdWxsIHVybCByZXByZXNlbnRhdGlvbiB3aXRoIGFsbCBzZWdtZW50cyBlbmNvZGVkIGFjY29yZGluZyB0byBydWxlcyBzcGVjaWZpZWQgaW5cbiAgICogW1JGQyAzOTg2XShodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzOTg2LnR4dCkuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgYWJzVXJsID0gJGxvY2F0aW9uLmFic1VybCgpO1xuICAgKiAvLyA9PiBcImh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gZnVsbCB1cmxcbiAgICovXG4gIGFic1VybDogbG9jYXRpb25HZXR0ZXIoJyQkYWJzVXJsJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3VybFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gdXJsIChlLmcuIGAvcGF0aD9hPWIjaGFzaGApIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIHBhdGgsIHNlYXJjaCBhbmQgaGFzaCwgd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciB1cmwgPSAkbG9jYXRpb24udXJsKCk7XG4gICAqIC8vID0+IFwiL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdXJsIE5ldyB1cmwgd2l0aG91dCBiYXNlIHByZWZpeCAoZS5nLiBgL3BhdGg/YT1iI2hhc2hgKVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHVybFxuICAgKi9cbiAgdXJsOiBmdW5jdGlvbih1cmwpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodXJsKSkge1xuICAgICAgcmV0dXJuIHRoaXMuJCR1cmw7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoID0gUEFUSF9NQVRDSC5leGVjKHVybCk7XG4gICAgaWYgKG1hdGNoWzFdIHx8IHVybCA9PT0gJycpIHRoaXMucGF0aChkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pKTtcbiAgICBpZiAobWF0Y2hbMl0gfHwgbWF0Y2hbMV0gfHwgdXJsID09PSAnJykgdGhpcy5zZWFyY2gobWF0Y2hbM10gfHwgJycpO1xuICAgIHRoaXMuaGFzaChtYXRjaFs1XSB8fCAnJyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcHJvdG9jb2xcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxuICAgKlxuICAgKiBSZXR1cm4gcHJvdG9jb2wgb2YgY3VycmVudCB1cmwuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgcHJvdG9jb2wgPSAkbG9jYXRpb24ucHJvdG9jb2woKTtcbiAgICogLy8gPT4gXCJodHRwXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gcHJvdG9jb2wgb2YgY3VycmVudCB1cmxcbiAgICovXG4gIHByb3RvY29sOiBsb2NhdGlvbkdldHRlcignJCRwcm90b2NvbCcpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNob3N0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIGhvc3Qgb2YgY3VycmVudCB1cmwuXG4gICAqXG4gICAqIE5vdGU6IGNvbXBhcmVkIHRvIHRoZSBub24tYW5ndWxhciB2ZXJzaW9uIGBsb2NhdGlvbi5ob3N0YCB3aGljaCByZXR1cm5zIGBob3N0bmFtZTpwb3J0YCwgdGhpcyByZXR1cm5zIHRoZSBgaG9zdG5hbWVgIHBvcnRpb24gb25seS5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBob3N0ID0gJGxvY2F0aW9uLmhvc3QoKTtcbiAgICogLy8gPT4gXCJleGFtcGxlLmNvbVwiXG4gICAqXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vdXNlcjpwYXNzd29yZEBleGFtcGxlLmNvbTo4MDgwLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogaG9zdCA9ICRsb2NhdGlvbi5ob3N0KCk7XG4gICAqIC8vID0+IFwiZXhhbXBsZS5jb21cIlxuICAgKiBob3N0ID0gbG9jYXRpb24uaG9zdDtcbiAgICogLy8gPT4gXCJleGFtcGxlLmNvbTo4MDgwXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gaG9zdCBvZiBjdXJyZW50IHVybC5cbiAgICovXG4gIGhvc3Q6IGxvY2F0aW9uR2V0dGVyKCckJGhvc3QnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcG9ydFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBwb3J0IG9mIGN1cnJlbnQgdXJsLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHBvcnQgPSAkbG9jYXRpb24ucG9ydCgpO1xuICAgKiAvLyA9PiA4MFxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBwb3J0XG4gICAqL1xuICBwb3J0OiBsb2NhdGlvbkdldHRlcignJCRwb3J0JyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3BhdGhcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHBhdGggb2YgY3VycmVudCB1cmwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2UgcGF0aCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKiBOb3RlOiBQYXRoIHNob3VsZCBhbHdheXMgYmVnaW4gd2l0aCBmb3J3YXJkIHNsYXNoICgvKSwgdGhpcyBtZXRob2Qgd2lsbCBhZGQgdGhlIGZvcndhcmQgc2xhc2hcbiAgICogaWYgaXQgaXMgbWlzc2luZy5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBwYXRoID0gJGxvY2F0aW9uLnBhdGgoKTtcbiAgICogLy8gPT4gXCIvc29tZS9wYXRoXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gcGF0aCBOZXcgcGF0aFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHBhdGhcbiAgICovXG4gIHBhdGg6IGxvY2F0aW9uR2V0dGVyU2V0dGVyKCckJHBhdGgnLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgcGF0aCA9IHBhdGggIT09IG51bGwgPyBwYXRoLnRvU3RyaW5nKCkgOiAnJztcbiAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNzZWFyY2hcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHNlYXJjaCBwYXJ0IChhcyBvYmplY3QpIG9mIGN1cnJlbnQgdXJsIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIHNlYXJjaCBwYXJ0IHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgc2VhcmNoT2JqZWN0ID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xuICAgKiAvLyA9PiB7Zm9vOiAnYmFyJywgYmF6OiAneG94byd9XG4gICAqXG4gICAqIC8vIHNldCBmb28gdG8gJ3lpcGVlJ1xuICAgKiAkbG9jYXRpb24uc2VhcmNoKCdmb28nLCAneWlwZWUnKTtcbiAgICogLy8gJGxvY2F0aW9uLnNlYXJjaCgpID0+IHtmb286ICd5aXBlZScsIGJhejogJ3hveG8nfVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0LjxzdHJpbmc+fE9iamVjdC48QXJyYXkuPHN0cmluZz4+fSBzZWFyY2ggTmV3IHNlYXJjaCBwYXJhbXMgLSBzdHJpbmcgb3JcbiAgICogaGFzaCBvYmplY3QuXG4gICAqXG4gICAqIFdoZW4gY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQgdGhlIG1ldGhvZCBhY3RzIGFzIGEgc2V0dGVyLCBzZXR0aW5nIHRoZSBgc2VhcmNoYCBjb21wb25lbnRcbiAgICogb2YgYCRsb2NhdGlvbmAgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAgICpcbiAgICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgaGFzaCBvYmplY3QgY29udGFpbmluZyBhbiBhcnJheSBvZiB2YWx1ZXMsIHRoZXNlIHZhbHVlcyB3aWxsIGJlIGVuY29kZWRcbiAgICogYXMgZHVwbGljYXRlIHNlYXJjaCBwYXJhbWV0ZXJzIGluIHRoZSB1cmwuXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xOdW1iZXJ8QXJyYXk8c3RyaW5nPnxib29sZWFuKT19IHBhcmFtVmFsdWUgSWYgYHNlYXJjaGAgaXMgYSBzdHJpbmcgb3IgbnVtYmVyLCB0aGVuIGBwYXJhbVZhbHVlYFxuICAgKiB3aWxsIG92ZXJyaWRlIG9ubHkgYSBzaW5nbGUgc2VhcmNoIHByb3BlcnR5LlxuICAgKlxuICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYW4gYXJyYXksIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIHByb3BlcnR5IG9mIHRoZSBgc2VhcmNoYCBjb21wb25lbnQgb2ZcbiAgICogYCRsb2NhdGlvbmAgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgbnVsbGAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGRlbGV0ZWQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGFkZGVkIHdpdGggbm9cbiAgICogdmFsdWUgbm9yIHRyYWlsaW5nIGVxdWFsIHNpZ24uXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gSWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHBhcnNlZCBgc2VhcmNoYCBvYmplY3QuIElmIGNhbGxlZCB3aXRoXG4gICAqIG9uZSBvciBtb3JlIGFyZ3VtZW50cyByZXR1cm5zIGAkbG9jYXRpb25gIG9iamVjdCBpdHNlbGYuXG4gICAqL1xuICBzZWFyY2g6IGZ1bmN0aW9uKHNlYXJjaCwgcGFyYW1WYWx1ZSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gdGhpcy4kJHNlYXJjaDtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKGlzU3RyaW5nKHNlYXJjaCkgfHwgaXNOdW1iZXIoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKHNlYXJjaCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IGNvcHkoc2VhcmNoLCB7fSk7XG4gICAgICAgICAgLy8gcmVtb3ZlIG9iamVjdCB1bmRlZmluZWQgb3IgbnVsbCBwcm9wZXJ0aWVzXG4gICAgICAgICAgZm9yRWFjaChzZWFyY2gsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSBkZWxldGUgc2VhcmNoW2tleV07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLiQkc2VhcmNoID0gc2VhcmNoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXNyY2hhcmcnLFxuICAgICAgICAgICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgJGxvY2F0aW9uI3NlYXJjaCgpYCBjYWxsIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHBhcmFtVmFsdWUpIHx8IHBhcmFtVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy4kJHNlYXJjaFtzZWFyY2hdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2hbc2VhcmNoXSA9IHBhcmFtVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNoYXNoXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybnMgdGhlIGhhc2ggZnJhZ21lbnQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVycy5cbiAgICpcbiAgICogQ2hhbmdlcyB0aGUgaGFzaCBmcmFnbWVudCB3aGVuIGNhbGxlZCB3aXRoIGEgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG8jaGFzaFZhbHVlXG4gICAqIHZhciBoYXNoID0gJGxvY2F0aW9uLmhhc2goKTtcbiAgICogLy8gPT4gXCJoYXNoVmFsdWVcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBoYXNoIE5ldyBoYXNoIGZyYWdtZW50XG4gICAqIEByZXR1cm4ge3N0cmluZ30gaGFzaFxuICAgKi9cbiAgaGFzaDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkaGFzaCcsIGZ1bmN0aW9uKGhhc2gpIHtcbiAgICByZXR1cm4gaGFzaCAhPT0gbnVsbCA/IGhhc2gudG9TdHJpbmcoKSA6ICcnO1xuICB9KSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcmVwbGFjZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYgY2FsbGVkLCBhbGwgY2hhbmdlcyB0byAkbG9jYXRpb24gZHVyaW5nIHRoZSBjdXJyZW50IGAkZGlnZXN0YCB3aWxsIHJlcGxhY2UgdGhlIGN1cnJlbnQgaGlzdG9yeVxuICAgKiByZWNvcmQsIGluc3RlYWQgb2YgYWRkaW5nIGEgbmV3IG9uZS5cbiAgICovXG4gIHJlcGxhY2U6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJCRyZXBsYWNlID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuZm9yRWFjaChbTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwsIExvY2F0aW9uSGFzaGJhbmdVcmwsIExvY2F0aW9uSHRtbDVVcmxdLCBmdW5jdGlvbihMb2NhdGlvbikge1xuICBMb2NhdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGxvY2F0aW9uUHJvdG90eXBlKTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jc3RhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHRoZSBoaXN0b3J5IHN0YXRlIG9iamVjdCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSB0aGUgaGlzdG9yeSBzdGF0ZSBvYmplY3Qgd2hlbiBjYWxsZWQgd2l0aCBvbmUgcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqIFRoZSBzdGF0ZSBvYmplY3QgaXMgbGF0ZXIgcGFzc2VkIHRvIGBwdXNoU3RhdGVgIG9yIGByZXBsYWNlU3RhdGVgLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBzdXBwb3J0ZWQgb25seSBpbiBIVE1MNSBtb2RlIGFuZCBvbmx5IGluIGJyb3dzZXJzIHN1cHBvcnRpbmdcbiAgICogdGhlIEhUTUw1IEhpc3RvcnkgQVBJIChpLmUuIG1ldGhvZHMgYHB1c2hTdGF0ZWAgYW5kIGByZXBsYWNlU3RhdGVgKS4gSWYgeW91IG5lZWQgdG8gc3VwcG9ydFxuICAgKiBvbGRlciBicm93c2VycyAobGlrZSBJRTkgb3IgQW5kcm9pZCA8IDQuMCksIGRvbid0IHVzZSB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZSBTdGF0ZSBvYmplY3QgZm9yIHB1c2hTdGF0ZSBvciByZXBsYWNlU3RhdGVcbiAgICogQHJldHVybiB7b2JqZWN0fSBzdGF0ZVxuICAgKi9cbiAgTG9jYXRpb24ucHJvdG90eXBlLnN0YXRlID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLiQkc3RhdGU7XG4gICAgfVxuXG4gICAgaWYgKExvY2F0aW9uICE9PSBMb2NhdGlvbkh0bWw1VXJsIHx8ICF0aGlzLiQkaHRtbDUpIHtcbiAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignbm9zdGF0ZScsICdIaXN0b3J5IEFQSSBzdGF0ZSBzdXBwb3J0IGlzIGF2YWlsYWJsZSBvbmx5ICcgK1xuICAgICAgICAnaW4gSFRNTDUgbW9kZSBhbmQgb25seSBpbiBicm93c2VycyBzdXBwb3J0aW5nIEhUTUw1IEhpc3RvcnkgQVBJJyk7XG4gICAgfVxuICAgIC8vIFRoZSB1c2VyIG1pZ2h0IG1vZGlmeSBgc3RhdGVPYmplY3RgIGFmdGVyIGludm9raW5nIGAkbG9jYXRpb24uc3RhdGUoc3RhdGVPYmplY3QpYFxuICAgIC8vIGJ1dCB3ZSdyZSBjaGFuZ2luZyB0aGUgJCRzdGF0ZSByZWZlcmVuY2UgdG8gJGJyb3dzZXIuc3RhdGUoKSBkdXJpbmcgdGhlICRkaWdlc3RcbiAgICAvLyBzbyB0aGUgbW9kaWZpY2F0aW9uIHdpbmRvdyBpcyBuYXJyb3cuXG4gICAgdGhpcy4kJHN0YXRlID0gaXNVbmRlZmluZWQoc3RhdGUpID8gbnVsbCA6IHN0YXRlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59KTtcblxuXG5mdW5jdGlvbiBsb2NhdGlvbkdldHRlcihwcm9wZXJ0eSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuICB9O1xufVxuXG5cbmZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyU2V0dGVyKHByb3BlcnR5LCBwcmVwcm9jZXNzKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcbiAgICB9XG5cbiAgICB0aGlzW3Byb3BlcnR5XSA9IHByZXByb2Nlc3ModmFsdWUpO1xuICAgIHRoaXMuJCRjb21wb3NlKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbG9jYXRpb25cbiAqXG4gKiBAcmVxdWlyZXMgJHJvb3RFbGVtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgJGxvY2F0aW9uIHNlcnZpY2UgcGFyc2VzIHRoZSBVUkwgaW4gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIgKGJhc2VkIG9uIHRoZVxuICogW3dpbmRvdy5sb2NhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vd2luZG93LmxvY2F0aW9uKSkgYW5kIG1ha2VzIHRoZSBVUkxcbiAqIGF2YWlsYWJsZSB0byB5b3VyIGFwcGxpY2F0aW9uLiBDaGFuZ2VzIHRvIHRoZSBVUkwgaW4gdGhlIGFkZHJlc3MgYmFyIGFyZSByZWZsZWN0ZWQgaW50b1xuICogJGxvY2F0aW9uIHNlcnZpY2UgYW5kIGNoYW5nZXMgdG8gJGxvY2F0aW9uIGFyZSByZWZsZWN0ZWQgaW50byB0aGUgYnJvd3NlciBhZGRyZXNzIGJhci5cbiAqXG4gKiAqKlRoZSAkbG9jYXRpb24gc2VydmljZToqKlxuICpcbiAqIC0gRXhwb3NlcyB0aGUgY3VycmVudCBVUkwgaW4gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIsIHNvIHlvdSBjYW5cbiAqICAgLSBXYXRjaCBhbmQgb2JzZXJ2ZSB0aGUgVVJMLlxuICogICAtIENoYW5nZSB0aGUgVVJMLlxuICogLSBTeW5jaHJvbml6ZXMgdGhlIFVSTCB3aXRoIHRoZSBicm93c2VyIHdoZW4gdGhlIHVzZXJcbiAqICAgLSBDaGFuZ2VzIHRoZSBhZGRyZXNzIGJhci5cbiAqICAgLSBDbGlja3MgdGhlIGJhY2sgb3IgZm9yd2FyZCBidXR0b24gKG9yIGNsaWNrcyBhIEhpc3RvcnkgbGluaykuXG4gKiAgIC0gQ2xpY2tzIG9uIGEgbGluay5cbiAqIC0gUmVwcmVzZW50cyB0aGUgVVJMIG9iamVjdCBhcyBhIHNldCBvZiBtZXRob2RzIChwcm90b2NvbCwgaG9zdCwgcG9ydCwgcGF0aCwgc2VhcmNoLCBoYXNoKS5cbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUge0BsaW5rIGd1aWRlLyRsb2NhdGlvbiBEZXZlbG9wZXIgR3VpZGU6IFVzaW5nICRsb2NhdGlvbn1cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGxvY2F0aW9uUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoZSBgJGxvY2F0aW9uUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGRlZXAgbGlua2luZyBwYXRocyBhcmUgc3RvcmVkLlxuICovXG5mdW5jdGlvbiAkTG9jYXRpb25Qcm92aWRlcigpIHtcbiAgdmFyIGhhc2hQcmVmaXggPSAnJyxcbiAgICAgIGh0bWw1TW9kZSA9IHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHJlcXVpcmVCYXNlOiB0cnVlLFxuICAgICAgICByZXdyaXRlTGlua3M6IHRydWVcbiAgICAgIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uUHJvdmlkZXIjaGFzaFByZWZpeFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwcmVmaXggUHJlZml4IGZvciBoYXNoIHBhcnQgKGNvbnRhaW5pbmcgcGF0aCBhbmQgc2VhcmNoKVxuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKi9cbiAgdGhpcy5oYXNoUHJlZml4ID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgaWYgKGlzRGVmaW5lZChwcmVmaXgpKSB7XG4gICAgICBoYXNoUHJlZml4ID0gcHJlZml4O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBoYXNoUHJlZml4O1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlciNodG1sNU1vZGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7KGJvb2xlYW58T2JqZWN0KT19IG1vZGUgSWYgYm9vbGVhbiwgc2V0cyBgaHRtbDVNb2RlLmVuYWJsZWRgIHRvIHZhbHVlLlxuICAgKiAgIElmIG9iamVjdCwgc2V0cyBgZW5hYmxlZGAsIGByZXF1aXJlQmFzZWAgYW5kIGByZXdyaXRlTGlua3NgIHRvIHJlc3BlY3RpdmUgdmFsdWVzLiBTdXBwb3J0ZWRcbiAgICogICBwcm9wZXJ0aWVzOlxuICAgKiAgIC0gKiplbmFibGVkKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyAoZGVmYXVsdDogZmFsc2UpIElmIHRydWUsIHdpbGwgcmVseSBvbiBgaGlzdG9yeS5wdXNoU3RhdGVgIHRvXG4gICAqICAgICBjaGFuZ2UgdXJscyB3aGVyZSBzdXBwb3J0ZWQuIFdpbGwgZmFsbCBiYWNrIHRvIGhhc2gtcHJlZml4ZWQgcGF0aHMgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3RcbiAgICogICAgIHN1cHBvcnQgYHB1c2hTdGF0ZWAuXG4gICAqICAgLSAqKnJlcXVpcmVCYXNlKiogLSBge2Jvb2xlYW59YCAtIChkZWZhdWx0OiBgdHJ1ZWApIFdoZW4gaHRtbDVNb2RlIGlzIGVuYWJsZWQsIHNwZWNpZmllc1xuICAgKiAgICAgd2hldGhlciBvciBub3QgYSA8YmFzZT4gdGFnIGlzIHJlcXVpcmVkIHRvIGJlIHByZXNlbnQuIElmIGBlbmFibGVkYCBhbmQgYHJlcXVpcmVCYXNlYCBhcmVcbiAgICogICAgIHRydWUsIGFuZCBhIGJhc2UgdGFnIGlzIG5vdCBwcmVzZW50LCBhbiBlcnJvciB3aWxsIGJlIHRocm93biB3aGVuIGAkbG9jYXRpb25gIGlzIGluamVjdGVkLlxuICAgKiAgICAgU2VlIHRoZSB7QGxpbmsgZ3VpZGUvJGxvY2F0aW9uICRsb2NhdGlvbiBndWlkZSBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cbiAgICogICAtICoqcmV3cml0ZUxpbmtzKiogLSBge2Jvb2xlYW59YCAtIChkZWZhdWx0OiBgdHJ1ZWApIFdoZW4gaHRtbDVNb2RlIGlzIGVuYWJsZWQsXG4gICAqICAgICBlbmFibGVzL2Rpc2FibGVzIHVybCByZXdyaXRpbmcgZm9yIHJlbGF0aXZlIGxpbmtzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBodG1sNU1vZGUgb2JqZWN0IGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXG4gICAqL1xuICB0aGlzLmh0bWw1TW9kZSA9IGZ1bmN0aW9uKG1vZGUpIHtcbiAgICBpZiAoaXNCb29sZWFuKG1vZGUpKSB7XG4gICAgICBodG1sNU1vZGUuZW5hYmxlZCA9IG1vZGU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG1vZGUpKSB7XG5cbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5lbmFibGVkKSkge1xuICAgICAgICBodG1sNU1vZGUuZW5hYmxlZCA9IG1vZGUuZW5hYmxlZDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLnJlcXVpcmVCYXNlKSkge1xuICAgICAgICBodG1sNU1vZGUucmVxdWlyZUJhc2UgPSBtb2RlLnJlcXVpcmVCYXNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUucmV3cml0ZUxpbmtzKSkge1xuICAgICAgICBodG1sNU1vZGUucmV3cml0ZUxpbmtzID0gbW9kZS5yZXdyaXRlTGlua3M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaHRtbDVNb2RlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGV2ZW50XG4gICAqIEBuYW1lICRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdGFydFxuICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiByb290IHNjb3BlXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBCcm9hZGNhc3RlZCBiZWZvcmUgYSBVUkwgd2lsbCBjaGFuZ2UuXG4gICAqXG4gICAqIFRoaXMgY2hhbmdlIGNhbiBiZSBwcmV2ZW50ZWQgYnkgY2FsbGluZ1xuICAgKiBgcHJldmVudERlZmF1bHRgIG1ldGhvZCBvZiB0aGUgZXZlbnQuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259IGZvciBtb3JlXG4gICAqIGRldGFpbHMgYWJvdXQgZXZlbnQgb2JqZWN0LiBVcG9uIHN1Y2Nlc3NmdWwgY2hhbmdlXG4gICAqIHtAbGluayBuZy4kbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyAkbG9jYXRpb25DaGFuZ2VTdWNjZXNzfSBpcyBmaXJlZC5cbiAgICpcbiAgICogVGhlIGBuZXdTdGF0ZWAgYW5kIGBvbGRTdGF0ZWAgcGFyYW1ldGVycyBtYXkgYmUgZGVmaW5lZCBvbmx5IGluIEhUTUw1IG1vZGUgYW5kIHdoZW5cbiAgICogdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIEhUTUw1IEhpc3RvcnkgQVBJLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdVcmwgTmV3IFVSTFxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFVybCBVUkwgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5ld1N0YXRlIE5ldyBoaXN0b3J5IHN0YXRlIG9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFN0YXRlIEhpc3Rvcnkgc3RhdGUgb2JqZWN0IHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cbiAgICovXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBldmVudFxuICAgKiBAbmFtZSAkbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1xuICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiByb290IHNjb3BlXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBCcm9hZGNhc3RlZCBhZnRlciBhIFVSTCB3YXMgY2hhbmdlZC5cbiAgICpcbiAgICogVGhlIGBuZXdTdGF0ZWAgYW5kIGBvbGRTdGF0ZWAgcGFyYW1ldGVycyBtYXkgYmUgZGVmaW5lZCBvbmx5IGluIEhUTUw1IG1vZGUgYW5kIHdoZW5cbiAgICogdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIEhUTUw1IEhpc3RvcnkgQVBJLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdVcmwgTmV3IFVSTFxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFVybCBVUkwgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5ld1N0YXRlIE5ldyBoaXN0b3J5IHN0YXRlIG9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFN0YXRlIEhpc3Rvcnkgc3RhdGUgb2JqZWN0IHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cbiAgICovXG5cbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyRicm93c2VyJywgJyRzbmlmZmVyJywgJyRyb290RWxlbWVudCcsICckd2luZG93JyxcbiAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICRicm93c2VyLCAkc25pZmZlciwgJHJvb3RFbGVtZW50LCAkd2luZG93KSB7XG4gICAgdmFyICRsb2NhdGlvbixcbiAgICAgICAgTG9jYXRpb25Nb2RlLFxuICAgICAgICBiYXNlSHJlZiA9ICRicm93c2VyLmJhc2VIcmVmKCksIC8vIGlmIGJhc2VbaHJlZl0gaXMgdW5kZWZpbmVkLCBpdCBkZWZhdWx0cyB0byAnJ1xuICAgICAgICBpbml0aWFsVXJsID0gJGJyb3dzZXIudXJsKCksXG4gICAgICAgIGFwcEJhc2U7XG5cbiAgICBpZiAoaHRtbDVNb2RlLmVuYWJsZWQpIHtcbiAgICAgIGlmICghYmFzZUhyZWYgJiYgaHRtbDVNb2RlLnJlcXVpcmVCYXNlKSB7XG4gICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignbm9iYXNlJyxcbiAgICAgICAgICBcIiRsb2NhdGlvbiBpbiBIVE1MNSBtb2RlIHJlcXVpcmVzIGEgPGJhc2U+IHRhZyB0byBiZSBwcmVzZW50IVwiKTtcbiAgICAgIH1cbiAgICAgIGFwcEJhc2UgPSBzZXJ2ZXJCYXNlKGluaXRpYWxVcmwpICsgKGJhc2VIcmVmIHx8ICcvJyk7XG4gICAgICBMb2NhdGlvbk1vZGUgPSAkc25pZmZlci5oaXN0b3J5ID8gTG9jYXRpb25IdG1sNVVybCA6IExvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBCYXNlID0gc3RyaXBIYXNoKGluaXRpYWxVcmwpO1xuICAgICAgTG9jYXRpb25Nb2RlID0gTG9jYXRpb25IYXNoYmFuZ1VybDtcbiAgICB9XG4gICAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7XG5cbiAgICAkbG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsICcjJyArIGhhc2hQcmVmaXgpO1xuICAgICRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChpbml0aWFsVXJsLCBpbml0aWFsVXJsKTtcblxuICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcblxuICAgIHZhciBJR05PUkVfVVJJX1JFR0VYUCA9IC9eXFxzKihqYXZhc2NyaXB0fG1haWx0byk6L2k7XG5cbiAgICBmdW5jdGlvbiBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKHVybCwgcmVwbGFjZSwgc3RhdGUpIHtcbiAgICAgIHZhciBvbGRVcmwgPSAkbG9jYXRpb24udXJsKCk7XG4gICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgICRicm93c2VyLnVybCh1cmwsIHJlcGxhY2UsIHN0YXRlKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgJGxvY2F0aW9uLnN0YXRlKCkgcmV0dXJucyByZWZlcmVudGlhbGx5IGlkZW50aWNhbCAobm90IGp1c3QgZGVlcGx5IGVxdWFsKVxuICAgICAgICAvLyBzdGF0ZSBvYmplY3Q7IHRoaXMgbWFrZXMgcG9zc2libGUgcXVpY2sgY2hlY2tpbmcgaWYgdGhlIHN0YXRlIGNoYW5nZWQgaW4gdGhlIGRpZ2VzdFxuICAgICAgICAvLyBsb29wLiBDaGVja2luZyBkZWVwIGVxdWFsaXR5IHdvdWxkIGJlIHRvbyBleHBlbnNpdmUuXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gUmVzdG9yZSBvbGQgdmFsdWVzIGlmIHB1c2hTdGF0ZSBmYWlsc1xuICAgICAgICAkbG9jYXRpb24udXJsKG9sZFVybCk7XG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG5cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkcm9vdEVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIC8vIFRPRE8odm9qdGEpOiByZXdyaXRlIGxpbmsgd2hlbiBvcGVuaW5nIGluIG5ldyB0YWIvd2luZG93IChpbiBsZWdhY3kgYnJvd3NlcilcbiAgICAgIC8vIGN1cnJlbnRseSB3ZSBvcGVuIG5pY2UgdXJsIGxpbmsgYW5kIHJlZGlyZWN0IHRoZW5cblxuICAgICAgaWYgKCFodG1sNU1vZGUucmV3cml0ZUxpbmtzIHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC53aGljaCA9PSAyIHx8IGV2ZW50LmJ1dHRvbiA9PSAyKSByZXR1cm47XG5cbiAgICAgIHZhciBlbG0gPSBqcUxpdGUoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgLy8gdHJhdmVyc2UgdGhlIERPTSB1cCB0byBmaW5kIGZpcnN0IEEgdGFnXG4gICAgICB3aGlsZSAobm9kZU5hbWVfKGVsbVswXSkgIT09ICdhJykge1xuICAgICAgICAvLyBpZ25vcmUgcmV3cml0aW5nIGlmIG5vIEEgdGFnIChyZWFjaGVkIHJvb3QgZWxlbWVudCwgb3Igbm8gcGFyZW50IC0gcmVtb3ZlZCBmcm9tIGRvY3VtZW50KVxuICAgICAgICBpZiAoZWxtWzBdID09PSAkcm9vdEVsZW1lbnRbMF0gfHwgIShlbG0gPSBlbG0ucGFyZW50KCkpWzBdKSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhYnNIcmVmID0gZWxtLnByb3AoJ2hyZWYnKTtcbiAgICAgIC8vIGdldCB0aGUgYWN0dWFsIGhyZWYgYXR0cmlidXRlIC0gc2VlXG4gICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZGQzNDcxNDgodj12cy44NSkuYXNweFxuICAgICAgdmFyIHJlbEhyZWYgPSBlbG0uYXR0cignaHJlZicpIHx8IGVsbS5hdHRyKCd4bGluazpocmVmJyk7XG5cbiAgICAgIGlmIChpc09iamVjdChhYnNIcmVmKSAmJiBhYnNIcmVmLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcbiAgICAgICAgLy8gU1ZHQW5pbWF0ZWRTdHJpbmcuYW5pbVZhbCBzaG91bGQgYmUgaWRlbnRpY2FsIHRvIFNWR0FuaW1hdGVkU3RyaW5nLmJhc2VWYWwsIHVubGVzcyBkdXJpbmdcbiAgICAgICAgLy8gYW4gYW5pbWF0aW9uLlxuICAgICAgICBhYnNIcmVmID0gdXJsUmVzb2x2ZShhYnNIcmVmLmFuaW1WYWwpLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIC8vIElnbm9yZSB3aGVuIHVybCBpcyBzdGFydGVkIHdpdGggamF2YXNjcmlwdDogb3IgbWFpbHRvOlxuICAgICAgaWYgKElHTk9SRV9VUklfUkVHRVhQLnRlc3QoYWJzSHJlZikpIHJldHVybjtcblxuICAgICAgaWYgKGFic0hyZWYgJiYgIWVsbS5hdHRyKCd0YXJnZXQnKSAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgaWYgKCRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChhYnNIcmVmLCByZWxIcmVmKSkge1xuICAgICAgICAgIC8vIFdlIGRvIGEgcHJldmVudERlZmF1bHQgZm9yIGFsbCB1cmxzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIGFuZ3VsYXIgYXBwbGljYXRpb24sXG4gICAgICAgICAgLy8gaW4gaHRtbDVtb2RlIGFuZCBhbHNvIHdpdGhvdXQsIHNvIHRoYXQgd2UgYXJlIGFibGUgdG8gYWJvcnQgbmF2aWdhdGlvbiB3aXRob3V0XG4gICAgICAgICAgLy8gZ2V0dGluZyBkb3VibGUgZW50cmllcyBpbiB0aGUgbG9jYXRpb24gaGlzdG9yeS5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIC8vIHVwZGF0ZSBsb2NhdGlvbiBtYW51YWxseVxuICAgICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT0gJGJyb3dzZXIudXJsKCkpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAvLyBoYWNrIHRvIHdvcmsgYXJvdW5kIEZGNiBidWcgNjg0MjA4IHdoZW4gc2NlbmFyaW8gcnVubmVyIGNsaWNrcyBvbiBsaW5rc1xuICAgICAgICAgICAgJHdpbmRvdy5hbmd1bGFyWydmZi02ODQyMDgtcHJldmVudERlZmF1bHQnXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8vIHJld3JpdGUgaGFzaGJhbmcgdXJsIDw+IGh0bWw1IHVybFxuICAgIGlmICh0cmltRW1wdHlIYXNoKCRsb2NhdGlvbi5hYnNVcmwoKSkgIT0gdHJpbUVtcHR5SGFzaChpbml0aWFsVXJsKSkge1xuICAgICAgJGJyb3dzZXIudXJsKCRsb2NhdGlvbi5hYnNVcmwoKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxpemluZyA9IHRydWU7XG5cbiAgICAvLyB1cGRhdGUgJGxvY2F0aW9uIHdoZW4gJGJyb3dzZXIgdXJsIGNoYW5nZXNcbiAgICAkYnJvd3Nlci5vblVybENoYW5nZShmdW5jdGlvbihuZXdVcmwsIG5ld1N0YXRlKSB7XG5cbiAgICAgIGlmIChpc1VuZGVmaW5lZChiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIG5ld1VybCkpKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBuYXZpZ2F0aW5nIG91dHNpZGUgb2YgdGhlIGFwcCB0aGVuIGZvcmNlIGEgcmVsb2FkXG4gICAgICAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9IG5ld1VybDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvbGRVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAgICAgIHZhciBvbGRTdGF0ZSA9ICRsb2NhdGlvbi4kJHN0YXRlO1xuICAgICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgICAgbmV3VXJsID0gdHJpbUVtcHR5SGFzaChuZXdVcmwpO1xuICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShuZXdVcmwpO1xuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG5ld1N0YXRlO1xuXG4gICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbmV3VXJsLCBvbGRVcmwsXG4gICAgICAgICAgICBuZXdTdGF0ZSwgb2xkU3RhdGUpLmRlZmF1bHRQcmV2ZW50ZWQ7XG5cbiAgICAgICAgLy8gaWYgdGhlIGxvY2F0aW9uIHdhcyBjaGFuZ2VkIGJ5IGEgYCRsb2NhdGlvbkNoYW5nZVN0YXJ0YCBoYW5kbGVyIHRoZW4gc3RvcFxuICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXG4gICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT09IG5ld1VybCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2Uob2xkVXJsKTtcbiAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xuICAgICAgICAgIHNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2sob2xkVXJsLCBmYWxzZSwgb2xkU3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluaXRpYWxpemluZyA9IGZhbHNlO1xuICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgIH0pO1xuXG4gICAgLy8gdXBkYXRlIGJyb3dzZXJcbiAgICAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiAkbG9jYXRpb25XYXRjaCgpIHtcbiAgICAgIHZhciBvbGRVcmwgPSB0cmltRW1wdHlIYXNoKCRicm93c2VyLnVybCgpKTtcbiAgICAgIHZhciBuZXdVcmwgPSB0cmltRW1wdHlIYXNoKCRsb2NhdGlvbi5hYnNVcmwoKSk7XG4gICAgICB2YXIgb2xkU3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xuICAgICAgdmFyIGN1cnJlbnRSZXBsYWNlID0gJGxvY2F0aW9uLiQkcmVwbGFjZTtcbiAgICAgIHZhciB1cmxPclN0YXRlQ2hhbmdlZCA9IG9sZFVybCAhPT0gbmV3VXJsIHx8XG4gICAgICAgICgkbG9jYXRpb24uJCRodG1sNSAmJiAkc25pZmZlci5oaXN0b3J5ICYmIG9sZFN0YXRlICE9PSAkbG9jYXRpb24uJCRzdGF0ZSk7XG5cbiAgICAgIGlmIChpbml0aWFsaXppbmcgfHwgdXJsT3JTdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBuZXdVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAgICAgICAgdmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbmV3VXJsLCBvbGRVcmwsXG4gICAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcblxuICAgICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiB3YXMgY2hhbmdlZCBieSBhIGAkbG9jYXRpb25DaGFuZ2VTdGFydGAgaGFuZGxlciB0aGVuIHN0b3BcbiAgICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXG4gICAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPT0gbmV3VXJsKSByZXR1cm47XG5cbiAgICAgICAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2Uob2xkVXJsKTtcbiAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh1cmxPclN0YXRlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKG5ld1VybCwgY3VycmVudFJlcGxhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09ICRsb2NhdGlvbi4kJHN0YXRlID8gbnVsbCA6ICRsb2NhdGlvbi4kJHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJGxvY2F0aW9uLiQkcmVwbGFjZSA9IGZhbHNlO1xuXG4gICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJldHVybiBhbnl0aGluZyBiZWNhdXNlICRldmFsQXN5bmMgd2lsbCBtYWtlIHRoZSBkaWdlc3QgbG9vcCBkaXJ0eSB3aGVuXG4gICAgICAvLyB0aGVyZSBpcyBhIGNoYW5nZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICRsb2NhdGlvbjtcblxuICAgIGZ1bmN0aW9uIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSkge1xuICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgJGxvY2F0aW9uLmFic1VybCgpLCBvbGRVcmwsXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSk7XG4gICAgfVxufV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRsb2dcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTaW1wbGUgc2VydmljZSBmb3IgbG9nZ2luZy4gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBzYWZlbHkgd3JpdGVzIHRoZSBtZXNzYWdlXG4gKiBpbnRvIHRoZSBicm93c2VyJ3MgY29uc29sZSAoaWYgcHJlc2VudCkuXG4gKlxuICogVGhlIG1haW4gcHVycG9zZSBvZiB0aGlzIHNlcnZpY2UgaXMgdG8gc2ltcGxpZnkgZGVidWdnaW5nIGFuZCB0cm91Ymxlc2hvb3RpbmcuXG4gKlxuICogVGhlIGRlZmF1bHQgaXMgdG8gbG9nIGBkZWJ1Z2AgbWVzc2FnZXMuIFlvdSBjYW4gdXNlXG4gKiB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyIG5nLiRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWR9IHRvIGNoYW5nZSB0aGlzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJsb2dFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbG9nRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0xvZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9nJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9nKSB7XG4gICAgICAgICAgICRzY29wZS4kbG9nID0gJGxvZztcbiAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSAnSGVsbG8gV29ybGQhJztcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkxvZ0NvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxwPlJlbG9hZCB0aGlzIHBhZ2Ugd2l0aCBvcGVuIGNvbnNvbGUsIGVudGVyIHRleHQgYW5kIGhpdCB0aGUgbG9nIGJ1dHRvbi4uLjwvcD5cbiAgICAgICAgIDxsYWJlbD5NZXNzYWdlOlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtZXNzYWdlXCIgLz48L2xhYmVsPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cubG9nKG1lc3NhZ2UpXCI+bG9nPC9idXR0b24+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy53YXJuKG1lc3NhZ2UpXCI+d2FybjwvYnV0dG9uPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cuaW5mbyhtZXNzYWdlKVwiPmluZm88L2J1dHRvbj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmVycm9yKG1lc3NhZ2UpXCI+ZXJyb3I8L2J1dHRvbj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmRlYnVnKG1lc3NhZ2UpXCI+ZGVidWc8L2J1dHRvbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkbG9nUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoZSBgJGxvZ1Byb3ZpZGVyYCB0byBjb25maWd1cmUgaG93IHRoZSBhcHBsaWNhdGlvbiBsb2dzIG1lc3NhZ2VzXG4gKi9cbmZ1bmN0aW9uICRMb2dQcm92aWRlcigpIHtcbiAgdmFyIGRlYnVnID0gdHJ1ZSxcbiAgICAgIHNlbGYgPSB0aGlzO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWRcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGZsYWcgZW5hYmxlIG9yIGRpc2FibGUgZGVidWcgbGV2ZWwgbWVzc2FnZXNcbiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcbiAgICovXG4gIHRoaXMuZGVidWdFbmFibGVkID0gZnVuY3Rpb24oZmxhZykge1xuICAgIGlmIChpc0RlZmluZWQoZmxhZykpIHtcbiAgICAgIGRlYnVnID0gZmxhZztcbiAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRlYnVnO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCBmdW5jdGlvbigkd2luZG93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyNsb2dcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFdyaXRlIGEgbG9nIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgbG9nOiBjb25zb2xlTG9nKCdsb2cnKSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2luZm9cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFdyaXRlIGFuIGluZm9ybWF0aW9uIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgaW5mbzogY29uc29sZUxvZygnaW5mbycpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjd2FyblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYSB3YXJuaW5nIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgd2FybjogY29uc29sZUxvZygnd2FybicpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjZXJyb3JcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFdyaXRlIGFuIGVycm9yIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgZXJyb3I6IGNvbnNvbGVMb2coJ2Vycm9yJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyNkZWJ1Z1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYSBkZWJ1ZyBtZXNzYWdlXG4gICAgICAgKi9cbiAgICAgIGRlYnVnOiAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBmbiA9IGNvbnNvbGVMb2coJ2RlYnVnJyk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgZm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KCkpXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGZvcm1hdEVycm9yKGFyZykge1xuICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChhcmcuc3RhY2spIHtcbiAgICAgICAgICBhcmcgPSAoYXJnLm1lc3NhZ2UgJiYgYXJnLnN0YWNrLmluZGV4T2YoYXJnLm1lc3NhZ2UpID09PSAtMSlcbiAgICAgICAgICAgICAgPyAnRXJyb3I6ICcgKyBhcmcubWVzc2FnZSArICdcXG4nICsgYXJnLnN0YWNrXG4gICAgICAgICAgICAgIDogYXJnLnN0YWNrO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZy5zb3VyY2VVUkwpIHtcbiAgICAgICAgICBhcmcgPSBhcmcubWVzc2FnZSArICdcXG4nICsgYXJnLnNvdXJjZVVSTCArICc6JyArIGFyZy5saW5lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnNvbGVMb2codHlwZSkge1xuICAgICAgdmFyIGNvbnNvbGUgPSAkd2luZG93LmNvbnNvbGUgfHwge30sXG4gICAgICAgICAgbG9nRm4gPSBjb25zb2xlW3R5cGVdIHx8IGNvbnNvbGUubG9nIHx8IG5vb3AsXG4gICAgICAgICAgaGFzQXBwbHkgPSBmYWxzZTtcblxuICAgICAgLy8gTm90ZTogcmVhZGluZyBsb2dGbi5hcHBseSB0aHJvd3MgYW4gZXJyb3IgaW4gSUUxMSBpbiBJRTggZG9jdW1lbnQgbW9kZS5cbiAgICAgIC8vIFRoZSByZWFzb24gYmVoaW5kIHRoaXMgaXMgdGhhdCBjb25zb2xlLmxvZyBoYXMgdHlwZSBcIm9iamVjdFwiIGluIElFOC4uLlxuICAgICAgdHJ5IHtcbiAgICAgICAgaGFzQXBwbHkgPSAhIWxvZ0ZuLmFwcGx5O1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgaWYgKGhhc0FwcGx5KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChmb3JtYXRFcnJvcihhcmcpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbG9nRm4uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGFyZSBJRSB3aGljaCBlaXRoZXIgZG9lc24ndCBoYXZlIHdpbmRvdy5jb25zb2xlID0+IHRoaXMgaXMgbm9vcCBhbmQgd2UgZG8gbm90aGluZyxcbiAgICAgIC8vIG9yIHdlIGFyZSBJRSB3aGVyZSBjb25zb2xlLmxvZyBkb2Vzbid0IGhhdmUgYXBwbHkgc28gd2UgbG9nIGF0IGxlYXN0IGZpcnN0IDIgYXJnc1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGFyZzEsIGFyZzIpIHtcbiAgICAgICAgbG9nRm4oYXJnMSwgYXJnMiA9PSBudWxsID8gJycgOiBhcmcyKTtcbiAgICAgIH07XG4gICAgfVxuICB9XTtcbn1cblxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cblxudmFyICRwYXJzZU1pbkVyciA9IG1pbkVycignJHBhcnNlJyk7XG5cbi8vIFNhbmRib3hpbmcgQW5ndWxhciBFeHByZXNzaW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBbmd1bGFyIGV4cHJlc3Npb25zIGFyZSBnZW5lcmFsbHkgY29uc2lkZXJlZCBzYWZlIGJlY2F1c2UgdGhlc2UgZXhwcmVzc2lvbnMgb25seSBoYXZlIGRpcmVjdFxuLy8gYWNjZXNzIHRvIGAkc2NvcGVgIGFuZCBsb2NhbHMuIEhvd2V2ZXIsIG9uZSBjYW4gb2J0YWluIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IEpTIGNvZGUgYnlcbi8vIG9idGFpbmluZyBhIHJlZmVyZW5jZSB0byBuYXRpdmUgSlMgZnVuY3Rpb25zIHN1Y2ggYXMgdGhlIEZ1bmN0aW9uIGNvbnN0cnVjdG9yLlxuLy9cbi8vIEFzIGFuIGV4YW1wbGUsIGNvbnNpZGVyIHRoZSBmb2xsb3dpbmcgQW5ndWxhciBleHByZXNzaW9uOlxuLy9cbi8vICAge30udG9TdHJpbmcuY29uc3RydWN0b3IoJ2FsZXJ0KFwiZXZpbCBKUyBjb2RlXCIpJylcbi8vXG4vLyBUaGlzIHNhbmRib3hpbmcgdGVjaG5pcXVlIGlzIG5vdCBwZXJmZWN0IGFuZCBkb2Vzbid0IGFpbSB0byBiZS4gVGhlIGdvYWwgaXMgdG8gcHJldmVudCBleHBsb2l0c1xuLy8gYWdhaW5zdCB0aGUgZXhwcmVzc2lvbiBsYW5ndWFnZSwgYnV0IG5vdCB0byBwcmV2ZW50IGV4cGxvaXRzIHRoYXQgd2VyZSBlbmFibGVkIGJ5IGV4cG9zaW5nXG4vLyBzZW5zaXRpdmUgSmF2YVNjcmlwdCBvciBicm93c2VyIEFQSXMgb24gU2NvcGUuIEV4cG9zaW5nIHN1Y2ggb2JqZWN0cyBvbiBhIFNjb3BlIGlzIG5ldmVyIGEgZ29vZFxuLy8gcHJhY3RpY2UgYW5kIHRoZXJlZm9yZSB3ZSBhcmUgbm90IGV2ZW4gdHJ5aW5nIHRvIHByb3RlY3QgYWdhaW5zdCBpbnRlcmFjdGlvbiB3aXRoIGFuIG9iamVjdFxuLy8gZXhwbGljaXRseSBleHBvc2VkIGluIHRoaXMgd2F5LlxuLy9cbi8vIEluIGdlbmVyYWwsIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBhY2Nlc3MgYSBXaW5kb3cgb2JqZWN0IGZyb20gYW4gYW5ndWxhciBleHByZXNzaW9uIHVubGVzcyBhXG4vLyB3aW5kb3cgb3Igc29tZSBET00gb2JqZWN0IHRoYXQgaGFzIGEgcmVmZXJlbmNlIHRvIHdpbmRvdyBpcyBwdWJsaXNoZWQgb250byBhIFNjb3BlLlxuLy8gU2ltaWxhcmx5IHdlIHByZXZlbnQgaW52b2NhdGlvbnMgb2YgZnVuY3Rpb24ga25vd24gdG8gYmUgZGFuZ2Vyb3VzLCBhcyB3ZWxsIGFzIGFzc2lnbm1lbnRzIHRvXG4vLyBuYXRpdmUgb2JqZWN0cy5cbi8vXG4vLyBTZWUgaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvZ3VpZGUvc2VjdXJpdHlcblxuXG5mdW5jdGlvbiBlbnN1cmVTYWZlTWVtYmVyTmFtZShuYW1lLCBmdWxsRXhwcmVzc2lvbikge1xuICBpZiAobmFtZSA9PT0gXCJfX2RlZmluZUdldHRlcl9fXCIgfHwgbmFtZSA9PT0gXCJfX2RlZmluZVNldHRlcl9fXCJcbiAgICAgIHx8IG5hbWUgPT09IFwiX19sb29rdXBHZXR0ZXJfX1wiIHx8IG5hbWUgPT09IFwiX19sb29rdXBTZXR0ZXJfX1wiXG4gICAgICB8fCBuYW1lID09PSBcIl9fcHJvdG9fX1wiKSB7XG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZmxkJyxcbiAgICAgICAgJ0F0dGVtcHRpbmcgdG8gYWNjZXNzIGEgZGlzYWxsb3dlZCBmaWVsZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zISAnXG4gICAgICAgICsgJ0V4cHJlc3Npb246IHswfScsIGZ1bGxFeHByZXNzaW9uKTtcbiAgfVxuICByZXR1cm4gbmFtZTtcbn1cblxuZnVuY3Rpb24gZ2V0U3RyaW5nVmFsdWUobmFtZSwgZnVsbEV4cHJlc3Npb24pIHtcbiAgLy8gRnJvbSB0aGUgSmF2YVNjcmlwdCBkb2NzOlxuICAvLyBQcm9wZXJ0eSBuYW1lcyBtdXN0IGJlIHN0cmluZ3MuIFRoaXMgbWVhbnMgdGhhdCBub24tc3RyaW5nIG9iamVjdHMgY2Fubm90IGJlIHVzZWRcbiAgLy8gYXMga2V5cyBpbiBhbiBvYmplY3QuIEFueSBub24tc3RyaW5nIG9iamVjdCwgaW5jbHVkaW5nIGEgbnVtYmVyLCBpcyB0eXBlY2FzdGVkXG4gIC8vIGludG8gYSBzdHJpbmcgdmlhIHRoZSB0b1N0cmluZyBtZXRob2QuXG4gIC8vXG4gIC8vIFNvLCB0byBlbnN1cmUgdGhhdCB3ZSBhcmUgY2hlY2tpbmcgdGhlIHNhbWUgYG5hbWVgIHRoYXQgSmF2YVNjcmlwdCB3b3VsZCB1c2UsXG4gIC8vIHdlIGNhc3QgaXQgdG8gYSBzdHJpbmcsIGlmIHBvc3NpYmxlLlxuICAvLyBEb2luZyBgbmFtZSArICcnYCBjYW4gY2F1c2UgYSByZXBsIGVycm9yIGlmIHRoZSByZXN1bHQgdG8gYHRvU3RyaW5nYCBpcyBub3QgYSBzdHJpbmcsXG4gIC8vIHRoaXMgaXMsIHRoaXMgd2lsbCBoYW5kbGUgb2JqZWN0cyB0aGF0IG1pc2JlaGF2ZS5cbiAgbmFtZSA9IG5hbWUgKyAnJztcbiAgaWYgKCFpc1N0cmluZyhuYW1lKSkge1xuICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2NzdCcsXG4gICAgICAgICdDYW5ub3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlISAnXG4gICAgICAgICsgJ0V4cHJlc3Npb246IHswfScsIGZ1bGxFeHByZXNzaW9uKTtcbiAgfVxuICByZXR1cm4gbmFtZTtcbn1cblxuZnVuY3Rpb24gZW5zdXJlU2FmZU9iamVjdChvYmosIGZ1bGxFeHByZXNzaW9uKSB7XG4gIC8vIG5pZnR5IGNoZWNrIGlmIG9iaiBpcyBGdW5jdGlvbiB0aGF0IGlzIGZhc3QgYW5kIHdvcmtzIGFjcm9zcyBpZnJhbWVzIGFuZCBvdGhlciBjb250ZXh0c1xuICBpZiAob2JqKSB7XG4gICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbicsXG4gICAgICAgICAgJ1JlZmVyZW5jaW5nIEZ1bmN0aW9uIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBpc1dpbmRvdyhvYmopXG4gICAgICAgIG9iai53aW5kb3cgPT09IG9iaikge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2Vjd2luZG93JyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgdGhlIFdpbmRvdyBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgICAgZnVsbEV4cHJlc3Npb24pO1xuICAgIH0gZWxzZSBpZiAoLy8gaXNFbGVtZW50KG9iailcbiAgICAgICAgb2JqLmNoaWxkcmVuICYmIChvYmoubm9kZU5hbWUgfHwgKG9iai5wcm9wICYmIG9iai5hdHRyICYmIG9iai5maW5kKSkpIHtcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2RvbScsXG4gICAgICAgICAgJ1JlZmVyZW5jaW5nIERPTSBub2RlcyBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgICAgZnVsbEV4cHJlc3Npb24pO1xuICAgIH0gZWxzZSBpZiAoLy8gYmxvY2sgT2JqZWN0IHNvIHRoYXQgd2UgY2FuJ3QgZ2V0IGhvbGQgb2YgZGFuZ2Vyb3VzIE9iamVjdC4qIG1ldGhvZHNcbiAgICAgICAgb2JqID09PSBPYmplY3QpIHtcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY29iaicsXG4gICAgICAgICAgJ1JlZmVyZW5jaW5nIE9iamVjdCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgICAgZnVsbEV4cHJlc3Npb24pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG52YXIgQ0FMTCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsO1xudmFyIEFQUExZID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xudmFyIEJJTkQgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZDtcblxuZnVuY3Rpb24gZW5zdXJlU2FmZUZ1bmN0aW9uKG9iaiwgZnVsbEV4cHJlc3Npb24pIHtcbiAgaWYgKG9iaikge1xuICAgIGlmIChvYmouY29uc3RydWN0b3IgPT09IG9iaikge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZm4nLFxuICAgICAgICAnUmVmZXJlbmNpbmcgRnVuY3Rpb24gaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxuICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmIChvYmogPT09IENBTEwgfHwgb2JqID09PSBBUFBMWSB8fCBvYmogPT09IEJJTkQpIHtcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZmJyxcbiAgICAgICAgJ1JlZmVyZW5jaW5nIGNhbGwsIGFwcGx5IG9yIGJpbmQgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxuICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KG9iaiwgZnVsbEV4cHJlc3Npb24pIHtcbiAgaWYgKG9iaikge1xuICAgIGlmIChvYmogPT09ICgwKS5jb25zdHJ1Y3RvciB8fCBvYmogPT09IChmYWxzZSkuY29uc3RydWN0b3IgfHwgb2JqID09PSAnJy5jb25zdHJ1Y3RvciB8fFxuICAgICAgICBvYmogPT09IHt9LmNvbnN0cnVjdG9yIHx8IG9iaiA9PT0gW10uY29uc3RydWN0b3IgfHwgb2JqID09PSBGdW5jdGlvbi5jb25zdHJ1Y3Rvcikge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjYWYnLFxuICAgICAgICAnQXNzaWduaW5nIHRvIGEgY29uc3RydWN0b3IgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JywgZnVsbEV4cHJlc3Npb24pO1xuICAgIH1cbiAgfVxufVxuXG52YXIgT1BFUkFUT1JTID0gY3JlYXRlTWFwKCk7XG5mb3JFYWNoKCcrIC0gKiAvICUgPT09ICE9PSA9PSAhPSA8ID4gPD0gPj0gJiYgfHwgISA9IHwnLnNwbGl0KCcgJyksIGZ1bmN0aW9uKG9wZXJhdG9yKSB7IE9QRVJBVE9SU1tvcGVyYXRvcl0gPSB0cnVlOyB9KTtcbnZhciBFU0NBUEUgPSB7XCJuXCI6XCJcXG5cIiwgXCJmXCI6XCJcXGZcIiwgXCJyXCI6XCJcXHJcIiwgXCJ0XCI6XCJcXHRcIiwgXCJ2XCI6XCJcXHZcIiwgXCInXCI6XCInXCIsICdcIic6J1wiJ307XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTGV4ZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG59O1xuXG5MZXhlci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBMZXhlcixcblxuICBsZXg6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIHRoaXMudG9rZW5zID0gW107XG5cbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICBpZiAoY2ggPT09ICdcIicgfHwgY2ggPT09IFwiJ1wiKSB7XG4gICAgICAgIHRoaXMucmVhZFN0cmluZyhjaCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNOdW1iZXIoY2gpIHx8IGNoID09PSAnLicgJiYgdGhpcy5pc051bWJlcih0aGlzLnBlZWsoKSkpIHtcbiAgICAgICAgdGhpcy5yZWFkTnVtYmVyKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJZGVudChjaCkpIHtcbiAgICAgICAgdGhpcy5yZWFkSWRlbnQoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pcyhjaCwgJygpe31bXS4sOzo/JykpIHtcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6IHRoaXMuaW5kZXgsIHRleHQ6IGNofSk7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1doaXRlc3BhY2UoY2gpKSB7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjaDIgPSBjaCArIHRoaXMucGVlaygpO1xuICAgICAgICB2YXIgY2gzID0gY2gyICsgdGhpcy5wZWVrKDIpO1xuICAgICAgICB2YXIgb3AxID0gT1BFUkFUT1JTW2NoXTtcbiAgICAgICAgdmFyIG9wMiA9IE9QRVJBVE9SU1tjaDJdO1xuICAgICAgICB2YXIgb3AzID0gT1BFUkFUT1JTW2NoM107XG4gICAgICAgIGlmIChvcDEgfHwgb3AyIHx8IG9wMykge1xuICAgICAgICAgIHZhciB0b2tlbiA9IG9wMyA/IGNoMyA6IChvcDIgPyBjaDIgOiBjaCk7XG4gICAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6IHRoaXMuaW5kZXgsIHRleHQ6IHRva2VuLCBvcGVyYXRvcjogdHJ1ZX0pO1xuICAgICAgICAgIHRoaXMuaW5kZXggKz0gdG9rZW4ubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciAnLCB0aGlzLmluZGV4LCB0aGlzLmluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9rZW5zO1xuICB9LFxuXG4gIGlzOiBmdW5jdGlvbihjaCwgY2hhcnMpIHtcbiAgICByZXR1cm4gY2hhcnMuaW5kZXhPZihjaCkgIT09IC0xO1xuICB9LFxuXG4gIHBlZWs6IGZ1bmN0aW9uKGkpIHtcbiAgICB2YXIgbnVtID0gaSB8fCAxO1xuICAgIHJldHVybiAodGhpcy5pbmRleCArIG51bSA8IHRoaXMudGV4dC5sZW5ndGgpID8gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4ICsgbnVtKSA6IGZhbHNlO1xuICB9LFxuXG4gIGlzTnVtYmVyOiBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiAoJzAnIDw9IGNoICYmIGNoIDw9ICc5JykgJiYgdHlwZW9mIGNoID09PSBcInN0cmluZ1wiO1xuICB9LFxuXG4gIGlzV2hpdGVzcGFjZTogZnVuY3Rpb24oY2gpIHtcbiAgICAvLyBJRSB0cmVhdHMgbm9uLWJyZWFraW5nIHNwYWNlIGFzIFxcdTAwQTBcbiAgICByZXR1cm4gKGNoID09PSAnICcgfHwgY2ggPT09ICdcXHInIHx8IGNoID09PSAnXFx0JyB8fFxuICAgICAgICAgICAgY2ggPT09ICdcXG4nIHx8IGNoID09PSAnXFx2JyB8fCBjaCA9PT0gJ1xcdTAwQTAnKTtcbiAgfSxcblxuICBpc0lkZW50OiBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiAoJ2EnIDw9IGNoICYmIGNoIDw9ICd6JyB8fFxuICAgICAgICAgICAgJ0EnIDw9IGNoICYmIGNoIDw9ICdaJyB8fFxuICAgICAgICAgICAgJ18nID09PSBjaCB8fCBjaCA9PT0gJyQnKTtcbiAgfSxcblxuICBpc0V4cE9wZXJhdG9yOiBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnIHx8IHRoaXMuaXNOdW1iZXIoY2gpKTtcbiAgfSxcblxuICB0aHJvd0Vycm9yOiBmdW5jdGlvbihlcnJvciwgc3RhcnQsIGVuZCkge1xuICAgIGVuZCA9IGVuZCB8fCB0aGlzLmluZGV4O1xuICAgIHZhciBjb2xTdHIgPSAoaXNEZWZpbmVkKHN0YXJ0KVxuICAgICAgICAgICAgPyAncyAnICsgc3RhcnQgKyAgJy0nICsgdGhpcy5pbmRleCArICcgWycgKyB0aGlzLnRleHQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpICsgJ10nXG4gICAgICAgICAgICA6ICcgJyArIGVuZCk7XG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdsZXhlcnInLCAnTGV4ZXIgRXJyb3I6IHswfSBhdCBjb2x1bW57MX0gaW4gZXhwcmVzc2lvbiBbezJ9XS4nLFxuICAgICAgICBlcnJvciwgY29sU3RyLCB0aGlzLnRleHQpO1xuICB9LFxuXG4gIHJlYWROdW1iZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBudW1iZXIgPSAnJztcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gbG93ZXJjYXNlKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO1xuICAgICAgaWYgKGNoID09ICcuJyB8fCB0aGlzLmlzTnVtYmVyKGNoKSkge1xuICAgICAgICBudW1iZXIgKz0gY2g7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcGVla0NoID0gdGhpcy5wZWVrKCk7XG4gICAgICAgIGlmIChjaCA9PSAnZScgJiYgdGhpcy5pc0V4cE9wZXJhdG9yKHBlZWtDaCkpIHtcbiAgICAgICAgICBudW1iZXIgKz0gY2g7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0V4cE9wZXJhdG9yKGNoKSAmJlxuICAgICAgICAgICAgcGVla0NoICYmIHRoaXMuaXNOdW1iZXIocGVla0NoKSAmJlxuICAgICAgICAgICAgbnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoIC0gMSkgPT0gJ2UnKSB7XG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFeHBPcGVyYXRvcihjaCkgJiZcbiAgICAgICAgICAgICghcGVla0NoIHx8ICF0aGlzLmlzTnVtYmVyKHBlZWtDaCkpICYmXG4gICAgICAgICAgICBudW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGggLSAxKSA9PSAnZScpIHtcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ0ludmFsaWQgZXhwb25lbnQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5pbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgIGluZGV4OiBzdGFydCxcbiAgICAgIHRleHQ6IG51bWJlcixcbiAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgdmFsdWU6IE51bWJlcihudW1iZXIpXG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZElkZW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgIGlmICghKHRoaXMuaXNJZGVudChjaCkgfHwgdGhpcy5pc051bWJlcihjaCkpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgIGluZGV4OiBzdGFydCxcbiAgICAgIHRleHQ6IHRoaXMudGV4dC5zbGljZShzdGFydCwgdGhpcy5pbmRleCksXG4gICAgICBpZGVudGlmaWVyOiB0cnVlXG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZFN0cmluZzogZnVuY3Rpb24ocXVvdGUpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgIHRoaXMuaW5kZXgrKztcbiAgICB2YXIgc3RyaW5nID0gJyc7XG4gICAgdmFyIHJhd1N0cmluZyA9IHF1b3RlO1xuICAgIHZhciBlc2NhcGUgPSBmYWxzZTtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICByYXdTdHJpbmcgKz0gY2g7XG4gICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgIGlmIChjaCA9PT0gJ3UnKSB7XG4gICAgICAgICAgdmFyIGhleCA9IHRoaXMudGV4dC5zdWJzdHJpbmcodGhpcy5pbmRleCArIDEsIHRoaXMuaW5kZXggKyA1KTtcbiAgICAgICAgICBpZiAoIWhleC5tYXRjaCgvW1xcZGEtZl17NH0vaSkpIHtcbiAgICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignSW52YWxpZCB1bmljb2RlIGVzY2FwZSBbXFxcXHUnICsgaGV4ICsgJ10nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5pbmRleCArPSA0O1xuICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGhleCwgMTYpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVwID0gRVNDQVBFW2NoXTtcbiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyAocmVwIHx8IGNoKTtcbiAgICAgICAgfVxuICAgICAgICBlc2NhcGUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXFxcJykge1xuICAgICAgICBlc2NhcGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gcXVvdGUpIHtcbiAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICBpbmRleDogc3RhcnQsXG4gICAgICAgICAgdGV4dDogcmF3U3RyaW5nLFxuICAgICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiBzdHJpbmdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cmluZyArPSBjaDtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy50aHJvd0Vycm9yKCdVbnRlcm1pbmF0ZWQgcXVvdGUnLCBzdGFydCk7XG4gIH1cbn07XG5cbnZhciBBU1QgPSBmdW5jdGlvbihsZXhlciwgb3B0aW9ucykge1xuICB0aGlzLmxleGVyID0gbGV4ZXI7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG59O1xuXG5BU1QuUHJvZ3JhbSA9ICdQcm9ncmFtJztcbkFTVC5FeHByZXNzaW9uU3RhdGVtZW50ID0gJ0V4cHJlc3Npb25TdGF0ZW1lbnQnO1xuQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uID0gJ0Fzc2lnbm1lbnRFeHByZXNzaW9uJztcbkFTVC5Db25kaXRpb25hbEV4cHJlc3Npb24gPSAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJztcbkFTVC5Mb2dpY2FsRXhwcmVzc2lvbiA9ICdMb2dpY2FsRXhwcmVzc2lvbic7XG5BU1QuQmluYXJ5RXhwcmVzc2lvbiA9ICdCaW5hcnlFeHByZXNzaW9uJztcbkFTVC5VbmFyeUV4cHJlc3Npb24gPSAnVW5hcnlFeHByZXNzaW9uJztcbkFTVC5DYWxsRXhwcmVzc2lvbiA9ICdDYWxsRXhwcmVzc2lvbic7XG5BU1QuTWVtYmVyRXhwcmVzc2lvbiA9ICdNZW1iZXJFeHByZXNzaW9uJztcbkFTVC5JZGVudGlmaWVyID0gJ0lkZW50aWZpZXInO1xuQVNULkxpdGVyYWwgPSAnTGl0ZXJhbCc7XG5BU1QuQXJyYXlFeHByZXNzaW9uID0gJ0FycmF5RXhwcmVzc2lvbic7XG5BU1QuUHJvcGVydHkgPSAnUHJvcGVydHknO1xuQVNULk9iamVjdEV4cHJlc3Npb24gPSAnT2JqZWN0RXhwcmVzc2lvbic7XG5BU1QuVGhpc0V4cHJlc3Npb24gPSAnVGhpc0V4cHJlc3Npb24nO1xuXG4vLyBJbnRlcm5hbCB1c2Ugb25seVxuQVNULk5HVmFsdWVQYXJhbWV0ZXIgPSAnTkdWYWx1ZVBhcmFtZXRlcic7XG5cbkFTVC5wcm90b3R5cGUgPSB7XG4gIGFzdDogZnVuY3Rpb24odGV4dCkge1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy50b2tlbnMgPSB0aGlzLmxleGVyLmxleCh0ZXh0KTtcblxuICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvZ3JhbSgpO1xuXG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyBhbiB1bmV4cGVjdGVkIHRva2VuJywgdGhpcy50b2tlbnNbMF0pO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcblxuICBwcm9ncmFtOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm9keSA9IFtdO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID4gMCAmJiAhdGhpcy5wZWVrKCd9JywgJyknLCAnOycsICddJykpXG4gICAgICAgIGJvZHkucHVzaCh0aGlzLmV4cHJlc3Npb25TdGF0ZW1lbnQoKSk7XG4gICAgICBpZiAoIXRoaXMuZXhwZWN0KCc7JykpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQVNULlByb2dyYW0sIGJvZHk6IGJvZHl9O1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBleHByZXNzaW9uU3RhdGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBU1QuRXhwcmVzc2lvblN0YXRlbWVudCwgZXhwcmVzc2lvbjogdGhpcy5maWx0ZXJDaGFpbigpIH07XG4gIH0sXG5cbiAgZmlsdGVyQ2hhaW46IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnfCcpKSkge1xuICAgICAgbGVmdCA9IHRoaXMuZmlsdGVyKGxlZnQpO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBleHByZXNzaW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hc3NpZ25tZW50KCk7XG4gIH0sXG5cbiAgYXNzaWdubWVudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMudGVybmFyeSgpO1xuICAgIGlmICh0aGlzLmV4cGVjdCgnPScpKSB7XG4gICAgICByZXN1bHQgPSB7IHR5cGU6IEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbiwgbGVmdDogcmVzdWx0LCByaWdodDogdGhpcy5hc3NpZ25tZW50KCksIG9wZXJhdG9yOiAnPSd9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIHRlcm5hcnk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXN0ID0gdGhpcy5sb2dpY2FsT1IoKTtcbiAgICB2YXIgYWx0ZXJuYXRlO1xuICAgIHZhciBjb25zZXF1ZW50O1xuICAgIGlmICh0aGlzLmV4cGVjdCgnPycpKSB7XG4gICAgICBhbHRlcm5hdGUgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgIGlmICh0aGlzLmNvbnN1bWUoJzonKSkge1xuICAgICAgICBjb25zZXF1ZW50ID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb24sIHRlc3Q6IHRlc3QsIGFsdGVybmF0ZTogYWx0ZXJuYXRlLCBjb25zZXF1ZW50OiBjb25zZXF1ZW50fTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRlc3Q7XG4gIH0sXG5cbiAgbG9naWNhbE9SOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMubG9naWNhbEFORCgpO1xuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnfHwnKSkge1xuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkxvZ2ljYWxFeHByZXNzaW9uLCBvcGVyYXRvcjogJ3x8JywgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMubG9naWNhbEFORCgpIH07XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIGxvZ2ljYWxBTkQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5lcXVhbGl0eSgpO1xuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnJiYnKSkge1xuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkxvZ2ljYWxFeHByZXNzaW9uLCBvcGVyYXRvcjogJyYmJywgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMuZXF1YWxpdHkoKX07XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIGVxdWFsaXR5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMucmVsYXRpb25hbCgpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJz09JywnIT0nLCc9PT0nLCchPT0nKSkpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMucmVsYXRpb25hbCgpIH07XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIHJlbGF0aW9uYWw6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5hZGRpdGl2ZSgpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJzwnLCAnPicsICc8PScsICc+PScpKSkge1xuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5hZGRpdGl2ZSgpIH07XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIGFkZGl0aXZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMubXVsdGlwbGljYXRpdmUoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcrJywnLScpKSkge1xuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5tdWx0aXBsaWNhdGl2ZSgpIH07XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIG11bHRpcGxpY2F0aXZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMudW5hcnkoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcqJywnLycsJyUnKSkpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMudW5hcnkoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICB1bmFyeTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRva2VuO1xuICAgIGlmICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKycsICctJywgJyEnKSkpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IEFTVC5VbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBwcmVmaXg6IHRydWUsIGFyZ3VtZW50OiB0aGlzLnVuYXJ5KCkgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeSgpO1xuICAgIH1cbiAgfSxcblxuICBwcmltYXJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJpbWFyeTtcbiAgICBpZiAodGhpcy5leHBlY3QoJygnKSkge1xuICAgICAgcHJpbWFyeSA9IHRoaXMuZmlsdGVyQ2hhaW4oKTtcbiAgICAgIHRoaXMuY29uc3VtZSgnKScpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5leHBlY3QoJ1snKSkge1xuICAgICAgcHJpbWFyeSA9IHRoaXMuYXJyYXlEZWNsYXJhdGlvbigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5leHBlY3QoJ3snKSkge1xuICAgICAgcHJpbWFyeSA9IHRoaXMub2JqZWN0KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNvbnN0YW50cy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KSkge1xuICAgICAgcHJpbWFyeSA9IGNvcHkodGhpcy5jb25zdGFudHNbdGhpcy5jb25zdW1lKCkudGV4dF0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuaWRlbnRpZmllcikge1xuICAgICAgcHJpbWFyeSA9IHRoaXMuaWRlbnRpZmllcigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuY29uc3RhbnQpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmNvbnN0YW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignbm90IGEgcHJpbWFyeSBleHByZXNzaW9uJywgdGhpcy5wZWVrKCkpO1xuICAgIH1cblxuICAgIHZhciBuZXh0O1xuICAgIHdoaWxlICgobmV4dCA9IHRoaXMuZXhwZWN0KCcoJywgJ1snLCAnLicpKSkge1xuICAgICAgaWYgKG5leHQudGV4dCA9PT0gJygnKSB7XG4gICAgICAgIHByaW1hcnkgPSB7dHlwZTogQVNULkNhbGxFeHByZXNzaW9uLCBjYWxsZWU6IHByaW1hcnksIGFyZ3VtZW50czogdGhpcy5wYXJzZUFyZ3VtZW50cygpIH07XG4gICAgICAgIHRoaXMuY29uc3VtZSgnKScpO1xuICAgICAgfSBlbHNlIGlmIChuZXh0LnRleHQgPT09ICdbJykge1xuICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTWVtYmVyRXhwcmVzc2lvbiwgb2JqZWN0OiBwcmltYXJ5LCBwcm9wZXJ0eTogdGhpcy5leHByZXNzaW9uKCksIGNvbXB1dGVkOiB0cnVlIH07XG4gICAgICAgIHRoaXMuY29uc3VtZSgnXScpO1xuICAgICAgfSBlbHNlIGlmIChuZXh0LnRleHQgPT09ICcuJykge1xuICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTWVtYmVyRXhwcmVzc2lvbiwgb2JqZWN0OiBwcmltYXJ5LCBwcm9wZXJ0eTogdGhpcy5pZGVudGlmaWVyKCksIGNvbXB1dGVkOiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJTVBPU1NJQkxFJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcmltYXJ5O1xuICB9LFxuXG4gIGZpbHRlcjogZnVuY3Rpb24oYmFzZUV4cHJlc3Npb24pIHtcbiAgICB2YXIgYXJncyA9IFtiYXNlRXhwcmVzc2lvbl07XG4gICAgdmFyIHJlc3VsdCA9IHt0eXBlOiBBU1QuQ2FsbEV4cHJlc3Npb24sIGNhbGxlZTogdGhpcy5pZGVudGlmaWVyKCksIGFyZ3VtZW50czogYXJncywgZmlsdGVyOiB0cnVlfTtcblxuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnOicpKSB7XG4gICAgICBhcmdzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgcGFyc2VBcmd1bWVudHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgaWYgKHRoaXMucGVla1Rva2VuKCkudGV4dCAhPT0gJyknKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGFyZ3MucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdCgnLCcpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFyZ3M7XG4gIH0sXG5cbiAgaWRlbnRpZmllcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lKCk7XG4gICAgaWYgKCF0b2tlbi5pZGVudGlmaWVyKSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIG5vdCBhIHZhbGlkIGlkZW50aWZpZXInLCB0b2tlbik7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IEFTVC5JZGVudGlmaWVyLCBuYW1lOiB0b2tlbi50ZXh0IH07XG4gIH0sXG5cbiAgY29uc3RhbnQ6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFRPRE8gY2hlY2sgdGhhdCBpdCBpcyBhIGNvbnN0YW50XG4gICAgcmV0dXJuIHsgdHlwZTogQVNULkxpdGVyYWwsIHZhbHVlOiB0aGlzLmNvbnN1bWUoKS52YWx1ZSB9O1xuICB9LFxuXG4gIGFycmF5RGVjbGFyYXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtZW50cyA9IFtdO1xuICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICddJykge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAodGhpcy5wZWVrKCddJykpIHtcbiAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudHMucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdCgnLCcpKTtcbiAgICB9XG4gICAgdGhpcy5jb25zdW1lKCddJyk7XG5cbiAgICByZXR1cm4geyB0eXBlOiBBU1QuQXJyYXlFeHByZXNzaW9uLCBlbGVtZW50czogZWxlbWVudHMgfTtcbiAgfSxcblxuICBvYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcm9wZXJ0aWVzID0gW10sIHByb3BlcnR5O1xuICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICd9Jykge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAodGhpcy5wZWVrKCd9JykpIHtcbiAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydHkgPSB7dHlwZTogQVNULlByb3BlcnR5LCBraW5kOiAnaW5pdCd9O1xuICAgICAgICBpZiAodGhpcy5wZWVrKCkuY29uc3RhbnQpIHtcbiAgICAgICAgICBwcm9wZXJ0eS5rZXkgPSB0aGlzLmNvbnN0YW50KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuaWRlbnRpZmllcikge1xuICAgICAgICAgIHByb3BlcnR5LmtleSA9IHRoaXMuaWRlbnRpZmllcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudGhyb3dFcnJvcihcImludmFsaWQga2V5XCIsIHRoaXMucGVlaygpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnN1bWUoJzonKTtcbiAgICAgICAgcHJvcGVydHkudmFsdWUgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgICAgcHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xuICAgIH1cbiAgICB0aGlzLmNvbnN1bWUoJ30nKTtcblxuICAgIHJldHVybiB7dHlwZTogQVNULk9iamVjdEV4cHJlc3Npb24sIHByb3BlcnRpZXM6IHByb3BlcnRpZXMgfTtcbiAgfSxcblxuICB0aHJvd0Vycm9yOiBmdW5jdGlvbihtc2csIHRva2VuKSB7XG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdzeW50YXgnLFxuICAgICAgICAnU3ludGF4IEVycm9yOiBUb2tlbiBcXCd7MH1cXCcgezF9IGF0IGNvbHVtbiB7Mn0gb2YgdGhlIGV4cHJlc3Npb24gW3szfV0gc3RhcnRpbmcgYXQgW3s0fV0uJyxcbiAgICAgICAgICB0b2tlbi50ZXh0LCBtc2csICh0b2tlbi5pbmRleCArIDEpLCB0aGlzLnRleHQsIHRoaXMudGV4dC5zdWJzdHJpbmcodG9rZW4uaW5kZXgpKTtcbiAgfSxcblxuICBjb25zdW1lOiBmdW5jdGlvbihlMSkge1xuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycigndWVvZScsICdVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uOiB7MH0nLCB0aGlzLnRleHQpO1xuICAgIH1cblxuICAgIHZhciB0b2tlbiA9IHRoaXMuZXhwZWN0KGUxKTtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIHVuZXhwZWN0ZWQsIGV4cGVjdGluZyBbJyArIGUxICsgJ10nLCB0aGlzLnBlZWsoKSk7XG4gICAgfVxuICAgIHJldHVybiB0b2tlbjtcbiAgfSxcblxuICBwZWVrVG9rZW46IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycigndWVvZScsICdVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uOiB7MH0nLCB0aGlzLnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50b2tlbnNbMF07XG4gIH0sXG5cbiAgcGVlazogZnVuY3Rpb24oZTEsIGUyLCBlMywgZTQpIHtcbiAgICByZXR1cm4gdGhpcy5wZWVrQWhlYWQoMCwgZTEsIGUyLCBlMywgZTQpO1xuICB9LFxuXG4gIHBlZWtBaGVhZDogZnVuY3Rpb24oaSwgZTEsIGUyLCBlMywgZTQpIHtcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID4gaSkge1xuICAgICAgdmFyIHRva2VuID0gdGhpcy50b2tlbnNbaV07XG4gICAgICB2YXIgdCA9IHRva2VuLnRleHQ7XG4gICAgICBpZiAodCA9PT0gZTEgfHwgdCA9PT0gZTIgfHwgdCA9PT0gZTMgfHwgdCA9PT0gZTQgfHxcbiAgICAgICAgICAoIWUxICYmICFlMiAmJiAhZTMgJiYgIWU0KSkge1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICBleHBlY3Q6IGZ1bmN0aW9uKGUxLCBlMiwgZTMsIGU0KSB7XG4gICAgdmFyIHRva2VuID0gdGhpcy5wZWVrKGUxLCBlMiwgZTMsIGU0KTtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIHRoaXMudG9rZW5zLnNoaWZ0KCk7XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuXG4gIC8qIGB1bmRlZmluZWRgIGlzIG5vdCBhIGNvbnN0YW50LCBpdCBpcyBhbiBpZGVudGlmaWVyLFxuICAgKiBidXQgdXNpbmcgaXQgYXMgYW4gaWRlbnRpZmllciBpcyBub3Qgc3VwcG9ydGVkXG4gICAqL1xuICBjb25zdGFudHM6IHtcbiAgICAndHJ1ZSc6IHsgdHlwZTogQVNULkxpdGVyYWwsIHZhbHVlOiB0cnVlIH0sXG4gICAgJ2ZhbHNlJzogeyB0eXBlOiBBU1QuTGl0ZXJhbCwgdmFsdWU6IGZhbHNlIH0sXG4gICAgJ251bGwnOiB7IHR5cGU6IEFTVC5MaXRlcmFsLCB2YWx1ZTogbnVsbCB9LFxuICAgICd1bmRlZmluZWQnOiB7dHlwZTogQVNULkxpdGVyYWwsIHZhbHVlOiB1bmRlZmluZWQgfSxcbiAgICAndGhpcyc6IHt0eXBlOiBBU1QuVGhpc0V4cHJlc3Npb24gfVxuICB9XG59O1xuXG5mdW5jdGlvbiBpZkRlZmluZWQodiwgZCkge1xuICByZXR1cm4gdHlwZW9mIHYgIT09ICd1bmRlZmluZWQnID8gdiA6IGQ7XG59XG5cbmZ1bmN0aW9uIHBsdXNGbihsLCByKSB7XG4gIGlmICh0eXBlb2YgbCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiByO1xuICBpZiAodHlwZW9mIHIgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbDtcbiAgcmV0dXJuIGwgKyByO1xufVxuXG5mdW5jdGlvbiBpc1N0YXRlbGVzcygkZmlsdGVyLCBmaWx0ZXJOYW1lKSB7XG4gIHZhciBmbiA9ICRmaWx0ZXIoZmlsdGVyTmFtZSk7XG4gIHJldHVybiAhZm4uJHN0YXRlZnVsO1xufVxuXG5mdW5jdGlvbiBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdCwgJGZpbHRlcikge1xuICB2YXIgYWxsQ29uc3RhbnRzO1xuICB2YXIgYXJnc1RvV2F0Y2g7XG4gIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgY2FzZSBBU1QuUHJvZ3JhbTpcbiAgICBhbGxDb25zdGFudHMgPSB0cnVlO1xuICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoZXhwci5leHByZXNzaW9uLCAkZmlsdGVyKTtcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBleHByLmV4cHJlc3Npb24uY29uc3RhbnQ7XG4gICAgfSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5MaXRlcmFsOlxuICAgIGFzdC5jb25zdGFudCA9IHRydWU7XG4gICAgYXN0LnRvV2F0Y2ggPSBbXTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuVW5hcnlFeHByZXNzaW9uOlxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmFyZ3VtZW50LCAkZmlsdGVyKTtcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QuYXJndW1lbnQuY29uc3RhbnQ7XG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QuYXJndW1lbnQudG9XYXRjaDtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQmluYXJ5RXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5sZWZ0LCAkZmlsdGVyKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gYXN0LmxlZnQudG9XYXRjaC5jb25jYXQoYXN0LnJpZ2h0LnRvV2F0Y2gpO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5sZWZ0LCAkZmlsdGVyKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gYXN0LmNvbnN0YW50ID8gW10gOiBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnRlc3QsICRmaWx0ZXIpO1xuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmFsdGVybmF0ZSwgJGZpbHRlcik7XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QuY29uc2VxdWVudCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LnRlc3QuY29uc3RhbnQgJiYgYXN0LmFsdGVybmF0ZS5jb25zdGFudCAmJiBhc3QuY29uc2VxdWVudC5jb25zdGFudDtcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5jb25zdGFudCA/IFtdIDogW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULklkZW50aWZpZXI6XG4gICAgYXN0LmNvbnN0YW50ID0gZmFsc2U7XG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuTWVtYmVyRXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5vYmplY3QsICRmaWx0ZXIpO1xuICAgIGlmIChhc3QuY29tcHV0ZWQpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnByb3BlcnR5LCAkZmlsdGVyKTtcbiAgICB9XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0Lm9iamVjdC5jb25zdGFudCAmJiAoIWFzdC5jb21wdXRlZCB8fCBhc3QucHJvcGVydHkuY29uc3RhbnQpO1xuICAgIGFzdC50b1dhdGNoID0gW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkNhbGxFeHByZXNzaW9uOlxuICAgIGFsbENvbnN0YW50cyA9IGFzdC5maWx0ZXIgPyBpc1N0YXRlbGVzcygkZmlsdGVyLCBhc3QuY2FsbGVlLm5hbWUpIDogZmFsc2U7XG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcbiAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoZXhwciwgJGZpbHRlcik7XG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgZXhwci5jb25zdGFudDtcbiAgICAgIGlmICghZXhwci5jb25zdGFudCkge1xuICAgICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBleHByLnRvV2F0Y2gpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5maWx0ZXIgJiYgaXNTdGF0ZWxlc3MoJGZpbHRlciwgYXN0LmNhbGxlZS5uYW1lKSA/IGFyZ3NUb1dhdGNoIDogW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uOlxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmxlZnQsICRmaWx0ZXIpO1xuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnJpZ2h0LCAkZmlsdGVyKTtcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QubGVmdC5jb25zdGFudCAmJiBhc3QucmlnaHQuY29uc3RhbnQ7XG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxuICAgIGFsbENvbnN0YW50cyA9IHRydWU7XG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcbiAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLCAkZmlsdGVyKTtcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBleHByLmNvbnN0YW50O1xuICAgICAgaWYgKCFleHByLmNvbnN0YW50KSB7XG4gICAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIGV4cHIudG9XYXRjaCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xuICAgIGFzdC50b1dhdGNoID0gYXJnc1RvV2F0Y2g7XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XG4gICAgYWxsQ29uc3RhbnRzID0gdHJ1ZTtcbiAgICBhcmdzVG9XYXRjaCA9IFtdO1xuICAgIGZvckVhY2goYXN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKHByb3BlcnR5LnZhbHVlLCAkZmlsdGVyKTtcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBwcm9wZXJ0eS52YWx1ZS5jb25zdGFudDtcbiAgICAgIGlmICghcHJvcGVydHkudmFsdWUuY29uc3RhbnQpIHtcbiAgICAgICAgYXJnc1RvV2F0Y2gucHVzaC5hcHBseShhcmdzVG9XYXRjaCwgcHJvcGVydHkudmFsdWUudG9XYXRjaCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xuICAgIGFzdC50b1dhdGNoID0gYXJnc1RvV2F0Y2g7XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULlRoaXNFeHByZXNzaW9uOlxuICAgIGFzdC5jb25zdGFudCA9IGZhbHNlO1xuICAgIGFzdC50b1dhdGNoID0gW107XG4gICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0SW5wdXRzKGJvZHkpIHtcbiAgaWYgKGJvZHkubGVuZ3RoICE9IDEpIHJldHVybjtcbiAgdmFyIGxhc3RFeHByZXNzaW9uID0gYm9keVswXS5leHByZXNzaW9uO1xuICB2YXIgY2FuZGlkYXRlID0gbGFzdEV4cHJlc3Npb24udG9XYXRjaDtcbiAgaWYgKGNhbmRpZGF0ZS5sZW5ndGggIT09IDEpIHJldHVybiBjYW5kaWRhdGU7XG4gIHJldHVybiBjYW5kaWRhdGVbMF0gIT09IGxhc3RFeHByZXNzaW9uID8gY2FuZGlkYXRlIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0Fzc2lnbmFibGUoYXN0KSB7XG4gIHJldHVybiBhc3QudHlwZSA9PT0gQVNULklkZW50aWZpZXIgfHwgYXN0LnR5cGUgPT09IEFTVC5NZW1iZXJFeHByZXNzaW9uO1xufVxuXG5mdW5jdGlvbiBhc3NpZ25hYmxlQVNUKGFzdCkge1xuICBpZiAoYXN0LmJvZHkubGVuZ3RoID09PSAxICYmIGlzQXNzaWduYWJsZShhc3QuYm9keVswXS5leHByZXNzaW9uKSkge1xuICAgIHJldHVybiB7dHlwZTogQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uLCBsZWZ0OiBhc3QuYm9keVswXS5leHByZXNzaW9uLCByaWdodDoge3R5cGU6IEFTVC5OR1ZhbHVlUGFyYW1ldGVyfSwgb3BlcmF0b3I6ICc9J307XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNMaXRlcmFsKGFzdCkge1xuICByZXR1cm4gYXN0LmJvZHkubGVuZ3RoID09PSAwIHx8XG4gICAgICBhc3QuYm9keS5sZW5ndGggPT09IDEgJiYgKFxuICAgICAgYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlID09PSBBU1QuTGl0ZXJhbCB8fFxuICAgICAgYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlID09PSBBU1QuQXJyYXlFeHByZXNzaW9uIHx8XG4gICAgICBhc3QuYm9keVswXS5leHByZXNzaW9uLnR5cGUgPT09IEFTVC5PYmplY3RFeHByZXNzaW9uKTtcbn1cblxuZnVuY3Rpb24gaXNDb25zdGFudChhc3QpIHtcbiAgcmV0dXJuIGFzdC5jb25zdGFudDtcbn1cblxuZnVuY3Rpb24gQVNUQ29tcGlsZXIoYXN0QnVpbGRlciwgJGZpbHRlcikge1xuICB0aGlzLmFzdEJ1aWxkZXIgPSBhc3RCdWlsZGVyO1xuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xufVxuXG5BU1RDb21waWxlci5wcm90b3R5cGUgPSB7XG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGV4cHJlc3Npb24sIGV4cGVuc2l2ZUNoZWNrcykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXN0ID0gdGhpcy5hc3RCdWlsZGVyLmFzdChleHByZXNzaW9uKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbmV4dElkOiAwLFxuICAgICAgZmlsdGVyczoge30sXG4gICAgICBleHBlbnNpdmVDaGVja3M6IGV4cGVuc2l2ZUNoZWNrcyxcbiAgICAgIGZuOiB7dmFyczogW10sIGJvZHk6IFtdLCBvd246IHt9fSxcbiAgICAgIGFzc2lnbjoge3ZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fX0sXG4gICAgICBpbnB1dHM6IFtdXG4gICAgfTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdCwgc2VsZi4kZmlsdGVyKTtcbiAgICB2YXIgZXh0cmEgPSAnJztcbiAgICB2YXIgYXNzaWduYWJsZTtcbiAgICB0aGlzLnN0YWdlID0gJ2Fzc2lnbic7XG4gICAgaWYgKChhc3NpZ25hYmxlID0gYXNzaWduYWJsZUFTVChhc3QpKSkge1xuICAgICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnYXNzaWduJztcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLm5leHRJZCgpO1xuICAgICAgdGhpcy5yZWN1cnNlKGFzc2lnbmFibGUsIHJlc3VsdCk7XG4gICAgICB0aGlzLnJldHVybl8ocmVzdWx0KTtcbiAgICAgIGV4dHJhID0gJ2ZuLmFzc2lnbj0nICsgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKCdhc3NpZ24nLCAncyx2LGwnKTtcbiAgICB9XG4gICAgdmFyIHRvV2F0Y2ggPSBnZXRJbnB1dHMoYXN0LmJvZHkpO1xuICAgIHNlbGYuc3RhZ2UgPSAnaW5wdXRzJztcbiAgICBmb3JFYWNoKHRvV2F0Y2gsIGZ1bmN0aW9uKHdhdGNoLCBrZXkpIHtcbiAgICAgIHZhciBmbktleSA9ICdmbicgKyBrZXk7XG4gICAgICBzZWxmLnN0YXRlW2ZuS2V5XSA9IHt2YXJzOiBbXSwgYm9keTogW10sIG93bjoge319O1xuICAgICAgc2VsZi5zdGF0ZS5jb21wdXRpbmcgPSBmbktleTtcbiAgICAgIHZhciBpbnRvSWQgPSBzZWxmLm5leHRJZCgpO1xuICAgICAgc2VsZi5yZWN1cnNlKHdhdGNoLCBpbnRvSWQpO1xuICAgICAgc2VsZi5yZXR1cm5fKGludG9JZCk7XG4gICAgICBzZWxmLnN0YXRlLmlucHV0cy5wdXNoKGZuS2V5KTtcbiAgICAgIHdhdGNoLndhdGNoSWQgPSBrZXk7XG4gICAgfSk7XG4gICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnZm4nO1xuICAgIHRoaXMuc3RhZ2UgPSAnbWFpbic7XG4gICAgdGhpcy5yZWN1cnNlKGFzdCk7XG4gICAgdmFyIGZuU3RyaW5nID1cbiAgICAgIC8vIFRoZSBidWlsZCBhbmQgbWluaWZpY2F0aW9uIHN0ZXBzIHJlbW92ZSB0aGUgc3RyaW5nIFwidXNlIHN0cmljdFwiIGZyb20gdGhlIGNvZGUsIGJ1dCB0aGlzIGlzIGRvbmUgdXNpbmcgYSByZWdleC5cbiAgICAgIC8vIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciB0aGlzIHVudGlsIHdlIGRvIGEgYmV0dGVyIGpvYiBhdCBvbmx5IHJlbW92aW5nIHRoZSBwcmVmaXggb25seSB3aGVuIHdlIHNob3VsZC5cbiAgICAgICdcIicgKyB0aGlzLlVTRSArICcgJyArIHRoaXMuU1RSSUNUICsgJ1wiO1xcbicgK1xuICAgICAgdGhpcy5maWx0ZXJQcmVmaXgoKSArXG4gICAgICAndmFyIGZuPScgKyB0aGlzLmdlbmVyYXRlRnVuY3Rpb24oJ2ZuJywgJ3MsbCxhLGknKSArXG4gICAgICBleHRyYSArXG4gICAgICB0aGlzLndhdGNoRm5zKCkgK1xuICAgICAgJ3JldHVybiBmbjsnO1xuXG4gICAgLyoganNoaW50IC1XMDU0ICovXG4gICAgdmFyIGZuID0gKG5ldyBGdW5jdGlvbignJGZpbHRlcicsXG4gICAgICAgICdlbnN1cmVTYWZlTWVtYmVyTmFtZScsXG4gICAgICAgICdlbnN1cmVTYWZlT2JqZWN0JyxcbiAgICAgICAgJ2Vuc3VyZVNhZmVGdW5jdGlvbicsXG4gICAgICAgICdnZXRTdHJpbmdWYWx1ZScsXG4gICAgICAgICdlbnN1cmVTYWZlQXNzaWduQ29udGV4dCcsXG4gICAgICAgICdpZkRlZmluZWQnLFxuICAgICAgICAncGx1cycsXG4gICAgICAgICd0ZXh0JyxcbiAgICAgICAgZm5TdHJpbmcpKShcbiAgICAgICAgICB0aGlzLiRmaWx0ZXIsXG4gICAgICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUsXG4gICAgICAgICAgZW5zdXJlU2FmZU9iamVjdCxcbiAgICAgICAgICBlbnN1cmVTYWZlRnVuY3Rpb24sXG4gICAgICAgICAgZ2V0U3RyaW5nVmFsdWUsXG4gICAgICAgICAgZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQsXG4gICAgICAgICAgaWZEZWZpbmVkLFxuICAgICAgICAgIHBsdXNGbixcbiAgICAgICAgICBleHByZXNzaW9uKTtcbiAgICAvKiBqc2hpbnQgK1cwNTQgKi9cbiAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGFnZSA9IHVuZGVmaW5lZDtcbiAgICBmbi5saXRlcmFsID0gaXNMaXRlcmFsKGFzdCk7XG4gICAgZm4uY29uc3RhbnQgPSBpc0NvbnN0YW50KGFzdCk7XG4gICAgcmV0dXJuIGZuO1xuICB9LFxuXG4gIFVTRTogJ3VzZScsXG5cbiAgU1RSSUNUOiAnc3RyaWN0JyxcblxuICB3YXRjaEZuczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBmbnMgPSB0aGlzLnN0YXRlLmlucHV0cztcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKCd2YXIgJyArIG5hbWUgKyAnPScgKyBzZWxmLmdlbmVyYXRlRnVuY3Rpb24obmFtZSwgJ3MnKSk7XG4gICAgfSk7XG4gICAgaWYgKGZucy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdC5wdXNoKCdmbi5pbnB1dHM9WycgKyBmbnMuam9pbignLCcpICsgJ107Jyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XG4gIH0sXG5cbiAgZ2VuZXJhdGVGdW5jdGlvbjogZnVuY3Rpb24obmFtZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuICdmdW5jdGlvbignICsgcGFyYW1zICsgJyl7JyArXG4gICAgICAgIHRoaXMudmFyc1ByZWZpeChuYW1lKSArXG4gICAgICAgIHRoaXMuYm9keShuYW1lKSArXG4gICAgICAgICd9Oyc7XG4gIH0sXG5cbiAgZmlsdGVyUHJlZml4OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZm9yRWFjaCh0aGlzLnN0YXRlLmZpbHRlcnMsIGZ1bmN0aW9uKGlkLCBmaWx0ZXIpIHtcbiAgICAgIHBhcnRzLnB1c2goaWQgKyAnPSRmaWx0ZXIoJyArIHNlbGYuZXNjYXBlKGZpbHRlcikgKyAnKScpO1xuICAgIH0pO1xuICAgIGlmIChwYXJ0cy5sZW5ndGgpIHJldHVybiAndmFyICcgKyBwYXJ0cy5qb2luKCcsJykgKyAnOyc7XG4gICAgcmV0dXJuICcnO1xuICB9LFxuXG4gIHZhcnNQcmVmaXg6IGZ1bmN0aW9uKHNlY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVtzZWN0aW9uXS52YXJzLmxlbmd0aCA/ICd2YXIgJyArIHRoaXMuc3RhdGVbc2VjdGlvbl0udmFycy5qb2luKCcsJykgKyAnOycgOiAnJztcbiAgfSxcblxuICBib2R5OiBmdW5jdGlvbihzZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVbc2VjdGlvbl0uYm9keS5qb2luKCcnKTtcbiAgfSxcblxuICByZWN1cnNlOiBmdW5jdGlvbihhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCBza2lwV2F0Y2hJZENoZWNrKSB7XG4gICAgdmFyIGxlZnQsIHJpZ2h0LCBzZWxmID0gdGhpcywgYXJncywgZXhwcmVzc2lvbjtcbiAgICByZWN1cnNpb25GbiA9IHJlY3Vyc2lvbkZuIHx8IG5vb3A7XG4gICAgaWYgKCFza2lwV2F0Y2hJZENoZWNrICYmIGlzRGVmaW5lZChhc3Qud2F0Y2hJZCkpIHtcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgdGhpcy5pZl8oJ2knLFxuICAgICAgICB0aGlzLmxhenlBc3NpZ24oaW50b0lkLCB0aGlzLmNvbXB1dGVkTWVtYmVyKCdpJywgYXN0LndhdGNoSWQpKSxcbiAgICAgICAgdGhpcy5sYXp5UmVjdXJzZShhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCB0cnVlKVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpdGNoIChhc3QudHlwZSkge1xuICAgIGNhc2UgQVNULlByb2dyYW06XG4gICAgICBmb3JFYWNoKGFzdC5ib2R5LCBmdW5jdGlvbihleHByZXNzaW9uLCBwb3MpIHtcbiAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHJlc3Npb24uZXhwcmVzc2lvbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgcmlnaHQgPSBleHByOyB9KTtcbiAgICAgICAgaWYgKHBvcyAhPT0gYXN0LmJvZHkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHNlbGYuY3VycmVudCgpLmJvZHkucHVzaChyaWdodCwgJzsnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnJldHVybl8ocmlnaHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkxpdGVyYWw6XG4gICAgICBleHByZXNzaW9uID0gdGhpcy5lc2NhcGUoYXN0LnZhbHVlKTtcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULlVuYXJ5RXhwcmVzc2lvbjpcbiAgICAgIHRoaXMucmVjdXJzZShhc3QuYXJndW1lbnQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IHJpZ2h0ID0gZXhwcjsgfSk7XG4gICAgICBleHByZXNzaW9uID0gYXN0Lm9wZXJhdG9yICsgJygnICsgdGhpcy5pZkRlZmluZWQocmlnaHQsIDApICsgJyknO1xuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGV4cHJlc3Npb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQmluYXJ5RXhwcmVzc2lvbjpcbiAgICAgIHRoaXMucmVjdXJzZShhc3QubGVmdCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgbGVmdCA9IGV4cHI7IH0pO1xuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5yaWdodCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgcmlnaHQgPSBleHByOyB9KTtcbiAgICAgIGlmIChhc3Qub3BlcmF0b3IgPT09ICcrJykge1xuICAgICAgICBleHByZXNzaW9uID0gdGhpcy5wbHVzKGxlZnQsIHJpZ2h0KTtcbiAgICAgIH0gZWxzZSBpZiAoYXN0Lm9wZXJhdG9yID09PSAnLScpIHtcbiAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMuaWZEZWZpbmVkKGxlZnQsIDApICsgYXN0Lm9wZXJhdG9yICsgdGhpcy5pZkRlZmluZWQocmlnaHQsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwcmVzc2lvbiA9ICcoJyArIGxlZnQgKyAnKScgKyBhc3Qub3BlcmF0b3IgKyAnKCcgKyByaWdodCArICcpJztcbiAgICAgIH1cbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LmxlZnQsIGludG9JZCk7XG4gICAgICBzZWxmLmlmXyhhc3Qub3BlcmF0b3IgPT09ICcmJicgPyBpbnRvSWQgOiBzZWxmLm5vdChpbnRvSWQpLCBzZWxmLmxhenlSZWN1cnNlKGFzdC5yaWdodCwgaW50b0lkKSk7XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LnRlc3QsIGludG9JZCk7XG4gICAgICBzZWxmLmlmXyhpbnRvSWQsIHNlbGYubGF6eVJlY3Vyc2UoYXN0LmFsdGVybmF0ZSwgaW50b0lkKSwgc2VsZi5sYXp5UmVjdXJzZShhc3QuY29uc2VxdWVudCwgaW50b0lkKSk7XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuSWRlbnRpZmllcjpcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgaWYgKG5hbWVJZCkge1xuICAgICAgICBuYW1lSWQuY29udGV4dCA9IHNlbGYuc3RhZ2UgPT09ICdpbnB1dHMnID8gJ3MnIDogdGhpcy5hc3NpZ24odGhpcy5uZXh0SWQoKSwgdGhpcy5nZXRIYXNPd25Qcm9wZXJ0eSgnbCcsIGFzdC5uYW1lKSArICc/bDpzJyk7XG4gICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IGZhbHNlO1xuICAgICAgICBuYW1lSWQubmFtZSA9IGFzdC5uYW1lO1xuICAgICAgfVxuICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUoYXN0Lm5hbWUpO1xuICAgICAgc2VsZi5pZl8oc2VsZi5zdGFnZSA9PT0gJ2lucHV0cycgfHwgc2VsZi5ub3Qoc2VsZi5nZXRIYXNPd25Qcm9wZXJ0eSgnbCcsIGFzdC5uYW1lKSksXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuaWZfKHNlbGYuc3RhZ2UgPT09ICdpbnB1dHMnIHx8ICdzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xuICAgICAgICAgICAgICBzZWxmLmlmXyhcbiAgICAgICAgICAgICAgICBzZWxmLm5vdChzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdzJywgYXN0Lm5hbWUpKSxcbiAgICAgICAgICAgICAgICBzZWxmLmxhenlBc3NpZ24oc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSwgJ3t9JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdzJywgYXN0Lm5hbWUpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgaW50b0lkICYmIHNlbGYubGF6eUFzc2lnbihpbnRvSWQsIHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIoJ2wnLCBhc3QubmFtZSkpXG4gICAgICAgICk7XG4gICAgICBpZiAoc2VsZi5zdGF0ZS5leHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUoYXN0Lm5hbWUpKSB7XG4gICAgICAgIHNlbGYuYWRkRW5zdXJlU2FmZU9iamVjdChpbnRvSWQpO1xuICAgICAgfVxuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gbmFtZUlkICYmIChuYW1lSWQuY29udGV4dCA9IHRoaXMubmV4dElkKCkpIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgIHNlbGYucmVjdXJzZShhc3Qub2JqZWN0LCBsZWZ0LCB1bmRlZmluZWQsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdE51bGwobGVmdCksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChhc3QuY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIHJpZ2h0ID0gc2VsZi5uZXh0SWQoKTtcbiAgICAgICAgICAgIHNlbGYucmVjdXJzZShhc3QucHJvcGVydHksIHJpZ2h0KTtcbiAgICAgICAgICAgIHNlbGYuZ2V0U3RyaW5nVmFsdWUocmlnaHQpO1xuICAgICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlTWVtYmVyTmFtZShyaWdodCk7XG4gICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xuICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdChzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSksIHNlbGYubGF6eUFzc2lnbihzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSwgJ3t9JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYuZW5zdXJlU2FmZU9iamVjdChzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSk7XG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgaWYgKG5hbWVJZCkge1xuICAgICAgICAgICAgICBuYW1lSWQuY29tcHV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBuYW1lSWQubmFtZSA9IHJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbnN1cmVTYWZlTWVtYmVyTmFtZShhc3QucHJvcGVydHkubmFtZSk7XG4gICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xuICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdChzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKSksIHNlbGYubGF6eUFzc2lnbihzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKSwgJ3t9JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgYXN0LnByb3BlcnR5Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKHNlbGYuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKGFzdC5wcm9wZXJ0eS5uYW1lKSkge1xuICAgICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5lbnN1cmVTYWZlT2JqZWN0KGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgICAgICAgIGlmIChuYW1lSWQpIHtcbiAgICAgICAgICAgICAgbmFtZUlkLmNvbXB1dGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIG5hbWVJZC5uYW1lID0gYXN0LnByb3BlcnR5Lm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsICd1bmRlZmluZWQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XG4gICAgICB9LCAhIWNyZWF0ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5DYWxsRXhwcmVzc2lvbjpcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgaWYgKGFzdC5maWx0ZXIpIHtcbiAgICAgICAgcmlnaHQgPSBzZWxmLmZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xuICAgICAgICBhcmdzID0gW107XG4gICAgICAgIGZvckVhY2goYXN0LmFyZ3VtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgICAgIHZhciBhcmd1bWVudCA9IHNlbGYubmV4dElkKCk7XG4gICAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHIsIGFyZ3VtZW50KTtcbiAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IHJpZ2h0ICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XG4gICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByaWdodCA9IHNlbGYubmV4dElkKCk7XG4gICAgICAgIGxlZnQgPSB7fTtcbiAgICAgICAgYXJncyA9IFtdO1xuICAgICAgICBzZWxmLnJlY3Vyc2UoYXN0LmNhbGxlZSwgcmlnaHQsIGxlZnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChyaWdodCksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlRnVuY3Rpb24ocmlnaHQpO1xuICAgICAgICAgICAgZm9yRWFjaChhc3QuYXJndW1lbnRzLCBmdW5jdGlvbihleHByKSB7XG4gICAgICAgICAgICAgIHNlbGYucmVjdXJzZShleHByLCBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKHNlbGYuZW5zdXJlU2FmZU9iamVjdChhcmd1bWVudCkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGxlZnQubmFtZSkge1xuICAgICAgICAgICAgICBpZiAoIXNlbGYuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlT2JqZWN0KGxlZnQuY29udGV4dCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYubWVtYmVyKGxlZnQuY29udGV4dCwgbGVmdC5uYW1lLCBsZWZ0LmNvbXB1dGVkKSArICcoJyArIGFyZ3Muam9pbignLCcpICsgJyknO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHJpZ2h0ICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5lbnN1cmVTYWZlT2JqZWN0KGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgJ3VuZGVmaW5lZCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XG4gICAgICByaWdodCA9IHRoaXMubmV4dElkKCk7XG4gICAgICBsZWZ0ID0ge307XG4gICAgICBpZiAoIWlzQXNzaWduYWJsZShhc3QubGVmdCkpIHtcbiAgICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdsdmFsJywgJ1RyeWluZyB0byBhc3NpbmcgYSB2YWx1ZSB0byBhIG5vbiBsLXZhbHVlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQsIHVuZGVmaW5lZCwgbGVmdCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChsZWZ0LmNvbnRleHQpLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnJlY3Vyc2UoYXN0LnJpZ2h0LCByaWdodCk7XG4gICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlT2JqZWN0KHNlbGYubWVtYmVyKGxlZnQuY29udGV4dCwgbGVmdC5uYW1lLCBsZWZ0LmNvbXB1dGVkKSk7XG4gICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dChsZWZ0LmNvbnRleHQpO1xuICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLm1lbWJlcihsZWZ0LmNvbnRleHQsIGxlZnQubmFtZSwgbGVmdC5jb21wdXRlZCkgKyBhc3Qub3BlcmF0b3IgKyByaWdodDtcbiAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCBleHByZXNzaW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkFycmF5RXhwcmVzc2lvbjpcbiAgICAgIGFyZ3MgPSBbXTtcbiAgICAgIGZvckVhY2goYXN0LmVsZW1lbnRzLCBmdW5jdGlvbihleHByKSB7XG4gICAgICAgIHNlbGYucmVjdXJzZShleHByLCBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGV4cHJlc3Npb24gPSAnWycgKyBhcmdzLmpvaW4oJywnKSArICddJztcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUsIHNlbGYubmV4dElkKCksIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikge1xuICAgICAgICAgIGFyZ3MucHVzaChzZWxmLmVzY2FwZShcbiAgICAgICAgICAgICAgcHJvcGVydHkua2V5LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyID8gcHJvcGVydHkua2V5Lm5hbWUgOlxuICAgICAgICAgICAgICAgICgnJyArIHByb3BlcnR5LmtleS52YWx1ZSkpICtcbiAgICAgICAgICAgICAgJzonICsgZXhwcik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBleHByZXNzaW9uID0gJ3snICsgYXJncy5qb2luKCcsJykgKyAnfSc7XG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgJ3MnKTtcbiAgICAgIHJlY3Vyc2lvbkZuKCdzJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5OR1ZhbHVlUGFyYW1ldGVyOlxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAndicpO1xuICAgICAgcmVjdXJzaW9uRm4oJ3YnKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSxcblxuICBnZXRIYXNPd25Qcm9wZXJ0eTogZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgICB2YXIga2V5ID0gZWxlbWVudCArICcuJyArIHByb3BlcnR5O1xuICAgIHZhciBvd24gPSB0aGlzLmN1cnJlbnQoKS5vd247XG4gICAgaWYgKCFvd24uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgb3duW2tleV0gPSB0aGlzLm5leHRJZChmYWxzZSwgZWxlbWVudCArICcmJignICsgdGhpcy5lc2NhcGUocHJvcGVydHkpICsgJyBpbiAnICsgZWxlbWVudCArICcpJyk7XG4gICAgfVxuICAgIHJldHVybiBvd25ba2V5XTtcbiAgfSxcblxuICBhc3NpZ246IGZ1bmN0aW9uKGlkLCB2YWx1ZSkge1xuICAgIGlmICghaWQpIHJldHVybjtcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2goaWQsICc9JywgdmFsdWUsICc7Jyk7XG4gICAgcmV0dXJuIGlkO1xuICB9LFxuXG4gIGZpbHRlcjogZnVuY3Rpb24oZmlsdGVyTmFtZSkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5maWx0ZXJzLmhhc093blByb3BlcnR5KGZpbHRlck5hbWUpKSB7XG4gICAgICB0aGlzLnN0YXRlLmZpbHRlcnNbZmlsdGVyTmFtZV0gPSB0aGlzLm5leHRJZCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZmlsdGVyc1tmaWx0ZXJOYW1lXTtcbiAgfSxcblxuICBpZkRlZmluZWQ6IGZ1bmN0aW9uKGlkLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gJ2lmRGVmaW5lZCgnICsgaWQgKyAnLCcgKyB0aGlzLmVzY2FwZShkZWZhdWx0VmFsdWUpICsgJyknO1xuICB9LFxuXG4gIHBsdXM6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuICdwbHVzKCcgKyBsZWZ0ICsgJywnICsgcmlnaHQgKyAnKSc7XG4gIH0sXG5cbiAgcmV0dXJuXzogZnVuY3Rpb24oaWQpIHtcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2goJ3JldHVybiAnLCBpZCwgJzsnKTtcbiAgfSxcblxuICBpZl86IGZ1bmN0aW9uKHRlc3QsIGFsdGVybmF0ZSwgY29uc2VxdWVudCkge1xuICAgIGlmICh0ZXN0ID09PSB0cnVlKSB7XG4gICAgICBhbHRlcm5hdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGJvZHkgPSB0aGlzLmN1cnJlbnQoKS5ib2R5O1xuICAgICAgYm9keS5wdXNoKCdpZignLCB0ZXN0LCAnKXsnKTtcbiAgICAgIGFsdGVybmF0ZSgpO1xuICAgICAgYm9keS5wdXNoKCd9Jyk7XG4gICAgICBpZiAoY29uc2VxdWVudCkge1xuICAgICAgICBib2R5LnB1c2goJ2Vsc2V7Jyk7XG4gICAgICAgIGNvbnNlcXVlbnQoKTtcbiAgICAgICAgYm9keS5wdXNoKCd9Jyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIG5vdDogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIHJldHVybiAnISgnICsgZXhwcmVzc2lvbiArICcpJztcbiAgfSxcblxuICBub3ROdWxsOiBmdW5jdGlvbihleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIGV4cHJlc3Npb24gKyAnIT1udWxsJztcbiAgfSxcblxuICBub25Db21wdXRlZE1lbWJlcjogZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdCArICcuJyArIHJpZ2h0O1xuICB9LFxuXG4gIGNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBsZWZ0ICsgJ1snICsgcmlnaHQgKyAnXSc7XG4gIH0sXG5cbiAgbWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29tcHV0ZWQpIHtcbiAgICBpZiAoY29tcHV0ZWQpIHJldHVybiB0aGlzLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KTtcbiAgICByZXR1cm4gdGhpcy5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCk7XG4gIH0sXG5cbiAgYWRkRW5zdXJlU2FmZU9iamVjdDogZnVuY3Rpb24oaXRlbSkge1xuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVPYmplY3QoaXRlbSksICc7Jyk7XG4gIH0sXG5cbiAgYWRkRW5zdXJlU2FmZU1lbWJlck5hbWU6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlTWVtYmVyTmFtZShpdGVtKSwgJzsnKTtcbiAgfSxcblxuICBhZGRFbnN1cmVTYWZlRnVuY3Rpb246IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlRnVuY3Rpb24oaXRlbSksICc7Jyk7XG4gIH0sXG5cbiAgYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQ6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlQXNzaWduQ29udGV4dChpdGVtKSwgJzsnKTtcbiAgfSxcblxuICBlbnN1cmVTYWZlT2JqZWN0OiBmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuICdlbnN1cmVTYWZlT2JqZWN0KCcgKyBpdGVtICsgJyx0ZXh0KSc7XG4gIH0sXG5cbiAgZW5zdXJlU2FmZU1lbWJlck5hbWU6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gJ2Vuc3VyZVNhZmVNZW1iZXJOYW1lKCcgKyBpdGVtICsgJyx0ZXh0KSc7XG4gIH0sXG5cbiAgZW5zdXJlU2FmZUZ1bmN0aW9uOiBmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuICdlbnN1cmVTYWZlRnVuY3Rpb24oJyArIGl0ZW0gKyAnLHRleHQpJztcbiAgfSxcblxuICBnZXRTdHJpbmdWYWx1ZTogZnVuY3Rpb24oaXRlbSkge1xuICAgIHRoaXMuYXNzaWduKGl0ZW0sICdnZXRTdHJpbmdWYWx1ZSgnICsgaXRlbSArICcsdGV4dCknKTtcbiAgfSxcblxuICBlbnN1cmVTYWZlQXNzaWduQ29udGV4dDogZnVuY3Rpb24oaXRlbSkge1xuICAgIHJldHVybiAnZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoJyArIGl0ZW0gKyAnLHRleHQpJztcbiAgfSxcblxuICBsYXp5UmVjdXJzZTogZnVuY3Rpb24oYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjayk7XG4gICAgfTtcbiAgfSxcblxuICBsYXp5QXNzaWduOiBmdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5hc3NpZ24oaWQsIHZhbHVlKTtcbiAgICB9O1xuICB9LFxuXG4gIHN0cmluZ0VzY2FwZVJlZ2V4OiAvW14gYS16QS1aMC05XS9nLFxuXG4gIHN0cmluZ0VzY2FwZUZuOiBmdW5jdGlvbihjKSB7XG4gICAgcmV0dXJuICdcXFxcdScgKyAoJzAwMDAnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpO1xuICB9LFxuXG4gIGVzY2FwZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSByZXR1cm4gXCInXCIgKyB2YWx1ZS5yZXBsYWNlKHRoaXMuc3RyaW5nRXNjYXBlUmVnZXgsIHRoaXMuc3RyaW5nRXNjYXBlRm4pICsgXCInXCI7XG4gICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgaWYgKHZhbHVlID09PSB0cnVlKSByZXR1cm4gJ3RydWUnO1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHJldHVybiAnZmFsc2UnO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykgcmV0dXJuICd1bmRlZmluZWQnO1xuXG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdlc2MnLCAnSU1QT1NTSUJMRScpO1xuICB9LFxuXG4gIG5leHRJZDogZnVuY3Rpb24oc2tpcCwgaW5pdCkge1xuICAgIHZhciBpZCA9ICd2JyArICh0aGlzLnN0YXRlLm5leHRJZCsrKTtcbiAgICBpZiAoIXNraXApIHtcbiAgICAgIHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChpZCArIChpbml0ID8gJz0nICsgaW5pdCA6ICcnKSk7XG4gICAgfVxuICAgIHJldHVybiBpZDtcbiAgfSxcblxuICBjdXJyZW50OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmNvbXB1dGluZ107XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gQVNUSW50ZXJwcmV0ZXIoYXN0QnVpbGRlciwgJGZpbHRlcikge1xuICB0aGlzLmFzdEJ1aWxkZXIgPSBhc3RCdWlsZGVyO1xuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xufVxuXG5BU1RJbnRlcnByZXRlci5wcm90b3R5cGUgPSB7XG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGV4cHJlc3Npb24sIGV4cGVuc2l2ZUNoZWNrcykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXN0ID0gdGhpcy5hc3RCdWlsZGVyLmFzdChleHByZXNzaW9uKTtcbiAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xuICAgIHRoaXMuZXhwZW5zaXZlQ2hlY2tzID0gZXhwZW5zaXZlQ2hlY2tzO1xuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LCBzZWxmLiRmaWx0ZXIpO1xuICAgIHZhciBhc3NpZ25hYmxlO1xuICAgIHZhciBhc3NpZ247XG4gICAgaWYgKChhc3NpZ25hYmxlID0gYXNzaWduYWJsZUFTVChhc3QpKSkge1xuICAgICAgYXNzaWduID0gdGhpcy5yZWN1cnNlKGFzc2lnbmFibGUpO1xuICAgIH1cbiAgICB2YXIgdG9XYXRjaCA9IGdldElucHV0cyhhc3QuYm9keSk7XG4gICAgdmFyIGlucHV0cztcbiAgICBpZiAodG9XYXRjaCkge1xuICAgICAgaW5wdXRzID0gW107XG4gICAgICBmb3JFYWNoKHRvV2F0Y2gsIGZ1bmN0aW9uKHdhdGNoLCBrZXkpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gc2VsZi5yZWN1cnNlKHdhdGNoKTtcbiAgICAgICAgd2F0Y2guaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgaW5wdXRzLnB1c2goaW5wdXQpO1xuICAgICAgICB3YXRjaC53YXRjaElkID0ga2V5O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBleHByZXNzaW9ucyA9IFtdO1xuICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcbiAgICAgIGV4cHJlc3Npb25zLnB1c2goc2VsZi5yZWN1cnNlKGV4cHJlc3Npb24uZXhwcmVzc2lvbikpO1xuICAgIH0pO1xuICAgIHZhciBmbiA9IGFzdC5ib2R5Lmxlbmd0aCA9PT0gMCA/IGZ1bmN0aW9uKCkge30gOlxuICAgICAgICAgICAgIGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSA/IGV4cHJlc3Npb25zWzBdIDpcbiAgICAgICAgICAgICBmdW5jdGlvbihzY29wZSwgbG9jYWxzKSB7XG4gICAgICAgICAgICAgICB2YXIgbGFzdFZhbHVlO1xuICAgICAgICAgICAgICAgZm9yRWFjaChleHByZXNzaW9ucywgZnVuY3Rpb24oZXhwKSB7XG4gICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGV4cChzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICB9O1xuICAgIGlmIChhc3NpZ24pIHtcbiAgICAgIGZuLmFzc2lnbiA9IGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzKSB7XG4gICAgICAgIHJldHVybiBhc3NpZ24oc2NvcGUsIGxvY2FscywgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlucHV0cykge1xuICAgICAgZm4uaW5wdXRzID0gaW5wdXRzO1xuICAgIH1cbiAgICBmbi5saXRlcmFsID0gaXNMaXRlcmFsKGFzdCk7XG4gICAgZm4uY29uc3RhbnQgPSBpc0NvbnN0YW50KGFzdCk7XG4gICAgcmV0dXJuIGZuO1xuICB9LFxuXG4gIHJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCwgY3JlYXRlKSB7XG4gICAgdmFyIGxlZnQsIHJpZ2h0LCBzZWxmID0gdGhpcywgYXJncywgZXhwcmVzc2lvbjtcbiAgICBpZiAoYXN0LmlucHV0KSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnB1dHMoYXN0LmlucHV0LCBhc3Qud2F0Y2hJZCk7XG4gICAgfVxuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgICBjYXNlIEFTVC5MaXRlcmFsOlxuICAgICAgcmV0dXJuIHRoaXMudmFsdWUoYXN0LnZhbHVlLCBjb250ZXh0KTtcbiAgICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuYXJndW1lbnQpO1xuICAgICAgcmV0dXJuIHRoaXNbJ3VuYXJ5JyArIGFzdC5vcGVyYXRvcl0ocmlnaHQsIGNvbnRleHQpO1xuICAgIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0KTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XG4gICAgICByZXR1cm4gdGhpc1snYmluYXJ5JyArIGFzdC5vcGVyYXRvcl0obGVmdCwgcmlnaHQsIGNvbnRleHQpO1xuICAgIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3QubGVmdCk7XG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucmlnaHQpO1xuICAgICAgcmV0dXJuIHRoaXNbJ2JpbmFyeScgKyBhc3Qub3BlcmF0b3JdKGxlZnQsIHJpZ2h0LCBjb250ZXh0KTtcbiAgICBjYXNlIEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb246XG4gICAgICByZXR1cm4gdGhpc1sndGVybmFyeT86J10oXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QudGVzdCksXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QuYWx0ZXJuYXRlKSxcbiAgICAgICAgdGhpcy5yZWN1cnNlKGFzdC5jb25zZXF1ZW50KSxcbiAgICAgICAgY29udGV4dFxuICAgICAgKTtcbiAgICBjYXNlIEFTVC5JZGVudGlmaWVyOlxuICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUoYXN0Lm5hbWUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgICByZXR1cm4gc2VsZi5pZGVudGlmaWVyKGFzdC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmV4cGVuc2l2ZUNoZWNrcyB8fCBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShhc3QubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsIGNyZWF0ZSwgc2VsZi5leHByZXNzaW9uKTtcbiAgICBjYXNlIEFTVC5NZW1iZXJFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3Qub2JqZWN0LCBmYWxzZSwgISFjcmVhdGUpO1xuICAgICAgaWYgKCFhc3QuY29tcHV0ZWQpIHtcbiAgICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUoYXN0LnByb3BlcnR5Lm5hbWUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgICAgIHJpZ2h0ID0gYXN0LnByb3BlcnR5Lm5hbWU7XG4gICAgICB9XG4gICAgICBpZiAoYXN0LmNvbXB1dGVkKSByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucHJvcGVydHkpO1xuICAgICAgcmV0dXJuIGFzdC5jb21wdXRlZCA/XG4gICAgICAgIHRoaXMuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSwgc2VsZi5leHByZXNzaW9uKSA6XG4gICAgICAgIHRoaXMubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIHNlbGYuZXhwZW5zaXZlQ2hlY2tzLCBjb250ZXh0LCBjcmVhdGUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMuJGZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xuICAgICAgaWYgKCFhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuY2FsbGVlLCB0cnVlKTtcbiAgICAgIHJldHVybiBhc3QuZmlsdGVyID9cbiAgICAgICAgZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2YWx1ZSA9IHJpZ2h0LmFwcGx5KHVuZGVmaW5lZCwgdmFsdWVzLCBpbnB1dHMpO1xuICAgICAgICAgIHJldHVybiBjb250ZXh0ID8ge2NvbnRleHQ6IHVuZGVmaW5lZCwgbmFtZTogdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICAgIH0gOlxuICAgICAgICBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgIGlmIChyaHMudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZW5zdXJlU2FmZU9iamVjdChyaHMuY29udGV4dCwgc2VsZi5leHByZXNzaW9uKTtcbiAgICAgICAgICAgIGVuc3VyZVNhZmVGdW5jdGlvbihyaHMudmFsdWUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgdmFsdWVzLnB1c2goZW5zdXJlU2FmZU9iamVjdChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSwgc2VsZi5leHByZXNzaW9uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IGVuc3VyZVNhZmVPYmplY3QocmhzLnZhbHVlLmFwcGx5KHJocy5jb250ZXh0LCB2YWx1ZXMpLCBzZWxmLmV4cHJlc3Npb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICAgIH07XG4gICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB0cnVlLCAxKTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICB2YXIgcmhzID0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICBlbnN1cmVTYWZlT2JqZWN0KGxocy52YWx1ZSwgc2VsZi5leHByZXNzaW9uKTtcbiAgICAgICAgZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQobGhzLmNvbnRleHQpO1xuICAgICAgICBsaHMuY29udGV4dFtsaHMubmFtZV0gPSByaHM7XG4gICAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiByaHN9IDogcmhzO1xuICAgICAgfTtcbiAgICBjYXNlIEFTVC5BcnJheUV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgICBhcmdzLnB1c2goc2VsZi5yZWN1cnNlKGV4cHIpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICB2YWx1ZS5wdXNoKGFyZ3NbaV0oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICB9O1xuICAgIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICBhcmdzLnB1c2goe2tleTogcHJvcGVydHkua2V5LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmtleS5uYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICgnJyArIHByb3BlcnR5LmtleS52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgdmFsdWU6IHNlbGYucmVjdXJzZShwcm9wZXJ0eS52YWx1ZSlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICB2YXIgdmFsdWUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdmFsdWVbYXJnc1tpXS5rZXldID0gYXJnc1tpXS52YWx1ZShzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IHZhbHVlfSA6IHZhbHVlO1xuICAgICAgfTtcbiAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkge1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogc2NvcGV9IDogc2NvcGU7XG4gICAgICB9O1xuICAgIGNhc2UgQVNULk5HVmFsdWVQYXJhbWV0ZXI6XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFzc2lnbn0gOiBhc3NpZ247XG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAndW5hcnkrJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICBpZiAoaXNEZWZpbmVkKGFyZykpIHtcbiAgICAgICAgYXJnID0gK2FyZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZyA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAndW5hcnktJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICBpZiAoaXNEZWZpbmVkKGFyZykpIHtcbiAgICAgICAgYXJnID0gLWFyZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZyA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAndW5hcnkhJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSAhYXJndW1lbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeSsnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgdmFyIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHZhciBhcmcgPSBwbHVzRm4obGhzLCByaHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeS0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgdmFyIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHZhciBhcmcgPSAoaXNEZWZpbmVkKGxocykgPyBsaHMgOiAwKSAtIChpc0RlZmluZWQocmhzKSA/IHJocyA6IDApO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeSonOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICogcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeS8nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIC8gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeSUnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICUgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeT09PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPT09IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkhPT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICE9PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5PT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID09IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkhPSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgIT0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeTwnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIDwgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeT4nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID4gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeTw9JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA8PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5Pj0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID49IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkmJic6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgJiYgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeXx8JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB8fCByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAndGVybmFyeT86JzogZnVuY3Rpb24odGVzdCwgYWx0ZXJuYXRlLCBjb25zZXF1ZW50LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gdGVzdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPyBhbHRlcm5hdGUoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIDogY29uc2VxdWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICB2YWx1ZTogZnVuY3Rpb24odmFsdWUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7IHJldHVybiBjb250ZXh0ID8ge2NvbnRleHQ6IHVuZGVmaW5lZCwgbmFtZTogdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9IDogdmFsdWU7IH07XG4gIH0sXG4gIGlkZW50aWZpZXI6IGZ1bmN0aW9uKG5hbWUsIGV4cGVuc2l2ZUNoZWNrcywgY29udGV4dCwgY3JlYXRlLCBleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYmFzZSA9IGxvY2FscyAmJiAobmFtZSBpbiBsb2NhbHMpID8gbG9jYWxzIDogc2NvcGU7XG4gICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSAmJiBiYXNlICYmICEoYmFzZVtuYW1lXSkpIHtcbiAgICAgICAgYmFzZVtuYW1lXSA9IHt9O1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYmFzZSA/IGJhc2VbbmFtZV0gOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoZXhwZW5zaXZlQ2hlY2tzKSB7XG4gICAgICAgIGVuc3VyZVNhZmVPYmplY3QodmFsdWUsIGV4cHJlc3Npb24pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBiYXNlLCBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlLCBleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgbGhzID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICB2YXIgcmhzO1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgaWYgKGxocyAhPSBudWxsKSB7XG4gICAgICAgIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgICAgcmhzID0gZ2V0U3RyaW5nVmFsdWUocmhzKTtcbiAgICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUocmhzLCBleHByZXNzaW9uKTtcbiAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEgJiYgbGhzICYmICEobGhzW3Joc10pKSB7XG4gICAgICAgICAgbGhzW3Joc10gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IGxoc1tyaHNdO1xuICAgICAgICBlbnN1cmVTYWZlT2JqZWN0KHZhbHVlLCBleHByZXNzaW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7Y29udGV4dDogbGhzLCBuYW1lOiByaHMsIHZhbHVlOiB2YWx1ZX07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgbm9uQ29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBleHBlbnNpdmVDaGVja3MsIGNvbnRleHQsIGNyZWF0ZSwgZXhwcmVzc2lvbikge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEgJiYgbGhzICYmICEobGhzW3JpZ2h0XSkpIHtcbiAgICAgICAgbGhzW3JpZ2h0XSA9IHt9O1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gbGhzICE9IG51bGwgPyBsaHNbcmlnaHRdIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGV4cGVuc2l2ZUNoZWNrcyB8fCBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShyaWdodCkpIHtcbiAgICAgICAgZW5zdXJlU2FmZU9iamVjdCh2YWx1ZSwgZXhwcmVzc2lvbik7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4ge2NvbnRleHQ6IGxocywgbmFtZTogcmlnaHQsIHZhbHVlOiB2YWx1ZX07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgaW5wdXRzOiBmdW5jdGlvbihpbnB1dCwgd2F0Y2hJZCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgdmFsdWUsIGxvY2FscywgaW5wdXRzKSB7XG4gICAgICBpZiAoaW5wdXRzKSByZXR1cm4gaW5wdXRzW3dhdGNoSWRdO1xuICAgICAgcmV0dXJuIGlucHV0KHNjb3BlLCB2YWx1ZSwgbG9jYWxzKTtcbiAgICB9O1xuICB9XG59O1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgUGFyc2VyID0gZnVuY3Rpb24obGV4ZXIsICRmaWx0ZXIsIG9wdGlvbnMpIHtcbiAgdGhpcy5sZXhlciA9IGxleGVyO1xuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB0aGlzLmFzdCA9IG5ldyBBU1QodGhpcy5sZXhlcik7XG4gIHRoaXMuYXN0Q29tcGlsZXIgPSBvcHRpb25zLmNzcCA/IG5ldyBBU1RJbnRlcnByZXRlcih0aGlzLmFzdCwgJGZpbHRlcikgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQVNUQ29tcGlsZXIodGhpcy5hc3QsICRmaWx0ZXIpO1xufTtcblxuUGFyc2VyLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFBhcnNlcixcblxuICBwYXJzZTogZnVuY3Rpb24odGV4dCkge1xuICAgIHJldHVybiB0aGlzLmFzdENvbXBpbGVyLmNvbXBpbGUodGV4dCwgdGhpcy5vcHRpb25zLmV4cGVuc2l2ZUNoZWNrcyk7XG4gIH1cbn07XG5cbnZhciBnZXR0ZXJGbkNhY2hlRGVmYXVsdCA9IGNyZWF0ZU1hcCgpO1xudmFyIGdldHRlckZuQ2FjaGVFeHBlbnNpdmUgPSBjcmVhdGVNYXAoKTtcblxuZnVuY3Rpb24gaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUobmFtZSkge1xuICByZXR1cm4gbmFtZSA9PSAnY29uc3RydWN0b3InO1xufVxuXG52YXIgb2JqZWN0VmFsdWVPZiA9IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZjtcblxuZnVuY3Rpb24gZ2V0VmFsdWVPZih2YWx1ZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZS52YWx1ZU9mKSA/IHZhbHVlLnZhbHVlT2YoKSA6IG9iamVjdFZhbHVlT2YuY2FsbCh2YWx1ZSk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRwYXJzZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb252ZXJ0cyBBbmd1bGFyIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGludG8gYSBmdW5jdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogICB2YXIgZ2V0dGVyID0gJHBhcnNlKCd1c2VyLm5hbWUnKTtcbiAqICAgdmFyIHNldHRlciA9IGdldHRlci5hc3NpZ247XG4gKiAgIHZhciBjb250ZXh0ID0ge3VzZXI6e25hbWU6J2FuZ3VsYXInfX07XG4gKiAgIHZhciBsb2NhbHMgPSB7dXNlcjp7bmFtZTonbG9jYWwnfX07XG4gKlxuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQpKS50b0VxdWFsKCdhbmd1bGFyJyk7XG4gKiAgIHNldHRlcihjb250ZXh0LCAnbmV3VmFsdWUnKTtcbiAqICAgZXhwZWN0KGNvbnRleHQudXNlci5uYW1lKS50b0VxdWFsKCduZXdWYWx1ZScpO1xuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQsIGxvY2FscykpLnRvRXF1YWwoJ2xvY2FsJyk7XG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gKlxuICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gKiAgICAgIGBjb250ZXh0YC5cbiAqXG4gKiAgICBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gYWxzbyBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogICAgICAqIGBsaXRlcmFsYCDigJMgYHtib29sZWFufWAg4oCTIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24ncyB0b3AtbGV2ZWwgbm9kZSBpcyBhIEphdmFTY3JpcHRcbiAqICAgICAgICBsaXRlcmFsLlxuICogICAgICAqIGBjb25zdGFudGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIG1hZGUgZW50aXJlbHkgb2YgSmF2YVNjcmlwdFxuICogICAgICAgIGNvbnN0YW50IGxpdGVyYWxzLlxuICogICAgICAqIGBhc3NpZ25gIOKAkyBgez9mdW5jdGlvbihjb250ZXh0LCB2YWx1ZSl9YCDigJMgaWYgdGhlIGV4cHJlc3Npb24gaXMgYXNzaWduYWJsZSwgdGhpcyB3aWxsIGJlXG4gKiAgICAgICAgc2V0IHRvIGEgZnVuY3Rpb24gdG8gY2hhbmdlIGl0cyB2YWx1ZSBvbiB0aGUgZ2l2ZW4gY29udGV4dC5cbiAqXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHBhcnNlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkcGFyc2VQcm92aWRlcmAgY2FuIGJlIHVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJHBhcnNlICRwYXJzZX1cbiAqICBzZXJ2aWNlLlxuICovXG5mdW5jdGlvbiAkUGFyc2VQcm92aWRlcigpIHtcbiAgdmFyIGNhY2hlRGVmYXVsdCA9IGNyZWF0ZU1hcCgpO1xuICB2YXIgY2FjaGVFeHBlbnNpdmUgPSBjcmVhdGVNYXAoKTtcblxuICB0aGlzLiRnZXQgPSBbJyRmaWx0ZXInLCBmdW5jdGlvbigkZmlsdGVyKSB7XG4gICAgdmFyIG5vVW5zYWZlRXZhbCA9IGNzcCgpLm5vVW5zYWZlRXZhbDtcbiAgICB2YXIgJHBhcnNlT3B0aW9ucyA9IHtcbiAgICAgICAgICBjc3A6IG5vVW5zYWZlRXZhbCxcbiAgICAgICAgICBleHBlbnNpdmVDaGVja3M6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgPSB7XG4gICAgICAgICAgY3NwOiBub1Vuc2FmZUV2YWwsXG4gICAgICAgICAgZXhwZW5zaXZlQ2hlY2tzOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gJHBhcnNlKGV4cCwgaW50ZXJjZXB0b3JGbiwgZXhwZW5zaXZlQ2hlY2tzKSB7XG4gICAgICB2YXIgcGFyc2VkRXhwcmVzc2lvbiwgb25lVGltZSwgY2FjaGVLZXk7XG5cbiAgICAgIHN3aXRjaCAodHlwZW9mIGV4cCkge1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIGV4cCA9IGV4cC50cmltKCk7XG4gICAgICAgICAgY2FjaGVLZXkgPSBleHA7XG5cbiAgICAgICAgICB2YXIgY2FjaGUgPSAoZXhwZW5zaXZlQ2hlY2tzID8gY2FjaGVFeHBlbnNpdmUgOiBjYWNoZURlZmF1bHQpO1xuICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBjYWNoZVtjYWNoZUtleV07XG5cbiAgICAgICAgICBpZiAoIXBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIGlmIChleHAuY2hhckF0KDApID09PSAnOicgJiYgZXhwLmNoYXJBdCgxKSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgIG9uZVRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICBleHAgPSBleHAuc3Vic3RyaW5nKDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBhcnNlT3B0aW9ucyA9IGV4cGVuc2l2ZUNoZWNrcyA/ICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgOiAkcGFyc2VPcHRpb25zO1xuICAgICAgICAgICAgdmFyIGxleGVyID0gbmV3IExleGVyKHBhcnNlT3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihsZXhlciwgJGZpbHRlciwgcGFyc2VPcHRpb25zKTtcbiAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBwYXJzZXIucGFyc2UoZXhwKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWRFeHByZXNzaW9uLmNvbnN0YW50KSB7XG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gY29uc3RhbnRXYXRjaERlbGVnYXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvbmVUaW1lKSB7XG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi5saXRlcmFsID9cbiAgICAgICAgICAgICAgICAgIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSA6IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRFeHByZXNzaW9uLmlucHV0cykge1xuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IGlucHV0c1dhdGNoRGVsZWdhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZVtjYWNoZUtleV0gPSBwYXJzZWRFeHByZXNzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbiwgaW50ZXJjZXB0b3JGbik7XG5cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihleHAsIGludGVyY2VwdG9yRm4pO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3VmFsdWUsIG9sZFZhbHVlT2ZWYWx1ZSkge1xuXG4gICAgICBpZiAobmV3VmFsdWUgPT0gbnVsbCB8fCBvbGRWYWx1ZU9mVmFsdWUgPT0gbnVsbCkgeyAvLyBudWxsL3VuZGVmaW5lZFxuICAgICAgICByZXR1cm4gbmV3VmFsdWUgPT09IG9sZFZhbHVlT2ZWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAvLyBhdHRlbXB0IHRvIGNvbnZlcnQgdGhlIHZhbHVlIHRvIGEgcHJpbWl0aXZlIHR5cGVcbiAgICAgICAgLy8gVE9ETyhkb2NzKTogYWRkIGEgbm90ZSB0byBkb2NzIHRoYXQgYnkgaW1wbGVtZW50aW5nIHZhbHVlT2YgZXZlbiBvYmplY3RzIGFuZCBhcnJheXMgY2FuXG4gICAgICAgIC8vICAgICAgICAgICAgIGJlIGNoZWFwbHkgZGlydHktY2hlY2tlZFxuICAgICAgICBuZXdWYWx1ZSA9IGdldFZhbHVlT2YobmV3VmFsdWUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgLy8gb2JqZWN0cy9hcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgLSBkZWVwLXdhdGNoaW5nIHRoZW0gd291bGQgYmUgdG9vIGV4cGVuc2l2ZVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGwtdGhyb3VnaCB0byB0aGUgcHJpbWl0aXZlIGVxdWFsaXR5IGNoZWNrXG4gICAgICB9XG5cbiAgICAgIC8vUHJpbWl0aXZlIG9yIE5hTlxuICAgICAgcmV0dXJuIG5ld1ZhbHVlID09PSBvbGRWYWx1ZU9mVmFsdWUgfHwgKG5ld1ZhbHVlICE9PSBuZXdWYWx1ZSAmJiBvbGRWYWx1ZU9mVmFsdWUgIT09IG9sZFZhbHVlT2ZWYWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5wdXRzV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uLCBwcmV0dHlQcmludEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciBpbnB1dEV4cHJlc3Npb25zID0gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHM7XG4gICAgICB2YXIgbGFzdFJlc3VsdDtcblxuICAgICAgaWYgKGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2YgPSBleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrOyAvLyBpbml0IHRvIHNvbWV0aGluZyB1bmlxdWUgc28gdGhhdCBlcXVhbHMgY2hlY2sgZmFpbHNcbiAgICAgICAgaW5wdXRFeHByZXNzaW9ucyA9IGlucHV0RXhwcmVzc2lvbnNbMF07XG4gICAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0V2F0Y2goc2NvcGUpIHtcbiAgICAgICAgICB2YXIgbmV3SW5wdXRWYWx1ZSA9IGlucHV0RXhwcmVzc2lvbnMoc2NvcGUpO1xuICAgICAgICAgIGlmICghZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdJbnB1dFZhbHVlLCBvbGRJbnB1dFZhbHVlT2YpKSB7XG4gICAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFtuZXdJbnB1dFZhbHVlXSk7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2YgPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbik7XG4gICAgICB9XG5cbiAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXMgPSBbXTtcbiAgICAgIHZhciBvbGRJbnB1dFZhbHVlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSA9IGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2s7IC8vIGluaXQgdG8gc29tZXRoaW5nIHVuaXF1ZSBzbyB0aGF0IGVxdWFscyBjaGVjayBmYWlsc1xuICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0c1dhdGNoKHNjb3BlKSB7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zW2ldKHNjb3BlKTtcbiAgICAgICAgICBpZiAoY2hhbmdlZCB8fCAoY2hhbmdlZCA9ICFleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSkpKSB7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG5ld0lucHV0VmFsdWU7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0gPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZElucHV0VmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwcmV0dHlQcmludEV4cHJlc3Npb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uZVRpbWVXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciB1bndhdGNoLCBsYXN0VmFsdWU7XG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBvbmVUaW1lV2F0Y2goc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgZnVuY3Rpb24gb25lVGltZUxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKSB7XG4gICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChsYXN0VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHVud2F0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgb2JqZWN0RXF1YWxpdHkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XG4gICAgICB2YXIgdW53YXRjaCwgbGFzdFZhbHVlO1xuICAgICAgcmV0dXJuIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24gb25lVGltZVdhdGNoKHNjb3BlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcbiAgICAgIH0sIGZ1bmN0aW9uIG9uZVRpbWVMaXN0ZW5lcih2YWx1ZSwgb2xkLCBzY29wZSkge1xuICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XG4gICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCB2YWx1ZSwgb2xkLCBzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQWxsRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNBbGxEZWZpbmVkKGxhc3RWYWx1ZSkpIHVud2F0Y2goKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgb2JqZWN0RXF1YWxpdHkpO1xuXG4gICAgICBmdW5jdGlvbiBpc0FsbERlZmluZWQodmFsdWUpIHtcbiAgICAgICAgdmFyIGFsbERlZmluZWQgPSB0cnVlO1xuICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICBpZiAoIWlzRGVmaW5lZCh2YWwpKSBhbGxEZWZpbmVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYWxsRGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25zdGFudFdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgdmFyIHVud2F0Y2g7XG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBjb25zdGFudFdhdGNoKHNjb3BlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcbiAgICAgIH0sIGZ1bmN0aW9uIGNvbnN0YW50TGlzdGVuZXIodmFsdWUsIG9sZCwgc2NvcGUpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XG4gICAgICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICB1bndhdGNoKCk7XG4gICAgICB9LCBvYmplY3RFcXVhbGl0eSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbiwgaW50ZXJjZXB0b3JGbikge1xuICAgICAgaWYgKCFpbnRlcmNlcHRvckZuKSByZXR1cm4gcGFyc2VkRXhwcmVzc2lvbjtcbiAgICAgIHZhciB3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU7XG4gICAgICB2YXIgdXNlSW5wdXRzID0gZmFsc2U7XG5cbiAgICAgIHZhciByZWd1bGFyV2F0Y2ggPVxuICAgICAgICAgIHdhdGNoRGVsZWdhdGUgIT09IG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSAmJlxuICAgICAgICAgIHdhdGNoRGVsZWdhdGUgIT09IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xuXG4gICAgICB2YXIgZm4gPSByZWd1bGFyV2F0Y2ggPyBmdW5jdGlvbiByZWd1bGFySW50ZXJjZXB0ZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHVzZUlucHV0cyAmJiBpbnB1dHMgPyBpbnB1dHNbMF0gOiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgICAgcmV0dXJuIGludGVyY2VwdG9yRm4odmFsdWUsIHNjb3BlLCBsb2NhbHMpO1xuICAgICAgfSA6IGZ1bmN0aW9uIG9uZVRpbWVJbnRlcmNlcHRlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBpbnRlcmNlcHRvckZuKHZhbHVlLCBzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgLy8gd2Ugb25seSByZXR1cm4gdGhlIGludGVyY2VwdG9yJ3MgcmVzdWx0IGlmIHRoZVxuICAgICAgICAvLyBpbml0aWFsIHZhbHVlIGlzIGRlZmluZWQgKGZvciBiaW5kLW9uY2UpXG4gICAgICAgIHJldHVybiBpc0RlZmluZWQodmFsdWUpID8gcmVzdWx0IDogdmFsdWU7XG4gICAgICB9O1xuXG4gICAgICAvLyBQcm9wYWdhdGUgJCR3YXRjaERlbGVnYXRlcyBvdGhlciB0aGVuIGlucHV0c1dhdGNoRGVsZWdhdGVcbiAgICAgIGlmIChwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSAmJlxuICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlICE9PSBpbnB1dHNXYXRjaERlbGVnYXRlKSB7XG4gICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlO1xuICAgICAgfSBlbHNlIGlmICghaW50ZXJjZXB0b3JGbi4kc3RhdGVmdWwpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gaW50ZXJjZXB0b3IsIGJ1dCBubyB3YXRjaERlbGVnYXRlIHRoZW4gdHJlYXQgdGhlIGludGVyY2VwdG9yIGxpa2VcbiAgICAgICAgLy8gd2UgdHJlYXQgZmlsdGVycyAtIGl0IGlzIGFzc3VtZWQgdG8gYmUgYSBwdXJlIGZ1bmN0aW9uIHVubGVzcyBmbGFnZ2VkIHdpdGggJHN0YXRlZnVsXG4gICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IGlucHV0c1dhdGNoRGVsZWdhdGU7XG4gICAgICAgIHVzZUlucHV0cyA9ICFwYXJzZWRFeHByZXNzaW9uLmlucHV0cztcbiAgICAgICAgZm4uaW5wdXRzID0gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHMgPyBwYXJzZWRFeHByZXNzaW9uLmlucHV0cyA6IFtwYXJzZWRFeHByZXNzaW9uXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRxXG4gKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBzZXJ2aWNlIHRoYXQgaGVscHMgeW91IHJ1biBmdW5jdGlvbnMgYXN5bmNocm9ub3VzbHksIGFuZCB1c2UgdGhlaXIgcmV0dXJuIHZhbHVlcyAob3IgZXhjZXB0aW9ucylcbiAqIHdoZW4gdGhleSBhcmUgZG9uZSBwcm9jZXNzaW5nLlxuICpcbiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgcHJvbWlzZXMvZGVmZXJyZWQgb2JqZWN0cyBpbnNwaXJlZCBieVxuICogW0tyaXMgS293YWwncyBRXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EpLlxuICpcbiAqICRxIGNhbiBiZSB1c2VkIGluIHR3byBmYXNoaW9ucyAtLS0gb25lIHdoaWNoIGlzIG1vcmUgc2ltaWxhciB0byBLcmlzIEtvd2FsJ3MgUSBvciBqUXVlcnkncyBEZWZlcnJlZFxuICogaW1wbGVtZW50YXRpb25zLCBhbmQgdGhlIG90aGVyIHdoaWNoIHJlc2VtYmxlcyBFUzYgcHJvbWlzZXMgdG8gc29tZSBkZWdyZWUuXG4gKlxuICogIyAkcSBjb25zdHJ1Y3RvclxuICpcbiAqIFRoZSBzdHJlYW1saW5lZCBFUzYgc3R5bGUgcHJvbWlzZSBpcyBlc3NlbnRpYWxseSBqdXN0IHVzaW5nICRxIGFzIGEgY29uc3RydWN0b3Igd2hpY2ggdGFrZXMgYSBgcmVzb2x2ZXJgXG4gKiBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIFRoaXMgaXMgc2ltaWxhciB0byB0aGUgbmF0aXZlIFByb21pc2UgaW1wbGVtZW50YXRpb24gZnJvbSBFUzYgSGFybW9ueSxcbiAqIHNlZSBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlKS5cbiAqXG4gKiBXaGlsZSB0aGUgY29uc3RydWN0b3Itc3R5bGUgdXNlIGlzIHN1cHBvcnRlZCwgbm90IGFsbCBvZiB0aGUgc3VwcG9ydGluZyBtZXRob2RzIGZyb20gRVM2IEhhcm1vbnkgcHJvbWlzZXMgYXJlXG4gKiBhdmFpbGFibGUgeWV0LlxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIGxpa2Ugc286XG4gKlxuICogYGBganNcbiAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCBhbmQgYG9rVG9HcmVldGBcbiAqICAgLy8gYXJlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlICh0aGV5IGNvdWxkIGhhdmUgYmVlbiBpbmplY3RlZCBvciBwYXNzZWQgaW4pLlxuICpcbiAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7XG4gKiAgICAgLy8gcGVyZm9ybSBzb21lIGFzeW5jaHJvbm91cyBvcGVyYXRpb24sIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBwcm9taXNlIHdoZW4gYXBwcm9wcmlhdGUuXG4gKiAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICogICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xuICogICAgICAgICAgIHJlc29sdmUoJ0hlbGxvLCAnICsgbmFtZSArICchJyk7XG4gKiAgICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgICAgcmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0sIDEwMDApO1xuICogICAgIH0pO1xuICogICB9XG4gKlxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIE5vdGU6IHByb2dyZXNzL25vdGlmeSBjYWxsYmFja3MgYXJlIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIHZpYSB0aGUgRVM2LXN0eWxlIGludGVyZmFjZS5cbiAqXG4gKiBOb3RlOiB1bmxpa2UgRVM2IGJlaGF2aW91ciwgYW4gZXhjZXB0aW9uIHRocm93biBpbiB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24gd2lsbCBOT1QgaW1wbGljaXRseSByZWplY3QgdGhlIHByb21pc2UuXG4gKlxuICogSG93ZXZlciwgdGhlIG1vcmUgdHJhZGl0aW9uYWwgQ29tbW9uSlMtc3R5bGUgdXNhZ2UgaXMgc3RpbGwgYXZhaWxhYmxlLCBhbmQgZG9jdW1lbnRlZCBiZWxvdy5cbiAqXG4gKiBbVGhlIENvbW1vbkpTIFByb21pc2UgcHJvcG9zYWxdKGh0dHA6Ly93aWtpLmNvbW1vbmpzLm9yZy93aWtpL1Byb21pc2VzKSBkZXNjcmliZXMgYSBwcm9taXNlIGFzIGFuXG4gKiBpbnRlcmZhY2UgZm9yIGludGVyYWN0aW5nIHdpdGggYW4gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgcmVzdWx0IG9mIGFuIGFjdGlvbiB0aGF0IGlzXG4gKiBwZXJmb3JtZWQgYXN5bmNocm9ub3VzbHksIGFuZCBtYXkgb3IgbWF5IG5vdCBiZSBmaW5pc2hlZCBhdCBhbnkgZ2l2ZW4gcG9pbnQgaW4gdGltZS5cbiAqXG4gKiBGcm9tIHRoZSBwZXJzcGVjdGl2ZSBvZiBkZWFsaW5nIHdpdGggZXJyb3IgaGFuZGxpbmcsIGRlZmVycmVkIGFuZCBwcm9taXNlIEFQSXMgYXJlIHRvXG4gKiBhc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcgd2hhdCBgdHJ5YCwgYGNhdGNoYCBhbmQgYHRocm93YCBrZXl3b3JkcyBhcmUgdG8gc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcuXG4gKlxuICogYGBganNcbiAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCBhbmQgYG9rVG9HcmVldGBcbiAqICAgLy8gYXJlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlICh0aGV5IGNvdWxkIGhhdmUgYmVlbiBpbmplY3RlZCBvciBwYXNzZWQgaW4pLlxuICpcbiAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7XG4gKiAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAqXG4gKiAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgIGRlZmVycmVkLm5vdGlmeSgnQWJvdXQgdG8gZ3JlZXQgJyArIG5hbWUgKyAnLicpO1xuICpcbiAqICAgICAgIGlmIChva1RvR3JlZXQobmFtZSkpIHtcbiAqICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgnSGVsbG8sICcgKyBuYW1lICsgJyEnKTtcbiAqICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnR3JlZXRpbmcgJyArIG5hbWUgKyAnIGlzIG5vdCBhbGxvd2VkLicpO1xuICogICAgICAgfVxuICogICAgIH0sIDEwMDApO1xuICpcbiAqICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAqICAgfVxuICpcbiAqICAgdmFyIHByb21pc2UgPSBhc3luY0dyZWV0KCdSb2JpbiBIb29kJyk7XG4gKiAgIHByb21pc2UudGhlbihmdW5jdGlvbihncmVldGluZykge1xuICogICAgIGFsZXJ0KCdTdWNjZXNzOiAnICsgZ3JlZXRpbmcpO1xuICogICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAqICAgICBhbGVydCgnRmFpbGVkOiAnICsgcmVhc29uKTtcbiAqICAgfSwgZnVuY3Rpb24odXBkYXRlKSB7XG4gKiAgICAgYWxlcnQoJ0dvdCBub3RpZmljYXRpb246ICcgKyB1cGRhdGUpO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIEF0IGZpcnN0IGl0IG1pZ2h0IG5vdCBiZSBvYnZpb3VzIHdoeSB0aGlzIGV4dHJhIGNvbXBsZXhpdHkgaXMgd29ydGggdGhlIHRyb3VibGUuIFRoZSBwYXlvZmZcbiAqIGNvbWVzIGluIHRoZSB3YXkgb2YgZ3VhcmFudGVlcyB0aGF0IHByb21pc2UgYW5kIGRlZmVycmVkIEFQSXMgbWFrZSwgc2VlXG4gKiBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3VuY29tbW9uanMvYmxvYi9tYXN0ZXIvcHJvbWlzZXMvc3BlY2lmaWNhdGlvbi5tZC5cbiAqXG4gKiBBZGRpdGlvbmFsbHkgdGhlIHByb21pc2UgYXBpIGFsbG93cyBmb3IgY29tcG9zaXRpb24gdGhhdCBpcyB2ZXJ5IGhhcmQgdG8gZG8gd2l0aCB0aGVcbiAqIHRyYWRpdGlvbmFsIGNhbGxiYWNrIChbQ1BTXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbnRpbnVhdGlvbi1wYXNzaW5nX3N0eWxlKSkgYXBwcm9hY2guXG4gKiBGb3IgbW9yZSBvbiB0aGlzIHBsZWFzZSBzZWUgdGhlIFtRIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcSkgZXNwZWNpYWxseSB0aGVcbiAqIHNlY3Rpb24gb24gc2VyaWFsIG9yIHBhcmFsbGVsIGpvaW5pbmcgb2YgcHJvbWlzZXMuXG4gKlxuICogIyBUaGUgRGVmZXJyZWQgQVBJXG4gKlxuICogQSBuZXcgaW5zdGFuY2Ugb2YgZGVmZXJyZWQgaXMgY29uc3RydWN0ZWQgYnkgY2FsbGluZyBgJHEuZGVmZXIoKWAuXG4gKlxuICogVGhlIHB1cnBvc2Ugb2YgdGhlIGRlZmVycmVkIG9iamVjdCBpcyB0byBleHBvc2UgdGhlIGFzc29jaWF0ZWQgUHJvbWlzZSBpbnN0YW5jZSBhcyB3ZWxsIGFzIEFQSXNcbiAqIHRoYXQgY2FuIGJlIHVzZWQgZm9yIHNpZ25hbGluZyB0aGUgc3VjY2Vzc2Z1bCBvciB1bnN1Y2Nlc3NmdWwgY29tcGxldGlvbiwgYXMgd2VsbCBhcyB0aGUgc3RhdHVzXG4gKiBvZiB0aGUgdGFzay5cbiAqXG4gKiAqKk1ldGhvZHMqKlxuICpcbiAqIC0gYHJlc29sdmUodmFsdWUpYCDigJMgcmVzb2x2ZXMgdGhlIGRlcml2ZWQgcHJvbWlzZSB3aXRoIHRoZSBgdmFsdWVgLiBJZiB0aGUgdmFsdWUgaXMgYSByZWplY3Rpb25cbiAqICAgY29uc3RydWN0ZWQgdmlhIGAkcS5yZWplY3RgLCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIGluc3RlYWQuXG4gKiAtIGByZWplY3QocmVhc29uKWAg4oCTIHJlamVjdHMgdGhlIGRlcml2ZWQgcHJvbWlzZSB3aXRoIHRoZSBgcmVhc29uYC4gVGhpcyBpcyBlcXVpdmFsZW50IHRvXG4gKiAgIHJlc29sdmluZyBpdCB3aXRoIGEgcmVqZWN0aW9uIGNvbnN0cnVjdGVkIHZpYSBgJHEucmVqZWN0YC5cbiAqIC0gYG5vdGlmeSh2YWx1ZSlgIC0gcHJvdmlkZXMgdXBkYXRlcyBvbiB0aGUgc3RhdHVzIG9mIHRoZSBwcm9taXNlJ3MgZXhlY3V0aW9uLiBUaGlzIG1heSBiZSBjYWxsZWRcbiAqICAgbXVsdGlwbGUgdGltZXMgYmVmb3JlIHRoZSBwcm9taXNlIGlzIGVpdGhlciByZXNvbHZlZCBvciByZWplY3RlZC5cbiAqXG4gKiAqKlByb3BlcnRpZXMqKlxuICpcbiAqIC0gcHJvbWlzZSDigJMgYHtQcm9taXNlfWAg4oCTIHByb21pc2Ugb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRlZmVycmVkLlxuICpcbiAqXG4gKiAjIFRoZSBQcm9taXNlIEFQSVxuICpcbiAqIEEgbmV3IHByb21pc2UgaW5zdGFuY2UgaXMgY3JlYXRlZCB3aGVuIGEgZGVmZXJyZWQgaW5zdGFuY2UgaXMgY3JlYXRlZCBhbmQgY2FuIGJlIHJldHJpZXZlZCBieVxuICogY2FsbGluZyBgZGVmZXJyZWQucHJvbWlzZWAuXG4gKlxuICogVGhlIHB1cnBvc2Ugb2YgdGhlIHByb21pc2Ugb2JqZWN0IGlzIHRvIGFsbG93IGZvciBpbnRlcmVzdGVkIHBhcnRpZXMgdG8gZ2V0IGFjY2VzcyB0byB0aGUgcmVzdWx0XG4gKiBvZiB0aGUgZGVmZXJyZWQgdGFzayB3aGVuIGl0IGNvbXBsZXRlcy5cbiAqXG4gKiAqKk1ldGhvZHMqKlxuICpcbiAqIC0gYHRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBub3RpZnlDYWxsYmFjaylgIOKAkyByZWdhcmRsZXNzIG9mIHdoZW4gdGhlIHByb21pc2Ugd2FzIG9yXG4gKiAgIHdpbGwgYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQsIGB0aGVuYCBjYWxscyBvbmUgb2YgdGhlIHN1Y2Nlc3Mgb3IgZXJyb3IgY2FsbGJhY2tzIGFzeW5jaHJvbm91c2x5XG4gKiAgIGFzIHNvb24gYXMgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIFRoZSBjYWxsYmFja3MgYXJlIGNhbGxlZCB3aXRoIGEgc2luZ2xlIGFyZ3VtZW50OiB0aGUgcmVzdWx0XG4gKiAgIG9yIHJlamVjdGlvbiByZWFzb24uIEFkZGl0aW9uYWxseSwgdGhlIG5vdGlmeSBjYWxsYmFjayBtYXkgYmUgY2FsbGVkIHplcm8gb3IgbW9yZSB0aW1lcyB0b1xuICogICBwcm92aWRlIGEgcHJvZ3Jlc3MgaW5kaWNhdGlvbiwgYmVmb3JlIHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkLlxuICpcbiAqICAgVGhpcyBtZXRob2QgKnJldHVybnMgYSBuZXcgcHJvbWlzZSogd2hpY2ggaXMgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgdmlhIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlXG4gKiAgIGBzdWNjZXNzQ2FsbGJhY2tgLCBgZXJyb3JDYWxsYmFja2AgKHVubGVzcyB0aGF0IHZhbHVlIGlzIGEgcHJvbWlzZSwgaW4gd2hpY2ggY2FzZSBpdCBpcyByZXNvbHZlZFxuICogICB3aXRoIHRoZSB2YWx1ZSB3aGljaCBpcyByZXNvbHZlZCBpbiB0aGF0IHByb21pc2UgdXNpbmdcbiAqICAgW3Byb21pc2UgY2hhaW5pbmddKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2VzNi9wcm9taXNlcy8jdG9jLXByb21pc2VzLXF1ZXVlcykpLlxuICogICBJdCBhbHNvIG5vdGlmaWVzIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgbm90aWZ5Q2FsbGJhY2tgIG1ldGhvZC4gVGhlIHByb21pc2UgY2Fubm90IGJlXG4gKiAgIHJlc29sdmVkIG9yIHJlamVjdGVkIGZyb20gdGhlIG5vdGlmeUNhbGxiYWNrIG1ldGhvZC5cbiAqXG4gKiAtIGBjYXRjaChlcnJvckNhbGxiYWNrKWAg4oCTIHNob3J0aGFuZCBmb3IgYHByb21pc2UudGhlbihudWxsLCBlcnJvckNhbGxiYWNrKWBcbiAqXG4gKiAtIGBmaW5hbGx5KGNhbGxiYWNrLCBub3RpZnlDYWxsYmFjaylgIOKAkyBhbGxvd3MgeW91IHRvIG9ic2VydmUgZWl0aGVyIHRoZSBmdWxmaWxsbWVudCBvciByZWplY3Rpb24gb2YgYSBwcm9taXNlLFxuICogICBidXQgdG8gZG8gc28gd2l0aG91dCBtb2RpZnlpbmcgdGhlIGZpbmFsIHZhbHVlLiBUaGlzIGlzIHVzZWZ1bCB0byByZWxlYXNlIHJlc291cmNlcyBvciBkbyBzb21lXG4gKiAgIGNsZWFuLXVwIHRoYXQgbmVlZHMgdG8gYmUgZG9uZSB3aGV0aGVyIHRoZSBwcm9taXNlIHdhcyByZWplY3RlZCBvciByZXNvbHZlZC4gU2VlIHRoZSBbZnVsbFxuICogICBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3Evd2lraS9BUEktUmVmZXJlbmNlI3Byb21pc2VmaW5hbGx5Y2FsbGJhY2spIGZvclxuICogICBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqICMgQ2hhaW5pbmcgcHJvbWlzZXNcbiAqXG4gKiBCZWNhdXNlIGNhbGxpbmcgdGhlIGB0aGVuYCBtZXRob2Qgb2YgYSBwcm9taXNlIHJldHVybnMgYSBuZXcgZGVyaXZlZCBwcm9taXNlLCBpdCBpcyBlYXNpbHlcbiAqIHBvc3NpYmxlIHRvIGNyZWF0ZSBhIGNoYWluIG9mIHByb21pc2VzOlxuICpcbiAqIGBgYGpzXG4gKiAgIHByb21pc2VCID0gcHJvbWlzZUEudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAqICAgICByZXR1cm4gcmVzdWx0ICsgMTtcbiAqICAgfSk7XG4gKlxuICogICAvLyBwcm9taXNlQiB3aWxsIGJlIHJlc29sdmVkIGltbWVkaWF0ZWx5IGFmdGVyIHByb21pc2VBIGlzIHJlc29sdmVkIGFuZCBpdHMgdmFsdWVcbiAqICAgLy8gd2lsbCBiZSB0aGUgcmVzdWx0IG9mIHByb21pc2VBIGluY3JlbWVudGVkIGJ5IDFcbiAqIGBgYFxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIGNyZWF0ZSBjaGFpbnMgb2YgYW55IGxlbmd0aCBhbmQgc2luY2UgYSBwcm9taXNlIGNhbiBiZSByZXNvbHZlZCB3aXRoIGFub3RoZXJcbiAqIHByb21pc2UgKHdoaWNoIHdpbGwgZGVmZXIgaXRzIHJlc29sdXRpb24gZnVydGhlciksIGl0IGlzIHBvc3NpYmxlIHRvIHBhdXNlL2RlZmVyIHJlc29sdXRpb24gb2ZcbiAqIHRoZSBwcm9taXNlcyBhdCBhbnkgcG9pbnQgaW4gdGhlIGNoYWluLiBUaGlzIG1ha2VzIGl0IHBvc3NpYmxlIHRvIGltcGxlbWVudCBwb3dlcmZ1bCBBUElzIGxpa2VcbiAqICRodHRwJ3MgcmVzcG9uc2UgaW50ZXJjZXB0b3JzLlxuICpcbiAqXG4gKiAjIERpZmZlcmVuY2VzIGJldHdlZW4gS3JpcyBLb3dhbCdzIFEgYW5kICRxXG4gKlxuICogIFRoZXJlIGFyZSB0d28gbWFpbiBkaWZmZXJlbmNlczpcbiAqXG4gKiAtICRxIGlzIGludGVncmF0ZWQgd2l0aCB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGV9IFNjb3BlIG1vZGVsIG9ic2VydmF0aW9uXG4gKiAgIG1lY2hhbmlzbSBpbiBhbmd1bGFyLCB3aGljaCBtZWFucyBmYXN0ZXIgcHJvcGFnYXRpb24gb2YgcmVzb2x1dGlvbiBvciByZWplY3Rpb24gaW50byB5b3VyXG4gKiAgIG1vZGVscyBhbmQgYXZvaWRpbmcgdW5uZWNlc3NhcnkgYnJvd3NlciByZXBhaW50cywgd2hpY2ggd291bGQgcmVzdWx0IGluIGZsaWNrZXJpbmcgVUkuXG4gKiAtIFEgaGFzIG1hbnkgbW9yZSBmZWF0dXJlcyB0aGFuICRxLCBidXQgdGhhdCBjb21lcyBhdCBhIGNvc3Qgb2YgYnl0ZXMuICRxIGlzIHRpbnksIGJ1dCBjb250YWluc1xuICogICBhbGwgdGhlIGltcG9ydGFudCBmdW5jdGlvbmFsaXR5IG5lZWRlZCBmb3IgY29tbW9uIGFzeW5jIHRhc2tzLlxuICpcbiAqICAjIFRlc3RpbmdcbiAqXG4gKiAgYGBganNcbiAqICAgIGl0KCdzaG91bGQgc2ltdWxhdGUgcHJvbWlzZScsIGluamVjdChmdW5jdGlvbigkcSwgJHJvb3RTY29wZSkge1xuICogICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICogICAgICB2YXIgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gKiAgICAgIHZhciByZXNvbHZlZFZhbHVlO1xuICpcbiAqICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7IHJlc29sdmVkVmFsdWUgPSB2YWx1ZTsgfSk7XG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XG4gKlxuICogICAgICAvLyBTaW11bGF0ZSByZXNvbHZpbmcgb2YgcHJvbWlzZVxuICogICAgICBkZWZlcnJlZC5yZXNvbHZlKDEyMyk7XG4gKiAgICAgIC8vIE5vdGUgdGhhdCB0aGUgJ3RoZW4nIGZ1bmN0aW9uIGRvZXMgbm90IGdldCBjYWxsZWQgc3luY2hyb25vdXNseS5cbiAqICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHdlIHdhbnQgdGhlIHByb21pc2UgQVBJIHRvIGFsd2F5cyBiZSBhc3luYywgd2hldGhlciBvciBub3RcbiAqICAgICAgLy8gaXQgZ290IGNhbGxlZCBzeW5jaHJvbm91c2x5IG9yIGFzeW5jaHJvbm91c2x5LlxuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9CZVVuZGVmaW5lZCgpO1xuICpcbiAqICAgICAgLy8gUHJvcGFnYXRlIHByb21pc2UgcmVzb2x1dGlvbiB0byAndGhlbicgZnVuY3Rpb25zIHVzaW5nICRhcHBseSgpLlxuICogICAgICAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9FcXVhbCgxMjMpO1xuICogICAgfSkpO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24sIGZ1bmN0aW9uKX0gcmVzb2x2ZXIgRnVuY3Rpb24gd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHJlc29sdmluZyBvclxuICogICByZWplY3RpbmcgdGhlIG5ld2x5IGNyZWF0ZWQgcHJvbWlzZS4gVGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhIGZ1bmN0aW9uIHdoaWNoIHJlc29sdmVzIHRoZVxuICogICBwcm9taXNlLCB0aGUgc2Vjb25kIHBhcmFtZXRlciBpcyBhIGZ1bmN0aW9uIHdoaWNoIHJlamVjdHMgdGhlIHByb21pc2UuXG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBuZXdseSBjcmVhdGVkIHByb21pc2UuXG4gKi9cbmZ1bmN0aW9uICRRUHJvdmlkZXIoKSB7XG5cbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyRleGNlcHRpb25IYW5kbGVyJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICByZXR1cm4gcUZhY3RvcnkoZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayk7XG4gICAgfSwgJGV4Y2VwdGlvbkhhbmRsZXIpO1xuICB9XTtcbn1cblxuZnVuY3Rpb24gJCRRUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJGJyb3dzZXInLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCBmdW5jdGlvbigkYnJvd3NlciwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICByZXR1cm4gcUZhY3RvcnkoZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICRicm93c2VyLmRlZmVyKGNhbGxiYWNrKTtcbiAgICB9LCAkZXhjZXB0aW9uSGFuZGxlcik7XG4gIH1dO1xufVxuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBwcm9taXNlIG1hbmFnZXIuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbihmdW5jdGlvbil9IG5leHRUaWNrIEZ1bmN0aW9uIGZvciBleGVjdXRpbmcgZnVuY3Rpb25zIGluIHRoZSBuZXh0IHR1cm4uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLiopfSBleGNlcHRpb25IYW5kbGVyIEZ1bmN0aW9uIGludG8gd2hpY2ggdW5leHBlY3RlZCBleGNlcHRpb25zIGFyZSBwYXNzZWQgZm9yXG4gKiAgICAgZGVidWdnaW5nIHB1cnBvc2VzLlxuICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSBtYW5hZ2VyLlxuICovXG5mdW5jdGlvbiBxRmFjdG9yeShuZXh0VGljaywgZXhjZXB0aW9uSGFuZGxlcikge1xuICB2YXIgJHFNaW5FcnIgPSBtaW5FcnIoJyRxJywgVHlwZUVycm9yKTtcbiAgZnVuY3Rpb24gY2FsbE9uY2Uoc2VsZiwgcmVzb2x2ZUZuLCByZWplY3RGbikge1xuICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiB3cmFwKGZuKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGNhbGxlZCkgcmV0dXJuO1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBmbi5jYWxsKHNlbGYsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIFt3cmFwKHJlc29sdmVGbiksIHdyYXAocmVqZWN0Rm4pXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nLiRxI2RlZmVyXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDcmVhdGVzIGEgYERlZmVycmVkYCBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyBhIHRhc2sgd2hpY2ggd2lsbCBmaW5pc2ggaW4gdGhlIGZ1dHVyZS5cbiAgICpcbiAgICogQHJldHVybnMge0RlZmVycmVkfSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIGRlZmVycmVkLlxuICAgKi9cbiAgdmFyIGRlZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEZWZlcnJlZCgpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFByb21pc2UoKSB7XG4gICAgdGhpcy4kJHN0YXRlID0geyBzdGF0dXM6IDAgfTtcbiAgfVxuXG4gIGV4dGVuZChQcm9taXNlLnByb3RvdHlwZSwge1xuICAgIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9ncmVzc0JhY2spIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChvbkZ1bGZpbGxlZCkgJiYgaXNVbmRlZmluZWQob25SZWplY3RlZCkgJiYgaXNVbmRlZmluZWQocHJvZ3Jlc3NCYWNrKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcblxuICAgICAgdGhpcy4kJHN0YXRlLnBlbmRpbmcgPSB0aGlzLiQkc3RhdGUucGVuZGluZyB8fCBbXTtcbiAgICAgIHRoaXMuJCRzdGF0ZS5wZW5kaW5nLnB1c2goW3Jlc3VsdCwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb2dyZXNzQmFja10pO1xuICAgICAgaWYgKHRoaXMuJCRzdGF0ZS5zdGF0dXMgPiAwKSBzY2hlZHVsZVByb2Nlc3NRdWV1ZSh0aGlzLiQkc3RhdGUpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0LnByb21pc2U7XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgY2FsbGJhY2spO1xuICAgIH0sXG5cbiAgICBcImZpbmFsbHlcIjogZnVuY3Rpb24oY2FsbGJhY2ssIHByb2dyZXNzQmFjaykge1xuICAgICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaGFuZGxlQ2FsbGJhY2sodmFsdWUsIHRydWUsIGNhbGxiYWNrKTtcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVDYWxsYmFjayhlcnJvciwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICAgIH0sIHByb2dyZXNzQmFjayk7XG4gICAgfVxuICB9KTtcblxuICAvL0Zhc3RlciwgbW9yZSBiYXNpYyB0aGFuIGFuZ3VsYXIuYmluZCBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyLWJpbmQtdnMtY3VzdG9tLXZzLW5hdGl2ZVxuICBmdW5jdGlvbiBzaW1wbGVCaW5kKGNvbnRleHQsIGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBmbi5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1F1ZXVlKHN0YXRlKSB7XG4gICAgdmFyIGZuLCBkZWZlcnJlZCwgcGVuZGluZztcblxuICAgIHBlbmRpbmcgPSBzdGF0ZS5wZW5kaW5nO1xuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBzdGF0ZS5wZW5kaW5nID0gdW5kZWZpbmVkO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBlbmRpbmcubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgZGVmZXJyZWQgPSBwZW5kaW5nW2ldWzBdO1xuICAgICAgZm4gPSBwZW5kaW5nW2ldW3N0YXRlLnN0YXR1c107XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZuKHN0YXRlLnZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc3RhdHVzID09PSAxKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShzdGF0ZS52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHN0YXRlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZSk7XG4gICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVQcm9jZXNzUXVldWUoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCB8fCAhc3RhdGUucGVuZGluZykgcmV0dXJuO1xuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSB0cnVlO1xuICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkgeyBwcm9jZXNzUXVldWUoc3RhdGUpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIERlZmVycmVkKCkge1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKCk7XG4gICAgLy9OZWNlc3NhcnkgdG8gc3VwcG9ydCB1bmJvdW5kIGV4ZWN1dGlvbiA6L1xuICAgIHRoaXMucmVzb2x2ZSA9IHNpbXBsZUJpbmQodGhpcywgdGhpcy5yZXNvbHZlKTtcbiAgICB0aGlzLnJlamVjdCA9IHNpbXBsZUJpbmQodGhpcywgdGhpcy5yZWplY3QpO1xuICAgIHRoaXMubm90aWZ5ID0gc2ltcGxlQmluZCh0aGlzLCB0aGlzLm5vdGlmeSk7XG4gIH1cblxuICBleHRlbmQoRGVmZXJyZWQucHJvdG90eXBlLCB7XG4gICAgcmVzb2x2ZTogZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XG4gICAgICBpZiAodmFsID09PSB0aGlzLnByb21pc2UpIHtcbiAgICAgICAgdGhpcy4kJHJlamVjdCgkcU1pbkVycihcbiAgICAgICAgICAncWN5Y2xlJyxcbiAgICAgICAgICBcIkV4cGVjdGVkIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQgd2l0aCB2YWx1ZSBvdGhlciB0aGFuIGl0c2VsZiAnezB9J1wiLFxuICAgICAgICAgIHZhbCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kJHJlc29sdmUodmFsKTtcbiAgICAgIH1cblxuICAgIH0sXG5cbiAgICAkJHJlc29sdmU6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFyIHRoZW4sIGZucztcblxuICAgICAgZm5zID0gY2FsbE9uY2UodGhpcywgdGhpcy4kJHJlc29sdmUsIHRoaXMuJCRyZWplY3QpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKChpc09iamVjdCh2YWwpIHx8IGlzRnVuY3Rpb24odmFsKSkpIHRoZW4gPSB2YWwgJiYgdmFsLnRoZW47XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gLTE7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbCwgZm5zWzBdLCBmbnNbMV0sIHRoaXMubm90aWZ5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPSAxO1xuICAgICAgICAgIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMucHJvbWlzZS4kJHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBmbnNbMV0oZSk7XG4gICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlamVjdDogZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICBpZiAodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XG4gICAgICB0aGlzLiQkcmVqZWN0KHJlYXNvbik7XG4gICAgfSxcblxuICAgICQkcmVqZWN0OiBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnZhbHVlID0gcmVhc29uO1xuICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gMjtcbiAgICAgIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMucHJvbWlzZS4kJHN0YXRlKTtcbiAgICB9LFxuXG4gICAgbm90aWZ5OiBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgdmFyIGNhbGxiYWNrcyA9IHRoaXMucHJvbWlzZS4kJHN0YXRlLnBlbmRpbmc7XG5cbiAgICAgIGlmICgodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzIDw9IDApICYmIGNhbGxiYWNrcyAmJiBjYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjYWxsYmFjaywgcmVzdWx0O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjYWxsYmFja3NbaV1bMF07XG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXVszXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5ub3RpZnkoaXNGdW5jdGlvbihjYWxsYmFjaykgPyBjYWxsYmFjayhwcm9ncmVzcykgOiBwcm9ncmVzcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRxI3JlamVjdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBhcyByZWplY3RlZCB3aXRoIHRoZSBzcGVjaWZpZWQgYHJlYXNvbmAuIFRoaXMgYXBpIHNob3VsZCBiZVxuICAgKiB1c2VkIHRvIGZvcndhcmQgcmVqZWN0aW9uIGluIGEgY2hhaW4gb2YgcHJvbWlzZXMuIElmIHlvdSBhcmUgZGVhbGluZyB3aXRoIHRoZSBsYXN0IHByb21pc2UgaW5cbiAgICogYSBwcm9taXNlIGNoYWluLCB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBpdC5cbiAgICpcbiAgICogV2hlbiBjb21wYXJpbmcgZGVmZXJyZWRzL3Byb21pc2VzIHRvIHRoZSBmYW1pbGlhciBiZWhhdmlvciBvZiB0cnkvY2F0Y2gvdGhyb3csIHRoaW5rIG9mXG4gICAqIGByZWplY3RgIGFzIHRoZSBgdGhyb3dgIGtleXdvcmQgaW4gSmF2YVNjcmlwdC4gVGhpcyBhbHNvIG1lYW5zIHRoYXQgaWYgeW91IFwiY2F0Y2hcIiBhbiBlcnJvciB2aWFcbiAgICogYSBwcm9taXNlIGVycm9yIGNhbGxiYWNrIGFuZCB5b3Ugd2FudCB0byBmb3J3YXJkIHRoZSBlcnJvciB0byB0aGUgcHJvbWlzZSBkZXJpdmVkIGZyb20gdGhlXG4gICAqIGN1cnJlbnQgcHJvbWlzZSwgeW91IGhhdmUgdG8gXCJyZXRocm93XCIgdGhlIGVycm9yIGJ5IHJldHVybmluZyBhIHJlamVjdGlvbiBjb25zdHJ1Y3RlZCB2aWFcbiAgICogYHJlamVjdGAuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqICAgcHJvbWlzZUIgPSBwcm9taXNlQS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgKiAgICAgLy8gc3VjY2VzczogZG8gc29tZXRoaW5nIGFuZCByZXNvbHZlIHByb21pc2VCXG4gICAqICAgICAvLyAgICAgICAgICB3aXRoIHRoZSBvbGQgb3IgYSBuZXcgcmVzdWx0XG4gICAqICAgICByZXR1cm4gcmVzdWx0O1xuICAgKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgKiAgICAgLy8gZXJyb3I6IGhhbmRsZSB0aGUgZXJyb3IgaWYgcG9zc2libGUgYW5kXG4gICAqICAgICAvLyAgICAgICAgcmVzb2x2ZSBwcm9taXNlQiB3aXRoIG5ld1Byb21pc2VPclZhbHVlLFxuICAgKiAgICAgLy8gICAgICAgIG90aGVyd2lzZSBmb3J3YXJkIHRoZSByZWplY3Rpb24gdG8gcHJvbWlzZUJcbiAgICogICAgIGlmIChjYW5IYW5kbGUocmVhc29uKSkge1xuICAgKiAgICAgIC8vIGhhbmRsZSB0aGUgZXJyb3IgYW5kIHJlY292ZXJcbiAgICogICAgICByZXR1cm4gbmV3UHJvbWlzZU9yVmFsdWU7XG4gICAqICAgICB9XG4gICAqICAgICByZXR1cm4gJHEucmVqZWN0KHJlYXNvbik7XG4gICAqICAgfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0geyp9IHJlYXNvbiBDb25zdGFudCwgbWVzc2FnZSwgZXhjZXB0aW9uIG9yIGFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHJlamVjdGlvbiByZWFzb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdhcyBhbHJlYWR5IHJlc29sdmVkIGFzIHJlamVjdGVkIHdpdGggdGhlIGByZWFzb25gLlxuICAgKi9cbiAgdmFyIHJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICByZXN1bHQucmVqZWN0KHJlYXNvbik7XG4gICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xuICB9O1xuXG4gIHZhciBtYWtlUHJvbWlzZSA9IGZ1bmN0aW9uIG1ha2VQcm9taXNlKHZhbHVlLCByZXNvbHZlZCkge1xuICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgIHJlc3VsdC5yZXNvbHZlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnJlamVjdCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQucHJvbWlzZTtcbiAgfTtcblxuICB2YXIgaGFuZGxlQ2FsbGJhY2sgPSBmdW5jdGlvbiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwgaXNSZXNvbHZlZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgY2FsbGJhY2tPdXRwdXQgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIGNhbGxiYWNrT3V0cHV0ID0gY2FsbGJhY2soKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbWFrZVByb21pc2UoZSwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAoaXNQcm9taXNlTGlrZShjYWxsYmFja091dHB1dCkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFja091dHB1dC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbWFrZVByb21pc2UodmFsdWUsIGlzUmVzb2x2ZWQpO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKGVycm9yLCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKHZhbHVlLCBpc1Jlc29sdmVkKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHEjd2hlblxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogV3JhcHMgYW4gb2JqZWN0IHRoYXQgbWlnaHQgYmUgYSB2YWx1ZSBvciBhICgzcmQgcGFydHkpIHRoZW4tYWJsZSBwcm9taXNlIGludG8gYSAkcSBwcm9taXNlLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHlvdSBhcmUgZGVhbGluZyB3aXRoIGFuIG9iamVjdCB0aGF0IG1pZ2h0IG9yIG1pZ2h0IG5vdCBiZSBhIHByb21pc2UsIG9yIGlmXG4gICAqIHRoZSBwcm9taXNlIGNvbWVzIGZyb20gYSBzb3VyY2UgdGhhdCBjYW4ndCBiZSB0cnVzdGVkLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9yIGEgcHJvbWlzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gc3VjY2Vzc0NhbGxiYWNrXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBlcnJvckNhbGxiYWNrXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBwcm9ncmVzc0NhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSBvZiB0aGUgcGFzc2VkIHZhbHVlIG9yIHByb21pc2VcbiAgICovXG5cblxuICB2YXIgd2hlbiA9IGZ1bmN0aW9uKHZhbHVlLCBjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgIHJlc3VsdC5yZXNvbHZlKHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0LnByb21pc2UudGhlbihjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSNyZXNvbHZlXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBbGlhcyBvZiB7QGxpbmsgbmcuJHEjd2hlbiB3aGVufSB0byBtYWludGFpbiBuYW1pbmcgY29uc2lzdGVuY3kgd2l0aCBFUzYuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb3IgYSBwcm9taXNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBzdWNjZXNzQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IGVycm9yQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHByb2dyZXNzQ2FsbGJhY2tcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIG9mIHRoZSBwYXNzZWQgdmFsdWUgb3IgcHJvbWlzZVxuICAgKi9cbiAgdmFyIHJlc29sdmUgPSB3aGVuO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRxI2FsbFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ29tYmluZXMgbXVsdGlwbGUgcHJvbWlzZXMgaW50byBhIHNpbmdsZSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiBhbGwgb2YgdGhlIGlucHV0XG4gICAqIHByb21pc2VzIGFyZSByZXNvbHZlZC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheS48UHJvbWlzZT58T2JqZWN0LjxQcm9taXNlPn0gcHJvbWlzZXMgQW4gYXJyYXkgb3IgaGFzaCBvZiBwcm9taXNlcy5cbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBzaW5nbGUgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhbiBhcnJheS9oYXNoIG9mIHZhbHVlcyxcbiAgICogICBlYWNoIHZhbHVlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb21pc2UgYXQgdGhlIHNhbWUgaW5kZXgva2V5IGluIHRoZSBgcHJvbWlzZXNgIGFycmF5L2hhc2guXG4gICAqICAgSWYgYW55IG9mIHRoZSBwcm9taXNlcyBpcyByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLCB0aGlzIHJlc3VsdGluZyBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWRcbiAgICogICB3aXRoIHRoZSBzYW1lIHJlamVjdGlvbiB2YWx1ZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gICAgdmFyIGRlZmVycmVkID0gbmV3IERlZmVycmVkKCksXG4gICAgICAgIGNvdW50ZXIgPSAwLFxuICAgICAgICByZXN1bHRzID0gaXNBcnJheShwcm9taXNlcykgPyBbXSA6IHt9O1xuXG4gICAgZm9yRWFjaChwcm9taXNlcywgZnVuY3Rpb24ocHJvbWlzZSwga2V5KSB7XG4gICAgICBjb3VudGVyKys7XG4gICAgICB3aGVuKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHJlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuO1xuICAgICAgICByZXN1bHRzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKCEoLS1jb3VudGVyKSkgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICBpZiAocmVzdWx0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm47XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpZiAoY291bnRlciA9PT0gMCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIHZhciAkUSA9IGZ1bmN0aW9uIFEocmVzb2x2ZXIpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XG4gICAgICB0aHJvdyAkcU1pbkVycignbm9yc2x2cicsIFwiRXhwZWN0ZWQgcmVzb2x2ZXJGbiwgZ290ICd7MH0nXCIsIHJlc29sdmVyKTtcbiAgICB9XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUSkpIHtcbiAgICAgIC8vIE1vcmUgdXNlZnVsIHdoZW4gJFEgaXMgdGhlIFByb21pc2UgaXRzZWxmLlxuICAgICAgcmV0dXJuIG5ldyBRKHJlc29sdmVyKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVGbih2YWx1ZSkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVqZWN0Rm4ocmVhc29uKSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICB9XG5cbiAgICByZXNvbHZlcihyZXNvbHZlRm4sIHJlamVjdEZuKTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gICRRLmRlZmVyID0gZGVmZXI7XG4gICRRLnJlamVjdCA9IHJlamVjdDtcbiAgJFEud2hlbiA9IHdoZW47XG4gICRRLnJlc29sdmUgPSByZXNvbHZlO1xuICAkUS5hbGwgPSBhbGw7XG5cbiAgcmV0dXJuICRRO1xufVxuXG5mdW5jdGlvbiAkJFJBRlByb3ZpZGVyKCkgeyAvL3JBRlxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkd2luZG93LCAkdGltZW91dCkge1xuICAgIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAkd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZTtcblxuICAgIHZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9ICR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbiAgICB2YXIgcmFmU3VwcG9ydGVkID0gISFyZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgdmFyIHJhZiA9IHJhZlN1cHBvcnRlZFxuICAgICAgPyBmdW5jdGlvbihmbikge1xuICAgICAgICAgIHZhciBpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB2YXIgdGltZXIgPSAkdGltZW91dChmbiwgMTYuNjYsIGZhbHNlKTsgLy8gMTAwMCAvIDYwID0gMTYuNjY2XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgcmFmLnN1cHBvcnRlZCA9IHJhZlN1cHBvcnRlZDtcblxuICAgIHJldHVybiByYWY7XG4gIH1dO1xufVxuXG4vKipcbiAqIERFU0lHTiBOT1RFU1xuICpcbiAqIFRoZSBkZXNpZ24gZGVjaXNpb25zIGJlaGluZCB0aGUgc2NvcGUgYXJlIGhlYXZpbHkgZmF2b3JlZCBmb3Igc3BlZWQgYW5kIG1lbW9yeSBjb25zdW1wdGlvbi5cbiAqXG4gKiBUaGUgdHlwaWNhbCB1c2Ugb2Ygc2NvcGUgaXMgdG8gd2F0Y2ggdGhlIGV4cHJlc3Npb25zLCB3aGljaCBtb3N0IG9mIHRoZSB0aW1lIHJldHVybiB0aGUgc2FtZVxuICogdmFsdWUgYXMgbGFzdCB0aW1lIHNvIHdlIG9wdGltaXplIHRoZSBvcGVyYXRpb24uXG4gKlxuICogQ2xvc3VyZXMgY29uc3RydWN0aW9uIGlzIGV4cGVuc2l2ZSBpbiB0ZXJtcyBvZiBzcGVlZCBhcyB3ZWxsIGFzIG1lbW9yeTpcbiAqICAgLSBObyBjbG9zdXJlcywgaW5zdGVhZCB1c2UgcHJvdG90eXBpY2FsIGluaGVyaXRhbmNlIGZvciBBUElcbiAqICAgLSBJbnRlcm5hbCBzdGF0ZSBuZWVkcyB0byBiZSBzdG9yZWQgb24gc2NvcGUgZGlyZWN0bHksIHdoaWNoIG1lYW5zIHRoYXQgcHJpdmF0ZSBzdGF0ZSBpc1xuICogICAgIGV4cG9zZWQgYXMgJCRfX19fIHByb3BlcnRpZXNcbiAqXG4gKiBMb29wIG9wZXJhdGlvbnMgYXJlIG9wdGltaXplZCBieSB1c2luZyB3aGlsZShjb3VudC0tKSB7IC4uLiB9XG4gKiAgIC0gVGhpcyBtZWFucyB0aGF0IGluIG9yZGVyIHRvIGtlZXAgdGhlIHNhbWUgb3JkZXIgb2YgZXhlY3V0aW9uIGFzIGFkZGl0aW9uIHdlIGhhdmUgdG8gYWRkXG4gKiAgICAgaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBiZWdpbm5pbmcgKHVuc2hpZnQpIGluc3RlYWQgb2YgYXQgdGhlIGVuZCAocHVzaClcbiAqXG4gKiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgYW5kIHJlbW92ZWQgb2Z0ZW5cbiAqICAgLSBVc2luZyBhbiBhcnJheSB3b3VsZCBiZSBzbG93IHNpbmNlIGluc2VydHMgaW4gdGhlIG1pZGRsZSBhcmUgZXhwZW5zaXZlOyBzbyB3ZSB1c2UgbGlua2VkIGxpc3RzXG4gKlxuICogVGhlcmUgYXJlIGZld2VyIHdhdGNoZXMgdGhhbiBvYnNlcnZlcnMuIFRoaXMgaXMgd2h5IHlvdSBkb24ndCB3YW50IHRoZSBvYnNlcnZlciB0byBiZSBpbXBsZW1lbnRlZFxuICogaW4gdGhlIHNhbWUgd2F5IGFzIHdhdGNoLiBXYXRjaCByZXF1aXJlcyByZXR1cm4gb2YgdGhlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHdoaWNoIGlzIGV4cGVuc2l2ZVxuICogdG8gY29uc3RydWN0LlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRyb290U2NvcGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUHJvdmlkZXIgZm9yIHRoZSAkcm9vdFNjb3BlIHNlcnZpY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXIjZGlnZXN0VHRsXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBTZXRzIHRoZSBudW1iZXIgb2YgYCRkaWdlc3RgIGl0ZXJhdGlvbnMgdGhlIHNjb3BlIHNob3VsZCBhdHRlbXB0IHRvIGV4ZWN1dGUgYmVmb3JlIGdpdmluZyB1cCBhbmRcbiAqIGFzc3VtaW5nIHRoYXQgdGhlIG1vZGVsIGlzIHVuc3RhYmxlLlxuICpcbiAqIFRoZSBjdXJyZW50IGRlZmF1bHQgaXMgMTAgaXRlcmF0aW9ucy5cbiAqXG4gKiBJbiBjb21wbGV4IGFwcGxpY2F0aW9ucyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIGRlcGVuZGVuY2llcyBiZXR3ZWVuIGAkd2F0Y2hgcyB3aWxsIHJlc3VsdCBpblxuICogc2V2ZXJhbCBkaWdlc3QgaXRlcmF0aW9ucy4gSG93ZXZlciBpZiBhbiBhcHBsaWNhdGlvbiBuZWVkcyBtb3JlIHRoYW4gdGhlIGRlZmF1bHQgMTAgZGlnZXN0XG4gKiBpdGVyYXRpb25zIGZvciBpdHMgbW9kZWwgdG8gc3RhYmlsaXplIHRoZW4geW91IHNob3VsZCBpbnZlc3RpZ2F0ZSB3aGF0IGlzIGNhdXNpbmcgdGhlIG1vZGVsIHRvXG4gKiBjb250aW51b3VzbHkgY2hhbmdlIGR1cmluZyB0aGUgZGlnZXN0LlxuICpcbiAqIEluY3JlYXNpbmcgdGhlIFRUTCBjb3VsZCBoYXZlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucywgc28geW91IHNob3VsZCBub3QgY2hhbmdlIGl0IHdpdGhvdXRcbiAqIHByb3BlciBqdXN0aWZpY2F0aW9uLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbnVtYmVyIG9mIGRpZ2VzdCBpdGVyYXRpb25zLlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHJvb3RTY29wZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogRXZlcnkgYXBwbGljYXRpb24gaGFzIGEgc2luZ2xlIHJvb3Qge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxuICogQWxsIG90aGVyIHNjb3BlcyBhcmUgZGVzY2VuZGFudCBzY29wZXMgb2YgdGhlIHJvb3Qgc2NvcGUuIFNjb3BlcyBwcm92aWRlIHNlcGFyYXRpb25cbiAqIGJldHdlZW4gdGhlIG1vZGVsIGFuZCB0aGUgdmlldywgdmlhIGEgbWVjaGFuaXNtIGZvciB3YXRjaGluZyB0aGUgbW9kZWwgZm9yIGNoYW5nZXMuXG4gKiBUaGV5IGFsc28gcHJvdmlkZSBldmVudCBlbWlzc2lvbi9icm9hZGNhc3QgYW5kIHN1YnNjcmlwdGlvbiBmYWNpbGl0eS4gU2VlIHRoZVxuICoge0BsaW5rIGd1aWRlL3Njb3BlIGRldmVsb3BlciBndWlkZSBvbiBzY29wZXN9LlxuICovXG5mdW5jdGlvbiAkUm9vdFNjb3BlUHJvdmlkZXIoKSB7XG4gIHZhciBUVEwgPSAxMDtcbiAgdmFyICRyb290U2NvcGVNaW5FcnIgPSBtaW5FcnIoJyRyb290U2NvcGUnKTtcbiAgdmFyIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcbiAgdmFyIGFwcGx5QXN5bmNJZCA9IG51bGw7XG5cbiAgdGhpcy5kaWdlc3RUdGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBUVEwgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIFRUTDtcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVDaGlsZFNjb3BlQ2xhc3MocGFyZW50KSB7XG4gICAgZnVuY3Rpb24gQ2hpbGRTY29wZSgpIHtcbiAgICAgIHRoaXMuJCR3YXRjaGVycyA9IHRoaXMuJCRuZXh0U2libGluZyA9XG4gICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xuICAgICAgdGhpcy4kJGxpc3RlbmVyQ291bnQgPSB7fTtcbiAgICAgIHRoaXMuJCR3YXRjaGVyc0NvdW50ID0gMDtcbiAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xuICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBudWxsO1xuICAgIH1cbiAgICBDaGlsZFNjb3BlLnByb3RvdHlwZSA9IHBhcmVudDtcbiAgICByZXR1cm4gQ2hpbGRTY29wZTtcbiAgfVxuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRwYXJzZScsICckYnJvd3NlcicsXG4gICAgICBmdW5jdGlvbigkaW5qZWN0b3IsICRleGNlcHRpb25IYW5kbGVyLCAkcGFyc2UsICRicm93c2VyKSB7XG5cbiAgICBmdW5jdGlvbiBkZXN0cm95Q2hpbGRTY29wZSgkZXZlbnQpIHtcbiAgICAgICAgJGV2ZW50LmN1cnJlbnRTY29wZS4kJGRlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYW5VcFNjb3BlKCRzY29wZSkge1xuXG4gICAgICBpZiAobXNpZSA9PT0gOSkge1xuICAgICAgICAvLyBUaGVyZSBpcyBhIG1lbW9yeSBsZWFrIGluIElFOSBpZiBhbGwgY2hpbGQgc2NvcGVzIGFyZSBub3QgZGlzY29ubmVjdGVkXG4gICAgICAgIC8vIGNvbXBsZXRlbHkgd2hlbiBhIHNjb3BlIGlzIGRlc3Ryb3llZC4gU28gdGhpcyBjb2RlIHdpbGwgcmVjdXJzZSB1cCB0aHJvdWdoXG4gICAgICAgIC8vIGFsbCB0aGlzIHNjb3BlcyBjaGlsZHJlblxuICAgICAgICAvL1xuICAgICAgICAvLyBTZWUgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTA3MDZcbiAgICAgICAgJHNjb3BlLiQkY2hpbGRIZWFkICYmIGNsZWFuVXBTY29wZSgkc2NvcGUuJCRjaGlsZEhlYWQpO1xuICAgICAgICAkc2NvcGUuJCRuZXh0U2libGluZyAmJiBjbGVhblVwU2NvcGUoJHNjb3BlLiQkbmV4dFNpYmxpbmcpO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29kZSBiZWxvdyB3b3JrcyBhcm91bmQgSUU5IGFuZCBWOCdzIG1lbW9yeSBsZWFrc1xuICAgICAgLy9cbiAgICAgIC8vIFNlZTpcbiAgICAgIC8vIC0gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzMjYzI2XG4gICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzY3OTQjaXNzdWVjb21tZW50LTM4NjQ4OTA5XG4gICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzEzMTMjaXNzdWVjb21tZW50LTEwMzc4NDUxXG5cbiAgICAgICRzY29wZS4kcGFyZW50ID0gJHNjb3BlLiQkbmV4dFNpYmxpbmcgPSAkc2NvcGUuJCRwcmV2U2libGluZyA9ICRzY29wZS4kJGNoaWxkSGVhZCA9XG4gICAgICAgICAgJHNjb3BlLiQkY2hpbGRUYWlsID0gJHNjb3BlLiRyb290ID0gJHNjb3BlLiQkd2F0Y2hlcnMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyB0eXBlXG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQSByb290IHNjb3BlIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlICRyb290U2NvcGV9IGtleSBmcm9tIHRoZVxuICAgICAqIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgdXNpbmcgdGhlXG4gICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG5ldyAkbmV3KCl9IG1ldGhvZC4gKE1vc3Qgc2NvcGVzIGFyZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlblxuICAgICAqIGNvbXBpbGVkIEhUTUwgdGVtcGxhdGUgaXMgZXhlY3V0ZWQuKSBTZWUgYWxzbyB0aGUge0BsaW5rIGd1aWRlL3Njb3BlIFNjb3BlcyBndWlkZX0gZm9yXG4gICAgICogYW4gaW4tZGVwdGggaW50cm9kdWN0aW9uIGFuZCB1c2FnZSBleGFtcGxlcy5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyBJbmhlcml0YW5jZVxuICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICAgICB2YXIgcGFyZW50ID0gJHJvb3RTY29wZTtcbiAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7XG5cbiAgICAgICAgIHBhcmVudC5zYWx1dGF0aW9uID0gXCJIZWxsb1wiO1xuICAgICAgICAgZXhwZWN0KGNoaWxkLnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG5cbiAgICAgICAgIGNoaWxkLnNhbHV0YXRpb24gPSBcIldlbGNvbWVcIjtcbiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdXZWxjb21lJyk7XG4gICAgICAgICBleHBlY3QocGFyZW50LnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBXaGVuIGludGVyYWN0aW5nIHdpdGggYFNjb3BlYCBpbiB0ZXN0cywgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyBhcmUgYXZhaWxhYmxlIG9uIHRoZVxuICAgICAqIGluc3RhbmNlcyBvZiBgU2NvcGVgIHR5cGUuIFNlZSB7QGxpbmsgbmdNb2NrLiRyb290U2NvcGUuU2NvcGUgbmdNb2NrIFNjb3BlfSBmb3IgYWRkaXRpb25hbFxuICAgICAqIGRldGFpbHMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKCk+PX0gcHJvdmlkZXJzIE1hcCBvZiBzZXJ2aWNlIGZhY3Rvcnkgd2hpY2ggbmVlZCB0byBiZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgZm9yIHRoZSBjdXJyZW50IHNjb3BlLiBEZWZhdWx0cyB0byB7QGxpbmsgbmd9LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsICo+PX0gaW5zdGFuY2VDYWNoZSBQcm92aWRlcyBwcmUtaW5zdGFudGlhdGVkIHNlcnZpY2VzIHdoaWNoIHNob3VsZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kL292ZXJyaWRlIHNlcnZpY2VzIHByb3ZpZGVkIGJ5IGBwcm92aWRlcnNgLiBUaGlzIGlzIGhhbmR5XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHVuaXQtdGVzdGluZyBhbmQgaGF2aW5nIHRoZSBuZWVkIHRvIG92ZXJyaWRlIGEgZGVmYXVsdFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBOZXdseSBjcmVhdGVkIHNjb3BlLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2NvcGUoKSB7XG4gICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTtcbiAgICAgIHRoaXMuJCRwaGFzZSA9IHRoaXMuJHBhcmVudCA9IHRoaXMuJCR3YXRjaGVycyA9XG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPVxuICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgdGhpcy4kcm9vdCA9IHRoaXM7XG4gICAgICB0aGlzLiQkZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG4gICAgICB0aGlzLiQkbGlzdGVuZXJDb3VudCA9IHt9O1xuICAgICAgdGhpcy4kJHdhdGNoZXJzQ291bnQgPSAwO1xuICAgICAgdGhpcy4kJGlzb2xhdGVCaW5kaW5ncyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkaWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVuaXF1ZSBzY29wZSBJRCAobW9ub3RvbmljYWxseSBpbmNyZWFzaW5nKSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHBhcmVudFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgc2NvcGUuXG4gICAgICAqL1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcm9vdFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByb290IHNjb3BlLlxuICAgICAgICovXG5cbiAgICBTY29wZS5wcm90b3R5cGUgPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogU2NvcGUsXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG5ld1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIENyZWF0ZXMgYSBuZXcgY2hpbGQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxuICAgICAgICpcbiAgICAgICAqIFRoZSBwYXJlbnQgc2NvcGUgd2lsbCBwcm9wYWdhdGUgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBldmVudC5cbiAgICAgICAqIFRoZSBzY29wZSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY29wZSBoaWVyYXJjaHkgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0uXG4gICAgICAgKlxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0gbXVzdCBiZSBjYWxsZWQgb24gYSBzY29wZSB3aGVuIGl0IGlzXG4gICAgICAgKiBkZXNpcmVkIGZvciB0aGUgc2NvcGUgYW5kIGl0cyBjaGlsZCBzY29wZXMgdG8gYmUgcGVybWFuZW50bHkgZGV0YWNoZWQgZnJvbSB0aGUgcGFyZW50IGFuZFxuICAgICAgICogdGh1cyBzdG9wIHBhcnRpY2lwYXRpbmcgaW4gbW9kZWwgY2hhbmdlIGRldGVjdGlvbiBhbmQgbGlzdGVuZXIgbm90aWZpY2F0aW9uIGJ5IGludm9raW5nLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNvbGF0ZSBJZiB0cnVlLCB0aGVuIHRoZSBzY29wZSBkb2VzIG5vdCBwcm90b3R5cGljYWxseSBpbmhlcml0IGZyb20gdGhlXG4gICAgICAgKiAgICAgICAgIHBhcmVudCBzY29wZS4gVGhlIHNjb3BlIGlzIGlzb2xhdGVkLCBhcyBpdCBjYW4gbm90IHNlZSBwYXJlbnQgc2NvcGUgcHJvcGVydGllcy5cbiAgICAgICAqICAgICAgICAgV2hlbiBjcmVhdGluZyB3aWRnZXRzLCBpdCBpcyB1c2VmdWwgZm9yIHRoZSB3aWRnZXQgdG8gbm90IGFjY2lkZW50YWxseSByZWFkIHBhcmVudFxuICAgICAgICogICAgICAgICBzdGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1Njb3BlfSBbcGFyZW50PXRoaXNdIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBgU2NvcGVgfSB0aGF0IHdpbGwgYmUgdGhlIGAkcGFyZW50YFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgbmV3bHkgY3JlYXRlZCBzY29wZS4gRGVmYXVsdHMgdG8gYHRoaXNgIHNjb3BlIGlmIG5vdCBwcm92aWRlZC5cbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBpcyB1c2VkIHdoZW4gY3JlYXRpbmcgYSB0cmFuc2NsdWRlIHNjb3BlIHRvIGNvcnJlY3RseSBwbGFjZSBpdFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgc2NvcGUgaGllcmFyY2h5IHdoaWxlIG1haW50YWluaW5nIHRoZSBjb3JyZWN0IHByb3RvdHlwaWNhbFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0YW5jZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbmV3bHkgY3JlYXRlZCBjaGlsZCBzY29wZS5cbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgICRuZXc6IGZ1bmN0aW9uKGlzb2xhdGUsIHBhcmVudCkge1xuICAgICAgICB2YXIgY2hpbGQ7XG5cbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzb2xhdGUpIHtcbiAgICAgICAgICBjaGlsZCA9IG5ldyBTY29wZSgpO1xuICAgICAgICAgIGNoaWxkLiRyb290ID0gdGhpcy4kcm9vdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IGNyZWF0ZSBhIGNoaWxkIHNjb3BlIGNsYXNzIGlmIHNvbWVib2R5IGFza3MgZm9yIG9uZSxcbiAgICAgICAgICAvLyBidXQgY2FjaGUgaXQgdG8gYWxsb3cgdGhlIFZNIHRvIG9wdGltaXplIGxvb2t1cHMuXG4gICAgICAgICAgaWYgKCF0aGlzLiQkQ2hpbGRTY29wZSkge1xuICAgICAgICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBjcmVhdGVDaGlsZFNjb3BlQ2xhc3ModGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoaWxkID0gbmV3IHRoaXMuJCRDaGlsZFNjb3BlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQuJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgY2hpbGQuJCRwcmV2U2libGluZyA9IHBhcmVudC4kJGNoaWxkVGFpbDtcbiAgICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCkge1xuICAgICAgICAgIHBhcmVudC4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nID0gY2hpbGQ7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRIZWFkID0gcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHRoZSBuZXcgc2NvcGUgaXMgbm90IGlzb2xhdGVkIG9yIHdlIGluaGVyaXQgZnJvbSBgdGhpc2AsIGFuZFxuICAgICAgICAvLyB0aGUgcGFyZW50IHNjb3BlIGlzIGRlc3Ryb3llZCwgdGhlIHByb3BlcnR5IGAkJGRlc3Ryb3llZGAgaXMgaW5oZXJpdGVkXG4gICAgICAgIC8vIHByb3RvdHlwaWNhbGx5LiBJbiBhbGwgb3RoZXIgY2FzZXMsIHRoaXMgcHJvcGVydHkgbmVlZHMgdG8gYmUgc2V0XG4gICAgICAgIC8vIHdoZW4gdGhlIHBhcmVudCBzY29wZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgIC8vIFRoZSBsaXN0ZW5lciBuZWVkcyB0byBiZSBhZGRlZCBhZnRlciB0aGUgcGFyZW50IGlzIHNldFxuICAgICAgICBpZiAoaXNvbGF0ZSB8fCBwYXJlbnQgIT0gdGhpcykgY2hpbGQuJG9uKCckZGVzdHJveScsIGRlc3Ryb3lDaGlsZFNjb3BlKTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVnaXN0ZXJzIGEgYGxpc3RlbmVyYCBjYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuZXZlciB0aGUgYHdhdGNoRXhwcmVzc2lvbmAgY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiAtIFRoZSBgd2F0Y2hFeHByZXNzaW9uYCBpcyBjYWxsZWQgb24gZXZlcnkgY2FsbCB0byB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0XG4gICAgICAgKiAgICRkaWdlc3QoKX0gYW5kIHNob3VsZCByZXR1cm4gdGhlIHZhbHVlIHRoYXQgd2lsbCBiZSB3YXRjaGVkLiAoYHdhdGNoRXhwcmVzc2lvbmAgc2hvdWxkIG5vdCBjaGFuZ2VcbiAgICAgICAqICAgaXRzIHZhbHVlIHdoZW4gZXhlY3V0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCB0aGUgc2FtZSBpbnB1dCBiZWNhdXNlIGl0IG1heSBiZSBleGVjdXRlZCBtdWx0aXBsZVxuICAgICAgICogICB0aW1lcyBieSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0uIFRoYXQgaXMsIGB3YXRjaEV4cHJlc3Npb25gIHNob3VsZCBiZVxuICAgICAgICogICBbaWRlbXBvdGVudF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JZGVtcG90ZW5jZSkuXG4gICAgICAgKiAtIFRoZSBgbGlzdGVuZXJgIGlzIGNhbGxlZCBvbmx5IHdoZW4gdGhlIHZhbHVlIGZyb20gdGhlIGN1cnJlbnQgYHdhdGNoRXhwcmVzc2lvbmAgYW5kIHRoZVxuICAgICAgICogICBwcmV2aW91cyBjYWxsIHRvIGB3YXRjaEV4cHJlc3Npb25gIGFyZSBub3QgZXF1YWwgKHdpdGggdGhlIGV4Y2VwdGlvbiBvZiB0aGUgaW5pdGlhbCBydW4sXG4gICAgICAgKiAgIHNlZSBiZWxvdykuIEluZXF1YWxpdHkgaXMgZGV0ZXJtaW5lZCBhY2NvcmRpbmcgdG8gcmVmZXJlbmNlIGluZXF1YWxpdHksXG4gICAgICAgKiAgIFtzdHJpY3QgY29tcGFyaXNvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL0NvbXBhcmlzb25fT3BlcmF0b3JzKVxuICAgICAgICogICAgdmlhIHRoZSBgIT09YCBKYXZhc2NyaXB0IG9wZXJhdG9yLCB1bmxlc3MgYG9iamVjdEVxdWFsaXR5ID09IHRydWVgXG4gICAgICAgKiAgIChzZWUgbmV4dCBwb2ludClcbiAgICAgICAqIC0gV2hlbiBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWAsIGluZXF1YWxpdHkgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGlzIGRldGVybWluZWRcbiAgICAgICAqICAgYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGZ1bmN0aW9uLiBUbyBzYXZlIHRoZSB2YWx1ZSBvZiB0aGUgb2JqZWN0IGZvclxuICAgICAgICogICBsYXRlciBjb21wYXJpc29uLCB0aGUge0BsaW5rIGFuZ3VsYXIuY29weX0gZnVuY3Rpb24gaXMgdXNlZC4gVGhpcyB0aGVyZWZvcmUgbWVhbnMgdGhhdFxuICAgICAgICogICB3YXRjaGluZyBjb21wbGV4IG9iamVjdHMgd2lsbCBoYXZlIGFkdmVyc2UgbWVtb3J5IGFuZCBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gICAgICAgKiAtIFRoZSB3YXRjaCBgbGlzdGVuZXJgIG1heSBjaGFuZ2UgdGhlIG1vZGVsLCB3aGljaCBtYXkgdHJpZ2dlciBvdGhlciBgbGlzdGVuZXJgcyB0byBmaXJlLlxuICAgICAgICogICBUaGlzIGlzIGFjaGlldmVkIGJ5IHJlcnVubmluZyB0aGUgd2F0Y2hlcnMgdW50aWwgbm8gY2hhbmdlcyBhcmUgZGV0ZWN0ZWQuIFRoZSByZXJ1blxuICAgICAgICogICBpdGVyYXRpb24gbGltaXQgaXMgMTAgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wIGRlYWRsb2NrLlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBJZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCB3aGVuZXZlciB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGlzIGNhbGxlZCxcbiAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoIG5vIGBsaXN0ZW5lcmAuIChCZSBwcmVwYXJlZCBmb3JcbiAgICAgICAqIG11bHRpcGxlIGNhbGxzIHRvIHlvdXIgYHdhdGNoRXhwcmVzc2lvbmAgYmVjYXVzZSBpdCB3aWxsIGV4ZWN1dGUgbXVsdGlwbGUgdGltZXMgaW4gYVxuICAgICAgICogc2luZ2xlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUgaWYgYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQuKVxuICAgICAgICpcbiAgICAgICAqIEFmdGVyIGEgd2F0Y2hlciBpcyByZWdpc3RlcmVkIHdpdGggdGhlIHNjb3BlLCB0aGUgYGxpc3RlbmVyYCBmbiBpcyBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgICAqICh2aWEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGV2YWxBc3luYyAkZXZhbEFzeW5jfSkgdG8gaW5pdGlhbGl6ZSB0aGVcbiAgICAgICAqIHdhdGNoZXIuIEluIHJhcmUgY2FzZXMsIHRoaXMgaXMgdW5kZXNpcmFibGUgYmVjYXVzZSB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkIHdoZW4gdGhlIHJlc3VsdFxuICAgICAgICogb2YgYHdhdGNoRXhwcmVzc2lvbmAgZGlkbid0IGNoYW5nZS4gVG8gZGV0ZWN0IHRoaXMgc2NlbmFyaW8gd2l0aGluIHRoZSBgbGlzdGVuZXJgIGZuLCB5b3VcbiAgICAgICAqIGNhbiBjb21wYXJlIHRoZSBgbmV3VmFsYCBhbmQgYG9sZFZhbGAuIElmIHRoZXNlIHR3byB2YWx1ZXMgYXJlIGlkZW50aWNhbCAoYD09PWApIHRoZW4gdGhlXG4gICAgICAgKiBsaXN0ZW5lciB3YXMgY2FsbGVkIGR1ZSB0byBpbml0aWFsaXphdGlvbi5cbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAgLy8gbGV0J3MgYXNzdW1lIHRoYXQgc2NvcGUgd2FzIGRlcGVuZGVuY3kgaW5qZWN0ZWQgYXMgdGhlICRyb290U2NvcGVcbiAgICAgICAgICAgdmFyIHNjb3BlID0gJHJvb3RTY29wZTtcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7XG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XG5cblxuXG4gICAgICAgICAgIC8vIFVzaW5nIGEgZnVuY3Rpb24gYXMgYSB3YXRjaEV4cHJlc3Npb25cbiAgICAgICAgICAgdmFyIGZvb2Q7XG4gICAgICAgICAgIHNjb3BlLmZvb2RDb3VudGVyID0gMDtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB2YWx1ZSBiZWluZyB3YXRjaGVkLiBJdCBpcyBjYWxsZWQgZm9yIGVhY2ggdHVybiBvZiB0aGUgJGRpZ2VzdCBsb29wXG4gICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBmb29kOyB9LFxuICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNoYW5nZSBsaXN0ZW5lciwgY2FsbGVkIHdoZW4gdGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGFib3ZlIGZ1bmN0aW9uIGNoYW5nZXNcbiAgICAgICAgICAgICBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgIGlmICggbmV3VmFsdWUgIT09IG9sZFZhbHVlICkge1xuICAgICAgICAgICAgICAgICAvLyBPbmx5IGluY3JlbWVudCB0aGUgY291bnRlciBpZiB0aGUgdmFsdWUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IHNjb3BlLmZvb2RDb3VudGVyICsgMTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICk7XG4gICAgICAgICAgIC8vIE5vIGRpZ2VzdCBoYXMgYmVlbiBydW4gc28gdGhlIGNvdW50ZXIgd2lsbCBiZSB6ZXJvXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICAvLyBSdW4gdGhlIGRpZ2VzdCBidXQgc2luY2UgZm9vZCBoYXMgbm90IGNoYW5nZWQgY291bnQgd2lsbCBzdGlsbCBiZSB6ZXJvXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuXG4gICAgICAgICAgIC8vIFVwZGF0ZSBmb29kIGFuZCBydW4gZGlnZXN0LiAgTm93IHRoZSBjb3VudGVyIHdpbGwgaW5jcmVtZW50XG4gICAgICAgICAgIGZvb2QgPSAnY2hlZXNlYnVyZ2VyJztcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMSk7XG5cbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoZnVuY3Rpb24oKXxzdHJpbmcpfSB3YXRjaEV4cHJlc3Npb24gRXhwcmVzc2lvbiB0aGF0IGlzIGV2YWx1YXRlZCBvbiBlYWNoXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBIGNoYW5nZSBpbiB0aGUgcmV0dXJuIHZhbHVlIHRyaWdnZXJzXG4gICAgICAgKiAgICBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259XG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBjYWxsZWQgd2l0aCBjdXJyZW50IGBzY29wZWAgYXMgYSBwYXJhbWV0ZXIuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsLCBzY29wZSl9IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgdmFsdWVcbiAgICAgICAqICAgIG9mIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgbmV3VmFsYCBjb250YWlucyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIC0gYG9sZFZhbGAgY29udGFpbnMgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogICAgLSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZVxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gb2JqZWN0RXF1YWxpdHkgQ29tcGFyZSBmb3Igb2JqZWN0IGVxdWFsaXR5IHVzaW5nIHtAbGluayBhbmd1bGFyLmVxdWFsc30gaW5zdGVhZCBvZlxuICAgICAgICogICAgIGNvbXBhcmluZyBmb3IgcmVmZXJlbmNlIGVxdWFsaXR5LlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAqL1xuICAgICAgJHdhdGNoOiBmdW5jdGlvbih3YXRjaEV4cCwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwcmV0dHlQcmludEV4cHJlc3Npb24pIHtcbiAgICAgICAgdmFyIGdldCA9ICRwYXJzZSh3YXRjaEV4cCk7XG5cbiAgICAgICAgaWYgKGdldC4kJHdhdGNoRGVsZWdhdGUpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0LiQkd2F0Y2hEZWxlZ2F0ZSh0aGlzLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIGdldCwgd2F0Y2hFeHApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMsXG4gICAgICAgICAgICBhcnJheSA9IHNjb3BlLiQkd2F0Y2hlcnMsXG4gICAgICAgICAgICB3YXRjaGVyID0ge1xuICAgICAgICAgICAgICBmbjogbGlzdGVuZXIsXG4gICAgICAgICAgICAgIGxhc3Q6IGluaXRXYXRjaFZhbCxcbiAgICAgICAgICAgICAgZ2V0OiBnZXQsXG4gICAgICAgICAgICAgIGV4cDogcHJldHR5UHJpbnRFeHByZXNzaW9uIHx8IHdhdGNoRXhwLFxuICAgICAgICAgICAgICBlcTogISFvYmplY3RFcXVhbGl0eVxuICAgICAgICAgICAgfTtcblxuICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG5cbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xuICAgICAgICAgIHdhdGNoZXIuZm4gPSBub29wO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhcnJheSkge1xuICAgICAgICAgIGFycmF5ID0gc2NvcGUuJCR3YXRjaGVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIHVzZSB1bnNoaWZ0IHNpbmNlIHdlIHVzZSBhIHdoaWxlIGxvb3AgaW4gJGRpZ2VzdCBmb3Igc3BlZWQuXG4gICAgICAgIC8vIHRoZSB3aGlsZSBsb29wIHJlYWRzIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICAgIGFycmF5LnVuc2hpZnQod2F0Y2hlcik7XG4gICAgICAgIGluY3JlbWVudFdhdGNoZXJzQ291bnQodGhpcywgMSk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaCgpIHtcbiAgICAgICAgICBpZiAoYXJyYXlSZW1vdmUoYXJyYXksIHdhdGNoZXIpID49IDApIHtcbiAgICAgICAgICAgIGluY3JlbWVudFdhdGNoZXJzQ291bnQoc2NvcGUsIC0xKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaEdyb3VwXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQSB2YXJpYW50IG9mIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX0gd2hlcmUgaXQgd2F0Y2hlcyBhbiBhcnJheSBvZiBgd2F0Y2hFeHByZXNzaW9uc2AuXG4gICAgICAgKiBJZiBhbnkgb25lIGV4cHJlc3Npb24gaW4gdGhlIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgYGxpc3RlbmVyYCBpcyBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAtIFRoZSBpdGVtcyBpbiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgIGFycmF5IGFyZSBvYnNlcnZlZCB2aWEgc3RhbmRhcmQgJHdhdGNoIG9wZXJhdGlvbiBhbmQgYXJlIGV4YW1pbmVkIG9uIGV2ZXJ5XG4gICAgICAgKiAgIGNhbGwgdG8gJGRpZ2VzdCgpIHRvIHNlZSBpZiBhbnkgaXRlbXMgY2hhbmdlcy5cbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIHdoZW5ldmVyIGFueSBleHByZXNzaW9uIGluIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AgYXJyYXkgY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmd8RnVuY3Rpb24oc2NvcGUpPn0gd2F0Y2hFeHByZXNzaW9ucyBBcnJheSBvZiBleHByZXNzaW9ucyB0aGF0IHdpbGwgYmUgaW5kaXZpZHVhbGx5XG4gICAgICAgKiB3YXRjaGVkIHVzaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX1cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld1ZhbHVlcywgb2xkVmFsdWVzLCBzY29wZSl9IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgcmV0dXJuIHZhbHVlIG9mIGFueVxuICAgICAgICogICAgZXhwcmVzc2lvbiBpbiBgd2F0Y2hFeHByZXNzaW9uc2AgY2hhbmdlc1xuICAgICAgICogICAgVGhlIGBuZXdWYWx1ZXNgIGFycmF5IGNvbnRhaW5zIHRoZSBjdXJyZW50IHZhbHVlcyBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgLCB3aXRoIHRoZSBpbmRleGVzIG1hdGNoaW5nXG4gICAgICAgKiAgICB0aG9zZSBvZiBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogICAgYW5kIHRoZSBgb2xkVmFsdWVzYCBhcnJheSBjb250YWlucyB0aGUgcHJldmlvdXMgdmFsdWVzIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AsIHdpdGggdGhlIGluZGV4ZXMgbWF0Y2hpbmdcbiAgICAgICAqICAgIHRob3NlIG9mIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiAgICBUaGUgYHNjb3BlYCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGUuXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgYWxsIGxpc3RlbmVycy5cbiAgICAgICAqL1xuICAgICAgJHdhdGNoR3JvdXA6IGZ1bmN0aW9uKHdhdGNoRXhwcmVzc2lvbnMsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBvbGRWYWx1ZXMgPSBuZXcgQXJyYXkod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpO1xuICAgICAgICB2YXIgbmV3VmFsdWVzID0gbmV3IEFycmF5KHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKTtcbiAgICAgICAgdmFyIGRlcmVnaXN0ZXJGbnMgPSBbXTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGZpcnN0UnVuID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIXdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gTm8gZXhwcmVzc2lvbnMgbWVhbnMgd2UgY2FsbCB0aGUgbGlzdGVuZXIgQVNBUFxuICAgICAgICAgIHZhciBzaG91bGRDYWxsID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQ2FsbCkgbGlzdGVuZXIobmV3VmFsdWVzLCBuZXdWYWx1ZXMsIHNlbGYpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2hHcm91cCgpIHtcbiAgICAgICAgICAgIHNob3VsZENhbGwgPSBmYWxzZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHNpemUgb2Ygb25lXG4gICAgICAgICAgcmV0dXJuIHRoaXMuJHdhdGNoKHdhdGNoRXhwcmVzc2lvbnNbMF0sIGZ1bmN0aW9uIHdhdGNoR3JvdXBBY3Rpb24odmFsdWUsIG9sZFZhbHVlLCBzY29wZSkge1xuICAgICAgICAgICAgbmV3VmFsdWVzWzBdID0gdmFsdWU7XG4gICAgICAgICAgICBvbGRWYWx1ZXNbMF0gPSBvbGRWYWx1ZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgKHZhbHVlID09PSBvbGRWYWx1ZSkgPyBuZXdWYWx1ZXMgOiBvbGRWYWx1ZXMsIHNjb3BlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvckVhY2god2F0Y2hFeHByZXNzaW9ucywgZnVuY3Rpb24oZXhwciwgaSkge1xuICAgICAgICAgIHZhciB1bndhdGNoRm4gPSBzZWxmLiR3YXRjaChleHByLCBmdW5jdGlvbiB3YXRjaEdyb3VwU3ViQWN0aW9uKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgbmV3VmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICBvbGRWYWx1ZXNbaV0gPSBvbGRWYWx1ZTtcbiAgICAgICAgICAgIGlmICghY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBzZWxmLiRldmFsQXN5bmMod2F0Y2hHcm91cEFjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGVyZWdpc3RlckZucy5wdXNoKHVud2F0Y2hGbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIHdhdGNoR3JvdXBBY3Rpb24oKSB7XG4gICAgICAgICAgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChmaXJzdFJ1bikge1xuICAgICAgICAgICAgZmlyc3RSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgbmV3VmFsdWVzLCBzZWxmKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCBvbGRWYWx1ZXMsIHNlbGYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2hHcm91cCgpIHtcbiAgICAgICAgICB3aGlsZSAoZGVyZWdpc3RlckZucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGRlcmVnaXN0ZXJGbnMuc2hpZnQoKSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaENvbGxlY3Rpb25cbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTaGFsbG93IHdhdGNoZXMgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZCBmaXJlcyB3aGVuZXZlciBhbnkgb2YgdGhlIHByb3BlcnRpZXMgY2hhbmdlXG4gICAgICAgKiAoZm9yIGFycmF5cywgdGhpcyBpbXBsaWVzIHdhdGNoaW5nIHRoZSBhcnJheSBpdGVtczsgZm9yIG9iamVjdCBtYXBzLCB0aGlzIGltcGxpZXMgd2F0Y2hpbmdcbiAgICAgICAqIHRoZSBwcm9wZXJ0aWVzKS4gSWYgYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQsIHRoZSBgbGlzdGVuZXJgIGNhbGxiYWNrIGlzIGZpcmVkLlxuICAgICAgICpcbiAgICAgICAqIC0gVGhlIGBvYmpgIGNvbGxlY3Rpb24gaXMgb2JzZXJ2ZWQgdmlhIHN0YW5kYXJkICR3YXRjaCBvcGVyYXRpb24gYW5kIGlzIGV4YW1pbmVkIG9uIGV2ZXJ5XG4gICAgICAgKiAgIGNhbGwgdG8gJGRpZ2VzdCgpIHRvIHNlZSBpZiBhbnkgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkLCByZW1vdmVkLCBvciBtb3ZlZC5cbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIHdoZW5ldmVyIGFueXRoaW5nIHdpdGhpbiB0aGUgYG9iamAgaGFzIGNoYW5nZWQuIEV4YW1wbGVzIGluY2x1ZGVcbiAgICAgICAqICAgYWRkaW5nLCByZW1vdmluZywgYW5kIG1vdmluZyBpdGVtcyBiZWxvbmdpbmcgdG8gYW4gb2JqZWN0IG9yIGFycmF5LlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiAjIEV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydpZ29yJywgJ21hdGlhcycsICdtaXNrbycsICdqYW1lcyddO1xuICAgICAgICAgICRzY29wZS5kYXRhQ291bnQgPSA0O1xuXG4gICAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ25hbWVzJywgZnVuY3Rpb24obmV3TmFtZXMsIG9sZE5hbWVzKSB7XG4gICAgICAgICAgICAkc2NvcGUuZGF0YUNvdW50ID0gbmV3TmFtZXMubGVuZ3RoO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoNCk7XG4gICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICAgIC8vc3RpbGwgYXQgNCAuLi4gbm8gY2hhbmdlc1xuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDQpO1xuXG4gICAgICAgICAgJHNjb3BlLm5hbWVzLnBvcCgpO1xuICAgICAgICAgICRzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgICAvL25vdyB0aGVyZSdzIGJlZW4gYSBjaGFuZ2VcbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCgzKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbihzY29wZSl9IG9iaiBFdmFsdWF0ZWQgYXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uIFRoZVxuICAgICAgICogICAgZXhwcmVzc2lvbiB2YWx1ZSBzaG91bGQgZXZhbHVhdGUgdG8gYW4gb2JqZWN0IG9yIGFuIGFycmF5IHdoaWNoIGlzIG9ic2VydmVkIG9uIGVhY2hcbiAgICAgICAqICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUuIEFueSBzaGFsbG93IGNoYW5nZSB3aXRoaW4gdGhlXG4gICAgICAgKiAgICBjb2xsZWN0aW9uIHdpbGwgdHJpZ2dlciBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdDb2xsZWN0aW9uLCBvbGRDb2xsZWN0aW9uLCBzY29wZSl9IGxpc3RlbmVyIGEgY2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkXG4gICAgICAgKiAgICB3aGVuIGEgY2hhbmdlIGlzIGRldGVjdGVkLlxuICAgICAgICogICAgLSBUaGUgYG5ld0NvbGxlY3Rpb25gIG9iamVjdCBpcyB0aGUgbmV3bHkgbW9kaWZpZWQgZGF0YSBvYnRhaW5lZCBmcm9tIHRoZSBgb2JqYCBleHByZXNzaW9uXG4gICAgICAgKiAgICAtIFRoZSBgb2xkQ29sbGVjdGlvbmAgb2JqZWN0IGlzIGEgY29weSBvZiB0aGUgZm9ybWVyIGNvbGxlY3Rpb24gZGF0YS5cbiAgICAgICAqICAgICAgRHVlIHRvIHBlcmZvcm1hbmNlIGNvbnNpZGVyYXRpb25zLCB0aGVgb2xkQ29sbGVjdGlvbmAgdmFsdWUgaXMgY29tcHV0ZWQgb25seSBpZiB0aGVcbiAgICAgICAqICAgICAgYGxpc3RlbmVyYCBmdW5jdGlvbiBkZWNsYXJlcyB0d28gb3IgbW9yZSBhcmd1bWVudHMuXG4gICAgICAgKiAgICAtIFRoZSBgc2NvcGVgIGFyZ3VtZW50IHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBsaXN0ZW5lci4gV2hlbiB0aGVcbiAgICAgICAqICAgIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBpcyBleGVjdXRlZCwgdGhlIGludGVybmFsIHdhdGNoIG9wZXJhdGlvbiBpcyB0ZXJtaW5hdGVkLlxuICAgICAgICovXG4gICAgICAkd2F0Y2hDb2xsZWN0aW9uOiBmdW5jdGlvbihvYmosIGxpc3RlbmVyKSB7XG4gICAgICAgICR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvci4kc3RhdGVmdWwgPSB0cnVlO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgdmFsdWUsIHVwZGF0ZWQgb24gZWFjaCBkaXJ0eS1jaGVjayBydW5cbiAgICAgICAgdmFyIG5ld1ZhbHVlO1xuICAgICAgICAvLyBhIHNoYWxsb3cgY29weSBvZiB0aGUgbmV3VmFsdWUgZnJvbSB0aGUgbGFzdCBkaXJ0eS1jaGVjayBydW4sXG4gICAgICAgIC8vIHVwZGF0ZWQgdG8gbWF0Y2ggbmV3VmFsdWUgZHVyaW5nIGRpcnR5LWNoZWNrIHJ1blxuICAgICAgICB2YXIgb2xkVmFsdWU7XG4gICAgICAgIC8vIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBuZXdWYWx1ZSBmcm9tIHdoZW4gdGhlIGxhc3QgY2hhbmdlIGhhcHBlbmVkXG4gICAgICAgIHZhciB2ZXJ5T2xkVmFsdWU7XG4gICAgICAgIC8vIG9ubHkgdHJhY2sgdmVyeU9sZFZhbHVlIGlmIHRoZSBsaXN0ZW5lciBpcyBhc2tpbmcgZm9yIGl0XG4gICAgICAgIHZhciB0cmFja1ZlcnlPbGRWYWx1ZSA9IChsaXN0ZW5lci5sZW5ndGggPiAxKTtcbiAgICAgICAgdmFyIGNoYW5nZURldGVjdGVkID0gMDtcbiAgICAgICAgdmFyIGNoYW5nZURldGVjdG9yID0gJHBhcnNlKG9iaiwgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKTtcbiAgICAgICAgdmFyIGludGVybmFsQXJyYXkgPSBbXTtcbiAgICAgICAgdmFyIGludGVybmFsT2JqZWN0ID0ge307XG4gICAgICAgIHZhciBpbml0UnVuID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9sZExlbmd0aCA9IDA7XG5cbiAgICAgICAgZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKF92YWx1ZSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICAgIHZhciBuZXdMZW5ndGgsIGtleSwgYm90aE5hTiwgbmV3SXRlbSwgb2xkSXRlbTtcblxuICAgICAgICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGVuIHJldHVybiB1bmRlZmluZWQgYXMgdGhlIHdhdGNoIG1heSBiZSBhIG9uZS10aW1lIHdhdGNoXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKG5ld1ZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKCFpc09iamVjdChuZXdWYWx1ZSkpIHsgLy8gaWYgcHJpbWl0aXZlXG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5TGlrZShuZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gaW50ZXJuYWxBcnJheSkge1xuICAgICAgICAgICAgICAvLyB3ZSBhcmUgdHJhbnNpdGlvbmluZyBmcm9tIHNvbWV0aGluZyB3aGljaCB3YXMgbm90IGFuIGFycmF5IGludG8gYXJyYXkuXG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gaW50ZXJuYWxBcnJheTtcbiAgICAgICAgICAgICAgb2xkTGVuZ3RoID0gb2xkVmFsdWUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3TGVuZ3RoID0gbmV3VmFsdWUubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAob2xkTGVuZ3RoICE9PSBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gaWYgbGVuZ3RocyBkbyBub3QgbWF0Y2ggd2UgbmVlZCB0byB0cmlnZ2VyIGNoYW5nZSBub3RpZmljYXRpb25cbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgb2xkVmFsdWUubGVuZ3RoID0gb2xkTGVuZ3RoID0gbmV3TGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29weSB0aGUgaXRlbXMgdG8gb2xkVmFsdWUgYW5kIGxvb2sgZm9yIGNoYW5nZXMuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIG9sZEl0ZW0gPSBvbGRWYWx1ZVtpXTtcbiAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ld1ZhbHVlW2ldO1xuXG4gICAgICAgICAgICAgIGJvdGhOYU4gPSAob2xkSXRlbSAhPT0gb2xkSXRlbSkgJiYgKG5ld0l0ZW0gIT09IG5ld0l0ZW0pO1xuICAgICAgICAgICAgICBpZiAoIWJvdGhOYU4gJiYgKG9sZEl0ZW0gIT09IG5ld0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZVtpXSA9IG5ld0l0ZW07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBpbnRlcm5hbE9iamVjdCkge1xuICAgICAgICAgICAgICAvLyB3ZSBhcmUgdHJhbnNpdGlvbmluZyBmcm9tIHNvbWV0aGluZyB3aGljaCB3YXMgbm90IGFuIG9iamVjdCBpbnRvIG9iamVjdC5cbiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBpbnRlcm5hbE9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICBvbGRMZW5ndGggPSAwO1xuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29weSB0aGUgaXRlbXMgdG8gb2xkVmFsdWUgYW5kIGxvb2sgZm9yIGNoYW5nZXMuXG4gICAgICAgICAgICBuZXdMZW5ndGggPSAwO1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBuZXdMZW5ndGgrKztcbiAgICAgICAgICAgICAgICBuZXdJdGVtID0gbmV3VmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICBvbGRJdGVtID0gb2xkVmFsdWVba2V5XTtcblxuICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIGJvdGhOYU4gPSAob2xkSXRlbSAhPT0gb2xkSXRlbSkgJiYgKG5ld0l0ZW0gIT09IG5ld0l0ZW0pO1xuICAgICAgICAgICAgICAgICAgaWYgKCFib3RoTmFOICYmIChvbGRJdGVtICE9PSBuZXdJdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZVtrZXldID0gbmV3SXRlbTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb2xkTGVuZ3RoKys7XG4gICAgICAgICAgICAgICAgICBvbGRWYWx1ZVtrZXldID0gbmV3SXRlbTtcbiAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2xkTGVuZ3RoID4gbmV3TGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8vIHdlIHVzZWQgdG8gaGF2ZSBtb3JlIGtleXMsIG5lZWQgdG8gZmluZCB0aGVtIGFuZCBkZXN0cm95IHRoZW0uXG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgIGZvciAoa2V5IGluIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG5ld1ZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICBvbGRMZW5ndGgtLTtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvbGRWYWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2hhbmdlRGV0ZWN0ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiAkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uKCkge1xuICAgICAgICAgIGlmIChpbml0UnVuKSB7XG4gICAgICAgICAgICBpbml0UnVuID0gZmFsc2U7XG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZSwgbmV3VmFsdWUsIHNlbGYpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZSwgdmVyeU9sZFZhbHVlLCBzZWxmKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBtYWtlIGEgY29weSBmb3IgdGhlIG5leHQgdGltZSBhIGNvbGxlY3Rpb24gaXMgY2hhbmdlZFxuICAgICAgICAgIGlmICh0cmFja1ZlcnlPbGRWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFpc09iamVjdChuZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgLy9wcmltaXRpdmVcbiAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlMaWtlKG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXcgQXJyYXkobmV3VmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZVtpXSA9IG5ld1ZhbHVlW2ldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBpZiBvYmplY3RcbiAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlID0ge307XG4gICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG5ld1ZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWVba2V5XSA9IG5ld1ZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuJHdhdGNoKGNoYW5nZURldGVjdG9yLCAkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUHJvY2Vzc2VzIGFsbCBvZiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfSBvZiB0aGUgY3VycmVudCBzY29wZSBhbmRcbiAgICAgICAqIGl0cyBjaGlsZHJlbi4gQmVjYXVzZSBhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVyfSdzIGxpc3RlbmVyIGNhbiBjaGFuZ2VcbiAgICAgICAqIHRoZSBtb2RlbCwgdGhlIGAkZGlnZXN0KClgIGtlZXBzIGNhbGxpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVyc31cbiAgICAgICAqIHVudGlsIG5vIG1vcmUgbGlzdGVuZXJzIGFyZSBmaXJpbmcuIFRoaXMgbWVhbnMgdGhhdCBpdCBpcyBwb3NzaWJsZSB0byBnZXQgaW50byBhbiBpbmZpbml0ZVxuICAgICAgICogbG9vcC4gVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGAnTWF4aW11bSBpdGVyYXRpb24gbGltaXQgZXhjZWVkZWQuJ2AgaWYgdGhlIG51bWJlciBvZlxuICAgICAgICogaXRlcmF0aW9ucyBleGNlZWRzIDEwLlxuICAgICAgICpcbiAgICAgICAqIFVzdWFsbHksIHlvdSBkb24ndCBjYWxsIGAkZGlnZXN0KClgIGRpcmVjdGx5IGluXG4gICAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ29udHJvbGxlciBjb250cm9sbGVyc30gb3IgaW5cbiAgICAgICAqIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cbiAgICAgICAqIEluc3RlYWQsIHlvdSBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5KCl9ICh0eXBpY2FsbHkgZnJvbSB3aXRoaW5cbiAgICAgICAqIGEge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlIGRpcmVjdGl2ZX0pLCB3aGljaCB3aWxsIGZvcmNlIGEgYCRkaWdlc3QoKWAuXG4gICAgICAgKlxuICAgICAgICogSWYgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQgd2hlbmV2ZXIgYCRkaWdlc3QoKWAgaXMgY2FsbGVkLFxuICAgICAgICogeW91IGNhbiByZWdpc3RlciBhIGB3YXRjaEV4cHJlc3Npb25gIGZ1bmN0aW9uIHdpdGhcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX0gd2l0aCBubyBgbGlzdGVuZXJgLlxuICAgICAgICpcbiAgICAgICAqIEluIHVuaXQgdGVzdHMsIHlvdSBtYXkgbmVlZCB0byBjYWxsIGAkZGlnZXN0KClgIHRvIHNpbXVsYXRlIHRoZSBzY29wZSBsaWZlIGN5Y2xlLlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAgdmFyIHNjb3BlID0gLi4uO1xuICAgICAgICAgICBzY29wZS5uYW1lID0gJ21pc2tvJztcbiAgICAgICAgICAgc2NvcGUuY291bnRlciA9IDA7XG5cbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XG4gICAgICAgICAgIHNjb3BlLiR3YXRjaCgnbmFtZScsIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSBzY29wZS5jb3VudGVyICsgMTtcbiAgICAgICAgICAgfSk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xuXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgLy8gdGhlIGxpc3RlbmVyIGlzIGFsd2F5cyBjYWxsZWQgZHVyaW5nIHRoZSBmaXJzdCAkZGlnZXN0IGxvb3AgYWZ0ZXIgaXQgd2FzIHJlZ2lzdGVyZWRcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XG5cbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAvLyBidXQgbm93IGl0IHdpbGwgbm90IGJlIGNhbGxlZCB1bmxlc3MgdGhlIHZhbHVlIGNoYW5nZXNcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XG5cbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdhZGFtJztcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgyKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgJGRpZ2VzdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB3YXRjaCwgdmFsdWUsIGxhc3QsXG4gICAgICAgICAgICB3YXRjaGVycyxcbiAgICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICAgIGRpcnR5LCB0dGwgPSBUVEwsXG4gICAgICAgICAgICBuZXh0LCBjdXJyZW50LCB0YXJnZXQgPSB0aGlzLFxuICAgICAgICAgICAgd2F0Y2hMb2cgPSBbXSxcbiAgICAgICAgICAgIGxvZ0lkeCwgbG9nTXNnLCBhc3luY1Rhc2s7XG5cbiAgICAgICAgYmVnaW5QaGFzZSgnJGRpZ2VzdCcpO1xuICAgICAgICAvLyBDaGVjayBmb3IgY2hhbmdlcyB0byBicm93c2VyIHVybCB0aGF0IGhhcHBlbmVkIGluIHN5bmMgYmVmb3JlIHRoZSBjYWxsIHRvICRkaWdlc3RcbiAgICAgICAgJGJyb3dzZXIuJCRjaGVja1VybENoYW5nZSgpO1xuXG4gICAgICAgIGlmICh0aGlzID09PSAkcm9vdFNjb3BlICYmIGFwcGx5QXN5bmNJZCAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIHJvb3Qgc2NvcGUsIGFuZCAkYXBwbHlBc3luYyBoYXMgc2NoZWR1bGVkIGEgZGVmZXJyZWQgJGFwcGx5KCksIHRoZW5cbiAgICAgICAgICAvLyBjYW5jZWwgdGhlIHNjaGVkdWxlZCAkYXBwbHkgYW5kIGZsdXNoIHRoZSBxdWV1ZSBvZiBleHByZXNzaW9ucyB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgICAgJGJyb3dzZXIuZGVmZXIuY2FuY2VsKGFwcGx5QXN5bmNJZCk7XG4gICAgICAgICAgZmx1c2hBcHBseUFzeW5jKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG5cbiAgICAgICAgZG8geyAvLyBcIndoaWxlIGRpcnR5XCIgbG9vcFxuICAgICAgICAgIGRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgY3VycmVudCA9IHRhcmdldDtcblxuICAgICAgICAgIHdoaWxlIChhc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXN5bmNUYXNrID0gYXN5bmNRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICBhc3luY1Rhc2suc2NvcGUuJGV2YWwoYXN5bmNUYXNrLmV4cHJlc3Npb24sIGFzeW5jVGFzay5sb2NhbHMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0cmF2ZXJzZVNjb3Blc0xvb3A6XG4gICAgICAgICAgZG8geyAvLyBcInRyYXZlcnNlIHRoZSBzY29wZXNcIiBsb29wXG4gICAgICAgICAgICBpZiAoKHdhdGNoZXJzID0gY3VycmVudC4kJHdhdGNoZXJzKSkge1xuICAgICAgICAgICAgICAvLyBwcm9jZXNzIG91ciB3YXRjaGVzXG4gICAgICAgICAgICAgIGxlbmd0aCA9IHdhdGNoZXJzLmxlbmd0aDtcbiAgICAgICAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHdhdGNoID0gd2F0Y2hlcnNbbGVuZ3RoXTtcbiAgICAgICAgICAgICAgICAgIC8vIE1vc3QgY29tbW9uIHdhdGNoZXMgYXJlIG9uIHByaW1pdGl2ZXMsIGluIHdoaWNoIGNhc2Ugd2UgY2FuIHNob3J0XG4gICAgICAgICAgICAgICAgICAvLyBjaXJjdWl0IGl0IHdpdGggPT09IG9wZXJhdG9yLCBvbmx5IHdoZW4gPT09IGZhaWxzIGRvIHdlIHVzZSAuZXF1YWxzXG4gICAgICAgICAgICAgICAgICBpZiAod2F0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSA9IHdhdGNoLmdldChjdXJyZW50KSkgIT09IChsYXN0ID0gd2F0Y2gubGFzdCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICEod2F0Y2guZXFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGVxdWFscyh2YWx1ZSwgbGFzdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBsYXN0ID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGlzTmFOKHZhbHVlKSAmJiBpc05hTihsYXN0KSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gd2F0Y2g7XG4gICAgICAgICAgICAgICAgICAgICAgd2F0Y2gubGFzdCA9IHdhdGNoLmVxID8gY29weSh2YWx1ZSwgbnVsbCkgOiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICB3YXRjaC5mbih2YWx1ZSwgKChsYXN0ID09PSBpbml0V2F0Y2hWYWwpID8gdmFsdWUgOiBsYXN0KSwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHR0bCA8IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0lkeCA9IDQgLSB0dGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdhdGNoTG9nW2xvZ0lkeF0pIHdhdGNoTG9nW2xvZ0lkeF0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoTG9nW2xvZ0lkeF0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogaXNGdW5jdGlvbih3YXRjaC5leHApID8gJ2ZuOiAnICsgKHdhdGNoLmV4cC5uYW1lIHx8IHdhdGNoLmV4cC50b1N0cmluZygpKSA6IHdhdGNoLmV4cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkVmFsOiBsYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2F0Y2ggPT09IGxhc3REaXJ0eVdhdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG1vc3QgcmVjZW50bHkgZGlydHkgd2F0Y2hlciBpcyBub3cgY2xlYW4sIHNob3J0IGNpcmN1aXQgc2luY2UgdGhlIHJlbWFpbmluZyB3YXRjaGVyc1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGhhdmUgYWxyZWFkeSBiZWVuIHRlc3RlZC5cbiAgICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHRyYXZlcnNlU2NvcGVzTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWxcbiAgICAgICAgICAgIC8vIHllcywgdGhpcyBjb2RlIGlzIGEgYml0IGNyYXp5LCBidXQgaXQgd29ya3MgYW5kIHdlIGhhdmUgdGVzdHMgdG8gcHJvdmUgaXQhXG4gICAgICAgICAgICAvLyB0aGlzIHBpZWNlIHNob3VsZCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgdHJhdmVyc2FsIGluICRicm9hZGNhc3RcbiAgICAgICAgICAgIGlmICghKG5leHQgPSAoKGN1cnJlbnQuJCR3YXRjaGVyc0NvdW50ICYmIGN1cnJlbnQuJCRjaGlsZEhlYWQpIHx8XG4gICAgICAgICAgICAgICAgKGN1cnJlbnQgIT09IHRhcmdldCAmJiBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSkpIHtcbiAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IHRhcmdldCAmJiAhKG5leHQgPSBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gbmV4dCkpO1xuXG4gICAgICAgICAgLy8gYGJyZWFrIHRyYXZlcnNlU2NvcGVzTG9vcDtgIHRha2VzIHVzIHRvIGhlcmVcblxuICAgICAgICAgIGlmICgoZGlydHkgfHwgYXN5bmNRdWV1ZS5sZW5ndGgpICYmICEodHRsLS0pKSB7XG4gICAgICAgICAgICBjbGVhclBoYXNlKCk7XG4gICAgICAgICAgICB0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCdpbmZkaWcnLFxuICAgICAgICAgICAgICAgICd7MH0gJGRpZ2VzdCgpIGl0ZXJhdGlvbnMgcmVhY2hlZC4gQWJvcnRpbmchXFxuJyArXG4gICAgICAgICAgICAgICAgJ1dhdGNoZXJzIGZpcmVkIGluIHRoZSBsYXN0IDUgaXRlcmF0aW9uczogezF9JyxcbiAgICAgICAgICAgICAgICBUVEwsIHdhdGNoTG9nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSB3aGlsZSAoZGlydHkgfHwgYXN5bmNRdWV1ZS5sZW5ndGgpO1xuXG4gICAgICAgIGNsZWFyUGhhc2UoKTtcblxuICAgICAgICB3aGlsZSAocG9zdERpZ2VzdFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwb3N0RGlnZXN0UXVldWUuc2hpZnQoKSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveVxuICAgICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gc2NvcGUgYmVpbmcgZGVzdHJveWVkXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBCcm9hZGNhc3RlZCB3aGVuIGEgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbiBhcmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgY3VycmVudCBzY29wZSAoYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW4pIGZyb20gdGhlIHBhcmVudCBzY29wZS4gUmVtb3ZhbCBpbXBsaWVzXG4gICAgICAgKiB0aGF0IGNhbGxzIHRvIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSB3aWxsIG5vIGxvbmdlclxuICAgICAgICogcHJvcGFnYXRlIHRvIHRoZSBjdXJyZW50IHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4uIFJlbW92YWwgYWxzbyBpbXBsaWVzIHRoYXQgdGhlIGN1cnJlbnRcbiAgICAgICAqIHNjb3BlIGlzIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAgICAgKlxuICAgICAgICogVGhlIGAkZGVzdHJveSgpYCBpcyB1c3VhbGx5IHVzZWQgYnkgZGlyZWN0aXZlcyBzdWNoIGFzXG4gICAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fSBmb3IgbWFuYWdpbmcgdGhlXG4gICAgICAgKiB1bnJvbGxpbmcgb2YgdGhlIGxvb3AuXG4gICAgICAgKlxuICAgICAgICogSnVzdCBiZWZvcmUgYSBzY29wZSBpcyBkZXN0cm95ZWQsIGEgYCRkZXN0cm95YCBldmVudCBpcyBicm9hZGNhc3RlZCBvbiB0aGlzIHNjb3BlLlxuICAgICAgICogQXBwbGljYXRpb24gY29kZSBjYW4gcmVnaXN0ZXIgYSBgJGRlc3Ryb3lgIGV2ZW50IGhhbmRsZXIgdGhhdCB3aWxsIGdpdmUgaXQgYSBjaGFuY2UgdG9cbiAgICAgICAqIHBlcmZvcm0gYW55IG5lY2Vzc2FyeSBjbGVhbnVwLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cbiAgICAgICRkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gV2UgY2FuJ3QgZGVzdHJveSBhIHNjb3BlIHRoYXQgaGFzIGJlZW4gYWxyZWFkeSBkZXN0cm95ZWQuXG4gICAgICAgIGlmICh0aGlzLiQkZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLiRwYXJlbnQ7XG5cbiAgICAgICAgdGhpcy4kYnJvYWRjYXN0KCckZGVzdHJveScpO1xuICAgICAgICB0aGlzLiQkZGVzdHJveWVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcyA9PT0gJHJvb3RTY29wZSkge1xuICAgICAgICAgIC8vUmVtb3ZlIGhhbmRsZXJzIGF0dGFjaGVkIHRvIHdpbmRvdyB3aGVuICRyb290U2NvcGUgaXMgcmVtb3ZlZFxuICAgICAgICAgICRicm93c2VyLiQkYXBwbGljYXRpb25EZXN0cm95ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluY3JlbWVudFdhdGNoZXJzQ291bnQodGhpcywgLXRoaXMuJCR3YXRjaGVyc0NvdW50KTtcbiAgICAgICAgZm9yICh2YXIgZXZlbnROYW1lIGluIHRoaXMuJCRsaXN0ZW5lckNvdW50KSB7XG4gICAgICAgICAgZGVjcmVtZW50TGlzdGVuZXJDb3VudCh0aGlzLCB0aGlzLiQkbGlzdGVuZXJDb3VudFtldmVudE5hbWVdLCBldmVudE5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V2ZXIgYWxsIHRoZSByZWZlcmVuY2VzIHRvIHBhcmVudCBzY29wZXMgKGFmdGVyIHRoaXMgY2xlYW51cCwgdGhlIGN1cnJlbnQgc2NvcGUgc2hvdWxkXG4gICAgICAgIC8vIG5vdCBiZSByZXRhaW5lZCBieSBhbnkgb2Ygb3VyIHJlZmVyZW5jZXMgYW5kIHNob3VsZCBiZSBlbGlnaWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uKVxuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC4kJGNoaWxkSGVhZCA9PSB0aGlzKSBwYXJlbnQuJCRjaGlsZEhlYWQgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LiQkY2hpbGRUYWlsID09IHRoaXMpIHBhcmVudC4kJGNoaWxkVGFpbCA9IHRoaXMuJCRwcmV2U2libGluZztcbiAgICAgICAgaWYgKHRoaXMuJCRwcmV2U2libGluZykgdGhpcy4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XG4gICAgICAgIGlmICh0aGlzLiQkbmV4dFNpYmxpbmcpIHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nID0gdGhpcy4kJHByZXZTaWJsaW5nO1xuXG4gICAgICAgIC8vIERpc2FibGUgbGlzdGVuZXJzLCB3YXRjaGVycyBhbmQgYXBwbHkvZGlnZXN0IG1ldGhvZHNcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IHRoaXMuJGRpZ2VzdCA9IHRoaXMuJGFwcGx5ID0gdGhpcy4kZXZhbEFzeW5jID0gdGhpcy4kYXBwbHlBc3luYyA9IG5vb3A7XG4gICAgICAgIHRoaXMuJG9uID0gdGhpcy4kd2F0Y2ggPSB0aGlzLiR3YXRjaEdyb3VwID0gZnVuY3Rpb24oKSB7IHJldHVybiBub29wOyB9O1xuICAgICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG5cbiAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgbmV4dCBzaWJsaW5nIHRvIHByZXZlbnQgYGNsZWFuVXBTY29wZWAgZGVzdHJveWluZyB0aG9zZSB0b29cbiAgICAgICAgdGhpcy4kJG5leHRTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgY2xlYW5VcFNjb3BlKHRoaXMpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRldmFsXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRXhlY3V0ZXMgdGhlIGBleHByZXNzaW9uYCBvbiB0aGUgY3VycmVudCBzY29wZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBBbnkgZXhjZXB0aW9ucyBpblxuICAgICAgICogdGhlIGV4cHJlc3Npb24gYXJlIHByb3BhZ2F0ZWQgKHVuY2F1Z2h0KS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBldmFsdWF0aW5nIEFuZ3VsYXJcbiAgICAgICAqIGV4cHJlc3Npb25zLlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAgdmFyIHNjb3BlID0gbmcuJHJvb3RTY29wZS5TY29wZSgpO1xuICAgICAgICAgICBzY29wZS5hID0gMTtcbiAgICAgICAgICAgc2NvcGUuYiA9IDI7XG5cbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLiRldmFsKCdhK2InKSkudG9FcXVhbCgzKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLiRldmFsKGZ1bmN0aW9uKHNjb3BlKXsgcmV0dXJuIHNjb3BlLmEgKyBzY29wZS5iOyB9KSkudG9FcXVhbCgzKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cHJlc3Npb24gQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4gIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhvYmplY3QpPX0gbG9jYWxzIExvY2FsIHZhcmlhYmxlcyBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW4gc2NvcGUuXG4gICAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uLlxuICAgICAgICovXG4gICAgICAkZXZhbDogZnVuY3Rpb24oZXhwciwgbG9jYWxzKSB7XG4gICAgICAgIHJldHVybiAkcGFyc2UoZXhwcikodGhpcywgbG9jYWxzKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbEFzeW5jXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRXhlY3V0ZXMgdGhlIGV4cHJlc3Npb24gb24gdGhlIGN1cnJlbnQgc2NvcGUgYXQgYSBsYXRlciBwb2ludCBpbiB0aW1lLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBgJGV2YWxBc3luY2AgbWFrZXMgbm8gZ3VhcmFudGVlcyBhcyB0byB3aGVuIHRoZSBgZXhwcmVzc2lvbmAgd2lsbCBiZSBleGVjdXRlZCwgb25seVxuICAgICAgICogdGhhdDpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gaXQgd2lsbCBleGVjdXRlIGFmdGVyIHRoZSBmdW5jdGlvbiB0aGF0IHNjaGVkdWxlZCB0aGUgZXZhbHVhdGlvbiAocHJlZmVyYWJseSBiZWZvcmUgRE9NXG4gICAgICAgKiAgICAgcmVuZGVyaW5nKS5cbiAgICAgICAqICAgLSBhdCBsZWFzdCBvbmUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0IGN5Y2xlfSB3aWxsIGJlIHBlcmZvcm1lZCBhZnRlclxuICAgICAgICogICAgIGBleHByZXNzaW9uYCBleGVjdXRpb24uXG4gICAgICAgKlxuICAgICAgICogQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAgKiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKlxuICAgICAgICogX19Ob3RlOl9fIGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBgJGRpZ2VzdGAgY3ljbGUsIGEgbmV3IGAkZGlnZXN0YCBjeWNsZVxuICAgICAgICogd2lsbCBiZSBzY2hlZHVsZWQuIEhvd2V2ZXIsIGl0IGlzIGVuY291cmFnZWQgdG8gYWx3YXlzIGNhbGwgY29kZSB0aGF0IGNoYW5nZXMgdGhlIG1vZGVsXG4gICAgICAgKiBmcm9tIHdpdGhpbiBhbiBgJGFwcGx5YCBjYWxsLiBUaGF0IGluY2x1ZGVzIGNvZGUgZXZhbHVhdGVkIHZpYSBgJGV2YWxBc3luY2AuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwcmVzc2lvbiBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxuICAgICAgICovXG4gICAgICAkZXZhbEFzeW5jOiBmdW5jdGlvbihleHByLCBsb2NhbHMpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIG91dHNpZGUgb2YgYW4gJGRpZ2VzdCBsb29wIGFuZCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlIGFyZSBzY2hlZHVsaW5nIGFzeW5jXG4gICAgICAgIC8vIHRhc2sgYWxzbyBzY2hlZHVsZSBhc3luYyBhdXRvLWZsdXNoXG4gICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlICYmICFhc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXN5bmNRdWV1ZS5wdXNoKHtzY29wZTogdGhpcywgZXhwcmVzc2lvbjogZXhwciwgbG9jYWxzOiBsb2NhbHN9KTtcbiAgICAgIH0sXG5cbiAgICAgICQkcG9zdERpZ2VzdDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnB1c2goZm4pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRhcHBseVxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIGAkYXBwbHkoKWAgaXMgdXNlZCB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gYW5ndWxhciBmcm9tIG91dHNpZGUgb2YgdGhlIGFuZ3VsYXJcbiAgICAgICAqIGZyYW1ld29yay4gKEZvciBleGFtcGxlIGZyb20gYnJvd3NlciBET00gZXZlbnRzLCBzZXRUaW1lb3V0LCBYSFIgb3IgdGhpcmQgcGFydHkgbGlicmFyaWVzKS5cbiAgICAgICAqIEJlY2F1c2Ugd2UgYXJlIGNhbGxpbmcgaW50byB0aGUgYW5ndWxhciBmcmFtZXdvcmsgd2UgbmVlZCB0byBwZXJmb3JtIHByb3BlciBzY29wZSBsaWZlXG4gICAgICAgKiBjeWNsZSBvZiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgZXhjZXB0aW9uIGhhbmRsaW5nfSxcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgZXhlY3V0aW5nIHdhdGNoZXN9LlxuICAgICAgICpcbiAgICAgICAqICMjIExpZmUgY3ljbGVcbiAgICAgICAqXG4gICAgICAgKiAjIFBzZXVkby1Db2RlIG9mIGAkYXBwbHkoKWBcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIGZ1bmN0aW9uICRhcHBseShleHByKSB7XG4gICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgIHJldHVybiAkZXZhbChleHByKTtcbiAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgJHJvb3QuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgfVxuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIFNjb3BlJ3MgYCRhcHBseSgpYCBtZXRob2QgdHJhbnNpdGlvbnMgdGhyb3VnaCB0aGUgZm9sbG93aW5nIHN0YWdlczpcbiAgICAgICAqXG4gICAgICAgKiAxLiBUaGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZXhlY3V0ZWQgdXNpbmcgdGhlXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZXZhbCAkZXZhbCgpfSBtZXRob2QuXG4gICAgICAgKiAyLiBBbnkgZXhjZXB0aW9ucyBmcm9tIHRoZSBleGVjdXRpb24gb2YgdGhlIGV4cHJlc3Npb24gYXJlIGZvcndhcmRlZCB0byB0aGVcbiAgICAgICAqICAgIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cbiAgICAgICAqIDMuIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2h9IGxpc3RlbmVycyBhcmUgZmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gICAgICAgKiAgICBleHByZXNzaW9uIHdhcyBleGVjdXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IG1ldGhvZC5cbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uXG4gICAgICAgKi9cbiAgICAgICRhcHBseTogZnVuY3Rpb24oZXhwcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGJlZ2luUGhhc2UoJyRhcHBseScpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kZXZhbChleHByKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGFwcGx5QXN5bmNcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTY2hlZHVsZSB0aGUgaW52b2NhdGlvbiBvZiAkYXBwbHkgdG8gb2NjdXIgYXQgYSBsYXRlciB0aW1lLiBUaGUgYWN0dWFsIHRpbWUgZGlmZmVyZW5jZVxuICAgICAgICogdmFyaWVzIGFjcm9zcyBicm93c2VycywgYnV0IGlzIHR5cGljYWxseSBhcm91bmQgfjEwIG1pbGxpc2Vjb25kcy5cbiAgICAgICAqXG4gICAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHF1ZXVlIHVwIG11bHRpcGxlIGV4cHJlc3Npb25zIHdoaWNoIG5lZWQgdG8gYmUgZXZhbHVhdGVkIGluIHRoZSBzYW1lXG4gICAgICAgKiBkaWdlc3QuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxuICAgICAgICovXG4gICAgICAkYXBwbHlBc3luYzogZnVuY3Rpb24oZXhwcikge1xuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzO1xuICAgICAgICBleHByICYmIGFwcGx5QXN5bmNRdWV1ZS5wdXNoKCRhcHBseUFzeW5jRXhwcmVzc2lvbik7XG4gICAgICAgIHNjaGVkdWxlQXBwbHlBc3luYygpO1xuXG4gICAgICAgIGZ1bmN0aW9uICRhcHBseUFzeW5jRXhwcmVzc2lvbigpIHtcbiAgICAgICAgICBzY29wZS4kZXZhbChleHByKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIExpc3RlbnMgb24gZXZlbnRzIG9mIGEgZ2l2ZW4gdHlwZS4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRlbWl0ICRlbWl0fSBmb3JcbiAgICAgICAqIGRpc2N1c3Npb24gb2YgZXZlbnQgbGlmZSBjeWNsZS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gZm9ybWF0IGlzOiBgZnVuY3Rpb24oZXZlbnQsIGFyZ3MuLi4pYC4gVGhlIGBldmVudGAgb2JqZWN0XG4gICAgICAgKiBwYXNzZWQgaW50byB0aGUgbGlzdGVuZXIgaGFzIHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gYHRhcmdldFNjb3BlYCAtIGB7U2NvcGV9YDogdGhlIHNjb3BlIG9uIHdoaWNoIHRoZSBldmVudCB3YXMgYCRlbWl0YC1lZCBvclxuICAgICAgICogICAgIGAkYnJvYWRjYXN0YC1lZC5cbiAgICAgICAqICAgLSBgY3VycmVudFNjb3BlYCAtIGB7U2NvcGV9YDogdGhlIHNjb3BlIHRoYXQgaXMgY3VycmVudGx5IGhhbmRsaW5nIHRoZSBldmVudC4gT25jZSB0aGVcbiAgICAgICAqICAgICBldmVudCBwcm9wYWdhdGVzIHRocm91Z2ggdGhlIHNjb3BlIGhpZXJhcmNoeSwgdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gbnVsbC5cbiAgICAgICAqICAgLSBgbmFtZWAgLSBge3N0cmluZ31gOiBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgICAqICAgLSBgc3RvcFByb3BhZ2F0aW9uYCAtIGB7ZnVuY3Rpb249fWA6IGNhbGxpbmcgYHN0b3BQcm9wYWdhdGlvbmAgZnVuY3Rpb24gd2lsbCBjYW5jZWxcbiAgICAgICAqICAgICBmdXJ0aGVyIGV2ZW50IHByb3BhZ2F0aW9uIChhdmFpbGFibGUgb25seSBmb3IgZXZlbnRzIHRoYXQgd2VyZSBgJGVtaXRgLWVkKS5cbiAgICAgICAqICAgLSBgcHJldmVudERlZmF1bHRgIC0gYHtmdW5jdGlvbn1gOiBjYWxsaW5nIGBwcmV2ZW50RGVmYXVsdGAgc2V0cyBgZGVmYXVsdFByZXZlbnRlZGAgZmxhZ1xuICAgICAgICogICAgIHRvIHRydWUuXG4gICAgICAgKiAgIC0gYGRlZmF1bHRQcmV2ZW50ZWRgIC0gYHtib29sZWFufWA6IHRydWUgaWYgYHByZXZlbnREZWZhdWx0YCB3YXMgY2FsbGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gbGlzdGVuIG9uLlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudCwgLi4uYXJncyl9IGxpc3RlbmVyIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgKi9cbiAgICAgICRvbjogZnVuY3Rpb24obmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIG5hbWVkTGlzdGVuZXJzID0gdGhpcy4kJGxpc3RlbmVyc1tuYW1lXTtcbiAgICAgICAgaWYgKCFuYW1lZExpc3RlbmVycykge1xuICAgICAgICAgIHRoaXMuJCRsaXN0ZW5lcnNbbmFtZV0gPSBuYW1lZExpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG5hbWVkTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcztcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmICghY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0pIHtcbiAgICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0rKztcbiAgICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgaW5kZXhPZkxpc3RlbmVyID0gbmFtZWRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgICAgaWYgKGluZGV4T2ZMaXN0ZW5lciAhPT0gLTEpIHtcbiAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzW2luZGV4T2ZMaXN0ZW5lcl0gPSBudWxsO1xuICAgICAgICAgICAgZGVjcmVtZW50TGlzdGVuZXJDb3VudChzZWxmLCAxLCBuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZW1pdFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIHVwd2FyZHMgdGhyb3VnaCB0aGUgc2NvcGUgaGllcmFyY2h5IG5vdGlmeWluZyB0aGVcbiAgICAgICAqIHJlZ2lzdGVyZWQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBsaXN0ZW5lcnMuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGVtaXRgIHdhcyBjYWxsZWQuIEFsbFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gbGlzdGVuaW5nIGZvciBgbmFtZWAgZXZlbnQgb24gdGhpcyBzY29wZSBnZXRcbiAgICAgICAqIG5vdGlmaWVkLiBBZnRlcndhcmRzLCB0aGUgZXZlbnQgdHJhdmVyc2VzIHVwd2FyZHMgdG93YXJkIHRoZSByb290IHNjb3BlIGFuZCBjYWxscyBhbGxcbiAgICAgICAqIHJlZ2lzdGVyZWQgbGlzdGVuZXJzIGFsb25nIHRoZSB3YXkuIFRoZSBldmVudCB3aWxsIHN0b3AgcHJvcGFnYXRpbmcgaWYgb25lIG9mIHRoZSBsaXN0ZW5lcnNcbiAgICAgICAqIGNhbmNlbHMgaXQuXG4gICAgICAgKlxuICAgICAgICogQW55IGV4Y2VwdGlvbiBlbWl0dGVkIGZyb20gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IHdpbGwgYmUgcGFzc2VkXG4gICAgICAgKiBvbnRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBlbWl0LlxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IG9iamVjdCAoc2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0pLlxuICAgICAgICovXG4gICAgICAkZW1pdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgICAgICB2YXIgZW1wdHkgPSBbXSxcbiAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLFxuICAgICAgICAgICAgc2NvcGUgPSB0aGlzLFxuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uID0gZmFsc2UsXG4gICAgICAgICAgICBldmVudCA9IHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgdGFyZ2V0U2NvcGU6IHNjb3BlLFxuICAgICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge3N0b3BQcm9wYWdhdGlvbiA9IHRydWU7fSxcbiAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgaSwgbGVuZ3RoO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBuYW1lZExpc3RlbmVycyA9IHNjb3BlLiQkbGlzdGVuZXJzW25hbWVdIHx8IGVtcHR5O1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IHNjb3BlO1xuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG5hbWVkTGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcbiAgICAgICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vYWxsb3cgYWxsIGxpc3RlbmVycyBhdHRhY2hlZCB0byB0aGUgY3VycmVudCBzY29wZSB0byBydW5cbiAgICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vaWYgYW55IGxpc3RlbmVyIG9uIHRoZSBjdXJyZW50IHNjb3BlIHN0b3BzIHByb3BhZ2F0aW9uLCBwcmV2ZW50IGJ1YmJsaW5nXG4gICAgICAgICAgaWYgKHN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy90cmF2ZXJzZSB1cHdhcmRzXG4gICAgICAgICAgc2NvcGUgPSBzY29wZS4kcGFyZW50O1xuICAgICAgICB9IHdoaWxlIChzY29wZSk7XG5cbiAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYnJvYWRjYXN0XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBgbmFtZWAgZG93bndhcmRzIHRvIGFsbCBjaGlsZCBzY29wZXMgKGFuZCB0aGVpciBjaGlsZHJlbikgbm90aWZ5aW5nIHRoZVxuICAgICAgICogcmVnaXN0ZXJlZCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259IGxpc3RlbmVycy5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgZXZlbnQgbGlmZSBjeWNsZSBzdGFydHMgYXQgdGhlIHNjb3BlIG9uIHdoaWNoIGAkYnJvYWRjYXN0YCB3YXMgY2FsbGVkLiBBbGxcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XG4gICAgICAgKiBub3RpZmllZC4gQWZ0ZXJ3YXJkcywgdGhlIGV2ZW50IHByb3BhZ2F0ZXMgdG8gYWxsIGRpcmVjdCBhbmQgaW5kaXJlY3Qgc2NvcGVzIG9mIHRoZSBjdXJyZW50XG4gICAgICAgKiBzY29wZSBhbmQgY2FsbHMgYWxsIHJlZ2lzdGVyZWQgbGlzdGVuZXJzIGFsb25nIHRoZSB3YXkuIFRoZSBldmVudCBjYW5ub3QgYmUgY2FuY2VsZWQuXG4gICAgICAgKlxuICAgICAgICogQW55IGV4Y2VwdGlvbiBlbWl0dGVkIGZyb20gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IHdpbGwgYmUgcGFzc2VkXG4gICAgICAgKiBvbnRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBicm9hZGNhc3QuXG4gICAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgT3B0aW9uYWwgb25lIG9yIG1vcmUgYXJndW1lbnRzIHdoaWNoIHdpbGwgYmUgcGFzc2VkIG9udG8gdGhlIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgb2JqZWN0LCBzZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufVxuICAgICAgICovXG4gICAgICAkYnJvYWRjYXN0OiBmdW5jdGlvbihuYW1lLCBhcmdzKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLFxuICAgICAgICAgICAgY3VycmVudCA9IHRhcmdldCxcbiAgICAgICAgICAgIG5leHQgPSB0YXJnZXQsXG4gICAgICAgICAgICBldmVudCA9IHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgdGFyZ2V0U2NvcGU6IHRhcmdldCxcbiAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkOiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICBpZiAoIXRhcmdldC4kJGxpc3RlbmVyQ291bnRbbmFtZV0pIHJldHVybiBldmVudDtcblxuICAgICAgICB2YXIgbGlzdGVuZXJBcmdzID0gY29uY2F0KFtldmVudF0sIGFyZ3VtZW50cywgMSksXG4gICAgICAgICAgICBsaXN0ZW5lcnMsIGksIGxlbmd0aDtcblxuICAgICAgICAvL2Rvd24gd2hpbGUgeW91IGNhbiwgdGhlbiB1cCBhbmQgbmV4dCBzaWJsaW5nIG9yIHVwIGFuZCBuZXh0IHNpYmxpbmcgdW50aWwgYmFjayBhdCByb290XG4gICAgICAgIHdoaWxlICgoY3VycmVudCA9IG5leHQpKSB7XG4gICAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gY3VycmVudDtcbiAgICAgICAgICBsaXN0ZW5lcnMgPSBjdXJyZW50LiQkbGlzdGVuZXJzW25hbWVdIHx8IFtdO1xuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gaWYgbGlzdGVuZXJzIHdlcmUgZGVyZWdpc3RlcmVkLCBkZWZyYWdtZW50IHRoZSBhcnJheVxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGxpc3RlbmVyc1tpXS5hcHBseShudWxsLCBsaXN0ZW5lckFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWxcbiAgICAgICAgICAvLyB5ZXMsIHRoaXMgY29kZSBpcyBhIGJpdCBjcmF6eSwgYnV0IGl0IHdvcmtzIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHByb3ZlIGl0IVxuICAgICAgICAgIC8vIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSB0cmF2ZXJzYWwgaW4gJGRpZ2VzdFxuICAgICAgICAgIC8vICh0aG91Z2ggaXQgZGlmZmVycyBkdWUgdG8gaGF2aW5nIHRoZSBleHRyYSBjaGVjayBmb3IgJCRsaXN0ZW5lckNvdW50KVxuICAgICAgICAgIGlmICghKG5leHQgPSAoKGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdICYmIGN1cnJlbnQuJCRjaGlsZEhlYWQpIHx8XG4gICAgICAgICAgICAgIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgY3VycmVudC4kJG5leHRTaWJsaW5nKSkpKSB7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gdGFyZ2V0ICYmICEobmV4dCA9IGN1cnJlbnQuJCRuZXh0U2libGluZykpIHtcbiAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciAkcm9vdFNjb3BlID0gbmV3IFNjb3BlKCk7XG5cbiAgICAvL1RoZSBpbnRlcm5hbCBxdWV1ZXMuIEV4cG9zZSB0aGVtIG9uIHRoZSAkcm9vdFNjb3BlIGZvciBkZWJ1Z2dpbmcvdGVzdGluZyBwdXJwb3Nlcy5cbiAgICB2YXIgYXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhc3luY1F1ZXVlID0gW107XG4gICAgdmFyIHBvc3REaWdlc3RRdWV1ZSA9ICRyb290U2NvcGUuJCRwb3N0RGlnZXN0UXVldWUgPSBbXTtcbiAgICB2YXIgYXBwbHlBc3luY1F1ZXVlID0gJHJvb3RTY29wZS4kJGFwcGx5QXN5bmNRdWV1ZSA9IFtdO1xuXG4gICAgcmV0dXJuICRyb290U2NvcGU7XG5cblxuICAgIGZ1bmN0aW9uIGJlZ2luUGhhc2UocGhhc2UpIHtcbiAgICAgIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgdGhyb3cgJHJvb3RTY29wZU1pbkVycignaW5wcm9nJywgJ3swfSBhbHJlYWR5IGluIHByb2dyZXNzJywgJHJvb3RTY29wZS4kJHBoYXNlKTtcbiAgICAgIH1cblxuICAgICAgJHJvb3RTY29wZS4kJHBoYXNlID0gcGhhc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJQaGFzZSgpIHtcbiAgICAgICRyb290U2NvcGUuJCRwaGFzZSA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5jcmVtZW50V2F0Y2hlcnNDb3VudChjdXJyZW50LCBjb3VudCkge1xuICAgICAgZG8ge1xuICAgICAgICBjdXJyZW50LiQkd2F0Y2hlcnNDb3VudCArPSBjb3VudDtcbiAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVjcmVtZW50TGlzdGVuZXJDb3VudChjdXJyZW50LCBjb3VudCwgbmFtZSkge1xuICAgICAgZG8ge1xuICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAtPSBjb3VudDtcblxuICAgICAgICBpZiAoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gPT09IDApIHtcbiAgICAgICAgICBkZWxldGUgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdXNlZCBhcyBhbiBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycy5cbiAgICAgKiBiZWNhdXNlIGl0J3MgdW5pcXVlIHdlIGNhbiBlYXNpbHkgdGVsbCBpdCBhcGFydCBmcm9tIG90aGVyIHZhbHVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRXYXRjaFZhbCgpIHt9XG5cbiAgICBmdW5jdGlvbiBmbHVzaEFwcGx5QXN5bmMoKSB7XG4gICAgICB3aGlsZSAoYXBwbHlBc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFwcGx5QXN5bmNRdWV1ZS5zaGlmdCgpKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXBwbHlBc3luY0lkID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUFwcGx5QXN5bmMoKSB7XG4gICAgICBpZiAoYXBwbHlBc3luY0lkID09PSBudWxsKSB7XG4gICAgICAgIGFwcGx5QXN5bmNJZCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZsdXNoQXBwbHlBc3luYyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBQcml2YXRlIHNlcnZpY2UgdG8gc2FuaXRpemUgdXJpcyBmb3IgbGlua3MgYW5kIGltYWdlcy4gVXNlZCBieSAkY29tcGlsZSBhbmQgJHNhbml0aXplLlxuICovXG5mdW5jdGlvbiAkJFNhbml0aXplVXJpUHJvdmlkZXIoKSB7XG4gIHZhciBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IC9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxcbiAgICBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSAvXlxccyooKGh0dHBzP3xmdHB8ZmlsZXxibG9iKTp8ZGF0YTppbWFnZVxcLykvO1xuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBhW2hyZWZdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBhW2hyZWZdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSByZWdleHA7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXG4gICAqIHVybHMgZHVyaW5nIGltZ1tzcmNdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gcmVnZXhwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNhbml0aXplVXJpKHVyaSwgaXNJbWFnZSkge1xuICAgICAgdmFyIHJlZ2V4ID0gaXNJbWFnZSA/IGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA6IGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xuICAgICAgdmFyIG5vcm1hbGl6ZWRWYWw7XG4gICAgICBub3JtYWxpemVkVmFsID0gdXJsUmVzb2x2ZSh1cmkpLmhyZWY7XG4gICAgICBpZiAobm9ybWFsaXplZFZhbCAhPT0gJycgJiYgIW5vcm1hbGl6ZWRWYWwubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgIHJldHVybiAndW5zYWZlOicgKyBub3JtYWxpemVkVmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVyaTtcbiAgICB9O1xuICB9O1xufVxuXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xuXG52YXIgJHNjZU1pbkVyciA9IG1pbkVycignJHNjZScpO1xuXG52YXIgU0NFX0NPTlRFWFRTID0ge1xuICBIVE1MOiAnaHRtbCcsXG4gIENTUzogJ2NzcycsXG4gIFVSTDogJ3VybCcsXG4gIC8vIFJFU09VUkNFX1VSTCBpcyBhIHN1YnR5cGUgb2YgVVJMIHVzZWQgaW4gY29udGV4dHMgd2hlcmUgYSBwcml2aWxlZ2VkIHJlc291cmNlIGlzIHNvdXJjZWQgZnJvbSBhXG4gIC8vIHVybC4gIChlLmcuIG5nLWluY2x1ZGUsIHNjcmlwdCBzcmMsIHRlbXBsYXRlVXJsKVxuICBSRVNPVVJDRV9VUkw6ICdyZXNvdXJjZVVybCcsXG4gIEpTOiAnanMnXG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvbGxvdy5cblxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSB7XG4gIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICByZXR1cm4gbWF0Y2hlcjtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhtYXRjaGVyKSkge1xuICAgIC8vIFN0cmluZ3MgbWF0Y2ggZXhhY3RseSBleGNlcHQgZm9yIDIgd2lsZGNhcmRzIC0gJyonIGFuZCAnKionLlxuICAgIC8vICcqJyBtYXRjaGVzIGFueSBjaGFyYWN0ZXIgZXhjZXB0IHRob3NlIGZyb20gdGhlIHNldCAnOi8uPyYnLlxuICAgIC8vICcqKicgbWF0Y2hlcyBhbnkgY2hhcmFjdGVyIChsaWtlIC4qIGluIGEgUmVnRXhwKS5cbiAgICAvLyBNb3JlIHRoYW4gMiAqJ3MgcmFpc2VzIGFuIGVycm9yIGFzIGl0J3MgaWxsIGRlZmluZWQuXG4gICAgaWYgKG1hdGNoZXIuaW5kZXhPZignKioqJykgPiAtMSkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycignaXdjYXJkJyxcbiAgICAgICAgICAnSWxsZWdhbCBzZXF1ZW5jZSAqKiogaW4gc3RyaW5nIG1hdGNoZXIuICBTdHJpbmc6IHswfScsIG1hdGNoZXIpO1xuICAgIH1cbiAgICBtYXRjaGVyID0gZXNjYXBlRm9yUmVnZXhwKG1hdGNoZXIpLlxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXCpcXFxcKicsICcuKicpLlxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXConLCAnW146Ly4/JjtdKicpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIG1hdGNoZXIgKyAnJCcpO1xuICB9IGVsc2UgaWYgKGlzUmVnRXhwKG1hdGNoZXIpKSB7XG4gICAgLy8gVGhlIG9ubHkgb3RoZXIgdHlwZSBvZiBtYXRjaGVyIGFsbG93ZWQgaXMgYSBSZWdleHAuXG4gICAgLy8gTWF0Y2ggZW50aXJlIFVSTCAvIGRpc2FsbG93IHBhcnRpYWwgbWF0Y2hlcy5cbiAgICAvLyBGbGFncyBhcmUgcmVzZXQgKGkuZS4gbm8gZ2xvYmFsLCBpZ25vcmVDYXNlIG9yIG11bHRpbGluZSlcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVyLnNvdXJjZSArICckJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgJHNjZU1pbkVycignaW1hdGNoZXInLFxuICAgICAgICAnTWF0Y2hlcnMgbWF5IG9ubHkgYmUgXCJzZWxmXCIsIHN0cmluZyBwYXR0ZXJucyBvciBSZWdFeHAgb2JqZWN0cycpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcnMobWF0Y2hlcnMpIHtcbiAgdmFyIGFkanVzdGVkTWF0Y2hlcnMgPSBbXTtcbiAgaWYgKGlzRGVmaW5lZChtYXRjaGVycykpIHtcbiAgICBmb3JFYWNoKG1hdGNoZXJzLCBmdW5jdGlvbihtYXRjaGVyKSB7XG4gICAgICBhZGp1c3RlZE1hdGNoZXJzLnB1c2goYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGFkanVzdGVkTWF0Y2hlcnM7XG59XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHNjZURlbGVnYXRlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIGAkc2NlRGVsZWdhdGVgIGlzIGEgc2VydmljZSB0aGF0IGlzIHVzZWQgYnkgdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIHByb3ZpZGUge0BsaW5rIG5nLiRzY2UgU3RyaWN0XG4gKiBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfSBzZXJ2aWNlcyB0byBBbmd1bGFySlMuXG4gKlxuICogVHlwaWNhbGx5LCB5b3Ugd291bGQgY29uZmlndXJlIG9yIG92ZXJyaWRlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlICRzY2VEZWxlZ2F0ZX0gaW5zdGVhZCBvZlxuICogdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIGN1c3RvbWl6ZSB0aGUgd2F5IFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHdvcmtzIGluIEFuZ3VsYXJKUy4gIFRoaXMgaXNcbiAqIGJlY2F1c2UsIHdoaWxlIHRoZSBgJHNjZWAgcHJvdmlkZXMgbnVtZXJvdXMgc2hvcnRoYW5kIG1ldGhvZHMsIGV0Yy4sIHlvdSByZWFsbHkgb25seSBuZWVkIHRvXG4gKiBvdmVycmlkZSAzIGNvcmUgZnVuY3Rpb25zIChgdHJ1c3RBc2AsIGBnZXRUcnVzdGVkYCBhbmQgYHZhbHVlT2ZgKSB0byByZXBsYWNlIHRoZSB3YXkgdGhpbmdzXG4gKiB3b3JrIGJlY2F1c2UgYCRzY2VgIGRlbGVnYXRlcyB0byBgJHNjZURlbGVnYXRlYCBmb3IgdGhlc2Ugb3BlcmF0aW9ucy5cbiAqXG4gKiBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IHRvIGNvbmZpZ3VyZSB0aGlzIHNlcnZpY2UuXG4gKlxuICogVGhlIGRlZmF1bHQgaW5zdGFuY2Ugb2YgYCRzY2VEZWxlZ2F0ZWAgc2hvdWxkIHdvcmsgb3V0IG9mIHRoZSBib3ggd2l0aCBsaXR0bGUgcGFpbi4gIFdoaWxlIHlvdVxuICogY2FuIG92ZXJyaWRlIGl0IGNvbXBsZXRlbHkgdG8gY2hhbmdlIHRoZSBiZWhhdmlvciBvZiBgJHNjZWAsIHRoZSBjb21tb24gY2FzZSB3b3VsZFxuICogaW52b2x2ZSBjb25maWd1cmluZyB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSBpbnN0ZWFkIGJ5IHNldHRpbmdcbiAqIHlvdXIgb3duIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgZm9yIHRydXN0aW5nIFVSTHMgdXNlZCBmb3IgbG9hZGluZyBBbmd1bGFySlMgcmVzb3VyY2VzIHN1Y2ggYXNcbiAqIHRlbXBsYXRlcy4gIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICogJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZCB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIGAkc2NlRGVsZWdhdGVQcm92aWRlcmAgcHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlXG4gKiAkc2NlRGVsZWdhdGV9IHNlcnZpY2UuICBUaGlzIGFsbG93cyBvbmUgdG8gZ2V0L3NldCB0aGUgd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyB1c2VkIHRvIGVuc3VyZVxuICogdGhhdCB0aGUgVVJMcyB1c2VkIGZvciBzb3VyY2luZyBBbmd1bGFyIHRlbXBsYXRlcyBhcmUgc2FmZS4gIFJlZmVyIHtAbGlua1xuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZFxuICoge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxuICpcbiAqIEZvciB0aGUgZ2VuZXJhbCBkZXRhaWxzIGFib3V0IHRoaXMgc2VydmljZSBpbiBBbmd1bGFyLCByZWFkIHRoZSBtYWluIHBhZ2UgZm9yIHtAbGluayBuZy4kc2NlXG4gKiBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogKipFeGFtcGxlKio6ICBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2UuIDxhIG5hbWU9XCJleGFtcGxlXCI+PC9hPlxuICpcbiAqIC0geW91ciBhcHAgaXMgaG9zdGVkIGF0IHVybCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2BcbiAqIC0gYnV0IHNvbWUgb2YgeW91ciB0ZW1wbGF0ZXMgYXJlIGhvc3RlZCBvbiBvdGhlciBkb21haW5zIHlvdSBjb250cm9sIHN1Y2ggYXNcbiAqICAgYGh0dHA6Ly9zcnYwMS5hc3NldHMuZXhhbXBsZS5jb20vYCzCoCBgaHR0cDovL3NydjAyLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBldGMuXG4gKiAtIGFuZCB5b3UgaGF2ZSBhbiBvcGVuIHJlZGlyZWN0IGF0IGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1Py4uLmAuXG4gKlxuICogSGVyZSBpcyB3aGF0IGEgc2VjdXJlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc2NlbmFyaW8gbWlnaHQgbG9vayBsaWtlOlxuICpcbiAqIGBgYFxuICogIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHtcbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFtcbiAqICAgICAgLy8gQWxsb3cgc2FtZSBvcmlnaW4gcmVzb3VyY2UgbG9hZHMuXG4gKiAgICAgICdzZWxmJyxcbiAqICAgICAgLy8gQWxsb3cgbG9hZGluZyBmcm9tIG91ciBhc3NldHMgZG9tYWluLiAgTm90aWNlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gKiBhbmQgKiouXG4gKiAgICAgICdodHRwOi8vc3J2Ki5hc3NldHMuZXhhbXBsZS5jb20vKionXG4gKiAgICBdKTtcbiAqXG4gKiAgICAvLyBUaGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0IHNvIHRoZSBvcGVuIHJlZGlyZWN0IGhlcmUgaXMgYmxvY2tlZC5cbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0KFtcbiAqICAgICAgJ2h0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9jbGlja1RocnUqKidcbiAqICAgIF0pO1xuICogIH0pO1xuICogYGBgXG4gKi9cblxuZnVuY3Rpb24gJFNjZURlbGVnYXRlUHJvdmlkZXIoKSB7XG4gIHRoaXMuU0NFX0NPTlRFWFRTID0gU0NFX0NPTlRFWFRTO1xuXG4gIC8vIFJlc291cmNlIFVSTHMgY2FuIGFsc28gYmUgdHJ1c3RlZCBieSBwb2xpY3kuXG4gIHZhciByZXNvdXJjZVVybFdoaXRlbGlzdCA9IFsnc2VsZiddLFxuICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBbXTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PX0gd2hpdGVsaXN0IFdoZW4gcHJvdmlkZWQsIHJlcGxhY2VzIHRoZSByZXNvdXJjZVVybFdoaXRlbGlzdCB3aXRoIHRoZSB2YWx1ZVxuICAgKiAgICAgcHJvdmlkZWQuICBUaGlzIG11c3QgYmUgYW4gYXJyYXkgb3IgbnVsbC4gIEEgc25hcHNob3Qgb2YgdGhpcyBhcnJheSBpcyB1c2VkIHNvIGZ1cnRoZXJcbiAgICogICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLlxuICAgKlxuICAgKiAgICAgRm9sbG93IHtAbGluayBuZy4kc2NlI3Jlc291cmNlVXJsUGF0dGVybkl0ZW0gdGhpcyBsaW5rfSBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaXRlbXNcbiAgICogICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS5cbiAgICpcbiAgICogICAgIE5vdGU6ICoqYW4gZW1wdHkgd2hpdGVsaXN0IGFycmF5IHdpbGwgYmxvY2sgYWxsIFVSTHMqKiFcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IHRoZSBjdXJyZW50bHkgc2V0IHdoaXRlbGlzdCBhcnJheS5cbiAgICpcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIGBbJ3NlbGYnXWAgYWxsb3dpbmcgb25seVxuICAgKiBzYW1lIG9yaWdpbiByZXNvdXJjZSByZXF1ZXN0cy5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMvR2V0cyB0aGUgd2hpdGVsaXN0IG9mIHRydXN0ZWQgcmVzb3VyY2UgVVJMcy5cbiAgICovXG4gIHRoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybFdoaXRlbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsV2hpdGVsaXN0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk9fSBibGFja2xpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsQmxhY2tsaXN0IHdpdGggdGhlIHZhbHVlXG4gICAqICAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlclxuICAgKiAgICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuXG4gICAqXG4gICAqICAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtc1xuICAgKiAgICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LlxuICAgKlxuICAgKiAgICAgVGhlIHR5cGljYWwgdXNhZ2UgZm9yIHRoZSBibGFja2xpc3QgaXMgdG8gKipibG9ja1xuICAgKiAgICAgW29wZW4gcmVkaXJlY3RzXShodHRwOi8vY3dlLm1pdHJlLm9yZy9kYXRhL2RlZmluaXRpb25zLzYwMS5odG1sKSoqIHNlcnZlZCBieSB5b3VyIGRvbWFpbiBhc1xuICAgKiAgICAgdGhlc2Ugd291bGQgb3RoZXJ3aXNlIGJlIHRydXN0ZWQgYnV0IGFjdHVhbGx5IHJldHVybiBjb250ZW50IGZyb20gdGhlIHJlZGlyZWN0ZWQgZG9tYWluLlxuICAgKlxuICAgKiAgICAgRmluYWxseSwgKip0aGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0KiogYW5kIGhhcyB0aGUgZmluYWwgc2F5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIGN1cnJlbnRseSBzZXQgYmxhY2tsaXN0IGFycmF5LlxuICAgKlxuICAgKiBUaGUgKipkZWZhdWx0IHZhbHVlKiogd2hlbiBubyB3aGl0ZWxpc3QgaGFzIGJlZW4gZXhwbGljaXRseSBzZXQgaXMgdGhlIGVtcHR5IGFycmF5IChpLmUuIHRoZXJlXG4gICAqIGlzIG5vIGJsYWNrbGlzdC4pXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzL0dldHMgdGhlIGJsYWNrbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuXG4gICAqL1xuXG4gIHRoaXMucmVzb3VyY2VVcmxCbGFja2xpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybEJsYWNrbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsQmxhY2tsaXN0O1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG5cbiAgICB2YXIgaHRtbFNhbml0aXplciA9IGZ1bmN0aW9uIGh0bWxTYW5pdGl6ZXIoaHRtbCkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTtcbiAgICB9O1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XG4gICAgICBodG1sU2FuaXRpemVyID0gJGluamVjdG9yLmdldCgnJHNhbml0aXplJyk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLCBwYXJzZWRVcmwpIHtcbiAgICAgIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICAgICAgcmV0dXJuIHVybElzU2FtZU9yaWdpbihwYXJzZWRVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVmaW5pdGVseSBhIHJlZ2V4LiAgU2VlIGFkanVzdE1hdGNoZXJzKClcbiAgICAgICAgcmV0dXJuICEhbWF0Y2hlci5leGVjKHBhcnNlZFVybC5ocmVmKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KHVybCkge1xuICAgICAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpO1xuICAgICAgdmFyIGksIG4sIGFsbG93ZWQgPSBmYWxzZTtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGF0IGxlYXN0IG9uZSBpdGVtIGZyb20gdGhlIHdoaXRlbGlzdCBhbGxvd3MgdGhpcyB1cmwuXG4gICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxXaGl0ZWxpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGlmIChtYXRjaFVybChyZXNvdXJjZVVybFdoaXRlbGlzdFtpXSwgcGFyc2VkVXJsKSkge1xuICAgICAgICAgIGFsbG93ZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCBubyBpdGVtIGZyb20gdGhlIGJsYWNrbGlzdCBibG9ja2VkIHRoaXMgdXJsLlxuICAgICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxCbGFja2xpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsQmxhY2tsaXN0W2ldLCBwYXJzZWRVcmwpKSB7XG4gICAgICAgICAgICBhbGxvd2VkID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhbGxvd2VkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlSG9sZGVyVHlwZShCYXNlKSB7XG4gICAgICB2YXIgaG9sZGVyVHlwZSA9IGZ1bmN0aW9uIFRydXN0ZWRWYWx1ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1c3RlZFZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIGlmIChCYXNlKSB7XG4gICAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlID0gbmV3IEJhc2UoKTtcbiAgICAgIH1cbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiBzY2VWYWx1ZU9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfTtcbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gc2NlVG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaG9sZGVyVHlwZTtcbiAgICB9XG5cbiAgICB2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSA9IGdlbmVyYXRlSG9sZGVyVHlwZSgpLFxuICAgICAgICBieVR5cGUgPSB7fTtcblxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5DU1NdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuVVJMXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkpTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUoYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdHJ1c3RBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBpcyB0cnVzdGVkIGJ5IGFuZ3VsYXIgZm9yIHVzZSBpbiBzcGVjaWZpZWQgc3RyaWN0XG4gICAgICogY29udGV4dHVhbCBlc2NhcGluZyBjb250ZXh0cyAoc3VjaCBhcyBuZy1iaW5kLWh0bWwsIG5nLWluY2x1ZGUsIGFueSBzcmNcbiAgICAgKiBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiwgYW55IGRvbSBldmVudCBiaW5kaW5nIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uXG4gICAgICogc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pIHRoYXQgdXNlcyB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICogU2VlIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbCBlc2NhcGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyBzYWZlIGZvciB1c2UuICBlLmcuIHVybCxcbiAgICAgKiAgIHJlc291cmNlVXJsLCBodG1sLCBqcyBhbmQgY3NzLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuXG4gICAgICogQHJldHVybnMgeyp9IEEgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB0byBzdGFuZCBpbiBmb3IgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaW4gcGxhY2VzXG4gICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydXN0QXModHlwZSwgdHJ1c3RlZFZhbHVlKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICBpZiAoIUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2ljb250ZXh0JyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSB2YWx1ZSBpbiBpbnZhbGlkIGNvbnRleHQuIENvbnRleHQ6IHswfTsgVmFsdWU6IHsxfScsXG4gICAgICAgICAgICB0eXBlLCB0cnVzdGVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHRydXN0ZWRWYWx1ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh0cnVzdGVkVmFsdWUpIHx8IHRydXN0ZWRWYWx1ZSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIEFsbCB0aGUgY3VycmVudCBjb250ZXh0cyBpbiBTQ0VfQ09OVEVYVFMgaGFwcGVuIHRvIGJlIHN0cmluZ3MuICBJbiBvcmRlciB0byBhdm9pZCB0cnVzdGluZ1xuICAgICAgLy8gbXV0YWJsZSBvYmplY3RzLCB3ZSBlbnN1cmUgaGVyZSB0aGF0IHRoZSB2YWx1ZSBwYXNzZWQgaW4gaXMgYWN0dWFsbHkgYSBzdHJpbmcuXG4gICAgICBpZiAodHlwZW9mIHRydXN0ZWRWYWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaXR5cGUnLFxuICAgICAgICAgICAgJ0F0dGVtcHRlZCB0byB0cnVzdCBhIG5vbi1zdHJpbmcgdmFsdWUgaW4gYSBjb250ZW50IHJlcXVpcmluZyBhIHN0cmluZzogQ29udGV4dDogezB9JyxcbiAgICAgICAgICAgIHR5cGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0cnVzdGVkVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdmFsdWVPZlxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSWYgdGhlIHBhc3NlZCBwYXJhbWV0ZXIgaGFkIGJlZW4gcmV0dXJuZWQgYnkgYSBwcmlvciBjYWxsIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBc1xuICAgICAqIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIHRoZSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHBhc3NlZCB0byB7QGxpbmtcbiAgICAgKiBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfS5cbiAgICAgKlxuICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGlzIG5vdCBhIHZhbHVlIHRoYXQgaGFkIGJlZW4gcmV0dXJuZWQgYnkge0BsaW5rXG4gICAgICogbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0sIHJldHVybnMgaXQgYXMtaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH1cbiAgICAgKiAgICAgIGNhbGwgb3IgYW55dGhpbmcgZWxzZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIGB2YWx1ZWAgdGhhdCB3YXMgb3JpZ2luYWxseSBwcm92aWRlZCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKiAgICAgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gaWYgYHZhbHVlYCBpcyB0aGUgcmVzdWx0IG9mIHN1Y2ggYSBjYWxsLiAgT3RoZXJ3aXNlLCByZXR1cm5zXG4gICAgICogICAgIGB2YWx1ZWAgdW5jaGFuZ2VkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlT2YobWF5YmVUcnVzdGVkKSB7XG4gICAgICBpZiAobWF5YmVUcnVzdGVkIGluc3RhbmNlb2YgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSkge1xuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGFrZXMgdGhlIHJlc3VsdCBvZiBhIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSBjYWxsIGFuZFxuICAgICAqIHJldHVybnMgdGhlIG9yaWdpbmFsbHkgc3VwcGxpZWQgdmFsdWUgaWYgdGhlIHF1ZXJpZWQgY29udGV4dCB0eXBlIGlzIGEgc3VwZXJ0eXBlIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgdHlwZS4gIElmIHRoaXMgY29uZGl0aW9uIGlzbid0IHNhdGlzZmllZCwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyB0byBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7Kn0gbWF5YmVUcnVzdGVkIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKiAgICAgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gY2FsbC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoZSB3YXMgb3JpZ2luYWxseSBwcm92aWRlZCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKiAgICAgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gaWYgdmFsaWQgaW4gdGhpcyBjb250ZXh0LiAgT3RoZXJ3aXNlLCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFRydXN0ZWQodHlwZSwgbWF5YmVUcnVzdGVkKSB7XG4gICAgICBpZiAobWF5YmVUcnVzdGVkID09PSBudWxsIHx8IGlzVW5kZWZpbmVkKG1heWJlVHJ1c3RlZCkgfHwgbWF5YmVUcnVzdGVkID09PSAnJykge1xuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnN0cnVjdG9yID0gKGJ5VHlwZS5oYXNPd25Qcm9wZXJ0eSh0eXBlKSA/IGJ5VHlwZVt0eXBlXSA6IG51bGwpO1xuICAgICAgaWYgKGNvbnN0cnVjdG9yICYmIG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIC8vIElmIHdlIGdldCBoZXJlLCB0aGVuIHdlIG1heSBvbmx5IHRha2Ugb25lIG9mIHR3byBhY3Rpb25zLlxuICAgICAgLy8gMS4gc2FuaXRpemUgdGhlIHZhbHVlIGZvciB0aGUgcmVxdWVzdGVkIHR5cGUsIG9yXG4gICAgICAvLyAyLiB0aHJvdyBhbiBleGNlcHRpb24uXG4gICAgICBpZiAodHlwZSA9PT0gU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTCkge1xuICAgICAgICBpZiAoaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeShtYXliZVRydXN0ZWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyAkc2NlTWluRXJyKCdpbnNlY3VybCcsXG4gICAgICAgICAgICAgICdCbG9ja2VkIGxvYWRpbmcgcmVzb3VyY2UgZnJvbSB1cmwgbm90IGFsbG93ZWQgYnkgJHNjZURlbGVnYXRlIHBvbGljeS4gIFVSTDogezB9JyxcbiAgICAgICAgICAgICAgbWF5YmVUcnVzdGVkLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFNDRV9DT05URVhUUy5IVE1MKSB7XG4gICAgICAgIHJldHVybiBodG1sU2FuaXRpemVyKG1heWJlVHJ1c3RlZCk7XG4gICAgICB9XG4gICAgICB0aHJvdyAkc2NlTWluRXJyKCd1bnNhZmUnLCAnQXR0ZW1wdGluZyB0byB1c2UgYW4gdW5zYWZlIHZhbHVlIGluIGEgc2FmZSBjb250ZXh0LicpO1xuICAgIH1cblxuICAgIHJldHVybiB7IHRydXN0QXM6IHRydXN0QXMsXG4gICAgICAgICAgICAgZ2V0VHJ1c3RlZDogZ2V0VHJ1c3RlZCxcbiAgICAgICAgICAgICB2YWx1ZU9mOiB2YWx1ZU9mIH07XG4gIH1dO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkc2NlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSAkc2NlUHJvdmlkZXIgcHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgbmcuJHNjZSAkc2NlfSBzZXJ2aWNlLlxuICogLSAgIGVuYWJsZS9kaXNhYmxlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpIGluIGEgbW9kdWxlXG4gKiAtICAgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gd2l0aCBhIGN1c3RvbSBkZWxlZ2F0ZVxuICpcbiAqIFJlYWQgbW9yZSBhYm91dCB7QGxpbmsgbmcuJHNjZSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKi9cblxuLyoganNoaW50IG1heGxlbjogZmFsc2UqL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkc2NlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIGAkc2NlYCBpcyBhIHNlcnZpY2UgdGhhdCBwcm92aWRlcyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBzZXJ2aWNlcyB0byBBbmd1bGFySlMuXG4gKlxuICogIyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZ1xuICpcbiAqIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpIGlzIGEgbW9kZSBpbiB3aGljaCBBbmd1bGFySlMgcmVxdWlyZXMgYmluZGluZ3MgaW4gY2VydGFpblxuICogY29udGV4dHMgdG8gcmVzdWx0IGluIGEgdmFsdWUgdGhhdCBpcyBtYXJrZWQgYXMgc2FmZSB0byB1c2UgZm9yIHRoYXQgY29udGV4dC4gIE9uZSBleGFtcGxlIG9mXG4gKiBzdWNoIGEgY29udGV4dCBpcyBiaW5kaW5nIGFyYml0cmFyeSBodG1sIGNvbnRyb2xsZWQgYnkgdGhlIHVzZXIgdmlhIGBuZy1iaW5kLWh0bWxgLiAgV2UgcmVmZXJcbiAqIHRvIHRoZXNlIGNvbnRleHRzIGFzIHByaXZpbGVnZWQgb3IgU0NFIGNvbnRleHRzLlxuICpcbiAqIEFzIG9mIHZlcnNpb24gMS4yLCBBbmd1bGFyIHNoaXBzIHdpdGggU0NFIGVuYWJsZWQgYnkgZGVmYXVsdC5cbiAqXG4gKiBOb3RlOiAgV2hlbiBlbmFibGVkICh0aGUgZGVmYXVsdCksIElFPDExIGluIHF1aXJrcyBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQuICBJbiB0aGlzIG1vZGUsIElFPDExIGFsbG93XG4gKiBvbmUgdG8gZXhlY3V0ZSBhcmJpdHJhcnkgamF2YXNjcmlwdCBieSB0aGUgdXNlIG9mIHRoZSBleHByZXNzaW9uKCkgc3ludGF4LiAgUmVmZXJcbiAqIDxodHRwOi8vYmxvZ3MubXNkbi5jb20vYi9pZS9hcmNoaXZlLzIwMDgvMTAvMTYvZW5kaW5nLWV4cHJlc3Npb25zLmFzcHg+IHRvIGxlYXJuIG1vcmUgYWJvdXQgdGhlbS5cbiAqIFlvdSBjYW4gZW5zdXJlIHlvdXIgZG9jdW1lbnQgaXMgaW4gc3RhbmRhcmRzIG1vZGUgYW5kIG5vdCBxdWlya3MgbW9kZSBieSBhZGRpbmcgYDwhZG9jdHlwZSBodG1sPmBcbiAqIHRvIHRoZSB0b3Agb2YgeW91ciBIVE1MIGRvY3VtZW50LlxuICpcbiAqIFNDRSBhc3Npc3RzIGluIHdyaXRpbmcgY29kZSBpbiB3YXkgdGhhdCAoYSkgaXMgc2VjdXJlIGJ5IGRlZmF1bHQgYW5kIChiKSBtYWtlcyBhdWRpdGluZyBmb3JcbiAqIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcyBzdWNoIGFzIFhTUywgY2xpY2tqYWNraW5nLCBldGMuIGEgbG90IGVhc2llci5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiBhIGJpbmRpbmcgaW4gYSBwcml2aWxlZ2VkIGNvbnRleHQ6XG4gKlxuICogYGBgXG4gKiA8aW5wdXQgbmctbW9kZWw9XCJ1c2VySHRtbFwiIGFyaWEtbGFiZWw9XCJVc2VyIGlucHV0XCI+XG4gKiA8ZGl2IG5nLWJpbmQtaHRtbD1cInVzZXJIdG1sXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCBgbmctYmluZC1odG1sYCBpcyBib3VuZCB0byBgdXNlckh0bWxgIGNvbnRyb2xsZWQgYnkgdGhlIHVzZXIuICBXaXRoIFNDRVxuICogZGlzYWJsZWQsIHRoaXMgYXBwbGljYXRpb24gYWxsb3dzIHRoZSB1c2VyIHRvIHJlbmRlciBhcmJpdHJhcnkgSFRNTCBpbnRvIHRoZSBESVYuXG4gKiBJbiBhIG1vcmUgcmVhbGlzdGljIGV4YW1wbGUsIG9uZSBtYXkgYmUgcmVuZGVyaW5nIHVzZXIgY29tbWVudHMsIGJsb2cgYXJ0aWNsZXMsIGV0Yy4gdmlhXG4gKiBiaW5kaW5ncy4gIChIVE1MIGlzIGp1c3Qgb25lIGV4YW1wbGUgb2YgYSBjb250ZXh0IHdoZXJlIHJlbmRlcmluZyB1c2VyIGNvbnRyb2xsZWQgaW5wdXQgY3JlYXRlc1xuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLilcbiAqXG4gKiBGb3IgdGhlIGNhc2Ugb2YgSFRNTCwgeW91IG1pZ2h0IHVzZSBhIGxpYnJhcnksIGVpdGhlciBvbiB0aGUgY2xpZW50IHNpZGUsIG9yIG9uIHRoZSBzZXJ2ZXIgc2lkZSxcbiAqIHRvIHNhbml0aXplIHVuc2FmZSBIVE1MIGJlZm9yZSBiaW5kaW5nIHRvIHRoZSB2YWx1ZSBhbmQgcmVuZGVyaW5nIGl0IGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBIb3cgd291bGQgeW91IGVuc3VyZSB0aGF0IGV2ZXJ5IHBsYWNlIHRoYXQgdXNlZCB0aGVzZSB0eXBlcyBvZiBiaW5kaW5ncyB3YXMgYm91bmQgdG8gYSB2YWx1ZSB0aGF0XG4gKiB3YXMgc2FuaXRpemVkIGJ5IHlvdXIgbGlicmFyeSAob3IgcmV0dXJuZWQgYXMgc2FmZSBmb3IgcmVuZGVyaW5nIGJ5IHlvdXIgc2VydmVyPykgIEhvdyBjYW4geW91XG4gKiBlbnN1cmUgdGhhdCB5b3UgZGlkbid0IGFjY2lkZW50YWxseSBkZWxldGUgdGhlIGxpbmUgdGhhdCBzYW5pdGl6ZWQgdGhlIHZhbHVlLCBvciByZW5hbWVkIHNvbWVcbiAqIHByb3BlcnRpZXMvZmllbGRzIGFuZCBmb3Jnb3QgdG8gdXBkYXRlIHRoZSBiaW5kaW5nIHRvIHRoZSBzYW5pdGl6ZWQgdmFsdWU/XG4gKlxuICogVG8gYmUgc2VjdXJlIGJ5IGRlZmF1bHQsIHlvdSB3YW50IHRvIGVuc3VyZSB0aGF0IGFueSBzdWNoIGJpbmRpbmdzIGFyZSBkaXNhbGxvd2VkIHVubGVzcyB5b3UgY2FuXG4gKiBkZXRlcm1pbmUgdGhhdCBzb21ldGhpbmcgZXhwbGljaXRseSBzYXlzIGl0J3Mgc2FmZSB0byB1c2UgYSB2YWx1ZSBmb3IgYmluZGluZyBpbiB0aGF0XG4gKiBjb250ZXh0LiAgWW91IGNhbiB0aGVuIGF1ZGl0IHlvdXIgY29kZSAoYSBzaW1wbGUgZ3JlcCB3b3VsZCBkbykgdG8gZW5zdXJlIHRoYXQgdGhpcyBpcyBvbmx5IGRvbmVcbiAqIGZvciB0aG9zZSB2YWx1ZXMgdGhhdCB5b3UgY2FuIGVhc2lseSB0ZWxsIGFyZSBzYWZlIC0gYmVjYXVzZSB0aGV5IHdlcmUgcmVjZWl2ZWQgZnJvbSB5b3VyIHNlcnZlcixcbiAqIHNhbml0aXplZCBieSB5b3VyIGxpYnJhcnksIGV0Yy4gIFlvdSBjYW4gb3JnYW5pemUgeW91ciBjb2RlYmFzZSB0byBoZWxwIHdpdGggdGhpcyAtIHBlcmhhcHNcbiAqIGFsbG93aW5nIG9ubHkgdGhlIGZpbGVzIGluIGEgc3BlY2lmaWMgZGlyZWN0b3J5IHRvIGRvIHRoaXMuICBFbnN1cmluZyB0aGF0IHRoZSBpbnRlcm5hbCBBUElcbiAqIGV4cG9zZWQgYnkgdGhhdCBjb2RlIGRvZXNuJ3QgbWFya3VwIGFyYml0cmFyeSB2YWx1ZXMgYXMgc2FmZSB0aGVuIGJlY29tZXMgYSBtb3JlIG1hbmFnZWFibGUgdGFzay5cbiAqXG4gKiBJbiB0aGUgY2FzZSBvZiBBbmd1bGFySlMnIFNDRSBzZXJ2aWNlLCBvbmUgdXNlcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc31cbiAqIChhbmQgc2hvcnRoYW5kIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzSHRtbCAkc2NlLnRydXN0QXNIdG1sfSwgZXRjLikgdG9cbiAqIG9idGFpbiB2YWx1ZXMgdGhhdCB3aWxsIGJlIGFjY2VwdGVkIGJ5IFNDRSAvIHByaXZpbGVnZWQgY29udGV4dHMuXG4gKlxuICpcbiAqICMjIEhvdyBkb2VzIGl0IHdvcms/XG4gKlxuICogSW4gcHJpdmlsZWdlZCBjb250ZXh0cywgZGlyZWN0aXZlcyBhbmQgY29kZSB3aWxsIGJpbmQgdG8gdGhlIHJlc3VsdCBvZiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkXG4gKiAkc2NlLmdldFRydXN0ZWQoY29udGV4dCwgdmFsdWUpfSByYXRoZXIgdGhhbiB0byB0aGUgdmFsdWUgZGlyZWN0bHkuICBEaXJlY3RpdmVzIHVzZSB7QGxpbmtcbiAqIG5nLiRzY2UjcGFyc2VBcyAkc2NlLnBhcnNlQXN9IHJhdGhlciB0aGFuIGAkcGFyc2VgIHRvIHdhdGNoIGF0dHJpYnV0ZSBiaW5kaW5ncywgd2hpY2ggcGVyZm9ybXMgdGhlXG4gKiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0gYmVoaW5kIHRoZSBzY2VuZXMgb24gbm9uLWNvbnN0YW50IGxpdGVyYWxzLlxuICpcbiAqIEFzIGFuIGV4YW1wbGUsIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSB1c2VzIHtAbGlua1xuICogbmcuJHNjZSNwYXJzZUFzSHRtbCAkc2NlLnBhcnNlQXNIdG1sKGJpbmRpbmcgZXhwcmVzc2lvbil9LiAgSGVyZSdzIHRoZSBhY3R1YWwgY29kZSAoc2xpZ2h0bHlcbiAqIHNpbXBsaWZpZWQpOlxuICpcbiAqIGBgYFxuICogdmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG4gKiAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICogICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNIdG1sKGF0dHIubmdCaW5kSHRtbCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gKiAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xuICogICAgIH0pO1xuICogICB9O1xuICogfV07XG4gKiBgYGBcbiAqXG4gKiAjIyBJbXBhY3Qgb24gbG9hZGluZyB0ZW1wbGF0ZXNcbiAqXG4gKiBUaGlzIGFwcGxpZXMgYm90aCB0byB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUgYG5nLWluY2x1ZGVgfSBkaXJlY3RpdmUgYXMgd2VsbCBhc1xuICogYHRlbXBsYXRlVXJsYCdzIHNwZWNpZmllZCBieSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxuICpcbiAqIEJ5IGRlZmF1bHQsIEFuZ3VsYXIgb25seSBsb2FkcyB0ZW1wbGF0ZXMgZnJvbSB0aGUgc2FtZSBkb21haW4gYW5kIHByb3RvY29sIGFzIHRoZSBhcHBsaWNhdGlvblxuICogZG9jdW1lbnQuICBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiB0aGUgdGVtcGxhdGUgVVJMLiAgVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIGFuZC9vclxuICogcHJvdG9jb2xzLCB5b3UgbWF5IGVpdGhlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2hpdGVsaXN0XG4gKiB0aGVtfSBvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmwgd3JhcCBpdH0gaW50byBhIHRydXN0ZWQgdmFsdWUuXG4gKlxuICogKlBsZWFzZSBub3RlKjpcbiAqIFRoZSBicm93c2VyJ3NcbiAqIFtTYW1lIE9yaWdpbiBQb2xpY3ldKGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvYnJvd3NlcnNlYy93aWtpL1BhcnQyI1NhbWUtb3JpZ2luX3BvbGljeV9mb3JfWE1MSHR0cFJlcXVlc3QpXG4gKiBhbmQgW0Nyb3NzLU9yaWdpbiBSZXNvdXJjZSBTaGFyaW5nIChDT1JTKV0oaHR0cDovL3d3dy53My5vcmcvVFIvY29ycy8pXG4gKiBwb2xpY3kgYXBwbHkgaW4gYWRkaXRpb24gdG8gdGhpcyBhbmQgbWF5IGZ1cnRoZXIgcmVzdHJpY3Qgd2hldGhlciB0aGUgdGVtcGxhdGUgaXMgc3VjY2Vzc2Z1bGx5XG4gKiBsb2FkZWQuICBUaGlzIG1lYW5zIHRoYXQgd2l0aG91dCB0aGUgcmlnaHQgQ09SUyBwb2xpY3ksIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYSBkaWZmZXJlbnQgZG9tYWluXG4gKiB3b24ndCB3b3JrIG9uIGFsbCBicm93c2Vycy4gIEFsc28sIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYGZpbGU6Ly9gIFVSTCBkb2VzIG5vdCB3b3JrIG9uIHNvbWVcbiAqIGJyb3dzZXJzLlxuICpcbiAqICMjIFRoaXMgZmVlbHMgbGlrZSB0b28gbXVjaCBvdmVyaGVhZFxuICpcbiAqIEl0J3MgaW1wb3J0YW50IHRvIHJlbWVtYmVyIHRoYXQgU0NFIG9ubHkgYXBwbGllcyB0byBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb25zLlxuICpcbiAqIElmIHlvdXIgZXhwcmVzc2lvbnMgYXJlIGNvbnN0YW50IGxpdGVyYWxzLCB0aGV5J3JlIGF1dG9tYXRpY2FsbHkgdHJ1c3RlZCBhbmQgeW91IGRvbid0IG5lZWQgdG9cbiAqIGNhbGwgYCRzY2UudHJ1c3RBc2Agb24gdGhlbSAocmVtZW1iZXIgdG8gaW5jbHVkZSB0aGUgYG5nU2FuaXRpemVgIG1vZHVsZSkgKGUuZy5cbiAqIGA8ZGl2IG5nLWJpbmQtaHRtbD1cIic8Yj5pbXBsaWNpdGx5IHRydXN0ZWQ8L2I+J1wiPjwvZGl2PmApIGp1c3Qgd29ya3MuXG4gKlxuICogQWRkaXRpb25hbGx5LCBgYVtocmVmXWAgYW5kIGBpbWdbc3JjXWAgYXV0b21hdGljYWxseSBzYW5pdGl6ZSB0aGVpciBVUkxzIGFuZCBkbyBub3QgcGFzcyB0aGVtXG4gKiB0aHJvdWdoIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkfS4gIFNDRSBkb2Vzbid0IHBsYXkgYSByb2xlIGhlcmUuXG4gKlxuICogVGhlIGluY2x1ZGVkIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBjb21lcyB3aXRoIHNhbmUgZGVmYXVsdHMgdG8gYWxsb3cgeW91IHRvIGxvYWRcbiAqIHRlbXBsYXRlcyBpbiBgbmctaW5jbHVkZWAgZnJvbSB5b3VyIGFwcGxpY2F0aW9uJ3MgZG9tYWluIHdpdGhvdXQgaGF2aW5nIHRvIGV2ZW4ga25vdyBhYm91dCBTQ0UuXG4gKiBJdCBibG9ja3MgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIG9yIGxvYWRpbmcgdGVtcGxhdGVzIG92ZXIgaHR0cCBmcm9tIGFuIGh0dHBzXG4gKiBzZXJ2ZWQgZG9jdW1lbnQuICBZb3UgY2FuIGNoYW5nZSB0aGVzZSBieSBzZXR0aW5nIHlvdXIgb3duIGN1c3RvbSB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdHN9IGFuZCB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0IGJsYWNrbGlzdHN9IGZvciBtYXRjaGluZyBzdWNoIFVSTHMuXG4gKlxuICogVGhpcyBzaWduaWZpY2FudGx5IHJlZHVjZXMgdGhlIG92ZXJoZWFkLiAgSXQgaXMgZmFyIGVhc2llciB0byBwYXkgdGhlIHNtYWxsIG92ZXJoZWFkIGFuZCBoYXZlIGFuXG4gKiBhcHBsaWNhdGlvbiB0aGF0J3Mgc2VjdXJlIGFuZCBjYW4gYmUgYXVkaXRlZCB0byB2ZXJpZnkgdGhhdCB3aXRoIG11Y2ggbW9yZSBlYXNlIHRoYW4gYm9sdGluZ1xuICogc2VjdXJpdHkgb250byBhbiBhcHBsaWNhdGlvbiBsYXRlci5cbiAqXG4gKiA8YSBuYW1lPVwiY29udGV4dHNcIj48L2E+XG4gKiAjIyBXaGF0IHRydXN0ZWQgY29udGV4dCB0eXBlcyBhcmUgc3VwcG9ydGVkP1xuICpcbiAqIHwgQ29udGV4dCAgICAgICAgICAgICB8IE5vdGVzICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgYCRzY2UuSFRNTGAgICAgICAgICB8IEZvciBIVE1MIHRoYXQncyBzYWZlIHRvIHNvdXJjZSBpbnRvIHRoZSBhcHBsaWNhdGlvbi4gIFRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQmluZEh0bWwgbmdCaW5kSHRtbH0gZGlyZWN0aXZlIHVzZXMgdGhpcyBjb250ZXh0IGZvciBiaW5kaW5ncy4gSWYgYW4gdW5zYWZlIHZhbHVlIGlzIGVuY291bnRlcmVkIGFuZCB0aGUge0BsaW5rIG5nU2FuaXRpemUgJHNhbml0aXplfSBtb2R1bGUgaXMgcHJlc2VudCB0aGlzIHdpbGwgc2FuaXRpemUgdGhlIHZhbHVlIGluc3RlYWQgb2YgdGhyb3dpbmcgYW4gZXJyb3IuIHxcbiAqIHwgYCRzY2UuQ1NTYCAgICAgICAgICB8IEZvciBDU1MgdGhhdCdzIHNhZmUgdG8gc291cmNlIGludG8gdGhlIGFwcGxpY2F0aW9uLiAgQ3VycmVudGx5IHVudXNlZC4gIEZlZWwgZnJlZSB0byB1c2UgaXQgaW4geW91ciBvd24gZGlyZWN0aXZlcy4gfFxuICogfCBgJHNjZS5VUkxgICAgICAgICAgIHwgRm9yIFVSTHMgdGhhdCBhcmUgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MuICBDdXJyZW50bHkgdW51c2VkIChgPGEgaHJlZj1gIGFuZCBgPGltZyBzcmM9YCBzYW5pdGl6ZSB0aGVpciB1cmxzIGFuZCBkb24ndCBjb25zdGl0dXRlIGFuIFNDRSBjb250ZXh0LiB8XG4gKiB8IGAkc2NlLlJFU09VUkNFX1VSTGAgfCBGb3IgVVJMcyB0aGF0IGFyZSBub3Qgb25seSBzYWZlIHRvIGZvbGxvdyBhcyBsaW5rcywgYnV0IHdob3NlIGNvbnRlbnRzIGFyZSBhbHNvIHNhZmUgdG8gaW5jbHVkZSBpbiB5b3VyIGFwcGxpY2F0aW9uLiAgRXhhbXBsZXMgaW5jbHVkZSBgbmctaW5jbHVkZWAsIGBzcmNgIC8gYG5nU3JjYCBiaW5kaW5ncyBmb3IgdGFncyBvdGhlciB0aGFuIGBJTUdgIChlLmcuIGBJRlJBTUVgLCBgT0JKRUNUYCwgZXRjLikgIDxicj48YnI+Tm90ZSB0aGF0IGAkc2NlLlJFU09VUkNFX1VSTGAgbWFrZXMgYSBzdHJvbmdlciBzdGF0ZW1lbnQgYWJvdXQgdGhlIFVSTCB0aGFuIGAkc2NlLlVSTGAgZG9lcyBhbmQgdGhlcmVmb3JlIGNvbnRleHRzIHJlcXVpcmluZyB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuUkVTT1VSQ0VfVVJMYCBjYW4gYmUgdXNlZCBhbnl3aGVyZSB0aGF0IHZhbHVlcyB0cnVzdGVkIGZvciBgJHNjZS5VUkxgIGFyZSByZXF1aXJlZC4gfFxuICogfCBgJHNjZS5KU2AgICAgICAgICAgIHwgRm9yIEphdmFTY3JpcHQgdGhhdCBpcyBzYWZlIHRvIGV4ZWN1dGUgaW4geW91ciBhcHBsaWNhdGlvbidzIGNvbnRleHQuICBDdXJyZW50bHkgdW51c2VkLiAgRmVlbCBmcmVlIHRvIHVzZSBpdCBpbiB5b3VyIG93biBkaXJlY3RpdmVzLiB8XG4gKlxuICogIyMgRm9ybWF0IG9mIGl0ZW1zIGluIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCByZXNvdXJjZVVybFdoaXRlbGlzdH0ve0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0IEJsYWNrbGlzdH0gPGEgbmFtZT1cInJlc291cmNlVXJsUGF0dGVybkl0ZW1cIj48L2E+XG4gKlxuICogIEVhY2ggZWxlbWVudCBpbiB0aGVzZSBhcnJheXMgbXVzdCBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAgLSAqKidzZWxmJyoqXG4gKiAgICAtIFRoZSBzcGVjaWFsICoqc3RyaW5nKiosIGAnc2VsZidgLCBjYW4gYmUgdXNlZCB0byBtYXRjaCBhZ2FpbnN0IGFsbCBVUkxzIG9mIHRoZSAqKnNhbWVcbiAqICAgICAgZG9tYWluKiogYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50IHVzaW5nIHRoZSAqKnNhbWUgcHJvdG9jb2wqKi5cbiAqICAtICoqU3RyaW5nKiogKGV4Y2VwdCB0aGUgc3BlY2lhbCB2YWx1ZSBgJ3NlbGYnYClcbiAqICAgIC0gVGhlIHN0cmluZyBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGZ1bGwgKm5vcm1hbGl6ZWQgLyBhYnNvbHV0ZSBVUkwqIG9mIHRoZSByZXNvdXJjZVxuICogICAgICBiZWluZyB0ZXN0ZWQgKHN1YnN0cmluZyBtYXRjaGVzIGFyZSBub3QgZ29vZCBlbm91Z2guKVxuICogICAgLSBUaGVyZSBhcmUgZXhhY3RseSAqKnR3byB3aWxkY2FyZCBzZXF1ZW5jZXMqKiAtIGAqYCBhbmQgYCoqYC4gIEFsbCBvdGhlciBjaGFyYWN0ZXJzXG4gKiAgICAgIG1hdGNoIHRoZW1zZWx2ZXMuXG4gKiAgICAtIGAqYDogbWF0Y2hlcyB6ZXJvIG9yIG1vcmUgb2NjdXJyZW5jZXMgb2YgYW55IGNoYXJhY3RlciBvdGhlciB0aGFuIG9uZSBvZiB0aGUgZm9sbG93aW5nIDZcbiAqICAgICAgY2hhcmFjdGVyczogJ2A6YCcsICdgL2AnLCAnYC5gJywgJ2A/YCcsICdgJmAnIGFuZCAnYDtgJy4gIEl0J3MgYSB1c2VmdWwgd2lsZGNhcmQgZm9yIHVzZVxuICogICAgICBpbiBhIHdoaXRlbGlzdC5cbiAqICAgIC0gYCoqYDogbWF0Y2hlcyB6ZXJvIG9yIG1vcmUgb2NjdXJyZW5jZXMgb2YgKmFueSogY2hhcmFjdGVyLiAgQXMgc3VjaCwgaXQncyBub3RcbiAqICAgICAgYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBhIHNjaGVtZSwgZG9tYWluLCBldGMuIGFzIGl0IHdvdWxkIG1hdGNoIHRvbyBtdWNoLiAgKGUuZy5cbiAqICAgICAgaHR0cDovLyoqLmV4YW1wbGUuY29tLyB3b3VsZCBtYXRjaCBodHRwOi8vZXZpbC5jb20vP2lnbm9yZT0uZXhhbXBsZS5jb20vIGFuZCB0aGF0IG1pZ2h0XG4gKiAgICAgIG5vdCBoYXZlIGJlZW4gdGhlIGludGVudGlvbi4pICBJdHMgdXNhZ2UgYXQgdGhlIHZlcnkgZW5kIG9mIHRoZSBwYXRoIGlzIG9rLiAgKGUuZy5cbiAqICAgICAgaHR0cDovL2Zvby5leGFtcGxlLmNvbS90ZW1wbGF0ZXMvKiopLlxuICogIC0gKipSZWdFeHAqKiAoKnNlZSBjYXZlYXQgYmVsb3cqKVxuICogICAgLSAqQ2F2ZWF0KjogIFdoaWxlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIHBvd2VyZnVsIGFuZCBvZmZlciBncmVhdCBmbGV4aWJpbGl0eSwgIHRoZWlyIHN5bnRheFxuICogICAgICAoYW5kIGFsbCB0aGUgaW5ldml0YWJsZSBlc2NhcGluZykgbWFrZXMgdGhlbSAqaGFyZGVyIHRvIG1haW50YWluKi4gIEl0J3MgZWFzeSB0b1xuICogICAgICBhY2NpZGVudGFsbHkgaW50cm9kdWNlIGEgYnVnIHdoZW4gb25lIHVwZGF0ZXMgYSBjb21wbGV4IGV4cHJlc3Npb24gKGltaG8sIGFsbCByZWdleGVzIHNob3VsZFxuICogICAgICBoYXZlIGdvb2QgdGVzdCBjb3ZlcmFnZSkuICBGb3IgaW5zdGFuY2UsIHRoZSB1c2Ugb2YgYC5gIGluIHRoZSByZWdleCBpcyBjb3JyZWN0IG9ubHkgaW4gYVxuICogICAgICBzbWFsbCBudW1iZXIgb2YgY2FzZXMuICBBIGAuYCBjaGFyYWN0ZXIgaW4gdGhlIHJlZ2V4IHVzZWQgd2hlbiBtYXRjaGluZyB0aGUgc2NoZW1lIG9yIGFcbiAqICAgICAgc3ViZG9tYWluIGNvdWxkIGJlIG1hdGNoZWQgYWdhaW5zdCBhIGA6YCBvciBsaXRlcmFsIGAuYCB0aGF0IHdhcyBsaWtlbHkgbm90IGludGVuZGVkLiAgIEl0XG4gKiAgICAgIGlzIGhpZ2hseSByZWNvbW1lbmRlZCB0byB1c2UgdGhlIHN0cmluZyBwYXR0ZXJucyBhbmQgb25seSBmYWxsIGJhY2sgdG8gcmVndWxhciBleHByZXNzaW9uc1xuICogICAgICBhcyBhIGxhc3QgcmVzb3J0LlxuICogICAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVnRXhwIChpLmUuIG5vdCBhIHN0cmluZy4pICBJdCBpc1xuICogICAgICBtYXRjaGVkIGFnYWluc3QgdGhlICoqZW50aXJlKiogKm5vcm1hbGl6ZWQgLyBhYnNvbHV0ZSBVUkwqIG9mIHRoZSByZXNvdXJjZSBiZWluZyB0ZXN0ZWRcbiAqICAgICAgKGV2ZW4gd2hlbiB0aGUgUmVnRXhwIGRpZCBub3QgaGF2ZSB0aGUgYF5gIGFuZCBgJGAgY29kZXMuKSAgSW4gYWRkaXRpb24sIGFueSBmbGFnc1xuICogICAgICBwcmVzZW50IG9uIHRoZSBSZWdFeHAgKHN1Y2ggYXMgbXVsdGlsaW5lLCBnbG9iYWwsIGlnbm9yZUNhc2UpIGFyZSBpZ25vcmVkLlxuICogICAgLSBJZiB5b3UgYXJlIGdlbmVyYXRpbmcgeW91ciBKYXZhU2NyaXB0IGZyb20gc29tZSBvdGhlciB0ZW1wbGF0aW5nIGVuZ2luZSAobm90XG4gKiAgICAgIHJlY29tbWVuZGVkLCBlLmcuIGluIGlzc3VlIFsjNDAwNl0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNDAwNikpLFxuICogICAgICByZW1lbWJlciB0byBlc2NhcGUgeW91ciByZWd1bGFyIGV4cHJlc3Npb24gKGFuZCBiZSBhd2FyZSB0aGF0IHlvdSBtaWdodCBuZWVkIG1vcmUgdGhhblxuICogICAgICBvbmUgbGV2ZWwgb2YgZXNjYXBpbmcgZGVwZW5kaW5nIG9uIHlvdXIgdGVtcGxhdGluZyBlbmdpbmUgYW5kIHRoZSB3YXkgeW91IGludGVycG9sYXRlZFxuICogICAgICB0aGUgdmFsdWUuKSAgRG8gbWFrZSB1c2Ugb2YgeW91ciBwbGF0Zm9ybSdzIGVzY2FwaW5nIG1lY2hhbmlzbSBhcyBpdCBtaWdodCBiZSBnb29kXG4gKiAgICAgIGVub3VnaCBiZWZvcmUgY29kaW5nIHlvdXIgb3duLiAgRS5nLiBSdWJ5IGhhc1xuICogICAgICBbUmVnZXhwLmVzY2FwZShzdHIpXShodHRwOi8vd3d3LnJ1YnktZG9jLm9yZy9jb3JlLTIuMC4wL1JlZ2V4cC5odG1sI21ldGhvZC1jLWVzY2FwZSlcbiAqICAgICAgYW5kIFB5dGhvbiBoYXMgW3JlLmVzY2FwZV0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3JlLmh0bWwjcmUuZXNjYXBlKS5cbiAqICAgICAgSmF2YXNjcmlwdCBsYWNrcyBhIHNpbWlsYXIgYnVpbHQgaW4gZnVuY3Rpb24gZm9yIGVzY2FwaW5nLiAgVGFrZSBhIGxvb2sgYXQgR29vZ2xlXG4gKiAgICAgIENsb3N1cmUgbGlicmFyeSdzIFtnb29nLnN0cmluZy5yZWdFeHBFc2NhcGUocyldKFxuICogICAgICBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmU5NjIpLlxuICpcbiAqIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gZm9yIGFuIGV4YW1wbGUuXG4gKlxuICogIyMgU2hvdyBtZSBhbiBleGFtcGxlIHVzaW5nIFNDRS5cbiAqXG4gKiA8ZXhhbXBsZSBtb2R1bGU9XCJteVNjZUFwcFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJBcHBDb250cm9sbGVyIGFzIG15Q3RybFwiPlxuICogICAgIDxpIG5nLWJpbmQtaHRtbD1cIm15Q3RybC5leHBsaWNpdGx5VHJ1c3RlZEh0bWxcIiBpZD1cImV4cGxpY2l0bHlUcnVzdGVkSHRtbFwiPjwvaT48YnI+PGJyPlxuICogICAgIDxiPlVzZXIgY29tbWVudHM8L2I+PGJyPlxuICogICAgIEJ5IGRlZmF1bHQsIEhUTUwgdGhhdCBpc24ndCBleHBsaWNpdGx5IHRydXN0ZWQgKGUuZy4gQWxpY2UncyBjb21tZW50KSBpcyBzYW5pdGl6ZWQgd2hlblxuICogICAgICRzYW5pdGl6ZSBpcyBhdmFpbGFibGUuICBJZiAkc2FuaXRpemUgaXNuJ3QgYXZhaWxhYmxlLCB0aGlzIHJlc3VsdHMgaW4gYW4gZXJyb3IgaW5zdGVhZCBvZiBhblxuICogICAgIGV4cGxvaXQuXG4gKiAgICAgPGRpdiBjbGFzcz1cIndlbGxcIj5cbiAqICAgICAgIDxkaXYgbmctcmVwZWF0PVwidXNlckNvbW1lbnQgaW4gbXlDdHJsLnVzZXJDb21tZW50c1wiPlxuICogICAgICAgICA8Yj57e3VzZXJDb21tZW50Lm5hbWV9fTwvYj46XG4gKiAgICAgICAgIDxzcGFuIG5nLWJpbmQtaHRtbD1cInVzZXJDb21tZW50Lmh0bWxDb21tZW50XCIgY2xhc3M9XCJodG1sQ29tbWVudFwiPjwvc3Bhbj5cbiAqICAgICAgICAgPGJyPlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAqICAgYW5ndWxhci5tb2R1bGUoJ215U2NlQXBwJywgWyduZ1Nhbml0aXplJ10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ0FwcENvbnRyb2xsZXInLCBbJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJywgJyRzY2UnLFxuICogICAgICAgZnVuY3Rpb24oJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkc2NlKSB7XG4gKiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAqICAgICAgICAgJGh0dHAuZ2V0KFwidGVzdF9kYXRhLmpzb25cIiwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLnN1Y2Nlc3MoZnVuY3Rpb24odXNlckNvbW1lbnRzKSB7XG4gKiAgICAgICAgICAgc2VsZi51c2VyQ29tbWVudHMgPSB1c2VyQ29tbWVudHM7XG4gKiAgICAgICAgIH0pO1xuICogICAgICAgICBzZWxmLmV4cGxpY2l0bHlUcnVzdGVkSHRtbCA9ICRzY2UudHJ1c3RBc0h0bWwoXG4gKiAgICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICAgJ3Nhbml0aXphdGlvbi4mcXVvdDtcIj5Ib3ZlciBvdmVyIHRoaXMgdGV4dC48L3NwYW4+Jyk7XG4gKiAgICAgICB9XSk7XG4gKiA8L2ZpbGU+XG4gKlxuICogPGZpbGUgbmFtZT1cInRlc3RfZGF0YS5qc29uXCI+XG4gKiBbXG4gKiAgIHsgXCJuYW1lXCI6IFwiQWxpY2VcIixcbiAqICAgICBcImh0bWxDb21tZW50XCI6XG4gKiAgICAgICAgIFwiPHNwYW4gb25tb3VzZW92ZXI9J3RoaXMudGV4dENvbnRlbnQ9XFxcIlBXTjNEIVxcXCInPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj5cIlxuICogICB9LFxuICogICB7IFwibmFtZVwiOiBcIkJvYlwiLFxuICogICAgIFwiaHRtbENvbW1lbnRcIjogXCI8aT5ZZXMhPC9pPiAgQW0gSSB0aGUgb25seSBvdGhlciBvbmU/XCJcbiAqICAgfVxuICogXVxuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgZGVzY3JpYmUoJ1NDRSBkb2MgZGVtbycsIGZ1bmN0aW9uKCkge1xuICogICAgIGl0KCdzaG91bGQgc2FuaXRpemUgdW50cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnLmh0bWxDb21tZW50JykpLmZpcnN0KCkuZ2V0SW5uZXJIdG1sKCkpXG4gKiAgICAgICAgICAgLnRvQmUoJzxzcGFuPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj4nKTtcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBOT1Qgc2FuaXRpemUgZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2V4cGxpY2l0bHlUcnVzdGVkSHRtbCcpKS5nZXRJbm5lckh0bWwoKSkudG9CZShcbiAqICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICdzYW5pdGl6YXRpb24uJnF1b3Q7XCI+SG92ZXIgb3ZlciB0aGlzIHRleHQuPC9zcGFuPicpO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKlxuICpcbiAqICMjIENhbiBJIGRpc2FibGUgU0NFIGNvbXBsZXRlbHk/XG4gKlxuICogWWVzLCB5b3UgY2FuLiAgSG93ZXZlciwgdGhpcyBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gIFNDRSBnaXZlcyB5b3UgYSBsb3Qgb2Ygc2VjdXJpdHkgYmVuZWZpdHNcbiAqIGZvciBsaXR0bGUgY29kaW5nIG92ZXJoZWFkLiAgSXQgd2lsbCBiZSBtdWNoIGhhcmRlciB0byB0YWtlIGFuIFNDRSBkaXNhYmxlZCBhcHBsaWNhdGlvbiBhbmRcbiAqIGVpdGhlciBzZWN1cmUgaXQgb24geW91ciBvd24gb3IgZW5hYmxlIFNDRSBhdCBhIGxhdGVyIHN0YWdlLiAgSXQgbWlnaHQgbWFrZSBzZW5zZSB0byBkaXNhYmxlIFNDRVxuICogZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIGEgbG90IG9mIGV4aXN0aW5nIGNvZGUgdGhhdCB3YXMgd3JpdHRlbiBiZWZvcmUgU0NFIHdhcyBpbnRyb2R1Y2VkIGFuZFxuICogeW91J3JlIG1pZ3JhdGluZyB0aGVtIGEgbW9kdWxlIGF0IGEgdGltZS5cbiAqXG4gKiBUaGF0IHNhaWQsIGhlcmUncyBob3cgeW91IGNhbiBjb21wbGV0ZWx5IGRpc2FibGUgU0NFOlxuICpcbiAqIGBgYFxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwV2l0aFNjZURpc2FibGVkbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VQcm92aWRlcikge1xuICogICAvLyBDb21wbGV0ZWx5IGRpc2FibGUgU0NFLiAgRm9yIGRlbW9uc3RyYXRpb24gcHVycG9zZXMgb25seSFcbiAqICAgLy8gRG8gbm90IHVzZSBpbiBuZXcgcHJvamVjdHMuXG4gKiAgICRzY2VQcm92aWRlci5lbmFibGVkKGZhbHNlKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICovXG4vKiBqc2hpbnQgbWF4bGVuOiAxMDAgKi9cblxuZnVuY3Rpb24gJFNjZVByb3ZpZGVyKCkge1xuICB2YXIgZW5hYmxlZCA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNjZVByb3ZpZGVyI2VuYWJsZWRcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgcHJvdmlkZWQsIHRoZW4gZW5hYmxlcy9kaXNhYmxlcyBTQ0UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEVuYWJsZXMvZGlzYWJsZXMgU0NFIGFuZCByZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgKi9cbiAgdGhpcy5lbmFibGVkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgZW5hYmxlZCA9ICEhdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVkO1xuICB9O1xuXG5cbiAgLyogRGVzaWduIG5vdGVzIG9uIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZvciBTQ0UuXG4gICAqXG4gICAqIFRoZSBBUEkgY29udHJhY3QgZm9yIHRoZSBTQ0UgZGVsZWdhdGVcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBUaGUgU0NFIGRlbGVnYXRlIG9iamVjdCBtdXN0IHByb3ZpZGUgdGhlIGZvbGxvd2luZyAzIG1ldGhvZHM6XG4gICAqXG4gICAqIC0gdHJ1c3RBcyhjb250ZXh0RW51bSwgdmFsdWUpXG4gICAqICAgICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHRlbGwgdGhlIFNDRSBzZXJ2aWNlIHRoYXQgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIE9LIHRvIHVzZSBpbiB0aGVcbiAgICogICAgIGNvbnRleHRzIHNwZWNpZmllZCBieSBjb250ZXh0RW51bS4gIEl0IG11c3QgcmV0dXJuIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgYWNjZXB0ZWQgYnlcbiAgICogICAgIGdldFRydXN0ZWQoKSBmb3IgYSBjb21wYXRpYmxlIGNvbnRleHRFbnVtIGFuZCByZXR1cm4gdGhpcyB2YWx1ZS5cbiAgICpcbiAgICogLSB2YWx1ZU9mKHZhbHVlKVxuICAgKiAgICAgRm9yIHZhbHVlcyB0aGF0IHdlcmUgbm90IHByb2R1Y2VkIGJ5IHRydXN0QXMoKSwgcmV0dXJuIHRoZW0gYXMgaXMuICBGb3IgdmFsdWVzIHRoYXQgd2VyZVxuICAgKiAgICAgcHJvZHVjZWQgYnkgdHJ1c3RBcygpLCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgaW5wdXQgdmFsdWUgdG8gdHJ1c3RBcy4gIEJhc2ljYWxseSwgaWZcbiAgICogICAgIHRydXN0QXMgaXMgd3JhcHBpbmcgdGhlIGdpdmVuIHZhbHVlcyBpbnRvIHNvbWUgdHlwZSwgdGhpcyBvcGVyYXRpb24gdW53cmFwcyBpdCB3aGVuIGdpdmVuXG4gICAqICAgICBzdWNoIGEgdmFsdWUuXG4gICAqXG4gICAqIC0gZ2V0VHJ1c3RlZChjb250ZXh0RW51bSwgdmFsdWUpXG4gICAqICAgICBUaGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gdGhlIGEgdmFsdWUgdGhhdCBpcyBzYWZlIHRvIHVzZSBpbiB0aGUgY29udGV4dCBzcGVjaWZpZWQgYnlcbiAgICogICAgIGNvbnRleHRFbnVtIG9yIHRocm93IGFuZCBleGNlcHRpb24gb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIGNvbnRyYWN0IGRlbGliZXJhdGVseSBkb2VzIE5PVCBzdGF0ZSB0aGF0IHZhbHVlcyByZXR1cm5lZCBieSB0cnVzdEFzKCkgbXVzdCBiZVxuICAgKiBvcGFxdWUgb3Igd3JhcHBlZCBpbiBzb21lIGhvbGRlciBvYmplY3QuICBUaGF0IGhhcHBlbnMgdG8gYmUgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsLiAgRm9yXG4gICAqIGluc3RhbmNlLCBhbiBpbXBsZW1lbnRhdGlvbiBjb3VsZCBtYWludGFpbiBhIHJlZ2lzdHJ5IG9mIGFsbCB0cnVzdGVkIG9iamVjdHMgYnkgY29udGV4dC4gIEluXG4gICAqIHN1Y2ggYSBjYXNlLCB0cnVzdEFzKCkgd291bGQgcmV0dXJuIHRoZSBzYW1lIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgaW4uICBnZXRUcnVzdGVkKCkgd291bGRcbiAgICogcmV0dXJuIHRoZSBzYW1lIG9iamVjdCBwYXNzZWQgaW4gaWYgaXQgd2FzIGZvdW5kIGluIHRoZSByZWdpc3RyeSB1bmRlciBhIGNvbXBhdGlibGUgY29udGV4dCBvclxuICAgKiB0aHJvdyBhbiBleGNlcHRpb24gb3RoZXJ3aXNlLiAgQW4gaW1wbGVtZW50YXRpb24gbWlnaHQgb25seSB3cmFwIHZhbHVlcyBzb21lIG9mIHRoZSB0aW1lIGJhc2VkXG4gICAqIG9uIHNvbWUgY3JpdGVyaWEuICBnZXRUcnVzdGVkKCkgbWlnaHQgcmV0dXJuIGEgdmFsdWUgYW5kIG5vdCB0aHJvdyBhbiBleGNlcHRpb24gZm9yIHNwZWNpYWxcbiAgICogY29uc3RhbnRzIG9yIG9iamVjdHMgZXZlbiBpZiBub3Qgd3JhcHBlZC4gIEFsbCBzdWNoIGltcGxlbWVudGF0aW9ucyBmdWxmaWxsIHRoaXMgY29udHJhY3QuXG4gICAqXG4gICAqXG4gICAqIEEgbm90ZSBvbiB0aGUgaW5oZXJpdGFuY2UgbW9kZWwgZm9yIFNDRSBjb250ZXh0c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogSSd2ZSB1c2VkIGluaGVyaXRhbmNlIGFuZCBtYWRlIFJFU09VUkNFX1VSTCB3cmFwcGVkIHR5cGVzIGEgc3VidHlwZSBvZiBVUkwgd3JhcHBlZCB0eXBlcy4gIFRoaXNcbiAgICogaXMgcHVyZWx5IGFuIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXG4gICAqXG4gICAqIFRoZSBjb250cmFjdCBpcyBzaW1wbHkgdGhpczpcbiAgICpcbiAgICogICAgIGdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKSBzdWNjZWVkaW5nIGltcGxpZXMgdGhhdCBnZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlcbiAgICogICAgIHdpbGwgYWxzbyBzdWNjZWVkLlxuICAgKlxuICAgKiBJbmhlcml0YW5jZSBoYXBwZW5zIHRvIGNhcHR1cmUgdGhpcyBpbiBhIG5hdHVyYWwgd2F5LiAgSW4gc29tZSBmdXR1cmUsIHdlXG4gICAqIG1heSBub3QgdXNlIGluaGVyaXRhbmNlIGFueW1vcmUuICBUaGF0IGlzIE9LIGJlY2F1c2Ugbm8gY29kZSBvdXRzaWRlIG9mXG4gICAqIHNjZS5qcyBhbmQgc2NlU3BlY3MuanMgd291bGQgbmVlZCB0byBiZSBhd2FyZSBvZiB0aGlzIGRldGFpbC5cbiAgICovXG5cbiAgdGhpcy4kZ2V0ID0gWyckcGFyc2UnLCAnJHNjZURlbGVnYXRlJywgZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgJHBhcnNlLCAgICRzY2VEZWxlZ2F0ZSkge1xuICAgIC8vIFByZXJlcTogRW5zdXJlIHRoYXQgd2UncmUgbm90IHJ1bm5pbmcgaW4gSUU8MTEgcXVpcmtzIG1vZGUuICBJbiB0aGF0IG1vZGUsIElFIDwgMTEgYWxsb3dcbiAgICAvLyB0aGUgXCJleHByZXNzaW9uKGphdmFzY3JpcHQgZXhwcmVzc2lvbilcIiBzeW50YXggd2hpY2ggaXMgaW5zZWN1cmUuXG4gICAgaWYgKGVuYWJsZWQgJiYgbXNpZSA8IDgpIHtcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2llcXVpcmtzJyxcbiAgICAgICAgJ1N0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRvZXMgbm90IHN1cHBvcnQgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbiA8IDExIGluIHF1aXJrcyAnICtcbiAgICAgICAgJ21vZGUuICBZb3UgY2FuIGZpeCB0aGlzIGJ5IGFkZGluZyB0aGUgdGV4dCA8IWRvY3R5cGUgaHRtbD4gdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgJyArXG4gICAgICAgICdkb2N1bWVudC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBzY2UgPSBzaGFsbG93Q29weShTQ0VfQ09OVEVYVFMpO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjaXNFbmFibGVkXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS4gIElmIHlvdSB3YW50IHRvIHNldCB0aGUgdmFsdWUsIHlvdVxuICAgICAqIGhhdmUgdG8gZG8gaXQgYXQgbW9kdWxlIGNvbmZpZyB0aW1lIG9uIHtAbGluayBuZy4kc2NlUHJvdmlkZXIgJHNjZVByb3ZpZGVyfS5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgU0NFIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgc2NlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgfTtcbiAgICBzY2UudHJ1c3RBcyA9ICRzY2VEZWxlZ2F0ZS50cnVzdEFzO1xuICAgIHNjZS5nZXRUcnVzdGVkID0gJHNjZURlbGVnYXRlLmdldFRydXN0ZWQ7XG4gICAgc2NlLnZhbHVlT2YgPSAkc2NlRGVsZWdhdGUudmFsdWVPZjtcblxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgc2NlLnRydXN0QXMgPSBzY2UuZ2V0VHJ1c3RlZCA9IGZ1bmN0aW9uKHR5cGUsIHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbiAgICAgIHNjZS52YWx1ZU9mID0gaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uICBUaGlzIGlzIGxpa2Uge0BsaW5rXG4gICAgICogbmcuJHBhcnNlICRwYXJzZX0gYW5kIGlzIGlkZW50aWNhbCB3aGVuIHRoZSBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCBjb25zdGFudC4gIE90aGVyd2lzZSwgaXRcbiAgICAgKiB3cmFwcyB0aGUgZXhwcmVzc2lvbiBpbiBhIGNhbGwgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoKnR5cGUqLFxuICAgICAqICpyZXN1bHQqKX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIFNDRSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVzdWx0IHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuICAgIHNjZS5wYXJzZUFzID0gZnVuY3Rpb24gc2NlUGFyc2VBcyh0eXBlLCBleHByKSB7XG4gICAgICB2YXIgcGFyc2VkID0gJHBhcnNlKGV4cHIpO1xuICAgICAgaWYgKHBhcnNlZC5saXRlcmFsICYmIHBhcnNlZC5jb25zdGFudCkge1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRwYXJzZShleHByLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBzY2UuZ2V0VHJ1c3RlZCh0eXBlLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LiAgQXMgc3VjaCxcbiAgICAgKiByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGlzIHRydXN0ZWQgYnkgYW5ndWxhciBmb3IgdXNlIGluIHNwZWNpZmllZCBzdHJpY3QgY29udGV4dHVhbFxuICAgICAqIGVzY2FwaW5nIGNvbnRleHRzIChzdWNoIGFzIG5nLWJpbmQtaHRtbCwgbmctaW5jbHVkZSwgYW55IHNyYyBhdHRyaWJ1dGVcbiAgICAgKiBpbnRlcnBvbGF0aW9uLCBhbnkgZG9tIGV2ZW50IGJpbmRpbmcgYXR0cmlidXRlIGludGVycG9sYXRpb24gc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pXG4gICAgICogdGhhdCB1c2VzIHRoZSBwcm92aWRlZCB2YWx1ZS4gIFNlZSAqIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbFxuICAgICAqIGVzY2FwaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHNhZmUgZm9yIHVzZS4gIGUuZy4gdXJsLFxuICAgICAqICAgcmVzb3VyY2VVcmwsIGh0bWwsIGpzIGFuZCBjc3MuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdGhhdCB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIHRydXN0ZWQvc2FmZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gQSB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHN0YW5kIGluIGZvciB0aGUgcHJvdmlkZWQgYHZhbHVlYCBpbiBwbGFjZXNcbiAgICAgKiB3aGVyZSBBbmd1bGFyIGV4cGVjdHMgYSAkc2NlLnRydXN0QXMoKSByZXR1cm4gdmFsdWUuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5IVE1MLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkSHRtbFxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRIdG1sKHZhbHVlKX0gdG8gb2J0YWluIHRoZSBvcmlnaW5hbCB2YWx1ZS4gIChwcml2aWxlZ2VkIGRpcmVjdGl2ZXNcbiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGVcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1VybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkVXJsXG4gICAgICogICAgICRzY2UuZ2V0VHJ1c3RlZFVybCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlIHJldHVyblxuICAgICAqICAgICB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0pzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0pzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5KUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZEpzXG4gICAgICogICAgICRzY2UuZ2V0VHJ1c3RlZEpzKHZhbHVlKX0gdG8gb2J0YWluIHRoZSBvcmlnaW5hbCB2YWx1ZS4gIChwcml2aWxlZ2VkIGRpcmVjdGl2ZXNcbiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGVcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZGB9LiAgQXMgc3VjaCxcbiAgICAgKiB0YWtlcyB0aGUgcmVzdWx0IG9mIGEge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyBgJHNjZS50cnVzdEFzYH0oKSBjYWxsIGFuZCByZXR1cm5zIHRoZVxuICAgICAqIG9yaWdpbmFsbHkgc3VwcGxpZWQgdmFsdWUgaWYgdGhlIHF1ZXJpZWQgY29udGV4dCB0eXBlIGlzIGEgc3VwZXJ0eXBlIG9mIHRoZSBjcmVhdGVkIHR5cGUuXG4gICAgICogSWYgdGhpcyBjb25kaXRpb24gaXNuJ3Qgc2F0aXNmaWVkLCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHRvIGJlIHVzZWQuXG4gICAgICogQHBhcmFtIHsqfSBtYXliZVRydXN0ZWQgVGhlIHJlc3VsdCBvZiBhIHByaW9yIHtAbGluayBuZy4kc2NlI3RydXN0QXMgYCRzY2UudHJ1c3RBc2B9XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgY2FsbC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoZSB3YXMgb3JpZ2luYWxseSBwcm92aWRlZCB0b1xuICAgICAqICAgICAgICAgICAgICB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfSBpZiB2YWxpZCBpbiB0aGlzIGNvbnRleHQuXG4gICAgICogICAgICAgICAgICAgIE90aGVyd2lzZSwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRIdG1sXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZEh0bWwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkhUTUwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5IVE1MLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkQ3NzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZENzcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuQ1NTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuQ1NTLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZFVybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkSnNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkSnModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkpTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuSlMsIHZhbHVlKWBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNIdG1sXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0h0bWwoZXhwcmVzc2lvbiBzdHJpbmcpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuSFRNTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzQ3NzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0Nzcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5DU1MsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1VybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNSZXNvdXJjZVVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0pzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0pzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkpTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8vIFNob3J0aGFuZCBkZWxlZ2F0aW9ucy5cbiAgICB2YXIgcGFyc2UgPSBzY2UucGFyc2VBcyxcbiAgICAgICAgZ2V0VHJ1c3RlZCA9IHNjZS5nZXRUcnVzdGVkLFxuICAgICAgICB0cnVzdEFzID0gc2NlLnRydXN0QXM7XG5cbiAgICBmb3JFYWNoKFNDRV9DT05URVhUUywgZnVuY3Rpb24oZW51bVZhbHVlLCBuYW1lKSB7XG4gICAgICB2YXIgbE5hbWUgPSBsb3dlcmNhc2UobmFtZSk7XG4gICAgICBzY2VbY2FtZWxDYXNlKFwicGFyc2VfYXNfXCIgKyBsTmFtZSldID0gZnVuY3Rpb24oZXhwcikge1xuICAgICAgICByZXR1cm4gcGFyc2UoZW51bVZhbHVlLCBleHByKTtcbiAgICAgIH07XG4gICAgICBzY2VbY2FtZWxDYXNlKFwiZ2V0X3RydXN0ZWRfXCIgKyBsTmFtZSldID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGdldFRydXN0ZWQoZW51bVZhbHVlLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgICAgc2NlW2NhbWVsQ2FzZShcInRydXN0X2FzX1wiICsgbE5hbWUpXSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0cnVzdEFzKGVudW1WYWx1ZSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzY2U7XG4gIH1dO1xufVxuXG4vKipcbiAqICEhISBUaGlzIGlzIGFuIHVuZG9jdW1lbnRlZCBcInByaXZhdGVcIiBzZXJ2aWNlICEhIVxuICpcbiAqIEBuYW1lICRzbmlmZmVyXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICogQHJlcXVpcmVzICRkb2N1bWVudFxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaGlzdG9yeSBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgaHRtbDUgaGlzdG9yeSBhcGkgP1xuICogQHByb3BlcnR5IHtib29sZWFufSB0cmFuc2l0aW9ucyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgQ1NTIHRyYW5zaXRpb24gZXZlbnRzID9cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYW5pbWF0aW9ucyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgQ1NTIGFuaW1hdGlvbiBldmVudHMgP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyB2ZXJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiB0ZXN0aW5nIGJyb3dzZXIncyBmZWF0dXJlcy5cbiAqL1xuZnVuY3Rpb24gJFNuaWZmZXJQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCR3aW5kb3csICRkb2N1bWVudCkge1xuICAgIHZhciBldmVudFN1cHBvcnQgPSB7fSxcbiAgICAgICAgYW5kcm9pZCA9XG4gICAgICAgICAgdG9JbnQoKC9hbmRyb2lkIChcXGQrKS8uZXhlYyhsb3dlcmNhc2UoKCR3aW5kb3cubmF2aWdhdG9yIHx8IHt9KS51c2VyQWdlbnQpKSB8fCBbXSlbMV0pLFxuICAgICAgICBib3hlZSA9IC9Cb3hlZS9pLnRlc3QoKCR3aW5kb3cubmF2aWdhdG9yIHx8IHt9KS51c2VyQWdlbnQpLFxuICAgICAgICBkb2N1bWVudCA9ICRkb2N1bWVudFswXSB8fCB7fSxcbiAgICAgICAgdmVuZG9yUHJlZml4LFxuICAgICAgICB2ZW5kb3JSZWdleCA9IC9eKE1venx3ZWJraXR8bXMpKD89W0EtWl0pLyxcbiAgICAgICAgYm9keVN0eWxlID0gZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LnN0eWxlLFxuICAgICAgICB0cmFuc2l0aW9ucyA9IGZhbHNlLFxuICAgICAgICBhbmltYXRpb25zID0gZmFsc2UsXG4gICAgICAgIG1hdGNoO1xuXG4gICAgaWYgKGJvZHlTdHlsZSkge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiBib2R5U3R5bGUpIHtcbiAgICAgICAgaWYgKG1hdGNoID0gdmVuZG9yUmVnZXguZXhlYyhwcm9wKSkge1xuICAgICAgICAgIHZlbmRvclByZWZpeCA9IG1hdGNoWzBdO1xuICAgICAgICAgIHZlbmRvclByZWZpeCA9IHZlbmRvclByZWZpeC5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIHZlbmRvclByZWZpeC5zdWJzdHIoMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF2ZW5kb3JQcmVmaXgpIHtcbiAgICAgICAgdmVuZG9yUHJlZml4ID0gKCdXZWJraXRPcGFjaXR5JyBpbiBib2R5U3R5bGUpICYmICd3ZWJraXQnO1xuICAgICAgfVxuXG4gICAgICB0cmFuc2l0aW9ucyA9ICEhKCgndHJhbnNpdGlvbicgaW4gYm9keVN0eWxlKSB8fCAodmVuZG9yUHJlZml4ICsgJ1RyYW5zaXRpb24nIGluIGJvZHlTdHlsZSkpO1xuICAgICAgYW5pbWF0aW9ucyAgPSAhISgoJ2FuaW1hdGlvbicgaW4gYm9keVN0eWxlKSB8fCAodmVuZG9yUHJlZml4ICsgJ0FuaW1hdGlvbicgaW4gYm9keVN0eWxlKSk7XG5cbiAgICAgIGlmIChhbmRyb2lkICYmICghdHJhbnNpdGlvbnMgfHwgICFhbmltYXRpb25zKSkge1xuICAgICAgICB0cmFuc2l0aW9ucyA9IGlzU3RyaW5nKGJvZHlTdHlsZS53ZWJraXRUcmFuc2l0aW9uKTtcbiAgICAgICAgYW5pbWF0aW9ucyA9IGlzU3RyaW5nKGJvZHlTdHlsZS53ZWJraXRBbmltYXRpb24pO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIEFuZHJvaWQgaGFzIGhpc3RvcnkucHVzaFN0YXRlLCBidXQgaXQgZG9lcyBub3QgdXBkYXRlIGxvY2F0aW9uIGNvcnJlY3RseVxuICAgICAgLy8gc28gbGV0J3Mgbm90IHVzZSB0aGUgaGlzdG9yeSBBUEkgYXQgYWxsLlxuICAgICAgLy8gaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2FuZHJvaWQvaXNzdWVzL2RldGFpbD9pZD0xNzQ3MVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvOTA0XG5cbiAgICAgIC8vIG9sZGVyIHdlYmtpdCBicm93c2VyICg1MzMuOSkgb24gQm94ZWUgYm94IGhhcyBleGFjdGx5IHRoZSBzYW1lIHByb2JsZW0gYXMgQW5kcm9pZCBoYXNcbiAgICAgIC8vIHNvIGxldCdzIG5vdCB1c2UgdGhlIGhpc3RvcnkgQVBJIGFsc29cbiAgICAgIC8vIFdlIGFyZSBwdXJwb3NlZnVsbHkgdXNpbmcgYCEoYW5kcm9pZCA8IDQpYCB0byBjb3ZlciB0aGUgY2FzZSB3aGVuIGBhbmRyb2lkYCBpcyB1bmRlZmluZWRcbiAgICAgIC8vIGpzaGludCAtVzAxOFxuICAgICAgaGlzdG9yeTogISEoJHdpbmRvdy5oaXN0b3J5ICYmICR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUgJiYgIShhbmRyb2lkIDwgNCkgJiYgIWJveGVlKSxcbiAgICAgIC8vIGpzaGludCArVzAxOFxuICAgICAgaGFzRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIC8vIElFOSBpbXBsZW1lbnRzICdpbnB1dCcgZXZlbnQgaXQncyBzbyBmdWJhcmVkIHRoYXQgd2UgcmF0aGVyIHByZXRlbmQgdGhhdCBpdCBkb2Vzbid0IGhhdmVcbiAgICAgICAgLy8gaXQuIEluIHBhcnRpY3VsYXIgdGhlIGV2ZW50IGlzIG5vdCBmaXJlZCB3aGVuIGJhY2tzcGFjZSBvciBkZWxldGUga2V5IGFyZSBwcmVzc2VkIG9yXG4gICAgICAgIC8vIHdoZW4gY3V0IG9wZXJhdGlvbiBpcyBwZXJmb3JtZWQuXG4gICAgICAgIC8vIElFMTArIGltcGxlbWVudHMgJ2lucHV0JyBldmVudCBidXQgaXQgZXJyb25lb3VzbHkgZmlyZXMgdW5kZXIgdmFyaW91cyBzaXR1YXRpb25zLFxuICAgICAgICAvLyBlLmcuIHdoZW4gcGxhY2Vob2xkZXIgY2hhbmdlcywgb3IgYSBmb3JtIGlzIGZvY3VzZWQuXG4gICAgICAgIGlmIChldmVudCA9PT0gJ2lucHV0JyAmJiBtc2llIDw9IDExKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGV2ZW50U3VwcG9ydFtldmVudF0pKSB7XG4gICAgICAgICAgdmFyIGRpdkVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIGV2ZW50U3VwcG9ydFtldmVudF0gPSAnb24nICsgZXZlbnQgaW4gZGl2RWxtO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50U3VwcG9ydFtldmVudF07XG4gICAgICB9LFxuICAgICAgY3NwOiBjc3AoKSxcbiAgICAgIHZlbmRvclByZWZpeDogdmVuZG9yUHJlZml4LFxuICAgICAgdHJhbnNpdGlvbnM6IHRyYW5zaXRpb25zLFxuICAgICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcbiAgICAgIGFuZHJvaWQ6IGFuZHJvaWRcbiAgICB9O1xuICB9XTtcbn1cblxudmFyICRjb21waWxlTWluRXJyID0gbWluRXJyKCckY29tcGlsZScpO1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkdGVtcGxhdGVSZXF1ZXN0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYCR0ZW1wbGF0ZVJlcXVlc3RgIHNlcnZpY2UgcnVucyBzZWN1cml0eSBjaGVja3MgdGhlbiBkb3dubG9hZHMgdGhlIHByb3ZpZGVkIHRlbXBsYXRlIHVzaW5nXG4gKiBgJGh0dHBgIGFuZCwgdXBvbiBzdWNjZXNzLCBzdG9yZXMgdGhlIGNvbnRlbnRzIGluc2lkZSBvZiBgJHRlbXBsYXRlQ2FjaGVgLiBJZiB0aGUgSFRUUCByZXF1ZXN0XG4gKiBmYWlscyBvciB0aGUgcmVzcG9uc2UgZGF0YSBvZiB0aGUgSFRUUCByZXF1ZXN0IGlzIGVtcHR5LCBhIGAkY29tcGlsZWAgZXJyb3Igd2lsbCBiZSB0aHJvd24gKHRoZVxuICogZXhjZXB0aW9uIGNhbiBiZSB0aHdhcnRlZCBieSBzZXR0aW5nIHRoZSAybmQgcGFyYW1ldGVyIG9mIHRoZSBmdW5jdGlvbiB0byB0cnVlKS4gTm90ZSB0aGF0IHRoZVxuICogY29udGVudHMgb2YgYCR0ZW1wbGF0ZUNhY2hlYCBhcmUgdHJ1c3RlZCwgc28gdGhlIGNhbGwgdG8gYCRzY2UuZ2V0VHJ1c3RlZFVybCh0cGwpYCBpcyBvbWl0dGVkXG4gKiB3aGVuIGB0cGxgIGlzIG9mIHR5cGUgc3RyaW5nIGFuZCBgJHRlbXBsYXRlQ2FjaGVgIGhhcyB0aGUgbWF0Y2hpbmcgZW50cnkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8VHJ1c3RlZFJlc291cmNlVXJsfSB0cGwgVGhlIEhUVFAgcmVxdWVzdCB0ZW1wbGF0ZSBVUkxcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGlnbm9yZVJlcXVlc3RFcnJvciBXaGV0aGVyIG9yIG5vdCB0byBpZ25vcmUgdGhlIGV4Y2VwdGlvbiB3aGVuIHRoZSByZXF1ZXN0IGZhaWxzIG9yIHRoZSB0ZW1wbGF0ZSBpcyBlbXB0eVxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSBmb3IgdGhlIEhUVFAgcmVzcG9uc2UgZGF0YSBvZiB0aGUgZ2l2ZW4gVVJMLlxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0b3RhbFBlbmRpbmdSZXF1ZXN0cyB0b3RhbCBhbW91bnQgb2YgcGVuZGluZyB0ZW1wbGF0ZSByZXF1ZXN0cyBiZWluZyBkb3dubG9hZGVkLlxuICovXG5mdW5jdGlvbiAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHRlbXBsYXRlQ2FjaGUnLCAnJGh0dHAnLCAnJHEnLCAnJHNjZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlLCAkaHR0cCwgJHEsICRzY2UpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0Rm4odHBsLCBpZ25vcmVSZXF1ZXN0RXJyb3IpIHtcbiAgICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cysrO1xuXG4gICAgICAvLyBXZSBjb25zaWRlciB0aGUgdGVtcGxhdGUgY2FjaGUgaG9sZHMgb25seSB0cnVzdGVkIHRlbXBsYXRlcywgc29cbiAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byBnbyB0aHJvdWdoIHdoaXRlbGlzdGluZyBhZ2FpbiBmb3Iga2V5cyB0aGF0IGFscmVhZHlcbiAgICAgIC8vIGFyZSBpbmNsdWRlZCBpbiB0aGVyZS4gVGhpcyBhbHNvIG1ha2VzIEFuZ3VsYXIgYWNjZXB0IGFueSBzY3JpcHRcbiAgICAgIC8vIGRpcmVjdGl2ZSwgbm8gbWF0dGVyIGl0cyBuYW1lLiBIb3dldmVyLCB3ZSBzdGlsbCBuZWVkIHRvIHVud3JhcCB0cnVzdGVkXG4gICAgICAvLyB0eXBlcy5cbiAgICAgIGlmICghaXNTdHJpbmcodHBsKSB8fCAhJHRlbXBsYXRlQ2FjaGUuZ2V0KHRwbCkpIHtcbiAgICAgICAgdHBsID0gJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodHBsKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYW5zZm9ybVJlc3BvbnNlID0gJGh0dHAuZGVmYXVsdHMgJiYgJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2U7XG5cbiAgICAgIGlmIChpc0FycmF5KHRyYW5zZm9ybVJlc3BvbnNlKSkge1xuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZSA9IHRyYW5zZm9ybVJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbih0cmFuc2Zvcm1lcikge1xuICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lciAhPT0gZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRyYW5zZm9ybVJlc3BvbnNlID09PSBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtKSB7XG4gICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGh0dHBPcHRpb25zID0ge1xuICAgICAgICBjYWNoZTogJHRlbXBsYXRlQ2FjaGUsXG4gICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOiB0cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuICRodHRwLmdldCh0cGwsIGh0dHBPcHRpb25zKVxuICAgICAgICBbJ2ZpbmFsbHknXShmdW5jdGlvbigpIHtcbiAgICAgICAgICBoYW5kbGVSZXF1ZXN0Rm4udG90YWxQZW5kaW5nUmVxdWVzdHMtLTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQodHBsLCByZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSwgaGFuZGxlRXJyb3IpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVFcnJvcihyZXNwKSB7XG4gICAgICAgIGlmICghaWdub3JlUmVxdWVzdEVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3RwbG9hZCcsICdGYWlsZWQgdG8gbG9hZCB0ZW1wbGF0ZTogezB9IChIVFRQIHN0YXR1czogezF9IHsyfSknLFxuICAgICAgICAgICAgdHBsLCByZXNwLnN0YXR1cywgcmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlc3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cyA9IDA7XG5cbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdEZuO1xuICB9XTtcbn1cblxuZnVuY3Rpb24gJCRUZXN0YWJpbGl0eVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJGxvY2F0aW9uJyxcbiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICRicm93c2VyLCAgICRsb2NhdGlvbikge1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJHRlc3RhYmlsaXR5XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUaGUgcHJpdmF0ZSAkJHRlc3RhYmlsaXR5IHNlcnZpY2UgcHJvdmlkZXMgYSBjb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIHVzZSB3aGVuIGRlYnVnZ2luZ1xuICAgICAqIG9yIGJ5IGF1dG9tYXRlZCB0ZXN0IGFuZCBkZWJ1Z2dpbmcgdG9vbHMuXG4gICAgICovXG4gICAgdmFyIHRlc3RhYmlsaXR5ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRCaW5kaW5nc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSBib3VuZCAodmlhIG5nLWJpbmQgb3Ige3t9fSlcbiAgICAgKiB0byBleHByZXNzaW9ucyBtYXRjaGluZyB0aGUgaW5wdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBUaGUgYmluZGluZyBleHByZXNzaW9uIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcbiAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLiBGaWx0ZXJzIGFuZCB3aGl0ZXNwYWNlIGFyZSBpZ25vcmVkLlxuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LmZpbmRCaW5kaW5ncyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIG9wdF9leGFjdE1hdGNoKSB7XG4gICAgICB2YXIgYmluZGluZ3MgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25nLWJpbmRpbmcnKTtcbiAgICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7XG4gICAgICAgIHZhciBkYXRhQmluZGluZyA9IGFuZ3VsYXIuZWxlbWVudChiaW5kaW5nKS5kYXRhKCckYmluZGluZycpO1xuICAgICAgICBpZiAoZGF0YUJpbmRpbmcpIHtcbiAgICAgICAgICBmb3JFYWNoKGRhdGFCaW5kaW5nLCBmdW5jdGlvbihiaW5kaW5nTmFtZSkge1xuICAgICAgICAgICAgaWYgKG9wdF9leGFjdE1hdGNoKSB7XG4gICAgICAgICAgICAgIHZhciBtYXRjaGVyID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGVzY2FwZUZvclJlZ2V4cChleHByZXNzaW9uKSArICcoXFxcXHN8XFxcXHx8JCknKTtcbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXIudGVzdChiaW5kaW5nTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYmluZGluZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChiaW5kaW5nTmFtZS5pbmRleE9mKGV4cHJlc3Npb24pICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGJpbmRpbmcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZmluZE1vZGVsc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSB0d28td2F5IGZvdW5kIHZpYSBuZy1tb2RlbCB0b1xuICAgICAqIGV4cHJlc3Npb25zIG1hdGNoaW5nIHRoZSBpbnB1dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCByb290IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBtb2RlbCBleHByZXNzaW9uIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcbiAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LmZpbmRNb2RlbHMgPSBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBvcHRfZXhhY3RNYXRjaCkge1xuICAgICAgdmFyIHByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmdcXFxcOiddO1xuICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcmVmaXhlcy5sZW5ndGg7ICsrcCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlRXF1YWxzID0gb3B0X2V4YWN0TWF0Y2ggPyAnPScgOiAnKj0nO1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSAnWycgKyBwcmVmaXhlc1twXSArICdtb2RlbCcgKyBhdHRyaWJ1dGVFcXVhbHMgKyAnXCInICsgZXhwcmVzc2lvbiArICdcIl0nO1xuICAgICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZ2V0TG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IGZvciBnZXR0aW5nIHRoZSBsb2NhdGlvbiBpbiBhIGJyb3dzZXIgYWdub3N0aWMgd2F5LiBSZXR1cm5zXG4gICAgICogICAgIHRoZSBwYXRoLCBzZWFyY2gsIGFuZCBoYXNoLiAoZS5nLiAvcGF0aD9hPWIjaGFzaClcbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICRsb2NhdGlvbi51cmwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJCR0ZXN0YWJpbGl0eSNzZXRMb2NhdGlvblxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgZm9yIG5hdmlnYXRpbmcgdG8gYSBsb2NhdGlvbiB3aXRob3V0IGRvaW5nIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGxvY2F0aW9uIHVybCAocGF0aCwgc2VhcmNoIGFuZCBoYXNoLFxuICAgICAqICAgICBlLmcuIC9wYXRoP2E9YiNoYXNoKSB0byBnbyB0by5cbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgaWYgKHVybCAhPT0gJGxvY2F0aW9uLnVybCgpKSB7XG4gICAgICAgICRsb2NhdGlvbi51cmwodXJsKTtcbiAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjd2hlblN0YWJsZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gJHRpbWVvdXQgYW5kICRodHRwIHJlcXVlc3RzIGFyZSBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LndoZW5TdGFibGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJGJyb3dzZXIubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyhjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIHJldHVybiB0ZXN0YWJpbGl0eTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uICRUaW1lb3V0UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckYnJvd3NlcicsICckcScsICckJHEnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLFxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJGJyb3dzZXIsICAgJHEsICAgJCRxLCAgICRleGNlcHRpb25IYW5kbGVyKSB7XG5cbiAgICB2YXIgZGVmZXJyZWRzID0ge307XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgICogQG5hbWUgJHRpbWVvdXRcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIEFuZ3VsYXIncyB3cmFwcGVyIGZvciBgd2luZG93LnNldFRpbWVvdXRgLiBUaGUgYGZuYCBmdW5jdGlvbiBpcyB3cmFwcGVkIGludG8gYSB0cnkvY2F0Y2hcbiAgICAgICogYmxvY2sgYW5kIGRlbGVnYXRlcyBhbnkgZXhjZXB0aW9ucyB0b1xuICAgICAgKiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAqXG4gICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgY2FsbGluZyBgJHRpbWVvdXRgIGlzIGEgcHJvbWlzZSwgd2hpY2ggd2lsbCBiZSByZXNvbHZlZCB3aGVuXG4gICAgICAqIHRoZSBkZWxheSBoYXMgcGFzc2VkIGFuZCB0aGUgdGltZW91dCBmdW5jdGlvbiwgaWYgcHJvdmlkZWQsIGlzIGV4ZWN1dGVkLlxuICAgICAgKlxuICAgICAgKiBUbyBjYW5jZWwgYSB0aW1lb3V0IHJlcXVlc3QsIGNhbGwgYCR0aW1lb3V0LmNhbmNlbChwcm9taXNlKWAuXG4gICAgICAqXG4gICAgICAqIEluIHRlc3RzIHlvdSBjYW4gdXNlIHtAbGluayBuZ01vY2suJHRpbWVvdXQgYCR0aW1lb3V0LmZsdXNoKClgfSB0b1xuICAgICAgKiBzeW5jaHJvbm91c2x5IGZsdXNoIHRoZSBxdWV1ZSBvZiBkZWZlcnJlZCBmdW5jdGlvbnMuXG4gICAgICAqXG4gICAgICAqIElmIHlvdSBvbmx5IHdhbnQgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhZnRlciBzb21lIHNwZWNpZmllZCBkZWxheVxuICAgICAgKiB0aGVuIHlvdSBjYW4gY2FsbCBgJHRpbWVvdXRgIHdpdGhvdXQgdGhlIGBmbmAgZnVuY3Rpb24uXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKT19IGZuIEEgZnVuY3Rpb24sIHdob3NlIGV4ZWN1dGlvbiBzaG91bGQgYmUgZGVsYXllZC5cbiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbZGVsYXk9MF0gRGVsYXkgaW4gbWlsbGlzZWNvbmRzLlxuICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbaW52b2tlQXBwbHk9dHJ1ZV0gSWYgc2V0IHRvIGBmYWxzZWAgc2tpcHMgbW9kZWwgZGlydHkgY2hlY2tpbmcsIG90aGVyd2lzZVxuICAgICAgKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay5cbiAgICAgICogQHBhcmFtIHsuLi4qPX0gUGFzcyBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gdGhlIGV4ZWN1dGVkIGZ1bmN0aW9uLlxuICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGUgdGltZW91dCBpcyByZWFjaGVkLiBUaGUgdmFsdWUgdGhpc1xuICAgICAgKiAgIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoIGlzIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGBmbmAgZnVuY3Rpb24uXG4gICAgICAqXG4gICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVvdXQoZm4sIGRlbGF5LCBpbnZva2VBcHBseSkge1xuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgICBpbnZva2VBcHBseSA9IGRlbGF5O1xuICAgICAgICBkZWxheSA9IGZuO1xuICAgICAgICBmbiA9IG5vb3A7XG4gICAgICB9XG5cbiAgICAgIHZhciBhcmdzID0gc2xpY2VBcmdzKGFyZ3VtZW50cywgMyksXG4gICAgICAgICAgc2tpcEFwcGx5ID0gKGlzRGVmaW5lZChpbnZva2VBcHBseSkgJiYgIWludm9rZUFwcGx5KSxcbiAgICAgICAgICBkZWZlcnJlZCA9IChza2lwQXBwbHkgPyAkJHEgOiAkcSkuZGVmZXIoKSxcbiAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICB0aW1lb3V0SWQ7XG5cbiAgICAgIHRpbWVvdXRJZCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZm4uYXBwbHkobnVsbCwgYXJncykpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGUpO1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgIGRlbGV0ZSBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBBcHBseSkgJHJvb3RTY29wZS4kYXBwbHkoKTtcbiAgICAgIH0sIGRlbGF5KTtcblxuICAgICAgcHJvbWlzZS4kJHRpbWVvdXRJZCA9IHRpbWVvdXRJZDtcbiAgICAgIGRlZmVycmVkc1t0aW1lb3V0SWRdID0gZGVmZXJyZWQ7XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAqIEBuYW1lICR0aW1lb3V0I2NhbmNlbFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogQ2FuY2VscyBhIHRhc2sgYXNzb2NpYXRlZCB3aXRoIHRoZSBgcHJvbWlzZWAuIEFzIGEgcmVzdWx0IG9mIHRoaXMsIHRoZSBwcm9taXNlIHdpbGwgYmVcbiAgICAgICogcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtQcm9taXNlPX0gcHJvbWlzZSBQcm9taXNlIHJldHVybmVkIGJ5IHRoZSBgJHRpbWVvdXRgIGZ1bmN0aW9uLlxuICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgaGFzbid0IGV4ZWN1dGVkIHlldCBhbmQgd2FzIHN1Y2Nlc3NmdWxseVxuICAgICAgKiAgIGNhbmNlbGVkLlxuICAgICAgKi9cbiAgICB0aW1lb3V0LmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgIGlmIChwcm9taXNlICYmIHByb21pc2UuJCR0aW1lb3V0SWQgaW4gZGVmZXJyZWRzKSB7XG4gICAgICAgIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXS5yZWplY3QoJ2NhbmNlbGVkJyk7XG4gICAgICAgIGRlbGV0ZSBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF07XG4gICAgICAgIHJldHVybiAkYnJvd3Nlci5kZWZlci5jYW5jZWwocHJvbWlzZS4kJHRpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiB0aW1lb3V0O1xuICB9XTtcbn1cblxuLy8gTk9URTogIFRoZSB1c2FnZSBvZiB3aW5kb3cgYW5kIGRvY3VtZW50IGluc3RlYWQgb2YgJHdpbmRvdyBhbmQgJGRvY3VtZW50IGhlcmUgaXNcbi8vIGRlbGliZXJhdGUuICBUaGlzIHNlcnZpY2UgZGVwZW5kcyBvbiB0aGUgc3BlY2lmaWMgYmVoYXZpb3Igb2YgYW5jaG9yIG5vZGVzIGNyZWF0ZWQgYnkgdGhlXG4vLyBicm93c2VyIChyZXNvbHZpbmcgYW5kIHBhcnNpbmcgVVJMcykgdGhhdCBpcyB1bmxpa2VseSB0byBiZSBwcm92aWRlZCBieSBtb2NrIG9iamVjdHMgYW5kXG4vLyBjYXVzZSB1cyB0byBicmVhayB0ZXN0cy4gIEluIGFkZGl0aW9uLCB3aGVuIHRoZSBicm93c2VyIHJlc29sdmVzIGEgVVJMIGZvciBYSFIsIGl0XG4vLyBkb2Vzbid0IGtub3cgYWJvdXQgbW9ja2VkIGxvY2F0aW9ucyBhbmQgcmVzb2x2ZXMgVVJMcyB0byB0aGUgcmVhbCBkb2N1bWVudCAtIHdoaWNoIGlzXG4vLyBleGFjdGx5IHRoZSBiZWhhdmlvciBuZWVkZWQgaGVyZS4gIFRoZXJlIGlzIGxpdHRsZSB2YWx1ZSBpcyBtb2NraW5nIHRoZXNlIG91dCBmb3IgdGhpc1xuLy8gc2VydmljZS5cbnZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xudmFyIG9yaWdpblVybCA9IHVybFJlc29sdmUod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG5cbi8qKlxuICpcbiAqIEltcGxlbWVudGF0aW9uIE5vdGVzIGZvciBub24tSUUgYnJvd3NlcnNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFzc2lnbmluZyBhIFVSTCB0byB0aGUgaHJlZiBwcm9wZXJ0eSBvZiBhbiBhbmNob3IgRE9NIG5vZGUsIGV2ZW4gb25lIGF0dGFjaGVkIHRvIHRoZSBET00sXG4gKiByZXN1bHRzIGJvdGggaW4gdGhlIG5vcm1hbGl6aW5nIGFuZCBwYXJzaW5nIG9mIHRoZSBVUkwuICBOb3JtYWxpemluZyBtZWFucyB0aGF0IGEgcmVsYXRpdmVcbiAqIFVSTCB3aWxsIGJlIHJlc29sdmVkIGludG8gYW4gYWJzb2x1dGUgVVJMIGluIHRoZSBjb250ZXh0IG9mIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cbiAqIFBhcnNpbmcgbWVhbnMgdGhhdCB0aGUgYW5jaG9yIG5vZGUncyBob3N0LCBob3N0bmFtZSwgcHJvdG9jb2wsIHBvcnQsIHBhdGhuYW1lIGFuZCByZWxhdGVkXG4gKiBwcm9wZXJ0aWVzIGFyZSBhbGwgcG9wdWxhdGVkIHRvIHJlZmxlY3QgdGhlIG5vcm1hbGl6ZWQgVVJMLiAgVGhpcyBhcHByb2FjaCBoYXMgd2lkZVxuICogY29tcGF0aWJpbGl0eSAtIFNhZmFyaSAxKywgTW96aWxsYSAxKywgT3BlcmEgNyssZSBldGMuICBTZWVcbiAqIGh0dHA6Ly93d3cuYXB0YW5hLmNvbS9yZWZlcmVuY2UvaHRtbC9hcGkvSFRNTEFuY2hvckVsZW1lbnQuaHRtbFxuICpcbiAqIEltcGxlbWVudGF0aW9uIE5vdGVzIGZvciBJRVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBJRSA8PSAxMCBub3JtYWxpemVzIHRoZSBVUkwgd2hlbiBhc3NpZ25lZCB0byB0aGUgYW5jaG9yIG5vZGUgc2ltaWxhciB0byB0aGUgb3RoZXJcbiAqIGJyb3dzZXJzLiAgSG93ZXZlciwgdGhlIHBhcnNlZCBjb21wb25lbnRzIHdpbGwgbm90IGJlIHNldCBpZiB0aGUgVVJMIGFzc2lnbmVkIGRpZCBub3Qgc3BlY2lmeVxuICogdGhlbS4gIChlLmcuIGlmIHlvdSBhc3NpZ24gYS5ocmVmID0gXCJmb29cIiwgdGhlbiBhLnByb3RvY29sLCBhLmhvc3QsIGV0Yy4gd2lsbCBiZSBlbXB0eS4pICBXZVxuICogd29yayBhcm91bmQgdGhhdCBieSBwZXJmb3JtaW5nIHRoZSBwYXJzaW5nIGluIGEgMm5kIHN0ZXAgYnkgdGFraW5nIGEgcHJldmlvdXNseSBub3JtYWxpemVkXG4gKiBVUkwgKGUuZy4gYnkgYXNzaWduaW5nIHRvIGEuaHJlZikgYW5kIGFzc2lnbmluZyBpdCBhLmhyZWYgYWdhaW4uICBUaGlzIGNvcnJlY3RseSBwb3B1bGF0ZXMgdGhlXG4gKiBwcm9wZXJ0aWVzIHN1Y2ggYXMgcHJvdG9jb2wsIGhvc3RuYW1lLCBwb3J0LCBldGMuXG4gKlxuICogUmVmZXJlbmNlczpcbiAqICAgaHR0cDovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEFuY2hvckVsZW1lbnRcbiAqICAgaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXG4gKiAgIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICogICBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMjkwMlxuICogICBodHRwOi8vamFtZXMucGFkb2xzZXkuY29tL2phdmFzY3JpcHQvcGFyc2luZy11cmxzLXdpdGgtdGhlLWRvbS9cbiAqXG4gKiBAa2luZCBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZC5cbiAqIEBkZXNjcmlwdGlvbiBOb3JtYWxpemVzIGFuZCBwYXJzZXMgYSBVUkwuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBSZXR1cm5zIHRoZSBub3JtYWxpemVkIFVSTCBhcyBhIGRpY3Rpb25hcnkuXG4gKlxuICogICB8IG1lbWJlciBuYW1lICAgfCBEZXNjcmlwdGlvbiAgICB8XG4gKiAgIHwtLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcbiAqICAgfCBocmVmICAgICAgICAgIHwgQSBub3JtYWxpemVkIHZlcnNpb24gb2YgdGhlIHByb3ZpZGVkIFVSTCBpZiBpdCB3YXMgbm90IGFuIGFic29sdXRlIFVSTCB8XG4gKiAgIHwgcHJvdG9jb2wgICAgICB8IFRoZSBwcm90b2NvbCBpbmNsdWRpbmcgdGhlIHRyYWlsaW5nIGNvbG9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8IGhvc3QgICAgICAgICAgfCBUaGUgaG9zdCBhbmQgcG9ydCAoaWYgdGhlIHBvcnQgaXMgbm9uLWRlZmF1bHQpIG9mIHRoZSBub3JtYWxpemVkVXJsICAgIHxcbiAqICAgfCBzZWFyY2ggICAgICAgIHwgVGhlIHNlYXJjaCBwYXJhbXMsIG1pbnVzIHRoZSBxdWVzdGlvbiBtYXJrICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgIHwgaGFzaCAgICAgICAgICB8IFRoZSBoYXNoIHN0cmluZywgbWludXMgdGhlIGhhc2ggc3ltYm9sXG4gKiAgIHwgaG9zdG5hbWUgICAgICB8IFRoZSBob3N0bmFtZVxuICogICB8IHBvcnQgICAgICAgICAgfCBUaGUgcG9ydCwgd2l0aG91dCBcIjpcIlxuICogICB8IHBhdGhuYW1lICAgICAgfCBUaGUgcGF0aG5hbWUsIGJlZ2lubmluZyB3aXRoIFwiL1wiXG4gKlxuICovXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHVybCkge1xuICB2YXIgaHJlZiA9IHVybDtcblxuICBpZiAobXNpZSkge1xuICAgIC8vIE5vcm1hbGl6ZSBiZWZvcmUgcGFyc2UuICBSZWZlciBJbXBsZW1lbnRhdGlvbiBOb3RlcyBvbiB3aHkgdGhpcyBpc1xuICAgIC8vIGRvbmUgaW4gdHdvIHN0ZXBzIG9uIElFLlxuICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgaHJlZik7XG4gICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gIH1cblxuICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gIHJldHVybiB7XG4gICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJylcbiAgICAgID8gdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIDogJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgfTtcbn1cblxuLyoqXG4gKiBQYXJzZSBhIHJlcXVlc3QgVVJMIGFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGEgc2FtZS1vcmlnaW4gcmVxdWVzdCBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZXF1ZXN0VXJsIFRoZSB1cmwgb2YgdGhlIHJlcXVlc3QgYXMgYSBzdHJpbmcgdGhhdCB3aWxsIGJlIHJlc29sdmVkXG4gKiBvciBhIHBhcnNlZCBVUkwgb2JqZWN0LlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHJlcXVlc3QgaXMgZm9yIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHVybElzU2FtZU9yaWdpbihyZXF1ZXN0VXJsKSB7XG4gIHZhciBwYXJzZWQgPSAoaXNTdHJpbmcocmVxdWVzdFVybCkpID8gdXJsUmVzb2x2ZShyZXF1ZXN0VXJsKSA6IHJlcXVlc3RVcmw7XG4gIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VcmwucHJvdG9jb2wgJiZcbiAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVXJsLmhvc3QpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkd2luZG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIHJlZmVyZW5jZSB0byB0aGUgYnJvd3NlcidzIGB3aW5kb3dgIG9iamVjdC4gV2hpbGUgYHdpbmRvd2BcbiAqIGlzIGdsb2JhbGx5IGF2YWlsYWJsZSBpbiBKYXZhU2NyaXB0LCBpdCBjYXVzZXMgdGVzdGFiaWxpdHkgcHJvYmxlbXMsIGJlY2F1c2VcbiAqIGl0IGlzIGEgZ2xvYmFsIHZhcmlhYmxlLiBJbiBhbmd1bGFyIHdlIGFsd2F5cyByZWZlciB0byBpdCB0aHJvdWdoIHRoZVxuICogYCR3aW5kb3dgIHNlcnZpY2UsIHNvIGl0IG1heSBiZSBvdmVycmlkZGVuLCByZW1vdmVkIG9yIG1vY2tlZCBmb3IgdGVzdGluZy5cbiAqXG4gKiBFeHByZXNzaW9ucywgbGlrZSB0aGUgb25lIGRlZmluZWQgZm9yIHRoZSBgbmdDbGlja2AgZGlyZWN0aXZlIGluIHRoZSBleGFtcGxlXG4gKiBiZWxvdywgYXJlIGV2YWx1YXRlZCB3aXRoIHJlc3BlY3QgdG8gdGhlIGN1cnJlbnQgc2NvcGUuICBUaGVyZWZvcmUsIHRoZXJlIGlzXG4gKiBubyByaXNrIG9mIGluYWR2ZXJ0ZW50bHkgY29kaW5nIGluIGEgZGVwZW5kZW5jeSBvbiBhIGdsb2JhbCB2YWx1ZSBpbiBzdWNoIGFuXG4gKiBleHByZXNzaW9uLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJ3aW5kb3dFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd3aW5kb3dFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyR3aW5kb3cnLCBmdW5jdGlvbigkc2NvcGUsICR3aW5kb3cpIHtcbiAgICAgICAgICAgICAkc2NvcGUuZ3JlZXRpbmcgPSAnSGVsbG8sIFdvcmxkISc7XG4gICAgICAgICAgICAgJHNjb3BlLmRvR3JlZXRpbmcgPSBmdW5jdGlvbihncmVldGluZykge1xuICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChncmVldGluZyk7XG4gICAgICAgICAgICAgfTtcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImdyZWV0aW5nXCIgYXJpYS1sYWJlbD1cImdyZWV0aW5nXCIgLz5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJkb0dyZWV0aW5nKGdyZWV0aW5nKVwiPkFMRVJUPC9idXR0b24+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHRoZSBncmVldGluZyBpbiB0aGUgaW5wdXQgYm94JywgZnVuY3Rpb24oKSB7XG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnZ3JlZXRpbmcnKSkuc2VuZEtleXMoJ0hlbGxvLCBFMkUgVGVzdHMnKTtcbiAgICAgICAvLyBJZiB3ZSBjbGljayB0aGUgYnV0dG9uIGl0IHdpbGwgYmxvY2sgdGhlIHRlc3QgcnVubmVyXG4gICAgICAgLy8gZWxlbWVudCgnOmJ1dHRvbicpLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkV2luZG93UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IHZhbHVlRm4od2luZG93KTtcbn1cblxuLyoqXG4gKiBAbmFtZSAkJGNvb2tpZVJlYWRlclxuICogQHJlcXVpcmVzICRkb2N1bWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyBhIHByaXZhdGUgc2VydmljZSBmb3IgcmVhZGluZyBjb29raWVzIHVzZWQgYnkgJGh0dHAgYW5kIG5nQ29va2llc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gYSBrZXkvdmFsdWUgbWFwIG9mIHRoZSBjdXJyZW50IGNvb2tpZXNcbiAqL1xuZnVuY3Rpb24gJCRDb29raWVSZWFkZXIoJGRvY3VtZW50KSB7XG4gIHZhciByYXdEb2N1bWVudCA9ICRkb2N1bWVudFswXSB8fCB7fTtcbiAgdmFyIGxhc3RDb29raWVzID0ge307XG4gIHZhciBsYXN0Q29va2llU3RyaW5nID0gJyc7XG5cbiAgZnVuY3Rpb24gc2FmZURlY29kZVVSSUNvbXBvbmVudChzdHIpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb29raWVBcnJheSwgY29va2llLCBpLCBpbmRleCwgbmFtZTtcbiAgICB2YXIgY3VycmVudENvb2tpZVN0cmluZyA9IHJhd0RvY3VtZW50LmNvb2tpZSB8fCAnJztcblxuICAgIGlmIChjdXJyZW50Q29va2llU3RyaW5nICE9PSBsYXN0Q29va2llU3RyaW5nKSB7XG4gICAgICBsYXN0Q29va2llU3RyaW5nID0gY3VycmVudENvb2tpZVN0cmluZztcbiAgICAgIGNvb2tpZUFycmF5ID0gbGFzdENvb2tpZVN0cmluZy5zcGxpdCgnOyAnKTtcbiAgICAgIGxhc3RDb29raWVzID0ge307XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29raWVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb29raWUgPSBjb29raWVBcnJheVtpXTtcbiAgICAgICAgaW5kZXggPSBjb29raWUuaW5kZXhPZignPScpO1xuICAgICAgICBpZiAoaW5kZXggPiAwKSB7IC8vaWdub3JlIG5hbWVsZXNzIGNvb2tpZXNcbiAgICAgICAgICBuYW1lID0gc2FmZURlY29kZVVSSUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKDAsIGluZGV4KSk7XG4gICAgICAgICAgLy8gdGhlIGZpcnN0IHZhbHVlIHRoYXQgaXMgc2VlbiBmb3IgYSBjb29raWUgaXMgdGhlIG1vc3RcbiAgICAgICAgICAvLyBzcGVjaWZpYyBvbmUuICB2YWx1ZXMgZm9yIHRoZSBzYW1lIGNvb2tpZSBuYW1lIHRoYXRcbiAgICAgICAgICAvLyBmb2xsb3cgYXJlIGZvciBsZXNzIHNwZWNpZmljIHBhdGhzLlxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChsYXN0Q29va2llc1tuYW1lXSkpIHtcbiAgICAgICAgICAgIGxhc3RDb29raWVzW25hbWVdID0gc2FmZURlY29kZVVSSUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKGluZGV4ICsgMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGFzdENvb2tpZXM7XG4gIH07XG59XG5cbiQkQ29va2llUmVhZGVyLiRpbmplY3QgPSBbJyRkb2N1bWVudCddO1xuXG5mdW5jdGlvbiAkJENvb2tpZVJlYWRlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSAkJENvb2tpZVJlYWRlcjtcbn1cblxuLyogZ2xvYmFsIGN1cnJlbmN5RmlsdGVyOiB0cnVlLFxuIGRhdGVGaWx0ZXI6IHRydWUsXG4gZmlsdGVyRmlsdGVyOiB0cnVlLFxuIGpzb25GaWx0ZXI6IHRydWUsXG4gbGltaXRUb0ZpbHRlcjogdHJ1ZSxcbiBsb3dlcmNhc2VGaWx0ZXI6IHRydWUsXG4gbnVtYmVyRmlsdGVyOiB0cnVlLFxuIG9yZGVyQnlGaWx0ZXI6IHRydWUsXG4gdXBwZXJjYXNlRmlsdGVyOiB0cnVlLFxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkZmlsdGVyUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEZpbHRlcnMgYXJlIGp1c3QgZnVuY3Rpb25zIHdoaWNoIHRyYW5zZm9ybSBpbnB1dCB0byBhbiBvdXRwdXQuIEhvd2V2ZXIgZmlsdGVycyBuZWVkIHRvIGJlXG4gKiBEZXBlbmRlbmN5IEluamVjdGVkLiBUbyBhY2hpZXZlIHRoaXMgYSBmaWx0ZXIgZGVmaW5pdGlvbiBjb25zaXN0cyBvZiBhIGZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggaXNcbiAqIGFubm90YXRlZCB3aXRoIGRlcGVuZGVuY2llcyBhbmQgaXMgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIGEgZmlsdGVyIGZ1bmN0aW9uLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogRmlsdGVyIG5hbWVzIG11c3QgYmUgdmFsaWQgYW5ndWxhciB7QGxpbmsgZXhwcmVzc2lvbn0gaWRlbnRpZmllcnMsIHN1Y2ggYXMgYHVwcGVyY2FzZWAgb3IgYG9yZGVyQnlgLlxuICogTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcbiAqIHlvdXIgZmlsdGVycywgdGhlbiB5b3UgY2FuIHVzZSBjYXBpdGFsaXphdGlvbiAoYG15YXBwU3Vic2VjdGlvbkZpbHRlcnhgKSBvciB1bmRlcnNjb3Jlc1xuICogKGBteWFwcF9zdWJzZWN0aW9uX2ZpbHRlcnhgKS5cbiAqIDwvZGl2PlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIEZpbHRlciByZWdpc3RyYXRpb25cbiAqICAgZnVuY3Rpb24gTXlNb2R1bGUoJHByb3ZpZGUsICRmaWx0ZXJQcm92aWRlcikge1xuICogICAgIC8vIGNyZWF0ZSBhIHNlcnZpY2UgdG8gZGVtb25zdHJhdGUgaW5qZWN0aW9uIChub3QgYWx3YXlzIG5lZWRlZClcbiAqICAgICAkcHJvdmlkZS52YWx1ZSgnZ3JlZXQnLCBmdW5jdGlvbihuYW1lKXtcbiAqICAgICAgIHJldHVybiAnSGVsbG8gJyArIG5hbWUgKyAnISc7XG4gKiAgICAgfSk7XG4gKlxuICogICAgIC8vIHJlZ2lzdGVyIGEgZmlsdGVyIGZhY3Rvcnkgd2hpY2ggdXNlcyB0aGVcbiAqICAgICAvLyBncmVldCBzZXJ2aWNlIHRvIGRlbW9uc3RyYXRlIERJLlxuICogICAgICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcignZ3JlZXQnLCBmdW5jdGlvbihncmVldCl7XG4gKiAgICAgICAvLyByZXR1cm4gdGhlIGZpbHRlciBmdW5jdGlvbiB3aGljaCB1c2VzIHRoZSBncmVldCBzZXJ2aWNlXG4gKiAgICAgICAvLyB0byBnZW5lcmF0ZSBzYWx1dGF0aW9uXG4gKiAgICAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xuICogICAgICAgICAvLyBmaWx0ZXJzIG5lZWQgdG8gYmUgZm9yZ2l2aW5nIHNvIGNoZWNrIGlucHV0IHZhbGlkaXR5XG4gKiAgICAgICAgIHJldHVybiB0ZXh0ICYmIGdyZWV0KHRleHQpIHx8IHRleHQ7XG4gKiAgICAgICB9O1xuICogICAgIH0pO1xuICogICB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgZmlsdGVyIGZ1bmN0aW9uIGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgYCRpbmplY3RvcmAgdW5kZXIgdGhlIGZpbHRlciBuYW1lIHN1ZmZpeCB3aXRoXG4gKiBgRmlsdGVyYC5cbiAqXG4gKiBgYGBqc1xuICogICBpdCgnc2hvdWxkIGJlIHRoZSBzYW1lIGluc3RhbmNlJywgaW5qZWN0KFxuICogICAgIGZ1bmN0aW9uKCRmaWx0ZXJQcm92aWRlcikge1xuICogICAgICAgJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyKCdyZXZlcnNlJywgZnVuY3Rpb24oKXtcbiAqICAgICAgICAgcmV0dXJuIC4uLjtcbiAqICAgICAgIH0pO1xuICogICAgIH0sXG4gKiAgICAgZnVuY3Rpb24oJGZpbHRlciwgcmV2ZXJzZUZpbHRlcikge1xuICogICAgICAgZXhwZWN0KCRmaWx0ZXIoJ3JldmVyc2UnKSkudG9CZShyZXZlcnNlRmlsdGVyKTtcbiAqICAgICB9KTtcbiAqIGBgYFxuICpcbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBob3cgYW5ndWxhciBmaWx0ZXJzIHdvcmssIGFuZCBob3cgdG8gY3JlYXRlIHlvdXIgb3duIGZpbHRlcnMsIHNlZVxuICoge0BsaW5rIGd1aWRlL2ZpbHRlciBGaWx0ZXJzfSBpbiB0aGUgQW5ndWxhciBEZXZlbG9wZXIgR3VpZGUuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGZpbHRlclxuICogQGtpbmQgZnVuY3Rpb25cbiAqIEBkZXNjcmlwdGlvblxuICogRmlsdGVycyBhcmUgdXNlZCBmb3IgZm9ybWF0dGluZyBkYXRhIGRpc3BsYXllZCB0byB0aGUgdXNlci5cbiAqXG4gKiBUaGUgZ2VuZXJhbCBzeW50YXggaW4gdGVtcGxhdGVzIGlzIGFzIGZvbGxvd3M6XG4gKlxuICogICAgICAgICB7eyBleHByZXNzaW9uIFt8IGZpbHRlcl9uYW1lWzpwYXJhbWV0ZXJfdmFsdWVdIC4uLiBdIH19XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgZmlsdGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGZpbHRlciBmdW5jdGlvblxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCIkZmlsdGVyXCIgbW9kdWxlPVwiZmlsdGVyRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5DdHJsXCI+XG4gICAgICAgIDxoMz57eyBvcmlnaW5hbFRleHQgfX08L2gzPlxuICAgICAgICA8aDM+e3sgZmlsdGVyZWRUZXh0IH19PC9oMz5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdmaWx0ZXJFeGFtcGxlJywgW10pXG4gICAgICAuY29udHJvbGxlcignTWFpbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRmaWx0ZXIpIHtcbiAgICAgICAgJHNjb3BlLm9yaWdpbmFsVGV4dCA9ICdoZWxsbyc7XG4gICAgICAgICRzY29wZS5maWx0ZXJlZFRleHQgPSAkZmlsdGVyKCd1cHBlcmNhc2UnKSgkc2NvcGUub3JpZ2luYWxUZXh0KTtcbiAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gICovXG4kRmlsdGVyUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnXTtcbmZ1bmN0aW9uICRGaWx0ZXJQcm92aWRlcigkcHJvdmlkZSkge1xuICB2YXIgc3VmZml4ID0gJ0ZpbHRlcic7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGZpbHRlclByb3ZpZGVyI3JlZ2lzdGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBOYW1lIG9mIHRoZSBmaWx0ZXIgZnVuY3Rpb24sIG9yIGFuIG9iamVjdCBtYXAgb2YgZmlsdGVycyB3aGVyZVxuICAgKiAgICB0aGUga2V5cyBhcmUgdGhlIGZpbHRlciBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZpbHRlciBmYWN0b3JpZXMuXG4gICAqXG4gICAqICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqICAgICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXG4gICAqICAgIE5hbWVzIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzLCBzdWNoIGFzIGh5cGhlbnMgYW5kIGRvdHMsIGFyZSBub3QgYWxsb3dlZC4gSWYgeW91IHdpc2ggdG8gbmFtZXNwYWNlXG4gICAqICAgIHlvdXIgZmlsdGVycywgdGhlbiB5b3UgY2FuIHVzZSBjYXBpdGFsaXphdGlvbiAoYG15YXBwU3Vic2VjdGlvbkZpbHRlcnhgKSBvciB1bmRlcnNjb3Jlc1xuICAgKiAgICAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxuICAgKiAgICA8L2Rpdj5cbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZhY3RvcnkgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IHdhcyBhIHN0cmluZywgYSBmYWN0b3J5IGZ1bmN0aW9uIGZvciB0aGUgZmlsdGVyIHRvIGJlIHJlZ2lzdGVyZWQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJlZ2lzdGVyZWQgZmlsdGVyIGluc3RhbmNlLCBvciBpZiBhIG1hcCBvZiBmaWx0ZXJzIHdhcyBwcm92aWRlZCB0aGVuIGEgbWFwXG4gICAqICAgIG9mIHRoZSByZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZWdpc3RlcihuYW1lLCBmYWN0b3J5KSB7XG4gICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICB2YXIgZmlsdGVycyA9IHt9O1xuICAgICAgZm9yRWFjaChuYW1lLCBmdW5jdGlvbihmaWx0ZXIsIGtleSkge1xuICAgICAgICBmaWx0ZXJzW2tleV0gPSByZWdpc3RlcihrZXksIGZpbHRlcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWx0ZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJHByb3ZpZGUuZmFjdG9yeShuYW1lICsgc3VmZml4LCBmYWN0b3J5KTtcbiAgICB9XG4gIH1cbiAgdGhpcy5yZWdpc3RlciA9IHJlZ2lzdGVyO1xuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHJldHVybiAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBzdWZmaXgpO1xuICAgIH07XG4gIH1dO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvKiBnbG9iYWxcbiAgICBjdXJyZW5jeUZpbHRlcjogZmFsc2UsXG4gICAgZGF0ZUZpbHRlcjogZmFsc2UsXG4gICAgZmlsdGVyRmlsdGVyOiBmYWxzZSxcbiAgICBqc29uRmlsdGVyOiBmYWxzZSxcbiAgICBsaW1pdFRvRmlsdGVyOiBmYWxzZSxcbiAgICBsb3dlcmNhc2VGaWx0ZXI6IGZhbHNlLFxuICAgIG51bWJlckZpbHRlcjogZmFsc2UsXG4gICAgb3JkZXJCeUZpbHRlcjogZmFsc2UsXG4gICAgdXBwZXJjYXNlRmlsdGVyOiBmYWxzZSxcbiAgKi9cblxuICByZWdpc3RlcignY3VycmVuY3knLCBjdXJyZW5jeUZpbHRlcik7XG4gIHJlZ2lzdGVyKCdkYXRlJywgZGF0ZUZpbHRlcik7XG4gIHJlZ2lzdGVyKCdmaWx0ZXInLCBmaWx0ZXJGaWx0ZXIpO1xuICByZWdpc3RlcignanNvbicsIGpzb25GaWx0ZXIpO1xuICByZWdpc3RlcignbGltaXRUbycsIGxpbWl0VG9GaWx0ZXIpO1xuICByZWdpc3RlcignbG93ZXJjYXNlJywgbG93ZXJjYXNlRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ251bWJlcicsIG51bWJlckZpbHRlcik7XG4gIHJlZ2lzdGVyKCdvcmRlckJ5Jywgb3JkZXJCeUZpbHRlcik7XG4gIHJlZ2lzdGVyKCd1cHBlcmNhc2UnLCB1cHBlcmNhc2VGaWx0ZXIpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGZpbHRlclxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNlbGVjdHMgYSBzdWJzZXQgb2YgaXRlbXMgZnJvbSBgYXJyYXlgIGFuZCByZXR1cm5zIGl0IGFzIGEgbmV3IGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3VyY2UgYXJyYXkuXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R8ZnVuY3Rpb24oKX0gZXhwcmVzc2lvbiBUaGUgcHJlZGljYXRlIHRvIGJlIHVzZWQgZm9yIHNlbGVjdGluZyBpdGVtcyBmcm9tXG4gKiAgIGBhcnJheWAuXG4gKlxuICogICBDYW4gYmUgb25lIG9mOlxuICpcbiAqICAgLSBgc3RyaW5nYDogVGhlIHN0cmluZyBpcyB1c2VkIGZvciBtYXRjaGluZyBhZ2FpbnN0IHRoZSBjb250ZW50cyBvZiB0aGUgYGFycmF5YC4gQWxsIHN0cmluZ3Mgb3JcbiAqICAgICBvYmplY3RzIHdpdGggc3RyaW5nIHByb3BlcnRpZXMgaW4gYGFycmF5YCB0aGF0IG1hdGNoIHRoaXMgc3RyaW5nIHdpbGwgYmUgcmV0dXJuZWQuIFRoaXMgYWxzb1xuICogICAgIGFwcGxpZXMgdG8gbmVzdGVkIG9iamVjdCBwcm9wZXJ0aWVzLlxuICogICAgIFRoZSBwcmVkaWNhdGUgY2FuIGJlIG5lZ2F0ZWQgYnkgcHJlZml4aW5nIHRoZSBzdHJpbmcgd2l0aCBgIWAuXG4gKlxuICogICAtIGBPYmplY3RgOiBBIHBhdHRlcm4gb2JqZWN0IGNhbiBiZSB1c2VkIHRvIGZpbHRlciBzcGVjaWZpYyBwcm9wZXJ0aWVzIG9uIG9iamVjdHMgY29udGFpbmVkXG4gKiAgICAgYnkgYGFycmF5YC4gRm9yIGV4YW1wbGUgYHtuYW1lOlwiTVwiLCBwaG9uZTpcIjFcIn1gIHByZWRpY2F0ZSB3aWxsIHJldHVybiBhbiBhcnJheSBvZiBpdGVtc1xuICogICAgIHdoaWNoIGhhdmUgcHJvcGVydHkgYG5hbWVgIGNvbnRhaW5pbmcgXCJNXCIgYW5kIHByb3BlcnR5IGBwaG9uZWAgY29udGFpbmluZyBcIjFcIi4gQSBzcGVjaWFsXG4gKiAgICAgcHJvcGVydHkgbmFtZSBgJGAgY2FuIGJlIHVzZWQgKGFzIGluIGB7JDpcInRleHRcIn1gKSB0byBhY2NlcHQgYSBtYXRjaCBhZ2FpbnN0IGFueVxuICogICAgIHByb3BlcnR5IG9mIHRoZSBvYmplY3Qgb3IgaXRzIG5lc3RlZCBvYmplY3QgcHJvcGVydGllcy4gVGhhdCdzIGVxdWl2YWxlbnQgdG8gdGhlIHNpbXBsZVxuICogICAgIHN1YnN0cmluZyBtYXRjaCB3aXRoIGEgYHN0cmluZ2AgYXMgZGVzY3JpYmVkIGFib3ZlLiBUaGUgcHJlZGljYXRlIGNhbiBiZSBuZWdhdGVkIGJ5IHByZWZpeGluZ1xuICogICAgIHRoZSBzdHJpbmcgd2l0aCBgIWAuXG4gKiAgICAgRm9yIGV4YW1wbGUgYHtuYW1lOiBcIiFNXCJ9YCBwcmVkaWNhdGUgd2lsbCByZXR1cm4gYW4gYXJyYXkgb2YgaXRlbXMgd2hpY2ggaGF2ZSBwcm9wZXJ0eSBgbmFtZWBcbiAqICAgICBub3QgY29udGFpbmluZyBcIk1cIi5cbiAqXG4gKiAgICAgTm90ZSB0aGF0IGEgbmFtZWQgcHJvcGVydHkgd2lsbCBtYXRjaCBwcm9wZXJ0aWVzIG9uIHRoZSBzYW1lIGxldmVsIG9ubHksIHdoaWxlIHRoZSBzcGVjaWFsXG4gKiAgICAgYCRgIHByb3BlcnR5IHdpbGwgbWF0Y2ggcHJvcGVydGllcyBvbiB0aGUgc2FtZSBsZXZlbCBvciBkZWVwZXIuIEUuZy4gYW4gYXJyYXkgaXRlbSBsaWtlXG4gKiAgICAgYHtuYW1lOiB7Zmlyc3Q6ICdKb2huJywgbGFzdDogJ0RvZSd9fWAgd2lsbCAqKm5vdCoqIGJlIG1hdGNoZWQgYnkgYHtuYW1lOiAnSm9obid9YCwgYnV0XG4gKiAgICAgKip3aWxsKiogYmUgbWF0Y2hlZCBieSBgeyQ6ICdKb2huJ31gLlxuICpcbiAqICAgLSBgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBhcnJheSlgOiBBIHByZWRpY2F0ZSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byB3cml0ZSBhcmJpdHJhcnkgZmlsdGVycy5cbiAqICAgICBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5LCB3aXRoIHRoZSBlbGVtZW50LCBpdHMgaW5kZXgsIGFuZFxuICogICAgIHRoZSBlbnRpcmUgYXJyYXkgaXRzZWxmIGFzIGFyZ3VtZW50cy5cbiAqXG4gKiAgICAgVGhlIGZpbmFsIHJlc3VsdCBpcyBhbiBhcnJheSBvZiB0aG9zZSBlbGVtZW50cyB0aGF0IHRoZSBwcmVkaWNhdGUgcmV0dXJuZWQgdHJ1ZSBmb3IuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKXx0cnVlfHVuZGVmaW5lZH0gY29tcGFyYXRvciBDb21wYXJhdG9yIHdoaWNoIGlzIHVzZWQgaW5cbiAqICAgICBkZXRlcm1pbmluZyBpZiB0aGUgZXhwZWN0ZWQgdmFsdWUgKGZyb20gdGhlIGZpbHRlciBleHByZXNzaW9uKSBhbmQgYWN0dWFsIHZhbHVlIChmcm9tXG4gKiAgICAgdGhlIG9iamVjdCBpbiB0aGUgYXJyYXkpIHNob3VsZCBiZSBjb25zaWRlcmVkIGEgbWF0Y2guXG4gKlxuICogICBDYW4gYmUgb25lIG9mOlxuICpcbiAqICAgLSBgZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZClgOlxuICogICAgIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGdpdmVuIHRoZSBvYmplY3QgdmFsdWUgYW5kIHRoZSBwcmVkaWNhdGUgdmFsdWUgdG8gY29tcGFyZSBhbmRcbiAqICAgICBzaG91bGQgcmV0dXJuIHRydWUgaWYgYm90aCB2YWx1ZXMgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZXF1YWwuXG4gKlxuICogICAtIGB0cnVlYDogQSBzaG9ydGhhbmQgZm9yIGBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKSB7IHJldHVybiBhbmd1bGFyLmVxdWFscyhhY3R1YWwsIGV4cGVjdGVkKX1gLlxuICogICAgIFRoaXMgaXMgZXNzZW50aWFsbHkgc3RyaWN0IGNvbXBhcmlzb24gb2YgZXhwZWN0ZWQgYW5kIGFjdHVhbC5cbiAqXG4gKiAgIC0gYGZhbHNlfHVuZGVmaW5lZGA6IEEgc2hvcnQgaGFuZCBmb3IgYSBmdW5jdGlvbiB3aGljaCB3aWxsIGxvb2sgZm9yIGEgc3Vic3RyaW5nIG1hdGNoIGluIGNhc2VcbiAqICAgICBpbnNlbnNpdGl2ZSB3YXkuXG4gKlxuICogICAgIFByaW1pdGl2ZSB2YWx1ZXMgYXJlIGNvbnZlcnRlZCB0byBzdHJpbmdzLiBPYmplY3RzIGFyZSBub3QgY29tcGFyZWQgYWdhaW5zdCBwcmltaXRpdmVzLFxuICogICAgIHVubGVzcyB0aGV5IGhhdmUgYSBjdXN0b20gYHRvU3RyaW5nYCBtZXRob2QgKGUuZy4gYERhdGVgIG9iamVjdHMpLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWluaXQ9XCJmcmllbmRzID0gW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjc2J30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidNYXJ5JywgcGhvbmU6JzgwMC1CSUctTUFSWSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWlrZScsIHBob25lOic1NTUtNDMyMSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonQWRhbScsIHBob25lOic1NTUtNTY3OCd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonSnVsaWUnLCBwaG9uZTonNTU1LTg3NjUnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGlldHRlJywgcGhvbmU6JzU1NS01Njc4J31dXCI+PC9kaXY+XG5cbiAgICAgICA8bGFiZWw+U2VhcmNoOiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2hUZXh0XCI+PC9sYWJlbD5cbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hUZXh0UmVzdWx0c1wiPlxuICAgICAgICAgPHRyPjx0aD5OYW1lPC90aD48dGg+UGhvbmU8L3RoPjwvdHI+XG4gICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBmaWx0ZXI6c2VhcmNoVGV4dFwiPlxuICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICA8L3RhYmxlPlxuICAgICAgIDxocj5cbiAgICAgICA8bGFiZWw+QW55OiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2guJFwiPjwvbGFiZWw+IDxicj5cbiAgICAgICA8bGFiZWw+TmFtZSBvbmx5IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC5uYW1lXCI+PC9sYWJlbD48YnI+XG4gICAgICAgPGxhYmVsPlBob25lIG9ubHkgPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLnBob25lXCI+PC9sYWJlbD48YnI+XG4gICAgICAgPGxhYmVsPkVxdWFsaXR5IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInN0cmljdFwiPjwvbGFiZWw+PGJyPlxuICAgICAgIDx0YWJsZSBpZD1cInNlYXJjaE9ialJlc3VsdHNcIj5cbiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxuICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZE9iaiBpbiBmcmllbmRzIHwgZmlsdGVyOnNlYXJjaDpzdHJpY3RcIj5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kT2JqLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5waG9uZX19PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIGV4cGVjdEZyaWVuZE5hbWVzID0gZnVuY3Rpb24oZXhwZWN0ZWROYW1lcywga2V5KSB7XG4gICAgICAgICBlbGVtZW50LmFsbChieS5yZXBlYXRlcihrZXkgKyAnIGluIGZyaWVuZHMnKS5jb2x1bW4oa2V5ICsgJy5uYW1lJykpLnRoZW4oZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uKHdkLCBpKSB7XG4gICAgICAgICAgICAgZXhwZWN0KHdkLmdldFRleHQoKSkudG9NYXRjaChleHBlY3RlZE5hbWVzW2ldKTtcbiAgICAgICAgICAgfSk7XG4gICAgICAgICB9KTtcbiAgICAgICB9O1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzZWFyY2ggYWNyb3NzIGFsbCBmaWVsZHMgd2hlbiBmaWx0ZXJpbmcgd2l0aCBhIHN0cmluZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaFRleHQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWFyY2hUZXh0JykpO1xuICAgICAgICAgc2VhcmNoVGV4dC5jbGVhcigpO1xuICAgICAgICAgc2VhcmNoVGV4dC5zZW5kS2V5cygnbScpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydNYXJ5JywgJ01pa2UnLCAnQWRhbSddLCAnZnJpZW5kJyk7XG5cbiAgICAgICAgIHNlYXJjaFRleHQuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJzc2Jyk7XG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0pvaG4nLCAnSnVsaWUnXSwgJ2ZyaWVuZCcpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzZWFyY2ggaW4gc3BlY2lmaWMgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBwcmVkaWNhdGUgb2JqZWN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgc2VhcmNoQW55ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoLiQnKSk7XG4gICAgICAgICBzZWFyY2hBbnkuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaEFueS5zZW5kS2V5cygnaScpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydNYXJ5JywgJ01pa2UnLCAnSnVsaWUnLCAnSnVsaWV0dGUnXSwgJ2ZyaWVuZE9iaicpO1xuICAgICAgIH0pO1xuICAgICAgIGl0KCdzaG91bGQgdXNlIGEgZXF1YWwgY29tcGFyaXNvbiB3aGVuIGNvbXBhcmF0b3IgaXMgdHJ1ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaE5hbWUgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWFyY2gubmFtZScpKTtcbiAgICAgICAgIHZhciBzdHJpY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzdHJpY3QnKSk7XG4gICAgICAgICBzZWFyY2hOYW1lLmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hOYW1lLnNlbmRLZXlzKCdKdWxpZScpO1xuICAgICAgICAgc3RyaWN0LmNsaWNrKCk7XG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0p1bGllJ10sICdmcmllbmRPYmonKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBmaWx0ZXJGaWx0ZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcnJheSwgZXhwcmVzc2lvbiwgY29tcGFyYXRvcikge1xuICAgIGlmICghaXNBcnJheUxpa2UoYXJyYXkpKSB7XG4gICAgICBpZiAoYXJyYXkgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJ2ZpbHRlcicpKCdub3RhcnJheScsICdFeHBlY3RlZCBhcnJheSBidXQgcmVjZWl2ZWQ6IHswfScsIGFycmF5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZXhwcmVzc2lvblR5cGUgPSBnZXRUeXBlRm9yRmlsdGVyKGV4cHJlc3Npb24pO1xuICAgIHZhciBwcmVkaWNhdGVGbjtcbiAgICB2YXIgbWF0Y2hBZ2FpbnN0QW55UHJvcDtcblxuICAgIHN3aXRjaCAoZXhwcmVzc2lvblR5cGUpIHtcbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgcHJlZGljYXRlRm4gPSBleHByZXNzaW9uO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgbWF0Y2hBZ2FpbnN0QW55UHJvcCA9IHRydWU7XG4gICAgICAgIC8vanNoaW50IC1XMDg2XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAvL2pzaGludCArVzA4NlxuICAgICAgICBwcmVkaWNhdGVGbiA9IGNyZWF0ZVByZWRpY2F0ZUZuKGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIG1hdGNoQWdhaW5zdEFueVByb3ApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFycmF5LCBwcmVkaWNhdGVGbik7XG4gIH07XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIGBmaWx0ZXJGaWx0ZXJgXG5mdW5jdGlvbiBjcmVhdGVQcmVkaWNhdGVGbihleHByZXNzaW9uLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKSB7XG4gIHZhciBzaG91bGRNYXRjaFByaW1pdGl2ZXMgPSBpc09iamVjdChleHByZXNzaW9uKSAmJiAoJyQnIGluIGV4cHJlc3Npb24pO1xuICB2YXIgcHJlZGljYXRlRm47XG5cbiAgaWYgKGNvbXBhcmF0b3IgPT09IHRydWUpIHtcbiAgICBjb21wYXJhdG9yID0gZXF1YWxzO1xuICB9IGVsc2UgaWYgKCFpc0Z1bmN0aW9uKGNvbXBhcmF0b3IpKSB7XG4gICAgY29tcGFyYXRvciA9IGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChhY3R1YWwpKSB7XG4gICAgICAgIC8vIE5vIHN1YnN0cmluZyBtYXRjaGluZyBhZ2FpbnN0IGB1bmRlZmluZWRgXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICgoYWN0dWFsID09PSBudWxsKSB8fCAoZXhwZWN0ZWQgPT09IG51bGwpKSB7XG4gICAgICAgIC8vIE5vIHN1YnN0cmluZyBtYXRjaGluZyBhZ2FpbnN0IGBudWxsYDsgb25seSBtYXRjaCBhZ2FpbnN0IGBudWxsYFxuICAgICAgICByZXR1cm4gYWN0dWFsID09PSBleHBlY3RlZDtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChleHBlY3RlZCkgfHwgKGlzT2JqZWN0KGFjdHVhbCkgJiYgIWhhc0N1c3RvbVRvU3RyaW5nKGFjdHVhbCkpKSB7XG4gICAgICAgIC8vIFNob3VsZCBub3QgY29tcGFyZSBwcmltaXRpdmVzIGFnYWluc3Qgb2JqZWN0cywgdW5sZXNzIHRoZXkgaGF2ZSBjdXN0b20gYHRvU3RyaW5nYCBtZXRob2RcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBhY3R1YWwgPSBsb3dlcmNhc2UoJycgKyBhY3R1YWwpO1xuICAgICAgZXhwZWN0ZWQgPSBsb3dlcmNhc2UoJycgKyBleHBlY3RlZCk7XG4gICAgICByZXR1cm4gYWN0dWFsLmluZGV4T2YoZXhwZWN0ZWQpICE9PSAtMTtcbiAgICB9O1xuICB9XG5cbiAgcHJlZGljYXRlRm4gPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKHNob3VsZE1hdGNoUHJpbWl0aXZlcyAmJiAhaXNPYmplY3QoaXRlbSkpIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHByZXNzaW9uLiQsIGNvbXBhcmF0b3IsIGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZXBDb21wYXJlKGl0ZW0sIGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIG1hdGNoQWdhaW5zdEFueVByb3ApO1xuICB9O1xuXG4gIHJldHVybiBwcmVkaWNhdGVGbjtcbn1cblxuZnVuY3Rpb24gZGVlcENvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCwgZG9udE1hdGNoV2hvbGVPYmplY3QpIHtcbiAgdmFyIGFjdHVhbFR5cGUgPSBnZXRUeXBlRm9yRmlsdGVyKGFjdHVhbCk7XG4gIHZhciBleHBlY3RlZFR5cGUgPSBnZXRUeXBlRm9yRmlsdGVyKGV4cGVjdGVkKTtcblxuICBpZiAoKGV4cGVjdGVkVHlwZSA9PT0gJ3N0cmluZycpICYmIChleHBlY3RlZC5jaGFyQXQoMCkgPT09ICchJykpIHtcbiAgICByZXR1cm4gIWRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQuc3Vic3RyaW5nKDEpLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGFjdHVhbCkpIHtcbiAgICAvLyBJbiBjYXNlIGBhY3R1YWxgIGlzIGFuIGFycmF5LCBjb25zaWRlciBpdCBhIG1hdGNoXG4gICAgLy8gaWYgQU5ZIG9mIGl0J3MgaXRlbXMgbWF0Y2hlcyBgZXhwZWN0ZWRgXG4gICAgcmV0dXJuIGFjdHVhbC5zb21lKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHBlY3RlZCwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XG4gICAgfSk7XG4gIH1cblxuICBzd2l0Y2ggKGFjdHVhbFR5cGUpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdmFyIGtleTtcbiAgICAgIGlmIChtYXRjaEFnYWluc3RBbnlQcm9wKSB7XG4gICAgICAgIGZvciAoa2V5IGluIGFjdHVhbCkge1xuICAgICAgICAgIGlmICgoa2V5LmNoYXJBdCgwKSAhPT0gJyQnKSAmJiBkZWVwQ29tcGFyZShhY3R1YWxba2V5XSwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIHRydWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvbnRNYXRjaFdob2xlT2JqZWN0ID8gZmFsc2UgOiBkZWVwQ29tcGFyZShhY3R1YWwsIGV4cGVjdGVkLCBjb21wYXJhdG9yLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChrZXkgaW4gZXhwZWN0ZWQpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRWYWwgPSBleHBlY3RlZFtrZXldO1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGV4cGVjdGVkVmFsKSB8fCBpc1VuZGVmaW5lZChleHBlY3RlZFZhbCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBtYXRjaEFueVByb3BlcnR5ID0ga2V5ID09PSAnJCc7XG4gICAgICAgICAgdmFyIGFjdHVhbFZhbCA9IG1hdGNoQW55UHJvcGVydHkgPyBhY3R1YWwgOiBhY3R1YWxba2V5XTtcbiAgICAgICAgICBpZiAoIWRlZXBDb21wYXJlKGFjdHVhbFZhbCwgZXhwZWN0ZWRWYWwsIGNvbXBhcmF0b3IsIG1hdGNoQW55UHJvcGVydHksIG1hdGNoQW55UHJvcGVydHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYWN0dWFsLCBleHBlY3RlZCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBjb21wYXJhdG9yKGFjdHVhbCwgZXhwZWN0ZWQpO1xuICB9XG59XG5cbi8vIFVzZWQgZm9yIGVhc2lseSBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiBgbnVsbGAgYW5kIGFjdHVhbCBgb2JqZWN0YFxuZnVuY3Rpb24gZ2V0VHlwZUZvckZpbHRlcih2YWwpIHtcbiAgcmV0dXJuICh2YWwgPT09IG51bGwpID8gJ251bGwnIDogdHlwZW9mIHZhbDtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBjdXJyZW5jeVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgYSBjdXJyZW5jeSAoaWUgJDEsMjM0LjU2KS4gV2hlbiBubyBjdXJyZW5jeSBzeW1ib2wgaXMgcHJvdmlkZWQsIGRlZmF1bHRcbiAqIHN5bWJvbCBmb3IgY3VycmVudCBsb2NhbGUgaXMgdXNlZC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IElucHV0IHRvIGZpbHRlci5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gc3ltYm9sIEN1cnJlbmN5IHN5bWJvbCBvciBpZGVudGlmaWVyIHRvIGJlIGRpc3BsYXllZC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gZnJhY3Rpb25TaXplIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byByb3VuZCB0aGUgYW1vdW50IHRvLCBkZWZhdWx0cyB0byBkZWZhdWx0IG1heCBmcmFjdGlvbiBzaXplIGZvciBjdXJyZW50IGxvY2FsZVxuICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIG51bWJlci5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImN1cnJlbmN5RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3VycmVuY3lFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLmFtb3VudCA9IDEyMzQuNTY7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImFtb3VudFwiIGFyaWEtbGFiZWw9XCJhbW91bnRcIj4gPGJyPlxuICAgICAgICAgZGVmYXVsdCBjdXJyZW5jeSBzeW1ib2wgKCQpOiA8c3BhbiBpZD1cImN1cnJlbmN5LWRlZmF1bHRcIj57e2Ftb3VudCB8IGN1cnJlbmN5fX08L3NwYW4+PGJyPlxuICAgICAgICAgY3VzdG9tIGN1cnJlbmN5IGlkZW50aWZpZXIgKFVTRCQpOiA8c3BhbiBpZD1cImN1cnJlbmN5LWN1c3RvbVwiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCJ9fTwvc3Bhbj5cbiAgICAgICAgIG5vIGZyYWN0aW9ucyAoMCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktbm8tZnJhY3Rpb25zXCI+e3thbW91bnQgfCBjdXJyZW5jeTpcIlVTRCRcIjowfX08L3NwYW4+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgaW5pdCB3aXRoIDEyMzQuNTYnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnJDEsMjM0LjU2Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktY3VzdG9tJykpLmdldFRleHQoKSkudG9CZSgnVVNEJDEsMjM0LjU2Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktbm8tZnJhY3Rpb25zJykpLmdldFRleHQoKSkudG9CZSgnVVNEJDEsMjM1Jyk7XG4gICAgICAgfSk7XG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdzYWZhcmknKSB7XG4gICAgICAgICAgIC8vIFNhZmFyaSBkb2VzIG5vdCB1bmRlcnN0YW5kIHRoZSBtaW51cyBrZXkuIFNlZVxuICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy80ODFcbiAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgfVxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnYW1vdW50JykpLmNsZWFyKCk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdhbW91bnQnKSkuc2VuZEtleXMoJy0xMjM0Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0kMSwyMzQuMDAnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1jdXN0b20nKSkuZ2V0VGV4dCgpKS50b0JlKCctVVNEJDEsMjM0LjAwJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktbm8tZnJhY3Rpb25zJykpLmdldFRleHQoKSkudG9CZSgnLVVTRCQxLDIzNCcpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmN1cnJlbmN5RmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIGN1cnJlbmN5RmlsdGVyKCRsb2NhbGUpIHtcbiAgdmFyIGZvcm1hdHMgPSAkbG9jYWxlLk5VTUJFUl9GT1JNQVRTO1xuICByZXR1cm4gZnVuY3Rpb24oYW1vdW50LCBjdXJyZW5jeVN5bWJvbCwgZnJhY3Rpb25TaXplKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKGN1cnJlbmN5U3ltYm9sKSkge1xuICAgICAgY3VycmVuY3lTeW1ib2wgPSBmb3JtYXRzLkNVUlJFTkNZX1NZTTtcbiAgICB9XG5cbiAgICBpZiAoaXNVbmRlZmluZWQoZnJhY3Rpb25TaXplKSkge1xuICAgICAgZnJhY3Rpb25TaXplID0gZm9ybWF0cy5QQVRURVJOU1sxXS5tYXhGcmFjO1xuICAgIH1cblxuICAgIC8vIGlmIG51bGwgb3IgdW5kZWZpbmVkIHBhc3MgaXQgdGhyb3VnaFxuICAgIHJldHVybiAoYW1vdW50ID09IG51bGwpXG4gICAgICAgID8gYW1vdW50XG4gICAgICAgIDogZm9ybWF0TnVtYmVyKGFtb3VudCwgZm9ybWF0cy5QQVRURVJOU1sxXSwgZm9ybWF0cy5HUk9VUF9TRVAsIGZvcm1hdHMuREVDSU1BTF9TRVAsIGZyYWN0aW9uU2l6ZSkuXG4gICAgICAgICAgICByZXBsYWNlKC9cXHUwMEE0L2csIGN1cnJlbmN5U3ltYm9sKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBudW1iZXJcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGb3JtYXRzIGEgbnVtYmVyIGFzIHRleHQuXG4gKlxuICogSWYgdGhlIGlucHV0IGlzIG51bGwgb3IgdW5kZWZpbmVkLCBpdCB3aWxsIGp1c3QgYmUgcmV0dXJuZWQuXG4gKiBJZiB0aGUgaW5wdXQgaXMgaW5maW5pdGUgKEluZmluaXR5Ly1JbmZpbml0eSkgdGhlIEluZmluaXR5IHN5bWJvbCAn4oieJyBpcyByZXR1cm5lZC5cbiAqIElmIHRoZSBpbnB1dCBpcyBub3QgYSBudW1iZXIgYW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkLlxuICpcbiAqXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IG51bWJlciBOdW1iZXIgdG8gZm9ybWF0LlxuICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyk9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBudW1iZXIgdG8uXG4gKiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZSBmcmFjdGlvbiBzaXplIGlzIGNvbXB1dGVkIGZyb20gdGhlIGN1cnJlbnQgbG9jYWxlJ3MgbnVtYmVyXG4gKiBmb3JtYXR0aW5nIHBhdHRlcm4uIEluIHRoZSBjYXNlIG9mIHRoZSBkZWZhdWx0IGxvY2FsZSwgaXQgd2lsbCBiZSAzLlxuICogQHJldHVybnMge3N0cmluZ30gTnVtYmVyIHJvdW5kZWQgdG8gZGVjaW1hbFBsYWNlcyBhbmQgcGxhY2VzIGEg4oCcLOKAnSBhZnRlciBlYWNoIHRoaXJkIGRpZ2l0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJudW1iZXJGaWx0ZXJFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdudW1iZXJGaWx0ZXJFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnZhbCA9IDEyMzQuNTY3ODk7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGxhYmVsPkVudGVyIG51bWJlcjogPGlucHV0IG5nLW1vZGVsPSd2YWwnPjwvbGFiZWw+PGJyPlxuICAgICAgICAgRGVmYXVsdCBmb3JtYXR0aW5nOiA8c3BhbiBpZD0nbnVtYmVyLWRlZmF1bHQnPnt7dmFsIHwgbnVtYmVyfX08L3NwYW4+PGJyPlxuICAgICAgICAgTm8gZnJhY3Rpb25zOiA8c3Bhbj57e3ZhbCB8IG51bWJlcjowfX08L3NwYW4+PGJyPlxuICAgICAgICAgTmVnYXRpdmUgbnVtYmVyOiA8c3Bhbj57ey12YWwgfCBudW1iZXI6NH19PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBudW1iZXJzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCcxLDIzNC41NjgnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMSwyMzUnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0xLDIzNC41Njc5Jyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsJykpLmNsZWFyKCk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWwnKSkuc2VuZEtleXMoJzMzNzQuMzMzJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NC4zMzMnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMywzNzQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0zLDM3NC4zMzMwJyk7XG4gICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxubnVtYmVyRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIG51bWJlckZpbHRlcigkbG9jYWxlKSB7XG4gIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcbiAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgZnJhY3Rpb25TaXplKSB7XG5cbiAgICAvLyBpZiBudWxsIG9yIHVuZGVmaW5lZCBwYXNzIGl0IHRocm91Z2hcbiAgICByZXR1cm4gKG51bWJlciA9PSBudWxsKVxuICAgICAgICA/IG51bWJlclxuICAgICAgICA6IGZvcm1hdE51bWJlcihudW1iZXIsIGZvcm1hdHMuUEFUVEVSTlNbMF0sIGZvcm1hdHMuR1JPVVBfU0VQLCBmb3JtYXRzLkRFQ0lNQUxfU0VQLFxuICAgICAgICAgICAgICAgICAgICAgICBmcmFjdGlvblNpemUpO1xuICB9O1xufVxuXG52YXIgREVDSU1BTF9TRVAgPSAnLic7XG5mdW5jdGlvbiBmb3JtYXROdW1iZXIobnVtYmVyLCBwYXR0ZXJuLCBncm91cFNlcCwgZGVjaW1hbFNlcCwgZnJhY3Rpb25TaXplKSB7XG4gIGlmIChpc09iamVjdChudW1iZXIpKSByZXR1cm4gJyc7XG5cbiAgdmFyIGlzTmVnYXRpdmUgPSBudW1iZXIgPCAwO1xuICBudW1iZXIgPSBNYXRoLmFicyhudW1iZXIpO1xuXG4gIHZhciBpc0luZmluaXR5ID0gbnVtYmVyID09PSBJbmZpbml0eTtcbiAgaWYgKCFpc0luZmluaXR5ICYmICFpc0Zpbml0ZShudW1iZXIpKSByZXR1cm4gJyc7XG5cbiAgdmFyIG51bVN0ciA9IG51bWJlciArICcnLFxuICAgICAgZm9ybWF0ZWRUZXh0ID0gJycsXG4gICAgICBoYXNFeHBvbmVudCA9IGZhbHNlLFxuICAgICAgcGFydHMgPSBbXTtcblxuICBpZiAoaXNJbmZpbml0eSkgZm9ybWF0ZWRUZXh0ID0gJ1xcdTIyMWUnO1xuXG4gIGlmICghaXNJbmZpbml0eSAmJiBudW1TdHIuaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIHZhciBtYXRjaCA9IG51bVN0ci5tYXRjaCgvKFtcXGRcXC5dKyllKC0/KShcXGQrKS8pO1xuICAgIGlmIChtYXRjaCAmJiBtYXRjaFsyXSA9PSAnLScgJiYgbWF0Y2hbM10gPiBmcmFjdGlvblNpemUgKyAxKSB7XG4gICAgICBudW1iZXIgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtYXRlZFRleHQgPSBudW1TdHI7XG4gICAgICBoYXNFeHBvbmVudCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFpc0luZmluaXR5ICYmICFoYXNFeHBvbmVudCkge1xuICAgIHZhciBmcmFjdGlvbkxlbiA9IChudW1TdHIuc3BsaXQoREVDSU1BTF9TRVApWzFdIHx8ICcnKS5sZW5ndGg7XG5cbiAgICAvLyBkZXRlcm1pbmUgZnJhY3Rpb25TaXplIGlmIGl0IGlzIG5vdCBzcGVjaWZpZWRcbiAgICBpZiAoaXNVbmRlZmluZWQoZnJhY3Rpb25TaXplKSkge1xuICAgICAgZnJhY3Rpb25TaXplID0gTWF0aC5taW4oTWF0aC5tYXgocGF0dGVybi5taW5GcmFjLCBmcmFjdGlvbkxlbiksIHBhdHRlcm4ubWF4RnJhYyk7XG4gICAgfVxuXG4gICAgLy8gc2FmZWx5IHJvdW5kIG51bWJlcnMgaW4gSlMgd2l0aG91dCBoaXR0aW5nIGltcHJlY2lzaW9ucyBvZiBmbG9hdGluZy1wb2ludCBhcml0aG1ldGljc1xuICAgIC8vIGluc3BpcmVkIGJ5OlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcm91bmRcbiAgICBudW1iZXIgPSArKE1hdGgucm91bmQoKyhudW1iZXIudG9TdHJpbmcoKSArICdlJyArIGZyYWN0aW9uU2l6ZSkpLnRvU3RyaW5nKCkgKyAnZScgKyAtZnJhY3Rpb25TaXplKTtcblxuICAgIHZhciBmcmFjdGlvbiA9ICgnJyArIG51bWJlcikuc3BsaXQoREVDSU1BTF9TRVApO1xuICAgIHZhciB3aG9sZSA9IGZyYWN0aW9uWzBdO1xuICAgIGZyYWN0aW9uID0gZnJhY3Rpb25bMV0gfHwgJyc7XG5cbiAgICB2YXIgaSwgcG9zID0gMCxcbiAgICAgICAgbGdyb3VwID0gcGF0dGVybi5sZ1NpemUsXG4gICAgICAgIGdyb3VwID0gcGF0dGVybi5nU2l6ZTtcblxuICAgIGlmICh3aG9sZS5sZW5ndGggPj0gKGxncm91cCArIGdyb3VwKSkge1xuICAgICAgcG9zID0gd2hvbGUubGVuZ3RoIC0gbGdyb3VwO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHBvczsgaSsrKSB7XG4gICAgICAgIGlmICgocG9zIC0gaSkgJSBncm91cCA9PT0gMCAmJiBpICE9PSAwKSB7XG4gICAgICAgICAgZm9ybWF0ZWRUZXh0ICs9IGdyb3VwU2VwO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdGVkVGV4dCArPSB3aG9sZS5jaGFyQXQoaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gcG9zOyBpIDwgd2hvbGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICgod2hvbGUubGVuZ3RoIC0gaSkgJSBsZ3JvdXAgPT09IDAgJiYgaSAhPT0gMCkge1xuICAgICAgICBmb3JtYXRlZFRleHQgKz0gZ3JvdXBTZXA7XG4gICAgICB9XG4gICAgICBmb3JtYXRlZFRleHQgKz0gd2hvbGUuY2hhckF0KGkpO1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCBmcmFjdGlvbiBwYXJ0LlxuICAgIHdoaWxlIChmcmFjdGlvbi5sZW5ndGggPCBmcmFjdGlvblNpemUpIHtcbiAgICAgIGZyYWN0aW9uICs9ICcwJztcbiAgICB9XG5cbiAgICBpZiAoZnJhY3Rpb25TaXplICYmIGZyYWN0aW9uU2l6ZSAhPT0gXCIwXCIpIGZvcm1hdGVkVGV4dCArPSBkZWNpbWFsU2VwICsgZnJhY3Rpb24uc3Vic3RyKDAsIGZyYWN0aW9uU2l6ZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGZyYWN0aW9uU2l6ZSA+IDAgJiYgbnVtYmVyIDwgMSkge1xuICAgICAgZm9ybWF0ZWRUZXh0ID0gbnVtYmVyLnRvRml4ZWQoZnJhY3Rpb25TaXplKTtcbiAgICAgIG51bWJlciA9IHBhcnNlRmxvYXQoZm9ybWF0ZWRUZXh0KTtcbiAgICAgIGZvcm1hdGVkVGV4dCA9IGZvcm1hdGVkVGV4dC5yZXBsYWNlKERFQ0lNQUxfU0VQLCBkZWNpbWFsU2VwKTtcbiAgICB9XG4gIH1cblxuICBpZiAobnVtYmVyID09PSAwKSB7XG4gICAgaXNOZWdhdGl2ZSA9IGZhbHNlO1xuICB9XG5cbiAgcGFydHMucHVzaChpc05lZ2F0aXZlID8gcGF0dGVybi5uZWdQcmUgOiBwYXR0ZXJuLnBvc1ByZSxcbiAgICAgICAgICAgICBmb3JtYXRlZFRleHQsXG4gICAgICAgICAgICAgaXNOZWdhdGl2ZSA/IHBhdHRlcm4ubmVnU3VmIDogcGF0dGVybi5wb3NTdWYpO1xuICByZXR1cm4gcGFydHMuam9pbignJyk7XG59XG5cbmZ1bmN0aW9uIHBhZE51bWJlcihudW0sIGRpZ2l0cywgdHJpbSkge1xuICB2YXIgbmVnID0gJyc7XG4gIGlmIChudW0gPCAwKSB7XG4gICAgbmVnID0gICctJztcbiAgICBudW0gPSAtbnVtO1xuICB9XG4gIG51bSA9ICcnICsgbnVtO1xuICB3aGlsZSAobnVtLmxlbmd0aCA8IGRpZ2l0cykgbnVtID0gJzAnICsgbnVtO1xuICBpZiAodHJpbSkge1xuICAgIG51bSA9IG51bS5zdWJzdHIobnVtLmxlbmd0aCAtIGRpZ2l0cyk7XG4gIH1cbiAgcmV0dXJuIG5lZyArIG51bTtcbn1cblxuXG5mdW5jdGlvbiBkYXRlR2V0dGVyKG5hbWUsIHNpemUsIG9mZnNldCwgdHJpbSkge1xuICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRlWydnZXQnICsgbmFtZV0oKTtcbiAgICBpZiAob2Zmc2V0ID4gMCB8fCB2YWx1ZSA+IC1vZmZzZXQpIHtcbiAgICAgIHZhbHVlICs9IG9mZnNldDtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSAwICYmIG9mZnNldCA9PSAtMTIpIHZhbHVlID0gMTI7XG4gICAgcmV0dXJuIHBhZE51bWJlcih2YWx1ZSwgc2l6ZSwgdHJpbSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRhdGVTdHJHZXR0ZXIobmFtZSwgc2hvcnRGb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihkYXRlLCBmb3JtYXRzKSB7XG4gICAgdmFyIHZhbHVlID0gZGF0ZVsnZ2V0JyArIG5hbWVdKCk7XG4gICAgdmFyIGdldCA9IHVwcGVyY2FzZShzaG9ydEZvcm0gPyAoJ1NIT1JUJyArIG5hbWUpIDogbmFtZSk7XG5cbiAgICByZXR1cm4gZm9ybWF0c1tnZXRdW3ZhbHVlXTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGltZVpvbmVHZXR0ZXIoZGF0ZSwgZm9ybWF0cywgb2Zmc2V0KSB7XG4gIHZhciB6b25lID0gLTEgKiBvZmZzZXQ7XG4gIHZhciBwYWRkZWRab25lID0gKHpvbmUgPj0gMCkgPyBcIitcIiA6IFwiXCI7XG5cbiAgcGFkZGVkWm9uZSArPSBwYWROdW1iZXIoTWF0aFt6b25lID4gMCA/ICdmbG9vcicgOiAnY2VpbCddKHpvbmUgLyA2MCksIDIpICtcbiAgICAgICAgICAgICAgICBwYWROdW1iZXIoTWF0aC5hYnMoem9uZSAlIDYwKSwgMik7XG5cbiAgcmV0dXJuIHBhZGRlZFpvbmU7XG59XG5cbmZ1bmN0aW9uIGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhcikge1xuICAgIC8vIDAgPSBpbmRleCBvZiBKYW51YXJ5XG4gICAgdmFyIGRheU9mV2Vla09uRmlyc3QgPSAobmV3IERhdGUoeWVhciwgMCwgMSkpLmdldERheSgpO1xuICAgIC8vIDQgPSBpbmRleCBvZiBUaHVyc2RheSAoKzEgdG8gYWNjb3VudCBmb3IgMXN0ID0gNSlcbiAgICAvLyAxMSA9IGluZGV4IG9mICpuZXh0KiBUaHVyc2RheSAoKzEgYWNjb3VudCBmb3IgMXN0ID0gMTIpXG4gICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIDAsICgoZGF5T2ZXZWVrT25GaXJzdCA8PSA0KSA/IDUgOiAxMikgLSBkYXlPZldlZWtPbkZpcnN0KTtcbn1cblxuZnVuY3Rpb24gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRldGltZSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRldGltZS5nZXRGdWxsWWVhcigpLCBkYXRldGltZS5nZXRNb250aCgpLFxuICAgICAgLy8gNCA9IGluZGV4IG9mIFRodXJzZGF5XG4gICAgICBkYXRldGltZS5nZXREYXRlKCkgKyAoNCAtIGRhdGV0aW1lLmdldERheSgpKSk7XG59XG5cbmZ1bmN0aW9uIHdlZWtHZXR0ZXIoc2l6ZSkge1xuICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHZhciBmaXJzdFRodXJzID0gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkpLFxuICAgICAgICAgdGhpc1RodXJzID0gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRlKTtcblxuICAgICAgdmFyIGRpZmYgPSArdGhpc1RodXJzIC0gK2ZpcnN0VGh1cnMsXG4gICAgICAgICByZXN1bHQgPSAxICsgTWF0aC5yb3VuZChkaWZmIC8gNi4wNDhlOCk7IC8vIDYuMDQ4ZTggbXMgcGVyIHdlZWtcblxuICAgICAgcmV0dXJuIHBhZE51bWJlcihyZXN1bHQsIHNpemUpO1xuICAgfTtcbn1cblxuZnVuY3Rpb24gYW1wbUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XG4gIHJldHVybiBkYXRlLmdldEhvdXJzKCkgPCAxMiA/IGZvcm1hdHMuQU1QTVNbMF0gOiBmb3JtYXRzLkFNUE1TWzFdO1xufVxuXG5mdW5jdGlvbiBlcmFHZXR0ZXIoZGF0ZSwgZm9ybWF0cykge1xuICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpIDw9IDAgPyBmb3JtYXRzLkVSQVNbMF0gOiBmb3JtYXRzLkVSQVNbMV07XG59XG5cbmZ1bmN0aW9uIGxvbmdFcmFHZXR0ZXIoZGF0ZSwgZm9ybWF0cykge1xuICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpIDw9IDAgPyBmb3JtYXRzLkVSQU5BTUVTWzBdIDogZm9ybWF0cy5FUkFOQU1FU1sxXTtcbn1cblxudmFyIERBVEVfRk9STUFUUyA9IHtcbiAgeXl5eTogZGF0ZUdldHRlcignRnVsbFllYXInLCA0KSxcbiAgICB5eTogZGF0ZUdldHRlcignRnVsbFllYXInLCAyLCAwLCB0cnVlKSxcbiAgICAgeTogZGF0ZUdldHRlcignRnVsbFllYXInLCAxKSxcbiAgTU1NTTogZGF0ZVN0ckdldHRlcignTW9udGgnKSxcbiAgIE1NTTogZGF0ZVN0ckdldHRlcignTW9udGgnLCB0cnVlKSxcbiAgICBNTTogZGF0ZUdldHRlcignTW9udGgnLCAyLCAxKSxcbiAgICAgTTogZGF0ZUdldHRlcignTW9udGgnLCAxLCAxKSxcbiAgICBkZDogZGF0ZUdldHRlcignRGF0ZScsIDIpLFxuICAgICBkOiBkYXRlR2V0dGVyKCdEYXRlJywgMSksXG4gICAgSEg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMiksXG4gICAgIEg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMSksXG4gICAgaGg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMiwgLTEyKSxcbiAgICAgaDogZGF0ZUdldHRlcignSG91cnMnLCAxLCAtMTIpLFxuICAgIG1tOiBkYXRlR2V0dGVyKCdNaW51dGVzJywgMiksXG4gICAgIG06IGRhdGVHZXR0ZXIoJ01pbnV0ZXMnLCAxKSxcbiAgICBzczogZGF0ZUdldHRlcignU2Vjb25kcycsIDIpLFxuICAgICBzOiBkYXRlR2V0dGVyKCdTZWNvbmRzJywgMSksXG4gICAgIC8vIHdoaWxlIElTTyA4NjAxIHJlcXVpcmVzIGZyYWN0aW9ucyB0byBiZSBwcmVmaXhlZCB3aXRoIGAuYCBvciBgLGBcbiAgICAgLy8gd2UgY2FuIGJlIGp1c3Qgc2FmZWx5IHJlbHkgb24gdXNpbmcgYHNzc2Agc2luY2Ugd2UgY3VycmVudGx5IGRvbid0IHN1cHBvcnQgc2luZ2xlIG9yIHR3byBkaWdpdCBmcmFjdGlvbnNcbiAgIHNzczogZGF0ZUdldHRlcignTWlsbGlzZWNvbmRzJywgMyksXG4gIEVFRUU6IGRhdGVTdHJHZXR0ZXIoJ0RheScpLFxuICAgRUVFOiBkYXRlU3RyR2V0dGVyKCdEYXknLCB0cnVlKSxcbiAgICAgYTogYW1wbUdldHRlcixcbiAgICAgWjogdGltZVpvbmVHZXR0ZXIsXG4gICAgd3c6IHdlZWtHZXR0ZXIoMiksXG4gICAgIHc6IHdlZWtHZXR0ZXIoMSksXG4gICAgIEc6IGVyYUdldHRlcixcbiAgICAgR0c6IGVyYUdldHRlcixcbiAgICAgR0dHOiBlcmFHZXR0ZXIsXG4gICAgIEdHR0c6IGxvbmdFcmFHZXR0ZXJcbn07XG5cbnZhciBEQVRFX0ZPUk1BVFNfU1BMSVQgPSAvKCg/OlteeU1kSGhtc2FaRXdHJ10rKXwoPzonKD86W14nXXwnJykqJyl8KD86RSt8eSt8TSt8ZCt8SCt8aCt8bSt8cyt8YXxafEcrfHcrKSkoLiopLyxcbiAgICBOVU1CRVJfU1RSSU5HID0gL15cXC0/XFxkKyQvO1xuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGRhdGVcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiAgIEZvcm1hdHMgYGRhdGVgIHRvIGEgc3RyaW5nIGJhc2VkIG9uIHRoZSByZXF1ZXN0ZWQgYGZvcm1hdGAuXG4gKlxuICogICBgZm9ybWF0YCBzdHJpbmcgY2FuIGJlIGNvbXBvc2VkIG9mIHRoZSBmb2xsb3dpbmcgZWxlbWVudHM6XG4gKlxuICogICAqIGAneXl5eSdgOiA0IGRpZ2l0IHJlcHJlc2VudGF0aW9uIG9mIHllYXIgKGUuZy4gQUQgMSA9PiAwMDAxLCBBRCAyMDEwID0+IDIwMTApXG4gKiAgICogYCd5eSdgOiAyIGRpZ2l0IHJlcHJlc2VudGF0aW9uIG9mIHllYXIsIHBhZGRlZCAoMDAtOTkpLiAoZS5nLiBBRCAyMDAxID0+IDAxLCBBRCAyMDEwID0+IDEwKVxuICogICAqIGAneSdgOiAxIGRpZ2l0IHJlcHJlc2VudGF0aW9uIG9mIHllYXIsIGUuZy4gKEFEIDEgPT4gMSwgQUQgMTk5ID0+IDE5OSlcbiAqICAgKiBgJ01NTU0nYDogTW9udGggaW4geWVhciAoSmFudWFyeS1EZWNlbWJlcilcbiAqICAgKiBgJ01NTSdgOiBNb250aCBpbiB5ZWFyIChKYW4tRGVjKVxuICogICAqIGAnTU0nYDogTW9udGggaW4geWVhciwgcGFkZGVkICgwMS0xMilcbiAqICAgKiBgJ00nYDogTW9udGggaW4geWVhciAoMS0xMilcbiAqICAgKiBgJ2RkJ2A6IERheSBpbiBtb250aCwgcGFkZGVkICgwMS0zMSlcbiAqICAgKiBgJ2QnYDogRGF5IGluIG1vbnRoICgxLTMxKVxuICogICAqIGAnRUVFRSdgOiBEYXkgaW4gV2VlaywoU3VuZGF5LVNhdHVyZGF5KVxuICogICAqIGAnRUVFJ2A6IERheSBpbiBXZWVrLCAoU3VuLVNhdClcbiAqICAgKiBgJ0hIJ2A6IEhvdXIgaW4gZGF5LCBwYWRkZWQgKDAwLTIzKVxuICogICAqIGAnSCdgOiBIb3VyIGluIGRheSAoMC0yMylcbiAqICAgKiBgJ2hoJ2A6IEhvdXIgaW4gQU0vUE0sIHBhZGRlZCAoMDEtMTIpXG4gKiAgICogYCdoJ2A6IEhvdXIgaW4gQU0vUE0sICgxLTEyKVxuICogICAqIGAnbW0nYDogTWludXRlIGluIGhvdXIsIHBhZGRlZCAoMDAtNTkpXG4gKiAgICogYCdtJ2A6IE1pbnV0ZSBpbiBob3VyICgwLTU5KVxuICogICAqIGAnc3MnYDogU2Vjb25kIGluIG1pbnV0ZSwgcGFkZGVkICgwMC01OSlcbiAqICAgKiBgJ3MnYDogU2Vjb25kIGluIG1pbnV0ZSAoMC01OSlcbiAqICAgKiBgJ3NzcydgOiBNaWxsaXNlY29uZCBpbiBzZWNvbmQsIHBhZGRlZCAoMDAwLTk5OSlcbiAqICAgKiBgJ2EnYDogQU0vUE0gbWFya2VyXG4gKiAgICogYCdaJ2A6IDQgZGlnaXQgKCtzaWduKSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdGltZXpvbmUgb2Zmc2V0ICgtMTIwMC0rMTIwMClcbiAqICAgKiBgJ3d3J2A6IFdlZWsgb2YgeWVhciwgcGFkZGVkICgwMC01MykuIFdlZWsgMDEgaXMgdGhlIHdlZWsgd2l0aCB0aGUgZmlyc3QgVGh1cnNkYXkgb2YgdGhlIHllYXJcbiAqICAgKiBgJ3cnYDogV2VlayBvZiB5ZWFyICgwLTUzKS4gV2VlayAxIGlzIHRoZSB3ZWVrIHdpdGggdGhlIGZpcnN0IFRodXJzZGF5IG9mIHRoZSB5ZWFyXG4gKiAgICogYCdHJ2AsIGAnR0cnYCwgYCdHR0cnYDogVGhlIGFiYnJldmlhdGVkIGZvcm0gb2YgdGhlIGVyYSBzdHJpbmcgKGUuZy4gJ0FEJylcbiAqICAgKiBgJ0dHR0cnYDogVGhlIGxvbmcgZm9ybSBvZiB0aGUgZXJhIHN0cmluZyAoZS5nLiAnQW5ubyBEb21pbmknKVxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBhbHNvIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByZWRlZmluZWRcbiAqICAge0BsaW5rIGd1aWRlL2kxOG4gbG9jYWxpemFibGUgZm9ybWF0c306XG4gKlxuICogICAqIGAnbWVkaXVtJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSBoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlXG4gKiAgICAgKGUuZy4gU2VwIDMsIDIwMTAgMTI6MDU6MDggUE0pXG4gKiAgICogYCdzaG9ydCdgOiBlcXVpdmFsZW50IHRvIGAnTS9kL3l5IGg6bW0gYSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIDkvMy8xMCAxMjowNSBQTSlcbiAqICAgKiBgJ2Z1bGxEYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdFRUVFLCBNTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZVxuICogICAgIChlLmcuIEZyaWRheSwgU2VwdGVtYmVyIDMsIDIwMTApXG4gKiAgICogYCdsb25nRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gU2VwdGVtYmVyIDMsIDIwMTApXG4gKiAgICogYCdtZWRpdW1EYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcCAzLCAyMDEwKVxuICogICAqIGAnc2hvcnREYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNL2QveXknYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDkvMy8xMClcbiAqICAgKiBgJ21lZGl1bVRpbWUnYDogZXF1aXZhbGVudCB0byBgJ2g6bW06c3MgYSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gMTI6MDU6MDggUE0pXG4gKiAgICogYCdzaG9ydFRpbWUnYDogZXF1aXZhbGVudCB0byBgJ2g6bW0gYSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gMTI6MDUgUE0pXG4gKlxuICogICBgZm9ybWF0YCBzdHJpbmcgY2FuIGNvbnRhaW4gbGl0ZXJhbCB2YWx1ZXMuIFRoZXNlIG5lZWQgdG8gYmUgZXNjYXBlZCBieSBzdXJyb3VuZGluZyB3aXRoIHNpbmdsZSBxdW90ZXMgKGUuZy5cbiAqICAgYFwiaCAnaW4gdGhlIG1vcm5pbmcnXCJgKS4gSW4gb3JkZXIgdG8gb3V0cHV0IGEgc2luZ2xlIHF1b3RlLCBlc2NhcGUgaXQgLSBpLmUuLCB0d28gc2luZ2xlIHF1b3RlcyBpbiBhIHNlcXVlbmNlXG4gKiAgIChlLmcuIGBcImggJ28nJ2Nsb2NrJ1wiYCkuXG4gKlxuICogQHBhcmFtIHsoRGF0ZXxudW1iZXJ8c3RyaW5nKX0gZGF0ZSBEYXRlIHRvIGZvcm1hdCBlaXRoZXIgYXMgRGF0ZSBvYmplY3QsIG1pbGxpc2Vjb25kcyAoc3RyaW5nIG9yXG4gKiAgICBudW1iZXIpIG9yIHZhcmlvdXMgSVNPIDg2MDEgZGF0ZXRpbWUgc3RyaW5nIGZvcm1hdHMgKGUuZy4geXl5eS1NTS1kZFRISDptbTpzcy5zc3NaIGFuZCBpdHNcbiAqICAgIHNob3J0ZXIgdmVyc2lvbnMgbGlrZSB5eXl5LU1NLWRkVEhIOm1tWiwgeXl5eS1NTS1kZCBvciB5eXl5TU1kZFRISG1tc3NaKS4gSWYgbm8gdGltZXpvbmUgaXNcbiAqICAgIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGlucHV0LCB0aGUgdGltZSBpcyBjb25zaWRlcmVkIHRvIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gZm9ybWF0IEZvcm1hdHRpbmcgcnVsZXMgKHNlZSBEZXNjcmlwdGlvbikuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiAgICBgbWVkaXVtRGF0ZWAgaXMgdXNlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdGltZXpvbmUgVGltZXpvbmUgdG8gYmUgdXNlZCBmb3IgZm9ybWF0dGluZy4gSXQgdW5kZXJzdGFuZHMgVVRDL0dNVCBhbmQgdGhlXG4gKiAgICBjb250aW5lbnRhbCBVUyB0aW1lIHpvbmUgYWJicmV2aWF0aW9ucywgYnV0IGZvciBnZW5lcmFsIHVzZSwgdXNlIGEgdGltZSB6b25lIG9mZnNldCwgZm9yXG4gKiAgICBleGFtcGxlLCBgJyswNDMwJ2AgKDQgaG91cnMsIDMwIG1pbnV0ZXMgZWFzdCBvZiB0aGUgR3JlZW53aWNoIG1lcmlkaWFuKVxuICogICAgSWYgbm90IHNwZWNpZmllZCwgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyIHdpbGwgYmUgdXNlZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcgb3IgdGhlIGlucHV0IGlmIGlucHV0IGlzIG5vdCByZWNvZ25pemVkIGFzIGRhdGUvbWlsbGlzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjpcbiAgICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ319PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57ezEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonfX08L3NwYW4+PGJyPlxuICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnfX08L3NwYW4+OlxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTonTU0vZGQveXl5eSBAIGg6bW1hJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+OlxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+PGJyPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKFwiMTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSdcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC9PY3QgMlxcZCwgMjAxMCBcXGR7MSwyfTpcXGR7Mn06XFxkezJ9IChBTXxQTSkvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCIxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ1wiKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgIHRvTWF0Y2goLzIwMTBcXC0xMFxcLTJcXGQgXFxkezJ9OlxcZHsyfTpcXGR7Mn0gKFxcLXxcXCspP1xcZHs0fS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSdcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIEAgXFxkezEsMn06XFxkezJ9KEFNfFBNKS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6XFxcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVxcXCJcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIGF0IFxcZHsxLDJ9OlxcZHsyfShBTXxQTSkvKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5kYXRlRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIGRhdGVGaWx0ZXIoJGxvY2FsZSkge1xuXG5cbiAgdmFyIFJfSVNPODYwMV9TVFIgPSAvXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztcbiAgICAgICAgICAgICAgICAgICAgIC8vIDEgICAgICAgIDIgICAgICAgMyAgICAgICAgIDQgICAgICAgICAgNSAgICAgICAgICA2ICAgICAgICAgIDcgICAgICAgICAgOCAgOSAgICAgMTAgICAgICAxMVxuICBmdW5jdGlvbiBqc29uU3RyaW5nVG9EYXRlKHN0cmluZykge1xuICAgIHZhciBtYXRjaDtcbiAgICBpZiAobWF0Y2ggPSBzdHJpbmcubWF0Y2goUl9JU084NjAxX1NUUikpIHtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoMCksXG4gICAgICAgICAgdHpIb3VyID0gMCxcbiAgICAgICAgICB0ek1pbiAgPSAwLFxuICAgICAgICAgIGRhdGVTZXR0ZXIgPSBtYXRjaFs4XSA/IGRhdGUuc2V0VVRDRnVsbFllYXIgOiBkYXRlLnNldEZ1bGxZZWFyLFxuICAgICAgICAgIHRpbWVTZXR0ZXIgPSBtYXRjaFs4XSA/IGRhdGUuc2V0VVRDSG91cnMgOiBkYXRlLnNldEhvdXJzO1xuXG4gICAgICBpZiAobWF0Y2hbOV0pIHtcbiAgICAgICAgdHpIb3VyID0gdG9JbnQobWF0Y2hbOV0gKyBtYXRjaFsxMF0pO1xuICAgICAgICB0ek1pbiA9IHRvSW50KG1hdGNoWzldICsgbWF0Y2hbMTFdKTtcbiAgICAgIH1cbiAgICAgIGRhdGVTZXR0ZXIuY2FsbChkYXRlLCB0b0ludChtYXRjaFsxXSksIHRvSW50KG1hdGNoWzJdKSAtIDEsIHRvSW50KG1hdGNoWzNdKSk7XG4gICAgICB2YXIgaCA9IHRvSW50KG1hdGNoWzRdIHx8IDApIC0gdHpIb3VyO1xuICAgICAgdmFyIG0gPSB0b0ludChtYXRjaFs1XSB8fCAwKSAtIHR6TWluO1xuICAgICAgdmFyIHMgPSB0b0ludChtYXRjaFs2XSB8fCAwKTtcbiAgICAgIHZhciBtcyA9IE1hdGgucm91bmQocGFyc2VGbG9hdCgnMC4nICsgKG1hdGNoWzddIHx8IDApKSAqIDEwMDApO1xuICAgICAgdGltZVNldHRlci5jYWxsKGRhdGUsIGgsIG0sIHMsIG1zKTtcbiAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaW5nO1xuICB9XG5cblxuICByZXR1cm4gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0LCB0aW1lem9uZSkge1xuICAgIHZhciB0ZXh0ID0gJycsXG4gICAgICAgIHBhcnRzID0gW10sXG4gICAgICAgIGZuLCBtYXRjaDtcblxuICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnbWVkaXVtRGF0ZSc7XG4gICAgZm9ybWF0ID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF0gfHwgZm9ybWF0O1xuICAgIGlmIChpc1N0cmluZyhkYXRlKSkge1xuICAgICAgZGF0ZSA9IE5VTUJFUl9TVFJJTkcudGVzdChkYXRlKSA/IHRvSW50KGRhdGUpIDoganNvblN0cmluZ1RvRGF0ZShkYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIoZGF0ZSkpIHtcbiAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRGF0ZShkYXRlKSB8fCAhaXNGaW5pdGUoZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG5cbiAgICB3aGlsZSAoZm9ybWF0KSB7XG4gICAgICBtYXRjaCA9IERBVEVfRk9STUFUU19TUExJVC5leGVjKGZvcm1hdCk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcGFydHMgPSBjb25jYXQocGFydHMsIG1hdGNoLCAxKTtcbiAgICAgICAgZm9ybWF0ID0gcGFydHMucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0cy5wdXNoKGZvcm1hdCk7XG4gICAgICAgIGZvcm1hdCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRhdGVUaW1lem9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICBpZiAodGltZXpvbmUpIHtcbiAgICAgIGRhdGVUaW1lem9uZU9mZnNldCA9IHRpbWV6b25lVG9PZmZzZXQodGltZXpvbmUsIGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG4gICAgICBkYXRlID0gY29udmVydFRpbWV6b25lVG9Mb2NhbChkYXRlLCB0aW1lem9uZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZvckVhY2gocGFydHMsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBmbiA9IERBVEVfRk9STUFUU1t2YWx1ZV07XG4gICAgICB0ZXh0ICs9IGZuID8gZm4oZGF0ZSwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLCBkYXRlVGltZXpvbmVPZmZzZXQpXG4gICAgICAgICAgICAgICAgIDogdmFsdWUucmVwbGFjZSgvKF4nfCckKS9nLCAnJykucmVwbGFjZSgvJycvZywgXCInXCIpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRleHQ7XG4gIH07XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBqc29uXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogICBBbGxvd3MgeW91IHRvIGNvbnZlcnQgYSBKYXZhU2NyaXB0IG9iamVjdCBpbnRvIEpTT04gc3RyaW5nLlxuICpcbiAqICAgVGhpcyBmaWx0ZXIgaXMgbW9zdGx5IHVzZWZ1bCBmb3IgZGVidWdnaW5nLiBXaGVuIHVzaW5nIHRoZSBkb3VibGUgY3VybHkge3t2YWx1ZX19IG5vdGF0aW9uXG4gKiAgIHRoZSBiaW5kaW5nIGlzIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIEpTT04uXG4gKlxuICogQHBhcmFtIHsqfSBvYmplY3QgQW55IEphdmFTY3JpcHQgb2JqZWN0IChpbmNsdWRpbmcgYXJyYXlzIGFuZCBwcmltaXRpdmUgdHlwZXMpIHRvIGZpbHRlci5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gc3BhY2luZyBUaGUgbnVtYmVyIG9mIHNwYWNlcyB0byB1c2UgcGVyIGluZGVudGF0aW9uLCBkZWZhdWx0cyB0byAyLlxuICogQHJldHVybnMge3N0cmluZ30gSlNPTiBzdHJpbmcuXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8cHJlIGlkPVwiZGVmYXVsdC1zcGFjaW5nXCI+e3sgeyduYW1lJzondmFsdWUnfSB8IGpzb24gfX08L3ByZT5cbiAgICAgICA8cHJlIGlkPVwiY3VzdG9tLXNwYWNpbmdcIj57eyB7J25hbWUnOid2YWx1ZSd9IHwganNvbjo0IH19PC9wcmU+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQganNvbmlmeSBmaWx0ZXJlZCBvYmplY3RzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZGVmYXVsdC1zcGFjaW5nJykpLmdldFRleHQoKSkudG9NYXRjaCgvXFx7XFxuICBcIm5hbWVcIjogP1widmFsdWVcIlxcbn0vKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXN0b20tc3BhY2luZycpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL1xce1xcbiAgICBcIm5hbWVcIjogP1widmFsdWVcIlxcbn0vKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICpcbiAqL1xuZnVuY3Rpb24ganNvbkZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgc3BhY2luZykge1xuICAgIGlmIChpc1VuZGVmaW5lZChzcGFjaW5nKSkge1xuICAgICAgICBzcGFjaW5nID0gMjtcbiAgICB9XG4gICAgcmV0dXJuIHRvSnNvbihvYmplY3QsIHNwYWNpbmcpO1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbG93ZXJjYXNlXG4gKiBAa2luZCBmdW5jdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0cyBzdHJpbmcgdG8gbG93ZXJjYXNlLlxuICogQHNlZSBhbmd1bGFyLmxvd2VyY2FzZVxuICovXG52YXIgbG93ZXJjYXNlRmlsdGVyID0gdmFsdWVGbihsb3dlcmNhc2UpO1xuXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgdXBwZXJjYXNlXG4gKiBAa2luZCBmdW5jdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0cyBzdHJpbmcgdG8gdXBwZXJjYXNlLlxuICogQHNlZSBhbmd1bGFyLnVwcGVyY2FzZVxuICovXG52YXIgdXBwZXJjYXNlRmlsdGVyID0gdmFsdWVGbih1cHBlcmNhc2UpO1xuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGxpbWl0VG9cbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgbmV3IGFycmF5IG9yIHN0cmluZyBjb250YWluaW5nIG9ubHkgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIGVsZW1lbnRzLiBUaGUgZWxlbWVudHNcbiAqIGFyZSB0YWtlbiBmcm9tIGVpdGhlciB0aGUgYmVnaW5uaW5nIG9yIHRoZSBlbmQgb2YgdGhlIHNvdXJjZSBhcnJheSwgc3RyaW5nIG9yIG51bWJlciwgYXMgc3BlY2lmaWVkIGJ5XG4gKiB0aGUgdmFsdWUgYW5kIHNpZ24gKHBvc2l0aXZlIG9yIG5lZ2F0aXZlKSBvZiBgbGltaXRgLiBJZiBhIG51bWJlciBpcyB1c2VkIGFzIGlucHV0LCBpdCBpc1xuICogY29udmVydGVkIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfG51bWJlcn0gaW5wdXQgU291cmNlIGFycmF5LCBzdHJpbmcgb3IgbnVtYmVyIHRvIGJlIGxpbWl0ZWQuXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGxpbWl0IFRoZSBsZW5ndGggb2YgdGhlIHJldHVybmVkIGFycmF5IG9yIHN0cmluZy4gSWYgdGhlIGBsaW1pdGAgbnVtYmVyXG4gKiAgICAgaXMgcG9zaXRpdmUsIGBsaW1pdGAgbnVtYmVyIG9mIGl0ZW1zIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc291cmNlIGFycmF5L3N0cmluZyBhcmUgY29waWVkLlxuICogICAgIElmIHRoZSBudW1iZXIgaXMgbmVnYXRpdmUsIGBsaW1pdGAgbnVtYmVyICBvZiBpdGVtcyBmcm9tIHRoZSBlbmQgb2YgdGhlIHNvdXJjZSBhcnJheS9zdHJpbmdcbiAqICAgICBhcmUgY29waWVkLiBUaGUgYGxpbWl0YCB3aWxsIGJlIHRyaW1tZWQgaWYgaXQgZXhjZWVkcyBgYXJyYXkubGVuZ3RoYC4gSWYgYGxpbWl0YCBpcyB1bmRlZmluZWQsXG4gKiAgICAgdGhlIGlucHV0IHdpbGwgYmUgcmV0dXJuZWQgdW5jaGFuZ2VkLlxuICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBiZWdpbiBJbmRleCBhdCB3aGljaCB0byBiZWdpbiBsaW1pdGF0aW9uLiBBcyBhIG5lZ2F0aXZlIGluZGV4LCBgYmVnaW5gXG4gKiAgICAgaW5kaWNhdGVzIGFuIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGlucHV0YC4gRGVmYXVsdHMgdG8gYDBgLlxuICogQHJldHVybnMge0FycmF5fHN0cmluZ30gQSBuZXcgc3ViLWFycmF5IG9yIHN1YnN0cmluZyBvZiBsZW5ndGggYGxpbWl0YCBvciBsZXNzIGlmIGlucHV0IGFycmF5XG4gKiAgICAgaGFkIGxlc3MgdGhhbiBgbGltaXRgIGVsZW1lbnRzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJsaW1pdFRvRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbGltaXRUb0V4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUubnVtYmVycyA9IFsxLDIsMyw0LDUsNiw3LDgsOV07XG4gICAgICAgICAgICAgJHNjb3BlLmxldHRlcnMgPSBcImFiY2RlZmdoaVwiO1xuICAgICAgICAgICAgICRzY29wZS5sb25nTnVtYmVyID0gMjM0NTQzMjM0MjtcbiAgICAgICAgICAgICAkc2NvcGUubnVtTGltaXQgPSAzO1xuICAgICAgICAgICAgICRzY29wZS5sZXR0ZXJMaW1pdCA9IDM7XG4gICAgICAgICAgICAgJHNjb3BlLmxvbmdOdW1iZXJMaW1pdCA9IDM7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgTGltaXQge3tudW1iZXJzfX0gdG86XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJudW1MaW1pdFwiPlxuICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgIDxwPk91dHB1dCBudW1iZXJzOiB7eyBudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCB9fTwvcD5cbiAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgIExpbWl0IHt7bGV0dGVyc319IHRvOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibGV0dGVyTGltaXRcIj5cbiAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICA8cD5PdXRwdXQgbGV0dGVyczoge3sgbGV0dGVycyB8IGxpbWl0VG86bGV0dGVyTGltaXQgfX08L3A+XG4gICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICBMaW1pdCB7e2xvbmdOdW1iZXJ9fSB0bzpcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cImxvbmdOdW1iZXJMaW1pdFwiPlxuICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgIDxwPk91dHB1dCBsb25nIG51bWJlcjoge3sgbG9uZ051bWJlciB8IGxpbWl0VG86bG9uZ051bWJlckxpbWl0IH19PC9wPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICB2YXIgbnVtTGltaXRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ251bUxpbWl0JykpO1xuICAgICAgIHZhciBsZXR0ZXJMaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbGV0dGVyTGltaXQnKSk7XG4gICAgICAgdmFyIGxvbmdOdW1iZXJMaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbG9uZ051bWJlckxpbWl0JykpO1xuICAgICAgIHZhciBsaW1pdGVkTnVtYmVycyA9IGVsZW1lbnQoYnkuYmluZGluZygnbnVtYmVycyB8IGxpbWl0VG86bnVtTGltaXQnKSk7XG4gICAgICAgdmFyIGxpbWl0ZWRMZXR0ZXJzID0gZWxlbWVudChieS5iaW5kaW5nKCdsZXR0ZXJzIHwgbGltaXRUbzpsZXR0ZXJMaW1pdCcpKTtcbiAgICAgICB2YXIgbGltaXRlZExvbmdOdW1iZXIgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xvbmdOdW1iZXIgfCBsaW1pdFRvOmxvbmdOdW1iZXJMaW1pdCcpKTtcblxuICAgICAgIGl0KCdzaG91bGQgbGltaXQgdGhlIG51bWJlciBhcnJheSB0byBmaXJzdCB0aHJlZSBpdGVtcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KG51bUxpbWl0SW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCczJyk7XG4gICAgICAgICBleHBlY3QobGV0dGVyTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcbiAgICAgICAgIGV4cGVjdChsb25nTnVtYmVyTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbMSwyLDNdJyk7XG4gICAgICAgICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogYWJjJyk7XG4gICAgICAgICBleHBlY3QobGltaXRlZExvbmdOdW1iZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbG9uZyBudW1iZXI6IDIzNCcpO1xuICAgICAgIH0pO1xuXG4gICAgICAgLy8gVGhlcmUgaXMgYSBidWcgaW4gc2FmYXJpIGFuZCBwcm90cmFjdG9yIHRoYXQgZG9lc24ndCBsaWtlIHRoZSBtaW51cyBrZXlcbiAgICAgICAvLyBpdCgnc2hvdWxkIHVwZGF0ZSB0aGUgb3V0cHV0IHdoZW4gLTMgaXMgZW50ZXJlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgIC8vICAgbnVtTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgIC8vICAgbnVtTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGxldHRlckxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAvLyAgIGxldHRlckxpbWl0SW5wdXQuc2VuZEtleXMoJy0zJyk7XG4gICAgICAgLy8gICBsb25nTnVtYmVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgIC8vICAgbG9uZ051bWJlckxpbWl0SW5wdXQuc2VuZEtleXMoJy0zJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZE51bWJlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbnVtYmVyczogWzcsOCw5XScpO1xuICAgICAgIC8vICAgZXhwZWN0KGxpbWl0ZWRMZXR0ZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxldHRlcnM6IGdoaScpO1xuICAgICAgIC8vICAgZXhwZWN0KGxpbWl0ZWRMb25nTnVtYmVyLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxvbmcgbnVtYmVyOiAzNDInKTtcbiAgICAgICAvLyB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgbm90IGV4Y2VlZCB0aGUgbWF4aW11bSBzaXplIG9mIGlucHV0IGFycmF5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBudW1MaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgICBudW1MaW1pdElucHV0LnNlbmRLZXlzKCcxMDAnKTtcbiAgICAgICAgIGxldHRlckxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIGxldHRlckxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgbG9uZ051bWJlckxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIGxvbmdOdW1iZXJMaW1pdElucHV0LnNlbmRLZXlzKCcxMDAnKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbMSwyLDMsNCw1LDYsNyw4LDldJyk7XG4gICAgICAgICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogYWJjZGVmZ2hpJyk7XG4gICAgICAgICBleHBlY3QobGltaXRlZExvbmdOdW1iZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbG9uZyBudW1iZXI6IDIzNDU0MzIzNDInKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuKi9cbmZ1bmN0aW9uIGxpbWl0VG9GaWx0ZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbihpbnB1dCwgbGltaXQsIGJlZ2luKSB7XG4gICAgaWYgKE1hdGguYWJzKE51bWJlcihsaW1pdCkpID09PSBJbmZpbml0eSkge1xuICAgICAgbGltaXQgPSBOdW1iZXIobGltaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaW1pdCA9IHRvSW50KGxpbWl0KTtcbiAgICB9XG4gICAgaWYgKGlzTmFOKGxpbWl0KSkgcmV0dXJuIGlucHV0O1xuXG4gICAgaWYgKGlzTnVtYmVyKGlucHV0KSkgaW5wdXQgPSBpbnB1dC50b1N0cmluZygpO1xuICAgIGlmICghaXNBcnJheShpbnB1dCkgJiYgIWlzU3RyaW5nKGlucHV0KSkgcmV0dXJuIGlucHV0O1xuXG4gICAgYmVnaW4gPSAoIWJlZ2luIHx8IGlzTmFOKGJlZ2luKSkgPyAwIDogdG9JbnQoYmVnaW4pO1xuICAgIGJlZ2luID0gKGJlZ2luIDwgMCkgPyBNYXRoLm1heCgwLCBpbnB1dC5sZW5ndGggKyBiZWdpbikgOiBiZWdpbjtcblxuICAgIGlmIChsaW1pdCA+PSAwKSB7XG4gICAgICByZXR1cm4gaW5wdXQuc2xpY2UoYmVnaW4sIGJlZ2luICsgbGltaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYmVnaW4gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnNsaWNlKGxpbWl0LCBpbnB1dC5sZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnNsaWNlKE1hdGgubWF4KDAsIGJlZ2luICsgbGltaXQpLCBiZWdpbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIG9yZGVyQnlcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBPcmRlcnMgYSBzcGVjaWZpZWQgYGFycmF5YCBieSB0aGUgYGV4cHJlc3Npb25gIHByZWRpY2F0ZS4gSXQgaXMgb3JkZXJlZCBhbHBoYWJldGljYWxseVxuICogZm9yIHN0cmluZ3MgYW5kIG51bWVyaWNhbGx5IGZvciBudW1iZXJzLiBOb3RlOiBpZiB5b3Ugbm90aWNlIG51bWJlcnMgYXJlIG5vdCBiZWluZyBzb3J0ZWRcbiAqIGFzIGV4cGVjdGVkLCBtYWtlIHN1cmUgdGhleSBhcmUgYWN0dWFsbHkgYmVpbmcgc2F2ZWQgYXMgbnVtYmVycyBhbmQgbm90IHN0cmluZ3MuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCopfHN0cmluZ3xBcnJheS48KGZ1bmN0aW9uKCopfHN0cmluZyk+PX0gZXhwcmVzc2lvbiBBIHByZWRpY2F0ZSB0byBiZVxuICogICAgdXNlZCBieSB0aGUgY29tcGFyYXRvciB0byBkZXRlcm1pbmUgdGhlIG9yZGVyIG9mIGVsZW1lbnRzLlxuICpcbiAqICAgIENhbiBiZSBvbmUgb2Y6XG4gKlxuICogICAgLSBgZnVuY3Rpb25gOiBHZXR0ZXIgZnVuY3Rpb24uIFRoZSByZXN1bHQgb2YgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIHNvcnRlZCB1c2luZyB0aGVcbiAqICAgICAgYDxgLCBgPT09YCwgYD5gIG9wZXJhdG9yLlxuICogICAgLSBgc3RyaW5nYDogQW4gQW5ndWxhciBleHByZXNzaW9uLiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiBpcyB1c2VkIHRvIGNvbXBhcmUgZWxlbWVudHNcbiAqICAgICAgKGZvciBleGFtcGxlIGBuYW1lYCB0byBzb3J0IGJ5IGEgcHJvcGVydHkgY2FsbGVkIGBuYW1lYCBvciBgbmFtZS5zdWJzdHIoMCwgMylgIHRvIHNvcnQgYnlcbiAqICAgICAgMyBmaXJzdCBjaGFyYWN0ZXJzIG9mIGEgcHJvcGVydHkgY2FsbGVkIGBuYW1lYCkuIFRoZSByZXN1bHQgb2YgYSBjb25zdGFudCBleHByZXNzaW9uXG4gKiAgICAgIGlzIGludGVycHJldGVkIGFzIGEgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIGluIGNvbXBhcmlzb25zIChmb3IgZXhhbXBsZSBgXCJzcGVjaWFsIG5hbWVcImBcbiAqICAgICAgdG8gc29ydCBvYmplY3QgYnkgdGhlIHZhbHVlIG9mIHRoZWlyIGBzcGVjaWFsIG5hbWVgIHByb3BlcnR5KS4gQW4gZXhwcmVzc2lvbiBjYW4gYmVcbiAqICAgICAgb3B0aW9uYWxseSBwcmVmaXhlZCB3aXRoIGArYCBvciBgLWAgdG8gY29udHJvbCBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZyBzb3J0IG9yZGVyXG4gKiAgICAgIChmb3IgZXhhbXBsZSwgYCtuYW1lYCBvciBgLW5hbWVgKS4gSWYgbm8gcHJvcGVydHkgaXMgcHJvdmlkZWQsIChlLmcuIGAnKydgKSB0aGVuIHRoZSBhcnJheVxuICogICAgICBlbGVtZW50IGl0c2VsZiBpcyB1c2VkIHRvIGNvbXBhcmUgd2hlcmUgc29ydGluZy5cbiAqICAgIC0gYEFycmF5YDogQW4gYXJyYXkgb2YgZnVuY3Rpb24gb3Igc3RyaW5nIHByZWRpY2F0ZXMuIFRoZSBmaXJzdCBwcmVkaWNhdGUgaW4gdGhlIGFycmF5XG4gKiAgICAgIGlzIHVzZWQgZm9yIHNvcnRpbmcsIGJ1dCB3aGVuIHR3byBpdGVtcyBhcmUgZXF1aXZhbGVudCwgdGhlIG5leHQgcHJlZGljYXRlIGlzIHVzZWQuXG4gKlxuICogICAgSWYgdGhlIHByZWRpY2F0ZSBpcyBtaXNzaW5nIG9yIGVtcHR5IHRoZW4gaXQgZGVmYXVsdHMgdG8gYCcrJ2AuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gcmV2ZXJzZSBSZXZlcnNlIHRoZSBvcmRlciBvZiB0aGUgYXJyYXkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFNvcnRlZCBjb3B5IG9mIHRoZSBzb3VyY2UgYXJyYXkuXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKiBUaGUgZXhhbXBsZSBiZWxvdyBkZW1vbnN0cmF0ZXMgYSBzaW1wbGUgbmdSZXBlYXQsIHdoZXJlIHRoZSBkYXRhIGlzIHNvcnRlZFxuICogYnkgYWdlIGluIGRlc2NlbmRpbmcgb3JkZXIgKHByZWRpY2F0ZSBpcyBzZXQgdG8gYCctYWdlJ2ApLlxuICogYHJldmVyc2VgIGlzIG5vdCBzZXQsIHdoaWNoIG1lYW5zIGl0IGRlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9XG4gICAgICAgICAgICAgICAgIFt7bmFtZTonSm9obicsIHBob25lOic1NTUtMTIxMicsIGFnZToxMH0sXG4gICAgICAgICAgICAgICAgICB7bmFtZTonTWFyeScsIHBob25lOic1NTUtOTg3NicsIGFnZToxOX0sXG4gICAgICAgICAgICAgICAgICB7bmFtZTonTWlrZScsIHBob25lOic1NTUtNDMyMScsIGFnZToyMX0sXG4gICAgICAgICAgICAgICAgICB7bmFtZTonQWRhbScsIHBob25lOic1NTUtNTY3OCcsIGFnZTozNX0sXG4gICAgICAgICAgICAgICAgICB7bmFtZTonSnVsaWUnLCBwaG9uZTonNTU1LTg3NjUnLCBhZ2U6Mjl9XTtcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRcIj5cbiAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgIDx0aD5OYW1lPC90aD5cbiAgICAgICAgICAgICA8dGg+UGhvbmUgTnVtYmVyPC90aD5cbiAgICAgICAgICAgICA8dGg+QWdlPC90aD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgb3JkZXJCeTonLWFnZSdcIj5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmFnZX19PC90ZD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKiBUaGUgcHJlZGljYXRlIGFuZCByZXZlcnNlIHBhcmFtZXRlcnMgY2FuIGJlIGNvbnRyb2xsZWQgZHluYW1pY2FsbHkgdGhyb3VnaCBzY29wZSBwcm9wZXJ0aWVzLFxuICogYXMgc2hvd24gaW4gdGhlIG5leHQgZXhhbXBsZS5cbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9XG4gICAgICAgICAgICAgICAgIFt7bmFtZTonSm9obicsIHBob25lOic1NTUtMTIxMicsIGFnZToxMH0sXG4gICAgICAgICAgICAgICAgICB7bmFtZTonTWFyeScsIHBob25lOic1NTUtOTg3NicsIGFnZToxOX0sXG4gICAgICAgICAgICAgICAgICB7bmFtZTonTWlrZScsIHBob25lOic1NTUtNDMyMScsIGFnZToyMX0sXG4gICAgICAgICAgICAgICAgICB7bmFtZTonQWRhbScsIHBob25lOic1NTUtNTY3OCcsIGFnZTozNX0sXG4gICAgICAgICAgICAgICAgICB7bmFtZTonSnVsaWUnLCBwaG9uZTonNTU1LTg3NjUnLCBhZ2U6Mjl9XTtcbiAgICAgICAgICAgICAkc2NvcGUucHJlZGljYXRlID0gJ2FnZSc7XG4gICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAgICRzY29wZS5vcmRlciA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSAoJHNjb3BlLnByZWRpY2F0ZSA9PT0gcHJlZGljYXRlKSA/ICEkc2NvcGUucmV2ZXJzZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgJHNjb3BlLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgICAgICB9O1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPlxuICAgICAgICAgLnNvcnRvcmRlcjphZnRlciB7XG4gICAgICAgICAgIGNvbnRlbnQ6ICdcXDI1YjInO1xuICAgICAgICAgfVxuICAgICAgICAgLnNvcnRvcmRlci5yZXZlcnNlOmFmdGVyIHtcbiAgICAgICAgICAgY29udGVudDogJ1xcMjViYyc7XG4gICAgICAgICB9XG4gICAgICAgPC9zdHlsZT5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHByZT5Tb3J0aW5nIHByZWRpY2F0ZSA9IHt7cHJlZGljYXRlfX07IHJldmVyc2UgPSB7e3JldmVyc2V9fTwvcHJlPlxuICAgICAgICAgPGhyLz5cbiAgICAgICAgIFsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicHJlZGljYXRlPScnXCI+dW5zb3J0ZWQ8L2E+IF1cbiAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZFwiPlxuICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwib3JkZXIoJ25hbWUnKVwiPk5hbWU8L2E+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcmVkaWNhdGUgPT09ICduYW1lJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6cmV2ZXJzZX1cIj48L3NwYW4+XG4gICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJvcmRlcigncGhvbmUnKVwiPlBob25lIE51bWJlcjwvYT5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByZWRpY2F0ZSA9PT0gJ3Bob25lJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6cmV2ZXJzZX1cIj48L3NwYW4+XG4gICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJvcmRlcignYWdlJylcIj5BZ2U8L2E+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcmVkaWNhdGUgPT09ICdhZ2UnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTpyZXZlcnNlfVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OnByZWRpY2F0ZTpyZXZlcnNlXCI+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICA8L3RhYmxlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKlxuICogSXQncyBhbHNvIHBvc3NpYmxlIHRvIGNhbGwgdGhlIG9yZGVyQnkgZmlsdGVyIG1hbnVhbGx5LCBieSBpbmplY3RpbmcgYCRmaWx0ZXJgLCByZXRyaWV2aW5nIHRoZVxuICogZmlsdGVyIHJvdXRpbmUgd2l0aCBgJGZpbHRlcignb3JkZXJCeScpYCwgYW5kIGNhbGxpbmcgdGhlIHJldHVybmVkIGZpbHRlciByb3V0aW5lIHdpdGggdGhlXG4gKiBkZXNpcmVkIHBhcmFtZXRlcnMuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRcIj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmV2ZXJzZT1mYWxzZTtvcmRlcignbmFtZScsIGZhbHNlKVwiPk5hbWU8L2E+XG4gICAgICAgICAgICAgICg8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJvcmRlcignLW5hbWUnLGZhbHNlKVwiPl48L2E+KTwvdGg+XG4gICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmV2ZXJzZT0hcmV2ZXJzZTtvcmRlcigncGhvbmUnLCByZXZlcnNlKVwiPlBob25lIE51bWJlcjwvYT48L3RoPlxuICAgICAgICAgICAgPHRoPjxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInJldmVyc2U9IXJldmVyc2U7b3JkZXIoJ2FnZScscmV2ZXJzZSlcIj5BZ2U8L2E+PC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kc1wiPlxuICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGZpbHRlcicsIGZ1bmN0aW9uKCRzY29wZSwgJGZpbHRlcikge1xuICAgICAgICAgIHZhciBvcmRlckJ5ID0gJGZpbHRlcignb3JkZXJCeScpO1xuICAgICAgICAgICRzY29wZS5mcmllbmRzID0gW1xuICAgICAgICAgICAgeyBuYW1lOiAnSm9obicsICAgIHBob25lOiAnNTU1LTEyMTInLCAgICBhZ2U6IDEwIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdNYXJ5JywgICAgcGhvbmU6ICc1NTUtOTg3NicsICAgIGFnZTogMTkgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ01pa2UnLCAgICBwaG9uZTogJzU1NS00MzIxJywgICAgYWdlOiAyMSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnQWRhbScsICAgIHBob25lOiAnNTU1LTU2NzgnLCAgICBhZ2U6IDM1IH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdKdWxpZScsICAgcGhvbmU6ICc1NTUtODc2NScsICAgIGFnZTogMjkgfVxuICAgICAgICAgIF07XG4gICAgICAgICAgJHNjb3BlLm9yZGVyID0gZnVuY3Rpb24ocHJlZGljYXRlLCByZXZlcnNlKSB7XG4gICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IG9yZGVyQnkoJHNjb3BlLmZyaWVuZHMsIHByZWRpY2F0ZSwgcmV2ZXJzZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICAkc2NvcGUub3JkZXIoJy1hZ2UnLGZhbHNlKTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xub3JkZXJCeUZpbHRlci4kaW5qZWN0ID0gWyckcGFyc2UnXTtcbmZ1bmN0aW9uIG9yZGVyQnlGaWx0ZXIoJHBhcnNlKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcnJheSwgc29ydFByZWRpY2F0ZSwgcmV2ZXJzZU9yZGVyKSB7XG5cbiAgICBpZiAoIShpc0FycmF5TGlrZShhcnJheSkpKSByZXR1cm4gYXJyYXk7XG5cbiAgICBpZiAoIWlzQXJyYXkoc29ydFByZWRpY2F0ZSkpIHsgc29ydFByZWRpY2F0ZSA9IFtzb3J0UHJlZGljYXRlXTsgfVxuICAgIGlmIChzb3J0UHJlZGljYXRlLmxlbmd0aCA9PT0gMCkgeyBzb3J0UHJlZGljYXRlID0gWycrJ107IH1cblxuICAgIHZhciBwcmVkaWNhdGVzID0gcHJvY2Vzc1ByZWRpY2F0ZXMoc29ydFByZWRpY2F0ZSwgcmV2ZXJzZU9yZGVyKTtcbiAgICAvLyBBZGQgYSBwcmVkaWNhdGUgYXQgdGhlIGVuZCB0aGF0IGV2YWx1YXRlcyB0byB0aGUgZWxlbWVudCBpbmRleC4gVGhpcyBtYWtlcyB0aGVcbiAgICAvLyBzb3J0IHN0YWJsZSBhcyBpdCB3b3JrcyBhcyBhIHRpZS1icmVha2VyIHdoZW4gYWxsIHRoZSBpbnB1dCBwcmVkaWNhdGVzIGNhbm5vdFxuICAgIC8vIGRpc3Rpbmd1aXNoIGJldHdlZW4gdHdvIGVsZW1lbnRzLlxuICAgIHByZWRpY2F0ZXMucHVzaCh7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB7fTsgfSwgZGVzY2VuZGluZzogcmV2ZXJzZU9yZGVyID8gLTEgOiAxfSk7XG5cbiAgICAvLyBUaGUgbmV4dCB0aHJlZSBsaW5lcyBhcmUgYSB2ZXJzaW9uIG9mIGEgU3dhcnR6aWFuIFRyYW5zZm9ybSBpZGlvbSBmcm9tIFBlcmxcbiAgICAvLyAoc29tZXRpbWVzIGNhbGxlZCB0aGUgRGVjb3JhdGUtU29ydC1VbmRlY29yYXRlIGlkaW9tKVxuICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TY2h3YXJ0emlhbl90cmFuc2Zvcm1cbiAgICB2YXIgY29tcGFyZVZhbHVlcyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhcnJheSwgZ2V0Q29tcGFyaXNvbk9iamVjdCk7XG4gICAgY29tcGFyZVZhbHVlcy5zb3J0KGRvQ29tcGFyaXNvbik7XG4gICAgYXJyYXkgPSBjb21wYXJlVmFsdWVzLm1hcChmdW5jdGlvbihpdGVtKSB7IHJldHVybiBpdGVtLnZhbHVlOyB9KTtcblxuICAgIHJldHVybiBhcnJheTtcblxuICAgIGZ1bmN0aW9uIGdldENvbXBhcmlzb25PYmplY3QodmFsdWUsIGluZGV4KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHByZWRpY2F0ZVZhbHVlczogcHJlZGljYXRlcy5tYXAoZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIGdldFByZWRpY2F0ZVZhbHVlKHByZWRpY2F0ZS5nZXQodmFsdWUpLCBpbmRleCk7XG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvQ29tcGFyaXNvbih2MSwgdjIpIHtcbiAgICAgIHZhciByZXN1bHQgPSAwO1xuICAgICAgZm9yICh2YXIgaW5kZXg9MCwgbGVuZ3RoID0gcHJlZGljYXRlcy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgIHJlc3VsdCA9IGNvbXBhcmUodjEucHJlZGljYXRlVmFsdWVzW2luZGV4XSwgdjIucHJlZGljYXRlVmFsdWVzW2luZGV4XSkgKiBwcmVkaWNhdGVzW2luZGV4XS5kZXNjZW5kaW5nO1xuICAgICAgICBpZiAocmVzdWx0KSBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHByb2Nlc3NQcmVkaWNhdGVzKHNvcnRQcmVkaWNhdGUsIHJldmVyc2VPcmRlcikge1xuICAgIHJldmVyc2VPcmRlciA9IHJldmVyc2VPcmRlciA/IC0xIDogMTtcbiAgICByZXR1cm4gc29ydFByZWRpY2F0ZS5tYXAoZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICB2YXIgZGVzY2VuZGluZyA9IDEsIGdldCA9IGlkZW50aXR5O1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihwcmVkaWNhdGUpKSB7XG4gICAgICAgIGdldCA9IHByZWRpY2F0ZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcocHJlZGljYXRlKSkge1xuICAgICAgICBpZiAoKHByZWRpY2F0ZS5jaGFyQXQoMCkgPT0gJysnIHx8IHByZWRpY2F0ZS5jaGFyQXQoMCkgPT0gJy0nKSkge1xuICAgICAgICAgIGRlc2NlbmRpbmcgPSBwcmVkaWNhdGUuY2hhckF0KDApID09ICctJyA/IC0xIDogMTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBwcmVkaWNhdGUuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVkaWNhdGUgIT09ICcnKSB7XG4gICAgICAgICAgZ2V0ID0gJHBhcnNlKHByZWRpY2F0ZSk7XG4gICAgICAgICAgaWYgKGdldC5jb25zdGFudCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGdldCgpO1xuICAgICAgICAgICAgZ2V0ID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlW2tleV07IH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyBnZXQ6IGdldCwgZGVzY2VuZGluZzogZGVzY2VuZGluZyAqIHJldmVyc2VPcmRlciB9O1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzogLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSAnYm9vbGVhbic6IC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9iamVjdFZhbHVlKHZhbHVlLCBpbmRleCkge1xuICAgIC8vIElmIGB2YWx1ZU9mYCBpcyBhIHZhbGlkIGZ1bmN0aW9uIHVzZSB0aGF0XG4gICAgaWYgKHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnZhbHVlT2YoKTtcbiAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLy8gSWYgYHRvU3RyaW5nYCBpcyBhIHZhbGlkIGZ1bmN0aW9uIGFuZCBub3QgdGhlIG9uZSBmcm9tIGBPYmplY3QucHJvdG90eXBlYCB1c2UgdGhhdFxuICAgIGlmIChoYXNDdXN0b21Ub1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLy8gV2UgaGF2ZSBhIGJhc2ljIG9iamVjdCBzbyB3ZSB1c2UgdGhlIHBvc2l0aW9uIG9mIHRoZSBvYmplY3QgaW4gdGhlIGNvbGxlY3Rpb25cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQcmVkaWNhdGVWYWx1ZSh2YWx1ZSwgaW5kZXgpIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHR5cGUgPSAnc3RyaW5nJztcbiAgICAgIHZhbHVlID0gJ251bGwnO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICB2YWx1ZSA9IG9iamVjdFZhbHVlKHZhbHVlLCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgdHlwZTogdHlwZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGFyZSh2MSwgdjIpIHtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICBpZiAodjEudHlwZSA9PT0gdjIudHlwZSkge1xuICAgICAgaWYgKHYxLnZhbHVlICE9PSB2Mi52YWx1ZSkge1xuICAgICAgICByZXN1bHQgPSB2MS52YWx1ZSA8IHYyLnZhbHVlID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSB2MS50eXBlIDwgdjIudHlwZSA/IC0xIDogMTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBuZ0RpcmVjdGl2ZShkaXJlY3RpdmUpIHtcbiAgaWYgKGlzRnVuY3Rpb24oZGlyZWN0aXZlKSkge1xuICAgIGRpcmVjdGl2ZSA9IHtcbiAgICAgIGxpbms6IGRpcmVjdGl2ZVxuICAgIH07XG4gIH1cbiAgZGlyZWN0aXZlLnJlc3RyaWN0ID0gZGlyZWN0aXZlLnJlc3RyaWN0IHx8ICdBQyc7XG4gIHJldHVybiB2YWx1ZUZuKGRpcmVjdGl2ZSk7XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgYVxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIE1vZGlmaWVzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSBodG1sIEEgdGFnIHNvIHRoYXQgdGhlIGRlZmF1bHQgYWN0aW9uIGlzIHByZXZlbnRlZCB3aGVuXG4gKiB0aGUgaHJlZiBhdHRyaWJ1dGUgaXMgZW1wdHkuXG4gKlxuICogVGhpcyBjaGFuZ2UgcGVybWl0cyB0aGUgZWFzeSBjcmVhdGlvbiBvZiBhY3Rpb24gbGlua3Mgd2l0aCB0aGUgYG5nQ2xpY2tgIGRpcmVjdGl2ZVxuICogd2l0aG91dCBjaGFuZ2luZyB0aGUgbG9jYXRpb24gb3IgY2F1c2luZyBwYWdlIHJlbG9hZHMsIGUuZy46XG4gKiBgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwibGlzdC5hZGRJdGVtKClcIj5BZGQgSXRlbTwvYT5gXG4gKi9cbnZhciBodG1sQW5jaG9yRGlyZWN0aXZlID0gdmFsdWVGbih7XG4gIHJlc3RyaWN0OiAnRScsXG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICBpZiAoIWF0dHIuaHJlZiAmJiAhYXR0ci54bGlua0hyZWYpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAvLyBJZiB0aGUgbGlua2VkIGVsZW1lbnQgaXMgbm90IGFuIGFuY2hvciB0YWcgYW55bW9yZSwgZG8gbm90aGluZ1xuICAgICAgICBpZiAoZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHJldHVybjtcblxuICAgICAgICAvLyBTVkdBRWxlbWVudCBkb2VzIG5vdCB1c2UgdGhlIGhyZWYgYXR0cmlidXRlLCBidXQgcmF0aGVyIHRoZSAneGxpbmtIcmVmJyBhdHRyaWJ1dGUuXG4gICAgICAgIHZhciBocmVmID0gdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScgP1xuICAgICAgICAgICAgICAgICAgICd4bGluazpocmVmJyA6ICdocmVmJztcbiAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIC8vIGlmIHdlIGhhdmUgbm8gaHJlZiB1cmwsIHRoZW4gZG9uJ3QgbmF2aWdhdGUgYW55d2hlcmUuXG4gICAgICAgICAgaWYgKCFlbGVtZW50LmF0dHIoaHJlZikpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0hyZWZcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgOTlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhbiBocmVmIGF0dHJpYnV0ZSB3aWxsXG4gKiBtYWtlIHRoZSBsaW5rIGdvIHRvIHRoZSB3cm9uZyBVUkwgaWYgdGhlIHVzZXIgY2xpY2tzIGl0IGJlZm9yZVxuICogQW5ndWxhciBoYXMgYSBjaGFuY2UgdG8gcmVwbGFjZSB0aGUgYHt7aGFzaH19YCBtYXJrdXAgd2l0aCBpdHNcbiAqIHZhbHVlLiBVbnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBtYXJrdXAgdGhlIGxpbmsgd2lsbCBiZSBicm9rZW5cbiAqIGFuZCB3aWxsIG1vc3QgbGlrZWx5IHJldHVybiBhIDQwNCBlcnJvci4gVGhlIGBuZ0hyZWZgIGRpcmVjdGl2ZVxuICogc29sdmVzIHRoaXMgcHJvYmxlbS5cbiAqXG4gKiBUaGUgd3Jvbmcgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGEgaHJlZj1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiPmxpbmsxPC9hPlxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGEgbmctaHJlZj1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiPmxpbmsxPC9hPlxuICogYGBgXG4gKlxuICogQGVsZW1lbnQgQVxuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdIcmVmIGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIHZhcmlvdXMgY29tYmluYXRpb25zIG9mIGBocmVmYCwgYG5nLWhyZWZgIGFuZCBgbmctY2xpY2tgIGF0dHJpYnV0ZXNcbiAqIGluIGxpbmtzIGFuZCB0aGVpciBkaWZmZXJlbnQgYmVoYXZpb3JzOlxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwidmFsdWVcIiAvPjxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstMVwiIGhyZWYgbmctY2xpY2s9XCJ2YWx1ZSA9IDFcIj5saW5rIDE8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay0yXCIgaHJlZj1cIlwiIG5nLWNsaWNrPVwidmFsdWUgPSAyXCI+bGluayAyPC9hPiAobGluaywgZG9uJ3QgcmVsb2FkKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstM1wiIG5nLWhyZWY9XCIve3snMTIzJ319XCI+bGluayAzPC9hPiAobGluaywgcmVsb2FkISk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTRcIiBocmVmPVwiXCIgbmFtZT1cInh4XCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDRcIj5hbmNob3I8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay01XCIgbmFtZT1cInh4eFwiIG5nLWNsaWNrPVwidmFsdWUgPSA1XCI+YW5jaG9yPC9hPiAobm8gbGluayk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTZcIiBuZy1ocmVmPVwie3t2YWx1ZX19XCI+bGluazwvYT4gKGxpbmssIGNoYW5nZSBsb2NhdGlvbilcbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiB3aXRob3V0IHZhbHVlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0xJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnMScpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTEnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBocmVmIGVtcHR5IHN0cmluZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzInKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0yJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGFuZCBjaGFuZ2UgdXJsIHdoZW4gbmctaHJlZiBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0zJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cXC8xMjMkLyk7XG5cbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTMnKSkuY2xpY2soKTtcblxuICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIG5hdmlnYXRlIGF3YXkgZnJvbSBhbiBBbmd1bGFyIHBhZ2UsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byB1c2UgYnJvd3Nlci5kcml2ZXIgdG8gZ2V0IHRoZSBiYXNlIHdlYmRyaXZlci5cblxuICAgICAgICAgIGJyb3dzZXIud2FpdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvMTIzJC8pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgNTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC8xMjMnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcgYW5kIG5hbWUgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay00JykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnNCcpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTQnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBubyBocmVmIGJ1dCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzUnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay01JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKG51bGwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIG9ubHkgY2hhbmdlIHVybCB3aGVuIG9ubHkgbmctaHJlZicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmNsZWFyKCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuc2VuZEtleXMoJzYnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay02JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cXC82JC8pO1xuXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay02JykpLmNsaWNrKCk7XG5cbiAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhciBwYWdlLCBzbyB3ZSBuZWVkXG4gICAgICAgICAgLy8gdG8gdXNlIGJyb3dzZXIuZHJpdmVyIHRvIGdldCB0aGUgYmFzZSB3ZWJkcml2ZXIuXG4gICAgICAgICAgYnJvd3Nlci53YWl0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICByZXR1cm4gdXJsLm1hdGNoKC9cXC82JC8pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgNTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC82Jyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3JjXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDk5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYSBgc3JjYCBhdHRyaWJ1dGUgZG9lc24ndFxuICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbFxuICogdGV4dCBge3toYXNofX1gIHVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIGV4cHJlc3Npb24gaW5zaWRlXG4gKiBge3toYXNofX1gLiBUaGUgYG5nU3JjYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbS5cbiAqXG4gKiBUaGUgYnVnZ3kgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBzcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIiBhbHQ9XCJEZXNjcmlwdGlvblwiLz5cbiAqIGBgYFxuICpcbiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxpbWcgbmctc3JjPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCIgYWx0PVwiRGVzY3JpcHRpb25cIiAvPlxuICogYGBgXG4gKlxuICogQGVsZW1lbnQgSU1HXG4gKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ1NyYyBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1NyY3NldFxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSA5OVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGEgYHNyY3NldGAgYXR0cmlidXRlIGRvZXNuJ3RcbiAqIHdvcmsgcmlnaHQ6IFRoZSBicm93c2VyIHdpbGwgZmV0Y2ggZnJvbSB0aGUgVVJMIHdpdGggdGhlIGxpdGVyYWxcbiAqIHRleHQgYHt7aGFzaH19YCB1bnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBleHByZXNzaW9uIGluc2lkZVxuICogYHt7aGFzaH19YC4gVGhlIGBuZ1NyY3NldGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0uXG4gKlxuICogVGhlIGJ1Z2d5IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxpbWcgc3Jjc2V0PVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19IDJ4XCIgYWx0PVwiRGVzY3JpcHRpb25cIi8+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIG5nLXNyY3NldD1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeFwiIGFsdD1cIkRlc2NyaXB0aW9uXCIgLz5cbiAqIGBgYFxuICpcbiAqIEBlbGVtZW50IElNR1xuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdTcmNzZXQgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdEaXNhYmxlZFxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGlzIGRpcmVjdGl2ZSBzZXRzIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBpZiB0aGVcbiAqIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGluc2lkZSBgbmdEaXNhYmxlZGAgZXZhbHVhdGVzIHRvIHRydXRoeS5cbiAqXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBkaXNhYmxlZGBcbiAqIGF0dHJpYnV0ZS4gIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSB3b3VsZCBtYWtlIHRoZSBidXR0b24gZW5hYmxlZCBvbiBDaHJvbWUvRmlyZWZveFxuICogYnV0IG5vdCBvbiBvbGRlciBJRXM6XG4gKlxuICogYGBgaHRtbFxuICogPCEtLSBTZWUgYmVsb3cgZm9yIGFuIGV4YW1wbGUgb2YgbmctZGlzYWJsZWQgYmVpbmcgdXNlZCBjb3JyZWN0bHkgLS0+XG4gKiA8ZGl2IG5nLWluaXQ9XCJpc0Rpc2FibGVkID0gZmFsc2VcIj5cbiAqICA8YnV0dG9uIGRpc2FibGVkPVwie3tpc0Rpc2FibGVkfX1cIj5EaXNhYmxlZDwvYnV0dG9uPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGlzIGJlY2F1c2UgdGhlIEhUTUwgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCByZXF1aXJlIGJyb3dzZXJzIHRvIHByZXNlcnZlIHRoZSB2YWx1ZXMgb2ZcbiAqIGJvb2xlYW4gYXR0cmlidXRlcyBzdWNoIGFzIGBkaXNhYmxlZGAgKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGxhYmVsPkNsaWNrIG1lIHRvIHRvZ2dsZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgPGJ1dHRvbiBuZy1tb2RlbD1cImJ1dHRvblwiIG5nLWRpc2FibGVkPVwiY2hlY2tlZFwiPkJ1dHRvbjwvYnV0dG9uPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBidXR0b24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGlzYWJsZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NoZWNrZWRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXRzIHRoZSBgY2hlY2tlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nQ2hlY2tlZGAgaXMgdHJ1dGh5LlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGRpcmVjdGl2ZSBzaG91bGQgbm90IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LFxuICogYXMgdGhpcyBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yLlxuICpcbiAqICMjIyBXaHkgZG8gd2UgbmVlZCBgbmdDaGVja2VkYD9cbiAqXG4gKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXNcbiAqIHN1Y2ggYXMgY2hlY2tlZC4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdDaGVja2VkYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbSBmb3IgdGhlIGBjaGVja2VkYCBhdHRyaWJ1dGUuXG4gKiBUaGlzIGNvbXBsZW1lbnRhcnkgZGlyZWN0aXZlIGlzIG5vdCByZW1vdmVkIGJ5IHRoZSBicm93c2VyIGFuZCBzbyBwcm92aWRlc1xuICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGxhYmVsPkNoZWNrIG1lIHRvIGNoZWNrIGJvdGg6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cIm1hc3RlclwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgPGlucHV0IGlkPVwiY2hlY2tTbGF2ZVwiIHR5cGU9XCJjaGVja2JveFwiIG5nLWNoZWNrZWQ9XCJtYXN0ZXJcIiBhcmlhLWxhYmVsPVwiU2xhdmUgaW5wdXRcIj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBib3RoIGNoZWNrQm94ZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY2hlY2tTbGF2ZScpKS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnbWFzdGVyJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2NoZWNrU2xhdmUnKSkuZ2V0QXR0cmlidXRlKCdjaGVja2VkJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2hlY2tlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gdGhlIGBjaGVja2VkYCBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdSZWFkb25seVxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBIVE1MIHNwZWNpZmljYXRpb24gZG9lcyBub3QgcmVxdWlyZSBicm93c2VycyB0byBwcmVzZXJ2ZSB0aGUgdmFsdWVzIG9mIGJvb2xlYW4gYXR0cmlidXRlc1xuICogc3VjaCBhcyByZWFkb25seS4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdSZWFkb25seWAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgcmVhZG9ubHlgIGF0dHJpYnV0ZS5cbiAqIFRoaXMgY29tcGxlbWVudGFyeSBkaXJlY3RpdmUgaXMgbm90IHJlbW92ZWQgYnkgdGhlIGJyb3dzZXIgYW5kIHNvIHByb3ZpZGVzXG4gKiBhIHBlcm1hbmVudCByZWxpYWJsZSBwbGFjZSB0byBzdG9yZSB0aGUgYmluZGluZyBpbmZvcm1hdGlvbi5cbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8bGFiZWw+Q2hlY2sgbWUgdG8gbWFrZSB0ZXh0IHJlYWRvbmx5OiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PC9sYWJlbD48YnIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1yZWFkb25seT1cImNoZWNrZWRcIiB2YWx1ZT1cIkknbSBBbmd1bGFyXCIgYXJpYS1sYWJlbD1cIlJlYWRvbmx5IGZpZWxkXCIgLz5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgcmVhZG9ubHkgYXR0cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnW3R5cGU9XCJ0ZXh0XCJdJykpLmdldEF0dHJpYnV0ZSgncmVhZG9ubHknKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnW3R5cGU9XCJ0ZXh0XCJdJykpLmdldEF0dHJpYnV0ZSgncmVhZG9ubHknKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgSU5QVVRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdSZWFkb25seSBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJyZWFkb25seVwiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU2VsZWN0ZWRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXNcbiAqIHN1Y2ggYXMgc2VsZWN0ZWQuIChUaGVpciBwcmVzZW5jZSBtZWFucyB0cnVlIGFuZCB0aGVpciBhYnNlbmNlIG1lYW5zIGZhbHNlLilcbiAqIElmIHdlIHB1dCBhbiBBbmd1bGFyIGludGVycG9sYXRpb24gZXhwcmVzc2lvbiBpbnRvIHN1Y2ggYW4gYXR0cmlidXRlIHRoZW4gdGhlXG4gKiBiaW5kaW5nIGluZm9ybWF0aW9uIHdvdWxkIGJlIGxvc3Qgd2hlbiB0aGUgYnJvd3NlciByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuXG4gKiBUaGUgYG5nU2VsZWN0ZWRgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtIGZvciB0aGUgYHNlbGVjdGVkYCBhdHRyaWJ1dGUuXG4gKiBUaGlzIGNvbXBsZW1lbnRhcnkgZGlyZWN0aXZlIGlzIG5vdCByZW1vdmVkIGJ5IHRoZSBicm93c2VyIGFuZCBzbyBwcm92aWRlc1xuICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBzZWxlY3Q6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInNlbGVjdGVkXCI+PC9sYWJlbD48YnIvPlxuICAgICAgICA8c2VsZWN0IGFyaWEtbGFiZWw9XCJuZ1NlbGVjdGVkIGRlbW9cIj5cbiAgICAgICAgICA8b3B0aW9uPkhlbGxvITwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gaWQ9XCJncmVldFwiIG5nLXNlbGVjdGVkPVwic2VsZWN0ZWRcIj5HcmVldGluZ3MhPC9vcHRpb24+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIHNlbGVjdCBHcmVldGluZ3MhJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2dyZWV0JykpLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc2VsZWN0ZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZ3JlZXQnKSkuZ2V0QXR0cmlidXRlKCdzZWxlY3RlZCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBPUFRJT05cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTZWxlY3RlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJzZWxlY3RlZFwiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ09wZW5cbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXNcbiAqIHN1Y2ggYXMgb3Blbi4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdPcGVuYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbSBmb3IgdGhlIGBvcGVuYCBhdHRyaWJ1dGUuXG4gKiBUaGlzIGNvbXBsZW1lbnRhcnkgZGlyZWN0aXZlIGlzIG5vdCByZW1vdmVkIGJ5IHRoZSBicm93c2VyIGFuZCBzbyBwcm92aWRlc1xuICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uXG4gKiBAZXhhbXBsZVxuICAgICA8ZXhhbXBsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPGxhYmVsPkNoZWNrIG1lIGNoZWNrIG11bHRpcGxlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJvcGVuXCI+PC9sYWJlbD48YnIvPlxuICAgICAgICAgPGRldGFpbHMgaWQ9XCJkZXRhaWxzXCIgbmctb3Blbj1cIm9wZW5cIj5cbiAgICAgICAgICAgIDxzdW1tYXJ5PlNob3cvSGlkZSBtZTwvc3VtbWFyeT5cbiAgICAgICAgIDwvZGV0YWlscz5cbiAgICAgICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgb3BlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZGV0YWlscycpKS5nZXRBdHRyaWJ1dGUoJ29wZW4nKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ29wZW4nKSkuY2xpY2soKTtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgIH0pO1xuICAgICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IERFVEFJTFNcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdPcGVuIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXG4gKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSBcIm9wZW5cIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cbnZhciBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyA9IHt9O1xuXG4vLyBib29sZWFuIGF0dHJzIGFyZSBldmFsdWF0ZWRcbmZvckVhY2goQk9PTEVBTl9BVFRSLCBmdW5jdGlvbihwcm9wTmFtZSwgYXR0ck5hbWUpIHtcbiAgLy8gYmluZGluZyB0byBtdWx0aXBsZSBpcyBub3Qgc3VwcG9ydGVkXG4gIGlmIChwcm9wTmFtZSA9PSBcIm11bHRpcGxlXCIpIHJldHVybjtcblxuICBmdW5jdGlvbiBkZWZhdWx0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgc2NvcGUuJHdhdGNoKGF0dHJbbm9ybWFsaXplZF0sIGZ1bmN0aW9uIG5nQm9vbGVhbkF0dHJXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgYXR0ci4kc2V0KGF0dHJOYW1lLCAhIXZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xuICB2YXIgbGlua0ZuID0gZGVmYXVsdExpbmtGbjtcblxuICBpZiAocHJvcE5hbWUgPT09ICdjaGVja2VkJykge1xuICAgIGxpbmtGbiA9IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAvLyBlbnN1cmluZyBuZ0NoZWNrZWQgZG9lc24ndCBpbnRlcmZlcmUgd2l0aCBuZ01vZGVsIHdoZW4gYm90aCBhcmUgc2V0IG9uIHRoZSBzYW1lIGlucHV0XG4gICAgICBpZiAoYXR0ci5uZ01vZGVsICE9PSBhdHRyW25vcm1hbGl6ZWRdKSB7XG4gICAgICAgIGRlZmF1bHRMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgcHJpb3JpdHk6IDEwMCxcbiAgICAgIGxpbms6IGxpbmtGblxuICAgIH07XG4gIH07XG59KTtcblxuLy8gYWxpYXNlZCBpbnB1dCBhdHRycyBhcmUgZXZhbHVhdGVkXG5mb3JFYWNoKEFMSUFTRURfQVRUUiwgZnVuY3Rpb24oaHRtbEF0dHIsIG5nQXR0cikge1xuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tuZ0F0dHJdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAvL3NwZWNpYWwgY2FzZSBuZ1BhdHRlcm4gd2hlbiBhIGxpdGVyYWwgcmVndWxhciBleHByZXNzaW9uIHZhbHVlXG4gICAgICAgIC8vaXMgdXNlZCBhcyB0aGUgZXhwcmVzc2lvbiAodGhpcyB3YXkgd2UgZG9uJ3QgaGF2ZSB0byB3YXRjaCBhbnl0aGluZykuXG4gICAgICAgIGlmIChuZ0F0dHIgPT09IFwibmdQYXR0ZXJuXCIgJiYgYXR0ci5uZ1BhdHRlcm4uY2hhckF0KDApID09IFwiL1wiKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gYXR0ci5uZ1BhdHRlcm4ubWF0Y2goUkVHRVhfU1RSSU5HX1JFR0VYUCk7XG4gICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBhdHRyLiRzZXQoXCJuZ1BhdHRlcm5cIiwgbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0pKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cltuZ0F0dHJdLCBmdW5jdGlvbiBuZ0F0dHJBbGlhc1dhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgYXR0ci4kc2V0KG5nQXR0ciwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufSk7XG5cbi8vIG5nLXNyYywgbmctc3Jjc2V0LCBuZy1ocmVmIGFyZSBpbnRlcnBvbGF0ZWRcbmZvckVhY2goWydzcmMnLCAnc3Jjc2V0JywgJ2hyZWYnXSwgZnVuY3Rpb24oYXR0ck5hbWUpIHtcbiAgdmFyIG5vcm1hbGl6ZWQgPSBkaXJlY3RpdmVOb3JtYWxpemUoJ25nLScgKyBhdHRyTmFtZSk7XG4gIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzW25vcm1hbGl6ZWRdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByaW9yaXR5OiA5OSwgLy8gaXQgbmVlZHMgdG8gcnVuIGFmdGVyIHRoZSBhdHRyaWJ1dGVzIGFyZSBpbnRlcnBvbGF0ZWRcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBwcm9wTmFtZSA9IGF0dHJOYW1lLFxuICAgICAgICAgICAgbmFtZSA9IGF0dHJOYW1lO1xuXG4gICAgICAgIGlmIChhdHRyTmFtZSA9PT0gJ2hyZWYnICYmXG4gICAgICAgICAgICB0b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgnaHJlZicpKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJykge1xuICAgICAgICAgIG5hbWUgPSAneGxpbmtIcmVmJztcbiAgICAgICAgICBhdHRyLiRhdHRyW25hbWVdID0gJ3hsaW5rOmhyZWYnO1xuICAgICAgICAgIHByb3BOYW1lID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGF0dHIuJG9ic2VydmUobm9ybWFsaXplZCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICdocmVmJykge1xuICAgICAgICAgICAgICBhdHRyLiRzZXQobmFtZSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXR0ci4kc2V0KG5hbWUsIHZhbHVlKTtcblxuICAgICAgICAgIC8vIG9uIElFLCBpZiBcIm5nOnNyY1wiIGRpcmVjdGl2ZSBkZWNsYXJhdGlvbiBpcyB1c2VkIGFuZCBcInNyY1wiIGF0dHJpYnV0ZSBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgLy8gdGhlbiBjYWxsaW5nIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzcmMnLCAnZm9vJykgZG9lc24ndCBkbyBhbnl0aGluZywgc28gd2UgbmVlZFxuICAgICAgICAgIC8vIHRvIHNldCB0aGUgcHJvcGVydHkgYXMgd2VsbCB0byBhY2hpZXZlIHRoZSBkZXNpcmVkIGVmZmVjdC5cbiAgICAgICAgICAvLyB3ZSB1c2UgYXR0clthdHRyTmFtZV0gdmFsdWUgc2luY2UgJHNldCBjYW4gc2FuaXRpemUgdGhlIHVybC5cbiAgICAgICAgICBpZiAobXNpZSAmJiBwcm9wTmFtZSkgZWxlbWVudC5wcm9wKHByb3BOYW1lLCBhdHRyW25hbWVdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0pO1xuXG4vKiBnbG9iYWwgLW51bGxGb3JtQ3RybCwgLVNVQk1JVFRFRF9DTEFTUywgYWRkU2V0VmFsaWRpdHlNZXRob2Q6IHRydWVcbiAqL1xudmFyIG51bGxGb3JtQ3RybCA9IHtcbiAgJGFkZENvbnRyb2w6IG5vb3AsXG4gICQkcmVuYW1lQ29udHJvbDogbnVsbEZvcm1SZW5hbWVDb250cm9sLFxuICAkcmVtb3ZlQ29udHJvbDogbm9vcCxcbiAgJHNldFZhbGlkaXR5OiBub29wLFxuICAkc2V0RGlydHk6IG5vb3AsXG4gICRzZXRQcmlzdGluZTogbm9vcCxcbiAgJHNldFN1Ym1pdHRlZDogbm9vcFxufSxcblNVQk1JVFRFRF9DTEFTUyA9ICduZy1zdWJtaXR0ZWQnO1xuXG5mdW5jdGlvbiBudWxsRm9ybVJlbmFtZUNvbnRyb2woY29udHJvbCwgbmFtZSkge1xuICBjb250cm9sLiRuYW1lID0gbmFtZTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlclxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHByaXN0aW5lIFRydWUgaWYgdXNlciBoYXMgbm90IGludGVyYWN0ZWQgd2l0aCB0aGUgZm9ybSB5ZXQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRkaXJ0eSBUcnVlIGlmIHVzZXIgaGFzIGFscmVhZHkgaW50ZXJhY3RlZCB3aXRoIHRoZSBmb3JtLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkdmFsaWQgVHJ1ZSBpZiBhbGwgb2YgdGhlIGNvbnRhaW5pbmcgZm9ybXMgYW5kIGNvbnRyb2xzIGFyZSB2YWxpZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGludmFsaWQgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgY29udGFpbmluZyBjb250cm9sIG9yIGZvcm0gaXMgaW52YWxpZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHBlbmRpbmcgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgY29udGFpbmluZyBjb250cm9sIG9yIGZvcm0gaXMgcGVuZGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHN1Ym1pdHRlZCBUcnVlIGlmIHVzZXIgaGFzIHN1Ym1pdHRlZCB0aGUgZm9ybSBldmVuIGlmIGl0cyBpbnZhbGlkLlxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkZXJyb3IgSXMgYW4gb2JqZWN0IGhhc2gsIGNvbnRhaW5pbmcgcmVmZXJlbmNlcyB0byBjb250cm9scyBvclxuICogIGZvcm1zIHdpdGggZmFpbGluZyB2YWxpZGF0b3JzLCB3aGVyZTpcbiAqXG4gKiAgLSBrZXlzIGFyZSB2YWxpZGF0aW9uIHRva2VucyAoZXJyb3IgbmFtZXMpLFxuICogIC0gdmFsdWVzIGFyZSBhcnJheXMgb2YgY29udHJvbHMgb3IgZm9ybXMgdGhhdCBoYXZlIGEgZmFpbGluZyB2YWxpZGF0b3IgZm9yIGdpdmVuIGVycm9yIG5hbWUuXG4gKlxuICogIEJ1aWx0LWluIHZhbGlkYXRpb24gdG9rZW5zOlxuICpcbiAqICAtIGBlbWFpbGBcbiAqICAtIGBtYXhgXG4gKiAgLSBgbWF4bGVuZ3RoYFxuICogIC0gYG1pbmBcbiAqICAtIGBtaW5sZW5ndGhgXG4gKiAgLSBgbnVtYmVyYFxuICogIC0gYHBhdHRlcm5gXG4gKiAgLSBgcmVxdWlyZWRgXG4gKiAgLSBgdXJsYFxuICogIC0gYGRhdGVgXG4gKiAgLSBgZGF0ZXRpbWVsb2NhbGBcbiAqICAtIGB0aW1lYFxuICogIC0gYHdlZWtgXG4gKiAgLSBgbW9udGhgXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgRm9ybUNvbnRyb2xsZXJgIGtlZXBzIHRyYWNrIG9mIGFsbCBpdHMgY29udHJvbHMgYW5kIG5lc3RlZCBmb3JtcyBhcyB3ZWxsIGFzIHRoZSBzdGF0ZSBvZiB0aGVtLFxuICogc3VjaCBhcyBiZWluZyB2YWxpZC9pbnZhbGlkIG9yIGRpcnR5L3ByaXN0aW5lLlxuICpcbiAqIEVhY2gge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGZvcm19IGRpcmVjdGl2ZSBjcmVhdGVzIGFuIGluc3RhbmNlXG4gKiBvZiBgRm9ybUNvbnRyb2xsZXJgLlxuICpcbiAqL1xuLy9hc2tzIGZvciAkc2NvcGUgdG8gZm9vbCB0aGUgQkMgY29udHJvbGxlciBtb2R1bGVcbkZvcm1Db250cm9sbGVyLiRpbmplY3QgPSBbJyRlbGVtZW50JywgJyRhdHRycycsICckc2NvcGUnLCAnJGFuaW1hdGUnLCAnJGludGVycG9sYXRlJ107XG5mdW5jdGlvbiBGb3JtQ29udHJvbGxlcihlbGVtZW50LCBhdHRycywgJHNjb3BlLCAkYW5pbWF0ZSwgJGludGVycG9sYXRlKSB7XG4gIHZhciBmb3JtID0gdGhpcyxcbiAgICAgIGNvbnRyb2xzID0gW107XG5cbiAgLy8gaW5pdCBzdGF0ZVxuICBmb3JtLiRlcnJvciA9IHt9O1xuICBmb3JtLiQkc3VjY2VzcyA9IHt9O1xuICBmb3JtLiRwZW5kaW5nID0gdW5kZWZpbmVkO1xuICBmb3JtLiRuYW1lID0gJGludGVycG9sYXRlKGF0dHJzLm5hbWUgfHwgYXR0cnMubmdGb3JtIHx8ICcnKSgkc2NvcGUpO1xuICBmb3JtLiRkaXJ0eSA9IGZhbHNlO1xuICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XG4gIGZvcm0uJHZhbGlkID0gdHJ1ZTtcbiAgZm9ybS4kaW52YWxpZCA9IGZhbHNlO1xuICBmb3JtLiRzdWJtaXR0ZWQgPSBmYWxzZTtcbiAgZm9ybS4kJHBhcmVudEZvcm0gPSBudWxsRm9ybUN0cmw7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJvbGxiYWNrIGFsbCBmb3JtIGNvbnRyb2xzIHBlbmRpbmcgdXBkYXRlcyB0byB0aGUgYCRtb2RlbFZhbHVlYC5cbiAgICpcbiAgICogVXBkYXRlcyBtYXkgYmUgcGVuZGluZyBieSBhIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWUgZnV0dXJlXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiBUaGlzIG1ldGhvZCBpcyB0eXBpY2FsbHkgbmVlZGVkIGJ5IHRoZSByZXNldCBidXR0b24gb2ZcbiAgICogYSBmb3JtIHRoYXQgdXNlcyBgbmctbW9kZWwtb3B0aW9uc2AgdG8gcGVuZCB1cGRhdGVzLlxuICAgKi9cbiAgZm9ybS4kcm9sbGJhY2tWaWV3VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICBmb3JFYWNoKGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgICBjb250cm9sLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJGNvbW1pdFZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ29tbWl0IGFsbCBmb3JtIGNvbnRyb2xzIHBlbmRpbmcgdXBkYXRlcyB0byB0aGUgYCRtb2RlbFZhbHVlYC5cbiAgICpcbiAgICogVXBkYXRlcyBtYXkgYmUgcGVuZGluZyBieSBhIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWUgZnV0dXJlXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiBUaGlzIG1ldGhvZCBpcyByYXJlbHkgbmVlZGVkIGFzIGBOZ01vZGVsQ29udHJvbGxlcmBcbiAgICogdXN1YWxseSBoYW5kbGVzIGNhbGxpbmcgdGhpcyBpbiByZXNwb25zZSB0byBpbnB1dCBldmVudHMuXG4gICAqL1xuICBmb3JtLiRjb21taXRWaWV3VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICBmb3JFYWNoKGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgICBjb250cm9sLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRhZGRDb250cm9sXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb250cm9sIGNvbnRyb2wgb2JqZWN0LCBlaXRoZXIgYSB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlcn0gb3IgYW5cbiAgICoge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXJ9XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBhIGNvbnRyb2wgd2l0aCB0aGUgZm9ybS4gSW5wdXQgZWxlbWVudHMgdXNpbmcgbmdNb2RlbENvbnRyb2xsZXIgZG8gdGhpcyBhdXRvbWF0aWNhbGx5XG4gICAqIHdoZW4gdGhleSBhcmUgbGlua2VkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbnRyb2wgd2lsbCBub3QgYmUgcmVmbGVjdGVkIG9uIHRoZSBuZXcgcGFyZW50IGZvcm0uIFRoaXNcbiAgICogaXMgbm90IGFuIGlzc3VlIHdpdGggbm9ybWFsIHVzZSwgYXMgZnJlc2hseSBjb21waWxlZCBhbmQgbGlua2VkIGNvbnRyb2xzIGFyZSBpbiBhIGAkcHJpc3RpbmVgXG4gICAqIHN0YXRlLlxuICAgKlxuICAgKiBIb3dldmVyLCBpZiB0aGUgbWV0aG9kIGlzIHVzZWQgcHJvZ3JhbW1hdGljYWxseSwgZm9yIGV4YW1wbGUgYnkgYWRkaW5nIGR5bmFtaWNhbGx5IGNyZWF0ZWQgY29udHJvbHMsXG4gICAqIG9yIGNvbnRyb2xzIHRoYXQgaGF2ZSBiZWVuIHByZXZpb3VzbHkgcmVtb3ZlZCB3aXRob3V0IGRlc3Ryb3lpbmcgdGhlaXIgY29ycmVzcG9uZGluZyBET00gZWxlbWVudCxcbiAgICogaXQncyB0aGUgZGV2ZWxvcGVycyByZXNwb25zaWJsaXR5IHRvIG1ha2Ugc3VyZSB0aGUgY3VycmVudCBzdGF0ZSBwcm9wYWdhdGVzIHRvIHRoZSBwYXJlbnQgZm9ybS5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIGlmIGFuIGlucHV0IGNvbnRyb2wgaXMgYWRkZWQgdGhhdCBpcyBhbHJlYWR5IGAkZGlydHlgIGFuZCBoYXMgYCRlcnJvcmAgcHJvcGVydGllcyxcbiAgICogY2FsbGluZyBgJHNldERpcnR5KClgIGFuZCBgJHZhbGlkYXRlKClgIGFmdGVyd2FyZHMgd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXRlIHRvIHRoZSBwYXJlbnQgZm9ybS5cbiAgICovXG4gIGZvcm0uJGFkZENvbnRyb2wgPSBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgLy8gQnJlYWtpbmcgY2hhbmdlIC0gYmVmb3JlLCBpbnB1dHMgd2hvc2UgbmFtZSB3YXMgXCJoYXNPd25Qcm9wZXJ0eVwiIHdlcmUgcXVpZXRseSBpZ25vcmVkXG4gICAgLy8gYW5kIG5vdCBhZGRlZCB0byB0aGUgc2NvcGUuICBOb3cgd2UgdGhyb3cgYW4gZXJyb3IuXG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkoY29udHJvbC4kbmFtZSwgJ2lucHV0Jyk7XG4gICAgY29udHJvbHMucHVzaChjb250cm9sKTtcblxuICAgIGlmIChjb250cm9sLiRuYW1lKSB7XG4gICAgICBmb3JtW2NvbnRyb2wuJG5hbWVdID0gY29udHJvbDtcbiAgICB9XG5cbiAgICBjb250cm9sLiQkcGFyZW50Rm9ybSA9IGZvcm07XG4gIH07XG5cbiAgLy8gUHJpdmF0ZSBBUEk6IHJlbmFtZSBhIGZvcm0gY29udHJvbFxuICBmb3JtLiQkcmVuYW1lQ29udHJvbCA9IGZ1bmN0aW9uKGNvbnRyb2wsIG5ld05hbWUpIHtcbiAgICB2YXIgb2xkTmFtZSA9IGNvbnRyb2wuJG5hbWU7XG5cbiAgICBpZiAoZm9ybVtvbGROYW1lXSA9PT0gY29udHJvbCkge1xuICAgICAgZGVsZXRlIGZvcm1bb2xkTmFtZV07XG4gICAgfVxuICAgIGZvcm1bbmV3TmFtZV0gPSBjb250cm9sO1xuICAgIGNvbnRyb2wuJG5hbWUgPSBuZXdOYW1lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHJlbW92ZUNvbnRyb2xcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRyb2wgY29udHJvbCBvYmplY3QsIGVpdGhlciBhIHtAbGluayBmb3JtLkZvcm1Db250cm9sbGVyfSBvciBhblxuICAgKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlcn1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIERlcmVnaXN0ZXIgYSBjb250cm9sIGZyb20gdGhlIGZvcm0uXG4gICAqXG4gICAqIElucHV0IGVsZW1lbnRzIHVzaW5nIG5nTW9kZWxDb250cm9sbGVyIGRvIHRoaXMgYXV0b21hdGljYWxseSB3aGVuIHRoZXkgYXJlIGRlc3Ryb3llZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IG9ubHkgdGhlIHJlbW92ZWQgY29udHJvbCdzIHZhbGlkYXRpb24gc3RhdGUgKGAkZXJyb3JzYGV0Yy4pIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZVxuICAgKiBmb3JtLiBgJGRpcnR5YCwgYCRzdWJtaXR0ZWRgIHN0YXRlcyB3aWxsIG5vdCBiZSBjaGFuZ2VkLCBiZWNhdXNlIHRoZSBleHBlY3RlZCBiZWhhdmlvciBjYW4gYmVcbiAgICogZGlmZmVyZW50IGZyb20gY2FzZSB0byBjYXNlLiBGb3IgZXhhbXBsZSwgcmVtb3ZpbmcgdGhlIG9ubHkgYCRkaXJ0eWAgY29udHJvbCBmcm9tIGEgZm9ybSBtYXkgb3JcbiAgICogbWF5IG5vdCBtZWFuIHRoYXQgdGhlIGZvcm0gaXMgc3RpbGwgYCRkaXJ0eWAuXG4gICAqL1xuICBmb3JtLiRyZW1vdmVDb250cm9sID0gZnVuY3Rpb24oY29udHJvbCkge1xuICAgIGlmIChjb250cm9sLiRuYW1lICYmIGZvcm1bY29udHJvbC4kbmFtZV0gPT09IGNvbnRyb2wpIHtcbiAgICAgIGRlbGV0ZSBmb3JtW2NvbnRyb2wuJG5hbWVdO1xuICAgIH1cbiAgICBmb3JFYWNoKGZvcm0uJHBlbmRpbmcsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBmb3JtLiRzZXRWYWxpZGl0eShuYW1lLCBudWxsLCBjb250cm9sKTtcbiAgICB9KTtcbiAgICBmb3JFYWNoKGZvcm0uJGVycm9yLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgZm9ybS4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XG4gICAgfSk7XG4gICAgZm9yRWFjaChmb3JtLiQkc3VjY2VzcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIGZvcm0uJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xuICAgIH0pO1xuXG4gICAgYXJyYXlSZW1vdmUoY29udHJvbHMsIGNvbnRyb2wpO1xuICAgIGNvbnRyb2wuJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VmFsaWRpdHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIHZhbGlkaXR5IG9mIGEgZm9ybSBjb250cm9sLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIHBhcmVudCBmb3Jtcy5cbiAgICovXG4gIGFkZFNldFZhbGlkaXR5TWV0aG9kKHtcbiAgICBjdHJsOiB0aGlzLFxuICAgICRlbGVtZW50OiBlbGVtZW50LFxuICAgIHNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgY29udHJvbGxlcikge1xuICAgICAgdmFyIGxpc3QgPSBvYmplY3RbcHJvcGVydHldO1xuICAgICAgaWYgKCFsaXN0KSB7XG4gICAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBbY29udHJvbGxlcl07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoY29udHJvbGxlcik7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBsaXN0LnB1c2goY29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHVuc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBjb250cm9sbGVyKSB7XG4gICAgICB2YXIgbGlzdCA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICBpZiAoIWxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXJyYXlSZW1vdmUobGlzdCwgY29udHJvbGxlcik7XG4gICAgICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgfSxcbiAgICAkYW5pbWF0ZTogJGFuaW1hdGVcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0RGlydHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gYSBkaXJ0eSBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byBhZGQgdGhlICduZy1kaXJ0eScgY2xhc3MgYW5kIHNldCB0aGUgZm9ybSB0byBhIGRpcnR5XG4gICAqIHN0YXRlIChuZy1kaXJ0eSBjbGFzcykuIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gcGFyZW50IGZvcm1zLlxuICAgKi9cbiAgZm9ybS4kc2V0RGlydHkgPSBmdW5jdGlvbigpIHtcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xuICAgIGZvcm0uJGRpcnR5ID0gdHJ1ZTtcbiAgICBmb3JtLiRwcmlzdGluZSA9IGZhbHNlO1xuICAgIGZvcm0uJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFByaXN0aW5lXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlICduZy1kaXJ0eScgY2xhc3MgYW5kIHNldCB0aGUgZm9ybSB0byBpdHMgcHJpc3RpbmVcbiAgICogc3RhdGUgKG5nLXByaXN0aW5lIGNsYXNzKS4gVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBhbGwgdGhlIGNvbnRyb2xzIGNvbnRhaW5lZFxuICAgKiBpbiB0aGlzIGZvcm0uXG4gICAqXG4gICAqIFNldHRpbmcgYSBmb3JtIGJhY2sgdG8gYSBwcmlzdGluZSBzdGF0ZSBpcyBvZnRlbiB1c2VmdWwgd2hlbiB3ZSB3YW50IHRvICdyZXVzZScgYSBmb3JtIGFmdGVyXG4gICAqIHNhdmluZyBvciByZXNldHRpbmcgaXQuXG4gICAqL1xuICBmb3JtLiRzZXRQcmlzdGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICRhbmltYXRlLnNldENsYXNzKGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTLCBESVJUWV9DTEFTUyArICcgJyArIFNVQk1JVFRFRF9DTEFTUyk7XG4gICAgZm9ybS4kZGlydHkgPSBmYWxzZTtcbiAgICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XG4gICAgZm9ybS4kc3VibWl0dGVkID0gZmFsc2U7XG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kc2V0UHJpc3RpbmUoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRVbnRvdWNoZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHVudG91Y2hlZCBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlICduZy10b3VjaGVkJyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIGNvbnRyb2xzIHRvIHRoZWlyXG4gICAqIHVudG91Y2hlZCBzdGF0ZSAobmctdW50b3VjaGVkIGNsYXNzKS5cbiAgICpcbiAgICogU2V0dGluZyBhIGZvcm0gY29udHJvbHMgYmFjayB0byB0aGVpciB1bnRvdWNoZWQgc3RhdGUgaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gc2V0dGluZyB0aGUgZm9ybVxuICAgKiBiYWNrIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cbiAgICovXG4gIGZvcm0uJHNldFVudG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAgIGNvbnRyb2wuJHNldFVudG91Y2hlZCgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFN1Ym1pdHRlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBpdHMgc3VibWl0dGVkIHN0YXRlLlxuICAgKi9cbiAgZm9ybS4kc2V0U3VibWl0dGVkID0gZnVuY3Rpb24oKSB7XG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgU1VCTUlUVEVEX0NMQVNTKTtcbiAgICBmb3JtLiRzdWJtaXR0ZWQgPSB0cnVlO1xuICAgIGZvcm0uJCRwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0Zvcm1cbiAqIEByZXN0cmljdCBFQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIE5lc3RhYmxlIGFsaWFzIG9mIHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBgZm9ybWB9IGRpcmVjdGl2ZS4gSFRNTFxuICogZG9lcyBub3QgYWxsb3cgbmVzdGluZyBvZiBmb3JtIGVsZW1lbnRzLiBJdCBpcyB1c2VmdWwgdG8gbmVzdCBmb3JtcywgZm9yIGV4YW1wbGUgaWYgdGhlIHZhbGlkaXR5IG9mIGFcbiAqIHN1Yi1ncm91cCBvZiBjb250cm9scyBuZWVkcyB0byBiZSBkZXRlcm1pbmVkLlxuICpcbiAqIE5vdGU6IHRoZSBwdXJwb3NlIG9mIGBuZ0Zvcm1gIGlzIHRvIGdyb3VwIGNvbnRyb2xzLFxuICogYnV0IG5vdCB0byBiZSBhIHJlcGxhY2VtZW50IGZvciB0aGUgYDxmb3JtPmAgdGFnIHdpdGggYWxsIG9mIGl0cyBjYXBhYmlsaXRpZXNcbiAqIChlLmcuIHBvc3RpbmcgdG8gdGhlIHNlcnZlciwgLi4uKS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nRm9ybXxuYW1lIE5hbWUgb2YgdGhlIGZvcm0uIElmIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCBpbnRvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZCBzY29wZSwgdW5kZXIgdGhpcyBuYW1lLlxuICpcbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBmb3JtXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGlyZWN0aXZlIHRoYXQgaW5zdGFudGlhdGVzXG4gKiB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlciBGb3JtQ29udHJvbGxlcn0uXG4gKlxuICogSWYgdGhlIGBuYW1lYCBhdHRyaWJ1dGUgaXMgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIGlzIHB1Ymxpc2hlZCBvbnRvIHRoZSBjdXJyZW50IHNjb3BlIHVuZGVyXG4gKiB0aGlzIG5hbWUuXG4gKlxuICogIyBBbGlhczoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Zvcm0gYG5nRm9ybWB9XG4gKlxuICogSW4gQW5ndWxhciwgZm9ybXMgY2FuIGJlIG5lc3RlZC4gVGhpcyBtZWFucyB0aGF0IHRoZSBvdXRlciBmb3JtIGlzIHZhbGlkIHdoZW4gYWxsIG9mIHRoZSBjaGlsZFxuICogZm9ybXMgYXJlIHZhbGlkIGFzIHdlbGwuIEhvd2V2ZXIsIGJyb3dzZXJzIGRvIG5vdCBhbGxvdyBuZXN0aW5nIG9mIGA8Zm9ybT5gIGVsZW1lbnRzLCBzb1xuICogQW5ndWxhciBwcm92aWRlcyB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Zvcm0gYG5nRm9ybWB9IGRpcmVjdGl2ZSB3aGljaCBiZWhhdmVzIGlkZW50aWNhbGx5IHRvXG4gKiBgPGZvcm0+YCBidXQgY2FuIGJlIG5lc3RlZC4gIFRoaXMgYWxsb3dzIHlvdSB0byBoYXZlIG5lc3RlZCBmb3Jtcywgd2hpY2ggaXMgdmVyeSB1c2VmdWwgd2hlblxuICogdXNpbmcgQW5ndWxhciB2YWxpZGF0aW9uIGRpcmVjdGl2ZXMgaW4gZm9ybXMgdGhhdCBhcmUgZHluYW1pY2FsbHkgZ2VuZXJhdGVkIHVzaW5nIHRoZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBgbmdSZXBlYXRgfSBkaXJlY3RpdmUuIFNpbmNlIHlvdSBjYW5ub3QgZHluYW1pY2FsbHkgZ2VuZXJhdGUgdGhlIGBuYW1lYFxuICogYXR0cmlidXRlIG9mIGlucHV0IGVsZW1lbnRzIHVzaW5nIGludGVycG9sYXRpb24sIHlvdSBoYXZlIHRvIHdyYXAgZWFjaCBzZXQgb2YgcmVwZWF0ZWQgaW5wdXRzIGluIGFuXG4gKiBgbmdGb3JtYCBkaXJlY3RpdmUgYW5kIG5lc3QgdGhlc2UgaW4gYW4gb3V0ZXIgYGZvcm1gIGVsZW1lbnQuXG4gKlxuICpcbiAqICMgQ1NTIGNsYXNzZXNcbiAqICAtIGBuZy12YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIHZhbGlkLlxuICogIC0gYG5nLWludmFsaWRgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBpbnZhbGlkLlxuICogIC0gYG5nLXBlbmRpbmdgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwZW5kaW5nLlxuICogIC0gYG5nLXByaXN0aW5lYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgcHJpc3RpbmUuXG4gKiAgLSBgbmctZGlydHlgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBkaXJ0eS5cbiAqICAtIGBuZy1zdWJtaXR0ZWRgIGlzIHNldCBpZiB0aGUgZm9ybSB3YXMgc3VibWl0dGVkLlxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IG5nQW5pbWF0ZSBjYW4gZGV0ZWN0IGVhY2ggb2YgdGhlc2UgY2xhc3NlcyB3aGVuIGFkZGVkIGFuZCByZW1vdmVkLlxuICpcbiAqXG4gKiAjIFN1Ym1pdHRpbmcgYSBmb3JtIGFuZCBwcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGFjdGlvblxuICpcbiAqIFNpbmNlIHRoZSByb2xlIG9mIGZvcm1zIGluIGNsaWVudC1zaWRlIEFuZ3VsYXIgYXBwbGljYXRpb25zIGlzIGRpZmZlcmVudCB0aGFuIGluIGNsYXNzaWNhbFxuICogcm91bmR0cmlwIGFwcHMsIGl0IGlzIGRlc2lyYWJsZSBmb3IgdGhlIGJyb3dzZXIgbm90IHRvIHRyYW5zbGF0ZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGludG8gYSBmdWxsXG4gKiBwYWdlIHJlbG9hZCB0aGF0IHNlbmRzIHRoZSBkYXRhIHRvIHRoZSBzZXJ2ZXIuIEluc3RlYWQgc29tZSBqYXZhc2NyaXB0IGxvZ2ljIHNob3VsZCBiZSB0cmlnZ2VyZWRcbiAqIHRvIGhhbmRsZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGluIGFuIGFwcGxpY2F0aW9uLXNwZWNpZmljIHdheS5cbiAqXG4gKiBGb3IgdGhpcyByZWFzb24sIEFuZ3VsYXIgcHJldmVudHMgdGhlIGRlZmF1bHQgYWN0aW9uIChmb3JtIHN1Ym1pc3Npb24gdG8gdGhlIHNlcnZlcikgdW5sZXNzIHRoZVxuICogYDxmb3JtPmAgZWxlbWVudCBoYXMgYW4gYGFjdGlvbmAgYXR0cmlidXRlIHNwZWNpZmllZC5cbiAqXG4gKiBZb3UgY2FuIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyB0d28gd2F5cyB0byBzcGVjaWZ5IHdoYXQgamF2YXNjcmlwdCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuXG4gKiBhIGZvcm0gaXMgc3VibWl0dGVkOlxuICpcbiAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH0gZGlyZWN0aXZlIG9uIHRoZSBmb3JtIGVsZW1lbnRcbiAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9IGRpcmVjdGl2ZSBvbiB0aGUgZmlyc3RcbiAgKiAgYnV0dG9uIG9yIGlucHV0IGZpZWxkIG9mIHR5cGUgc3VibWl0IChpbnB1dFt0eXBlPXN1Ym1pdF0pXG4gKlxuICogVG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uIG9mIHRoZSBoYW5kbGVyLCB1c2Ugb25seSBvbmUgb2YgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdTdWJtaXQgbmdTdWJtaXR9XG4gKiBvciB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlcy5cbiAqIFRoaXMgaXMgYmVjYXVzZSBvZiB0aGUgZm9sbG93aW5nIGZvcm0gc3VibWlzc2lvbiBydWxlcyBpbiB0aGUgSFRNTCBzcGVjaWZpY2F0aW9uOlxuICpcbiAqIC0gSWYgYSBmb3JtIGhhcyBvbmx5IG9uZSBpbnB1dCBmaWVsZCB0aGVuIGhpdHRpbmcgZW50ZXIgaW4gdGhpcyBmaWVsZCB0cmlnZ2VycyBmb3JtIHN1Ym1pdFxuICogKGBuZ1N1Ym1pdGApXG4gKiAtIGlmIGEgZm9ybSBoYXMgMisgaW5wdXQgZmllbGRzIGFuZCBubyBidXR0b25zIG9yIGlucHV0W3R5cGU9c3VibWl0XSB0aGVuIGhpdHRpbmcgZW50ZXJcbiAqIGRvZXNuJ3QgdHJpZ2dlciBzdWJtaXRcbiAqIC0gaWYgYSBmb3JtIGhhcyBvbmUgb3IgbW9yZSBpbnB1dCBmaWVsZHMgYW5kIG9uZSBvciBtb3JlIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW5cbiAqIGhpdHRpbmcgZW50ZXIgaW4gYW55IG9mIHRoZSBpbnB1dCBmaWVsZHMgd2lsbCB0cmlnZ2VyIHRoZSBjbGljayBoYW5kbGVyIG9uIHRoZSAqZmlyc3QqIGJ1dHRvbiBvclxuICogaW5wdXRbdHlwZT1zdWJtaXRdIChgbmdDbGlja2ApICphbmQqIGEgc3VibWl0IGhhbmRsZXIgb24gdGhlIGVuY2xvc2luZyBmb3JtIChgbmdTdWJtaXRgKVxuICpcbiAqIEFueSBwZW5kaW5nIGBuZ01vZGVsT3B0aW9uc2AgY2hhbmdlcyB3aWxsIHRha2UgcGxhY2UgaW1tZWRpYXRlbHkgd2hlbiBhbiBlbmNsb3NpbmcgZm9ybSBpc1xuICogc3VibWl0dGVkLiBOb3RlIHRoYXQgYG5nQ2xpY2tgIGV2ZW50cyB3aWxsIG9jY3VyIGJlZm9yZSB0aGUgbW9kZWwgaXMgdXBkYXRlZC4gVXNlIGBuZ1N1Ym1pdGBcbiAqIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSB1cGRhdGVkIG1vZGVsLlxuICpcbiAqICMjIEFuaW1hdGlvbiBIb29rc1xuICpcbiAqIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkLlxuICogVGhlc2UgY2xhc3NlcyBhcmU6IGAubmctcHJpc3RpbmVgLCBgLm5nLWRpcnR5YCwgYC5uZy1pbnZhbGlkYCBhbmQgYC5uZy12YWxpZGAgYXMgd2VsbCBhcyBhbnlcbiAqIG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCB3aXRoaW4gdGhlIGZvcm0uIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSBzaW1pbGFyIHRvIGhvd1xuICogdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGxcbiAqIGFzIEpTIGFuaW1hdGlvbnMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhIGZvcm0gZWxlbWVudFxuICogdGhhdCBoYXMgYmVlbiByZW5kZXJlZCBhcyBpbnZhbGlkIGFmdGVyIGl0IGhhcyBiZWVuIHZhbGlkYXRlZDpcbiAqXG4gKiA8cHJlPlxuICogLy9iZSBzdXJlIHRvIGluY2x1ZGUgbmdBbmltYXRlIGFzIGEgbW9kdWxlIHRvIGhvb2sgaW50byBtb3JlXG4gKiAvL2FkdmFuY2VkIGFuaW1hdGlvbnNcbiAqIC5teS1mb3JtIHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICogfVxuICogLm15LWZvcm0ubmctaW52YWxpZCB7XG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcbiAqICAgY29sb3I6d2hpdGU7XG4gKiB9XG4gKiA8L3ByZT5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIGZpeEJhc2U9XCJ0cnVlXCIgbW9kdWxlPVwiZm9ybUV4YW1wbGVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdmb3JtRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRm9ybUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS51c2VyVHlwZSA9ICdndWVzdCc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8c3R5bGU+XG4gICAgICAgIC5teS1mb3JtIHtcbiAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICAubXktZm9ybS5uZy1pbnZhbGlkIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICAgIH1cbiAgICAgICA8L3N0eWxlPlxuICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRm9ybUNvbnRyb2xsZXJcIiBjbGFzcz1cIm15LWZvcm1cIj5cbiAgICAgICAgIHVzZXJUeXBlOiA8aW5wdXQgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJ1c2VyVHlwZVwiIHJlcXVpcmVkPlxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+UmVxdWlyZWQhPC9zcGFuPjxicj5cbiAgICAgICAgIDxjb2RlPnVzZXJUeXBlID0ge3t1c2VyVHlwZX19PC9jb2RlPjxicj5cbiAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnI+XG4gICAgICAgICA8Y29kZT5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L2NvZGU+PGJyPlxuICAgICAgICAgPGNvZGU+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC9jb2RlPjxicj5cbiAgICAgICAgIDxjb2RlPm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC9jb2RlPjxicj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdXNlclR5cGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXJUeXBlJykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyVHlwZS5nZXRUZXh0KCkpLnRvQ29udGFpbignZ3Vlc3QnKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHVzZXJUeXBlID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyVHlwZScpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIHVzZXJJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXJUeXBlJykpO1xuXG4gICAgICAgICAgdXNlcklucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlcklucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyVHlwZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3VzZXJUeXBlID0nKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgTmFtZSBvZiB0aGUgZm9ybS4gSWYgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIHdpbGwgYmUgcHVibGlzaGVkIGludG9cbiAqICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkIHNjb3BlLCB1bmRlciB0aGlzIG5hbWUuXG4gKi9cbnZhciBmb3JtRGlyZWN0aXZlRmFjdG9yeSA9IGZ1bmN0aW9uKGlzTmdGb3JtKSB7XG4gIHJldHVybiBbJyR0aW1lb3V0JywgJyRwYXJzZScsIGZ1bmN0aW9uKCR0aW1lb3V0LCAkcGFyc2UpIHtcbiAgICB2YXIgZm9ybURpcmVjdGl2ZSA9IHtcbiAgICAgIG5hbWU6ICdmb3JtJyxcbiAgICAgIHJlc3RyaWN0OiBpc05nRm9ybSA/ICdFQUMnIDogJ0UnLFxuICAgICAgcmVxdWlyZTogWydmb3JtJywgJ15eP2Zvcm0nXSwgLy9maXJzdCBpcyB0aGUgZm9ybSdzIG93biBjdHJsLCBzZWNvbmQgaXMgYW4gb3B0aW9uYWwgcGFyZW50IGZvcm1cbiAgICAgIGNvbnRyb2xsZXI6IEZvcm1Db250cm9sbGVyLFxuICAgICAgY29tcGlsZTogZnVuY3Rpb24gbmdGb3JtQ29tcGlsZShmb3JtRWxlbWVudCwgYXR0cikge1xuICAgICAgICAvLyBTZXR1cCBpbml0aWFsIHN0YXRlIG9mIHRoZSBjb250cm9sXG4gICAgICAgIGZvcm1FbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKS5hZGRDbGFzcyhWQUxJRF9DTEFTUyk7XG5cbiAgICAgICAgdmFyIG5hbWVBdHRyID0gYXR0ci5uYW1lID8gJ25hbWUnIDogKGlzTmdGb3JtICYmIGF0dHIubmdGb3JtID8gJ25nRm9ybScgOiBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwcmU6IGZ1bmN0aW9uIG5nRm9ybVByZUxpbmsoc2NvcGUsIGZvcm1FbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBjdHJsc1swXTtcblxuICAgICAgICAgICAgLy8gaWYgYGFjdGlvbmAgYXR0ciBpcyBub3QgcHJlc2VudCBvbiB0aGUgZm9ybSwgcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gKHN1Ym1pc3Npb24pXG4gICAgICAgICAgICBpZiAoISgnYWN0aW9uJyBpbiBhdHRyKSkge1xuICAgICAgICAgICAgICAvLyB3ZSBjYW4ndCB1c2UganEgZXZlbnRzIGJlY2F1c2UgaWYgYSBmb3JtIGlzIGRlc3Ryb3llZCBkdXJpbmcgc3VibWlzc2lvbiB0aGUgZGVmYXVsdFxuICAgICAgICAgICAgICAvLyBhY3Rpb24gaXMgbm90IHByZXZlbnRlZC4gc2VlICMxMjM4XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vIElFIDkgaXMgbm90IGFmZmVjdGVkIGJlY2F1c2UgaXQgZG9lc24ndCBmaXJlIGEgc3VibWl0IGV2ZW50IGFuZCB0cnkgdG8gZG8gYSBmdWxsXG4gICAgICAgICAgICAgIC8vIHBhZ2UgcmVsb2FkIGlmIHRoZSBmb3JtIHdhcyBkZXN0cm95ZWQgYnkgc3VibWlzc2lvbiBvZiB0aGUgZm9ybSB2aWEgYSBjbGljayBoYW5kbGVyXG4gICAgICAgICAgICAgIC8vIG9uIGEgYnV0dG9uIGluIHRoZSBmb3JtLiBMb29rcyBsaWtlIGFuIElFOSBzcGVjaWZpYyBidWcuXG4gICAgICAgICAgICAgIHZhciBoYW5kbGVGb3JtU3VibWlzc2lvbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLiRzZXRTdWJtaXR0ZWQoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xuXG4gICAgICAgICAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIHByZXZlbnREZWZhdWx0IGxpc3RlbmVyIHNvIHRoYXQgd2UgZG9uJ3Qgbm90IGxlYWsgbWVtb3J5IGJ1dCBpbiBhXG4gICAgICAgICAgICAgIC8vIHdheSB0aGF0IHdpbGwgYWNoaWV2ZSB0aGUgcHJldmVudGlvbiBvZiB0aGUgZGVmYXVsdCBhY3Rpb24uXG4gICAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xuICAgICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJlbnRGb3JtQ3RybCA9IGN0cmxzWzFdIHx8IGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtO1xuICAgICAgICAgICAgcGFyZW50Rm9ybUN0cmwuJGFkZENvbnRyb2woY29udHJvbGxlcik7XG5cbiAgICAgICAgICAgIHZhciBzZXR0ZXIgPSBuYW1lQXR0ciA/IGdldFNldHRlcihjb250cm9sbGVyLiRuYW1lKSA6IG5vb3A7XG5cbiAgICAgICAgICAgIGlmIChuYW1lQXR0cikge1xuICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICBhdHRyLiRvYnNlcnZlKG5hbWVBdHRyLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyLiRuYW1lID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2woY29udHJvbGxlciwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIHNldHRlciA9IGdldFNldHRlcihjb250cm9sbGVyLiRuYW1lKTtcbiAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICBleHRlbmQoY29udHJvbGxlciwgbnVsbEZvcm1DdHJsKTsgLy9zdG9wIHByb3BhZ2F0aW5nIGNoaWxkIGRlc3RydWN0aW9uIGhhbmRsZXJzIHVwd2FyZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZvcm1EaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBnZXRTZXR0ZXIoZXhwcmVzc2lvbikge1xuICAgICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7XG4gICAgICAgIC8vY3JlYXRlIGFuIGFzc2lnbmFibGUgZXhwcmVzc2lvbiwgc28gZm9ybXMgd2l0aCBhbiBlbXB0eSBuYW1lIGNhbiBiZSByZW5hbWVkIGxhdGVyXG4gICAgICAgIHJldHVybiAkcGFyc2UoJ3RoaXNbXCJcIl0nKS5hc3NpZ247XG4gICAgICB9XG4gICAgICByZXR1cm4gJHBhcnNlKGV4cHJlc3Npb24pLmFzc2lnbiB8fCBub29wO1xuICAgIH1cbiAgfV07XG59O1xuXG52YXIgZm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KCk7XG52YXIgbmdGb3JtRGlyZWN0aXZlID0gZm9ybURpcmVjdGl2ZUZhY3RvcnkodHJ1ZSk7XG5cbi8qIGdsb2JhbCBWQUxJRF9DTEFTUzogZmFsc2UsXG4gIElOVkFMSURfQ0xBU1M6IGZhbHNlLFxuICBQUklTVElORV9DTEFTUzogZmFsc2UsXG4gIERJUlRZX0NMQVNTOiBmYWxzZSxcbiAgVU5UT1VDSEVEX0NMQVNTOiBmYWxzZSxcbiAgVE9VQ0hFRF9DTEFTUzogZmFsc2UsXG4gIG5nTW9kZWxNaW5FcnI6IGZhbHNlLFxuKi9cblxuLy8gUmVnZXggY29kZSBpcyBvYnRhaW5lZCBmcm9tIFNPOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMTQzMDcwL2phdmFzY3JpcHQtcmVnZXgtaXNvLWRhdGV0aW1lI2Fuc3dlci0zMTQzMjMxXG52YXIgSVNPX0RBVEVfUkVHRVhQID0gL1xcZHs0fS1bMDFdXFxkLVswLTNdXFxkVFswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkXFwuXFxkKyhbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikvO1xuLy8gU2VlIHZhbGlkIFVSTHMgaW4gUkZDMzk4NyAoaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NylcbnZhciBVUkxfUkVHRVhQID0gL15bQS1aYS16XVtBLVphLXpcXGQuKy1dKjpcXC8qKD86XFx3Kyg/OjpcXHcrKT9AKT9bXlxccy9dKyg/OjpcXGQrKT8oPzpcXC9bXFx3IyE6Lj8rPSYlQFxcLS9dKik/JC87XG52YXIgRU1BSUxfUkVHRVhQID0gL15bYS16MC05ISMkJSYnKitcXC89P15fYHt8fX4uLV0rQFthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KFxcLlthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KSokL2k7XG52YXIgTlVNQkVSX1JFR0VYUCA9IC9eXFxzKihcXC18XFwrKT8oXFxkK3woXFxkKihcXC5cXGQqKSkpKFtlRV1bKy1dP1xcZCspP1xccyokLztcbnZhciBEQVRFX1JFR0VYUCA9IC9eKFxcZHs0fSktKFxcZHsyfSktKFxcZHsyfSkkLztcbnZhciBEQVRFVElNRUxPQ0FMX1JFR0VYUCA9IC9eKFxcZHs0fSktKFxcZFxcZCktKFxcZFxcZClUKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XG52YXIgV0VFS19SRUdFWFAgPSAvXihcXGR7NH0pLVcoXFxkXFxkKSQvO1xudmFyIE1PTlRIX1JFR0VYUCA9IC9eKFxcZHs0fSktKFxcZFxcZCkkLztcbnZhciBUSU1FX1JFR0VYUCA9IC9eKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XG5cbnZhciBpbnB1dFR5cGUgPSB7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFt0ZXh0XVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU3RhbmRhcmQgSFRNTCB0ZXh0IGlucHV0IHdpdGggYW5ndWxhciBkYXRhIGJpbmRpbmcsIGluaGVyaXRlZCBieSBtb3N0IG9mIHRoZSBgaW5wdXRgIGVsZW1lbnRzLlxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB2YWx1ZSBkb2VzIG5vdCBtYXRjaFxuICAgKiAgICBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xuICAgKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XG4gICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXG4gICAqICAgIGFjY291bnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXG4gICAqICAgIFRoaXMgcGFyYW1ldGVyIGlzIGlnbm9yZWQgZm9yIGlucHV0W3R5cGU9cGFzc3dvcmRdIGNvbnRyb2xzLCB3aGljaCB3aWxsIG5ldmVyIHRyaW0gdGhlXG4gICAqICAgIGlucHV0LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cInRleHQtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwidGV4dElucHV0RXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RleHRJbnB1dEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdndWVzdCcsXG4gICAgICAgICAgICAgICAgIHdvcmQ6IC9eXFxzKlxcdypcXHMqJC9cbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5TaW5nbGUgd29yZDpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIG5nLXBhdHRlcm49XCJleGFtcGxlLndvcmRcIiByZXF1aXJlZCBuZy10cmltPVwiZmFsc2VcIj5cbiAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucGF0dGVyblwiPlxuICAgICAgICAgICAgICAgU2luZ2xlIHdvcmQgb25seSE8L3NwYW4+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZXhhbXBsZS50ZXh0fX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnRleHQnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudGV4dCcpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2d1ZXN0Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBtdWx0aSB3b3JkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2hlbGxvIHdvcmxkJyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3RleHQnOiB0ZXh0SW5wdXRUeXBlLFxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGlucHV0XG4gICAgICogQG5hbWUgaW5wdXRbZGF0ZV1cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElucHV0IHdpdGggZGF0ZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICAgKiBkYXRlIGZvcm1hdCAoeXl5eS1NTS1kZCksIGZvciBleGFtcGxlOiBgMjAwOS0wMS0wNmAuIFNpbmNlIG1hbnlcbiAgICAgKiBtb2Rlcm4gYnJvd3NlcnMgZG8gbm90IHlldCBzdXBwb3J0IHRoaXMgaW5wdXQgdHlwZSwgaXQgaXMgaW1wb3J0YW50IHRvIHByb3ZpZGUgY3VlcyB0byB1c2VycyBvbiB0aGVcbiAgICAgKiBleHBlY3RlZCBpbnB1dCBmb3JtYXQgdmlhIGEgcGxhY2Vob2xkZXIgb3IgbGFiZWwuXG4gICAgICpcbiAgICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuIFRoaXMgbXVzdCBiZSBhXG4gICAgICogICB2YWxpZCBJU08gZGF0ZSBzdHJpbmcgKHl5eXktTU0tZGQpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXMgYXR0cmlidXRlXG4gICAgICogICAoZS5nLiBgbWluPVwie3ttaW5EYXRlIHwgZGF0ZToneXl5eS1NTS1kZCd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNVxuICAgICAqICAgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC4gVGhpcyBtdXN0IGJlXG4gICAgICogICBhIHZhbGlkIElTTyBkYXRlIHN0cmluZyAoeXl5eS1NTS1kZCkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpcyBhdHRyaWJ1dGVcbiAgICAgKiAgIChlLmcuIGBtYXg9XCJ7e21heERhdGUgfCBkYXRlOid5eXl5LU1NLWRkJ319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1XG4gICAgICogICBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGUgc3RyaW5nXG4gICAgICogICB0aGUgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyBkYXRlIHN0cmluZ1xuICAgICAqICAgdGhlIGBuZ01heGAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhgIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbmFtZT1cImRhdGUtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZGF0ZUlucHV0RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2RhdGVJbnB1dEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAyMilcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBkYXRlIGluIDIwMTM6PC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImV4YW1wbGVJbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFwiIG1pbj1cIjIwMTMtMDEtMDFcIiBtYXg9XCIyMDEzLTEyLTMxXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLmRhdGVcIj5cbiAgICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTS1kZFwifX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICA8L2Zvcm0+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRcIicpKTtcbiAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLTEwLTIyJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNldElucHV0KCcyMDE1LTAxLTAxJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgICA8L2V4YW1wbGU+XG4gICAgICovXG4gICdkYXRlJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnZGF0ZScsIERBVEVfUkVHRVhQLFxuICAgICAgICAgY3JlYXRlRGF0ZVBhcnNlcihEQVRFX1JFR0VYUCwgWyd5eXl5JywgJ01NJywgJ2RkJ10pLFxuICAgICAgICAgJ3l5eXktTU0tZGQnKSxcblxuICAgLyoqXG4gICAgKiBAbmdkb2MgaW5wdXRcbiAgICAqIEBuYW1lIGlucHV0W2RhdGV0aW1lLWxvY2FsXVxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogSW5wdXQgd2l0aCBkYXRldGltZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICAqIGxvY2FsIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcyksIGZvciBleGFtcGxlOiBgMjAxMC0xMi0yOFQxNDo1NzowMGAuXG4gICAgKlxuICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgKlxuICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xuICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cbiAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvblxuICAgICogICBpbnNpZGUgdGhpcyBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluRGF0ZXRpbWVMb2NhbCB8IGRhdGU6J3l5eXktTU0tZGRUSEg6bW06c3MnfX1cImApLlxuICAgICogICBOb3RlIHRoYXQgYG1pbmAgd2lsbCBhbHNvIGFkZCBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxuICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gZGF0ZXRpbWUgZm9ybWF0ICh5eXl5LU1NLWRkVEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uXG4gICAgKiAgIGluc2lkZSB0aGlzIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhEYXRldGltZUxvY2FsIHwgZGF0ZToneXl5eS1NTS1kZFRISDptbTpzcyd9fVwiYCkuXG4gICAgKiAgIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSB0byB0aGUgRGF0ZSAvIElTTyBkYXRldGltZSBzdHJpbmdcbiAgICAqICAgdGhlIGBuZ01pbmAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5gIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGV0aW1lIHN0cmluZ1xuICAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgKlxuICAgICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwiZGF0ZXRpbWVsb2NhbC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJkYXRlRXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZGF0ZUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEwLCAxMSwgMjgsIDE0LCA1NylcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgZGF0ZSBiZXR3ZWVuIGluIDIwMTM6PC9sYWJlbD5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFRISDptbTpzc1wiIG1pbj1cIjIwMDEtMDEtMDFUMDA6MDA6MDBcIiBtYXg9XCIyMDEzLTEyLTMxVDAwOjAwOjAwXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRldGltZWxvY2FsXCI+XG4gICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3NcIicpKTtcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XG5cbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgIH1cblxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMC0xMi0yOFQxNDo1NzowMCcpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMVQyMzo1OTowMCcpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAgICAqL1xuICAnZGF0ZXRpbWUtbG9jYWwnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCdkYXRldGltZWxvY2FsJywgREFURVRJTUVMT0NBTF9SRUdFWFAsXG4gICAgICBjcmVhdGVEYXRlUGFyc2VyKERBVEVUSU1FTE9DQUxfUkVHRVhQLCBbJ3l5eXknLCAnTU0nLCAnZGQnLCAnSEgnLCAnbW0nLCAnc3MnLCAnc3NzJ10pLFxuICAgICAgJ3l5eXktTU0tZGRUSEg6bW06c3Muc3NzJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFt0aW1lXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW5wdXQgd2l0aCB0aW1lIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAqIGxvY2FsIHRpbWUgZm9ybWF0IChISDptbTpzcyksIGZvciBleGFtcGxlOiBgMTQ6NTc6MDBgLiBNb2RlbCBtdXN0IGJlIGEgRGF0ZSBvYmplY3QuIFRoaXMgYmluZGluZyB3aWxsIGFsd2F5cyBvdXRwdXQgYVxuICAgKiBEYXRlIG9iamVjdCB0byB0aGUgbW9kZWwgb2YgSmFudWFyeSAxLCAxOTcwLCBvciBsb2NhbCBkYXRlIGBuZXcgRGF0ZSgxOTcwLCAwLCAxLCBISCwgbW0sIHNzKWAuXG4gICAqXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAqXG4gICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluVGltZSB8IGRhdGU6J0hIOm1tOnNzJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXG4gICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIHRpbWUgZm9ybWF0IChISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xuICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhUaW1lIHwgZGF0ZTonSEg6bW06c3MnfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZFxuICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB0aW1lIHN0cmluZyB0aGVcbiAgICogICBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB0aW1lIHN0cmluZyB0aGVcbiAgICogICBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJ0aW1lLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInRpbWVFeGFtcGxlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8c2NyaXB0PlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3RpbWVFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMTk3MCwgMCwgMSwgMTQsIDU3LCAwKVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICAgPC9zY3JpcHQ+XG4gICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBiZXR3ZWVuIDhhbSBhbmQgNXBtOjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGltZVwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiSEg6bW06c3NcIiBtaW49XCIwODowMDowMFwiIG1heD1cIjE3OjAwOjAwXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci50aW1lXCI+XG4gICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJISDptbTpzc1wifX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgPC9mb3JtPlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJISDptbTpzc1wiJykpO1xuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgfVxuXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxNDo1NzowMCcpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjM6NTk6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3RpbWUnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCd0aW1lJywgVElNRV9SRUdFWFAsXG4gICAgICBjcmVhdGVEYXRlUGFyc2VyKFRJTUVfUkVHRVhQLCBbJ0hIJywgJ21tJywgJ3NzJywgJ3NzcyddKSxcbiAgICAgJ0hIOm1tOnNzLnNzcycpLFxuXG4gICAvKipcbiAgICAqIEBuZ2RvYyBpbnB1dFxuICAgICogQG5hbWUgaW5wdXRbd2Vla11cbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIElucHV0IHdpdGggd2Vlay1vZi10aGUteWVhciB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbiB0byBEYXRlLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgICogdGhlIEhUTUw1IHdlZWsgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgICogd2VlayBmb3JtYXQgKHl5eXktVyMjKSwgZm9yIGV4YW1wbGU6IGAyMDEzLVcwMmAuXG4gICAgKlxuICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgKlxuICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xuICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cbiAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIHdlZWsgZm9ybWF0ICh5eXl5LVcjIykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xuICAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluV2VlayB8IGRhdGU6J3l5eXktV3d3J319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcbiAgICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cbiAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIHdlZWsgZm9ybWF0ICh5eXl5LVcjIykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xuICAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4V2VlayB8IGRhdGU6J3l5eXktV3d3J319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGRcbiAgICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xuICAgICogICB0aGUgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxuICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIHdlZWsgc3RyaW5nXG4gICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAqXG4gICAgKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJ3ZWVrLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIndlZWtFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnd2Vla0V4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCAwLCAzKVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICAgIDwvc2NyaXB0PlxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgICA8bGFiZWw+UGljayBhIGRhdGUgYmV0d2VlbiBpbiAyMDEzOlxuICAgICAgICAgIDxpbnB1dCBpZD1cImV4YW1wbGVJbnB1dFwiIHR5cGU9XCJ3ZWVrXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJZWVlZLVcjI1wiIG1pbj1cIjIwMTItVzMyXCJcbiAgICAgICAgICAgICAgICAgbWF4PVwiMjAxMy1XNTJcIiByZXF1aXJlZCAvPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLndlZWtcIj5cbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtVzAxJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMDE1LVcwMScpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAgICAqL1xuICAnd2Vlayc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ3dlZWsnLCBXRUVLX1JFR0VYUCwgd2Vla1BhcnNlciwgJ3l5eXktV3d3JyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFttb250aF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElucHV0IHdpdGggbW9udGggdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAqIHRoZSBIVE1MNSBtb250aCBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAqIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSksIGZvciBleGFtcGxlOiBgMjAwOS0wMWAuXG4gICAqXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAqIElmIHRoZSBtb2RlbCBpcyBub3Qgc2V0IHRvIHRoZSBmaXJzdCBvZiB0aGUgbW9udGgsIHRoZSBuZXh0IHZpZXcgdG8gbW9kZWwgdXBkYXRlIHdpbGwgc2V0IGl0XG4gICAqIHRvIHRoZSBmaXJzdCBvZiB0aGUgbW9udGguXG4gICAqXG4gICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBtb250aCBmb3JtYXQgKHl5eXktTU0pLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluTW9udGggfCBkYXRlOid5eXl5LU1NJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXG4gICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xuICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhNb250aCB8IGRhdGU6J3l5eXktTU0nfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZFxuICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xuICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xuICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXG5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm1vbnRoLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm1vbnRoRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPHNjcmlwdD5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdtb250aEV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAxKVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICAgPC9zY3JpcHQ+XG4gICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICA8bGFiZWwgZm9yPVwiZXhhbXBsZUlucHV0XCI+UGljayBhIG1vbnRoIGluIDIwMTM6PC9sYWJlbD5cbiAgICAgICA8aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRcIiB0eXBlPVwibW9udGhcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTVwiIG1pbj1cIjIwMTMtMDFcIiBtYXg9XCIyMDEzLTEyXCIgcmVxdWlyZWQgLz5cbiAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IubW9udGhcIj5cbiAgICAgICAgICAgIE5vdCBhIHZhbGlkIG1vbnRoITwvc3Bhbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU1cIn19PC90dD48YnIvPlxuICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgPC9mb3JtPlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NXCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtMTAnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ21vbnRoJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnbW9udGgnLCBNT05USF9SRUdFWFAsXG4gICAgIGNyZWF0ZURhdGVQYXJzZXIoTU9OVEhfUkVHRVhQLCBbJ3l5eXknLCAnTU0nXSksXG4gICAgICd5eXl5LU1NJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtudW1iZXJdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZXh0IGlucHV0IHdpdGggbnVtYmVyIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBTZXRzIHRoZSBgbnVtYmVyYCB2YWxpZGF0aW9uXG4gICAqIGVycm9yIGlmIG5vdCBhIHZhbGlkIG51bWJlci5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIG9mIHR5cGUgYG51bWJlcmAgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogQmUgYXdhcmUgdGhhdCBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyIGlzIG5vdCBlbm91Z2guIFNlZSB0aGUge0BsaW5rIG5nTW9kZWw6bnVtZm10fVxuICAgKiBlcnJvciBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBhbiBleGFtcGxlIG9mIGhvdyB0byBjb252ZXJ0IHlvdXIgbW9kZWwgaWYgbmVjZXNzYXJ5LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogIyMgSXNzdWVzIHdpdGggSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uXG4gICAqXG4gICAqIEluIGJyb3dzZXJzIHRoYXQgZm9sbG93IHRoZVxuICAgKiBbSFRNTDUgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNudW1iZXItc3RhdGUtJTI4dHlwZT1udW1iZXIlMjkpLFxuICAgKiBgaW5wdXRbbnVtYmVyXWAgZG9lcyBub3Qgd29yayBhcyBleHBlY3RlZCB3aXRoIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH0uXG4gICAqIElmIGEgbm9uLW51bWJlciBpcyBlbnRlcmVkIGluIHRoZSBpbnB1dCwgdGhlIGJyb3dzZXIgd2lsbCByZXBvcnQgdGhlIHZhbHVlIGFzIGFuIGVtcHR5IHN0cmluZyxcbiAgICogd2hpY2ggbWVhbnMgdGhlIHZpZXcgLyBtb2RlbCB2YWx1ZXMgaW4gYG5nTW9kZWxgIGFuZCBzdWJzZXF1ZW50bHkgdGhlIHNjb3BlIHZhbHVlXG4gICAqIHdpbGwgYWxzbyBiZSBhbiBlbXB0eSBzdHJpbmcuXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB2YWx1ZSBkb2VzIG5vdCBtYXRjaFxuICAgKiAgICBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xuICAgKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XG4gICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXG4gICAqICAgIGFjY291bnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cIm51bWJlci1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJudW1iZXJFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbnVtYmVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICAgdmFsdWU6IDEyXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICA8bGFiZWw+TnVtYmVyOlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiIG1heD1cIjk5XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IubnVtYmVyXCI+XG4gICAgICAgICAgICAgICBOb3QgdmFsaWQgbnVtYmVyITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZX19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMTInKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJzEyMycpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICAnbnVtYmVyJzogbnVtYmVySW5wdXRUeXBlLFxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFt1cmxdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZXh0IGlucHV0IHdpdGggVVJMIHZhbGlkYXRpb24uIFNldHMgdGhlIGB1cmxgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBjb250ZW50IGlzIG5vdCBhXG4gICAqIHZhbGlkIFVSTC5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogKipOb3RlOioqIGBpbnB1dFt1cmxdYCB1c2VzIGEgcmVnZXggdG8gdmFsaWRhdGUgdXJscyB0aGF0IGlzIGRlcml2ZWQgZnJvbSB0aGUgcmVnZXhcbiAgICogdXNlZCBpbiBDaHJvbWl1bS4gSWYgeW91IG5lZWQgc3RyaWN0ZXIgdmFsaWRhdGlvbiwgeW91IGNhbiB1c2UgYG5nLXBhdHRlcm5gIG9yIG1vZGlmeVxuICAgKiB0aGUgYnVpbHQtaW4gdmFsaWRhdG9ycyAoc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZm9ybXMgRm9ybXMgZ3VpZGV9KVxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICAgKiAgICBtaW5sZW5ndGguXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXG4gICAqICAgIGFueSBsZW5ndGguXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcbiAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxuICAgKiAgICBhcyBpbiB0aGUgbmdQYXR0ZXJuIGRpcmVjdGl2ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwgdmFsdWUgZG9lcyBub3QgbWF0Y2hcbiAgICogICAgYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcbiAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cbiAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xuICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICAgKiAgICBhY2NvdW50LlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJ1cmwtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwidXJsRXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3VybEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLnVybCA9IHtcbiAgICAgICAgICAgICAgICAgdGV4dDogJ2h0dHA6Ly9nb29nbGUuY29tJ1xuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgPGxhYmVsPlVSTDpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInVybFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwidXJsLnRleHRcIiByZXF1aXJlZD5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci51cmxcIj5cbiAgICAgICAgICAgICAgIE5vdCB2YWxpZCB1cmwhPC9zcGFuPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgPHR0PnRleHQgPSB7e3VybC50ZXh0fX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IudXJsID0ge3shIW15Rm9ybS4kZXJyb3IudXJsfX08L3R0Pjxici8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICB2YXIgdGV4dCA9IGVsZW1lbnQoYnkuYmluZGluZygndXJsLnRleHQnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VybC50ZXh0JykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignaHR0cDovL2dvb2dsZS5jb20nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG5vdCB1cmwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnYm94Jyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3VybCc6IHVybElucHV0VHlwZSxcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbZW1haWxdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZXh0IGlucHV0IHdpdGggZW1haWwgdmFsaWRhdGlvbi4gU2V0cyB0aGUgYGVtYWlsYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiBub3QgYSB2YWxpZCBlbWFpbFxuICAgKiBhZGRyZXNzLlxuICAgKlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiAqKk5vdGU6KiogYGlucHV0W2VtYWlsXWAgdXNlcyBhIHJlZ2V4IHRvIHZhbGlkYXRlIGVtYWlsIGFkZHJlc3NlcyB0aGF0IGlzIGRlcml2ZWQgZnJvbSB0aGUgcmVnZXhcbiAgICogdXNlZCBpbiBDaHJvbWl1bS4gSWYgeW91IG5lZWQgc3RyaWN0ZXIgdmFsaWRhdGlvbiAoZS5nLiByZXF1aXJpbmcgYSB0b3AtbGV2ZWwgZG9tYWluKSwgeW91IGNhblxuICAgKiB1c2UgYG5nLXBhdHRlcm5gIG9yIG1vZGlmeSB0aGUgYnVpbHQtaW4gdmFsaWRhdG9ycyAoc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZm9ybXMgRm9ybXMgZ3VpZGV9KVxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICAgKiAgICBtaW5sZW5ndGguXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXG4gICAqICAgIGFueSBsZW5ndGguXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcbiAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxuICAgKiAgICBhcyBpbiB0aGUgbmdQYXR0ZXJuIGRpcmVjdGl2ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwgdmFsdWUgZG9lcyBub3QgbWF0Y2hcbiAgICogICAgYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcbiAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cbiAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xuICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICAgKiAgICBhY2NvdW50LlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJlbWFpbC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJlbWFpbEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdlbWFpbEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsID0ge1xuICAgICAgICAgICAgICAgICB0ZXh0OiAnbWVAZXhhbXBsZS5jb20nXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgICAgPGxhYmVsPkVtYWlsOlxuICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZW1haWwudGV4dFwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IuZW1haWxcIj5cbiAgICAgICAgICAgICAgICAgTm90IHZhbGlkIGVtYWlsITwvc3Bhbj5cbiAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZW1haWwudGV4dH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5lbWFpbCA9IHt7ISFteUZvcm0uJGVycm9yLmVtYWlsfX08L3R0Pjxici8+XG4gICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdlbWFpbC50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdlbWFpbC50ZXh0JykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignbWVAZXhhbXBsZS5jb20nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgZW1haWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygneHh4Jyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ2VtYWlsJzogZW1haWxJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3JhZGlvXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSFRNTCByYWRpbyBidXR0b24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgYG5nTW9kZWxgIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICAgKiAgICBOb3RlIHRoYXQgYHZhbHVlYCBvbmx5IHN1cHBvcnRzIGBzdHJpbmdgIHZhbHVlcywgaS5lLiB0aGUgc2NvcGUgbW9kZWwgbmVlZHMgdG8gYmUgYSBzdHJpbmcsXG4gICAqICAgIHRvby4gVXNlIGBuZ1ZhbHVlYCBpZiB5b3UgbmVlZCBjb21wbGV4IG1vZGVscyAoYG51bWJlcmAsIGBvYmplY3RgLCAuLi4pLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdWYWx1ZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gd2hpY2ggYG5nTW9kZWxgIHdpbGwgYmUgYmUgc2V0IHdoZW4gdGhlIHJhZGlvXG4gICAqICAgIGlzIHNlbGVjdGVkLiBTaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZSBpZiB5b3UgbmVlZFxuICAgKiAgICBhIG5vbi1zdHJpbmcgYG5nTW9kZWxgIChgYm9vbGVhbmAsIGBhcnJheWAsIC4uLikuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwicmFkaW8taW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwicmFkaW9FeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncmFkaW9FeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5jb2xvciA9IHtcbiAgICAgICAgICAgICAgICAgbmFtZTogJ2JsdWUnXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgJHNjb3BlLnNwZWNpYWxWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgXCJpZFwiOiBcIjEyMzQ1XCIsXG4gICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJncmVlblwiXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwiY29sb3IubmFtZVwiIHZhbHVlPVwicmVkXCI+XG4gICAgICAgICAgICAgUmVkXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiPlxuICAgICAgICAgICAgIEdyZWVuXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiB2YWx1ZT1cImJsdWVcIj5cbiAgICAgICAgICAgICBCbHVlXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPHR0PmNvbG9yID0ge3tjb2xvci5uYW1lIHwganNvbn19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICBOb3RlIHRoYXQgYG5nLXZhbHVlPVwic3BlY2lhbFZhbHVlXCJgIHNldHMgcmFkaW8gaXRlbSdzIHZhbHVlIHRvIGJlIHRoZSB2YWx1ZSBvZiBgJHNjb3BlLnNwZWNpYWxWYWx1ZWAuXG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHN0YXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbG9yLm5hbWUnKSk7XG5cbiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbignYmx1ZScpO1xuXG4gICAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnY29sb3IubmFtZScpKS5nZXQoMCkuY2xpY2soKTtcblxuICAgICAgICAgICAgZXhwZWN0KGNvbG9yLmdldFRleHQoKSkudG9Db250YWluKCdyZWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3JhZGlvJzogcmFkaW9JbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W2NoZWNrYm94XVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSFRNTCBjaGVja2JveC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nVHJ1ZVZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nRmFsc2VWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIG5vdCBzZWxlY3RlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiY2hlY2tib3gtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hlY2tib3hFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hlY2tib3hFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5jaGVja2JveE1vZGVsID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlMSA6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWUyIDogJ1lFUydcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgPGxhYmVsPlZhbHVlMTpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2JveE1vZGVsLnZhbHVlMVwiPlxuICAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgIDxsYWJlbD5WYWx1ZTI6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tib3hNb2RlbC52YWx1ZTJcIlxuICAgICAgICAgICAgICAgICAgICBuZy10cnVlLXZhbHVlPVwiJ1lFUydcIiBuZy1mYWxzZS12YWx1ZT1cIidOTydcIj5cbiAgICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPHR0PnZhbHVlMSA9IHt7Y2hlY2tib3hNb2RlbC52YWx1ZTF9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0PnZhbHVlMiA9IHt7Y2hlY2tib3hNb2RlbC52YWx1ZTJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHN0YXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUxID0gZWxlbWVudChieS5iaW5kaW5nKCdjaGVja2JveE1vZGVsLnZhbHVlMScpKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NoZWNrYm94TW9kZWwudmFsdWUyJykpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUyLmdldFRleHQoKSkudG9Db250YWluKCdZRVMnKTtcblxuICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tib3hNb2RlbC52YWx1ZTEnKSkuY2xpY2soKTtcbiAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrYm94TW9kZWwudmFsdWUyJykpLmNsaWNrKCk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTEuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUyLmdldFRleHQoKSkudG9Db250YWluKCdOTycpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICAnY2hlY2tib3gnOiBjaGVja2JveElucHV0VHlwZSxcblxuICAnaGlkZGVuJzogbm9vcCxcbiAgJ2J1dHRvbic6IG5vb3AsXG4gICdzdWJtaXQnOiBub29wLFxuICAncmVzZXQnOiBub29wLFxuICAnZmlsZSc6IG5vb3Bcbn07XG5cbmZ1bmN0aW9uIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpIHtcbiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpID8gdmFsdWUgOiB2YWx1ZS50b1N0cmluZygpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdGV4dElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpO1xufVxuXG5mdW5jdGlvbiBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgdmFyIHR5cGUgPSBsb3dlcmNhc2UoZWxlbWVudFswXS50eXBlKTtcblxuICAvLyBJbiBjb21wb3NpdGlvbiBtb2RlLCB1c2VycyBhcmUgc3RpbGwgaW5wdXRpbmcgaW50ZXJtZWRpYXRlIHRleHQgYnVmZmVyLFxuICAvLyBob2xkIHRoZSBsaXN0ZW5lciB1bnRpbCBjb21wb3NpdGlvbiBpcyBkb25lLlxuICAvLyBNb3JlIGFib3V0IGNvbXBvc2l0aW9uIGV2ZW50czogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NvbXBvc2l0aW9uRXZlbnRcbiAgaWYgKCEkc25pZmZlci5hbmRyb2lkKSB7XG4gICAgdmFyIGNvbXBvc2luZyA9IGZhbHNlO1xuXG4gICAgZWxlbWVudC5vbignY29tcG9zaXRpb25zdGFydCcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGNvbXBvc2luZyA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbmVuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgY29tcG9zaW5nID0gZmFsc2U7XG4gICAgICBsaXN0ZW5lcigpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICBpZiAodGltZW91dCkge1xuICAgICAgJGJyb3dzZXIuZGVmZXIuY2FuY2VsKHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjb21wb3NpbmcpIHJldHVybjtcbiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbCgpLFxuICAgICAgICBldmVudCA9IGV2ICYmIGV2LnR5cGU7XG5cbiAgICAvLyBCeSBkZWZhdWx0IHdlIHdpbGwgdHJpbSB0aGUgdmFsdWVcbiAgICAvLyBJZiB0aGUgYXR0cmlidXRlIG5nLXRyaW0gZXhpc3RzIHdlIHdpbGwgYXZvaWQgdHJpbW1pbmdcbiAgICAvLyBJZiBpbnB1dCB0eXBlIGlzICdwYXNzd29yZCcsIHRoZSB2YWx1ZSBpcyBuZXZlciB0cmltbWVkXG4gICAgaWYgKHR5cGUgIT09ICdwYXNzd29yZCcgJiYgKCFhdHRyLm5nVHJpbSB8fCBhdHRyLm5nVHJpbSAhPT0gJ2ZhbHNlJykpIHtcbiAgICAgIHZhbHVlID0gdHJpbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBjb250cm9sIGlzIHN1ZmZlcmluZyBmcm9tIGJhZCBpbnB1dCAoZHVlIHRvIG5hdGl2ZSB2YWxpZGF0b3JzKSwgYnJvd3NlcnMgZGlzY2FyZCBpdHNcbiAgICAvLyB2YWx1ZSwgc28gaXQgbWF5IGJlIG5lY2Vzc2FyeSB0byByZXZhbGlkYXRlIChieSBjYWxsaW5nICRzZXRWaWV3VmFsdWUgYWdhaW4pIGV2ZW4gaWYgdGhlXG4gICAgLy8gY29udHJvbCdzIHZhbHVlIGlzIHRoZSBzYW1lIGVtcHR5IHZhbHVlIHR3aWNlIGluIGEgcm93LlxuICAgIGlmIChjdHJsLiR2aWV3VmFsdWUgIT09IHZhbHVlIHx8ICh2YWx1ZSA9PT0gJycgJiYgY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpKSB7XG4gICAgICBjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUsIGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gaWYgdGhlIGJyb3dzZXIgZG9lcyBzdXBwb3J0IFwiaW5wdXRcIiBldmVudCwgd2UgYXJlIGZpbmUgLSBleGNlcHQgb24gSUU5IHdoaWNoIGRvZXNuJ3QgZmlyZSB0aGVcbiAgLy8gaW5wdXQgZXZlbnQgb24gYmFja3NwYWNlLCBkZWxldGUgb3IgY3V0XG4gIGlmICgkc25pZmZlci5oYXNFdmVudCgnaW5wdXQnKSkge1xuICAgIGVsZW1lbnQub24oJ2lucHV0JywgbGlzdGVuZXIpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0aW1lb3V0O1xuXG4gICAgdmFyIGRlZmVyTGlzdGVuZXIgPSBmdW5jdGlvbihldiwgaW5wdXQsIG9yaWdWYWx1ZSkge1xuICAgICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICAgIHRpbWVvdXQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICBpZiAoIWlucHV0IHx8IGlucHV0LnZhbHVlICE9PSBvcmlnVmFsdWUpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKGV2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBlbGVtZW50Lm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBrZXkgPSBldmVudC5rZXlDb2RlO1xuXG4gICAgICAvLyBpZ25vcmVcbiAgICAgIC8vICAgIGNvbW1hbmQgICAgICAgICAgICBtb2RpZmllcnMgICAgICAgICAgICAgICAgICAgYXJyb3dzXG4gICAgICBpZiAoa2V5ID09PSA5MSB8fCAoMTUgPCBrZXkgJiYga2V5IDwgMTkpIHx8ICgzNyA8PSBrZXkgJiYga2V5IDw9IDQwKSkgcmV0dXJuO1xuXG4gICAgICBkZWZlckxpc3RlbmVyKGV2ZW50LCB0aGlzLCB0aGlzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8vIGlmIHVzZXIgbW9kaWZpZXMgaW5wdXQgdmFsdWUgdXNpbmcgY29udGV4dCBtZW51IGluIElFLCB3ZSBuZWVkIFwicGFzdGVcIiBhbmQgXCJjdXRcIiBldmVudHMgdG8gY2F0Y2ggaXRcbiAgICBpZiAoJHNuaWZmZXIuaGFzRXZlbnQoJ3Bhc3RlJykpIHtcbiAgICAgIGVsZW1lbnQub24oJ3Bhc3RlIGN1dCcsIGRlZmVyTGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHVzZXIgcGFzdGUgaW50byBpbnB1dCB1c2luZyBtb3VzZSBvbiBvbGRlciBicm93c2VyXG4gIC8vIG9yIGZvcm0gYXV0b2NvbXBsZXRlIG9uIG5ld2VyIGJyb3dzZXIsIHdlIG5lZWQgXCJjaGFuZ2VcIiBldmVudCB0byBjYXRjaCBpdFxuICBlbGVtZW50Lm9uKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XG5cbiAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gV29ya2Fyb3VuZCBmb3IgRmlyZWZveCB2YWxpZGF0aW9uICMxMjEwMi5cbiAgICB2YXIgdmFsdWUgPSBjdHJsLiRpc0VtcHR5KGN0cmwuJHZpZXdWYWx1ZSkgPyAnJyA6IGN0cmwuJHZpZXdWYWx1ZTtcbiAgICBpZiAoZWxlbWVudC52YWwoKSAhPT0gdmFsdWUpIHtcbiAgICAgIGVsZW1lbnQudmFsKHZhbHVlKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtQYXJzZXIoaXNvV2VlaywgZXhpc3RpbmdEYXRlKSB7XG4gIGlmIChpc0RhdGUoaXNvV2VlaykpIHtcbiAgICByZXR1cm4gaXNvV2VlaztcbiAgfVxuXG4gIGlmIChpc1N0cmluZyhpc29XZWVrKSkge1xuICAgIFdFRUtfUkVHRVhQLmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIHBhcnRzID0gV0VFS19SRUdFWFAuZXhlYyhpc29XZWVrKTtcbiAgICBpZiAocGFydHMpIHtcbiAgICAgIHZhciB5ZWFyID0gK3BhcnRzWzFdLFxuICAgICAgICAgIHdlZWsgPSArcGFydHNbMl0sXG4gICAgICAgICAgaG91cnMgPSAwLFxuICAgICAgICAgIG1pbnV0ZXMgPSAwLFxuICAgICAgICAgIHNlY29uZHMgPSAwLFxuICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IDAsXG4gICAgICAgICAgZmlyc3RUaHVycyA9IGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhciksXG4gICAgICAgICAgYWRkRGF5cyA9ICh3ZWVrIC0gMSkgKiA3O1xuXG4gICAgICBpZiAoZXhpc3RpbmdEYXRlKSB7XG4gICAgICAgIGhvdXJzID0gZXhpc3RpbmdEYXRlLmdldEhvdXJzKCk7XG4gICAgICAgIG1pbnV0ZXMgPSBleGlzdGluZ0RhdGUuZ2V0TWludXRlcygpO1xuICAgICAgICBzZWNvbmRzID0gZXhpc3RpbmdEYXRlLmdldFNlY29uZHMoKTtcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gZXhpc3RpbmdEYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgZmlyc3RUaHVycy5nZXREYXRlKCkgKyBhZGREYXlzLCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gTmFOO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEYXRlUGFyc2VyKHJlZ2V4cCwgbWFwcGluZykge1xuICByZXR1cm4gZnVuY3Rpb24oaXNvLCBkYXRlKSB7XG4gICAgdmFyIHBhcnRzLCBtYXA7XG5cbiAgICBpZiAoaXNEYXRlKGlzbykpIHtcbiAgICAgIHJldHVybiBpc287XG4gICAgfVxuXG4gICAgaWYgKGlzU3RyaW5nKGlzbykpIHtcbiAgICAgIC8vIFdoZW4gYSBkYXRlIGlzIEpTT04naWZpZWQgdG8gd3JhcHMgaXRzZWxmIGluc2lkZSBvZiBhbiBleHRyYVxuICAgICAgLy8gc2V0IG9mIGRvdWJsZSBxdW90ZXMuIFRoaXMgbWFrZXMgdGhlIGRhdGUgcGFyc2luZyBjb2RlIHVuYWJsZVxuICAgICAgLy8gdG8gbWF0Y2ggdGhlIGRhdGUgc3RyaW5nIGFuZCBwYXJzZSBpdCBhcyBhIGRhdGUuXG4gICAgICBpZiAoaXNvLmNoYXJBdCgwKSA9PSAnXCInICYmIGlzby5jaGFyQXQoaXNvLmxlbmd0aCAtIDEpID09ICdcIicpIHtcbiAgICAgICAgaXNvID0gaXNvLnN1YnN0cmluZygxLCBpc28ubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoSVNPX0RBVEVfUkVHRVhQLnRlc3QoaXNvKSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoaXNvKTtcbiAgICAgIH1cbiAgICAgIHJlZ2V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgcGFydHMgPSByZWdleHAuZXhlYyhpc28pO1xuXG4gICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgcGFydHMuc2hpZnQoKTtcbiAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICBtYXAgPSB7XG4gICAgICAgICAgICB5eXl5OiBkYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICBNTTogZGF0ZS5nZXRNb250aCgpICsgMSxcbiAgICAgICAgICAgIGRkOiBkYXRlLmdldERhdGUoKSxcbiAgICAgICAgICAgIEhIOiBkYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgICBtbTogZGF0ZS5nZXRNaW51dGVzKCksXG4gICAgICAgICAgICBzczogZGF0ZS5nZXRTZWNvbmRzKCksXG4gICAgICAgICAgICBzc3M6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMDAwXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXAgPSB7IHl5eXk6IDE5NzAsIE1NOiAxLCBkZDogMSwgSEg6IDAsIG1tOiAwLCBzczogMCwgc3NzOiAwIH07XG4gICAgICAgIH1cblxuICAgICAgICBmb3JFYWNoKHBhcnRzLCBmdW5jdGlvbihwYXJ0LCBpbmRleCkge1xuICAgICAgICAgIGlmIChpbmRleCA8IG1hcHBpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXBbbWFwcGluZ1tpbmRleF1dID0gK3BhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG1hcC55eXl5LCBtYXAuTU0gLSAxLCBtYXAuZGQsIG1hcC5ISCwgbWFwLm1tLCBtYXAuc3MgfHwgMCwgbWFwLnNzcyAqIDEwMDAgfHwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE5hTjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGF0ZUlucHV0VHlwZSh0eXBlLCByZWdleHAsIHBhcnNlRGF0ZSwgZm9ybWF0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBkeW5hbWljRGF0ZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyLCAkZmlsdGVyKSB7XG4gICAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcbiAgICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuICAgIHZhciB0aW1lem9uZSA9IGN0cmwgJiYgY3RybC4kb3B0aW9ucyAmJiBjdHJsLiRvcHRpb25zLnRpbWV6b25lO1xuICAgIHZhciBwcmV2aW91c0RhdGU7XG5cbiAgICBjdHJsLiQkcGFyc2VyTmFtZSA9IHR5cGU7XG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHJldHVybiBudWxsO1xuICAgICAgaWYgKHJlZ2V4cC50ZXN0KHZhbHVlKSkge1xuICAgICAgICAvLyBOb3RlOiBXZSBjYW5ub3QgcmVhZCBjdHJsLiRtb2RlbFZhbHVlLCBhcyB0aGVyZSBtaWdodCBiZSBhIGRpZmZlcmVudFxuICAgICAgICAvLyBwYXJzZXIvZm9ybWF0dGVyIGluIHRoZSBwcm9jZXNzaW5nIGNoYWluIHNvIHRoYXQgdGhlIG1vZGVsXG4gICAgICAgIC8vIGNvbnRhaW5zIHNvbWUgZGlmZmVyZW50IGRhdGEgZm9ybWF0IVxuICAgICAgICB2YXIgcGFyc2VkRGF0ZSA9IHBhcnNlRGF0ZSh2YWx1ZSwgcHJldmlvdXNEYXRlKTtcbiAgICAgICAgaWYgKHRpbWV6b25lKSB7XG4gICAgICAgICAgcGFyc2VkRGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwocGFyc2VkRGF0ZSwgdGltZXpvbmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWREYXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcblxuICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlICYmICFpc0RhdGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5nTW9kZWxNaW5FcnIoJ2RhdGVmbXQnLCAnRXhwZWN0ZWQgYHswfWAgdG8gYmUgYSBkYXRlJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzVmFsaWREYXRlKHZhbHVlKSkge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHByZXZpb3VzRGF0ZSAmJiB0aW1lem9uZSkge1xuICAgICAgICAgIHByZXZpb3VzRGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwocHJldmlvdXNEYXRlLCB0aW1lem9uZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKSh2YWx1ZSwgZm9ybWF0LCB0aW1lem9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWluKSB8fCBhdHRyLm5nTWluKSB7XG4gICAgICB2YXIgbWluVmFsO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5taW4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIWlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHBhcnNlRGF0ZSh2YWx1ZSkgPj0gbWluVmFsO1xuICAgICAgfTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21pbicsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBtaW5WYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWF4KSB8fCBhdHRyLm5nTWF4KSB7XG4gICAgICB2YXIgbWF4VmFsO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXggPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIWlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHBhcnNlRGF0ZSh2YWx1ZSkgPD0gbWF4VmFsO1xuICAgICAgfTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBtYXhWYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xuICAgICAgLy8gSW52YWxpZCBEYXRlOiBnZXRUaW1lKCkgcmV0dXJucyBOYU5cbiAgICAgIHJldHVybiB2YWx1ZSAmJiAhKHZhbHVlLmdldFRpbWUgJiYgdmFsdWUuZ2V0VGltZSgpICE9PSB2YWx1ZS5nZXRUaW1lKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKSB7XG4gICAgICByZXR1cm4gaXNEZWZpbmVkKHZhbCkgJiYgIWlzRGF0ZSh2YWwpID8gcGFyc2VEYXRlKHZhbCkgfHwgdW5kZWZpbmVkIDogdmFsO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gIHZhciBub2RlID0gZWxlbWVudFswXTtcbiAgdmFyIG5hdGl2ZVZhbGlkYXRpb24gPSBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycyA9IGlzT2JqZWN0KG5vZGUudmFsaWRpdHkpO1xuICBpZiAobmF0aXZlVmFsaWRhdGlvbikge1xuICAgIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIHZhbGlkaXR5ID0gZWxlbWVudC5wcm9wKFZBTElESVRZX1NUQVRFX1BST1BFUlRZKSB8fCB7fTtcbiAgICAgIC8vIERldGVjdCBidWcgaW4gRkYzNSBmb3IgaW5wdXRbZW1haWxdIChodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDY0NDMwKTpcbiAgICAgIC8vIC0gYWxzbyBzZXRzIHZhbGlkaXR5LmJhZElucHV0IChzaG91bGQgb25seSBiZSB2YWxpZGl0eS50eXBlTWlzbWF0Y2gpLlxuICAgICAgLy8gLSBzZWUgaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNlLW1haWwtc3RhdGUtKHR5cGU9ZW1haWwpXG4gICAgICAvLyAtIGNhbiBpZ25vcmUgdGhpcyBjYXNlIGFzIHdlIGNhbiBzdGlsbCByZWFkIG91dCB0aGUgZXJyb25lb3VzIGVtYWlsLi4uXG4gICAgICByZXR1cm4gdmFsaWRpdHkuYmFkSW5wdXQgJiYgIXZhbGlkaXR5LnR5cGVNaXNtYXRjaCA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIG51bWJlcklucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIGJhZElucHV0Q2hlY2tlcihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCk7XG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG5cbiAgY3RybC4kJHBhcnNlck5hbWUgPSAnbnVtYmVyJztcbiAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChOVU1CRVJfUkVHRVhQLnRlc3QodmFsdWUpKSByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSk7XG5cbiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCFjdHJsLiRpc0VtcHR5KHZhbHVlKSkge1xuICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbnVtZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgbnVtYmVyJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xuXG4gIGlmIChpc0RlZmluZWQoYXR0ci5taW4pIHx8IGF0dHIubmdNaW4pIHtcbiAgICB2YXIgbWluVmFsO1xuICAgIGN0cmwuJHZhbGlkYXRvcnMubWluID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHZhbHVlID49IG1pblZhbDtcbiAgICB9O1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWluJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbCkgJiYgIWlzTnVtYmVyKHZhbCkpIHtcbiAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwsIDEwKTtcbiAgICAgIH1cbiAgICAgIG1pblZhbCA9IGlzTnVtYmVyKHZhbCkgJiYgIWlzTmFOKHZhbCkgPyB2YWwgOiB1bmRlZmluZWQ7XG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNEZWZpbmVkKGF0dHIubWF4KSB8fCBhdHRyLm5nTWF4KSB7XG4gICAgdmFyIG1heFZhbDtcbiAgICBjdHJsLiR2YWxpZGF0b3JzLm1heCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWF4VmFsKSB8fCB2YWx1ZSA8PSBtYXhWYWw7XG4gICAgfTtcblxuICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKGlzRGVmaW5lZCh2YWwpICYmICFpc051bWJlcih2YWwpKSB7XG4gICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsLCAxMCk7XG4gICAgICB9XG4gICAgICBtYXhWYWwgPSBpc051bWJlcih2YWwpICYmICFpc05hTih2YWwpID8gdmFsIDogdW5kZWZpbmVkO1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVybElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIC8vIE5vdGU6IG5vIGJhZElucHV0Q2hlY2tlciBoZXJlIGJ5IHB1cnBvc2UgYXMgYHVybGAgaXMgb25seSBhIHZhbGlkYXRpb25cbiAgLy8gaW4gYnJvd3NlcnMsIGkuZS4gd2UgY2FuIGFsd2F5cyByZWFkIG91dCBpbnB1dC52YWx1ZSBldmVuIGlmIGl0IGlzIG5vdCB2YWxpZCFcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XG5cbiAgY3RybC4kJHBhcnNlck5hbWUgPSAndXJsJztcbiAgY3RybC4kdmFsaWRhdG9ycy51cmwgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgVVJMX1JFR0VYUC50ZXN0KHZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZW1haWxJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICAvLyBOb3RlOiBubyBiYWRJbnB1dENoZWNrZXIgaGVyZSBieSBwdXJwb3NlIGFzIGB1cmxgIGlzIG9ubHkgYSB2YWxpZGF0aW9uXG4gIC8vIGluIGJyb3dzZXJzLCBpLmUuIHdlIGNhbiBhbHdheXMgcmVhZCBvdXQgaW5wdXQudmFsdWUgZXZlbiBpZiBpdCBpcyBub3QgdmFsaWQhXG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpO1xuXG4gIGN0cmwuJCRwYXJzZXJOYW1lID0gJ2VtYWlsJztcbiAgY3RybC4kdmFsaWRhdG9ycy5lbWFpbCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBFTUFJTF9SRUdFWFAudGVzdCh2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJhZGlvSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gIC8vIG1ha2UgdGhlIG5hbWUgdW5pcXVlLCBpZiBub3QgZGVmaW5lZFxuICBpZiAoaXNVbmRlZmluZWQoYXR0ci5uYW1lKSkge1xuICAgIGVsZW1lbnQuYXR0cignbmFtZScsIG5leHRVaWQoKSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGlmIChlbGVtZW50WzBdLmNoZWNrZWQpIHtcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShhdHRyLnZhbHVlLCBldiAmJiBldi50eXBlKTtcbiAgICB9XG4gIH07XG5cbiAgZWxlbWVudC5vbignY2xpY2snLCBsaXN0ZW5lcik7XG5cbiAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlID0gYXR0ci52YWx1ZTtcbiAgICBlbGVtZW50WzBdLmNoZWNrZWQgPSAodmFsdWUgPT0gY3RybC4kdmlld1ZhbHVlKTtcbiAgfTtcblxuICBhdHRyLiRvYnNlcnZlKCd2YWx1ZScsIGN0cmwuJHJlbmRlcik7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgY29udGV4dCwgbmFtZSwgZXhwcmVzc2lvbiwgZmFsbGJhY2spIHtcbiAgdmFyIHBhcnNlRm47XG4gIGlmIChpc0RlZmluZWQoZXhwcmVzc2lvbikpIHtcbiAgICBwYXJzZUZuID0gJHBhcnNlKGV4cHJlc3Npb24pO1xuICAgIGlmICghcGFyc2VGbi5jb25zdGFudCkge1xuICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignY29uc3RleHByJywgJ0V4cGVjdGVkIGNvbnN0YW50IGV4cHJlc3Npb24gZm9yIGB7MH1gLCBidXQgc2F3ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYHsxfWAuJywgbmFtZSwgZXhwcmVzc2lvbik7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZuKGNvbnRleHQpO1xuICB9XG4gIHJldHVybiBmYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gY2hlY2tib3hJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3NlciwgJGZpbHRlciwgJHBhcnNlKSB7XG4gIHZhciB0cnVlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdUcnVlVmFsdWUnLCBhdHRyLm5nVHJ1ZVZhbHVlLCB0cnVlKTtcbiAgdmFyIGZhbHNlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdGYWxzZVZhbHVlJywgYXR0ci5uZ0ZhbHNlVmFsdWUsIGZhbHNlKTtcblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50WzBdLmNoZWNrZWQsIGV2ICYmIGV2LnR5cGUpO1xuICB9O1xuXG4gIGVsZW1lbnQub24oJ2NsaWNrJywgbGlzdGVuZXIpO1xuXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9IGN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcblxuICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgYCRpc0VtcHR5YCBiZWNhdXNlIHRoZSAkdmlld1ZhbHVlIG9mIGFuIGVtcHR5IGNoZWNrYm94IGlzIGFsd2F5cyBzZXQgdG8gYGZhbHNlYFxuICAvLyBUaGlzIGlzIGJlY2F1c2Ugb2YgdGhlIHBhcnNlciBiZWxvdywgd2hpY2ggY29tcGFyZXMgdGhlIGAkbW9kZWxWYWx1ZWAgd2l0aCBgdHJ1ZVZhbHVlYCB0byBjb252ZXJ0XG4gIC8vIGl0IHRvIGEgYm9vbGVhbi5cbiAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBmYWxzZTtcbiAgfTtcblxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZXF1YWxzKHZhbHVlLCB0cnVlVmFsdWUpO1xuICB9KTtcblxuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPyB0cnVlVmFsdWUgOiBmYWxzZVZhbHVlO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHRleHRhcmVhXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSFRNTCB0ZXh0YXJlYSBlbGVtZW50IGNvbnRyb2wgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy4gVGhlIGRhdGEtYmluZGluZyBhbmQgdmFsaWRhdGlvblxuICogcHJvcGVydGllcyBvZiB0aGlzIGVsZW1lbnQgYXJlIGV4YWN0bHkgdGhlIHNhbWUgYXMgdGhvc2Ugb2YgdGhlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0IGVsZW1lbnR9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAqICAgIG1pbmxlbmd0aC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZiBhbnlcbiAqICAgIGxlbmd0aC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHZhbHVlIGRvZXMgbm90IG1hdGNoXG4gKiAgICBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xuICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxuICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXG4gKiAgICBhY2NvdW50LlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIHtib29sZWFuPX0gW25nVHJpbT10cnVlXSBJZiBzZXQgdG8gZmFsc2UgQW5ndWxhciB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHRyaW0gdGhlIGlucHV0LlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBpbnB1dFxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhUTUwgaW5wdXQgZWxlbWVudCBjb250cm9sLiBXaGVuIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LCBpdCBwcm92aWRlcyBkYXRhLWJpbmRpbmcsXG4gKiBpbnB1dCBzdGF0ZSBjb250cm9sLCBhbmQgdmFsaWRhdGlvbi5cbiAqIElucHV0IGNvbnRyb2wgZm9sbG93cyBIVE1MNSBpbnB1dCB0eXBlcyBhbmQgcG9seWZpbGxzIHRoZSBIVE1MNSB2YWxpZGF0aW9uIGJlaGF2aW9yIGZvciBvbGRlciBicm93c2Vycy5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIE5vdCBldmVyeSBmZWF0dXJlIG9mZmVyZWQgaXMgYXZhaWxhYmxlIGZvciBhbGwgaW5wdXQgdHlwZXMuXG4gKiBTcGVjaWZpY2FsbHksIGRhdGEgYmluZGluZyBhbmQgZXZlbnQgaGFuZGxpbmcgdmlhIGBuZy1tb2RlbGAgaXMgdW5zdXBwb3J0ZWQgZm9yIGBpbnB1dFtmaWxlXWAuXG4gKiA8L2Rpdj5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBuZ1JlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgaWYgc2V0IHRvIHRydWVcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gKiAgICBtaW5sZW5ndGguXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2YgYW55XG4gKiAgICBsZW5ndGguXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB2YWx1ZSBkb2VzIG5vdCBtYXRjaFxuICogICAgYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxuICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cbiAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICogICAgYWNjb3VudC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cbiAqICAgIFRoaXMgcGFyYW1ldGVyIGlzIGlnbm9yZWQgZm9yIGlucHV0W3R5cGU9cGFzc3dvcmRdIGNvbnRyb2xzLCB3aGljaCB3aWxsIG5ldmVyIHRyaW0gdGhlXG4gKiAgICBpbnB1dC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJpbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUudXNlciA9IHtuYW1lOiAnZ3Vlc3QnLCBsYXN0OiAndmlzaXRvcid9O1xuICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgVXNlciBuYW1lOlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIiBuZy1tb2RlbD1cInVzZXIubmFtZVwiIHJlcXVpcmVkPlxuICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLnVzZXJOYW1lLiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgIExhc3QgbmFtZTpcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImxhc3ROYW1lXCIgbmctbW9kZWw9XCJ1c2VyLmxhc3RcIlxuICAgICAgICAgICAgICBuZy1taW5sZW5ndGg9XCIzXCIgbmctbWF4bGVuZ3RoPVwiMTBcIj5cbiAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IubWlubGVuZ3RoXCI+XG4gICAgICAgICAgICAgICBUb28gc2hvcnQhPC9zcGFuPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmxhc3ROYW1lLiRlcnJvci5tYXhsZW5ndGhcIj5cbiAgICAgICAgICAgICAgIFRvbyBsb25nITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8L2Zvcm0+XG4gICAgICAgICA8aHI+XG4gICAgICAgICA8dHQ+dXNlciA9IHt7dXNlcn19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kdmFsaWQgPSB7e215Rm9ybS51c2VyTmFtZS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0udXNlck5hbWUuJGVycm9yID0ge3tteUZvcm0udXNlck5hbWUuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLmxhc3ROYW1lLiR2YWxpZCA9IHt7bXlGb3JtLmxhc3ROYW1lLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IgPSB7e215Rm9ybS5sYXN0TmFtZS4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5taW5sZW5ndGggPSB7eyEhbXlGb3JtLiRlcnJvci5taW5sZW5ndGh9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLm1heGxlbmd0aCA9IHt7ISFteUZvcm0uJGVycm9yLm1heGxlbmd0aH19PC90dD48YnIvPlxuICAgICAgIDwvZGl2PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICB2YXIgdXNlciA9IGVsZW1lbnQoYnkuZXhhY3RCaW5kaW5nKCd1c2VyJykpO1xuICAgICAgICB2YXIgdXNlck5hbWVWYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLnVzZXJOYW1lLiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIGxhc3ROYW1lVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5sYXN0TmFtZS4kdmFsaWQnKSk7XG4gICAgICAgIHZhciBsYXN0TmFtZUVycm9yID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJGVycm9yJykpO1xuICAgICAgICB2YXIgZm9ybVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uJHZhbGlkJykpO1xuICAgICAgICB2YXIgdXNlck5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubmFtZScpKTtcbiAgICAgICAgdmFyIHVzZXJMYXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLmxhc3QnKSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCIsXCJsYXN0XCI6XCJ2aXNpdG9yXCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KHVzZXJOYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eSB3aGVuIHJlcXVpcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlck5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJOYW1lSW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcImxhc3RcIjpcInZpc2l0b3JcIn0nKTtcbiAgICAgICAgICBleHBlY3QodXNlck5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIHZhbGlkIGlmIGVtcHR5IHdoZW4gbWluIGxlbmd0aCBpcyBzZXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIixcImxhc3RcIjpcIlwifScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbGVzcyB0aGFuIHJlcXVpcmVkIG1pbiBsZW5ndGgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygneHgnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwifScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZUVycm9yLmdldFRleHQoKSkudG9Db250YWluKCdtaW5sZW5ndGgnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbG9uZ2VyIHRoYW4gbWF4IGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCdzb21lIHJpZGljdWxvdXNseSBsb25nIG5hbWUnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwifScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZUVycm9yLmdldFRleHQoKSkudG9Db250YWluKCdtYXhsZW5ndGgnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cbnZhciBpbnB1dERpcmVjdGl2ZSA9IFsnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJGZpbHRlcicsICckcGFyc2UnLFxuICAgIGZ1bmN0aW9uKCRicm93c2VyLCAkc25pZmZlciwgJGZpbHRlciwgJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJz9uZ01vZGVsJ10sXG4gICAgbGluazoge1xuICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgaWYgKGN0cmxzWzBdKSB7XG4gICAgICAgICAgKGlucHV0VHlwZVtsb3dlcmNhc2UoYXR0ci50eXBlKV0gfHwgaW5wdXRUeXBlLnRleHQpKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsc1swXSwgJHNuaWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRicm93c2VyLCAkZmlsdGVyLCAkcGFyc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cblxuXG52YXIgQ09OU1RBTlRfVkFMVUVfUkVHRVhQID0gL14odHJ1ZXxmYWxzZXxcXGQrKSQvO1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1ZhbHVlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBCaW5kcyB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiB0byB0aGUgdmFsdWUgb2YgYDxvcHRpb24+YCBvciB7QGxpbmsgaW5wdXRbcmFkaW9dIGBpbnB1dFtyYWRpb11gfSxcbiAqIHNvIHRoYXQgd2hlbiB0aGUgZWxlbWVudCBpcyBzZWxlY3RlZCwgdGhlIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gb2YgdGhhdCBlbGVtZW50IGlzIHNldCB0b1xuICogdGhlIGJvdW5kIHZhbHVlLlxuICpcbiAqIGBuZ1ZhbHVlYCBpcyB1c2VmdWwgd2hlbiBkeW5hbWljYWxseSBnZW5lcmF0aW5nIGxpc3RzIG9mIHJhZGlvIGJ1dHRvbnMgdXNpbmdcbiAqIHtAbGluayBuZ1JlcGVhdCBgbmdSZXBlYXRgfSwgYXMgc2hvd24gYmVsb3cuXG4gKlxuICogTGlrZXdpc2UsIGBuZ1ZhbHVlYCBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSBgPG9wdGlvbj5gIGVsZW1lbnRzIGZvclxuICogdGhlIHtAbGluayBzZWxlY3QgYHNlbGVjdGB9IGVsZW1lbnQuIEluIHRoYXQgY2FzZSBob3dldmVyLCBvbmx5IHN0cmluZ3MgYXJlIHN1cHBvcnRlZFxuICogZm9yIHRoZSBgdmFsdWUgYGF0dHJpYnV0ZSwgc28gdGhlIHJlc3VsdGluZyBgbmdNb2RlbGAgd2lsbCBhbHdheXMgYmUgYSBzdHJpbmcuXG4gKiBTdXBwb3J0IGZvciBgc2VsZWN0YCBtb2RlbHMgd2l0aCBub24tc3RyaW5nIHZhbHVlcyBpcyBhdmFpbGFibGUgdmlhIGBuZ09wdGlvbnNgLlxuICpcbiAqIEBlbGVtZW50IGlucHV0XG4gKiBAcGFyYW0ge3N0cmluZz19IG5nVmFsdWUgYW5ndWxhciBleHByZXNzaW9uLCB3aG9zZSB2YWx1ZSB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZVxuICogICBvZiB0aGUgYGlucHV0YCBlbGVtZW50XG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwibmdWYWx1ZS1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ2YWx1ZUV4YW1wbGVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgndmFsdWVFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUubmFtZXMgPSBbJ3BpenphJywgJ3VuaWNvcm5zJywgJ3JvYm90cyddO1xuICAgICAgICAgICAgICAkc2NvcGUubXkgPSB7IGZhdm9yaXRlOiAndW5pY29ybnMnIH07XG4gICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgIDxmb3JtIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgIDxoMj5XaGljaCBpcyB5b3VyIGZhdm9yaXRlPzwvaDI+XG4gICAgICAgICAgICA8bGFiZWwgbmctcmVwZWF0PVwibmFtZSBpbiBuYW1lc1wiIGZvcj1cInt7bmFtZX19XCI+XG4gICAgICAgICAgICAgIHt7bmFtZX19XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJteS5mYXZvcml0ZVwiXG4gICAgICAgICAgICAgICAgICAgICBuZy12YWx1ZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ7e25hbWV9fVwiXG4gICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZmF2b3JpdGVcIj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGRpdj5Zb3UgY2hvc2Uge3tteS5mYXZvcml0ZX19PC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgdmFyIGZhdm9yaXRlID0gZWxlbWVudChieS5iaW5kaW5nKCdteS5mYXZvcml0ZScpKTtcblxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZmF2b3JpdGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3VuaWNvcm5zJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIGJpbmQgdGhlIHZhbHVlcyB0byB0aGUgaW5wdXRzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudC5hbGwoYnkubW9kZWwoJ215LmZhdm9yaXRlJykpLmdldCgwKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChmYXZvcml0ZS5nZXRUZXh0KCkpLnRvQ29udGFpbigncGl6emEnKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdWYWx1ZURpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcHJpb3JpdHk6IDEwMCxcbiAgICBjb21waWxlOiBmdW5jdGlvbih0cGwsIHRwbEF0dHIpIHtcbiAgICAgIGlmIChDT05TVEFOVF9WQUxVRV9SRUdFWFAudGVzdCh0cGxBdHRyLm5nVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1ZhbHVlQ29uc3RhbnRMaW5rKHNjb3BlLCBlbG0sIGF0dHIpIHtcbiAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgc2NvcGUuJGV2YWwoYXR0ci5uZ1ZhbHVlKSk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUxpbmsoc2NvcGUsIGVsbSwgYXR0cikge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nVmFsdWUsIGZ1bmN0aW9uIHZhbHVlV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCB2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JpbmRcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0JpbmRgIGF0dHJpYnV0ZSB0ZWxscyBBbmd1bGFyIHRvIHJlcGxhY2UgdGhlIHRleHQgY29udGVudCBvZiB0aGUgc3BlY2lmaWVkIEhUTUwgZWxlbWVudFxuICogd2l0aCB0aGUgdmFsdWUgb2YgYSBnaXZlbiBleHByZXNzaW9uLCBhbmQgdG8gdXBkYXRlIHRoZSB0ZXh0IGNvbnRlbnQgd2hlbiB0aGUgdmFsdWUgb2YgdGhhdFxuICogZXhwcmVzc2lvbiBjaGFuZ2VzLlxuICpcbiAqIFR5cGljYWxseSwgeW91IGRvbid0IHVzZSBgbmdCaW5kYCBkaXJlY3RseSwgYnV0IGluc3RlYWQgeW91IHVzZSB0aGUgZG91YmxlIGN1cmx5IG1hcmt1cCBsaWtlXG4gKiBge3sgZXhwcmVzc2lvbiB9fWAgd2hpY2ggaXMgc2ltaWxhciBidXQgbGVzcyB2ZXJib3NlLlxuICpcbiAqIEl0IGlzIHByZWZlcmFibGUgdG8gdXNlIGBuZ0JpbmRgIGluc3RlYWQgb2YgYHt7IGV4cHJlc3Npb24gfX1gIGlmIGEgdGVtcGxhdGUgaXMgbW9tZW50YXJpbHlcbiAqIGRpc3BsYXllZCBieSB0aGUgYnJvd3NlciBpbiBpdHMgcmF3IHN0YXRlIGJlZm9yZSBBbmd1bGFyIGNvbXBpbGVzIGl0LiBTaW5jZSBgbmdCaW5kYCBpcyBhblxuICogZWxlbWVudCBhdHRyaWJ1dGUsIGl0IG1ha2VzIHRoZSBiaW5kaW5ncyBpbnZpc2libGUgdG8gdGhlIHVzZXIgd2hpbGUgdGhlIHBhZ2UgaXMgbG9hZGluZy5cbiAqXG4gKiBBbiBhbHRlcm5hdGl2ZSBzb2x1dGlvbiB0byB0aGlzIHByb2JsZW0gd291bGQgYmUgdXNpbmcgdGhlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xvYWsgbmdDbG9ha30gZGlyZWN0aXZlLlxuICpcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCaW5kIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBFbnRlciBhIG5hbWUgaW4gdGhlIExpdmUgUHJldmlldyB0ZXh0IGJveDsgdGhlIGdyZWV0aW5nIGJlbG93IHRoZSB0ZXh0IGJveCBjaGFuZ2VzIGluc3RhbnRseS5cbiAgIDxleGFtcGxlIG1vZHVsZT1cImJpbmRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5uYW1lID0gJ1doaXJsZWQnO1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxsYWJlbD5FbnRlciBuYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIj48L2xhYmVsPjxicj5cbiAgICAgICAgIEhlbGxvIDxzcGFuIG5nLWJpbmQ9XCJuYW1lXCI+PC9zcGFuPiFcbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1iaW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcblxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbmFtZScpKS5nZXRUZXh0KCkpLnRvQmUoJ1doaXJsZWQnKTtcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbmFtZUlucHV0LnNlbmRLZXlzKCd3b3JsZCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbmFtZScpKS5nZXRUZXh0KCkpLnRvQmUoJ3dvcmxkJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQmluZERpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCBmdW5jdGlvbigkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUMnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZENvbXBpbGUodGVtcGxhdGVFbGVtZW50KSB7XG4gICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZUVsZW1lbnQpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LCBhdHRyLm5nQmluZCk7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ0JpbmQsIGZ1bmN0aW9uIG5nQmluZFdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGlzVW5kZWZpbmVkKHZhbHVlKSA/ICcnIDogdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQmluZFRlbXBsYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQmluZFRlbXBsYXRlYCBkaXJlY3RpdmUgc3BlY2lmaWVzIHRoYXQgdGhlIGVsZW1lbnRcbiAqIHRleHQgY29udGVudCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCB0aGUgaW50ZXJwb2xhdGlvbiBvZiB0aGUgdGVtcGxhdGVcbiAqIGluIHRoZSBgbmdCaW5kVGVtcGxhdGVgIGF0dHJpYnV0ZS5cbiAqIFVubGlrZSBgbmdCaW5kYCwgdGhlIGBuZ0JpbmRUZW1wbGF0ZWAgY2FuIGNvbnRhaW4gbXVsdGlwbGUgYHt7YCBgfX1gXG4gKiBleHByZXNzaW9ucy4gVGhpcyBkaXJlY3RpdmUgaXMgbmVlZGVkIHNpbmNlIHNvbWUgSFRNTCBlbGVtZW50c1xuICogKHN1Y2ggYXMgVElUTEUgYW5kIE9QVElPTikgY2Fubm90IGNvbnRhaW4gU1BBTiBlbGVtZW50cy5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ0JpbmRUZW1wbGF0ZSB0ZW1wbGF0ZSBvZiBmb3JtXG4gKiAgIDx0dD57ezwvdHQ+IDx0dD5leHByZXNzaW9uPC90dD4gPHR0Pn19PC90dD4gdG8gZXZhbC5cbiAqXG4gKiBAZXhhbXBsZVxuICogVHJ5IGl0IGhlcmU6IGVudGVyIHRleHQgaW4gdGV4dCBib3ggYW5kIHdhdGNoIHRoZSBncmVldGluZyBjaGFuZ2UuXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUuc2FsdXRhdGlvbiA9ICdIZWxsbyc7XG4gICAgICAgICAgICAgJHNjb3BlLm5hbWUgPSAnV29ybGQnO1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGxhYmVsPlNhbHV0YXRpb246IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic2FsdXRhdGlvblwiPjwvbGFiZWw+PGJyPlxuICAgICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCI+PC9sYWJlbD48YnI+XG4gICAgICAgIDxwcmUgbmctYmluZC10ZW1wbGF0ZT1cInt7c2FsdXRhdGlvbn19IHt7bmFtZX19IVwiPjwvcHJlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzYWx1dGF0aW9uRWxlbSA9IGVsZW1lbnQoYnkuYmluZGluZygnc2FsdXRhdGlvbicpKTtcbiAgICAgICAgIHZhciBzYWx1dGF0aW9uSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzYWx1dGF0aW9uJykpO1xuICAgICAgICAgdmFyIG5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSk7XG5cbiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0hlbGxvIFdvcmxkIScpO1xuXG4gICAgICAgICBzYWx1dGF0aW9uSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIHNhbHV0YXRpb25JbnB1dC5zZW5kS2V5cygnR3JlZXRpbmdzJyk7XG4gICAgICAgICBuYW1lSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG5hbWVJbnB1dC5zZW5kS2V5cygndXNlcicpO1xuXG4gICAgICAgICBleHBlY3Qoc2FsdXRhdGlvbkVsZW0uZ2V0VGV4dCgpKS50b0JlKCdHcmVldGluZ3MgdXNlciEnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUgPSBbJyRpbnRlcnBvbGF0ZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSwgJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0JpbmRUZW1wbGF0ZUNvbXBpbGUodGVtcGxhdGVFbGVtZW50KSB7XG4gICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZUVsZW1lbnQpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZFRlbXBsYXRlTGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZShlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpO1xuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGludGVycG9sYXRlRm4uZXhwcmVzc2lvbnMpO1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnbmdCaW5kVGVtcGxhdGUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBpc1VuZGVmaW5lZCh2YWx1ZSkgPyAnJyA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JpbmRIdG1sXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBFdmFsdWF0ZXMgdGhlIGV4cHJlc3Npb24gYW5kIGluc2VydHMgdGhlIHJlc3VsdGluZyBIVE1MIGludG8gdGhlIGVsZW1lbnQgaW4gYSBzZWN1cmUgd2F5LiBCeSBkZWZhdWx0LFxuICogdGhlIHJlc3VsdGluZyBIVE1MIGNvbnRlbnQgd2lsbCBiZSBzYW5pdGl6ZWQgdXNpbmcgdGhlIHtAbGluayBuZ1Nhbml0aXplLiRzYW5pdGl6ZSAkc2FuaXRpemV9IHNlcnZpY2UuXG4gKiBUbyB1dGlsaXplIHRoaXMgZnVuY3Rpb25hbGl0eSwgZW5zdXJlIHRoYXQgYCRzYW5pdGl6ZWAgaXMgYXZhaWxhYmxlLCBmb3IgZXhhbXBsZSwgYnkgaW5jbHVkaW5nIHtAbGlua1xuICogbmdTYW5pdGl6ZX0gaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMgKG5vdCBpbiBjb3JlIEFuZ3VsYXIpLiBJbiBvcmRlciB0byB1c2Uge0BsaW5rIG5nU2FuaXRpemV9XG4gKiBpbiB5b3VyIG1vZHVsZSdzIGRlcGVuZGVuY2llcywgeW91IG5lZWQgdG8gaW5jbHVkZSBcImFuZ3VsYXItc2FuaXRpemUuanNcIiBpbiB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIFlvdSBtYXkgYWxzbyBieXBhc3Mgc2FuaXRpemF0aW9uIGZvciB2YWx1ZXMgeW91IGtub3cgYXJlIHNhZmUuIFRvIGRvIHNvLCBiaW5kIHRvXG4gKiBhbiBleHBsaWNpdGx5IHRydXN0ZWQgdmFsdWUgdmlhIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LiAgU2VlIHRoZSBleGFtcGxlXG4gKiB1bmRlciB7QGxpbmsgbmcuJHNjZSNzaG93LW1lLWFuLWV4YW1wbGUtdXNpbmctc2NlLSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogTm90ZTogSWYgYSBgJHNhbml0aXplYCBzZXJ2aWNlIGlzIHVuYXZhaWxhYmxlIGFuZCB0aGUgYm91bmQgdmFsdWUgaXNuJ3QgZXhwbGljaXRseSB0cnVzdGVkLCB5b3VcbiAqIHdpbGwgaGF2ZSBhbiBleGNlcHRpb24gKGluc3RlYWQgb2YgYW4gZXhwbG9pdC4pXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZEh0bWwge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUuXG4gKlxuICogQGV4YW1wbGVcblxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEh0bWxFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8cCBuZy1iaW5kLWh0bWw9XCJteUhUTUxcIj48L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cblxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2JpbmRIdG1sRXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgJHNjb3BlLm15SFRNTCA9XG4gICAgICAgICAgICAgICdJIGFtIGFuIDxjb2RlPkhUTUw8L2NvZGU+c3RyaW5nIHdpdGggJyArXG4gICAgICAgICAgICAgICc8YSBocmVmPVwiI1wiPmxpbmtzITwvYT4gYW5kIG90aGVyIDxlbT5zdHVmZjwvZW0+JztcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQtaHRtbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbXlIVE1MJykpLmdldFRleHQoKSkudG9CZShcbiAgICAgICAgICAgICAnSSBhbSBhbiBIVE1Mc3RyaW5nIHdpdGggbGlua3MhIGFuZCBvdGhlciBzdHVmZicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmRIdG1sRGlyZWN0aXZlID0gWyckc2NlJywgJyRwYXJzZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRzY2UsICRwYXJzZSwgJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZEh0bWxDb21waWxlKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgIHZhciBuZ0JpbmRIdG1sR2V0dGVyID0gJHBhcnNlKHRBdHRycy5uZ0JpbmRIdG1sKTtcbiAgICAgIHZhciBuZ0JpbmRIdG1sV2F0Y2ggPSAkcGFyc2UodEF0dHJzLm5nQmluZEh0bWwsIGZ1bmN0aW9uIGdldFN0cmluZ1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgfHwgJycpLnRvU3RyaW5nKCk7XG4gICAgICB9KTtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRFbGVtZW50KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZEh0bWxMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgYXR0ci5uZ0JpbmRIdG1sKTtcblxuICAgICAgICBzY29wZS4kd2F0Y2gobmdCaW5kSHRtbFdhdGNoLCBmdW5jdGlvbiBuZ0JpbmRIdG1sV2F0Y2hBY3Rpb24oKSB7XG4gICAgICAgICAgLy8gd2UgcmUtZXZhbHVhdGUgdGhlIGV4cHIgYmVjYXVzZSB3ZSB3YW50IGEgVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZVxuICAgICAgICAgIC8vIGZvciAkc2NlLCBub3QgYSBzdHJpbmdcbiAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ0JpbmRIdG1sR2V0dGVyKHNjb3BlKSkgfHwgJycpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDaGFuZ2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV2YWx1YXRlIHRoZSBnaXZlbiBleHByZXNzaW9uIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgaW5wdXQuXG4gKiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW1tZWRpYXRlbHksIHVubGlrZSB0aGUgSmF2YVNjcmlwdCBvbmNoYW5nZSBldmVudFxuICogd2hpY2ggb25seSB0cmlnZ2VycyBhdCB0aGUgZW5kIG9mIGEgY2hhbmdlICh1c3VhbGx5LCB3aGVuIHRoZSB1c2VyIGxlYXZlcyB0aGVcbiAqIGZvcm0gZWxlbWVudCBvciBwcmVzc2VzIHRoZSByZXR1cm4ga2V5KS5cbiAqXG4gKiBUaGUgYG5nQ2hhbmdlYCBleHByZXNzaW9uIGlzIG9ubHkgZXZhbHVhdGVkIHdoZW4gYSBjaGFuZ2UgaW4gdGhlIGlucHV0IHZhbHVlIGNhdXNlc1xuICogYSBuZXcgdmFsdWUgdG8gYmUgY29tbWl0dGVkIHRvIHRoZSBtb2RlbC5cbiAqXG4gKiBJdCB3aWxsIG5vdCBiZSBldmFsdWF0ZWQ6XG4gKiAqIGlmIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBgJHBhcnNlcnNgIHRyYW5zZm9ybWF0aW9uIHBpcGVsaW5lIGhhcyBub3QgY2hhbmdlZFxuICogKiBpZiB0aGUgaW5wdXQgaGFzIGNvbnRpbnVlZCB0byBiZSBpbnZhbGlkIHNpbmNlIHRoZSBtb2RlbCB3aWxsIHN0YXkgYG51bGxgXG4gKiAqIGlmIHRoZSBtb2RlbCBpcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgYW5kIG5vdCBieSBhIGNoYW5nZSB0byB0aGUgaW5wdXQgdmFsdWVcbiAqXG4gKlxuICogTm90ZSwgdGhpcyBkaXJlY3RpdmUgcmVxdWlyZXMgYG5nTW9kZWxgIHRvIGJlIHByZXNlbnQuXG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGFuZ2Uge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbiBjaGFuZ2VcbiAqIGluIGlucHV0IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDaGFuZ2UtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hhbmdlRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hhbmdlRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5jb3VudGVyID0gMDtcbiAqICAgICAgICAgICAkc2NvcGUuY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAkc2NvcGUuY291bnRlcisrO1xuICogICAgICAgICAgIH07XG4gKiAgICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgbmctY2hhbmdlPVwiY2hhbmdlKClcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMVwiIC8+XG4gKiAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb25maXJtZWRcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMlwiIC8+XG4gKiAgICAgICA8bGFiZWwgZm9yPVwibmctY2hhbmdlLWV4YW1wbGUyXCI+Q29uZmlybWVkPC9sYWJlbD48YnIgLz5cbiAqICAgICAgIDx0dD5kZWJ1ZyA9IHt7Y29uZmlybWVkfX08L3R0Pjxici8+XG4gKiAgICAgICA8dHQ+Y291bnRlciA9IHt7Y291bnRlcn19PC90dD48YnIvPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuYmluZGluZygnY291bnRlcicpKTtcbiAqICAgICB2YXIgZGVidWcgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbmZpcm1lZCcpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIHZpZXcnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7XG4gKlxuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUxJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICpcbiAqICAgICBpdCgnc2hvdWxkIG5vdCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTInKSkuY2xpY2soKTtcblxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0NoYW5nZURpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0EnLFxuICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgY3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgc2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBjbGFzc0RpcmVjdGl2ZShuYW1lLCBzZWxlY3Rvcikge1xuICBuYW1lID0gJ25nQ2xhc3MnICsgbmFtZTtcbiAgcmV0dXJuIFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0FDJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBvbGRWYWw7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmFtZV0sIG5nQ2xhc3NXYXRjaEFjdGlvbiwgdHJ1ZSk7XG5cbiAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnY2xhc3MnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIG5nQ2xhc3NXYXRjaEFjdGlvbihzY29wZS4kZXZhbChhdHRyW25hbWVdKSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgaWYgKG5hbWUgIT09ICduZ0NsYXNzJykge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaCgnJGluZGV4JywgZnVuY3Rpb24oJGluZGV4LCBvbGQkaW5kZXgpIHtcbiAgICAgICAgICAgIC8vIGpzaGludCBiaXR3aXNlOiBmYWxzZVxuICAgICAgICAgICAgdmFyIG1vZCA9ICRpbmRleCAmIDE7XG4gICAgICAgICAgICBpZiAobW9kICE9PSAob2xkJGluZGV4ICYgMSkpIHtcbiAgICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSBhcnJheUNsYXNzZXMoc2NvcGUuJGV2YWwoYXR0cltuYW1lXSkpO1xuICAgICAgICAgICAgICBtb2QgPT09IHNlbGVjdG9yID9cbiAgICAgICAgICAgICAgICBhZGRDbGFzc2VzKGNsYXNzZXMpIDpcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzc2VzKGNsYXNzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkQ2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgICAgICAgdmFyIG5ld0NsYXNzZXMgPSBkaWdlc3RDbGFzc0NvdW50cyhjbGFzc2VzLCAxKTtcbiAgICAgICAgICBhdHRyLiRhZGRDbGFzcyhuZXdDbGFzc2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoY2xhc3Nlcykge1xuICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgLTEpO1xuICAgICAgICAgIGF0dHIuJHJlbW92ZUNsYXNzKG5ld0NsYXNzZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgY291bnQpIHtcbiAgICAgICAgICAvLyBVc2UgY3JlYXRlTWFwKCkgdG8gcHJldmVudCBjbGFzcyBhc3N1bXB0aW9ucyBpbnZvbHZpbmcgcHJvcGVydHlcbiAgICAgICAgICAvLyBuYW1lcyBpbiBPYmplY3QucHJvdG90eXBlXG4gICAgICAgICAgdmFyIGNsYXNzQ291bnRzID0gZWxlbWVudC5kYXRhKCckY2xhc3NDb3VudHMnKSB8fCBjcmVhdGVNYXAoKTtcbiAgICAgICAgICB2YXIgY2xhc3Nlc1RvVXBkYXRlID0gW107XG4gICAgICAgICAgZm9yRWFjaChjbGFzc2VzLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDAgfHwgY2xhc3NDb3VudHNbY2xhc3NOYW1lXSkge1xuICAgICAgICAgICAgICBjbGFzc0NvdW50c1tjbGFzc05hbWVdID0gKGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gfHwgMCkgKyBjb3VudDtcbiAgICAgICAgICAgICAgaWYgKGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gPT09ICsoY291bnQgPiAwKSkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNUb1VwZGF0ZS5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycsIGNsYXNzQ291bnRzKTtcbiAgICAgICAgICByZXR1cm4gY2xhc3Nlc1RvVXBkYXRlLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcykge1xuICAgICAgICAgIHZhciB0b0FkZCA9IGFycmF5RGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTtcbiAgICAgICAgICB2YXIgdG9SZW1vdmUgPSBhcnJheURpZmZlcmVuY2Uob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XG4gICAgICAgICAgdG9BZGQgPSBkaWdlc3RDbGFzc0NvdW50cyh0b0FkZCwgMSk7XG4gICAgICAgICAgdG9SZW1vdmUgPSBkaWdlc3RDbGFzc0NvdW50cyh0b1JlbW92ZSwgLTEpO1xuICAgICAgICAgIGlmICh0b0FkZCAmJiB0b0FkZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIHRvQWRkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRvUmVtb3ZlICYmIHRvUmVtb3ZlLmxlbmd0aCkge1xuICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgdG9SZW1vdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5nQ2xhc3NXYXRjaEFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICBpZiAoc2VsZWN0b3IgPT09IHRydWUgfHwgc2NvcGUuJGluZGV4ICUgMiA9PT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gYXJyYXlDbGFzc2VzKG5ld1ZhbCB8fCBbXSk7XG4gICAgICAgICAgICBpZiAoIW9sZFZhbCkge1xuICAgICAgICAgICAgICBhZGRDbGFzc2VzKG5ld0NsYXNzZXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghZXF1YWxzKG5ld1ZhbCxvbGRWYWwpKSB7XG4gICAgICAgICAgICAgIHZhciBvbGRDbGFzc2VzID0gYXJyYXlDbGFzc2VzKG9sZFZhbCk7XG4gICAgICAgICAgICAgIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG9sZFZhbCA9IHNoYWxsb3dDb3B5KG5ld1ZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYXJyYXlEaWZmZXJlbmNlKHRva2VuczEsIHRva2VuczIpIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2VuczEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0b2tlbnMyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHRva2VuID09IHRva2VuczJbal0pIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5wdXNoKHRva2VuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJyYXlDbGFzc2VzKGNsYXNzVmFsKSB7XG4gICAgICB2YXIgY2xhc3NlcyA9IFtdO1xuICAgICAgaWYgKGlzQXJyYXkoY2xhc3NWYWwpKSB7XG4gICAgICAgIGZvckVhY2goY2xhc3NWYWwsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBjbGFzc2VzID0gY2xhc3Nlcy5jb25jYXQoYXJyYXlDbGFzc2VzKHYpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGFzc2VzO1xuICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhjbGFzc1ZhbCkpIHtcbiAgICAgICAgcmV0dXJuIGNsYXNzVmFsLnNwbGl0KCcgJyk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNsYXNzVmFsKSkge1xuICAgICAgICBmb3JFYWNoKGNsYXNzVmFsLCBmdW5jdGlvbih2LCBrKSB7XG4gICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmNvbmNhdChrLnNwbGl0KCcgJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGFzc2VzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNsYXNzVmFsO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGFzc1xuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIGR5bmFtaWNhbGx5IHNldCBDU1MgY2xhc3NlcyBvbiBhbiBIVE1MIGVsZW1lbnQgYnkgZGF0YWJpbmRpbmdcbiAqIGFuIGV4cHJlc3Npb24gdGhhdCByZXByZXNlbnRzIGFsbCBjbGFzc2VzIHRvIGJlIGFkZGVkLlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgb3BlcmF0ZXMgaW4gdGhyZWUgZGlmZmVyZW50IHdheXMsIGRlcGVuZGluZyBvbiB3aGljaCBvZiB0aHJlZSB0eXBlcyB0aGUgZXhwcmVzc2lvblxuICogZXZhbHVhdGVzIHRvOlxuICpcbiAqIDEuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlIHN0cmluZyBzaG91bGQgYmUgb25lIG9yIG1vcmUgc3BhY2UtZGVsaW1pdGVkIGNsYXNzXG4gKiBuYW1lcy5cbiAqXG4gKiAyLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYW4gb2JqZWN0LCB0aGVuIGZvciBlYWNoIGtleS12YWx1ZSBwYWlyIG9mIHRoZVxuICogb2JqZWN0IHdpdGggYSB0cnV0aHkgdmFsdWUgdGhlIGNvcnJlc3BvbmRpbmcga2V5IGlzIHVzZWQgYXMgYSBjbGFzcyBuYW1lLlxuICpcbiAqIDMuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBhcnJheSwgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBzaG91bGQgZWl0aGVyIGJlIGEgc3RyaW5nIGFzIGluXG4gKiB0eXBlIDEgb3IgYW4gb2JqZWN0IGFzIGluIHR5cGUgMi4gVGhpcyBtZWFucyB0aGF0IHlvdSBjYW4gbWl4IHN0cmluZ3MgYW5kIG9iamVjdHMgdG9nZXRoZXIgaW4gYW4gYXJyYXlcbiAqIHRvIGdpdmUgeW91IG1vcmUgY29udHJvbCBvdmVyIHdoYXQgQ1NTIGNsYXNzZXMgYXBwZWFyLiBTZWUgdGhlIGNvZGUgYmVsb3cgZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cbiAqXG4gKlxuICogVGhlIGRpcmVjdGl2ZSB3b24ndCBhZGQgZHVwbGljYXRlIGNsYXNzZXMgaWYgYSBwYXJ0aWN1bGFyIGNsYXNzIHdhcyBhbHJlYWR5IHNldC5cbiAqXG4gKiBXaGVuIHRoZSBleHByZXNzaW9uIGNoYW5nZXMsIHRoZSBwcmV2aW91c2x5IGFkZGVkIGNsYXNzZXMgYXJlIHJlbW92ZWQgYW5kIG9ubHkgdGhlbiBhcmUgdGhlXG4gKiBuZXcgY2xhc3NlcyBhZGRlZC5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogKiphZGQqKiAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRzXG4gKlxuICogKipyZW1vdmUqKiAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuIFRoZSByZXN1bHRcbiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3NcbiAqICAgbmFtZXMsIGFuIGFycmF5LCBvciBhIG1hcCBvZiBjbGFzcyBuYW1lcyB0byBib29sZWFuIHZhbHVlcy4gSW4gdGhlIGNhc2Ugb2YgYSBtYXAsIHRoZVxuICogICBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyB3aG9zZSB2YWx1ZXMgYXJlIHRydXRoeSB3aWxsIGJlIGFkZGVkIGFzIGNzcyBjbGFzc2VzIHRvIHRoZVxuICogICBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlIEV4YW1wbGUgdGhhdCBkZW1vbnN0cmF0ZXMgYmFzaWMgYmluZGluZ3MgdmlhIG5nQ2xhc3MgZGlyZWN0aXZlLlxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJ7c3RyaWtlOiBkZWxldGVkLCBib2xkOiBpbXBvcnRhbnQsICdoYXMtZXJyb3InOiBlcnJvcn1cIj5NYXAgU3ludGF4IEV4YW1wbGU8L3A+XG4gICAgICAgPGxhYmVsPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImRlbGV0ZWRcIj5cbiAgICAgICAgICBkZWxldGVkIChhcHBseSBcInN0cmlrZVwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJpbXBvcnRhbnRcIj5cbiAgICAgICAgICBpbXBvcnRhbnQgKGFwcGx5IFwiYm9sZFwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJlcnJvclwiPlxuICAgICAgICAgIGVycm9yIChhcHBseSBcImhhcy1lcnJvclwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+XG4gICAgICAgPGhyPlxuICAgICAgIDxwIG5nLWNsYXNzPVwic3R5bGVcIj5Vc2luZyBTdHJpbmcgU3ludGF4PC9wPlxuICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic3R5bGVcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQgc3RyaWtlIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIj5cbiAgICAgICA8aHI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJbc3R5bGUxLCBzdHlsZTIsIHN0eWxlM11cIj5Vc2luZyBBcnJheSBTeW50YXg8L3A+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUxXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIj48YnI+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUyXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWQgMlwiPjxicj5cbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTNcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZCAzXCI+PGJyPlxuICAgICAgIDxocj5cbiAgICAgICA8cCBuZy1jbGFzcz1cIltzdHlsZTQsIHtvcmFuZ2U6IHdhcm5pbmd9XVwiPlVzaW5nIEFycmF5IGFuZCBNYXAgU3ludGF4PC9wPlxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlNFwiIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZVwiPjxicj5cbiAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwid2FybmluZ1wiPiB3YXJuaW5nIChhcHBseSBcIm9yYW5nZVwiIGNsYXNzKTwvbGFiZWw+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5zdHJpa2Uge1xuICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbiAgICAgICB9XG4gICAgICAgLmJvbGQge1xuICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICB9XG4gICAgICAgLnJlZCB7XG4gICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgfVxuICAgICAgIC5oYXMtZXJyb3Ige1xuICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7XG4gICAgICAgfVxuICAgICAgIC5vcmFuZ2Uge1xuICAgICAgICAgICBjb2xvcjogb3JhbmdlO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIHBzID0gZWxlbWVudC5hbGwoYnkuY3NzKCdwJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSB0aGUgY2xhc3MnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvYm9sZC8pO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvaGFzLWVycm9yLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2ltcG9ydGFudCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9ib2xkLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Vycm9yJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL2hhcy1lcnJvci8pO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSBzdHJpbmcgZXhhbXBsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdyZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSBleGFtcGxlIHNob3VsZCBoYXZlIDMgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgyKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUxJykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTInKSkuc2VuZEtleXMoJ3N0cmlrZScpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUzJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMikuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdib2xkIHN0cmlrZSByZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSB3aXRoIG1hcCBleGFtcGxlIHNob3VsZCBoYXZlIDIgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGU0JykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd3YXJuaW5nJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMubGFzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnYm9sZCBvcmFuZ2UnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuXG4gICAjIyBBbmltYXRpb25zXG5cbiAgIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBob3cgdG8gcGVyZm9ybSBhbmltYXRpb25zIHVzaW5nIG5nQ2xhc3MuXG5cbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IGlkPVwic2V0YnRuXCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0XCIgbmctY2xpY2s9XCJteVZhcj0nbXktY2xhc3MnXCI+XG4gICAgICA8aW5wdXQgaWQ9XCJjbGVhcmJ0blwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cImNsZWFyXCIgbmctY2xpY2s9XCJteVZhcj0nJ1wiPlxuICAgICAgPGJyPlxuICAgICAgPHNwYW4gY2xhc3M9XCJiYXNlLWNsYXNzXCIgbmctY2xhc3M9XCJteVZhclwiPlNhbXBsZSBUZXh0PC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAuYmFzZS1jbGFzcyB7XG4gICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICAgfVxuXG4gICAgICAgLmJhc2UtY2xhc3MubXktY2xhc3Mge1xuICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgIGZvbnQtc2l6ZTozZW07XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkubm90LlxuICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pO1xuXG4gICAgICAgICBlbGVtZW50KGJ5LmlkKCdzZXRidG4nKSkuY2xpY2soKTtcblxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuYmFzZS1jbGFzcycpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pO1xuXG4gICAgICAgICBlbGVtZW50KGJ5LmlkKCdjbGVhcmJ0bicpKS5jbGljaygpO1xuXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkubm90LlxuICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG5cblxuICAgIyMgbmdDbGFzcyBhbmQgcHJlLWV4aXN0aW5nIENTUzMgVHJhbnNpdGlvbnMvQW5pbWF0aW9uc1xuICAgVGhlIG5nQ2xhc3MgZGlyZWN0aXZlIHN0aWxsIHN1cHBvcnRzIENTUzMgVHJhbnNpdGlvbnMvQW5pbWF0aW9ucyBldmVuIGlmIHRoZXkgZG8gbm90IGZvbGxvdyB0aGUgbmdBbmltYXRlIENTUyBuYW1pbmcgc3RydWN0dXJlLlxuICAgVXBvbiBhbmltYXRpb24gbmdBbmltYXRlIHdpbGwgYXBwbHkgc3VwcGxlbWVudGFyeSBDU1MgY2xhc3NlcyB0byB0cmFjayB0aGUgc3RhcnQgYW5kIGVuZCBvZiBhbiBhbmltYXRpb24sIGJ1dCB0aGlzIHdpbGwgbm90IGhpbmRlclxuICAgYW55IHByZS1leGlzdGluZyBDU1MgdHJhbnNpdGlvbnMgYWxyZWFkeSBvbiB0aGUgZWxlbWVudC4gVG8gZ2V0IGFuIGlkZWEgb2Ygd2hhdCBoYXBwZW5zIGR1cmluZyBhIGNsYXNzLWJhc2VkIGFuaW1hdGlvbiwgYmUgc3VyZVxuICAgdG8gdmlldyB0aGUgc3RlcCBieSBzdGVwIGRldGFpbHMgb2Yge0BsaW5rICRhbmltYXRlI2FkZENsYXNzICRhbmltYXRlLmFkZENsYXNzfSBhbmRcbiAgIHtAbGluayAkYW5pbWF0ZSNyZW1vdmVDbGFzcyAkYW5pbWF0ZS5yZW1vdmVDbGFzc30uXG4gKi9cbnZhciBuZ0NsYXNzRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJycsIHRydWUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2xhc3NPZGRcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0NsYXNzT2RkYCBhbmQgYG5nQ2xhc3NFdmVuYCBkaXJlY3RpdmVzIHdvcmsgZXhhY3RseSBhc1xuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsYXNzIG5nQ2xhc3N9LCBleGNlcHQgdGhleSB3b3JrIGluXG4gKiBjb25qdW5jdGlvbiB3aXRoIGBuZ1JlcGVhdGAgYW5kIHRha2UgZWZmZWN0IG9ubHkgb24gb2RkIChldmVuKSByb3dzLlxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIG9ubHkgd2l0aGluIHRoZSBzY29wZSBvZiBhblxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0uXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xhc3NPZGQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlIHJlc3VsdFxuICogICBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzcyBuYW1lcyBvciBhbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxvbCBuZy1pbml0PVwibmFtZXM9WydKb2huJywgJ01hcnknLCAnQ2F0ZScsICdTdXonXVwiPlxuICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD1cIidvZGQnXCIgbmctY2xhc3MtZXZlbj1cIidldmVuJ1wiPlxuICAgICAgICAgICAgIHt7bmFtZX19XG4gICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L29sPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAub2RkIHtcbiAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgfVxuICAgICAgIC5ldmVuIHtcbiAgICAgICAgIGNvbG9yOiBibHVlO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcy1vZGQgYW5kIG5nLWNsYXNzLWV2ZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDApLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9vZGQvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDEpLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9ldmVuLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQ2xhc3NPZGREaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnT2RkJywgMCk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGFzc0V2ZW5cbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0NsYXNzT2RkYCBhbmQgYG5nQ2xhc3NFdmVuYCBkaXJlY3RpdmVzIHdvcmsgZXhhY3RseSBhc1xuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsYXNzIG5nQ2xhc3N9LCBleGNlcHQgdGhleSB3b3JrIGluXG4gKiBjb25qdW5jdGlvbiB3aXRoIGBuZ1JlcGVhdGAgYW5kIHRha2UgZWZmZWN0IG9ubHkgb24gb2RkIChldmVuKSByb3dzLlxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIG9ubHkgd2l0aGluIHRoZSBzY29wZSBvZiBhblxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0uXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xhc3NFdmVuIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuIFRoZVxuICogICByZXN1bHQgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3MgbmFtZXMgb3IgYW4gYXJyYXkuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8b2wgbmctaW5pdD1cIm5hbWVzPVsnSm9obicsICdNYXJ5JywgJ0NhdGUnLCAnU3V6J11cIj5cbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVwibmFtZSBpbiBuYW1lc1wiPlxuICAgICAgICAgICA8c3BhbiBuZy1jbGFzcy1vZGQ9XCInb2RkJ1wiIG5nLWNsYXNzLWV2ZW49XCInZXZlbidcIj5cbiAgICAgICAgICAgICB7e25hbWV9fSAmbmJzcDsgJm5ic3A7ICZuYnNwO1xuICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC9vbD5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgLm9kZCB7XG4gICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgIH1cbiAgICAgICAuZXZlbiB7XG4gICAgICAgICBjb2xvcjogYmx1ZTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3Mtb2RkIGFuZCBuZy1jbGFzcy1ldmVuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygwKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cbiAgICAgICAgICAgdG9NYXRjaCgvb2RkLyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygxKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cbiAgICAgICAgICAgdG9NYXRjaCgvZXZlbi8pO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdFdmVuJywgMSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbG9ha1xuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBpcyB1c2VkIHRvIHByZXZlbnQgdGhlIEFuZ3VsYXIgaHRtbCB0ZW1wbGF0ZSBmcm9tIGJlaW5nIGJyaWVmbHlcbiAqIGRpc3BsYXllZCBieSB0aGUgYnJvd3NlciBpbiBpdHMgcmF3ICh1bmNvbXBpbGVkKSBmb3JtIHdoaWxlIHlvdXIgYXBwbGljYXRpb24gaXMgbG9hZGluZy4gVXNlIHRoaXNcbiAqIGRpcmVjdGl2ZSB0byBhdm9pZCB0aGUgdW5kZXNpcmFibGUgZmxpY2tlciBlZmZlY3QgY2F1c2VkIGJ5IHRoZSBodG1sIHRlbXBsYXRlIGRpc3BsYXkuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSBjYW4gYmUgYXBwbGllZCB0byB0aGUgYDxib2R5PmAgZWxlbWVudCwgYnV0IHRoZSBwcmVmZXJyZWQgdXNhZ2UgaXMgdG8gYXBwbHlcbiAqIG11bHRpcGxlIGBuZ0Nsb2FrYCBkaXJlY3RpdmVzIHRvIHNtYWxsIHBvcnRpb25zIG9mIHRoZSBwYWdlIHRvIHBlcm1pdCBwcm9ncmVzc2l2ZSByZW5kZXJpbmdcbiAqIG9mIHRoZSBicm93c2VyIHZpZXcuXG4gKlxuICogYG5nQ2xvYWtgIHdvcmtzIGluIGNvb3BlcmF0aW9uIHdpdGggdGhlIGZvbGxvd2luZyBjc3MgcnVsZSBlbWJlZGRlZCB3aXRoaW4gYGFuZ3VsYXIuanNgIGFuZFxuICogYGFuZ3VsYXIubWluLmpzYC5cbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxuICpcbiAqIGBgYGNzc1xuICogW25nXFw6Y2xvYWtdLCBbbmctY2xvYWtdLCBbZGF0YS1uZy1jbG9ha10sIFt4LW5nLWNsb2FrXSwgLm5nLWNsb2FrLCAueC1uZy1jbG9hayB7XG4gKiAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhpcyBjc3MgcnVsZSBpcyBsb2FkZWQgYnkgdGhlIGJyb3dzZXIsIGFsbCBodG1sIGVsZW1lbnRzIChpbmNsdWRpbmcgdGhlaXIgY2hpbGRyZW4pIHRoYXRcbiAqIGFyZSB0YWdnZWQgd2l0aCB0aGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBhcmUgaGlkZGVuLiBXaGVuIEFuZ3VsYXIgZW5jb3VudGVycyB0aGlzIGRpcmVjdGl2ZVxuICogZHVyaW5nIHRoZSBjb21waWxhdGlvbiBvZiB0aGUgdGVtcGxhdGUgaXQgZGVsZXRlcyB0aGUgYG5nQ2xvYWtgIGVsZW1lbnQgYXR0cmlidXRlLCBtYWtpbmdcbiAqIHRoZSBjb21waWxlZCBlbGVtZW50IHZpc2libGUuXG4gKlxuICogRm9yIHRoZSBiZXN0IHJlc3VsdCwgdGhlIGBhbmd1bGFyLmpzYCBzY3JpcHQgbXVzdCBiZSBsb2FkZWQgaW4gdGhlIGhlYWQgc2VjdGlvbiBvZiB0aGUgaHRtbFxuICogZG9jdW1lbnQ7IGFsdGVybmF0aXZlbHksIHRoZSBjc3MgcnVsZSBhYm92ZSBtdXN0IGJlIGluY2x1ZGVkIGluIHRoZSBleHRlcm5hbCBzdHlsZXNoZWV0IG9mIHRoZVxuICogYXBwbGljYXRpb24uXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8ZGl2IGlkPVwidGVtcGxhdGUxXCIgbmctY2xvYWs+e3sgJ2hlbGxvJyB9fTwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwidGVtcGxhdGUyXCIgY2xhc3M9XCJuZy1jbG9ha1wiPnt7ICd3b3JsZCcgfX08L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCByZW1vdmUgdGhlIHRlbXBsYXRlIGRpcmVjdGl2ZSBhbmQgY3NzIGNsYXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMScpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMicpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBuZ0Nsb2FrRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgYXR0ci4kc2V0KCduZ0Nsb2FrJywgdW5kZWZpbmVkKTtcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCduZy1jbG9haycpO1xuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NvbnRyb2xsZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgYXR0YWNoZXMgYSBjb250cm9sbGVyIGNsYXNzIHRvIHRoZSB2aWV3LiBUaGlzIGlzIGEga2V5IGFzcGVjdCBvZiBob3cgYW5ndWxhclxuICogc3VwcG9ydHMgdGhlIHByaW5jaXBsZXMgYmVoaW5kIHRoZSBNb2RlbC1WaWV3LUNvbnRyb2xsZXIgZGVzaWduIHBhdHRlcm4uXG4gKlxuICogTVZDIGNvbXBvbmVudHMgaW4gYW5ndWxhcjpcbiAqXG4gKiAqIE1vZGVsIOKAlCBNb2RlbHMgYXJlIHRoZSBwcm9wZXJ0aWVzIG9mIGEgc2NvcGU7IHNjb3BlcyBhcmUgYXR0YWNoZWQgdG8gdGhlIERPTSB3aGVyZSBzY29wZSBwcm9wZXJ0aWVzXG4gKiAgIGFyZSBhY2Nlc3NlZCB0aHJvdWdoIGJpbmRpbmdzLlxuICogKiBWaWV3IOKAlCBUaGUgdGVtcGxhdGUgKEhUTUwgd2l0aCBkYXRhIGJpbmRpbmdzKSB0aGF0IGlzIHJlbmRlcmVkIGludG8gdGhlIFZpZXcuXG4gKiAqIENvbnRyb2xsZXIg4oCUIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgc3BlY2lmaWVzIGEgQ29udHJvbGxlciBjbGFzczsgdGhlIGNsYXNzIGNvbnRhaW5zIGJ1c2luZXNzXG4gKiAgIGxvZ2ljIGJlaGluZCB0aGUgYXBwbGljYXRpb24gdG8gZGVjb3JhdGUgdGhlIHNjb3BlIHdpdGggZnVuY3Rpb25zIGFuZCB2YWx1ZXNcbiAqXG4gKiBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIGF0dGFjaCBjb250cm9sbGVycyB0byB0aGUgRE9NIGJ5IGRlY2xhcmluZyBpdCBpbiBhIHJvdXRlIGRlZmluaXRpb25cbiAqIHZpYSB0aGUge0BsaW5rIG5nUm91dGUuJHJvdXRlICRyb3V0ZX0gc2VydmljZS4gQSBjb21tb24gbWlzdGFrZSBpcyB0byBkZWNsYXJlIHRoZSBjb250cm9sbGVyXG4gKiBhZ2FpbiB1c2luZyBgbmctY29udHJvbGxlcmAgaW4gdGhlIHRlbXBsYXRlIGl0c2VsZi4gIFRoaXMgd2lsbCBjYXVzZSB0aGUgY29udHJvbGxlciB0byBiZSBhdHRhY2hlZFxuICogYW5kIGV4ZWN1dGVkIHR3aWNlLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgNTAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ29udHJvbGxlciBOYW1lIG9mIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZSBjdXJyZW50XG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciAkY29udHJvbGxlclByb3ZpZGVyfSBvciBhbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufVxuICogdGhhdCBvbiB0aGUgY3VycmVudCBzY29wZSBldmFsdWF0ZXMgdG8gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgY29udHJvbGxlciBpbnN0YW5jZSBjYW4gYmUgcHVibGlzaGVkIGludG8gYSBzY29wZSBwcm9wZXJ0eSBieSBzcGVjaWZ5aW5nXG4gKiBgbmctY29udHJvbGxlcj1cImFzIHByb3BlcnR5TmFtZVwiYC5cbiAqXG4gKiBJZiB0aGUgY3VycmVudCBgJGNvbnRyb2xsZXJQcm92aWRlcmAgaXMgY29uZmlndXJlZCB0byB1c2UgZ2xvYmFscyAodmlhXG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHMgYCRjb250cm9sbGVyUHJvdmlkZXIuYWxsb3dHbG9iYWxzKClgIH0pLCB0aGlzIG1heVxuICogYWxzbyBiZSB0aGUgbmFtZSBvZiBhIGdsb2JhbGx5IGFjY2Vzc2libGUgY29uc3RydWN0b3IgZnVuY3Rpb24gKG5vdCByZWNvbW1lbmRlZCkuXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYSBzaW1wbGUgZm9ybSBmb3IgZWRpdGluZyB1c2VyIGNvbnRhY3QgaW5mb3JtYXRpb24uIEFkZGluZywgcmVtb3ZpbmcsIGNsZWFyaW5nLCBhbmRcbiAqIGdyZWV0aW5nIGFyZSBtZXRob2RzIGRlY2xhcmVkIG9uIHRoZSBjb250cm9sbGVyIChzZWUgc291cmNlIHRhYikuIFRoZXNlIG1ldGhvZHMgY2FuXG4gKiBlYXNpbHkgYmUgY2FsbGVkIGZyb20gdGhlIGFuZ3VsYXIgbWFya3VwLiBBbnkgY2hhbmdlcyB0byB0aGUgZGF0YSBhcmUgYXV0b21hdGljYWxseSByZWZsZWN0ZWRcbiAqIGluIHRoZSBWaWV3IHdpdGhvdXQgdGhlIG5lZWQgZm9yIGEgbWFudWFsIHVwZGF0ZS5cbiAqXG4gKiBUd28gZGlmZmVyZW50IGRlY2xhcmF0aW9uIHN0eWxlcyBhcmUgaW5jbHVkZWQgYmVsb3c6XG4gKlxuICogKiBvbmUgYmluZHMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBkaXJlY3RseSBvbnRvIHRoZSBjb250cm9sbGVyIHVzaW5nIGB0aGlzYDpcbiAqIGBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiYFxuICogKiBvbmUgaW5qZWN0cyBgJHNjb3BlYCBpbnRvIHRoZSBjb250cm9sbGVyOlxuICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCJgXG4gKlxuICogVGhlIHNlY29uZCBvcHRpb24gaXMgbW9yZSBjb21tb24gaW4gdGhlIEFuZ3VsYXIgY29tbXVuaXR5LCBhbmQgaXMgZ2VuZXJhbGx5IHVzZWQgaW4gYm9pbGVycGxhdGVzXG4gKiBhbmQgaW4gdGhpcyBndWlkZS4gSG93ZXZlciwgdGhlcmUgYXJlIGFkdmFudGFnZXMgdG8gYmluZGluZyBwcm9wZXJ0aWVzIGRpcmVjdGx5IHRvIHRoZSBjb250cm9sbGVyXG4gKiBhbmQgYXZvaWRpbmcgc2NvcGUuXG4gKlxuICogKiBVc2luZyBgY29udHJvbGxlciBhc2AgbWFrZXMgaXQgb2J2aW91cyB3aGljaCBjb250cm9sbGVyIHlvdSBhcmUgYWNjZXNzaW5nIGluIHRoZSB0ZW1wbGF0ZSB3aGVuXG4gKiBtdWx0aXBsZSBjb250cm9sbGVycyBhcHBseSB0byBhbiBlbGVtZW50LlxuICogKiBJZiB5b3UgYXJlIHdyaXRpbmcgeW91ciBjb250cm9sbGVycyBhcyBjbGFzc2VzIHlvdSBoYXZlIGVhc2llciBhY2Nlc3MgdG8gdGhlIHByb3BlcnRpZXMgYW5kXG4gKiBtZXRob2RzLCB3aGljaCB3aWxsIGFwcGVhciBvbiB0aGUgc2NvcGUsIGZyb20gaW5zaWRlIHRoZSBjb250cm9sbGVyIGNvZGUuXG4gKiAqIFNpbmNlIHRoZXJlIGlzIGFsd2F5cyBhIGAuYCBpbiB0aGUgYmluZGluZ3MsIHlvdSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHByb3RvdHlwYWxcbiAqIGluaGVyaXRhbmNlIG1hc2tpbmcgcHJpbWl0aXZlcy5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBgY29udHJvbGxlciBhc2Agc3ludGF4LlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0NvbnRyb2xsZXJBc1wiIG1vZHVsZT1cImNvbnRyb2xsZXJBc0V4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgIDxkaXYgaWQ9XCJjdHJsLWFzLWV4bXBsXCIgbmctY29udHJvbGxlcj1cIlNldHRpbmdzQ29udHJvbGxlcjEgYXMgc2V0dGluZ3NcIj5cbiAqICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic2V0dGluZ3MubmFtZVwiLz48L2xhYmVsPlxuICogICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuZ3JlZXQoKVwiPmdyZWV0PC9idXR0b24+PGJyLz5cbiAqICAgICAgQ29udGFjdDpcbiAqICAgICAgPHVsPlxuICogICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzXCI+XG4gKiAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwiY29udGFjdC50eXBlXCIgYXJpYS1sYWJlbD1cIkNvbnRhY3QgbWV0aG9kXCIgaWQ9XCJzZWxlY3Rfe3skaW5kZXh9fVwiPlxuICogICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxuICogICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPlxuICogICAgICAgICAgPC9zZWxlY3Q+XG4gKiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIiBhcmlhLWxhYmVsbGVkYnk9XCJzZWxlY3Rfe3skaW5kZXh9fVwiIC8+XG4gKiAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuY2xlYXJDb250YWN0KGNvbnRhY3QpXCI+Y2xlYXI8L2J1dHRvbj5cbiAqICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5yZW1vdmVDb250YWN0KGNvbnRhY3QpXCIgYXJpYS1sYWJlbD1cIlJlbW92ZVwiPlg8L2J1dHRvbj5cbiAqICAgICAgICA8L2xpPlxuICogICAgICAgIDxsaT48YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuYWRkQ29udGFjdCgpXCI+YWRkPC9idXR0b24+PC9saT5cbiAqICAgICA8L3VsPlxuICogICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJBc0V4YW1wbGUnLCBbXSlcbiAqICAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjEnLCBTZXR0aW5nc0NvbnRyb2xsZXIxKTtcbiAqXG4gKiAgICBmdW5jdGlvbiBTZXR0aW5nc0NvbnRyb2xsZXIxKCkge1xuICogICAgICB0aGlzLm5hbWUgPSBcIkpvaG4gU21pdGhcIjtcbiAqICAgICAgdGhpcy5jb250YWN0cyA9IFtcbiAqICAgICAgICB7dHlwZTogJ3Bob25lJywgdmFsdWU6ICc0MDggNTU1IDEyMTInfSxcbiAqICAgICAgICB7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICdqb2huLnNtaXRoQGV4YW1wbGUub3JnJ30gXTtcbiAqICAgIH1cbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICBhbGVydCh0aGlzLm5hbWUpO1xuICogICAgfTtcbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgIHRoaXMuY29udGFjdHMucHVzaCh7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICd5b3VybmFtZUBleGFtcGxlLm9yZyd9KTtcbiAqICAgIH07XG4gKlxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUucmVtb3ZlQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3RUb1JlbW92ZSkge1xuICogICAgIHZhciBpbmRleCA9IHRoaXMuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpO1xuICogICAgICB0aGlzLmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XG4gKiAgICB9O1xuICpcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmNsZWFyQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcbiAqICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcbiAqICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xuICogICAgfTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoJ3Nob3VsZCBjaGVjayBjb250cm9sbGVyIGFzJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1hcy1leG1wbCcpKTtcbiAqICAgICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5Lm1vZGVsKCdzZXR0aW5ncy5uYW1lJykpXG4gKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xuICpcbiAqICAgICAgIHZhciBmaXJzdFJlcGVhdCA9XG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMCkpO1xuICogICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMSkpO1xuICpcbiAqICAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XG4gKlxuICogICAgICAgZXhwZWN0KHNlY29uZFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xuICpcbiAqICAgICAgIGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnY2xlYXInKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAgLnRvQmUoJycpO1xuICpcbiAqICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2FkZCcpKS5jbGljaygpO1xuICpcbiAqICAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygyKSlcbiAqICAgICAgICAgICAuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKVxuICogICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7XG4gKiAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBcImF0dGFjaCB0byBgJHNjb3BlYFwiIHN0eWxlIG9mIGNvbnRyb2xsZXIuXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nQ29udHJvbGxlclwiIG1vZHVsZT1cImNvbnRyb2xsZXJFeGFtcGxlXCI+XG4gKiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgPGRpdiBpZD1cImN0cmwtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMlwiPlxuICogICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIi8+PC9sYWJlbD5cbiAqICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZ3JlZXQoKVwiPmdyZWV0PC9idXR0b24+PGJyLz5cbiAqICAgICBDb250YWN0OlxuICogICAgIDx1bD5cbiAqICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG4gKiAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XG4gKiAgICAgICAgICAgIDxvcHRpb24+cGhvbmU8L29wdGlvbj5cbiAqICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPlxuICogICAgICAgICA8L3NlbGVjdD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJjb250YWN0LnZhbHVlXCIgYXJpYS1sYWJlbGxlZGJ5PVwic2VsZWN0X3t7JGluZGV4fX1cIiAvPlxuICogICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY2xlYXJDb250YWN0KGNvbnRhY3QpXCI+Y2xlYXI8L2J1dHRvbj5cbiAqICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlbW92ZUNvbnRhY3QoY29udGFjdClcIj5YPC9idXR0b24+XG4gKiAgICAgICA8L2xpPlxuICogICAgICAgPGxpPlsgPGJ1dHRvbiBuZy1jbGljaz1cImFkZENvbnRhY3QoKVwiPmFkZDwvYnV0dG9uPiBdPC9saT5cbiAqICAgIDwvdWw+XG4gKiAgIDwvZGl2PlxuICogIDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgIGFuZ3VsYXIubW9kdWxlKCdjb250cm9sbGVyRXhhbXBsZScsIFtdKVxuICogICAgIC5jb250cm9sbGVyKCdTZXR0aW5nc0NvbnRyb2xsZXIyJywgWyckc2NvcGUnLCBTZXR0aW5nc0NvbnRyb2xsZXIyXSk7XG4gKlxuICogICBmdW5jdGlvbiBTZXR0aW5nc0NvbnRyb2xsZXIyKCRzY29wZSkge1xuICogICAgICRzY29wZS5uYW1lID0gXCJKb2huIFNtaXRoXCI7XG4gKiAgICAgJHNjb3BlLmNvbnRhY3RzID0gW1xuICogICAgICAge3R5cGU6J3Bob25lJywgdmFsdWU6JzQwOCA1NTUgMTIxMid9LFxuICogICAgICAge3R5cGU6J2VtYWlsJywgdmFsdWU6J2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnfSBdO1xuICpcbiAqICAgICAkc2NvcGUuZ3JlZXQgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgIGFsZXJ0KCRzY29wZS5uYW1lKTtcbiAqICAgICB9O1xuICpcbiAqICAgICAkc2NvcGUuYWRkQ29udGFjdCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgJHNjb3BlLmNvbnRhY3RzLnB1c2goe3R5cGU6J2VtYWlsJywgdmFsdWU6J3lvdXJuYW1lQGV4YW1wbGUub3JnJ30pO1xuICogICAgIH07XG4gKlxuICogICAgICRzY29wZS5yZW1vdmVDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdFRvUmVtb3ZlKSB7XG4gKiAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpO1xuICogICAgICAgJHNjb3BlLmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XG4gKiAgICAgfTtcbiAqXG4gKiAgICAgJHNjb3BlLmNsZWFyQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcbiAqICAgICAgIGNvbnRhY3QudHlwZSA9ICdwaG9uZSc7XG4gKiAgICAgICBjb250YWN0LnZhbHVlID0gJyc7XG4gKiAgICAgfTtcbiAqICAgfVxuICogIDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICBpdCgnc2hvdWxkIGNoZWNrIGNvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcbiAqICAgICAgdmFyIGNvbnRhaW5lciA9IGVsZW1lbnQoYnkuaWQoJ2N0cmwtZXhtcGwnKSk7XG4gKlxuICogICAgICBleHBlY3QoY29udGFpbmVyLmVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSlcbiAqICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJ0pvaG4gU21pdGgnKTtcbiAqXG4gKiAgICAgIHZhciBmaXJzdFJlcGVhdCA9XG4gKiAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygwKSk7XG4gKiAgICAgIHZhciBzZWNvbmRSZXBlYXQgPVxuICogICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gY29udGFjdHMnKS5yb3coMSkpO1xuICpcbiAqICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgLnRvQmUoJzQwOCA1NTUgMTIxMicpO1xuICogICAgICBleHBlY3Qoc2Vjb25kUmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgLnRvQmUoJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnKTtcbiAqXG4gKiAgICAgIGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnY2xlYXInKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgIC50b0JlKCcnKTtcbiAqXG4gKiAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2FkZCcpKS5jbGljaygpO1xuICpcbiAqICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDIpKVxuICogICAgICAgICAgLmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSlcbiAqICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcbiAqICAgIH0pO1xuICogIDwvZmlsZT5cbiAqPC9leGFtcGxlPlxuXG4gKi9cbnZhciBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUgPSBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnQCcsXG4gICAgcHJpb3JpdHk6IDUwMFxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDc3BcbiAqXG4gKiBAZWxlbWVudCBodG1sXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBBbmd1bGFyIGhhcyBzb21lIGZlYXR1cmVzIHRoYXQgY2FuIGJyZWFrIGNlcnRhaW5cbiAqIFtDU1AgKENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vU2VjdXJpdHkvQ1NQKSBydWxlcy5cbiAqXG4gKiBJZiB5b3UgaW50ZW5kIHRvIGltcGxlbWVudCB0aGVzZSBydWxlcyB0aGVuIHlvdSBtdXN0IHRlbGwgQW5ndWxhciBub3QgdG8gdXNlIHRoZXNlIGZlYXR1cmVzLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gZGV2ZWxvcGluZyB0aGluZ3MgbGlrZSBHb29nbGUgQ2hyb21lIEV4dGVuc2lvbnMgb3IgVW5pdmVyc2FsIFdpbmRvd3MgQXBwcy5cbiAqXG4gKlxuICogVGhlIGZvbGxvd2luZyBydWxlcyBhZmZlY3QgQW5ndWxhcjpcbiAqXG4gKiAqIGB1bnNhZmUtZXZhbGA6IHRoaXMgcnVsZSBmb3JiaWRzIGFwcHMgdG8gdXNlIGBldmFsYCBvciBgRnVuY3Rpb24oc3RyaW5nKWAgZ2VuZXJhdGVkIGZ1bmN0aW9uc1xuICogKGFtb25nIG90aGVyIHRoaW5ncykuIEFuZ3VsYXIgbWFrZXMgdXNlIG9mIHRoaXMgaW4gdGhlIHtAbGluayAkcGFyc2V9IHNlcnZpY2UgdG8gcHJvdmlkZSBhIDMwJVxuICogaW5jcmVhc2UgaW4gdGhlIHNwZWVkIG9mIGV2YWx1YXRpbmcgQW5ndWxhciBleHByZXNzaW9ucy5cbiAqXG4gKiAqIGB1bnNhZmUtaW5saW5lYDogdGhpcyBydWxlIGZvcmJpZHMgYXBwcyBmcm9tIGluamVjdCBjdXN0b20gc3R5bGVzIGludG8gdGhlIGRvY3VtZW50LiBBbmd1bGFyXG4gKiBtYWtlcyB1c2Ugb2YgdGhpcyB0byBpbmNsdWRlIHNvbWUgQ1NTIHJ1bGVzIChlLmcuIHtAbGluayBuZ0Nsb2FrfSBhbmQge0BsaW5rIG5nSGlkZX0pLlxuICogVG8gbWFrZSB0aGVzZSBkaXJlY3RpdmVzIHdvcmsgd2hlbiBhIENTUCBydWxlIGlzIGJsb2NraW5nIGlubGluZSBzdHlsZXMsIHlvdSBtdXN0IGxpbmsgdG8gdGhlXG4gKiBgYW5ndWxhci1jc3AuY3NzYCBpbiB5b3VyIEhUTUwgbWFudWFsbHkuXG4gKlxuICogSWYgeW91IGRvIG5vdCBwcm92aWRlIGBuZ0NzcGAgdGhlbiBBbmd1bGFyIHRyaWVzIHRvIGF1dG9kZXRlY3QgaWYgQ1NQIGlzIGJsb2NraW5nIHVuc2FmZS1ldmFsXG4gKiBhbmQgYXV0b21hdGljYWxseSBkZWFjdGl2YXRlcyB0aGlzIGZlYXR1cmUgaW4gdGhlIHtAbGluayAkcGFyc2V9IHNlcnZpY2UuIFRoaXMgYXV0b2RldGVjdGlvbixcbiAqIGhvd2V2ZXIsIHRyaWdnZXJzIGEgQ1NQIGVycm9yIHRvIGJlIGxvZ2dlZCBpbiB0aGUgY29uc29sZTpcbiAqXG4gKiBgYGBcbiAqIFJlZnVzZWQgdG8gZXZhbHVhdGUgYSBzdHJpbmcgYXMgSmF2YVNjcmlwdCBiZWNhdXNlICd1bnNhZmUtZXZhbCcgaXMgbm90IGFuIGFsbG93ZWQgc291cmNlIG9mXG4gKiBzY3JpcHQgaW4gdGhlIGZvbGxvd2luZyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBkaXJlY3RpdmU6IFwiZGVmYXVsdC1zcmMgJ3NlbGYnXCIuIE5vdGUgdGhhdFxuICogJ3NjcmlwdC1zcmMnIHdhcyBub3QgZXhwbGljaXRseSBzZXQsIHNvICdkZWZhdWx0LXNyYycgaXMgdXNlZCBhcyBhIGZhbGxiYWNrLlxuICogYGBgXG4gKlxuICogVGhpcyBlcnJvciBpcyBoYXJtbGVzcyBidXQgYW5ub3lpbmcuIFRvIHByZXZlbnQgdGhlIGVycm9yIGZyb20gc2hvd2luZyB1cCwgcHV0IHRoZSBgbmdDc3BgXG4gKiBkaXJlY3RpdmUgb24gYW4gZWxlbWVudCBvZiB0aGUgSFRNTCBkb2N1bWVudCB0aGF0IGFwcGVhcnMgYmVmb3JlIHRoZSBgPHNjcmlwdD5gIHRhZyB0aGF0IGxvYWRzXG4gKiB0aGUgYGFuZ3VsYXIuanNgIGZpbGUuXG4gKlxuICogKk5vdGU6IFRoaXMgZGlyZWN0aXZlIGlzIG9ubHkgYXZhaWxhYmxlIGluIHRoZSBgbmctY3NwYCBhbmQgYGRhdGEtbmctY3NwYCBhdHRyaWJ1dGUgZm9ybS4qXG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IHdoaWNoIG9mIHRoZSBDU1AgcmVsYXRlZCBBbmd1bGFyIGZlYXR1cmVzIHNob3VsZCBiZSBkZWFjdGl2YXRlZCBieSBwcm92aWRpbmdcbiAqIGEgdmFsdWUgZm9yIHRoZSBgbmctY3NwYCBhdHRyaWJ1dGUuIFRoZSBvcHRpb25zIGFyZSBhcyBmb2xsb3dzOlxuICpcbiAqICogbm8taW5saW5lLXN0eWxlOiB0aGlzIHN0b3BzIEFuZ3VsYXIgZnJvbSBpbmplY3RpbmcgQ1NTIHN0eWxlcyBpbnRvIHRoZSBET01cbiAqXG4gKiAqIG5vLXVuc2FmZS1ldmFsOiB0aGlzIHN0b3BzIEFuZ3VsYXIgZnJvbSBvcHRpbWlzaW5nICRwYXJzZSB3aXRoIHVuc2FmZSBldmFsIG9mIHN0cmluZ3NcbiAqXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSB2YWx1ZXMgaW4gdGhlIGZvbGxvd2luZyBjb21iaW5hdGlvbnM6XG4gKlxuICpcbiAqICogTm8gZGVjbGFyYXRpb24gbWVhbnMgdGhhdCBBbmd1bGFyIHdpbGwgYXNzdW1lIHRoYXQgeW91IGNhbiBkbyBpbmxpbmUgc3R5bGVzLCBidXQgaXQgd2lsbCBkb1xuICogYSBydW50aW1lIGNoZWNrIGZvciB1bnNhZmUtZXZhbC4gRS5nLiBgPGJvZHk+YC4gVGhpcyBpcyBiYWNrd2FyZGx5IGNvbXBhdGlibGUgd2l0aCBwcmV2aW91cyB2ZXJzaW9uc1xuICogb2YgQW5ndWxhci5cbiAqXG4gKiAqIEEgc2ltcGxlIGBuZy1jc3BgIChvciBgZGF0YS1uZy1jc3BgKSBhdHRyaWJ1dGUgd2lsbCB0ZWxsIEFuZ3VsYXIgdG8gZGVhY3RpdmF0ZSBib3RoIGlubGluZVxuICogc3R5bGVzIGFuZCB1bnNhZmUgZXZhbC4gRS5nLiBgPGJvZHkgbmctY3NwPmAuIFRoaXMgaXMgYmFja3dhcmRseSBjb21wYXRpYmxlIHdpdGggcHJldmlvdXMgdmVyc2lvbnNcbiAqIG9mIEFuZ3VsYXIuXG4gKlxuICogKiBTcGVjaWZ5aW5nIG9ubHkgYG5vLXVuc2FmZS1ldmFsYCB0ZWxscyBBbmd1bGFyIHRoYXQgd2UgbXVzdCBub3QgdXNlIGV2YWwsIGJ1dCB0aGF0IHdlIGNhbiBpbmplY3RcbiAqIGlubGluZSBzdHlsZXMuIEUuZy4gYDxib2R5IG5nLWNzcD1cIm5vLXVuc2FmZS1ldmFsXCI+YC5cbiAqXG4gKiAqIFNwZWNpZnlpbmcgb25seSBgbm8taW5saW5lLXN0eWxlYCB0ZWxscyBBbmd1bGFyIHRoYXQgd2UgbXVzdCBub3QgaW5qZWN0IHN0eWxlcywgYnV0IHRoYXQgd2UgY2FuXG4gKiBydW4gZXZhbCAtIG5vIGF1dG9tY2F0aWMgY2hlY2sgZm9yIHVuc2FmZSBldmFsIHdpbGwgb2NjdXIuIEUuZy4gYDxib2R5IG5nLWNzcD1cIm5vLWlubGluZS1zdHlsZVwiPmBcbiAqXG4gKiAqIFNwZWNpZnlpbmcgYm90aCBgbm8tdW5zYWZlLWV2YWxgIGFuZCBgbm8taW5saW5lLXN0eWxlYCB0ZWxscyBBbmd1bGFyIHRoYXQgd2UgbXVzdCBub3QgaW5qZWN0XG4gKiBzdHlsZXMgbm9yIHVzZSBldmFsLCB3aGljaCBpcyB0aGUgc2FtZSBhcyBhbiBlbXB0eTogbmctY3NwLlxuICogRS5nLmA8Ym9keSBuZy1jc3A9XCJuby1pbmxpbmUtc3R5bGU7bm8tdW5zYWZlLWV2YWxcIj5gXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gYXBwbHkgdGhlIGBuZ0NzcGAgZGlyZWN0aXZlIHRvIHRoZSBgaHRtbGAgdGFnLlxuICAgYGBgaHRtbFxuICAgICA8IWRvY3R5cGUgaHRtbD5cbiAgICAgPGh0bWwgbmctYXBwIG5nLWNzcD5cbiAgICAgLi4uXG4gICAgIC4uLlxuICAgICA8L2h0bWw+XG4gICBgYGBcbiAgKiBAZXhhbXBsZVxuICAgICAgLy8gTm90ZTogdGhlIHN1ZmZpeCBgLmNzcGAgaW4gdGhlIGV4YW1wbGUgbmFtZSB0cmlnZ2Vyc1xuICAgICAgLy8gY3NwIG1vZGUgaW4gb3VyIGh0dHAgc2VydmVyIVxuICAgICAgPGV4YW1wbGUgbmFtZT1cImV4YW1wbGUuY3NwXCIgbW9kdWxlPVwiY3NwRXhhbXBsZVwiIG5nLWNzcD1cInRydWVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNYWluQ29udHJvbGxlciBhcyBjdHJsXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY3RybC5pbmMoKVwiIGlkPVwiaW5jXCI+SW5jcmVtZW50PC9idXR0b24+XG4gICAgICAgICAgICAgIDxzcGFuIGlkPVwiY291bnRlclwiPlxuICAgICAgICAgICAgICAgIHt7Y3RybC5jb3VudGVyfX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmV2aWwoKVwiIGlkPVwiZXZpbFwiPkV2aWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJldmlsRXJyb3JcIj5cbiAgICAgICAgICAgICAgICB7e2N0cmwuZXZpbEVycm9yfX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3NwRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnRlciA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRlcisrO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5ldmlsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAvLyBqc2hpbnQgZXZpbDp0cnVlXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBldmFsKCcxKzInKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmlsRXJyb3IgPSBlLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB1dGlsLCB3ZWJkcml2ZXI7XG5cbiAgICAgICAgICB2YXIgaW5jQnRuID0gZWxlbWVudChieS5pZCgnaW5jJykpO1xuICAgICAgICAgIHZhciBjb3VudGVyID0gZWxlbWVudChieS5pZCgnY291bnRlcicpKTtcbiAgICAgICAgICB2YXIgZXZpbEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2V2aWwnKSk7XG4gICAgICAgICAgdmFyIGV2aWxFcnJvciA9IGVsZW1lbnQoYnkuaWQoJ2V2aWxFcnJvcicpKTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIubWFuYWdlKCkubG9ncygpLmdldCgnYnJvd3NlcicpLnRoZW4oZnVuY3Rpb24oYnJvd3NlckxvZykge1xuICAgICAgICAgICAgICByZXR1cm4gYnJvd3NlckxvZy5maWx0ZXIoZnVuY3Rpb24obG9nRW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9nRW50cnkubGV2ZWwudmFsdWUgPiB3ZWJkcml2ZXIubG9nZ2luZy5MZXZlbC5XQVJOSU5HLnZhbHVlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGNsZWFyRXJyb3JzKCkge1xuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBleHBlY3ROb0Vycm9ycygpIHtcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xuICAgICAgICAgICAgICBleHBlY3QoZmlsdGVyZWRMb2cubGVuZ3RoKS50b0VxdWFsKDApO1xuICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRMb2cubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Jyb3dzZXIgY29uc29sZSBlcnJvcnM6ICcgKyB1dGlsLmluc3BlY3QoZmlsdGVyZWRMb2cpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZXhwZWN0RXJyb3IocmVnZXgpIHtcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xuICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgZmlsdGVyZWRMb2cuZm9yRWFjaChmdW5jdGlvbihsb2cpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9nLm1lc3NhZ2UubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgYW4gZXJyb3IgdGhhdCBtYXRjaGVzICcgKyByZWdleCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJlZm9yZUVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xuICAgICAgICAgICAgd2ViZHJpdmVyID0gcmVxdWlyZSgncHJvdHJhY3Rvci9ub2RlX21vZHVsZXMvc2VsZW5pdW0td2ViZHJpdmVyJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBGb3Igbm93LCB3ZSBvbmx5IHRlc3Qgb24gQ2hyb21lLFxuICAgICAgICAgIC8vIGFzIFNhZmFyaSBkb2VzIG5vdCBsb2FkIHRoZSBwYWdlIHdpdGggUHJvdHJhY3RvcidzIGluamVjdGVkIHNjcmlwdHMsXG4gICAgICAgICAgLy8gYW5kIEZpcmVmb3ggd2ViZHJpdmVyIGFsd2F5cyBkaXNhYmxlcyBjb250ZW50IHNlY3VyaXR5IHBvbGljeSAoIzYzNTgpXG4gICAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgIT09ICdjaHJvbWUnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBub3QgcmVwb3J0IGVycm9ycyB3aGVuIHRoZSBwYWdlIGlzIGxvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gY2xlYXIgZXJyb3JzIHNvIHdlIGFyZSBub3QgZGVwZW5kZW50IG9uIHByZXZpb3VzIHRlc3RzXG4gICAgICAgICAgICBjbGVhckVycm9ycygpO1xuICAgICAgICAgICAgLy8gTmVlZCB0byByZWxvYWQgdGhlIHBhZ2UgYXMgdGhlIHBhZ2UgaXMgYWxyZWFkeSBsb2FkZWQgd2hlblxuICAgICAgICAgICAgLy8gd2UgY29tZSBoZXJlXG4gICAgICAgICAgICBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgYnJvd3Nlci5nZXQodXJsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgZXZhbHVhdGUgZXhwcmVzc2lvbnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9FcXVhbCgnMCcpO1xuICAgICAgICAgICAgaW5jQnRuLmNsaWNrKCk7XG4gICAgICAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvRXF1YWwoJzEnKTtcbiAgICAgICAgICAgIGV4cGVjdE5vRXJyb3JzKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIHRocm93IGFuZCByZXBvcnQgYW4gZXJyb3Igd2hlbiB1c2luZyBcImV2YWxcIicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXZpbEJ0bi5jbGljaygpO1xuICAgICAgICAgICAgZXhwZWN0KGV2aWxFcnJvci5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5Lyk7XG4gICAgICAgICAgICBleHBlY3RFcnJvcigvQ29udGVudCBTZWN1cml0eSBQb2xpY3kvKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAqL1xuXG4vLyBuZ0NzcCBpcyBub3QgaW1wbGVtZW50ZWQgYXMgYSBwcm9wZXIgZGlyZWN0aXZlIGFueSBtb3JlLCBiZWNhdXNlIHdlIG5lZWQgaXQgYmUgcHJvY2Vzc2VkIHdoaWxlIHdlXG4vLyBib290c3RyYXAgdGhlIHN5c3RlbSAoYmVmb3JlICRwYXJzZSBpcyBpbnN0YW50aWF0ZWQpLCBmb3IgdGhpcyByZWFzb24gd2UganVzdCBoYXZlXG4vLyB0aGUgY3NwKCkgZm4gdGhhdCBsb29rcyBmb3IgdGhlIGBuZy1jc3BgIGF0dHJpYnV0ZSBhbnl3aGVyZSBpbiB0aGUgY3VycmVudCBkb2NcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsaWNrXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbmdDbGljayBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciB3aGVuXG4gKiBhbiBlbGVtZW50IGlzIGNsaWNrZWQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsaWNrIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGNsaWNrLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnRcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPHNwYW4+XG4gICAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnY291bnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKCcwJyk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnYnV0dG9uJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzEnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4vKlxuICogQSBjb2xsZWN0aW9uIG9mIGRpcmVjdGl2ZXMgdGhhdCBhbGxvd3MgY3JlYXRpb24gb2YgY3VzdG9tIGV2ZW50IGhhbmRsZXJzIHRoYXQgYXJlIGRlZmluZWQgYXNcbiAqIGFuZ3VsYXIgZXhwcmVzc2lvbnMgYW5kIGFyZSBjb21waWxlZCBhbmQgZXhlY3V0ZWQgd2l0aGluIHRoZSBjdXJyZW50IHNjb3BlLlxuICovXG52YXIgbmdFdmVudERpcmVjdGl2ZXMgPSB7fTtcblxuLy8gRm9yIGV2ZW50cyB0aGF0IG1pZ2h0IGZpcmUgc3luY2hyb25vdXNseSBkdXJpbmcgRE9NIG1hbmlwdWxhdGlvblxuLy8gd2UgbmVlZCB0byBleGVjdXRlIHRoZWlyIGV2ZW50IGhhbmRsZXJzIGFzeW5jaHJvbm91c2x5IHVzaW5nICRldmFsQXN5bmMsXG4vLyBzbyB0aGF0IHRoZXkgYXJlIG5vdCBleGVjdXRlZCBpbiBhbiBpbmNvbnNpc3RlbnQgc3RhdGUuXG52YXIgZm9yY2VBc3luY0V2ZW50cyA9IHtcbiAgJ2JsdXInOiB0cnVlLFxuICAnZm9jdXMnOiB0cnVlXG59O1xuZm9yRWFjaChcbiAgJ2NsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGUnLnNwbGl0KCcgJyksXG4gIGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgIHZhciBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgZXZlbnROYW1lKTtcbiAgICBuZ0V2ZW50RGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IFsnJHBhcnNlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcGFyc2UsICRyb290U2NvcGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCRlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICAgLy8gV2UgZXhwb3NlIHRoZSBwb3dlcmZ1bCAkZXZlbnQgb2JqZWN0IG9uIHRoZSBzY29wZSB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgV2luZG93LFxuICAgICAgICAgIC8vIGV0Yy4gdGhhdCBpc24ndCBwcm90ZWN0ZWQgYnkgdGhlIGZhc3QgcGF0aHMgaW4gJHBhcnNlLiAgV2UgZXhwbGljaXRseSByZXF1ZXN0IGJldHRlclxuICAgICAgICAgIC8vIGNoZWNrcyBhdCB0aGUgY29zdCBvZiBzcGVlZCBzaW5jZSBldmVudCBoYW5kbGVyIGV4cHJlc3Npb25zIGFyZSBub3QgZXhlY3V0ZWQgYXNcbiAgICAgICAgICAvLyBmcmVxdWVudGx5IGFzIHJlZ3VsYXIgY2hhbmdlIGRldGVjdGlvbi5cbiAgICAgICAgICB2YXIgZm4gPSAkcGFyc2UoYXR0cltkaXJlY3RpdmVOYW1lXSwgLyogaW50ZXJjZXB0b3JGbiAqLyBudWxsLCAvKiBleHBlbnNpdmVDaGVja3MgKi8gdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nRXZlbnRIYW5kbGVyKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50Lm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZm4oc2NvcGUsIHskZXZlbnQ6ZXZlbnR9KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaWYgKGZvcmNlQXN5bmNFdmVudHNbZXZlbnROYW1lXSAmJiAkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dO1xuICB9XG4pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRGJsY2xpY2tcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdEYmxjbGlja2AgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gYSBkYmxjbGljayBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGJsY2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogYSBkYmxjbGljay4gKFRoZSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctZGJsY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAob24gZG91YmxlIGNsaWNrKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZWRvd25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBuZ01vdXNlZG93biBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWRvd24gZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlZG93biB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWRvd24uICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2Vkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIGRvd24pXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNldXBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNldXAgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNldXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2V1cC4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZXVwPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIHVwKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VvdmVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZW92ZXIgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlb3ZlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZW92ZXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2VvdmVyPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgaXMgb3ZlcilcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VlbnRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VlbnRlciBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VlbnRlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWVudGVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlZW50ZXI9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBlbnRlcnMpXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlbGVhdmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbGVhdmUgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlbGVhdmUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2VsZWF2ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZWxlYXZlPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgbGVhdmVzKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZW1vdmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbW92ZSBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vtb3ZlIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlbW92ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZW1vdmU9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBtb3ZlcylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nS2V5ZG93blxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5ZG93biBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5ZG93biB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBrZXlkb3duLiAoRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YCBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1rZXlkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAga2V5IGRvd24gY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nS2V5dXBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleXVwIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXl1cCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBrZXl1cC4gKEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAgYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLilcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHA+VHlwaW5nIGluIHRoZSBpbnB1dCBib3ggYmVsb3cgdXBkYXRlcyB0aGUga2V5IGNvdW50PC9wPlxuICAgICAgIDxpbnB1dCBuZy1rZXl1cD1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj4ga2V5IHVwIGNvdW50OiB7e2NvdW50fX1cblxuICAgICAgIDxwPlR5cGluZyBpbiB0aGUgaW5wdXQgYm94IGJlbG93IHVwZGF0ZXMgdGhlIGtleWNvZGU8L3A+XG4gICAgICAgPGlucHV0IG5nLWtleXVwPVwiZXZlbnQ9JGV2ZW50XCI+XG4gICAgICAgPHA+ZXZlbnQga2V5Q29kZToge3sgZXZlbnQua2V5Q29kZSB9fTwvcD5cbiAgICAgICA8cD5ldmVudCBhbHRLZXk6IHt7IGV2ZW50LmFsdEtleSB9fTwvcD5cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0tleXByZXNzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlwcmVzcyBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlwcmVzcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBrZXlwcmVzcy4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH1cbiAqIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWtleXByZXNzPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAga2V5IHByZXNzIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1N1Ym1pdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRW5hYmxlcyBiaW5kaW5nIGFuZ3VsYXIgZXhwcmVzc2lvbnMgdG8gb25zdWJtaXQgZXZlbnRzLlxuICpcbiAqIEFkZGl0aW9uYWxseSBpdCBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKHdoaWNoIGZvciBmb3JtIG1lYW5zIHNlbmRpbmcgdGhlIHJlcXVlc3QgdG8gdGhlXG4gKiBzZXJ2ZXIgYW5kIHJlbG9hZGluZyB0aGUgY3VycmVudCBwYWdlKSwgYnV0IG9ubHkgaWYgdGhlIGZvcm0gZG9lcyBub3QgY29udGFpbiBgYWN0aW9uYCxcbiAqIGBkYXRhLWFjdGlvbmAsIG9yIGB4LWFjdGlvbmAgYXR0cmlidXRlcy5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipXYXJuaW5nOioqIEJlIGNhcmVmdWwgbm90IHRvIGNhdXNlIFwiZG91YmxlLXN1Ym1pc3Npb25cIiBieSB1c2luZyBib3RoIHRoZSBgbmdDbGlja2AgYW5kXG4gKiBgbmdTdWJtaXRgIGhhbmRsZXJzIHRvZ2V0aGVyLiBTZWUgdGhlXG4gKiB7QGxpbmsgZm9ybSNzdWJtaXR0aW5nLWEtZm9ybS1hbmQtcHJldmVudGluZy10aGUtZGVmYXVsdC1hY3Rpb24gYGZvcm1gIGRpcmVjdGl2ZSBkb2N1bWVudGF0aW9ufVxuICogZm9yIGEgZGV0YWlsZWQgZGlzY3Vzc2lvbiBvZiB3aGVuIGBuZ1N1Ym1pdGAgbWF5IGJlIHRyaWdnZXJlZC5cbiAqIDwvZGl2PlxuICpcbiAqIEBlbGVtZW50IGZvcm1cbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3VibWl0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuXG4gKiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwic3VibWl0RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3N1Ym1pdEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBbXTtcbiAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJ2hlbGxvJztcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS50ZXh0KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QucHVzaCh0aGlzLnRleHQpO1xuICAgICAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuZy1zdWJtaXQ9XCJzdWJtaXQoKVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICBFbnRlciB0ZXh0IGFuZCBoaXQgZW50ZXI6XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidGV4dFwiIG5hbWU9XCJ0ZXh0XCIgLz5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiBpZD1cInN1Ym1pdFwiIHZhbHVlPVwiU3VibWl0XCIgLz5cbiAgICAgICAgPHByZT5saXN0PXt7bGlzdH19PC9wcmU+XG4gICAgICA8L2Zvcm0+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3VibWl0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9CZSgnbGlzdD1bXScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2hlbGxvJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndGV4dCcpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJycpO1xuICAgICAgIH0pO1xuICAgICAgIGl0KCdzaG91bGQgaWdub3JlIGVtcHR5IHN0cmluZ3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0PVtdJyk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2hlbGxvJyk7XG4gICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0ZvY3VzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBmb2N1cyBldmVudC5cbiAqXG4gKiBOb3RlOiBBcyB0aGUgYGZvY3VzYCBldmVudCBpcyBleGVjdXRlZCBzeW5jaHJvbm91c2x5IHdoZW4gY2FsbGluZyBgaW5wdXQuZm9jdXMoKWBcbiAqIEFuZ3VsYXJKUyBleGVjdXRlcyB0aGUgZXhwcmVzc2lvbiB1c2luZyBgc2NvcGUuJGV2YWxBc3luY2AgaWYgdGhlIGV2ZW50IGlzIGZpcmVkXG4gKiBkdXJpbmcgYW4gYCRhcHBseWAgdG8gZW5zdXJlIGEgY29uc2lzdGVudCBzdGF0ZS5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0ZvY3VzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGZvY3VzLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICogU2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfVxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdCbHVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBibHVyIGV2ZW50LlxuICpcbiAqIEEgW2JsdXIgZXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy9ibHVyKSBmaXJlcyB3aGVuXG4gKiBhbiBlbGVtZW50IGhhcyBsb3N0IGZvY3VzLlxuICpcbiAqIE5vdGU6IEFzIHRoZSBgYmx1cmAgZXZlbnQgaXMgZXhlY3V0ZWQgc3luY2hyb25vdXNseSBhbHNvIGR1cmluZyBET00gbWFuaXB1bGF0aW9uc1xuICogKGUuZy4gcmVtb3ZpbmcgYSBmb2N1c3NlZCBpbnB1dCksXG4gKiBBbmd1bGFySlMgZXhlY3V0ZXMgdGhlIGV4cHJlc3Npb24gdXNpbmcgYHNjb3BlLiRldmFsQXN5bmNgIGlmIHRoZSBldmVudCBpcyBmaXJlZFxuICogZHVyaW5nIGFuIGAkYXBwbHlgIHRvIGVuc3VyZSBhIGNvbnNpc3RlbnQgc3RhdGUuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCbHVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGJsdXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NvcHlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGNvcHkgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb3B5IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGNvcHkuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1jb3B5PVwiY29waWVkPXRydWVcIiBuZy1pbml0PVwiY29waWVkPWZhbHNlOyB2YWx1ZT0nY29weSBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XG4gICAgICBjb3BpZWQ6IHt7Y29waWVkfX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDdXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGN1dCBldmVudC5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0N1dCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBjdXQuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1jdXQ9XCJjdXQ9dHJ1ZVwiIG5nLWluaXQ9XCJjdXQ9ZmFsc2U7IHZhbHVlPSdjdXQgbWUnXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPlxuICAgICAgY3V0OiB7e2N1dH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUGFzdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIHBhc3RlIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUGFzdGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogcGFzdGUuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1wYXN0ZT1cInBhc3RlPXRydWVcIiBuZy1pbml0PVwicGFzdGU9ZmFsc2VcIiBwbGFjZWhvbGRlcj0ncGFzdGUgaGVyZSc+XG4gICAgICBwYXN0ZWQ6IHt7cGFzdGV9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0lmXG4gKiBAcmVzdHJpY3QgQVxuICogQG11bHRpRWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0lmYCBkaXJlY3RpdmUgcmVtb3ZlcyBvciByZWNyZWF0ZXMgYSBwb3J0aW9uIG9mIHRoZSBET00gdHJlZSBiYXNlZCBvbiBhblxuICoge2V4cHJlc3Npb259LiBJZiB0aGUgZXhwcmVzc2lvbiBhc3NpZ25lZCB0byBgbmdJZmAgZXZhbHVhdGVzIHRvIGEgZmFsc2VcbiAqIHZhbHVlIHRoZW4gdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00sIG90aGVyd2lzZSBhIGNsb25lIG9mIHRoZVxuICogZWxlbWVudCBpcyByZWluc2VydGVkIGludG8gdGhlIERPTS5cbiAqXG4gKiBgbmdJZmAgZGlmZmVycyBmcm9tIGBuZ1Nob3dgIGFuZCBgbmdIaWRlYCBpbiB0aGF0IGBuZ0lmYCBjb21wbGV0ZWx5IHJlbW92ZXMgYW5kIHJlY3JlYXRlcyB0aGVcbiAqIGVsZW1lbnQgaW4gdGhlIERPTSByYXRoZXIgdGhhbiBjaGFuZ2luZyBpdHMgdmlzaWJpbGl0eSB2aWEgdGhlIGBkaXNwbGF5YCBjc3MgcHJvcGVydHkuICBBIGNvbW1vblxuICogY2FzZSB3aGVuIHRoaXMgZGlmZmVyZW5jZSBpcyBzaWduaWZpY2FudCBpcyB3aGVuIHVzaW5nIGNzcyBzZWxlY3RvcnMgdGhhdCByZWx5IG9uIGFuIGVsZW1lbnQnc1xuICogcG9zaXRpb24gd2l0aGluIHRoZSBET00sIHN1Y2ggYXMgdGhlIGA6Zmlyc3QtY2hpbGRgIG9yIGA6bGFzdC1jaGlsZGAgcHNldWRvLWNsYXNzZXMuXG4gKlxuICogTm90ZSB0aGF0IHdoZW4gYW4gZWxlbWVudCBpcyByZW1vdmVkIHVzaW5nIGBuZ0lmYCBpdHMgc2NvcGUgaXMgZGVzdHJveWVkIGFuZCBhIG5ldyBzY29wZVxuICogaXMgY3JlYXRlZCB3aGVuIHRoZSBlbGVtZW50IGlzIHJlc3RvcmVkLiAgVGhlIHNjb3BlIGNyZWF0ZWQgd2l0aGluIGBuZ0lmYCBpbmhlcml0cyBmcm9tXG4gKiBpdHMgcGFyZW50IHNjb3BlIHVzaW5nXG4gKiBbcHJvdG90eXBhbCBpbmhlcml0YW5jZV0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzI2phdmFzY3JpcHQtcHJvdG90eXBhbC1pbmhlcml0YW5jZSkuXG4gKiBBbiBpbXBvcnRhbnQgaW1wbGljYXRpb24gb2YgdGhpcyBpcyBpZiBgbmdNb2RlbGAgaXMgdXNlZCB3aXRoaW4gYG5nSWZgIHRvIGJpbmQgdG9cbiAqIGEgamF2YXNjcmlwdCBwcmltaXRpdmUgZGVmaW5lZCBpbiB0aGUgcGFyZW50IHNjb3BlLiBJbiB0aGlzIGNhc2UgYW55IG1vZGlmaWNhdGlvbnMgbWFkZSB0byB0aGVcbiAqIHZhcmlhYmxlIHdpdGhpbiB0aGUgY2hpbGQgc2NvcGUgd2lsbCBvdmVycmlkZSAoaGlkZSkgdGhlIHZhbHVlIGluIHRoZSBwYXJlbnQgc2NvcGUuXG4gKlxuICogQWxzbywgYG5nSWZgIHJlY3JlYXRlcyBlbGVtZW50cyB1c2luZyB0aGVpciBjb21waWxlZCBzdGF0ZS4gQW4gZXhhbXBsZSBvZiB0aGlzIGJlaGF2aW9yXG4gKiBpcyBpZiBhbiBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlIGlzIGRpcmVjdGx5IG1vZGlmaWVkIGFmdGVyIGl0J3MgY29tcGlsZWQsIHVzaW5nIHNvbWV0aGluZyBsaWtlXG4gKiBqUXVlcnkncyBgLmFkZENsYXNzKClgIG1ldGhvZCwgYW5kIHRoZSBlbGVtZW50IGlzIGxhdGVyIHJlbW92ZWQuIFdoZW4gYG5nSWZgIHJlY3JlYXRlcyB0aGUgZWxlbWVudFxuICogdGhlIGFkZGVkIGNsYXNzIHdpbGwgYmUgbG9zdCBiZWNhdXNlIHRoZSBvcmlnaW5hbCBjb21waWxlZCBzdGF0ZSBpcyB1c2VkIHRvIHJlZ2VuZXJhdGUgdGhlIGVsZW1lbnQuXG4gKlxuICogQWRkaXRpb25hbGx5LCB5b3UgY2FuIHByb3ZpZGUgYW5pbWF0aW9ucyB2aWEgdGhlIGBuZ0FuaW1hdGVgIG1vZHVsZSB0byBhbmltYXRlIHRoZSBgZW50ZXJgXG4gKiBhbmQgYGxlYXZlYCBlZmZlY3RzLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiBlbnRlciAtIGhhcHBlbnMganVzdCBhZnRlciB0aGUgYG5nSWZgIGNvbnRlbnRzIGNoYW5nZSBhbmQgYSBuZXcgRE9NIGVsZW1lbnQgaXMgY3JlYXRlZCBhbmQgaW5qZWN0ZWQgaW50byB0aGUgYG5nSWZgIGNvbnRhaW5lclxuICogbGVhdmUgLSBoYXBwZW5zIGp1c3QgYmVmb3JlIHRoZSBgbmdJZmAgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA2MDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdJZiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZmFsc3kgdGhlblxuICogICAgIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHRyZWUuIElmIGl0IGlzIHRydXRoeSBhIGNvcHkgb2YgdGhlIGNvbXBpbGVkXG4gKiAgICAgZWxlbWVudCBpcyBhZGRlZCB0byB0aGUgRE9NIHRyZWUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxsYWJlbD5DbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIG5nLWluaXQ9XCJjaGVja2VkPXRydWVcIiAvPjwvbGFiZWw+PGJyLz5cbiAgICAgIFNob3cgd2hlbiBjaGVja2VkOlxuICAgICAgPHNwYW4gbmctaWY9XCJjaGVja2VkXCIgY2xhc3M9XCJhbmltYXRlLWlmXCI+XG4gICAgICAgIFRoaXMgaXMgcmVtb3ZlZCB3aGVuIHRoZSBjaGVja2JveCBpcyB1bmNoZWNrZWQuXG4gICAgICA8L3NwYW4+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtaWYge1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLCAuYW5pbWF0ZS1pZi5uZy1sZWF2ZSB7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xuICAgICAgICBvcGFjaXR5OjA7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eToxO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdJZkRpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgcHJpb3JpdHk6IDYwMCxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICByZXN0cmljdDogJ0EnLFxuICAgICQkdGxiOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICB2YXIgYmxvY2ssIGNoaWxkU2NvcGUsIHByZXZpb3VzRWxlbWVudHM7XG4gICAgICAgICRzY29wZS4kd2F0Y2goJGF0dHIubmdJZiwgZnVuY3Rpb24gbmdJZldhdGNoQWN0aW9uKHZhbHVlKSB7XG5cbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghY2hpbGRTY29wZSkge1xuICAgICAgICAgICAgICAkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSwgbmV3U2NvcGUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICAgICAgY2xvbmVbY2xvbmUubGVuZ3RoKytdID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnIGVuZCBuZ0lmOiAnICsgJGF0dHIubmdJZiArICcgJyk7XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2Ugb25seSBuZWVkIHRoZSBmaXJzdC9sYXN0IG5vZGUgb2YgdGhlIGNsb25lZCBub2Rlcy5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlclxuICAgICAgICAgICAgICAgIC8vIGJ5IGEgZGlyZWN0aXZlIHdpdGggdGVtcGxhdGVVcmwgd2hlbiBpdHMgdGVtcGxhdGUgYXJyaXZlcy5cbiAgICAgICAgICAgICAgICBibG9jayA9IHtcbiAgICAgICAgICAgICAgICAgIGNsb25lOiBjbG9uZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsICRlbGVtZW50LnBhcmVudCgpLCAkZWxlbWVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50cykge1xuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzLnJlbW92ZSgpO1xuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZFNjb3BlKSB7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShwcmV2aW91c0VsZW1lbnRzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMgPSBudWxsO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYmxvY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdJbmNsdWRlXG4gKiBAcmVzdHJpY3QgRUNBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGZXRjaGVzLCBjb21waWxlcyBhbmQgaW5jbHVkZXMgYW4gZXh0ZXJuYWwgSFRNTCBmcmFnbWVudC5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgVVJMIGlzIHJlc3RyaWN0ZWQgdG8gdGhlIHNhbWUgZG9tYWluIGFuZCBwcm90b2NvbCBhcyB0aGVcbiAqIGFwcGxpY2F0aW9uIGRvY3VtZW50LiBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiBpdC4gVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIG9yIHByb3RvY29sc1xuICogeW91IG1heSBlaXRoZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdCB0aGVtfSBvclxuICoge0BsaW5rICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIHdyYXAgdGhlbX0gYXMgdHJ1c3RlZCB2YWx1ZXMuIFJlZmVyIHRvIEFuZ3VsYXIncyB7QGxpbmtcbiAqIG5nLiRzY2UgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmd9LlxuICpcbiAqIEluIGFkZGl0aW9uLCB0aGUgYnJvd3NlcidzXG4gKiBbU2FtZSBPcmlnaW4gUG9saWN5XShodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Jyb3dzZXJzZWMvd2lraS9QYXJ0MiNTYW1lLW9yaWdpbl9wb2xpY3lfZm9yX1hNTEh0dHBSZXF1ZXN0KVxuICogYW5kIFtDcm9zcy1PcmlnaW4gUmVzb3VyY2UgU2hhcmluZyAoQ09SUyldKGh0dHA6Ly93d3cudzMub3JnL1RSL2NvcnMvKVxuICogcG9saWN5IG1heSBmdXJ0aGVyIHJlc3RyaWN0IHdoZXRoZXIgdGhlIHRlbXBsYXRlIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gKiBGb3IgZXhhbXBsZSwgYG5nSW5jbHVkZWAgd29uJ3Qgd29yayBmb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzIG9uIGFsbCBicm93c2VycyBhbmQgZm9yIGBmaWxlOi8vYFxuICogYWNjZXNzIG9uIHNvbWUgYnJvd3NlcnMuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIGVudGVyIC0gYW5pbWF0aW9uIGlzIHVzZWQgdG8gYnJpbmcgbmV3IGNvbnRlbnQgaW50byB0aGUgYnJvd3Nlci5cbiAqIGxlYXZlIC0gYW5pbWF0aW9uIGlzIHVzZWQgdG8gYW5pbWF0ZSBleGlzdGluZyBjb250ZW50IGF3YXkuXG4gKlxuICogVGhlIGVudGVyIGFuZCBsZWF2ZSBhbmltYXRpb24gb2NjdXIgY29uY3VycmVudGx5LlxuICpcbiAqIEBzY29wZVxuICogQHByaW9yaXR5IDQwMFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ0luY2x1ZGV8c3JjIGFuZ3VsYXIgZXhwcmVzc2lvbiBldmFsdWF0aW5nIHRvIFVSTC4gSWYgdGhlIHNvdXJjZSBpcyBhIHN0cmluZyBjb25zdGFudCxcbiAqICAgICAgICAgICAgICAgICBtYWtlIHN1cmUgeW91IHdyYXAgaXQgaW4gKipzaW5nbGUqKiBxdW90ZXMsIGUuZy4gYHNyYz1cIidteVBhcnRpYWxUZW1wbGF0ZS5odG1sJ1wiYC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb25sb2FkIEV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbiBhIG5ldyBwYXJ0aWFsIGlzIGxvYWRlZC5cbiAqICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICAgICAgICAgICAgICAgICAgKipOb3RlOioqIFdoZW4gdXNpbmcgb25sb2FkIG9uIFNWRyBlbGVtZW50cyBpbiBJRTExLCB0aGUgYnJvd3NlciB3aWxsIHRyeSB0byBjYWxsXG4gKiAgICAgICAgICAgICAgICAgIGEgZnVuY3Rpb24gd2l0aCB0aGUgbmFtZSBvbiB0aGUgd2luZG93IGVsZW1lbnQsIHdoaWNoIHdpbGwgdXN1YWxseSB0aHJvdyBhXG4gKiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb24gaXMgdW5kZWZpbmVkXCIgZXJyb3IuIFRvIGZpeCB0aGlzLCB5b3UgY2FuIGluc3RlYWQgdXNlIGBkYXRhLW9ubG9hZGAgb3IgYVxuICogICAgICAgICAgICAgICAgICBkaWZmZXJlbnQgZm9ybSB0aGF0IHtAbGluayBndWlkZS9kaXJlY3RpdmUjbm9ybWFsaXphdGlvbiBtYXRjaGVzfSBgb25sb2FkYC5cbiAqICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAqXG4gKiBAcGFyYW0ge3N0cmluZz19IGF1dG9zY3JvbGwgV2hldGhlciBgbmdJbmNsdWRlYCBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFxuICogICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsfSB0byBzY3JvbGwgdGhlIHZpZXdwb3J0IGFmdGVyIHRoZSBjb250ZW50IGlzIGxvYWRlZC5cbiAqXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LCBkaXNhYmxlIHNjcm9sbGluZy5cbiAqICAgICAgICAgICAgICAgICAgLSBJZiB0aGUgYXR0cmlidXRlIGlzIHNldCB3aXRob3V0IHZhbHVlLCBlbmFibGUgc2Nyb2xsaW5nLlxuICogICAgICAgICAgICAgICAgICAtIE90aGVyd2lzZSBlbmFibGUgc2Nyb2xsaW5nIG9ubHkgaWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydXRoeSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJpbmNsdWRlRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInRlbXBsYXRlXCIgbmctb3B0aW9ucz1cInQubmFtZSBmb3IgdCBpbiB0ZW1wbGF0ZXNcIj5cbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPihibGFuayk8L29wdGlvbj5cbiAgICAgICA8L3NlbGVjdD5cbiAgICAgICB1cmwgb2YgdGhlIHRlbXBsYXRlOiA8Y29kZT57e3RlbXBsYXRlLnVybH19PC9jb2RlPlxuICAgICAgIDxoci8+XG4gICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLWFuaW1hdGUtY29udGFpbmVyXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGUtYW5pbWF0ZVwiIG5nLWluY2x1ZGU9XCJ0ZW1wbGF0ZS51cmxcIj48L2Rpdj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbmNsdWRlRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnRlbXBsYXRlcyA9XG4gICAgICAgICAgICBbIHsgbmFtZTogJ3RlbXBsYXRlMS5odG1sJywgdXJsOiAndGVtcGxhdGUxLmh0bWwnfSxcbiAgICAgICAgICAgICAgeyBuYW1lOiAndGVtcGxhdGUyLmh0bWwnLCB1cmw6ICd0ZW1wbGF0ZTIuaHRtbCd9IF07XG4gICAgICAgICAgJHNjb3BlLnRlbXBsYXRlID0gJHNjb3BlLnRlbXBsYXRlc1swXTtcbiAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlMS5odG1sXCI+XG4gICAgICBDb250ZW50IG9mIHRlbXBsYXRlMS5odG1sXG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJ0ZW1wbGF0ZTIuaHRtbFwiPlxuICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbFxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5zbGlkZS1hbmltYXRlLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBoZWlnaHQ6NDBweDtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuc2xpZGUtYW5pbWF0ZSB7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIsIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHtcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuXG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICB0b3A6MDtcbiAgICAgICAgbGVmdDowO1xuICAgICAgICByaWdodDowO1xuICAgICAgICBib3R0b206MDtcbiAgICAgICAgZGlzcGxheTpibG9jaztcbiAgICAgICAgcGFkZGluZzoxMHB4O1xuICAgICAgfVxuXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlciB7XG4gICAgICAgIHRvcDotNTBweDtcbiAgICAgIH1cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIHRvcDowO1xuICAgICAgfVxuXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZSB7XG4gICAgICAgIHRvcDowO1xuICAgICAgfVxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcbiAgICAgICAgdG9wOjUwcHg7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB0ZW1wbGF0ZVNlbGVjdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RlbXBsYXRlJykpO1xuICAgICAgdmFyIGluY2x1ZGVFbGVtID0gZWxlbWVudChieS5jc3MoJ1tuZy1pbmNsdWRlXScpKTtcblxuICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlMS5odG1sJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChpbmNsdWRlRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgb2YgdGVtcGxhdGUxLmh0bWwvKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGxvYWQgdGVtcGxhdGUyLmh0bWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ2ZpcmVmb3gnKSB7XG4gICAgICAgICAgLy8gRmlyZWZveCBjYW4ndCBoYW5kbGUgdXNpbmcgc2VsZWN0c1xuICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy80ODBcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgyKS5jbGljaygpO1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRlbXBsYXRlMi5odG1sLyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdG8gYmxhbmsnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ2ZpcmVmb3gnKSB7XG4gICAgICAgICAgLy8gRmlyZWZveCBjYW4ndCBoYW5kbGUgdXNpbmcgc2VsZWN0c1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZVNlbGVjdC5jbGljaygpO1xuICAgICAgICB0ZW1wbGF0ZVNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDApLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChpbmNsdWRlRWxlbS5pc1ByZXNlbnQoKSkudG9CZShmYWxzZSk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGV2ZW50XG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkXG4gKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIHNjb3BlIG5nSW5jbHVkZSB3YXMgZGVjbGFyZWQgaW5cbiAqIEBkZXNjcmlwdGlvblxuICogRW1pdHRlZCBldmVyeSB0aW1lIHRoZSBuZ0luY2x1ZGUgY29udGVudCBpcyByZXF1ZXN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZXZlbnRcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRMb2FkZWRcbiAqIEBldmVudFR5cGUgZW1pdCBvbiB0aGUgY3VycmVudCBuZ0luY2x1ZGUgc2NvcGVcbiAqIEBkZXNjcmlwdGlvblxuICogRW1pdHRlZCBldmVyeSB0aW1lIHRoZSBuZ0luY2x1ZGUgY29udGVudCBpcyByZWxvYWRlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFVSTCBvZiBjb250ZW50IHRvIGxvYWQuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBldmVudFxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudEVycm9yXG4gKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIHNjb3BlIG5nSW5jbHVkZSB3YXMgZGVjbGFyZWQgaW5cbiAqIEBkZXNjcmlwdGlvblxuICogRW1pdHRlZCB3aGVuIGEgdGVtcGxhdGUgSFRUUCByZXF1ZXN0IHlpZWxkcyBhbiBlcnJvbmVvdXMgcmVzcG9uc2UgKHN0YXR1cyA8IDIwMCB8fCBzdGF0dXMgPiAyOTkpXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxuICovXG52YXIgbmdJbmNsdWRlRGlyZWN0aXZlID0gWyckdGVtcGxhdGVSZXF1ZXN0JywgJyRhbmNob3JTY3JvbGwnLCAnJGFuaW1hdGUnLFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oJHRlbXBsYXRlUmVxdWVzdCwgICAkYW5jaG9yU2Nyb2xsLCAgICRhbmltYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQ0EnLFxuICAgIHByaW9yaXR5OiA0MDAsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICAgIGNvbnRyb2xsZXI6IGFuZ3VsYXIubm9vcCxcbiAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgc3JjRXhwID0gYXR0ci5uZ0luY2x1ZGUgfHwgYXR0ci5zcmMsXG4gICAgICAgICAgb25sb2FkRXhwID0gYXR0ci5vbmxvYWQgfHwgJycsXG4gICAgICAgICAgYXV0b1Njcm9sbEV4cCA9IGF0dHIuYXV0b3Njcm9sbDtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG4gICAgICAgIHZhciBjaGFuZ2VDb3VudGVyID0gMCxcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSxcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCxcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50O1xuXG4gICAgICAgIHZhciBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xuICAgICAgICAgICAgY3VycmVudFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGN1cnJlbnRFbGVtZW50KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKHNyY0V4cCwgZnVuY3Rpb24gbmdJbmNsdWRlV2F0Y2hBY3Rpb24oc3JjKSB7XG4gICAgICAgICAgdmFyIGFmdGVyQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApICYmICghYXV0b1Njcm9sbEV4cCB8fCBzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKSkpIHtcbiAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIHRoaXNDaGFuZ2VJZCA9ICsrY2hhbmdlQ291bnRlcjtcblxuICAgICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgIC8vc2V0IHRoZSAybmQgcGFyYW0gdG8gdHJ1ZSB0byBpZ25vcmUgdGhlIHRlbXBsYXRlIHJlcXVlc3QgZXJyb3Igc28gdGhhdCB0aGUgaW5uZXJcbiAgICAgICAgICAgIC8vY29udGVudHMgYW5kIHNjb3BlIGNhbiBiZSBjbGVhbmVkIHVwLlxuICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCAhPT0gY2hhbmdlQ291bnRlcikgcmV0dXJuO1xuICAgICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSByZXNwb25zZTtcblxuICAgICAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxzbyBsaW5rIGFsbCBjaGlsZHJlbiBvZiBuZy1pbmNsdWRlIHRoYXQgd2VyZSBjb250YWluZWQgaW4gdGhlIG9yaWdpbmFsXG4gICAgICAgICAgICAgIC8vIGh0bWwuIElmIHRoYXQgY29udGVudCBjb250YWlucyBjb250cm9sbGVycywgLi4uIHRoZXkgY291bGQgcG9sbHV0ZS9jaGFuZ2UgdGhlIHNjb3BlLlxuICAgICAgICAgICAgICAvLyBIb3dldmVyLCB1c2luZyBuZy1pbmNsdWRlIG9uIGFuIGVsZW1lbnQgd2l0aCBhZGRpdGlvbmFsIGNvbnRlbnQgZG9lcyBub3QgbWFrZSBzZW5zZS4uLlxuICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBjYW4ndCByZW1vdmUgdGhlbSBpbiB0aGUgY2xvbmVBdHRjaEZuIG9mICR0cmFuc2NsdWRlIGFzIHRoYXRcbiAgICAgICAgICAgICAgLy8gZnVuY3Rpb24gaXMgY2FsbGVkIGJlZm9yZSBsaW5raW5nIHRoZSBjb250ZW50LCB3aGljaCB3b3VsZCBhcHBseSBjaGlsZFxuICAgICAgICAgICAgICAvLyBkaXJlY3RpdmVzIHRvIG5vbiBleGlzdGluZyBlbGVtZW50cy5cbiAgICAgICAgICAgICAgdmFyIGNsb25lID0gJHRyYW5zY2x1ZGUobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCAkZWxlbWVudCkudGhlbihhZnRlckFuaW1hdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xuXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50TG9hZGVkJywgc3JjKTtcbiAgICAgICAgICAgICAgc2NvcGUuJGV2YWwob25sb2FkRXhwKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkID09PSBjaGFuZ2VDb3VudGVyKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRFcnJvcicsIHNyYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCcsIHNyYyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vLyBUaGlzIGRpcmVjdGl2ZSBpcyBjYWxsZWQgZHVyaW5nIHRoZSAkdHJhbnNjbHVkZSBjYWxsIG9mIHRoZSBmaXJzdCBgbmdJbmNsdWRlYCBkaXJlY3RpdmUuXG4vLyBJdCB3aWxsIHJlcGxhY2UgYW5kIGNvbXBpbGUgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbG9hZGVkIHRlbXBsYXRlLlxuLy8gV2UgbmVlZCB0aGlzIGRpcmVjdGl2ZSBzbyB0aGF0IHRoZSBlbGVtZW50IGNvbnRlbnQgaXMgYWxyZWFkeSBmaWxsZWQgd2hlblxuLy8gdGhlIGxpbmsgZnVuY3Rpb24gb2YgYW5vdGhlciBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBuZ0luY2x1ZGVcbi8vIGlzIGNhbGxlZC5cbnZhciBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLFxuICBmdW5jdGlvbigkY29tcGlsZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VDQScsXG4gICAgICBwcmlvcml0eTogLTQwMCxcbiAgICAgIHJlcXVpcmU6ICduZ0luY2x1ZGUnLFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCkge1xuICAgICAgICBpZiAoL1NWRy8udGVzdCgkZWxlbWVudFswXS50b1N0cmluZygpKSkge1xuICAgICAgICAgIC8vIFdlYktpdDogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNTY5OCAtLS0gU1ZHIGVsZW1lbnRzIGRvIG5vdFxuICAgICAgICAgIC8vIHN1cHBvcnQgaW5uZXJIVE1MLCBzbyBkZXRlY3QgdGhpcyBoZXJlIGFuZCB0cnkgdG8gZ2VuZXJhdGUgdGhlIGNvbnRlbnRzXG4gICAgICAgICAgLy8gc3BlY2lhbGx5LlxuICAgICAgICAgICRlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgICAgJGNvbXBpbGUoanFMaXRlQnVpbGRGcmFnbWVudChjdHJsLnRlbXBsYXRlLCBkb2N1bWVudCkuY2hpbGROb2Rlcykoc2NvcGUsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG5hbWVzcGFjZUFkYXB0ZWRDbG9uZShjbG9uZSkge1xuICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgICB9LCB7ZnV0dXJlUGFyZW50RWxlbWVudDogJGVsZW1lbnR9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkZWxlbWVudC5odG1sKGN0cmwudGVtcGxhdGUpO1xuICAgICAgICAkY29tcGlsZSgkZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdJbml0XG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdJbml0YCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBldmFsdWF0ZSBhbiBleHByZXNzaW9uIGluIHRoZVxuICogY3VycmVudCBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgYWJ1c2VkIHRvIGFkZCB1bm5lY2Vzc2FyeSBhbW91bnRzIG9mIGxvZ2ljIGludG8geW91ciB0ZW1wbGF0ZXMuXG4gKiBUaGVyZSBhcmUgb25seSBhIGZldyBhcHByb3ByaWF0ZSB1c2VzIG9mIGBuZ0luaXRgLCBzdWNoIGFzIGZvciBhbGlhc2luZyBzcGVjaWFsIHByb3BlcnRpZXMgb2ZcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgYG5nUmVwZWF0YH0sIGFzIHNlZW4gaW4gdGhlIGRlbW8gYmVsb3c7IGFuZCBmb3IgaW5qZWN0aW5nIGRhdGEgdmlhXG4gKiBzZXJ2ZXIgc2lkZSBzY3JpcHRpbmcuIEJlc2lkZXMgdGhlc2UgZmV3IGNhc2VzLCB5b3Ugc2hvdWxkIHVzZSB7QGxpbmsgZ3VpZGUvY29udHJvbGxlciBjb250cm9sbGVyc31cbiAqIHJhdGhlciB0aGFuIGBuZ0luaXRgIHRvIGluaXRpYWxpemUgdmFsdWVzIG9uIGEgc2NvcGUuXG4gKiA8L2Rpdj5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlKio6IElmIHlvdSBoYXZlIGFzc2lnbm1lbnQgaW4gYG5nSW5pdGAgYWxvbmcgd2l0aCBhIHtAbGluayBuZy4kZmlsdGVyIGBmaWx0ZXJgfSwgbWFrZVxuICogc3VyZSB5b3UgaGF2ZSBwYXJlbnRoZXNlcyB0byBlbnN1cmUgY29ycmVjdCBvcGVyYXRvciBwcmVjZWRlbmNlOlxuICogPHByZSBjbGFzcz1cInByZXR0eXByaW50XCI+XG4gKiBgPGRpdiBuZy1pbml0PVwidGVzdDEgPSAoJGluZGV4IHwgdG9TdHJpbmcpXCI+PC9kaXY+YFxuICogPC9wcmU+XG4gKiA8L2Rpdj5cbiAqXG4gKiBAcHJpb3JpdHkgNDUwXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSW5pdCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJpbml0RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgPHNjcmlwdD5cbiAgICAgYW5ndWxhci5tb2R1bGUoJ2luaXRFeGFtcGxlJywgW10pXG4gICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICRzY29wZS5saXN0ID0gW1snYScsICdiJ10sIFsnYycsICdkJ11dO1xuICAgICAgIH1dKTtcbiAgIDwvc2NyaXB0PlxuICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgPGRpdiBuZy1yZXBlYXQ9XCJpbm5lckxpc3QgaW4gbGlzdFwiIG5nLWluaXQ9XCJvdXRlckluZGV4ID0gJGluZGV4XCI+XG4gICAgICAgPGRpdiBuZy1yZXBlYXQ9XCJ2YWx1ZSBpbiBpbm5lckxpc3RcIiBuZy1pbml0PVwiaW5uZXJJbmRleCA9ICRpbmRleFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXhhbXBsZS1pbml0XCI+bGlzdFsge3tvdXRlckluZGV4fX0gXVsge3tpbm5lckluZGV4fX0gXSA9IHt7dmFsdWV9fTs8L3NwYW4+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZGl2PlxuICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgYWxpYXMgaW5kZXggcG9zaXRpb25zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50LmFsbChieS5jc3MoJy5leGFtcGxlLWluaXQnKSk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDApLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMCBdWyAwIF0gPSBhOycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgxKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDAgXVsgMSBdID0gYjsnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMikuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAxIF1bIDAgXSA9IGM7Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDMpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMSBdWyAxIF0gPSBkOycpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0luaXREaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHByaW9yaXR5OiA0NTAsXG4gIGNvbXBpbGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmU6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBzY29wZS4kZXZhbChhdHRycy5uZ0luaXQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTGlzdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGV4dCBpbnB1dCB0aGF0IGNvbnZlcnRzIGJldHdlZW4gYSBkZWxpbWl0ZWQgc3RyaW5nIGFuZCBhbiBhcnJheSBvZiBzdHJpbmdzLiBUaGUgZGVmYXVsdFxuICogZGVsaW1pdGVyIGlzIGEgY29tbWEgZm9sbG93ZWQgYnkgYSBzcGFjZSAtIGVxdWl2YWxlbnQgdG8gYG5nLWxpc3Q9XCIsIFwiYC4gWW91IGNhbiBzcGVjaWZ5IGEgY3VzdG9tXG4gKiBkZWxpbWl0ZXIgYXMgdGhlIHZhbHVlIG9mIHRoZSBgbmdMaXN0YCBhdHRyaWJ1dGUgLSBmb3IgZXhhbXBsZSwgYG5nLWxpc3Q9XCIgfCBcImAuXG4gKlxuICogVGhlIGJlaGF2aW91ciBvZiB0aGUgZGlyZWN0aXZlIGlzIGFmZmVjdGVkIGJ5IHRoZSB1c2Ugb2YgdGhlIGBuZ1RyaW1gIGF0dHJpYnV0ZS5cbiAqICogSWYgYG5nVHJpbWAgaXMgc2V0IHRvIGBcImZhbHNlXCJgIHRoZW4gd2hpdGVzcGFjZSBhcm91bmQgYm90aCB0aGUgc2VwYXJhdG9yIGFuZCBlYWNoXG4gKiAgIGxpc3QgaXRlbSBpcyByZXNwZWN0ZWQuIFRoaXMgaW1wbGllcyB0aGF0IHRoZSB1c2VyIG9mIHRoZSBkaXJlY3RpdmUgaXMgcmVzcG9uc2libGUgZm9yXG4gKiAgIGRlYWxpbmcgd2l0aCB3aGl0ZXNwYWNlIGJ1dCBhbHNvIGFsbG93cyB5b3UgdG8gdXNlIHdoaXRlc3BhY2UgYXMgYSBkZWxpbWl0ZXIsIHN1Y2ggYXMgYVxuICogICB0YWIgb3IgbmV3bGluZSBjaGFyYWN0ZXIuXG4gKiAqIE90aGVyd2lzZSB3aGl0ZXNwYWNlIGFyb3VuZCB0aGUgZGVsaW1pdGVyIGlzIGlnbm9yZWQgd2hlbiBzcGxpdHRpbmcgKGFsdGhvdWdoIGl0IGlzIHJlc3BlY3RlZFxuICogICB3aGVuIGpvaW5pbmcgdGhlIGxpc3QgaXRlbXMgYmFjayB0b2dldGhlcikgYW5kIHdoaXRlc3BhY2UgYXJvdW5kIGVhY2ggbGlzdCBpdGVtIGlzIHN0cmlwcGVkXG4gKiAgIGJlZm9yZSBpdCBpcyBhZGRlZCB0byB0aGUgbW9kZWwuXG4gKlxuICogIyMjIEV4YW1wbGUgd2l0aCBWYWxpZGF0aW9uXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nTGlzdC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJsaXN0RXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaXN0RXhhbXBsZScsIFtdKVxuICogICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICAgICAkc2NvcGUubmFtZXMgPSBbJ21vcnBoZXVzJywgJ25lbycsICd0cmluaXR5J107XG4gKiAgICAgICAgfV0pO1xuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgICAgIDxsYWJlbD5MaXN0OiA8aW5wdXQgbmFtZT1cIm5hbWVzSW5wdXRcIiBuZy1tb2RlbD1cIm5hbWVzXCIgbmctbGlzdCByZXF1aXJlZD48L2xhYmVsPlxuICogICAgICA8c3BhbiByb2xlPVwiYWxlcnRcIj5cbiAqICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5uYW1lc0lucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICogICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAqICAgICAgPC9zcGFuPlxuICogICAgICA8YnI+XG4gKiAgICAgIDx0dD5uYW1lcyA9IHt7bmFtZXN9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS5uYW1lc0lucHV0LiR2YWxpZCA9IHt7bXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0ubmFtZXNJbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5uYW1lc0lucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICogICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICogICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gKiAgICAgPC9mb3JtPlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICB2YXIgbGlzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZXMnKSk7XG4gKiAgICAgdmFyIG5hbWVzID0gZWxlbWVudChieS5leGFjdEJpbmRpbmcoJ25hbWVzJykpO1xuICogICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkJykpO1xuICogICAgIHZhciBlcnJvciA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmVycm9yJykpO1xuICpcbiAqICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGV4cGVjdChuYW1lcy5nZXRUZXh0KCkpLnRvQ29udGFpbignW1wibW9ycGhldXNcIixcIm5lb1wiLFwidHJpbml0eVwiXScpO1xuICogICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gKiAgICAgICBleHBlY3QoZXJyb3IuZ2V0Q3NzVmFsdWUoJ2Rpc3BsYXknKSkudG9CZSgnbm9uZScpO1xuICogICAgIH0pO1xuICpcbiAqICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGxpc3RJbnB1dC5jbGVhcigpO1xuICogICAgICAgbGlzdElucHV0LnNlbmRLZXlzKCcnKTtcbiAqXG4gKiAgICAgICBleHBlY3QobmFtZXMuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICogICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICogICAgICAgZXhwZWN0KGVycm9yLmdldENzc1ZhbHVlKCdkaXNwbGF5JykpLm5vdC50b0JlKCdub25lJyk7XG4gKiAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiAjIyMgRXhhbXBsZSAtIHNwbGl0dGluZyBvbiBuZXdsaW5lXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdMaXN0LWRpcmVjdGl2ZS1uZXdsaW5lc1wiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPHRleHRhcmVhIG5nLW1vZGVsPVwibGlzdFwiIG5nLWxpc3Q9XCImIzEwO1wiIG5nLXRyaW09XCJmYWxzZVwiPjwvdGV4dGFyZWE+XG4gKiAgICA8cHJlPnt7IGxpc3QgfCBqc29uIH19PC9wcmU+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgIGl0KFwic2hvdWxkIHNwbGl0IHRoZSB0ZXh0IGJ5IG5ld2xpbmVzXCIsIGZ1bmN0aW9uKCkge1xuICogICAgICAgdmFyIGxpc3RJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2xpc3QnKSk7XG4gKiAgICAgICB2YXIgb3V0cHV0ID0gZWxlbWVudChieS5iaW5kaW5nKCdsaXN0IHwganNvbicpKTtcbiAqICAgICAgIGxpc3RJbnB1dC5zZW5kS2V5cygnYWJjXFxuZGVmXFxuZ2hpJyk7XG4gKiAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9Db250YWluKCdbXFxuICBcImFiY1wiLFxcbiAgXCJkZWZcIixcXG4gIFwiZ2hpXCJcXG5dJyk7XG4gKiAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBpbnB1dFxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0xpc3Qgb3B0aW9uYWwgZGVsaW1pdGVyIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gc3BsaXQgdGhlIHZhbHVlLlxuICovXG52YXIgbmdMaXN0RGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBwcmlvcml0eTogMTAwLFxuICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xuICAgICAgLy8gV2Ugd2FudCB0byBjb250cm9sIHdoaXRlc3BhY2UgdHJpbW1pbmcgc28gd2UgdXNlIHRoaXMgY29udm9sdXRlZCBhcHByb2FjaFxuICAgICAgLy8gdG8gYWNjZXNzIHRoZSBuZ0xpc3QgYXR0cmlidXRlLCB3aGljaCBkb2Vzbid0IHByZS10cmltIHRoZSBhdHRyaWJ1dGVcbiAgICAgIHZhciBuZ0xpc3QgPSBlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci5uZ0xpc3QpIHx8ICcsICc7XG4gICAgICB2YXIgdHJpbVZhbHVlcyA9IGF0dHIubmdUcmltICE9PSAnZmFsc2UnO1xuICAgICAgdmFyIHNlcGFyYXRvciA9IHRyaW1WYWx1ZXMgPyB0cmltKG5nTGlzdCkgOiBuZ0xpc3Q7XG5cbiAgICAgIHZhciBwYXJzZSA9IGZ1bmN0aW9uKHZpZXdWYWx1ZSkge1xuICAgICAgICAvLyBJZiB0aGUgdmlld1ZhbHVlIGlzIGludmFsaWQgKHNheSByZXF1aXJlZCBidXQgZW1wdHkpIGl0IHdpbGwgYmUgYHVuZGVmaW5lZGBcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZpZXdWYWx1ZSkpIHJldHVybjtcblxuICAgICAgICB2YXIgbGlzdCA9IFtdO1xuXG4gICAgICAgIGlmICh2aWV3VmFsdWUpIHtcbiAgICAgICAgICBmb3JFYWNoKHZpZXdWYWx1ZS5zcGxpdChzZXBhcmF0b3IpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSBsaXN0LnB1c2godHJpbVZhbHVlcyA/IHRyaW0odmFsdWUpIDogdmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLiRwYXJzZXJzLnB1c2gocGFyc2UpO1xuICAgICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZS5qb2luKG5nTGlzdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE92ZXJyaWRlIHRoZSBzdGFuZGFyZCAkaXNFbXB0eSBiZWNhdXNlIGFuIGVtcHR5IGFycmF5IG1lYW5zIHRoZSBpbnB1dCBpcyBlbXB0eS5cbiAgICAgIGN0cmwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIXZhbHVlIHx8ICF2YWx1ZS5sZW5ndGg7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBWQUxJRF9DTEFTUzogdHJ1ZSxcbiAgSU5WQUxJRF9DTEFTUzogdHJ1ZSxcbiAgUFJJU1RJTkVfQ0xBU1M6IHRydWUsXG4gIERJUlRZX0NMQVNTOiB0cnVlLFxuICBVTlRPVUNIRURfQ0xBU1M6IHRydWUsXG4gIFRPVUNIRURfQ0xBU1M6IHRydWUsXG4qL1xuXG52YXIgVkFMSURfQ0xBU1MgPSAnbmctdmFsaWQnLFxuICAgIElOVkFMSURfQ0xBU1MgPSAnbmctaW52YWxpZCcsXG4gICAgUFJJU1RJTkVfQ0xBU1MgPSAnbmctcHJpc3RpbmUnLFxuICAgIERJUlRZX0NMQVNTID0gJ25nLWRpcnR5JyxcbiAgICBVTlRPVUNIRURfQ0xBU1MgPSAnbmctdW50b3VjaGVkJyxcbiAgICBUT1VDSEVEX0NMQVNTID0gJ25nLXRvdWNoZWQnLFxuICAgIFBFTkRJTkdfQ0xBU1MgPSAnbmctcGVuZGluZyc7XG5cbnZhciBuZ01vZGVsTWluRXJyID0gbWluRXJyKCduZ01vZGVsJyk7XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXJcbiAqXG4gKiBAcHJvcGVydHkgeyp9ICR2aWV3VmFsdWUgVGhlIGFjdHVhbCB2YWx1ZSBmcm9tIHRoZSBjb250cm9sJ3Mgdmlldy4gRm9yIGBpbnB1dGAgZWxlbWVudHMsIHRoaXMgaXMgYVxuICogU3RyaW5nLiBTZWUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZpZXdWYWx1ZX0gZm9yIGluZm9ybWF0aW9uIGFib3V0IHdoZW4gdGhlICR2aWV3VmFsdWVcbiAqIGlzIHNldC5cbiAqIEBwcm9wZXJ0eSB7Kn0gJG1vZGVsVmFsdWUgVGhlIHZhbHVlIGluIHRoZSBtb2RlbCB0aGF0IHRoZSBjb250cm9sIGlzIGJvdW5kIHRvLlxuICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkcGFyc2VycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSwgYXMgYSBwaXBlbGluZSwgd2hlbmV2ZXJcbiAgICAgICB0aGUgY29udHJvbCByZWFkcyB2YWx1ZSBmcm9tIHRoZSBET00uIFRoZSBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbiBhcnJheSBvcmRlciwgZWFjaCBwYXNzaW5nXG4gICAgICAgaXRzIHJldHVybiB2YWx1ZSB0aHJvdWdoIHRvIHRoZSBuZXh0LiBUaGUgbGFzdCByZXR1cm4gdmFsdWUgaXMgZm9yd2FyZGVkIHRvIHRoZVxuICAgICAgIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGAkdmFsaWRhdG9yc2B9IGNvbGxlY3Rpb24uXG5cblBhcnNlcnMgYXJlIHVzZWQgdG8gc2FuaXRpemUgLyBjb252ZXJ0IHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlXG5gJHZpZXdWYWx1ZWB9LlxuXG5SZXR1cm5pbmcgYHVuZGVmaW5lZGAgZnJvbSBhIHBhcnNlciBtZWFucyBhIHBhcnNlIGVycm9yIG9jY3VycmVkLiBJbiB0aGF0IGNhc2UsXG5ubyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgJHZhbGlkYXRvcnNgfSB3aWxsIHJ1biBhbmQgdGhlIGBuZ01vZGVsYFxud2lsbCBiZSBzZXQgdG8gYHVuZGVmaW5lZGAgdW5sZXNzIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH1cbmlzIHNldCB0byBgdHJ1ZWAuIFRoZSBwYXJzZSBlcnJvciBpcyBzdG9yZWQgaW4gYG5nTW9kZWwuJGVycm9yLnBhcnNlYC5cblxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJGZvcm1hdHRlcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUsIGFzIGEgcGlwZWxpbmUsIHdoZW5ldmVyXG4gICAgICAgdGhlIG1vZGVsIHZhbHVlIGNoYW5nZXMuIFRoZSBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbiByZXZlcnNlIGFycmF5IG9yZGVyLCBlYWNoIHBhc3NpbmcgdGhlIHZhbHVlIHRocm91Z2ggdG8gdGhlXG4gICAgICAgbmV4dC4gVGhlIGxhc3QgcmV0dXJuIHZhbHVlIGlzIHVzZWQgYXMgdGhlIGFjdHVhbCBET00gdmFsdWUuXG4gICAgICAgVXNlZCB0byBmb3JtYXQgLyBjb252ZXJ0IHZhbHVlcyBmb3IgZGlzcGxheSBpbiB0aGUgY29udHJvbC5cbiAqIGBgYGpzXG4gKiBmdW5jdGlvbiBmb3JtYXR0ZXIodmFsdWUpIHtcbiAqICAgaWYgKHZhbHVlKSB7XG4gKiAgICAgcmV0dXJuIHZhbHVlLnRvVXBwZXJDYXNlKCk7XG4gKiAgIH1cbiAqIH1cbiAqIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmb3JtYXR0ZXIpO1xuICogYGBgXG4gKlxuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSAkdmFsaWRhdG9ycyBBIGNvbGxlY3Rpb24gb2YgdmFsaWRhdG9ycyB0aGF0IGFyZSBhcHBsaWVkXG4gKiAgICAgIHdoZW5ldmVyIHRoZSBtb2RlbCB2YWx1ZSBjaGFuZ2VzLiBUaGUga2V5IHZhbHVlIHdpdGhpbiB0aGUgb2JqZWN0IHJlZmVycyB0byB0aGUgbmFtZSBvZiB0aGVcbiAqICAgICAgdmFsaWRhdG9yIHdoaWxlIHRoZSBmdW5jdGlvbiByZWZlcnMgdG8gdGhlIHZhbGlkYXRpb24gb3BlcmF0aW9uLiBUaGUgdmFsaWRhdGlvbiBvcGVyYXRpb24gaXNcbiAqICAgICAgcHJvdmlkZWQgd2l0aCB0aGUgbW9kZWwgdmFsdWUgYXMgYW4gYXJndW1lbnQgYW5kIG11c3QgcmV0dXJuIGEgdHJ1ZSBvciBmYWxzZSB2YWx1ZSBkZXBlbmRpbmdcbiAqICAgICAgb24gdGhlIHJlc3BvbnNlIG9mIHRoYXQgdmFsaWRhdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogbmdNb2RlbC4kdmFsaWRhdG9ycy52YWxpZENoYXJhY3RlcnMgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAqICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG4gKiAgIHJldHVybiAvWzAtOV0rLy50ZXN0KHZhbHVlKSAmJlxuICogICAgICAgICAgL1thLXpdKy8udGVzdCh2YWx1ZSkgJiZcbiAqICAgICAgICAgIC9bQS1aXSsvLnRlc3QodmFsdWUpICYmXG4gKiAgICAgICAgICAvXFxXKy8udGVzdCh2YWx1ZSk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSAkYXN5bmNWYWxpZGF0b3JzIEEgY29sbGVjdGlvbiBvZiB2YWxpZGF0aW9ucyB0aGF0IGFyZSBleHBlY3RlZCB0b1xuICogICAgICBwZXJmb3JtIGFuIGFzeW5jaHJvbm91cyB2YWxpZGF0aW9uIChlLmcuIGEgSFRUUCByZXF1ZXN0KS4gVGhlIHZhbGlkYXRpb24gZnVuY3Rpb24gdGhhdCBpcyBwcm92aWRlZFxuICogICAgICBpcyBleHBlY3RlZCB0byByZXR1cm4gYSBwcm9taXNlIHdoZW4gaXQgaXMgcnVuIGR1cmluZyB0aGUgbW9kZWwgdmFsaWRhdGlvbiBwcm9jZXNzLiBPbmNlIHRoZSBwcm9taXNlXG4gKiAgICAgIGlzIGRlbGl2ZXJlZCB0aGVuIHRoZSB2YWxpZGF0aW9uIHN0YXR1cyB3aWxsIGJlIHNldCB0byB0cnVlIHdoZW4gZnVsZmlsbGVkIGFuZCBmYWxzZSB3aGVuIHJlamVjdGVkLlxuICogICAgICBXaGVuIHRoZSBhc3luY2hyb25vdXMgdmFsaWRhdG9ycyBhcmUgdHJpZ2dlcmVkLCBlYWNoIG9mIHRoZSB2YWxpZGF0b3JzIHdpbGwgcnVuIGluIHBhcmFsbGVsIGFuZCB0aGUgbW9kZWxcbiAqICAgICAgdmFsdWUgd2lsbCBvbmx5IGJlIHVwZGF0ZWQgb25jZSBhbGwgdmFsaWRhdG9ycyBoYXZlIGJlZW4gZnVsZmlsbGVkLiBBcyBsb25nIGFzIGFuIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JcbiAqICAgICAgaXMgdW5mdWxmaWxsZWQsIGl0cyBrZXkgd2lsbCBiZSBhZGRlZCB0byB0aGUgY29udHJvbGxlcnMgYCRwZW5kaW5nYCBwcm9wZXJ0eS4gQWxzbywgYWxsIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzXG4gKiAgICAgIHdpbGwgb25seSBydW4gb25jZSBhbGwgc3luY2hyb25vdXMgdmFsaWRhdG9ycyBoYXZlIHBhc3NlZC5cbiAqXG4gKiBQbGVhc2Ugbm90ZSB0aGF0IGlmICRodHRwIGlzIHVzZWQgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGUgc2VydmVyIHJldHVybnMgYSBzdWNjZXNzIEhUVFAgcmVzcG9uc2UgY29kZVxuICogaW4gb3JkZXIgdG8gZnVsZmlsbCB0aGUgdmFsaWRhdGlvbiBhbmQgYSBzdGF0dXMgbGV2ZWwgb2YgYDR4eGAgaW4gb3JkZXIgdG8gcmVqZWN0IHRoZSB2YWxpZGF0aW9uLlxuICpcbiAqIGBgYGpzXG4gKiBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnMudW5pcXVlVXNlcm5hbWUgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAqICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG4gKlxuICogICAvLyBMb29rdXAgdXNlciBieSB1c2VybmFtZVxuICogICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzLycgKyB2YWx1ZSkuXG4gKiAgICAgIHRoZW4oZnVuY3Rpb24gcmVzb2x2ZWQoKSB7XG4gKiAgICAgICAgLy91c2VybmFtZSBleGlzdHMsIHRoaXMgbWVhbnMgdmFsaWRhdGlvbiBmYWlsc1xuICogICAgICAgIHJldHVybiAkcS5yZWplY3QoJ2V4aXN0cycpO1xuICogICAgICB9LCBmdW5jdGlvbiByZWplY3RlZCgpIHtcbiAqICAgICAgICAvL3VzZXJuYW1lIGRvZXMgbm90IGV4aXN0LCB0aGVyZWZvcmUgdGhpcyB2YWxpZGF0aW9uIHBhc3Nlc1xuICogICAgICAgIHJldHVybiB0cnVlO1xuICogICAgICB9KTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICR2aWV3Q2hhbmdlTGlzdGVuZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlIHdoZW5ldmVyIHRoZVxuICogICAgIHZpZXcgdmFsdWUgaGFzIGNoYW5nZWQuIEl0IGlzIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cywgYW5kIGl0cyByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cbiAqICAgICBUaGlzIGNhbiBiZSB1c2VkIGluIHBsYWNlIG9mIGFkZGl0aW9uYWwgJHdhdGNoZXMgYWdhaW5zdCB0aGUgbW9kZWwgdmFsdWUuXG4gKlxuICogQHByb3BlcnR5IHtPYmplY3R9ICRlcnJvciBBbiBvYmplY3QgaGFzaCB3aXRoIGFsbCBmYWlsaW5nIHZhbGlkYXRvciBpZHMgYXMga2V5cy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkcGVuZGluZyBBbiBvYmplY3QgaGFzaCB3aXRoIGFsbCBwZW5kaW5nIHZhbGlkYXRvciBpZHMgYXMga2V5cy5cbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR1bnRvdWNoZWQgVHJ1ZSBpZiBjb250cm9sIGhhcyBub3QgbG9zdCBmb2N1cyB5ZXQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR0b3VjaGVkIFRydWUgaWYgY29udHJvbCBoYXMgbG9zdCBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHByaXN0aW5lIFRydWUgaWYgdXNlciBoYXMgbm90IGludGVyYWN0ZWQgd2l0aCB0aGUgY29udHJvbCB5ZXQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRkaXJ0eSBUcnVlIGlmIHVzZXIgaGFzIGFscmVhZHkgaW50ZXJhY3RlZCB3aXRoIHRoZSBjb250cm9sLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkdmFsaWQgVHJ1ZSBpZiB0aGVyZSBpcyBubyBlcnJvci5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGludmFsaWQgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgZXJyb3Igb24gdGhlIGNvbnRyb2wuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gJG5hbWUgVGhlIG5hbWUgYXR0cmlidXRlIG9mIHRoZSBjb250cm9sLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIGBOZ01vZGVsQ29udHJvbGxlcmAgcHJvdmlkZXMgQVBJIGZvciB0aGUge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSBkaXJlY3RpdmUuXG4gKiBUaGUgY29udHJvbGxlciBjb250YWlucyBzZXJ2aWNlcyBmb3IgZGF0YS1iaW5kaW5nLCB2YWxpZGF0aW9uLCBDU1MgdXBkYXRlcywgYW5kIHZhbHVlIGZvcm1hdHRpbmdcbiAqIGFuZCBwYXJzaW5nLiBJdCBwdXJwb3NlZnVsbHkgZG9lcyBub3QgY29udGFpbiBhbnkgbG9naWMgd2hpY2ggZGVhbHMgd2l0aCBET00gcmVuZGVyaW5nIG9yXG4gKiBsaXN0ZW5pbmcgdG8gRE9NIGV2ZW50cy5cbiAqIFN1Y2ggRE9NIHJlbGF0ZWQgbG9naWMgc2hvdWxkIGJlIHByb3ZpZGVkIGJ5IG90aGVyIGRpcmVjdGl2ZXMgd2hpY2ggbWFrZSB1c2Ugb2ZcbiAqIGBOZ01vZGVsQ29udHJvbGxlcmAgZm9yIGRhdGEtYmluZGluZyB0byBjb250cm9sIGVsZW1lbnRzLlxuICogQW5ndWxhciBwcm92aWRlcyB0aGlzIERPTSBsb2dpYyBmb3IgbW9zdCB7QGxpbmsgaW5wdXQgYGlucHV0YH0gZWxlbWVudHMuXG4gKiBBdCB0aGUgZW5kIG9mIHRoaXMgcGFnZSB5b3UgY2FuIGZpbmQgYSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciNjdXN0b20tY29udHJvbC1leGFtcGxlXG4gKiBjdXN0b20gY29udHJvbCBleGFtcGxlfSB0aGF0IHVzZXMgYG5nTW9kZWxDb250cm9sbGVyYCB0byBiaW5kIHRvIGBjb250ZW50ZWRpdGFibGVgIGVsZW1lbnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgQ3VzdG9tIENvbnRyb2wgRXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYE5nTW9kZWxDb250cm9sbGVyYCB3aXRoIGEgY3VzdG9tIGNvbnRyb2wgdG8gYWNoaWV2ZVxuICogZGF0YS1iaW5kaW5nLiBOb3RpY2UgaG93IGRpZmZlcmVudCBkaXJlY3RpdmVzIChgY29udGVudGVkaXRhYmxlYCwgYG5nLW1vZGVsYCwgYW5kIGByZXF1aXJlZGApXG4gKiBjb2xsYWJvcmF0ZSB0b2dldGhlciB0byBhY2hpZXZlIHRoZSBkZXNpcmVkIHJlc3VsdC5cbiAqXG4gKiBgY29udGVudGVkaXRhYmxlYCBpcyBhbiBIVE1MNSBhdHRyaWJ1dGUsIHdoaWNoIHRlbGxzIHRoZSBicm93c2VyIHRvIGxldCB0aGUgZWxlbWVudFxuICogY29udGVudHMgYmUgZWRpdGVkIGluIHBsYWNlIGJ5IHRoZSB1c2VyLlxuICpcbiAqIFdlIGFyZSB1c2luZyB0aGUge0BsaW5rIG5nLnNlcnZpY2U6JHNjZSAkc2NlfSBzZXJ2aWNlIGhlcmUgYW5kIGluY2x1ZGUgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX1cbiAqIG1vZHVsZSB0byBhdXRvbWF0aWNhbGx5IHJlbW92ZSBcImJhZFwiIGNvbnRlbnQgbGlrZSBpbmxpbmUgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYDxzcGFuIG9uY2xpY2s9XCIuLi5cIj5gKS5cbiAqIEhvd2V2ZXIsIGFzIHdlIGFyZSB1c2luZyBgJHNjZWAgdGhlIG1vZGVsIGNhbiBzdGlsbCBkZWNpZGUgdG8gcHJvdmlkZSB1bnNhZmUgY29udGVudCBpZiBpdCBtYXJrc1xuICogdGhhdCBjb250ZW50IHVzaW5nIHRoZSBgJHNjZWAgc2VydmljZS5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwiTmdNb2RlbENvbnRyb2xsZXJcIiBtb2R1bGU9XCJjdXN0b21Db250cm9sXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICBbY29udGVudGVkaXRhYmxlXSB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgbWluLWhlaWdodDogMjBweDtcbiAgICAgIH1cblxuICAgICAgLm5nLWludmFsaWQge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG4gICAgICB9XG5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUNvbnRyb2wnLCBbJ25nU2FuaXRpemUnXSkuXG4gICAgICAgIGRpcmVjdGl2ZSgnY29udGVudGVkaXRhYmxlJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLCAvLyBvbmx5IGFjdGl2YXRlIG9uIGVsZW1lbnQgYXR0cmlidXRlXG4gICAgICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLCAvLyBnZXQgYSBob2xkIG9mIE5nTW9kZWxDb250cm9sbGVyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgaWYgKCFuZ01vZGVsKSByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcblxuICAgICAgICAgICAgICAvLyBTcGVjaWZ5IGhvdyBVSSBzaG91bGQgYmUgdXBkYXRlZFxuICAgICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ01vZGVsLiR2aWV3VmFsdWUgfHwgJycpKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGNoYW5nZSBldmVudHMgdG8gZW5hYmxlIGJpbmRpbmdcbiAgICAgICAgICAgICAgZWxlbWVudC5vbignYmx1ciBrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKHJlYWQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmVhZCgpOyAvLyBpbml0aWFsaXplXG5cbiAgICAgICAgICAgICAgLy8gV3JpdGUgZGF0YSB0byB0aGUgbW9kZWxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gcmVhZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGVsZW1lbnQuaHRtbCgpO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgY2xlYXIgdGhlIGNvbnRlbnQgZWRpdGFibGUgdGhlIGJyb3dzZXIgbGVhdmVzIGEgPGJyPiBiZWhpbmRcbiAgICAgICAgICAgICAgICAvLyBJZiBzdHJpcC1iciBhdHRyaWJ1dGUgaXMgcHJvdmlkZWQgdGhlbiB3ZSBzdHJpcCB0aGlzIG91dFxuICAgICAgICAgICAgICAgIGlmICggYXR0cnMuc3RyaXBCciAmJiBodG1sID09ICc8YnI+JyApIHtcbiAgICAgICAgICAgICAgICAgIGh0bWwgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGh0bWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxuICAgICAgIDxkaXYgY29udGVudGVkaXRhYmxlXG4gICAgICAgICAgICBuYW1lPVwibXlXaWRnZXRcIiBuZy1tb2RlbD1cInVzZXJDb250ZW50XCJcbiAgICAgICAgICAgIHN0cmlwLWJyPVwidHJ1ZVwiXG4gICAgICAgICAgICByZXF1aXJlZD5DaGFuZ2UgbWUhPC9kaXY+XG4gICAgICAgIDxzcGFuIG5nLXNob3c9XCJteUZvcm0ubXlXaWRnZXQuJGVycm9yLnJlcXVpcmVkXCI+UmVxdWlyZWQhPC9zcGFuPlxuICAgICAgIDxocj5cbiAgICAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJ1c2VyQ29udGVudFwiIGFyaWEtbGFiZWw9XCJEeW5hbWljIHRleHRhcmVhXCI+PC90ZXh0YXJlYT5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgIGl0KCdzaG91bGQgZGF0YS1iaW5kIGFuZCBiZWNvbWUgaW52YWxpZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ3NhZmFyaScgfHwgYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnZmlyZWZveCcpIHtcbiAgICAgICAgLy8gU2FmYXJpRHJpdmVyIGNhbid0IGhhbmRsZSBjb250ZW50ZWRpdGFibGVcbiAgICAgICAgLy8gYW5kIEZpcmVmb3ggZHJpdmVyIGNhbid0IGNsZWFyIGNvbnRlbnRlZGl0YWJsZXMgdmVyeSB3ZWxsXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjb250ZW50RWRpdGFibGUgPSBlbGVtZW50KGJ5LmNzcygnW2NvbnRlbnRlZGl0YWJsZV0nKSk7XG4gICAgICB2YXIgY29udGVudCA9ICdDaGFuZ2UgbWUhJztcblxuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRUZXh0KCkpLnRvRXF1YWwoY29udGVudCk7XG5cbiAgICAgIGNvbnRlbnRFZGl0YWJsZS5jbGVhcigpO1xuICAgICAgY29udGVudEVkaXRhYmxlLnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkJBQ0tfU1BBQ0UpO1xuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRUZXh0KCkpLnRvRXF1YWwoJycpO1xuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL25nLWludmFsaWQtcmVxdWlyZWQvKTtcbiAgICB9KTtcbiAgICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICpcbiAqL1xudmFyIE5nTW9kZWxDb250cm9sbGVyID0gWyckc2NvcGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJGF0dHJzJywgJyRlbGVtZW50JywgJyRwYXJzZScsICckYW5pbWF0ZScsICckdGltZW91dCcsICckcm9vdFNjb3BlJywgJyRxJywgJyRpbnRlcnBvbGF0ZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlciwgJGF0dHIsICRlbGVtZW50LCAkcGFyc2UsICRhbmltYXRlLCAkdGltZW91dCwgJHJvb3RTY29wZSwgJHEsICRpbnRlcnBvbGF0ZSkge1xuICB0aGlzLiR2aWV3VmFsdWUgPSBOdW1iZXIuTmFOO1xuICB0aGlzLiRtb2RlbFZhbHVlID0gTnVtYmVyLk5hTjtcbiAgdGhpcy4kJHJhd01vZGVsVmFsdWUgPSB1bmRlZmluZWQ7IC8vIHN0b3JlcyB0aGUgcGFyc2VkIG1vZGVsVmFsdWUgLyBtb2RlbCBzZXQgZnJvbSBzY29wZSByZWdhcmRsZXNzIG9mIHZhbGlkaXR5LlxuICB0aGlzLiR2YWxpZGF0b3JzID0ge307XG4gIHRoaXMuJGFzeW5jVmFsaWRhdG9ycyA9IHt9O1xuICB0aGlzLiRwYXJzZXJzID0gW107XG4gIHRoaXMuJGZvcm1hdHRlcnMgPSBbXTtcbiAgdGhpcy4kdmlld0NoYW5nZUxpc3RlbmVycyA9IFtdO1xuICB0aGlzLiR1bnRvdWNoZWQgPSB0cnVlO1xuICB0aGlzLiR0b3VjaGVkID0gZmFsc2U7XG4gIHRoaXMuJHByaXN0aW5lID0gdHJ1ZTtcbiAgdGhpcy4kZGlydHkgPSBmYWxzZTtcbiAgdGhpcy4kdmFsaWQgPSB0cnVlO1xuICB0aGlzLiRpbnZhbGlkID0gZmFsc2U7XG4gIHRoaXMuJGVycm9yID0ge307IC8vIGtlZXAgaW52YWxpZCBrZXlzIGhlcmVcbiAgdGhpcy4kJHN1Y2Nlc3MgPSB7fTsgLy8ga2VlcCB2YWxpZCBrZXlzIGhlcmVcbiAgdGhpcy4kcGVuZGluZyA9IHVuZGVmaW5lZDsgLy8ga2VlcCBwZW5kaW5nIGtleXMgaGVyZVxuICB0aGlzLiRuYW1lID0gJGludGVycG9sYXRlKCRhdHRyLm5hbWUgfHwgJycsIGZhbHNlKSgkc2NvcGUpO1xuICB0aGlzLiQkcGFyZW50Rm9ybSA9IG51bGxGb3JtQ3RybDtcblxuICB2YXIgcGFyc2VkTmdNb2RlbCA9ICRwYXJzZSgkYXR0ci5uZ01vZGVsKSxcbiAgICAgIHBhcnNlZE5nTW9kZWxBc3NpZ24gPSBwYXJzZWROZ01vZGVsLmFzc2lnbixcbiAgICAgIG5nTW9kZWxHZXQgPSBwYXJzZWROZ01vZGVsLFxuICAgICAgbmdNb2RlbFNldCA9IHBhcnNlZE5nTW9kZWxBc3NpZ24sXG4gICAgICBwZW5kaW5nRGVib3VuY2UgPSBudWxsLFxuICAgICAgcGFyc2VyVmFsaWQsXG4gICAgICBjdHJsID0gdGhpcztcblxuICB0aGlzLiQkc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBjdHJsLiRvcHRpb25zID0gb3B0aW9ucztcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmdldHRlclNldHRlcikge1xuICAgICAgdmFyIGludm9rZU1vZGVsR2V0dGVyID0gJHBhcnNlKCRhdHRyLm5nTW9kZWwgKyAnKCknKSxcbiAgICAgICAgICBpbnZva2VNb2RlbFNldHRlciA9ICRwYXJzZSgkYXR0ci5uZ01vZGVsICsgJygkJCRwKScpO1xuXG4gICAgICBuZ01vZGVsR2V0ID0gZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIHZhciBtb2RlbFZhbHVlID0gcGFyc2VkTmdNb2RlbCgkc2NvcGUpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihtb2RlbFZhbHVlKSkge1xuICAgICAgICAgIG1vZGVsVmFsdWUgPSBpbnZva2VNb2RlbEdldHRlcigkc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICAgICAgfTtcbiAgICAgIG5nTW9kZWxTZXQgPSBmdW5jdGlvbigkc2NvcGUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHBhcnNlZE5nTW9kZWwoJHNjb3BlKSkpIHtcbiAgICAgICAgICBpbnZva2VNb2RlbFNldHRlcigkc2NvcGUsIHskJCRwOiBjdHJsLiRtb2RlbFZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyc2VkTmdNb2RlbEFzc2lnbigkc2NvcGUsIGN0cmwuJG1vZGVsVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoIXBhcnNlZE5nTW9kZWwuYXNzaWduKSB7XG4gICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdub25hc3NpZ24nLCBcIkV4cHJlc3Npb24gJ3swfScgaXMgbm9uLWFzc2lnbmFibGUuIEVsZW1lbnQ6IHsxfVwiLFxuICAgICAgICAgICRhdHRyLm5nTW9kZWwsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJlbmRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2FsbGVkIHdoZW4gdGhlIHZpZXcgbmVlZHMgdG8gYmUgdXBkYXRlZC4gSXQgaXMgZXhwZWN0ZWQgdGhhdCB0aGUgdXNlciBvZiB0aGUgbmctbW9kZWxcbiAgICogZGlyZWN0aXZlIHdpbGwgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBUaGUgYCRyZW5kZXIoKWAgbWV0aG9kIGlzIGludm9rZWQgaW4gdGhlIGZvbGxvd2luZyBzaXR1YXRpb25zOlxuICAgKlxuICAgKiAqIGAkcm9sbGJhY2tWaWV3VmFsdWUoKWAgaXMgY2FsbGVkLiAgSWYgd2UgYXJlIHJvbGxpbmcgYmFjayB0aGUgdmlldyB2YWx1ZSB0byB0aGUgbGFzdFxuICAgKiAgIGNvbW1pdHRlZCB2YWx1ZSB0aGVuIGAkcmVuZGVyKClgIGlzIGNhbGxlZCB0byB1cGRhdGUgdGhlIGlucHV0IGNvbnRyb2wuXG4gICAqICogVGhlIHZhbHVlIHJlZmVyZW5jZWQgYnkgYG5nLW1vZGVsYCBpcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgYW5kIGJvdGggdGhlIGAkbW9kZWxWYWx1ZWAgYW5kXG4gICAqICAgdGhlIGAkdmlld1ZhbHVlYCBhcmUgZGlmZmVyZW50IGZyb20gbGFzdCB0aW1lLlxuICAgKlxuICAgKiBTaW5jZSBgbmctbW9kZWxgIGRvZXMgbm90IGRvIGEgZGVlcCB3YXRjaCwgYCRyZW5kZXIoKWAgaXMgb25seSBpbnZva2VkIGlmIHRoZSB2YWx1ZXMgb2ZcbiAgICogYCRtb2RlbFZhbHVlYCBhbmQgYCR2aWV3VmFsdWVgIGFyZSBhY3R1YWxseSBkaWZmZXJlbnQgZnJvbSB0aGVpciBwcmV2aW91cyB2YWx1ZS4gSWYgYCRtb2RlbFZhbHVlYFxuICAgKiBvciBgJHZpZXdWYWx1ZWAgYXJlIG9iamVjdHMgKHJhdGhlciB0aGFuIGEgc3RyaW5nIG9yIG51bWJlcikgdGhlbiBgJHJlbmRlcigpYCB3aWxsIG5vdCBiZVxuICAgKiBpbnZva2VkIGlmIHlvdSBvbmx5IGNoYW5nZSBhIHByb3BlcnR5IG9uIHRoZSBvYmplY3RzLlxuICAgKi9cbiAgdGhpcy4kcmVuZGVyID0gbm9vcDtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSB2YWx1ZSBvZiBhbiBpbnB1dCBpcyBlbXB0eS5cbiAgICpcbiAgICogRm9yIGluc3RhbmNlLCB0aGUgcmVxdWlyZWQgZGlyZWN0aXZlIGRvZXMgdGhpcyB0byB3b3JrIG91dCBpZiB0aGUgaW5wdXQgaGFzIGRhdGEgb3Igbm90LlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCBgJGlzRW1wdHlgIGZ1bmN0aW9uIGNoZWNrcyB3aGV0aGVyIHRoZSB2YWx1ZSBpcyBgdW5kZWZpbmVkYCwgYCcnYCwgYG51bGxgIG9yIGBOYU5gLlxuICAgKlxuICAgKiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgZm9yIGlucHV0IGRpcmVjdGl2ZXMgd2hvc2UgY29uY2VwdCBvZiBiZWluZyBlbXB0eSBpcyBkaWZmZXJlbnQgZnJvbSB0aGVcbiAgICogZGVmYXVsdC4gVGhlIGBjaGVja2JveElucHV0VHlwZWAgZGlyZWN0aXZlIGRvZXMgdGhpcyBiZWNhdXNlIGluIGl0cyBjYXNlIGEgdmFsdWUgb2YgYGZhbHNlYFxuICAgKiBpbXBsaWVzIGVtcHR5LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgaW5wdXQgdG8gY2hlY2sgZm9yIGVtcHRpbmVzcy5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBcImVtcHR5XCIuXG4gICAqL1xuICB0aGlzLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpIHx8IHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWU7XG4gIH07XG5cbiAgdmFyIGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQgPSAwO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZhbGlkaXR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDaGFuZ2UgdGhlIHZhbGlkaXR5IHN0YXRlLCBhbmQgbm90aWZ5IHRoZSBmb3JtLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHdpdGhpbiAkcGFyc2Vycy8kZm9ybWF0dGVycyBvciBhIGN1c3RvbSB2YWxpZGF0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgKiBIb3dldmVyLCBpbiBtb3N0IGNhc2VzIGl0IHNob3VsZCBiZSBzdWZmaWNpZW50IHRvIHVzZSB0aGUgYG5nTW9kZWwuJHZhbGlkYXRvcnNgIGFuZFxuICAgKiBgbmdNb2RlbC4kYXN5bmNWYWxpZGF0b3JzYCBjb2xsZWN0aW9ucyB3aGljaCB3aWxsIGNhbGwgYCRzZXRWYWxpZGl0eWAgYXV0b21hdGljYWxseS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbGlkYXRpb25FcnJvcktleSBOYW1lIG9mIHRoZSB2YWxpZGF0b3IuIFRoZSBgdmFsaWRhdGlvbkVycm9yS2V5YCB3aWxsIGJlIGFzc2lnbmVkXG4gICAqICAgICAgICB0byBlaXRoZXIgYCRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldYCBvciBgJHBlbmRpbmdbdmFsaWRhdGlvbkVycm9yS2V5XWBcbiAgICogICAgICAgIChmb3IgdW5mdWxmaWxsZWQgYCRhc3luY1ZhbGlkYXRvcnNgKSwgc28gdGhhdCBpdCBpcyBhdmFpbGFibGUgZm9yIGRhdGEtYmluZGluZy5cbiAgICogICAgICAgIFRoZSBgdmFsaWRhdGlvbkVycm9yS2V5YCBzaG91bGQgYmUgaW4gY2FtZWxDYXNlIGFuZCB3aWxsIGdldCBjb252ZXJ0ZWQgaW50byBkYXNoLWNhc2VcbiAgICogICAgICAgIGZvciBjbGFzcyBuYW1lLiBFeGFtcGxlOiBgbXlFcnJvcmAgd2lsbCByZXN1bHQgaW4gYG5nLXZhbGlkLW15LWVycm9yYCBhbmQgYG5nLWludmFsaWQtbXktZXJyb3JgXG4gICAqICAgICAgICBjbGFzcyBhbmQgY2FuIGJlIGJvdW5kIHRvIGFzICBge3tzb21lRm9ybS5zb21lQ29udHJvbC4kZXJyb3IubXlFcnJvcn19YCAuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNWYWxpZCBXaGV0aGVyIHRoZSBjdXJyZW50IHN0YXRlIGlzIHZhbGlkICh0cnVlKSwgaW52YWxpZCAoZmFsc2UpLCBwZW5kaW5nICh1bmRlZmluZWQpLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgb3Igc2tpcHBlZCAobnVsbCkuIFBlbmRpbmcgaXMgdXNlZCBmb3IgdW5mdWxmaWxsZWQgYCRhc3luY1ZhbGlkYXRvcnNgLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpcHBlZCBpcyB1c2VkIGJ5IEFuZ3VsYXIgd2hlbiB2YWxpZGF0b3JzIGRvIG5vdCBydW4gYmVjYXVzZSBvZiBwYXJzZSBlcnJvcnMgYW5kXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIGAkYXN5bmNWYWxpZGF0b3JzYCBkbyBub3QgcnVuIGJlY2F1c2UgYW55IG9mIHRoZSBgJHZhbGlkYXRvcnNgIGZhaWxlZC5cbiAgICovXG4gIGFkZFNldFZhbGlkaXR5TWV0aG9kKHtcbiAgICBjdHJsOiB0aGlzLFxuICAgICRlbGVtZW50OiAkZWxlbWVudCxcbiAgICBzZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSB0cnVlO1xuICAgIH0sXG4gICAgdW5zZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xuICAgIH0sXG4gICAgJGFuaW1hdGU6ICRhbmltYXRlXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFByaXN0aW5lXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy1kaXJ0eWAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHMgcHJpc3RpbmVcbiAgICogc3RhdGUgKGBuZy1wcmlzdGluZWAgY2xhc3MpLiBBIG1vZGVsIGlzIGNvbnNpZGVyZWQgdG8gYmUgcHJpc3RpbmUgd2hlbiB0aGUgY29udHJvbFxuICAgKiBoYXMgbm90IGJlZW4gY2hhbmdlZCBmcm9tIHdoZW4gZmlyc3QgY29tcGlsZWQuXG4gICAqL1xuICB0aGlzLiRzZXRQcmlzdGluZSA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJGRpcnR5ID0gZmFsc2U7XG4gICAgY3RybC4kcHJpc3RpbmUgPSB0cnVlO1xuICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBESVJUWV9DTEFTUyk7XG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXREaXJ0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgZGlydHkgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctcHJpc3RpbmVgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzIGRpcnR5XG4gICAqIHN0YXRlIChgbmctZGlydHlgIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIGRpcnR5IHdoZW4gdGhlIGNvbnRyb2wgaGFzIGJlZW4gY2hhbmdlZFxuICAgKiBmcm9tIHdoZW4gZmlyc3QgY29tcGlsZWQuXG4gICAqL1xuICB0aGlzLiRzZXREaXJ0eSA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJGRpcnR5ID0gdHJ1ZTtcbiAgICBjdHJsLiRwcmlzdGluZSA9IGZhbHNlO1xuICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcbiAgICBjdHJsLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRVbnRvdWNoZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHVudG91Y2hlZCBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy10b3VjaGVkYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0c1xuICAgKiB1bnRvdWNoZWQgc3RhdGUgKGBuZy11bnRvdWNoZWRgIGNsYXNzKS4gVXBvbiBjb21waWxhdGlvbiwgYSBtb2RlbCBpcyBzZXQgYXMgdW50b3VjaGVkXG4gICAqIGJ5IGRlZmF1bHQsIGhvd2V2ZXIgdGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byByZXN0b3JlIHRoYXQgc3RhdGUgaWYgdGhlIG1vZGVsIGhhc1xuICAgKiBhbHJlYWR5IGJlZW4gdG91Y2hlZCBieSB0aGUgdXNlci5cbiAgICovXG4gIHRoaXMuJHNldFVudG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJHRvdWNoZWQgPSBmYWxzZTtcbiAgICBjdHJsLiR1bnRvdWNoZWQgPSB0cnVlO1xuICAgICRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LCBVTlRPVUNIRURfQ0xBU1MsIFRPVUNIRURfQ0xBU1MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFRvdWNoZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHRvdWNoZWQgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctdW50b3VjaGVkYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0c1xuICAgKiB0b3VjaGVkIHN0YXRlIChgbmctdG91Y2hlZGAgY2xhc3MpLiBBIG1vZGVsIGlzIGNvbnNpZGVyZWQgdG8gYmUgdG91Y2hlZCB3aGVuIHRoZSB1c2VyIGhhc1xuICAgKiBmaXJzdCBmb2N1c2VkIHRoZSBjb250cm9sIGVsZW1lbnQgYW5kIHRoZW4gc2hpZnRlZCBmb2N1cyBhd2F5IGZyb20gdGhlIGNvbnRyb2wgKGJsdXIgZXZlbnQpLlxuICAgKi9cbiAgdGhpcy4kc2V0VG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJHRvdWNoZWQgPSB0cnVlO1xuICAgIGN0cmwuJHVudG91Y2hlZCA9IGZhbHNlO1xuICAgICRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LCBUT1VDSEVEX0NMQVNTLCBVTlRPVUNIRURfQ0xBU1MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJvbGxiYWNrVmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDYW5jZWwgYW4gdXBkYXRlIGFuZCByZXNldCB0aGUgaW5wdXQgZWxlbWVudCdzIHZhbHVlIHRvIHByZXZlbnQgYW4gdXBkYXRlIHRvIHRoZSBgJG1vZGVsVmFsdWVgLFxuICAgKiB3aGljaCBtYXkgYmUgY2F1c2VkIGJ5IGEgcGVuZGluZyBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lXG4gICAqIGZ1dHVyZSBldmVudC5cbiAgICpcbiAgICogSWYgeW91IGhhdmUgYW4gaW5wdXQgdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBzZXQgdXAgZGVib3VuY2VkIGV2ZW50cyBvciBldmVudHMgc3VjaFxuICAgKiBhcyBibHVyIHlvdSBjYW4gaGF2ZSBhIHNpdHVhdGlvbiB3aGVyZSB0aGVyZSBpcyBhIHBlcmlvZCB3aGVuIHRoZSBgJHZpZXdWYWx1ZWBcbiAgICogaXMgb3V0IG9mIHN5bmNoIHdpdGggdGhlIG5nTW9kZWwncyBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBJbiB0aGlzIGNhc2UsIHlvdSBjYW4gcnVuIGludG8gZGlmZmljdWx0aWVzIGlmIHlvdSB0cnkgdG8gdXBkYXRlIHRoZSBuZ01vZGVsJ3MgYCRtb2RlbFZhbHVlYFxuICAgKiBwcm9ncmFtbWF0aWNhbGx5IGJlZm9yZSB0aGVzZSBkZWJvdW5jZWQvZnV0dXJlIGV2ZW50cyBoYXZlIHJlc29sdmVkL29jY3VycmVkLCBiZWNhdXNlIEFuZ3VsYXInc1xuICAgKiBkaXJ0eSBjaGVja2luZyBtZWNoYW5pc20gaXMgbm90IGFibGUgdG8gdGVsbCB3aGV0aGVyIHRoZSBtb2RlbCBoYXMgYWN0dWFsbHkgY2hhbmdlZCBvciBub3QuXG4gICAqXG4gICAqIFRoZSBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBwcm9ncmFtbWF0aWNhbGx5IGNoYW5naW5nIHRoZSBtb2RlbCBvZiBhblxuICAgKiBpbnB1dCB3aGljaCBtYXkgaGF2ZSBzdWNoIGV2ZW50cyBwZW5kaW5nLiBUaGlzIGlzIGltcG9ydGFudCBpbiBvcmRlciB0byBtYWtlIHN1cmUgdGhhdCB0aGVcbiAgICogaW5wdXQgZmllbGQgd2lsbCBiZSB1cGRhdGVkIHdpdGggdGhlIG5ldyBtb2RlbCB2YWx1ZSBhbmQgYW55IHBlbmRpbmcgb3BlcmF0aW9ucyBhcmUgY2FuY2VsbGVkLlxuICAgKlxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmctbW9kZWwtY2FuY2VsLXVwZGF0ZVwiIG1vZHVsZT1cImNhbmNlbC11cGRhdGUtZXhhbXBsZVwiPlxuICAgKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdjYW5jZWwtdXBkYXRlLWV4YW1wbGUnLCBbXSlcbiAgICpcbiAgICogICAgIC5jb250cm9sbGVyKCdDYW5jZWxVcGRhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICogICAgICAgJHNjb3BlLnJlc2V0V2l0aENhbmNlbCA9IGZ1bmN0aW9uKGUpIHtcbiAgICogICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XG4gICAqICAgICAgICAgICAkc2NvcGUubXlGb3JtLm15SW5wdXQxLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xuICAgKiAgICAgICAgICAgJHNjb3BlLm15VmFsdWUgPSAnJztcbiAgICogICAgICAgICB9XG4gICAqICAgICAgIH07XG4gICAqICAgICAgICRzY29wZS5yZXNldFdpdGhvdXRDYW5jZWwgPSBmdW5jdGlvbihlKSB7XG4gICAqICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuICAgKiAgICAgICAgICAgJHNjb3BlLm15VmFsdWUgPSAnJztcbiAgICogICAgICAgICB9XG4gICAqICAgICAgIH07XG4gICAqICAgICB9XSk7XG4gICAqICAgPC9maWxlPlxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYW5jZWxVcGRhdGVDb250cm9sbGVyXCI+XG4gICAqICAgICAgIDxwPlRyeSB0eXBpbmcgc29tZXRoaW5nIGluIGVhY2ggaW5wdXQuICBTZWUgdGhhdCB0aGUgbW9kZWwgb25seSB1cGRhdGVzIHdoZW4geW91XG4gICAqICAgICAgICAgIGJsdXIgb2ZmIHRoZSBpbnB1dC5cbiAgICogICAgICAgIDwvcD5cbiAgICogICAgICAgIDxwPk5vdyBzZWUgd2hhdCBoYXBwZW5zIGlmIHlvdSBzdGFydCB0eXBpbmcgdGhlbiBwcmVzcyB0aGUgRXNjYXBlIGtleTwvcD5cbiAgICpcbiAgICogICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiPlxuICAgKiAgICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvbjFcIj5XaXRoICRyb2xsYmFja1ZpZXdWYWx1ZSgpPC9wPlxuICAgKiAgICAgICAgIDxpbnB1dCBuYW1lPVwibXlJbnB1dDFcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiaW5wdXREZXNjcmlwdGlvbjFcIiBuZy1tb2RlbD1cIm15VmFsdWVcIlxuICAgKiAgICAgICAgICAgICAgICBuZy1rZXlkb3duPVwicmVzZXRXaXRoQ2FuY2VsKCRldmVudClcIj48YnIvPlxuICAgKiAgICAgICAgIG15VmFsdWU6IFwie3sgbXlWYWx1ZSB9fVwiXG4gICAqXG4gICAqICAgICAgICAgPHAgaWQ9XCJpbnB1dERlc2NyaXB0aW9uMlwiPldpdGhvdXQgJHJvbGxiYWNrVmlld1ZhbHVlKCk8L3A+XG4gICAqICAgICAgICAgPGlucHV0IG5hbWU9XCJteUlucHV0MlwiIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uMlwiIG5nLW1vZGVsPVwibXlWYWx1ZVwiXG4gICAqICAgICAgICAgICAgICAgIG5nLWtleWRvd249XCJyZXNldFdpdGhvdXRDYW5jZWwoJGV2ZW50KVwiPjxici8+XG4gICAqICAgICAgICAgbXlWYWx1ZTogXCJ7eyBteVZhbHVlIH19XCJcbiAgICogICAgICAgPC9mb3JtPlxuICAgKiAgICAgPC9kaXY+XG4gICAqICAgPC9maWxlPlxuICAgKiA8L2V4YW1wbGU+XG4gICAqL1xuICB0aGlzLiRyb2xsYmFja1ZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpO1xuICAgIGN0cmwuJHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO1xuICAgIGN0cmwuJHJlbmRlcigpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSdW5zIGVhY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdmFsaWRhdG9ycyAoZmlyc3Qgc3luY2hyb25vdXMgdmFsaWRhdG9ycyBhbmQgdGhlblxuICAgKiBhc3luY2hyb25vdXMgdmFsaWRhdG9ycykuXG4gICAqIElmIHRoZSB2YWxpZGl0eSBjaGFuZ2VzIHRvIGludmFsaWQsIHRoZSBtb2RlbCB3aWxsIGJlIHNldCB0byBgdW5kZWZpbmVkYCxcbiAgICogdW5sZXNzIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH0gaXMgYHRydWVgLlxuICAgKiBJZiB0aGUgdmFsaWRpdHkgY2hhbmdlcyB0byB2YWxpZCwgaXQgd2lsbCBzZXQgdGhlIG1vZGVsIHRvIHRoZSBsYXN0IGF2YWlsYWJsZSB2YWxpZFxuICAgKiBgJG1vZGVsVmFsdWVgLCBpLmUuIGVpdGhlciB0aGUgbGFzdCBwYXJzZWQgdmFsdWUgb3IgdGhlIGxhc3QgdmFsdWUgc2V0IGZyb20gdGhlIHNjb3BlLlxuICAgKi9cbiAgdGhpcy4kdmFsaWRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBpZ25vcmUgJHZhbGlkYXRlIGJlZm9yZSBtb2RlbCBpcyBpbml0aWFsaXplZFxuICAgIGlmIChpc051bWJlcihjdHJsLiRtb2RlbFZhbHVlKSAmJiBpc05hTihjdHJsLiRtb2RlbFZhbHVlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICAvLyBOb3RlOiB3ZSB1c2UgdGhlICQkcmF3TW9kZWxWYWx1ZSBhcyAkbW9kZWxWYWx1ZSBtaWdodCBoYXZlIGJlZW5cbiAgICAvLyBzZXQgdG8gdW5kZWZpbmVkIGR1cmluZyBhIHZpZXcgLT4gbW9kZWwgdXBkYXRlIHRoYXQgZm91bmQgdmFsaWRhdGlvblxuICAgIC8vIGVycm9ycy4gV2UgY2FuJ3QgcGFyc2UgdGhlIHZpZXcgaGVyZSwgc2luY2UgdGhhdCBjb3VsZCBjaGFuZ2VcbiAgICAvLyB0aGUgbW9kZWwgYWx0aG91Z2ggbmVpdGhlciB2aWV3VmFsdWUgbm9yIHRoZSBtb2RlbCBvbiB0aGUgc2NvcGUgY2hhbmdlZFxuICAgIHZhciBtb2RlbFZhbHVlID0gY3RybC4kJHJhd01vZGVsVmFsdWU7XG5cbiAgICB2YXIgcHJldlZhbGlkID0gY3RybC4kdmFsaWQ7XG4gICAgdmFyIHByZXZNb2RlbFZhbHVlID0gY3RybC4kbW9kZWxWYWx1ZTtcblxuICAgIHZhciBhbGxvd0ludmFsaWQgPSBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO1xuXG4gICAgY3RybC4kJHJ1blZhbGlkYXRvcnMobW9kZWxWYWx1ZSwgdmlld1ZhbHVlLCBmdW5jdGlvbihhbGxWYWxpZCkge1xuICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGNoYW5nZSBpbiB2YWxpZGl0eSwgZG9uJ3QgdXBkYXRlIHRoZSBtb2RlbFxuICAgICAgLy8gVGhpcyBwcmV2ZW50cyBjaGFuZ2luZyBhbiBpbnZhbGlkIG1vZGVsVmFsdWUgdG8gdW5kZWZpbmVkXG4gICAgICBpZiAoIWFsbG93SW52YWxpZCAmJiBwcmV2VmFsaWQgIT09IGFsbFZhbGlkKSB7XG4gICAgICAgIC8vIE5vdGU6IERvbid0IGNoZWNrIGN0cmwuJHZhbGlkIGhlcmUsIGFzIHdlIGNvdWxkIGhhdmVcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxuICAgICAgICAvLyB0aGF0IGp1c3QgY2FsbCAkc2V0VmFsaWRpdHkgYW5kIG5lZWQgdGhlIG1vZGVsIHZhbHVlXG4gICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGVpciB2YWxpZGl0eS5cbiAgICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoY3RybC4kbW9kZWxWYWx1ZSAhPT0gcHJldk1vZGVsVmFsdWUpIHtcbiAgICAgICAgICBjdHJsLiQkd3JpdGVNb2RlbFRvU2NvcGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH07XG5cbiAgdGhpcy4kJHJ1blZhbGlkYXRvcnMgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIGRvbmVDYWxsYmFjaykge1xuICAgIGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQrKztcbiAgICB2YXIgbG9jYWxWYWxpZGF0aW9uUnVuSWQgPSBjdXJyZW50VmFsaWRhdGlvblJ1bklkO1xuXG4gICAgLy8gY2hlY2sgcGFyc2VyIGVycm9yXG4gICAgaWYgKCFwcm9jZXNzUGFyc2VFcnJvcnMoKSkge1xuICAgICAgdmFsaWRhdGlvbkRvbmUoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXByb2Nlc3NTeW5jVmFsaWRhdG9ycygpKSB7XG4gICAgICB2YWxpZGF0aW9uRG9uZShmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb2Nlc3NBc3luY1ZhbGlkYXRvcnMoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NQYXJzZUVycm9ycygpIHtcbiAgICAgIHZhciBlcnJvcktleSA9IGN0cmwuJCRwYXJzZXJOYW1lIHx8ICdwYXJzZSc7XG4gICAgICBpZiAoaXNVbmRlZmluZWQocGFyc2VyVmFsaWQpKSB7XG4gICAgICAgIHNldFZhbGlkaXR5KGVycm9yS2V5LCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghcGFyc2VyVmFsaWQpIHtcbiAgICAgICAgICBmb3JFYWNoKGN0cmwuJHZhbGlkYXRvcnMsIGZ1bmN0aW9uKHYsIG5hbWUpIHtcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2LCBuYW1lKSB7XG4gICAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBudWxsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgdGhlIHBhcnNlIGVycm9yIGxhc3QsIHRvIHByZXZlbnQgdW5zZXR0aW5nIGl0LCBzaG91bGQgYSAkdmFsaWRhdG9ycyBrZXkgPT0gcGFyc2VyTmFtZVxuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgcGFyc2VyVmFsaWQpO1xuICAgICAgICByZXR1cm4gcGFyc2VyVmFsaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzU3luY1ZhbGlkYXRvcnMoKSB7XG4gICAgICB2YXIgc3luY1ZhbGlkYXRvcnNWYWxpZCA9IHRydWU7XG4gICAgICBmb3JFYWNoKGN0cmwuJHZhbGlkYXRvcnMsIGZ1bmN0aW9uKHZhbGlkYXRvciwgbmFtZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSk7XG4gICAgICAgIHN5bmNWYWxpZGF0b3JzVmFsaWQgPSBzeW5jVmFsaWRhdG9yc1ZhbGlkICYmIHJlc3VsdDtcbiAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzeW5jVmFsaWRhdG9yc1ZhbGlkKSB7XG4gICAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2LCBuYW1lKSB7XG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQXN5bmNWYWxpZGF0b3JzKCkge1xuICAgICAgdmFyIHZhbGlkYXRvclByb21pc2VzID0gW107XG4gICAgICB2YXIgYWxsVmFsaWQgPSB0cnVlO1xuICAgICAgZm9yRWFjaChjdHJsLiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uKHZhbGlkYXRvciwgbmFtZSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpO1xuICAgICAgICBpZiAoIWlzUHJvbWlzZUxpa2UocHJvbWlzZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKFwiJGFzeW5jVmFsaWRhdG9yc1wiLFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBhc3luY2hyb25vdXMgdmFsaWRhdG9yIHRvIHJldHVybiBhIHByb21pc2UgYnV0IGdvdCAnezB9JyBpbnN0ZWFkLlwiLCBwcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCB1bmRlZmluZWQpO1xuICAgICAgICB2YWxpZGF0b3JQcm9taXNlcy5wdXNoKHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCB0cnVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBhbGxWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIGZhbHNlKTtcbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgICBpZiAoIXZhbGlkYXRvclByb21pc2VzLmxlbmd0aCkge1xuICAgICAgICB2YWxpZGF0aW9uRG9uZSh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRxLmFsbCh2YWxpZGF0b3JQcm9taXNlcykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YWxpZGF0aW9uRG9uZShhbGxWYWxpZCk7XG4gICAgICAgIH0sIG5vb3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFZhbGlkaXR5KG5hbWUsIGlzVmFsaWQpIHtcbiAgICAgIGlmIChsb2NhbFZhbGlkYXRpb25SdW5JZCA9PT0gY3VycmVudFZhbGlkYXRpb25SdW5JZCkge1xuICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eShuYW1lLCBpc1ZhbGlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0aW9uRG9uZShhbGxWYWxpZCkge1xuICAgICAgaWYgKGxvY2FsVmFsaWRhdGlvblJ1bklkID09PSBjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XG5cbiAgICAgICAgZG9uZUNhbGxiYWNrKGFsbFZhbGlkKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkY29tbWl0Vmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDb21taXQgYSBwZW5kaW5nIHVwZGF0ZSB0byB0aGUgYCRtb2RlbFZhbHVlYC5cbiAgICpcbiAgICogVXBkYXRlcyBtYXkgYmUgcGVuZGluZyBieSBhIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWUgZnV0dXJlXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiB0aGlzIG1ldGhvZCBpcyByYXJlbHkgbmVlZGVkIGFzIGBOZ01vZGVsQ29udHJvbGxlcmBcbiAgICogdXN1YWxseSBoYW5kbGVzIGNhbGxpbmcgdGhpcyBpbiByZXNwb25zZSB0byBpbnB1dCBldmVudHMuXG4gICAqL1xuICB0aGlzLiRjb21taXRWaWV3VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmlld1ZhbHVlID0gY3RybC4kdmlld1ZhbHVlO1xuXG4gICAgJHRpbWVvdXQuY2FuY2VsKHBlbmRpbmdEZWJvdW5jZSk7XG5cbiAgICAvLyBJZiB0aGUgdmlldyB2YWx1ZSBoYXMgbm90IGNoYW5nZWQgdGhlbiB3ZSBzaG91bGQganVzdCBleGl0LCBleGNlcHQgaW4gdGhlIGNhc2Ugd2hlcmUgdGhlcmUgaXNcbiAgICAvLyBhIG5hdGl2ZSB2YWxpZGF0b3Igb24gdGhlIGVsZW1lbnQuIEluIHRoaXMgY2FzZSB0aGUgdmFsaWRhdGlvbiBzdGF0ZSBtYXkgaGF2ZSBjaGFuZ2VkIGV2ZW4gdGhvdWdoXG4gICAgLy8gdGhlIHZpZXdWYWx1ZSBoYXMgc3RheWVkIGVtcHR5LlxuICAgIGlmIChjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9PT0gdmlld1ZhbHVlICYmICh2aWV3VmFsdWUgIT09ICcnIHx8ICFjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPSB2aWV3VmFsdWU7XG5cbiAgICAvLyBjaGFuZ2UgdG8gZGlydHlcbiAgICBpZiAoY3RybC4kcHJpc3RpbmUpIHtcbiAgICAgIHRoaXMuJHNldERpcnR5KCk7XG4gICAgfVxuICAgIHRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlKCk7XG4gIH07XG5cbiAgdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XG4gICAgdmFyIG1vZGVsVmFsdWUgPSB2aWV3VmFsdWU7XG4gICAgcGFyc2VyVmFsaWQgPSBpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSA/IHVuZGVmaW5lZCA6IHRydWU7XG5cbiAgICBpZiAocGFyc2VyVmFsaWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3RybC4kcGFyc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb2RlbFZhbHVlID0gY3RybC4kcGFyc2Vyc1tpXShtb2RlbFZhbHVlKTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKG1vZGVsVmFsdWUpKSB7XG4gICAgICAgICAgcGFyc2VyVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoY3RybC4kbW9kZWxWYWx1ZSkgJiYgaXNOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIC8vIGN0cmwuJG1vZGVsVmFsdWUgaGFzIG5vdCBiZWVuIHRvdWNoZWQgeWV0Li4uXG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gbmdNb2RlbEdldCgkc2NvcGUpO1xuICAgIH1cbiAgICB2YXIgcHJldk1vZGVsVmFsdWUgPSBjdHJsLiRtb2RlbFZhbHVlO1xuICAgIHZhciBhbGxvd0ludmFsaWQgPSBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO1xuICAgIGN0cmwuJCRyYXdNb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcblxuICAgIGlmIChhbGxvd0ludmFsaWQpIHtcbiAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcbiAgICB9XG5cbiAgICAvLyBQYXNzIHRoZSAkJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgaGVyZSwgYmVjYXVzZSB0aGUgY2FjaGVkIHZpZXdWYWx1ZSBtaWdodCBiZSBvdXQgb2YgZGF0ZS5cbiAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgZS5nLiAkc2V0Vmlld1ZhbHVlIGlzIGNhbGxlZCBmcm9tIGluc2lkZSBhIHBhcnNlclxuICAgIGN0cmwuJCRydW5WYWxpZGF0b3JzKG1vZGVsVmFsdWUsIGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLCBmdW5jdGlvbihhbGxWYWxpZCkge1xuICAgICAgaWYgKCFhbGxvd0ludmFsaWQpIHtcbiAgICAgICAgLy8gTm90ZTogRG9uJ3QgY2hlY2sgY3RybC4kdmFsaWQgaGVyZSwgYXMgd2UgY291bGQgaGF2ZVxuICAgICAgICAvLyBleHRlcm5hbCB2YWxpZGF0b3JzIChlLmcuIGNhbGN1bGF0ZWQgb24gdGhlIHNlcnZlciksXG4gICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcbiAgICAgICAgLy8gdG8gY2FsY3VsYXRlIHRoZWlyIHZhbGlkaXR5LlxuICAgICAgICBjdHJsLiRtb2RlbFZhbHVlID0gYWxsVmFsaWQgPyBtb2RlbFZhbHVlIDogdW5kZWZpbmVkO1xuICAgICAgICB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gd3JpdGVUb01vZGVsSWZOZWVkZWQoKSB7XG4gICAgICBpZiAoY3RybC4kbW9kZWxWYWx1ZSAhPT0gcHJldk1vZGVsVmFsdWUpIHtcbiAgICAgICAgY3RybC4kJHdyaXRlTW9kZWxUb1Njb3BlKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJCR3cml0ZU1vZGVsVG9TY29wZSA9IGZ1bmN0aW9uKCkge1xuICAgIG5nTW9kZWxTZXQoJHNjb3BlLCBjdHJsLiRtb2RlbFZhbHVlKTtcbiAgICBmb3JFYWNoKGN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsIGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaXN0ZW5lcigpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFVwZGF0ZSB0aGUgdmlldyB2YWx1ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGEgY29udHJvbCB3YW50cyB0byBjaGFuZ2UgdGhlIHZpZXcgdmFsdWU7IHR5cGljYWxseSxcbiAgICogdGhpcyBpcyBkb25lIGZyb20gd2l0aGluIGEgRE9NIGV2ZW50IGhhbmRsZXIuIEZvciBleGFtcGxlLCB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTppbnB1dCBpbnB1dH1cbiAgICogZGlyZWN0aXZlIGNhbGxzIGl0IHdoZW4gdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCBjaGFuZ2VzIGFuZCB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9XG4gICAqIGNhbGxzIGl0IHdoZW4gYW4gb3B0aW9uIGlzIHNlbGVjdGVkLlxuICAgKlxuICAgKiBXaGVuIGAkc2V0Vmlld1ZhbHVlYCBpcyBjYWxsZWQsIHRoZSBuZXcgYHZhbHVlYCB3aWxsIGJlIHN0YWdlZCBmb3IgY29tbWl0dGluZyB0aHJvdWdoIHRoZSBgJHBhcnNlcnNgXG4gICAqIGFuZCBgJHZhbGlkYXRvcnNgIHBpcGVsaW5lcy4gSWYgdGhlcmUgYXJlIG5vIHNwZWNpYWwge0BsaW5rIG5nTW9kZWxPcHRpb25zfSBzcGVjaWZpZWQgdGhlbiB0aGUgc3RhZ2VkXG4gICAqIHZhbHVlIHNlbnQgZGlyZWN0bHkgZm9yIHByb2Nlc3NpbmcsIGZpbmFsbHkgdG8gYmUgYXBwbGllZCB0byBgJG1vZGVsVmFsdWVgIGFuZCB0aGVuIHRoZVxuICAgKiAqKmV4cHJlc3Npb24qKiBzcGVjaWZpZWQgaW4gdGhlIGBuZy1tb2RlbGAgYXR0cmlidXRlLiBMYXN0bHksIGFsbCB0aGUgcmVnaXN0ZXJlZCBjaGFuZ2UgbGlzdGVuZXJzLFxuICAgKiBpbiB0aGUgYCR2aWV3Q2hhbmdlTGlzdGVuZXJzYCBsaXN0LCBhcmUgY2FsbGVkLlxuICAgKlxuICAgKiBJbiBjYXNlIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfSBkaXJlY3RpdmUgaXMgdXNlZCB3aXRoIGB1cGRhdGVPbmBcbiAgICogYW5kIHRoZSBgZGVmYXVsdGAgdHJpZ2dlciBpcyBub3QgbGlzdGVkLCBhbGwgdGhvc2UgYWN0aW9ucyB3aWxsIHJlbWFpbiBwZW5kaW5nIHVudGlsIG9uZSBvZiB0aGVcbiAgICogYHVwZGF0ZU9uYCBldmVudHMgaXMgdHJpZ2dlcmVkIG9uIHRoZSBET00gZWxlbWVudC5cbiAgICogQWxsIHRoZXNlIGFjdGlvbnMgd2lsbCBiZSBkZWJvdW5jZWQgaWYgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9XG4gICAqIGRpcmVjdGl2ZSBpcyB1c2VkIHdpdGggYSBjdXN0b20gZGVib3VuY2UgZm9yIHRoaXMgcGFydGljdWxhciBldmVudC5cbiAgICogTm90ZSB0aGF0IGEgYCRkaWdlc3RgIGlzIG9ubHkgdHJpZ2dlcmVkIG9uY2UgdGhlIGB1cGRhdGVPbmAgZXZlbnRzIGFyZSBmaXJlZCwgb3IgaWYgYGRlYm91bmNlYFxuICAgKiBpcyBzcGVjaWZpZWQsIG9uY2UgdGhlIHRpbWVyIHJ1bnMgb3V0LlxuICAgKlxuICAgKiBXaGVuIHVzZWQgd2l0aCBzdGFuZGFyZCBpbnB1dHMsIHRoZSB2aWV3IHZhbHVlIHdpbGwgYWx3YXlzIGJlIGEgc3RyaW5nICh3aGljaCBpcyBpbiBzb21lIGNhc2VzXG4gICAqIHBhcnNlZCBpbnRvIGFub3RoZXIgdHlwZSwgc3VjaCBhcyBhIGBEYXRlYCBvYmplY3QgZm9yIGBpbnB1dFtkYXRlXWAuKVxuICAgKiBIb3dldmVyLCBjdXN0b20gY29udHJvbHMgbWlnaHQgYWxzbyBwYXNzIG9iamVjdHMgdG8gdGhpcyBtZXRob2QuIEluIHRoaXMgY2FzZSwgd2Ugc2hvdWxkIG1ha2VcbiAgICogYSBjb3B5IG9mIHRoZSBvYmplY3QgYmVmb3JlIHBhc3NpbmcgaXQgdG8gYCRzZXRWaWV3VmFsdWVgLiBUaGlzIGlzIGJlY2F1c2UgYG5nTW9kZWxgIGRvZXMgbm90XG4gICAqIHBlcmZvcm0gYSBkZWVwIHdhdGNoIG9mIG9iamVjdHMsIGl0IG9ubHkgbG9va3MgZm9yIGEgY2hhbmdlIG9mIGlkZW50aXR5LiBJZiB5b3Ugb25seSBjaGFuZ2VcbiAgICogdGhlIHByb3BlcnR5IG9mIHRoZSBvYmplY3QgdGhlbiBuZ01vZGVsIHdpbGwgbm90IHJlYWxpc2UgdGhhdCB0aGUgb2JqZWN0IGhhcyBjaGFuZ2VkIGFuZFxuICAgKiB3aWxsIG5vdCBpbnZva2UgdGhlIGAkcGFyc2Vyc2AgYW5kIGAkdmFsaWRhdG9yc2AgcGlwZWxpbmVzLiBGb3IgdGhpcyByZWFzb24sIHlvdSBzaG91bGRcbiAgICogbm90IGNoYW5nZSBwcm9wZXJ0aWVzIG9mIHRoZSBjb3B5IG9uY2UgaXQgaGFzIGJlZW4gcGFzc2VkIHRvIGAkc2V0Vmlld1ZhbHVlYC5cbiAgICogT3RoZXJ3aXNlIHlvdSBtYXkgY2F1c2UgdGhlIG1vZGVsIHZhbHVlIG9uIHRoZSBzY29wZSB0byBjaGFuZ2UgaW5jb3JyZWN0bHkuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gICAqIEluIGFueSBjYXNlLCB0aGUgdmFsdWUgcGFzc2VkIHRvIHRoZSBtZXRob2Qgc2hvdWxkIGFsd2F5cyByZWZsZWN0IHRoZSBjdXJyZW50IHZhbHVlXG4gICAqIG9mIHRoZSBjb250cm9sLiBGb3IgZXhhbXBsZSwgaWYgeW91IGFyZSBjYWxsaW5nIGAkc2V0Vmlld1ZhbHVlYCBmb3IgYW4gaW5wdXQgZWxlbWVudCxcbiAgICogeW91IHNob3VsZCBwYXNzIHRoZSBpbnB1dCBET00gdmFsdWUuIE90aGVyd2lzZSwgdGhlIGNvbnRyb2wgYW5kIHRoZSBzY29wZSBtb2RlbCBiZWNvbWVcbiAgICogb3V0IG9mIHN5bmMuIEl0J3MgYWxzbyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IGAkc2V0Vmlld1ZhbHVlYCBkb2VzIG5vdCBjYWxsIGAkcmVuZGVyYCBvciBjaGFuZ2VcbiAgICogdGhlIGNvbnRyb2wncyBET00gdmFsdWUgaW4gYW55IHdheS4gSWYgd2Ugd2FudCB0byBjaGFuZ2UgdGhlIGNvbnRyb2wncyBET00gdmFsdWVcbiAgICogcHJvZ3JhbW1hdGljYWxseSwgd2Ugc2hvdWxkIHVwZGF0ZSB0aGUgYG5nTW9kZWxgIHNjb3BlIGV4cHJlc3Npb24uIEl0cyBuZXcgdmFsdWUgd2lsbCBiZVxuICAgKiBwaWNrZWQgdXAgYnkgdGhlIG1vZGVsIGNvbnRyb2xsZXIsIHdoaWNoIHdpbGwgcnVuIGl0IHRocm91Z2ggdGhlIGAkZm9ybWF0dGVyc2AsIGAkcmVuZGVyYCBpdFxuICAgKiB0byB1cGRhdGUgdGhlIERPTSwgYW5kIGZpbmFsbHkgY2FsbCBgJHZhbGlkYXRlYCBvbiBpdC5cbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgdmFsdWUgZnJvbSB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRyaWdnZXIgRXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIHVwZGF0ZS5cbiAgICovXG4gIHRoaXMuJHNldFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCB0cmlnZ2VyKSB7XG4gICAgY3RybC4kdmlld1ZhbHVlID0gdmFsdWU7XG4gICAgaWYgKCFjdHJsLiRvcHRpb25zIHx8IGN0cmwuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0KSB7XG4gICAgICBjdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQodHJpZ2dlcik7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCA9IGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICB2YXIgZGVib3VuY2VEZWxheSA9IDAsXG4gICAgICAgIG9wdGlvbnMgPSBjdHJsLiRvcHRpb25zLFxuICAgICAgICBkZWJvdW5jZTtcblxuICAgIGlmIChvcHRpb25zICYmIGlzRGVmaW5lZChvcHRpb25zLmRlYm91bmNlKSkge1xuICAgICAgZGVib3VuY2UgPSBvcHRpb25zLmRlYm91bmNlO1xuICAgICAgaWYgKGlzTnVtYmVyKGRlYm91bmNlKSkge1xuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2U7XG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlW3RyaWdnZXJdKSkge1xuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2VbdHJpZ2dlcl07XG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlWydkZWZhdWx0J10pKSB7XG4gICAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZVsnZGVmYXVsdCddO1xuICAgICAgfVxuICAgIH1cblxuICAgICR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpO1xuICAgIGlmIChkZWJvdW5jZURlbGF5KSB7XG4gICAgICBwZW5kaW5nRGVib3VuY2UgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgY3RybC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICB9LCBkZWJvdW5jZURlbGF5KTtcbiAgICB9IGVsc2UgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgY3RybC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGN0cmwuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIG1vZGVsIC0+IHZhbHVlXG4gIC8vIE5vdGU6IHdlIGNhbm5vdCB1c2UgYSBub3JtYWwgc2NvcGUuJHdhdGNoIGFzIHdlIHdhbnQgdG8gZGV0ZWN0IHRoZSBmb2xsb3dpbmc6XG4gIC8vIDEuIHNjb3BlIHZhbHVlIGlzICdhJ1xuICAvLyAyLiB1c2VyIGVudGVycyAnYidcbiAgLy8gMy4gbmctY2hhbmdlIGtpY2tzIGluIGFuZCByZXZlcnRzIHNjb3BlIHZhbHVlIHRvICdhJ1xuICAvLyAgICAtPiBzY29wZSB2YWx1ZSBkaWQgbm90IGNoYW5nZSBzaW5jZSB0aGUgbGFzdCBkaWdlc3QgYXNcbiAgLy8gICAgICAgbmctY2hhbmdlIGV4ZWN1dGVzIGluIGFwcGx5IHBoYXNlXG4gIC8vIDQuIHZpZXcgc2hvdWxkIGJlIGNoYW5nZWQgYmFjayB0byAnYSdcbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ01vZGVsV2F0Y2goKSB7XG4gICAgdmFyIG1vZGVsVmFsdWUgPSBuZ01vZGVsR2V0KCRzY29wZSk7XG5cbiAgICAvLyBpZiBzY29wZSBtb2RlbCB2YWx1ZSBhbmQgbmdNb2RlbCB2YWx1ZSBhcmUgb3V0IG9mIHN5bmNcbiAgICAvLyBUT0RPKHBlcmYpOiB3aHkgbm90IG1vdmUgdGhpcyB0byB0aGUgYWN0aW9uIGZuP1xuICAgIGlmIChtb2RlbFZhbHVlICE9PSBjdHJsLiRtb2RlbFZhbHVlICYmXG4gICAgICAgLy8gY2hlY2tzIGZvciBOYU4gaXMgbmVlZGVkIHRvIGFsbG93IHNldHRpbmcgdGhlIG1vZGVsIHRvIE5hTiB3aGVuIHRoZXJlJ3MgYW4gYXN5bmNWYWxpZGF0b3JcbiAgICAgICAoY3RybC4kbW9kZWxWYWx1ZSA9PT0gY3RybC4kbW9kZWxWYWx1ZSB8fCBtb2RlbFZhbHVlID09PSBtb2RlbFZhbHVlKVxuICAgICkge1xuICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGN0cmwuJCRyYXdNb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcbiAgICAgIHBhcnNlclZhbGlkID0gdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgZm9ybWF0dGVycyA9IGN0cmwuJGZvcm1hdHRlcnMsXG4gICAgICAgICAgaWR4ID0gZm9ybWF0dGVycy5sZW5ndGg7XG5cbiAgICAgIHZhciB2aWV3VmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgIHZpZXdWYWx1ZSA9IGZvcm1hdHRlcnNbaWR4XSh2aWV3VmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmlld1ZhbHVlKSB7XG4gICAgICAgIGN0cmwuJHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID0gdmlld1ZhbHVlO1xuICAgICAgICBjdHJsLiRyZW5kZXIoKTtcblxuICAgICAgICBjdHJsLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIG5vb3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICB9KTtcbn1dO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb2RlbFxuICpcbiAqIEBlbGVtZW50IGlucHV0XG4gKiBAcHJpb3JpdHkgMVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ01vZGVsYCBkaXJlY3RpdmUgYmluZHMgYW4gYGlucHV0YCxgc2VsZWN0YCwgYHRleHRhcmVhYCAob3IgY3VzdG9tIGZvcm0gY29udHJvbCkgdG8gYVxuICogcHJvcGVydHkgb24gdGhlIHNjb3BlIHVzaW5nIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIE5nTW9kZWxDb250cm9sbGVyfSxcbiAqIHdoaWNoIGlzIGNyZWF0ZWQgYW5kIGV4cG9zZWQgYnkgdGhpcyBkaXJlY3RpdmUuXG4gKlxuICogYG5nTW9kZWxgIGlzIHJlc3BvbnNpYmxlIGZvcjpcbiAqXG4gKiAtIEJpbmRpbmcgdGhlIHZpZXcgaW50byB0aGUgbW9kZWwsIHdoaWNoIG90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgaW5wdXRgLCBgdGV4dGFyZWFgIG9yIGBzZWxlY3RgXG4gKiAgIHJlcXVpcmUuXG4gKiAtIFByb3ZpZGluZyB2YWxpZGF0aW9uIGJlaGF2aW9yIChpLmUuIHJlcXVpcmVkLCBudW1iZXIsIGVtYWlsLCB1cmwpLlxuICogLSBLZWVwaW5nIHRoZSBzdGF0ZSBvZiB0aGUgY29udHJvbCAodmFsaWQvaW52YWxpZCwgZGlydHkvcHJpc3RpbmUsIHRvdWNoZWQvdW50b3VjaGVkLCB2YWxpZGF0aW9uIGVycm9ycykuXG4gKiAtIFNldHRpbmcgcmVsYXRlZCBjc3MgY2xhc3NlcyBvbiB0aGUgZWxlbWVudCAoYG5nLXZhbGlkYCwgYG5nLWludmFsaWRgLCBgbmctZGlydHlgLCBgbmctcHJpc3RpbmVgLCBgbmctdG91Y2hlZGAsIGBuZy11bnRvdWNoZWRgKSBpbmNsdWRpbmcgYW5pbWF0aW9ucy5cbiAqIC0gUmVnaXN0ZXJpbmcgdGhlIGNvbnRyb2wgd2l0aCBpdHMgcGFyZW50IHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfS5cbiAqXG4gKiBOb3RlOiBgbmdNb2RlbGAgd2lsbCB0cnkgdG8gYmluZCB0byB0aGUgcHJvcGVydHkgZ2l2ZW4gYnkgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbiBvbiB0aGVcbiAqIGN1cnJlbnQgc2NvcGUuIElmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0IGFscmVhZHkgZXhpc3Qgb24gdGhpcyBzY29wZSwgaXQgd2lsbCBiZSBjcmVhdGVkXG4gKiBpbXBsaWNpdGx5IGFuZCBhZGRlZCB0byB0aGUgc2NvcGUuXG4gKlxuICogRm9yIGJlc3QgcHJhY3RpY2VzIG9uIHVzaW5nIGBuZ01vZGVsYCwgc2VlOlxuICpcbiAqICAtIFtVbmRlcnN0YW5kaW5nIFNjb3Blc10oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzKVxuICpcbiAqIEZvciBiYXNpYyBleGFtcGxlcywgaG93IHRvIHVzZSBgbmdNb2RlbGAsIHNlZTpcbiAqXG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0fVxuICogICAgLSB7QGxpbmsgaW5wdXRbdGV4dF0gdGV4dH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W2NoZWNrYm94XSBjaGVja2JveH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3JhZGlvXSByYWRpb31cbiAqICAgIC0ge0BsaW5rIGlucHV0W251bWJlcl0gbnVtYmVyfVxuICogICAgLSB7QGxpbmsgaW5wdXRbZW1haWxdIGVtYWlsfVxuICogICAgLSB7QGxpbmsgaW5wdXRbdXJsXSB1cmx9XG4gKiAgICAtIHtAbGluayBpbnB1dFtkYXRlXSBkYXRlfVxuICogICAgLSB7QGxpbmsgaW5wdXRbZGF0ZXRpbWUtbG9jYWxdIGRhdGV0aW1lLWxvY2FsfVxuICogICAgLSB7QGxpbmsgaW5wdXRbdGltZV0gdGltZX1cbiAqICAgIC0ge0BsaW5rIGlucHV0W21vbnRoXSBtb250aH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3dlZWtdIHdlZWt9XG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9XG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOnRleHRhcmVhIHRleHRhcmVhfVxuICpcbiAqICMgQ1NTIGNsYXNzZXNcbiAqIFRoZSBmb2xsb3dpbmcgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkIG9uIHRoZSBhc3NvY2lhdGVkIGlucHV0L3NlbGVjdC90ZXh0YXJlYSBlbGVtZW50XG4gKiBkZXBlbmRpbmcgb24gdGhlIHZhbGlkaXR5IG9mIHRoZSBtb2RlbC5cbiAqXG4gKiAgLSBgbmctdmFsaWRgOiB0aGUgbW9kZWwgaXMgdmFsaWRcbiAqICAtIGBuZy1pbnZhbGlkYDogdGhlIG1vZGVsIGlzIGludmFsaWRcbiAqICAtIGBuZy12YWxpZC1ba2V5XWA6IGZvciBlYWNoIHZhbGlkIGtleSBhZGRlZCBieSBgJHNldFZhbGlkaXR5YFxuICogIC0gYG5nLWludmFsaWQtW2tleV1gOiBmb3IgZWFjaCBpbnZhbGlkIGtleSBhZGRlZCBieSBgJHNldFZhbGlkaXR5YFxuICogIC0gYG5nLXByaXN0aW5lYDogdGhlIGNvbnRyb2wgaGFzbid0IGJlZW4gaW50ZXJhY3RlZCB3aXRoIHlldFxuICogIC0gYG5nLWRpcnR5YDogdGhlIGNvbnRyb2wgaGFzIGJlZW4gaW50ZXJhY3RlZCB3aXRoXG4gKiAgLSBgbmctdG91Y2hlZGA6IHRoZSBjb250cm9sIGhhcyBiZWVuIGJsdXJyZWRcbiAqICAtIGBuZy11bnRvdWNoZWRgOiB0aGUgY29udHJvbCBoYXNuJ3QgYmVlbiBibHVycmVkXG4gKiAgLSBgbmctcGVuZGluZ2A6IGFueSBgJGFzeW5jVmFsaWRhdG9yc2AgYXJlIHVuZnVsZmlsbGVkXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgbmdBbmltYXRlIGNhbiBkZXRlY3QgZWFjaCBvZiB0aGVzZSBjbGFzc2VzIHdoZW4gYWRkZWQgYW5kIHJlbW92ZWQuXG4gKlxuICogIyMgQW5pbWF0aW9uIEhvb2tzXG4gKlxuICogQW5pbWF0aW9ucyB3aXRoaW4gbW9kZWxzIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkXG4gKiBvbiB0aGUgaW5wdXQgZWxlbWVudCB3aGljaCBpcyBhdHRhY2hlZCB0byB0aGUgbW9kZWwuIFRoZXNlIGNsYXNzZXMgYXJlOiBgLm5nLXByaXN0aW5lYCwgYC5uZy1kaXJ0eWAsXG4gKiBgLm5nLWludmFsaWRgIGFuZCBgLm5nLXZhbGlkYCBhcyB3ZWxsIGFzIGFueSBvdGhlciB2YWxpZGF0aW9ucyB0aGF0IGFyZSBwZXJmb3JtZWQgb24gdGhlIG1vZGVsIGl0c2VsZi5cbiAqIFRoZSBhbmltYXRpb25zIHRoYXQgYXJlIHRyaWdnZXJlZCB3aXRoaW4gbmdNb2RlbCBhcmUgc2ltaWxhciB0byBob3cgdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kXG4gKiBhbmltYXRpb25zIGNhbiBiZSBob29rZWQgaW50byB1c2luZyBDU1MgdHJhbnNpdGlvbnMsIGtleWZyYW1lcyBhcyB3ZWxsIGFzIEpTIGFuaW1hdGlvbnMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhbiBpbnB1dCBlbGVtZW50XG4gKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOlxuICpcbiAqIDxwcmU+XG4gKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmVcbiAqIC8vYWR2YW5jZWQgYW5pbWF0aW9uc1xuICogLm15LWlucHV0IHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICogfVxuICogLm15LWlucHV0Lm5nLWludmFsaWQge1xuICogICBiYWNrZ3JvdW5kOiByZWQ7XG4gKiAgIGNvbG9yOndoaXRlO1xuICogfVxuICogPC9wcmU+XG4gKlxuICogQGV4YW1wbGVcbiAqIDxleGFtcGxlIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIGZpeEJhc2U9XCJ0cnVlXCIgbW9kdWxlPVwiaW5wdXRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2lucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUudmFsID0gJzEnO1xuICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8c3R5bGU+XG4gICAgICAgICAubXktaW5wdXQge1xuICAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgICB9XG4gICAgICAgICAubXktaW5wdXQubmctaW52YWxpZCB7XG4gICAgICAgICAgIGNvbG9yOndoaXRlO1xuICAgICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICAgICB9XG4gICAgICAgPC9zdHlsZT5cbiAgICAgICA8cCBpZD1cImlucHV0RGVzY3JpcHRpb25cIj5cbiAgICAgICAgVXBkYXRlIGlucHV0IHRvIHNlZSB0cmFuc2l0aW9ucyB3aGVuIHZhbGlkL2ludmFsaWQuXG4gICAgICAgIEludGVnZXIgaXMgYSB2YWxpZCB2YWx1ZS5cbiAgICAgICA8L3A+XG4gICAgICAgPGZvcm0gbmFtZT1cInRlc3RGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJ2YWxcIiBuZy1wYXR0ZXJuPVwiL15cXGQrJC9cIiBuYW1lPVwiYW5pbVwiIGNsYXNzPVwibXktaW5wdXRcIlxuICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uXCIgLz5cbiAgICAgICA8L2Zvcm0+XG4gICAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiAjIyBCaW5kaW5nIHRvIGEgZ2V0dGVyL3NldHRlclxuICpcbiAqIFNvbWV0aW1lcyBpdCdzIGhlbHBmdWwgdG8gYmluZCBgbmdNb2RlbGAgdG8gYSBnZXR0ZXIvc2V0dGVyIGZ1bmN0aW9uLiAgQSBnZXR0ZXIvc2V0dGVyIGlzIGFcbiAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtb2RlbCB3aGVuIGNhbGxlZCB3aXRoIHplcm8gYXJndW1lbnRzLCBhbmQgc2V0c1xuICogdGhlIGludGVybmFsIHN0YXRlIG9mIGEgbW9kZWwgd2hlbiBjYWxsZWQgd2l0aCBhbiBhcmd1bWVudC4gSXQncyBzb21ldGltZXMgdXNlZnVsIHRvIHVzZSB0aGlzXG4gKiBmb3IgbW9kZWxzIHRoYXQgaGF2ZSBhbiBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiB0aGF0J3MgZGlmZmVyZW50IGZyb20gd2hhdCB0aGUgbW9kZWwgZXhwb3Nlc1xuICogdG8gdGhlIHZpZXcuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cbiAqICoqQmVzdCBQcmFjdGljZToqKiBJdCdzIGJlc3QgdG8ga2VlcCBnZXR0ZXJzIGZhc3QgYmVjYXVzZSBBbmd1bGFyIGlzIGxpa2VseSB0byBjYWxsIHRoZW0gbW9yZVxuICogZnJlcXVlbnRseSB0aGFuIG90aGVyIHBhcnRzIG9mIHlvdXIgY29kZS5cbiAqIDwvZGl2PlxuICpcbiAqIFlvdSB1c2UgdGhpcyBiZWhhdmlvciBieSBhZGRpbmcgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCJgIHRvIGFuIGVsZW1lbnQgdGhhdFxuICogaGFzIGBuZy1tb2RlbGAgYXR0YWNoZWQgdG8gaXQuIFlvdSBjYW4gYWxzbyBhZGQgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCJgIHRvXG4gKiBhIGA8Zm9ybT5gLCB3aGljaCB3aWxsIGVuYWJsZSB0aGlzIGJlaGF2aW9yIGZvciBhbGwgYDxpbnB1dD5gcyB3aXRoaW4gaXQuIFNlZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnNgfSBmb3IgbW9yZS5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBgbmdNb2RlbGAgd2l0aCBhIGdldHRlci9zZXR0ZXI6XG4gKlxuICogQGV4YW1wbGVcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsLWdldHRlci1zZXR0ZXJcIiBtb2R1bGU9XCJnZXR0ZXJTZXR0ZXJFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICAgICAgICAgICA8bGFiZWw+TmFtZTpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCIgLz5cbiAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZSgpXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgdmFyIF9uYW1lID0gJ0JyaWFuJztcbiAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XG4gICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xuICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgbmV3TmFtZSBjYW4gYmUgdW5kZWZpbmVkIGZvciB0d28gcmVhc29uczpcbiAgICAgICAgICAgICAgLy8gMS4gQmVjYXVzZSBpdCBpcyBjYWxsZWQgYXMgYSBnZXR0ZXIgYW5kIHRodXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzXG4gICAgICAgICAgICAgIC8vIDIuIEJlY2F1c2UgdGhlIHByb3BlcnR5IHNob3VsZCBhY3R1YWxseSBiZSBzZXQgdG8gdW5kZWZpbmVkLiBUaGlzIGhhcHBlbnMgZS5nLiBpZiB0aGVcbiAgICAgICAgICAgICAgLy8gICAgaW5wdXQgaXMgaW52YWxpZFxuICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChfbmFtZSA9IG5ld05hbWUpIDogX25hbWU7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICB9O1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ01vZGVsRGlyZWN0aXZlID0gWyckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHJvb3RTY29wZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ14/Zm9ybScsICdeP25nTW9kZWxPcHRpb25zJ10sXG4gICAgY29udHJvbGxlcjogTmdNb2RlbENvbnRyb2xsZXIsXG4gICAgLy8gUHJlbGluayBuZWVkcyB0byBydW4gYmVmb3JlIGFueSBpbnB1dCBkaXJlY3RpdmVcbiAgICAvLyBzbyB0aGF0IHdlIGNhbiBzZXQgdGhlIE5nTW9kZWxPcHRpb25zIGluIE5nTW9kZWxDb250cm9sbGVyXG4gICAgLy8gYmVmb3JlIGFueW9uZSBlbHNlIHVzZXMgaXQuXG4gICAgcHJpb3JpdHk6IDEsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdNb2RlbENvbXBpbGUoZWxlbWVudCkge1xuICAgICAgLy8gU2V0dXAgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29udHJvbFxuICAgICAgZWxlbWVudC5hZGRDbGFzcyhQUklTVElORV9DTEFTUykuYWRkQ2xhc3MoVU5UT1VDSEVEX0NMQVNTKS5hZGRDbGFzcyhWQUxJRF9DTEFTUyk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZTogZnVuY3Rpb24gbmdNb2RlbFByZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdLFxuICAgICAgICAgICAgICBmb3JtQ3RybCA9IGN0cmxzWzFdIHx8IG1vZGVsQ3RybC4kJHBhcmVudEZvcm07XG5cbiAgICAgICAgICBtb2RlbEN0cmwuJCRzZXRPcHRpb25zKGN0cmxzWzJdICYmIGN0cmxzWzJdLiRvcHRpb25zKTtcblxuICAgICAgICAgIC8vIG5vdGlmeSBvdGhlcnMsIGVzcGVjaWFsbHkgcGFyZW50IGZvcm1zXG4gICAgICAgICAgZm9ybUN0cmwuJGFkZENvbnRyb2wobW9kZWxDdHJsKTtcblxuICAgICAgICAgIGF0dHIuJG9ic2VydmUoJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kbmFtZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2wobW9kZWxDdHJsLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtb2RlbEN0cmwuJCRwYXJlbnRGb3JtLiRyZW1vdmVDb250cm9sKG1vZGVsQ3RybCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBvc3Q6IGZ1bmN0aW9uIG5nTW9kZWxQb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF07XG4gICAgICAgICAgaWYgKG1vZGVsQ3RybC4kb3B0aW9ucyAmJiBtb2RlbEN0cmwuJG9wdGlvbnMudXBkYXRlT24pIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24obW9kZWxDdHJsLiRvcHRpb25zLnVwZGF0ZU9uLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgICBtb2RlbEN0cmwuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdChldiAmJiBldi50eXBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnQub24oJ2JsdXInLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kdG91Y2hlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMobW9kZWxDdHJsLiRzZXRUb3VjaGVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseShtb2RlbEN0cmwuJHNldFRvdWNoZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgREVGQVVMVF9SRUdFWFAgPSAvKFxccyt8XilkZWZhdWx0KFxccyt8JCkvO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW9kZWxPcHRpb25zXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbGxvd3MgdHVuaW5nIGhvdyBtb2RlbCB1cGRhdGVzIGFyZSBkb25lLiBVc2luZyBgbmdNb2RlbE9wdGlvbnNgIHlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbSBsaXN0IG9mXG4gKiBldmVudHMgdGhhdCB3aWxsIHRyaWdnZXIgYSBtb2RlbCB1cGRhdGUgYW5kL29yIGEgZGVib3VuY2luZyBkZWxheSBzbyB0aGF0IHRoZSBhY3R1YWwgdXBkYXRlIG9ubHlcbiAqIHRha2VzIHBsYWNlIHdoZW4gYSB0aW1lciBleHBpcmVzOyB0aGlzIHRpbWVyIHdpbGwgYmUgcmVzZXQgYWZ0ZXIgYW5vdGhlciBjaGFuZ2UgdGFrZXMgcGxhY2UuXG4gKlxuICogR2l2ZW4gdGhlIG5hdHVyZSBvZiBgbmdNb2RlbE9wdGlvbnNgLCB0aGUgdmFsdWUgZGlzcGxheWVkIGluc2lkZSBpbnB1dCBmaWVsZHMgaW4gdGhlIHZpZXcgbWlnaHRcbiAqIGJlIGRpZmZlcmVudCBmcm9tIHRoZSB2YWx1ZSBpbiB0aGUgYWN0dWFsIG1vZGVsLiBUaGlzIG1lYW5zIHRoYXQgaWYgeW91IHVwZGF0ZSB0aGUgbW9kZWwgeW91XG4gKiBzaG91bGQgYWxzbyBpbnZva2Uge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgYCRyb2xsYmFja1ZpZXdWYWx1ZWB9IG9uIHRoZSByZWxldmFudCBpbnB1dCBmaWVsZCBpblxuICogb3JkZXIgdG8gbWFrZSBzdXJlIGl0IGlzIHN5bmNocm9uaXplZCB3aXRoIHRoZSBtb2RlbCBhbmQgdGhhdCBhbnkgZGVib3VuY2VkIGFjdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBUaGUgZWFzaWVzdCB3YXkgdG8gcmVmZXJlbmNlIHRoZSBjb250cm9sJ3Mge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgYCRyb2xsYmFja1ZpZXdWYWx1ZWB9XG4gKiBtZXRob2QgaXMgYnkgbWFraW5nIHN1cmUgdGhlIGlucHV0IGlzIHBsYWNlZCBpbnNpZGUgYSBmb3JtIHRoYXQgaGFzIGEgYG5hbWVgIGF0dHJpYnV0ZS4gVGhpcyBpc1xuICogaW1wb3J0YW50IGJlY2F1c2UgYGZvcm1gIGNvbnRyb2xsZXJzIGFyZSBwdWJsaXNoZWQgdG8gdGhlIHJlbGF0ZWQgc2NvcGUgdW5kZXIgdGhlIG5hbWUgaW4gdGhlaXJcbiAqIGBuYW1lYCBhdHRyaWJ1dGUuXG4gKlxuICogQW55IHBlbmRpbmcgY2hhbmdlcyB3aWxsIHRha2UgcGxhY2UgaW1tZWRpYXRlbHkgd2hlbiBhbiBlbmNsb3NpbmcgZm9ybSBpcyBzdWJtaXR0ZWQgdmlhIHRoZVxuICogYHN1Ym1pdGAgZXZlbnQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxuICogdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIHVwZGF0ZWQgbW9kZWwuXG4gKlxuICogYG5nTW9kZWxPcHRpb25zYCBoYXMgYW4gZWZmZWN0IG9uIHRoZSBlbGVtZW50IGl0J3MgZGVjbGFyZWQgb24gYW5kIGl0cyBkZXNjZW5kYW50cy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbmdNb2RlbE9wdGlvbnMgb3B0aW9ucyB0byBhcHBseSB0byB0aGUgY3VycmVudCBtb2RlbC4gVmFsaWQga2V5cyBhcmU6XG4gKiAgIC0gYHVwZGF0ZU9uYDogc3RyaW5nIHNwZWNpZnlpbmcgd2hpY2ggZXZlbnQgc2hvdWxkIHRoZSBpbnB1dCBiZSBib3VuZCB0by4gWW91IGNhbiBzZXQgc2V2ZXJhbFxuICogICAgIGV2ZW50cyB1c2luZyBhbiBzcGFjZSBkZWxpbWl0ZWQgbGlzdC4gVGhlcmUgaXMgYSBzcGVjaWFsIGV2ZW50IGNhbGxlZCBgZGVmYXVsdGAgdGhhdFxuICogICAgIG1hdGNoZXMgdGhlIGRlZmF1bHQgZXZlbnRzIGJlbG9uZ2luZyBvZiB0aGUgY29udHJvbC5cbiAqICAgLSBgZGVib3VuY2VgOiBpbnRlZ2VyIHZhbHVlIHdoaWNoIGNvbnRhaW5zIHRoZSBkZWJvdW5jZSBtb2RlbCB1cGRhdGUgdmFsdWUgaW4gbWlsbGlzZWNvbmRzLiBBXG4gKiAgICAgdmFsdWUgb2YgMCB0cmlnZ2VycyBhbiBpbW1lZGlhdGUgdXBkYXRlLiBJZiBhbiBvYmplY3QgaXMgc3VwcGxpZWQgaW5zdGVhZCwgeW91IGNhbiBzcGVjaWZ5IGFcbiAqICAgICBjdXN0b20gdmFsdWUgZm9yIGVhY2ggZXZlbnQuIEZvciBleGFtcGxlOlxuICogICAgIGBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2RlZmF1bHQgYmx1cicsIGRlYm91bmNlOiB7ICdkZWZhdWx0JzogNTAwLCAnYmx1cic6IDAgfSB9XCJgXG4gKiAgIC0gYGFsbG93SW52YWxpZGA6IGJvb2xlYW4gdmFsdWUgd2hpY2ggaW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsIGNhbiBiZSBzZXQgd2l0aCB2YWx1ZXMgdGhhdCBkaWRcbiAqICAgICBub3QgdmFsaWRhdGUgY29ycmVjdGx5IGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2Ygc2V0dGluZyB0aGUgbW9kZWwgdG8gdW5kZWZpbmVkLlxuICogICAtIGBnZXR0ZXJTZXR0ZXJgOiBib29sZWFuIHZhbHVlIHdoaWNoIGRldGVybWluZXMgd2hldGhlciBvciBub3QgdG8gdHJlYXQgZnVuY3Rpb25zIGJvdW5kIHRvXG4gICAgICAgYG5nTW9kZWxgIGFzIGdldHRlcnMvc2V0dGVycy5cbiAqICAgLSBgdGltZXpvbmVgOiBEZWZpbmVzIHRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgZm9yXG4gKiAgICAgYDxpbnB1dCB0eXBlPVwiZGF0ZVwiPmAsIGA8aW5wdXQgdHlwZT1cInRpbWVcIj5gLCAuLi4gLiBJdCB1bmRlcnN0YW5kcyBVVEMvR01UIGFuZCB0aGVcbiAqICAgICBjb250aW5lbnRhbCBVUyB0aW1lIHpvbmUgYWJicmV2aWF0aW9ucywgYnV0IGZvciBnZW5lcmFsIHVzZSwgdXNlIGEgdGltZSB6b25lIG9mZnNldCwgZm9yXG4gKiAgICAgZXhhbXBsZSwgYCcrMDQzMCdgICg0IGhvdXJzLCAzMCBtaW51dGVzIGVhc3Qgb2YgdGhlIEdyZWVud2ljaCBtZXJpZGlhbilcbiAqICAgICBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIgd2lsbCBiZSB1c2VkLlxuICpcbiAqIEBleGFtcGxlXG5cbiAgVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBvdmVycmlkZSBpbW1lZGlhdGUgdXBkYXRlcy4gQ2hhbmdlcyBvbiB0aGUgaW5wdXRzIHdpdGhpbiB0aGVcbiAgZm9ybSB3aWxsIHVwZGF0ZSB0aGUgbW9kZWwgb25seSB3aGVuIHRoZSBjb250cm9sIGxvc2VzIGZvY3VzIChibHVyIGV2ZW50KS4gSWYgYGVzY2FwZWAga2V5IGlzXG4gIHByZXNzZWQgd2hpbGUgdGhlIGlucHV0IGZpZWxkIGlzIGZvY3VzZWQsIHRoZSB2YWx1ZSBpcyByZXNldCB0byB0aGUgdmFsdWUgaW4gdGhlIGN1cnJlbnQgbW9kZWwuXG5cbiAgPGV4YW1wbGUgbmFtZT1cIm5nTW9kZWxPcHRpb25zLWRpcmVjdGl2ZS1ibHVyXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gICAgICAgICAgPGxhYmVsPk5hbWU6XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2JsdXInIH1cIlxuICAgICAgICAgICAgICAgICAgIG5nLWtleXVwPVwiY2FuY2VsKCRldmVudClcIiAvPlxuICAgICAgICAgIDwvbGFiZWw+PGJyIC8+XG4gICAgICAgICAgPGxhYmVsPk90aGVyIGRhdGE6XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIuZGF0YVwiIC8+XG4gICAgICAgICAgPC9sYWJlbD48YnIgLz5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWVcIj48L3NwYW4+PC9wcmU+XG4gICAgICAgIDxwcmU+dXNlci5kYXRhID0gPHNwYW4gbmctYmluZD1cInVzZXIuZGF0YVwiPjwvc3Bhbj48L3ByZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnb3B0aW9uc0V4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUudXNlciA9IHsgbmFtZTogJ0pvaG4nLCBkYXRhOiAnJyB9O1xuXG4gICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnVzZXJGb3JtLnVzZXJOYW1lLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyLm5hbWUnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLm5hbWUnKSk7XG4gICAgICB2YXIgb3RoZXIgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLmRhdGEnKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYWxsb3cgY3VzdG9tIGV2ZW50cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpbnB1dC5zZW5kS2V5cygnIERvZScpO1xuICAgICAgICBpbnB1dC5jbGljaygpO1xuICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0VxdWFsKCdKb2huJyk7XG4gICAgICAgIG90aGVyLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0pvaG4gRG9lJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCAkcm9sbGJhY2tWaWV3VmFsdWUgd2hlbiBtb2RlbCBjaGFuZ2VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LnNlbmRLZXlzKCcgRG9lJyk7XG4gICAgICAgIGV4cGVjdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJ0pvaG4gRG9lJyk7XG4gICAgICAgIGlucHV0LnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkVTQ0FQRSk7XG4gICAgICAgIGV4cGVjdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJ0pvaG4nKTtcbiAgICAgICAgb3RoZXIuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnSm9obicpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG5cbiAgVGhpcyBvbmUgc2hvd3MgaG93IHRvIGRlYm91bmNlIG1vZGVsIGNoYW5nZXMuIE1vZGVsIHdpbGwgYmUgdXBkYXRlZCBvbmx5IDEgc2VjIGFmdGVyIGxhc3QgY2hhbmdlLlxuICBJZiB0aGUgYENsZWFyYCBidXR0b24gaXMgcHJlc3NlZCwgYW55IGRlYm91bmNlZCBhY3Rpb24gaXMgY2FuY2VsZWQgYW5kIHRoZSB2YWx1ZSBiZWNvbWVzIGVtcHR5LlxuXG4gIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtZGVib3VuY2VcIiBtb2R1bGU9XCJvcHRpb25zRXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAgICAgICAgICA8bGFiZWw+TmFtZTpcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXG4gICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGRlYm91bmNlOiAxMDAwIH1cIiAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInVzZXJGb3JtLnVzZXJOYW1lLiRyb2xsYmFja1ZpZXdWYWx1ZSgpOyB1c2VyLm5hbWU9JydcIj5DbGVhcjwvYnV0dG9uPlxuICAgICAgICAgIDxiciAvPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZVwiPjwvc3Bhbj48L3ByZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnb3B0aW9uc0V4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUudXNlciA9IHsgbmFtZTogJ0lnb3InIH07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cblxuICBUaGlzIG9uZSBzaG93cyBob3cgdG8gYmluZCB0byBnZXR0ZXIvc2V0dGVyczpcblxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWdldHRlci1zZXR0ZXJcIiBtb2R1bGU9XCJnZXR0ZXJTZXR0ZXJFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICAgICAgICAgIDxsYWJlbD5OYW1lOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cIiAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lKClcIj48L3NwYW4+PC9wcmU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2dldHRlclNldHRlckV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICB2YXIgX25hbWUgPSAnQnJpYW4nO1xuICAgICAgICAgICRzY29wZS51c2VyID0ge1xuICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xuICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgbmV3TmFtZSBjYW4gYmUgdW5kZWZpbmVkIGZvciB0d28gcmVhc29uczpcbiAgICAgICAgICAgICAgLy8gMS4gQmVjYXVzZSBpdCBpcyBjYWxsZWQgYXMgYSBnZXR0ZXIgYW5kIHRodXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzXG4gICAgICAgICAgICAgIC8vIDIuIEJlY2F1c2UgdGhlIHByb3BlcnR5IHNob3VsZCBhY3R1YWxseSBiZSBzZXQgdG8gdW5kZWZpbmVkLiBUaGlzIGhhcHBlbnMgZS5nLiBpZiB0aGVcbiAgICAgICAgICAgICAgLy8gICAgaW5wdXQgaXMgaW52YWxpZFxuICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChfbmFtZSA9IG5ld05hbWUpIDogX25hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB0aGlzLiRvcHRpb25zID0gY29weSgkc2NvcGUuJGV2YWwoJGF0dHJzLm5nTW9kZWxPcHRpb25zKSk7XG4gICAgICAvLyBBbGxvdyBhZGRpbmcvb3ZlcnJpZGluZyBib3VuZCBldmVudHNcbiAgICAgIGlmIChpc0RlZmluZWQodGhpcy4kb3B0aW9ucy51cGRhdGVPbikpIHtcbiAgICAgICAgdGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgLy8gZXh0cmFjdCBcImRlZmF1bHRcIiBwc2V1ZG8tZXZlbnQgZnJvbSBsaXN0IG9mIGV2ZW50cyB0aGF0IGNhbiB0cmlnZ2VyIGEgbW9kZWwgdXBkYXRlXG4gICAgICAgIHRoaXMuJG9wdGlvbnMudXBkYXRlT24gPSB0cmltKHRoaXMuJG9wdGlvbnMudXBkYXRlT24ucmVwbGFjZShERUZBVUxUX1JFR0VYUCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhhdC4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiAnICc7XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XVxuICB9O1xufTtcblxuXG5cbi8vIGhlbHBlciBtZXRob2RzXG5mdW5jdGlvbiBhZGRTZXRWYWxpZGl0eU1ldGhvZChjb250ZXh0KSB7XG4gIHZhciBjdHJsID0gY29udGV4dC5jdHJsLFxuICAgICAgJGVsZW1lbnQgPSBjb250ZXh0LiRlbGVtZW50LFxuICAgICAgY2xhc3NDYWNoZSA9IHt9LFxuICAgICAgc2V0ID0gY29udGV4dC5zZXQsXG4gICAgICB1bnNldCA9IGNvbnRleHQudW5zZXQsXG4gICAgICAkYW5pbWF0ZSA9IGNvbnRleHQuJGFuaW1hdGU7XG5cbiAgY2xhc3NDYWNoZVtJTlZBTElEX0NMQVNTXSA9ICEoY2xhc3NDYWNoZVtWQUxJRF9DTEFTU10gPSAkZWxlbWVudC5oYXNDbGFzcyhWQUxJRF9DTEFTUykpO1xuXG4gIGN0cmwuJHNldFZhbGlkaXR5ID0gc2V0VmFsaWRpdHk7XG5cbiAgZnVuY3Rpb24gc2V0VmFsaWRpdHkodmFsaWRhdGlvbkVycm9yS2V5LCBzdGF0ZSwgY29udHJvbGxlcikge1xuICAgIGlmIChpc1VuZGVmaW5lZChzdGF0ZSkpIHtcbiAgICAgIGNyZWF0ZUFuZFNldCgnJHBlbmRpbmcnLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bnNldEFuZENsZWFudXAoJyRwZW5kaW5nJywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICB9XG4gICAgaWYgKCFpc0Jvb2xlYW4oc3RhdGUpKSB7XG4gICAgICB1bnNldChjdHJsLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgIHVuc2V0KGN0cmwuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgdW5zZXQoY3RybC4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgICAgIHNldChjdHJsLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldChjdHJsLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgICAgdW5zZXQoY3RybC4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdHJsLiRwZW5kaW5nKSB7XG4gICAgICBjYWNoZWRUb2dnbGVDbGFzcyhQRU5ESU5HX0NMQVNTLCB0cnVlKTtcbiAgICAgIGN0cmwuJHZhbGlkID0gY3RybC4kaW52YWxpZCA9IHVuZGVmaW5lZDtcbiAgICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3MoJycsIG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZWRUb2dnbGVDbGFzcyhQRU5ESU5HX0NMQVNTLCBmYWxzZSk7XG4gICAgICBjdHJsLiR2YWxpZCA9IGlzT2JqZWN0RW1wdHkoY3RybC4kZXJyb3IpO1xuICAgICAgY3RybC4kaW52YWxpZCA9ICFjdHJsLiR2YWxpZDtcbiAgICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3MoJycsIGN0cmwuJHZhbGlkKTtcbiAgICB9XG5cbiAgICAvLyByZS1yZWFkIHRoZSBzdGF0ZSBhcyB0aGUgc2V0L3Vuc2V0IG1ldGhvZHMgY291bGQgaGF2ZVxuICAgIC8vIGNvbWJpbmVkIHN0YXRlIGluIGN0cmwuJGVycm9yW3ZhbGlkYXRpb25FcnJvcl0gKHVzZWQgZm9yIGZvcm1zKSxcbiAgICAvLyB3aGVyZSBzZXR0aW5nL3Vuc2V0dGluZyBvbmx5IGluY3JlbWVudHMvZGVjcmVtZW50cyB0aGUgdmFsdWUsXG4gICAgLy8gYW5kIGRvZXMgbm90IHJlcGxhY2UgaXQuXG4gICAgdmFyIGNvbWJpbmVkU3RhdGU7XG4gICAgaWYgKGN0cmwuJHBlbmRpbmcgJiYgY3RybC4kcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldKSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoY3RybC4kZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoY3RybC4kJHN1Y2Nlc3NbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSBudWxsO1xuICAgIH1cblxuICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3ModmFsaWRhdGlvbkVycm9yS2V5LCBjb21iaW5lZFN0YXRlKTtcbiAgICBjdHJsLiQkcGFyZW50Rm9ybS4kc2V0VmFsaWRpdHkodmFsaWRhdGlvbkVycm9yS2V5LCBjb21iaW5lZFN0YXRlLCBjdHJsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFuZFNldChuYW1lLCB2YWx1ZSwgY29udHJvbGxlcikge1xuICAgIGlmICghY3RybFtuYW1lXSkge1xuICAgICAgY3RybFtuYW1lXSA9IHt9O1xuICAgIH1cbiAgICBzZXQoY3RybFtuYW1lXSwgdmFsdWUsIGNvbnRyb2xsZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5zZXRBbmRDbGVhbnVwKG5hbWUsIHZhbHVlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKGN0cmxbbmFtZV0pIHtcbiAgICAgIHVuc2V0KGN0cmxbbmFtZV0sIHZhbHVlLCBjb250cm9sbGVyKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0RW1wdHkoY3RybFtuYW1lXSkpIHtcbiAgICAgIGN0cmxbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2FjaGVkVG9nZ2xlQ2xhc3MoY2xhc3NOYW1lLCBzd2l0Y2hWYWx1ZSkge1xuICAgIGlmIChzd2l0Y2hWYWx1ZSAmJiAhY2xhc3NDYWNoZVtjbGFzc05hbWVdKSB7XG4gICAgICAkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgIGNsYXNzQ2FjaGVbY2xhc3NOYW1lXSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICghc3dpdGNoVmFsdWUgJiYgY2xhc3NDYWNoZVtjbGFzc05hbWVdKSB7XG4gICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgIGNsYXNzQ2FjaGVbY2xhc3NOYW1lXSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZVZhbGlkYXRpb25Dc3ModmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkKSB7XG4gICAgdmFsaWRhdGlvbkVycm9yS2V5ID0gdmFsaWRhdGlvbkVycm9yS2V5ID8gJy0nICsgc25ha2VfY2FzZSh2YWxpZGF0aW9uRXJyb3JLZXksICctJykgOiAnJztcblxuICAgIGNhY2hlZFRvZ2dsZUNsYXNzKFZBTElEX0NMQVNTICsgdmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkID09PSB0cnVlKTtcbiAgICBjYWNoZWRUb2dnbGVDbGFzcyhJTlZBTElEX0NMQVNTICsgdmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkID09PSBmYWxzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgaWYgKG9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdOb25CaW5kYWJsZVxuICogQHJlc3RyaWN0IEFDXG4gKiBAcHJpb3JpdHkgMTAwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ05vbkJpbmRhYmxlYCBkaXJlY3RpdmUgdGVsbHMgQW5ndWxhciBub3QgdG8gY29tcGlsZSBvciBiaW5kIHRoZSBjb250ZW50cyBvZiB0aGUgY3VycmVudFxuICogRE9NIGVsZW1lbnQuIFRoaXMgaXMgdXNlZnVsIGlmIHRoZSBlbGVtZW50IGNvbnRhaW5zIHdoYXQgYXBwZWFycyB0byBiZSBBbmd1bGFyIGRpcmVjdGl2ZXMgYW5kXG4gKiBiaW5kaW5ncyBidXQgd2hpY2ggc2hvdWxkIGJlIGlnbm9yZWQgYnkgQW5ndWxhci4gVGhpcyBjb3VsZCBiZSB0aGUgY2FzZSBpZiB5b3UgaGF2ZSBhIHNpdGUgdGhhdFxuICogZGlzcGxheXMgc25pcHBldHMgb2YgY29kZSwgZm9yIGluc3RhbmNlLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICpcbiAqIEBleGFtcGxlXG4gKiBJbiB0aGlzIGV4YW1wbGUgdGhlcmUgYXJlIHR3byBsb2NhdGlvbnMgd2hlcmUgYSBzaW1wbGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5nIChge3t9fWApIGlzIHByZXNlbnQsXG4gKiBidXQgdGhlIG9uZSB3cmFwcGVkIGluIGBuZ05vbkJpbmRhYmxlYCBpcyBsZWZ0IGFsb25lLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8ZGl2Pk5vcm1hbDoge3sxICsgMn19PC9kaXY+XG4gICAgICAgIDxkaXYgbmctbm9uLWJpbmRhYmxlPklnbm9yZWQ6IHt7MSArIDJ9fTwvZGl2PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctbm9uLWJpbmRhYmxlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCcxICsgMicpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignMycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnZGl2JykpLmxhc3QoKS5nZXRUZXh0KCkpLnRvTWF0Y2goLzEgXFwrIDIvKTtcbiAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoeyB0ZXJtaW5hbDogdHJ1ZSwgcHJpb3JpdHk6IDEwMDAgfSk7XG5cbi8qIGdsb2JhbCBqcUxpdGVSZW1vdmUgKi9cblxudmFyIG5nT3B0aW9uc01pbkVyciA9IG1pbkVycignbmdPcHRpb25zJyk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdPcHRpb25zXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgbmdPcHRpb25zYCBhdHRyaWJ1dGUgY2FuIGJlIHVzZWQgdG8gZHluYW1pY2FsbHkgZ2VuZXJhdGUgYSBsaXN0IG9mIGA8b3B0aW9uPmBcbiAqIGVsZW1lbnRzIGZvciB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50IHVzaW5nIHRoZSBhcnJheSBvciBvYmplY3Qgb2J0YWluZWQgYnkgZXZhbHVhdGluZyB0aGVcbiAqIGBuZ09wdGlvbnNgIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbi5cbiAqXG4gKiBJbiBtYW55IGNhc2VzLCBgbmdSZXBlYXRgIGNhbiBiZSB1c2VkIG9uIGA8b3B0aW9uPmAgZWxlbWVudHMgaW5zdGVhZCBvZiBgbmdPcHRpb25zYCB0byBhY2hpZXZlIGFcbiAqIHNpbWlsYXIgcmVzdWx0LiBIb3dldmVyLCBgbmdPcHRpb25zYCBwcm92aWRlcyBzb21lIGJlbmVmaXRzIHN1Y2ggYXMgcmVkdWNpbmcgbWVtb3J5IGFuZFxuICogaW5jcmVhc2luZyBzcGVlZCBieSBub3QgY3JlYXRpbmcgYSBuZXcgc2NvcGUgZm9yIGVhY2ggcmVwZWF0ZWQgaW5zdGFuY2UsIGFzIHdlbGwgYXMgcHJvdmlkaW5nXG4gKiBtb3JlIGZsZXhpYmlsaXR5IGluIGhvdyB0aGUgYDxzZWxlY3Q+YCdzIG1vZGVsIGlzIGFzc2lnbmVkIHZpYSB0aGUgYHNlbGVjdGAgKipgYXNgKiogcGFydCBvZiB0aGVcbiAqIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbi4gYG5nT3B0aW9uc2Agc2hvdWxkIGJlIHVzZWQgd2hlbiB0aGUgYDxzZWxlY3Q+YCBtb2RlbCBuZWVkcyB0byBiZSBib3VuZFxuICogIHRvIGEgbm9uLXN0cmluZyB2YWx1ZS4gVGhpcyBpcyBiZWNhdXNlIGFuIG9wdGlvbiBlbGVtZW50IGNhbiBvbmx5IGJlIGJvdW5kIHRvIHN0cmluZyB2YWx1ZXMgYXRcbiAqIHByZXNlbnQuXG4gKlxuICogV2hlbiBhbiBpdGVtIGluIHRoZSBgPHNlbGVjdD5gIG1lbnUgaXMgc2VsZWN0ZWQsIHRoZSBhcnJheSBlbGVtZW50IG9yIG9iamVjdCBwcm9wZXJ0eVxuICogcmVwcmVzZW50ZWQgYnkgdGhlIHNlbGVjdGVkIG9wdGlvbiB3aWxsIGJlIGJvdW5kIHRvIHRoZSBtb2RlbCBpZGVudGlmaWVkIGJ5IHRoZSBgbmdNb2RlbGBcbiAqIGRpcmVjdGl2ZS5cbiAqXG4gKiBPcHRpb25hbGx5LCBhIHNpbmdsZSBoYXJkLWNvZGVkIGA8b3B0aW9uPmAgZWxlbWVudCwgd2l0aCB0aGUgdmFsdWUgc2V0IHRvIGFuIGVtcHR5IHN0cmluZywgY2FuXG4gKiBiZSBuZXN0ZWQgaW50byB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50LiBUaGlzIGVsZW1lbnQgd2lsbCB0aGVuIHJlcHJlc2VudCB0aGUgYG51bGxgIG9yIFwibm90IHNlbGVjdGVkXCJcbiAqIG9wdGlvbi4gU2VlIGV4YW1wbGUgYmVsb3cgZm9yIGRlbW9uc3RyYXRpb24uXG4gKlxuICogIyMgQ29tcGxleCBNb2RlbHMgKG9iamVjdHMgb3IgY29sbGVjdGlvbnMpXG4gKlxuICogQnkgZGVmYXVsdCwgYG5nTW9kZWxgIHdhdGNoZXMgdGhlIG1vZGVsIGJ5IHJlZmVyZW5jZSwgbm90IHZhbHVlLiBUaGlzIGlzIGltcG9ydGFudCB0byBrbm93IHdoZW5cbiAqIGJpbmRpbmcgdGhlIHNlbGVjdCB0byBhIG1vZGVsIHRoYXQgaXMgYW4gb2JqZWN0IG9yIGEgY29sbGVjdGlvbi5cbiAqXG4gKiBPbmUgaXNzdWUgb2NjdXJzIGlmIHlvdSB3YW50IHRvIHByZXNlbGVjdCBhbiBvcHRpb24uIEZvciBleGFtcGxlLCBpZiB5b3Ugc2V0XG4gKiB0aGUgbW9kZWwgdG8gYW4gb2JqZWN0IHRoYXQgaXMgZXF1YWwgdG8gYW4gb2JqZWN0IGluIHlvdXIgY29sbGVjdGlvbiwgYG5nT3B0aW9uc2Agd29uJ3QgYmUgYWJsZSB0byBzZXQgdGhlIHNlbGVjdGlvbixcbiAqIGJlY2F1c2UgdGhlIG9iamVjdHMgYXJlIG5vdCBpZGVudGljYWwuIFNvIGJ5IGRlZmF1bHQsIHlvdSBzaG91bGQgYWx3YXlzIHJlZmVyZW5jZSB0aGUgaXRlbSBpbiB5b3VyIGNvbGxlY3Rpb25cbiAqIGZvciBwcmVzZWxlY3Rpb25zLCBlLmcuOiBgJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLmNvbGxlY3Rpb25bM11gLlxuICpcbiAqIEFub3RoZXIgc29sdXRpb24gaXMgdG8gdXNlIGEgYHRyYWNrIGJ5YCBjbGF1c2UsIGJlY2F1c2UgdGhlbiBgbmdPcHRpb25zYCB3aWxsIHRyYWNrIHRoZSBpZGVudGl0eVxuICogb2YgdGhlIGl0ZW0gbm90IGJ5IHJlZmVyZW5jZSwgYnV0IGJ5IHRoZSByZXN1bHQgb2YgdGhlIGB0cmFjayBieWAgZXhwcmVzc2lvbi4gRm9yIGV4YW1wbGUsIGlmIHlvdXJcbiAqIGNvbGxlY3Rpb24gaXRlbXMgaGF2ZSBhbiBpZCBwcm9wZXJ0eSwgeW91IHdvdWxkIGB0cmFjayBieSBpdGVtLmlkYC5cbiAqXG4gKiBBIGRpZmZlcmVudCBpc3N1ZSB3aXRoIG9iamVjdHMgb3IgY29sbGVjdGlvbnMgaXMgdGhhdCBuZ01vZGVsIHdvbid0IGRldGVjdCBpZiBhbiBvYmplY3QgcHJvcGVydHkgb3JcbiAqIGEgY29sbGVjdGlvbiBpdGVtIGNoYW5nZXMuIEZvciB0aGF0IHJlYXNvbiwgYG5nT3B0aW9uc2AgYWRkaXRpb25hbGx5IHdhdGNoZXMgdGhlIG1vZGVsIHVzaW5nXG4gKiBgJHdhdGNoQ29sbGVjdGlvbmAsIHdoZW4gdGhlIGV4cHJlc3Npb24gY29udGFpbnMgYSBgdHJhY2sgYnlgIGNsYXVzZSBvciB0aGUgdGhlIHNlbGVjdCBoYXMgdGhlIGBtdWx0aXBsZWAgYXR0cmlidXRlLlxuICogVGhpcyBhbGxvd3MgbmdPcHRpb25zIHRvIHRyaWdnZXIgYSByZS1yZW5kZXJpbmcgb2YgdGhlIG9wdGlvbnMgZXZlbiBpZiB0aGUgYWN0dWFsIG9iamVjdC9jb2xsZWN0aW9uXG4gKiBoYXMgbm90IGNoYW5nZWQgaWRlbnRpdHksIGJ1dCBvbmx5IGEgcHJvcGVydHkgb24gdGhlIG9iamVjdCBvciBhbiBpdGVtIGluIHRoZSBjb2xsZWN0aW9uIGNoYW5nZXMuXG4gKlxuICogTm90ZSB0aGF0IGAkd2F0Y2hDb2xsZWN0aW9uYCBkb2VzIGEgc2hhbGxvdyBjb21wYXJpc29uIG9mIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgKG9yIHRoZSBpdGVtcyBpbiB0aGUgY29sbGVjdGlvblxuICogaWYgdGhlIG1vZGVsIGlzIGFuIGFycmF5KS4gVGhpcyBtZWFucyB0aGF0IGNoYW5naW5nIGEgcHJvcGVydHkgZGVlcGVyIHRoYW4gdGhlIGZpcnN0IGxldmVsIGluc2lkZSB0aGVcbiAqIG9iamVjdC9jb2xsZWN0aW9uIHdpbGwgbm90IHRyaWdnZXIgYSByZS1yZW5kZXJpbmcuXG4gKlxuICogIyMgYHNlbGVjdGAgKipgYXNgKipcbiAqXG4gKiBVc2luZyBgc2VsZWN0YCAqKmBhc2AqKiB3aWxsIGJpbmQgdGhlIHJlc3VsdCBvZiB0aGUgYHNlbGVjdGAgZXhwcmVzc2lvbiB0byB0aGUgbW9kZWwsIGJ1dFxuICogdGhlIHZhbHVlIG9mIHRoZSBgPHNlbGVjdD5gIGFuZCBgPG9wdGlvbj5gIGh0bWwgZWxlbWVudHMgd2lsbCBiZSBlaXRoZXIgdGhlIGluZGV4IChmb3IgYXJyYXkgZGF0YSBzb3VyY2VzKVxuICogb3IgcHJvcGVydHkgbmFtZSAoZm9yIG9iamVjdCBkYXRhIHNvdXJjZXMpIG9mIHRoZSB2YWx1ZSB3aXRoaW4gdGhlIGNvbGxlY3Rpb24uIElmIGEgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvblxuICogaXMgdXNlZCwgdGhlIHJlc3VsdCBvZiB0aGF0IGV4cHJlc3Npb24gd2lsbCBiZSBzZXQgYXMgdGhlIHZhbHVlIG9mIHRoZSBgb3B0aW9uYCBhbmQgYHNlbGVjdGAgZWxlbWVudHMuXG4gKlxuICpcbiAqICMjIyBgc2VsZWN0YCAqKmBhc2AqKiBhbmQgKipgdHJhY2sgYnlgKipcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogQmUgY2FyZWZ1bCB3aGVuIHVzaW5nIGBzZWxlY3RgICoqYGFzYCoqIGFuZCAqKmB0cmFjayBieWAqKiBpbiB0aGUgc2FtZSBleHByZXNzaW9uLlxuICogPC9kaXY+XG4gKlxuICogR2l2ZW4gdGhpcyBhcnJheSBvZiBpdGVtcyBvbiB0aGUgJHNjb3BlOlxuICpcbiAqIGBgYGpzXG4gKiAkc2NvcGUuaXRlbXMgPSBbe1xuICogICBpZDogMSxcbiAqICAgbGFiZWw6ICdhTGFiZWwnLFxuICogICBzdWJJdGVtOiB7IG5hbWU6ICdhU3ViSXRlbScgfVxuICogfSwge1xuICogICBpZDogMixcbiAqICAgbGFiZWw6ICdiTGFiZWwnLFxuICogICBzdWJJdGVtOiB7IG5hbWU6ICdiU3ViSXRlbScgfVxuICogfV07XG4gKiBgYGBcbiAqXG4gKiBUaGlzIHdpbGwgd29yazpcbiAqXG4gKiBgYGBodG1sXG4gKiA8c2VsZWN0IG5nLW9wdGlvbnM9XCJpdGVtIGFzIGl0ZW0ubGFiZWwgZm9yIGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj48L3NlbGVjdD5cbiAqIGBgYFxuICogYGBganNcbiAqICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5pdGVtc1swXTtcbiAqIGBgYFxuICpcbiAqIGJ1dCB0aGlzIHdpbGwgbm90IHdvcms6XG4gKlxuICogYGBgaHRtbFxuICogPHNlbGVjdCBuZy1vcHRpb25zPVwiaXRlbS5zdWJJdGVtIGFzIGl0ZW0ubGFiZWwgZm9yIGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj48L3NlbGVjdD5cbiAqIGBgYFxuICogYGBganNcbiAqICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5pdGVtc1swXS5zdWJJdGVtO1xuICogYGBgXG4gKlxuICogSW4gYm90aCBleGFtcGxlcywgdGhlICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb24gaXMgYXBwbGllZCBzdWNjZXNzZnVsbHkgdG8gZWFjaCBgaXRlbWAgaW4gdGhlXG4gKiBgaXRlbXNgIGFycmF5LiBCZWNhdXNlIHRoZSBzZWxlY3RlZCBvcHRpb24gaGFzIGJlZW4gc2V0IHByb2dyYW1tYXRpY2FsbHkgaW4gdGhlIGNvbnRyb2xsZXIsIHRoZVxuICogKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvbiBpcyBhbHNvIGFwcGxpZWQgdG8gdGhlIGBuZ01vZGVsYCB2YWx1ZS4gSW4gdGhlIGZpcnN0IGV4YW1wbGUsIHRoZVxuICogYG5nTW9kZWxgIHZhbHVlIGlzIGBpdGVtc1swXWAgYW5kIHRoZSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBgaXRlbXNbMF0uaWRgIHdpdGhcbiAqIG5vIGlzc3VlLiBJbiB0aGUgc2Vjb25kIGV4YW1wbGUsIHRoZSBgbmdNb2RlbGAgdmFsdWUgaXMgYGl0ZW1zWzBdLnN1Ykl0ZW1gIGFuZCB0aGUgKipgdHJhY2sgYnlgKipcbiAqIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGBpdGVtc1swXS5zdWJJdGVtLmlkYCAod2hpY2ggaXMgdW5kZWZpbmVkKS4gQXMgYSByZXN1bHQsIHRoZSBtb2RlbCB2YWx1ZVxuICogaXMgbm90IG1hdGNoZWQgYWdhaW5zdCBhbnkgYDxvcHRpb24+YCBhbmQgdGhlIGA8c2VsZWN0PmAgYXBwZWFycyBhcyBoYXZpbmcgbm8gc2VsZWN0ZWQgdmFsdWUuXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgVGhlIGNvbnRyb2wgaXMgY29uc2lkZXJlZCB2YWxpZCBvbmx5IGlmIHZhbHVlIGlzIGVudGVyZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB7Y29tcHJlaGVuc2lvbl9leHByZXNzaW9uPX0gbmdPcHRpb25zIGluIG9uZSBvZiB0aGUgZm9sbG93aW5nIGZvcm1zOlxuICpcbiAqICAgKiBmb3IgYXJyYXkgZGF0YSBzb3VyY2VzOlxuICogICAgICogYGxhYmVsYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXG4gKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXG4gKiAgICAgKiBgbGFiZWxgICoqYGRpc2FibGUgd2hlbmAqKiBgZGlzYWJsZWAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxuICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWAgKipgdHJhY2sgYnlgKiogYHRyYWNrZXhwcmBcbiAqICAgICAqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXG4gKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWAgfCBvcmRlckJ5OmBvcmRlcmV4cHJgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXG4gKiAgICAgICAgKGZvciBpbmNsdWRpbmcgYSBmaWx0ZXIgd2l0aCBgdHJhY2sgYnlgKVxuICogICAqIGZvciBvYmplY3QgZGF0YSBzb3VyY2VzOlxuICogICAgICogYGxhYmVsYCAqKmBmb3IgKGAqKmBrZXlgICoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZm9yIChgKipga2V5YCAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yIChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYCAqKmBmb3IgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgXG4gKiAgICAgICAgICoqYGZvcmAgYChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYFxuICogICAgICAgICAqKmBmb3JgIGAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKlxuICogV2hlcmU6XG4gKlxuICogICAqIGBhcnJheWAgLyBgb2JqZWN0YDogYW4gZXhwcmVzc2lvbiB3aGljaCBldmFsdWF0ZXMgdG8gYW4gYXJyYXkgLyBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogICAqIGB2YWx1ZWA6IGxvY2FsIHZhcmlhYmxlIHdoaWNoIHdpbGwgcmVmZXIgdG8gZWFjaCBpdGVtIGluIHRoZSBgYXJyYXlgIG9yIGVhY2ggcHJvcGVydHkgdmFsdWVcbiAqICAgICAgb2YgYG9iamVjdGAgZHVyaW5nIGl0ZXJhdGlvbi5cbiAqICAgKiBga2V5YDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBhIHByb3BlcnR5IG5hbWUgaW4gYG9iamVjdGAgZHVyaW5nIGl0ZXJhdGlvbi5cbiAqICAgKiBgbGFiZWxgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHRoZSBsYWJlbCBmb3IgYDxvcHRpb24+YCBlbGVtZW50LiBUaGVcbiAqICAgICBgZXhwcmVzc2lvbmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGUgYHZhbHVlYCB2YXJpYWJsZSAoZS5nLiBgdmFsdWUucHJvcGVydHlOYW1lYCkuXG4gKiAgICogYHNlbGVjdGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgYm91bmQgdG8gdGhlIG1vZGVsIG9mIHRoZSBwYXJlbnQgYDxzZWxlY3Q+YFxuICogICAgICBlbGVtZW50LiBJZiBub3Qgc3BlY2lmaWVkLCBgc2VsZWN0YCBleHByZXNzaW9uIHdpbGwgZGVmYXVsdCB0byBgdmFsdWVgLlxuICogICAqIGBncm91cGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdXNlZCB0byBncm91cCBvcHRpb25zIHVzaW5nIHRoZSBgPG9wdGdyb3VwPmBcbiAqICAgICAgRE9NIGVsZW1lbnQuXG4gKiAgICogYGRpc2FibGVgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHVzZWQgdG8gZGlzYWJsZSB0aGUgcmVuZGVyZWQgYDxvcHRpb24+YFxuICogICAgICBlbGVtZW50LiBSZXR1cm4gYHRydWVgIHRvIGRpc2FibGUuXG4gKiAgICogYHRyYWNrZXhwcmA6IFVzZWQgd2hlbiB3b3JraW5nIHdpdGggYW4gYXJyYXkgb2Ygb2JqZWN0cy4gVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZVxuICogICAgICB1c2VkIHRvIGlkZW50aWZ5IHRoZSBvYmplY3RzIGluIHRoZSBhcnJheS4gVGhlIGB0cmFja2V4cHJgIHdpbGwgbW9zdCBsaWtlbHkgcmVmZXIgdG8gdGhlXG4gKiAgICAgYHZhbHVlYCB2YXJpYWJsZSAoZS5nLiBgdmFsdWUucHJvcGVydHlOYW1lYCkuIFdpdGggdGhpcyB0aGUgc2VsZWN0aW9uIGlzIHByZXNlcnZlZFxuICogICAgICBldmVuIHdoZW4gdGhlIG9wdGlvbnMgYXJlIHJlY3JlYXRlZCAoZS5nLiByZWxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXIpLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwic2VsZWN0RXhhbXBsZVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3NlbGVjdEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLmNvbG9ycyA9IFtcbiAgICAgICAgICAgICAge25hbWU6J2JsYWNrJywgc2hhZGU6J2RhcmsnfSxcbiAgICAgICAgICAgICAge25hbWU6J3doaXRlJywgc2hhZGU6J2xpZ2h0Jywgbm90QW5PcHRpb246IHRydWV9LFxuICAgICAgICAgICAgICB7bmFtZToncmVkJywgc2hhZGU6J2RhcmsnfSxcbiAgICAgICAgICAgICAge25hbWU6J2JsdWUnLCBzaGFkZTonZGFyaycsIG5vdEFuT3B0aW9uOiB0cnVlfSxcbiAgICAgICAgICAgICAge25hbWU6J3llbGxvdycsIHNoYWRlOidsaWdodCcsIG5vdEFuT3B0aW9uOiBmYWxzZX1cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICAkc2NvcGUubXlDb2xvciA9ICRzY29wZS5jb2xvcnNbMl07IC8vIHJlZFxuICAgICAgICAgIH1dKTtcbiAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgPHVsPlxuICAgICAgICAgICAgPGxpIG5nLXJlcGVhdD1cImNvbG9yIGluIGNvbG9yc1wiPlxuICAgICAgICAgICAgICA8bGFiZWw+TmFtZTogPGlucHV0IG5nLW1vZGVsPVwiY29sb3IubmFtZVwiPjwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb2xvci5ub3RBbk9wdGlvblwiPiBEaXNhYmxlZD88L2xhYmVsPlxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY29sb3JzLnNwbGljZSgkaW5kZXgsIDEpXCIgYXJpYS1sYWJlbD1cIlJlbW92ZVwiPlg8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb2xvcnMucHVzaCh7fSlcIj5hZGQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgICA8aHIvPlxuICAgICAgICAgIDxsYWJlbD5Db2xvciAobnVsbCBub3QgYWxsb3dlZCk6XG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnNcIj48L3NlbGVjdD5cbiAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgPGxhYmVsPkNvbG9yIChudWxsIGFsbG93ZWQpOlxuICAgICAgICAgIDxzcGFuICBjbGFzcz1cIm51bGxhYmxlXCI+XG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPi0tIGNob29zZSBjb2xvciAtLTwvb3B0aW9uPlxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9zcGFuPjwvbGFiZWw+PGJyLz5cblxuICAgICAgICAgIDxsYWJlbD5Db2xvciBncm91cGVkIGJ5IHNoYWRlOlxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIiBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBncm91cCBieSBjb2xvci5zaGFkZSBmb3IgY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8L2xhYmVsPjxici8+XG5cbiAgICAgICAgICA8bGFiZWw+Q29sb3IgZ3JvdXBlZCBieSBzaGFkZSwgd2l0aCBzb21lIGRpc2FibGVkOlxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZ3JvdXAgYnkgY29sb3Iuc2hhZGUgZGlzYWJsZSB3aGVuIGNvbG9yLm5vdEFuT3B0aW9uIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgIDwvbGFiZWw+PGJyLz5cblxuXG5cbiAgICAgICAgICBTZWxlY3QgPGJ1dHRvbiBuZy1jbGljaz1cIm15Q29sb3IgPSB7IG5hbWU6J25vdCBpbiBsaXN0Jywgc2hhZGU6ICdvdGhlcicgfVwiPmJvZ3VzPC9idXR0b24+LlxuICAgICAgICAgIDxici8+XG4gICAgICAgICAgPGhyLz5cbiAgICAgICAgICBDdXJyZW50bHkgc2VsZWN0ZWQ6IHt7IHtzZWxlY3RlZF9jb2xvcjpteUNvbG9yfSB9fVxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJib3JkZXI6c29saWQgMXB4IGJsYWNrOyBoZWlnaHQ6MjBweFwiXG4gICAgICAgICAgICAgICBuZy1zdHlsZT1cInsnYmFja2dyb3VuZC1jb2xvcic6bXlDb2xvci5uYW1lfVwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctb3B0aW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdyZWQnKTtcbiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkubW9kZWwoJ215Q29sb3InKSkuZmlyc3QoKS5jbGljaygpO1xuICAgICAgICAgICBlbGVtZW50LmFsbChieS5jc3MoJ3NlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0gb3B0aW9uJykpLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnYmxhY2snKTtcbiAgICAgICAgICAgZWxlbWVudChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdJykpLmNsaWNrKCk7XG4gICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5LmNzcygnLm51bGxhYmxlIHNlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0gb3B0aW9uJykpLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnbnVsbCcpO1xuICAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG5cbi8vIGpzaGludCBtYXhsZW46IGZhbHNlXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vMDAwMDExMTExMTExMTEwMDAwMDAwMDAwMDIyMjIyMjIyMjIwMDAwMDAwMDAwMDAwMDAwMDAwMDAzMzMzMzMzMzMzMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0MDAwMDAwMDAwMDAwMDU1NTU1NTU1NTU1NTU1NTAwMDAwMDAwMDY2NjY2NjY2NjY2NjY2NjAwMDAwMDA3Nzc3Nzc3Nzc3Nzc3NzcwMDAwMDAwMDAwMDAwMDA4ODg4ODg4ODg4MDAwMDAwMDAwMDAwMDAwMDAwMDk5OTk5OTk5OTlcbnZhciBOR19PUFRJT05TX1JFR0VYUCA9IC9eXFxzKihbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccytncm91cFxccytieVxccysoW1xcc1xcU10rPykpPyg/OlxccytkaXNhYmxlXFxzK3doZW5cXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbXFwkXFx3XVtcXCRcXHddKil8KD86XFwoXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqLFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKlxcKSkpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpPyQvO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTogdmFsdWUgZXhwcmVzc2lvbiAodmFsdWVGbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDI6IGxhYmVsIGV4cHJlc3Npb24gKGRpc3BsYXlGbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDM6IGdyb3VwIGJ5IGV4cHJlc3Npb24gKGdyb3VwQnlGbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDQ6IGRpc2FibGUgd2hlbiBleHByZXNzaW9uIChkaXNhYmxlV2hlbkZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNTogYXJyYXkgaXRlbSB2YXJpYWJsZSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA2OiBvYmplY3QgaXRlbSBrZXkgdmFyaWFibGUgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNzogb2JqZWN0IGl0ZW0gdmFsdWUgdmFyaWFibGUgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gODogY29sbGVjdGlvbiBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA5OiB0cmFjayBieSBleHByZXNzaW9uXG4vLyBqc2hpbnQgbWF4bGVuOiAxMDBcblxuXG52YXIgbmdPcHRpb25zRGlyZWN0aXZlID0gWyckY29tcGlsZScsICckcGFyc2UnLCBmdW5jdGlvbigkY29tcGlsZSwgJHBhcnNlKSB7XG5cbiAgZnVuY3Rpb24gcGFyc2VPcHRpb25zRXhwcmVzc2lvbihvcHRpb25zRXhwLCBzZWxlY3RFbGVtZW50LCBzY29wZSkge1xuXG4gICAgdmFyIG1hdGNoID0gb3B0aW9uc0V4cC5tYXRjaChOR19PUFRJT05TX1JFR0VYUCk7XG4gICAgaWYgKCEobWF0Y2gpKSB7XG4gICAgICB0aHJvdyBuZ09wdGlvbnNNaW5FcnIoJ2lleHAnLFxuICAgICAgICBcIkV4cGVjdGVkIGV4cHJlc3Npb24gaW4gZm9ybSBvZiBcIiArXG4gICAgICAgIFwiJ19zZWxlY3RfIChhcyBfbGFiZWxfKT8gZm9yIChfa2V5XywpP192YWx1ZV8gaW4gX2NvbGxlY3Rpb25fJ1wiICtcbiAgICAgICAgXCIgYnV0IGdvdCAnezB9Jy4gRWxlbWVudDogezF9XCIsXG4gICAgICAgIG9wdGlvbnNFeHAsIHN0YXJ0aW5nVGFnKHNlbGVjdEVsZW1lbnQpKTtcbiAgICB9XG5cbiAgICAvLyBFeHRyYWN0IHRoZSBwYXJ0cyBmcm9tIHRoZSBuZ09wdGlvbnMgZXhwcmVzc2lvblxuXG4gICAgLy8gVGhlIHZhcmlhYmxlIG5hbWUgZm9yIHRoZSB2YWx1ZSBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxuICAgIHZhciB2YWx1ZU5hbWUgPSBtYXRjaFs1XSB8fCBtYXRjaFs3XTtcbiAgICAvLyBUaGUgdmFyaWFibGUgbmFtZSBmb3IgdGhlIGtleSBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxuICAgIHZhciBrZXlOYW1lID0gbWF0Y2hbNl07XG5cbiAgICAvLyBBbiBleHByZXNzaW9uIHRoYXQgZ2VuZXJhdGVzIHRoZSB2aWV3VmFsdWUgZm9yIGFuIG9wdGlvbiBpZiB0aGVyZSBpcyBhIGxhYmVsIGV4cHJlc3Npb25cbiAgICB2YXIgc2VsZWN0QXMgPSAvIGFzIC8udGVzdChtYXRjaFswXSkgJiYgbWF0Y2hbMV07XG4gICAgLy8gQW4gZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgdG8gdHJhY2sgdGhlIGlkIG9mIGVhY2ggb2JqZWN0IGluIHRoZSBvcHRpb25zIGNvbGxlY3Rpb25cbiAgICB2YXIgdHJhY2tCeSA9IG1hdGNoWzldO1xuICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBnZW5lcmF0ZXMgdGhlIHZpZXdWYWx1ZSBmb3IgYW4gb3B0aW9uIGlmIHRoZXJlIGlzIG5vIGxhYmVsIGV4cHJlc3Npb25cbiAgICB2YXIgdmFsdWVGbiA9ICRwYXJzZShtYXRjaFsyXSA/IG1hdGNoWzFdIDogdmFsdWVOYW1lKTtcbiAgICB2YXIgc2VsZWN0QXNGbiA9IHNlbGVjdEFzICYmICRwYXJzZShzZWxlY3RBcyk7XG4gICAgdmFyIHZpZXdWYWx1ZUZuID0gc2VsZWN0QXNGbiB8fCB2YWx1ZUZuO1xuICAgIHZhciB0cmFja0J5Rm4gPSB0cmFja0J5ICYmICRwYXJzZSh0cmFja0J5KTtcblxuICAgIC8vIEdldCB0aGUgdmFsdWUgYnkgd2hpY2ggd2UgYXJlIGdvaW5nIHRvIHRyYWNrIHRoZSBvcHRpb25cbiAgICAvLyBpZiB3ZSBoYXZlIGEgdHJhY2tGbiB0aGVuIHVzZSB0aGF0IChwYXNzaW5nIHNjb3BlIGFuZCBsb2NhbHMpXG4gICAgLy8gb3RoZXJ3aXNlIGp1c3QgaGFzaCB0aGUgZ2l2ZW4gdmlld1ZhbHVlXG4gICAgdmFyIGdldFRyYWNrQnlWYWx1ZUZuID0gdHJhY2tCeSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih2YWx1ZSwgbG9jYWxzKSB7IHJldHVybiB0cmFja0J5Rm4oc2NvcGUsIGxvY2Fscyk7IH0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0SGFzaE9mVmFsdWUodmFsdWUpIHsgcmV0dXJuIGhhc2hLZXkodmFsdWUpOyB9O1xuICAgIHZhciBnZXRUcmFja0J5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXR1cm4gZ2V0VHJhY2tCeVZhbHVlRm4odmFsdWUsIGdldExvY2Fscyh2YWx1ZSwga2V5KSk7XG4gICAgfTtcblxuICAgIHZhciBkaXNwbGF5Rm4gPSAkcGFyc2UobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pO1xuICAgIHZhciBncm91cEJ5Rm4gPSAkcGFyc2UobWF0Y2hbM10gfHwgJycpO1xuICAgIHZhciBkaXNhYmxlV2hlbkZuID0gJHBhcnNlKG1hdGNoWzRdIHx8ICcnKTtcbiAgICB2YXIgdmFsdWVzRm4gPSAkcGFyc2UobWF0Y2hbOF0pO1xuXG4gICAgdmFyIGxvY2FscyA9IHt9O1xuICAgIHZhciBnZXRMb2NhbHMgPSBrZXlOYW1lID8gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgbG9jYWxzW2tleU5hbWVdID0ga2V5O1xuICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBsb2NhbHM7XG4gICAgfSA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBsb2NhbHNbdmFsdWVOYW1lXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGxvY2FscztcbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiBPcHRpb24oc2VsZWN0VmFsdWUsIHZpZXdWYWx1ZSwgbGFiZWwsIGdyb3VwLCBkaXNhYmxlZCkge1xuICAgICAgdGhpcy5zZWxlY3RWYWx1ZSA9IHNlbGVjdFZhbHVlO1xuICAgICAgdGhpcy52aWV3VmFsdWUgPSB2aWV3VmFsdWU7XG4gICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XG4gICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICB0aGlzLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0T3B0aW9uVmFsdWVzS2V5cyhvcHRpb25WYWx1ZXMpIHtcbiAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzO1xuXG4gICAgICBpZiAoIWtleU5hbWUgJiYgaXNBcnJheUxpa2Uob3B0aW9uVmFsdWVzKSkge1xuICAgICAgICBvcHRpb25WYWx1ZXNLZXlzID0gb3B0aW9uVmFsdWVzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgb2JqZWN0LCBleHRyYWN0IGtleXMsIGluIGVudW1lcmF0aW9uIG9yZGVyLCB1bnNvcnRlZFxuICAgICAgICBvcHRpb25WYWx1ZXNLZXlzID0gW107XG4gICAgICAgIGZvciAodmFyIGl0ZW1LZXkgaW4gb3B0aW9uVmFsdWVzKSB7XG4gICAgICAgICAgaWYgKG9wdGlvblZhbHVlcy5oYXNPd25Qcm9wZXJ0eShpdGVtS2V5KSAmJiBpdGVtS2V5LmNoYXJBdCgwKSAhPT0gJyQnKSB7XG4gICAgICAgICAgICBvcHRpb25WYWx1ZXNLZXlzLnB1c2goaXRlbUtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3B0aW9uVmFsdWVzS2V5cztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdHJhY2tCeTogdHJhY2tCeSxcbiAgICAgIGdldFRyYWNrQnlWYWx1ZTogZ2V0VHJhY2tCeVZhbHVlLFxuICAgICAgZ2V0V2F0Y2hhYmxlczogJHBhcnNlKHZhbHVlc0ZuLCBmdW5jdGlvbihvcHRpb25WYWx1ZXMpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgY29sbGVjdGlvbiBvZiB0aGluZ3MgdGhhdCB3ZSB3b3VsZCBsaWtlIHRvIHdhdGNoICh3YXRjaGVkQXJyYXkpXG4gICAgICAgIC8vIHNvIHRoYXQgdGhleSBjYW4gYWxsIGJlIHdhdGNoZWQgdXNpbmcgYSBzaW5nbGUgJHdhdGNoQ29sbGVjdGlvblxuICAgICAgICAvLyB0aGF0IG9ubHkgcnVucyB0aGUgaGFuZGxlciBvbmNlIGlmIGFueXRoaW5nIGNoYW5nZXNcbiAgICAgICAgdmFyIHdhdGNoZWRBcnJheSA9IFtdO1xuICAgICAgICBvcHRpb25WYWx1ZXMgPSBvcHRpb25WYWx1ZXMgfHwgW107XG5cbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0tleXMgPSBnZXRPcHRpb25WYWx1ZXNLZXlzKG9wdGlvblZhbHVlcyk7XG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNMZW5ndGggPSBvcHRpb25WYWx1ZXNLZXlzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG9wdGlvblZhbHVlc0xlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIHZhciBrZXkgPSAob3B0aW9uVmFsdWVzID09PSBvcHRpb25WYWx1ZXNLZXlzKSA/IGluZGV4IDogb3B0aW9uVmFsdWVzS2V5c1tpbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb3B0aW9uVmFsdWVzW2tleV07XG5cbiAgICAgICAgICB2YXIgbG9jYWxzID0gZ2V0TG9jYWxzKG9wdGlvblZhbHVlc1trZXldLCBrZXkpO1xuICAgICAgICAgIHZhciBzZWxlY3RWYWx1ZSA9IGdldFRyYWNrQnlWYWx1ZUZuKG9wdGlvblZhbHVlc1trZXldLCBsb2NhbHMpO1xuICAgICAgICAgIHdhdGNoZWRBcnJheS5wdXNoKHNlbGVjdFZhbHVlKTtcblxuICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byB3YXRjaCB0aGUgZGlzcGxheUZuIGlmIHRoZXJlIGlzIGEgc3BlY2lmaWMgbGFiZWwgZXhwcmVzc2lvblxuICAgICAgICAgIGlmIChtYXRjaFsyXSB8fCBtYXRjaFsxXSkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gZGlzcGxheUZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2gobGFiZWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byB3YXRjaCB0aGUgZGlzYWJsZVdoZW5GbiBpZiB0aGVyZSBpcyBhIHNwZWNpZmljIGRpc2FibGUgZXhwcmVzc2lvblxuICAgICAgICAgIGlmIChtYXRjaFs0XSkge1xuICAgICAgICAgICAgdmFyIGRpc2FibGVXaGVuID0gZGlzYWJsZVdoZW5GbihzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAgIHdhdGNoZWRBcnJheS5wdXNoKGRpc2FibGVXaGVuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdhdGNoZWRBcnJheTtcbiAgICAgIH0pLFxuXG4gICAgICBnZXRPcHRpb25zOiBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgb3B0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgdmFyIHNlbGVjdFZhbHVlTWFwID0ge307XG5cbiAgICAgICAgLy8gVGhlIG9wdGlvbiB2YWx1ZXMgd2VyZSBhbHJlYWR5IGNvbXB1dGVkIGluIHRoZSBgZ2V0V2F0Y2hhYmxlc2AgZm4sXG4gICAgICAgIC8vIHdoaWNoIG11c3QgaGF2ZSBiZWVuIGNhbGxlZCB0byB0cmlnZ2VyIGBnZXRPcHRpb25zYFxuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzID0gdmFsdWVzRm4oc2NvcGUpIHx8IFtdO1xuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzS2V5cyA9IGdldE9wdGlvblZhbHVlc0tleXMob3B0aW9uVmFsdWVzKTtcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0xlbmd0aCA9IG9wdGlvblZhbHVlc0tleXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBvcHRpb25WYWx1ZXNMZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICB2YXIga2V5ID0gKG9wdGlvblZhbHVlcyA9PT0gb3B0aW9uVmFsdWVzS2V5cykgPyBpbmRleCA6IG9wdGlvblZhbHVlc0tleXNbaW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9wdGlvblZhbHVlc1trZXldO1xuICAgICAgICAgIHZhciBsb2NhbHMgPSBnZXRMb2NhbHModmFsdWUsIGtleSk7XG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IHZpZXdWYWx1ZUZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIHZhciBzZWxlY3RWYWx1ZSA9IGdldFRyYWNrQnlWYWx1ZUZuKHZpZXdWYWx1ZSwgbG9jYWxzKTtcbiAgICAgICAgICB2YXIgbGFiZWwgPSBkaXNwbGF5Rm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgdmFyIGdyb3VwID0gZ3JvdXBCeUZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIHZhciBkaXNhYmxlZCA9IGRpc2FibGVXaGVuRm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgdmFyIG9wdGlvbkl0ZW0gPSBuZXcgT3B0aW9uKHNlbGVjdFZhbHVlLCB2aWV3VmFsdWUsIGxhYmVsLCBncm91cCwgZGlzYWJsZWQpO1xuXG4gICAgICAgICAgb3B0aW9uSXRlbXMucHVzaChvcHRpb25JdGVtKTtcbiAgICAgICAgICBzZWxlY3RWYWx1ZU1hcFtzZWxlY3RWYWx1ZV0gPSBvcHRpb25JdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpdGVtczogb3B0aW9uSXRlbXMsXG4gICAgICAgICAgc2VsZWN0VmFsdWVNYXA6IHNlbGVjdFZhbHVlTWFwLFxuICAgICAgICAgIGdldE9wdGlvbkZyb21WaWV3VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0VmFsdWVNYXBbZ2V0VHJhY2tCeVZhbHVlKHZhbHVlKV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRWaWV3VmFsdWVGcm9tT3B0aW9uOiBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSB2aWV3VmFsdWUgY291bGQgYmUgYW4gb2JqZWN0IHRoYXQgbWF5IGJlIG11dGF0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uLFxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBtYWtlIGEgY29weSBhbmQgbm90IHJldHVybiB0aGUgcmVmZXJlbmNlIHRvIHRoZSB2YWx1ZSBvbiB0aGUgb3B0aW9uLlxuICAgICAgICAgICAgcmV0dXJuIHRyYWNrQnkgPyBhbmd1bGFyLmNvcHkob3B0aW9uLnZpZXdWYWx1ZSkgOiBvcHRpb24udmlld1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cblxuICAvLyB3ZSBjYW4ndCBqdXN0IGpxTGl0ZSgnPG9wdGlvbj4nKSBzaW5jZSBqcUxpdGUgaXMgbm90IHNtYXJ0IGVub3VnaFxuICAvLyB0byBjcmVhdGUgaXQgaW4gPHNlbGVjdD4gYW5kIElFIGJhcmZzIG90aGVyd2lzZS5cbiAgdmFyIG9wdGlvblRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyksXG4gICAgICBvcHRHcm91cFRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0Z3JvdXAnKTtcblxuXG4gICAgZnVuY3Rpb24gbmdPcHRpb25zUG9zdExpbmsoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG5cbiAgICAgIC8vIGlmIG5nTW9kZWwgaXMgbm90IGRlZmluZWQsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xuXG4gICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzBdO1xuICAgICAgdmFyIG11bHRpcGxlID0gYXR0ci5tdWx0aXBsZTtcblxuICAgICAgLy8gVGhlIGVtcHR5T3B0aW9uIGFsbG93cyB0aGUgYXBwbGljYXRpb24gZGV2ZWxvcGVyIHRvIHByb3ZpZGUgdGhlaXIgb3duIGN1c3RvbSBcImVtcHR5XCJcbiAgICAgIC8vIG9wdGlvbiB3aGVuIHRoZSB2aWV3VmFsdWUgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb24gdmFsdWVzLlxuICAgICAgdmFyIGVtcHR5T3B0aW9uO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGNoaWxkcmVuID0gc2VsZWN0RWxlbWVudC5jaGlsZHJlbigpLCBpaSA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnZhbHVlID09PSAnJykge1xuICAgICAgICAgIGVtcHR5T3B0aW9uID0gY2hpbGRyZW4uZXEoaSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHByb3ZpZGVkRW1wdHlPcHRpb24gPSAhIWVtcHR5T3B0aW9uO1xuXG4gICAgICB2YXIgdW5rbm93bk9wdGlvbiA9IGpxTGl0ZShvcHRpb25UZW1wbGF0ZS5jbG9uZU5vZGUoZmFsc2UpKTtcbiAgICAgIHVua25vd25PcHRpb24udmFsKCc/Jyk7XG5cbiAgICAgIHZhciBvcHRpb25zO1xuICAgICAgdmFyIG5nT3B0aW9ucyA9IHBhcnNlT3B0aW9uc0V4cHJlc3Npb24oYXR0ci5uZ09wdGlvbnMsIHNlbGVjdEVsZW1lbnQsIHNjb3BlKTtcblxuXG4gICAgICB2YXIgcmVuZGVyRW1wdHlPcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFwcm92aWRlZEVtcHR5T3B0aW9uKSB7XG4gICAgICAgICAgc2VsZWN0RWxlbWVudC5wcmVwZW5kKGVtcHR5T3B0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxlY3RFbGVtZW50LnZhbCgnJyk7XG4gICAgICAgIGVtcHR5T3B0aW9uLnByb3AoJ3NlbGVjdGVkJywgdHJ1ZSk7IC8vIG5lZWRlZCBmb3IgSUVcbiAgICAgICAgZW1wdHlPcHRpb24uYXR0cignc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciByZW1vdmVFbXB0eU9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXByb3ZpZGVkRW1wdHlPcHRpb24pIHtcbiAgICAgICAgICBlbXB0eU9wdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuXG4gICAgICB2YXIgcmVuZGVyVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3RFbGVtZW50LnByZXBlbmQodW5rbm93bk9wdGlvbik7XG4gICAgICAgIHNlbGVjdEVsZW1lbnQudmFsKCc/Jyk7XG4gICAgICAgIHVua25vd25PcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTsgLy8gbmVlZGVkIGZvciBJRVxuICAgICAgICB1bmtub3duT3B0aW9uLmF0dHIoJ3NlbGVjdGVkJywgdHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVtb3ZlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB1bmtub3duT3B0aW9uLnJlbW92ZSgpO1xuICAgICAgfTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBjb250cm9sbGVyIG1ldGhvZHMgZm9yIG11bHRpcGxlIHNlbGVjdGFibGUgb3B0aW9uc1xuICAgICAgaWYgKCFtdWx0aXBsZSkge1xuXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTmdPcHRpb25zVmFsdWUodmFsdWUpIHtcbiAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmIChvcHRpb24gJiYgIW9wdGlvbi5kaXNhYmxlZCkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdEVsZW1lbnRbMF0udmFsdWUgIT09IG9wdGlvbi5zZWxlY3RWYWx1ZSkge1xuICAgICAgICAgICAgICByZW1vdmVVbmtub3duT3B0aW9uKCk7XG4gICAgICAgICAgICAgIHJlbW92ZUVtcHR5T3B0aW9uKCk7XG5cbiAgICAgICAgICAgICAgc2VsZWN0RWxlbWVudFswXS52YWx1ZSA9IG9wdGlvbi5zZWxlY3RWYWx1ZTtcbiAgICAgICAgICAgICAgb3B0aW9uLmVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBvcHRpb24uZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCBwcm92aWRlZEVtcHR5T3B0aW9uKSB7XG4gICAgICAgICAgICAgIHJlbW92ZVVua25vd25PcHRpb24oKTtcbiAgICAgICAgICAgICAgcmVuZGVyRW1wdHlPcHRpb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlbW92ZUVtcHR5T3B0aW9uKCk7XG4gICAgICAgICAgICAgIHJlbmRlclVua25vd25PcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0Q3RybC5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkTmdPcHRpb25zVmFsdWUoKSB7XG5cbiAgICAgICAgICB2YXIgc2VsZWN0ZWRPcHRpb24gPSBvcHRpb25zLnNlbGVjdFZhbHVlTWFwW3NlbGVjdEVsZW1lbnQudmFsKCldO1xuXG4gICAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uICYmICFzZWxlY3RlZE9wdGlvbi5kaXNhYmxlZCkge1xuICAgICAgICAgICAgcmVtb3ZlRW1wdHlPcHRpb24oKTtcbiAgICAgICAgICAgIHJlbW92ZVVua25vd25PcHRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmdldFZpZXdWYWx1ZUZyb21PcHRpb24oc2VsZWN0ZWRPcHRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgYHRyYWNrIGJ5YCB0aGVuIHdlIG11c3Qgd2F0Y2ggdGhlIHRyYWNrZWQgdmFsdWUgb24gdGhlIG1vZGVsXG4gICAgICAgIC8vIHNpbmNlIG5nTW9kZWwgb25seSB3YXRjaGVzIGZvciBvYmplY3QgaWRlbnRpdHkgY2hhbmdlXG4gICAgICAgIGlmIChuZ09wdGlvbnMudHJhY2tCeSkge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaChcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gbmdPcHRpb25zLmdldFRyYWNrQnlWYWx1ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKTsgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7IH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgbmdNb2RlbEN0cmwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiAhdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgc2VsZWN0Q3RybC53cml0ZVZhbHVlID0gZnVuY3Rpb24gd3JpdGVOZ09wdGlvbnNNdWx0aXBsZSh2YWx1ZSkge1xuICAgICAgICAgIG9wdGlvbnMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKGl0ZW0pO1xuICAgICAgICAgICAgICBpZiAob3B0aW9uICYmICFvcHRpb24uZGlzYWJsZWQpIG9wdGlvbi5lbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuXG4gICAgICAgIHNlbGVjdEN0cmwucmVhZFZhbHVlID0gZnVuY3Rpb24gcmVhZE5nT3B0aW9uc011bHRpcGxlKCkge1xuICAgICAgICAgIHZhciBzZWxlY3RlZFZhbHVlcyA9IHNlbGVjdEVsZW1lbnQudmFsKCkgfHwgW10sXG4gICAgICAgICAgICAgIHNlbGVjdGlvbnMgPSBbXTtcblxuICAgICAgICAgIGZvckVhY2goc2VsZWN0ZWRWYWx1ZXMsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5zZWxlY3RWYWx1ZU1hcFt2YWx1ZV07XG4gICAgICAgICAgICBpZiAob3B0aW9uICYmICFvcHRpb24uZGlzYWJsZWQpIHNlbGVjdGlvbnMucHVzaChvcHRpb25zLmdldFZpZXdWYWx1ZUZyb21PcHRpb24ob3B0aW9uKSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gc2VsZWN0aW9ucztcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgYHRyYWNrIGJ5YCB0aGVuIHdlIG11c3Qgd2F0Y2ggdGhlc2UgdHJhY2tlZCB2YWx1ZXMgb24gdGhlIG1vZGVsXG4gICAgICAgIC8vIHNpbmNlIG5nTW9kZWwgb25seSB3YXRjaGVzIGZvciBvYmplY3QgaWRlbnRpdHkgY2hhbmdlXG4gICAgICAgIGlmIChuZ09wdGlvbnMudHJhY2tCeSkge1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIGlmIChwcm92aWRlZEVtcHR5T3B0aW9uKSB7XG5cbiAgICAgICAgLy8gd2UgbmVlZCB0byByZW1vdmUgaXQgYmVmb3JlIGNhbGxpbmcgc2VsZWN0RWxlbWVudC5lbXB0eSgpIGJlY2F1c2Ugb3RoZXJ3aXNlIElFIHdpbGxcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBsYWJlbCBmcm9tIHRoZSBlbGVtZW50LiB3dGY/XG4gICAgICAgIGVtcHR5T3B0aW9uLnJlbW92ZSgpO1xuXG4gICAgICAgIC8vIGNvbXBpbGUgdGhlIGVsZW1lbnQgc2luY2UgdGhlcmUgbWlnaHQgYmUgYmluZGluZ3MgaW4gaXRcbiAgICAgICAgJGNvbXBpbGUoZW1wdHlPcHRpb24pKHNjb3BlKTtcblxuICAgICAgICAvLyByZW1vdmUgdGhlIGNsYXNzLCB3aGljaCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGJlY2F1c2Ugd2UgcmVjb21waWxlIHRoZSBlbGVtZW50IGFuZCBpdFxuICAgICAgICAvLyBiZWNvbWVzIHRoZSBjb21waWxhdGlvbiByb290XG4gICAgICAgIGVtcHR5T3B0aW9uLnJlbW92ZUNsYXNzKCduZy1zY29wZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW1wdHlPcHRpb24gPSBqcUxpdGUob3B0aW9uVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIG5lZWQgdG8gZG8gdGhpcyBoZXJlIHRvIGVuc3VyZSB0aGF0IHRoZSBvcHRpb25zIG9iamVjdCBpcyBkZWZpbmVkXG4gICAgICAvLyB3aGVuIHdlIGZpcnN0IGhpdCBpdCBpbiB3cml0ZU5nT3B0aW9uc1ZhbHVlXG4gICAgICB1cGRhdGVPcHRpb25zKCk7XG5cbiAgICAgIC8vIFdlIHdpbGwgcmUtcmVuZGVyIHRoZSBvcHRpb24gZWxlbWVudHMgaWYgdGhlIG9wdGlvbiB2YWx1ZXMgb3IgbGFiZWxzIGNoYW5nZVxuICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihuZ09wdGlvbnMuZ2V0V2F0Y2hhYmxlcywgdXBkYXRlT3B0aW9ucyk7XG5cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uLCBlbGVtZW50KSB7XG4gICAgICAgIG9wdGlvbi5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5kaXNhYmxlZCA9IG9wdGlvbi5kaXNhYmxlZDtcbiAgICAgICAgLy8gTk9URTogVGhlIGxhYmVsIG11c3QgYmUgc2V0IGJlZm9yZSB0aGUgdmFsdWUsIG90aGVyd2lzZSBJRTEwLzExL0VER0UgY3JlYXRlIHVucmVzcG9uc2l2ZVxuICAgICAgICAvLyBzZWxlY3RzIGluIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcyB3aGVuIG11bHRpcGxlIHNlbGVjdHMgYXJlIG5leHQgdG8gZWFjaCBvdGhlciBhbmQgZGlzcGxheVxuICAgICAgICAvLyB0aGUgb3B0aW9uIGxpc3QgaW4gbGlzdGJveCBzdHlsZSwgaS5lLiB0aGUgc2VsZWN0IGlzIFttdWx0aXBsZV0sIG9yIHNwZWNpZmllcyBhIFtzaXplXS5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzExMzE0IGZvciBtb3JlIGluZm8uXG4gICAgICAgIC8vIFRoaXMgaXMgdW5mb3J0dW5hdGVseSB1bnRlc3RhYmxlIHdpdGggdW5pdCAvIGUyZSB0ZXN0c1xuICAgICAgICBpZiAob3B0aW9uLmxhYmVsICE9PSBlbGVtZW50LmxhYmVsKSB7XG4gICAgICAgICAgZWxlbWVudC5sYWJlbCA9IG9wdGlvbi5sYWJlbDtcbiAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gb3B0aW9uLmxhYmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb24udmFsdWUgIT09IGVsZW1lbnQudmFsdWUpIGVsZW1lbnQudmFsdWUgPSBvcHRpb24uc2VsZWN0VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFkZE9yUmV1c2VFbGVtZW50KHBhcmVudCwgY3VycmVudCwgdHlwZSwgdGVtcGxhdGVFbGVtZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50O1xuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHdlIGNhbiByZXVzZSB0aGUgbmV4dCBlbGVtZW50XG4gICAgICAgIGlmIChjdXJyZW50ICYmIGxvd2VyY2FzZShjdXJyZW50Lm5vZGVOYW1lKSA9PT0gdHlwZSkge1xuICAgICAgICAgIC8vIFRoZSBuZXh0IGVsZW1lbnQgaXMgdGhlIHJpZ2h0IHR5cGUgc28gcmV1c2UgaXRcbiAgICAgICAgICBlbGVtZW50ID0gY3VycmVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUaGUgbmV4dCBlbGVtZW50IGlzIG5vdCB0aGUgcmlnaHQgdHlwZSBzbyBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgICAgZWxlbWVudCA9IHRlbXBsYXRlRWxlbWVudC5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgLy8gVGhlcmUgYXJlIG5vIG1vcmUgZWxlbWVudHMgc28ganVzdCBhcHBlbmQgaXQgdG8gdGhlIHNlbGVjdFxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGUgbmV4dCBlbGVtZW50IGlzIG5vdCBhIGdyb3VwIHNvIGluc2VydCB0aGUgbmV3IG9uZVxuICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtZW50LCBjdXJyZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9XG5cblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlRXhjZXNzRWxlbWVudHMoY3VycmVudCkge1xuICAgICAgICB2YXIgbmV4dDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICBuZXh0ID0gY3VycmVudC5uZXh0U2libGluZztcbiAgICAgICAgICBqcUxpdGVSZW1vdmUoY3VycmVudCk7XG4gICAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiBza2lwRW1wdHlBbmRVbmtub3duT3B0aW9ucyhjdXJyZW50KSB7XG4gICAgICAgIHZhciBlbXB0eU9wdGlvbl8gPSBlbXB0eU9wdGlvbiAmJiBlbXB0eU9wdGlvblswXTtcbiAgICAgICAgdmFyIHVua25vd25PcHRpb25fID0gdW5rbm93bk9wdGlvbiAmJiB1bmtub3duT3B0aW9uWzBdO1xuXG4gICAgICAgIC8vIFdlIGNhbm5vdCByZWx5IG9uIHRoZSBleHRyYWN0ZWQgZW1wdHkgb3B0aW9uIGJlaW5nIHRoZSBzYW1lIGFzIHRoZSBjb21waWxlZCBlbXB0eSBvcHRpb24sXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIGNvbXBpbGVkIGVtcHR5IG9wdGlvbiBtaWdodCBoYXZlIGJlZW4gcmVwbGFjZWQgYnkgYSBjb21tZW50IGJlY2F1c2VcbiAgICAgICAgLy8gaXQgaGFkIGFuIFwiZWxlbWVudFwiIHRyYW5zY2x1c2lvbiBkaXJlY3RpdmUgb24gaXQgKHN1Y2ggYXMgbmdJZilcbiAgICAgICAgaWYgKGVtcHR5T3B0aW9uXyB8fCB1bmtub3duT3B0aW9uXykge1xuICAgICAgICAgIHdoaWxlIChjdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgKGN1cnJlbnQgPT09IGVtcHR5T3B0aW9uXyB8fFxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPT09IHVua25vd25PcHRpb25fIHx8XG4gICAgICAgICAgICAgICAgY3VycmVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQgfHxcbiAgICAgICAgICAgICAgICBjdXJyZW50LnZhbHVlID09PSAnJykpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKCkge1xuXG4gICAgICAgIHZhciBwcmV2aW91c1ZhbHVlID0gb3B0aW9ucyAmJiBzZWxlY3RDdHJsLnJlYWRWYWx1ZSgpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBuZ09wdGlvbnMuZ2V0T3B0aW9ucygpO1xuXG4gICAgICAgIHZhciBncm91cE1hcCA9IHt9O1xuICAgICAgICB2YXIgY3VycmVudEVsZW1lbnQgPSBzZWxlY3RFbGVtZW50WzBdLmZpcnN0Q2hpbGQ7XG5cbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGVtcHR5IG9wdGlvbiBpcyBhbHdheXMgdGhlcmUgaWYgaXQgd2FzIGV4cGxpY2l0bHkgcHJvdmlkZWRcbiAgICAgICAgaWYgKHByb3ZpZGVkRW1wdHlPcHRpb24pIHtcbiAgICAgICAgICBzZWxlY3RFbGVtZW50LnByZXBlbmQoZW1wdHlPcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudEVsZW1lbnQgPSBza2lwRW1wdHlBbmRVbmtub3duT3B0aW9ucyhjdXJyZW50RWxlbWVudCk7XG5cbiAgICAgICAgb3B0aW9ucy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgICB2YXIgZ3JvdXA7XG4gICAgICAgICAgdmFyIGdyb3VwRWxlbWVudDtcbiAgICAgICAgICB2YXIgb3B0aW9uRWxlbWVudDtcblxuICAgICAgICAgIGlmIChvcHRpb24uZ3JvdXApIHtcblxuICAgICAgICAgICAgLy8gVGhpcyBvcHRpb24gaXMgdG8gbGl2ZSBpbiBhIGdyb3VwXG4gICAgICAgICAgICAvLyBTZWUgaWYgd2UgaGF2ZSBhbHJlYWR5IGNyZWF0ZWQgdGhpcyBncm91cFxuICAgICAgICAgICAgZ3JvdXAgPSBncm91cE1hcFtvcHRpb24uZ3JvdXBdO1xuXG4gICAgICAgICAgICBpZiAoIWdyb3VwKSB7XG5cbiAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBub3QgYWxyZWFkeSBjcmVhdGVkIHRoaXMgZ3JvdXBcbiAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50ID0gYWRkT3JSZXVzZUVsZW1lbnQoc2VsZWN0RWxlbWVudFswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcHRncm91cCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdEdyb3VwVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAvLyBNb3ZlIHRvIHRoZSBuZXh0IGVsZW1lbnRcbiAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBncm91cEVsZW1lbnQubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsYWJlbCBvbiB0aGUgZ3JvdXAgZWxlbWVudFxuICAgICAgICAgICAgICBncm91cEVsZW1lbnQubGFiZWwgPSBvcHRpb24uZ3JvdXA7XG5cbiAgICAgICAgICAgICAgLy8gU3RvcmUgaXQgZm9yIHVzZSBsYXRlclxuICAgICAgICAgICAgICBncm91cCA9IGdyb3VwTWFwW29wdGlvbi5ncm91cF0gPSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50OiBncm91cEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgY3VycmVudE9wdGlvbkVsZW1lbnQ6IGdyb3VwRWxlbWVudC5maXJzdENoaWxkXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU28gbm93IHdlIGhhdmUgYSBncm91cCBmb3IgdGhpcyBvcHRpb24gd2UgYWRkIHRoZSBvcHRpb24gdG8gdGhlIGdyb3VwXG4gICAgICAgICAgICBvcHRpb25FbGVtZW50ID0gYWRkT3JSZXVzZUVsZW1lbnQoZ3JvdXAuZ3JvdXBFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwLmN1cnJlbnRPcHRpb25FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblRlbXBsYXRlKTtcbiAgICAgICAgICAgIHVwZGF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uLCBvcHRpb25FbGVtZW50KTtcbiAgICAgICAgICAgIC8vIE1vdmUgdG8gdGhlIG5leHQgZWxlbWVudFxuICAgICAgICAgICAgZ3JvdXAuY3VycmVudE9wdGlvbkVsZW1lbnQgPSBvcHRpb25FbGVtZW50Lm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgLy8gVGhpcyBvcHRpb24gaXMgbm90IGluIGEgZ3JvdXBcbiAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQgPSBhZGRPclJldXNlRWxlbWVudChzZWxlY3RFbGVtZW50WzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblRlbXBsYXRlKTtcbiAgICAgICAgICAgIHVwZGF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uLCBvcHRpb25FbGVtZW50KTtcbiAgICAgICAgICAgIC8vIE1vdmUgdG8gdGhlIG5leHQgZWxlbWVudFxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBvcHRpb25FbGVtZW50Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBOb3cgcmVtb3ZlIGFsbCBleGNlc3Mgb3B0aW9ucyBhbmQgZ3JvdXBcbiAgICAgICAgT2JqZWN0LmtleXMoZ3JvdXBNYXApLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmVtb3ZlRXhjZXNzRWxlbWVudHMoZ3JvdXBNYXBba2V5XS5jdXJyZW50T3B0aW9uRWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZW1vdmVFeGNlc3NFbGVtZW50cyhjdXJyZW50RWxlbWVudCk7XG5cbiAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuXG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQgZHVlIHRvIHRoZSB1cGRhdGUgdG8gdGhlIG9wdGlvbnNcbiAgICAgICAgaWYgKCFuZ01vZGVsQ3RybC4kaXNFbXB0eShwcmV2aW91c1ZhbHVlKSkge1xuICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBzZWxlY3RDdHJsLnJlYWRWYWx1ZSgpO1xuICAgICAgICAgIGlmIChuZ09wdGlvbnMudHJhY2tCeSA/ICFlcXVhbHMocHJldmlvdXNWYWx1ZSwgbmV4dFZhbHVlKSA6IHByZXZpb3VzVmFsdWUgIT09IG5leHRWYWx1ZSkge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXh0VmFsdWUpO1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgcmVxdWlyZTogWydzZWxlY3QnLCAnP25nTW9kZWwnXSxcbiAgICBsaW5rOiB7XG4gICAgICBwcmU6IGZ1bmN0aW9uIG5nT3B0aW9uc1ByZUxpbmsoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgIC8vIERlYWN0aXZhdGUgdGhlIFNlbGVjdENvbnRyb2xsZXIucmVnaXN0ZXIgbWV0aG9kIHRvIHByZXZlbnRcbiAgICAgICAgLy8gb3B0aW9uIGRpcmVjdGl2ZXMgZnJvbSBhY2NpZGVudGFsbHkgcmVnaXN0ZXJpbmcgdGhlbXNlbHZlc1xuICAgICAgICAvLyAoYW5kIHVud2FudGVkICRkZXN0cm95IGhhbmRsZXJzIGV0Yy4pXG4gICAgICAgIGN0cmxzWzBdLnJlZ2lzdGVyT3B0aW9uID0gbm9vcDtcbiAgICAgIH0sXG4gICAgICBwb3N0OiBuZ09wdGlvbnNQb3N0TGlua1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUGx1cmFsaXplXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGBuZ1BsdXJhbGl6ZWAgaXMgYSBkaXJlY3RpdmUgdGhhdCBkaXNwbGF5cyBtZXNzYWdlcyBhY2NvcmRpbmcgdG8gZW4tVVMgbG9jYWxpemF0aW9uIHJ1bGVzLlxuICogVGhlc2UgcnVsZXMgYXJlIGJ1bmRsZWQgd2l0aCBhbmd1bGFyLmpzLCBidXQgY2FuIGJlIG92ZXJyaWRkZW5cbiAqIChzZWUge0BsaW5rIGd1aWRlL2kxOG4gQW5ndWxhciBpMThufSBkZXYgZ3VpZGUpLiBZb3UgY29uZmlndXJlIG5nUGx1cmFsaXplIGRpcmVjdGl2ZVxuICogYnkgc3BlY2lmeWluZyB0aGUgbWFwcGluZ3MgYmV0d2VlblxuICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpXG4gKiBhbmQgdGhlIHN0cmluZ3MgdG8gYmUgZGlzcGxheWVkLlxuICpcbiAqICMgUGx1cmFsIGNhdGVnb3JpZXMgYW5kIGV4cGxpY2l0IG51bWJlciBydWxlc1xuICogVGhlcmUgYXJlIHR3b1xuICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpXG4gKiBpbiBBbmd1bGFyJ3MgZGVmYXVsdCBlbi1VUyBsb2NhbGU6IFwib25lXCIgYW5kIFwib3RoZXJcIi5cbiAqXG4gKiBXaGlsZSBhIHBsdXJhbCBjYXRlZ29yeSBtYXkgbWF0Y2ggbWFueSBudW1iZXJzIChmb3IgZXhhbXBsZSwgaW4gZW4tVVMgbG9jYWxlLCBcIm90aGVyXCIgY2FuIG1hdGNoXG4gKiBhbnkgbnVtYmVyIHRoYXQgaXMgbm90IDEpLCBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBjYW4gb25seSBtYXRjaCBvbmUgbnVtYmVyLiBGb3IgZXhhbXBsZSwgdGhlXG4gKiBleHBsaWNpdCBudW1iZXIgcnVsZSBmb3IgXCIzXCIgbWF0Y2hlcyB0aGUgbnVtYmVyIDMuIFRoZXJlIGFyZSBleGFtcGxlcyBvZiBwbHVyYWwgY2F0ZWdvcmllc1xuICogYW5kIGV4cGxpY2l0IG51bWJlciBydWxlcyB0aHJvdWdob3V0IHRoZSByZXN0IG9mIHRoaXMgZG9jdW1lbnRhdGlvbi5cbiAqXG4gKiAjIENvbmZpZ3VyaW5nIG5nUGx1cmFsaXplXG4gKiBZb3UgY29uZmlndXJlIG5nUGx1cmFsaXplIGJ5IHByb3ZpZGluZyAyIGF0dHJpYnV0ZXM6IGBjb3VudGAgYW5kIGB3aGVuYC5cbiAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIGF0dHJpYnV0ZSwgYG9mZnNldGAuXG4gKlxuICogVGhlIHZhbHVlIG9mIHRoZSBgY291bnRgIGF0dHJpYnV0ZSBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIHtAbGluayBndWlkZS9leHByZXNzaW9uXG4gKiBBbmd1bGFyIGV4cHJlc3Npb259OyB0aGVzZSBhcmUgZXZhbHVhdGVkIG9uIHRoZSBjdXJyZW50IHNjb3BlIGZvciBpdHMgYm91bmQgdmFsdWUuXG4gKlxuICogVGhlIGB3aGVuYCBhdHRyaWJ1dGUgc3BlY2lmaWVzIHRoZSBtYXBwaW5ncyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yaWVzIGFuZCB0aGUgYWN0dWFsXG4gKiBzdHJpbmcgdG8gYmUgZGlzcGxheWVkLiBUaGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBzaG91bGQgYmUgYSBKU09OIG9iamVjdC5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIlxuICAgICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7fSBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAqIDwvbmctcGx1cmFsaXplPlxuICpgYGBcbiAqXG4gKiBJbiB0aGUgZXhhbXBsZSwgYFwiMDogTm9ib2R5IGlzIHZpZXdpbmcuXCJgIGlzIGFuIGV4cGxpY2l0IG51bWJlciBydWxlLiBJZiB5b3UgZGlkIG5vdFxuICogc3BlY2lmeSB0aGlzIHJ1bGUsIDAgd291bGQgYmUgbWF0Y2hlZCB0byB0aGUgXCJvdGhlclwiIGNhdGVnb3J5IGFuZCBcIjAgcGVvcGxlIGFyZSB2aWV3aW5nXCJcbiAqIHdvdWxkIGJlIHNob3duIGluc3RlYWQgb2YgXCJOb2JvZHkgaXMgdmlld2luZ1wiLiBZb3UgY2FuIHNwZWNpZnkgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUgZm9yXG4gKiBvdGhlciBudW1iZXJzLCBmb3IgZXhhbXBsZSAxMiwgc28gdGhhdCBpbnN0ZWFkIG9mIHNob3dpbmcgXCIxMiBwZW9wbGUgYXJlIHZpZXdpbmdcIiwgeW91IGNhblxuICogc2hvdyBcImEgZG96ZW4gcGVvcGxlIGFyZSB2aWV3aW5nXCIuXG4gKlxuICogWW91IGNhbiB1c2UgYSBzZXQgb2YgY2xvc2VkIGJyYWNlcyAoYHt9YCkgYXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIG51bWJlciB0aGF0IHlvdSB3YW50IHN1YnN0aXR1dGVkXG4gKiBpbnRvIHBsdXJhbGl6ZWQgc3RyaW5ncy4gSW4gdGhlIHByZXZpb3VzIGV4YW1wbGUsIEFuZ3VsYXIgd2lsbCByZXBsYWNlIGB7fWAgd2l0aFxuICogPHNwYW4gbmctbm9uLWJpbmRhYmxlPmB7e3BlcnNvbkNvdW50fX1gPC9zcGFuPi4gVGhlIGNsb3NlZCBicmFjZXMgYHt9YCBpcyBhIHBsYWNlaG9sZGVyXG4gKiBmb3IgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7bnVtYmVyRXhwcmVzc2lvbn19PC9zcGFuPi5cbiAqXG4gKiBJZiBubyBydWxlIGlzIGRlZmluZWQgZm9yIGEgY2F0ZWdvcnksIHRoZW4gYW4gZW1wdHkgc3RyaW5nIGlzIGRpc3BsYXllZCBhbmQgYSB3YXJuaW5nIGlzIGdlbmVyYXRlZC5cbiAqIE5vdGUgdGhhdCBzb21lIGxvY2FsZXMgZGVmaW5lIG1vcmUgY2F0ZWdvcmllcyB0aGFuIGBvbmVgIGFuZCBgb3RoZXJgLiBGb3IgZXhhbXBsZSwgZnItZnIgZGVmaW5lcyBgZmV3YCBhbmQgYG1hbnlgLlxuICpcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemUgd2l0aCBvZmZzZXRcbiAqIFRoZSBgb2Zmc2V0YCBhdHRyaWJ1dGUgYWxsb3dzIGZ1cnRoZXIgY3VzdG9taXphdGlvbiBvZiBwbHVyYWxpemVkIHRleHQsIHdoaWNoIGNhbiByZXN1bHQgaW5cbiAqIGEgYmV0dGVyIHVzZXIgZXhwZXJpZW5jZS4gRm9yIGV4YW1wbGUsIGluc3RlYWQgb2YgdGhlIG1lc3NhZ2UgXCI0IHBlb3BsZSBhcmUgdmlld2luZyB0aGlzIGRvY3VtZW50XCIsXG4gKiB5b3UgbWlnaHQgZGlzcGxheSBcIkpvaG4sIEthdGUgYW5kIDIgb3RoZXJzIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIi5cbiAqIFRoZSBvZmZzZXQgYXR0cmlidXRlIGFsbG93cyB5b3UgdG8gb2Zmc2V0IGEgbnVtYmVyIGJ5IGFueSBkZXNpcmVkIHZhbHVlLlxuICogTGV0J3MgdGFrZSBhIGxvb2sgYXQgYW4gZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIiBvZmZzZXQ9MlxuICogICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMic6ICd7e3BlcnNvbjF9fSBhbmQge3twZXJzb24yfX0gYXJlIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAqIDwvbmctcGx1cmFsaXplPlxuICogYGBgXG4gKlxuICogTm90aWNlIHRoYXQgd2UgYXJlIHN0aWxsIHVzaW5nIHR3byBwbHVyYWwgY2F0ZWdvcmllcyhvbmUsIG90aGVyKSwgYnV0IHdlIGFkZGVkXG4gKiB0aHJlZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgMCwgMSBhbmQgMi5cbiAqIFdoZW4gb25lIHBlcnNvbiwgcGVyaGFwcyBKb2huLCB2aWV3cyB0aGUgZG9jdW1lbnQsIFwiSm9obiBpcyB2aWV3aW5nXCIgd2lsbCBiZSBzaG93bi5cbiAqIFdoZW4gdGhyZWUgcGVvcGxlIHZpZXcgdGhlIGRvY3VtZW50LCBubyBleHBsaWNpdCBudW1iZXIgcnVsZSBpcyBmb3VuZCwgc29cbiAqIGFuIG9mZnNldCBvZiAyIGlzIHRha2VuIG9mZiAzLCBhbmQgQW5ndWxhciB1c2VzIDEgdG8gZGVjaWRlIHRoZSBwbHVyYWwgY2F0ZWdvcnkuXG4gKiBJbiB0aGlzIGNhc2UsIHBsdXJhbCBjYXRlZ29yeSAnb25lJyBpcyBtYXRjaGVkIGFuZCBcIkpvaG4sIE1hcnkgYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmdcIlxuICogaXMgc2hvd24uXG4gKlxuICogTm90ZSB0aGF0IHdoZW4geW91IHNwZWNpZnkgb2Zmc2V0cywgeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yXG4gKiBudW1iZXJzIGZyb20gMCB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBvZmZzZXQuIElmIHlvdSB1c2UgYW4gb2Zmc2V0IG9mIDMsIGZvciBleGFtcGxlLFxuICogeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yIDAsIDEsIDIgYW5kIDMuIFlvdSBtdXN0IGFsc28gcHJvdmlkZSBwbHVyYWwgc3RyaW5ncyBmb3JcbiAqIHBsdXJhbCBjYXRlZ29yaWVzIFwib25lXCIgYW5kIFwib3RoZXJcIi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xleHByZXNzaW9ufSBjb3VudCBUaGUgdmFyaWFibGUgdG8gYmUgYm91bmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gd2hlbiBUaGUgbWFwcGluZyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yeSB0byBpdHMgY29ycmVzcG9uZGluZyBzdHJpbmdzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvZmZzZXQgT2Zmc2V0IHRvIGRlZHVjdCBmcm9tIHRoZSB0b3RhbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJwbHVyYWxpemVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdwbHVyYWxpemVFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJztcbiAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbjIgPSAnTWlza28nO1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uQ291bnQgPSAxO1xuICAgICAgICAgICAgfV0pO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8bGFiZWw+UGVyc29uIDE6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24xXCIgdmFsdWU9XCJJZ29yXCIgLz48L2xhYmVsPjxici8+XG4gICAgICAgICAgPGxhYmVsPlBlcnNvbiAyOjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicGVyc29uMlwiIHZhbHVlPVwiTWlza29cIiAvPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgICA8bGFiZWw+TnVtYmVyIG9mIFBlb3BsZTo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbkNvdW50XCIgdmFsdWU9XCIxXCIgLz48L2xhYmVsPjxici8+XG5cbiAgICAgICAgICA8IS0tLSBFeGFtcGxlIHdpdGggc2ltcGxlIHBsdXJhbGl6YXRpb24gcnVsZXMgZm9yIGVuIGxvY2FsZSAtLS0+XG4gICAgICAgICAgV2l0aG91dCBPZmZzZXQ6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XG4gICAgICAgICAgPC9uZy1wbHVyYWxpemU+PGJyPlxuXG4gICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIG9mZnNldCAtLS0+XG4gICAgICAgICAgV2l0aCBPZmZzZXQoMik6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCIgb2Zmc2V0PTJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHdpdGhvdXRPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMCk7XG4gICAgICAgICAgdmFyIHdpdGhPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMSk7XG4gICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMSBwZXJzb24gaXMgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ05vYm9keSBpcyB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XG5cbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpO1xuXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCcyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpO1xuXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMyBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzQgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBzaG93IGRhdGEtYm91bmQgbmFtZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcbiAgICAgICAgICB2YXIgcGVyc29uQ291bnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcbiAgICAgICAgICB2YXIgcGVyc29uMSA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbjEnKSk7XG4gICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpO1xuICAgICAgICAgIHBlcnNvbkNvdW50LmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uQ291bnQuc2VuZEtleXMoJzQnKTtcbiAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMS5zZW5kS2V5cygnRGknKTtcbiAgICAgICAgICBwZXJzb24yLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0RpLCBWb2p0YSBhbmQgMiBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsICckbG9nJywgZnVuY3Rpb24oJGxvY2FsZSwgJGludGVycG9sYXRlLCAkbG9nKSB7XG4gIHZhciBCUkFDRSA9IC97fS9nLFxuICAgICAgSVNfV0hFTiA9IC9ed2hlbihNaW51cyk/KC4rKSQvO1xuXG4gIHJldHVybiB7XG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBudW1iZXJFeHAgPSBhdHRyLmNvdW50LFxuICAgICAgICAgIHdoZW5FeHAgPSBhdHRyLiRhdHRyLndoZW4gJiYgZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIud2hlbiksIC8vIHdlIGhhdmUge3t9fSBpbiBhdHRyc1xuICAgICAgICAgIG9mZnNldCA9IGF0dHIub2Zmc2V0IHx8IDAsXG4gICAgICAgICAgd2hlbnMgPSBzY29wZS4kZXZhbCh3aGVuRXhwKSB8fCB7fSxcbiAgICAgICAgICB3aGVuc0V4cEZucyA9IHt9LFxuICAgICAgICAgIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksXG4gICAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxuICAgICAgICAgIGJyYWNlUmVwbGFjZW1lbnQgPSBzdGFydFN5bWJvbCArIG51bWJlckV4cCArICctJyArIG9mZnNldCArIGVuZFN5bWJvbCxcbiAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBhbmd1bGFyLm5vb3AsXG4gICAgICAgICAgbGFzdENvdW50O1xuXG4gICAgICBmb3JFYWNoKGF0dHIsIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgdmFyIHRtcE1hdGNoID0gSVNfV0hFTi5leGVjKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAodG1wTWF0Y2gpIHtcbiAgICAgICAgICB2YXIgd2hlbktleSA9ICh0bXBNYXRjaFsxXSA/ICctJyA6ICcnKSArIGxvd2VyY2FzZSh0bXBNYXRjaFsyXSk7XG4gICAgICAgICAgd2hlbnNbd2hlbktleV0gPSBlbGVtZW50LmF0dHIoYXR0ci4kYXR0clthdHRyaWJ1dGVOYW1lXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZm9yRWFjaCh3aGVucywgZnVuY3Rpb24oZXhwcmVzc2lvbiwga2V5KSB7XG4gICAgICAgIHdoZW5zRXhwRm5zW2tleV0gPSAkaW50ZXJwb2xhdGUoZXhwcmVzc2lvbi5yZXBsYWNlKEJSQUNFLCBicmFjZVJlcGxhY2VtZW50KSk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kd2F0Y2gobnVtYmVyRXhwLCBmdW5jdGlvbiBuZ1BsdXJhbGl6ZVdhdGNoQWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICB2YXIgY291bnQgPSBwYXJzZUZsb2F0KG5ld1ZhbCk7XG4gICAgICAgIHZhciBjb3VudElzTmFOID0gaXNOYU4oY291bnQpO1xuXG4gICAgICAgIGlmICghY291bnRJc05hTiAmJiAhKGNvdW50IGluIHdoZW5zKSkge1xuICAgICAgICAgIC8vIElmIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIHN1Y2ggYXMgMSwgMiwgMy4uLiBpcyBkZWZpbmVkLCBqdXN0IHVzZSBpdC5cbiAgICAgICAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGl0IGFnYWluc3QgcGx1cmFsaXphdGlvbiBydWxlcyBpbiAkbG9jYWxlIHNlcnZpY2UuXG4gICAgICAgICAgY291bnQgPSAkbG9jYWxlLnBsdXJhbENhdChjb3VudCAtIG9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBib3RoIGBjb3VudGAgYW5kIGBsYXN0Q291bnRgIGFyZSBOYU4sIHdlIGRvbid0IG5lZWQgdG8gcmUtcmVnaXN0ZXIgYSB3YXRjaC5cbiAgICAgICAgLy8gSW4gSlMgYE5hTiAhPT0gTmFOYCwgc28gd2UgaGF2ZSB0byBleGxpY2l0bHkgY2hlY2suXG4gICAgICAgIGlmICgoY291bnQgIT09IGxhc3RDb3VudCkgJiYgIShjb3VudElzTmFOICYmIGlzTnVtYmVyKGxhc3RDb3VudCkgJiYgaXNOYU4obGFzdENvdW50KSkpIHtcbiAgICAgICAgICB3YXRjaFJlbW92ZXIoKTtcbiAgICAgICAgICB2YXIgd2hlbkV4cEZuID0gd2hlbnNFeHBGbnNbY291bnRdO1xuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZCh3aGVuRXhwRm4pKSB7XG4gICAgICAgICAgICBpZiAobmV3VmFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgJGxvZy5kZWJ1ZyhcIm5nUGx1cmFsaXplOiBubyBydWxlIGRlZmluZWQgZm9yICdcIiArIGNvdW50ICsgXCInIGluIFwiICsgd2hlbkV4cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBub29wO1xuICAgICAgICAgICAgdXBkYXRlRWxlbWVudFRleHQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2F0Y2hSZW1vdmVyID0gc2NvcGUuJHdhdGNoKHdoZW5FeHBGbiwgdXBkYXRlRWxlbWVudFRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0Q291bnQgPSBjb3VudDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnRUZXh0KG5ld1RleHQpIHtcbiAgICAgICAgZWxlbWVudC50ZXh0KG5ld1RleHQgfHwgJycpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUmVwZWF0XG4gKiBAbXVsdGlFbGVtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nUmVwZWF0YCBkaXJlY3RpdmUgaW5zdGFudGlhdGVzIGEgdGVtcGxhdGUgb25jZSBwZXIgaXRlbSBmcm9tIGEgY29sbGVjdGlvbi4gRWFjaCB0ZW1wbGF0ZVxuICogaW5zdGFuY2UgZ2V0cyBpdHMgb3duIHNjb3BlLCB3aGVyZSB0aGUgZ2l2ZW4gbG9vcCB2YXJpYWJsZSBpcyBzZXQgdG8gdGhlIGN1cnJlbnQgY29sbGVjdGlvbiBpdGVtLFxuICogYW5kIGAkaW5kZXhgIGlzIHNldCB0byB0aGUgaXRlbSBpbmRleCBvciBrZXkuXG4gKlxuICogU3BlY2lhbCBwcm9wZXJ0aWVzIGFyZSBleHBvc2VkIG9uIHRoZSBsb2NhbCBzY29wZSBvZiBlYWNoIHRlbXBsYXRlIGluc3RhbmNlLCBpbmNsdWRpbmc6XG4gKlxuICogfCBWYXJpYWJsZSAgfCBUeXBlICAgICAgICAgICAgfCBEZXRhaWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCBgJGluZGV4YCAgfCB7QHR5cGUgbnVtYmVyfSAgfCBpdGVyYXRvciBvZmZzZXQgb2YgdGhlIHJlcGVhdGVkIGVsZW1lbnQgKDAuLmxlbmd0aC0xKSAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJGZpcnN0YCAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGZpcnN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJG1pZGRsZWAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGJldHdlZW4gdGhlIGZpcnN0IGFuZCBsYXN0IGluIHRoZSBpdGVyYXRvci4gfFxuICogfCBgJGxhc3RgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGxhc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJGV2ZW5gICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBldmVuIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgfFxuICogfCBgJG9kZGAgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBvZGQgKG90aGVyd2lzZSBmYWxzZSkuICAgICAgICAgICAgfFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAgIENyZWF0aW5nIGFsaWFzZXMgZm9yIHRoZXNlIHByb3BlcnRpZXMgaXMgcG9zc2libGUgd2l0aCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5pdCBgbmdJbml0YH0uXG4gKiAgIFRoaXMgbWF5IGJlIHVzZWZ1bCB3aGVuLCBmb3IgaW5zdGFuY2UsIG5lc3RpbmcgbmdSZXBlYXRzLlxuICogPC9kaXY+XG4gKlxuICpcbiAqICMgSXRlcmF0aW5nIG92ZXIgb2JqZWN0IHByb3BlcnRpZXNcbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBnZXQgYG5nUmVwZWF0YCB0byBpdGVyYXRlIG92ZXIgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IHVzaW5nIHRoZSBmb2xsb3dpbmdcbiAqIHN5bnRheDpcbiAqXG4gKiBgYGBqc1xuICogPGRpdiBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gbXlPYmpcIj4gLi4uIDwvZGl2PlxuICogYGBgXG4gKlxuICogWW91IG5lZWQgdG8gYmUgYXdhcmUgdGhhdCB0aGUgSmF2YVNjcmlwdCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IGRlZmluZSB0aGUgb3JkZXIgb2Yga2V5c1xuICogcmV0dXJuZWQgZm9yIGFuIG9iamVjdC4gKFRvIG1pdGlnYXRlIHRoaXMgaW4gQW5ndWxhciAxLjMgdGhlIGBuZ1JlcGVhdGAgZGlyZWN0aXZlXG4gKiB1c2VkIHRvIHNvcnQgdGhlIGtleXMgYWxwaGFiZXRpY2FsbHkuKVxuICpcbiAqIFZlcnNpb24gMS40IHJlbW92ZWQgdGhlIGFscGhhYmV0aWMgc29ydGluZy4gV2Ugbm93IHJlbHkgb24gdGhlIG9yZGVyIHJldHVybmVkIGJ5IHRoZSBicm93c2VyXG4gKiB3aGVuIHJ1bm5pbmcgYGZvciBrZXkgaW4gbXlPYmpgLiBJdCBzZWVtcyB0aGF0IGJyb3dzZXJzIGdlbmVyYWxseSBmb2xsb3cgdGhlIHN0cmF0ZWd5IG9mIHByb3ZpZGluZ1xuICoga2V5cyBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIGRlZmluZWQsIGFsdGhvdWdoIHRoZXJlIGFyZSBleGNlcHRpb25zIHdoZW4ga2V5cyBhcmUgZGVsZXRlZFxuICogYW5kIHJlaW5zdGF0ZWQuIFNlZSB0aGUgW01ETiBwYWdlIG9uIGBkZWxldGVgIGZvciBtb3JlIGluZm9dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9kZWxldGUjQ3Jvc3MtYnJvd3Nlcl9ub3RlcykuXG4gKlxuICogSWYgdGhpcyBpcyBub3QgZGVzaXJlZCwgdGhlIHJlY29tbWVuZGVkIHdvcmthcm91bmQgaXMgdG8gY29udmVydCB5b3VyIG9iamVjdCBpbnRvIGFuIGFycmF5XG4gKiB0aGF0IGlzIHNvcnRlZCBpbnRvIHRoZSBvcmRlciB0aGF0IHlvdSBwcmVmZXIgYmVmb3JlIHByb3ZpZGluZyBpdCB0byBgbmdSZXBlYXRgLiAgWW91IGNvdWxkXG4gKiBkbyB0aGlzIHdpdGggYSBmaWx0ZXIgc3VjaCBhcyBbdG9BcnJheUZpbHRlcl0oaHR0cDovL25nbW9kdWxlcy5vcmcvbW9kdWxlcy9hbmd1bGFyLXRvQXJyYXlGaWx0ZXIpXG4gKiBvciBpbXBsZW1lbnQgYSBgJHdhdGNoYCBvbiB0aGUgb2JqZWN0IHlvdXJzZWxmLlxuICpcbiAqXG4gKiAjIFRyYWNraW5nIGFuZCBEdXBsaWNhdGVzXG4gKlxuICogYG5nUmVwZWF0YCB1c2VzIHtAbGluayAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaENvbGxlY3Rpb24gJHdhdGNoQ29sbGVjdGlvbn0gdG8gZGV0ZWN0IGNoYW5nZXMgaW5cbiAqIHRoZSBjb2xsZWN0aW9uLiBXaGVuIGEgY2hhbmdlIGhhcHBlbnMsIG5nUmVwZWF0IHRoZW4gbWFrZXMgdGhlIGNvcnJlc3BvbmRpbmcgY2hhbmdlcyB0byB0aGUgRE9NOlxuICpcbiAqICogV2hlbiBhbiBpdGVtIGlzIGFkZGVkLCBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgdGVtcGxhdGUgaXMgYWRkZWQgdG8gdGhlIERPTS5cbiAqICogV2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQsIGl0cyB0ZW1wbGF0ZSBpbnN0YW5jZSBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAqICogV2hlbiBpdGVtcyBhcmUgcmVvcmRlcmVkLCB0aGVpciByZXNwZWN0aXZlIHRlbXBsYXRlcyBhcmUgcmVvcmRlcmVkIGluIHRoZSBET00uXG4gKlxuICogVG8gbWluaW1pemUgY3JlYXRpb24gb2YgRE9NIGVsZW1lbnRzLCBgbmdSZXBlYXRgIHVzZXMgYSBmdW5jdGlvblxuICogdG8gXCJrZWVwIHRyYWNrXCIgb2YgYWxsIGl0ZW1zIGluIHRoZSBjb2xsZWN0aW9uIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIERPTSBlbGVtZW50cy5cbiAqIEZvciBleGFtcGxlLCBpZiBhbiBpdGVtIGlzIGFkZGVkIHRvIHRoZSBjb2xsZWN0aW9uLCBuZ1JlcGVhdCB3aWxsIGtub3cgdGhhdCBhbGwgb3RoZXIgaXRlbXNcbiAqIGFscmVhZHkgaGF2ZSBET00gZWxlbWVudHMsIGFuZCB3aWxsIG5vdCByZS1yZW5kZXIgdGhlbS5cbiAqXG4gKiBUaGUgZGVmYXVsdCB0cmFja2luZyBmdW5jdGlvbiAod2hpY2ggdHJhY2tzIGl0ZW1zIGJ5IHRoZWlyIGlkZW50aXR5KSBkb2VzIG5vdCBhbGxvd1xuICogZHVwbGljYXRlIGl0ZW1zIGluIGFycmF5cy4gVGhpcyBpcyBiZWNhdXNlIHdoZW4gdGhlcmUgYXJlIGR1cGxpY2F0ZXMsIGl0IGlzIG5vdCBwb3NzaWJsZVxuICogdG8gbWFpbnRhaW4gYSBvbmUtdG8tb25lIG1hcHBpbmcgYmV0d2VlbiBjb2xsZWN0aW9uIGl0ZW1zIGFuZCBET00gZWxlbWVudHMuXG4gKlxuICogSWYgeW91IGRvIG5lZWQgdG8gcmVwZWF0IGR1cGxpY2F0ZSBpdGVtcywgeW91IGNhbiBzdWJzdGl0dXRlIHRoZSBkZWZhdWx0IHRyYWNraW5nIGJlaGF2aW9yXG4gKiB3aXRoIHlvdXIgb3duIHVzaW5nIHRoZSBgdHJhY2sgYnlgIGV4cHJlc3Npb24uXG4gKlxuICogRm9yIGV4YW1wbGUsIHlvdSBtYXkgdHJhY2sgaXRlbXMgYnkgdGhlIGluZGV4IG9mIGVhY2ggaXRlbSBpbiB0aGUgY29sbGVjdGlvbiwgdXNpbmcgdGhlXG4gKiBzcGVjaWFsIHNjb3BlIHByb3BlcnR5IGAkaW5kZXhgOlxuICogYGBgaHRtbFxuICogICAgPGRpdiBuZy1yZXBlYXQ9XCJuIGluIFs0MiwgNDIsIDQzLCA0M10gdHJhY2sgYnkgJGluZGV4XCI+XG4gKiAgICAgIHt7bn19XG4gKiAgICA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFlvdSBtYXkgYWxzbyB1c2UgYXJiaXRyYXJ5IGV4cHJlc3Npb25zIGluIGB0cmFjayBieWAsIGluY2x1ZGluZyByZWZlcmVuY2VzIHRvIGN1c3RvbSBmdW5jdGlvbnNcbiAqIG9uIHRoZSBzY29wZTpcbiAqIGBgYGh0bWxcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwibiBpbiBbNDIsIDQyLCA0MywgNDNdIHRyYWNrIGJ5IG15VHJhY2tpbmdGdW5jdGlvbihuKVwiPlxuICogICAgICB7e259fVxuICogICAgPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxuICogSWYgeW91IGFyZSB3b3JraW5nIHdpdGggb2JqZWN0cyB0aGF0IGhhdmUgYW4gaWRlbnRpZmllciBwcm9wZXJ0eSwgeW91IHNob3VsZCB0cmFja1xuICogYnkgdGhlIGlkZW50aWZpZXIgaW5zdGVhZCBvZiB0aGUgd2hvbGUgb2JqZWN0LiBTaG91bGQgeW91IHJlbG9hZCB5b3VyIGRhdGEgbGF0ZXIsIGBuZ1JlcGVhdGBcbiAqIHdpbGwgbm90IGhhdmUgdG8gcmVidWlsZCB0aGUgRE9NIGVsZW1lbnRzIGZvciBpdGVtcyBpdCBoYXMgYWxyZWFkeSByZW5kZXJlZCwgZXZlbiBpZiB0aGVcbiAqIEphdmFTY3JpcHQgb2JqZWN0cyBpbiB0aGUgY29sbGVjdGlvbiBoYXZlIGJlZW4gc3Vic3RpdHV0ZWQgZm9yIG5ldyBvbmVzLiBGb3IgbGFyZ2UgY29sbGVjdGlvbnMsXG4gKiB0aGlzIHNpZ25pZmluY2FudGx5IGltcHJvdmVzIHJlbmRlcmluZyBwZXJmb3JtYW5jZS4gSWYgeW91IGRvbid0IGhhdmUgYSB1bmlxdWUgaWRlbnRpZmllcixcbiAqIGB0cmFjayBieSAkaW5kZXhgIGNhbiBhbHNvIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBib29zdC5cbiAqIDwvZGl2PlxuICogYGBgaHRtbFxuICogICAgPGRpdiBuZy1yZXBlYXQ9XCJtb2RlbCBpbiBjb2xsZWN0aW9uIHRyYWNrIGJ5IG1vZGVsLmlkXCI+XG4gKiAgICAgIHt7bW9kZWwubmFtZX19XG4gKiAgICA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFdoZW4gbm8gYHRyYWNrIGJ5YCBleHByZXNzaW9uIGlzIHByb3ZpZGVkLCBpdCBpcyBlcXVpdmFsZW50IHRvIHRyYWNraW5nIGJ5IHRoZSBidWlsdC1pblxuICogYCRpZGAgZnVuY3Rpb24sIHdoaWNoIHRyYWNrcyBpdGVtcyBieSB0aGVpciBpZGVudGl0eTpcbiAqIGBgYGh0bWxcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwib2JqIGluIGNvbGxlY3Rpb24gdHJhY2sgYnkgJGlkKG9iailcIj5cbiAqICAgICAge3tvYmoucHJvcH19XG4gKiAgICA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogYHRyYWNrIGJ5YCBtdXN0IGFsd2F5cyBiZSB0aGUgbGFzdCBleHByZXNzaW9uOlxuICogPC9kaXY+XG4gKiBgYGBcbiAqIDxkaXYgbmctcmVwZWF0PVwibW9kZWwgaW4gY29sbGVjdGlvbiB8IG9yZGVyQnk6ICdpZCcgYXMgZmlsdGVyZWRfcmVzdWx0IHRyYWNrIGJ5IG1vZGVsLmlkXCI+XG4gKiAgICAge3ttb2RlbC5uYW1lfX1cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogIyBTcGVjaWFsIHJlcGVhdCBzdGFydCBhbmQgZW5kIHBvaW50c1xuICogVG8gcmVwZWF0IGEgc2VyaWVzIG9mIGVsZW1lbnRzIGluc3RlYWQgb2YganVzdCBvbmUgcGFyZW50IGVsZW1lbnQsIG5nUmVwZWF0IChhcyB3ZWxsIGFzIG90aGVyIG5nIGRpcmVjdGl2ZXMpIHN1cHBvcnRzIGV4dGVuZGluZ1xuICogdGhlIHJhbmdlIG9mIHRoZSByZXBlYXRlciBieSBkZWZpbmluZyBleHBsaWNpdCBzdGFydCBhbmQgZW5kIHBvaW50cyBieSB1c2luZyAqKm5nLXJlcGVhdC1zdGFydCoqIGFuZCAqKm5nLXJlcGVhdC1lbmQqKiByZXNwZWN0aXZlbHkuXG4gKiBUaGUgKipuZy1yZXBlYXQtc3RhcnQqKiBkaXJlY3RpdmUgd29ya3MgdGhlIHNhbWUgYXMgKipuZy1yZXBlYXQqKiwgYnV0IHdpbGwgcmVwZWF0IGFsbCB0aGUgSFRNTCBjb2RlIChpbmNsdWRpbmcgdGhlIHRhZyBpdCdzIGRlZmluZWQgb24pXG4gKiB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBlbmRpbmcgSFRNTCB0YWcgd2hlcmUgKipuZy1yZXBlYXQtZW5kKiogaXMgcGxhY2VkLlxuICpcbiAqIFRoZSBleGFtcGxlIGJlbG93IG1ha2VzIHVzZSBvZiB0aGlzIGZlYXR1cmU6XG4gKiBgYGBodG1sXG4gKiAgIDxoZWFkZXIgbmctcmVwZWF0LXN0YXJ0PVwiaXRlbSBpbiBpdGVtc1wiPlxuICogICAgIEhlYWRlciB7eyBpdGVtIH19XG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkge3sgaXRlbSB9fVxuICogICA8L2Rpdj5cbiAqICAgPGZvb3RlciBuZy1yZXBlYXQtZW5kPlxuICogICAgIEZvb3RlciB7eyBpdGVtIH19XG4gKiAgIDwvZm9vdGVyPlxuICogYGBgXG4gKlxuICogQW5kIHdpdGggYW4gaW5wdXQgb2Yge0B0eXBlIFsnQScsJ0InXX0gZm9yIHRoZSBpdGVtcyB2YXJpYWJsZSBpbiB0aGUgZXhhbXBsZSBhYm92ZSwgdGhlIG91dHB1dCB3aWxsIGV2YWx1YXRlIHRvOlxuICogYGBgaHRtbFxuICogICA8aGVhZGVyPlxuICogICAgIEhlYWRlciBBXG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkgQVxuICogICA8L2Rpdj5cbiAqICAgPGZvb3Rlcj5cbiAqICAgICBGb290ZXIgQVxuICogICA8L2Zvb3Rlcj5cbiAqICAgPGhlYWRlcj5cbiAqICAgICBIZWFkZXIgQlxuICogICA8L2hlYWRlcj5cbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cbiAqICAgICBCb2R5IEJcbiAqICAgPC9kaXY+XG4gKiAgIDxmb290ZXI+XG4gKiAgICAgRm9vdGVyIEJcbiAqICAgPC9mb290ZXI+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY3VzdG9tIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGZvciBuZ1JlcGVhdCBhbHNvIHN1cHBvcnQgYWxsIG90aGVyIEhUTUwgZGlyZWN0aXZlIHN5bnRheCBmbGF2b3JzIHByb3ZpZGVkIGluIEFuZ3VsYXJKUyAoc3VjaFxuICogYXMgKipkYXRhLW5nLXJlcGVhdC1zdGFydCoqLCAqKngtbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmc6cmVwZWF0LXN0YXJ0KiopLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiAqKi5lbnRlcioqIC0gd2hlbiBhIG5ldyBpdGVtIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9yIHdoZW4gYW4gaXRlbSBpcyByZXZlYWxlZCBhZnRlciBhIGZpbHRlclxuICpcbiAqICoqLmxlYXZlKiogLSB3aGVuIGFuIGl0ZW0gaXMgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0IG9yIHdoZW4gYW4gaXRlbSBpcyBmaWx0ZXJlZCBvdXRcbiAqXG4gKiAqKi5tb3ZlKiogLSB3aGVuIGFuIGFkamFjZW50IGl0ZW0gaXMgZmlsdGVyZWQgb3V0IGNhdXNpbmcgYSByZW9yZGVyIG9yIHdoZW4gdGhlIGl0ZW0gY29udGVudHMgYXJlIHJlb3JkZXJlZFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgMTAwMFxuICogQHBhcmFtIHtyZXBlYXRfZXhwcmVzc2lvbn0gbmdSZXBlYXQgVGhlIGV4cHJlc3Npb24gaW5kaWNhdGluZyBob3cgdG8gZW51bWVyYXRlIGEgY29sbGVjdGlvbi4gVGhlc2VcbiAqICAgZm9ybWF0cyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZDpcbiAqXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSB2YXJpYWJsZSBpcyB0aGUgdXNlciBkZWZpbmVkIGxvb3AgdmFyaWFibGUgYW5kIGBleHByZXNzaW9uYFxuICogICAgIGlzIGEgc2NvcGUgZXhwcmVzc2lvbiBnaXZpbmcgdGhlIGNvbGxlY3Rpb24gdG8gZW51bWVyYXRlLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGFsYnVtIGluIGFydGlzdC5hbGJ1bXNgLlxuICpcbiAqICAgKiBgKGtleSwgdmFsdWUpIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSBga2V5YCBhbmQgYHZhbHVlYCBjYW4gYmUgYW55IHVzZXIgZGVmaW5lZCBpZGVudGlmaWVycyxcbiAqICAgICBhbmQgYGV4cHJlc3Npb25gIGlzIHRoZSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgKG5hbWUsIGFnZSkgaW4geydhZGFtJzoxMCwgJ2FtYWxpZSc6MTJ9YC5cbiAqXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb24gdHJhY2sgYnkgdHJhY2tpbmdfZXhwcmVzc2lvbmAg4oCTIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIHRyYWNraW5nIGV4cHJlc3Npb25cbiAqICAgICB3aGljaCBjYW4gYmUgdXNlZCB0byBhc3NvY2lhdGUgdGhlIG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gd2l0aCB0aGUgRE9NIGVsZW1lbnRzLiBJZiBubyB0cmFja2luZyBleHByZXNzaW9uXG4gKiAgICAgaXMgc3BlY2lmaWVkLCBuZy1yZXBlYXQgYXNzb2NpYXRlcyBlbGVtZW50cyBieSBpZGVudGl0eS4gSXQgaXMgYW4gZXJyb3IgdG8gaGF2ZVxuICogICAgIG1vcmUgdGhhbiBvbmUgdHJhY2tpbmcgZXhwcmVzc2lvbiB2YWx1ZSByZXNvbHZlIHRvIHRoZSBzYW1lIGtleS4gKFRoaXMgd291bGQgbWVhbiB0aGF0IHR3byBkaXN0aW5jdCBvYmplY3RzIGFyZVxuICogICAgIG1hcHBlZCB0byB0aGUgc2FtZSBET00gZWxlbWVudCwgd2hpY2ggaXMgbm90IHBvc3NpYmxlLilcbiAqXG4gKiAgICAgTm90ZSB0aGF0IHRoZSB0cmFja2luZyBleHByZXNzaW9uIG11c3QgY29tZSBsYXN0LCBhZnRlciBhbnkgZmlsdGVycywgYW5kIHRoZSBhbGlhcyBleHByZXNzaW9uLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXNgIGlzIGVxdWl2YWxlbnQgdG8gYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgJGlkKGl0ZW0pYC4gVGhpcyBpbXBsaWVzIHRoYXQgdGhlIERPTSBlbGVtZW50c1xuICogICAgIHdpbGwgYmUgYXNzb2NpYXRlZCBieSBpdGVtIGlkZW50aXR5IGluIHRoZSBhcnJheS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5ICRpZChpdGVtKWAuIEEgYnVpbHQgaW4gYCRpZCgpYCBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBhc3NpZ24gYSB1bmlxdWVcbiAqICAgICBgJCRoYXNoS2V5YCBwcm9wZXJ0eSB0byBlYWNoIGl0ZW0gaW4gdGhlIGFycmF5LiBUaGlzIHByb3BlcnR5IGlzIHRoZW4gdXNlZCBhcyBhIGtleSB0byBhc3NvY2lhdGVkIERPTSBlbGVtZW50c1xuICogICAgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgaXRlbSBpbiB0aGUgYXJyYXkgYnkgaWRlbnRpdHkuIE1vdmluZyB0aGUgc2FtZSBvYmplY3QgaW4gYXJyYXkgd291bGQgbW92ZSB0aGUgRE9NXG4gKiAgICAgZWxlbWVudCBpbiB0aGUgc2FtZSB3YXkgaW4gdGhlIERPTS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5IGl0ZW0uaWRgIGlzIGEgdHlwaWNhbCBwYXR0ZXJuIHdoZW4gdGhlIGl0ZW1zIGNvbWUgZnJvbSB0aGUgZGF0YWJhc2UuIEluIHRoaXNcbiAqICAgICBjYXNlIHRoZSBvYmplY3QgaWRlbnRpdHkgZG9lcyBub3QgbWF0dGVyLiBUd28gb2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlcXVpdmFsZW50IGFzIGxvbmcgYXMgdGhlaXIgYGlkYFxuICogICAgIHByb3BlcnR5IGlzIHNhbWUuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlcjpzZWFyY2hUZXh0IHRyYWNrIGJ5IGl0ZW0uaWRgIGlzIGEgcGF0dGVybiB0aGF0IG1pZ2h0IGJlIHVzZWQgdG8gYXBwbHkgYSBmaWx0ZXJcbiAqICAgICB0byBpdGVtcyBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHJhY2tpbmcgZXhwcmVzc2lvbi5cbiAqXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb24gYXMgYWxpYXNfZXhwcmVzc2lvbmAg4oCTIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIGFsaWFzIGV4cHJlc3Npb24gd2hpY2ggd2lsbCB0aGVuIHN0b3JlIHRoZVxuICogICAgIGludGVybWVkaWF0ZSByZXN1bHRzIG9mIHRoZSByZXBlYXRlciBhZnRlciB0aGUgZmlsdGVycyBoYXZlIGJlZW4gYXBwbGllZC4gVHlwaWNhbGx5IHRoaXMgaXMgdXNlZCB0byByZW5kZXIgYSBzcGVjaWFsIG1lc3NhZ2VcbiAqICAgICB3aGVuIGEgZmlsdGVyIGlzIGFjdGl2ZSBvbiB0aGUgcmVwZWF0ZXIsIGJ1dCB0aGUgZmlsdGVyZWQgcmVzdWx0IHNldCBpcyBlbXB0eS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyOnggYXMgcmVzdWx0c2Agd2lsbCBzdG9yZSB0aGUgZnJhZ21lbnQgb2YgdGhlIHJlcGVhdGVkIGl0ZW1zIGFzIGByZXN1bHRzYCwgYnV0IG9ubHkgYWZ0ZXJcbiAqICAgICB0aGUgaXRlbXMgaGF2ZSBiZWVuIHByb2Nlc3NlZCB0aHJvdWdoIHRoZSBmaWx0ZXIuXG4gKlxuICogICAgIFBsZWFzZSBub3RlIHRoYXQgYGFzIFt2YXJpYWJsZSBuYW1lXSBpcyBub3QgYW4gb3BlcmF0b3IgYnV0IHJhdGhlciBhIHBhcnQgb2YgbmdSZXBlYXQgbWljcm8tc3ludGF4IHNvIGl0IGNhbiBiZSB1c2VkIG9ubHkgYXQgdGhlIGVuZFxuICogICAgIChhbmQgbm90IGFzIG9wZXJhdG9yLCBpbnNpZGUgYW4gZXhwcmVzc2lvbikuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlciA6IHggfCBvcmRlckJ5IDogb3JkZXIgfCBsaW1pdFRvIDogbGltaXQgYXMgcmVzdWx0c2AgLlxuICpcbiAqIEBleGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgaW5pdGlhbGl6ZXMgdGhlIHNjb3BlIHRvIGEgbGlzdCBvZiBuYW1lcyBhbmRcbiAqIHRoZW4gdXNlcyBgbmdSZXBlYXRgIHRvIGRpc3BsYXkgZXZlcnkgcGVyc29uOlxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1pbml0PVwiZnJpZW5kcyA9IFtcbiAgICAgICAge25hbWU6J0pvaG4nLCBhZ2U6MjUsIGdlbmRlcjonYm95J30sXG4gICAgICAgIHtuYW1lOidKZXNzaWUnLCBhZ2U6MzAsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICB7bmFtZTonSm9oYW5uYScsIGFnZToyOCwgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgIHtuYW1lOidKb3knLCBhZ2U6MTUsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICB7bmFtZTonTWFyeScsIGFnZToyOCwgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgIHtuYW1lOidQZXRlcicsIGFnZTo5NSwgZ2VuZGVyOidib3knfSxcbiAgICAgICAge25hbWU6J1NlYmFzdGlhbicsIGFnZTo1MCwgZ2VuZGVyOidib3knfSxcbiAgICAgICAge25hbWU6J0VyaWthJywgYWdlOjI3LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAge25hbWU6J1BhdHJpY2snLCBhZ2U6NDAsIGdlbmRlcjonYm95J30sXG4gICAgICAgIHtuYW1lOidTYW1hbnRoYScsIGFnZTo2MCwgZ2VuZGVyOidnaXJsJ31cbiAgICAgIF1cIj5cbiAgICAgICAgSSBoYXZlIHt7ZnJpZW5kcy5sZW5ndGh9fSBmcmllbmRzLiBUaGV5IGFyZTpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBuZy1tb2RlbD1cInFcIiBwbGFjZWhvbGRlcj1cImZpbHRlciBmcmllbmRzLi4uXCIgYXJpYS1sYWJlbD1cImZpbHRlciBmcmllbmRzXCIgLz5cbiAgICAgICAgPHVsIGNsYXNzPVwiZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBmaWx0ZXI6cSBhcyByZXN1bHRzXCI+XG4gICAgICAgICAgICBbe3skaW5kZXggKyAxfX1dIHt7ZnJpZW5kLm5hbWV9fSB3aG8gaXMge3tmcmllbmQuYWdlfX0geWVhcnMgb2xkLlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzPVwiYW5pbWF0ZS1yZXBlYXRcIiBuZy1pZj1cInJlc3VsdHMubGVuZ3RoID09IDBcIj5cbiAgICAgICAgICAgIDxzdHJvbmc+Tm8gcmVzdWx0cyBmb3VuZC4uLjwvc3Ryb25nPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lciB7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGxpc3Qtc3R5bGU6bm9uZTtcbiAgICAgICAgbWFyZ2luOjA7XG4gICAgICAgIHBhZGRpbmc6MCAxMHB4O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQge1xuICAgICAgICBsaW5lLWhlaWdodDo0MHB4O1xuICAgICAgICBsaXN0LXN0eWxlOm5vbmU7XG4gICAgICAgIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUge1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyIHtcbiAgICAgICAgb3BhY2l0eTowO1xuICAgICAgICBtYXgtaGVpZ2h0OjA7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLm5nLW1vdmUtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIG9wYWNpdHk6MTtcbiAgICAgICAgbWF4LWhlaWdodDo0MHB4O1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgZnJpZW5kcyA9IGVsZW1lbnQuYWxsKGJ5LnJlcGVhdGVyKCdmcmllbmQgaW4gZnJpZW5kcycpKTtcblxuICAgICAgaXQoJ3Nob3VsZCByZW5kZXIgaW5pdGlhbCBkYXRhIHNldCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5jb3VudCgpKS50b0JlKDEwKTtcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDApLmdldFRleHQoKSkudG9FcXVhbCgnWzFdIEpvaG4gd2hvIGlzIDI1IHllYXJzIG9sZC4nKTtcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDEpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIEplc3NpZSB3aG8gaXMgMzAgeWVhcnMgb2xkLicpO1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5sYXN0KCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMTBdIFNhbWFudGhhIHdobyBpcyA2MCB5ZWFycyBvbGQuJyk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2ZyaWVuZHMubGVuZ3RoJykpLmdldFRleHQoKSlcbiAgICAgICAgICAgIC50b01hdGNoKFwiSSBoYXZlIDEwIGZyaWVuZHMuIFRoZXkgYXJlOlwiKTtcbiAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgcmVwZWF0ZXIgd2hlbiBmaWx0ZXIgcHJlZGljYXRlIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApO1xuXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdxJykpLnNlbmRLZXlzKCdtYScpO1xuXG4gICAgICAgICBleHBlY3QoZnJpZW5kcy5jb3VudCgpKS50b0JlKDIpO1xuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDApLmdldFRleHQoKSkudG9FcXVhbCgnWzFdIE1hcnkgd2hvIGlzIDI4IHllYXJzIG9sZC4nKTtcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1syXSBTYW1hbnRoYSB3aG8gaXMgNjAgeWVhcnMgb2xkLicpO1xuICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nUmVwZWF0RGlyZWN0aXZlID0gWyckcGFyc2UnLCAnJGFuaW1hdGUnLCBmdW5jdGlvbigkcGFyc2UsICRhbmltYXRlKSB7XG4gIHZhciBOR19SRU1PVkVEID0gJyQkTkdfUkVNT1ZFRCc7XG4gIHZhciBuZ1JlcGVhdE1pbkVyciA9IG1pbkVycignbmdSZXBlYXQnKTtcblxuICB2YXIgdXBkYXRlU2NvcGUgPSBmdW5jdGlvbihzY29wZSwgaW5kZXgsIHZhbHVlSWRlbnRpZmllciwgdmFsdWUsIGtleUlkZW50aWZpZXIsIGtleSwgYXJyYXlMZW5ndGgpIHtcbiAgICAvLyBUT0RPKHBlcmYpOiBnZW5lcmF0ZSBzZXR0ZXJzIHRvIHNoYXZlIG9mZiB+NDBtcyBvciAxLTEuNSVcbiAgICBzY29wZVt2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XG4gICAgaWYgKGtleUlkZW50aWZpZXIpIHNjb3BlW2tleUlkZW50aWZpZXJdID0ga2V5O1xuICAgIHNjb3BlLiRpbmRleCA9IGluZGV4O1xuICAgIHNjb3BlLiRmaXJzdCA9IChpbmRleCA9PT0gMCk7XG4gICAgc2NvcGUuJGxhc3QgPSAoaW5kZXggPT09IChhcnJheUxlbmd0aCAtIDEpKTtcbiAgICBzY29wZS4kbWlkZGxlID0gIShzY29wZS4kZmlyc3QgfHwgc2NvcGUuJGxhc3QpO1xuICAgIC8vIGpzaGludCBiaXR3aXNlOiBmYWxzZVxuICAgIHNjb3BlLiRvZGQgPSAhKHNjb3BlLiRldmVuID0gKGluZGV4JjEpID09PSAwKTtcbiAgICAvLyBqc2hpbnQgYml0d2lzZTogdHJ1ZVxuICB9O1xuXG4gIHZhciBnZXRCbG9ja1N0YXJ0ID0gZnVuY3Rpb24oYmxvY2spIHtcbiAgICByZXR1cm4gYmxvY2suY2xvbmVbMF07XG4gIH07XG5cbiAgdmFyIGdldEJsb2NrRW5kID0gZnVuY3Rpb24oYmxvY2spIHtcbiAgICByZXR1cm4gYmxvY2suY2xvbmVbYmxvY2suY2xvbmUubGVuZ3RoIC0gMV07XG4gIH07XG5cblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgICBwcmlvcml0eTogMTAwMCxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICAkJHRsYjogdHJ1ZSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ1JlcGVhdENvbXBpbGUoJGVsZW1lbnQsICRhdHRyKSB7XG4gICAgICB2YXIgZXhwcmVzc2lvbiA9ICRhdHRyLm5nUmVwZWF0O1xuICAgICAgdmFyIG5nUmVwZWF0RW5kQ29tbWVudCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyBlbmQgbmdSZXBlYXQ6ICcgKyBleHByZXNzaW9uICsgJyAnKTtcblxuICAgICAgdmFyIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaCgvXlxccyooW1xcc1xcU10rPylcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/XFxzKiQvKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignaWV4cCcsIFwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mICdfaXRlbV8gaW4gX2NvbGxlY3Rpb25fWyB0cmFjayBieSBfaWRfXScgYnV0IGdvdCAnezB9Jy5cIixcbiAgICAgICAgICAgIGV4cHJlc3Npb24pO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGhzID0gbWF0Y2hbMV07XG4gICAgICB2YXIgcmhzID0gbWF0Y2hbMl07XG4gICAgICB2YXIgYWxpYXNBcyA9IG1hdGNoWzNdO1xuICAgICAgdmFyIHRyYWNrQnlFeHAgPSBtYXRjaFs0XTtcblxuICAgICAgbWF0Y2ggPSBsaHMubWF0Y2goL14oPzooXFxzKltcXCRcXHddKyl8XFwoXFxzKihbXFwkXFx3XSspXFxzKixcXHMqKFtcXCRcXHddKylcXHMqXFwpKSQvKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignaWlkZXhwJywgXCInX2l0ZW1fJyBpbiAnX2l0ZW1fIGluIF9jb2xsZWN0aW9uXycgc2hvdWxkIGJlIGFuIGlkZW50aWZpZXIgb3IgJyhfa2V5XywgX3ZhbHVlXyknIGV4cHJlc3Npb24sIGJ1dCBnb3QgJ3swfScuXCIsXG4gICAgICAgICAgICBsaHMpO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlSWRlbnRpZmllciA9IG1hdGNoWzNdIHx8IG1hdGNoWzFdO1xuICAgICAgdmFyIGtleUlkZW50aWZpZXIgPSBtYXRjaFsyXTtcblxuICAgICAgaWYgKGFsaWFzQXMgJiYgKCEvXlskYS16QS1aX11bJGEtekEtWjAtOV9dKiQvLnRlc3QoYWxpYXNBcykgfHxcbiAgICAgICAgICAvXihudWxsfHVuZGVmaW5lZHx0aGlzfFxcJGluZGV4fFxcJGZpcnN0fFxcJG1pZGRsZXxcXCRsYXN0fFxcJGV2ZW58XFwkb2RkfFxcJHBhcmVudHxcXCRyb290fFxcJGlkKSQvLnRlc3QoYWxpYXNBcykpKSB7XG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdiYWRpZGVudCcsIFwiYWxpYXMgJ3swfScgaXMgaW52YWxpZCAtLS0gbXVzdCBiZSBhIHZhbGlkIEpTIGlkZW50aWZpZXIgd2hpY2ggaXMgbm90IGEgcmVzZXJ2ZWQgbmFtZS5cIixcbiAgICAgICAgICBhbGlhc0FzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYWNrQnlFeHBHZXR0ZXIsIHRyYWNrQnlJZEV4cEZuLCB0cmFja0J5SWRBcnJheUZuLCB0cmFja0J5SWRPYmpGbjtcbiAgICAgIHZhciBoYXNoRm5Mb2NhbHMgPSB7JGlkOiBoYXNoS2V5fTtcblxuICAgICAgaWYgKHRyYWNrQnlFeHApIHtcbiAgICAgICAgdHJhY2tCeUV4cEdldHRlciA9ICRwYXJzZSh0cmFja0J5RXhwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYWNrQnlJZEFycmF5Rm4gPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGhhc2hLZXkodmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICB0cmFja0J5SWRPYmpGbiA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1JlcGVhdExpbmsoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG5cbiAgICAgICAgaWYgKHRyYWNrQnlFeHBHZXR0ZXIpIHtcbiAgICAgICAgICB0cmFja0J5SWRFeHBGbiA9IGZ1bmN0aW9uKGtleSwgdmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICAvLyBhc3NpZ24ga2V5LCB2YWx1ZSwgYW5kICRpbmRleCB0byB0aGUgbG9jYWxzIHNvIHRoYXQgdGhleSBjYW4gYmUgdXNlZCBpbiBoYXNoIGZ1bmN0aW9uc1xuICAgICAgICAgICAgaWYgKGtleUlkZW50aWZpZXIpIGhhc2hGbkxvY2Fsc1trZXlJZGVudGlmaWVyXSA9IGtleTtcbiAgICAgICAgICAgIGhhc2hGbkxvY2Fsc1t2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XG4gICAgICAgICAgICBoYXNoRm5Mb2NhbHMuJGluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2tCeUV4cEdldHRlcigkc2NvcGUsIGhhc2hGbkxvY2Fscyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIGEgbGlzdCBvZiBlbGVtZW50cyBmcm9tIHByZXZpb3VzIHJ1bi4gVGhpcyBpcyBhIGhhc2ggd2hlcmUga2V5IGlzIHRoZSBpdGVtIGZyb20gdGhlXG4gICAgICAgIC8vIGl0ZXJhdG9yLCBhbmQgdGhlIHZhbHVlIGlzIG9iamVjdHMgd2l0aCBmb2xsb3dpbmcgcHJvcGVydGllcy5cbiAgICAgICAgLy8gICAtIHNjb3BlOiBib3VuZCBzY29wZVxuICAgICAgICAvLyAgIC0gZWxlbWVudDogcHJldmlvdXMgZWxlbWVudC5cbiAgICAgICAgLy8gICAtIGluZGV4OiBwb3NpdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBhcmUgdXNpbmcgbm8tcHJvdG8gb2JqZWN0IHNvIHRoYXQgd2UgZG9uJ3QgbmVlZCB0byBndWFyZCBhZ2FpbnN0IGluaGVyaXRlZCBwcm9wcyB2aWFcbiAgICAgICAgLy8gaGFzT3duUHJvcGVydHkuXG4gICAgICAgIHZhciBsYXN0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKTtcblxuICAgICAgICAvL3dhdGNoIHByb3BzXG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKHJocywgZnVuY3Rpb24gbmdSZXBlYXRBY3Rpb24oY29sbGVjdGlvbikge1xuICAgICAgICAgIHZhciBpbmRleCwgbGVuZ3RoLFxuICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSAkZWxlbWVudFswXSwgICAgIC8vIG5vZGUgdGhhdCBjbG9uZWQgbm9kZXMgc2hvdWxkIGJlIGluc2VydGVkIGFmdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZWQgdG8gdGhlIGNvbW1lbnQgbm9kZSBhbmNob3JcbiAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgIC8vIFNhbWUgYXMgbGFzdEJsb2NrTWFwIGJ1dCBpdCBoYXMgdGhlIGN1cnJlbnQgc3RhdGUuIEl0IHdpbGwgYmVjb21lIHRoZVxuICAgICAgICAgICAgICAvLyBsYXN0QmxvY2tNYXAgb24gdGhlIG5leHQgaXRlcmF0aW9uLlxuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKSxcbiAgICAgICAgICAgICAgY29sbGVjdGlvbkxlbmd0aCxcbiAgICAgICAgICAgICAga2V5LCB2YWx1ZSwgLy8ga2V5L3ZhbHVlIG9mIGl0ZXJhdGlvblxuICAgICAgICAgICAgICB0cmFja0J5SWQsXG4gICAgICAgICAgICAgIHRyYWNrQnlJZEZuLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyxcbiAgICAgICAgICAgICAgYmxvY2ssICAgICAgIC8vIGxhc3Qgb2JqZWN0IGluZm9ybWF0aW9uIHtzY29wZSwgZWxlbWVudCwgaWR9XG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyLFxuICAgICAgICAgICAgICBlbGVtZW50c1RvUmVtb3ZlO1xuXG4gICAgICAgICAgaWYgKGFsaWFzQXMpIHtcbiAgICAgICAgICAgICRzY29wZVthbGlhc0FzXSA9IGNvbGxlY3Rpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IGNvbGxlY3Rpb247XG4gICAgICAgICAgICB0cmFja0J5SWRGbiA9IHRyYWNrQnlJZEV4cEZuIHx8IHRyYWNrQnlJZEFycmF5Rm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNrQnlJZEZuID0gdHJhY2tCeUlkRXhwRm4gfHwgdHJhY2tCeUlkT2JqRm47XG4gICAgICAgICAgICAvLyBpZiBvYmplY3QsIGV4dHJhY3Qga2V5cywgaW4gZW51bWVyYXRpb24gb3JkZXIsIHVuc29ydGVkXG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlbUtleSBpbiBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbGxlY3Rpb24sIGl0ZW1LZXkpICYmIGl0ZW1LZXkuY2hhckF0KDApICE9PSAnJCcpIHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cy5wdXNoKGl0ZW1LZXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29sbGVjdGlvbkxlbmd0aCA9IGNvbGxlY3Rpb25LZXlzLmxlbmd0aDtcbiAgICAgICAgICBuZXh0QmxvY2tPcmRlciA9IG5ldyBBcnJheShjb2xsZWN0aW9uTGVuZ3RoKTtcblxuICAgICAgICAgIC8vIGxvY2F0ZSBleGlzdGluZyBpdGVtc1xuICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvbGxlY3Rpb25MZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcbiAgICAgICAgICAgIHZhbHVlID0gY29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgdHJhY2tCeUlkID0gdHJhY2tCeUlkRm4oa2V5LCB2YWx1ZSwgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGxhc3RCbG9ja01hcFt0cmFja0J5SWRdKSB7XG4gICAgICAgICAgICAgIC8vIGZvdW5kIHByZXZpb3VzbHkgc2VlbiBibG9ja1xuICAgICAgICAgICAgICBibG9jayA9IGxhc3RCbG9ja01hcFt0cmFja0J5SWRdO1xuICAgICAgICAgICAgICBkZWxldGUgbGFzdEJsb2NrTWFwW3RyYWNrQnlJZF07XG4gICAgICAgICAgICAgIG5leHRCbG9ja01hcFt0cmFja0J5SWRdID0gYmxvY2s7XG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyW2luZGV4XSA9IGJsb2NrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSkge1xuICAgICAgICAgICAgICAvLyBpZiBjb2xsaXNpb24gZGV0ZWN0ZWQuIHJlc3RvcmUgbGFzdEJsb2NrTWFwIGFuZCB0aHJvdyBhbiBlcnJvclxuICAgICAgICAgICAgICBmb3JFYWNoKG5leHRCbG9ja09yZGVyLCBmdW5jdGlvbihibG9jaykge1xuICAgICAgICAgICAgICAgIGlmIChibG9jayAmJiBibG9jay5zY29wZSkgbGFzdEJsb2NrTWFwW2Jsb2NrLmlkXSA9IGJsb2NrO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2R1cGVzJyxcbiAgICAgICAgICAgICAgICAgIFwiRHVwbGljYXRlcyBpbiBhIHJlcGVhdGVyIGFyZSBub3QgYWxsb3dlZC4gVXNlICd0cmFjayBieScgZXhwcmVzc2lvbiB0byBzcGVjaWZ5IHVuaXF1ZSBrZXlzLiBSZXBlYXRlcjogezB9LCBEdXBsaWNhdGUga2V5OiB7MX0sIER1cGxpY2F0ZSB2YWx1ZTogezJ9XCIsXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCB0cmFja0J5SWQsIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG5ldyBuZXZlciBiZWZvcmUgc2VlbiBibG9ja1xuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcltpbmRleF0gPSB7aWQ6IHRyYWNrQnlJZCwgc2NvcGU6IHVuZGVmaW5lZCwgY2xvbmU6IHVuZGVmaW5lZH07XG4gICAgICAgICAgICAgIG5leHRCbG9ja01hcFt0cmFja0J5SWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZW1vdmUgbGVmdG92ZXIgaXRlbXNcbiAgICAgICAgICBmb3IgKHZhciBibG9ja0tleSBpbiBsYXN0QmxvY2tNYXApIHtcbiAgICAgICAgICAgIGJsb2NrID0gbGFzdEJsb2NrTWFwW2Jsb2NrS2V5XTtcbiAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmUgPSBnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKTtcbiAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGVsZW1lbnRzVG9SZW1vdmUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzVG9SZW1vdmVbMF0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCB3YXMgbm90IHJlbW92ZWQgeWV0IGJlY2F1c2Ugb2YgcGVuZGluZyBhbmltYXRpb24sIG1hcmsgaXQgYXMgZGVsZXRlZFxuICAgICAgICAgICAgICAvLyBzbyB0aGF0IHdlIGNhbiBpZ25vcmUgaXQgbGF0ZXJcbiAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmVbaW5kZXhdW05HX1JFTU9WRURdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2suc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB3ZSBhcmUgbm90IHVzaW5nIGZvckVhY2ggZm9yIHBlcmYgcmVhc29ucyAodHJ5aW5nIHRvIGF2b2lkICNjYWxsKVxuICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvbGxlY3Rpb25MZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcbiAgICAgICAgICAgIHZhbHVlID0gY29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgYmxvY2sgPSBuZXh0QmxvY2tPcmRlcltpbmRleF07XG5cbiAgICAgICAgICAgIGlmIChibG9jay5zY29wZSkge1xuICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgc2VlbiB0aGlzIG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHJldXNlIHRoZVxuICAgICAgICAgICAgICAvLyBhc3NvY2lhdGVkIHNjb3BlL2VsZW1lbnRcblxuICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHByZXZpb3VzTm9kZTtcblxuICAgICAgICAgICAgICAvLyBza2lwIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgcGVuZGluZyByZW1vdmFsIHZpYSBsZWF2ZSBhbmltYXRpb25cbiAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgIH0gd2hpbGUgKG5leHROb2RlICYmIG5leHROb2RlW05HX1JFTU9WRURdKTtcblxuICAgICAgICAgICAgICBpZiAoZ2V0QmxvY2tTdGFydChibG9jaykgIT0gbmV4dE5vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBleGlzdGluZyBpdGVtIHdoaWNoIGdvdCBtb3ZlZFxuICAgICAgICAgICAgICAgICRhbmltYXRlLm1vdmUoZ2V0QmxvY2tOb2RlcyhibG9jay5jbG9uZSksIG51bGwsIGpxTGl0ZShwcmV2aW91c05vZGUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSBnZXRCbG9ja0VuZChibG9jayk7XG4gICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG5ldyBpdGVtIHdoaWNoIHdlIGRvbid0IGtub3cgYWJvdXRcbiAgICAgICAgICAgICAgJHRyYW5zY2x1ZGUoZnVuY3Rpb24gbmdSZXBlYXRUcmFuc2NsdWRlKGNsb25lLCBzY29wZSkge1xuICAgICAgICAgICAgICAgIGJsb2NrLnNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vY2xvbmUtdnMtY3JlYXRlY29tbWVudFxuICAgICAgICAgICAgICAgIHZhciBlbmROb2RlID0gbmdSZXBlYXRFbmRDb21tZW50LmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgY2xvbmVbY2xvbmUubGVuZ3RoKytdID0gZW5kTm9kZTtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8ocGVyZik6IHN1cHBvcnQgbmFrZWQgcHJldmlvdXNOb2RlIGluIGBlbnRlcmAgdG8gYXZvaWQgY3JlYXRpb24gb2YganFMaXRlIHdyYXBwZXI/XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIG51bGwsIGpxTGl0ZShwcmV2aW91c05vZGUpKTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSBlbmROb2RlO1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgbmVlZCB0aGUgZmlyc3QvbGFzdCBub2RlIG9mIHRoZSBjbG9uZWQgbm9kZXMuXG4gICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgd2UgbmVlZCB0byBrZWVwIHRoZSByZWZlcmVuY2UgdG8gdGhlIGpxbGl0ZSB3cmFwcGVyIGFzIGl0IG1pZ2h0IGJlIGNoYW5nZWQgbGF0ZXJcbiAgICAgICAgICAgICAgICAvLyBieSBhIGRpcmVjdGl2ZSB3aXRoIHRlbXBsYXRlVXJsIHdoZW4gaXRzIHRlbXBsYXRlIGFycml2ZXMuXG4gICAgICAgICAgICAgICAgYmxvY2suY2xvbmUgPSBjbG9uZTtcbiAgICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbYmxvY2suaWRdID0gYmxvY2s7XG4gICAgICAgICAgICAgICAgdXBkYXRlU2NvcGUoYmxvY2suc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGNvbGxlY3Rpb25MZW5ndGgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdEJsb2NrTWFwID0gbmV4dEJsb2NrTWFwO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBOR19ISURFX0NMQVNTID0gJ25nLWhpZGUnO1xudmFyIE5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1MgPSAnbmctaGlkZS1hbmltYXRlJztcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTaG93XG4gKiBAbXVsdGlFbGVtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nU2hvd2AgZGlyZWN0aXZlIHNob3dzIG9yIGhpZGVzIHRoZSBnaXZlbiBIVE1MIGVsZW1lbnQgYmFzZWQgb24gdGhlIGV4cHJlc3Npb25cbiAqIHByb3ZpZGVkIHRvIHRoZSBgbmdTaG93YCBhdHRyaWJ1dGUuIFRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiBieSByZW1vdmluZyBvciBhZGRpbmdcbiAqIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBvbnRvIHRoZSBlbGVtZW50LiBUaGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcHJlZGVmaW5lZFxuICogaW4gQW5ndWxhckpTIGFuZCBzZXRzIHRoZSBkaXNwbGF5IHN0eWxlIHRvIG5vbmUgKHVzaW5nIGFuICFpbXBvcnRhbnQgZmxhZykuXG4gKiBGb3IgQ1NQIG1vZGUgcGxlYXNlIGFkZCBgYW5ndWxhci1jc3AuY3NzYCB0byB5b3VyIGh0bWwgZmlsZSAoc2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDc3AgbmdDc3B9KS5cbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgdHJ1dGh5IChlbGVtZW50IGlzIHZpc2libGUpIC0tPlxuICogPGRpdiBuZy1zaG93PVwibXlWYWx1ZVwiPjwvZGl2PlxuICpcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyBmYWxzeSAoZWxlbWVudCBpcyBoaWRkZW4pIC0tPlxuICogPGRpdiBuZy1zaG93PVwibXlWYWx1ZVwiIGNsYXNzPVwibmctaGlkZVwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogV2hlbiB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBmYWxzeSB2YWx1ZSB0aGVuIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBhZGRlZCB0byB0aGUgY2xhc3NcbiAqIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gdHJ1dGh5LCB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcmVtb3ZlZFxuICogZnJvbSB0aGUgZWxlbWVudCBjYXVzaW5nIHRoZSBlbGVtZW50IG5vdCB0byBhcHBlYXIgaGlkZGVuLlxuICpcbiAqICMjIFdoeSBpcyAhaW1wb3J0YW50IHVzZWQ/XG4gKlxuICogWW91IG1heSBiZSB3b25kZXJpbmcgd2h5ICFpbXBvcnRhbnQgaXMgdXNlZCBmb3IgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGAubmctaGlkZWAgc2VsZWN0b3JcbiAqIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBoZWF2aWVyIHNlbGVjdG9ycy4gRm9yIGV4YW1wbGUsIHNvbWV0aGluZyBhcyBzaW1wbGVcbiAqIGFzIGNoYW5naW5nIHRoZSBkaXNwbGF5IHN0eWxlIG9uIGEgSFRNTCBsaXN0IGl0ZW0gd291bGQgbWFrZSBoaWRkZW4gZWxlbWVudHMgYXBwZWFyIHZpc2libGUuXG4gKiBUaGlzIGFsc28gYmVjb21lcyBhIGJpZ2dlciBpc3N1ZSB3aGVuIGRlYWxpbmcgd2l0aCBDU1MgZnJhbWV3b3Jrcy5cbiAqXG4gKiBCeSB1c2luZyAhaW1wb3J0YW50LCB0aGUgc2hvdyBhbmQgaGlkZSBiZWhhdmlvciB3aWxsIHdvcmsgYXMgZXhwZWN0ZWQgZGVzcGl0ZSBhbnkgY2xhc2ggYmV0d2VlbiBDU1Mgc2VsZWN0b3JcbiAqIHNwZWNpZmljaXR5ICh3aGVuICFpbXBvcnRhbnQgaXNuJ3QgdXNlZCB3aXRoIGFueSBjb25mbGljdGluZyBzdHlsZXMpLiBJZiBhIGRldmVsb3BlciBjaG9vc2VzIHRvIG92ZXJyaWRlIHRoZVxuICogc3R5bGluZyB0byBjaGFuZ2UgaG93IHRvIGhpZGUgYW4gZWxlbWVudCB0aGVuIGl0IGlzIGp1c3QgYSBtYXR0ZXIgb2YgdXNpbmcgIWltcG9ydGFudCBpbiB0aGVpciBvd24gQ1NTIGNvZGUuXG4gKlxuICogIyMjIE92ZXJyaWRpbmcgYC5uZy1oaWRlYFxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoZSBgLm5nLWhpZGVgIGNsYXNzIHdpbGwgc3R5bGUgdGhlIGVsZW1lbnQgd2l0aCBgZGlzcGxheTogbm9uZSFpbXBvcnRhbnRgLiBJZiB5b3Ugd2lzaCB0byBjaGFuZ2VcbiAqIHRoZSBoaWRlIGJlaGF2aW9yIHdpdGggbmdTaG93L25nSGlkZSB0aGVuIHRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJlc3RhdGluZyB0aGUgc3R5bGVzIGZvciB0aGUgYC5uZy1oaWRlYFxuICogY2xhc3MgQ1NTLiBOb3RlIHRoYXQgdGhlIHNlbGVjdG9yIHRoYXQgbmVlZHMgdG8gYmUgdXNlZCBpcyBhY3R1YWxseSBgLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpYCB0byBjb3BlXG4gKiB3aXRoIGV4dHJhIGFuaW1hdGlvbiBjbGFzc2VzIHRoYXQgY2FuIGJlIGFkZGVkLlxuICpcbiAqIGBgYGNzc1xuICogLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpIHtcbiAqICAgLyYjNDI7IHRoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQgJiM0MjsvXG4gKiAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDtcbiAqICAgcG9zaXRpb246IGFic29sdXRlO1xuICogICB0b3A6IC05OTk5cHg7XG4gKiAgIGxlZnQ6IC05OTk5cHg7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBCeSBkZWZhdWx0IHlvdSBkb24ndCBuZWVkIHRvIG92ZXJyaWRlIGluIENTUyBhbnl0aGluZyBhbmQgdGhlIGFuaW1hdGlvbnMgd2lsbCB3b3JrIGFyb3VuZCB0aGUgZGlzcGxheSBzdHlsZS5cbiAqXG4gKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGBuZ1Nob3dgXG4gKlxuICogQW5pbWF0aW9ucyBpbiBuZ1Nob3cvbmdIaWRlIHdvcmsgd2l0aCB0aGUgc2hvdyBhbmQgaGlkZSBldmVudHMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGRpcmVjdGl2ZSBleHByZXNzaW9uXG4gKiBpcyB0cnVlIGFuZCBmYWxzZS4gVGhpcyBzeXN0ZW0gd29ya3MgbGlrZSB0aGUgYW5pbWF0aW9uIHN5c3RlbSBwcmVzZW50IHdpdGggbmdDbGFzcyBleGNlcHQgdGhhdFxuICogeW91IG11c3QgYWxzbyBpbmNsdWRlIHRoZSAhaW1wb3J0YW50IGZsYWcgdG8gb3ZlcnJpZGUgdGhlIGRpc3BsYXkgcHJvcGVydHlcbiAqIHNvIHRoYXQgeW91IGNhbiBwZXJmb3JtIGFuIGFuaW1hdGlvbiB3aGVuIHRoZSBlbGVtZW50IGlzIGhpZGRlbiBkdXJpbmcgdGhlIHRpbWUgb2YgdGhlIGFuaW1hdGlvbi5cbiAqXG4gKiBgYGBjc3NcbiAqIC8vXG4gKiAvL2Egd29ya2luZyBleGFtcGxlIGNhbiBiZSBmb3VuZCBhdCB0aGUgYm90dG9tIG9mIHRoaXMgcGFnZVxuICogLy9cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLCAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7XG4gKiAgIC8mIzQyOyB0aGlzIGlzIHJlcXVpcmVkIGFzIG9mIDEuM3ggdG8gcHJvcGVybHlcbiAqICAgICAgYXBwbHkgYWxsIHN0eWxpbmcgaW4gYSBzaG93L2hpZGUgYW5pbWF0aW9uICYjNDI7L1xuICogICB0cmFuc2l0aW9uOiAwcyBsaW5lYXIgYWxsO1xuICogfVxuICpcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLWFjdGl2ZSxcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7XG4gKiAgIC8mIzQyOyB0aGUgdHJhbnNpdGlvbiBpcyBkZWZpbmVkIGluIHRoZSBhY3RpdmUgY2xhc3MgJiM0MjsvXG4gKiAgIHRyYW5zaXRpb246IDFzIGxpbmVhciBhbGw7XG4gKiB9XG4gKlxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgYXMgb2YgQW5ndWxhckpTIHZlcnNpb24gMS4zLjAtYmV0YS4xMSwgdGhlcmUgaXMgbm8gbmVlZCB0byBjaGFuZ2UgdGhlIGRpc3BsYXlcbiAqIHByb3BlcnR5IHRvIGJsb2NrIGR1cmluZyBhbmltYXRpb24gc3RhdGVzLS1uZ0FuaW1hdGUgd2lsbCBoYW5kbGUgdGhlIHN0eWxlIHRvZ2dsaW5nIGF1dG9tYXRpY2FsbHkgZm9yIHlvdS5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogYWRkQ2xhc3M6IGAubmctaGlkZWAgLSBoYXBwZW5zIGFmdGVyIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSBhbmQgdGhlIGp1c3QgYmVmb3JlIGNvbnRlbnRzIGFyZSBzZXQgdG8gdmlzaWJsZVxuICogcmVtb3ZlQ2xhc3M6IGAubmctaGlkZWAgLSBoYXBwZW5zIGFmdGVyIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlblxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1Nob3cgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeVxuICogICAgIHRoZW4gdGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgQ2xpY2sgbWU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIiBhcmlhLWxhYmVsPVwiVG9nZ2xlIG5nSGlkZVwiPjxici8+XG4gICAgICA8ZGl2PlxuICAgICAgICBTaG93OlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLXNob3dcIiBuZy1zaG93PVwiY2hlY2tlZFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtdXBcIj48L3NwYW4+IEkgc2hvdyB1cCB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIEhpZGU6XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvd1wiIG5nLWhpZGU9XCJjaGVja2VkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy1kb3duXCI+PC9zcGFuPiBJIGhpZGUgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJnbHlwaGljb25zLmNzc1wiPlxuICAgICAgQGltcG9ydCB1cmwoLi4vLi4vY29tcG9uZW50cy9ib290c3RyYXAtMy4xLjEvY3NzL2Jvb3RzdHJhcC5jc3MpO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5hbmltYXRlLXNob3cge1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUtYWRkLCAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUtcmVtb3ZlIHtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUge1xuICAgICAgICBsaW5lLWhlaWdodDogMDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xuICAgICAgfVxuXG4gICAgICAuY2hlY2stZWxlbWVudCB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHRodW1ic1VwID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy11cCcpKTtcbiAgICAgIHZhciB0aHVtYnNEb3duID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy1kb3duJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXNob3cgLyBuZy1oaWRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xuXG4gICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcblxuICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdTaG93RGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nU2hvdywgZnVuY3Rpb24gbmdTaG93V2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gd2UncmUgYWRkaW5nIGEgdGVtcG9yYXJ5LCBhbmltYXRpb24tc3BlY2lmaWMgY2xhc3MgZm9yIG5nLWhpZGUgc2luY2UgdGhpcyB3YXlcbiAgICAgICAgLy8gd2UgY2FuIGNvbnRyb2wgd2hlbiB0aGUgZWxlbWVudCBpcyBhY3R1YWxseSBkaXNwbGF5ZWQgb24gc2NyZWVuIHdpdGhvdXQgaGF2aW5nXG4gICAgICAgIC8vIHRvIGhhdmUgYSBnbG9iYWwvZ3JlZWR5IENTUyBzZWxlY3RvciB0aGF0IGJyZWFrcyB3aGVuIG90aGVyIGFuaW1hdGlvbnMgYXJlIHJ1bi5cbiAgICAgICAgLy8gUmVhZDogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvOTEwMyNpc3N1ZWNvbW1lbnQtNTgzMzU4NDVcbiAgICAgICAgJGFuaW1hdGVbdmFsdWUgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oZWxlbWVudCwgTkdfSElERV9DTEFTUywge1xuICAgICAgICAgIHRlbXBDbGFzc2VzOiBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0hpZGVcbiAqIEBtdWx0aUVsZW1lbnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdIaWRlYCBkaXJlY3RpdmUgc2hvd3Mgb3IgaGlkZXMgdGhlIGdpdmVuIEhUTUwgZWxlbWVudCBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvblxuICogcHJvdmlkZWQgdG8gdGhlIGBuZ0hpZGVgIGF0dHJpYnV0ZS4gVGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIGJ5IHJlbW92aW5nIG9yIGFkZGluZ1xuICogdGhlIGBuZy1oaWRlYCBDU1MgY2xhc3Mgb250byB0aGUgZWxlbWVudC4gVGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHByZWRlZmluZWRcbiAqIGluIEFuZ3VsYXJKUyBhbmQgc2V0cyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lICh1c2luZyBhbiAhaW1wb3J0YW50IGZsYWcpLlxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgaHRtbFxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIHRydXRoeSAoZWxlbWVudCBpcyBoaWRkZW4pIC0tPlxuICogPGRpdiBuZy1oaWRlPVwibXlWYWx1ZVwiIGNsYXNzPVwibmctaGlkZVwiPjwvZGl2PlxuICpcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyBmYWxzeSAoZWxlbWVudCBpcyB2aXNpYmxlKSAtLT5cbiAqIDxkaXYgbmctaGlkZT1cIm15VmFsdWVcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhlIGBuZ0hpZGVgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIHRoZW4gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBjbGFzc1xuICogYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiBmYWxzeSwgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHJlbW92ZWRcbiAqIGZyb20gdGhlIGVsZW1lbnQgY2F1c2luZyB0aGUgZWxlbWVudCBub3QgdG8gYXBwZWFyIGhpZGRlbi5cbiAqXG4gKiAjIyBXaHkgaXMgIWltcG9ydGFudCB1c2VkP1xuICpcbiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSAhaW1wb3J0YW50IGlzIHVzZWQgZm9yIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcy4gVGhpcyBpcyBiZWNhdXNlIHRoZSBgLm5nLWhpZGVgIHNlbGVjdG9yXG4gKiBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gYnkgaGVhdmllciBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCBzb21ldGhpbmcgYXMgc2ltcGxlXG4gKiBhcyBjaGFuZ2luZyB0aGUgZGlzcGxheSBzdHlsZSBvbiBhIEhUTUwgbGlzdCBpdGVtIHdvdWxkIG1ha2UgaGlkZGVuIGVsZW1lbnRzIGFwcGVhciB2aXNpYmxlLlxuICogVGhpcyBhbHNvIGJlY29tZXMgYSBiaWdnZXIgaXNzdWUgd2hlbiBkZWFsaW5nIHdpdGggQ1NTIGZyYW1ld29ya3MuXG4gKlxuICogQnkgdXNpbmcgIWltcG9ydGFudCwgdGhlIHNob3cgYW5kIGhpZGUgYmVoYXZpb3Igd2lsbCB3b3JrIGFzIGV4cGVjdGVkIGRlc3BpdGUgYW55IGNsYXNoIGJldHdlZW4gQ1NTIHNlbGVjdG9yXG4gKiBzcGVjaWZpY2l0eSAod2hlbiAhaW1wb3J0YW50IGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYSBkZXZlbG9wZXIgY2hvb3NlcyB0byBvdmVycmlkZSB0aGVcbiAqIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGEgbWF0dGVyIG9mIHVzaW5nICFpbXBvcnRhbnQgaW4gdGhlaXIgb3duIENTUyBjb2RlLlxuICpcbiAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUhaW1wb3J0YW50YC4gSWYgeW91IHdpc2ggdG8gY2hhbmdlXG4gKiB0aGUgaGlkZSBiZWhhdmlvciB3aXRoIG5nU2hvdy9uZ0hpZGUgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXN0YXRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIGAubmctaGlkZWBcbiAqIGNsYXNzIGluIENTUzpcbiAqXG4gKiBgYGBjc3NcbiAqIC5uZy1oaWRlIHtcbiAqICAgLyYjNDI7IHRoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQgJiM0MjsvXG4gKiAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDtcbiAqICAgcG9zaXRpb246IGFic29sdXRlO1xuICogICB0b3A6IC05OTk5cHg7XG4gKiAgIGxlZnQ6IC05OTk5cHg7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBCeSBkZWZhdWx0IHlvdSBkb24ndCBuZWVkIHRvIG92ZXJyaWRlIGluIENTUyBhbnl0aGluZyBhbmQgdGhlIGFuaW1hdGlvbnMgd2lsbCB3b3JrIGFyb3VuZCB0aGUgZGlzcGxheSBzdHlsZS5cbiAqXG4gKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGBuZ0hpZGVgXG4gKlxuICogQW5pbWF0aW9ucyBpbiBuZ1Nob3cvbmdIaWRlIHdvcmsgd2l0aCB0aGUgc2hvdyBhbmQgaGlkZSBldmVudHMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGRpcmVjdGl2ZSBleHByZXNzaW9uXG4gKiBpcyB0cnVlIGFuZCBmYWxzZS4gVGhpcyBzeXN0ZW0gd29ya3MgbGlrZSB0aGUgYW5pbWF0aW9uIHN5c3RlbSBwcmVzZW50IHdpdGggbmdDbGFzcywgZXhjZXB0IHRoYXQgdGhlIGAubmctaGlkZWBcbiAqIENTUyBjbGFzcyBpcyBhZGRlZCBhbmQgcmVtb3ZlZCBmb3IgeW91IGluc3RlYWQgb2YgeW91ciBvd24gQ1NTIGNsYXNzLlxuICpcbiAqIGBgYGNzc1xuICogLy9cbiAqIC8vYSB3b3JraW5nIGV4YW1wbGUgY2FuIGJlIGZvdW5kIGF0IHRoZSBib3R0b20gb2YgdGhpcyBwYWdlXG4gKiAvL1xuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHtcbiAqICAgdHJhbnNpdGlvbjogMC41cyBsaW5lYXIgYWxsO1xuICogfVxuICpcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUgeyAuLi4gfVxuICogYGBgXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQsIGFzIG9mIEFuZ3VsYXJKUyB2ZXJzaW9uIDEuMy4wLWJldGEuMTEsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2hhbmdlIHRoZSBkaXNwbGF5XG4gKiBwcm9wZXJ0eSB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcy0tbmdBbmltYXRlIHdpbGwgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBhdXRvbWF0aWNhbGx5IGZvciB5b3UuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIHJlbW92ZUNsYXNzOiBgLm5nLWhpZGVgIC0gaGFwcGVucyBhZnRlciB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlblxuICogYWRkQ2xhc3M6IGAubmctaGlkZWAgLSBoYXBwZW5zIGFmdGVyIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGVcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdIaWRlIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHkgdGhlblxuICogICAgIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIENsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSBuZ1Nob3dcIj48YnIvPlxuICAgICAgPGRpdj5cbiAgICAgICAgU2hvdzpcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1oaWRlXCIgbmctc2hvdz1cImNoZWNrZWRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLXVwXCI+PC9zcGFuPiBJIHNob3cgdXAgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICBIaWRlOlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLWhpZGVcIiBuZy1oaWRlPVwiY2hlY2tlZFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtZG93blwiPjwvc3Bhbj4gSSBoaWRlIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiZ2x5cGhpY29ucy5jc3NcIj5cbiAgICAgIEBpbXBvcnQgdXJsKC4uLy4uL2NvbXBvbmVudHMvYm9vdHN0cmFwLTMuMS4xL2Nzcy9ib290c3RyYXAuY3NzKTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuYW5pbWF0ZS1oaWRlIHtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1oaWRlLm5nLWhpZGUge1xuICAgICAgICBsaW5lLWhlaWdodDogMDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xuICAgICAgfVxuXG4gICAgICAuY2hlY2stZWxlbWVudCB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHRodW1ic1VwID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy11cCcpKTtcbiAgICAgIHZhciB0aHVtYnNEb3duID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy1kb3duJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXNob3cgLyBuZy1oaWRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xuXG4gICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcblxuICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdIaWRlRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nSGlkZSwgZnVuY3Rpb24gbmdIaWRlV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gVGhlIGNvbW1lbnQgaW5zaWRlIG9mIHRoZSBuZ1Nob3dEaXJlY3RpdmUgZXhwbGFpbnMgd2h5IHdlIGFkZCBhbmRcbiAgICAgICAgLy8gcmVtb3ZlIGEgdGVtcG9yYXJ5IGNsYXNzIGZvciB0aGUgc2hvdy9oaWRlIGFuaW1hdGlvblxuICAgICAgICAkYW5pbWF0ZVt2YWx1ZSA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShlbGVtZW50LE5HX0hJREVfQ0xBU1MsIHtcbiAgICAgICAgICB0ZW1wQ2xhc3NlczogTkdfSElERV9JTl9QUk9HUkVTU19DTEFTU1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3R5bGVcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzZXQgQ1NTIHN0eWxlIG9uIGFuIEhUTUwgZWxlbWVudCBjb25kaXRpb25hbGx5LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1N0eWxlXG4gKlxuICoge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gd2hpY2ggZXZhbHMgdG8gYW5cbiAqIG9iamVjdCB3aG9zZSBrZXlzIGFyZSBDU1Mgc3R5bGUgbmFtZXMgYW5kIHZhbHVlcyBhcmUgY29ycmVzcG9uZGluZyB2YWx1ZXMgZm9yIHRob3NlIENTU1xuICoga2V5cy5cbiAqXG4gKiBTaW5jZSBzb21lIENTUyBzdHlsZSBuYW1lcyBhcmUgbm90IHZhbGlkIGtleXMgZm9yIGFuIG9iamVjdCwgdGhleSBtdXN0IGJlIHF1b3RlZC5cbiAqIFNlZSB0aGUgJ2JhY2tncm91bmQtY29sb3InIHN0eWxlIGluIHRoZSBleGFtcGxlIGJlbG93LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cInNldCBjb2xvclwiIG5nLWNsaWNrPVwibXlTdHlsZT17Y29sb3I6J3JlZCd9XCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJzZXQgYmFja2dyb3VuZFwiIG5nLWNsaWNrPVwibXlTdHlsZT17J2JhY2tncm91bmQtY29sb3InOidibHVlJ31cIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cImNsZWFyXCIgbmctY2xpY2s9XCJteVN0eWxlPXt9XCI+XG4gICAgICAgIDxici8+XG4gICAgICAgIDxzcGFuIG5nLXN0eWxlPVwibXlTdHlsZVwiPlNhbXBsZSBUZXh0PC9zcGFuPlxuICAgICAgICA8cHJlPm15U3R5bGU9e3tteVN0eWxlfX08L3ByZT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgc3BhbiB7XG4gICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICB2YXIgY29sb3JTcGFuID0gZWxlbWVudChieS5jc3MoJ3NwYW4nKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXN0eWxlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoY29sb3JTcGFuLmdldENzc1ZhbHVlKCdjb2xvcicpKS50b0JlKCdyZ2JhKDAsIDAsIDAsIDEpJyk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnaW5wdXRbdmFsdWU9XFwnc2V0IGNvbG9yXFwnXScpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgyNTUsIDAsIDAsIDEpJyk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnaW5wdXRbdmFsdWU9Y2xlYXJdJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoY29sb3JTcGFuLmdldENzc1ZhbHVlKCdjb2xvcicpKS50b0JlKCdyZ2JhKDAsIDAsIDAsIDEpJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nU3R5bGVEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZShmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICBzY29wZS4kd2F0Y2goYXR0ci5uZ1N0eWxlLCBmdW5jdGlvbiBuZ1N0eWxlV2F0Y2hBY3Rpb24obmV3U3R5bGVzLCBvbGRTdHlsZXMpIHtcbiAgICBpZiAob2xkU3R5bGVzICYmIChuZXdTdHlsZXMgIT09IG9sZFN0eWxlcykpIHtcbiAgICAgIGZvckVhY2gob2xkU3R5bGVzLCBmdW5jdGlvbih2YWwsIHN0eWxlKSB7IGVsZW1lbnQuY3NzKHN0eWxlLCAnJyk7fSk7XG4gICAgfVxuICAgIGlmIChuZXdTdHlsZXMpIGVsZW1lbnQuY3NzKG5ld1N0eWxlcyk7XG4gIH0sIHRydWUpO1xufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTd2l0Y2hcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1N3aXRjaGAgZGlyZWN0aXZlIGlzIHVzZWQgdG8gY29uZGl0aW9uYWxseSBzd2FwIERPTSBzdHJ1Y3R1cmUgb24geW91ciB0ZW1wbGF0ZSBiYXNlZCBvbiBhIHNjb3BlIGV4cHJlc3Npb24uXG4gKiBFbGVtZW50cyB3aXRoaW4gYG5nU3dpdGNoYCBidXQgd2l0aG91dCBgbmdTd2l0Y2hXaGVuYCBvciBgbmdTd2l0Y2hEZWZhdWx0YCBkaXJlY3RpdmVzIHdpbGwgYmUgcHJlc2VydmVkIGF0IHRoZSBsb2NhdGlvblxuICogYXMgc3BlY2lmaWVkIGluIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGl0c2VsZiB3b3JrcyBzaW1pbGFyIHRvIG5nSW5jbHVkZSwgaG93ZXZlciwgaW5zdGVhZCBvZiBkb3dubG9hZGluZyB0ZW1wbGF0ZSBjb2RlIChvciBsb2FkaW5nIGl0XG4gKiBmcm9tIHRoZSB0ZW1wbGF0ZSBjYWNoZSksIGBuZ1N3aXRjaGAgc2ltcGx5IGNob29zZXMgb25lIG9mIHRoZSBuZXN0ZWQgZWxlbWVudHMgYW5kIG1ha2VzIGl0IHZpc2libGUgYmFzZWQgb24gd2hpY2ggZWxlbWVudFxuICogbWF0Y2hlcyB0aGUgdmFsdWUgb2J0YWluZWQgZnJvbSB0aGUgZXZhbHVhdGVkIGV4cHJlc3Npb24uIEluIG90aGVyIHdvcmRzLCB5b3UgZGVmaW5lIGEgY29udGFpbmVyIGVsZW1lbnRcbiAqICh3aGVyZSB5b3UgcGxhY2UgdGhlIGRpcmVjdGl2ZSksIHBsYWNlIGFuIGV4cHJlc3Npb24gb24gdGhlICoqYG9uPVwiLi4uXCJgIGF0dHJpYnV0ZSoqXG4gKiAob3IgdGhlICoqYG5nLXN3aXRjaD1cIi4uLlwiYCBhdHRyaWJ1dGUqKiksIGRlZmluZSBhbnkgaW5uZXIgZWxlbWVudHMgaW5zaWRlIG9mIHRoZSBkaXJlY3RpdmUgYW5kIHBsYWNlXG4gKiBhIHdoZW4gYXR0cmlidXRlIHBlciBlbGVtZW50LiBUaGUgd2hlbiBhdHRyaWJ1dGUgaXMgdXNlZCB0byBpbmZvcm0gbmdTd2l0Y2ggd2hpY2ggZWxlbWVudCB0byBkaXNwbGF5IHdoZW4gdGhlIG9uXG4gKiBleHByZXNzaW9uIGlzIGV2YWx1YXRlZC4gSWYgYSBtYXRjaGluZyBleHByZXNzaW9uIGlzIG5vdCBmb3VuZCB2aWEgYSB3aGVuIGF0dHJpYnV0ZSB0aGVuIGFuIGVsZW1lbnQgd2l0aCB0aGUgZGVmYXVsdFxuICogYXR0cmlidXRlIGlzIGRpc3BsYXllZC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogQmUgYXdhcmUgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlcyB0byBtYXRjaCBhZ2FpbnN0IGNhbm5vdCBiZSBleHByZXNzaW9ucy4gVGhleSBhcmUgaW50ZXJwcmV0ZWRcbiAqIGFzIGxpdGVyYWwgc3RyaW5nIHZhbHVlcyB0byBtYXRjaCBhZ2FpbnN0LlxuICogRm9yIGV4YW1wbGUsICoqYG5nLXN3aXRjaC13aGVuPVwic29tZVZhbFwiYCoqIHdpbGwgbWF0Y2ggYWdhaW5zdCB0aGUgc3RyaW5nIGBcInNvbWVWYWxcImAgbm90IGFnYWluc3QgdGhlXG4gKiB2YWx1ZSBvZiB0aGUgZXhwcmVzc2lvbiBgJHNjb3BlLnNvbWVWYWxgLlxuICogPC9kaXY+XG5cbiAqIEBhbmltYXRpb25zXG4gKiBlbnRlciAtIGhhcHBlbnMgYWZ0ZXIgdGhlIG5nU3dpdGNoIGNvbnRlbnRzIGNoYW5nZSBhbmQgdGhlIG1hdGNoZWQgY2hpbGQgZWxlbWVudCBpcyBwbGFjZWQgaW5zaWRlIHRoZSBjb250YWluZXJcbiAqIGxlYXZlIC0gaGFwcGVucyBqdXN0IGFmdGVyIHRoZSBuZ1N3aXRjaCBjb250ZW50cyBjaGFuZ2UgYW5kIGp1c3QgYmVmb3JlIHRoZSBmb3JtZXIgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gKlxuICogQHVzYWdlXG4gKlxuICogYGBgXG4gKiA8QU5ZIG5nLXN3aXRjaD1cImV4cHJlc3Npb25cIj5cbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUxXCI+Li4uPC9BTlk+XG4gKiAgIDxBTlkgbmctc3dpdGNoLXdoZW49XCJtYXRjaFZhbHVlMlwiPi4uLjwvQU5ZPlxuICogICA8QU5ZIG5nLXN3aXRjaC1kZWZhdWx0Pi4uLjwvQU5ZPlxuICogPC9BTlk+XG4gKiBgYGBcbiAqXG4gKlxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgMTIwMFxuICogQHBhcmFtIHsqfSBuZ1N3aXRjaHxvbiBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QgPGNvZGU+bmctc3dpdGNoLXdoZW48L2NvZGU+LlxuICogT24gY2hpbGQgZWxlbWVudHMgYWRkOlxuICpcbiAqICogYG5nU3dpdGNoV2hlbmA6IHRoZSBjYXNlIHN0YXRlbWVudCB0byBtYXRjaCBhZ2FpbnN0LiBJZiBtYXRjaCB0aGVuIHRoaXNcbiAqICAgY2FzZSB3aWxsIGJlIGRpc3BsYXllZC4gSWYgdGhlIHNhbWUgbWF0Y2ggYXBwZWFycyBtdWx0aXBsZSB0aW1lcywgYWxsIHRoZVxuICogICBlbGVtZW50cyB3aWxsIGJlIGRpc3BsYXllZC5cbiAqICogYG5nU3dpdGNoRGVmYXVsdGA6IHRoZSBkZWZhdWx0IGNhc2Ugd2hlbiBubyBvdGhlciBjYXNlIG1hdGNoLiBJZiB0aGVyZVxuICogICBhcmUgbXVsdGlwbGUgZGVmYXVsdCBjYXNlcywgYWxsIG9mIHRoZW0gd2lsbCBiZSBkaXNwbGF5ZWQgd2hlbiBubyBvdGhlclxuICogICBjYXNlIG1hdGNoLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJzd2l0Y2hFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJzZWxlY3Rpb25cIiBuZy1vcHRpb25zPVwiaXRlbSBmb3IgaXRlbSBpbiBpdGVtc1wiPlxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgPGNvZGU+c2VsZWN0aW9uPXt7c2VsZWN0aW9ufX08L2NvZGU+XG4gICAgICAgIDxoci8+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaC1jb250YWluZXJcIlxuICAgICAgICAgIG5nLXN3aXRjaCBvbj1cInNlbGVjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLXdoZW49XCJzZXR0aW5nc1wiPlNldHRpbmdzIERpdjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLXdoZW49XCJob21lXCI+SG9tZSBTcGFuPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtZGVmYXVsdD5kZWZhdWx0PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdzd2l0Y2hFeGFtcGxlJywgWyduZ0FuaW1hdGUnXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuaXRlbXMgPSBbJ3NldHRpbmdzJywgJ2hvbWUnLCAnb3RoZXInXTtcbiAgICAgICAgICAkc2NvcGUuc2VsZWN0aW9uID0gJHNjb3BlLml0ZW1zWzBdO1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtc3dpdGNoLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBoZWlnaHQ6NDBweDtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gge1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1hbmltYXRlIHtcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuXG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICB0b3A6MDtcbiAgICAgICAgbGVmdDowO1xuICAgICAgICByaWdodDowO1xuICAgICAgICBib3R0b206MDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSxcbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1lbnRlciB7XG4gICAgICAgIHRvcDotNTBweDtcbiAgICAgIH1cbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1sZWF2ZSxcbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHN3aXRjaEVsZW0gPSBlbGVtZW50KGJ5LmNzcygnW25nLXN3aXRjaF0nKSk7XG4gICAgICB2YXIgc2VsZWN0ID0gZWxlbWVudChieS5tb2RlbCgnc2VsZWN0aW9uJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIHN0YXJ0IGluIHNldHRpbmdzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvU2V0dGluZ3MgRGl2Lyk7XG4gICAgICB9KTtcbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGhvbWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMSkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Ib21lIFNwYW4vKTtcbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgZGVmYXVsdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgyKS5jbGljaygpO1xuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL2RlZmF1bHQvKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdTd2l0Y2hEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnbmdTd2l0Y2gnLFxuXG4gICAgLy8gYXNrcyBmb3IgJHNjb3BlIHRvIGZvb2wgdGhlIEJDIGNvbnRyb2xsZXIgbW9kdWxlXG4gICAgY29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbiBuZ1N3aXRjaENvbnRyb2xsZXIoKSB7XG4gICAgIHRoaXMuY2FzZXMgPSB7fTtcbiAgICB9XSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdTd2l0Y2hDb250cm9sbGVyKSB7XG4gICAgICB2YXIgd2F0Y2hFeHByID0gYXR0ci5uZ1N3aXRjaCB8fCBhdHRyLm9uLFxuICAgICAgICAgIHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBbXSxcbiAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzID0gW10sXG4gICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMgPSBbXSxcbiAgICAgICAgICBzZWxlY3RlZFNjb3BlcyA9IFtdO1xuXG4gICAgICB2YXIgc3BsaWNlRmFjdG9yeSA9IGZ1bmN0aW9uKGFycmF5LCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTsgfTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCh3YXRjaEV4cHIsIGZ1bmN0aW9uIG5nU3dpdGNoV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIGksIGlpO1xuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5jYW5jZWwocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBzZWxlY3RlZFNjb3Blcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkID0gZ2V0QmxvY2tOb2RlcyhzZWxlY3RlZEVsZW1lbnRzW2ldLmNsb25lKTtcbiAgICAgICAgICBzZWxlY3RlZFNjb3Blc1tpXS4kZGVzdHJveSgpO1xuICAgICAgICAgIHZhciBwcm9taXNlID0gcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnNbaV0gPSAkYW5pbWF0ZS5sZWF2ZShzZWxlY3RlZCk7XG4gICAgICAgICAgcHJvbWlzZS50aGVuKHNwbGljZUZhY3RvcnkocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMsIGkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgc2VsZWN0ZWRTY29wZXMubGVuZ3RoID0gMDtcblxuICAgICAgICBpZiAoKHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbJyEnICsgdmFsdWVdIHx8IG5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1snPyddKSkge1xuICAgICAgICAgIGZvckVhY2goc2VsZWN0ZWRUcmFuc2NsdWRlcywgZnVuY3Rpb24oc2VsZWN0ZWRUcmFuc2NsdWRlKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFRyYW5zY2x1ZGUudHJhbnNjbHVkZShmdW5jdGlvbihjYXNlRWxlbWVudCwgc2VsZWN0ZWRTY29wZSkge1xuICAgICAgICAgICAgICBzZWxlY3RlZFNjb3Blcy5wdXNoKHNlbGVjdGVkU2NvcGUpO1xuICAgICAgICAgICAgICB2YXIgYW5jaG9yID0gc2VsZWN0ZWRUcmFuc2NsdWRlLmVsZW1lbnQ7XG4gICAgICAgICAgICAgIGNhc2VFbGVtZW50W2Nhc2VFbGVtZW50Lmxlbmd0aCsrXSA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyBlbmQgbmdTd2l0Y2hXaGVuOiAnKTtcbiAgICAgICAgICAgICAgdmFyIGJsb2NrID0geyBjbG9uZTogY2FzZUVsZW1lbnQgfTtcblxuICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goYmxvY2spO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjYXNlRWxlbWVudCwgYW5jaG9yLnBhcmVudCgpLCBhbmNob3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgbmdTd2l0Y2hXaGVuRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gIHByaW9yaXR5OiAxMjAwLFxuICByZXF1aXJlOiAnXm5nU3dpdGNoJyxcbiAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG4gICAgY3RybC5jYXNlc1snIScgKyBhdHRycy5uZ1N3aXRjaFdoZW5dID0gKGN0cmwuY2FzZXNbJyEnICsgYXR0cnMubmdTd2l0Y2hXaGVuXSB8fCBbXSk7XG4gICAgY3RybC5jYXNlc1snIScgKyBhdHRycy5uZ1N3aXRjaFdoZW5dLnB1c2goeyB0cmFuc2NsdWRlOiAkdHJhbnNjbHVkZSwgZWxlbWVudDogZWxlbWVudCB9KTtcbiAgfVxufSk7XG5cbnZhciBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgcHJpb3JpdHk6IDEyMDAsXG4gIHJlcXVpcmU6ICdebmdTd2l0Y2gnLFxuICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgIGN0cmwuY2FzZXNbJz8nXSA9IChjdHJsLmNhc2VzWyc/J10gfHwgW10pO1xuICAgIGN0cmwuY2FzZXNbJz8nXS5wdXNoKHsgdHJhbnNjbHVkZTogJHRyYW5zY2x1ZGUsIGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG4gICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1RyYW5zY2x1ZGVcbiAqIEByZXN0cmljdCBFQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERpcmVjdGl2ZSB0aGF0IG1hcmtzIHRoZSBpbnNlcnRpb24gcG9pbnQgZm9yIHRoZSB0cmFuc2NsdWRlZCBET00gb2YgdGhlIG5lYXJlc3QgcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHVzZXMgdHJhbnNjbHVzaW9uLlxuICpcbiAqIEFueSBleGlzdGluZyBjb250ZW50IG9mIHRoZSBlbGVtZW50IHRoYXQgdGhpcyBkaXJlY3RpdmUgaXMgcGxhY2VkIG9uIHdpbGwgYmUgcmVtb3ZlZCBiZWZvcmUgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgaW5zZXJ0ZWQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cInRyYW5zY2x1ZGVFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd0cmFuc2NsdWRlRXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5kaXJlY3RpdmUoJ3BhbmUnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgIHNjb3BlOiB7IHRpdGxlOidAJyB9LFxuICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IGdyYXlcIj57e3RpdGxlfX08L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bmctdHJhbnNjbHVkZT48L25nLXRyYW5zY2x1ZGU+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgICAgICB9O1xuICAgICAgICAgfSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICRzY29wZS50aXRsZSA9ICdMb3JlbSBJcHN1bSc7XG4gICAgICAgICAgICRzY29wZS50ZXh0ID0gJ05lcXVlIHBvcnJvIHF1aXNxdWFtIGVzdCBxdWkgZG9sb3JlbSBpcHN1bSBxdWlhIGRvbG9yLi4uJztcbiAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwidGl0bGVcIiBhcmlhLWxhYmVsPVwidGl0bGVcIj4gPGJyLz5cbiAgICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInRleHRcIiBhcmlhLWxhYmVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XG4gICAgICAgICA8cGFuZSB0aXRsZT1cInt7dGl0bGV9fVwiPnt7dGV4dH19PC9wYW5lPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYXZlIHRyYW5zY2x1ZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RpdGxlJykpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5jbGVhcigpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTtcbiAgICAgICAgICB2YXIgdGV4dEVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpO1xuICAgICAgICAgIHRleHRFbGVtZW50LmNsZWFyKCk7XG4gICAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0aXRsZScpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RJVExFJyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGV4dCcpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RFWFQnKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHJlc3RyaWN0OiAnRUFDJyxcbiAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBjb250cm9sbGVyLCAkdHJhbnNjbHVkZSkge1xuICAgIGlmICghJHRyYW5zY2x1ZGUpIHtcbiAgICAgIHRocm93IG1pbkVycignbmdUcmFuc2NsdWRlJykoJ29ycGhhbicsXG4gICAgICAgJ0lsbGVnYWwgdXNlIG9mIG5nVHJhbnNjbHVkZSBkaXJlY3RpdmUgaW4gdGhlIHRlbXBsYXRlISAnICtcbiAgICAgICAnTm8gcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHJlcXVpcmVzIGEgdHJhbnNjbHVzaW9uIGZvdW5kLiAnICtcbiAgICAgICAnRWxlbWVudDogezB9JyxcbiAgICAgICBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgIH1cblxuICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAkZWxlbWVudC5lbXB0eSgpO1xuICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgc2NyaXB0XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTG9hZCB0aGUgY29udGVudCBvZiBhIGA8c2NyaXB0PmAgZWxlbWVudCBpbnRvIHtAbGluayBuZy4kdGVtcGxhdGVDYWNoZSBgJHRlbXBsYXRlQ2FjaGVgfSwgc28gdGhhdCB0aGVcbiAqIHRlbXBsYXRlIGNhbiBiZSB1c2VkIGJ5IHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSxcbiAqIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgYG5nVmlld2B9LCBvciB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LiBUaGUgdHlwZSBvZiB0aGVcbiAqIGA8c2NyaXB0PmAgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBgdGV4dC9uZy10ZW1wbGF0ZWAsIGFuZCBhIGNhY2hlIG5hbWUgZm9yIHRoZSB0ZW1wbGF0ZSBtdXN0IGJlXG4gKiBhc3NpZ25lZCB0aHJvdWdoIHRoZSBlbGVtZW50J3MgYGlkYCwgd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCBhcyBhIGRpcmVjdGl2ZSdzIGB0ZW1wbGF0ZVVybGAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTXVzdCBiZSBzZXQgdG8gYCd0ZXh0L25nLXRlbXBsYXRlJ2AuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQ2FjaGUgbmFtZSBvZiB0aGUgdGVtcGxhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGU+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cIi90cGwuaHRtbFwiPlxuICAgICAgICBDb250ZW50IG9mIHRoZSB0ZW1wbGF0ZS5cbiAgICAgIDwvc2NyaXB0PlxuXG4gICAgICA8YSBuZy1jbGljaz1cImN1cnJlbnRUcGw9Jy90cGwuaHRtbCdcIiBpZD1cInRwbC1saW5rXCI+TG9hZCBpbmxpbmVkIHRlbXBsYXRlPC9hPlxuICAgICAgPGRpdiBpZD1cInRwbC1jb250ZW50XCIgbmctaW5jbHVkZSBzcmM9XCJjdXJyZW50VHBsXCI+PC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZSBkZWZpbmVkIGluc2lkZSBzY3JpcHQgdGFnJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjdHBsLWxpbmsnKSkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjdHBsLWNvbnRlbnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRoZSB0ZW1wbGF0ZS8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBzY3JpcHREaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmIChhdHRyLnR5cGUgPT0gJ3RleHQvbmctdGVtcGxhdGUnKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZVVybCA9IGF0dHIuaWQsXG4gICAgICAgICAgICB0ZXh0ID0gZWxlbWVudFswXS50ZXh0O1xuXG4gICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCh0ZW1wbGF0ZVVybCwgdGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBub29wTmdNb2RlbENvbnRyb2xsZXIgPSB7ICRzZXRWaWV3VmFsdWU6IG5vb3AsICRyZW5kZXI6IG5vb3AgfTtcblxuZnVuY3Rpb24gY2hyb21lSGFjayhvcHRpb25FbGVtZW50KSB7XG4gIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zODE0NTlcbiAgLy8gQWRkaW5nIGFuIDxvcHRpb24gc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPiBlbGVtZW50IHRvIGEgPHNlbGVjdCByZXF1aXJlZD1cInJlcXVpcmVkXCI+IHNob3VsZFxuICAvLyBhdXRvbWF0aWNhbGx5IHNlbGVjdCB0aGUgbmV3IGVsZW1lbnRcbiAgaWYgKG9wdGlvbkVsZW1lbnRbMF0uaGFzQXR0cmlidXRlKCdzZWxlY3RlZCcpKSB7XG4gICAgb3B0aW9uRWxlbWVudFswXS5zZWxlY3RlZCA9IHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgIHNlbGVjdC5TZWxlY3RDb250cm9sbGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBjb250cm9sbGVyIGZvciB0aGUgYDxzZWxlY3Q+YCBkaXJlY3RpdmUuIFRoaXMgcHJvdmlkZXMgc3VwcG9ydCBmb3IgcmVhZGluZ1xuICogYW5kIHdyaXRpbmcgdGhlIHNlbGVjdGVkIHZhbHVlKHMpIG9mIHRoZSBjb250cm9sIGFuZCBhbHNvIGNvb3JkaW5hdGVzIGR5bmFtaWNhbGx5XG4gKiBhZGRlZCBgPG9wdGlvbj5gIGVsZW1lbnRzLCBwZXJoYXBzIGJ5IGFuIGBuZ1JlcGVhdGAgZGlyZWN0aXZlLlxuICovXG52YXIgU2VsZWN0Q29udHJvbGxlciA9XG4gICAgICAgIFsnJGVsZW1lbnQnLCAnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRlbGVtZW50LCAkc2NvcGUsICRhdHRycykge1xuXG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIG9wdGlvbnNNYXAgPSBuZXcgSGFzaE1hcCgpO1xuXG4gIC8vIElmIHRoZSBuZ01vZGVsIGRvZXNuJ3QgZ2V0IHByb3ZpZGVkIHRoZW4gcHJvdmlkZSBhIGR1bW15IG5vb3AgdmVyc2lvbiB0byBwcmV2ZW50IGVycm9yc1xuICBzZWxmLm5nTW9kZWxDdHJsID0gbm9vcE5nTW9kZWxDb250cm9sbGVyO1xuXG4gIC8vIFRoZSBcInVua25vd25cIiBvcHRpb24gaXMgb25lIHRoYXQgaXMgcHJlcGVuZGVkIHRvIHRoZSBsaXN0IGlmIHRoZSB2aWV3VmFsdWVcbiAgLy8gZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb25zLiBXaGVuIGl0IGlzIHJlbmRlcmVkIHRoZSB2YWx1ZSBvZiB0aGUgdW5rbm93blxuICAvLyBvcHRpb24gaXMgJz8gWFhYID8nIHdoZXJlIFhYWCBpcyB0aGUgaGFzaEtleSBvZiB0aGUgdmFsdWUgdGhhdCBpcyBub3Qga25vd24uXG4gIC8vXG4gIC8vIFdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXG4gIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLlxuICBzZWxmLnVua25vd25PcHRpb24gPSBqcUxpdGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJykpO1xuICBzZWxmLnJlbmRlclVua25vd25PcHRpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgdW5rbm93blZhbCA9ICc/ICcgKyBoYXNoS2V5KHZhbCkgKyAnID8nO1xuICAgIHNlbGYudW5rbm93bk9wdGlvbi52YWwodW5rbm93blZhbCk7XG4gICAgJGVsZW1lbnQucHJlcGVuZChzZWxmLnVua25vd25PcHRpb24pO1xuICAgICRlbGVtZW50LnZhbCh1bmtub3duVmFsKTtcbiAgfTtcblxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIC8vIGRpc2FibGUgdW5rbm93biBvcHRpb24gc28gdGhhdCB3ZSBkb24ndCBkbyB3b3JrIHdoZW4gdGhlIHdob2xlIHNlbGVjdCBpcyBiZWluZyBkZXN0cm95ZWRcbiAgICBzZWxmLnJlbmRlclVua25vd25PcHRpb24gPSBub29wO1xuICB9KTtcblxuICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi51bmtub3duT3B0aW9uLnBhcmVudCgpKSBzZWxmLnVua25vd25PcHRpb24ucmVtb3ZlKCk7XG4gIH07XG5cblxuICAvLyBSZWFkIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0IGNvbnRyb2wsIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGNoYW5nZXMgZGVwZW5kaW5nXG4gIC8vIHVwb24gd2hldGhlciB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHZhbHVlcyBhbmQgd2hldGhlciBuZ09wdGlvbnMgaXMgYXQgd29yay5cbiAgc2VsZi5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkU2luZ2xlVmFsdWUoKSB7XG4gICAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uKCk7XG4gICAgcmV0dXJuICRlbGVtZW50LnZhbCgpO1xuICB9O1xuXG5cbiAgLy8gV3JpdGUgdGhlIHZhbHVlIHRvIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcbiAgLy8gdXBvbiB3aGV0aGVyIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGUgdmFsdWVzIGFuZCB3aGV0aGVyIG5nT3B0aW9ucyBpcyBhdCB3b3JrLlxuICBzZWxmLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZVNpbmdsZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHNlbGYuaGFzT3B0aW9uKHZhbHVlKSkge1xuICAgICAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uKCk7XG4gICAgICAkZWxlbWVudC52YWwodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSAnJykgc2VsZi5lbXB0eU9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpOyAvLyB0byBtYWtlIElFOSBoYXBweVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBzZWxmLmVtcHR5T3B0aW9uKSB7XG4gICAgICAgIHNlbGYucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAkZWxlbWVudC52YWwoJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cblxuICAvLyBUZWxsIHRoZSBzZWxlY3QgY29udHJvbCB0aGF0IGFuIG9wdGlvbiwgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUsIGhhcyBiZWVuIGFkZGVkXG4gIHNlbGYuYWRkT3B0aW9uID0gZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgJ1wib3B0aW9uIHZhbHVlXCInKTtcbiAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICBzZWxmLmVtcHR5T3B0aW9uID0gZWxlbWVudDtcbiAgICB9XG4gICAgdmFyIGNvdW50ID0gb3B0aW9uc01hcC5nZXQodmFsdWUpIHx8IDA7XG4gICAgb3B0aW9uc01hcC5wdXQodmFsdWUsIGNvdW50ICsgMSk7XG4gICAgc2VsZi5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgY2hyb21lSGFjayhlbGVtZW50KTtcbiAgfTtcblxuICAvLyBUZWxsIHRoZSBzZWxlY3QgY29udHJvbCB0aGF0IGFuIG9wdGlvbiwgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUsIGhhcyBiZWVuIHJlbW92ZWRcbiAgc2VsZi5yZW1vdmVPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciBjb3VudCA9IG9wdGlvbnNNYXAuZ2V0KHZhbHVlKTtcbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgICBvcHRpb25zTWFwLnJlbW92ZSh2YWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICBzZWxmLmVtcHR5T3B0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zTWFwLnB1dCh2YWx1ZSwgY291bnQgLSAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgc2VsZWN0IGNvbnRyb2wgaGFzIGFuIG9wdGlvbiBtYXRjaGluZyB0aGUgZ2l2ZW4gdmFsdWVcbiAgc2VsZi5oYXNPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAhIW9wdGlvbnNNYXAuZ2V0KHZhbHVlKTtcbiAgfTtcblxuXG4gIHNlbGYucmVnaXN0ZXJPcHRpb24gPSBmdW5jdGlvbihvcHRpb25TY29wZSwgb3B0aW9uRWxlbWVudCwgb3B0aW9uQXR0cnMsIGludGVycG9sYXRlVmFsdWVGbiwgaW50ZXJwb2xhdGVUZXh0Rm4pIHtcblxuICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlRm4pIHtcbiAgICAgIC8vIFRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgaW50ZXJwb2xhdGVkXG4gICAgICB2YXIgb2xkVmFsO1xuICAgICAgb3B0aW9uQXR0cnMuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24gdmFsdWVBdHRyaWJ1dGVPYnNlcnZlQWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKG9sZFZhbCkpIHtcbiAgICAgICAgICBzZWxmLnJlbW92ZU9wdGlvbihvbGRWYWwpO1xuICAgICAgICB9XG4gICAgICAgIG9sZFZhbCA9IG5ld1ZhbDtcbiAgICAgICAgc2VsZi5hZGRPcHRpb24obmV3VmFsLCBvcHRpb25FbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGVUZXh0Rm4pIHtcbiAgICAgIC8vIFRoZSB0ZXh0IGNvbnRlbnQgaXMgaW50ZXJwb2xhdGVkXG4gICAgICBvcHRpb25TY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVUZXh0Rm4sIGZ1bmN0aW9uIGludGVycG9sYXRlV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgb3B0aW9uQXR0cnMuJHNldCgndmFsdWUnLCBuZXdWYWwpO1xuICAgICAgICBpZiAob2xkVmFsICE9PSBuZXdWYWwpIHtcbiAgICAgICAgICBzZWxmLnJlbW92ZU9wdGlvbihvbGRWYWwpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuYWRkT3B0aW9uKG5ld1ZhbCwgb3B0aW9uRWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBzdGF0aWNcbiAgICAgIHNlbGYuYWRkT3B0aW9uKG9wdGlvbkF0dHJzLnZhbHVlLCBvcHRpb25FbGVtZW50KTtcbiAgICB9XG5cbiAgICBvcHRpb25FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZW1vdmVPcHRpb24ob3B0aW9uQXR0cnMudmFsdWUpO1xuICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfSk7XG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBzZWxlY3RcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIGBTRUxFQ1RgIGVsZW1lbnQgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy5cbiAqXG4gKiBUaGUgYHNlbGVjdGAgZGlyZWN0aXZlIGlzIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IHRvIHByb3ZpZGUgZGF0YS1iaW5kaW5nXG4gKiBiZXR3ZWVuIHRoZSBzY29wZSBhbmQgdGhlIGA8c2VsZWN0PmAgY29udHJvbCAoaW5jbHVkaW5nIHNldHRpbmcgZGVmYXVsdCB2YWx1ZXMpLlxuICogw4x0IGFsc28gaGFuZGxlcyBkeW5hbWljIGA8b3B0aW9uPmAgZWxlbWVudHMsIHdoaWNoIGNhbiBiZSBhZGRlZCB1c2luZyB0aGUge0BsaW5rIG5nUmVwZWF0IGBuZ1JlcGVhdH1gIG9yXG4gKiB7QGxpbmsgbmdPcHRpb25zIGBuZ09wdGlvbnNgfSBkaXJlY3RpdmVzLlxuICpcbiAqIFdoZW4gYW4gaXRlbSBpbiB0aGUgYDxzZWxlY3Q+YCBtZW51IGlzIHNlbGVjdGVkLCB0aGUgdmFsdWUgb2YgdGhlIHNlbGVjdGVkIG9wdGlvbiB3aWxsIGJlIGJvdW5kXG4gKiB0byB0aGUgbW9kZWwgaWRlbnRpZmllZCBieSB0aGUgYG5nTW9kZWxgIGRpcmVjdGl2ZS4gV2l0aCBzdGF0aWMgb3IgcmVwZWF0ZWQgb3B0aW9ucywgdGhpcyBpc1xuICogdGhlIGNvbnRlbnQgb2YgdGhlIGB2YWx1ZWAgYXR0cmlidXRlIG9yIHRoZSB0ZXh0Q29udGVudCBvZiB0aGUgYDxvcHRpb24+YCwgaWYgdGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBtaXNzaW5nLlxuICogSWYgeW91IHdhbnQgZHluYW1pYyB2YWx1ZSBhdHRyaWJ1dGVzLCB5b3UgY2FuIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgdmFsdWUgYXR0cmlidXRlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiBOb3RlIHRoYXQgdGhlIHZhbHVlIG9mIGEgYHNlbGVjdGAgZGlyZWN0aXZlIHVzZWQgd2l0aG91dCBgbmdPcHRpb25zYCBpcyBhbHdheXMgYSBzdHJpbmcuXG4gKiBXaGVuIHRoZSBtb2RlbCBuZWVkcyB0byBiZSBib3VuZCB0byBhIG5vbi1zdHJpbmcgdmFsdWUsIHlvdSBtdXN0IGVpdGhlciBleHBsaWN0bHkgY29udmVydCBpdFxuICogdXNpbmcgYSBkaXJlY3RpdmUgKHNlZSBleGFtcGxlIGJlbG93KSBvciB1c2UgYG5nT3B0aW9uc2AgdG8gc3BlY2lmeSB0aGUgc2V0IG9mIG9wdGlvbnMuXG4gKiBUaGlzIGlzIGJlY2F1c2UgYW4gb3B0aW9uIGVsZW1lbnQgY2FuIG9ubHkgYmUgYm91bmQgdG8gc3RyaW5nIHZhbHVlcyBhdCBwcmVzZW50LlxuICogPC9kaXY+XG4gKlxuICogSWYgdGhlIHZpZXdWYWx1ZSBvZiBgbmdNb2RlbGAgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb25zLCB0aGVuIHRoZSBjb250cm9sXG4gKiB3aWxsIGF1dG9tYXRpY2FsbHkgYWRkIGFuIFwidW5rbm93blwiIG9wdGlvbiwgd2hpY2ggaXQgdGhlbiByZW1vdmVzIHdoZW4gdGhlIG1pc21hdGNoIGlzIHJlc29sdmVkLlxuICpcbiAqIE9wdGlvbmFsbHksIGEgc2luZ2xlIGhhcmQtY29kZWQgYDxvcHRpb24+YCBlbGVtZW50LCB3aXRoIHRoZSB2YWx1ZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLCBjYW5cbiAqIGJlIG5lc3RlZCBpbnRvIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQuIFRoaXMgZWxlbWVudCB3aWxsIHRoZW4gcmVwcmVzZW50IHRoZSBgbnVsbGAgb3IgXCJub3Qgc2VsZWN0ZWRcIlxuICogb3B0aW9uLiBTZWUgZXhhbXBsZSBiZWxvdyBmb3IgZGVtb25zdHJhdGlvbi5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogSW4gbWFueSBjYXNlcywgYG5nUmVwZWF0YCBjYW4gYmUgdXNlZCBvbiBgPG9wdGlvbj5gIGVsZW1lbnRzIGluc3RlYWQgb2Yge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ09wdGlvbnNcbiAqIG5nT3B0aW9uc30gdG8gYWNoaWV2ZSBhIHNpbWlsYXIgcmVzdWx0LiBIb3dldmVyLCBgbmdPcHRpb25zYCBwcm92aWRlcyBzb21lIGJlbmVmaXRzLCBzdWNoIGFzXG4gKiBtb3JlIGZsZXhpYmlsaXR5IGluIGhvdyB0aGUgYDxzZWxlY3Q+YCdzIG1vZGVsIGlzIGFzc2lnbmVkIHZpYSB0aGUgYHNlbGVjdGAgKipgYXNgKiogcGFydCBvZiB0aGVcbiAqIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbiwgYW5kIGFkZGl0aW9uYWxseSBpbiByZWR1Y2luZyBtZW1vcnkgYW5kIGluY3JlYXNpbmcgc3BlZWQgYnkgbm90IGNyZWF0aW5nXG4gKiBhIG5ldyBzY29wZSBmb3IgZWFjaCByZXBlYXRlZCBpbnN0YW5jZS5cbiAqIDwvZGl2PlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG11bHRpcGxlIEFsbG93cyBtdWx0aXBsZSBvcHRpb25zIHRvIGJlIHNlbGVjdGVkLiBUaGUgc2VsZWN0ZWQgdmFsdWVzIHdpbGwgYmVcbiAqICAgICBib3VuZCB0byB0aGUgbW9kZWwgYXMgYW4gYXJyYXkuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyByZXF1aXJlZCBhdHRyaWJ1dGUgYW5kIHJlcXVpcmVkIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICogdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgbmdSZXF1aXJlZCBpbnN0ZWFkIG9mIHJlcXVpcmVkXG4gKiB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgcmVxdWlyZWQgYXR0cmlidXRlLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBzZWxlY3RlZCBvcHRpb24ocykgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgc2VsZWN0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nT3B0aW9ucyBzZXRzIHRoZSBvcHRpb25zIHRoYXQgdGhlIHNlbGVjdCBpcyBwb3B1bGF0ZWQgd2l0aCBhbmQgZGVmaW5lcyB3aGF0IGlzXG4gKiBzZXQgb24gdGhlIG1vZGVsIG9uIHNlbGVjdGlvbi4gU2VlIHtAbGluayBuZ09wdGlvbnMgYG5nT3B0aW9uc2B9LlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgU2ltcGxlIGBzZWxlY3RgIGVsZW1lbnRzIHdpdGggc3RhdGljIG9wdGlvbnNcbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwic3RhdGljLXNlbGVjdFwiIG1vZHVsZT1cInN0YXRpY1NlbGVjdFwiPlxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cbiAqICAgICA8bGFiZWwgZm9yPVwic2luZ2xlU2VsZWN0XCI+IFNpbmdsZSBzZWxlY3Q6IDwvbGFiZWw+PGJyPlxuICogICAgIDxzZWxlY3QgbmFtZT1cInNpbmdsZVNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5zaW5nbGVTZWxlY3RcIj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMVwiPk9wdGlvbiAxPC9vcHRpb24+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTJcIj5PcHRpb24gMjwvb3B0aW9uPlxuICogICAgIDwvc2VsZWN0Pjxicj5cbiAqXG4gKiAgICAgPGxhYmVsIGZvcj1cInNpbmdsZVNlbGVjdFwiPiBTaW5nbGUgc2VsZWN0IHdpdGggXCJub3Qgc2VsZWN0ZWRcIiBvcHRpb24gYW5kIGR5bmFtaWMgb3B0aW9uIHZhbHVlczogPC9sYWJlbD48YnI+XG4gKiAgICAgPHNlbGVjdCBuYW1lPVwic2luZ2xlU2VsZWN0XCIgaWQ9XCJzaW5nbGVTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEuc2luZ2xlU2VsZWN0XCI+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+LS0tUGxlYXNlIHNlbGVjdC0tLTwvb3B0aW9uPiA8IS0tIG5vdCBzZWxlY3RlZCAvIGJsYW5rIG9wdGlvbiAtLT5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJ7e2RhdGEub3B0aW9uMX19XCI+T3B0aW9uIDE8L29wdGlvbj4gPCEtLSBpbnRlcnBvbGF0aW9uIC0tPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cbiAqICAgICA8L3NlbGVjdD48YnI+XG4gKiAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImZvcmNlVW5rbm93bk9wdGlvbigpXCI+Rm9yY2UgdW5rbm93biBvcHRpb248L2J1dHRvbj48YnI+XG4gKiAgICAgPHR0PnNpbmdsZVNlbGVjdCA9IHt7ZGF0YS5zaW5nbGVTZWxlY3R9fTwvdHQ+XG4gKlxuICogICAgIDxocj5cbiAqICAgICA8bGFiZWwgZm9yPVwibXVsdGlwbGVTZWxlY3RcIj4gTXVsdGlwbGUgc2VsZWN0OiA8L2xhYmVsPjxicj5cbiAqICAgICA8c2VsZWN0IG5hbWU9XCJtdWx0aXBsZVNlbGVjdFwiIGlkPVwibXVsdGlwbGVTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEubXVsdGlwbGVTZWxlY3RcIiBtdWx0aXBsZT5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMVwiPk9wdGlvbiAxPC9vcHRpb24+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTJcIj5PcHRpb24gMjwvb3B0aW9uPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0zXCI+T3B0aW9uIDM8L29wdGlvbj5cbiAqICAgICA8L3NlbGVjdD48YnI+XG4gKiAgICAgPHR0Pm11bHRpcGxlU2VsZWN0ID0ge3tkYXRhLm11bHRpcGxlU2VsZWN0fX08L3R0Pjxici8+XG4gKiAgIDwvZm9ybT5cbiAqIDwvZGl2PlxuICogPC9maWxlPlxuICogPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogIGFuZ3VsYXIubW9kdWxlKCdzdGF0aWNTZWxlY3QnLCBbXSlcbiAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICRzY29wZS5kYXRhID0ge1xuICogICAgICAgc2luZ2xlU2VsZWN0OiBudWxsLFxuICogICAgICAgbXVsdGlwbGVTZWxlY3Q6IFtdLFxuICogICAgICAgb3B0aW9uMTogJ29wdGlvbi0xJyxcbiAqICAgICAgfTtcbiAqXG4gKiAgICAgICRzY29wZS5mb3JjZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAkc2NvcGUuZGF0YS5zaW5nbGVTZWxlY3QgPSAnbm9uc2Vuc2UnO1xuICogICAgICB9O1xuICogICB9XSk7XG4gKiA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cbiAqXG4gKiAjIyMgVXNpbmcgYG5nUmVwZWF0YCB0byBnZW5lcmF0ZSBgc2VsZWN0YCBvcHRpb25zXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdyZXBlYXQtc2VsZWN0XCIgbW9kdWxlPVwibmdyZXBlYXRTZWxlY3RcIj5cbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gKiAgICAgPGxhYmVsIGZvcj1cInJlcGVhdFNlbGVjdFwiPiBSZXBlYXQgc2VsZWN0OiA8L2xhYmVsPlxuICogICAgIDxzZWxlY3QgbmFtZT1cInJlcGVhdFNlbGVjdFwiIGlkPVwicmVwZWF0U2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLnJlcGVhdFNlbGVjdFwiPlxuICogICAgICAgPG9wdGlvbiBuZy1yZXBlYXQ9XCJvcHRpb24gaW4gZGF0YS5hdmFpbGFibGVPcHRpb25zXCIgdmFsdWU9XCJ7e29wdGlvbi5pZH19XCI+e3tvcHRpb24ubmFtZX19PC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+XG4gKiAgIDwvZm9ybT5cbiAqICAgPGhyPlxuICogICA8dHQ+cmVwZWF0U2VsZWN0ID0ge3tkYXRhLnJlcGVhdFNlbGVjdH19PC90dD48YnIvPlxuICogPC9kaXY+XG4gKiA8L2ZpbGU+XG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgYW5ndWxhci5tb2R1bGUoJ25ncmVwZWF0U2VsZWN0JywgW10pXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAkc2NvcGUuZGF0YSA9IHtcbiAqICAgICAgIHJlcGVhdFNlbGVjdDogbnVsbCxcbiAqICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcbiAqICAgICAgICAge2lkOiAnMScsIG5hbWU6ICdPcHRpb24gQSd9LFxuICogICAgICAgICB7aWQ6ICcyJywgbmFtZTogJ09wdGlvbiBCJ30sXG4gKiAgICAgICAgIHtpZDogJzMnLCBuYW1lOiAnT3B0aW9uIEMnfVxuICogICAgICAgXSxcbiAqICAgICAgfTtcbiAqICAgfV0pO1xuICogPC9maWxlPlxuICo8L2V4YW1wbGU+XG4gKlxuICpcbiAqICMjIyBVc2luZyBgc2VsZWN0YCB3aXRoIGBuZ09wdGlvbnNgIGFuZCBzZXR0aW5nIGEgZGVmYXVsdCB2YWx1ZVxuICogU2VlIHRoZSB7QGxpbmsgbmdPcHRpb25zIG5nT3B0aW9ucyBkb2N1bWVudGF0aW9ufSBmb3IgbW9yZSBgbmdPcHRpb25zYCB1c2FnZSBleGFtcGxlcy5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2VsZWN0LXdpdGgtZGVmYXVsdC12YWx1ZXNcIiBtb2R1bGU9XCJkZWZhdWx0VmFsdWVTZWxlY3RcIj5cbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gKiAgICAgPGxhYmVsIGZvcj1cIm15U2VsZWN0XCI+TWFrZSBhIGNob2ljZTo8L2xhYmVsPlxuICogICAgIDxzZWxlY3QgbmFtZT1cIm15U2VsZWN0XCIgaWQ9XCJteVNlbGVjdFwiXG4gKiAgICAgICBuZy1vcHRpb25zPVwib3B0aW9uLm5hbWUgZm9yIG9wdGlvbiBpbiBkYXRhLmF2YWlsYWJsZU9wdGlvbnMgdHJhY2sgYnkgb3B0aW9uLmlkXCJcbiAqICAgICAgIG5nLW1vZGVsPVwiZGF0YS5zZWxlY3RlZE9wdGlvblwiPjwvc2VsZWN0PlxuICogICA8L2Zvcm0+XG4gKiAgIDxocj5cbiAqICAgPHR0Pm9wdGlvbiA9IHt7ZGF0YS5zZWxlY3RlZE9wdGlvbn19PC90dD48YnIvPlxuICogPC9kaXY+XG4gKiA8L2ZpbGU+XG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgYW5ndWxhci5tb2R1bGUoJ2RlZmF1bHRWYWx1ZVNlbGVjdCcsIFtdKVxuICogICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgJHNjb3BlLmRhdGEgPSB7XG4gKiAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXG4gKiAgICAgICAgIHtpZDogJzEnLCBuYW1lOiAnT3B0aW9uIEEnfSxcbiAqICAgICAgICAge2lkOiAnMicsIG5hbWU6ICdPcHRpb24gQid9LFxuICogICAgICAgICB7aWQ6ICczJywgbmFtZTogJ09wdGlvbiBDJ31cbiAqICAgICAgIF0sXG4gKiAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMycsIG5hbWU6ICdPcHRpb24gQyd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXG4gKiAgICAgICB9O1xuICogICB9XSk7XG4gKiA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cbiAqXG4gKlxuICogIyMjIEJpbmRpbmcgYHNlbGVjdGAgdG8gYSBub24tc3RyaW5nIHZhbHVlIHZpYSBgbmdNb2RlbGAgcGFyc2luZyAvIGZvcm1hdHRpbmdcbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2VsZWN0LXdpdGgtbm9uLXN0cmluZy1vcHRpb25zXCIgbW9kdWxlPVwibm9uU3RyaW5nU2VsZWN0XCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm1vZGVsLmlkXCIgY29udmVydC10by1udW1iZXI+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwiMFwiPlplcm88L29wdGlvbj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIxXCI+T25lPC9vcHRpb24+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwiMlwiPlR3bzwvb3B0aW9uPlxuICogICAgIDwvc2VsZWN0PlxuICogICAgIHt7IG1vZGVsIH19XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdub25TdHJpbmdTZWxlY3QnLCBbXSlcbiAqICAgICAgIC5ydW4oZnVuY3Rpb24oJHJvb3RTY29wZSkge1xuICogICAgICAgICAkcm9vdFNjb3BlLm1vZGVsID0geyBpZDogMiB9O1xuICogICAgICAgfSlcbiAqICAgICAgIC5kaXJlY3RpdmUoJ2NvbnZlcnRUb051bWJlcicsIGZ1bmN0aW9uKCkge1xuICogICAgICAgICByZXR1cm4ge1xuICogICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAqICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAqICAgICAgICAgICAgIG5nTW9kZWwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWwpIHtcbiAqICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTApO1xuICogICAgICAgICAgICAgfSk7XG4gKiAgICAgICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsKSB7XG4gKiAgICAgICAgICAgICAgIHJldHVybiAnJyArIHZhbDtcbiAqICAgICAgICAgICAgIH0pO1xuICogICAgICAgICAgIH1cbiAqICAgICAgICAgfTtcbiAqICAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIHZhciBzZWxlY3QgPSBlbGVtZW50KGJ5LmNzcygnc2VsZWN0JykpO1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ21vZGVsLmlkJykpLiQoJ29wdGlvbjpjaGVja2VkJykuZ2V0VGV4dCgpKS50b0VxdWFsKCdUd28nKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqL1xudmFyIHNlbGVjdERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJ3NlbGVjdCcsICc/bmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6IFNlbGVjdENvbnRyb2xsZXIsXG4gICAgcHJpb3JpdHk6IDEsXG4gICAgbGluazoge1xuICAgICAgcHJlOiBzZWxlY3RQcmVMaW5rXG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHNlbGVjdFByZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG5cbiAgICAgIC8vIGlmIG5nTW9kZWwgaXMgbm90IGRlZmluZWQsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xuXG4gICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzBdO1xuXG4gICAgICBzZWxlY3RDdHJsLm5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmw7XG5cbiAgICAgIC8vIFdlIGRlbGVnYXRlIHJlbmRlcmluZyB0byB0aGUgYHdyaXRlVmFsdWVgIG1ldGhvZCwgd2hpY2ggY2FuIGJlIGNoYW5nZWRcbiAgICAgIC8vIGlmIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGUgc2VsZWN0ZWQgdmFsdWVzIG9yIGlmIHRoZSBvcHRpb25zIGFyZSBiZWluZ1xuICAgICAgLy8gZ2VuZXJhdGVkIGJ5IGBuZ09wdGlvbnNgXG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFdoZW4gdGhlIHNlbGVjdGVkIGl0ZW0ocykgY2hhbmdlcyB3ZSBkZWxlZ2F0ZSBnZXR0aW5nIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0IGNvbnRyb2xcbiAgICAgIC8vIHRvIHRoZSBgcmVhZFZhbHVlYCBtZXRob2QsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkIGlmIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGVcbiAgICAgIC8vIHNlbGVjdGVkIHZhbHVlcyBvciBpZiB0aGUgb3B0aW9ucyBhcmUgYmVpbmcgZ2VuZXJhdGVkIGJ5IGBuZ09wdGlvbnNgXG4gICAgICBlbGVtZW50Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoc2VsZWN0Q3RybC5yZWFkVmFsdWUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIElmIHRoZSBzZWxlY3QgYWxsb3dzIG11bHRpcGxlIHZhbHVlcyB0aGVuIHdlIG5lZWQgdG8gbW9kaWZ5IGhvdyB3ZSByZWFkIGFuZCB3cml0ZVxuICAgICAgLy8gdmFsdWVzIGZyb20gYW5kIHRvIHRoZSBjb250cm9sOyBhbHNvIHdoYXQgaXQgbWVhbnMgZm9yIHRoZSB2YWx1ZSB0byBiZSBlbXB0eSBhbmRcbiAgICAgIC8vIHdlIGhhdmUgdG8gYWRkIGFuIGV4dHJhIHdhdGNoIHNpbmNlIG5nTW9kZWwgZG9lc24ndCB3b3JrIHdlbGwgd2l0aCBhcnJheXMgLSBpdFxuICAgICAgLy8gZG9lc24ndCB0cmlnZ2VyIHJlbmRlcmluZyBpZiBvbmx5IGFuIGl0ZW0gaW4gdGhlIGFycmF5IGNoYW5nZXMuXG4gICAgICBpZiAoYXR0ci5tdWx0aXBsZSkge1xuXG4gICAgICAgIC8vIFJlYWQgdmFsdWUgbm93IG5lZWRzIHRvIGNoZWNrIGVhY2ggb3B0aW9uIHRvIHNlZSBpZiBpdCBpcyBzZWxlY3RlZFxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWRNdWx0aXBsZVZhbHVlKCkge1xuICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgICAgIGZvckVhY2goZWxlbWVudC5maW5kKCdvcHRpb24nKSwgZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgIGFycmF5LnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gV3JpdGUgdmFsdWUgbm93IG5lZWRzIHRvIHNldCB0aGUgc2VsZWN0ZWQgcHJvcGVydHkgb2YgZWFjaCBtYXRjaGluZyBvcHRpb25cbiAgICAgICAgc2VsZWN0Q3RybC53cml0ZVZhbHVlID0gZnVuY3Rpb24gd3JpdGVNdWx0aXBsZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIGl0ZW1zID0gbmV3IEhhc2hNYXAodmFsdWUpO1xuICAgICAgICAgIGZvckVhY2goZWxlbWVudC5maW5kKCdvcHRpb24nKSwgZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpc0RlZmluZWQoaXRlbXMuZ2V0KG9wdGlvbi52YWx1ZSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gZG8gaXQgb24gZWFjaCB3YXRjaCBzaW5jZSBuZ01vZGVsIHdhdGNoZXMgcmVmZXJlbmNlLCBidXRcbiAgICAgICAgLy8gd2UgbmVlZCB0byB3b3JrIG9mIGFuIGFycmF5LCBzbyB3ZSBuZWVkIHRvIHNlZSBpZiBhbnl0aGluZyB3YXMgaW5zZXJ0ZWQvcmVtb3ZlZFxuICAgICAgICB2YXIgbGFzdFZpZXcsIGxhc3RWaWV3UmVmID0gTmFOO1xuICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gc2VsZWN0TXVsdGlwbGVXYXRjaCgpIHtcbiAgICAgICAgICBpZiAobGFzdFZpZXdSZWYgPT09IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgJiYgIWVxdWFscyhsYXN0VmlldywgbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGxhc3RWaWV3ID0gc2hhbGxvd0NvcHkobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RWaWV3UmVmID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSWYgd2UgYXJlIGEgbXVsdGlwbGUgc2VsZWN0IHRoZW4gdmFsdWUgaXMgbm93IGEgY29sbGVjdGlvblxuICAgICAgICAvLyBzbyB0aGUgbWVhbmluZyBvZiAkaXNFbXB0eSBjaGFuZ2VzXG4gICAgICAgIG5nTW9kZWxDdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfTtcblxuICAgICAgfVxuICAgIH1cbn07XG5cblxuLy8gVGhlIG9wdGlvbiBkaXJlY3RpdmUgaXMgcHVyZWx5IGRlc2lnbmVkIHRvIGNvbW11bmljYXRlIHRoZSBleGlzdGVuY2UgKG9yIGxhY2sgb2YpXG4vLyBvZiBkeW5hbWljYWxseSBjcmVhdGVkIChhbmQgZGVzdHJveWVkKSBvcHRpb24gZWxlbWVudHMgdG8gdGhlaXIgY29udGFpbmluZyBzZWxlY3Rcbi8vIGRpcmVjdGl2ZSB2aWEgaXRzIGNvbnRyb2xsZXIuXG52YXIgb3B0aW9uRGlyZWN0aXZlID0gWyckaW50ZXJwb2xhdGUnLCBmdW5jdGlvbigkaW50ZXJwb2xhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuXG4gICAgICBpZiAoaXNEZWZpbmVkKGF0dHIudmFsdWUpKSB7XG4gICAgICAgIC8vIElmIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgZGVmaW5lZCwgY2hlY2sgaWYgaXQgY29udGFpbnMgYW4gaW50ZXJwb2xhdGlvblxuICAgICAgICB2YXIgaW50ZXJwb2xhdGVWYWx1ZUZuID0gJGludGVycG9sYXRlKGF0dHIudmFsdWUsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBub3QgZGVmaW5lZCB0aGVuIHdlIGZhbGwgYmFjayB0byB0aGVcbiAgICAgICAgLy8gdGV4dCBjb250ZW50IG9mIHRoZSBvcHRpb24gZWxlbWVudCwgd2hpY2ggbWF5IGJlIGludGVycG9sYXRlZFxuICAgICAgICB2YXIgaW50ZXJwb2xhdGVUZXh0Rm4gPSAkaW50ZXJwb2xhdGUoZWxlbWVudC50ZXh0KCksIHRydWUpO1xuICAgICAgICBpZiAoIWludGVycG9sYXRlVGV4dEZuKSB7XG4gICAgICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIGVsZW1lbnQudGV4dCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcblxuICAgICAgICAvLyBUaGlzIGlzIGFuIG9wdGltaXphdGlvbiBvdmVyIHVzaW5nIF5eIHNpbmNlIHdlIGRvbid0IHdhbnQgdG8gaGF2ZSB0byBzZWFyY2hcbiAgICAgICAgLy8gYWxsIHRoZSB3YXkgdG8gdGhlIHJvb3Qgb2YgdGhlIERPTSBmb3IgZXZlcnkgc2luZ2xlIG9wdGlvbiBlbGVtZW50XG4gICAgICAgIHZhciBzZWxlY3RDdHJsTmFtZSA9ICckc2VsZWN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpLFxuICAgICAgICAgICAgc2VsZWN0Q3RybCA9IHBhcmVudC5kYXRhKHNlbGVjdEN0cmxOYW1lKSB8fFxuICAgICAgICAgICAgICBwYXJlbnQucGFyZW50KCkuZGF0YShzZWxlY3RDdHJsTmFtZSk7IC8vIGluIGNhc2Ugd2UgYXJlIGluIG9wdGdyb3VwXG5cbiAgICAgICAgaWYgKHNlbGVjdEN0cmwpIHtcbiAgICAgICAgICBzZWxlY3RDdHJsLnJlZ2lzdGVyT3B0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBpbnRlcnBvbGF0ZVZhbHVlRm4sIGludGVycG9sYXRlVGV4dEZuKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxudmFyIHN0eWxlRGlyZWN0aXZlID0gdmFsdWVGbih7XG4gIHJlc3RyaWN0OiAnRScsXG4gIHRlcm1pbmFsOiBmYWxzZVxufSk7XG5cbnZhciByZXF1aXJlZERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcbiAgICAgIGF0dHIucmVxdWlyZWQgPSB0cnVlOyAvLyBmb3JjZSB0cnV0aHkgaW4gY2FzZSB3ZSBhcmUgb24gbm9uIGlucHV0IGVsZW1lbnRcblxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5yZXF1aXJlZCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm4gIWF0dHIucmVxdWlyZWQgfHwgIWN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKTtcbiAgICAgIH07XG5cbiAgICAgIGF0dHIuJG9ic2VydmUoJ3JlcXVpcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuXG5cbnZhciBwYXR0ZXJuRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuXG4gICAgICB2YXIgcmVnZXhwLCBwYXR0ZXJuRXhwID0gYXR0ci5uZ1BhdHRlcm4gfHwgYXR0ci5wYXR0ZXJuO1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgncGF0dGVybicsIGZ1bmN0aW9uKHJlZ2V4KSB7XG4gICAgICAgIGlmIChpc1N0cmluZyhyZWdleCkgJiYgcmVnZXgubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgKyByZWdleCArICckJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVnZXggJiYgIXJlZ2V4LnRlc3QpIHtcbiAgICAgICAgICB0aHJvdyBtaW5FcnIoJ25nUGF0dGVybicpKCdub3JlZ2V4cCcsXG4gICAgICAgICAgICAnRXhwZWN0ZWQgezB9IHRvIGJlIGEgUmVnRXhwIGJ1dCB3YXMgezF9LiBFbGVtZW50OiB7Mn0nLCBwYXR0ZXJuRXhwLFxuICAgICAgICAgICAgcmVnZXgsIHN0YXJ0aW5nVGFnKGVsbSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnZXhwID0gcmVnZXggfHwgdW5kZWZpbmVkO1xuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMucGF0dGVybiA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICAvLyBIVE1MNSBwYXR0ZXJuIGNvbnN0cmFpbnQgdmFsaWRhdGVzIHRoZSBpbnB1dCB2YWx1ZSwgc28gd2UgdmFsaWRhdGUgdGhlIHZpZXdWYWx1ZVxuICAgICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8IGlzVW5kZWZpbmVkKHJlZ2V4cCkgfHwgcmVnZXhwLnRlc3Qodmlld1ZhbHVlKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuXG52YXIgbWF4bGVuZ3RoRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuXG4gICAgICB2YXIgbWF4bGVuZ3RoID0gLTE7XG4gICAgICBhdHRyLiRvYnNlcnZlKCdtYXhsZW5ndGgnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgaW50VmFsID0gdG9JbnQodmFsdWUpO1xuICAgICAgICBtYXhsZW5ndGggPSBpc05hTihpbnRWYWwpID8gLTEgOiBpbnRWYWw7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4bGVuZ3RoID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiAobWF4bGVuZ3RoIDwgMCkgfHwgY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8ICh2aWV3VmFsdWUubGVuZ3RoIDw9IG1heGxlbmd0aCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBtaW5sZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciBtaW5sZW5ndGggPSAwO1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWlubGVuZ3RoJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgbWlubGVuZ3RoID0gdG9JbnQodmFsdWUpIHx8IDA7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWlubGVuZ3RoID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgdmlld1ZhbHVlLmxlbmd0aCA+PSBtaW5sZW5ndGg7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbmlmICh3aW5kb3cuYW5ndWxhci5ib290c3RyYXApIHtcbiAgLy9Bbmd1bGFySlMgaXMgYWxyZWFkeSBsb2FkZWQsIHNvIHdlIGNhbiByZXR1cm4gaGVyZS4uLlxuICBjb25zb2xlLmxvZygnV0FSTklORzogVHJpZWQgdG8gbG9hZCBhbmd1bGFyIG1vcmUgdGhhbiBvbmNlLicpO1xuICByZXR1cm47XG59XG5cbi8vdHJ5IHRvIGJpbmQgdG8ganF1ZXJ5IG5vdyBzbyB0aGF0IG9uZSBjYW4gd3JpdGUganFMaXRlKGRvY3VtZW50KS5yZWFkeSgpXG4vL2J1dCB3ZSB3aWxsIHJlYmluZCBvbiBib290c3RyYXAgYWdhaW4uXG5iaW5kSlF1ZXJ5KCk7XG5cbnB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKTtcblxuYW5ndWxhci5tb2R1bGUoXCJuZ0xvY2FsZVwiLCBbXSwgW1wiJHByb3ZpZGVcIiwgZnVuY3Rpb24oJHByb3ZpZGUpIHtcbnZhciBQTFVSQUxfQ0FURUdPUlkgPSB7WkVSTzogXCJ6ZXJvXCIsIE9ORTogXCJvbmVcIiwgVFdPOiBcInR3b1wiLCBGRVc6IFwiZmV3XCIsIE1BTlk6IFwibWFueVwiLCBPVEhFUjogXCJvdGhlclwifTtcbmZ1bmN0aW9uIGdldERlY2ltYWxzKG4pIHtcbiAgbiA9IG4gKyAnJztcbiAgdmFyIGkgPSBuLmluZGV4T2YoJy4nKTtcbiAgcmV0dXJuIChpID09IC0xKSA/IDAgOiBuLmxlbmd0aCAtIGkgLSAxO1xufVxuXG5mdW5jdGlvbiBnZXRWRihuLCBvcHRfcHJlY2lzaW9uKSB7XG4gIHZhciB2ID0gb3B0X3ByZWNpc2lvbjtcblxuICBpZiAodW5kZWZpbmVkID09PSB2KSB7XG4gICAgdiA9IE1hdGgubWluKGdldERlY2ltYWxzKG4pLCAzKTtcbiAgfVxuXG4gIHZhciBiYXNlID0gTWF0aC5wb3coMTAsIHYpO1xuICB2YXIgZiA9ICgobiAqIGJhc2UpIHwgMCkgJSBiYXNlO1xuICByZXR1cm4ge3Y6IHYsIGY6IGZ9O1xufVxuXG4kcHJvdmlkZS52YWx1ZShcIiRsb2NhbGVcIiwge1xuICBcIkRBVEVUSU1FX0ZPUk1BVFNcIjoge1xuICAgIFwiQU1QTVNcIjogW1xuICAgICAgXCJBTVwiLFxuICAgICAgXCJQTVwiXG4gICAgXSxcbiAgICBcIkRBWVwiOiBbXG4gICAgICBcIlN1bmRheVwiLFxuICAgICAgXCJNb25kYXlcIixcbiAgICAgIFwiVHVlc2RheVwiLFxuICAgICAgXCJXZWRuZXNkYXlcIixcbiAgICAgIFwiVGh1cnNkYXlcIixcbiAgICAgIFwiRnJpZGF5XCIsXG4gICAgICBcIlNhdHVyZGF5XCJcbiAgICBdLFxuICAgIFwiRVJBTkFNRVNcIjogW1xuICAgICAgXCJCZWZvcmUgQ2hyaXN0XCIsXG4gICAgICBcIkFubm8gRG9taW5pXCJcbiAgICBdLFxuICAgIFwiRVJBU1wiOiBbXG4gICAgICBcIkJDXCIsXG4gICAgICBcIkFEXCJcbiAgICBdLFxuICAgIFwiRklSU1REQVlPRldFRUtcIjogNixcbiAgICBcIk1PTlRIXCI6IFtcbiAgICAgIFwiSmFudWFyeVwiLFxuICAgICAgXCJGZWJydWFyeVwiLFxuICAgICAgXCJNYXJjaFwiLFxuICAgICAgXCJBcHJpbFwiLFxuICAgICAgXCJNYXlcIixcbiAgICAgIFwiSnVuZVwiLFxuICAgICAgXCJKdWx5XCIsXG4gICAgICBcIkF1Z3VzdFwiLFxuICAgICAgXCJTZXB0ZW1iZXJcIixcbiAgICAgIFwiT2N0b2JlclwiLFxuICAgICAgXCJOb3ZlbWJlclwiLFxuICAgICAgXCJEZWNlbWJlclwiXG4gICAgXSxcbiAgICBcIlNIT1JUREFZXCI6IFtcbiAgICAgIFwiU3VuXCIsXG4gICAgICBcIk1vblwiLFxuICAgICAgXCJUdWVcIixcbiAgICAgIFwiV2VkXCIsXG4gICAgICBcIlRodVwiLFxuICAgICAgXCJGcmlcIixcbiAgICAgIFwiU2F0XCJcbiAgICBdLFxuICAgIFwiU0hPUlRNT05USFwiOiBbXG4gICAgICBcIkphblwiLFxuICAgICAgXCJGZWJcIixcbiAgICAgIFwiTWFyXCIsXG4gICAgICBcIkFwclwiLFxuICAgICAgXCJNYXlcIixcbiAgICAgIFwiSnVuXCIsXG4gICAgICBcIkp1bFwiLFxuICAgICAgXCJBdWdcIixcbiAgICAgIFwiU2VwXCIsXG4gICAgICBcIk9jdFwiLFxuICAgICAgXCJOb3ZcIixcbiAgICAgIFwiRGVjXCJcbiAgICBdLFxuICAgIFwiV0VFS0VORFJBTkdFXCI6IFtcbiAgICAgIDUsXG4gICAgICA2XG4gICAgXSxcbiAgICBcImZ1bGxEYXRlXCI6IFwiRUVFRSwgTU1NTSBkLCB5XCIsXG4gICAgXCJsb25nRGF0ZVwiOiBcIk1NTU0gZCwgeVwiLFxuICAgIFwibWVkaXVtXCI6IFwiTU1NIGQsIHkgaDptbTpzcyBhXCIsXG4gICAgXCJtZWRpdW1EYXRlXCI6IFwiTU1NIGQsIHlcIixcbiAgICBcIm1lZGl1bVRpbWVcIjogXCJoOm1tOnNzIGFcIixcbiAgICBcInNob3J0XCI6IFwiTS9kL3l5IGg6bW0gYVwiLFxuICAgIFwic2hvcnREYXRlXCI6IFwiTS9kL3l5XCIsXG4gICAgXCJzaG9ydFRpbWVcIjogXCJoOm1tIGFcIlxuICB9LFxuICBcIk5VTUJFUl9GT1JNQVRTXCI6IHtcbiAgICBcIkNVUlJFTkNZX1NZTVwiOiBcIiRcIixcbiAgICBcIkRFQ0lNQUxfU0VQXCI6IFwiLlwiLFxuICAgIFwiR1JPVVBfU0VQXCI6IFwiLFwiLFxuICAgIFwiUEFUVEVSTlNcIjogW1xuICAgICAge1xuICAgICAgICBcImdTaXplXCI6IDMsXG4gICAgICAgIFwibGdTaXplXCI6IDMsXG4gICAgICAgIFwibWF4RnJhY1wiOiAzLFxuICAgICAgICBcIm1pbkZyYWNcIjogMCxcbiAgICAgICAgXCJtaW5JbnRcIjogMSxcbiAgICAgICAgXCJuZWdQcmVcIjogXCItXCIsXG4gICAgICAgIFwibmVnU3VmXCI6IFwiXCIsXG4gICAgICAgIFwicG9zUHJlXCI6IFwiXCIsXG4gICAgICAgIFwicG9zU3VmXCI6IFwiXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwiZ1NpemVcIjogMyxcbiAgICAgICAgXCJsZ1NpemVcIjogMyxcbiAgICAgICAgXCJtYXhGcmFjXCI6IDIsXG4gICAgICAgIFwibWluRnJhY1wiOiAyLFxuICAgICAgICBcIm1pbkludFwiOiAxLFxuICAgICAgICBcIm5lZ1ByZVwiOiBcIi1cXHUwMGE0XCIsXG4gICAgICAgIFwibmVnU3VmXCI6IFwiXCIsXG4gICAgICAgIFwicG9zUHJlXCI6IFwiXFx1MDBhNFwiLFxuICAgICAgICBcInBvc1N1ZlwiOiBcIlwiXG4gICAgICB9XG4gICAgXVxuICB9LFxuICBcImlkXCI6IFwiZW4tdXNcIixcbiAgXCJwbHVyYWxDYXRcIjogZnVuY3Rpb24obiwgb3B0X3ByZWNpc2lvbikgeyAgdmFyIGkgPSBuIHwgMDsgIHZhciB2ZiA9IGdldFZGKG4sIG9wdF9wcmVjaXNpb24pOyAgaWYgKGkgPT0gMSAmJiB2Zi52ID09IDApIHsgICAgcmV0dXJuIFBMVVJBTF9DQVRFR09SWS5PTkU7ICB9ICByZXR1cm4gUExVUkFMX0NBVEVHT1JZLk9USEVSO31cbn0pO1xufV0pO1xuXG4gIGpxTGl0ZShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgYW5ndWxhckluaXQoZG9jdW1lbnQsIGJvb3RzdHJhcCk7XG4gIH0pO1xuXG59KSh3aW5kb3csIGRvY3VtZW50KTtcblxuIXdpbmRvdy5hbmd1bGFyLiQkY3NwKCkubm9JbmxpbmVTdHlsZSAmJiB3aW5kb3cuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmhlYWQpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5AY2hhcnNldCBcIlVURi04XCI7W25nXFxcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSl7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fW5nXFxcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fS5uZy1hbmltYXRlLXNoaW17dmlzaWJpbGl0eTpoaWRkZW47fS5uZy1hbmNob3J7cG9zaXRpb246YWJzb2x1dGU7fTwvc3R5bGU+Jyk7IiwiLyoqXG4gKiBAbGljZW5zZSBBbmd1bGFySlMgdjEuNC44XG4gKiAoYykgMjAxMC0yMDE1IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuICogTGljZW5zZTogTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xudmFyIG5vb3AgICAgICAgID0gYW5ndWxhci5ub29wO1xudmFyIGV4dGVuZCAgICAgID0gYW5ndWxhci5leHRlbmQ7XG52YXIganFMaXRlICAgICAgPSBhbmd1bGFyLmVsZW1lbnQ7XG52YXIgZm9yRWFjaCAgICAgPSBhbmd1bGFyLmZvckVhY2g7XG52YXIgaXNBcnJheSAgICAgPSBhbmd1bGFyLmlzQXJyYXk7XG52YXIgaXNTdHJpbmcgICAgPSBhbmd1bGFyLmlzU3RyaW5nO1xudmFyIGlzT2JqZWN0ICAgID0gYW5ndWxhci5pc09iamVjdDtcbnZhciBpc1VuZGVmaW5lZCA9IGFuZ3VsYXIuaXNVbmRlZmluZWQ7XG52YXIgaXNEZWZpbmVkICAgPSBhbmd1bGFyLmlzRGVmaW5lZDtcbnZhciBpc0Z1bmN0aW9uICA9IGFuZ3VsYXIuaXNGdW5jdGlvbjtcbnZhciBpc0VsZW1lbnQgICA9IGFuZ3VsYXIuaXNFbGVtZW50O1xuXG52YXIgRUxFTUVOVF9OT0RFID0gMTtcbnZhciBDT01NRU5UX05PREUgPSA4O1xuXG52YXIgQUREX0NMQVNTX1NVRkZJWCA9ICctYWRkJztcbnZhciBSRU1PVkVfQ0xBU1NfU1VGRklYID0gJy1yZW1vdmUnO1xudmFyIEVWRU5UX0NMQVNTX1BSRUZJWCA9ICduZy0nO1xudmFyIEFDVElWRV9DTEFTU19TVUZGSVggPSAnLWFjdGl2ZSc7XG5cbnZhciBOR19BTklNQVRFX0NMQVNTTkFNRSA9ICduZy1hbmltYXRlJztcbnZhciBOR19BTklNQVRFX0NISUxEUkVOX0RBVEEgPSAnJCRuZ0FuaW1hdGVDaGlsZHJlbic7XG5cbi8vIERldGVjdCBwcm9wZXIgdHJhbnNpdGlvbmVuZC9hbmltYXRpb25lbmQgZXZlbnQgbmFtZXMuXG52YXIgQ1NTX1BSRUZJWCA9ICcnLCBUUkFOU0lUSU9OX1BST1AsIFRSQU5TSVRJT05FTkRfRVZFTlQsIEFOSU1BVElPTl9QUk9QLCBBTklNQVRJT05FTkRfRVZFTlQ7XG5cbi8vIElmIHVucHJlZml4ZWQgZXZlbnRzIGFyZSBub3Qgc3VwcG9ydGVkIGJ1dCB3ZWJraXQtcHJlZml4ZWQgYXJlLCB1c2UgdGhlIGxhdHRlci5cbi8vIE90aGVyd2lzZSwganVzdCB1c2UgVzNDIG5hbWVzLCBicm93c2VycyBub3Qgc3VwcG9ydGluZyB0aGVtIGF0IGFsbCB3aWxsIGp1c3QgaWdub3JlIHRoZW0uXG4vLyBOb3RlOiBDaHJvbWUgaW1wbGVtZW50cyBgd2luZG93Lm9ud2Via2l0YW5pbWF0aW9uZW5kYCBhbmQgZG9lc24ndCBpbXBsZW1lbnQgYHdpbmRvdy5vbmFuaW1hdGlvbmVuZGBcbi8vIGJ1dCBhdCB0aGUgc2FtZSB0aW1lIGRpc3BhdGNoZXMgdGhlIGBhbmltYXRpb25lbmRgIGV2ZW50IGFuZCBub3QgYHdlYmtpdEFuaW1hdGlvbkVuZGAuXG4vLyBSZWdpc3RlciBib3RoIGV2ZW50cyBpbiBjYXNlIGB3aW5kb3cub25hbmltYXRpb25lbmRgIGlzIG5vdCBzdXBwb3J0ZWQgYmVjYXVzZSBvZiB0aGF0LFxuLy8gZG8gdGhlIHNhbWUgZm9yIGB0cmFuc2l0aW9uZW5kYCBhcyBTYWZhcmkgaXMgbGlrZWx5IHRvIGV4aGliaXQgc2ltaWxhciBiZWhhdmlvci5cbi8vIEFsc28sIHRoZSBvbmx5IG1vZGVybiBicm93c2VyIHRoYXQgdXNlcyB2ZW5kb3IgcHJlZml4ZXMgZm9yIHRyYW5zaXRpb25zL2tleWZyYW1lcyBpcyB3ZWJraXRcbi8vIHRoZXJlZm9yZSB0aGVyZSBpcyBubyByZWFzb24gdG8gdGVzdCBhbnltb3JlIGZvciBvdGhlciB2ZW5kb3IgcHJlZml4ZXM6XG4vLyBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD10cmFuc2l0aW9uXG5pZiAoaXNVbmRlZmluZWQod2luZG93Lm9udHJhbnNpdGlvbmVuZCkgJiYgaXNEZWZpbmVkKHdpbmRvdy5vbndlYmtpdHRyYW5zaXRpb25lbmQpKSB7XG4gIENTU19QUkVGSVggPSAnLXdlYmtpdC0nO1xuICBUUkFOU0lUSU9OX1BST1AgPSAnV2Via2l0VHJhbnNpdGlvbic7XG4gIFRSQU5TSVRJT05FTkRfRVZFTlQgPSAnd2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kJztcbn0gZWxzZSB7XG4gIFRSQU5TSVRJT05fUFJPUCA9ICd0cmFuc2l0aW9uJztcbiAgVFJBTlNJVElPTkVORF9FVkVOVCA9ICd0cmFuc2l0aW9uZW5kJztcbn1cblxuaWYgKGlzVW5kZWZpbmVkKHdpbmRvdy5vbmFuaW1hdGlvbmVuZCkgJiYgaXNEZWZpbmVkKHdpbmRvdy5vbndlYmtpdGFuaW1hdGlvbmVuZCkpIHtcbiAgQ1NTX1BSRUZJWCA9ICctd2Via2l0LSc7XG4gIEFOSU1BVElPTl9QUk9QID0gJ1dlYmtpdEFuaW1hdGlvbic7XG4gIEFOSU1BVElPTkVORF9FVkVOVCA9ICd3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kJztcbn0gZWxzZSB7XG4gIEFOSU1BVElPTl9QUk9QID0gJ2FuaW1hdGlvbic7XG4gIEFOSU1BVElPTkVORF9FVkVOVCA9ICdhbmltYXRpb25lbmQnO1xufVxuXG52YXIgRFVSQVRJT05fS0VZID0gJ0R1cmF0aW9uJztcbnZhciBQUk9QRVJUWV9LRVkgPSAnUHJvcGVydHknO1xudmFyIERFTEFZX0tFWSA9ICdEZWxheSc7XG52YXIgVElNSU5HX0tFWSA9ICdUaW1pbmdGdW5jdGlvbic7XG52YXIgQU5JTUFUSU9OX0lURVJBVElPTl9DT1VOVF9LRVkgPSAnSXRlcmF0aW9uQ291bnQnO1xudmFyIEFOSU1BVElPTl9QTEFZU1RBVEVfS0VZID0gJ1BsYXlTdGF0ZSc7XG52YXIgU0FGRV9GQVNUX0ZPUldBUkRfRFVSQVRJT05fVkFMVUUgPSA5OTk5O1xuXG52YXIgQU5JTUFUSU9OX0RFTEFZX1BST1AgPSBBTklNQVRJT05fUFJPUCArIERFTEFZX0tFWTtcbnZhciBBTklNQVRJT05fRFVSQVRJT05fUFJPUCA9IEFOSU1BVElPTl9QUk9QICsgRFVSQVRJT05fS0VZO1xudmFyIFRSQU5TSVRJT05fREVMQVlfUFJPUCA9IFRSQU5TSVRJT05fUFJPUCArIERFTEFZX0tFWTtcbnZhciBUUkFOU0lUSU9OX0RVUkFUSU9OX1BST1AgPSBUUkFOU0lUSU9OX1BST1AgKyBEVVJBVElPTl9LRVk7XG5cbnZhciBpc1Byb21pc2VMaWtlID0gZnVuY3Rpb24ocCkge1xuICByZXR1cm4gcCAmJiBwLnRoZW4gPyB0cnVlIDogZmFsc2U7XG59O1xuXG5mdW5jdGlvbiBhc3NlcnRBcmcoYXJnLCBuYW1lLCByZWFzb24pIHtcbiAgaWYgKCFhcmcpIHtcbiAgICB0aHJvdyBuZ01pbkVycignYXJlcScsIFwiQXJndW1lbnQgJ3swfScgaXMgezF9XCIsIChuYW1lIHx8ICc/JyksIChyZWFzb24gfHwgXCJyZXF1aXJlZFwiKSk7XG4gIH1cbiAgcmV0dXJuIGFyZztcbn1cblxuZnVuY3Rpb24gbWVyZ2VDbGFzc2VzKGEsYikge1xuICBpZiAoIWEgJiYgIWIpIHJldHVybiAnJztcbiAgaWYgKCFhKSByZXR1cm4gYjtcbiAgaWYgKCFiKSByZXR1cm4gYTtcbiAgaWYgKGlzQXJyYXkoYSkpIGEgPSBhLmpvaW4oJyAnKTtcbiAgaWYgKGlzQXJyYXkoYikpIGIgPSBiLmpvaW4oJyAnKTtcbiAgcmV0dXJuIGEgKyAnICcgKyBiO1xufVxuXG5mdW5jdGlvbiBwYWNrYWdlU3R5bGVzKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlcyA9IHt9O1xuICBpZiAob3B0aW9ucyAmJiAob3B0aW9ucy50byB8fCBvcHRpb25zLmZyb20pKSB7XG4gICAgc3R5bGVzLnRvID0gb3B0aW9ucy50bztcbiAgICBzdHlsZXMuZnJvbSA9IG9wdGlvbnMuZnJvbTtcbiAgfVxuICByZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBwZW5kQ2xhc3NlcyhjbGFzc2VzLCBmaXgsIGlzUHJlZml4KSB7XG4gIHZhciBjbGFzc05hbWUgPSAnJztcbiAgY2xhc3NlcyA9IGlzQXJyYXkoY2xhc3NlcylcbiAgICAgID8gY2xhc3Nlc1xuICAgICAgOiBjbGFzc2VzICYmIGlzU3RyaW5nKGNsYXNzZXMpICYmIGNsYXNzZXMubGVuZ3RoXG4gICAgICAgICAgPyBjbGFzc2VzLnNwbGl0KC9cXHMrLylcbiAgICAgICAgICA6IFtdO1xuICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGtsYXNzLCBpKSB7XG4gICAgaWYgKGtsYXNzICYmIGtsYXNzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNsYXNzTmFtZSArPSAoaSA+IDApID8gJyAnIDogJyc7XG4gICAgICBjbGFzc05hbWUgKz0gaXNQcmVmaXggPyBmaXggKyBrbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoga2xhc3MgKyBmaXg7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNsYXNzTmFtZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRnJvbUFycmF5KGFyciwgdmFsKSB7XG4gIHZhciBpbmRleCA9IGFyci5pbmRleE9mKHZhbCk7XG4gIGlmICh2YWwgPj0gMCkge1xuICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YganFMaXRlKSB7XG4gICAgc3dpdGNoIChlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIC8vIHRoZXJlIGlzIG5vIHBvaW50IG9mIHN0cmlwcGluZyBhbnl0aGluZyBpZiB0aGUgZWxlbWVudFxuICAgICAgICAvLyBpcyB0aGUgb25seSBlbGVtZW50IHdpdGhpbiB0aGUganFMaXRlIHdyYXBwZXIuXG4gICAgICAgIC8vIChpdCdzIGltcG9ydGFudCB0aGF0IHdlIHJldGFpbiB0aGUgZWxlbWVudCBpbnN0YW5jZS4pXG4gICAgICAgIGlmIChlbGVtZW50WzBdLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGpxTGl0ZShleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCkpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgcmV0dXJuIGpxTGl0ZShlbGVtZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnRbMF0pIHJldHVybiBlbGVtZW50O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnQubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZWxtID0gZWxlbWVudFtpXTtcbiAgICBpZiAoZWxtLm5vZGVUeXBlID09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgcmV0dXJuIGVsbTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gJCRhZGRDbGFzcygkJGpxTGl0ZSwgZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxtKSB7XG4gICAgJCRqcUxpdGUuYWRkQ2xhc3MoZWxtLCBjbGFzc05hbWUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gJCRyZW1vdmVDbGFzcygkJGpxTGl0ZSwgZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxtKSB7XG4gICAgJCRqcUxpdGUucmVtb3ZlQ2xhc3MoZWxtLCBjbGFzc05hbWUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXBwbHlBbmltYXRpb25DbGFzc2VzRmFjdG9yeSgkJGpxTGl0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmFkZENsYXNzKSB7XG4gICAgICAkJGFkZENsYXNzKCQkanFMaXRlLCBlbGVtZW50LCBvcHRpb25zLmFkZENsYXNzKTtcbiAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBudWxsO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5yZW1vdmVDbGFzcykge1xuICAgICAgJCRyZW1vdmVDbGFzcygkJGpxTGl0ZSwgZWxlbWVudCwgb3B0aW9ucy5yZW1vdmVDbGFzcyk7XG4gICAgICBvcHRpb25zLnJlbW92ZUNsYXNzID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcGFyZUFuaW1hdGlvbk9wdGlvbnMob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKCFvcHRpb25zLiQkcHJlcGFyZWQpIHtcbiAgICB2YXIgZG9tT3BlcmF0aW9uID0gb3B0aW9ucy5kb21PcGVyYXRpb24gfHwgbm9vcDtcbiAgICBvcHRpb25zLmRvbU9wZXJhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgb3B0aW9ucy4kJGRvbU9wZXJhdGlvbkZpcmVkID0gdHJ1ZTtcbiAgICAgIGRvbU9wZXJhdGlvbigpO1xuICAgICAgZG9tT3BlcmF0aW9uID0gbm9vcDtcbiAgICB9O1xuICAgIG9wdGlvbnMuJCRwcmVwYXJlZCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIGFwcGx5QW5pbWF0aW9uU3R5bGVzKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgYXBwbHlBbmltYXRpb25Gcm9tU3R5bGVzKGVsZW1lbnQsIG9wdGlvbnMpO1xuICBhcHBseUFuaW1hdGlvblRvU3R5bGVzKGVsZW1lbnQsIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBhcHBseUFuaW1hdGlvbkZyb21TdHlsZXMoZWxlbWVudCwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucy5mcm9tKSB7XG4gICAgZWxlbWVudC5jc3Mob3B0aW9ucy5mcm9tKTtcbiAgICBvcHRpb25zLmZyb20gPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5QW5pbWF0aW9uVG9TdHlsZXMoZWxlbWVudCwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucy50bykge1xuICAgIGVsZW1lbnQuY3NzKG9wdGlvbnMudG8pO1xuICAgIG9wdGlvbnMudG8gPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1lcmdlQW5pbWF0aW9uT3B0aW9ucyhlbGVtZW50LCB0YXJnZXQsIG5ld09wdGlvbnMpIHtcbiAgdmFyIHRvQWRkID0gKHRhcmdldC5hZGRDbGFzcyB8fCAnJykgKyAnICcgKyAobmV3T3B0aW9ucy5hZGRDbGFzcyB8fCAnJyk7XG4gIHZhciB0b1JlbW92ZSA9ICh0YXJnZXQucmVtb3ZlQ2xhc3MgfHwgJycpICsgJyAnICsgKG5ld09wdGlvbnMucmVtb3ZlQ2xhc3MgfHwgJycpO1xuICB2YXIgY2xhc3NlcyA9IHJlc29sdmVFbGVtZW50Q2xhc3NlcyhlbGVtZW50LmF0dHIoJ2NsYXNzJyksIHRvQWRkLCB0b1JlbW92ZSk7XG5cbiAgaWYgKG5ld09wdGlvbnMucHJlcGFyYXRpb25DbGFzc2VzKSB7XG4gICAgdGFyZ2V0LnByZXBhcmF0aW9uQ2xhc3NlcyA9IGNvbmNhdFdpdGhTcGFjZShuZXdPcHRpb25zLnByZXBhcmF0aW9uQ2xhc3NlcywgdGFyZ2V0LnByZXBhcmF0aW9uQ2xhc3Nlcyk7XG4gICAgZGVsZXRlIG5ld09wdGlvbnMucHJlcGFyYXRpb25DbGFzc2VzO1xuICB9XG5cbiAgLy8gbm9vcCBpcyBiYXNpY2FsbHkgd2hlbiB0aGVyZSBpcyBubyBjYWxsYmFjazsgb3RoZXJ3aXNlIHNvbWV0aGluZyBoYXMgYmVlbiBzZXRcbiAgdmFyIHJlYWxEb21PcGVyYXRpb24gPSB0YXJnZXQuZG9tT3BlcmF0aW9uICE9PSBub29wID8gdGFyZ2V0LmRvbU9wZXJhdGlvbiA6IG51bGw7XG5cbiAgZXh0ZW5kKHRhcmdldCwgbmV3T3B0aW9ucyk7XG5cbiAgLy8gVE9ETyhtYXRza28gb3Igc3JlZXJhbXUpOiBwcm9wZXIgZml4IGlzIHRvIG1haW50YWluIGFsbCBhbmltYXRpb24gY2FsbGJhY2sgaW4gYXJyYXkgYW5kIGNhbGwgYXQgbGFzdCxidXQgbm93IG9ubHkgbGVhdmUgaGFzIHRoZSBjYWxsYmFjayBzbyBubyBpc3N1ZSB3aXRoIHRoaXMuXG4gIGlmIChyZWFsRG9tT3BlcmF0aW9uKSB7XG4gICAgdGFyZ2V0LmRvbU9wZXJhdGlvbiA9IHJlYWxEb21PcGVyYXRpb247XG4gIH1cblxuICBpZiAoY2xhc3Nlcy5hZGRDbGFzcykge1xuICAgIHRhcmdldC5hZGRDbGFzcyA9IGNsYXNzZXMuYWRkQ2xhc3M7XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0LmFkZENsYXNzID0gbnVsbDtcbiAgfVxuXG4gIGlmIChjbGFzc2VzLnJlbW92ZUNsYXNzKSB7XG4gICAgdGFyZ2V0LnJlbW92ZUNsYXNzID0gY2xhc3Nlcy5yZW1vdmVDbGFzcztcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQucmVtb3ZlQ2xhc3MgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUVsZW1lbnRDbGFzc2VzKGV4aXN0aW5nLCB0b0FkZCwgdG9SZW1vdmUpIHtcbiAgdmFyIEFERF9DTEFTUyA9IDE7XG4gIHZhciBSRU1PVkVfQ0xBU1MgPSAtMTtcblxuICB2YXIgZmxhZ3MgPSB7fTtcbiAgZXhpc3RpbmcgPSBzcGxpdENsYXNzZXNUb0xvb2t1cChleGlzdGluZyk7XG5cbiAgdG9BZGQgPSBzcGxpdENsYXNzZXNUb0xvb2t1cCh0b0FkZCk7XG4gIGZvckVhY2godG9BZGQsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBmbGFnc1trZXldID0gQUREX0NMQVNTO1xuICB9KTtcblxuICB0b1JlbW92ZSA9IHNwbGl0Q2xhc3Nlc1RvTG9va3VwKHRvUmVtb3ZlKTtcbiAgZm9yRWFjaCh0b1JlbW92ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGZsYWdzW2tleV0gPSBmbGFnc1trZXldID09PSBBRERfQ0xBU1MgPyBudWxsIDogUkVNT1ZFX0NMQVNTO1xuICB9KTtcblxuICB2YXIgY2xhc3NlcyA9IHtcbiAgICBhZGRDbGFzczogJycsXG4gICAgcmVtb3ZlQ2xhc3M6ICcnXG4gIH07XG5cbiAgZm9yRWFjaChmbGFncywgZnVuY3Rpb24odmFsLCBrbGFzcykge1xuICAgIHZhciBwcm9wLCBhbGxvdztcbiAgICBpZiAodmFsID09PSBBRERfQ0xBU1MpIHtcbiAgICAgIHByb3AgPSAnYWRkQ2xhc3MnO1xuICAgICAgYWxsb3cgPSAhZXhpc3Rpbmdba2xhc3NdO1xuICAgIH0gZWxzZSBpZiAodmFsID09PSBSRU1PVkVfQ0xBU1MpIHtcbiAgICAgIHByb3AgPSAncmVtb3ZlQ2xhc3MnO1xuICAgICAgYWxsb3cgPSBleGlzdGluZ1trbGFzc107XG4gICAgfVxuICAgIGlmIChhbGxvdykge1xuICAgICAgaWYgKGNsYXNzZXNbcHJvcF0ubGVuZ3RoKSB7XG4gICAgICAgIGNsYXNzZXNbcHJvcF0gKz0gJyAnO1xuICAgICAgfVxuICAgICAgY2xhc3Nlc1twcm9wXSArPSBrbGFzcztcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNwbGl0Q2xhc3Nlc1RvTG9va3VwKGNsYXNzZXMpIHtcbiAgICBpZiAoaXNTdHJpbmcoY2xhc3NlcykpIHtcbiAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLnNwbGl0KCcgJyk7XG4gICAgfVxuXG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oa2xhc3MpIHtcbiAgICAgIC8vIHNvbWV0aW1lcyB0aGUgc3BsaXQgbGVhdmVzIGVtcHR5IHN0cmluZyB2YWx1ZXNcbiAgICAgIC8vIGluY2FzZSBleHRyYSBzcGFjZXMgd2VyZSBhcHBsaWVkIHRvIHRoZSBvcHRpb25zXG4gICAgICBpZiAoa2xhc3MubGVuZ3RoKSB7XG4gICAgICAgIG9ialtrbGFzc10gPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gY2xhc3Nlcztcbn1cblxuZnVuY3Rpb24gZ2V0RG9tTm9kZShlbGVtZW50KSB7XG4gIHJldHVybiAoZWxlbWVudCBpbnN0YW5jZW9mIGFuZ3VsYXIuZWxlbWVudCkgPyBlbGVtZW50WzBdIDogZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gYXBwbHlHZW5lcmF0ZWRQcmVwYXJhdGlvbkNsYXNzZXMoZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMpIHtcbiAgdmFyIGNsYXNzZXMgPSAnJztcbiAgaWYgKGV2ZW50KSB7XG4gICAgY2xhc3NlcyA9IHBlbmRDbGFzc2VzKGV2ZW50LCBFVkVOVF9DTEFTU19QUkVGSVgsIHRydWUpO1xuICB9XG4gIGlmIChvcHRpb25zLmFkZENsYXNzKSB7XG4gICAgY2xhc3NlcyA9IGNvbmNhdFdpdGhTcGFjZShjbGFzc2VzLCBwZW5kQ2xhc3NlcyhvcHRpb25zLmFkZENsYXNzLCBBRERfQ0xBU1NfU1VGRklYKSk7XG4gIH1cbiAgaWYgKG9wdGlvbnMucmVtb3ZlQ2xhc3MpIHtcbiAgICBjbGFzc2VzID0gY29uY2F0V2l0aFNwYWNlKGNsYXNzZXMsIHBlbmRDbGFzc2VzKG9wdGlvbnMucmVtb3ZlQ2xhc3MsIFJFTU9WRV9DTEFTU19TVUZGSVgpKTtcbiAgfVxuICBpZiAoY2xhc3Nlcy5sZW5ndGgpIHtcbiAgICBvcHRpb25zLnByZXBhcmF0aW9uQ2xhc3NlcyA9IGNsYXNzZXM7XG4gICAgZWxlbWVudC5hZGRDbGFzcyhjbGFzc2VzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhckdlbmVyYXRlZENsYXNzZXMoZWxlbWVudCwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucy5wcmVwYXJhdGlvbkNsYXNzZXMpIHtcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKG9wdGlvbnMucHJlcGFyYXRpb25DbGFzc2VzKTtcbiAgICBvcHRpb25zLnByZXBhcmF0aW9uQ2xhc3NlcyA9IG51bGw7XG4gIH1cbiAgaWYgKG9wdGlvbnMuYWN0aXZlQ2xhc3Nlcykge1xuICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3Mob3B0aW9ucy5hY3RpdmVDbGFzc2VzKTtcbiAgICBvcHRpb25zLmFjdGl2ZUNsYXNzZXMgPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJsb2NrVHJhbnNpdGlvbnMobm9kZSwgZHVyYXRpb24pIHtcbiAgLy8gd2UgdXNlIGEgbmVnYXRpdmUgZGVsYXkgdmFsdWUgc2luY2UgaXQgcGVyZm9ybXMgYmxvY2tpbmdcbiAgLy8geWV0IGl0IGRvZXNuJ3Qga2lsbCBhbnkgZXhpc3RpbmcgdHJhbnNpdGlvbnMgcnVubmluZyBvbiB0aGVcbiAgLy8gc2FtZSBlbGVtZW50IHdoaWNoIG1ha2VzIHRoaXMgc2FmZSBmb3IgY2xhc3MtYmFzZWQgYW5pbWF0aW9uc1xuICB2YXIgdmFsdWUgPSBkdXJhdGlvbiA/ICctJyArIGR1cmF0aW9uICsgJ3MnIDogJyc7XG4gIGFwcGx5SW5saW5lU3R5bGUobm9kZSwgW1RSQU5TSVRJT05fREVMQVlfUFJPUCwgdmFsdWVdKTtcbiAgcmV0dXJuIFtUUkFOU0lUSU9OX0RFTEFZX1BST1AsIHZhbHVlXTtcbn1cblxuZnVuY3Rpb24gYmxvY2tLZXlmcmFtZUFuaW1hdGlvbnMobm9kZSwgYXBwbHlCbG9jaykge1xuICB2YXIgdmFsdWUgPSBhcHBseUJsb2NrID8gJ3BhdXNlZCcgOiAnJztcbiAgdmFyIGtleSA9IEFOSU1BVElPTl9QUk9QICsgQU5JTUFUSU9OX1BMQVlTVEFURV9LRVk7XG4gIGFwcGx5SW5saW5lU3R5bGUobm9kZSwgW2tleSwgdmFsdWVdKTtcbiAgcmV0dXJuIFtrZXksIHZhbHVlXTtcbn1cblxuZnVuY3Rpb24gYXBwbHlJbmxpbmVTdHlsZShub2RlLCBzdHlsZVR1cGxlKSB7XG4gIHZhciBwcm9wID0gc3R5bGVUdXBsZVswXTtcbiAgdmFyIHZhbHVlID0gc3R5bGVUdXBsZVsxXTtcbiAgbm9kZS5zdHlsZVtwcm9wXSA9IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjb25jYXRXaXRoU3BhY2UoYSxiKSB7XG4gIGlmICghYSkgcmV0dXJuIGI7XG4gIGlmICghYikgcmV0dXJuIGE7XG4gIHJldHVybiBhICsgJyAnICsgYjtcbn1cblxudmFyICQkckFGU2NoZWR1bGVyRmFjdG9yeSA9IFsnJCRyQUYnLCBmdW5jdGlvbigkJHJBRikge1xuICB2YXIgcXVldWUsIGNhbmNlbEZuO1xuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlcih0YXNrcykge1xuICAgIC8vIHdlIG1ha2UgYSBjb3B5IHNpbmNlIFJBRlNjaGVkdWxlciBtdXRhdGVzIHRoZSBzdGF0ZVxuICAgIC8vIG9mIHRoZSBwYXNzZWQgaW4gYXJyYXkgdmFyaWFibGUgYW5kIHRoaXMgd291bGQgYmUgZGlmZmljdWx0XG4gICAgLy8gdG8gdHJhY2sgZG93biBvbiB0aGUgb3V0c2lkZSBjb2RlXG4gICAgcXVldWUgPSBxdWV1ZS5jb25jYXQodGFza3MpO1xuICAgIG5leHRUaWNrKCk7XG4gIH1cblxuICBxdWV1ZSA9IHNjaGVkdWxlci5xdWV1ZSA9IFtdO1xuXG4gIC8qIHdhaXRVbnRpbFF1aWV0IGRvZXMgdHdvIHRoaW5nczpcbiAgICogMS4gSXQgd2lsbCBydW4gdGhlIEZJTkFMIGBmbmAgdmFsdWUgb25seSB3aGVuIGFuIHVuY2FuY2VsbGVkIFJBRiBoYXMgcGFzc2VkIHRocm91Z2hcbiAgICogMi4gSXQgd2lsbCBkZWxheSB0aGUgbmV4dCB3YXZlIG9mIHRhc2tzIGZyb20gcnVubmluZyB1bnRpbCB0aGUgcXVpZXQgYGZuYCBoYXMgcnVuLlxuICAgKlxuICAgKiBUaGUgbW90aXZhdGlvbiBoZXJlIGlzIHRoYXQgYW5pbWF0aW9uIGNvZGUgY2FuIHJlcXVlc3QgbW9yZSB0aW1lIGZyb20gdGhlIHNjaGVkdWxlclxuICAgKiBiZWZvcmUgdGhlIG5leHQgd2F2ZSBydW5zLiBUaGlzIGFsbG93cyBmb3IgY2VydGFpbiBET00gcHJvcGVydGllcyBzdWNoIGFzIGNsYXNzZXMgdG9cbiAgICogYmUgcmVzb2x2ZWQgaW4gdGltZSBmb3IgdGhlIG5leHQgYW5pbWF0aW9uIHRvIHJ1bi5cbiAgICovXG4gIHNjaGVkdWxlci53YWl0VW50aWxRdWlldCA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgaWYgKGNhbmNlbEZuKSBjYW5jZWxGbigpO1xuXG4gICAgY2FuY2VsRm4gPSAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgIGNhbmNlbEZuID0gbnVsbDtcbiAgICAgIGZuKCk7XG4gICAgICBuZXh0VGljaygpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBzY2hlZHVsZXI7XG5cbiAgZnVuY3Rpb24gbmV4dFRpY2soKSB7XG4gICAgaWYgKCFxdWV1ZS5sZW5ndGgpIHJldHVybjtcblxuICAgIHZhciBpdGVtcyA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaXRlbXNbaV0oKTtcbiAgICB9XG5cbiAgICBpZiAoIWNhbmNlbEZuKSB7XG4gICAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFjYW5jZWxGbikgbmV4dFRpY2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufV07XG5cbnZhciAkJEFuaW1hdGVDaGlsZHJlbkRpcmVjdGl2ZSA9IFtmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgIHZhciB2YWwgPSBhdHRycy5uZ0FuaW1hdGVDaGlsZHJlbjtcbiAgICBpZiAoYW5ndWxhci5pc1N0cmluZyh2YWwpICYmIHZhbC5sZW5ndGggPT09IDApIHsgLy9lbXB0eSBhdHRyaWJ1dGVcbiAgICAgIGVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NISUxEUkVOX0RBVEEsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhdHRycy4kb2JzZXJ2ZSgnbmdBbmltYXRlQ2hpbGRyZW4nLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID09PSAnb24nIHx8IHZhbHVlID09PSAndHJ1ZSc7XG4gICAgICAgIGVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NISUxEUkVOX0RBVEEsIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgQU5JTUFURV9USU1FUl9LRVkgPSAnJCRhbmltYXRlQ3NzJztcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGFuaW1hdGVDc3NcbiAqIEBraW5kIG9iamVjdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGAkYW5pbWF0ZUNzc2Agc2VydmljZSBpcyBhIHVzZWZ1bCB1dGlsaXR5IHRvIHRyaWdnZXIgY3VzdG9taXplZCBDU1MtYmFzZWQgdHJhbnNpdGlvbnMva2V5ZnJhbWVzXG4gKiBmcm9tIGEgSmF2YVNjcmlwdC1iYXNlZCBhbmltYXRpb24gb3IgZGlyZWN0bHkgZnJvbSBhIGRpcmVjdGl2ZS4gVGhlIHB1cnBvc2Ugb2YgYCRhbmltYXRlQ3NzYCBpcyBOT1RcbiAqIHRvIHNpZGUtc3RlcCBob3cgYCRhbmltYXRlYCBhbmQgbmdBbmltYXRlIHdvcmssIGJ1dCB0aGUgZ29hbCBpcyB0byBhbGxvdyBwcmUtZXhpc3RpbmcgYW5pbWF0aW9ucyBvclxuICogZGlyZWN0aXZlcyB0byBjcmVhdGUgbW9yZSBjb21wbGV4IGFuaW1hdGlvbnMgdGhhdCBjYW4gYmUgcHVyZWx5IGRyaXZlbiB1c2luZyBDU1MgY29kZS5cbiAqXG4gKiBOb3RlIHRoYXQgb25seSBicm93c2VycyB0aGF0IHN1cHBvcnQgQ1NTIHRyYW5zaXRpb25zIGFuZC9vciBrZXlmcmFtZSBhbmltYXRpb25zIGFyZSBjYXBhYmxlIG9mXG4gKiByZW5kZXJpbmcgYW5pbWF0aW9ucyB0cmlnZ2VyZWQgdmlhIGAkYW5pbWF0ZUNzc2AgKGJhZCBuZXdzIGZvciBJRTkgYW5kIGxvd2VyKS5cbiAqXG4gKiAjIyBVc2FnZVxuICogT25jZSBhZ2FpbiwgYCRhbmltYXRlQ3NzYCBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIGluc2lkZSBvZiBhIHJlZ2lzdGVyZWQgSmF2YVNjcmlwdCBhbmltYXRpb24gdGhhdFxuICogaXMgcG93ZXJlZCBieSBuZ0FuaW1hdGUuIEl0IGlzIHBvc3NpYmxlIHRvIHVzZSBgJGFuaW1hdGVDc3NgIGRpcmVjdGx5IGluc2lkZSBvZiBhIGRpcmVjdGl2ZSwgaG93ZXZlcixcbiAqIGFueSBhdXRvbWF0aWMgY29udHJvbCBvdmVyIGNhbmNlbGxpbmcgYW5pbWF0aW9ucyBhbmQvb3IgcHJldmVudGluZyBhbmltYXRpb25zIGZyb20gYmVpbmcgcnVuIG9uXG4gKiBjaGlsZCBlbGVtZW50cyB3aWxsIG5vdCBiZSBoYW5kbGVkIGJ5IEFuZ3VsYXIuIEZvciB0aGlzIHRvIHdvcmsgYXMgZXhwZWN0ZWQsIHBsZWFzZSB1c2UgYCRhbmltYXRlYCB0b1xuICogdHJpZ2dlciB0aGUgYW5pbWF0aW9uIGFuZCB0aGVuIHNldHVwIGEgSmF2YVNjcmlwdCBhbmltYXRpb24gdGhhdCBpbmplY3RzIGAkYW5pbWF0ZUNzc2AgdG8gdHJpZ2dlclxuICogdGhlIENTUyBhbmltYXRpb24uXG4gKlxuICogVGhlIGV4YW1wbGUgYmVsb3cgc2hvd3MgaG93IHdlIGNhbiBjcmVhdGUgYSBmb2xkaW5nIGFuaW1hdGlvbiBvbiBhbiBlbGVtZW50IHVzaW5nIGBuZy1pZmA6XG4gKlxuICogYGBgaHRtbFxuICogPCEtLSBub3RpY2UgdGhlIGBmb2xkLWFuaW1hdGlvbmAgQ1NTIGNsYXNzIC0tPlxuICogPGRpdiBuZy1pZj1cIm9uT2ZmXCIgY2xhc3M9XCJmb2xkLWFuaW1hdGlvblwiPlxuICogICBUaGlzIGVsZW1lbnQgd2lsbCBnbyBCT09NXG4gKiA8L2Rpdj5cbiAqIDxidXR0b24gbmctY2xpY2s9XCJvbk9mZj10cnVlXCI+Rm9sZCBJbjwvYnV0dG9uPlxuICogYGBgXG4gKlxuICogTm93IHdlIGNyZWF0ZSB0aGUgKipKYXZhU2NyaXB0IGFuaW1hdGlvbioqIHRoYXQgd2lsbCB0cmlnZ2VyIHRoZSBDU1MgdHJhbnNpdGlvbjpcbiAqXG4gKiBgYGBqc1xuICogbmdNb2R1bGUuYW5pbWF0aW9uKCcuZm9sZC1hbmltYXRpb24nLCBbJyRhbmltYXRlQ3NzJywgZnVuY3Rpb24oJGFuaW1hdGVDc3MpIHtcbiAqICAgcmV0dXJuIHtcbiAqICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgZG9uZUZuKSB7XG4gKiAgICAgICB2YXIgaGVpZ2h0ID0gZWxlbWVudFswXS5vZmZzZXRIZWlnaHQ7XG4gKiAgICAgICByZXR1cm4gJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICogICAgICAgICBmcm9tOiB7IGhlaWdodDonMHB4JyB9LFxuICogICAgICAgICB0bzogeyBoZWlnaHQ6aGVpZ2h0ICsgJ3B4JyB9LFxuICogICAgICAgICBkdXJhdGlvbjogMSAvLyBvbmUgc2Vjb25kXG4gKiAgICAgICB9KTtcbiAqICAgICB9XG4gKiAgIH1cbiAqIH1dKTtcbiAqIGBgYFxuICpcbiAqICMjIE1vcmUgQWR2YW5jZWQgVXNlc1xuICpcbiAqIGAkYW5pbWF0ZUNzc2AgaXMgdGhlIHVuZGVybHlpbmcgY29kZSB0aGF0IG5nQW5pbWF0ZSB1c2VzIHRvIHBvd2VyICoqQ1NTLWJhc2VkIGFuaW1hdGlvbnMqKiBiZWhpbmQgdGhlIHNjZW5lcy4gVGhlcmVmb3JlIENTUyBob29rc1xuICogbGlrZSBgLm5nLUVWRU5UYCwgYC5uZy1FVkVOVC1hY3RpdmVgLCBgLm5nLUVWRU5ULXN0YWdnZXJgIGFyZSBhbGwgZmVhdHVyZXMgdGhhdCBjYW4gYmUgdHJpZ2dlcmVkIHVzaW5nIGAkYW5pbWF0ZUNzc2AgdmlhIEphdmFTY3JpcHQgY29kZS5cbiAqXG4gKiBUaGlzIGFsc28gbWVhbnMgdGhhdCBqdXN0IGFib3V0IGFueSBjb21iaW5hdGlvbiBvZiBhZGRpbmcgY2xhc3NlcywgcmVtb3ZpbmcgY2xhc3Nlcywgc2V0dGluZyBzdHlsZXMsIGR5bmFtaWNhbGx5IHNldHRpbmcgYSBrZXlmcmFtZSBhbmltYXRpb24sXG4gKiBhcHBseWluZyBhIGhhcmRjb2RlZCBkdXJhdGlvbiBvciBkZWxheSB2YWx1ZSwgY2hhbmdpbmcgdGhlIGFuaW1hdGlvbiBlYXNpbmcgb3IgYXBwbHlpbmcgYSBzdGFnZ2VyIGFuaW1hdGlvbiBhcmUgYWxsIG9wdGlvbnMgdGhhdCB3b3JrIHdpdGhcbiAqIGAkYW5pbWF0ZUNzc2AuIFRoZSBzZXJ2aWNlIGl0c2VsZiBpcyBzbWFydCBlbm91Z2ggdG8gZmlndXJlIG91dCB0aGUgY29tYmluYXRpb24gb2Ygb3B0aW9ucyBhbmQgZXhhbWluZSB0aGUgZWxlbWVudCBzdHlsaW5nIHByb3BlcnRpZXMgaW4gb3JkZXJcbiAqIHRvIHByb3ZpZGUgYSB3b3JraW5nIGFuaW1hdGlvbiB0aGF0IHdpbGwgcnVuIGluIENTUy5cbiAqXG4gKiBUaGUgZXhhbXBsZSBiZWxvdyBzaG93Y2FzZXMgYSBtb3JlIGFkdmFuY2VkIHZlcnNpb24gb2YgdGhlIGAuZm9sZC1hbmltYXRpb25gIGZyb20gdGhlIGV4YW1wbGUgYWJvdmU6XG4gKlxuICogYGBganNcbiAqIG5nTW9kdWxlLmFuaW1hdGlvbignLmZvbGQtYW5pbWF0aW9uJywgWyckYW5pbWF0ZUNzcycsIGZ1bmN0aW9uKCRhbmltYXRlQ3NzKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmVGbikge1xuICogICAgICAgdmFyIGhlaWdodCA9IGVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0O1xuICogICAgICAgcmV0dXJuICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAqICAgICAgICAgYWRkQ2xhc3M6ICdyZWQgbGFyZ2UtdGV4dCBwdWxzZS10d2ljZScsXG4gKiAgICAgICAgIGVhc2luZzogJ2Vhc2Utb3V0JyxcbiAqICAgICAgICAgZnJvbTogeyBoZWlnaHQ6JzBweCcgfSxcbiAqICAgICAgICAgdG86IHsgaGVpZ2h0OmhlaWdodCArICdweCcgfSxcbiAqICAgICAgICAgZHVyYXRpb246IDEgLy8gb25lIHNlY29uZFxuICogICAgICAgfSk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XSk7XG4gKiBgYGBcbiAqXG4gKiBTaW5jZSB3ZSdyZSBhZGRpbmcvcmVtb3ZpbmcgQ1NTIGNsYXNzZXMgdGhlbiB0aGUgQ1NTIHRyYW5zaXRpb24gd2lsbCBhbHNvIHBpY2sgdGhvc2UgdXA6XG4gKlxuICogYGBgY3NzXG4gKiAvJiM0Mjsgc2luY2UgYSBoYXJkY29kZWQgZHVyYXRpb24gdmFsdWUgb2YgMSB3YXMgcHJvdmlkZWQgaW4gdGhlIEphdmFTY3JpcHQgYW5pbWF0aW9uIGNvZGUsXG4gKiB0aGUgQ1NTIGNsYXNzZXMgYmVsb3cgd2lsbCBiZSB0cmFuc2l0aW9uZWQgZGVzcGl0ZSB0aGVtIGJlaW5nIGRlZmluZWQgYXMgcmVndWxhciBDU1MgY2xhc3NlcyAmIzQyOy9cbiAqIC5yZWQgeyBiYWNrZ3JvdW5kOnJlZDsgfVxuICogLmxhcmdlLXRleHQgeyBmb250LXNpemU6MjBweDsgfVxuICpcbiAqIC8mIzQyOyB3ZSBjYW4gYWxzbyB1c2UgYSBrZXlmcmFtZSBhbmltYXRpb24gYW5kICRhbmltYXRlQ3NzIHdpbGwgbWFrZSBpdCB3b3JrIGFsb25nc2lkZSB0aGUgdHJhbnNpdGlvbiAmIzQyOy9cbiAqIC5wdWxzZS10d2ljZSB7XG4gKiAgIGFuaW1hdGlvbjogMC41cyBwdWxzZSBsaW5lYXIgMjtcbiAqICAgLXdlYmtpdC1hbmltYXRpb246IDAuNXMgcHVsc2UgbGluZWFyIDI7XG4gKiB9XG4gKlxuICogQGtleWZyYW1lcyBwdWxzZSB7XG4gKiAgIGZyb20geyB0cmFuc2Zvcm06IHNjYWxlKDAuNSk7IH1cbiAqICAgdG8geyB0cmFuc2Zvcm06IHNjYWxlKDEuNSk7IH1cbiAqIH1cbiAqXG4gKiBALXdlYmtpdC1rZXlmcmFtZXMgcHVsc2Uge1xuICogICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuNSk7IH1cbiAqICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS41KTsgfVxuICogfVxuICogYGBgXG4gKlxuICogR2l2ZW4gdGhpcyBjb21wbGV4IGNvbWJpbmF0aW9uIG9mIENTUyBjbGFzc2VzLCBzdHlsZXMgYW5kIG9wdGlvbnMsIGAkYW5pbWF0ZUNzc2Agd2lsbCBmaWd1cmUgZXZlcnl0aGluZyBvdXQgYW5kIG1ha2UgdGhlIGFuaW1hdGlvbiBoYXBwZW4uXG4gKlxuICogIyMgSG93IHRoZSBPcHRpb25zIGFyZSBoYW5kbGVkXG4gKlxuICogYCRhbmltYXRlQ3NzYCBpcyB2ZXJ5IHZlcnNhdGlsZSBhbmQgaW50ZWxsaWdlbnQgd2hlbiBpdCBjb21lcyB0byBmaWd1cmluZyBvdXQgd2hhdCBjb25maWd1cmF0aW9ucyB0byBhcHBseSB0byB0aGUgZWxlbWVudCB0byBlbnN1cmUgdGhlIGFuaW1hdGlvblxuICogd29ya3Mgd2l0aCB0aGUgb3B0aW9ucyBwcm92aWRlZC4gU2F5IGZvciBleGFtcGxlIHdlIHdlcmUgYWRkaW5nIGEgY2xhc3MgdGhhdCBjb250YWluZWQgYSBrZXlmcmFtZSB2YWx1ZSBhbmQgd2Ugd2FudGVkIHRvIGFsc28gYW5pbWF0ZSBzb21lIGlubGluZVxuICogc3R5bGVzIHVzaW5nIHRoZSBgZnJvbWAgYW5kIGB0b2AgcHJvcGVydGllcy5cbiAqXG4gKiBgYGBqc1xuICogdmFyIGFuaW1hdG9yID0gJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICogICBmcm9tOiB7IGJhY2tncm91bmQ6J3JlZCcgfSxcbiAqICAgdG86IHsgYmFja2dyb3VuZDonYmx1ZScgfVxuICogfSk7XG4gKiBhbmltYXRvci5zdGFydCgpO1xuICogYGBgXG4gKlxuICogYGBgY3NzXG4gKiAucm90YXRpbmctYW5pbWF0aW9uIHtcbiAqICAgYW5pbWF0aW9uOjAuNXMgcm90YXRlIGxpbmVhcjtcbiAqICAgLXdlYmtpdC1hbmltYXRpb246MC41cyByb3RhdGUgbGluZWFyO1xuICogfVxuICpcbiAqIEBrZXlmcmFtZXMgcm90YXRlIHtcbiAqICAgZnJvbSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gKiAgIHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuICogfVxuICpcbiAqIEAtd2Via2l0LWtleWZyYW1lcyByb3RhdGUge1xuICogICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICogICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuICogfVxuICogYGBgXG4gKlxuICogVGhlIG1pc3NpbmcgcGllY2VzIGhlcmUgYXJlIHRoYXQgd2UgZG8gbm90IGhhdmUgYSB0cmFuc2l0aW9uIHNldCAod2l0aGluIHRoZSBDU1MgY29kZSBub3Igd2l0aGluIHRoZSBgJGFuaW1hdGVDc3NgIG9wdGlvbnMpIGFuZCB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpc1xuICogZ29pbmcgdG8gYmUgZGV0ZWN0ZWQgZnJvbSB3aGF0IHRoZSBrZXlmcmFtZSBzdHlsZXMgb24gdGhlIENTUyBjbGFzcyBhcmUuIEluIHRoaXMgZXZlbnQsIGAkYW5pbWF0ZUNzc2Agd2lsbCBhdXRvbWF0aWNhbGx5IGNyZWF0ZSBhbiBpbmxpbmUgdHJhbnNpdGlvblxuICogc3R5bGUgbWF0Y2hpbmcgdGhlIGR1cmF0aW9uIGRldGVjdGVkIGZyb20gdGhlIGtleWZyYW1lIHN0eWxlICh3aGljaCBpcyBwcmVzZW50IGluIHRoZSBDU1MgY2xhc3MgdGhhdCBpcyBiZWluZyBhZGRlZCkgYW5kIHRoZW4gcHJlcGFyZSBib3RoIHRoZSB0cmFuc2l0aW9uXG4gKiBhbmQga2V5ZnJhbWUgYW5pbWF0aW9ucyB0byBydW4gaW4gcGFyYWxsZWwgb24gdGhlIGVsZW1lbnQuIFRoZW4gd2hlbiB0aGUgYW5pbWF0aW9uIGlzIHVuZGVyd2F5IHRoZSBwcm92aWRlZCBgZnJvbWAgYW5kIGB0b2AgQ1NTIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWRcbiAqIGFuZCBzcHJlYWQgYWNyb3NzIHRoZSB0cmFuc2l0aW9uIGFuZCBrZXlmcmFtZSBhbmltYXRpb24uXG4gKlxuICogIyMgV2hhdCBpcyByZXR1cm5lZFxuICpcbiAqIGAkYW5pbWF0ZUNzc2Agd29ya3MgaW4gdHdvIHN0YWdlczogYSBwcmVwYXJhdGlvbiBwaGFzZSBhbmQgYW4gYW5pbWF0aW9uIHBoYXNlLiBUaGVyZWZvcmUgd2hlbiBgJGFuaW1hdGVDc3NgIGlzIGZpcnN0IGNhbGxlZCBpdCB3aWxsIE5PVCBhY3R1YWxseVxuICogc3RhcnQgdGhlIGFuaW1hdGlvbi4gQWxsIHRoYXQgaXMgZ29pbmcgb24gaGVyZSBpcyB0aGF0IHRoZSBlbGVtZW50IGlzIGJlaW5nIHByZXBhcmVkIGZvciB0aGUgYW5pbWF0aW9uICh3aGljaCBtZWFucyB0aGF0IHRoZSBnZW5lcmF0ZWQgQ1NTIGNsYXNzZXMgYXJlXG4gKiBhZGRlZCBhbmQgcmVtb3ZlZCBvbiB0aGUgZWxlbWVudCkuIE9uY2UgYCRhbmltYXRlQ3NzYCBpcyBjYWxsZWQgaXQgd2lsbCByZXR1cm4gYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgYW5pbWF0b3IgPSAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7IC4uLiB9KTtcbiAqIGBgYFxuICpcbiAqIE5vdyB3aGF0IGRvIHRoZSBjb250ZW50cyBvZiBvdXIgYGFuaW1hdG9yYCB2YXJpYWJsZSBsb29rIGxpa2U6XG4gKlxuICogYGBganNcbiAqIHtcbiAqICAgLy8gc3RhcnRzIHRoZSBhbmltYXRpb25cbiAqICAgc3RhcnQ6IEZ1bmN0aW9uLFxuICpcbiAqICAgLy8gZW5kcyAoYWJvcnRzKSB0aGUgYW5pbWF0aW9uXG4gKiAgIGVuZDogRnVuY3Rpb25cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRvIGFjdHVhbGx5IHN0YXJ0IHRoZSBhbmltYXRpb24gd2UgbmVlZCB0byBydW4gYGFuaW1hdGlvbi5zdGFydCgpYCB3aGljaCB3aWxsIHRoZW4gcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHdlIGNhbiBob29rIGludG8gdG8gZGV0ZWN0IHdoZW4gdGhlIGFuaW1hdGlvbiBlbmRzLlxuICogSWYgd2UgY2hvb3NlIG5vdCB0byBydW4gdGhlIGFuaW1hdGlvbiB0aGVuIHdlIE1VU1QgcnVuIGBhbmltYXRpb24uZW5kKClgIHRvIHBlcmZvcm0gYSBjbGVhbnVwIG9uIHRoZSBlbGVtZW50IChzaW5jZSBzb21lIENTUyBjbGFzc2VzIGFuZCBzdGx5ZXMgbWF5IGhhdmUgYmVlblxuICogYXBwbGllZCB0byB0aGUgZWxlbWVudCBkdXJpbmcgdGhlIHByZXBhcmF0aW9uIHBoYXNlKS4gTm90ZSB0aGF0IGFsbCBvdGhlciBwcm9wZXJ0aWVzIHN1Y2ggYXMgZHVyYXRpb24sIGRlbGF5LCB0cmFuc2l0aW9ucyBhbmQga2V5ZnJhbWVzIGFyZSBqdXN0IHByb3BlcnRpZXNcbiAqIGFuZCB0aGF0IGNoYW5naW5nIHRoZW0gd2lsbCBub3QgcmVjb25maWd1cmUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIGFuaW1hdGlvbi5cbiAqXG4gKiAjIyMgcnVubmVyLmRvbmUoKSB2cyBydW5uZXIudGhlbigpXG4gKiBJdCBpcyBkb2N1bWVudGVkIHRoYXQgYGFuaW1hdGlvbi5zdGFydCgpYCB3aWxsIHJldHVybiBhIHByb21pc2Ugb2JqZWN0IGFuZCB0aGlzIGlzIHRydWUsIGhvd2V2ZXIsIHRoZXJlIGlzIGFsc28gYW4gYWRkaXRpb25hbCBtZXRob2QgYXZhaWxhYmxlIG9uIHRoZVxuICogcnVubmVyIGNhbGxlZCBgLmRvbmUoY2FsbGJhY2tGbilgLiBUaGUgZG9uZSBtZXRob2Qgd29ya3MgdGhlIHNhbWUgYXMgYC5maW5hbGx5KGNhbGxiYWNrRm4pYCwgaG93ZXZlciwgaXQgZG9lcyAqKm5vdCB0cmlnZ2VyIGEgZGlnZXN0IHRvIG9jY3VyKiouXG4gKiBUaGVyZWZvcmUsIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLCBpdCdzIGFsd2F5cyBiZXN0IHRvIHVzZSBgcnVubmVyLmRvbmUoY2FsbGJhY2spYCBpbnN0ZWFkIG9mIGBydW5uZXIudGhlbigpYCwgYHJ1bm5lci5jYXRjaCgpYCBvciBgcnVubmVyLmZpbmFsbHkoKWBcbiAqIHVubGVzcyB5b3UgcmVhbGx5IG5lZWQgYSBkaWdlc3QgdG8ga2ljayBvZmYgYWZ0ZXJ3YXJkcy5cbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgdG8gbWFrZSB0aGlzIGVhc2llciwgbmdBbmltYXRlIGhhcyB0d2Vha2VkIHRoZSBKUyBhbmltYXRpb25zIEFQSSB0byByZWNvZ25pemUgd2hlbiBhIHJ1bm5lciBpbnN0YW5jZSBpcyByZXR1cm5lZCBmcm9tICRhbmltYXRlQ3NzXG4gKiAoc28gdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIGBydW5uZXIuZG9uZShkb25lRm4pYCBpbnNpZGUgb2YgeW91ciBKYXZhU2NyaXB0IGFuaW1hdGlvbiBjb2RlKS5cbiAqIENoZWNrIHRoZSB7QGxpbmsgbmdBbmltYXRlLiRhbmltYXRlQ3NzI3VzYWdlIGFuaW1hdGlvbiBjb2RlIGFib3ZlfSB0byBzZWUgaG93IHRoaXMgd29ya3MuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSBhbmltYXRlZFxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgdGhlIGFuaW1hdGlvbi1yZWxhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgZHVyaW5nIHRoZSBhbmltYXRpb25cbiAqXG4gKiAqIGBldmVudGAgLSBUaGUgRE9NIGV2ZW50IChlLmcuIGVudGVyLCBsZWF2ZSwgbW92ZSkuIFdoZW4gdXNlZCwgYSBnZW5lcmF0ZWQgQ1NTIGNsYXNzIG9mIGBuZy1FVkVOVGAgYW5kIGBuZy1FVkVOVC1hY3RpdmVgIHdpbGwgYmUgYXBwbGllZFxuICogdG8gdGhlIGVsZW1lbnQgZHVyaW5nIHRoZSBhbmltYXRpb24uIE11bHRpcGxlIGV2ZW50cyBjYW4gYmUgcHJvdmlkZWQgd2hlbiBzcGFjZXMgYXJlIHVzZWQgYXMgYSBzZXBhcmF0b3IuIChOb3RlIHRoYXQgdGhpcyB3aWxsIG5vdCBwZXJmb3JtIGFueSBET00gb3BlcmF0aW9uLilcbiAqICogYHN0cnVjdHVyYWxgIC0gSW5kaWNhdGVzIHRoYXQgdGhlIGBuZy1gIHByZWZpeCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBldmVudCBjbGFzcy4gU2V0dGluZyB0byBgZmFsc2VgIG9yIG9taXR0aW5nIHdpbGwgdHVybiBgbmctRVZFTlRgIGFuZFxuICogYG5nLUVWRU5ULWFjdGl2ZWAgaW4gYEVWRU5UYCBhbmQgYEVWRU5ULWFjdGl2ZWAuIFVudXNlZCBpZiBgZXZlbnRgIGlzIG9taXR0ZWQuXG4gKiAqIGBlYXNpbmdgIC0gVGhlIENTUyBlYXNpbmcgdmFsdWUgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHRyYW5zaXRpb24gb3Iga2V5ZnJhbWUgYW5pbWF0aW9uIChvciBib3RoKS5cbiAqICogYHRyYW5zaXRpb25TdHlsZWAgLSBUaGUgcmF3IENTUyB0cmFuc2l0aW9uIHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIChlLmcuIGAxcyBsaW5lYXIgYWxsYCkuXG4gKiAqIGBrZXlmcmFtZVN0eWxlYCAtIFRoZSByYXcgQ1NTIGtleWZyYW1lIGFuaW1hdGlvbiBzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCAoZS5nLiBgMXMgbXlfYW5pbWF0aW9uIGxpbmVhcmApLlxuICogKiBgZnJvbWAgLSBUaGUgc3RhcnRpbmcgQ1NTIHN0eWxlcyAoYSBrZXkvdmFsdWUgb2JqZWN0KSB0aGF0IHdpbGwgYmUgYXBwbGllZCBhdCB0aGUgc3RhcnQgb2YgdGhlIGFuaW1hdGlvbi5cbiAqICogYHRvYCAtIFRoZSBlbmRpbmcgQ1NTIHN0eWxlcyAoYSBrZXkvdmFsdWUgb2JqZWN0KSB0aGF0IHdpbGwgYmUgYXBwbGllZCBhY3Jvc3MgdGhlIGFuaW1hdGlvbiB2aWEgYSBDU1MgdHJhbnNpdGlvbi5cbiAqICogYGFkZENsYXNzYCAtIEEgc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgQ1NTIGNsYXNzZXMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50IGFuZCBzcHJlYWQgYWNyb3NzIHRoZSBhbmltYXRpb24uXG4gKiAqIGByZW1vdmVDbGFzc2AgLSBBIHNwYWNlIHNlcGFyYXRlZCBsaXN0IG9mIENTUyBjbGFzc2VzIHRoYXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQgYW5kIHNwcmVhZCBhY3Jvc3MgdGhlIGFuaW1hdGlvbi5cbiAqICogYGR1cmF0aW9uYCAtIEEgbnVtYmVyIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgdG90YWwgZHVyYXRpb24gb2YgdGhlIHRyYW5zaXRpb24gYW5kL29yIGtleWZyYW1lIChub3RlIHRoYXQgYSB2YWx1ZSBvZiAxIGlzIDEwMDBtcykuIElmIGEgdmFsdWUgb2YgYDBgXG4gKiBpcyBwcm92aWRlZCB0aGVuIHRoZSBhbmltYXRpb24gd2lsbCBiZSBza2lwcGVkIGVudGlyZWx5LlxuICogKiBgZGVsYXlgIC0gQSBudW1iZXIgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSB0b3RhbCBkZWxheSBvZiB0aGUgdHJhbnNpdGlvbiBhbmQvb3Iga2V5ZnJhbWUgKG5vdGUgdGhhdCBhIHZhbHVlIG9mIDEgaXMgMTAwMG1zKS4gSWYgYSB2YWx1ZSBvZiBgdHJ1ZWAgaXNcbiAqIHVzZWQgdGhlbiB3aGF0ZXZlciBkZWxheSB2YWx1ZSBpcyBkZXRlY3RlZCBmcm9tIHRoZSBDU1MgY2xhc3NlcyB3aWxsIGJlIG1pcnJvcmVkIG9uIHRoZSBlbGVtZW50cyBzdHlsZXMgKGUuZy4gYnkgc2V0dGluZyBkZWxheSB0cnVlIHRoZW4gdGhlIHN0eWxlIHZhbHVlXG4gKiBvZiB0aGUgZWxlbWVudCB3aWxsIGJlIGB0cmFuc2l0aW9uLWRlbGF5OiBERVRFQ1RFRF9WQUxVRWApLiBVc2luZyBgdHJ1ZWAgaXMgdXNlZnVsIHdoZW4geW91IHdhbnQgdGhlIENTUyBjbGFzc2VzIGFuZCBpbmxpbmUgc3R5bGVzIHRvIGFsbCBzaGFyZSB0aGUgc2FtZVxuICogQ1NTIGRlbGF5IHZhbHVlLlxuICogKiBgc3RhZ2dlcmAgLSBBIG51bWVyaWMgdGltZSB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIGRlbGF5IGJldHdlZW4gc3VjY2Vzc2l2ZWx5IGFuaW1hdGVkIGVsZW1lbnRzXG4gKiAoe0BsaW5rIG5nQW5pbWF0ZSNjc3Mtc3RhZ2dlcmluZy1hbmltYXRpb25zIENsaWNrIGhlcmUgdG8gbGVhcm4gaG93IENTUy1iYXNlZCBzdGFnZ2VyaW5nIHdvcmtzIGluIG5nQW5pbWF0ZS59KVxuICogKiBgc3RhZ2dlckluZGV4YCAtIFRoZSBudW1lcmljIGluZGV4IHJlcHJlc2VudGluZyB0aGUgc3RhZ2dlciBpdGVtIChlLmcuIGEgdmFsdWUgb2YgNSBpcyBlcXVhbCB0byB0aGUgc2l4dGggaXRlbSBpbiB0aGUgc3RhZ2dlcjsgdGhlcmVmb3JlIHdoZW4gYVxuICogKiBgc3RhZ2dlcmAgb3B0aW9uIHZhbHVlIG9mIGAwLjFgIGlzIHVzZWQgdGhlbiB0aGVyZSB3aWxsIGJlIGEgc3RhZ2dlciBkZWxheSBvZiBgNjAwbXNgKVxuICogKiBgYXBwbHlDbGFzc2VzRWFybHlgIC0gV2hldGhlciBvciBub3QgdGhlIGNsYXNzZXMgYmVpbmcgYWRkZWQgb3IgcmVtb3ZlZCB3aWxsIGJlIHVzZWQgd2hlbiBkZXRlY3RpbmcgdGhlIGFuaW1hdGlvbi4gVGhpcyBpcyBzZXQgYnkgYCRhbmltYXRlYCB3aGVuIGVudGVyL2xlYXZlL21vdmUgYW5pbWF0aW9ucyBhcmUgZmlyZWQgdG8gZW5zdXJlIHRoYXQgdGhlIENTUyBjbGFzc2VzIGFyZSByZXNvbHZlZCBpbiB0aW1lLiAoTm90ZSB0aGF0IHRoaXMgd2lsbCBwcmV2ZW50IGFueSB0cmFuc2l0aW9ucyBmcm9tIG9jY3VyaW5nIG9uIHRoZSBjbGFzc2VzIGJlaW5nIGFkZGVkIGFuZCByZW1vdmVkLilcbiAqICogYGNsZWFudXBTdHlsZXNgIC0gV2hldGhlciBvciBub3QgdGhlIHByb3ZpZGVkIGBmcm9tYCBhbmQgYHRvYCBzdHlsZXMgd2lsbCBiZSByZW1vdmVkIG9uY2VcbiAqICAgIHRoZSBhbmltYXRpb24gaXMgY2xvc2VkLiBUaGlzIGlzIHVzZWZ1bCBmb3Igd2hlbiB0aGUgc3R5bGVzIGFyZSB1c2VkIHB1cmVseSBmb3IgdGhlIHNha2Ugb2ZcbiAqICAgIHRoZSBhbmltYXRpb24gYW5kIGRvIG5vdCBoYXZlIGEgbGFzdGluZyB2aXN1YWwgZWZmZWN0IG9uIHRoZSBlbGVtZW50IChlLmcuIGEgY29sYXBzZSBhbmQgb3BlbiBhbmltYXRpb24pLlxuICogICAgQnkgZGVmYXVsdCB0aGlzIHZhbHVlIGlzIHNldCB0byBgZmFsc2VgLlxuICpcbiAqIEByZXR1cm4ge29iamVjdH0gYW4gb2JqZWN0IHdpdGggc3RhcnQgYW5kIGVuZCBtZXRob2RzIGFuZCBkZXRhaWxzIGFib3V0IHRoZSBhbmltYXRpb24uXG4gKlxuICogKiBgc3RhcnRgIC0gVGhlIG1ldGhvZCB0byBzdGFydCB0aGUgYW5pbWF0aW9uLiBUaGlzIHdpbGwgcmV0dXJuIGEgYFByb21pc2VgIHdoZW4gY2FsbGVkLlxuICogKiBgZW5kYCAtIFRoaXMgbWV0aG9kIHdpbGwgY2FuY2VsIHRoZSBhbmltYXRpb24gYW5kIHJlbW92ZSBhbGwgYXBwbGllZCBDU1MgY2xhc3NlcyBhbmQgc3R5bGVzLlxuICovXG52YXIgT05FX1NFQ09ORCA9IDEwMDA7XG52YXIgQkFTRV9URU4gPSAxMDtcblxudmFyIEVMQVBTRURfVElNRV9NQVhfREVDSU1BTF9QTEFDRVMgPSAzO1xudmFyIENMT1NJTkdfVElNRV9CVUZGRVIgPSAxLjU7XG5cbnZhciBERVRFQ1RfQ1NTX1BST1BFUlRJRVMgPSB7XG4gIHRyYW5zaXRpb25EdXJhdGlvbjogICAgICBUUkFOU0lUSU9OX0RVUkFUSU9OX1BST1AsXG4gIHRyYW5zaXRpb25EZWxheTogICAgICAgICBUUkFOU0lUSU9OX0RFTEFZX1BST1AsXG4gIHRyYW5zaXRpb25Qcm9wZXJ0eTogICAgICBUUkFOU0lUSU9OX1BST1AgKyBQUk9QRVJUWV9LRVksXG4gIGFuaW1hdGlvbkR1cmF0aW9uOiAgICAgICBBTklNQVRJT05fRFVSQVRJT05fUFJPUCxcbiAgYW5pbWF0aW9uRGVsYXk6ICAgICAgICAgIEFOSU1BVElPTl9ERUxBWV9QUk9QLFxuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogQU5JTUFUSU9OX1BST1AgKyBBTklNQVRJT05fSVRFUkFUSU9OX0NPVU5UX0tFWVxufTtcblxudmFyIERFVEVDVF9TVEFHR0VSX0NTU19QUk9QRVJUSUVTID0ge1xuICB0cmFuc2l0aW9uRHVyYXRpb246ICAgICAgVFJBTlNJVElPTl9EVVJBVElPTl9QUk9QLFxuICB0cmFuc2l0aW9uRGVsYXk6ICAgICAgICAgVFJBTlNJVElPTl9ERUxBWV9QUk9QLFxuICBhbmltYXRpb25EdXJhdGlvbjogICAgICAgQU5JTUFUSU9OX0RVUkFUSU9OX1BST1AsXG4gIGFuaW1hdGlvbkRlbGF5OiAgICAgICAgICBBTklNQVRJT05fREVMQVlfUFJPUFxufTtcblxuZnVuY3Rpb24gZ2V0Q3NzS2V5ZnJhbWVEdXJhdGlvblN0eWxlKGR1cmF0aW9uKSB7XG4gIHJldHVybiBbQU5JTUFUSU9OX0RVUkFUSU9OX1BST1AsIGR1cmF0aW9uICsgJ3MnXTtcbn1cblxuZnVuY3Rpb24gZ2V0Q3NzRGVsYXlTdHlsZShkZWxheSwgaXNLZXlmcmFtZUFuaW1hdGlvbikge1xuICB2YXIgcHJvcCA9IGlzS2V5ZnJhbWVBbmltYXRpb24gPyBBTklNQVRJT05fREVMQVlfUFJPUCA6IFRSQU5TSVRJT05fREVMQVlfUFJPUDtcbiAgcmV0dXJuIFtwcm9wLCBkZWxheSArICdzJ107XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVDc3NTdHlsZXMoJHdpbmRvdywgZWxlbWVudCwgcHJvcGVydGllcykge1xuICB2YXIgc3R5bGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIGRldGVjdGVkU3R5bGVzID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHx8IHt9O1xuICBmb3JFYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uKGZvcm1hbFN0eWxlTmFtZSwgYWN0dWFsU3R5bGVOYW1lKSB7XG4gICAgdmFyIHZhbCA9IGRldGVjdGVkU3R5bGVzW2Zvcm1hbFN0eWxlTmFtZV07XG4gICAgaWYgKHZhbCkge1xuICAgICAgdmFyIGMgPSB2YWwuY2hhckF0KDApO1xuXG4gICAgICAvLyBvbmx5IG51bWVyaWNhbC1iYXNlZCB2YWx1ZXMgaGF2ZSBhIG5lZ2F0aXZlIHNpZ24gb3IgZGlnaXQgYXMgdGhlIGZpcnN0IHZhbHVlXG4gICAgICBpZiAoYyA9PT0gJy0nIHx8IGMgPT09ICcrJyB8fCBjID49IDApIHtcbiAgICAgICAgdmFsID0gcGFyc2VNYXhUaW1lKHZhbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGJ5IHNldHRpbmcgdGhpcyB0byBudWxsIGluIHRoZSBldmVudCB0aGF0IHRoZSBkZWxheSBpcyBub3Qgc2V0IG9yIGlzIHNldCBkaXJlY3RseSBhcyAwXG4gICAgICAvLyB0aGVuIHdlIGNhbiBzdGlsbCBhbGxvdyBmb3IgemVnYXRpdmUgdmFsdWVzIHRvIGJlIHVzZWQgbGF0ZXIgb24gYW5kIG5vdCBtaXN0YWtlIHRoaXNcbiAgICAgIC8vIHZhbHVlIGZvciBiZWluZyBncmVhdGVyIHRoYW4gYW55IG90aGVyIG5lZ2F0aXZlIHZhbHVlLlxuICAgICAgaWYgKHZhbCA9PT0gMCkge1xuICAgICAgICB2YWwgPSBudWxsO1xuICAgICAgfVxuICAgICAgc3R5bGVzW2FjdHVhbFN0eWxlTmFtZV0gPSB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1heFRpbWUoc3RyKSB7XG4gIHZhciBtYXhWYWx1ZSA9IDA7XG4gIHZhciB2YWx1ZXMgPSBzdHIuc3BsaXQoL1xccyosXFxzKi8pO1xuICBmb3JFYWNoKHZhbHVlcywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBpdCdzIGFsd2F5cyBzYWZlIHRvIGNvbnNpZGVyIG9ubHkgc2Vjb25kIHZhbHVlcyBhbmQgb21pdCBgbXNgIHZhbHVlcyBzaW5jZVxuICAgIC8vIGdldENvbXB1dGVkU3R5bGUgd2lsbCBhbHdheXMgaGFuZGxlIHRoZSBjb252ZXJzaW9uIGZvciB1c1xuICAgIGlmICh2YWx1ZS5jaGFyQXQodmFsdWUubGVuZ3RoIC0gMSkgPT0gJ3MnKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCB2YWx1ZS5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xuICAgIG1heFZhbHVlID0gbWF4VmFsdWUgPyBNYXRoLm1heCh2YWx1ZSwgbWF4VmFsdWUpIDogdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gbWF4VmFsdWU7XG59XG5cbmZ1bmN0aW9uIHRydXRoeVRpbWluZ1ZhbHVlKHZhbCkge1xuICByZXR1cm4gdmFsID09PSAwIHx8IHZhbCAhPSBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRDc3NUcmFuc2l0aW9uRHVyYXRpb25TdHlsZShkdXJhdGlvbiwgYXBwbHlPbmx5RHVyYXRpb24pIHtcbiAgdmFyIHN0eWxlID0gVFJBTlNJVElPTl9QUk9QO1xuICB2YXIgdmFsdWUgPSBkdXJhdGlvbiArICdzJztcbiAgaWYgKGFwcGx5T25seUR1cmF0aW9uKSB7XG4gICAgc3R5bGUgKz0gRFVSQVRJT05fS0VZO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlICs9ICcgbGluZWFyIGFsbCc7XG4gIH1cbiAgcmV0dXJuIFtzdHlsZSwgdmFsdWVdO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhbENhY2hlTG9va3VwKCkge1xuICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4ge1xuICAgIGZsdXNoOiBmdW5jdGlvbigpIHtcbiAgICAgIGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9LFxuXG4gICAgY291bnQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIGVudHJ5ID0gY2FjaGVba2V5XTtcbiAgICAgIHJldHVybiBlbnRyeSA/IGVudHJ5LnRvdGFsIDogMDtcbiAgICB9LFxuXG4gICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBlbnRyeSA9IGNhY2hlW2tleV07XG4gICAgICByZXR1cm4gZW50cnkgJiYgZW50cnkudmFsdWU7XG4gICAgfSxcblxuICAgIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCFjYWNoZVtrZXldKSB7XG4gICAgICAgIGNhY2hlW2tleV0gPSB7IHRvdGFsOiAxLCB2YWx1ZTogdmFsdWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhY2hlW2tleV0udG90YWwrKztcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbi8vIHdlIGRvIG5vdCByZWFzc2lnbiBhbiBhbHJlYWR5IHByZXNlbnQgc3R5bGUgdmFsdWUgc2luY2Vcbi8vIGlmIHdlIGRldGVjdCB0aGUgc3R5bGUgcHJvcGVydHkgdmFsdWUgYWdhaW4gd2UgbWF5IGJlXG4vLyBkZXRlY3Rpbmcgc3R5bGVzIHRoYXQgd2VyZSBhZGRlZCB2aWEgdGhlIGBmcm9tYCBzdHlsZXMuXG4vLyBXZSBtYWtlIHVzZSBvZiBgaXNEZWZpbmVkYCBoZXJlIHNpbmNlIGFuIGVtcHR5IHN0cmluZ1xuLy8gb3IgbnVsbCB2YWx1ZSAod2hpY2ggaXMgd2hhdCBnZXRQcm9wZXJ0eVZhbHVlIHdpbGwgcmV0dXJuXG4vLyBmb3IgYSBub24tZXhpc3Rpbmcgc3R5bGUpIHdpbGwgc3RpbGwgYmUgbWFya2VkIGFzIGEgdmFsaWRcbi8vIHZhbHVlIGZvciB0aGUgc3R5bGUgKGEgZmFsc3kgdmFsdWUgaW1wbGllcyB0aGF0IHRoZSBzdHlsZVxuLy8gaXMgdG8gYmUgcmVtb3ZlZCBhdCB0aGUgZW5kIG9mIHRoZSBhbmltYXRpb24pLiBJZiB3ZSBoYWQgYSBzaW1wbGVcbi8vIFwiT1JcIiBzdGF0ZW1lbnQgdGhlbiBpdCB3b3VsZCBub3QgYmUgZW5vdWdoIHRvIGNhdGNoIHRoYXQuXG5mdW5jdGlvbiByZWdpc3RlclJlc3RvcmFibGVTdHlsZXMoYmFja3VwLCBub2RlLCBwcm9wZXJ0aWVzKSB7XG4gIGZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24ocHJvcCkge1xuICAgIGJhY2t1cFtwcm9wXSA9IGlzRGVmaW5lZChiYWNrdXBbcHJvcF0pXG4gICAgICAgID8gYmFja3VwW3Byb3BdXG4gICAgICAgIDogbm9kZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApO1xuICB9KTtcbn1cblxudmFyICRBbmltYXRlQ3NzUHJvdmlkZXIgPSBbJyRhbmltYXRlUHJvdmlkZXInLCBmdW5jdGlvbigkYW5pbWF0ZVByb3ZpZGVyKSB7XG4gIHZhciBnY3NMb29rdXAgPSBjcmVhdGVMb2NhbENhY2hlTG9va3VwKCk7XG4gIHZhciBnY3NTdGFnZ2VyTG9va3VwID0gY3JlYXRlTG9jYWxDYWNoZUxvb2t1cCgpO1xuXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckJGpxTGl0ZScsICckJEFuaW1hdGVSdW5uZXInLCAnJHRpbWVvdXQnLFxuICAgICAgICAgICAgICAgJyQkZm9yY2VSZWZsb3cnLCAnJHNuaWZmZXInLCAnJCRyQUZTY2hlZHVsZXInLCAnJGFuaW1hdGUnLFxuICAgICAgIGZ1bmN0aW9uKCR3aW5kb3csICAgJCRqcUxpdGUsICAgJCRBbmltYXRlUnVubmVyLCAgICR0aW1lb3V0LFxuICAgICAgICAgICAgICAgICQkZm9yY2VSZWZsb3csICAgJHNuaWZmZXIsICAgJCRyQUZTY2hlZHVsZXIsICRhbmltYXRlKSB7XG5cbiAgICB2YXIgYXBwbHlBbmltYXRpb25DbGFzc2VzID0gYXBwbHlBbmltYXRpb25DbGFzc2VzRmFjdG9yeSgkJGpxTGl0ZSk7XG5cbiAgICB2YXIgcGFyZW50Q291bnRlciA9IDA7XG4gICAgZnVuY3Rpb24gZ2NzSGFzaEZuKG5vZGUsIGV4dHJhQ2xhc3Nlcykge1xuICAgICAgdmFyIEtFWSA9IFwiJCRuZ0FuaW1hdGVQYXJlbnRLZXlcIjtcbiAgICAgIHZhciBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgdmFyIHBhcmVudElEID0gcGFyZW50Tm9kZVtLRVldIHx8IChwYXJlbnROb2RlW0tFWV0gPSArK3BhcmVudENvdW50ZXIpO1xuICAgICAgcmV0dXJuIHBhcmVudElEICsgJy0nICsgbm9kZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgKyAnLScgKyBleHRyYUNsYXNzZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcHV0ZUNhY2hlZENzc1N0eWxlcyhub2RlLCBjbGFzc05hbWUsIGNhY2hlS2V5LCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgdGltaW5ncyA9IGdjc0xvb2t1cC5nZXQoY2FjaGVLZXkpO1xuXG4gICAgICBpZiAoIXRpbWluZ3MpIHtcbiAgICAgICAgdGltaW5ncyA9IGNvbXB1dGVDc3NTdHlsZXMoJHdpbmRvdywgbm9kZSwgcHJvcGVydGllcyk7XG4gICAgICAgIGlmICh0aW1pbmdzLmFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50ID09PSAnaW5maW5pdGUnKSB7XG4gICAgICAgICAgdGltaW5ncy5hbmltYXRpb25JdGVyYXRpb25Db3VudCA9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gd2Uga2VlcCBwdXR0aW5nIHRoaXMgaW4gbXVsdGlwbGUgdGltZXMgZXZlbiB0aG91Z2ggdGhlIHZhbHVlIGFuZCB0aGUgY2FjaGVLZXkgYXJlIHRoZSBzYW1lXG4gICAgICAvLyBiZWNhdXNlIHdlJ3JlIGtlZXBpbmcgYW4gaW50ZXJhbCB0YWxseSBvZiBob3cgbWFueSBkdXBsaWNhdGUgYW5pbWF0aW9ucyBhcmUgZGV0ZWN0ZWQuXG4gICAgICBnY3NMb29rdXAucHV0KGNhY2hlS2V5LCB0aW1pbmdzKTtcbiAgICAgIHJldHVybiB0aW1pbmdzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVDYWNoZWRDc3NTdGFnZ2VyU3R5bGVzKG5vZGUsIGNsYXNzTmFtZSwgY2FjaGVLZXksIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciBzdGFnZ2VyO1xuXG4gICAgICAvLyBpZiB3ZSBoYXZlIG9uZSBvciBtb3JlIGV4aXN0aW5nIG1hdGNoZXMgb2YgbWF0Y2hpbmcgZWxlbWVudHNcbiAgICAgIC8vIGNvbnRhaW5pbmcgdGhlIHNhbWUgcGFyZW50ICsgQ1NTIHN0eWxlcyAod2hpY2ggaXMgaG93IGNhY2hlS2V5IHdvcmtzKVxuICAgICAgLy8gdGhlbiBzdGFnZ2VyaW5nIGlzIHBvc3NpYmxlXG4gICAgICBpZiAoZ2NzTG9va3VwLmNvdW50KGNhY2hlS2V5KSA+IDApIHtcbiAgICAgICAgc3RhZ2dlciA9IGdjc1N0YWdnZXJMb29rdXAuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgICBpZiAoIXN0YWdnZXIpIHtcbiAgICAgICAgICB2YXIgc3RhZ2dlckNsYXNzTmFtZSA9IHBlbmRDbGFzc2VzKGNsYXNzTmFtZSwgJy1zdGFnZ2VyJyk7XG5cbiAgICAgICAgICAkJGpxTGl0ZS5hZGRDbGFzcyhub2RlLCBzdGFnZ2VyQ2xhc3NOYW1lKTtcblxuICAgICAgICAgIHN0YWdnZXIgPSBjb21wdXRlQ3NzU3R5bGVzKCR3aW5kb3csIG5vZGUsIHByb3BlcnRpZXMpO1xuXG4gICAgICAgICAgLy8gZm9yY2UgdGhlIGNvbnZlcnNpb24gb2YgYSBudWxsIHZhbHVlIHRvIHplcm8gaW5jYXNlIG5vdCBzZXRcbiAgICAgICAgICBzdGFnZ2VyLmFuaW1hdGlvbkR1cmF0aW9uID0gTWF0aC5tYXgoc3RhZ2dlci5hbmltYXRpb25EdXJhdGlvbiwgMCk7XG4gICAgICAgICAgc3RhZ2dlci50cmFuc2l0aW9uRHVyYXRpb24gPSBNYXRoLm1heChzdGFnZ2VyLnRyYW5zaXRpb25EdXJhdGlvbiwgMCk7XG5cbiAgICAgICAgICAkJGpxTGl0ZS5yZW1vdmVDbGFzcyhub2RlLCBzdGFnZ2VyQ2xhc3NOYW1lKTtcblxuICAgICAgICAgIGdjc1N0YWdnZXJMb29rdXAucHV0KGNhY2hlS2V5LCBzdGFnZ2VyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhZ2dlciB8fCB7fTtcbiAgICB9XG5cbiAgICB2YXIgY2FuY2VsTGFzdFJBRlJlcXVlc3Q7XG4gICAgdmFyIHJhZldhaXRRdWV1ZSA9IFtdO1xuICAgIGZ1bmN0aW9uIHdhaXRVbnRpbFF1aWV0KGNhbGxiYWNrKSB7XG4gICAgICByYWZXYWl0UXVldWUucHVzaChjYWxsYmFjayk7XG4gICAgICAkJHJBRlNjaGVkdWxlci53YWl0VW50aWxRdWlldChmdW5jdGlvbigpIHtcbiAgICAgICAgZ2NzTG9va3VwLmZsdXNoKCk7XG4gICAgICAgIGdjc1N0YWdnZXJMb29rdXAuZmx1c2goKTtcblxuICAgICAgICAvLyBETyBOT1QgUkVNT1ZFIFRISVMgTElORSBPUiBSRUZBQ1RPUiBPVVQgVEhFIGBwYWdlV2lkdGhgIHZhcmlhYmxlLlxuICAgICAgICAvLyBQTEVBU0UgRVhBTUlORSBUSEUgYCQkZm9yY2VSZWZsb3dgIHNlcnZpY2UgdG8gdW5kZXJzdGFuZCB3aHkuXG4gICAgICAgIHZhciBwYWdlV2lkdGggPSAkJGZvcmNlUmVmbG93KCk7XG5cbiAgICAgICAgLy8gd2UgdXNlIGEgZm9yIGxvb3AgdG8gZW5zdXJlIHRoYXQgaWYgdGhlIHF1ZXVlIGlzIGNoYW5nZWRcbiAgICAgICAgLy8gZHVyaW5nIHRoaXMgbG9vcGluZyB0aGVuIGl0IHdpbGwgY29uc2lkZXIgbmV3IHJlcXVlc3RzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFmV2FpdFF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcmFmV2FpdFF1ZXVlW2ldKHBhZ2VXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmFmV2FpdFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wdXRlVGltaW5ncyhub2RlLCBjbGFzc05hbWUsIGNhY2hlS2V5KSB7XG4gICAgICB2YXIgdGltaW5ncyA9IGNvbXB1dGVDYWNoZWRDc3NTdHlsZXMobm9kZSwgY2xhc3NOYW1lLCBjYWNoZUtleSwgREVURUNUX0NTU19QUk9QRVJUSUVTKTtcbiAgICAgIHZhciBhRCA9IHRpbWluZ3MuYW5pbWF0aW9uRGVsYXk7XG4gICAgICB2YXIgdEQgPSB0aW1pbmdzLnRyYW5zaXRpb25EZWxheTtcbiAgICAgIHRpbWluZ3MubWF4RGVsYXkgPSBhRCAmJiB0RFxuICAgICAgICAgID8gTWF0aC5tYXgoYUQsIHREKVxuICAgICAgICAgIDogKGFEIHx8IHREKTtcbiAgICAgIHRpbWluZ3MubWF4RHVyYXRpb24gPSBNYXRoLm1heChcbiAgICAgICAgICB0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uICogdGltaW5ncy5hbmltYXRpb25JdGVyYXRpb25Db3VudCxcbiAgICAgICAgICB0aW1pbmdzLnRyYW5zaXRpb25EdXJhdGlvbik7XG5cbiAgICAgIHJldHVybiB0aW1pbmdzO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBpbml0KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciByZXN0b3JlU3R5bGVzID0ge307XG4gICAgICB2YXIgbm9kZSA9IGdldERvbU5vZGUoZWxlbWVudCk7XG4gICAgICBpZiAoIW5vZGVcbiAgICAgICAgICB8fCAhbm9kZS5wYXJlbnROb2RlXG4gICAgICAgICAgfHwgISRhbmltYXRlLmVuYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gY2xvc2VBbmRSZXR1cm5Ob29wQW5pbWF0b3IoKTtcbiAgICAgIH1cblxuICAgICAgb3B0aW9ucyA9IHByZXBhcmVBbmltYXRpb25PcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICB2YXIgdGVtcG9yYXJ5U3R5bGVzID0gW107XG4gICAgICB2YXIgY2xhc3NlcyA9IGVsZW1lbnQuYXR0cignY2xhc3MnKTtcbiAgICAgIHZhciBzdHlsZXMgPSBwYWNrYWdlU3R5bGVzKG9wdGlvbnMpO1xuICAgICAgdmFyIGFuaW1hdGlvbkNsb3NlZDtcbiAgICAgIHZhciBhbmltYXRpb25QYXVzZWQ7XG4gICAgICB2YXIgYW5pbWF0aW9uQ29tcGxldGVkO1xuICAgICAgdmFyIHJ1bm5lcjtcbiAgICAgIHZhciBydW5uZXJIb3N0O1xuICAgICAgdmFyIG1heERlbGF5O1xuICAgICAgdmFyIG1heERlbGF5VGltZTtcbiAgICAgIHZhciBtYXhEdXJhdGlvbjtcbiAgICAgIHZhciBtYXhEdXJhdGlvblRpbWU7XG5cbiAgICAgIGlmIChvcHRpb25zLmR1cmF0aW9uID09PSAwIHx8ICghJHNuaWZmZXIuYW5pbWF0aW9ucyAmJiAhJHNuaWZmZXIudHJhbnNpdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiBjbG9zZUFuZFJldHVybk5vb3BBbmltYXRvcigpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWV0aG9kID0gb3B0aW9ucy5ldmVudCAmJiBpc0FycmF5KG9wdGlvbnMuZXZlbnQpXG4gICAgICAgICAgICA/IG9wdGlvbnMuZXZlbnQuam9pbignICcpXG4gICAgICAgICAgICA6IG9wdGlvbnMuZXZlbnQ7XG5cbiAgICAgIHZhciBpc1N0cnVjdHVyYWwgPSBtZXRob2QgJiYgb3B0aW9ucy5zdHJ1Y3R1cmFsO1xuICAgICAgdmFyIHN0cnVjdHVyYWxDbGFzc05hbWUgPSAnJztcbiAgICAgIHZhciBhZGRSZW1vdmVDbGFzc05hbWUgPSAnJztcblxuICAgICAgaWYgKGlzU3RydWN0dXJhbCkge1xuICAgICAgICBzdHJ1Y3R1cmFsQ2xhc3NOYW1lID0gcGVuZENsYXNzZXMobWV0aG9kLCBFVkVOVF9DTEFTU19QUkVGSVgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChtZXRob2QpIHtcbiAgICAgICAgc3RydWN0dXJhbENsYXNzTmFtZSA9IG1ldGhvZDtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MpIHtcbiAgICAgICAgYWRkUmVtb3ZlQ2xhc3NOYW1lICs9IHBlbmRDbGFzc2VzKG9wdGlvbnMuYWRkQ2xhc3MsIEFERF9DTEFTU19TVUZGSVgpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5yZW1vdmVDbGFzcykge1xuICAgICAgICBpZiAoYWRkUmVtb3ZlQ2xhc3NOYW1lLmxlbmd0aCkge1xuICAgICAgICAgIGFkZFJlbW92ZUNsYXNzTmFtZSArPSAnICc7XG4gICAgICAgIH1cbiAgICAgICAgYWRkUmVtb3ZlQ2xhc3NOYW1lICs9IHBlbmRDbGFzc2VzKG9wdGlvbnMucmVtb3ZlQ2xhc3MsIFJFTU9WRV9DTEFTU19TVUZGSVgpO1xuICAgICAgfVxuXG4gICAgICAvLyB0aGVyZSBtYXkgYmUgYSBzaXR1YXRpb24gd2hlcmUgYSBzdHJ1Y3R1cmFsIGFuaW1hdGlvbiBpcyBjb21iaW5lZCB0b2dldGhlclxuICAgICAgLy8gd2l0aCBDU1MgY2xhc3NlcyB0aGF0IG5lZWQgdG8gcmVzb2x2ZSBiZWZvcmUgdGhlIGFuaW1hdGlvbiBpcyBjb21wdXRlZC5cbiAgICAgIC8vIEhvd2V2ZXIgdGhpcyBtZWFucyB0aGF0IHRoZXJlIGlzIG5vIGV4cGxpY2l0IENTUyBjb2RlIHRvIGJsb2NrIHRoZSBhbmltYXRpb25cbiAgICAgIC8vIGZyb20gaGFwcGVuaW5nIChieSBzZXR0aW5nIDBzIG5vbmUgaW4gdGhlIGNsYXNzIG5hbWUpLiBJZiB0aGlzIGlzIHRoZSBjYXNlXG4gICAgICAvLyB3ZSBuZWVkIHRvIGFwcGx5IHRoZSBjbGFzc2VzIGJlZm9yZSB0aGUgZmlyc3QgckFGIHNvIHdlIGtub3cgdG8gY29udGludWUgaWZcbiAgICAgIC8vIHRoZXJlIGFjdHVhbGx5IGlzIGEgZGV0ZWN0ZWQgdHJhbnNpdGlvbiBvciBrZXlmcmFtZSBhbmltYXRpb25cbiAgICAgIGlmIChvcHRpb25zLmFwcGx5Q2xhc3Nlc0Vhcmx5ICYmIGFkZFJlbW92ZUNsYXNzTmFtZS5sZW5ndGgpIHtcbiAgICAgICAgYXBwbHlBbmltYXRpb25DbGFzc2VzKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJlcGFyYXRpb25DbGFzc2VzID0gW3N0cnVjdHVyYWxDbGFzc05hbWUsIGFkZFJlbW92ZUNsYXNzTmFtZV0uam9pbignICcpLnRyaW0oKTtcbiAgICAgIHZhciBmdWxsQ2xhc3NOYW1lID0gY2xhc3NlcyArICcgJyArIHByZXBhcmF0aW9uQ2xhc3NlcztcbiAgICAgIHZhciBhY3RpdmVDbGFzc2VzID0gcGVuZENsYXNzZXMocHJlcGFyYXRpb25DbGFzc2VzLCBBQ1RJVkVfQ0xBU1NfU1VGRklYKTtcbiAgICAgIHZhciBoYXNUb1N0eWxlcyA9IHN0eWxlcy50byAmJiBPYmplY3Qua2V5cyhzdHlsZXMudG8pLmxlbmd0aCA+IDA7XG4gICAgICB2YXIgY29udGFpbnNLZXlmcmFtZUFuaW1hdGlvbiA9IChvcHRpb25zLmtleWZyYW1lU3R5bGUgfHwgJycpLmxlbmd0aCA+IDA7XG5cbiAgICAgIC8vIHRoZXJlIGlzIG5vIHdheSB3ZSBjYW4gdHJpZ2dlciBhbiBhbmltYXRpb24gaWYgbm8gc3R5bGVzIGFuZFxuICAgICAgLy8gbm8gY2xhc3NlcyBhcmUgYmVpbmcgYXBwbGllZCB3aGljaCB3b3VsZCB0aGVuIHRyaWdnZXIgYSB0cmFuc2l0aW9uLFxuICAgICAgLy8gdW5sZXNzIHRoZXJlIGEgaXMgcmF3IGtleWZyYW1lIHZhbHVlIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgIGlmICghY29udGFpbnNLZXlmcmFtZUFuaW1hdGlvblxuICAgICAgICAgICAmJiAhaGFzVG9TdHlsZXNcbiAgICAgICAgICAgJiYgIXByZXBhcmF0aW9uQ2xhc3Nlcykge1xuICAgICAgICByZXR1cm4gY2xvc2VBbmRSZXR1cm5Ob29wQW5pbWF0b3IoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNhY2hlS2V5LCBzdGFnZ2VyO1xuICAgICAgaWYgKG9wdGlvbnMuc3RhZ2dlciA+IDApIHtcbiAgICAgICAgdmFyIHN0YWdnZXJWYWwgPSBwYXJzZUZsb2F0KG9wdGlvbnMuc3RhZ2dlcik7XG4gICAgICAgIHN0YWdnZXIgPSB7XG4gICAgICAgICAgdHJhbnNpdGlvbkRlbGF5OiBzdGFnZ2VyVmFsLFxuICAgICAgICAgIGFuaW1hdGlvbkRlbGF5OiBzdGFnZ2VyVmFsLFxuICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMCxcbiAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogMFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FjaGVLZXkgPSBnY3NIYXNoRm4obm9kZSwgZnVsbENsYXNzTmFtZSk7XG4gICAgICAgIHN0YWdnZXIgPSBjb21wdXRlQ2FjaGVkQ3NzU3RhZ2dlclN0eWxlcyhub2RlLCBwcmVwYXJhdGlvbkNsYXNzZXMsIGNhY2hlS2V5LCBERVRFQ1RfU1RBR0dFUl9DU1NfUFJPUEVSVElFUyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghb3B0aW9ucy4kJHNraXBQcmVwYXJhdGlvbkNsYXNzZXMpIHtcbiAgICAgICAgJCRqcUxpdGUuYWRkQ2xhc3MoZWxlbWVudCwgcHJlcGFyYXRpb25DbGFzc2VzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGFwcGx5T25seUR1cmF0aW9uO1xuXG4gICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uU3R5bGUpIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25TdHlsZSA9IFtUUkFOU0lUSU9OX1BST1AsIG9wdGlvbnMudHJhbnNpdGlvblN0eWxlXTtcbiAgICAgICAgYXBwbHlJbmxpbmVTdHlsZShub2RlLCB0cmFuc2l0aW9uU3R5bGUpO1xuICAgICAgICB0ZW1wb3JhcnlTdHlsZXMucHVzaCh0cmFuc2l0aW9uU3R5bGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiA+PSAwKSB7XG4gICAgICAgIGFwcGx5T25seUR1cmF0aW9uID0gbm9kZS5zdHlsZVtUUkFOU0lUSU9OX1BST1BdLmxlbmd0aCA+IDA7XG4gICAgICAgIHZhciBkdXJhdGlvblN0eWxlID0gZ2V0Q3NzVHJhbnNpdGlvbkR1cmF0aW9uU3R5bGUob3B0aW9ucy5kdXJhdGlvbiwgYXBwbHlPbmx5RHVyYXRpb24pO1xuXG4gICAgICAgIC8vIHdlIHNldCB0aGUgZHVyYXRpb24gc28gdGhhdCBpdCB3aWxsIGJlIHBpY2tlZCB1cCBieSBnZXRDb21wdXRlZFN0eWxlIGxhdGVyXG4gICAgICAgIGFwcGx5SW5saW5lU3R5bGUobm9kZSwgZHVyYXRpb25TdHlsZSk7XG4gICAgICAgIHRlbXBvcmFyeVN0eWxlcy5wdXNoKGR1cmF0aW9uU3R5bGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5rZXlmcmFtZVN0eWxlKSB7XG4gICAgICAgIHZhciBrZXlmcmFtZVN0eWxlID0gW0FOSU1BVElPTl9QUk9QLCBvcHRpb25zLmtleWZyYW1lU3R5bGVdO1xuICAgICAgICBhcHBseUlubGluZVN0eWxlKG5vZGUsIGtleWZyYW1lU3R5bGUpO1xuICAgICAgICB0ZW1wb3JhcnlTdHlsZXMucHVzaChrZXlmcmFtZVN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZW1JbmRleCA9IHN0YWdnZXJcbiAgICAgICAgICA/IG9wdGlvbnMuc3RhZ2dlckluZGV4ID49IDBcbiAgICAgICAgICAgICAgPyBvcHRpb25zLnN0YWdnZXJJbmRleFxuICAgICAgICAgICAgICA6IGdjc0xvb2t1cC5jb3VudChjYWNoZUtleSlcbiAgICAgICAgICA6IDA7XG5cbiAgICAgIHZhciBpc0ZpcnN0ID0gaXRlbUluZGV4ID09PSAwO1xuXG4gICAgICAvLyB0aGlzIGlzIGEgcHJlLWVtcHRpdmUgd2F5IG9mIGZvcmNpbmcgdGhlIHNldHVwIGNsYXNzZXMgdG8gYmUgYWRkZWQgYW5kIGFwcGxpZWQgSU5TVEFOVExZXG4gICAgICAvLyB3aXRob3V0IGNhdXNpbmcgYW55IGNvbWJpbmF0aW9uIG9mIHRyYW5zaXRpb25zIHRvIGtpY2sgaW4uIEJ5IGFkZGluZyBhIG5lZ2F0aXZlIGRlbGF5IHZhbHVlXG4gICAgICAvLyBpdCBmb3JjZXMgdGhlIHNldHVwIGNsYXNzJyB0cmFuc2l0aW9uIHRvIGVuZCBpbW1lZGlhdGVseS4gV2UgbGF0ZXIgdGhlbiByZW1vdmUgdGhlIG5lZ2F0aXZlXG4gICAgICAvLyB0cmFuc2l0aW9uIGRlbGF5IHRvIGFsbG93IGZvciB0aGUgdHJhbnNpdGlvbiB0byBuYXR1cmFsbHkgZG8gaXQncyB0aGluZy4gVGhlIGJlYXV0eSBoZXJlIGlzXG4gICAgICAvLyB0aGF0IGlmIHRoZXJlIGlzIG5vIHRyYW5zaXRpb24gZGVmaW5lZCB0aGVuIG5vdGhpbmcgd2lsbCBoYXBwZW4gYW5kIHRoaXMgd2lsbCBhbHNvIGFsbG93XG4gICAgICAvLyBvdGhlciB0cmFuc2l0aW9ucyB0byBiZSBzdGFja2VkIG9uIHRvcCBvZiBlYWNoIG90aGVyIHdpdGhvdXQgYW55IGNob3BwaW5nIHRoZW0gb3V0LlxuICAgICAgaWYgKGlzRmlyc3QgJiYgIW9wdGlvbnMuc2tpcEJsb2NraW5nKSB7XG4gICAgICAgIGJsb2NrVHJhbnNpdGlvbnMobm9kZSwgU0FGRV9GQVNUX0ZPUldBUkRfRFVSQVRJT05fVkFMVUUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGltaW5ncyA9IGNvbXB1dGVUaW1pbmdzKG5vZGUsIGZ1bGxDbGFzc05hbWUsIGNhY2hlS2V5KTtcbiAgICAgIHZhciByZWxhdGl2ZURlbGF5ID0gdGltaW5ncy5tYXhEZWxheTtcbiAgICAgIG1heERlbGF5ID0gTWF0aC5tYXgocmVsYXRpdmVEZWxheSwgMCk7XG4gICAgICBtYXhEdXJhdGlvbiA9IHRpbWluZ3MubWF4RHVyYXRpb247XG5cbiAgICAgIHZhciBmbGFncyA9IHt9O1xuICAgICAgZmxhZ3MuaGFzVHJhbnNpdGlvbnMgICAgICAgICAgPSB0aW1pbmdzLnRyYW5zaXRpb25EdXJhdGlvbiA+IDA7XG4gICAgICBmbGFncy5oYXNBbmltYXRpb25zICAgICAgICAgICA9IHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24gPiAwO1xuICAgICAgZmxhZ3MuaGFzVHJhbnNpdGlvbkFsbCAgICAgICAgPSBmbGFncy5oYXNUcmFuc2l0aW9ucyAmJiB0aW1pbmdzLnRyYW5zaXRpb25Qcm9wZXJ0eSA9PSAnYWxsJztcbiAgICAgIGZsYWdzLmFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uID0gaGFzVG9TdHlsZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmbGFncy5oYXNUcmFuc2l0aW9ucyAmJiAhZmxhZ3MuaGFzVHJhbnNpdGlvbkFsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGZsYWdzLmhhc0FuaW1hdGlvbnMgJiYgIWZsYWdzLmhhc1RyYW5zaXRpb25zKSk7XG4gICAgICBmbGFncy5hcHBseUFuaW1hdGlvbkR1cmF0aW9uICA9IG9wdGlvbnMuZHVyYXRpb24gJiYgZmxhZ3MuaGFzQW5pbWF0aW9ucztcbiAgICAgIGZsYWdzLmFwcGx5VHJhbnNpdGlvbkRlbGF5ICAgID0gdHJ1dGh5VGltaW5nVmFsdWUob3B0aW9ucy5kZWxheSkgJiYgKGZsYWdzLmFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uIHx8IGZsYWdzLmhhc1RyYW5zaXRpb25zKTtcbiAgICAgIGZsYWdzLmFwcGx5QW5pbWF0aW9uRGVsYXkgICAgID0gdHJ1dGh5VGltaW5nVmFsdWUob3B0aW9ucy5kZWxheSkgJiYgZmxhZ3MuaGFzQW5pbWF0aW9ucztcbiAgICAgIGZsYWdzLnJlY2FsY3VsYXRlVGltaW5nU3R5bGVzID0gYWRkUmVtb3ZlQ2xhc3NOYW1lLmxlbmd0aCA+IDA7XG5cbiAgICAgIGlmIChmbGFncy5hcHBseVRyYW5zaXRpb25EdXJhdGlvbiB8fCBmbGFncy5hcHBseUFuaW1hdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgIG1heER1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiA/IHBhcnNlRmxvYXQob3B0aW9ucy5kdXJhdGlvbikgOiBtYXhEdXJhdGlvbjtcblxuICAgICAgICBpZiAoZmxhZ3MuYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICBmbGFncy5oYXNUcmFuc2l0aW9ucyA9IHRydWU7XG4gICAgICAgICAgdGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24gPSBtYXhEdXJhdGlvbjtcbiAgICAgICAgICBhcHBseU9ubHlEdXJhdGlvbiA9IG5vZGUuc3R5bGVbVFJBTlNJVElPTl9QUk9QICsgUFJPUEVSVFlfS0VZXS5sZW5ndGggPiAwO1xuICAgICAgICAgIHRlbXBvcmFyeVN0eWxlcy5wdXNoKGdldENzc1RyYW5zaXRpb25EdXJhdGlvblN0eWxlKG1heER1cmF0aW9uLCBhcHBseU9ubHlEdXJhdGlvbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZsYWdzLmFwcGx5QW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICBmbGFncy5oYXNBbmltYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgICB0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uID0gbWF4RHVyYXRpb247XG4gICAgICAgICAgdGVtcG9yYXJ5U3R5bGVzLnB1c2goZ2V0Q3NzS2V5ZnJhbWVEdXJhdGlvblN0eWxlKG1heER1cmF0aW9uKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1heER1cmF0aW9uID09PSAwICYmICFmbGFncy5yZWNhbGN1bGF0ZVRpbWluZ1N0eWxlcykge1xuICAgICAgICByZXR1cm4gY2xvc2VBbmRSZXR1cm5Ob29wQW5pbWF0b3IoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuZGVsYXkgIT0gbnVsbCkge1xuICAgICAgICB2YXIgZGVsYXlTdHlsZSA9IHBhcnNlRmxvYXQob3B0aW9ucy5kZWxheSk7XG5cbiAgICAgICAgaWYgKGZsYWdzLmFwcGx5VHJhbnNpdGlvbkRlbGF5KSB7XG4gICAgICAgICAgdGVtcG9yYXJ5U3R5bGVzLnB1c2goZ2V0Q3NzRGVsYXlTdHlsZShkZWxheVN0eWxlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmxhZ3MuYXBwbHlBbmltYXRpb25EZWxheSkge1xuICAgICAgICAgIHRlbXBvcmFyeVN0eWxlcy5wdXNoKGdldENzc0RlbGF5U3R5bGUoZGVsYXlTdHlsZSwgdHJ1ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGUgdGhlIGRlbGF5IHZhbHVlIHNpbmNlIHdlIHVzZWQgYSBwcmUtZW1wdGl2ZSBuZWdhdGl2ZVxuICAgICAgLy8gZGVsYXkgdmFsdWUgYW5kIHRoZSBkZWxheSB2YWx1ZSBpcyByZXF1aXJlZCBmb3IgdGhlIGZpbmFsIGV2ZW50IGNoZWNraW5nLiBUaGlzXG4gICAgICAvLyBwcm9wZXJ0eSB3aWxsIGVuc3VyZSB0aGF0IHRoaXMgd2lsbCBoYXBwZW4gYWZ0ZXIgdGhlIFJBRiBwaGFzZSBoYXMgcGFzc2VkLlxuICAgICAgaWYgKG9wdGlvbnMuZHVyYXRpb24gPT0gbnVsbCAmJiB0aW1pbmdzLnRyYW5zaXRpb25EdXJhdGlvbiA+IDApIHtcbiAgICAgICAgZmxhZ3MucmVjYWxjdWxhdGVUaW1pbmdTdHlsZXMgPSBmbGFncy5yZWNhbGN1bGF0ZVRpbWluZ1N0eWxlcyB8fCBpc0ZpcnN0O1xuICAgICAgfVxuXG4gICAgICBtYXhEZWxheVRpbWUgPSBtYXhEZWxheSAqIE9ORV9TRUNPTkQ7XG4gICAgICBtYXhEdXJhdGlvblRpbWUgPSBtYXhEdXJhdGlvbiAqIE9ORV9TRUNPTkQ7XG4gICAgICBpZiAoIW9wdGlvbnMuc2tpcEJsb2NraW5nKSB7XG4gICAgICAgIGZsYWdzLmJsb2NrVHJhbnNpdGlvbiA9IHRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uID4gMDtcbiAgICAgICAgZmxhZ3MuYmxvY2tLZXlmcmFtZUFuaW1hdGlvbiA9IHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24gPiAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFnZ2VyLmFuaW1hdGlvbkRlbGF5ID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhZ2dlci5hbmltYXRpb25EdXJhdGlvbiA9PT0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuZnJvbSkge1xuICAgICAgICBpZiAob3B0aW9ucy5jbGVhbnVwU3R5bGVzKSB7XG4gICAgICAgICAgcmVnaXN0ZXJSZXN0b3JhYmxlU3R5bGVzKHJlc3RvcmVTdHlsZXMsIG5vZGUsIE9iamVjdC5rZXlzKG9wdGlvbnMuZnJvbSkpO1xuICAgICAgICB9XG4gICAgICAgIGFwcGx5QW5pbWF0aW9uRnJvbVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZsYWdzLmJsb2NrVHJhbnNpdGlvbiB8fCBmbGFncy5ibG9ja0tleWZyYW1lQW5pbWF0aW9uKSB7XG4gICAgICAgIGFwcGx5QmxvY2tpbmcobWF4RHVyYXRpb24pO1xuICAgICAgfSBlbHNlIGlmICghb3B0aW9ucy5za2lwQmxvY2tpbmcpIHtcbiAgICAgICAgYmxvY2tUcmFuc2l0aW9ucyhub2RlLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE8obWF0c2tvKTogZm9yIDEuNSBjaGFuZ2UgdGhpcyBjb2RlIHRvIGhhdmUgYW4gYW5pbWF0b3Igb2JqZWN0IGZvciBiZXR0ZXIgZGVidWdnaW5nXG4gICAgICByZXR1cm4ge1xuICAgICAgICAkJHdpbGxBbmltYXRlOiB0cnVlLFxuICAgICAgICBlbmQ6IGVuZEZuLFxuICAgICAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGFuaW1hdGlvbkNsb3NlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgcnVubmVySG9zdCA9IHtcbiAgICAgICAgICAgIGVuZDogZW5kRm4sXG4gICAgICAgICAgICBjYW5jZWw6IGNhbmNlbEZuLFxuICAgICAgICAgICAgcmVzdW1lOiBudWxsLCAvL3RoaXMgd2lsbCBiZSBzZXQgZHVyaW5nIHRoZSBzdGFydCgpIHBoYXNlXG4gICAgICAgICAgICBwYXVzZTogbnVsbFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKHJ1bm5lckhvc3QpO1xuXG4gICAgICAgICAgd2FpdFVudGlsUXVpZXQoc3RhcnQpO1xuXG4gICAgICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSBhY2Nlc3MgdG8gcGF1c2UvcmVzdW1lIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAvLyBzaW5jZSBpdCBoYXNuJ3QgcnVuIHlldC4gQW5pbWF0ZVJ1bm5lciB3aWxsIHRoZXJlZm9yZVxuICAgICAgICAgIC8vIHNldCBub29wIGZ1bmN0aW9ucyBmb3IgcmVzdW1lIGFuZCBwYXVzZSBhbmQgdGhleSB3aWxsXG4gICAgICAgICAgLy8gbGF0ZXIgYmUgb3ZlcnJpZGRlbiBvbmNlIHRoZSBhbmltYXRpb24gaXMgdHJpZ2dlcmVkXG4gICAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gZW5kRm4oKSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbEZuKCkge1xuICAgICAgICBjbG9zZSh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2xvc2UocmVqZWN0ZWQpIHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgICAgIC8vIGlmIHRoZSBwcm9taXNlIGhhcyBiZWVuIGNhbGxlZCBhbHJlYWR5IHRoZW4gd2Ugc2hvdWxkbid0IGNsb3NlXG4gICAgICAgIC8vIHRoZSBhbmltYXRpb24gYWdhaW5cbiAgICAgICAgaWYgKGFuaW1hdGlvbkNsb3NlZCB8fCAoYW5pbWF0aW9uQ29tcGxldGVkICYmIGFuaW1hdGlvblBhdXNlZCkpIHJldHVybjtcbiAgICAgICAgYW5pbWF0aW9uQ2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgYW5pbWF0aW9uUGF1c2VkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLiQkc2tpcFByZXBhcmF0aW9uQ2xhc3Nlcykge1xuICAgICAgICAgICQkanFMaXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIHByZXBhcmF0aW9uQ2xhc3Nlcyk7XG4gICAgICAgIH1cbiAgICAgICAgJCRqcUxpdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgYWN0aXZlQ2xhc3Nlcyk7XG5cbiAgICAgICAgYmxvY2tLZXlmcmFtZUFuaW1hdGlvbnMobm9kZSwgZmFsc2UpO1xuICAgICAgICBibG9ja1RyYW5zaXRpb25zKG5vZGUsIGZhbHNlKTtcblxuICAgICAgICBmb3JFYWNoKHRlbXBvcmFyeVN0eWxlcywgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgICAvLyBUaGVyZSBpcyBvbmx5IG9uZSB3YXkgdG8gcmVtb3ZlIGlubGluZSBzdHlsZSBwcm9wZXJ0aWVzIGVudGlyZWx5IGZyb20gZWxlbWVudHMuXG4gICAgICAgICAgLy8gQnkgdXNpbmcgYHJlbW92ZVByb3BlcnR5YCB0aGlzIHdvcmtzLCBidXQgd2UgbmVlZCB0byBjb252ZXJ0IGNhbWVsLWNhc2VkIENTU1xuICAgICAgICAgIC8vIHN0eWxlcyBkb3duIHRvIGh5cGhlbmF0ZWQgdmFsdWVzLlxuICAgICAgICAgIG5vZGUuc3R5bGVbZW50cnlbMF1dID0gJyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFwcGx5QW5pbWF0aW9uQ2xhc3NlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgYXBwbHlBbmltYXRpb25TdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlc3RvcmVTdHlsZXMpLmxlbmd0aCkge1xuICAgICAgICAgIGZvckVhY2gocmVzdG9yZVN0eWxlcywgZnVuY3Rpb24odmFsdWUsIHByb3ApIHtcbiAgICAgICAgICAgIHZhbHVlID8gbm9kZS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wLCB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgIDogbm9kZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSByZWFzb24gd2h5IHdlIGhhdmUgdGhpcyBvcHRpb24gaXMgdG8gYWxsb3cgYSBzeW5jaHJvbm91cyBjbG9zaW5nIGNhbGxiYWNrXG4gICAgICAgIC8vIHRoYXQgaXMgZmlyZWQgYXMgU09PTiBhcyB0aGUgYW5pbWF0aW9uIGVuZHMgKHdoZW4gdGhlIENTUyBpcyByZW1vdmVkKSBvciBpZlxuICAgICAgICAvLyB0aGUgYW5pbWF0aW9uIG5ldmVyIHRha2VzIG9mZiBhdCBhbGwuIEEgZ29vZCBleGFtcGxlIGlzIGEgbGVhdmUgYW5pbWF0aW9uIHNpbmNlXG4gICAgICAgIC8vIHRoZSBlbGVtZW50IG11c3QgYmUgcmVtb3ZlZCBqdXN0IGFmdGVyIHRoZSBhbmltYXRpb24gaXMgb3ZlciBvciBlbHNlIHRoZSBlbGVtZW50XG4gICAgICAgIC8vIHdpbGwgYXBwZWFyIG9uIHNjcmVlbiBmb3Igb25lIGFuaW1hdGlvbiBmcmFtZSBjYXVzaW5nIGFuIG92ZXJiZWFyaW5nIGZsaWNrZXIuXG4gICAgICAgIGlmIChvcHRpb25zLm9uRG9uZSkge1xuICAgICAgICAgIG9wdGlvbnMub25Eb25lKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgcHJlcGFyYXRpb24gZnVuY3Rpb24gZmFpbHMgdGhlbiB0aGUgcHJvbWlzZSBpcyBub3Qgc2V0dXBcbiAgICAgICAgaWYgKHJ1bm5lcikge1xuICAgICAgICAgIHJ1bm5lci5jb21wbGV0ZSghcmVqZWN0ZWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFwcGx5QmxvY2tpbmcoZHVyYXRpb24pIHtcbiAgICAgICAgaWYgKGZsYWdzLmJsb2NrVHJhbnNpdGlvbikge1xuICAgICAgICAgIGJsb2NrVHJhbnNpdGlvbnMobm9kZSwgZHVyYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZsYWdzLmJsb2NrS2V5ZnJhbWVBbmltYXRpb24pIHtcbiAgICAgICAgICBibG9ja0tleWZyYW1lQW5pbWF0aW9ucyhub2RlLCAhIWR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbG9zZUFuZFJldHVybk5vb3BBbmltYXRvcigpIHtcbiAgICAgICAgcnVubmVyID0gbmV3ICQkQW5pbWF0ZVJ1bm5lcih7XG4gICAgICAgICAgZW5kOiBlbmRGbixcbiAgICAgICAgICBjYW5jZWw6IGNhbmNlbEZuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNob3VsZCBmbHVzaCB0aGUgY2FjaGUgYW5pbWF0aW9uXG4gICAgICAgIHdhaXRVbnRpbFF1aWV0KG5vb3ApO1xuICAgICAgICBjbG9zZSgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgJCR3aWxsQW5pbWF0ZTogZmFsc2UsXG4gICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVuZDogZW5kRm5cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25DbG9zZWQpIHJldHVybjtcbiAgICAgICAgaWYgKCFub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydFRpbWUsIGV2ZW50cyA9IFtdO1xuXG4gICAgICAgIC8vIGV2ZW4gdGhvdWdoIHdlIG9ubHkgcGF1c2Uga2V5ZnJhbWUgYW5pbWF0aW9ucyBoZXJlIHRoZSBwYXVzZSBmbGFnXG4gICAgICAgIC8vIHdpbGwgc3RpbGwgaGFwcGVuIHdoZW4gdHJhbnNpdGlvbnMgYXJlIHVzZWQuIE9ubHkgdGhlIHRyYW5zaXRpb24gd2lsbFxuICAgICAgICAvLyBub3QgYmUgcGF1c2VkIHNpbmNlIHRoYXQgaXMgbm90IHBvc3NpYmxlLiBJZiB0aGUgYW5pbWF0aW9uIGVuZHMgd2hlblxuICAgICAgICAvLyBwYXVzZWQgdGhlbiBpdCB3aWxsIG5vdCBjb21wbGV0ZSB1bnRpbCB1bnBhdXNlZCBvciBjYW5jZWxsZWQuXG4gICAgICAgIHZhciBwbGF5UGF1c2UgPSBmdW5jdGlvbihwbGF5QW5pbWF0aW9uKSB7XG4gICAgICAgICAgaWYgKCFhbmltYXRpb25Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvblBhdXNlZCA9ICFwbGF5QW5pbWF0aW9uO1xuICAgICAgICAgICAgaWYgKHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gYmxvY2tLZXlmcmFtZUFuaW1hdGlvbnMobm9kZSwgYW5pbWF0aW9uUGF1c2VkKTtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uUGF1c2VkXG4gICAgICAgICAgICAgICAgICA/IHRlbXBvcmFyeVN0eWxlcy5wdXNoKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgOiByZW1vdmVGcm9tQXJyYXkodGVtcG9yYXJ5U3R5bGVzLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChhbmltYXRpb25QYXVzZWQgJiYgcGxheUFuaW1hdGlvbikge1xuICAgICAgICAgICAgYW5pbWF0aW9uUGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBjaGVja2luZyB0aGUgc3RhZ2dlciBkdXJhdGlvbiBwcmV2ZW50cyBhbiBhY2NpZGVudGx5IGNhc2NhZGUgb2YgdGhlIENTUyBkZWxheSBzdHlsZVxuICAgICAgICAvLyBiZWluZyBpbmhlcml0ZWQgZnJvbSB0aGUgcGFyZW50LiBJZiB0aGUgdHJhbnNpdGlvbiBkdXJhdGlvbiBpcyB6ZXJvIHRoZW4gd2UgY2FuIHNhZmVseVxuICAgICAgICAvLyByZWx5IHRoYXQgdGhlIGRlbGF5IHZhbHVlIGlzIGFuIGludGVudGlhbCBzdGFnZ2VyIGRlbGF5IHN0eWxlLlxuICAgICAgICB2YXIgbWF4U3RhZ2dlciA9IGl0ZW1JbmRleCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoKHRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uICYmIHN0YWdnZXIudHJhbnNpdGlvbkR1cmF0aW9uID09PSAwKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uICYmIHN0YWdnZXIuYW5pbWF0aW9uRHVyYXRpb24gPT09IDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICYmIE1hdGgubWF4KHN0YWdnZXIuYW5pbWF0aW9uRGVsYXksIHN0YWdnZXIudHJhbnNpdGlvbkRlbGF5KTtcbiAgICAgICAgaWYgKG1heFN0YWdnZXIpIHtcbiAgICAgICAgICAkdGltZW91dCh0cmlnZ2VyQW5pbWF0aW9uU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihtYXhTdGFnZ2VyICogaXRlbUluZGV4ICogT05FX1NFQ09ORCksXG4gICAgICAgICAgICAgICAgICAgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyaWdnZXJBbmltYXRpb25TdGFydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIGRlY29yYXRlIHRoZSBleGlzdGluZyBwcm9taXNlIHJ1bm5lciB3aXRoIHBhdXNlL3Jlc3VtZSBtZXRob2RzXG4gICAgICAgIHJ1bm5lckhvc3QucmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcGxheVBhdXNlKHRydWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJ1bm5lckhvc3QucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwbGF5UGF1c2UoZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJBbmltYXRpb25TdGFydCgpIHtcbiAgICAgICAgICAvLyBqdXN0IGluY2FzZSBhIHN0YWdnZXIgYW5pbWF0aW9uIGtpY2tzIGluIHdoZW4gdGhlIGFuaW1hdGlvblxuICAgICAgICAgIC8vIGl0c2VsZiB3YXMgY2FuY2VsbGVkIGVudGlyZWx5XG4gICAgICAgICAgaWYgKGFuaW1hdGlvbkNsb3NlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgYXBwbHlCbG9ja2luZyhmYWxzZSk7XG5cbiAgICAgICAgICBmb3JFYWNoKHRlbXBvcmFyeVN0eWxlcywgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBlbnRyeVswXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgbm9kZS5zdHlsZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhcHBseUFuaW1hdGlvbkNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgJCRqcUxpdGUuYWRkQ2xhc3MoZWxlbWVudCwgYWN0aXZlQ2xhc3Nlcyk7XG5cbiAgICAgICAgICBpZiAoZmxhZ3MucmVjYWxjdWxhdGVUaW1pbmdTdHlsZXMpIHtcbiAgICAgICAgICAgIGZ1bGxDbGFzc05hbWUgPSBub2RlLmNsYXNzTmFtZSArICcgJyArIHByZXBhcmF0aW9uQ2xhc3NlcztcbiAgICAgICAgICAgIGNhY2hlS2V5ID0gZ2NzSGFzaEZuKG5vZGUsIGZ1bGxDbGFzc05hbWUpO1xuXG4gICAgICAgICAgICB0aW1pbmdzID0gY29tcHV0ZVRpbWluZ3Mobm9kZSwgZnVsbENsYXNzTmFtZSwgY2FjaGVLZXkpO1xuICAgICAgICAgICAgcmVsYXRpdmVEZWxheSA9IHRpbWluZ3MubWF4RGVsYXk7XG4gICAgICAgICAgICBtYXhEZWxheSA9IE1hdGgubWF4KHJlbGF0aXZlRGVsYXksIDApO1xuICAgICAgICAgICAgbWF4RHVyYXRpb24gPSB0aW1pbmdzLm1heER1cmF0aW9uO1xuXG4gICAgICAgICAgICBpZiAobWF4RHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmbGFncy5oYXNUcmFuc2l0aW9ucyA9IHRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uID4gMDtcbiAgICAgICAgICAgIGZsYWdzLmhhc0FuaW1hdGlvbnMgPSB0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uID4gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZmxhZ3MuYXBwbHlBbmltYXRpb25EZWxheSkge1xuICAgICAgICAgICAgcmVsYXRpdmVEZWxheSA9IHR5cGVvZiBvcHRpb25zLmRlbGF5ICE9PSBcImJvb2xlYW5cIiAmJiB0cnV0aHlUaW1pbmdWYWx1ZShvcHRpb25zLmRlbGF5KVxuICAgICAgICAgICAgICAgICAgPyBwYXJzZUZsb2F0KG9wdGlvbnMuZGVsYXkpXG4gICAgICAgICAgICAgICAgICA6IHJlbGF0aXZlRGVsYXk7XG5cbiAgICAgICAgICAgIG1heERlbGF5ID0gTWF0aC5tYXgocmVsYXRpdmVEZWxheSwgMCk7XG4gICAgICAgICAgICB0aW1pbmdzLmFuaW1hdGlvbkRlbGF5ID0gcmVsYXRpdmVEZWxheTtcbiAgICAgICAgICAgIGRlbGF5U3R5bGUgPSBnZXRDc3NEZWxheVN0eWxlKHJlbGF0aXZlRGVsYXksIHRydWUpO1xuICAgICAgICAgICAgdGVtcG9yYXJ5U3R5bGVzLnB1c2goZGVsYXlTdHlsZSk7XG4gICAgICAgICAgICBub2RlLnN0eWxlW2RlbGF5U3R5bGVbMF1dID0gZGVsYXlTdHlsZVsxXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtYXhEZWxheVRpbWUgPSBtYXhEZWxheSAqIE9ORV9TRUNPTkQ7XG4gICAgICAgICAgbWF4RHVyYXRpb25UaW1lID0gbWF4RHVyYXRpb24gKiBPTkVfU0VDT05EO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnMuZWFzaW5nKSB7XG4gICAgICAgICAgICB2YXIgZWFzZVByb3AsIGVhc2VWYWwgPSBvcHRpb25zLmVhc2luZztcbiAgICAgICAgICAgIGlmIChmbGFncy5oYXNUcmFuc2l0aW9ucykge1xuICAgICAgICAgICAgICBlYXNlUHJvcCA9IFRSQU5TSVRJT05fUFJPUCArIFRJTUlOR19LRVk7XG4gICAgICAgICAgICAgIHRlbXBvcmFyeVN0eWxlcy5wdXNoKFtlYXNlUHJvcCwgZWFzZVZhbF0pO1xuICAgICAgICAgICAgICBub2RlLnN0eWxlW2Vhc2VQcm9wXSA9IGVhc2VWYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmxhZ3MuaGFzQW5pbWF0aW9ucykge1xuICAgICAgICAgICAgICBlYXNlUHJvcCA9IEFOSU1BVElPTl9QUk9QICsgVElNSU5HX0tFWTtcbiAgICAgICAgICAgICAgdGVtcG9yYXJ5U3R5bGVzLnB1c2goW2Vhc2VQcm9wLCBlYXNlVmFsXSk7XG4gICAgICAgICAgICAgIG5vZGUuc3R5bGVbZWFzZVByb3BdID0gZWFzZVZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKFRSQU5TSVRJT05FTkRfRVZFTlQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgICBldmVudHMucHVzaChBTklNQVRJT05FTkRfRVZFTlQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgdmFyIHRpbWVyVGltZSA9IG1heERlbGF5VGltZSArIENMT1NJTkdfVElNRV9CVUZGRVIgKiBtYXhEdXJhdGlvblRpbWU7XG4gICAgICAgICAgdmFyIGVuZFRpbWUgPSBzdGFydFRpbWUgKyB0aW1lclRpbWU7XG5cbiAgICAgICAgICB2YXIgYW5pbWF0aW9uc0RhdGEgPSBlbGVtZW50LmRhdGEoQU5JTUFURV9USU1FUl9LRVkpIHx8IFtdO1xuICAgICAgICAgIHZhciBzZXR1cEZhbGxiYWNrVGltZXIgPSB0cnVlO1xuICAgICAgICAgIGlmIChhbmltYXRpb25zRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZXJEYXRhID0gYW5pbWF0aW9uc0RhdGFbMF07XG4gICAgICAgICAgICBzZXR1cEZhbGxiYWNrVGltZXIgPSBlbmRUaW1lID4gY3VycmVudFRpbWVyRGF0YS5leHBlY3RlZEVuZFRpbWU7XG4gICAgICAgICAgICBpZiAoc2V0dXBGYWxsYmFja1RpbWVyKSB7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChjdXJyZW50VGltZXJEYXRhLnRpbWVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbnNEYXRhLnB1c2goY2xvc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZXR1cEZhbGxiYWNrVGltZXIpIHtcbiAgICAgICAgICAgIHZhciB0aW1lciA9ICR0aW1lb3V0KG9uQW5pbWF0aW9uRXhwaXJlZCwgdGltZXJUaW1lLCBmYWxzZSk7XG4gICAgICAgICAgICBhbmltYXRpb25zRGF0YVswXSA9IHtcbiAgICAgICAgICAgICAgdGltZXI6IHRpbWVyLFxuICAgICAgICAgICAgICBleHBlY3RlZEVuZFRpbWU6IGVuZFRpbWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhbmltYXRpb25zRGF0YS5wdXNoKGNsb3NlKTtcbiAgICAgICAgICAgIGVsZW1lbnQuZGF0YShBTklNQVRFX1RJTUVSX0tFWSwgYW5pbWF0aW9uc0RhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnQub24oZXZlbnRzLmpvaW4oJyAnKSwgb25BbmltYXRpb25Qcm9ncmVzcyk7XG4gICAgICAgICAgaWYgKG9wdGlvbnMudG8pIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNsZWFudXBTdHlsZXMpIHtcbiAgICAgICAgICAgICAgcmVnaXN0ZXJSZXN0b3JhYmxlU3R5bGVzKHJlc3RvcmVTdHlsZXMsIG5vZGUsIE9iamVjdC5rZXlzKG9wdGlvbnMudG8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFwcGx5QW5pbWF0aW9uVG9TdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25BbmltYXRpb25FeHBpcmVkKCkge1xuICAgICAgICAgIHZhciBhbmltYXRpb25zRGF0YSA9IGVsZW1lbnQuZGF0YShBTklNQVRFX1RJTUVSX0tFWSk7XG5cbiAgICAgICAgICAvLyB0aGlzIHdpbGwgYmUgZmFsc2UgaW4gdGhlIGV2ZW50IHRoYXQgdGhlIGVsZW1lbnQgd2FzXG4gICAgICAgICAgLy8gcmVtb3ZlZCBmcm9tIHRoZSBET00gKHZpYSBhIGxlYXZlIGFuaW1hdGlvbiBvciBzb21ldGhpbmdcbiAgICAgICAgICAvLyBzaW1pbGFyKVxuICAgICAgICAgIGlmIChhbmltYXRpb25zRGF0YSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhbmltYXRpb25zRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBhbmltYXRpb25zRGF0YVtpXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVEYXRhKEFOSU1BVEVfVElNRVJfS0VZKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbkFuaW1hdGlvblByb2dyZXNzKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdmFyIGV2ID0gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudDtcbiAgICAgICAgICB2YXIgdGltZVN0YW1wID0gZXYuJG1hbnVhbFRpbWVTdGFtcCB8fCBldi50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcblxuICAgICAgICAgIC8qIEZpcmVmb3ggKG9yIHBvc3NpYmx5IGp1c3QgR2Vja28pIGxpa2VzIHRvIG5vdCByb3VuZCB2YWx1ZXMgdXBcbiAgICAgICAgICAgKiB3aGVuIGEgbXMgbWVhc3VyZW1lbnQgaXMgdXNlZCBmb3IgdGhlIGFuaW1hdGlvbiAqL1xuICAgICAgICAgIHZhciBlbGFwc2VkVGltZSA9IHBhcnNlRmxvYXQoZXYuZWxhcHNlZFRpbWUudG9GaXhlZChFTEFQU0VEX1RJTUVfTUFYX0RFQ0lNQUxfUExBQ0VTKSk7XG5cbiAgICAgICAgICAvKiAkbWFudWFsVGltZVN0YW1wIGlzIGEgbW9ja2VkIHRpbWVTdGFtcCB2YWx1ZSB3aGljaCBpcyBzZXRcbiAgICAgICAgICAgKiB3aXRoaW4gYnJvd3NlclRyaWdnZXIoKS4gVGhpcyBpcyBvbmx5IGhlcmUgc28gdGhhdCB0ZXN0cyBjYW5cbiAgICAgICAgICAgKiBtb2NrIGFuaW1hdGlvbnMgcHJvcGVybHkuIFJlYWwgZXZlbnRzIGZhbGxiYWNrIHRvIGV2ZW50LnRpbWVTdGFtcCxcbiAgICAgICAgICAgKiBvciwgaWYgdGhleSBkb24ndCwgdGhlbiBhIHRpbWVTdGFtcCBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgZm9yIHRoZW0uXG4gICAgICAgICAgICogV2UncmUgY2hlY2tpbmcgdG8gc2VlIGlmIHRoZSB0aW1lU3RhbXAgc3VycGFzc2VzIHRoZSBleHBlY3RlZCBkZWxheSxcbiAgICAgICAgICAgKiBidXQgd2UncmUgdXNpbmcgZWxhcHNlZFRpbWUgaW5zdGVhZCBvZiB0aGUgdGltZVN0YW1wIG9uIHRoZSAybmRcbiAgICAgICAgICAgKiBwcmUtY29uZGl0aW9uIHNpbmNlIGFuaW1hdGlvbnMgc29tZXRpbWVzIGNsb3NlIG9mZiBlYXJseSAqL1xuICAgICAgICAgIGlmIChNYXRoLm1heCh0aW1lU3RhbXAgLSBzdGFydFRpbWUsIDApID49IG1heERlbGF5VGltZSAmJiBlbGFwc2VkVGltZSA+PSBtYXhEdXJhdGlvbikge1xuICAgICAgICAgICAgLy8gd2Ugc2V0IHRoaXMgZmxhZyB0byBlbnN1cmUgdGhhdCBpZiB0aGUgdHJhbnNpdGlvbiBpcyBwYXVzZWQgdGhlbiwgd2hlbiByZXN1bWVkLFxuICAgICAgICAgICAgLy8gdGhlIGFuaW1hdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgY2xvc2UgaXRzZWxmIHNpbmNlIHRyYW5zaXRpb25zIGNhbm5vdCBiZSBwYXVzZWQuXG4gICAgICAgICAgICBhbmltYXRpb25Db21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XTtcbn1dO1xuXG52YXIgJCRBbmltYXRlQ3NzRHJpdmVyUHJvdmlkZXIgPSBbJyQkYW5pbWF0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkJGFuaW1hdGlvblByb3ZpZGVyKSB7XG4gICQkYW5pbWF0aW9uUHJvdmlkZXIuZHJpdmVycy5wdXNoKCckJGFuaW1hdGVDc3NEcml2ZXInKTtcblxuICB2YXIgTkdfQU5JTUFURV9TSElNX0NMQVNTX05BTUUgPSAnbmctYW5pbWF0ZS1zaGltJztcbiAgdmFyIE5HX0FOSU1BVEVfQU5DSE9SX0NMQVNTX05BTUUgPSAnbmctYW5jaG9yJztcblxuICB2YXIgTkdfT1VUX0FOQ0hPUl9DTEFTU19OQU1FID0gJ25nLWFuY2hvci1vdXQnO1xuICB2YXIgTkdfSU5fQU5DSE9SX0NMQVNTX05BTUUgPSAnbmctYW5jaG9yLWluJztcblxuICBmdW5jdGlvbiBpc0RvY3VtZW50RnJhZ21lbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnBhcmVudE5vZGUgJiYgbm9kZS5wYXJlbnROb2RlLm5vZGVUeXBlID09PSAxMTtcbiAgfVxuXG4gIHRoaXMuJGdldCA9IFsnJGFuaW1hdGVDc3MnLCAnJHJvb3RTY29wZScsICckJEFuaW1hdGVSdW5uZXInLCAnJHJvb3RFbGVtZW50JywgJyRzbmlmZmVyJywgJyQkanFMaXRlJywgJyRkb2N1bWVudCcsXG4gICAgICAgZnVuY3Rpb24oJGFuaW1hdGVDc3MsICAgJHJvb3RTY29wZSwgICAkJEFuaW1hdGVSdW5uZXIsICAgJHJvb3RFbGVtZW50LCAgICRzbmlmZmVyLCAgICQkanFMaXRlLCAgICRkb2N1bWVudCkge1xuXG4gICAgLy8gb25seSBicm93c2VycyB0aGF0IHN1cHBvcnQgdGhlc2UgcHJvcGVydGllcyBjYW4gcmVuZGVyIGFuaW1hdGlvbnNcbiAgICBpZiAoISRzbmlmZmVyLmFuaW1hdGlvbnMgJiYgISRzbmlmZmVyLnRyYW5zaXRpb25zKSByZXR1cm4gbm9vcDtcblxuICAgIHZhciBib2R5Tm9kZSA9ICRkb2N1bWVudFswXS5ib2R5O1xuICAgIHZhciByb290Tm9kZSA9IGdldERvbU5vZGUoJHJvb3RFbGVtZW50KTtcblxuICAgIHZhciByb290Qm9keUVsZW1lbnQgPSBqcUxpdGUoXG4gICAgICAvLyB0aGlzIGlzIHRvIGF2b2lkIHVzaW5nIHNvbWV0aGluZyB0aGF0IGV4aXN0cyBvdXRzaWRlIG9mIHRoZSBib2R5XG4gICAgICAvLyB3ZSBhbHNvIHNwZWNpYWwgY2FzZSB0aGUgZG9jIGZyYWdlbWVudCBjYXNlIGJlY2F1c2Ugb3VyIHVuaXQgdGVzdCBjb2RlXG4gICAgICAvLyBhcHBlbmRzIHRoZSAkcm9vdEVsZW1lbnQgdG8gdGhlIGJvZHkgYWZ0ZXIgdGhlIGFwcCBoYXMgYmVlbiBib290c3RyYXBwZWRcbiAgICAgIGlzRG9jdW1lbnRGcmFnbWVudChyb290Tm9kZSkgfHwgYm9keU5vZGUuY29udGFpbnMocm9vdE5vZGUpID8gcm9vdE5vZGUgOiBib2R5Tm9kZVxuICAgICk7XG5cbiAgICB2YXIgYXBwbHlBbmltYXRpb25DbGFzc2VzID0gYXBwbHlBbmltYXRpb25DbGFzc2VzRmFjdG9yeSgkJGpxTGl0ZSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW5pdERyaXZlckZuKGFuaW1hdGlvbkRldGFpbHMpIHtcbiAgICAgIHJldHVybiBhbmltYXRpb25EZXRhaWxzLmZyb20gJiYgYW5pbWF0aW9uRGV0YWlscy50b1xuICAgICAgICAgID8gcHJlcGFyZUZyb21Ub0FuY2hvckFuaW1hdGlvbihhbmltYXRpb25EZXRhaWxzLmZyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkRldGFpbHMudG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkRldGFpbHMuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uRGV0YWlscy5hbmNob3JzKVxuICAgICAgICAgIDogcHJlcGFyZVJlZ3VsYXJBbmltYXRpb24oYW5pbWF0aW9uRGV0YWlscyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGZpbHRlckNzc0NsYXNzZXMoY2xhc3Nlcykge1xuICAgICAgLy9yZW1vdmUgYWxsIHRoZSBgbmctYCBzdHVmZlxuICAgICAgcmV0dXJuIGNsYXNzZXMucmVwbGFjZSgvXFxibmctXFxTK1xcYi9nLCAnJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VW5pcXVlVmFsdWVzKGEsIGIpIHtcbiAgICAgIGlmIChpc1N0cmluZyhhKSkgYSA9IGEuc3BsaXQoJyAnKTtcbiAgICAgIGlmIChpc1N0cmluZyhiKSkgYiA9IGIuc3BsaXQoJyAnKTtcbiAgICAgIHJldHVybiBhLmZpbHRlcihmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgcmV0dXJuIGIuaW5kZXhPZih2YWwpID09PSAtMTtcbiAgICAgIH0pLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlQW5jaG9yZWRBbmltYXRpb24oY2xhc3Nlcywgb3V0QW5jaG9yLCBpbkFuY2hvcikge1xuICAgICAgdmFyIGNsb25lID0ganFMaXRlKGdldERvbU5vZGUob3V0QW5jaG9yKS5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgdmFyIHN0YXJ0aW5nQ2xhc3NlcyA9IGZpbHRlckNzc0NsYXNzZXMoZ2V0Q2xhc3NWYWwoY2xvbmUpKTtcblxuICAgICAgb3V0QW5jaG9yLmFkZENsYXNzKE5HX0FOSU1BVEVfU0hJTV9DTEFTU19OQU1FKTtcbiAgICAgIGluQW5jaG9yLmFkZENsYXNzKE5HX0FOSU1BVEVfU0hJTV9DTEFTU19OQU1FKTtcblxuICAgICAgY2xvbmUuYWRkQ2xhc3MoTkdfQU5JTUFURV9BTkNIT1JfQ0xBU1NfTkFNRSk7XG5cbiAgICAgIHJvb3RCb2R5RWxlbWVudC5hcHBlbmQoY2xvbmUpO1xuXG4gICAgICB2YXIgYW5pbWF0b3JJbiwgYW5pbWF0b3JPdXQgPSBwcmVwYXJlT3V0QW5pbWF0aW9uKCk7XG5cbiAgICAgIC8vIHRoZSB1c2VyIG1heSBub3QgZW5kIHVwIHVzaW5nIHRoZSBgb3V0YCBhbmltYXRpb24gYW5kXG4gICAgICAvLyBvbmx5IG1ha2luZyB1c2Ugb2YgdGhlIGBpbmAgYW5pbWF0aW9uIG9yIHZpY2UtdmVyc2EuXG4gICAgICAvLyBJbiBlaXRoZXIgY2FzZSB3ZSBzaG91bGQgYWxsb3cgdGhpcyBhbmQgbm90IGFzc3VtZSB0aGVcbiAgICAgIC8vIGFuaW1hdGlvbiBpcyBvdmVyIHVubGVzcyBib3RoIGFuaW1hdGlvbnMgYXJlIG5vdCB1c2VkLlxuICAgICAgaWYgKCFhbmltYXRvck91dCkge1xuICAgICAgICBhbmltYXRvckluID0gcHJlcGFyZUluQW5pbWF0aW9uKCk7XG4gICAgICAgIGlmICghYW5pbWF0b3JJbikge1xuICAgICAgICAgIHJldHVybiBlbmQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnRpbmdBbmltYXRvciA9IGFuaW1hdG9yT3V0IHx8IGFuaW1hdG9ySW47XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcnVubmVyO1xuXG4gICAgICAgICAgdmFyIGN1cnJlbnRBbmltYXRpb24gPSBzdGFydGluZ0FuaW1hdG9yLnN0YXJ0KCk7XG4gICAgICAgICAgY3VycmVudEFuaW1hdGlvbi5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoIWFuaW1hdG9ySW4pIHtcbiAgICAgICAgICAgICAgYW5pbWF0b3JJbiA9IHByZXBhcmVJbkFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICBpZiAoYW5pbWF0b3JJbikge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRBbmltYXRpb24gPSBhbmltYXRvckluLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvbi5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICBlbmQoKTtcbiAgICAgICAgICAgICAgICAgIHJ1bm5lci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50QW5pbWF0aW9uO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpbiB0aGUgZXZlbnQgdGhhdCB0aGVyZSBpcyBubyBgaW5gIGFuaW1hdGlvblxuICAgICAgICAgICAgZW5kKCk7XG4gICAgICAgICAgICBydW5uZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJ1bm5lciA9IG5ldyAkJEFuaW1hdGVSdW5uZXIoe1xuICAgICAgICAgICAgZW5kOiBlbmRGbixcbiAgICAgICAgICAgIGNhbmNlbDogZW5kRm5cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBydW5uZXI7XG5cbiAgICAgICAgICBmdW5jdGlvbiBlbmRGbigpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRBbmltYXRpb24uZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBjYWxjdWxhdGVBbmNob3JTdHlsZXMoYW5jaG9yKSB7XG4gICAgICAgIHZhciBzdHlsZXMgPSB7fTtcblxuICAgICAgICB2YXIgY29vcmRzID0gZ2V0RG9tTm9kZShhbmNob3IpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIC8vIHdlIGl0ZXJhdGUgZGlyZWN0bHkgc2luY2Ugc2FmYXJpIG1lc3NlcyB1cCBhbmQgZG9lc24ndCByZXR1cm5cbiAgICAgICAgLy8gYWxsIHRoZSBrZXlzIGZvciB0aGUgY29vZHMgb2JqZWN0IHdoZW4gaXRlcmF0ZWRcbiAgICAgICAgZm9yRWFjaChbJ3dpZHRoJywnaGVpZ2h0JywndG9wJywnbGVmdCddLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb29yZHNba2V5XTtcbiAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgdmFsdWUgKz0gYm9keU5vZGUuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICB2YWx1ZSArPSBib2R5Tm9kZS5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgc3R5bGVzW2tleV0gPSBNYXRoLmZsb29yKHZhbHVlKSArICdweCc7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwcmVwYXJlT3V0QW5pbWF0aW9uKCkge1xuICAgICAgICB2YXIgYW5pbWF0b3IgPSAkYW5pbWF0ZUNzcyhjbG9uZSwge1xuICAgICAgICAgIGFkZENsYXNzOiBOR19PVVRfQU5DSE9SX0NMQVNTX05BTUUsXG4gICAgICAgICAgZGVsYXk6IHRydWUsXG4gICAgICAgICAgZnJvbTogY2FsY3VsYXRlQW5jaG9yU3R5bGVzKG91dEFuY2hvcilcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVhZCB0aGUgY29tbWVudCB3aXRoaW4gYHByZXBhcmVSZWd1bGFyQW5pbWF0aW9uYCB0byB1bmRlcnN0YW5kXG4gICAgICAgIC8vIHdoeSB0aGlzIGNoZWNrIGlzIG5lY2Vzc2FyeVxuICAgICAgICByZXR1cm4gYW5pbWF0b3IuJCR3aWxsQW5pbWF0ZSA/IGFuaW1hdG9yIDogbnVsbDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0Q2xhc3NWYWwoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5hdHRyKCdjbGFzcycpIHx8ICcnO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwcmVwYXJlSW5BbmltYXRpb24oKSB7XG4gICAgICAgIHZhciBlbmRpbmdDbGFzc2VzID0gZmlsdGVyQ3NzQ2xhc3NlcyhnZXRDbGFzc1ZhbChpbkFuY2hvcikpO1xuICAgICAgICB2YXIgdG9BZGQgPSBnZXRVbmlxdWVWYWx1ZXMoZW5kaW5nQ2xhc3Nlcywgc3RhcnRpbmdDbGFzc2VzKTtcbiAgICAgICAgdmFyIHRvUmVtb3ZlID0gZ2V0VW5pcXVlVmFsdWVzKHN0YXJ0aW5nQ2xhc3NlcywgZW5kaW5nQ2xhc3Nlcyk7XG5cbiAgICAgICAgdmFyIGFuaW1hdG9yID0gJGFuaW1hdGVDc3MoY2xvbmUsIHtcbiAgICAgICAgICB0bzogY2FsY3VsYXRlQW5jaG9yU3R5bGVzKGluQW5jaG9yKSxcbiAgICAgICAgICBhZGRDbGFzczogTkdfSU5fQU5DSE9SX0NMQVNTX05BTUUgKyAnICcgKyB0b0FkZCxcbiAgICAgICAgICByZW1vdmVDbGFzczogTkdfT1VUX0FOQ0hPUl9DTEFTU19OQU1FICsgJyAnICsgdG9SZW1vdmUsXG4gICAgICAgICAgZGVsYXk6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVhZCB0aGUgY29tbWVudCB3aXRoaW4gYHByZXBhcmVSZWd1bGFyQW5pbWF0aW9uYCB0byB1bmRlcnN0YW5kXG4gICAgICAgIC8vIHdoeSB0aGlzIGNoZWNrIGlzIG5lY2Vzc2FyeVxuICAgICAgICByZXR1cm4gYW5pbWF0b3IuJCR3aWxsQW5pbWF0ZSA/IGFuaW1hdG9yIDogbnVsbDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZW5kKCkge1xuICAgICAgICBjbG9uZS5yZW1vdmUoKTtcbiAgICAgICAgb3V0QW5jaG9yLnJlbW92ZUNsYXNzKE5HX0FOSU1BVEVfU0hJTV9DTEFTU19OQU1FKTtcbiAgICAgICAgaW5BbmNob3IucmVtb3ZlQ2xhc3MoTkdfQU5JTUFURV9TSElNX0NMQVNTX05BTUUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXBhcmVGcm9tVG9BbmNob3JBbmltYXRpb24oZnJvbSwgdG8sIGNsYXNzZXMsIGFuY2hvcnMpIHtcbiAgICAgIHZhciBmcm9tQW5pbWF0aW9uID0gcHJlcGFyZVJlZ3VsYXJBbmltYXRpb24oZnJvbSwgbm9vcCk7XG4gICAgICB2YXIgdG9BbmltYXRpb24gPSBwcmVwYXJlUmVndWxhckFuaW1hdGlvbih0bywgbm9vcCk7XG5cbiAgICAgIHZhciBhbmNob3JBbmltYXRpb25zID0gW107XG4gICAgICBmb3JFYWNoKGFuY2hvcnMsIGZ1bmN0aW9uKGFuY2hvcikge1xuICAgICAgICB2YXIgb3V0RWxlbWVudCA9IGFuY2hvclsnb3V0J107XG4gICAgICAgIHZhciBpbkVsZW1lbnQgPSBhbmNob3JbJ2luJ107XG4gICAgICAgIHZhciBhbmltYXRvciA9IHByZXBhcmVBbmNob3JlZEFuaW1hdGlvbihjbGFzc2VzLCBvdXRFbGVtZW50LCBpbkVsZW1lbnQpO1xuICAgICAgICBpZiAoYW5pbWF0b3IpIHtcbiAgICAgICAgICBhbmNob3JBbmltYXRpb25zLnB1c2goYW5pbWF0b3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gbm8gcG9pbnQgaW4gZG9pbmcgYW55dGhpbmcgd2hlbiB0aGVyZSBhcmUgbm8gZWxlbWVudHMgdG8gYW5pbWF0ZVxuICAgICAgaWYgKCFmcm9tQW5pbWF0aW9uICYmICF0b0FuaW1hdGlvbiAmJiBhbmNob3JBbmltYXRpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFuaW1hdGlvblJ1bm5lcnMgPSBbXTtcblxuICAgICAgICAgIGlmIChmcm9tQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBhbmltYXRpb25SdW5uZXJzLnB1c2goZnJvbUFuaW1hdGlvbi5zdGFydCgpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodG9BbmltYXRpb24pIHtcbiAgICAgICAgICAgIGFuaW1hdGlvblJ1bm5lcnMucHVzaCh0b0FuaW1hdGlvbi5zdGFydCgpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3JFYWNoKGFuY2hvckFuaW1hdGlvbnMsIGZ1bmN0aW9uKGFuaW1hdGlvbikge1xuICAgICAgICAgICAgYW5pbWF0aW9uUnVubmVycy5wdXNoKGFuaW1hdGlvbi5zdGFydCgpKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKHtcbiAgICAgICAgICAgIGVuZDogZW5kRm4sXG4gICAgICAgICAgICBjYW5jZWw6IGVuZEZuIC8vIENTUy1kcml2ZW4gYW5pbWF0aW9ucyBjYW5ub3QgYmUgY2FuY2VsbGVkLCBvbmx5IGVuZGVkXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkJEFuaW1hdGVSdW5uZXIuYWxsKGFuaW1hdGlvblJ1bm5lcnMsIGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICAgICAgICAgcnVubmVyLmNvbXBsZXRlKHN0YXR1cyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gcnVubmVyO1xuXG4gICAgICAgICAgZnVuY3Rpb24gZW5kRm4oKSB7XG4gICAgICAgICAgICBmb3JFYWNoKGFuaW1hdGlvblJ1bm5lcnMsIGZ1bmN0aW9uKHJ1bm5lcikge1xuICAgICAgICAgICAgICBydW5uZXIuZW5kKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZVJlZ3VsYXJBbmltYXRpb24oYW5pbWF0aW9uRGV0YWlscykge1xuICAgICAgdmFyIGVsZW1lbnQgPSBhbmltYXRpb25EZXRhaWxzLmVsZW1lbnQ7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFuaW1hdGlvbkRldGFpbHMub3B0aW9ucyB8fCB7fTtcblxuICAgICAgaWYgKGFuaW1hdGlvbkRldGFpbHMuc3RydWN0dXJhbCkge1xuICAgICAgICBvcHRpb25zLmV2ZW50ID0gYW5pbWF0aW9uRGV0YWlscy5ldmVudDtcbiAgICAgICAgb3B0aW9ucy5zdHJ1Y3R1cmFsID0gdHJ1ZTtcbiAgICAgICAgb3B0aW9ucy5hcHBseUNsYXNzZXNFYXJseSA9IHRydWU7XG5cbiAgICAgICAgLy8gd2Ugc3BlY2lhbCBjYXNlIHRoZSBsZWF2ZSBhbmltYXRpb24gc2luY2Ugd2Ugd2FudCB0byBlbnN1cmUgdGhhdFxuICAgICAgICAvLyB0aGUgZWxlbWVudCBpcyByZW1vdmVkIGFzIHNvb24gYXMgdGhlIGFuaW1hdGlvbiBpcyBvdmVyLiBPdGhlcndpc2VcbiAgICAgICAgLy8gYSBmbGlja2VyIG1pZ2h0IGFwcGVhciBvciB0aGUgZWxlbWVudCBtYXkgbm90IGJlIHJlbW92ZWQgYXQgYWxsXG4gICAgICAgIGlmIChhbmltYXRpb25EZXRhaWxzLmV2ZW50ID09PSAnbGVhdmUnKSB7XG4gICAgICAgICAgb3B0aW9ucy5vbkRvbmUgPSBvcHRpb25zLmRvbU9wZXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXZSBhc3NpZ24gdGhlIHByZXBhcmF0aW9uQ2xhc3NlcyBhcyB0aGUgYWN0dWFsIGFuaW1hdGlvbiBldmVudCBzaW5jZVxuICAgICAgLy8gdGhlIGludGVybmFscyBvZiAkYW5pbWF0ZUNzcyB3aWxsIGp1c3Qgc3VmZml4IHRoZSBldmVudCB0b2tlbiB2YWx1ZXNcbiAgICAgIC8vIHdpdGggYC1hY3RpdmVgIHRvIHRyaWdnZXIgdGhlIGFuaW1hdGlvbi5cbiAgICAgIGlmIChvcHRpb25zLnByZXBhcmF0aW9uQ2xhc3Nlcykge1xuICAgICAgICBvcHRpb25zLmV2ZW50ID0gY29uY2F0V2l0aFNwYWNlKG9wdGlvbnMuZXZlbnQsIG9wdGlvbnMucHJlcGFyYXRpb25DbGFzc2VzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGFuaW1hdG9yID0gJGFuaW1hdGVDc3MoZWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgIC8vIHRoZSBkcml2ZXIgbG9va3VwIGNvZGUgaW5zaWRlIG9mICQkYW5pbWF0aW9uIGF0dGVtcHRzIHRvIHNwYXduIGFcbiAgICAgIC8vIGRyaXZlciBvbmUgYnkgb25lIHVudGlsIGEgZHJpdmVyIHJldHVybnMgYS4kJHdpbGxBbmltYXRlIGFuaW1hdG9yIG9iamVjdC5cbiAgICAgIC8vICRhbmltYXRlQ3NzIHdpbGwgYWx3YXlzIHJldHVybiBhbiBvYmplY3QsIGhvd2V2ZXIsIGl0IHdpbGwgcGFzcyBpblxuICAgICAgLy8gYSBmbGFnIGFzIGEgaGludCBhcyB0byB3aGV0aGVyIGFuIGFuaW1hdGlvbiB3YXMgZGV0ZWN0ZWQgb3Igbm90XG4gICAgICByZXR1cm4gYW5pbWF0b3IuJCR3aWxsQW5pbWF0ZSA/IGFuaW1hdG9yIDogbnVsbDtcbiAgICB9XG4gIH1dO1xufV07XG5cbi8vIFRPRE8obWF0c2tvKTogdXNlIGNhY2hpbmcgaGVyZSB0byBzcGVlZCB0aGluZ3MgdXAgZm9yIGRldGVjdGlvblxuLy8gVE9ETyhtYXRza28pOiBhZGQgZG9jdW1lbnRhdGlvblxuLy8gIGJ5IHRoZSB0aW1lLi4uXG5cbnZhciAkJEFuaW1hdGVKc1Byb3ZpZGVyID0gWyckYW5pbWF0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJGFuaW1hdGVQcm92aWRlcikge1xuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsICckJEFuaW1hdGVSdW5uZXInLCAnJCRqcUxpdGUnLFxuICAgICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgICAkJEFuaW1hdGVSdW5uZXIsICAgJCRqcUxpdGUpIHtcblxuICAgIHZhciBhcHBseUFuaW1hdGlvbkNsYXNzZXMgPSBhcHBseUFuaW1hdGlvbkNsYXNzZXNGYWN0b3J5KCQkanFMaXRlKTtcbiAgICAgICAgIC8vICRhbmltYXRlSnMoZWxlbWVudCwgJ2VudGVyJyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBjbGFzc2VzLCBvcHRpb25zKSB7XG4gICAgICAvLyB0aGUgYGNsYXNzZXNgIGFyZ3VtZW50IGlzIG9wdGlvbmFsIGFuZCBpZiBpdCBpcyBub3QgdXNlZFxuICAgICAgLy8gdGhlbiB0aGUgY2xhc3NlcyB3aWxsIGJlIHJlc29sdmVkIGZyb20gdGhlIGVsZW1lbnQncyBjbGFzc05hbWVcbiAgICAgIC8vIHByb3BlcnR5IGFzIHdlbGwgYXMgb3B0aW9ucy5hZGRDbGFzcy9vcHRpb25zLnJlbW92ZUNsYXNzLlxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMgJiYgaXNPYmplY3QoY2xhc3NlcykpIHtcbiAgICAgICAgb3B0aW9ucyA9IGNsYXNzZXM7XG4gICAgICAgIGNsYXNzZXMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGlvbk9wdGlvbnMob3B0aW9ucyk7XG4gICAgICBpZiAoIWNsYXNzZXMpIHtcbiAgICAgICAgY2xhc3NlcyA9IGVsZW1lbnQuYXR0cignY2xhc3MnKSB8fCAnJztcbiAgICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MpIHtcbiAgICAgICAgICBjbGFzc2VzICs9ICcgJyArIG9wdGlvbnMuYWRkQ2xhc3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucmVtb3ZlQ2xhc3MpIHtcbiAgICAgICAgICBjbGFzc2VzICs9ICcgJyArIG9wdGlvbnMucmVtb3ZlQ2xhc3M7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGNsYXNzZXNUb0FkZCA9IG9wdGlvbnMuYWRkQ2xhc3M7XG4gICAgICB2YXIgY2xhc3Nlc1RvUmVtb3ZlID0gb3B0aW9ucy5yZW1vdmVDbGFzcztcblxuICAgICAgLy8gdGhlIGxvb2t1cEFuaW1hdGlvbnMgZnVuY3Rpb24gcmV0dXJucyBhIHNlcmllcyBvZiBhbmltYXRpb24gb2JqZWN0cyB0aGF0IGFyZVxuICAgICAgLy8gbWF0Y2hlZCB1cCB3aXRoIG9uZSBvciBtb3JlIG9mIHRoZSBDU1MgY2xhc3Nlcy4gVGhlc2UgYW5pbWF0aW9uIG9iamVjdHMgYXJlXG4gICAgICAvLyBkZWZpbmVkIHZpYSB0aGUgbW9kdWxlLmFuaW1hdGlvbiBmYWN0b3J5IGZ1bmN0aW9uLiBJZiBub3RoaW5nIGlzIGRldGVjdGVkIHRoZW5cbiAgICAgIC8vIHdlIGRvbid0IHJldHVybiBhbnl0aGluZyB3aGljaCB0aGVuIG1ha2VzICRhbmltYXRpb24gcXVlcnkgdGhlIG5leHQgZHJpdmVyLlxuICAgICAgdmFyIGFuaW1hdGlvbnMgPSBsb29rdXBBbmltYXRpb25zKGNsYXNzZXMpO1xuICAgICAgdmFyIGJlZm9yZSwgYWZ0ZXI7XG4gICAgICBpZiAoYW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGFmdGVyRm4sIGJlZm9yZUZuO1xuICAgICAgICBpZiAoZXZlbnQgPT0gJ2xlYXZlJykge1xuICAgICAgICAgIGJlZm9yZUZuID0gJ2xlYXZlJztcbiAgICAgICAgICBhZnRlckZuID0gJ2FmdGVyTGVhdmUnOyAvLyBUT0RPKG1hdHNrbyk6IGdldCByaWQgb2YgdGhpc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJlZm9yZUZuID0gJ2JlZm9yZScgKyBldmVudC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGV2ZW50LnN1YnN0cigxKTtcbiAgICAgICAgICBhZnRlckZuID0gZXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQgIT09ICdlbnRlcicgJiYgZXZlbnQgIT09ICdtb3ZlJykge1xuICAgICAgICAgIGJlZm9yZSA9IHBhY2thZ2VBbmltYXRpb25zKGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zLCBhbmltYXRpb25zLCBiZWZvcmVGbik7XG4gICAgICAgIH1cbiAgICAgICAgYWZ0ZXIgID0gcGFja2FnZUFuaW1hdGlvbnMoZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGFuaW1hdGlvbnMsIGFmdGVyRm4pO1xuICAgICAgfVxuXG4gICAgICAvLyBubyBtYXRjaGluZyBhbmltYXRpb25zXG4gICAgICBpZiAoIWJlZm9yZSAmJiAhYWZ0ZXIpIHJldHVybjtcblxuICAgICAgZnVuY3Rpb24gYXBwbHlPcHRpb25zKCkge1xuICAgICAgICBvcHRpb25zLmRvbU9wZXJhdGlvbigpO1xuICAgICAgICBhcHBseUFuaW1hdGlvbkNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgY2xvc2VBY3RpdmVBbmltYXRpb25zO1xuICAgICAgICAgIHZhciBjaGFpbiA9IFtdO1xuXG4gICAgICAgICAgaWYgKGJlZm9yZSkge1xuICAgICAgICAgICAgY2hhaW4ucHVzaChmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgICBjbG9zZUFjdGl2ZUFuaW1hdGlvbnMgPSBiZWZvcmUoZm4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoYWluLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hhaW4ucHVzaChmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgICBhcHBseU9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgZm4odHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBwbHlPcHRpb25zKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGFmdGVyKSB7XG4gICAgICAgICAgICBjaGFpbi5wdXNoKGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICAgIGNsb3NlQWN0aXZlQW5pbWF0aW9ucyA9IGFmdGVyKGZuKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBhbmltYXRpb25DbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgcnVubmVyID0gbmV3ICQkQW5pbWF0ZVJ1bm5lcih7XG4gICAgICAgICAgICBlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbmRBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZW5kQW5pbWF0aW9ucyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICQkQW5pbWF0ZVJ1bm5lci5jaGFpbihjaGFpbiwgb25Db21wbGV0ZSk7XG4gICAgICAgICAgcmV0dXJuIHJ1bm5lcjtcblxuICAgICAgICAgIGZ1bmN0aW9uIG9uQ29tcGxldGUoc3VjY2Vzcykge1xuICAgICAgICAgICAgYW5pbWF0aW9uQ2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGFwcGx5T3B0aW9ucygpO1xuICAgICAgICAgICAgYXBwbHlBbmltYXRpb25TdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBydW5uZXIuY29tcGxldGUoc3VjY2Vzcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZW5kQW5pbWF0aW9ucyhjYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIGlmICghYW5pbWF0aW9uQ2xvc2VkKSB7XG4gICAgICAgICAgICAgIChjbG9zZUFjdGl2ZUFuaW1hdGlvbnMgfHwgbm9vcCkoY2FuY2VsbGVkKTtcbiAgICAgICAgICAgICAgb25Db21wbGV0ZShjYW5jZWxsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gZXhlY3V0ZUFuaW1hdGlvbkZuKGZuLCBlbGVtZW50LCBldmVudCwgb3B0aW9ucywgb25Eb25lKSB7XG4gICAgICAgIHZhciBhcmdzO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAgICAgY2FzZSAnYW5pbWF0ZSc6XG4gICAgICAgICAgICBhcmdzID0gW2VsZW1lbnQsIG9wdGlvbnMuZnJvbSwgb3B0aW9ucy50bywgb25Eb25lXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnc2V0Q2xhc3MnOlxuICAgICAgICAgICAgYXJncyA9IFtlbGVtZW50LCBjbGFzc2VzVG9BZGQsIGNsYXNzZXNUb1JlbW92ZSwgb25Eb25lXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYWRkQ2xhc3MnOlxuICAgICAgICAgICAgYXJncyA9IFtlbGVtZW50LCBjbGFzc2VzVG9BZGQsIG9uRG9uZV07XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3JlbW92ZUNsYXNzJzpcbiAgICAgICAgICAgIGFyZ3MgPSBbZWxlbWVudCwgY2xhc3Nlc1RvUmVtb3ZlLCBvbkRvbmVdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXJncyA9IFtlbGVtZW50LCBvbkRvbmVdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBhcmdzLnB1c2gob3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHZhbHVlID0gZm4uYXBwbHkoZm4sIGFyZ3MpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZS5zdGFydCkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3RhcnQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiAkJEFuaW1hdGVSdW5uZXIpIHtcbiAgICAgICAgICAgIHZhbHVlLmRvbmUob25Eb25lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBvcHRpb25hbCBvbkVuZCAvIG9uQ2FuY2VsIGNhbGxiYWNrXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdyb3VwRXZlbnRlZEFuaW1hdGlvbnMoZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGFuaW1hdGlvbnMsIGZuTmFtZSkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3JFYWNoKGFuaW1hdGlvbnMsIGZ1bmN0aW9uKGFuaSkge1xuICAgICAgICAgIHZhciBhbmltYXRpb24gPSBhbmlbZm5OYW1lXTtcbiAgICAgICAgICBpZiAoIWFuaW1hdGlvbikgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gbm90ZSB0aGF0IGFsbCBvZiB0aGVzZSBhbmltYXRpb25zIHdpbGwgcnVuIGluIHBhcmFsbGVsXG4gICAgICAgICAgb3BlcmF0aW9ucy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHJ1bm5lcjtcbiAgICAgICAgICAgIHZhciBlbmRQcm9ncmVzc0NiO1xuXG4gICAgICAgICAgICB2YXIgcmVzb2x2ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBvbkFuaW1hdGlvbkNvbXBsZXRlID0gZnVuY3Rpb24ocmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAoZW5kUHJvZ3Jlc3NDYiB8fCBub29wKShyZWplY3RlZCk7XG4gICAgICAgICAgICAgICAgcnVubmVyLmNvbXBsZXRlKCFyZWplY3RlZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJ1bm5lciA9IG5ldyAkJEFuaW1hdGVSdW5uZXIoe1xuICAgICAgICAgICAgICBlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG9uQW5pbWF0aW9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvbkFuaW1hdGlvbkNvbXBsZXRlKHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZW5kUHJvZ3Jlc3NDYiA9IGV4ZWN1dGVBbmltYXRpb25GbihhbmltYXRpb24sIGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbmNlbGxlZCA9IHJlc3VsdCA9PT0gZmFsc2U7XG4gICAgICAgICAgICAgIG9uQW5pbWF0aW9uQ29tcGxldGUoY2FuY2VsbGVkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb3BlcmF0aW9ucztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFja2FnZUFuaW1hdGlvbnMoZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGFuaW1hdGlvbnMsIGZuTmFtZSkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IGdyb3VwRXZlbnRlZEFuaW1hdGlvbnMoZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGFuaW1hdGlvbnMsIGZuTmFtZSk7XG4gICAgICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHZhciBhLGI7XG4gICAgICAgICAgaWYgKGZuTmFtZSA9PT0gJ2JlZm9yZVNldENsYXNzJykge1xuICAgICAgICAgICAgYSA9IGdyb3VwRXZlbnRlZEFuaW1hdGlvbnMoZWxlbWVudCwgJ3JlbW92ZUNsYXNzJywgb3B0aW9ucywgYW5pbWF0aW9ucywgJ2JlZm9yZVJlbW92ZUNsYXNzJyk7XG4gICAgICAgICAgICBiID0gZ3JvdXBFdmVudGVkQW5pbWF0aW9ucyhlbGVtZW50LCAnYWRkQ2xhc3MnLCBvcHRpb25zLCBhbmltYXRpb25zLCAnYmVmb3JlQWRkQ2xhc3MnKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZuTmFtZSA9PT0gJ3NldENsYXNzJykge1xuICAgICAgICAgICAgYSA9IGdyb3VwRXZlbnRlZEFuaW1hdGlvbnMoZWxlbWVudCwgJ3JlbW92ZUNsYXNzJywgb3B0aW9ucywgYW5pbWF0aW9ucywgJ3JlbW92ZUNsYXNzJyk7XG4gICAgICAgICAgICBiID0gZ3JvdXBFdmVudGVkQW5pbWF0aW9ucyhlbGVtZW50LCAnYWRkQ2xhc3MnLCBvcHRpb25zLCBhbmltYXRpb25zLCAnYWRkQ2xhc3MnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYSkge1xuICAgICAgICAgICAgb3BlcmF0aW9ucyA9IG9wZXJhdGlvbnMuY29uY2F0KGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYikge1xuICAgICAgICAgICAgb3BlcmF0aW9ucyA9IG9wZXJhdGlvbnMuY29uY2F0KGIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFRPRE8obWF0c2tvKTogYWRkIGRvY3VtZW50YXRpb25cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHN0YXJ0QW5pbWF0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIHJ1bm5lcnMgPSBbXTtcbiAgICAgICAgICBpZiAob3BlcmF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvckVhY2gob3BlcmF0aW9ucywgZnVuY3Rpb24oYW5pbWF0ZUZuKSB7XG4gICAgICAgICAgICAgIHJ1bm5lcnMucHVzaChhbmltYXRlRm4oKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBydW5uZXJzLmxlbmd0aCA/ICQkQW5pbWF0ZVJ1bm5lci5hbGwocnVubmVycywgY2FsbGJhY2spIDogY2FsbGJhY2soKTtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBlbmRGbihyZWplY3QpIHtcbiAgICAgICAgICAgIGZvckVhY2gocnVubmVycywgZnVuY3Rpb24ocnVubmVyKSB7XG4gICAgICAgICAgICAgIHJlamVjdCA/IHJ1bm5lci5jYW5jZWwoKSA6IHJ1bm5lci5lbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxvb2t1cEFuaW1hdGlvbnMoY2xhc3Nlcykge1xuICAgICAgY2xhc3NlcyA9IGlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogY2xhc3Nlcy5zcGxpdCgnICcpO1xuICAgICAgdmFyIG1hdGNoZXMgPSBbXSwgZmxhZ01hcCA9IHt9O1xuICAgICAgZm9yICh2YXIgaT0wOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2xhc3MgPSBjbGFzc2VzW2ldLFxuICAgICAgICAgICAgYW5pbWF0aW9uRmFjdG9yeSA9ICRhbmltYXRlUHJvdmlkZXIuJCRyZWdpc3RlcmVkQW5pbWF0aW9uc1trbGFzc107XG4gICAgICAgIGlmIChhbmltYXRpb25GYWN0b3J5ICYmICFmbGFnTWFwW2tsYXNzXSkge1xuICAgICAgICAgIG1hdGNoZXMucHVzaCgkaW5qZWN0b3IuZ2V0KGFuaW1hdGlvbkZhY3RvcnkpKTtcbiAgICAgICAgICBmbGFnTWFwW2tsYXNzXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH1cbiAgfV07XG59XTtcblxudmFyICQkQW5pbWF0ZUpzRHJpdmVyUHJvdmlkZXIgPSBbJyQkYW5pbWF0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkJGFuaW1hdGlvblByb3ZpZGVyKSB7XG4gICQkYW5pbWF0aW9uUHJvdmlkZXIuZHJpdmVycy5wdXNoKCckJGFuaW1hdGVKc0RyaXZlcicpO1xuICB0aGlzLiRnZXQgPSBbJyQkYW5pbWF0ZUpzJywgJyQkQW5pbWF0ZVJ1bm5lcicsIGZ1bmN0aW9uKCQkYW5pbWF0ZUpzLCAkJEFuaW1hdGVSdW5uZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaW5pdERyaXZlckZuKGFuaW1hdGlvbkRldGFpbHMpIHtcbiAgICAgIGlmIChhbmltYXRpb25EZXRhaWxzLmZyb20gJiYgYW5pbWF0aW9uRGV0YWlscy50bykge1xuICAgICAgICB2YXIgZnJvbUFuaW1hdGlvbiA9IHByZXBhcmVBbmltYXRpb24oYW5pbWF0aW9uRGV0YWlscy5mcm9tKTtcbiAgICAgICAgdmFyIHRvQW5pbWF0aW9uID0gcHJlcGFyZUFuaW1hdGlvbihhbmltYXRpb25EZXRhaWxzLnRvKTtcbiAgICAgICAgaWYgKCFmcm9tQW5pbWF0aW9uICYmICF0b0FuaW1hdGlvbikgcmV0dXJuO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFuaW1hdGlvblJ1bm5lcnMgPSBbXTtcblxuICAgICAgICAgICAgaWYgKGZyb21BbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uUnVubmVycy5wdXNoKGZyb21BbmltYXRpb24uc3RhcnQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0b0FuaW1hdGlvbikge1xuICAgICAgICAgICAgICBhbmltYXRpb25SdW5uZXJzLnB1c2godG9BbmltYXRpb24uc3RhcnQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQkQW5pbWF0ZVJ1bm5lci5hbGwoYW5pbWF0aW9uUnVubmVycywgZG9uZSk7XG5cbiAgICAgICAgICAgIHZhciBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKHtcbiAgICAgICAgICAgICAgZW5kOiBlbmRGbkZhY3RvcnkoKSxcbiAgICAgICAgICAgICAgY2FuY2VsOiBlbmRGbkZhY3RvcnkoKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBydW5uZXI7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuZEZuRmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZvckVhY2goYW5pbWF0aW9uUnVubmVycywgZnVuY3Rpb24ocnVubmVyKSB7XG4gICAgICAgICAgICAgICAgICAvLyBhdCB0aGlzIHBvaW50IHdlIGNhbm5vdCBjYW5jZWwgYW5pbWF0aW9ucyBmb3IgZ3JvdXBzIGp1c3QgeWV0LiAxLjUrXG4gICAgICAgICAgICAgICAgICBydW5uZXIuZW5kKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvbmUoc3RhdHVzKSB7XG4gICAgICAgICAgICAgIHJ1bm5lci5jb21wbGV0ZShzdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwcmVwYXJlQW5pbWF0aW9uKGFuaW1hdGlvbkRldGFpbHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlQW5pbWF0aW9uKGFuaW1hdGlvbkRldGFpbHMpIHtcbiAgICAgIC8vIFRPRE8obWF0c2tvKTogbWFrZSBzdXJlIHRvIGNoZWNrIGZvciBncm91cGVkIGFuaW1hdGlvbnMgYW5kIGRlbGVnYXRlIGRvd24gdG8gbm9ybWFsIGFuaW1hdGlvbnNcbiAgICAgIHZhciBlbGVtZW50ID0gYW5pbWF0aW9uRGV0YWlscy5lbGVtZW50O1xuICAgICAgdmFyIGV2ZW50ID0gYW5pbWF0aW9uRGV0YWlscy5ldmVudDtcbiAgICAgIHZhciBvcHRpb25zID0gYW5pbWF0aW9uRGV0YWlscy5vcHRpb25zO1xuICAgICAgdmFyIGNsYXNzZXMgPSBhbmltYXRpb25EZXRhaWxzLmNsYXNzZXM7XG4gICAgICByZXR1cm4gJCRhbmltYXRlSnMoZWxlbWVudCwgZXZlbnQsIGNsYXNzZXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfV07XG59XTtcblxudmFyIE5HX0FOSU1BVEVfQVRUUl9OQU1FID0gJ2RhdGEtbmctYW5pbWF0ZSc7XG52YXIgTkdfQU5JTUFURV9QSU5fREFUQSA9ICckbmdBbmltYXRlUGluJztcbnZhciAkJEFuaW1hdGVRdWV1ZVByb3ZpZGVyID0gWyckYW5pbWF0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJGFuaW1hdGVQcm92aWRlcikge1xuICB2YXIgUFJFX0RJR0VTVF9TVEFURSA9IDE7XG4gIHZhciBSVU5OSU5HX1NUQVRFID0gMjtcblxuICB2YXIgcnVsZXMgPSB0aGlzLnJ1bGVzID0ge1xuICAgIHNraXA6IFtdLFxuICAgIGNhbmNlbDogW10sXG4gICAgam9pbjogW11cbiAgfTtcblxuICBmdW5jdGlvbiBpc0FsbG93ZWQocnVsZVR5cGUsIGVsZW1lbnQsIGN1cnJlbnRBbmltYXRpb24sIHByZXZpb3VzQW5pbWF0aW9uKSB7XG4gICAgcmV0dXJuIHJ1bGVzW3J1bGVUeXBlXS5zb21lKGZ1bmN0aW9uKGZuKSB7XG4gICAgICByZXR1cm4gZm4oZWxlbWVudCwgY3VycmVudEFuaW1hdGlvbiwgcHJldmlvdXNBbmltYXRpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQW5pbWF0aW9uQ2xhc3NlcyhvcHRpb25zLCBhbmQpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgYSA9IChvcHRpb25zLmFkZENsYXNzIHx8ICcnKS5sZW5ndGggPiAwO1xuICAgIHZhciBiID0gKG9wdGlvbnMucmVtb3ZlQ2xhc3MgfHwgJycpLmxlbmd0aCA+IDA7XG4gICAgcmV0dXJuIGFuZCA/IGEgJiYgYiA6IGEgfHwgYjtcbiAgfVxuXG4gIHJ1bGVzLmpvaW4ucHVzaChmdW5jdGlvbihlbGVtZW50LCBuZXdBbmltYXRpb24sIGN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAvLyBpZiB0aGUgbmV3IGFuaW1hdGlvbiBpcyBjbGFzcy1iYXNlZCB0aGVuIHdlIGNhbiBqdXN0IHRhY2sgdGhhdCBvblxuICAgIHJldHVybiAhbmV3QW5pbWF0aW9uLnN0cnVjdHVyYWwgJiYgaGFzQW5pbWF0aW9uQ2xhc3NlcyhuZXdBbmltYXRpb24ub3B0aW9ucyk7XG4gIH0pO1xuXG4gIHJ1bGVzLnNraXAucHVzaChmdW5jdGlvbihlbGVtZW50LCBuZXdBbmltYXRpb24sIGN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIGFuaW1hdGUgYW55dGhpbmcgaWYgbm8gY2xhc3NlcyBhcmUgYmVpbmcgYWRkZWQgYW5kXG4gICAgLy8gdGhlcmUgaXMgbm8gc3RydWN0dXJhbCBhbmltYXRpb24gdGhhdCB3aWxsIGJlIHRyaWdnZXJlZFxuICAgIHJldHVybiAhbmV3QW5pbWF0aW9uLnN0cnVjdHVyYWwgJiYgIWhhc0FuaW1hdGlvbkNsYXNzZXMobmV3QW5pbWF0aW9uLm9wdGlvbnMpO1xuICB9KTtcblxuICBydWxlcy5za2lwLnB1c2goZnVuY3Rpb24oZWxlbWVudCwgbmV3QW5pbWF0aW9uLCBjdXJyZW50QW5pbWF0aW9uKSB7XG4gICAgLy8gd2h5IHNob3VsZCB3ZSB0cmlnZ2VyIGEgbmV3IHN0cnVjdHVyYWwgYW5pbWF0aW9uIGlmIHRoZSBlbGVtZW50IHdpbGxcbiAgICAvLyBiZSByZW1vdmVkIGZyb20gdGhlIERPTSBhbnl3YXk/XG4gICAgcmV0dXJuIGN1cnJlbnRBbmltYXRpb24uZXZlbnQgPT0gJ2xlYXZlJyAmJiBuZXdBbmltYXRpb24uc3RydWN0dXJhbDtcbiAgfSk7XG5cbiAgcnVsZXMuc2tpcC5wdXNoKGZ1bmN0aW9uKGVsZW1lbnQsIG5ld0FuaW1hdGlvbiwgY3VycmVudEFuaW1hdGlvbikge1xuICAgIC8vIGlmIHRoZXJlIGlzIGFuIG9uZ29pbmcgY3VycmVudCBhbmltYXRpb24gdGhlbiBkb24ndCBldmVuIGJvdGhlciBydW5uaW5nIHRoZSBjbGFzcy1iYXNlZCBhbmltYXRpb25cbiAgICByZXR1cm4gY3VycmVudEFuaW1hdGlvbi5zdHJ1Y3R1cmFsICYmIGN1cnJlbnRBbmltYXRpb24uc3RhdGUgPT09IFJVTk5JTkdfU1RBVEUgJiYgIW5ld0FuaW1hdGlvbi5zdHJ1Y3R1cmFsO1xuICB9KTtcblxuICBydWxlcy5jYW5jZWwucHVzaChmdW5jdGlvbihlbGVtZW50LCBuZXdBbmltYXRpb24sIGN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAvLyB0aGVyZSBjYW4gbmV2ZXIgYmUgdHdvIHN0cnVjdHVyYWwgYW5pbWF0aW9ucyBydW5uaW5nIGF0IHRoZSBzYW1lIHRpbWVcbiAgICByZXR1cm4gY3VycmVudEFuaW1hdGlvbi5zdHJ1Y3R1cmFsICYmIG5ld0FuaW1hdGlvbi5zdHJ1Y3R1cmFsO1xuICB9KTtcblxuICBydWxlcy5jYW5jZWwucHVzaChmdW5jdGlvbihlbGVtZW50LCBuZXdBbmltYXRpb24sIGN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAvLyBpZiB0aGUgcHJldmlvdXMgYW5pbWF0aW9uIGlzIGFscmVhZHkgcnVubmluZywgYnV0IHRoZSBuZXcgYW5pbWF0aW9uIHdpbGxcbiAgICAvLyBiZSB0cmlnZ2VyZWQsIGJ1dCB0aGUgbmV3IGFuaW1hdGlvbiBpcyBzdHJ1Y3R1cmFsXG4gICAgcmV0dXJuIGN1cnJlbnRBbmltYXRpb24uc3RhdGUgPT09IFJVTk5JTkdfU1RBVEUgJiYgbmV3QW5pbWF0aW9uLnN0cnVjdHVyYWw7XG4gIH0pO1xuXG4gIHJ1bGVzLmNhbmNlbC5wdXNoKGZ1bmN0aW9uKGVsZW1lbnQsIG5ld0FuaW1hdGlvbiwgY3VycmVudEFuaW1hdGlvbikge1xuICAgIHZhciBuTyA9IG5ld0FuaW1hdGlvbi5vcHRpb25zO1xuICAgIHZhciBjTyA9IGN1cnJlbnRBbmltYXRpb24ub3B0aW9ucztcblxuICAgIC8vIGlmIHRoZSBleGFjdCBzYW1lIENTUyBjbGFzcyBpcyBhZGRlZC9yZW1vdmVkIHRoZW4gaXQncyBzYWZlIHRvIGNhbmNlbCBpdFxuICAgIHJldHVybiAobk8uYWRkQ2xhc3MgJiYgbk8uYWRkQ2xhc3MgPT09IGNPLnJlbW92ZUNsYXNzKSB8fCAobk8ucmVtb3ZlQ2xhc3MgJiYgbk8ucmVtb3ZlQ2xhc3MgPT09IGNPLmFkZENsYXNzKTtcbiAgfSk7XG5cbiAgdGhpcy4kZ2V0ID0gWyckJHJBRicsICckcm9vdFNjb3BlJywgJyRyb290RWxlbWVudCcsICckZG9jdW1lbnQnLCAnJCRIYXNoTWFwJyxcbiAgICAgICAgICAgICAgICckJGFuaW1hdGlvbicsICckJEFuaW1hdGVSdW5uZXInLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckJGpxTGl0ZScsICckJGZvcmNlUmVmbG93JyxcbiAgICAgICBmdW5jdGlvbigkJHJBRiwgICAkcm9vdFNjb3BlLCAgICRyb290RWxlbWVudCwgICAkZG9jdW1lbnQsICAgJCRIYXNoTWFwLFxuICAgICAgICAgICAgICAgICQkYW5pbWF0aW9uLCAgICQkQW5pbWF0ZVJ1bm5lciwgICAkdGVtcGxhdGVSZXF1ZXN0LCAgICQkanFMaXRlLCAgICQkZm9yY2VSZWZsb3cpIHtcblxuICAgIHZhciBhY3RpdmVBbmltYXRpb25zTG9va3VwID0gbmV3ICQkSGFzaE1hcCgpO1xuICAgIHZhciBkaXNhYmxlZEVsZW1lbnRzTG9va3VwID0gbmV3ICQkSGFzaE1hcCgpO1xuICAgIHZhciBhbmltYXRpb25zRW5hYmxlZCA9IG51bGw7XG5cbiAgICBmdW5jdGlvbiBwb3N0RGlnZXN0VGFza0ZhY3RvcnkoKSB7XG4gICAgICB2YXIgcG9zdERpZ2VzdENhbGxlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIC8vIHdlIG9ubHkgaXNzdWUgYSBjYWxsIHRvIHBvc3REaWdlc3QgYmVmb3JlXG4gICAgICAgIC8vIGl0IGhhcyBmaXJzdCBwYXNzZWQuIFRoaXMgcHJldmVudHMgYW55IGNhbGxiYWNrc1xuICAgICAgICAvLyBmcm9tIG5vdCBmaXJpbmcgb25jZSB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWRcbiAgICAgICAgLy8gc2luY2UgaXQgd2lsbCBiZSBvdXQgb2YgdGhlIGRpZ2VzdCBjeWNsZS5cbiAgICAgICAgaWYgKHBvc3REaWdlc3RDYWxsZWQpIHtcbiAgICAgICAgICBmbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcG9zdERpZ2VzdENhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICBmbigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFdhaXQgdW50aWwgYWxsIGRpcmVjdGl2ZSBhbmQgcm91dGUtcmVsYXRlZCB0ZW1wbGF0ZXMgYXJlIGRvd25sb2FkZWQgYW5kXG4gICAgLy8gY29tcGlsZWQuIFRoZSAkdGVtcGxhdGVSZXF1ZXN0LnRvdGFsUGVuZGluZ1JlcXVlc3RzIHZhcmlhYmxlIGtlZXBzIHRyYWNrIG9mXG4gICAgLy8gYWxsIG9mIHRoZSByZW1vdGUgdGVtcGxhdGVzIGJlaW5nIGN1cnJlbnRseSBkb3dubG9hZGVkLiBJZiB0aGVyZSBhcmUgbm9cbiAgICAvLyB0ZW1wbGF0ZXMgY3VycmVudGx5IGRvd25sb2FkaW5nIHRoZW4gdGhlIHdhdGNoZXIgd2lsbCBzdGlsbCBmaXJlIGFueXdheS5cbiAgICB2YXIgZGVyZWdpc3RlcldhdGNoID0gJHJvb3RTY29wZS4kd2F0Y2goXG4gICAgICBmdW5jdGlvbigpIHsgcmV0dXJuICR0ZW1wbGF0ZVJlcXVlc3QudG90YWxQZW5kaW5nUmVxdWVzdHMgPT09IDA7IH0sXG4gICAgICBmdW5jdGlvbihpc0VtcHR5KSB7XG4gICAgICAgIGlmICghaXNFbXB0eSkgcmV0dXJuO1xuICAgICAgICBkZXJlZ2lzdGVyV2F0Y2goKTtcblxuICAgICAgICAvLyBOb3cgdGhhdCBhbGwgdGVtcGxhdGVzIGhhdmUgYmVlbiBkb3dubG9hZGVkLCAkYW5pbWF0ZSB3aWxsIHdhaXQgdW50aWxcbiAgICAgICAgLy8gdGhlIHBvc3QgZGlnZXN0IHF1ZXVlIGlzIGVtcHR5IGJlZm9yZSBlbmFibGluZyBhbmltYXRpb25zLiBCeSBoYXZpbmcgdHdvXG4gICAgICAgIC8vIGNhbGxzIHRvICRwb3N0RGlnZXN0IGNhbGxzIHdlIGNhbiBlbnN1cmUgdGhhdCB0aGUgZmxhZyBpcyBlbmFibGVkIGF0IHRoZVxuICAgICAgICAvLyB2ZXJ5IGVuZCBvZiB0aGUgcG9zdCBkaWdlc3QgcXVldWUuIFNpbmNlIGFsbCBvZiB0aGUgYW5pbWF0aW9ucyBpbiAkYW5pbWF0ZVxuICAgICAgICAvLyB1c2UgJHBvc3REaWdlc3QsIGl0J3MgaW1wb3J0YW50IHRoYXQgdGhlIGNvZGUgYmVsb3cgZXhlY3V0ZXMgYXQgdGhlIGVuZC5cbiAgICAgICAgLy8gVGhpcyBiYXNpY2FsbHkgbWVhbnMgdGhhdCB0aGUgcGFnZSBpcyBmdWxseSBkb3dubG9hZGVkIGFuZCBjb21waWxlZCBiZWZvcmVcbiAgICAgICAgLy8gYW55IGFuaW1hdGlvbnMgYXJlIHRyaWdnZXJlZC5cbiAgICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyB3ZSBjaGVjayBmb3IgbnVsbCBkaXJlY3RseSBpbiB0aGUgZXZlbnQgdGhhdCB0aGUgYXBwbGljYXRpb24gYWxyZWFkeSBjYWxsZWRcbiAgICAgICAgICAgIC8vIC5lbmFibGVkKCkgd2l0aCB3aGF0ZXZlciBhcmd1bWVudHMgdGhhdCBpdCBwcm92aWRlZCBpdCB3aXRoXG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uc0VuYWJsZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdmFyIGNhbGxiYWNrUmVnaXN0cnkgPSB7fTtcblxuICAgIC8vIHJlbWVtYmVyIHRoYXQgdGhlIGNsYXNzTmFtZUZpbHRlciBpcyBzZXQgZHVyaW5nIHRoZSBwcm92aWRlci9jb25maWdcbiAgICAvLyBzdGFnZSB0aGVyZWZvcmUgd2UgY2FuIG9wdGltaXplIGhlcmUgYW5kIHNldHVwIGEgaGVscGVyIGZ1bmN0aW9uXG4gICAgdmFyIGNsYXNzTmFtZUZpbHRlciA9ICRhbmltYXRlUHJvdmlkZXIuY2xhc3NOYW1lRmlsdGVyKCk7XG4gICAgdmFyIGlzQW5pbWF0YWJsZUNsYXNzTmFtZSA9ICFjbGFzc05hbWVGaWx0ZXJcbiAgICAgICAgICAgICAgPyBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgICAgICAgOiBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3NOYW1lRmlsdGVyLnRlc3QoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgIHZhciBhcHBseUFuaW1hdGlvbkNsYXNzZXMgPSBhcHBseUFuaW1hdGlvbkNsYXNzZXNGYWN0b3J5KCQkanFMaXRlKTtcblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUFuaW1hdGlvbk9wdGlvbnMoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIG1lcmdlQW5pbWF0aW9uT3B0aW9ucyhlbGVtZW50LCBvcHRpb25zLCB7fSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluZENhbGxiYWNrcyhwYXJlbnQsIGVsZW1lbnQsIGV2ZW50KSB7XG4gICAgICB2YXIgdGFyZ2V0Tm9kZSA9IGdldERvbU5vZGUoZWxlbWVudCk7XG4gICAgICB2YXIgdGFyZ2V0UGFyZW50Tm9kZSA9IGdldERvbU5vZGUocGFyZW50KTtcblxuICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgIHZhciBlbnRyaWVzID0gY2FsbGJhY2tSZWdpc3RyeVtldmVudF07XG4gICAgICBpZiAoZW50cmllcykge1xuICAgICAgICBmb3JFYWNoKGVudHJpZXMsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgaWYgKGVudHJ5Lm5vZGUuY29udGFpbnModGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIG1hdGNoZXMucHVzaChlbnRyeS5jYWxsYmFjayk7XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2xlYXZlJyAmJiBlbnRyeS5ub2RlLmNvbnRhaW5zKHRhcmdldFBhcmVudE5vZGUpKSB7XG4gICAgICAgICAgICBtYXRjaGVzLnB1c2goZW50cnkuY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBvbjogZnVuY3Rpb24oZXZlbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoY29udGFpbmVyKTtcbiAgICAgICAgY2FsbGJhY2tSZWdpc3RyeVtldmVudF0gPSBjYWxsYmFja1JlZ2lzdHJ5W2V2ZW50XSB8fCBbXTtcbiAgICAgICAgY2FsbGJhY2tSZWdpc3RyeVtldmVudF0ucHVzaCh7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBlbnRyaWVzID0gY2FsbGJhY2tSZWdpc3RyeVtldmVudF07XG4gICAgICAgIGlmICghZW50cmllcykgcmV0dXJuO1xuXG4gICAgICAgIGNhbGxiYWNrUmVnaXN0cnlbZXZlbnRdID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IGZpbHRlckZyb21SZWdpc3RyeShlbnRyaWVzLCBjb250YWluZXIsIGNhbGxiYWNrKTtcblxuICAgICAgICBmdW5jdGlvbiBmaWx0ZXJGcm9tUmVnaXN0cnkobGlzdCwgbWF0Y2hDb250YWluZXIsIG1hdGNoQ2FsbGJhY2spIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVyTm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShtYXRjaENvbnRhaW5lcik7XG4gICAgICAgICAgcmV0dXJuIGxpc3QuZmlsdGVyKGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgICB2YXIgaXNNYXRjaCA9IGVudHJ5Lm5vZGUgPT09IGNvbnRhaW5lck5vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIW1hdGNoQ2FsbGJhY2sgfHwgZW50cnkuY2FsbGJhY2sgPT09IG1hdGNoQ2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuICFpc01hdGNoO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBwaW46IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgYXNzZXJ0QXJnKGlzRWxlbWVudChlbGVtZW50KSwgJ2VsZW1lbnQnLCAnbm90IGFuIGVsZW1lbnQnKTtcbiAgICAgICAgYXNzZXJ0QXJnKGlzRWxlbWVudChwYXJlbnRFbGVtZW50KSwgJ3BhcmVudEVsZW1lbnQnLCAnbm90IGFuIGVsZW1lbnQnKTtcbiAgICAgICAgZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfUElOX0RBVEEsIHBhcmVudEVsZW1lbnQpO1xuICAgICAgfSxcblxuICAgICAgcHVzaDogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGRvbU9wZXJhdGlvbikge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5kb21PcGVyYXRpb24gPSBkb21PcGVyYXRpb247XG4gICAgICAgIHJldHVybiBxdWV1ZUFuaW1hdGlvbihlbGVtZW50LCBldmVudCwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvLyB0aGlzIG1ldGhvZCBoYXMgZm91ciBzaWduYXR1cmVzOlxuICAgICAgLy8gICgpIC0gZ2xvYmFsIGdldHRlclxuICAgICAgLy8gIChib29sKSAtIGdsb2JhbCBzZXR0ZXJcbiAgICAgIC8vICAoZWxlbWVudCkgLSBlbGVtZW50IGdldHRlclxuICAgICAgLy8gIChlbGVtZW50LCBib29sKSAtIGVsZW1lbnQgc2V0dGVyPEYzNz5cbiAgICAgIGVuYWJsZWQ6IGZ1bmN0aW9uKGVsZW1lbnQsIGJvb2wpIHtcbiAgICAgICAgdmFyIGFyZ0NvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICBpZiAoYXJnQ291bnQgPT09IDApIHtcbiAgICAgICAgICAvLyAoKSAtIEdsb2JhbCBnZXR0ZXJcbiAgICAgICAgICBib29sID0gISFhbmltYXRpb25zRW5hYmxlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaGFzRWxlbWVudCA9IGlzRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGlmICghaGFzRWxlbWVudCkge1xuICAgICAgICAgICAgLy8gKGJvb2wpIC0gR2xvYmFsIHNldHRlclxuICAgICAgICAgICAgYm9vbCA9IGFuaW1hdGlvbnNFbmFibGVkID0gISFlbGVtZW50O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IGdldERvbU5vZGUoZWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgcmVjb3JkRXhpc3RzID0gZGlzYWJsZWRFbGVtZW50c0xvb2t1cC5nZXQobm9kZSk7XG5cbiAgICAgICAgICAgIGlmIChhcmdDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAvLyAoZWxlbWVudCkgLSBFbGVtZW50IGdldHRlclxuICAgICAgICAgICAgICBib29sID0gIXJlY29yZEV4aXN0cztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIChlbGVtZW50LCBib29sKSAtIEVsZW1lbnQgc2V0dGVyXG4gICAgICAgICAgICAgIGJvb2wgPSAhIWJvb2w7XG4gICAgICAgICAgICAgIGlmICghYm9vbCkge1xuICAgICAgICAgICAgICAgIGRpc2FibGVkRWxlbWVudHNMb29rdXAucHV0KG5vZGUsIHRydWUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZEV4aXN0cykge1xuICAgICAgICAgICAgICAgIGRpc2FibGVkRWxlbWVudHNMb29rdXAucmVtb3ZlKG5vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvb2w7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHF1ZXVlQW5pbWF0aW9uKGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbm9kZSwgcGFyZW50O1xuICAgICAgZWxlbWVudCA9IHN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KTtcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIG5vZGUgPSBnZXREb21Ob2RlKGVsZW1lbnQpO1xuICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGlvbk9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgIC8vIHdlIGNyZWF0ZSBhIGZha2UgcnVubmVyIHdpdGggYSB3b3JraW5nIHByb21pc2UuXG4gICAgICAvLyBUaGVzZSBtZXRob2RzIHdpbGwgYmVjb21lIGF2YWlsYWJsZSBhZnRlciB0aGUgZGlnZXN0IGhhcyBwYXNzZWRcbiAgICAgIHZhciBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKCk7XG5cbiAgICAgIC8vIHRoaXMgaXMgdXNlZCB0byB0cmlnZ2VyIGNhbGxiYWNrcyBpbiBwb3N0RGlnZXN0IG1vZGVcbiAgICAgIHZhciBydW5Jbk5leHRQb3N0RGlnZXN0T3JOb3cgPSBwb3N0RGlnZXN0VGFza0ZhY3RvcnkoKTtcblxuICAgICAgaWYgKGlzQXJyYXkob3B0aW9ucy5hZGRDbGFzcykpIHtcbiAgICAgICAgb3B0aW9ucy5hZGRDbGFzcyA9IG9wdGlvbnMuYWRkQ2xhc3Muam9pbignICcpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5hZGRDbGFzcyAmJiAhaXNTdHJpbmcob3B0aW9ucy5hZGRDbGFzcykpIHtcbiAgICAgICAgb3B0aW9ucy5hZGRDbGFzcyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5KG9wdGlvbnMucmVtb3ZlQ2xhc3MpKSB7XG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBvcHRpb25zLnJlbW92ZUNsYXNzLmpvaW4oJyAnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMucmVtb3ZlQ2xhc3MgJiYgIWlzU3RyaW5nKG9wdGlvbnMucmVtb3ZlQ2xhc3MpKSB7XG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5mcm9tICYmICFpc09iamVjdChvcHRpb25zLmZyb20pKSB7XG4gICAgICAgIG9wdGlvbnMuZnJvbSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnRvICYmICFpc09iamVjdChvcHRpb25zLnRvKSkge1xuICAgICAgICBvcHRpb25zLnRvID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gdGhlcmUgYXJlIHNpdHVhdGlvbnMgd2hlcmUgYSBkaXJlY3RpdmUgaXNzdWVzIGFuIGFuaW1hdGlvbiBmb3JcbiAgICAgIC8vIGEganFMaXRlIHdyYXBwZXIgdGhhdCBjb250YWlucyBvbmx5IGNvbW1lbnQgbm9kZXMuLi4gSWYgdGhpc1xuICAgICAgLy8gaGFwcGVucyB0aGVuIHRoZXJlIGlzIG5vIHdheSB3ZSBjYW4gcGVyZm9ybSBhbiBhbmltYXRpb25cbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICBjbG9zZSgpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xhc3NOYW1lID0gW25vZGUuY2xhc3NOYW1lLCBvcHRpb25zLmFkZENsYXNzLCBvcHRpb25zLnJlbW92ZUNsYXNzXS5qb2luKCcgJyk7XG4gICAgICBpZiAoIWlzQW5pbWF0YWJsZUNsYXNzTmFtZShjbGFzc05hbWUpKSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc1N0cnVjdHVyYWwgPSBbJ2VudGVyJywgJ21vdmUnLCAnbGVhdmUnXS5pbmRleE9mKGV2ZW50KSA+PSAwO1xuXG4gICAgICAvLyB0aGlzIGlzIGEgaGFyZCBkaXNhYmxlIG9mIGFsbCBhbmltYXRpb25zIGZvciB0aGUgYXBwbGljYXRpb24gb3Igb25cbiAgICAgIC8vIHRoZSBlbGVtZW50IGl0c2VsZiwgdGhlcmVmb3JlICB0aGVyZSBpcyBubyBuZWVkIHRvIGNvbnRpbnVlIGZ1cnRoZXJcbiAgICAgIC8vIHBhc3QgdGhpcyBwb2ludCBpZiBub3QgZW5hYmxlZFxuICAgICAgdmFyIHNraXBBbmltYXRpb25zID0gIWFuaW1hdGlvbnNFbmFibGVkIHx8IGRpc2FibGVkRWxlbWVudHNMb29rdXAuZ2V0KG5vZGUpO1xuICAgICAgdmFyIGV4aXN0aW5nQW5pbWF0aW9uID0gKCFza2lwQW5pbWF0aW9ucyAmJiBhY3RpdmVBbmltYXRpb25zTG9va3VwLmdldChub2RlKSkgfHwge307XG4gICAgICB2YXIgaGFzRXhpc3RpbmdBbmltYXRpb24gPSAhIWV4aXN0aW5nQW5pbWF0aW9uLnN0YXRlO1xuXG4gICAgICAvLyB0aGVyZSBpcyBubyBwb2ludCBpbiB0cmF2ZXJzaW5nIHRoZSBzYW1lIGNvbGxlY3Rpb24gb2YgcGFyZW50IGFuY2VzdG9ycyBpZiBhIGZvbGxvd3VwXG4gICAgICAvLyBhbmltYXRpb24gd2lsbCBiZSBydW4gb24gdGhlIHNhbWUgZWxlbWVudCB0aGF0IGFscmVhZHkgZGlkIGFsbCB0aGF0IGNoZWNraW5nIHdvcmtcbiAgICAgIGlmICghc2tpcEFuaW1hdGlvbnMgJiYgKCFoYXNFeGlzdGluZ0FuaW1hdGlvbiB8fCBleGlzdGluZ0FuaW1hdGlvbi5zdGF0ZSAhPSBQUkVfRElHRVNUX1NUQVRFKSkge1xuICAgICAgICBza2lwQW5pbWF0aW9ucyA9ICFhcmVBbmltYXRpb25zQWxsb3dlZChlbGVtZW50LCBwYXJlbnQsIGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNraXBBbmltYXRpb25zKSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0cnVjdHVyYWwpIHtcbiAgICAgICAgY2xvc2VDaGlsZEFuaW1hdGlvbnMoZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdBbmltYXRpb24gPSB7XG4gICAgICAgIHN0cnVjdHVyYWw6IGlzU3RydWN0dXJhbCxcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICBjbG9zZTogY2xvc2UsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIHJ1bm5lcjogcnVubmVyXG4gICAgICB9O1xuXG4gICAgICBpZiAoaGFzRXhpc3RpbmdBbmltYXRpb24pIHtcbiAgICAgICAgdmFyIHNraXBBbmltYXRpb25GbGFnID0gaXNBbGxvd2VkKCdza2lwJywgZWxlbWVudCwgbmV3QW5pbWF0aW9uLCBleGlzdGluZ0FuaW1hdGlvbik7XG4gICAgICAgIGlmIChza2lwQW5pbWF0aW9uRmxhZykge1xuICAgICAgICAgIGlmIChleGlzdGluZ0FuaW1hdGlvbi5zdGF0ZSA9PT0gUlVOTklOR19TVEFURSkge1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lcmdlQW5pbWF0aW9uT3B0aW9ucyhlbGVtZW50LCBleGlzdGluZ0FuaW1hdGlvbi5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0FuaW1hdGlvbi5ydW5uZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNhbmNlbEFuaW1hdGlvbkZsYWcgPSBpc0FsbG93ZWQoJ2NhbmNlbCcsIGVsZW1lbnQsIG5ld0FuaW1hdGlvbiwgZXhpc3RpbmdBbmltYXRpb24pO1xuICAgICAgICBpZiAoY2FuY2VsQW5pbWF0aW9uRmxhZykge1xuICAgICAgICAgIGlmIChleGlzdGluZ0FuaW1hdGlvbi5zdGF0ZSA9PT0gUlVOTklOR19TVEFURSkge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGVuZCB0aGUgYW5pbWF0aW9uIHJpZ2h0IGF3YXkgYW5kIGl0IGlzIHNhZmVcbiAgICAgICAgICAgIC8vIHRvIGRvIHNvIHNpbmNlIHRoZSBhbmltYXRpb24gaXMgYWxyZWFkeSBydW5uaW5nIGFuZCB0aGVcbiAgICAgICAgICAgIC8vIHJ1bm5lciBjYWxsYmFjayBjb2RlIHdpbGwgcnVuIGluIGFzeW5jXG4gICAgICAgICAgICBleGlzdGluZ0FuaW1hdGlvbi5ydW5uZXIuZW5kKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChleGlzdGluZ0FuaW1hdGlvbi5zdHJ1Y3R1cmFsKSB7XG4gICAgICAgICAgICAvLyB0aGlzIG1lYW5zIHRoYXQgdGhlIGFuaW1hdGlvbiBpcyBxdWV1ZWQgaW50byBhIGRpZ2VzdCwgYnV0XG4gICAgICAgICAgICAvLyBoYXNuJ3Qgc3RhcnRlZCB5ZXQuIFRoZXJlZm9yZSBpdCBpcyBzYWZlIHRvIHJ1biB0aGUgY2xvc2VcbiAgICAgICAgICAgIC8vIG1ldGhvZCB3aGljaCB3aWxsIGNhbGwgdGhlIHJ1bm5lciBtZXRob2RzIGluIGFzeW5jLlxuICAgICAgICAgICAgZXhpc3RpbmdBbmltYXRpb24uY2xvc2UoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIG1lcmdlIHRoZSBuZXcgYW5pbWF0aW9uIG9wdGlvbnMgaW50byBleGlzdGluZyBhbmltYXRpb24gb3B0aW9uc1xuICAgICAgICAgICAgbWVyZ2VBbmltYXRpb25PcHRpb25zKGVsZW1lbnQsIGV4aXN0aW5nQW5pbWF0aW9uLm9wdGlvbnMsIG5ld0FuaW1hdGlvbi5vcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0FuaW1hdGlvbi5ydW5uZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGEgam9pbmVkIGFuaW1hdGlvbiBtZWFucyB0aGF0IHRoaXMgYW5pbWF0aW9uIHdpbGwgdGFrZSBvdmVyIHRoZSBleGlzdGluZyBvbmVcbiAgICAgICAgICAvLyBzbyBhbiBleGFtcGxlIHdvdWxkIGludm9sdmUgYSBsZWF2ZSBhbmltYXRpb24gdGFraW5nIG92ZXIgYW4gZW50ZXIuIFRoZW4gd2hlblxuICAgICAgICAgIC8vIHRoZSBwb3N0RGlnZXN0IGtpY2tzIGluIHRoZSBlbnRlciB3aWxsIGJlIGlnbm9yZWQuXG4gICAgICAgICAgdmFyIGpvaW5BbmltYXRpb25GbGFnID0gaXNBbGxvd2VkKCdqb2luJywgZWxlbWVudCwgbmV3QW5pbWF0aW9uLCBleGlzdGluZ0FuaW1hdGlvbik7XG4gICAgICAgICAgaWYgKGpvaW5BbmltYXRpb25GbGFnKSB7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdBbmltYXRpb24uc3RhdGUgPT09IFJVTk5JTkdfU1RBVEUpIHtcbiAgICAgICAgICAgICAgbm9ybWFsaXplQW5pbWF0aW9uT3B0aW9ucyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFwcGx5R2VuZXJhdGVkUHJlcGFyYXRpb25DbGFzc2VzKGVsZW1lbnQsIGlzU3RydWN0dXJhbCA/IGV2ZW50IDogbnVsbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgZXZlbnQgPSBuZXdBbmltYXRpb24uZXZlbnQgPSBleGlzdGluZ0FuaW1hdGlvbi5ldmVudDtcbiAgICAgICAgICAgICAgb3B0aW9ucyA9IG1lcmdlQW5pbWF0aW9uT3B0aW9ucyhlbGVtZW50LCBleGlzdGluZ0FuaW1hdGlvbi5vcHRpb25zLCBuZXdBbmltYXRpb24ub3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgLy93ZSByZXR1cm4gdGhlIHNhbWUgcnVubmVyIHNpbmNlIG9ubHkgdGhlIG9wdGlvbiB2YWx1ZXMgb2YgdGhpcyBhbmltYXRpb24gd2lsbFxuICAgICAgICAgICAgICAvL2JlIGZlZCBpbnRvIHRoZSBgZXhpc3RpbmdBbmltYXRpb25gLlxuICAgICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdBbmltYXRpb24ucnVubmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm9ybWFsaXphdGlvbiBpbiB0aGlzIGNhc2UgbWVhbnMgdGhhdCBpdCByZW1vdmVzIHJlZHVuZGFudCBDU1MgY2xhc3NlcyB0aGF0XG4gICAgICAgIC8vIGFscmVhZHkgZXhpc3QgKGFkZENsYXNzKSBvciBkbyBub3QgZXhpc3QgKHJlbW92ZUNsYXNzKSBvbiB0aGUgZWxlbWVudFxuICAgICAgICBub3JtYWxpemVBbmltYXRpb25PcHRpb25zKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvLyB3aGVuIHRoZSBvcHRpb25zIGFyZSBtZXJnZWQgYW5kIGNsZWFuZWQgdXAgd2UgbWF5IGVuZCB1cCBub3QgaGF2aW5nIHRvIGRvXG4gICAgICAvLyBhbiBhbmltYXRpb24gYXQgYWxsLCB0aGVyZWZvcmUgd2Ugc2hvdWxkIGNoZWNrIHRoaXMgYmVmb3JlIGlzc3VpbmcgYSBwb3N0XG4gICAgICAvLyBkaWdlc3QgY2FsbGJhY2suIFN0cnVjdHVyYWwgYW5pbWF0aW9ucyB3aWxsIGFsd2F5cyBydW4gbm8gbWF0dGVyIHdoYXQuXG4gICAgICB2YXIgaXNWYWxpZEFuaW1hdGlvbiA9IG5ld0FuaW1hdGlvbi5zdHJ1Y3R1cmFsO1xuICAgICAgaWYgKCFpc1ZhbGlkQW5pbWF0aW9uKSB7XG4gICAgICAgIC8vIGFuaW1hdGUgKGZyb20vdG8pIGNhbiBiZSBxdWlja2x5IGNoZWNrZWQgZmlyc3QsIG90aGVyd2lzZSB3ZSBjaGVjayBpZiBhbnkgY2xhc3NlcyBhcmUgcHJlc2VudFxuICAgICAgICBpc1ZhbGlkQW5pbWF0aW9uID0gKG5ld0FuaW1hdGlvbi5ldmVudCA9PT0gJ2FuaW1hdGUnICYmIE9iamVjdC5rZXlzKG5ld0FuaW1hdGlvbi5vcHRpb25zLnRvIHx8IHt9KS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGhhc0FuaW1hdGlvbkNsYXNzZXMobmV3QW5pbWF0aW9uLm9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzVmFsaWRBbmltYXRpb24pIHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgY2xlYXJFbGVtZW50QW5pbWF0aW9uU3RhdGUoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgICB9XG5cbiAgICAgIC8vIHRoZSBjb3VudGVyIGtlZXBzIHRyYWNrIG9mIGNhbmNlbGxlZCBhbmltYXRpb25zXG4gICAgICB2YXIgY291bnRlciA9IChleGlzdGluZ0FuaW1hdGlvbi5jb3VudGVyIHx8IDApICsgMTtcbiAgICAgIG5ld0FuaW1hdGlvbi5jb3VudGVyID0gY291bnRlcjtcblxuICAgICAgbWFya0VsZW1lbnRBbmltYXRpb25TdGF0ZShlbGVtZW50LCBQUkVfRElHRVNUX1NUQVRFLCBuZXdBbmltYXRpb24pO1xuXG4gICAgICAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbkRldGFpbHMgPSBhY3RpdmVBbmltYXRpb25zTG9va3VwLmdldChub2RlKTtcbiAgICAgICAgdmFyIGFuaW1hdGlvbkNhbmNlbGxlZCA9ICFhbmltYXRpb25EZXRhaWxzO1xuICAgICAgICBhbmltYXRpb25EZXRhaWxzID0gYW5pbWF0aW9uRGV0YWlscyB8fCB7fTtcblxuICAgICAgICAvLyBpZiBhZGRDbGFzcy9yZW1vdmVDbGFzcyBpcyBjYWxsZWQgYmVmb3JlIHNvbWV0aGluZyBsaWtlIGVudGVyIHRoZW4gdGhlXG4gICAgICAgIC8vIHJlZ2lzdGVyZWQgcGFyZW50IGVsZW1lbnQgbWF5IG5vdCBiZSBwcmVzZW50LiBUaGUgY29kZSBiZWxvdyB3aWxsIGVuc3VyZVxuICAgICAgICAvLyB0aGF0IGEgZmluYWwgdmFsdWUgZm9yIHBhcmVudCBlbGVtZW50IGlzIG9idGFpbmVkXG4gICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0gZWxlbWVudC5wYXJlbnQoKSB8fCBbXTtcblxuICAgICAgICAvLyBhbmltYXRlL3N0cnVjdHVyYWwvY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhbGwgaGF2ZSByZXF1aXJlbWVudHMuIE90aGVyd2lzZSB0aGVyZVxuICAgICAgICAvLyBpcyBubyBwb2ludCBpbiBwZXJmb3JtaW5nIGFuIGFuaW1hdGlvbi4gVGhlIHBhcmVudCBub2RlIG11c3QgYWxzbyBiZSBzZXQuXG4gICAgICAgIHZhciBpc1ZhbGlkQW5pbWF0aW9uID0gcGFyZW50RWxlbWVudC5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIChhbmltYXRpb25EZXRhaWxzLmV2ZW50ID09PSAnYW5pbWF0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGFuaW1hdGlvbkRldGFpbHMuc3RydWN0dXJhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgaGFzQW5pbWF0aW9uQ2xhc3NlcyhhbmltYXRpb25EZXRhaWxzLm9wdGlvbnMpKTtcblxuICAgICAgICAvLyB0aGlzIG1lYW5zIHRoYXQgdGhlIHByZXZpb3VzIGFuaW1hdGlvbiB3YXMgY2FuY2VsbGVkXG4gICAgICAgIC8vIGV2ZW4gaWYgdGhlIGZvbGxvdy11cCBhbmltYXRpb24gaXMgdGhlIHNhbWUgZXZlbnRcbiAgICAgICAgaWYgKGFuaW1hdGlvbkNhbmNlbGxlZCB8fCBhbmltYXRpb25EZXRhaWxzLmNvdW50ZXIgIT09IGNvdW50ZXIgfHwgIWlzVmFsaWRBbmltYXRpb24pIHtcbiAgICAgICAgICAvLyBpZiBhbm90aGVyIGFuaW1hdGlvbiBkaWQgbm90IHRha2Ugb3ZlciB0aGVuIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byBtYWtlIHN1cmUgdGhhdCB0aGUgZG9tT3BlcmF0aW9uIGFuZCBvcHRpb25zIGFyZVxuICAgICAgICAgIC8vIGhhbmRsZWQgYWNjb3JkaW5nbHlcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgICBhcHBseUFuaW1hdGlvbkNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBhcHBseUFuaW1hdGlvblN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBpZiB0aGUgZXZlbnQgY2hhbmdlZCBmcm9tIHNvbWV0aGluZyBsaWtlIGVudGVyIHRvIGxlYXZlIHRoZW4gd2UgZG9cbiAgICAgICAgICAvLyBpdCwgb3RoZXJ3aXNlIGlmIGl0J3MgdGhlIHNhbWUgdGhlbiB0aGUgZW5kIHJlc3VsdCB3aWxsIGJlIHRoZSBzYW1lIHRvb1xuICAgICAgICAgIGlmIChhbmltYXRpb25DYW5jZWxsZWQgfHwgKGlzU3RydWN0dXJhbCAmJiBhbmltYXRpb25EZXRhaWxzLmV2ZW50ICE9PSBldmVudCkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZG9tT3BlcmF0aW9uKCk7XG4gICAgICAgICAgICBydW5uZXIuZW5kKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gaW4gdGhlIGV2ZW50IHRoYXQgdGhlIGVsZW1lbnQgYW5pbWF0aW9uIHdhcyBub3QgY2FuY2VsbGVkIG9yIGEgZm9sbG93LXVwIGFuaW1hdGlvblxuICAgICAgICAgIC8vIGlzbid0IGFsbG93ZWQgdG8gYW5pbWF0ZSBmcm9tIGhlcmUgdGhlbiB3ZSBuZWVkIHRvIGNsZWFyIHRoZSBzdGF0ZSBvZiB0aGUgZWxlbWVudFxuICAgICAgICAgIC8vIHNvIHRoYXQgYW55IGZ1dHVyZSBhbmltYXRpb25zIHdvbid0IHJlYWQgdGhlIGV4cGlyZWQgYW5pbWF0aW9uIGRhdGEuXG4gICAgICAgICAgaWYgKCFpc1ZhbGlkQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBjbGVhckVsZW1lbnRBbmltYXRpb25TdGF0ZShlbGVtZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzIGNvbWJpbmVkIG11bHRpcGxlIGNsYXNzIHRvIGFkZENsYXNzIC8gcmVtb3ZlQ2xhc3MgaW50byBhIHNldENsYXNzIGV2ZW50XG4gICAgICAgIC8vIHNvIGxvbmcgYXMgYSBzdHJ1Y3R1cmFsIGV2ZW50IGRpZCBub3QgdGFrZSBvdmVyIHRoZSBhbmltYXRpb25cbiAgICAgICAgZXZlbnQgPSAhYW5pbWF0aW9uRGV0YWlscy5zdHJ1Y3R1cmFsICYmIGhhc0FuaW1hdGlvbkNsYXNzZXMoYW5pbWF0aW9uRGV0YWlscy5vcHRpb25zLCB0cnVlKVxuICAgICAgICAgICAgPyAnc2V0Q2xhc3MnXG4gICAgICAgICAgICA6IGFuaW1hdGlvbkRldGFpbHMuZXZlbnQ7XG5cbiAgICAgICAgbWFya0VsZW1lbnRBbmltYXRpb25TdGF0ZShlbGVtZW50LCBSVU5OSU5HX1NUQVRFKTtcbiAgICAgICAgdmFyIHJlYWxSdW5uZXIgPSAkJGFuaW1hdGlvbihlbGVtZW50LCBldmVudCwgYW5pbWF0aW9uRGV0YWlscy5vcHRpb25zKTtcblxuICAgICAgICByZWFsUnVubmVyLmRvbmUoZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgICAgICAgY2xvc2UoIXN0YXR1cyk7XG4gICAgICAgICAgdmFyIGFuaW1hdGlvbkRldGFpbHMgPSBhY3RpdmVBbmltYXRpb25zTG9va3VwLmdldChub2RlKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uRGV0YWlscyAmJiBhbmltYXRpb25EZXRhaWxzLmNvdW50ZXIgPT09IGNvdW50ZXIpIHtcbiAgICAgICAgICAgIGNsZWFyRWxlbWVudEFuaW1hdGlvblN0YXRlKGdldERvbU5vZGUoZWxlbWVudCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub3RpZnlQcm9ncmVzcyhydW5uZXIsIGV2ZW50LCAnY2xvc2UnLCB7fSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHRoaXMgd2lsbCB1cGRhdGUgdGhlIHJ1bm5lcidzIGZsb3ctY29udHJvbCBldmVudHMgYmFzZWQgb25cbiAgICAgICAgLy8gdGhlIGByZWFsUnVubmVyYCBvYmplY3QuXG4gICAgICAgIHJ1bm5lci5zZXRIb3N0KHJlYWxSdW5uZXIpO1xuICAgICAgICBub3RpZnlQcm9ncmVzcyhydW5uZXIsIGV2ZW50LCAnc3RhcnQnLCB7fSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJ1bm5lcjtcblxuICAgICAgZnVuY3Rpb24gbm90aWZ5UHJvZ3Jlc3MocnVubmVyLCBldmVudCwgcGhhc2UsIGRhdGEpIHtcbiAgICAgICAgcnVuSW5OZXh0UG9zdERpZ2VzdE9yTm93KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBmaW5kQ2FsbGJhY2tzKHBhcmVudCwgZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICAgIGlmIChjYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBkbyBub3Qgb3B0aW1pemUgdGhpcyBjYWxsIGhlcmUgdG8gUkFGIGJlY2F1c2VcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGtub3cgaG93IGhlYXZ5IHRoZSBjYWxsYmFjayBjb2RlIGhlcmUgd2lsbFxuICAgICAgICAgICAgLy8gYmUgYW5kIGlmIHRoaXMgY29kZSBpcyBidWZmZXJlZCB0aGVuIHRoaXMgY2FuXG4gICAgICAgICAgICAvLyBsZWFkIHRvIGEgcGVyZm9ybWFuY2UgcmVncmVzc2lvbi5cbiAgICAgICAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBmb3JFYWNoKGNhbGxiYWNrcywgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlbGVtZW50LCBwaGFzZSwgZGF0YSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcnVubmVyLnByb2dyZXNzKGV2ZW50LCBwaGFzZSwgZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNsb3NlKHJlamVjdCkgeyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgICAgICAgY2xlYXJHZW5lcmF0ZWRDbGFzc2VzKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICBhcHBseUFuaW1hdGlvbkNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIGFwcGx5QW5pbWF0aW9uU3R5bGVzKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmRvbU9wZXJhdGlvbigpO1xuICAgICAgICBydW5uZXIuY29tcGxldGUoIXJlamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2VDaGlsZEFuaW1hdGlvbnMoZWxlbWVudCkge1xuICAgICAgdmFyIG5vZGUgPSBnZXREb21Ob2RlKGVsZW1lbnQpO1xuICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbJyArIE5HX0FOSU1BVEVfQVRUUl9OQU1FICsgJ10nKTtcbiAgICAgIGZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHBhcnNlSW50KGNoaWxkLmdldEF0dHJpYnV0ZShOR19BTklNQVRFX0FUVFJfTkFNRSkpO1xuICAgICAgICB2YXIgYW5pbWF0aW9uRGV0YWlscyA9IGFjdGl2ZUFuaW1hdGlvbnNMb29rdXAuZ2V0KGNoaWxkKTtcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgIGNhc2UgUlVOTklOR19TVEFURTpcbiAgICAgICAgICAgIGFuaW1hdGlvbkRldGFpbHMucnVubmVyLmVuZCgpO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgIGNhc2UgUFJFX0RJR0VTVF9TVEFURTpcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25EZXRhaWxzKSB7XG4gICAgICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbnNMb29rdXAucmVtb3ZlKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckVsZW1lbnRBbmltYXRpb25TdGF0ZShlbGVtZW50KSB7XG4gICAgICB2YXIgbm9kZSA9IGdldERvbU5vZGUoZWxlbWVudCk7XG4gICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShOR19BTklNQVRFX0FUVFJfTkFNRSk7XG4gICAgICBhY3RpdmVBbmltYXRpb25zTG9va3VwLnJlbW92ZShub2RlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01hdGNoaW5nRWxlbWVudChub2RlT3JFbG1BLCBub2RlT3JFbG1CKSB7XG4gICAgICByZXR1cm4gZ2V0RG9tTm9kZShub2RlT3JFbG1BKSA9PT0gZ2V0RG9tTm9kZShub2RlT3JFbG1CKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcmVBbmltYXRpb25zQWxsb3dlZChlbGVtZW50LCBwYXJlbnRFbGVtZW50LCBldmVudCkge1xuICAgICAgdmFyIGJvZHlFbGVtZW50ID0ganFMaXRlKCRkb2N1bWVudFswXS5ib2R5KTtcbiAgICAgIHZhciBib2R5RWxlbWVudERldGVjdGVkID0gaXNNYXRjaGluZ0VsZW1lbnQoZWxlbWVudCwgYm9keUVsZW1lbnQpIHx8IGVsZW1lbnRbMF0ubm9kZU5hbWUgPT09ICdIVE1MJztcbiAgICAgIHZhciByb290RWxlbWVudERldGVjdGVkID0gaXNNYXRjaGluZ0VsZW1lbnQoZWxlbWVudCwgJHJvb3RFbGVtZW50KTtcbiAgICAgIHZhciBwYXJlbnRBbmltYXRpb25EZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgdmFyIGFuaW1hdGVDaGlsZHJlbjtcblxuICAgICAgdmFyIHBhcmVudEhvc3QgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9QSU5fREFUQSk7XG4gICAgICBpZiAocGFyZW50SG9zdCkge1xuICAgICAgICBwYXJlbnRFbGVtZW50ID0gcGFyZW50SG9zdDtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHBhcmVudEVsZW1lbnQgJiYgcGFyZW50RWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFyb290RWxlbWVudERldGVjdGVkKSB7XG4gICAgICAgICAgLy8gYW5ndWxhciBkb2Vzbid0IHdhbnQgdG8gYXR0ZW1wdCB0byBhbmltYXRlIGVsZW1lbnRzIG91dHNpZGUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICAgICAgLy8gdGhlcmVmb3JlIHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHJvb3RFbGVtZW50IGlzIGFuIGFuY2VzdG9yIG9mIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICAgICAgICByb290RWxlbWVudERldGVjdGVkID0gaXNNYXRjaGluZ0VsZW1lbnQocGFyZW50RWxlbWVudCwgJHJvb3RFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJlbnROb2RlID0gcGFyZW50RWxlbWVudFswXTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGUubm9kZVR5cGUgIT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgIC8vIG5vIHBvaW50IGluIGluc3BlY3RpbmcgdGhlICNkb2N1bWVudCBlbGVtZW50XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGV0YWlscyA9IGFjdGl2ZUFuaW1hdGlvbnNMb29rdXAuZ2V0KHBhcmVudE5vZGUpIHx8IHt9O1xuICAgICAgICAvLyBlaXRoZXIgYW4gZW50ZXIsIGxlYXZlIG9yIG1vdmUgYW5pbWF0aW9uIHdpbGwgY29tbWVuY2VcbiAgICAgICAgLy8gdGhlcmVmb3JlIHdlIGNhbid0IGFsbG93IGFueSBhbmltYXRpb25zIHRvIHRha2UgcGxhY2VcbiAgICAgICAgLy8gYnV0IGlmIGEgcGFyZW50IGFuaW1hdGlvbiBpcyBjbGFzcy1iYXNlZCB0aGVuIHRoYXQncyBva1xuICAgICAgICBpZiAoIXBhcmVudEFuaW1hdGlvbkRldGVjdGVkKSB7XG4gICAgICAgICAgcGFyZW50QW5pbWF0aW9uRGV0ZWN0ZWQgPSBkZXRhaWxzLnN0cnVjdHVyYWwgfHwgZGlzYWJsZWRFbGVtZW50c0xvb2t1cC5nZXQocGFyZW50Tm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoYW5pbWF0ZUNoaWxkcmVuKSB8fCBhbmltYXRlQ2hpbGRyZW4gPT09IHRydWUpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJlbnRFbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DSElMRFJFTl9EQVRBKTtcbiAgICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgYW5pbWF0ZUNoaWxkcmVuID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlcmUgaXMgbm8gbmVlZCB0byBjb250aW51ZSB0cmF2ZXJzaW5nIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgaWYgKHBhcmVudEFuaW1hdGlvbkRldGVjdGVkICYmIGFuaW1hdGVDaGlsZHJlbiA9PT0gZmFsc2UpIGJyZWFrO1xuXG4gICAgICAgIGlmICghcm9vdEVsZW1lbnREZXRlY3RlZCkge1xuICAgICAgICAgIC8vIGFuZ3VsYXIgZG9lc24ndCB3YW50IHRvIGF0dGVtcHQgdG8gYW5pbWF0ZSBlbGVtZW50cyBvdXRzaWRlIG9mIHRoZSBhcHBsaWNhdGlvblxuICAgICAgICAgIC8vIHRoZXJlZm9yZSB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZSByb290RWxlbWVudCBpcyBhbiBhbmNlc3RvciBvZiB0aGUgY3VycmVudCBlbGVtZW50XG4gICAgICAgICAgcm9vdEVsZW1lbnREZXRlY3RlZCA9IGlzTWF0Y2hpbmdFbGVtZW50KHBhcmVudEVsZW1lbnQsICRyb290RWxlbWVudCk7XG4gICAgICAgICAgaWYgKCFyb290RWxlbWVudERldGVjdGVkKSB7XG4gICAgICAgICAgICBwYXJlbnRIb3N0ID0gcGFyZW50RWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfUElOX0RBVEEpO1xuICAgICAgICAgICAgaWYgKHBhcmVudEhvc3QpIHtcbiAgICAgICAgICAgICAgcGFyZW50RWxlbWVudCA9IHBhcmVudEhvc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFib2R5RWxlbWVudERldGVjdGVkKSB7XG4gICAgICAgICAgLy8gd2UgYWxzbyBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZSBlbGVtZW50IGlzIG9yIHdpbGwgYmUgYXBhcnQgb2YgdGhlIGJvZHkgZWxlbWVudFxuICAgICAgICAgIC8vIG90aGVyd2lzZSBpdCBpcyBwb2ludGxlc3MgdG8gZXZlbiBpc3N1ZSBhbiBhbmltYXRpb24gdG8gYmUgcmVuZGVyZWRcbiAgICAgICAgICBib2R5RWxlbWVudERldGVjdGVkID0gaXNNYXRjaGluZ0VsZW1lbnQocGFyZW50RWxlbWVudCwgYm9keUVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQucGFyZW50KCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBhbGxvd0FuaW1hdGlvbiA9ICFwYXJlbnRBbmltYXRpb25EZXRlY3RlZCB8fCBhbmltYXRlQ2hpbGRyZW47XG4gICAgICByZXR1cm4gYWxsb3dBbmltYXRpb24gJiYgcm9vdEVsZW1lbnREZXRlY3RlZCAmJiBib2R5RWxlbWVudERldGVjdGVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hcmtFbGVtZW50QW5pbWF0aW9uU3RhdGUoZWxlbWVudCwgc3RhdGUsIGRldGFpbHMpIHtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzIHx8IHt9O1xuICAgICAgZGV0YWlscy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgICB2YXIgbm9kZSA9IGdldERvbU5vZGUoZWxlbWVudCk7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZShOR19BTklNQVRFX0FUVFJfTkFNRSwgc3RhdGUpO1xuXG4gICAgICB2YXIgb2xkVmFsdWUgPSBhY3RpdmVBbmltYXRpb25zTG9va3VwLmdldChub2RlKTtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IG9sZFZhbHVlXG4gICAgICAgICAgPyBleHRlbmQob2xkVmFsdWUsIGRldGFpbHMpXG4gICAgICAgICAgOiBkZXRhaWxzO1xuICAgICAgYWN0aXZlQW5pbWF0aW9uc0xvb2t1cC5wdXQobm9kZSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfV07XG59XTtcblxudmFyICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeSA9IFsnJCRyQUYnLCBmdW5jdGlvbigkJHJBRikge1xuICB2YXIgd2FpdFF1ZXVlID0gW107XG5cbiAgZnVuY3Rpb24gd2FpdEZvclRpY2soZm4pIHtcbiAgICB3YWl0UXVldWUucHVzaChmbik7XG4gICAgaWYgKHdhaXRRdWV1ZS5sZW5ndGggPiAxKSByZXR1cm47XG4gICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdhaXRRdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB3YWl0UXVldWVbaV0oKTtcbiAgICAgIH1cbiAgICAgIHdhaXRRdWV1ZSA9IFtdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYXNzZWQgPSBmYWxzZTtcbiAgICB3YWl0Rm9yVGljayhmdW5jdGlvbigpIHtcbiAgICAgIHBhc3NlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICBwYXNzZWQgPyBjYWxsYmFjaygpIDogd2FpdEZvclRpY2soY2FsbGJhY2spO1xuICAgIH07XG4gIH07XG59XTtcblxudmFyICQkQW5pbWF0ZVJ1bm5lckZhY3RvcnkgPSBbJyRxJywgJyRzbmlmZmVyJywgJyQkYW5pbWF0ZUFzeW5jUnVuJyxcbiAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigkcSwgICAkc25pZmZlciwgICAkJGFuaW1hdGVBc3luY1J1bikge1xuXG4gIHZhciBJTklUSUFMX1NUQVRFID0gMDtcbiAgdmFyIERPTkVfUEVORElOR19TVEFURSA9IDE7XG4gIHZhciBET05FX0NPTVBMRVRFX1NUQVRFID0gMjtcblxuICBBbmltYXRlUnVubmVyLmNoYWluID0gZnVuY3Rpb24oY2hhaW4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGluZGV4ID0gMDtcblxuICAgIG5leHQoKTtcbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgaWYgKGluZGV4ID09PSBjaGFpbi5sZW5ndGgpIHtcbiAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2hhaW5baW5kZXhdKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBBbmltYXRlUnVubmVyLmFsbCA9IGZ1bmN0aW9uKHJ1bm5lcnMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICB2YXIgc3RhdHVzID0gdHJ1ZTtcbiAgICBmb3JFYWNoKHJ1bm5lcnMsIGZ1bmN0aW9uKHJ1bm5lcikge1xuICAgICAgcnVubmVyLmRvbmUob25Qcm9ncmVzcyk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBvblByb2dyZXNzKHJlc3BvbnNlKSB7XG4gICAgICBzdGF0dXMgPSBzdGF0dXMgJiYgcmVzcG9uc2U7XG4gICAgICBpZiAoKytjb3VudCA9PT0gcnVubmVycy5sZW5ndGgpIHtcbiAgICAgICAgY2FsbGJhY2soc3RhdHVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gQW5pbWF0ZVJ1bm5lcihob3N0KSB7XG4gICAgdGhpcy5zZXRIb3N0KGhvc3QpO1xuXG4gICAgdGhpcy5fZG9uZUNhbGxiYWNrcyA9IFtdO1xuICAgIHRoaXMuX3J1bkluQW5pbWF0aW9uRnJhbWUgPSAkJGFuaW1hdGVBc3luY1J1bigpO1xuICAgIHRoaXMuX3N0YXRlID0gMDtcbiAgfVxuXG4gIEFuaW1hdGVSdW5uZXIucHJvdG90eXBlID0ge1xuICAgIHNldEhvc3Q6IGZ1bmN0aW9uKGhvc3QpIHtcbiAgICAgIHRoaXMuaG9zdCA9IGhvc3QgfHwge307XG4gICAgfSxcblxuICAgIGRvbmU6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICBpZiAodGhpcy5fc3RhdGUgPT09IERPTkVfQ09NUExFVEVfU1RBVEUpIHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MucHVzaChmbik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHByb2dyZXNzOiBub29wLFxuXG4gICAgZ2V0UHJvbWlzZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMucHJvbWlzZSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9ICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIHNlbGYuZG9uZShmdW5jdGlvbihzdGF0dXMpIHtcbiAgICAgICAgICAgIHN0YXR1cyA9PT0gZmFsc2UgPyByZWplY3QoKSA6IHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5wcm9taXNlO1xuICAgIH0sXG5cbiAgICB0aGVuOiBmdW5jdGlvbihyZXNvbHZlSGFuZGxlciwgcmVqZWN0SGFuZGxlcikge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpLnRoZW4ocmVzb2x2ZUhhbmRsZXIsIHJlamVjdEhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAnY2F0Y2gnOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRQcm9taXNlKClbJ2NhdGNoJ10oaGFuZGxlcik7XG4gICAgfSxcblxuICAgICdmaW5hbGx5JzogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpWydmaW5hbGx5J10oaGFuZGxlcik7XG4gICAgfSxcblxuICAgIHBhdXNlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmhvc3QucGF1c2UpIHtcbiAgICAgICAgdGhpcy5ob3N0LnBhdXNlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlc3VtZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5ob3N0LnJlc3VtZSkge1xuICAgICAgICB0aGlzLmhvc3QucmVzdW1lKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGVuZDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5ob3N0LmVuZCkge1xuICAgICAgICB0aGlzLmhvc3QuZW5kKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9yZXNvbHZlKHRydWUpO1xuICAgIH0sXG5cbiAgICBjYW5jZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuaG9zdC5jYW5jZWwpIHtcbiAgICAgICAgdGhpcy5ob3N0LmNhbmNlbCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVzb2x2ZShmYWxzZSk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKHNlbGYuX3N0YXRlID09PSBJTklUSUFMX1NUQVRFKSB7XG4gICAgICAgIHNlbGYuX3N0YXRlID0gRE9ORV9QRU5ESU5HX1NUQVRFO1xuICAgICAgICBzZWxmLl9ydW5JbkFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuX3Jlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX3Jlc29sdmU6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICBpZiAodGhpcy5fc3RhdGUgIT09IERPTkVfQ09NUExFVEVfU1RBVEUpIHtcbiAgICAgICAgZm9yRWFjaCh0aGlzLl9kb25lQ2FsbGJhY2tzLCBmdW5jdGlvbihmbikge1xuICAgICAgICAgIGZuKHJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBET05FX0NPTVBMRVRFX1NUQVRFO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQW5pbWF0ZVJ1bm5lcjtcbn1dO1xuXG52YXIgJCRBbmltYXRpb25Qcm92aWRlciA9IFsnJGFuaW1hdGVQcm92aWRlcicsIGZ1bmN0aW9uKCRhbmltYXRlUHJvdmlkZXIpIHtcbiAgdmFyIE5HX0FOSU1BVEVfUkVGX0FUVFIgPSAnbmctYW5pbWF0ZS1yZWYnO1xuXG4gIHZhciBkcml2ZXJzID0gdGhpcy5kcml2ZXJzID0gW107XG5cbiAgdmFyIFJVTk5FUl9TVE9SQUdFX0tFWSA9ICckJGFuaW1hdGlvblJ1bm5lcic7XG5cbiAgZnVuY3Rpb24gc2V0UnVubmVyKGVsZW1lbnQsIHJ1bm5lcikge1xuICAgIGVsZW1lbnQuZGF0YShSVU5ORVJfU1RPUkFHRV9LRVksIHJ1bm5lcik7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVSdW5uZXIoZWxlbWVudCkge1xuICAgIGVsZW1lbnQucmVtb3ZlRGF0YShSVU5ORVJfU1RPUkFHRV9LRVkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UnVubmVyKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5kYXRhKFJVTk5FUl9TVE9SQUdFX0tFWSk7XG4gIH1cblxuICB0aGlzLiRnZXQgPSBbJyQkanFMaXRlJywgJyRyb290U2NvcGUnLCAnJGluamVjdG9yJywgJyQkQW5pbWF0ZVJ1bm5lcicsICckJEhhc2hNYXAnLCAnJCRyQUZTY2hlZHVsZXInLFxuICAgICAgIGZ1bmN0aW9uKCQkanFMaXRlLCAgICRyb290U2NvcGUsICAgJGluamVjdG9yLCAgICQkQW5pbWF0ZVJ1bm5lciwgICAkJEhhc2hNYXAsICAgJCRyQUZTY2hlZHVsZXIpIHtcblxuICAgIHZhciBhbmltYXRpb25RdWV1ZSA9IFtdO1xuICAgIHZhciBhcHBseUFuaW1hdGlvbkNsYXNzZXMgPSBhcHBseUFuaW1hdGlvbkNsYXNzZXNGYWN0b3J5KCQkanFMaXRlKTtcblxuICAgIGZ1bmN0aW9uIHNvcnRBbmltYXRpb25zKGFuaW1hdGlvbnMpIHtcbiAgICAgIHZhciB0cmVlID0geyBjaGlsZHJlbjogW10gfTtcbiAgICAgIHZhciBpLCBsb29rdXAgPSBuZXcgJCRIYXNoTWFwKCk7XG5cbiAgICAgIC8vIHRoaXMgaXMgZG9uZSBmaXJzdCBiZWZvcmVoYW5kIHNvIHRoYXQgdGhlIGhhc2htYXBcbiAgICAgIC8vIGlzIGZpbGxlZCB3aXRoIGEgbGlzdCBvZiB0aGUgZWxlbWVudHMgdGhhdCB3aWxsIGJlIGFuaW1hdGVkXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYW5pbWF0aW9uID0gYW5pbWF0aW9uc1tpXTtcbiAgICAgICAgbG9va3VwLnB1dChhbmltYXRpb24uZG9tTm9kZSwgYW5pbWF0aW9uc1tpXSA9IHtcbiAgICAgICAgICBkb21Ob2RlOiBhbmltYXRpb24uZG9tTm9kZSxcbiAgICAgICAgICBmbjogYW5pbWF0aW9uLmZuLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcHJvY2Vzc05vZGUoYW5pbWF0aW9uc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbGF0dGVuKHRyZWUpO1xuXG4gICAgICBmdW5jdGlvbiBwcm9jZXNzTm9kZShlbnRyeSkge1xuICAgICAgICBpZiAoZW50cnkucHJvY2Vzc2VkKSByZXR1cm4gZW50cnk7XG4gICAgICAgIGVudHJ5LnByb2Nlc3NlZCA9IHRydWU7XG5cbiAgICAgICAgdmFyIGVsZW1lbnROb2RlID0gZW50cnkuZG9tTm9kZTtcbiAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBlbGVtZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgICBsb29rdXAucHV0KGVsZW1lbnROb2RlLCBlbnRyeSk7XG5cbiAgICAgICAgdmFyIHBhcmVudEVudHJ5O1xuICAgICAgICB3aGlsZSAocGFyZW50Tm9kZSkge1xuICAgICAgICAgIHBhcmVudEVudHJ5ID0gbG9va3VwLmdldChwYXJlbnROb2RlKTtcbiAgICAgICAgICBpZiAocGFyZW50RW50cnkpIHtcbiAgICAgICAgICAgIGlmICghcGFyZW50RW50cnkucHJvY2Vzc2VkKSB7XG4gICAgICAgICAgICAgIHBhcmVudEVudHJ5ID0gcHJvY2Vzc05vZGUocGFyZW50RW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICAocGFyZW50RW50cnkgfHwgdHJlZSkuY2hpbGRyZW4ucHVzaChlbnRyeSk7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmxhdHRlbih0cmVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIHF1ZXVlID0gW107XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0cmVlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcXVldWUucHVzaCh0cmVlLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW1haW5pbmdMZXZlbEVudHJpZXMgPSBxdWV1ZS5sZW5ndGg7XG4gICAgICAgIHZhciBuZXh0TGV2ZWxFbnRyaWVzID0gMDtcbiAgICAgICAgdmFyIHJvdyA9IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBlbnRyeSA9IHF1ZXVlW2ldO1xuICAgICAgICAgIGlmIChyZW1haW5pbmdMZXZlbEVudHJpZXMgPD0gMCkge1xuICAgICAgICAgICAgcmVtYWluaW5nTGV2ZWxFbnRyaWVzID0gbmV4dExldmVsRW50cmllcztcbiAgICAgICAgICAgIG5leHRMZXZlbEVudHJpZXMgPSAwO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocm93KTtcbiAgICAgICAgICAgIHJvdyA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICByb3cucHVzaChlbnRyeS5mbik7XG4gICAgICAgICAgZW50cnkuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZEVudHJ5KSB7XG4gICAgICAgICAgICBuZXh0TGV2ZWxFbnRyaWVzKys7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGNoaWxkRW50cnkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlbWFpbmluZ0xldmVsRW50cmllcy0tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvdy5sZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChyb3cpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPKG1hdHNrbyk6IGRvY3VtZW50IHRoZSBzaWduYXR1cmUgaW4gYSBiZXR0ZXIgd2F5XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGlvbk9wdGlvbnMob3B0aW9ucyk7XG4gICAgICB2YXIgaXNTdHJ1Y3R1cmFsID0gWydlbnRlcicsICdtb3ZlJywgJ2xlYXZlJ10uaW5kZXhPZihldmVudCkgPj0gMDtcblxuICAgICAgLy8gdGhlcmUgaXMgbm8gYW5pbWF0aW9uIGF0IHRoZSBjdXJyZW50IG1vbWVudCwgaG93ZXZlclxuICAgICAgLy8gdGhlc2UgcnVubmVyIG1ldGhvZHMgd2lsbCBnZXQgbGF0ZXIgdXBkYXRlZCB3aXRoIHRoZVxuICAgICAgLy8gbWV0aG9kcyBsZWFkaW5nIGludG8gdGhlIGRyaXZlcidzIGVuZC9jYW5jZWwgbWV0aG9kc1xuICAgICAgLy8gZm9yIG5vdyB0aGV5IGp1c3Qgc3RvcCB0aGUgYW5pbWF0aW9uIGZyb20gc3RhcnRpbmdcbiAgICAgIHZhciBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKHtcbiAgICAgICAgZW5kOiBmdW5jdGlvbigpIHsgY2xvc2UoKTsgfSxcbiAgICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHsgY2xvc2UodHJ1ZSk7IH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWRyaXZlcnMubGVuZ3RoKSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgICB9XG5cbiAgICAgIHNldFJ1bm5lcihlbGVtZW50LCBydW5uZXIpO1xuXG4gICAgICB2YXIgY2xhc3NlcyA9IG1lcmdlQ2xhc3NlcyhlbGVtZW50LmF0dHIoJ2NsYXNzJyksIG1lcmdlQ2xhc3NlcyhvcHRpb25zLmFkZENsYXNzLCBvcHRpb25zLnJlbW92ZUNsYXNzKSk7XG4gICAgICB2YXIgdGVtcENsYXNzZXMgPSBvcHRpb25zLnRlbXBDbGFzc2VzO1xuICAgICAgaWYgKHRlbXBDbGFzc2VzKSB7XG4gICAgICAgIGNsYXNzZXMgKz0gJyAnICsgdGVtcENsYXNzZXM7XG4gICAgICAgIG9wdGlvbnMudGVtcENsYXNzZXMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBhbmltYXRpb25RdWV1ZS5wdXNoKHtcbiAgICAgICAgLy8gdGhpcyBkYXRhIGlzIHVzZWQgYnkgdGhlIHBvc3REaWdlc3QgY29kZSBhbmQgcGFzc2VkIGludG9cbiAgICAgICAgLy8gdGhlIGRyaXZlciBzdGVwIGZ1bmN0aW9uXG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgIGNsYXNzZXM6IGNsYXNzZXMsXG4gICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgc3RydWN0dXJhbDogaXNTdHJ1Y3R1cmFsLFxuICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICBiZWZvcmVTdGFydDogYmVmb3JlU3RhcnQsXG4gICAgICAgIGNsb3NlOiBjbG9zZVxuICAgICAgfSk7XG5cbiAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgaGFuZGxlRGVzdHJveWVkRWxlbWVudCk7XG5cbiAgICAgIC8vIHdlIG9ubHkgd2FudCB0aGVyZSB0byBiZSBvbmUgZnVuY3Rpb24gY2FsbGVkIHdpdGhpbiB0aGUgcG9zdCBkaWdlc3RcbiAgICAgIC8vIGJsb2NrLiBUaGlzIHdheSB3ZSBjYW4gZ3JvdXAgYW5pbWF0aW9ucyBmb3IgYWxsIHRoZSBhbmltYXRpb25zIHRoYXRcbiAgICAgIC8vIHdlcmUgYXBhcnQgb2YgdGhlIHNhbWUgcG9zdERpZ2VzdCBmbHVzaCBjYWxsLlxuICAgICAgaWYgKGFuaW1hdGlvblF1ZXVlLmxlbmd0aCA+IDEpIHJldHVybiBydW5uZXI7XG5cbiAgICAgICRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICBmb3JFYWNoKGFuaW1hdGlvblF1ZXVlLCBmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHdhcyBkZXN0cm95ZWQgZWFybHkgb24gd2hpY2ggcmVtb3ZlZCB0aGUgcnVubmVyXG4gICAgICAgICAgLy8gZm9ybSBpdHMgc3RvcmFnZS4gVGhpcyBtZWFucyB3ZSBjYW4ndCBhbmltYXRlIHRoaXMgZWxlbWVudFxuICAgICAgICAgIC8vIGF0IGFsbCBhbmQgaXQgYWxyZWFkeSBoYXMgYmVlbiBjbG9zZWQgZHVlIHRvIGRlc3RydWN0aW9uLlxuICAgICAgICAgIGlmIChnZXRSdW5uZXIoZW50cnkuZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChlbnRyeSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVudHJ5LmNsb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBub3cgYW55IGZ1dHVyZSBhbmltYXRpb25zIHdpbGwgYmUgaW4gYW5vdGhlciBwb3N0RGlnZXN0XG4gICAgICAgIGFuaW1hdGlvblF1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgdmFyIGdyb3VwZWRBbmltYXRpb25zID0gZ3JvdXBBbmltYXRpb25zKGFuaW1hdGlvbnMpO1xuICAgICAgICB2YXIgdG9CZVNvcnRlZEFuaW1hdGlvbnMgPSBbXTtcblxuICAgICAgICBmb3JFYWNoKGdyb3VwZWRBbmltYXRpb25zLCBmdW5jdGlvbihhbmltYXRpb25FbnRyeSkge1xuICAgICAgICAgIHRvQmVTb3J0ZWRBbmltYXRpb25zLnB1c2goe1xuICAgICAgICAgICAgZG9tTm9kZTogZ2V0RG9tTm9kZShhbmltYXRpb25FbnRyeS5mcm9tID8gYW5pbWF0aW9uRW50cnkuZnJvbS5lbGVtZW50IDogYW5pbWF0aW9uRW50cnkuZWxlbWVudCksXG4gICAgICAgICAgICBmbjogZnVuY3Rpb24gdHJpZ2dlckFuaW1hdGlvblN0YXJ0KCkge1xuICAgICAgICAgICAgICAvLyBpdCdzIGltcG9ydGFudCB0aGF0IHdlIGFwcGx5IHRoZSBgbmctYW5pbWF0ZWAgQ1NTIGNsYXNzIGFuZCB0aGVcbiAgICAgICAgICAgICAgLy8gdGVtcG9yYXJ5IGNsYXNzZXMgYmVmb3JlIHdlIGRvIGFueSBkcml2ZXIgaW52b2tpbmcgc2luY2UgdGhlc2VcbiAgICAgICAgICAgICAgLy8gQ1NTIGNsYXNzZXMgbWF5IGJlIHJlcXVpcmVkIGZvciBwcm9wZXIgQ1NTIGRldGVjdGlvbi5cbiAgICAgICAgICAgICAgYW5pbWF0aW9uRW50cnkuYmVmb3JlU3RhcnQoKTtcblxuICAgICAgICAgICAgICB2YXIgc3RhcnRBbmltYXRpb25GbiwgY2xvc2VGbiA9IGFuaW1hdGlvbkVudHJ5LmNsb3NlO1xuXG4gICAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCB0aGF0IHRoZSBlbGVtZW50IHdhcyByZW1vdmVkIGJlZm9yZSB0aGUgZGlnZXN0IHJ1bnMgb3JcbiAgICAgICAgICAgICAgLy8gZHVyaW5nIHRoZSBSQUYgc2VxdWVuY2luZyB0aGVuIHdlIHNob3VsZCBub3QgdHJpZ2dlciB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAgICAgICB2YXIgdGFyZ2V0RWxlbWVudCA9IGFuaW1hdGlvbkVudHJ5LmFuY2hvcnNcbiAgICAgICAgICAgICAgICAgID8gKGFuaW1hdGlvbkVudHJ5LmZyb20uZWxlbWVudCB8fCBhbmltYXRpb25FbnRyeS50by5lbGVtZW50KVxuICAgICAgICAgICAgICAgICAgOiBhbmltYXRpb25FbnRyeS5lbGVtZW50O1xuXG4gICAgICAgICAgICAgIGlmIChnZXRSdW5uZXIodGFyZ2V0RWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3BlcmF0aW9uID0gaW52b2tlRmlyc3REcml2ZXIoYW5pbWF0aW9uRW50cnkpO1xuICAgICAgICAgICAgICAgIGlmIChvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0QW5pbWF0aW9uRm4gPSBvcGVyYXRpb24uc3RhcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCFzdGFydEFuaW1hdGlvbkZuKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VGbigpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb25SdW5uZXIgPSBzdGFydEFuaW1hdGlvbkZuKCk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uUnVubmVyLmRvbmUoZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICBjbG9zZUZuKCFzdGF0dXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUFuaW1hdGlvblJ1bm5lcnMoYW5pbWF0aW9uRW50cnksIGFuaW1hdGlvblJ1bm5lcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gd2UgbmVlZCB0byBzb3J0IGVhY2ggb2YgdGhlIGFuaW1hdGlvbnMgaW4gb3JkZXIgb2YgcGFyZW50IHRvIGNoaWxkXG4gICAgICAgIC8vIHJlbGF0aW9uc2hpcHMuIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSBjaGlsZCBjbGFzc2VzIGFyZSBhcHBsaWVkIGF0IHRoZVxuICAgICAgICAvLyByaWdodCB0aW1lLlxuICAgICAgICAkJHJBRlNjaGVkdWxlcihzb3J0QW5pbWF0aW9ucyh0b0JlU29ydGVkQW5pbWF0aW9ucykpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBydW5uZXI7XG5cbiAgICAgIC8vIFRPRE8obWF0c2tvKTogY2hhbmdlIHRvIHJlZmVyZW5jZSBub2Rlc1xuICAgICAgZnVuY3Rpb24gZ2V0QW5jaG9yTm9kZXMobm9kZSkge1xuICAgICAgICB2YXIgU0VMRUNUT1IgPSAnWycgKyBOR19BTklNQVRFX1JFRl9BVFRSICsgJ10nO1xuICAgICAgICB2YXIgaXRlbXMgPSBub2RlLmhhc0F0dHJpYnV0ZShOR19BTklNQVRFX1JFRl9BVFRSKVxuICAgICAgICAgICAgICA/IFtub2RlXVxuICAgICAgICAgICAgICA6IG5vZGUucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUik7XG4gICAgICAgIHZhciBhbmNob3JzID0gW107XG4gICAgICAgIGZvckVhY2goaXRlbXMsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICB2YXIgYXR0ciA9IG5vZGUuZ2V0QXR0cmlidXRlKE5HX0FOSU1BVEVfUkVGX0FUVFIpO1xuICAgICAgICAgIGlmIChhdHRyICYmIGF0dHIubGVuZ3RoKSB7XG4gICAgICAgICAgICBhbmNob3JzLnB1c2gobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFuY2hvcnM7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdyb3VwQW5pbWF0aW9ucyhhbmltYXRpb25zKSB7XG4gICAgICAgIHZhciBwcmVwYXJlZEFuaW1hdGlvbnMgPSBbXTtcbiAgICAgICAgdmFyIHJlZkxvb2t1cCA9IHt9O1xuICAgICAgICBmb3JFYWNoKGFuaW1hdGlvbnMsIGZ1bmN0aW9uKGFuaW1hdGlvbiwgaW5kZXgpIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IGFuaW1hdGlvbi5lbGVtZW50O1xuICAgICAgICAgIHZhciBub2RlID0gZ2V0RG9tTm9kZShlbGVtZW50KTtcbiAgICAgICAgICB2YXIgZXZlbnQgPSBhbmltYXRpb24uZXZlbnQ7XG4gICAgICAgICAgdmFyIGVudGVyT3JNb3ZlID0gWydlbnRlcicsICdtb3ZlJ10uaW5kZXhPZihldmVudCkgPj0gMDtcbiAgICAgICAgICB2YXIgYW5jaG9yTm9kZXMgPSBhbmltYXRpb24uc3RydWN0dXJhbCA/IGdldEFuY2hvck5vZGVzKG5vZGUpIDogW107XG5cbiAgICAgICAgICBpZiAoYW5jaG9yTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gZW50ZXJPck1vdmUgPyAndG8nIDogJ2Zyb20nO1xuXG4gICAgICAgICAgICBmb3JFYWNoKGFuY2hvck5vZGVzLCBmdW5jdGlvbihhbmNob3IpIHtcbiAgICAgICAgICAgICAgdmFyIGtleSA9IGFuY2hvci5nZXRBdHRyaWJ1dGUoTkdfQU5JTUFURV9SRUZfQVRUUik7XG4gICAgICAgICAgICAgIHJlZkxvb2t1cFtrZXldID0gcmVmTG9va3VwW2tleV0gfHwge307XG4gICAgICAgICAgICAgIHJlZkxvb2t1cFtrZXldW2RpcmVjdGlvbl0gPSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uSUQ6IGluZGV4LFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGpxTGl0ZShhbmNob3IpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJlcGFyZWRBbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB1c2VkSW5kaWNlc0xvb2t1cCA9IHt9O1xuICAgICAgICB2YXIgYW5jaG9yR3JvdXBzID0ge307XG4gICAgICAgIGZvckVhY2gocmVmTG9va3VwLCBmdW5jdGlvbihvcGVyYXRpb25zLCBrZXkpIHtcbiAgICAgICAgICB2YXIgZnJvbSA9IG9wZXJhdGlvbnMuZnJvbTtcbiAgICAgICAgICB2YXIgdG8gPSBvcGVyYXRpb25zLnRvO1xuXG4gICAgICAgICAgaWYgKCFmcm9tIHx8ICF0bykge1xuICAgICAgICAgICAgLy8gb25seSBvbmUgb2YgdGhlc2UgaXMgc2V0IHRoZXJlZm9yZSB3ZSBjYW4ndCBoYXZlIGFuXG4gICAgICAgICAgICAvLyBhbmNob3IgYW5pbWF0aW9uIHNpbmNlIGFsbCB0aHJlZSBwaWVjZXMgYXJlIHJlcXVpcmVkXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBmcm9tID8gZnJvbS5hbmltYXRpb25JRCA6IHRvLmFuaW1hdGlvbklEO1xuICAgICAgICAgICAgdmFyIGluZGV4S2V5ID0gaW5kZXgudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdXNlZEluZGljZXNMb29rdXBbaW5kZXhLZXldKSB7XG4gICAgICAgICAgICAgIHVzZWRJbmRpY2VzTG9va3VwW2luZGV4S2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgIHByZXBhcmVkQW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbnNbaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZnJvbUFuaW1hdGlvbiA9IGFuaW1hdGlvbnNbZnJvbS5hbmltYXRpb25JRF07XG4gICAgICAgICAgdmFyIHRvQW5pbWF0aW9uID0gYW5pbWF0aW9uc1t0by5hbmltYXRpb25JRF07XG4gICAgICAgICAgdmFyIGxvb2t1cEtleSA9IGZyb20uYW5pbWF0aW9uSUQudG9TdHJpbmcoKTtcbiAgICAgICAgICBpZiAoIWFuY2hvckdyb3Vwc1tsb29rdXBLZXldKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBhbmNob3JHcm91cHNbbG9va3VwS2V5XSA9IHtcbiAgICAgICAgICAgICAgc3RydWN0dXJhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgYmVmb3JlU3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZyb21BbmltYXRpb24uYmVmb3JlU3RhcnQoKTtcbiAgICAgICAgICAgICAgICB0b0FuaW1hdGlvbi5iZWZvcmVTdGFydCgpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnJvbUFuaW1hdGlvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHRvQW5pbWF0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNsYXNzZXM6IGNzc0NsYXNzZXNJbnRlcnNlY3Rpb24oZnJvbUFuaW1hdGlvbi5jbGFzc2VzLCB0b0FuaW1hdGlvbi5jbGFzc2VzKSxcbiAgICAgICAgICAgICAgZnJvbTogZnJvbUFuaW1hdGlvbixcbiAgICAgICAgICAgICAgdG86IHRvQW5pbWF0aW9uLFxuICAgICAgICAgICAgICBhbmNob3JzOiBbXSAvLyBUT0RPKG1hdHNrbyk6IGNoYW5nZSB0byByZWZlcmVuY2Ugbm9kZXNcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHRoZSBhbmNob3IgYW5pbWF0aW9ucyByZXF1aXJlIHRoYXQgdGhlIGZyb20gYW5kIHRvIGVsZW1lbnRzIGJvdGggaGF2ZSBhdCBsZWFzdFxuICAgICAgICAgICAgLy8gb25lIHNoYXJlZCBDU1MgY2xhc3Mgd2hpY2ggZWZmaWN0aXZlbHkgbWFycmllcyB0aGUgdHdvIGVsZW1lbnRzIHRvZ2V0aGVyIHRvIHVzZVxuICAgICAgICAgICAgLy8gdGhlIHNhbWUgYW5pbWF0aW9uIGRyaXZlciBhbmQgdG8gcHJvcGVybHkgc2VxdWVuY2UgdGhlIGFuY2hvciBhbmltYXRpb24uXG4gICAgICAgICAgICBpZiAoZ3JvdXAuY2xhc3Nlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcHJlcGFyZWRBbmltYXRpb25zLnB1c2goZ3JvdXApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJlcGFyZWRBbmltYXRpb25zLnB1c2goZnJvbUFuaW1hdGlvbik7XG4gICAgICAgICAgICAgIHByZXBhcmVkQW5pbWF0aW9ucy5wdXNoKHRvQW5pbWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhbmNob3JHcm91cHNbbG9va3VwS2V5XS5hbmNob3JzLnB1c2goe1xuICAgICAgICAgICAgJ291dCc6IGZyb20uZWxlbWVudCwgJ2luJzogdG8uZWxlbWVudFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHJlcGFyZWRBbmltYXRpb25zO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjc3NDbGFzc2VzSW50ZXJzZWN0aW9uKGEsYikge1xuICAgICAgICBhID0gYS5zcGxpdCgnICcpO1xuICAgICAgICBiID0gYi5zcGxpdCgnICcpO1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBhYSA9IGFbaV07XG4gICAgICAgICAgaWYgKGFhLnN1YnN0cmluZygwLDMpID09PSAnbmctJykgY29udGludWU7XG5cbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChhYSA9PT0gYltqXSkge1xuICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYWEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF0Y2hlcy5qb2luKCcgJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZpcnN0RHJpdmVyKGFuaW1hdGlvbkRldGFpbHMpIHtcbiAgICAgICAgLy8gd2UgbG9vcCBpbiByZXZlcnNlIG9yZGVyIHNpbmNlIHRoZSBtb3JlIGdlbmVyYWwgZHJpdmVycyAobGlrZSBDU1MgYW5kIEpTKVxuICAgICAgICAvLyBtYXkgYXR0ZW1wdCBtb3JlIGVsZW1lbnRzLCBidXQgY3VzdG9tIGRyaXZlcnMgYXJlIG1vcmUgcGFydGljdWxhclxuICAgICAgICBmb3IgKHZhciBpID0gZHJpdmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHZhciBkcml2ZXJOYW1lID0gZHJpdmVyc1tpXTtcbiAgICAgICAgICBpZiAoISRpbmplY3Rvci5oYXMoZHJpdmVyTmFtZSkpIGNvbnRpbnVlOyAvLyBUT0RPKG1hdHNrbyk6IHJlbW92ZSB0aGlzIGNoZWNrXG5cbiAgICAgICAgICB2YXIgZmFjdG9yeSA9ICRpbmplY3Rvci5nZXQoZHJpdmVyTmFtZSk7XG4gICAgICAgICAgdmFyIGRyaXZlciA9IGZhY3RvcnkoYW5pbWF0aW9uRGV0YWlscyk7XG4gICAgICAgICAgaWYgKGRyaXZlcikge1xuICAgICAgICAgICAgcmV0dXJuIGRyaXZlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYmVmb3JlU3RhcnQoKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoTkdfQU5JTUFURV9DTEFTU05BTUUpO1xuICAgICAgICBpZiAodGVtcENsYXNzZXMpIHtcbiAgICAgICAgICAkJGpxTGl0ZS5hZGRDbGFzcyhlbGVtZW50LCB0ZW1wQ2xhc3Nlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdXBkYXRlQW5pbWF0aW9uUnVubmVycyhhbmltYXRpb24sIG5ld1J1bm5lcikge1xuICAgICAgICBpZiAoYW5pbWF0aW9uLmZyb20gJiYgYW5pbWF0aW9uLnRvKSB7XG4gICAgICAgICAgdXBkYXRlKGFuaW1hdGlvbi5mcm9tLmVsZW1lbnQpO1xuICAgICAgICAgIHVwZGF0ZShhbmltYXRpb24udG8uZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBkYXRlKGFuaW1hdGlvbi5lbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZShlbGVtZW50KSB7XG4gICAgICAgICAgZ2V0UnVubmVyKGVsZW1lbnQpLnNldEhvc3QobmV3UnVubmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVEZXN0cm95ZWRFbGVtZW50KCkge1xuICAgICAgICB2YXIgcnVubmVyID0gZ2V0UnVubmVyKGVsZW1lbnQpO1xuICAgICAgICBpZiAocnVubmVyICYmIChldmVudCAhPT0gJ2xlYXZlJyB8fCAhb3B0aW9ucy4kJGRvbU9wZXJhdGlvbkZpcmVkKSkge1xuICAgICAgICAgIHJ1bm5lci5lbmQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbG9zZShyZWplY3RlZCkgeyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgICAgICAgZWxlbWVudC5vZmYoJyRkZXN0cm95JywgaGFuZGxlRGVzdHJveWVkRWxlbWVudCk7XG4gICAgICAgIHJlbW92ZVJ1bm5lcihlbGVtZW50KTtcblxuICAgICAgICBhcHBseUFuaW1hdGlvbkNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIGFwcGx5QW5pbWF0aW9uU3R5bGVzKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmRvbU9wZXJhdGlvbigpO1xuXG4gICAgICAgIGlmICh0ZW1wQ2xhc3Nlcykge1xuICAgICAgICAgICQkanFMaXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIHRlbXBDbGFzc2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoTkdfQU5JTUFURV9DTEFTU05BTUUpO1xuICAgICAgICBydW5uZXIuY29tcGxldGUoIXJlamVjdGVkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XTtcbn1dO1xuXG4vKiBnbG9iYWwgYW5ndWxhckFuaW1hdGVNb2R1bGU6IHRydWUsXG5cbiAgICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeSxcbiAgICQkckFGU2NoZWR1bGVyRmFjdG9yeSxcbiAgICQkQW5pbWF0ZUNoaWxkcmVuRGlyZWN0aXZlLFxuICAgJCRBbmltYXRlUnVubmVyRmFjdG9yeSxcbiAgICQkQW5pbWF0ZVF1ZXVlUHJvdmlkZXIsXG4gICAkJEFuaW1hdGlvblByb3ZpZGVyLFxuICAgJEFuaW1hdGVDc3NQcm92aWRlcixcbiAgICQkQW5pbWF0ZUNzc0RyaXZlclByb3ZpZGVyLFxuICAgJCRBbmltYXRlSnNQcm92aWRlcixcbiAgICQkQW5pbWF0ZUpzRHJpdmVyUHJvdmlkZXIsXG4qL1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nQW5pbWF0ZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIGBuZ0FuaW1hdGVgIG1vZHVsZSBwcm92aWRlcyBzdXBwb3J0IGZvciBDU1MtYmFzZWQgYW5pbWF0aW9ucyAoa2V5ZnJhbWVzIGFuZCB0cmFuc2l0aW9ucykgYXMgd2VsbCBhcyBKYXZhU2NyaXB0LWJhc2VkIGFuaW1hdGlvbnMgdmlhXG4gKiBjYWxsYmFjayBob29rcy4gQW5pbWF0aW9ucyBhcmUgbm90IGVuYWJsZWQgYnkgZGVmYXVsdCwgaG93ZXZlciwgYnkgaW5jbHVkaW5nIGBuZ0FuaW1hdGVgIHRoZSBhbmltYXRpb24gaG9va3MgYXJlIGVuYWJsZWQgZm9yIGFuIEFuZ3VsYXIgYXBwLlxuICpcbiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPVwibmdBbmltYXRlXCI+PC9kaXY+XG4gKlxuICogIyBVc2FnZVxuICogU2ltcGx5IHB1dCwgdGhlcmUgYXJlIHR3byB3YXlzIHRvIG1ha2UgdXNlIG9mIGFuaW1hdGlvbnMgd2hlbiBuZ0FuaW1hdGUgaXMgdXNlZDogYnkgdXNpbmcgKipDU1MqKiBhbmQgKipKYXZhU2NyaXB0KiouIFRoZSBmb3JtZXIgd29ya3MgcHVyZWx5IGJhc2VkXG4gKiB1c2luZyBDU1MgKGJ5IHVzaW5nIG1hdGNoaW5nIENTUyBzZWxlY3RvcnMvc3R5bGVzKSBhbmQgdGhlIGxhdHRlciB0cmlnZ2VycyBhbmltYXRpb25zIHRoYXQgYXJlIHJlZ2lzdGVyZWQgdmlhIGBtb2R1bGUuYW5pbWF0aW9uKClgLiBGb3JcbiAqIGJvdGggQ1NTIGFuZCBKUyBhbmltYXRpb25zIHRoZSBzb2xlIHJlcXVpcmVtZW50IGlzIHRvIGhhdmUgYSBtYXRjaGluZyBgQ1NTIGNsYXNzYCB0aGF0IGV4aXN0cyBib3RoIGluIHRoZSByZWdpc3RlcmVkIGFuaW1hdGlvbiBhbmQgd2l0aGluXG4gKiB0aGUgSFRNTCBlbGVtZW50IHRoYXQgdGhlIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBvbi5cbiAqXG4gKiAjIyBEaXJlY3RpdmUgU3VwcG9ydFxuICogVGhlIGZvbGxvd2luZyBkaXJlY3RpdmVzIGFyZSBcImFuaW1hdGlvbiBhd2FyZVwiOlxuICpcbiAqIHwgRGlyZWN0aXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBTdXBwb3J0ZWQgQW5pbWF0aW9ucyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQjYW5pbWF0aW9ucyBuZ1JlcGVhdH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW50ZXIsIGxlYXZlIGFuZCBtb3ZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyNhbmltYXRpb25zIG5nVmlld30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlbnRlciBhbmQgbGVhdmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5jbHVkZSNhbmltYXRpb25zIG5nSW5jbHVkZX0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVudGVyIGFuZCBsZWF2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6bmdTd2l0Y2gjYW5pbWF0aW9ucyBuZ1N3aXRjaH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW50ZXIgYW5kIGxlYXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0lmI2FuaW1hdGlvbnMgbmdJZn0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlbnRlciBhbmQgbGVhdmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MjYW5pbWF0aW9ucyBuZ0NsYXNzfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGFkZCBhbmQgcmVtb3ZlICh0aGUgQ1NTIGNsYXNzKGVzKSBwcmVzZW50KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6bmdTaG93I2FuaW1hdGlvbnMgbmdTaG93fSAmIHtAbGluayBuZy5kaXJlY3RpdmU6bmdIaWRlI2FuaW1hdGlvbnMgbmdIaWRlfSAgICAgICAgICAgIHwgYWRkIGFuZCByZW1vdmUgKHRoZSBuZy1oaWRlIGNsYXNzIHZhbHVlKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtI2FuaW1hdGlvbi1ob29rcyBmb3JtfSAmIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbCNhbmltYXRpb24taG9va3MgbmdNb2RlbH0gICAgfCBhZGQgYW5kIHJlbW92ZSAoZGlydHksIHByaXN0aW5lLCB2YWxpZCwgaW52YWxpZCAmIGFsbCBvdGhlciB2YWxpZGF0aW9ucykgfFxuICogfCB7QGxpbmsgbW9kdWxlOm5nTWVzc2FnZXMjYW5pbWF0aW9ucyBuZ01lc3NhZ2VzfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGFkZCBhbmQgcmVtb3ZlIChuZy1hY3RpdmUgJiBuZy1pbmFjdGl2ZSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBtb2R1bGU6bmdNZXNzYWdlcyNhbmltYXRpb25zIG5nTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW50ZXIgYW5kIGxlYXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKiAoTW9yZSBpbmZvcm1hdGlvbiBjYW4gYmUgZm91bmQgYnkgdmlzaXRpbmcgZWFjaCB0aGUgZG9jdW1lbnRhdGlvbiBhc3NvY2lhdGVkIHdpdGggZWFjaCBkaXJlY3RpdmUuKVxuICpcbiAqICMjIENTUy1iYXNlZCBBbmltYXRpb25zXG4gKlxuICogQ1NTLWJhc2VkIGFuaW1hdGlvbnMgd2l0aCBuZ0FuaW1hdGUgYXJlIHVuaXF1ZSBzaW5jZSB0aGV5IHJlcXVpcmUgbm8gSmF2YVNjcmlwdCBjb2RlIGF0IGFsbC4gQnkgdXNpbmcgYSBDU1MgY2xhc3MgdGhhdCB3ZSByZWZlcmVuY2UgYmV0d2VlbiBvdXIgSFRNTFxuICogYW5kIENTUyBjb2RlIHdlIGNhbiBjcmVhdGUgYW4gYW5pbWF0aW9uIHRoYXQgd2lsbCBiZSBwaWNrZWQgdXAgYnkgQW5ndWxhciB3aGVuIGFuIHRoZSB1bmRlcmx5aW5nIGRpcmVjdGl2ZSBwZXJmb3JtcyBhbiBvcGVyYXRpb24uXG4gKlxuICogVGhlIGV4YW1wbGUgYmVsb3cgc2hvd3MgaG93IGFuIGBlbnRlcmAgYW5pbWF0aW9uIGNhbiBiZSBtYWRlIHBvc3NpYmxlIG9uIGFuIGVsZW1lbnQgdXNpbmcgYG5nLWlmYDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWlmPVwiYm9vbFwiIGNsYXNzPVwiZmFkZVwiPlxuICogICAgRmFkZSBtZSBpbiBvdXRcbiAqIDwvZGl2PlxuICogPGJ1dHRvbiBuZy1jbGljaz1cImJvb2w9dHJ1ZVwiPkZhZGUgSW4hPC9idXR0b24+XG4gKiA8YnV0dG9uIG5nLWNsaWNrPVwiYm9vbD1mYWxzZVwiPkZhZGUgT3V0ITwvYnV0dG9uPlxuICogYGBgXG4gKlxuICogTm90aWNlIHRoZSBDU1MgY2xhc3MgKipmYWRlKio/IFdlIGNhbiBub3cgY3JlYXRlIHRoZSBDU1MgdHJhbnNpdGlvbiBjb2RlIHRoYXQgcmVmZXJlbmNlcyB0aGlzIGNsYXNzOlxuICpcbiAqIGBgYGNzc1xuICogLyYjNDI7IFRoZSBzdGFydGluZyBDU1Mgc3R5bGVzIGZvciB0aGUgZW50ZXIgYW5pbWF0aW9uICYjNDI7L1xuICogLmZhZGUubmctZW50ZXIge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgb3BhY2l0eTowO1xuICogfVxuICpcbiAqIC8mIzQyOyBUaGUgZmluaXNoaW5nIENTUyBzdHlsZXMgZm9yIHRoZSBlbnRlciBhbmltYXRpb24gJiM0MjsvXG4gKiAuZmFkZS5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICogICBvcGFjaXR5OjE7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUga2V5IHRoaW5nIHRvIHJlbWVtYmVyIGhlcmUgaXMgdGhhdCwgZGVwZW5kaW5nIG9uIHRoZSBhbmltYXRpb24gZXZlbnQgKHdoaWNoIGVhY2ggb2YgdGhlIGRpcmVjdGl2ZXMgYWJvdmUgdHJpZ2dlciBkZXBlbmRpbmcgb24gd2hhdCdzIGdvaW5nIG9uKSB0d29cbiAqIGdlbmVyYXRlZCBDU1MgY2xhc3NlcyB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQ7IGluIHRoZSBleGFtcGxlIGFib3ZlIHdlIGhhdmUgYC5uZy1lbnRlcmAgYW5kIGAubmctZW50ZXItYWN0aXZlYC4gRm9yIENTUyB0cmFuc2l0aW9ucywgdGhlIHRyYW5zaXRpb25cbiAqIGNvZGUgKiptdXN0KiogYmUgZGVmaW5lZCB3aXRoaW4gdGhlIHN0YXJ0aW5nIENTUyBjbGFzcyAoaW4gdGhpcyBjYXNlIGAubmctZW50ZXJgKS4gVGhlIGRlc3RpbmF0aW9uIGNsYXNzIGlzIHdoYXQgdGhlIHRyYW5zaXRpb24gd2lsbCBhbmltYXRlIHRvd2FyZHMuXG4gKlxuICogSWYgZm9yIGV4YW1wbGUgd2Ugd2FudGVkIHRvIGNyZWF0ZSBhbmltYXRpb25zIGZvciBgbGVhdmVgIGFuZCBgbW92ZWAgKG5nUmVwZWF0IHRyaWdnZXJzIG1vdmUpIHRoZW4gd2UgY2FuIGRvIHNvIHVzaW5nIHRoZSBzYW1lIENTUyBuYW1pbmcgY29udmVudGlvbnM6XG4gKlxuICogYGBgY3NzXG4gKiAvJiM0Mjsgbm93IHRoZSBlbGVtZW50IHdpbGwgZmFkZSBvdXQgYmVmb3JlIGl0IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NICYjNDI7L1xuICogLmZhZGUubmctbGVhdmUge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgb3BhY2l0eToxO1xuICogfVxuICogLmZhZGUubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcbiAqICAgb3BhY2l0eTowO1xuICogfVxuICogYGBgXG4gKlxuICogV2UgY2FuIGFsc28gbWFrZSB1c2Ugb2YgKipDU1MgS2V5ZnJhbWVzKiogYnkgcmVmZXJlbmNpbmcgdGhlIGtleWZyYW1lIGFuaW1hdGlvbiB3aXRoaW4gdGhlIHN0YXJ0aW5nIENTUyBjbGFzczpcbiAqXG4gKiBgYGBjc3NcbiAqIC8mIzQyOyB0aGVyZSBpcyBubyBuZWVkIHRvIGRlZmluZSBhbnl0aGluZyBpbnNpZGUgb2YgdGhlIGRlc3RpbmF0aW9uXG4gKiBDU1MgY2xhc3Mgc2luY2UgdGhlIGtleWZyYW1lIHdpbGwgdGFrZSBjaGFyZ2Ugb2YgdGhlIGFuaW1hdGlvbiAmIzQyOy9cbiAqIC5mYWRlLm5nLWxlYXZlIHtcbiAqICAgYW5pbWF0aW9uOiBteV9mYWRlX2FuaW1hdGlvbiAwLjVzIGxpbmVhcjtcbiAqICAgLXdlYmtpdC1hbmltYXRpb246IG15X2ZhZGVfYW5pbWF0aW9uIDAuNXMgbGluZWFyO1xuICogfVxuICpcbiAqIEBrZXlmcmFtZXMgbXlfZmFkZV9hbmltYXRpb24ge1xuICogICBmcm9tIHsgb3BhY2l0eToxOyB9XG4gKiAgIHRvIHsgb3BhY2l0eTowOyB9XG4gKiB9XG4gKlxuICogQC13ZWJraXQta2V5ZnJhbWVzIG15X2ZhZGVfYW5pbWF0aW9uIHtcbiAqICAgZnJvbSB7IG9wYWNpdHk6MTsgfVxuICogICB0byB7IG9wYWNpdHk6MDsgfVxuICogfVxuICogYGBgXG4gKlxuICogRmVlbCBmcmVlIGFsc28gbWl4IHRyYW5zaXRpb25zIGFuZCBrZXlmcmFtZXMgdG9nZXRoZXIgYXMgd2VsbCBhcyBhbnkgb3RoZXIgQ1NTIGNsYXNzZXMgb24gdGhlIHNhbWUgZWxlbWVudC5cbiAqXG4gKiAjIyMgQ1NTIENsYXNzLWJhc2VkIEFuaW1hdGlvbnNcbiAqXG4gKiBDbGFzcy1iYXNlZCBhbmltYXRpb25zIChhbmltYXRpb25zIHRoYXQgYXJlIHRyaWdnZXJlZCB2aWEgYG5nQ2xhc3NgLCBgbmdTaG93YCwgYG5nSGlkZWAgYW5kIHNvbWUgb3RoZXIgZGlyZWN0aXZlcykgaGF2ZSBhIHNsaWdodGx5IGRpZmZlcmVudFxuICogbmFtaW5nIGNvbnZlbnRpb24uIENsYXNzLWJhc2VkIGFuaW1hdGlvbnMgYXJlIGJhc2ljIGVub3VnaCB0aGF0IGEgc3RhbmRhcmQgdHJhbnNpdGlvbiBvciBrZXlmcmFtZSBjYW4gYmUgcmVmZXJlbmNlZCBvbiB0aGUgY2xhc3MgYmVpbmcgYWRkZWRcbiAqIGFuZCByZW1vdmVkLlxuICpcbiAqIEZvciBleGFtcGxlIGlmIHdlIHdhbnRlZCB0byBkbyBhIENTUyBhbmltYXRpb24gZm9yIGBuZ0hpZGVgIHRoZW4gd2UgcGxhY2UgYW4gYW5pbWF0aW9uIG9uIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzczpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLXNob3c9XCJib29sXCIgY2xhc3M9XCJmYWRlXCI+XG4gKiAgIFNob3cgYW5kIGhpZGUgbWVcbiAqIDwvZGl2PlxuICogPGJ1dHRvbiBuZy1jbGljaz1cImJvb2w9dHJ1ZVwiPlRvZ2dsZTwvYnV0dG9uPlxuICpcbiAqIDxzdHlsZT5cbiAqIC5mYWRlLm5nLWhpZGUge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgb3BhY2l0eTowO1xuICogfVxuICogPC9zdHlsZT5cbiAqIGBgYFxuICpcbiAqIEFsbCB0aGF0IGlzIGdvaW5nIG9uIGhlcmUgd2l0aCBuZ1Nob3cvbmdIaWRlIGJlaGluZCB0aGUgc2NlbmVzIGlzIHRoZSBgLm5nLWhpZGVgIGNsYXNzIGlzIGFkZGVkL3JlbW92ZWQgKHdoZW4gdGhlIGhpZGRlbiBzdGF0ZSBpcyB2YWxpZCkuIFNpbmNlXG4gKiBuZ1Nob3cgYW5kIG5nSGlkZSBhcmUgYW5pbWF0aW9uIGF3YXJlIHRoZW4gd2UgY2FuIG1hdGNoIHVwIGEgdHJhbnNpdGlvbiBhbmQgbmdBbmltYXRlIGhhbmRsZXMgdGhlIHJlc3QuXG4gKlxuICogSW4gYWRkaXRpb24gdGhlIGFkZGl0aW9uIGFuZCByZW1vdmFsIG9mIHRoZSBDU1MgY2xhc3MsIG5nQW5pbWF0ZSBhbHNvIHByb3ZpZGVzIHR3byBoZWxwZXIgbWV0aG9kcyB0aGF0IHdlIGNhbiB1c2UgdG8gZnVydGhlciBkZWNvcmF0ZSB0aGUgYW5pbWF0aW9uXG4gKiB3aXRoIENTUyBzdHlsZXMuXG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBuZy1jbGFzcz1cIntvbjpvbk9mZn1cIiBjbGFzcz1cImhpZ2hsaWdodFwiPlxuICogICBIaWdobGlnaHQgdGhpcyBib3hcbiAqIDwvZGl2PlxuICogPGJ1dHRvbiBuZy1jbGljaz1cIm9uT2ZmPSFvbk9mZlwiPlRvZ2dsZTwvYnV0dG9uPlxuICpcbiAqIDxzdHlsZT5cbiAqIC5oaWdobGlnaHQge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqIH1cbiAqIC5oaWdobGlnaHQub24tYWRkIHtcbiAqICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAqIH1cbiAqIC5oaWdobGlnaHQub24ge1xuICogICBiYWNrZ3JvdW5kOnllbGxvdztcbiAqIH1cbiAqIC5oaWdobGlnaHQub24tcmVtb3ZlIHtcbiAqICAgYmFja2dyb3VuZDpibGFjaztcbiAqIH1cbiAqIDwvc3R5bGU+XG4gKiBgYGBcbiAqXG4gKiBXZSBjYW4gYWxzbyBtYWtlIHVzZSBvZiBDU1Mga2V5ZnJhbWVzIGJ5IHBsYWNpbmcgdGhlbSB3aXRoaW4gdGhlIENTUyBjbGFzc2VzLlxuICpcbiAqXG4gKiAjIyMgQ1NTIFN0YWdnZXJpbmcgQW5pbWF0aW9uc1xuICogQSBTdGFnZ2VyaW5nIGFuaW1hdGlvbiBpcyBhIGNvbGxlY3Rpb24gb2YgYW5pbWF0aW9ucyB0aGF0IGFyZSBpc3N1ZWQgd2l0aCBhIHNsaWdodCBkZWxheSBpbiBiZXR3ZWVuIGVhY2ggc3VjY2Vzc2l2ZSBvcGVyYXRpb24gcmVzdWx0aW5nIGluIGFcbiAqIGN1cnRhaW4tbGlrZSBlZmZlY3QuIFRoZSBuZ0FuaW1hdGUgbW9kdWxlICh2ZXJzaW9ucyA+PTEuMikgc3VwcG9ydHMgc3RhZ2dlcmluZyBhbmltYXRpb25zIGFuZCB0aGUgc3RhZ2dlciBlZmZlY3QgY2FuIGJlXG4gKiBwZXJmb3JtZWQgYnkgY3JlYXRpbmcgYSAqKm5nLUVWRU5ULXN0YWdnZXIqKiBDU1MgY2xhc3MgYW5kIGF0dGFjaGluZyB0aGF0IGNsYXNzIHRvIHRoZSBiYXNlIENTUyBjbGFzcyB1c2VkIGZvclxuICogdGhlIGFuaW1hdGlvbi4gVGhlIHN0eWxlIHByb3BlcnR5IGV4cGVjdGVkIHdpdGhpbiB0aGUgc3RhZ2dlciBjbGFzcyBjYW4gZWl0aGVyIGJlIGEgKip0cmFuc2l0aW9uLWRlbGF5Kiogb3IgYW5cbiAqICoqYW5pbWF0aW9uLWRlbGF5KiogcHJvcGVydHkgKG9yIGJvdGggaWYgeW91ciBhbmltYXRpb24gY29udGFpbnMgYm90aCB0cmFuc2l0aW9ucyBhbmQga2V5ZnJhbWUgYW5pbWF0aW9ucykuXG4gKlxuICogYGBgY3NzXG4gKiAubXktYW5pbWF0aW9uLm5nLWVudGVyIHtcbiAqICAgLyYjNDI7IHN0YW5kYXJkIHRyYW5zaXRpb24gY29kZSAmIzQyOy9cbiAqICAgdHJhbnNpdGlvbjogMXMgbGluZWFyIGFsbDtcbiAqICAgb3BhY2l0eTowO1xuICogfVxuICogLm15LWFuaW1hdGlvbi5uZy1lbnRlci1zdGFnZ2VyIHtcbiAqICAgLyYjNDI7IHRoaXMgd2lsbCBoYXZlIGEgMTAwbXMgZGVsYXkgYmV0d2VlbiBlYWNoIHN1Y2Nlc3NpdmUgbGVhdmUgYW5pbWF0aW9uICYjNDI7L1xuICogICB0cmFuc2l0aW9uLWRlbGF5OiAwLjFzO1xuICpcbiAqICAgLyYjNDI7IEFzIG9mIDEuNC40LCB0aGlzIG11c3QgYWx3YXlzIGJlIHNldDogaXQgc2lnbmFscyBuZ0FuaW1hdGVcbiAqICAgICB0byBub3QgYWNjaWRlbnRhbGx5IGluaGVyaXQgYSBkZWxheSBwcm9wZXJ0eSBmcm9tIGFub3RoZXIgQ1NTIGNsYXNzICYjNDI7L1xuICogICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAwcztcbiAqIH1cbiAqIC5teS1hbmltYXRpb24ubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAqICAgLyYjNDI7IHN0YW5kYXJkIHRyYW5zaXRpb24gc3R5bGVzICYjNDI7L1xuICogICBvcGFjaXR5OjE7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBTdGFnZ2VyaW5nIGFuaW1hdGlvbnMgd29yayBieSBkZWZhdWx0IGluIG5nUmVwZWF0IChzbyBsb25nIGFzIHRoZSBDU1MgY2xhc3MgaXMgZGVmaW5lZCkuIE91dHNpZGUgb2YgbmdSZXBlYXQsIHRvIHVzZSBzdGFnZ2VyaW5nIGFuaW1hdGlvbnNcbiAqIG9uIHlvdXIgb3duLCB0aGV5IGNhbiBiZSB0cmlnZ2VyZWQgYnkgZmlyaW5nIG11bHRpcGxlIGNhbGxzIHRvIHRoZSBzYW1lIGV2ZW50IG9uICRhbmltYXRlLiBIb3dldmVyLCB0aGUgcmVzdHJpY3Rpb25zIHN1cnJvdW5kaW5nIHRoaXNcbiAqIGFyZSB0aGF0IGVhY2ggb2YgdGhlIGVsZW1lbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBDU1MgY2xhc3NOYW1lIHZhbHVlIGFzIHdlbGwgYXMgdGhlIHNhbWUgcGFyZW50IGVsZW1lbnQuIEEgc3RhZ2dlciBvcGVyYXRpb25cbiAqIHdpbGwgYWxzbyBiZSByZXNldCBpZiBvbmUgb3IgbW9yZSBhbmltYXRpb24gZnJhbWVzIGhhdmUgcGFzc2VkIHNpbmNlIHRoZSBtdWx0aXBsZSBjYWxscyB0byBgJGFuaW1hdGVgIHdlcmUgZmlyZWQuXG4gKlxuICogVGhlIGZvbGxvd2luZyBjb2RlIHdpbGwgaXNzdWUgdGhlICoqbmctbGVhdmUtc3RhZ2dlcioqIGV2ZW50IG9uIHRoZSBlbGVtZW50IHByb3ZpZGVkOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIga2lkcyA9IHBhcmVudC5jaGlsZHJlbigpO1xuICpcbiAqICRhbmltYXRlLmxlYXZlKGtpZHNbMF0pOyAvL3N0YWdnZXIgaW5kZXg9MFxuICogJGFuaW1hdGUubGVhdmUoa2lkc1sxXSk7IC8vc3RhZ2dlciBpbmRleD0xXG4gKiAkYW5pbWF0ZS5sZWF2ZShraWRzWzJdKTsgLy9zdGFnZ2VyIGluZGV4PTJcbiAqICRhbmltYXRlLmxlYXZlKGtpZHNbM10pOyAvL3N0YWdnZXIgaW5kZXg9M1xuICogJGFuaW1hdGUubGVhdmUoa2lkc1s0XSk7IC8vc3RhZ2dlciBpbmRleD00XG4gKlxuICogd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAqICAgLy9zdGFnZ2VyIGhhcyByZXNldCBpdHNlbGZcbiAqICAgJGFuaW1hdGUubGVhdmUoa2lkc1s1XSk7IC8vc3RhZ2dlciBpbmRleD0wXG4gKiAgICRhbmltYXRlLmxlYXZlKGtpZHNbNl0pOyAvL3N0YWdnZXIgaW5kZXg9MVxuICpcbiAqICAgJHNjb3BlLiRkaWdlc3QoKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogU3RhZ2dlciBhbmltYXRpb25zIGFyZSBjdXJyZW50bHkgb25seSBzdXBwb3J0ZWQgd2l0aGluIENTUy1kZWZpbmVkIGFuaW1hdGlvbnMuXG4gKlxuICogIyMjIFRoZSBgbmctYW5pbWF0ZWAgQ1NTIGNsYXNzXG4gKlxuICogV2hlbiBuZ0FuaW1hdGUgaXMgYW5pbWF0aW5nIGFuIGVsZW1lbnQgaXQgd2lsbCBhcHBseSB0aGUgYG5nLWFuaW1hdGVgIENTUyBjbGFzcyB0byB0aGUgZWxlbWVudCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gKiBUaGlzIGlzIGEgdGVtcG9yYXJ5IENTUyBjbGFzcyBhbmQgaXQgd2lsbCBiZSByZW1vdmVkIG9uY2UgdGhlIGFuaW1hdGlvbiBpcyBvdmVyIChmb3IgYm90aCBKYXZhU2NyaXB0IGFuZCBDU1MtYmFzZWQgYW5pbWF0aW9ucykuXG4gKlxuICogVGhlcmVmb3JlLCBhbmltYXRpb25zIGNhbiBiZSBhcHBsaWVkIHRvIGFuIGVsZW1lbnQgdXNpbmcgdGhpcyB0ZW1wb3JhcnkgY2xhc3MgZGlyZWN0bHkgdmlhIENTUy5cbiAqXG4gKiBgYGBjc3NcbiAqIC56aXBwZXIubmctYW5pbWF0ZSB7XG4gKiAgIHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xuICogfVxuICogLnppcHBlci5uZy1lbnRlciB7XG4gKiAgIG9wYWNpdHk6MDtcbiAqIH1cbiAqIC56aXBwZXIubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAqICAgb3BhY2l0eToxO1xuICogfVxuICogLnppcHBlci5uZy1sZWF2ZSB7XG4gKiAgIG9wYWNpdHk6MTtcbiAqIH1cbiAqIC56aXBwZXIubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcbiAqICAgb3BhY2l0eTowO1xuICogfVxuICogYGBgXG4gKlxuICogKE5vdGUgdGhhdCB0aGUgYG5nLWFuaW1hdGVgIENTUyBjbGFzcyBpcyByZXNlcnZlZCBhbmQgaXQgY2Fubm90IGJlIGFwcGxpZWQgb24gYW4gZWxlbWVudCBkaXJlY3RseSBzaW5jZSBuZ0FuaW1hdGUgd2lsbCBhbHdheXMgcmVtb3ZlXG4gKiB0aGUgQ1NTIGNsYXNzIG9uY2UgYW4gYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuKVxuICpcbiAqXG4gKiAjIyBKYXZhU2NyaXB0LWJhc2VkIEFuaW1hdGlvbnNcbiAqXG4gKiBuZ0FuaW1hdGUgYWxzbyBhbGxvd3MgZm9yIGFuaW1hdGlvbnMgdG8gYmUgY29uc3VtZWQgYnkgSmF2YVNjcmlwdCBjb2RlLiBUaGUgYXBwcm9hY2ggaXMgc2ltaWxhciB0byBDU1MtYmFzZWQgYW5pbWF0aW9ucyAod2hlcmUgdGhlcmUgaXMgYSBzaGFyZWRcbiAqIENTUyBjbGFzcyB0aGF0IGlzIHJlZmVyZW5jZWQgaW4gb3VyIEhUTUwgY29kZSkgYnV0IGluIGFkZGl0aW9uIHdlIG5lZWQgdG8gcmVnaXN0ZXIgdGhlIEphdmFTY3JpcHQgYW5pbWF0aW9uIG9uIHRoZSBtb2R1bGUuIEJ5IG1ha2luZyB1c2Ugb2YgdGhlXG4gKiBgbW9kdWxlLmFuaW1hdGlvbigpYCBtb2R1bGUgZnVuY3Rpb24gd2UgY2FuIHJlZ2lzdGVyIHRoZSBhaW5tYXRpb24uXG4gKlxuICogTGV0J3Mgc2VlIGFuIGV4YW1wbGUgb2YgYSBlbnRlci9sZWF2ZSBhbmltYXRpb24gdXNpbmcgYG5nUmVwZWF0YDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXNcIiBjbGFzcz1cInNsaWRlXCI+XG4gKiAgIHt7IGl0ZW0gfX1cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogU2VlIHRoZSAqKnNsaWRlKiogQ1NTIGNsYXNzPyBMZXQncyB1c2UgdGhhdCBjbGFzcyB0byBkZWZpbmUgYW4gYW5pbWF0aW9uIHRoYXQgd2UnbGwgc3RydWN0dXJlIGluIG91ciBtb2R1bGUgY29kZSBieSB1c2luZyBgbW9kdWxlLmFuaW1hdGlvbmA6XG4gKlxuICogYGBganNcbiAqIG15TW9kdWxlLmFuaW1hdGlvbignLnNsaWRlJywgW2Z1bmN0aW9uKCkge1xuICogICByZXR1cm4ge1xuICogICAgIC8vIG1ha2Ugbm90ZSB0aGF0IG90aGVyIGV2ZW50cyAobGlrZSBhZGRDbGFzcy9yZW1vdmVDbGFzcylcbiAqICAgICAvLyBoYXZlIGRpZmZlcmVudCBmdW5jdGlvbiBpbnB1dCBwYXJhbWV0ZXJzXG4gKiAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmVGbikge1xuICogICAgICAgalF1ZXJ5KGVsZW1lbnQpLmZhZGVJbigxMDAwLCBkb25lRm4pO1xuICpcbiAqICAgICAgIC8vIHJlbWVtYmVyIHRvIGNhbGwgZG9uZUZuIHNvIHRoYXQgYW5ndWxhclxuICogICAgICAgLy8ga25vd3MgdGhhdCB0aGUgYW5pbWF0aW9uIGhhcyBjb25jbHVkZWRcbiAqICAgICB9LFxuICpcbiAqICAgICBtb3ZlOiBmdW5jdGlvbihlbGVtZW50LCBkb25lRm4pIHtcbiAqICAgICAgIGpRdWVyeShlbGVtZW50KS5mYWRlSW4oMTAwMCwgZG9uZUZuKTtcbiAqICAgICB9LFxuICpcbiAqICAgICBsZWF2ZTogZnVuY3Rpb24oZWxlbWVudCwgZG9uZUZuKSB7XG4gKiAgICAgICBqUXVlcnkoZWxlbWVudCkuZmFkZU91dCgxMDAwLCBkb25lRm4pO1xuICogICAgIH1cbiAqICAgfVxuICogfV0pO1xuICogYGBgXG4gKlxuICogVGhlIG5pY2UgdGhpbmcgYWJvdXQgSlMtYmFzZWQgYW5pbWF0aW9ucyBpcyB0aGF0IHdlIGNhbiBpbmplY3Qgb3RoZXIgc2VydmljZXMgYW5kIG1ha2UgdXNlIG9mIGFkdmFuY2VkIGFuaW1hdGlvbiBsaWJyYXJpZXMgc3VjaCBhc1xuICogZ3JlZW5zb2NrLmpzIGFuZCB2ZWxvY2l0eS5qcy5cbiAqXG4gKiBJZiBvdXIgYW5pbWF0aW9uIGNvZGUgY2xhc3MtYmFzZWQgKG1lYW5pbmcgdGhhdCBzb21ldGhpbmcgbGlrZSBgbmdDbGFzc2AsIGBuZ0hpZGVgIGFuZCBgbmdTaG93YCB0cmlnZ2VycyBpdCkgdGhlbiB3ZSBjYW4gc3RpbGwgZGVmaW5lXG4gKiBvdXIgYW5pbWF0aW9ucyBpbnNpZGUgb2YgdGhlIHNhbWUgcmVnaXN0ZXJlZCBhbmltYXRpb24sIGhvd2V2ZXIsIHRoZSBmdW5jdGlvbiBpbnB1dCBhcmd1bWVudHMgYXJlIGEgYml0IGRpZmZlcmVudDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWNsYXNzPVwiY29sb3JcIiBjbGFzcz1cImNvbG9yZnVsXCI+XG4gKiAgIHRoaXMgYm94IGlzIG1vb2R5XG4gKiA8L2Rpdj5cbiAqIDxidXR0b24gbmctY2xpY2s9XCJjb2xvcj0ncmVkJ1wiPkNoYW5nZSB0byByZWQ8L2J1dHRvbj5cbiAqIDxidXR0b24gbmctY2xpY2s9XCJjb2xvcj0nYmx1ZSdcIj5DaGFuZ2UgdG8gYmx1ZTwvYnV0dG9uPlxuICogPGJ1dHRvbiBuZy1jbGljaz1cImNvbG9yPSdncmVlbidcIj5DaGFuZ2UgdG8gZ3JlZW48L2J1dHRvbj5cbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiBteU1vZHVsZS5hbmltYXRpb24oJy5jb2xvcmZ1bCcsIFtmdW5jdGlvbigpIHtcbiAqICAgcmV0dXJuIHtcbiAqICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lRm4pIHtcbiAqICAgICAgIC8vIGRvIHNvbWUgY29vbCBhbmltYXRpb24gYW5kIGNhbGwgdGhlIGRvbmVGblxuICogICAgIH0sXG4gKiAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZUZuKSB7XG4gKiAgICAgICAvLyBkbyBzb21lIGNvb2wgYW5pbWF0aW9uIGFuZCBjYWxsIHRoZSBkb25lRm5cbiAqICAgICB9LFxuICogICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGRlZENsYXNzLCByZW1vdmVkQ2xhc3MsIGRvbmVGbikge1xuICogICAgICAgLy8gZG8gc29tZSBjb29sIGFuaW1hdGlvbiBhbmQgY2FsbCB0aGUgZG9uZUZuXG4gKiAgICAgfVxuICogICB9XG4gKiB9XSk7XG4gKiBgYGBcbiAqXG4gKiAjIyBDU1MgKyBKUyBBbmltYXRpb25zIFRvZ2V0aGVyXG4gKlxuICogQW5ndWxhckpTIDEuNCBhbmQgaGlnaGVyIGhhcyB0YWtlbiBzdGVwcyB0byBtYWtlIHRoZSBhbWFsZ2FtYXRpb24gb2YgQ1NTIGFuZCBKUyBhbmltYXRpb25zIG1vcmUgZmxleGlibGUuIEhvd2V2ZXIsIHVubGlrZSBlYXJsaWVyIHZlcnNpb25zIG9mIEFuZ3VsYXIsXG4gKiBkZWZpbmluZyBDU1MgYW5kIEpTIGFuaW1hdGlvbnMgdG8gd29yayBvZmYgb2YgdGhlIHNhbWUgQ1NTIGNsYXNzIHdpbGwgbm90IHdvcmsgYW55bW9yZS4gVGhlcmVmb3JlIHRoZSBleGFtcGxlIGJlbG93IHdpbGwgb25seSByZXN1bHQgaW4gKipKUyBhbmltYXRpb25zIHRha2luZ1xuICogY2hhcmdlIG9mIHRoZSBhbmltYXRpb24qKjpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWlmPVwiYm9vbFwiIGNsYXNzPVwic2xpZGVcIj5cbiAqICAgU2xpZGUgaW4gYW5kIG91dFxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogbXlNb2R1bGUuYW5pbWF0aW9uKCcuc2xpZGUnLCBbZnVuY3Rpb24oKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmVGbikge1xuICogICAgICAgalF1ZXJ5KGVsZW1lbnQpLnNsaWRlSW4oMTAwMCwgZG9uZUZuKTtcbiAqICAgICB9XG4gKiAgIH1cbiAqIH1dKTtcbiAqIGBgYFxuICpcbiAqIGBgYGNzc1xuICogLnNsaWRlLm5nLWVudGVyIHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiAgIHRyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMDBweCk7XG4gKiB9XG4gKiAuc2xpZGUubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAqICAgdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBEb2VzIHRoaXMgbWVhbiB0aGF0IENTUyBhbmQgSlMgYW5pbWF0aW9ucyBjYW5ub3QgYmUgdXNlZCB0b2dldGhlcj8gRG8gSlMtYmFzZWQgYW5pbWF0aW9ucyBhbHdheXMgaGF2ZSBoaWdoZXIgcHJpb3JpdHk/IFdlIGNhbiBtYWtlIHVwIGZvciB0aGVcbiAqIGxhY2sgb2YgQ1NTIGFuaW1hdGlvbnMgYnkgdXNpbmcgdGhlIGAkYW5pbWF0ZUNzc2Agc2VydmljZSB0byB0cmlnZ2VyIG91ciBvd24gdHdlYWtlZC1vdXQsIENTUy1iYXNlZCBhbmltYXRpb25zIGRpcmVjdGx5IGZyb21cbiAqIG91ciBvd24gSlMtYmFzZWQgYW5pbWF0aW9uIGNvZGU6XG4gKlxuICogYGBganNcbiAqIG15TW9kdWxlLmFuaW1hdGlvbignLnNsaWRlJywgWyckYW5pbWF0ZUNzcycsIGZ1bmN0aW9uKCRhbmltYXRlQ3NzKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiogICAgICAgIC8vIHRoaXMgd2lsbCB0cmlnZ2VyIGAuc2xpZGUubmctZW50ZXJgIGFuZCBgLnNsaWRlLm5nLWVudGVyLWFjdGl2ZWAuXG4gKiAgICAgICByZXR1cm4gJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICogICAgICAgICBldmVudDogJ2VudGVyJyxcbiAqICAgICAgICAgc3RydWN0dXJhbDogdHJ1ZVxuICogICAgICAgfSk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbmljZSB0aGluZyBoZXJlIGlzIHRoYXQgd2UgY2FuIHNhdmUgYmFuZHdpZHRoIGJ5IHN0aWNraW5nIHRvIG91ciBDU1MtYmFzZWQgYW5pbWF0aW9uIGNvZGUgYW5kIHdlIGRvbid0IG5lZWQgdG8gcmVseSBvbiBhIDNyZC1wYXJ0eSBhbmltYXRpb24gZnJhbWV3b3JrLlxuICpcbiAqIFRoZSBgJGFuaW1hdGVDc3NgIHNlcnZpY2UgaXMgdmVyeSBwb3dlcmZ1bCBzaW5jZSB3ZSBjYW4gZmVlZCBpbiBhbGwga2luZHMgb2YgZXh0cmEgcHJvcGVydGllcyB0aGF0IHdpbGwgYmUgZXZhbHVhdGVkIGFuZCBmZWQgaW50byBhIENTUyB0cmFuc2l0aW9uIG9yXG4gKiBrZXlmcmFtZSBhbmltYXRpb24uIEZvciBleGFtcGxlIGlmIHdlIHdhbnRlZCB0byBhbmltYXRlIHRoZSBoZWlnaHQgb2YgYW4gZWxlbWVudCB3aGlsZSBhZGRpbmcgYW5kIHJlbW92aW5nIGNsYXNzZXMgdGhlbiB3ZSBjYW4gZG8gc28gYnkgcHJvdmlkaW5nIHRoYXRcbiAqIGRhdGEgaW50byBgJGFuaW1hdGVDc3NgIGRpcmVjdGx5OlxuICpcbiAqIGBgYGpzXG4gKiBteU1vZHVsZS5hbmltYXRpb24oJy5zbGlkZScsIFsnJGFuaW1hdGVDc3MnLCBmdW5jdGlvbigkYW5pbWF0ZUNzcykge1xuICogICByZXR1cm4ge1xuICogICAgIGVudGVyOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gKiAgICAgICByZXR1cm4gJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICogICAgICAgICBldmVudDogJ2VudGVyJyxcbiAqICAgICAgICAgc3RydWN0dXJhbDogdHJ1ZSxcbiAqICAgICAgICAgYWRkQ2xhc3M6ICdtYXJvb24tc2V0dGluZycsXG4gKiAgICAgICAgIGZyb206IHsgaGVpZ2h0OjAgfSxcbiAqICAgICAgICAgdG86IHsgaGVpZ2h0OiAyMDAgfVxuICogICAgICAgfSk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XSk7XG4gKiBgYGBcbiAqXG4gKiBOb3cgd2UgY2FuIGZpbGwgaW4gdGhlIHJlc3QgdmlhIG91ciB0cmFuc2l0aW9uIENTUyBjb2RlOlxuICpcbiAqIGBgYGNzc1xuICogLyYjNDI7IHRoZSB0cmFuc2l0aW9uIHRlbGxzIG5nQW5pbWF0ZSB0byBtYWtlIHRoZSBhbmltYXRpb24gaGFwcGVuICYjNDI7L1xuICogLnNsaWRlLm5nLWVudGVyIHsgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7IH1cbiAqXG4gKiAvJiM0MjsgdGhpcyBleHRyYSBDU1MgY2xhc3Mgd2lsbCBiZSBhYnNvcmJlZCBpbnRvIHRoZSB0cmFuc2l0aW9uXG4gKiBzaW5jZSB0aGUgJGFuaW1hdGVDc3MgY29kZSBpcyBhZGRpbmcgdGhlIGNsYXNzICYjNDI7L1xuICogLm1hcm9vbi1zZXR0aW5nIHsgYmFja2dyb3VuZDpyZWQ7IH1cbiAqIGBgYFxuICpcbiAqIEFuZCBgJGFuaW1hdGVDc3NgIHdpbGwgZmlndXJlIG91dCB0aGUgcmVzdC4gSnVzdCBtYWtlIHN1cmUgdG8gaGF2ZSB0aGUgYGRvbmUoKWAgY2FsbGJhY2sgZmlyZSB0aGUgYGRvbmVGbmAgZnVuY3Rpb24gdG8gc2lnbmFsIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBvdmVyLlxuICpcbiAqIFRvIGxlYXJuIG1vcmUgYWJvdXQgd2hhdCdzIHBvc3NpYmxlIGJlIHN1cmUgdG8gdmlzaXQgdGhlIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGVDc3MgJGFuaW1hdGVDc3Mgc2VydmljZX0uXG4gKlxuICogIyMgQW5pbWF0aW9uIEFuY2hvcmluZyAodmlhIGBuZy1hbmltYXRlLXJlZmApXG4gKlxuICogbmdBbmltYXRlIGluIEFuZ3VsYXJKUyAxLjQgY29tZXMgcGFja2VkIHdpdGggdGhlIGFiaWxpdHkgdG8gY3Jvc3MtYW5pbWF0ZSBlbGVtZW50cyBiZXR3ZWVuXG4gKiBzdHJ1Y3R1cmFsIGFyZWFzIG9mIGFuIGFwcGxpY2F0aW9uIChsaWtlIHZpZXdzKSBieSBwYWlyaW5nIHVwIGVsZW1lbnRzIHVzaW5nIGFuIGF0dHJpYnV0ZVxuICogY2FsbGVkIGBuZy1hbmltYXRlLXJlZmAuXG4gKlxuICogTGV0J3Mgc2F5IGZvciBleGFtcGxlIHdlIGhhdmUgdHdvIHZpZXdzIHRoYXQgYXJlIG1hbmFnZWQgYnkgYG5nLXZpZXdgIGFuZCB3ZSB3YW50IHRvIHNob3dcbiAqIHRoYXQgdGhlcmUgaXMgYSByZWxhdGlvbnNoaXAgYmV0d2VlbiB0d28gY29tcG9uZW50cyBzaXR1YXRlZCBpbiB3aXRoaW4gdGhlc2Ugdmlld3MuIEJ5IHVzaW5nIHRoZVxuICogYG5nLWFuaW1hdGUtcmVmYCBhdHRyaWJ1dGUgd2UgY2FuIGlkZW50aWZ5IHRoYXQgdGhlIHR3byBjb21wb25lbnRzIGFyZSBwYWlyZWQgdG9nZXRoZXIgYW5kIHdlXG4gKiBjYW4gdGhlbiBhdHRhY2ggYW4gYW5pbWF0aW9uLCB3aGljaCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdmlldyBjaGFuZ2VzLlxuICpcbiAqIFNheSBmb3IgZXhhbXBsZSB3ZSBoYXZlIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGUgY29kZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIGluZGV4Lmh0bWwgLS0+XG4gKiA8ZGl2IG5nLXZpZXcgY2xhc3M9XCJ2aWV3LWFuaW1hdGlvblwiPlxuICogPC9kaXY+XG4gKlxuICogPCEtLSBob21lLmh0bWwgLS0+XG4gKiA8YSBocmVmPVwiIy9iYW5uZXItcGFnZVwiPlxuICogICA8aW1nIHNyYz1cIi4vYmFubmVyLmpwZ1wiIGNsYXNzPVwiYmFubmVyXCIgbmctYW5pbWF0ZS1yZWY9XCJiYW5uZXJcIj5cbiAqIDwvYT5cbiAqXG4gKiA8IS0tIGJhbm5lci1wYWdlLmh0bWwgLS0+XG4gKiA8aW1nIHNyYz1cIi4vYmFubmVyLmpwZ1wiIGNsYXNzPVwiYmFubmVyXCIgbmctYW5pbWF0ZS1yZWY9XCJiYW5uZXJcIj5cbiAqIGBgYFxuICpcbiAqIE5vdywgd2hlbiB0aGUgdmlldyBjaGFuZ2VzIChvbmNlIHRoZSBsaW5rIGlzIGNsaWNrZWQpLCBuZ0FuaW1hdGUgd2lsbCBleGFtaW5lIHRoZVxuICogSFRNTCBjb250ZW50cyB0byBzZWUgaWYgdGhlcmUgaXMgYSBtYXRjaCByZWZlcmVuY2UgYmV0d2VlbiBhbnkgY29tcG9uZW50cyBpbiB0aGUgdmlld1xuICogdGhhdCBpcyBsZWF2aW5nIGFuZCB0aGUgdmlldyB0aGF0IGlzIGVudGVyaW5nLiBJdCB3aWxsIHNjYW4gYm90aCB0aGUgdmlldyB3aGljaCBpcyBiZWluZ1xuICogcmVtb3ZlZCAobGVhdmUpIGFuZCBpbnNlcnRlZCAoZW50ZXIpIHRvIHNlZSBpZiB0aGVyZSBhcmUgYW55IHBhaXJlZCBET00gZWxlbWVudHMgdGhhdFxuICogY29udGFpbiBhIG1hdGNoaW5nIHJlZiB2YWx1ZS5cbiAqXG4gKiBUaGUgdHdvIGltYWdlcyBtYXRjaCBzaW5jZSB0aGV5IHNoYXJlIHRoZSBzYW1lIHJlZiB2YWx1ZS4gbmdBbmltYXRlIHdpbGwgbm93IGNyZWF0ZSBhXG4gKiB0cmFuc3BvcnQgZWxlbWVudCAod2hpY2ggaXMgYSBjbG9uZSBvZiB0aGUgZmlyc3QgaW1hZ2UgZWxlbWVudCkgYW5kIGl0IHdpbGwgdGhlbiBhdHRlbXB0XG4gKiB0byBhbmltYXRlIHRvIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kIGltYWdlIGVsZW1lbnQgaW4gdGhlIG5leHQgdmlldy4gRm9yIHRoZSBhbmltYXRpb24gdG9cbiAqIHdvcmsgYSBzcGVjaWFsIENTUyBjbGFzcyBjYWxsZWQgYG5nLWFuY2hvcmAgd2lsbCBiZSBhZGRlZCB0byB0aGUgdHJhbnNwb3J0ZWQgZWxlbWVudC5cbiAqXG4gKiBXZSBjYW4gbm93IGF0dGFjaCBhIHRyYW5zaXRpb24gb250byB0aGUgYC5iYW5uZXIubmctYW5jaG9yYCBDU1MgY2xhc3MgYW5kIHRoZW5cbiAqIG5nQW5pbWF0ZSB3aWxsIGhhbmRsZSB0aGUgZW50aXJlIHRyYW5zaXRpb24gZm9yIHVzIGFzIHdlbGwgYXMgdGhlIGFkZGl0aW9uIGFuZCByZW1vdmFsIG9mXG4gKiBhbnkgY2hhbmdlcyBvZiBDU1MgY2xhc3NlcyBiZXR3ZWVuIHRoZSBlbGVtZW50czpcbiAqXG4gKiBgYGBjc3NcbiAqIC5iYW5uZXIubmctYW5jaG9yIHtcbiAqICAgLyYjNDI7IHRoaXMgYW5pbWF0aW9uIHdpbGwgbGFzdCBmb3IgMSBzZWNvbmQgc2luY2UgdGhlcmUgYXJlXG4gKiAgICAgICAgICB0d28gcGhhc2VzIHRvIHRoZSBhbmltYXRpb24gKGFuIGBpbmAgYW5kIGFuIGBvdXRgIHBoYXNlKSAmIzQyOy9cbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBXZSBhbHNvICoqbXVzdCoqIGluY2x1ZGUgYW5pbWF0aW9ucyBmb3IgdGhlIHZpZXdzIHRoYXQgYXJlIGJlaW5nIGVudGVyZWQgYW5kIHJlbW92ZWRcbiAqIChvdGhlcndpc2UgYW5jaG9yaW5nIHdvdWxkbid0IGJlIHBvc3NpYmxlIHNpbmNlIHRoZSBuZXcgdmlldyB3b3VsZCBiZSBpbnNlcnRlZCByaWdodCBhd2F5KS5cbiAqXG4gKiBgYGBjc3NcbiAqIC52aWV3LWFuaW1hdGlvbi5uZy1lbnRlciwgLnZpZXctYW5pbWF0aW9uLm5nLWxlYXZlIHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiAgIHBvc2l0aW9uOmZpeGVkO1xuICogICBsZWZ0OjA7XG4gKiAgIHRvcDowO1xuICogICB3aWR0aDoxMDAlO1xuICogfVxuICogLnZpZXctYW5pbWF0aW9uLm5nLWVudGVyIHtcbiAqICAgdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTAwJSk7XG4gKiB9XG4gKiAudmlldy1hbmltYXRpb24ubmctbGVhdmUsXG4gKiAudmlldy1hbmltYXRpb24ubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAqICAgdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCUpO1xuICogfVxuICogLnZpZXctYW5pbWF0aW9uLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XG4gKiAgIHRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIE5vdyB3ZSBjYW4ganVtcCBiYWNrIHRvIHRoZSBhbmNob3IgYW5pbWF0aW9uLiBXaGVuIHRoZSBhbmltYXRpb24gaGFwcGVucywgdGhlcmUgYXJlIHR3byBzdGFnZXMgdGhhdCBvY2N1cjpcbiAqIGFuIGBvdXRgIGFuZCBhbiBgaW5gIHN0YWdlLiBUaGUgYG91dGAgc3RhZ2UgaGFwcGVucyBmaXJzdCBhbmQgdGhhdCBpcyB3aGVuIHRoZSBlbGVtZW50IGlzIGFuaW1hdGVkIGF3YXlcbiAqIGZyb20gaXRzIG9yaWdpbi4gT25jZSB0aGF0IGFuaW1hdGlvbiBpcyBvdmVyIHRoZW4gdGhlIGBpbmAgc3RhZ2Ugb2NjdXJzIHdoaWNoIGFuaW1hdGVzIHRoZVxuICogZWxlbWVudCB0byBpdHMgZGVzdGluYXRpb24uIFRoZSByZWFzb24gd2h5IHRoZXJlIGFyZSB0d28gYW5pbWF0aW9ucyBpcyB0byBnaXZlIGVub3VnaCB0aW1lXG4gKiBmb3IgdGhlIGVudGVyIGFuaW1hdGlvbiBvbiB0aGUgbmV3IGVsZW1lbnQgdG8gYmUgcmVhZHkuXG4gKlxuICogVGhlIGV4YW1wbGUgYWJvdmUgc2V0cyB1cCBhIHRyYW5zaXRpb24gZm9yIGJvdGggdGhlIGluIGFuZCBvdXQgcGhhc2VzLCBidXQgd2UgY2FuIGFsc28gdGFyZ2V0IHRoZSBvdXQgb3JcbiAqIGluIHBoYXNlcyBkaXJlY3RseSB2aWEgYG5nLWFuY2hvci1vdXRgIGFuZCBgbmctYW5jaG9yLWluYC5cbiAqXG4gKiBgYGBjc3NcbiAqIC5iYW5uZXIubmctYW5jaG9yLW91dCB7XG4gKiAgIHRyYW5zaXRpb246IDAuNXMgbGluZWFyIGFsbDtcbiAqXG4gKiAgIC8mIzQyOyB0aGUgc2NhbGUgd2lsbCBiZSBhcHBsaWVkIGR1cmluZyB0aGUgb3V0IGFuaW1hdGlvbixcbiAqICAgICAgICAgIGJ1dCB3aWxsIGJlIGFuaW1hdGVkIGF3YXkgd2hlbiB0aGUgaW4gYW5pbWF0aW9uIHJ1bnMgJiM0MjsvXG4gKiAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcbiAqIH1cbiAqXG4gKiAuYmFubmVyLm5nLWFuY2hvci1pbiB7XG4gKiAgIHRyYW5zaXRpb246IDFzIGxpbmVhciBhbGw7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKlxuICpcbiAqXG4gKiAjIyMgQW5jaG9yaW5nIERlbW9cbiAqXG4gIDxleGFtcGxlIG1vZHVsZT1cImFuY2hvcmluZ0V4YW1wbGVcIlxuICAgICAgICAgICBuYW1lPVwiYW5jaG9yaW5nRXhhbXBsZVwiXG4gICAgICAgICAgIGlkPVwiYW5jaG9yaW5nRXhhbXBsZVwiXG4gICAgICAgICAgIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanM7YW5ndWxhci1yb3V0ZS5qc1wiXG4gICAgICAgICAgIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxhIGhyZWY9XCIjL1wiPkhvbWU8L2E+XG4gICAgICA8aHIgLz5cbiAgICAgIDxkaXYgY2xhc3M9XCJ2aWV3LWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IG5nLXZpZXcgY2xhc3M9XCJ2aWV3XCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2FuY2hvcmluZ0V4YW1wbGUnLCBbJ25nQW5pbWF0ZScsICduZ1JvdXRlJ10pXG4gICAgICAgIC5jb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignLycsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaG9tZS5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdIb21lQ29udHJvbGxlciBhcyBob21lJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9wcm9maWxlLzppZCcsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJvZmlsZS5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQcm9maWxlQ29udHJvbGxlciBhcyBwcm9maWxlJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XSlcbiAgICAgICAgLnJ1bihbJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS5yZWNvcmRzID0gW1xuICAgICAgICAgICAgeyBpZDoxLCB0aXRsZTogXCJNaXNzIEJldWxhaCBSb29iXCIgfSxcbiAgICAgICAgICAgIHsgaWQ6MiwgdGl0bGU6IFwiVHJlbnQgTW9yaXNzZXR0ZVwiIH0sXG4gICAgICAgICAgICB7IGlkOjMsIHRpdGxlOiBcIk1pc3MgQXZhIFBvdXJvc1wiIH0sXG4gICAgICAgICAgICB7IGlkOjQsIHRpdGxlOiBcIlJvZCBQb3Vyb3NcIiB9LFxuICAgICAgICAgICAgeyBpZDo1LCB0aXRsZTogXCJBYmR1bCBSaWNlXCIgfSxcbiAgICAgICAgICAgIHsgaWQ6NiwgdGl0bGU6IFwiTGF1cmllIFJ1dGhlcmZvcmQgU3IuXCIgfSxcbiAgICAgICAgICAgIHsgaWQ6NywgdGl0bGU6IFwiTmFraWEgTWNMYXVnaGxpblwiIH0sXG4gICAgICAgICAgICB7IGlkOjgsIHRpdGxlOiBcIkpvcmRvbiBCbGFuZGEgRFZNXCIgfSxcbiAgICAgICAgICAgIHsgaWQ6OSwgdGl0bGU6IFwiUmhvZGEgSGFuZFwiIH0sXG4gICAgICAgICAgICB7IGlkOjEwLCB0aXRsZTogXCJBbGV4YW5kcmVhIFNhdWVyXCIgfVxuICAgICAgICAgIF07XG4gICAgICAgIH1dKVxuICAgICAgICAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBbZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy9lbXB0eVxuICAgICAgICB9XSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1Byb2ZpbGVDb250cm9sbGVyJywgWyckcm9vdFNjb3BlJywgJyRyb3V0ZVBhcmFtcycsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRyb3V0ZVBhcmFtcykge1xuICAgICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KCRyb3V0ZVBhcmFtcy5pZCwgMTApO1xuICAgICAgICAgIHZhciByZWNvcmQgPSAkcm9vdFNjb3BlLnJlY29yZHNbaW5kZXggLSAxXTtcblxuICAgICAgICAgIHRoaXMudGl0bGUgPSByZWNvcmQudGl0bGU7XG4gICAgICAgICAgdGhpcy5pZCA9IHJlY29yZC5pZDtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiaG9tZS5odG1sXCI+XG4gICAgICA8aDI+V2VsY29tZSB0byB0aGUgaG9tZSBwYWdlPC9oMT5cbiAgICAgIDxwPlBsZWFzZSBjbGljayBvbiBhbiBlbGVtZW50PC9wPlxuICAgICAgPGEgY2xhc3M9XCJyZWNvcmRcIlxuICAgICAgICAgbmctaHJlZj1cIiMvcHJvZmlsZS97eyByZWNvcmQuaWQgfX1cIlxuICAgICAgICAgbmctYW5pbWF0ZS1yZWY9XCJ7eyByZWNvcmQuaWQgfX1cIlxuICAgICAgICAgbmctcmVwZWF0PVwicmVjb3JkIGluIHJlY29yZHNcIj5cbiAgICAgICAge3sgcmVjb3JkLnRpdGxlIH19XG4gICAgICA8L2E+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm9maWxlLmh0bWxcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlIHJlY29yZFwiIG5nLWFuaW1hdGUtcmVmPVwie3sgcHJvZmlsZS5pZCB9fVwiPlxuICAgICAgICB7eyBwcm9maWxlLnRpdGxlIH19XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAucmVjb3JkIHtcbiAgICAgICAgZGlzcGxheTpibG9jaztcbiAgICAgICAgZm9udC1zaXplOjIwcHg7XG4gICAgICB9XG4gICAgICAucHJvZmlsZSB7XG4gICAgICAgIGJhY2tncm91bmQ6YmxhY2s7XG4gICAgICAgIGNvbG9yOndoaXRlO1xuICAgICAgICBmb250LXNpemU6MTAwcHg7XG4gICAgICB9XG4gICAgICAudmlldy1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgIH1cbiAgICAgIC52aWV3LWNvbnRhaW5lciA+IC52aWV3Lm5nLWFuaW1hdGUge1xuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgdG9wOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgbWluLWhlaWdodDo1MDBweDtcbiAgICAgIH1cbiAgICAgIC52aWV3Lm5nLWVudGVyLCAudmlldy5uZy1sZWF2ZSxcbiAgICAgIC5yZWNvcmQubmctYW5jaG9yIHtcbiAgICAgICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gICAgICB9XG4gICAgICAudmlldy5uZy1lbnRlciB7XG4gICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGVYKDEwMCUpO1xuICAgICAgfVxuICAgICAgLnZpZXcubmctZW50ZXIubmctZW50ZXItYWN0aXZlLCAudmlldy5uZy1sZWF2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGVYKDAlKTtcbiAgICAgIH1cbiAgICAgIC52aWV3Lm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKTtcbiAgICAgIH1cbiAgICAgIC5yZWNvcmQubmctYW5jaG9yLW91dCB7XG4gICAgICAgIGJhY2tncm91bmQ6cmVkO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICpcbiAqICMjIyBIb3cgaXMgdGhlIGVsZW1lbnQgdHJhbnNwb3J0ZWQ/XG4gKlxuICogV2hlbiBhbiBhbmNob3IgYW5pbWF0aW9uIG9jY3VycywgbmdBbmltYXRlIHdpbGwgY2xvbmUgdGhlIHN0YXJ0aW5nIGVsZW1lbnQgYW5kIHBvc2l0aW9uIGl0IGV4YWN0bHkgd2hlcmUgdGhlIHN0YXJ0aW5nXG4gKiBlbGVtZW50IGlzIGxvY2F0ZWQgb24gc2NyZWVuIHZpYSBhYnNvbHV0ZSBwb3NpdGlvbmluZy4gVGhlIGNsb25lZCBlbGVtZW50IHdpbGwgYmUgcGxhY2VkIGluc2lkZSBvZiB0aGUgcm9vdCBlbGVtZW50XG4gKiBvZiB0aGUgYXBwbGljYXRpb24gKHdoZXJlIG5nLWFwcCB3YXMgZGVmaW5lZCkgYW5kIGFsbCBvZiB0aGUgQ1NTIGNsYXNzZXMgb2YgdGhlIHN0YXJ0aW5nIGVsZW1lbnQgd2lsbCBiZSBhcHBsaWVkLiBUaGVcbiAqIGVsZW1lbnQgd2lsbCB0aGVuIGFuaW1hdGUgaW50byB0aGUgYG91dGAgYW5kIGBpbmAgYW5pbWF0aW9ucyBhbmQgd2lsbCBldmVudHVhbGx5IHJlYWNoIHRoZSBjb29yZGluYXRlcyBhbmQgbWF0Y2hcbiAqIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkZXN0aW5hdGlvbiBlbGVtZW50LiBEdXJpbmcgdGhlIGVudGlyZSBhbmltYXRpb24gYSBDU1MgY2xhc3Mgb2YgYC5uZy1hbmltYXRlLXNoaW1gIHdpbGwgYmUgYXBwbGllZFxuICogdG8gYm90aCB0aGUgc3RhcnRpbmcgYW5kIGRlc3RpbmF0aW9uIGVsZW1lbnRzIGluIG9yZGVyIHRvIGhpZGUgdGhlbSBmcm9tIGJlaW5nIHZpc2libGUgKHRoZSBDU1Mgc3R5bGluZyBmb3IgdGhlIGNsYXNzXG4gKiBpczogYHZpc2liaWxpdHk6aGlkZGVuYCkuIE9uY2UgdGhlIGFuY2hvciByZWFjaGVzIGl0cyBkZXN0aW5hdGlvbiB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhbmQgdGhlIGRlc3RpbmF0aW9uIGVsZW1lbnRcbiAqIHdpbGwgYmVjb21lIHZpc2libGUgc2luY2UgdGhlIHNoaW0gY2xhc3Mgd2lsbCBiZSByZW1vdmVkLlxuICpcbiAqICMjIyBIb3cgaXMgdGhlIG1vcnBoaW5nIGhhbmRsZWQ/XG4gKlxuICogQ1NTIEFuY2hvcmluZyByZWxpZXMgb24gdHJhbnNpdGlvbnMgYW5kIGtleWZyYW1lcyBhbmQgdGhlIGludGVybmFsIGNvZGUgaXMgaW50ZWxsaWdlbnQgZW5vdWdoIHRvIGZpZ3VyZSBvdXRcbiAqIHdoYXQgQ1NTIGNsYXNzZXMgZGlmZmVyIGJldHdlZW4gdGhlIHN0YXJ0aW5nIGVsZW1lbnQgYW5kIHRoZSBkZXN0aW5hdGlvbiBlbGVtZW50LiBUaGVzZSBkaWZmZXJlbnQgQ1NTIGNsYXNzZXNcbiAqIHdpbGwgYmUgYWRkZWQvcmVtb3ZlZCBvbiB0aGUgYW5jaG9yIGVsZW1lbnQgYW5kIGEgdHJhbnNpdGlvbiB3aWxsIGJlIGFwcGxpZWQgKHRoZSB0cmFuc2l0aW9uIHRoYXQgaXMgcHJvdmlkZWRcbiAqIGluIHRoZSBhbmNob3IgY2xhc3MpLiBMb25nIHN0b3J5IHNob3J0LCBuZ0FuaW1hdGUgd2lsbCBmaWd1cmUgb3V0IHdoYXQgY2xhc3NlcyB0byBhZGQgYW5kIHJlbW92ZSB3aGljaCB3aWxsXG4gKiBtYWtlIHRoZSB0cmFuc2l0aW9uIG9mIHRoZSBlbGVtZW50IGFzIHNtb290aCBhbmQgYXV0b21hdGljIGFzIHBvc3NpYmxlLiBCZSBzdXJlIHRvIHVzZSBzaW1wbGUgQ1NTIGNsYXNzZXMgdGhhdFxuICogZG8gbm90IHJlbHkgb24gRE9NIG5lc3Rpbmcgc3RydWN0dXJlIHNvIHRoYXQgdGhlIGFuY2hvciBlbGVtZW50IGFwcGVhcnMgdGhlIHNhbWUgYXMgdGhlIHN0YXJ0aW5nIGVsZW1lbnQgKHNpbmNlXG4gKiB0aGUgY2xvbmVkIGVsZW1lbnQgaXMgcGxhY2VkIGluc2lkZSBvZiByb290IGVsZW1lbnQgd2hpY2ggaXMgbGlrZWx5IGNsb3NlIHRvIHRoZSBib2R5IGVsZW1lbnQpLlxuICpcbiAqIE5vdGUgdGhhdCBpZiB0aGUgcm9vdCBlbGVtZW50IGlzIG9uIHRoZSBgPGh0bWw+YCBlbGVtZW50IHRoZW4gdGhlIGNsb25lZCBub2RlIHdpbGwgYmUgcGxhY2VkIGluc2lkZSBvZiBib2R5LlxuICpcbiAqXG4gKiAjIyBVc2luZyAkYW5pbWF0ZSBpbiB5b3VyIGRpcmVjdGl2ZSBjb2RlXG4gKlxuICogU28gZmFyIHdlJ3ZlIGV4cGxvcmVkIGhvdyB0byBmZWVkIGluIGFuaW1hdGlvbnMgaW50byBhbiBBbmd1bGFyIGFwcGxpY2F0aW9uLCBidXQgaG93IGRvIHdlIHRyaWdnZXIgYW5pbWF0aW9ucyB3aXRoaW4gb3VyIG93biBkaXJlY3RpdmVzIGluIG91ciBhcHBsaWNhdGlvbj9cbiAqIEJ5IGluamVjdGluZyB0aGUgYCRhbmltYXRlYCBzZXJ2aWNlIGludG8gb3VyIGRpcmVjdGl2ZSBjb2RlLCB3ZSBjYW4gdHJpZ2dlciBzdHJ1Y3R1cmFsIGFuZCBjbGFzcy1iYXNlZCBob29rcyB3aGljaCBjYW4gdGhlbiBiZSBjb25zdW1lZCBieSBhbmltYXRpb25zLiBMZXQnc1xuICogaW1hZ2luZSB3ZSBoYXZlIGEgZ3JlZXRpbmcgYm94IHRoYXQgc2hvd3MgYW5kIGhpZGVzIGl0c2VsZiB3aGVuIHRoZSBkYXRhIGNoYW5nZXNcbiAqXG4gKiBgYGBodG1sXG4gKiA8Z3JlZXRpbmctYm94IGFjdGl2ZT1cIm9uT3JPZmZcIj5IaSB0aGVyZTwvZ3JlZXRpbmctYm94PlxuICogYGBgXG4gKlxuICogYGBganNcbiAqIG5nTW9kdWxlLmRpcmVjdGl2ZSgnZ3JlZXRpbmdCb3gnLCBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAqICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICogICAgIGF0dHJzLiRvYnNlcnZlKCdhY3RpdmUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgICAgdmFsdWUgPyAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnb24nKSA6ICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsICdvbicpO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIH1dKTtcbiAqIGBgYFxuICpcbiAqIE5vdyB0aGUgYG9uYCBDU1MgY2xhc3MgaXMgYWRkZWQgYW5kIHJlbW92ZWQgb24gdGhlIGdyZWV0aW5nIGJveCBjb21wb25lbnQuIE5vdyBpZiB3ZSBhZGQgYSBDU1MgY2xhc3Mgb24gdG9wIG9mIHRoZSBncmVldGluZyBib3ggZWxlbWVudFxuICogaW4gb3VyIEhUTUwgY29kZSB0aGVuIHdlIGNhbiB0cmlnZ2VyIGEgQ1NTIG9yIEpTIGFuaW1hdGlvbiB0byBoYXBwZW4uXG4gKlxuICogYGBgY3NzXG4gKiAvJiM0Mjsgbm9ybWFsbHkgd2Ugd291bGQgY3JlYXRlIGEgQ1NTIGNsYXNzIHRvIHJlZmVyZW5jZSBvbiB0aGUgZWxlbWVudCAmIzQyOy9cbiAqIGdyZWV0aW5nLWJveC5vbiB7IHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsOyBiYWNrZ3JvdW5kOmdyZWVuOyBjb2xvcjp3aGl0ZTsgfVxuICogYGBgXG4gKlxuICogVGhlIGAkYW5pbWF0ZWAgc2VydmljZSBjb250YWlucyBhIHZhcmlldHkgb2Ygb3RoZXIgbWV0aG9kcyBsaWtlIGBlbnRlcmAsIGBsZWF2ZWAsIGBhbmltYXRlYCBhbmQgYHNldENsYXNzYC4gVG8gbGVhcm4gbW9yZSBhYm91dCB3aGF0J3NcbiAqIHBvc3NpYmxlIGJlIHN1cmUgdG8gdmlzaXQgdGhlIHtAbGluayBuZy4kYW5pbWF0ZSAkYW5pbWF0ZSBzZXJ2aWNlIEFQSSBwYWdlfS5cbiAqXG4gKlxuICogIyMjIFByZXZlbnRpbmcgQ29sbGlzaW9ucyBXaXRoIFRoaXJkIFBhcnR5IExpYnJhcmllc1xuICpcbiAqIFNvbWUgdGhpcmQtcGFydHkgZnJhbWV3b3JrcyBwbGFjZSBhbmltYXRpb24gZHVyYXRpb24gZGVmYXVsdHMgYWNyb3NzIG1hbnkgZWxlbWVudCBvciBjbGFzc05hbWVcbiAqIHNlbGVjdG9ycyBpbiBvcmRlciB0byBtYWtlIHRoZWlyIGNvZGUgc21hbGwgYW5kIHJldXNlYWJsZS4gVGhpcyBjYW4gbGVhZCB0byBpc3N1ZXMgd2l0aCBuZ0FuaW1hdGUsIHdoaWNoXG4gKiBpcyBleHBlY3RpbmcgYWN0dWFsIGFuaW1hdGlvbnMgb24gdGhlc2UgZWxlbWVudHMgYW5kIGhhcyB0byB3YWl0IGZvciB0aGVpciBjb21wbGV0aW9uLlxuICpcbiAqIFlvdSBjYW4gcHJldmVudCB0aGlzIHVud2FudGVkIGJlaGF2aW9yIGJ5IHVzaW5nIGEgcHJlZml4IG9uIGFsbCB5b3VyIGFuaW1hdGlvbiBjbGFzc2VzOlxuICpcbiAqIGBgYGNzc1xuICogLyYjNDI7IHByZWZpeGVkIHdpdGggYW5pbWF0ZS0gJiM0MjsvXG4gKiAuYW5pbWF0ZS1mYWRlLWFkZC5hbmltYXRlLWZhZGUtYWRkLWFjdGl2ZSB7XG4gKiAgIHRyYW5zaXRpb246MXMgbGluZWFyIGFsbDtcbiAqICAgb3BhY2l0eTowO1xuICogfVxuICogYGBgXG4gKlxuICogWW91IHRoZW4gY29uZmlndXJlIGAkYW5pbWF0ZWAgdG8gZW5mb3JjZSB0aGlzIHByZWZpeDpcbiAqXG4gKiBgYGBqc1xuICogJGFuaW1hdGVQcm92aWRlci5jbGFzc05hbWVGaWx0ZXIoL2FuaW1hdGUtLyk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGFsc28gbWF5IHByb3ZpZGUgeW91ciBhcHBsaWNhdGlvbiB3aXRoIGEgc3BlZWQgYm9vc3Qgc2luY2Ugb25seSBzcGVjaWZpYyBlbGVtZW50cyBjb250YWluaW5nIENTUyBjbGFzcyBwcmVmaXhcbiAqIHdpbGwgYmUgZXZhbHVhdGVkIGZvciBhbmltYXRpb24gd2hlbiBhbnkgRE9NIGNoYW5nZXMgb2NjdXIgaW4gdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqICMjIENhbGxiYWNrcyBhbmQgUHJvbWlzZXNcbiAqXG4gKiBXaGVuIGAkYW5pbWF0ZWAgaXMgY2FsbGVkIGl0IHJldHVybnMgYSBwcm9taXNlIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FwdHVyZSB3aGVuIHRoZSBhbmltYXRpb24gaGFzIGVuZGVkLiBUaGVyZWZvcmUgaWYgd2Ugd2VyZSB0byB0cmlnZ2VyXG4gKiBhbiBhbmltYXRpb24gKHdpdGhpbiBvdXIgZGlyZWN0aXZlIGNvZGUpIHRoZW4gd2UgY2FuIGNvbnRpbnVlIHBlcmZvcm1pbmcgZGlyZWN0aXZlIGFuZCBzY29wZSByZWxhdGVkIGFjdGl2aXRpZXMgYWZ0ZXIgdGhlIGFuaW1hdGlvbiBoYXNcbiAqIGVuZGVkIGJ5IGNoYWluaW5nIG9udG8gdGhlIHJldHVybmVkIHByb21pc2UgdGhhdCBhbmltYXRpb24gbWV0aG9kIHJldHVybnMuXG4gKlxuICogYGBganNcbiAqIC8vIHNvbWV3aGVyZSB3aXRoaW4gdGhlIGRlcHRocyBvZiB0aGUgZGlyZWN0aXZlXG4gKiAkYW5pbWF0ZS5lbnRlcihlbGVtZW50LCBwYXJlbnQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gKiAgIC8vdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIChOb3RlIHRoYXQgZWFybGllciB2ZXJzaW9ucyBvZiBBbmd1bGFyIHByaW9yIHRvIHYxLjQgcmVxdWlyZWQgdGhlIHByb21pc2UgY29kZSB0byBiZSB3cmFwcGVkIHVzaW5nIGAkc2NvcGUuJGFwcGx5KC4uLilgLiBUaGlzIGlzIG5vdCB0aGUgY2FzZVxuICogYW55bW9yZS4pXG4gKlxuICogSW4gYWRkaXRpb24gdG8gdGhlIGFuaW1hdGlvbiBwcm9taXNlLCB3ZSBjYW4gYWxzbyBtYWtlIHVzZSBvZiBhbmltYXRpb24tcmVsYXRlZCBjYWxsYmFja3Mgd2l0aGluIG91ciBkaXJlY3RpdmVzIGFuZCBjb250cm9sbGVyIGNvZGUgYnkgcmVnaXN0ZXJpbmdcbiAqIGFuIGV2ZW50IGxpc3RlbmVyIHVzaW5nIHRoZSBgJGFuaW1hdGVgIHNlcnZpY2UuIExldCdzIHNheSBmb3IgZXhhbXBsZSB0aGF0IGFuIGFuaW1hdGlvbiB3YXMgdHJpZ2dlcmVkIG9uIG91ciB2aWV3XG4gKiByb3V0aW5nIGNvbnRyb2xsZXIgdG8gaG9vayBpbnRvIHRoYXQ6XG4gKlxuICogYGBganNcbiAqIG5nTW9kdWxlLmNvbnRyb2xsZXIoJ0hvbWVQYWdlQ29udHJvbGxlcicsIFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICogICAkYW5pbWF0ZS5vbignZW50ZXInLCBuZ1ZpZXdFbGVtZW50LCBmdW5jdGlvbihlbGVtZW50KSB7XG4gKiAgICAgLy8gdGhlIGFuaW1hdGlvbiBmb3IgdGhpcyByb3V0ZSBoYXMgY29tcGxldGVkXG4gKiAgIH1dKTtcbiAqIH1dKVxuICogYGBgXG4gKlxuICogKE5vdGUgdGhhdCB5b3Ugd2lsbCBuZWVkIHRvIHRyaWdnZXIgYSBkaWdlc3Qgd2l0aGluIHRoZSBjYWxsYmFjayB0byBnZXQgYW5ndWxhciB0byBub3RpY2UgYW55IHNjb3BlLXJlbGF0ZWQgY2hhbmdlcy4pXG4gKi9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGFuaW1hdGVcbiAqIEBraW5kIG9iamVjdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG5nQW5pbWF0ZSBgJGFuaW1hdGVgIHNlcnZpY2UgZG9jdW1lbnRhdGlvbiBpcyB0aGUgc2FtZSBmb3IgdGhlIGNvcmUgYCRhbmltYXRlYCBzZXJ2aWNlLlxuICpcbiAqIENsaWNrIGhlcmUge0BsaW5rIG5nLiRhbmltYXRlIHRvIGxlYXJuIG1vcmUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGAkYW5pbWF0ZWB9LlxuICovXG5hbmd1bGFyLm1vZHVsZSgnbmdBbmltYXRlJywgW10pXG4gIC5kaXJlY3RpdmUoJ25nQW5pbWF0ZUNoaWxkcmVuJywgJCRBbmltYXRlQ2hpbGRyZW5EaXJlY3RpdmUpXG4gIC5mYWN0b3J5KCckJHJBRlNjaGVkdWxlcicsICQkckFGU2NoZWR1bGVyRmFjdG9yeSlcblxuICAuZmFjdG9yeSgnJCRBbmltYXRlUnVubmVyJywgJCRBbmltYXRlUnVubmVyRmFjdG9yeSlcbiAgLmZhY3RvcnkoJyQkYW5pbWF0ZUFzeW5jUnVuJywgJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5KVxuXG4gIC5wcm92aWRlcignJCRhbmltYXRlUXVldWUnLCAkJEFuaW1hdGVRdWV1ZVByb3ZpZGVyKVxuICAucHJvdmlkZXIoJyQkYW5pbWF0aW9uJywgJCRBbmltYXRpb25Qcm92aWRlcilcblxuICAucHJvdmlkZXIoJyRhbmltYXRlQ3NzJywgJEFuaW1hdGVDc3NQcm92aWRlcilcbiAgLnByb3ZpZGVyKCckJGFuaW1hdGVDc3NEcml2ZXInLCAkJEFuaW1hdGVDc3NEcml2ZXJQcm92aWRlcilcblxuICAucHJvdmlkZXIoJyQkYW5pbWF0ZUpzJywgJCRBbmltYXRlSnNQcm92aWRlcilcbiAgLnByb3ZpZGVyKCckJGFuaW1hdGVKc0RyaXZlcicsICQkQW5pbWF0ZUpzRHJpdmVyUHJvdmlkZXIpO1xuXG5cbn0pKHdpbmRvdywgd2luZG93LmFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBAbGljZW5zZSBBbmd1bGFySlMgdjEuNC44XG4gKiAoYykgMjAxMC0yMDE1IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuICogTGljZW5zZTogTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ0FyaWFcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgbmdBcmlhYCBtb2R1bGUgcHJvdmlkZXMgc3VwcG9ydCBmb3IgY29tbW9uXG4gKiBbPGFiYnIgdGl0bGU9XCJBY2Nlc3NpYmxlIFJpY2ggSW50ZXJuZXQgQXBwbGljYXRpb25zXCI+QVJJQTwvYWJicj5dKGh0dHA6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLylcbiAqIGF0dHJpYnV0ZXMgdGhhdCBjb252ZXkgc3RhdGUgb3Igc2VtYW50aWMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFwcGxpY2F0aW9uIGZvciB1c2Vyc1xuICogb2YgYXNzaXN0aXZlIHRlY2hub2xvZ2llcywgc3VjaCBhcyBzY3JlZW4gcmVhZGVycy5cbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nQXJpYVwiPjwvZGl2PlxuICpcbiAqICMjIFVzYWdlXG4gKlxuICogRm9yIG5nQXJpYSB0byBkbyBpdHMgbWFnaWMsIHNpbXBseSBpbmNsdWRlIHRoZSBtb2R1bGUgYG5nQXJpYWAgYXMgYSBkZXBlbmRlbmN5LiBUaGUgZm9sbG93aW5nXG4gKiBkaXJlY3RpdmVzIGFyZSBzdXBwb3J0ZWQ6XG4gKiBgbmdNb2RlbGAsIGBuZ0Rpc2FibGVkYCwgYG5nU2hvd2AsIGBuZ0hpZGVgLCBgbmdDbGlja2AsIGBuZ0RibENsaWNrYCwgYW5kIGBuZ01lc3NhZ2VzYC5cbiAqXG4gKiBCZWxvdyBpcyBhIG1vcmUgZGV0YWlsZWQgYnJlYWtkb3duIG9mIHRoZSBhdHRyaWJ1dGVzIGhhbmRsZWQgYnkgbmdBcmlhOlxuICpcbiAqIHwgRGlyZWN0aXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFN1cHBvcnRlZCBBdHRyaWJ1dGVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Rpc2FibGVkIG5nRGlzYWJsZWR9ICB8IGFyaWEtZGlzYWJsZWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1Nob3cgbmdTaG93fSAgICAgICAgICB8IGFyaWEtaGlkZGVuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0hpZGUgbmdIaWRlfSAgICAgICAgICB8IGFyaWEtaGlkZGVuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0RibGNsaWNrIG5nRGJsY2xpY2t9ICB8IHRhYmluZGV4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG1vZHVsZTpuZ01lc3NhZ2VzIG5nTWVzc2FnZXN9ICAgICAgICB8IGFyaWEtbGl2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsIG5nTW9kZWx9ICAgICAgICB8IGFyaWEtY2hlY2tlZCwgYXJpYS12YWx1ZW1pbiwgYXJpYS12YWx1ZW1heCwgYXJpYS12YWx1ZW5vdywgYXJpYS1pbnZhbGlkLCBhcmlhLXJlcXVpcmVkLCBpbnB1dCByb2xlcyB8XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfSAgICAgICAgfCB0YWJpbmRleCwga2V5cHJlc3MgZXZlbnQsIGJ1dHRvbiByb2xlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICpcbiAqIEZpbmQgb3V0IG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgZWFjaCBkaXJlY3RpdmUgYnkgcmVhZGluZyB0aGVcbiAqIHtAbGluayBndWlkZS9hY2Nlc3NpYmlsaXR5IG5nQXJpYSBEZXZlbG9wZXIgR3VpZGV9LlxuICpcbiAqICMjRXhhbXBsZVxuICogVXNpbmcgbmdEaXNhYmxlZCB3aXRoIG5nQXJpYTpcbiAqIGBgYGh0bWxcbiAqIDxtZC1jaGVja2JveCBuZy1kaXNhYmxlZD1cImRpc2FibGVkXCI+XG4gKiBgYGBcbiAqIEJlY29tZXM6XG4gKiBgYGBodG1sXG4gKiA8bWQtY2hlY2tib3ggbmctZGlzYWJsZWQ9XCJkaXNhYmxlZFwiIGFyaWEtZGlzYWJsZWQ9XCJ0cnVlXCI+XG4gKiBgYGBcbiAqXG4gKiAjI0Rpc2FibGluZyBBdHRyaWJ1dGVzXG4gKiBJdCdzIHBvc3NpYmxlIHRvIGRpc2FibGUgaW5kaXZpZHVhbCBhdHRyaWJ1dGVzIGFkZGVkIGJ5IG5nQXJpYSB3aXRoIHRoZVxuICoge0BsaW5rIG5nQXJpYS4kYXJpYVByb3ZpZGVyI2NvbmZpZyBjb25maWd9IG1ldGhvZC4gRm9yIG1vcmUgZGV0YWlscywgc2VlIHRoZVxuICoge0BsaW5rIGd1aWRlL2FjY2Vzc2liaWxpdHkgRGV2ZWxvcGVyIEd1aWRlfS5cbiAqL1xuIC8qIGdsb2JhbCAtbmdBcmlhTW9kdWxlICovXG52YXIgbmdBcmlhTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ25nQXJpYScsIFsnbmcnXSkuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcignJGFyaWEnLCAkQXJpYVByb3ZpZGVyKTtcblxuLyoqXG4qIEludGVybmFsIFV0aWxpdGllc1xuKi9cbnZhciBub2RlQmxhY2tMaXN0ID0gWydCVVRUT04nLCAnQScsICdJTlBVVCcsICdURVhUQVJFQScsICdTRUxFQ1QnLCAnREVUQUlMUycsICdTVU1NQVJZJ107XG5cbnZhciBpc05vZGVPbmVPZiA9IGZ1bmN0aW9uKGVsZW0sIG5vZGVUeXBlQXJyYXkpIHtcbiAgaWYgKG5vZGVUeXBlQXJyYXkuaW5kZXhPZihlbGVtWzBdLm5vZGVOYW1lKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkYXJpYVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVXNlZCBmb3IgY29uZmlndXJpbmcgdGhlIEFSSUEgYXR0cmlidXRlcyBpbmplY3RlZCBhbmQgbWFuYWdlZCBieSBuZ0FyaWEuXG4gKlxuICogYGBganNcbiAqIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsnbmdBcmlhJ10sIGZ1bmN0aW9uIGNvbmZpZygkYXJpYVByb3ZpZGVyKSB7XG4gKiAgICRhcmlhUHJvdmlkZXIuY29uZmlnKHtcbiAqICAgICBhcmlhVmFsdWU6IHRydWUsXG4gKiAgICAgdGFiaW5kZXg6IGZhbHNlXG4gKiAgIH0pO1xuICogfSk7XG4gKmBgYFxuICpcbiAqICMjIERlcGVuZGVuY2llc1xuICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ0FyaWF9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gKlxuICovXG5mdW5jdGlvbiAkQXJpYVByb3ZpZGVyKCkge1xuICB2YXIgY29uZmlnID0ge1xuICAgIGFyaWFIaWRkZW46IHRydWUsXG4gICAgYXJpYUNoZWNrZWQ6IHRydWUsXG4gICAgYXJpYURpc2FibGVkOiB0cnVlLFxuICAgIGFyaWFSZXF1aXJlZDogdHJ1ZSxcbiAgICBhcmlhSW52YWxpZDogdHJ1ZSxcbiAgICBhcmlhTXVsdGlsaW5lOiB0cnVlLFxuICAgIGFyaWFWYWx1ZTogdHJ1ZSxcbiAgICB0YWJpbmRleDogdHJ1ZSxcbiAgICBiaW5kS2V5cHJlc3M6IHRydWUsXG4gICAgYmluZFJvbGVGb3JDbGljazogdHJ1ZVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRhcmlhUHJvdmlkZXIjY29uZmlnXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgb2JqZWN0IHRvIGVuYWJsZS9kaXNhYmxlIHNwZWNpZmljIEFSSUEgYXR0cmlidXRlc1xuICAgKlxuICAgKiAgLSAqKmFyaWFIaWRkZW4qKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS1oaWRkZW4gdGFnc1xuICAgKiAgLSAqKmFyaWFDaGVja2VkKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyBFbmFibGVzL2Rpc2FibGVzIGFyaWEtY2hlY2tlZCB0YWdzXG4gICAqICAtICoqYXJpYURpc2FibGVkKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyBFbmFibGVzL2Rpc2FibGVzIGFyaWEtZGlzYWJsZWQgdGFnc1xuICAgKiAgLSAqKmFyaWFSZXF1aXJlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBhcmlhLXJlcXVpcmVkIHRhZ3NcbiAgICogIC0gKiphcmlhSW52YWxpZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBhcmlhLWludmFsaWQgdGFnc1xuICAgKiAgLSAqKmFyaWFNdWx0aWxpbmUqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS1tdWx0aWxpbmUgdGFnc1xuICAgKiAgLSAqKmFyaWFWYWx1ZSoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBhcmlhLXZhbHVlbWluLCBhcmlhLXZhbHVlbWF4IGFuZCBhcmlhLXZhbHVlbm93IHRhZ3NcbiAgICogIC0gKip0YWJpbmRleCoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyB0YWJpbmRleCB0YWdzXG4gICAqICAtICoqYmluZEtleXByZXNzKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyBFbmFibGVzL2Rpc2FibGVzIGtleXByZXNzIGV2ZW50IGJpbmRpbmcgb24gYCZsdDtkaXYmZ3Q7YCBhbmRcbiAgICogICAgYCZsdDtsaSZndDtgIGVsZW1lbnRzIHdpdGggbmctY2xpY2tcbiAgICogIC0gKipiaW5kUm9sZUZvckNsaWNrKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyBBZGRzIHJvbGU9YnV0dG9uIHRvIG5vbi1pbnRlcmFjdGl2ZSBlbGVtZW50cyBsaWtlIGBkaXZgXG4gICAqICAgIHVzaW5nIG5nLWNsaWNrLCBtYWtpbmcgdGhlbSBtb3JlIGFjY2Vzc2libGUgdG8gdXNlcnMgb2YgYXNzaXN0aXZlIHRlY2hub2xvZ2llc1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRW5hYmxlcy9kaXNhYmxlcyB2YXJpb3VzIEFSSUEgYXR0cmlidXRlc1xuICAgKi9cbiAgdGhpcy5jb25maWcgPSBmdW5jdGlvbihuZXdDb25maWcpIHtcbiAgICBjb25maWcgPSBhbmd1bGFyLmV4dGVuZChjb25maWcsIG5ld0NvbmZpZyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gd2F0Y2hFeHByKGF0dHJOYW1lLCBhcmlhQXR0ciwgbm9kZUJsYWNrTGlzdCwgbmVnYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRyKSB7XG4gICAgICB2YXIgYXJpYUNhbWVsTmFtZSA9IGF0dHIuJG5vcm1hbGl6ZShhcmlhQXR0cik7XG4gICAgICBpZiAoY29uZmlnW2FyaWFDYW1lbE5hbWVdICYmICFpc05vZGVPbmVPZihlbGVtLCBub2RlQmxhY2tMaXN0KSAmJiAhYXR0clthcmlhQ2FtZWxOYW1lXSkge1xuICAgICAgICBzY29wZS4kd2F0Y2goYXR0clthdHRyTmFtZV0sIGZ1bmN0aW9uKGJvb2xWYWwpIHtcbiAgICAgICAgICAvLyBlbnN1cmUgYm9vbGVhbiB2YWx1ZVxuICAgICAgICAgIGJvb2xWYWwgPSBuZWdhdGUgPyAhYm9vbFZhbCA6ICEhYm9vbFZhbDtcbiAgICAgICAgICBlbGVtLmF0dHIoYXJpYUF0dHIsIGJvb2xWYWwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBAbmdkb2Mgc2VydmljZVxuICAgKiBAbmFtZSAkYXJpYVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHByaW9yaXR5IDIwMFxuICAgKlxuICAgKiBUaGUgJGFyaWEgc2VydmljZSBjb250YWlucyBoZWxwZXIgbWV0aG9kcyBmb3IgYXBwbHlpbmcgY29tbW9uXG4gICAqIFtBUklBXShodHRwOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS8pIGF0dHJpYnV0ZXMgdG8gSFRNTCBkaXJlY3RpdmVzLlxuICAgKlxuICAgKiBuZ0FyaWEgaW5qZWN0cyBjb21tb24gYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzIHRoYXQgdGVsbCBhc3Npc3RpdmUgdGVjaG5vbG9naWVzIHdoZW4gSFRNTFxuICAgKiBlbGVtZW50cyBhcmUgZW5hYmxlZCwgc2VsZWN0ZWQsIGhpZGRlbiwgYW5kIG1vcmUuIFRvIHNlZSBob3cgdGhpcyBpcyBwZXJmb3JtZWQgd2l0aCBuZ0FyaWEsXG4gICAqIGxldCdzIHJldmlldyBhIGNvZGUgc25pcHBldCBmcm9tIG5nQXJpYSBpdHNlbGY6XG4gICAqXG4gICAqYGBganNcbiAgICogbmdBcmlhTW9kdWxlLmRpcmVjdGl2ZSgnbmdEaXNhYmxlZCcsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuICAgKiAgIHJldHVybiAkYXJpYS4kJHdhdGNoRXhwcignbmdEaXNhYmxlZCcsICdhcmlhLWRpc2FibGVkJyk7XG4gICAqIH1dKVxuICAgKmBgYFxuICAgKiBTaG93biBhYm92ZSwgdGhlIG5nQXJpYSBtb2R1bGUgY3JlYXRlcyBhIGRpcmVjdGl2ZSB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZSBhcyB0aGVcbiAgICogdHJhZGl0aW9uYWwgYG5nLWRpc2FibGVkYCBkaXJlY3RpdmUuIEJ1dCB0aGlzIG5nQXJpYSB2ZXJzaW9uIGlzIGRlZGljYXRlZCB0b1xuICAgKiBzb2xlbHkgbWFuYWdpbmcgYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzLiBUaGUgaW50ZXJuYWwgYCRhcmlhYCBzZXJ2aWNlIGlzIHVzZWQgdG8gd2F0Y2ggdGhlXG4gICAqIGJvb2xlYW4gYXR0cmlidXRlIGBuZ0Rpc2FibGVkYC4gSWYgaXQgaGFzIG5vdCBiZWVuIGV4cGxpY2l0bHkgc2V0IGJ5IHRoZSBkZXZlbG9wZXIsXG4gICAqIGBhcmlhLWRpc2FibGVkYCBpcyBpbmplY3RlZCBhcyBhbiBhdHRyaWJ1dGUgd2l0aCBpdHMgdmFsdWUgc3luY2hyb25pemVkIHRvIHRoZSB2YWx1ZSBpblxuICAgKiBgbmdEaXNhYmxlZGAuXG4gICAqXG4gICAqIEJlY2F1c2UgbmdBcmlhIGhvb2tzIGludG8gdGhlIGBuZy1kaXNhYmxlZGAgZGlyZWN0aXZlLCBkZXZlbG9wZXJzIGRvIG5vdCBoYXZlIHRvIGRvXG4gICAqIGFueXRoaW5nIHRvIGVuYWJsZSB0aGlzIGZlYXR1cmUuIFRoZSBgYXJpYS1kaXNhYmxlZGAgYXR0cmlidXRlIGlzIGF1dG9tYXRpY2FsbHkgbWFuYWdlZFxuICAgKiBzaW1wbHkgYXMgYSBzaWxlbnQgc2lkZS1lZmZlY3Qgb2YgdXNpbmcgYG5nLWRpc2FibGVkYCB3aXRoIHRoZSBuZ0FyaWEgbW9kdWxlLlxuICAgKlxuICAgKiBUaGUgZnVsbCBsaXN0IG9mIGRpcmVjdGl2ZXMgdGhhdCBpbnRlcmZhY2Ugd2l0aCBuZ0FyaWE6XG4gICAqICogKipuZ01vZGVsKipcbiAgICogKiAqKm5nU2hvdyoqXG4gICAqICogKipuZ0hpZGUqKlxuICAgKiAqICoqbmdDbGljayoqXG4gICAqICogKipuZ0RibGNsaWNrKipcbiAgICogKiAqKm5nTWVzc2FnZXMqKlxuICAgKiAqICoqbmdEaXNhYmxlZCoqXG4gICAqXG4gICAqIFJlYWQgdGhlIHtAbGluayBndWlkZS9hY2Nlc3NpYmlsaXR5IG5nQXJpYSBEZXZlbG9wZXIgR3VpZGV9IGZvciBhIHRob3JvdWdoIGV4cGxhbmF0aW9uIG9mIGVhY2hcbiAgICogZGlyZWN0aXZlLlxuICAgKlxuICAgKlxuICAgKiAjIyBEZXBlbmRlbmNpZXNcbiAgICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ0FyaWF9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gICAqL1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZmlnOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ1trZXldO1xuICAgICAgfSxcbiAgICAgICQkd2F0Y2hFeHByOiB3YXRjaEV4cHJcbiAgICB9O1xuICB9O1xufVxuXG5cbm5nQXJpYU1vZHVsZS5kaXJlY3RpdmUoJ25nU2hvdycsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuICByZXR1cm4gJGFyaWEuJCR3YXRjaEV4cHIoJ25nU2hvdycsICdhcmlhLWhpZGRlbicsIFtdLCB0cnVlKTtcbn1dKVxuLmRpcmVjdGl2ZSgnbmdIaWRlJywgWyckYXJpYScsIGZ1bmN0aW9uKCRhcmlhKSB7XG4gIHJldHVybiAkYXJpYS4kJHdhdGNoRXhwcignbmdIaWRlJywgJ2FyaWEtaGlkZGVuJywgW10sIGZhbHNlKTtcbn1dKVxuLmRpcmVjdGl2ZSgnbmdNb2RlbCcsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuXG4gIGZ1bmN0aW9uIHNob3VsZEF0dGFjaEF0dHIoYXR0ciwgbm9ybWFsaXplZEF0dHIsIGVsZW0pIHtcbiAgICByZXR1cm4gJGFyaWEuY29uZmlnKG5vcm1hbGl6ZWRBdHRyKSAmJiAhZWxlbS5hdHRyKGF0dHIpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkQXR0YWNoUm9sZShyb2xlLCBlbGVtKSB7XG4gICAgcmV0dXJuICFlbGVtLmF0dHIoJ3JvbGUnKSAmJiAoZWxlbS5hdHRyKCd0eXBlJykgPT09IHJvbGUpICYmIChlbGVtWzBdLm5vZGVOYW1lICE9PSAnSU5QVVQnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNoYXBlKGF0dHIsIGVsZW0pIHtcbiAgICB2YXIgdHlwZSA9IGF0dHIudHlwZSxcbiAgICAgICAgcm9sZSA9IGF0dHIucm9sZTtcblxuICAgIHJldHVybiAoKHR5cGUgfHwgcm9sZSkgPT09ICdjaGVja2JveCcgfHwgcm9sZSA9PT0gJ21lbnVpdGVtY2hlY2tib3gnKSA/ICdjaGVja2JveCcgOlxuICAgICAgICAgICAoKHR5cGUgfHwgcm9sZSkgPT09ICdyYWRpbycgICAgfHwgcm9sZSA9PT0gJ21lbnVpdGVtcmFkaW8nKSA/ICdyYWRpbycgOlxuICAgICAgICAgICAodHlwZSA9PT0gJ3JhbmdlJyAgICAgICAgICAgICAgfHwgcm9sZSA9PT0gJ3Byb2dyZXNzYmFyJyB8fCByb2xlID09PSAnc2xpZGVyJykgPyAncmFuZ2UnIDpcbiAgICAgICAgICAgKHR5cGUgfHwgcm9sZSkgPT09ICd0ZXh0Ym94JyAgIHx8IGVsZW1bMF0ubm9kZU5hbWUgPT09ICdURVhUQVJFQScgPyAnbXVsdGlsaW5lJyA6ICcnO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgcHJpb3JpdHk6IDIwMCwgLy9NYWtlIHN1cmUgd2F0Y2hlcyBhcmUgZmlyZWQgYWZ0ZXIgYW55IG90aGVyIGRpcmVjdGl2ZXMgdGhhdCBhZmZlY3QgdGhlIG5nTW9kZWwgdmFsdWVcbiAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtLCBhdHRyKSB7XG4gICAgICB2YXIgc2hhcGUgPSBnZXRTaGFwZShhdHRyLCBlbGVtKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0ciwgbmdNb2RlbCkge1xuICAgICAgICAgIGlmIChzaGFwZSA9PT0gJ2NoZWNrYm94JyAmJiBhdHRyLnR5cGUgIT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgIC8vVXNlIHRoZSBpbnB1dFtjaGVja2JveF0gJGlzRW1wdHkgaW1wbGVtZW50YXRpb24gZm9yIGVsZW1lbnRzIHdpdGggY2hlY2tib3ggcm9sZXNcbiAgICAgICAgICAgIG5nTW9kZWwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBvc3Q6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRyLCBuZ01vZGVsKSB7XG4gICAgICAgICAgdmFyIG5lZWRzVGFiSW5kZXggPSBzaG91bGRBdHRhY2hBdHRyKCd0YWJpbmRleCcsICd0YWJpbmRleCcsIGVsZW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICFpc05vZGVPbmVPZihlbGVtLCBub2RlQmxhY2tMaXN0KTtcblxuICAgICAgICAgIGZ1bmN0aW9uIG5nQXJpYVdhdGNoTW9kZWxWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZ01vZGVsLiRtb2RlbFZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGdldFJhZGlvUmVhY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAobmVlZHNUYWJJbmRleCkge1xuICAgICAgICAgICAgICBuZWVkc1RhYkluZGV4ID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0FyaWFSYWRpb1JlYWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAgICAgICAgIHZhciBib29sVmFsID0gKGF0dHIudmFsdWUgPT0gbmdNb2RlbC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtY2hlY2tlZCcsIGJvb2xWYWwpO1xuICAgICAgICAgICAgICAgIGVsZW0uYXR0cigndGFiaW5kZXgnLCAwIC0gIWJvb2xWYWwpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQXJpYVJhZGlvUmVhY3Rpb24obmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLWNoZWNrZWQnLCAoYXR0ci52YWx1ZSA9PSBuZ01vZGVsLiR2aWV3VmFsdWUpKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBuZ0FyaWFDaGVja2JveFJlYWN0aW9uKCkge1xuICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLWNoZWNrZWQnLCAhbmdNb2RlbC4kaXNFbXB0eShuZ01vZGVsLiR2aWV3VmFsdWUpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzd2l0Y2ggKHNoYXBlKSB7XG4gICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgIGlmIChzaG91bGRBdHRhY2hSb2xlKHNoYXBlLCBlbGVtKSkge1xuICAgICAgICAgICAgICAgIGVsZW0uYXR0cigncm9sZScsIHNoYXBlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc2hvdWxkQXR0YWNoQXR0cignYXJpYS1jaGVja2VkJywgJ2FyaWFDaGVja2VkJywgZWxlbSkpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2gobmdBcmlhV2F0Y2hNb2RlbFZhbHVlLCBzaGFwZSA9PT0gJ3JhZGlvJyA/XG4gICAgICAgICAgICAgICAgICAgIGdldFJhZGlvUmVhY3Rpb24oKSA6IG5nQXJpYUNoZWNrYm94UmVhY3Rpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChuZWVkc1RhYkluZGV4KSB7XG4gICAgICAgICAgICAgICAgZWxlbS5hdHRyKCd0YWJpbmRleCcsIDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmFuZ2UnOlxuICAgICAgICAgICAgICBpZiAoc2hvdWxkQXR0YWNoUm9sZShzaGFwZSwgZWxlbSkpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmF0dHIoJ3JvbGUnLCAnc2xpZGVyJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCRhcmlhLmNvbmZpZygnYXJpYVZhbHVlJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmVlZHNBcmlhVmFsdWVtaW4gPSAhZWxlbS5hdHRyKCdhcmlhLXZhbHVlbWluJykgJiZcbiAgICAgICAgICAgICAgICAgICAgKGF0dHIuaGFzT3duUHJvcGVydHkoJ21pbicpIHx8IGF0dHIuaGFzT3duUHJvcGVydHkoJ25nTWluJykpO1xuICAgICAgICAgICAgICAgIHZhciBuZWVkc0FyaWFWYWx1ZW1heCA9ICFlbGVtLmF0dHIoJ2FyaWEtdmFsdWVtYXgnKSAmJlxuICAgICAgICAgICAgICAgICAgICAoYXR0ci5oYXNPd25Qcm9wZXJ0eSgnbWF4JykgfHwgYXR0ci5oYXNPd25Qcm9wZXJ0eSgnbmdNYXgnKSk7XG4gICAgICAgICAgICAgICAgdmFyIG5lZWRzQXJpYVZhbHVlbm93ID0gIWVsZW0uYXR0cignYXJpYS12YWx1ZW5vdycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzQXJpYVZhbHVlbWluKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyLiRvYnNlcnZlKCdtaW4nLCBmdW5jdGlvbiBuZ0FyaWFWYWx1ZU1pblJlYWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtdmFsdWVtaW4nLCBuZXdWYWwpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZWVkc0FyaWFWYWx1ZW1heCkge1xuICAgICAgICAgICAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24gbmdBcmlhVmFsdWVNaW5SZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLXZhbHVlbWF4JywgbmV3VmFsKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmVlZHNBcmlhVmFsdWVub3cpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChuZ0FyaWFXYXRjaE1vZGVsVmFsdWUsIGZ1bmN0aW9uIG5nQXJpYVZhbHVlTm93UmVhY3Rpb24obmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uYXR0cignYXJpYS12YWx1ZW5vdycsIG5ld1ZhbCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKG5lZWRzVGFiSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmF0dHIoJ3RhYmluZGV4JywgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtdWx0aWxpbmUnOlxuICAgICAgICAgICAgICBpZiAoc2hvdWxkQXR0YWNoQXR0cignYXJpYS1tdWx0aWxpbmUnLCAnYXJpYU11bHRpbGluZScsIGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLW11bHRpbGluZScsIHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChuZ01vZGVsLiR2YWxpZGF0b3JzLnJlcXVpcmVkICYmIHNob3VsZEF0dGFjaEF0dHIoJ2FyaWEtcmVxdWlyZWQnLCAnYXJpYVJlcXVpcmVkJywgZWxlbSkpIHtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ0FyaWFSZXF1aXJlZFdhdGNoKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbmdNb2RlbC4kZXJyb3IucmVxdWlyZWQ7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiBuZ0FyaWFSZXF1aXJlZFJlYWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtcmVxdWlyZWQnLCAhIW5ld1ZhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2hvdWxkQXR0YWNoQXR0cignYXJpYS1pbnZhbGlkJywgJ2FyaWFJbnZhbGlkJywgZWxlbSkpIHtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ0FyaWFJbnZhbGlkV2F0Y2goKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZ01vZGVsLiRpbnZhbGlkO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gbmdBcmlhSW52YWxpZFJlYWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtaW52YWxpZCcsICEhbmV3VmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcbi5kaXJlY3RpdmUoJ25nRGlzYWJsZWQnLCBbJyRhcmlhJywgZnVuY3Rpb24oJGFyaWEpIHtcbiAgcmV0dXJuICRhcmlhLiQkd2F0Y2hFeHByKCduZ0Rpc2FibGVkJywgJ2FyaWEtZGlzYWJsZWQnLCBbXSk7XG59XSlcbi5kaXJlY3RpdmUoJ25nTWVzc2FnZXMnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNZXNzYWdlcycsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIsIG5nTWVzc2FnZXMpIHtcbiAgICAgIGlmICghZWxlbS5hdHRyKCdhcmlhLWxpdmUnKSkge1xuICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KVxuLmRpcmVjdGl2ZSgnbmdDbGljaycsWyckYXJpYScsICckcGFyc2UnLCBmdW5jdGlvbigkYXJpYSwgJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtLCBhdHRyKSB7XG4gICAgICB2YXIgZm4gPSAkcGFyc2UoYXR0ci5uZ0NsaWNrLCAvKiBpbnRlcmNlcHRvckZuICovIG51bGwsIC8qIGV4cGVuc2l2ZUNoZWNrcyAqLyB0cnVlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cikge1xuXG4gICAgICAgIGlmICghaXNOb2RlT25lT2YoZWxlbSwgbm9kZUJsYWNrTGlzdCkpIHtcblxuICAgICAgICAgIGlmICgkYXJpYS5jb25maWcoJ2JpbmRSb2xlRm9yQ2xpY2snKSAmJiAhZWxlbS5hdHRyKCdyb2xlJykpIHtcbiAgICAgICAgICAgIGVsZW0uYXR0cigncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJGFyaWEuY29uZmlnKCd0YWJpbmRleCcpICYmICFlbGVtLmF0dHIoJ3RhYmluZGV4JykpIHtcbiAgICAgICAgICAgIGVsZW0uYXR0cigndGFiaW5kZXgnLCAwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJGFyaWEuY29uZmlnKCdiaW5kS2V5cHJlc3MnKSAmJiAhYXR0ci5uZ0tleXByZXNzKSB7XG4gICAgICAgICAgICBlbGVtLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgIHZhciBrZXlDb2RlID0gZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZTtcbiAgICAgICAgICAgICAgaWYgKGtleUNvZGUgPT09IDMyIHx8IGtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIGZuKHNjb3BlLCB7ICRldmVudDogZXZlbnQgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcbi5kaXJlY3RpdmUoJ25nRGJsY2xpY2snLCBbJyRhcmlhJywgZnVuY3Rpb24oJGFyaWEpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRyKSB7XG4gICAgaWYgKCRhcmlhLmNvbmZpZygndGFiaW5kZXgnKSAmJiAhZWxlbS5hdHRyKCd0YWJpbmRleCcpICYmICFpc05vZGVPbmVPZihlbGVtLCBub2RlQmxhY2tMaXN0KSkge1xuICAgICAgZWxlbS5hdHRyKCd0YWJpbmRleCcsIDApO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuXG59KSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTtcbiIsIi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYxLjAuMlxuICovXG4oZnVuY3Rpb24oIHdpbmRvdywgYW5ndWxhciwgdW5kZWZpbmVkICl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhci5tb2R1bGUoJ25nTWF0ZXJpYWwnLCBbXCJuZ1wiLFwibmdBbmltYXRlXCIsXCJuZ0FyaWFcIixcIm1hdGVyaWFsLmNvcmVcIixcIm1hdGVyaWFsLmNvcmUuZ2VzdHVyZXNcIixcIm1hdGVyaWFsLmNvcmUubGF5b3V0XCIsXCJtYXRlcmlhbC5jb3JlLnRoZW1pbmcucGFsZXR0ZVwiLFwibWF0ZXJpYWwuY29yZS50aGVtaW5nXCIsXCJtYXRlcmlhbC5jb3JlLmFuaW1hdGVcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmJvdHRvbVNoZWV0XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmJ1dHRvblwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5jYXJkXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmNoZWNrYm94XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmNoaXBzXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnRcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuZGF0ZXBpY2tlclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5kaWFsb2dcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuZGl2aWRlclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5mYWJBY3Rpb25zXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmZhYlNoYXJlZFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5mYWJTcGVlZERpYWxcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuZmFiVG9vbGJhclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5mYWJUcmlnZ2VyXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmdyaWRMaXN0XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmljb25cIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuaW5wdXRcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMubGlzdFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5tZW51XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLm1lbnVCYXJcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NDaXJjdWxhclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5wcm9ncmVzc0xpbmVhclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5yYWRpb0J1dHRvblwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5zZWxlY3RcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc2hvd0hpZGVcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc2lkZW5hdlwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5zbGlkZXJcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc3RpY2t5XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnN1YmhlYWRlclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5zd2lwZVwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5zd2l0Y2hcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMudGFic1wiLFwibWF0ZXJpYWwuY29tcG9uZW50cy50b2FzdFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy50b29sYmFyXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnRvb2x0aXBcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMudmlydHVhbFJlcGVhdFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy53aGl0ZWZyYW1lXCJdKTtcbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHRoYXQgdmFsaWRhdGVzIGVudmlyb25tZW50XG4gKiByZXF1aXJlbWVudHMuXG4gKi9cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScsIFtcbiAgICAnbmdBbmltYXRlJyxcbiAgICAnbWF0ZXJpYWwuY29yZS5hbmltYXRlJyxcbiAgICAnbWF0ZXJpYWwuY29yZS5sYXlvdXQnLFxuICAgICdtYXRlcmlhbC5jb3JlLmdlc3R1cmVzJyxcbiAgICAnbWF0ZXJpYWwuY29yZS50aGVtaW5nJ1xuICBdKVxuICAuY29uZmlnKE1kQ29yZUNvbmZpZ3VyZSlcbiAgLnJ1bihEZXRlY3ROZ1RvdWNoKTtcblxuXG4vKipcbiAqIERldGVjdCBpZiB0aGUgbmctVG91Y2ggbW9kdWxlIGlzIGFsc28gYmVpbmcgdXNlZC5cbiAqIFdhcm4gaWYgZGV0ZWN0ZWQuXG4gKi9cbmZ1bmN0aW9uIERldGVjdE5nVG91Y2goJGxvZywgJGluamVjdG9yKSB7XG4gIGlmICggJGluamVjdG9yLmhhcygnJHN3aXBlJykgKSB7XG4gICAgdmFyIG1zZyA9IFwiXCIgK1xuICAgICAgXCJZb3UgYXJlIHVzaW5nIHRoZSBuZ1RvdWNoIG1vZHVsZS4gXFxuXCIgK1xuICAgICAgXCJBbmd1bGFyIE1hdGVyaWFsIGFscmVhZHkgaGFzIG1vYmlsZSBjbGljaywgdGFwLCBhbmQgc3dpcGUgc3VwcG9ydC4uLiBcXG5cIiArXG4gICAgICBcIm5nVG91Y2ggaXMgbm90IHN1cHBvcnRlZCB3aXRoIEFuZ3VsYXIgTWF0ZXJpYWwhXCI7XG4gICAgJGxvZy53YXJuKG1zZyk7XG4gIH1cbn1cbkRldGVjdE5nVG91Y2guJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkaW5qZWN0b3JcIl07XG5cblxuZnVuY3Rpb24gTWRDb3JlQ29uZmlndXJlKCRwcm92aWRlLCAkbWRUaGVtaW5nUHJvdmlkZXIpIHtcblxuICAkcHJvdmlkZS5kZWNvcmF0b3IoJyQkckFGJywgW1wiJGRlbGVnYXRlXCIsIHJBRkRlY29yYXRvcl0pO1xuXG4gICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXG4gICAgLnByaW1hcnlQYWxldHRlKCdpbmRpZ28nKVxuICAgIC5hY2NlbnRQYWxldHRlKCdwaW5rJylcbiAgICAud2FyblBhbGV0dGUoJ2RlZXAtb3JhbmdlJylcbiAgICAuYmFja2dyb3VuZFBhbGV0dGUoJ2dyZXknKTtcbn1cbk1kQ29yZUNvbmZpZ3VyZS4kaW5qZWN0ID0gW1wiJHByb3ZpZGVcIiwgXCIkbWRUaGVtaW5nUHJvdmlkZXJcIl07XG5cbmZ1bmN0aW9uIHJBRkRlY29yYXRvcigkZGVsZWdhdGUpIHtcbiAgLyoqXG4gICAqIFVzZSB0aGlzIHRvIHRocm90dGxlIGV2ZW50cyB0aGF0IGNvbWUgaW4gb2Z0ZW4uXG4gICAqIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbCBhbHdheXMgdXNlIHRoZSAqbGFzdCogaW52b2NhdGlvbiBiZWZvcmUgdGhlXG4gICAqIGNvbWluZyBmcmFtZS5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIHdpbmRvdyByZXNpemUgZXZlbnRzIHRoYXQgZmlyZSBtYW55IHRpbWVzIGEgc2Vjb25kOlxuICAgKiBJZiB3ZSBzZXQgdG8gdXNlIGFuIHJhZi10aHJvdHRsZWQgY2FsbGJhY2sgb24gd2luZG93IHJlc2l6ZSwgdGhlblxuICAgKiBvdXIgY2FsbGJhY2sgd2lsbCBvbmx5IGJlIGZpcmVkIG9uY2UgcGVyIGZyYW1lLCB3aXRoIHRoZSBsYXN0IHJlc2l6ZVxuICAgKiBldmVudCB0aGF0IGhhcHBlbmVkIGJlZm9yZSB0aGF0IGZyYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbiB0byBkZWJvdW5jZVxuICAgKi9cbiAgJGRlbGVnYXRlLnRocm90dGxlID0gZnVuY3Rpb24oY2IpIHtcbiAgICB2YXIgcXVldWVkQXJncywgYWxyZWFkeVF1ZXVlZCwgcXVldWVDYiwgY29udGV4dDtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgcXVldWVkQXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgcXVldWVDYiA9IGNiO1xuICAgICAgaWYgKCFhbHJlYWR5UXVldWVkKSB7XG4gICAgICAgIGFscmVhZHlRdWV1ZWQgPSB0cnVlO1xuICAgICAgICAkZGVsZWdhdGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcXVldWVDYi5hcHBseShjb250ZXh0LCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChxdWV1ZWRBcmdzKSk7XG4gICAgICAgICAgYWxyZWFkeVF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICByZXR1cm4gJGRlbGVnYXRlO1xufVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuLmZhY3RvcnkoJyRtZENvbnN0YW50JywgTWRDb25zdGFudEZhY3RvcnkpO1xuXG4vKipcbiAqIEZhY3RvcnkgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIHRoZSBncmFiLWJhZyAkbWRDb25zdGFudCBzZXJ2aWNlLlxuICogQG5nSW5qZWN0XG4gKi9cbmZ1bmN0aW9uIE1kQ29uc3RhbnRGYWN0b3J5KCRzbmlmZmVyKSB7XG5cbiAgdmFyIHdlYmtpdCA9IC93ZWJraXQvaS50ZXN0KCRzbmlmZmVyLnZlbmRvclByZWZpeCk7XG4gIGZ1bmN0aW9uIHZlbmRvclByb3BlcnR5KG5hbWUpIHtcbiAgICByZXR1cm4gd2Via2l0ID8gICgnd2Via2l0JyArIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnN1YnN0cmluZygxKSkgOiBuYW1lO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBLRVlfQ09ERToge1xuICAgICAgQ09NTUE6IDE4OCxcbiAgICAgIEVOVEVSOiAxMyxcbiAgICAgIEVTQ0FQRTogMjcsXG4gICAgICBTUEFDRTogMzIsXG4gICAgICBQQUdFX1VQOiAzMyxcbiAgICAgIFBBR0VfRE9XTjogMzQsXG4gICAgICBFTkQ6IDM1LFxuICAgICAgSE9NRTogMzYsXG4gICAgICBMRUZUX0FSUk9XIDogMzcsXG4gICAgICBVUF9BUlJPVyA6IDM4LFxuICAgICAgUklHSFRfQVJST1cgOiAzOSxcbiAgICAgIERPV05fQVJST1cgOiA0MCxcbiAgICAgIFRBQiA6IDksXG4gICAgICBCQUNLU1BBQ0U6IDgsXG4gICAgICBERUxFVEU6IDQ2XG4gICAgfSxcbiAgICBDU1M6IHtcbiAgICAgIC8qIENvbnN0YW50cyAqL1xuICAgICAgVFJBTlNJVElPTkVORDogJ3RyYW5zaXRpb25lbmQnICsgKHdlYmtpdCA/ICcgd2Via2l0VHJhbnNpdGlvbkVuZCcgOiAnJyksXG4gICAgICBBTklNQVRJT05FTkQ6ICdhbmltYXRpb25lbmQnICsgKHdlYmtpdCA/ICcgd2Via2l0QW5pbWF0aW9uRW5kJyA6ICcnKSxcblxuICAgICAgVFJBTlNGT1JNOiB2ZW5kb3JQcm9wZXJ0eSgndHJhbnNmb3JtJyksXG4gICAgICBUUkFOU0ZPUk1fT1JJR0lOOiB2ZW5kb3JQcm9wZXJ0eSgndHJhbnNmb3JtT3JpZ2luJyksXG4gICAgICBUUkFOU0lUSU9OOiB2ZW5kb3JQcm9wZXJ0eSgndHJhbnNpdGlvbicpLFxuICAgICAgVFJBTlNJVElPTl9EVVJBVElPTjogdmVuZG9yUHJvcGVydHkoJ3RyYW5zaXRpb25EdXJhdGlvbicpLFxuICAgICAgQU5JTUFUSU9OX1BMQVlfU1RBVEU6IHZlbmRvclByb3BlcnR5KCdhbmltYXRpb25QbGF5U3RhdGUnKSxcbiAgICAgIEFOSU1BVElPTl9EVVJBVElPTjogdmVuZG9yUHJvcGVydHkoJ2FuaW1hdGlvbkR1cmF0aW9uJyksXG4gICAgICBBTklNQVRJT05fTkFNRTogdmVuZG9yUHJvcGVydHkoJ2FuaW1hdGlvbk5hbWUnKSxcbiAgICAgIEFOSU1BVElPTl9USU1JTkc6IHZlbmRvclByb3BlcnR5KCdhbmltYXRpb25UaW1pbmdGdW5jdGlvbicpLFxuICAgICAgQU5JTUFUSU9OX0RJUkVDVElPTjogdmVuZG9yUHJvcGVydHkoJ2FuaW1hdGlvbkRpcmVjdGlvbicpXG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBBcyBkZWZpbmVkIGluIGNvcmUvc3R5bGUvdmFyaWFibGVzLnNjc3NcbiAgICAgKlxuICAgICAqICRsYXlvdXQtYnJlYWtwb2ludC14czogICAgIDYwMHB4ICFkZWZhdWx0O1xuICAgICAqICRsYXlvdXQtYnJlYWtwb2ludC1zbTogICAgIDk2MHB4ICFkZWZhdWx0O1xuICAgICAqICRsYXlvdXQtYnJlYWtwb2ludC1tZDogICAgIDEyODBweCAhZGVmYXVsdDtcbiAgICAgKiAkbGF5b3V0LWJyZWFrcG9pbnQtbGc6ICAgICAxOTIwcHggIWRlZmF1bHQ7XG4gICAgICpcbiAgICAgKi9cbiAgICBNRURJQToge1xuICAgICAgJ3hzJyAgICA6ICcobWF4LXdpZHRoOiA1OTlweCknICAgICAgICAgICAgICAgICAgICAgICAgICxcbiAgICAgICdndC14cycgOiAnKG1pbi13aWR0aDogNjAwcHgpJyAgICAgICAgICAgICAgICAgICAgICAgICAsXG4gICAgICAnc20nICAgIDogJyhtaW4td2lkdGg6IDYwMHB4KSBhbmQgKG1heC13aWR0aDogOTU5cHgpJyAgLFxuICAgICAgJ2d0LXNtJyA6ICcobWluLXdpZHRoOiA5NjBweCknICAgICAgICAgICAgICAgICAgICAgICAgICxcbiAgICAgICdtZCcgICAgOiAnKG1pbi13aWR0aDogOTYwcHgpIGFuZCAobWF4LXdpZHRoOiAxMjc5cHgpJyAsXG4gICAgICAnZ3QtbWQnIDogJyhtaW4td2lkdGg6IDEyODBweCknICAgICAgICAgICAgICAgICAgICAgICAgLFxuICAgICAgJ2xnJyAgICA6ICcobWluLXdpZHRoOiAxMjgwcHgpIGFuZCAobWF4LXdpZHRoOiAxOTE5cHgpJyxcbiAgICAgICdndC1sZycgOiAnKG1pbi13aWR0aDogMTkyMHB4KScgICAgICAgICAgICAgICAgICAgICAgICAsXG4gICAgICAneGwnICAgIDogJyhtaW4td2lkdGg6IDE5MjBweCknXG4gICAgfSxcbiAgICBNRURJQV9QUklPUklUWTogW1xuICAgICAgJ3hsJyxcbiAgICAgICdndC1sZycsXG4gICAgICAnbGcnLFxuICAgICAgJ2d0LW1kJyxcbiAgICAgICdtZCcsXG4gICAgICAnZ3Qtc20nLFxuICAgICAgJ3NtJyxcbiAgICAgICdndC14cycsXG4gICAgICAneHMnXG4gICAgXVxuICB9O1xufVxuTWRDb25zdGFudEZhY3RvcnkuJGluamVjdCA9IFtcIiRzbmlmZmVyXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4gICAgLmNvbmZpZyggW1wiJHByb3ZpZGVcIiwgZnVuY3Rpb24oJHByb3ZpZGUpe1xuICAgICAgICRwcm92aWRlLmRlY29yYXRvcignJG1kVXRpbCcsIFsnJGRlbGVnYXRlJywgZnVuY3Rpb24gKCRkZWxlZ2F0ZSl7XG4gICAgICAgICAgIC8qKlxuICAgICAgICAgICAgKiBJbmplY3QgdGhlIGl0ZXJhdG9yIGZhY2FkZSB0byBlYXNpbHkgc3VwcG9ydCBpdGVyYXRpb24gYW5kIGFjY2Vzc29yc1xuICAgICAgICAgICAgKiBAc2VlIGl0ZXJhdG9yIGJlbG93XG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAkZGVsZWdhdGUuaXRlcmF0b3IgPSBNZEl0ZXJhdG9yO1xuXG4gICAgICAgICAgIHJldHVybiAkZGVsZWdhdGU7XG4gICAgICAgICB9XG4gICAgICAgXSk7XG4gICAgIH1dKTtcblxuICAvKipcbiAgICogaXRlcmF0b3IgaXMgYSBsaXN0IGZhY2FkZSB0byBlYXNpbHkgc3VwcG9ydCBpdGVyYXRpb24gYW5kIGFjY2Vzc29yc1xuICAgKlxuICAgKiBAcGFyYW0gaXRlbXMgQXJyYXkgbGlzdCB3aGljaCB0aGlzIGl0ZXJhdG9yIHdpbGwgZW51bWVyYXRlXG4gICAqIEBwYXJhbSByZWxvb3AgQm9vbGVhbiBlbmFibGVzIGl0ZXJhdG9yIHRvIGNvbnNpZGVyIHRoZSBsaXN0IGFzIGFuIGVuZGxlc3MgcmVsb29wXG4gICAqL1xuICBmdW5jdGlvbiBNZEl0ZXJhdG9yKGl0ZW1zLCByZWxvb3ApIHtcbiAgICB2YXIgdHJ1ZUZuID0gZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9O1xuXG4gICAgaWYgKGl0ZW1zICYmICFhbmd1bGFyLmlzQXJyYXkoaXRlbXMpKSB7XG4gICAgICBpdGVtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGl0ZW1zKTtcbiAgICB9XG5cbiAgICByZWxvb3AgPSAhIXJlbG9vcDtcbiAgICB2YXIgX2l0ZW1zID0gaXRlbXMgfHwgWyBdO1xuXG4gICAgLy8gUHVibGlzaGVkIEFQSVxuICAgIHJldHVybiB7XG4gICAgICBpdGVtczogZ2V0SXRlbXMsXG4gICAgICBjb3VudDogY291bnQsXG5cbiAgICAgIGluUmFuZ2U6IGluUmFuZ2UsXG4gICAgICBjb250YWluczogY29udGFpbnMsXG4gICAgICBpbmRleE9mOiBpbmRleE9mLFxuICAgICAgaXRlbUF0OiBpdGVtQXQsXG5cbiAgICAgIGZpbmRCeTogZmluZEJ5LFxuXG4gICAgICBhZGQ6IGFkZCxcbiAgICAgIHJlbW92ZTogcmVtb3ZlLFxuXG4gICAgICBmaXJzdDogZmlyc3QsXG4gICAgICBsYXN0OiBsYXN0LFxuICAgICAgbmV4dDogYW5ndWxhci5iaW5kKG51bGwsIGZpbmRTdWJzZXF1ZW50SXRlbSwgZmFsc2UpLFxuICAgICAgcHJldmlvdXM6IGFuZ3VsYXIuYmluZChudWxsLCBmaW5kU3Vic2VxdWVudEl0ZW0sIHRydWUpLFxuXG4gICAgICBoYXNQcmV2aW91czogaGFzUHJldmlvdXMsXG4gICAgICBoYXNOZXh0OiBoYXNOZXh0XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHVibGlzaCBjb3B5IG9mIHRoZSBlbnVtZXJhYmxlIHNldFxuICAgICAqIEByZXR1cm5zIHtBcnJheXwqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZW1zKCkge1xuICAgICAgcmV0dXJuIFtdLmNvbmNhdChfaXRlbXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSBsZW5ndGggb2YgdGhlIGxpc3RcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkubGVuZ3RofCp8bnVtYmVyfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvdW50KCkge1xuICAgICAgcmV0dXJuIF9pdGVtcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIGluZGV4IHNwZWNpZmllZCB2YWxpZFxuICAgICAqIEBwYXJhbSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtBcnJheS5sZW5ndGh8KnxudW1iZXJ8Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKGluZGV4KSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLmxlbmd0aCAmJiAoIGluZGV4ID4gLTEgKSAmJiAoaW5kZXggPCBfaXRlbXMubGVuZ3RoICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuIHRoZSBpdGVyYXRvciBwcm9jZWVkIHRvIHRoZSBuZXh0IGl0ZW0gaW4gdGhlIGxpc3Q7IHJlbGF0aXZlIHRvXG4gICAgICogdGhlIHNwZWNpZmllZCBpdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcmV0dXJucyB7QXJyYXkubGVuZ3RofCp8bnVtYmVyfGJvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzTmV4dChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbSA/IGluUmFuZ2UoaW5kZXhPZihpdGVtKSArIDEpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuIHRoZSBpdGVyYXRvciBwcm9jZWVkIHRvIHRoZSBwcmV2aW91cyBpdGVtIGluIHRoZSBsaXN0OyByZWxhdGl2ZSB0b1xuICAgICAqIHRoZSBzcGVjaWZpZWQgaXRlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHJldHVybnMge0FycmF5Lmxlbmd0aHwqfG51bWJlcnxib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1ByZXZpb3VzKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtID8gaW5SYW5nZShpbmRleE9mKGl0ZW0pIC0gMSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgaXRlbSBhdCBzcGVjaWZpZWQgaW5kZXgvcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVtQXQoaW5kZXgpIHtcbiAgICAgIHJldHVybiBpblJhbmdlKGluZGV4KSA/IF9pdGVtc1tpbmRleF0gOiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgYWxsIGVsZW1lbnRzIG1hdGNoaW5nIHRoZSBrZXkvdmFsdWUgcGFpclxuICAgICAqIG90aGVyd2lzZSByZXR1cm4gbnVsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKlxuICAgICAqIEByZXR1cm4gYXJyYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kQnkoa2V5LCB2YWwpIHtcbiAgICAgIHJldHVybiBfaXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1ba2V5XSA9PT0gdmFsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGl0ZW0gdG8gbGlzdFxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHBhcmFtIGluZGV4XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkKGl0ZW0sIGluZGV4KSB7XG4gICAgICBpZiAoICFpdGVtICkgcmV0dXJuIC0xO1xuXG4gICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoaW5kZXgpKSB7XG4gICAgICAgIGluZGV4ID0gX2l0ZW1zLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgX2l0ZW1zLnNwbGljZShpbmRleCwgMCwgaXRlbSk7XG5cbiAgICAgIHJldHVybiBpbmRleE9mKGl0ZW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBpdGVtIGZyb20gbGlzdC4uLlxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGl0ZW0pIHtcbiAgICAgIGlmICggY29udGFpbnMoaXRlbSkgKXtcbiAgICAgICAgX2l0ZW1zLnNwbGljZShpbmRleE9mKGl0ZW0pLCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHplcm8tYmFzZWQgaW5kZXggb2YgdGhlIHRhcmdldCBpdGVtXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGl0ZW0pIHtcbiAgICAgIHJldHVybiBfaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCb29sZWFuIGV4aXN0ZW5jZSBjaGVja1xuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udGFpbnMoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0gJiYgKGluZGV4T2YoaXRlbSkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGZpcnN0IGl0ZW0gaW4gdGhlIGxpc3RcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaXJzdCgpIHtcbiAgICAgIHJldHVybiBfaXRlbXMubGVuZ3RoID8gX2l0ZW1zWzBdIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gbGFzdCBpdGVtIGluIHRoZSBsaXN0Li4uXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdCgpIHtcbiAgICAgIHJldHVybiBfaXRlbXMubGVuZ3RoID8gX2l0ZW1zW19pdGVtcy5sZW5ndGggLSAxXSA6IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgbmV4dCBpdGVtLiBJZiByZWxvb3AgaXMgdHJ1ZSBhbmQgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCwgaXQgd2lsbCBnbyBiYWNrIHRvIHRoZVxuICAgICAqIGZpcnN0IGl0ZW0uIElmIGdpdmVuLCB0aGUgYHZhbGlkYXRlYCBjYWxsYmFjayB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG5leHQgaXRlbVxuICAgICAqIGlzIHZhbGlkLiBJZiBub3QgdmFsaWQsIGl0IHdpbGwgdHJ5IHRvIGZpbmQgdGhlIG5leHQgaXRlbSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYmFja3dhcmRzIFNwZWNpZmllcyB0aGUgZGlyZWN0aW9uIG9mIHNlYXJjaGluZyAoZm9yd2FyZHMvYmFja3dhcmRzKVxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbSBUaGUgaXRlbSB3aG9zZSBzdWJzZXF1ZW50IGl0ZW0gd2UgYXJlIGxvb2tpbmcgZm9yXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbj19IHZhbGlkYXRlIFRoZSBgdmFsaWRhdGVgIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtpbnRlZ2VyPX0gbGltaXQgVGhlIHJlY3Vyc2lvbiBsaW1pdFxuICAgICAqXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBzdWJzZXF1ZW50IGl0ZW0gb3IgbnVsbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRTdWJzZXF1ZW50SXRlbShiYWNrd2FyZHMsIGl0ZW0sIHZhbGlkYXRlLCBsaW1pdCkge1xuICAgICAgdmFsaWRhdGUgPSB2YWxpZGF0ZSB8fCB0cnVlRm47XG5cbiAgICAgIHZhciBjdXJJbmRleCA9IGluZGV4T2YoaXRlbSk7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoIWluUmFuZ2UoY3VySW5kZXgpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgbmV4dEluZGV4ID0gY3VySW5kZXggKyAoYmFja3dhcmRzID8gLTEgOiAxKTtcbiAgICAgICAgdmFyIGZvdW5kSXRlbSA9IG51bGw7XG4gICAgICAgIGlmIChpblJhbmdlKG5leHRJbmRleCkpIHtcbiAgICAgICAgICBmb3VuZEl0ZW0gPSBfaXRlbXNbbmV4dEluZGV4XTtcbiAgICAgICAgfSBlbHNlIGlmIChyZWxvb3ApIHtcbiAgICAgICAgICBmb3VuZEl0ZW0gPSBiYWNrd2FyZHMgPyBsYXN0KCkgOiBmaXJzdCgpO1xuICAgICAgICAgIG5leHRJbmRleCA9IGluZGV4T2YoZm91bmRJdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoZm91bmRJdGVtID09PSBudWxsKSB8fCAobmV4dEluZGV4ID09PSBsaW1pdCkpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodmFsaWRhdGUoZm91bmRJdGVtKSkgcmV0dXJuIGZvdW5kSXRlbTtcblxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChsaW1pdCkpIGxpbWl0ID0gbmV4dEluZGV4O1xuXG4gICAgICAgIGN1ckluZGV4ID0gbmV4dEluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4uZmFjdG9yeSgnJG1kTWVkaWEnLCBtZE1lZGlhRmFjdG9yeSk7XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZE1lZGlhXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvcmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkbWRNZWRpYWAgaXMgdXNlZCB0byBldmFsdWF0ZSB3aGV0aGVyIGEgZ2l2ZW4gbWVkaWEgcXVlcnkgaXMgdHJ1ZSBvciBmYWxzZSBnaXZlbiB0aGVcbiAqIGN1cnJlbnQgZGV2aWNlJ3Mgc2NyZWVuIC8gd2luZG93IHNpemUuIFRoZSBtZWRpYSBxdWVyeSB3aWxsIGJlIHJlLWV2YWx1YXRlZCBvbiByZXNpemUsIGFsbG93aW5nXG4gKiB5b3UgdG8gcmVnaXN0ZXIgYSB3YXRjaC5cbiAqXG4gKiBgJG1kTWVkaWFgIGFsc28gaGFzIHByZS1wcm9ncmFtbWVkIHN1cHBvcnQgZm9yIG1lZGlhIHF1ZXJpZXMgdGhhdCBtYXRjaCB0aGUgbGF5b3V0IGJyZWFrcG9pbnRzOlxuICpcbiAqICA8dGFibGUgY2xhc3M9XCJtZC1hcGktdGFibGVcIj5cbiAqICAgIDx0aGVhZD5cbiAqICAgIDx0cj5cbiAqICAgICAgPHRoPkJyZWFrcG9pbnQ8L3RoPlxuICogICAgICA8dGg+bWVkaWFRdWVyeTwvdGg+XG4gKiAgICA8L3RyPlxuICogICAgPC90aGVhZD5cbiAqICAgIDx0Ym9keT5cbiAqICAgIDx0cj5cbiAqICAgICAgPHRkPnhzPC90ZD5cbiAqICAgICAgPHRkPihtYXgtd2lkdGg6IDU5OXB4KTwvdGQ+XG4gKiAgICA8L3RyPlxuICogICAgPHRyPlxuICogICAgICA8dGQ+Z3QteHM8L3RkPlxuICogICAgICA8dGQ+KG1pbi13aWR0aDogNjAwcHgpPC90ZD5cbiAqICAgIDwvdHI+XG4gKiAgICA8dHI+XG4gKiAgICAgIDx0ZD5zbTwvdGQ+XG4gKiAgICAgIDx0ZD4obWluLXdpZHRoOiA2MDBweCkgYW5kIChtYXgtd2lkdGg6IDk1OXB4KTwvdGQ+XG4gKiAgICA8L3RyPlxuICogICAgPHRyPlxuICogICAgICA8dGQ+Z3Qtc208L3RkPlxuICogICAgICA8dGQ+KG1pbi13aWR0aDogOTYwcHgpPC90ZD5cbiAqICAgIDwvdHI+XG4gKiAgICA8dHI+XG4gKiAgICAgIDx0ZD5tZDwvdGQ+XG4gKiAgICAgIDx0ZD4obWluLXdpZHRoOiA5NjBweCkgYW5kIChtYXgtd2lkdGg6IDEyNzlweCk8L3RkPlxuICogICAgPC90cj5cbiAqICAgIDx0cj5cbiAqICAgICAgPHRkPmd0LW1kPC90ZD5cbiAqICAgICAgPHRkPihtaW4td2lkdGg6IDEyODBweCk8L3RkPlxuICogICAgPC90cj5cbiAqICAgIDx0cj5cbiAqICAgICAgPHRkPmxnPC90ZD5cbiAqICAgICAgPHRkPihtaW4td2lkdGg6IDEyODBweCkgYW5kIChtYXgtd2lkdGg6IDE5MTlweCk8L3RkPlxuICogICAgPC90cj5cbiAqICAgIDx0cj5cbiAqICAgICAgPHRkPmd0LWxnPC90ZD5cbiAqICAgICAgPHRkPihtaW4td2lkdGg6IDE5MjBweCk8L3RkPlxuICogICAgPC90cj5cbiAqICAgIDx0cj5cbiAqICAgICAgPHRkPnhsPC90ZD5cbiAqICAgICAgPHRkPihtaW4td2lkdGg6IDE5MjBweCk8L3RkPlxuICogICAgPC90cj5cbiAqICAgIDwvdGJvZHk+XG4gKiAgPC90YWJsZT5cbiAqXG4gKiAgU2VlIE1hdGVyaWFsIERlc2lnbidzIDxhIGhyZWY9XCJodHRwczovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL2xheW91dC9hZGFwdGl2ZS11aS5odG1sXCI+TGF5b3V0IC0gQWRhcHRpdmUgVUk8L2E+IGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogIDxhIGhyZWY9XCJodHRwczovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL2xheW91dC9hZGFwdGl2ZS11aS5odG1sXCI+XG4gKiAgPGltZyBzcmM9XCJodHRwczovL21hdGVyaWFsLWRlc2lnbi5zdG9yYWdlLmdvb2dsZWFwaXMuY29tL3B1Ymxpc2gvbWF0ZXJpYWxfdl80L21hdGVyaWFsX2V4dF9wdWJsaXNoLzBCOG9sVjE1SjdhYlBTR0Z4ZW1GaVFWUnRiMWsvbGF5b3V0X2FkYXB0aXZlX2JyZWFrcG9pbnRzXzAxLnBuZ1wiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIj48L2ltZz5cbiAqICA8L2E+XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IGEgYm9vbGVhbiByZXByZXNlbnRpbmcgd2hldGhlciBvciBub3QgdGhlIGdpdmVuIG1lZGlhIHF1ZXJ5IGlzIHRydWUgb3IgZmFsc2UuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIGFwcC5jb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkbWRNZWRpYSwgJHNjb3BlKSB7XG4gKiAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7IHJldHVybiAkbWRNZWRpYSgnbGcnKTsgfSwgZnVuY3Rpb24oYmlnKSB7XG4gKiAgICAgJHNjb3BlLmJpZ1NjcmVlbiA9IGJpZztcbiAqICAgfSk7XG4gKlxuICogICAkc2NvcGUuc2NyZWVuSXNTbWFsbCA9ICRtZE1lZGlhKCdzbScpO1xuICogICAkc2NvcGUuY3VzdG9tUXVlcnkgPSAkbWRNZWRpYSgnKG1pbi13aWR0aDogMTIzNHB4KScpO1xuICogICAkc2NvcGUuYW5vdGhlckN1c3RvbSA9ICRtZE1lZGlhKCdtYXgtd2lkdGg6IDMwMHB4Jyk7XG4gKiB9KTtcbiAqIDwvaGxqcz5cbiAqL1xuXG5mdW5jdGlvbiBtZE1lZGlhRmFjdG9yeSgkbWRDb25zdGFudCwgJHJvb3RTY29wZSwgJHdpbmRvdykge1xuICB2YXIgcXVlcmllcyA9IHt9O1xuICB2YXIgbXFscyA9IHt9O1xuICB2YXIgcmVzdWx0cyA9IHt9O1xuICB2YXIgbm9ybWFsaXplQ2FjaGUgPSB7fTtcblxuICAkbWRNZWRpYS5nZXRSZXNwb25zaXZlQXR0cmlidXRlID0gZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZTtcbiAgJG1kTWVkaWEuZ2V0UXVlcnkgPSBnZXRRdWVyeTtcbiAgJG1kTWVkaWEud2F0Y2hSZXNwb25zaXZlQXR0cmlidXRlcyA9IHdhdGNoUmVzcG9uc2l2ZUF0dHJpYnV0ZXM7XG5cbiAgcmV0dXJuICRtZE1lZGlhO1xuXG4gIGZ1bmN0aW9uICRtZE1lZGlhKHF1ZXJ5KSB7XG4gICAgdmFyIHZhbGlkYXRlZCA9IHF1ZXJpZXNbcXVlcnldO1xuICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHZhbGlkYXRlZCkpIHtcbiAgICAgIHZhbGlkYXRlZCA9IHF1ZXJpZXNbcXVlcnldID0gdmFsaWRhdGUocXVlcnkpO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSByZXN1bHRzW3ZhbGlkYXRlZF07XG4gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQocmVzdWx0KSkge1xuICAgICAgcmVzdWx0ID0gYWRkKHZhbGlkYXRlZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHF1ZXJ5KSB7XG4gICAgcmV0dXJuICRtZENvbnN0YW50Lk1FRElBW3F1ZXJ5XSB8fFxuICAgICAgICAgICAoKHF1ZXJ5LmNoYXJBdCgwKSAhPT0gJygnKSA/ICgnKCcgKyBxdWVyeSArICcpJykgOiBxdWVyeSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGQocXVlcnkpIHtcbiAgICB2YXIgcmVzdWx0ID0gbXFsc1txdWVyeV07XG4gICAgaWYgKCAhcmVzdWx0ICkge1xuICAgICAgcmVzdWx0ID0gbXFsc1txdWVyeV0gPSAkd2luZG93Lm1hdGNoTWVkaWEocXVlcnkpO1xuICAgIH1cblxuICAgIHJlc3VsdC5hZGRMaXN0ZW5lcihvblF1ZXJ5Q2hhbmdlKTtcbiAgICByZXR1cm4gKHJlc3VsdHNbcmVzdWx0Lm1lZGlhXSA9ICEhcmVzdWx0Lm1hdGNoZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25RdWVyeUNoYW5nZShxdWVyeSkge1xuICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgIHJlc3VsdHNbcXVlcnkubWVkaWFdID0gISFxdWVyeS5tYXRjaGVzO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UXVlcnkobmFtZSkge1xuICAgIHJldHVybiBtcWxzW25hbWVdO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZShhdHRycywgYXR0ck5hbWUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRtZENvbnN0YW50Lk1FRElBX1BSSU9SSVRZLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbWVkaWFOYW1lID0gJG1kQ29uc3RhbnQuTUVESUFfUFJJT1JJVFlbaV07XG4gICAgICBpZiAoIW1xbHNbcXVlcmllc1ttZWRpYU5hbWVdXS5tYXRjaGVzKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbm9ybWFsaXplZE5hbWUgPSBnZXROb3JtYWxpemVkTmFtZShhdHRycywgYXR0ck5hbWUgKyAnLScgKyBtZWRpYU5hbWUpO1xuICAgICAgaWYgKGF0dHJzW25vcm1hbGl6ZWROYW1lXSkge1xuICAgICAgICByZXR1cm4gYXR0cnNbbm9ybWFsaXplZE5hbWVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZhbGxiYWNrIG9uIHVucHJlZml4ZWRcbiAgICByZXR1cm4gYXR0cnNbZ2V0Tm9ybWFsaXplZE5hbWUoYXR0cnMsIGF0dHJOYW1lKV07XG4gIH1cblxuICBmdW5jdGlvbiB3YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzKGF0dHJOYW1lcywgYXR0cnMsIHdhdGNoRm4pIHtcbiAgICB2YXIgdW53YXRjaEZucyA9IFtdO1xuICAgIGF0dHJOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJOYW1lKSB7XG4gICAgICB2YXIgbm9ybWFsaXplZE5hbWUgPSBnZXROb3JtYWxpemVkTmFtZShhdHRycywgYXR0ck5hbWUpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW25vcm1hbGl6ZWROYW1lXSkpIHtcbiAgICAgICAgdW53YXRjaEZucy5wdXNoKFxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUobm9ybWFsaXplZE5hbWUsIGFuZ3VsYXIuYmluZCh2b2lkIDAsIHdhdGNoRm4sIG51bGwpKSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIG1lZGlhTmFtZSBpbiAkbWRDb25zdGFudC5NRURJQSkge1xuICAgICAgICBub3JtYWxpemVkTmFtZSA9IGdldE5vcm1hbGl6ZWROYW1lKGF0dHJzLCBhdHRyTmFtZSArICctJyArIG1lZGlhTmFtZSk7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRyc1tub3JtYWxpemVkTmFtZV0pKSB7XG4gICAgICAgICAgdW53YXRjaEZucy5wdXNoKFxuICAgICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZShub3JtYWxpemVkTmFtZSwgYW5ndWxhci5iaW5kKHZvaWQgMCwgd2F0Y2hGbiwgbWVkaWFOYW1lKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW53YXRjaCgpIHtcbiAgICAgIHVud2F0Y2hGbnMuZm9yRWFjaChmdW5jdGlvbihmbikgeyBmbigpOyB9KVxuICAgIH07XG4gIH1cblxuICAvLyBJbXByb3ZlcyBwZXJmb3JtYW5jZSBkcmFtYXRpY2FsbHlcbiAgZnVuY3Rpb24gZ2V0Tm9ybWFsaXplZE5hbWUoYXR0cnMsIGF0dHJOYW1lKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZUNhY2hlW2F0dHJOYW1lXSB8fFxuICAgICAgICAobm9ybWFsaXplQ2FjaGVbYXR0ck5hbWVdID0gYXR0cnMuJG5vcm1hbGl6ZShhdHRyTmFtZSkpO1xuICB9XG59XG5tZE1lZGlhRmFjdG9yeS4kaW5qZWN0ID0gW1wiJG1kQ29uc3RhbnRcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHdpbmRvd1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gKiBUaGlzIHZhciBoYXMgdG8gYmUgb3V0c2lkZSB0aGUgYW5ndWxhciBmYWN0b3J5LCBvdGhlcndpc2Ugd2hlblxuICogdGhlcmUgYXJlIG11bHRpcGxlIG1hdGVyaWFsIGFwcHMgb24gdGhlIHNhbWUgcGFnZSwgZWFjaCBhcHBcbiAqIHdpbGwgY3JlYXRlIGl0cyBvd24gaW5zdGFuY2Ugb2YgdGhpcyBhcnJheSBhbmQgdGhlIGFwcCdzIElEc1xuICogd2lsbCBub3QgYmUgdW5pcXVlLlxuICovXG52YXIgbmV4dFVuaXF1ZUlkID0gMDtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb3JlLnV0aWxcbiAqIEBkZXNjcmlwdGlvblxuICogVXRpbFxuICovXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAuZmFjdG9yeSgnJG1kVXRpbCcsIFV0aWxGYWN0b3J5KTtcblxuZnVuY3Rpb24gVXRpbEZhY3RvcnkoJGRvY3VtZW50LCAkdGltZW91dCwgJGNvbXBpbGUsICRyb290U2NvcGUsICQkbWRBbmltYXRlLCAkaW50ZXJwb2xhdGUsICRsb2csICRyb290RWxlbWVudCwgJHdpbmRvdykge1xuICAvLyBTZXR1cCBzb21lIGNvcmUgdmFyaWFibGVzIGZvciB0aGUgcHJvY2Vzc1RlbXBsYXRlIG1ldGhvZFxuICB2YXIgc3RhcnRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxcbiAgICBlbmRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksXG4gICAgdXNlc1N0YW5kYXJkU3ltYm9scyA9ICgoc3RhcnRTeW1ib2wgPT09ICd7eycpICYmIChlbmRTeW1ib2wgPT09ICd9fScpKTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBoYXMgdGhlIHJlcXVlc3RlZCBzdHlsZSBieSBrZXlcbiAgICogQHBhcmFtIHtET01FbGVtZW50fEpRTGl0ZX0gdGFyZ2V0IFRhcmdldCBlbGVtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgU3R5bGUga2V5XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gZXhwZWN0ZWRWYWwgT3B0aW9uYWwgZXhwZWN0ZWQgdmFsdWVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHRhcmdldCBlbGVtZW50IGhhcyB0aGUgc3R5bGUgb3Igbm90XG4gICAqL1xuICB2YXIgaGFzQ29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSwgZXhwZWN0ZWRWYWwpIHtcbiAgICB2YXIgaGFzVmFsdWUgPSBmYWxzZTtcblxuICAgIGlmICggdGFyZ2V0ICYmIHRhcmdldC5sZW5ndGggICkge1xuICAgICAgdmFyIGNvbXB1dGVkU3R5bGVzID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhcmdldFswXSk7XG4gICAgICBoYXNWYWx1ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGNvbXB1dGVkU3R5bGVzW2tleV0pICYmIChleHBlY3RlZFZhbCA/IGNvbXB1dGVkU3R5bGVzW2tleV0gPT0gZXhwZWN0ZWRWYWwgOiB0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFzVmFsdWU7XG4gIH07XG5cbiAgdmFyICRtZFV0aWwgPSB7XG4gICAgZG9tOiB7fSxcbiAgICBub3c6IHdpbmRvdy5wZXJmb3JtYW5jZSA/XG4gICAgICBhbmd1bGFyLmJpbmQod2luZG93LnBlcmZvcm1hbmNlLCB3aW5kb3cucGVyZm9ybWFuY2Uubm93KSA6IERhdGUubm93IHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH0sXG5cbiAgICBjbGllbnRSZWN0OiBmdW5jdGlvbihlbGVtZW50LCBvZmZzZXRQYXJlbnQsIGlzT2Zmc2V0UmVjdCkge1xuICAgICAgdmFyIG5vZGUgPSBnZXROb2RlKGVsZW1lbnQpO1xuICAgICAgb2Zmc2V0UGFyZW50ID0gZ2V0Tm9kZShvZmZzZXRQYXJlbnQgfHwgbm9kZS5vZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnQuYm9keSk7XG4gICAgICB2YXIgbm9kZVJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAvLyBUaGUgdXNlciBjYW4gYXNrIGZvciBhbiBvZmZzZXRSZWN0OiBhIHJlY3QgcmVsYXRpdmUgdG8gdGhlIG9mZnNldFBhcmVudCxcbiAgICAgIC8vIG9yIGEgY2xpZW50UmVjdDogYSByZWN0IHJlbGF0aXZlIHRvIHRoZSBwYWdlXG4gICAgICB2YXIgb2Zmc2V0UmVjdCA9IGlzT2Zmc2V0UmVjdCA/XG4gICAgICAgIG9mZnNldFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6XG4gICAgICB7bGVmdDogMCwgdG9wOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IG5vZGVSZWN0LmxlZnQgLSBvZmZzZXRSZWN0LmxlZnQsXG4gICAgICAgIHRvcDogbm9kZVJlY3QudG9wIC0gb2Zmc2V0UmVjdC50b3AsXG4gICAgICAgIHdpZHRoOiBub2RlUmVjdC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBub2RlUmVjdC5oZWlnaHRcbiAgICAgIH07XG4gICAgfSxcbiAgICBvZmZzZXRSZWN0OiBmdW5jdGlvbihlbGVtZW50LCBvZmZzZXRQYXJlbnQpIHtcbiAgICAgIHJldHVybiAkbWRVdGlsLmNsaWVudFJlY3QoZWxlbWVudCwgb2Zmc2V0UGFyZW50LCB0cnVlKTtcbiAgICB9LFxuXG4gICAgLy8gQW5ub3lpbmcgbWV0aG9kIHRvIGNvcHkgbm9kZXMgdG8gYW4gYXJyYXksIHRoYW5rcyB0byBJRVxuICAgIG5vZGVzVG9BcnJheTogZnVuY3Rpb24obm9kZXMpIHtcbiAgICAgIG5vZGVzID0gbm9kZXMgfHwgW107XG5cbiAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChub2Rlcy5pdGVtKGkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvc2l0aXZlIHNjcm9sbCBvZmZzZXRcbiAgICAgKiBUT0RPOiBDaGVjayB3aXRoIHBpbmNoLXpvb20gaW4gSUUvQ2hyb21lO1xuICAgICAqICAgICAgIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00OTYyODVcbiAgICAgKi9cbiAgICBzY3JvbGxUb3A6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudCB8fCAkZG9jdW1lbnRbMF0uYm9keSk7XG5cbiAgICAgIHZhciBib2R5ID0gKGVsZW1lbnRbMF0gPT0gJGRvY3VtZW50WzBdLmJvZHkpID8gJGRvY3VtZW50WzBdLmJvZHkgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gYm9keSA/IGJvZHkuc2Nyb2xsVG9wICsgYm9keS5wYXJlbnRFbGVtZW50LnNjcm9sbFRvcCA6IDA7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcG9zaXRpdmUgc2Nyb2xsIG9mZnNldFxuICAgICAgcmV0dXJuIHNjcm9sbFRvcCB8fCBNYXRoLmFicyhlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICAgKiBAbmFtZSBtZEF1dG9mb2N1c1xuICAgICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZS51dGlsXG4gICAgICpcblxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogYCRtZFV0aWwuZmluZEZvY3VzVGFyZ2V0KClgIHByb3ZpZGVzIGFuIG9wdGlvbmFsIHdheSB0byBpZGVudGlmeSB0aGUgZm9jdXNlZCBlbGVtZW50IHdoZW4gYSBkaWFsb2csIGJvdHRvbXNoZWV0LCBzaWRlTmF2XG4gICAgICogb3Igb3RoZXIgZWxlbWVudCBvcGVucy4gVGhpcyBpcyBvcHRpb25hbCBhdHRyaWJ1dGUgZmluZHMgYSBuZXN0ZWQgZWxlbWVudCB3aXRoIHRoZSBtZEF1dG9Gb2N1cyBhdHRyaWJ1dGUgYW5kIG9wdGlvbmFsXG4gICAgICogZXhwcmVzc2lvbi4gQW4gZXhwcmVzc2lvbiBtYXkgYmUgc3BlY2lmaWVkIGFzIHRoZSBkaXJlY3RpdmUgdmFsdWU7IHRvIGVuYWJsZSBjb25kaXRpb25hbCBhY3RpdmF0aW9uIG9mIHRoZSBhdXRvRm9jdXMuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiAjIyMgRGlhbG9nXG4gICAgICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAgICAgKiA8bWQtZGlhbG9nPlxuICAgICAqICAgPGZvcm0+XG4gICAgICogICAgIDxtZC1pbnB1dC1jb250YWluZXI+XG4gICAgICogICAgICAgPGxhYmVsIGZvcj1cInRlc3RJbnB1dFwiPkxhYmVsPC9sYWJlbD5cbiAgICAgKiAgICAgICA8aW5wdXQgaWQ9XCJ0ZXN0SW5wdXRcIiB0eXBlPVwidGV4dFwiIG1kLWF1dG9mb2N1cz5cbiAgICAgKiAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+XG4gICAgICogICA8L2Zvcm0+XG4gICAgICogPC9tZC1kaWFsb2c+XG4gICAgICogPC9obGpzPlxuICAgICAqXG4gICAgICogIyMjIEJvdHRvbXNoZWV0XG4gICAgICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAgICAgKiA8bWQtYm90dG9tLXNoZWV0IGNsYXNzPVwibWQtbGlzdCBtZC1oYXMtaGVhZGVyXCI+XG4gICAgICogIDxtZC1zdWJoZWFkZXI+Q29tbWVudCBBY3Rpb25zPC9tZC1zdWJoZWFkZXI+XG4gICAgICogIDxtZC1saXN0PlxuICAgICAqICAgIDxtZC1saXN0LWl0ZW0gbmctcmVwZWF0PVwiaXRlbSBpbiBpdGVtc1wiPlxuICAgICAqXG4gICAgICogICAgICA8bWQtYnV0dG9uIG1kLWF1dG9mb2N1cz1cIiRpbmRleCA9PSAyXCI+XG4gICAgICogICAgICAgIDxtZC1pY29uIG1kLXN2Zy1zcmM9XCJ7e2l0ZW0uaWNvbn19XCI+PC9tZC1pY29uPlxuICAgICAqICAgICAgICA8c3BhbiBjbGFzcz1cIm1kLWlubGluZS1saXN0LWljb24tbGFiZWxcIj57eyBpdGVtLm5hbWUgfX08L3NwYW4+XG4gICAgICogICAgICA8L21kLWJ1dHRvbj5cbiAgICAgKlxuICAgICAqICAgIDwvbWQtbGlzdC1pdGVtPlxuICAgICAqICA8L21kLWxpc3Q+XG4gICAgICogPC9tZC1ib3R0b20tc2hlZXQ+XG4gICAgICogPC9obGpzPlxuICAgICAqXG4gICAgICogIyMjIEF1dG9jb21wbGV0ZVxuICAgICAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gICAgICogICA8bWQtYXV0b2NvbXBsZXRlXG4gICAgICogICAgICAgbWQtYXV0b2ZvY3VzXG4gICAgICogICAgICAgbWQtc2VsZWN0ZWQtaXRlbT1cInNlbGVjdGVkSXRlbVwiXG4gICAgICogICAgICAgbWQtc2VhcmNoLXRleHQ9XCJzZWFyY2hUZXh0XCJcbiAgICAgKiAgICAgICBtZC1pdGVtcz1cIml0ZW0gaW4gZ2V0TWF0Y2hlcyhzZWFyY2hUZXh0KVwiXG4gICAgICogICAgICAgbWQtaXRlbS10ZXh0PVwiaXRlbS5kaXNwbGF5XCI+XG4gICAgICogICAgIDxzcGFuIG1kLWhpZ2hsaWdodC10ZXh0PVwic2VhcmNoVGV4dFwiPnt7aXRlbS5kaXNwbGF5fX08L3NwYW4+XG4gICAgICogICA8L21kLWF1dG9jb21wbGV0ZT5cbiAgICAgKiA8L2hsanM+XG4gICAgICpcbiAgICAgKiAjIyMgU2lkZW5hdlxuICAgICAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gICAgICogPGRpdiBsYXlvdXQ9XCJyb3dcIiBuZy1jb250cm9sbGVyPVwiTXlDb250cm9sbGVyXCI+XG4gICAgICogICA8bWQtc2lkZW5hdiBtZC1jb21wb25lbnQtaWQ9XCJsZWZ0XCIgY2xhc3M9XCJtZC1zaWRlbmF2LWxlZnRcIj5cbiAgICAgKiAgICAgTGVmdCBOYXYhXG4gICAgICogICA8L21kLXNpZGVuYXY+XG4gICAgICpcbiAgICAgKiAgIDxtZC1jb250ZW50PlxuICAgICAqICAgICBDZW50ZXIgQ29udGVudFxuICAgICAqICAgICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwib3BlbkxlZnRNZW51KClcIj5cbiAgICAgKiAgICAgICBPcGVuIExlZnQgTWVudVxuICAgICAqICAgICA8L21kLWJ1dHRvbj5cbiAgICAgKiAgIDwvbWQtY29udGVudD5cbiAgICAgKlxuICAgICAqICAgPG1kLXNpZGVuYXYgbWQtY29tcG9uZW50LWlkPVwicmlnaHRcIlxuICAgICAqICAgICBtZC1pcy1sb2NrZWQtb3Blbj1cIiRtZE1lZGlhKCdtaW4td2lkdGg6IDMzM3B4JylcIlxuICAgICAqICAgICBjbGFzcz1cIm1kLXNpZGVuYXYtcmlnaHRcIj5cbiAgICAgKiAgICAgPGZvcm0+XG4gICAgICogICAgICAgPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAgICAgKiAgICAgICAgIDxsYWJlbCBmb3I9XCJ0ZXN0SW5wdXRcIj5UZXN0IGlucHV0PC9sYWJlbD5cbiAgICAgKiAgICAgICAgIDxpbnB1dCBpZD1cInRlc3RJbnB1dFwiIHR5cGU9XCJ0ZXh0XCJcbiAgICAgKiAgICAgICAgICAgICAgICBuZy1tb2RlbD1cImRhdGFcIiBtZC1hdXRvZm9jdXM+XG4gICAgICogICAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+XG4gICAgICogICAgIDwvZm9ybT5cbiAgICAgKiAgIDwvbWQtc2lkZW5hdj5cbiAgICAgKiA8L2Rpdj5cbiAgICAgKiA8L2hsanM+XG4gICAgICoqL1xuICAgIGZpbmRGb2N1c1RhcmdldDogZnVuY3Rpb24oY29udGFpbmVyRWwsIGF0dHJpYnV0ZVZhbCkge1xuICAgICAgdmFyIEFVVE9fRk9DVVMgPSAnW21kLWF1dG9mb2N1c10nO1xuICAgICAgdmFyIGVsVG9Gb2N1cztcblxuICAgICAgZWxUb0ZvY3VzID0gc2NhbkZvckZvY3VzYWJsZShjb250YWluZXJFbCwgYXR0cmlidXRlVmFsIHx8IEFVVE9fRk9DVVMpO1xuXG4gICAgICBpZiAoICFlbFRvRm9jdXMgJiYgYXR0cmlidXRlVmFsICE9IEFVVE9fRk9DVVMpIHtcbiAgICAgICAgLy8gU2NhbiBmb3IgZGVwcmVjYXRlZCBhdHRyaWJ1dGVcbiAgICAgICAgZWxUb0ZvY3VzID0gc2NhbkZvckZvY3VzYWJsZShjb250YWluZXJFbCwgJ1ttZC1hdXRvLWZvY3VzXScpO1xuXG4gICAgICAgIGlmICggIWVsVG9Gb2N1cyApIHtcbiAgICAgICAgICAvLyBTY2FuIGZvciBmYWxsYmFjayB0byAndW5pdmVyc2FsJyBBUElcbiAgICAgICAgICBlbFRvRm9jdXMgPSBzY2FuRm9yRm9jdXNhYmxlKGNvbnRhaW5lckVsLCBBVVRPX0ZPQ1VTKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWxUb0ZvY3VzO1xuXG4gICAgICAvKipcbiAgICAgICAqIENhbiB0YXJnZXQgYW5kIG5lc3RlZCBjaGlsZHJlbiBmb3Igc3BlY2lmaWVkIFNlbGVjdG9yIChhdHRyaWJ1dGUpXG4gICAgICAgKiB3aG9zZSB2YWx1ZSBtYXkgYmUgYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBUcnVlL0ZhbHNlLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBzY2FuRm9yRm9jdXNhYmxlKHRhcmdldCwgc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIGVsRm91bmQsIGl0ZW1zID0gdGFyZ2V0WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gICAgICAgIC8vIEZpbmQgdGhlIGxhc3QgY2hpbGQgZWxlbWVudCB3aXRoIHRoZSBmb2N1cyBhdHRyaWJ1dGVcbiAgICAgICAgaWYgKCBpdGVtcyAmJiBpdGVtcy5sZW5ndGggKXtcbiAgICAgICAgICB2YXIgRVhQX0FUVFIgPSAvXFxzKlxcWz8oW1xcLWEtel0qKVxcXT9cXHMqL2k7XG4gICAgICAgICAgdmFyIG1hdGNoZXMgPSBFWFBfQVRUUi5leGVjKHNlbGVjdG9yKTtcbiAgICAgICAgICB2YXIgYXR0cmlidXRlID0gbWF0Y2hlcyA/IG1hdGNoZXNbMV0gOiBudWxsO1xuXG4gICAgICAgICAgaXRlbXMubGVuZ3RoICYmIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24oaXQpIHtcbiAgICAgICAgICAgIGl0ID0gYW5ndWxhci5lbGVtZW50KGl0KTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIEZBTFNFLCB0aGVuIGl0IGlzIG5vdCBmb2N1c2FibGUgdGFyZ2V0XG4gICAgICAgICAgICB2YXIgZm9jdXNFeHByZXNzaW9uID0gaXRbMF0uZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICAgICAgICB2YXIgaXNGb2N1c2FibGUgPSAhZm9jdXNFeHByZXNzaW9uIHx8ICEkbWRVdGlsLnZhbGlkYXRlU2NvcGUoaXQpID8gdHJ1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaXQuc2NvcGUoKS4kZXZhbChmb2N1c0V4cHJlc3Npb24pICE9PSBmYWxzZSApO1xuXG4gICAgICAgICAgICBpZiAoaXNGb2N1c2FibGUpIGVsRm91bmQgPSBpdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxGb3VuZDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gRGlzYWJsZXMgc2Nyb2xsIGFyb3VuZCB0aGUgcGFzc2VkIGVsZW1lbnQuXG4gICAgZGlzYWJsZVNjcm9sbEFyb3VuZDogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50KSB7XG4gICAgICAkbWRVdGlsLmRpc2FibGVTY3JvbGxBcm91bmQuX2NvdW50ID0gJG1kVXRpbC5kaXNhYmxlU2Nyb2xsQXJvdW5kLl9jb3VudCB8fCAwO1xuICAgICAgKyskbWRVdGlsLmRpc2FibGVTY3JvbGxBcm91bmQuX2NvdW50O1xuICAgICAgaWYgKCRtZFV0aWwuZGlzYWJsZVNjcm9sbEFyb3VuZC5fZW5hYmxlU2Nyb2xsaW5nKSByZXR1cm4gJG1kVXRpbC5kaXNhYmxlU2Nyb2xsQXJvdW5kLl9lbmFibGVTY3JvbGxpbmc7XG4gICAgICBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnQpO1xuICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnRbMF0uYm9keSxcbiAgICAgICAgcmVzdG9yZUJvZHkgPSBkaXNhYmxlQm9keVNjcm9sbCgpLFxuICAgICAgICByZXN0b3JlRWxlbWVudCA9IGRpc2FibGVFbGVtZW50U2Nyb2xsKHBhcmVudCk7XG5cbiAgICAgIHJldHVybiAkbWRVdGlsLmRpc2FibGVTY3JvbGxBcm91bmQuX2VuYWJsZVNjcm9sbGluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIS0tJG1kVXRpbC5kaXNhYmxlU2Nyb2xsQXJvdW5kLl9jb3VudCkge1xuICAgICAgICAgIHJlc3RvcmVCb2R5KCk7XG4gICAgICAgICAgcmVzdG9yZUVsZW1lbnQoKTtcbiAgICAgICAgICBkZWxldGUgJG1kVXRpbC5kaXNhYmxlU2Nyb2xsQXJvdW5kLl9lbmFibGVTY3JvbGxpbmc7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIENyZWF0ZXMgYSB2aXJ0dWFsIHNjcm9sbGluZyBtYXNrIHRvIGFic29yYiB0b3VjaG1vdmUsIGtleWJvYXJkLCBzY3JvbGxiYXIgY2xpY2tpbmcsIGFuZCB3aGVlbCBldmVudHNcbiAgICAgIGZ1bmN0aW9uIGRpc2FibGVFbGVtZW50U2Nyb2xsKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50IHx8IGJvZHkpWzBdO1xuICAgICAgICB2YXIgekluZGV4ID0gNTA7XG4gICAgICAgIHZhciBzY3JvbGxNYXNrID0gYW5ndWxhci5lbGVtZW50KFxuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtc2Nyb2xsLW1hc2tcIiBzdHlsZT1cInotaW5kZXg6ICcgKyB6SW5kZXggKyAnXCI+JyArXG4gICAgICAgICAgJyAgPGRpdiBjbGFzcz1cIm1kLXNjcm9sbC1tYXNrLWJhclwiPjwvZGl2PicgK1xuICAgICAgICAgICc8L2Rpdj4nKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChzY3JvbGxNYXNrWzBdKTtcblxuICAgICAgICBzY3JvbGxNYXNrLm9uKCd3aGVlbCcsIHByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgc2Nyb2xsTWFzay5vbigndG91Y2htb3ZlJywgcHJldmVudERlZmF1bHQpO1xuICAgICAgICAkZG9jdW1lbnQub24oJ2tleWRvd24nLCBkaXNhYmxlS2V5TmF2KTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcmVzdG9yZVNjcm9sbCgpIHtcbiAgICAgICAgICBzY3JvbGxNYXNrLm9mZignd2hlZWwnKTtcbiAgICAgICAgICBzY3JvbGxNYXNrLm9mZigndG91Y2htb3ZlJyk7XG4gICAgICAgICAgc2Nyb2xsTWFza1swXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcm9sbE1hc2tbMF0pO1xuICAgICAgICAgICRkb2N1bWVudC5vZmYoJ2tleWRvd24nLCBkaXNhYmxlS2V5TmF2KTtcbiAgICAgICAgICBkZWxldGUgJG1kVXRpbC5kaXNhYmxlU2Nyb2xsQXJvdW5kLl9lbmFibGVTY3JvbGxpbmc7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHJldmVudCBrZXlwcmVzc2VzIGZyb20gZWxlbWVudHMgaW5zaWRlIHRoZSBib2R5XG4gICAgICAgIC8vIHVzZWQgdG8gc3RvcCB0aGUga2V5cHJlc3NlcyB0aGF0IGNvdWxkIGNhdXNlIHRoZSBwYWdlIHRvIHNjcm9sbFxuICAgICAgICAvLyAoYXJyb3cga2V5cywgc3BhY2ViYXIsIHRhYiwgZXRjKS5cbiAgICAgICAgZnVuY3Rpb24gZGlzYWJsZUtleU5hdihlKSB7XG4gICAgICAgICAgLy8tLSB0ZW1wb3JhcmlseSByZW1vdmVkIHRoaXMgbG9naWMsIHdpbGwgcG9zc2libHkgcmUtYWRkIGF0IGEgbGF0ZXIgZGF0ZVxuICAgICAgICAgIC8vaWYgKCFlbGVtZW50WzBdLmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgICAgIC8vICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgLy8gIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgLy99XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnRzIHRoZSBib2R5IHRvIGEgcG9zaXRpb24gZml4ZWQgYmxvY2sgYW5kIHRyYW5zbGF0ZSBpdCB0byB0aGUgcHJvcGVyIHNjcm9sbFxuICAgICAgLy8gcG9zaXRpb25cbiAgICAgIGZ1bmN0aW9uIGRpc2FibGVCb2R5U2Nyb2xsKCkge1xuICAgICAgICB2YXIgaHRtbE5vZGUgPSBib2R5LnBhcmVudE5vZGU7XG4gICAgICAgIHZhciByZXN0b3JlSHRtbFN0eWxlID0gaHRtbE5vZGUuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnO1xuICAgICAgICB2YXIgcmVzdG9yZUJvZHlTdHlsZSA9IGJvZHkuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnO1xuICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gJG1kVXRpbC5zY3JvbGxUb3AoYm9keSk7XG4gICAgICAgIHZhciBjbGllbnRXaWR0aCA9IGJvZHkuY2xpZW50V2lkdGg7XG5cbiAgICAgICAgaWYgKGJvZHkuc2Nyb2xsSGVpZ2h0ID4gYm9keS5jbGllbnRIZWlnaHQgKyAxKSB7XG4gICAgICAgICAgYXBwbHlTdHlsZXMoYm9keSwge1xuICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgdG9wOiAtc2Nyb2xsT2Zmc2V0ICsgJ3B4J1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgYXBwbHlTdHlsZXMoaHRtbE5vZGUsIHtcbiAgICAgICAgICAgIG92ZXJmbG93WTogJ3Njcm9sbCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib2R5LmNsaWVudFdpZHRoIDwgY2xpZW50V2lkdGgpIGFwcGx5U3R5bGVzKGJvZHksIHtvdmVyZmxvdzogJ2hpZGRlbid9KTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcmVzdG9yZVNjcm9sbCgpIHtcbiAgICAgICAgICBib2R5LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCByZXN0b3JlQm9keVN0eWxlKTtcbiAgICAgICAgICBodG1sTm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgcmVzdG9yZUh0bWxTdHlsZSk7XG4gICAgICAgICAgYm9keS5zY3JvbGxUb3AgPSBzY3JvbGxPZmZzZXQ7XG4gICAgICAgICAgaHRtbE5vZGUuc2Nyb2xsVG9wID0gc2Nyb2xsT2Zmc2V0O1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhcHBseVN0eWxlcyhlbCwgc3R5bGVzKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzdHlsZXMpIHtcbiAgICAgICAgICBlbC5zdHlsZVtrZXldID0gc3R5bGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGVuYWJsZVNjcm9sbGluZzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWV0aG9kID0gdGhpcy5kaXNhYmxlU2Nyb2xsQXJvdW5kLl9lbmFibGVTY3JvbGxpbmc7XG4gICAgICBtZXRob2QgJiYgbWV0aG9kKCk7XG4gICAgfSxcbiAgICBmbG9hdGluZ1Njcm9sbGJhcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuZmxvYXRpbmdTY3JvbGxiYXJzLmNhY2hlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciB0ZW1wTm9kZSA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBzdHlsZT1cIndpZHRoOiAxMDAlOyB6LWluZGV4OiAtMTsgcG9zaXRpb246IGFic29sdXRlOyBoZWlnaHQ6IDM1cHg7IG92ZXJmbG93LXk6IHNjcm9sbFwiPjxkaXYgc3R5bGU9XCJoZWlnaHQ6IDYwcHg7XCI+PC9kaXY+PC9kaXY+Jyk7XG4gICAgICAgICRkb2N1bWVudFswXS5ib2R5LmFwcGVuZENoaWxkKHRlbXBOb2RlWzBdKTtcbiAgICAgICAgdGhpcy5mbG9hdGluZ1Njcm9sbGJhcnMuY2FjaGVkID0gKHRlbXBOb2RlWzBdLm9mZnNldFdpZHRoID09IHRlbXBOb2RlWzBdLmNoaWxkTm9kZXNbMF0ub2Zmc2V0V2lkdGgpO1xuICAgICAgICB0ZW1wTm9kZS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmZsb2F0aW5nU2Nyb2xsYmFycy5jYWNoZWQ7XG4gICAgfSxcblxuICAgIC8vIE1vYmlsZSBzYWZhcmkgb25seSBhbGxvd3MgeW91IHRvIHNldCBmb2N1cyBpbiBjbGljayBldmVudCBsaXN0ZW5lcnMuLi5cbiAgICBmb3JjZUZvY3VzOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgbm9kZSA9IGVsZW1lbnRbMF0gfHwgZWxlbWVudDtcblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiBmb2N1c09uQ2xpY2soZXYpIHtcbiAgICAgICAgaWYgKGV2LnRhcmdldCA9PT0gbm9kZSAmJiBldi4kZm9jdXMpIHtcbiAgICAgICAgICBub2RlLmZvY3VzKCk7XG4gICAgICAgICAgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm9jdXNPbkNsaWNrKTtcbiAgICAgICAgfVxuICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgIHZhciBuZXdFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgICAgbmV3RXZlbnQuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgZmFsc2UsIHRydWUsIHdpbmRvdywge30sIDAsIDAsIDAsIDAsXG4gICAgICAgIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcbiAgICAgIG5ld0V2ZW50LiRtYXRlcmlhbCA9IHRydWU7XG4gICAgICBuZXdFdmVudC4kZm9jdXMgPSB0cnVlO1xuICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZmFjYWRlIHRvIGJ1aWxkIG1kLWJhY2tkcm9wIGVsZW1lbnQgd2l0aCBkZXNpcmVkIHN0eWxlc1xuICAgICAqIE5PVEU6IFVzZSAkY29tcGlsZSB0byB0cmlnZ2VyIGJhY2tkcm9wIHBvc3RMaW5rIGZ1bmN0aW9uXG4gICAgICovXG4gICAgY3JlYXRlQmFja2Ryb3A6IGZ1bmN0aW9uKHNjb3BlLCBhZGRDbGFzcykge1xuICAgICAgcmV0dXJuICRjb21waWxlKCRtZFV0aWwuc3VwcGxhbnQoJzxtZC1iYWNrZHJvcCBjbGFzcz1cInswfVwiPicsIFthZGRDbGFzc10pKShzY29wZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHN1cHBsYW50KCkgbWV0aG9kIGZyb20gQ3JvY2tmb3JkJ3MgYFJlbWVkaWFsIEphdmFzY3JpcHRgXG4gICAgICogRXF1aXZhbGVudCB0byB1c2Ugb2YgJGludGVycG9sYXRlOyB3aXRob3V0IGRlcGVuZGVuY3kgb25cbiAgICAgKiBpbnRlcnBvbGF0aW9uIHN5bWJvbHMgYW5kIHNjb3BlLiBOb3RlOiB0aGUgJ3s8dG9rZW4+fScgY2FuXG4gICAgICogYmUgcHJvcGVydHkgbmFtZXMsIHByb3BlcnR5IGNoYWlucywgb3IgYXJyYXkgaW5kaWNlcy5cbiAgICAgKi9cbiAgICBzdXBwbGFudDogZnVuY3Rpb24odGVtcGxhdGUsIHZhbHVlcywgcGF0dGVybikge1xuICAgICAgcGF0dGVybiA9IHBhdHRlcm4gfHwgL1xceyhbXlxce1xcfV0qKVxcfS9nO1xuICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UocGF0dGVybiwgZnVuY3Rpb24oYSwgYikge1xuICAgICAgICB2YXIgcCA9IGIuc3BsaXQoJy4nKSxcbiAgICAgICAgICByID0gdmFsdWVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAodmFyIHMgaW4gcCkge1xuICAgICAgICAgICAgaWYgKHAuaGFzT3duUHJvcGVydHkocykgKSB7XG4gICAgICAgICAgICAgIHIgPSByW3Bbc11dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHIgPSBhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodHlwZW9mIHIgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiByID09PSAnbnVtYmVyJykgPyByIDogYTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBmYWtlTmdNb2RlbDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkZmFrZTogdHJ1ZSxcbiAgICAgICAgJHNldFRvdWNoZWQ6IGFuZ3VsYXIubm9vcCxcbiAgICAgICAgJHNldFZpZXdWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB0aGlzLiR2aWV3VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLiRyZW5kZXIodmFsdWUpO1xuICAgICAgICAgIHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihjYikge1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgJGlzRW1wdHk6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuICgnJyArIHZhbHVlKS5sZW5ndGggPT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZXJzOiBbXSxcbiAgICAgICAgJGZvcm1hdHRlcnM6IFtdLFxuICAgICAgICAkdmlld0NoYW5nZUxpc3RlbmVyczogW10sXG4gICAgICAgICRyZW5kZXI6IGFuZ3VsYXIubm9vcFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAgIC8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3JcbiAgICAvLyBOIG1pbGxpc2Vjb25kcy5cbiAgICAvLyBAcGFyYW0gd2FpdCBJbnRlZ2VyIHZhbHVlIG9mIG1zZWNzIHRvIGRlbGF5IChzaW5jZSBsYXN0IGRlYm91bmNlIHJlc2V0KTsgZGVmYXVsdCB2YWx1ZSAxMCBtc2Vjc1xuICAgIC8vIEBwYXJhbSBpbnZva2VBcHBseSBzaG91bGQgdGhlICR0aW1lb3V0IHRyaWdnZXIgJGRpZ2VzdCgpIGRpcnR5IGNoZWNraW5nXG4gICAgZGVib3VuY2U6IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIHNjb3BlLCBpbnZva2VBcHBseSkge1xuICAgICAgdmFyIHRpbWVyO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHNjb3BlLFxuICAgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICB0aW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXG4gICAgICAgIH0sIHdhaXQgfHwgMTAsIGludm9rZUFwcGx5KTtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBvbmx5IGJlIHRyaWdnZXJlZCBldmVyeSBgZGVsYXlgIG1pbGxpc2Vjb25kcy5cbiAgICAvLyBJbiBvdGhlciB3b3JkcywgdGhlIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZCB1bmxlc3MgaXQgaGFzIGJlZW4gbW9yZVxuICAgIC8vIHRoYW4gYGRlbGF5YCBtaWxsaXNlY29uZHMgc2luY2UgdGhlIGxhc3QgY2FsbC5cbiAgICB0aHJvdHRsZTogZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgZGVsYXkpIHtcbiAgICAgIHZhciByZWNlbnQ7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gdGhyb3R0bGVkKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICB2YXIgbm93ID0gJG1kVXRpbC5ub3coKTtcblxuICAgICAgICBpZiAoIXJlY2VudCB8fCAobm93IC0gcmVjZW50ID4gZGVsYXkpKSB7XG4gICAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICByZWNlbnQgPSBub3c7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRha2VuIHRvIHJ1biB0aGUgcHJvdmlkZWQgY2FsbGJhY2tcbiAgICAgKiBmdW5jdGlvbi4gVXNlcyBhIGhpZ2gtcHJlY2lzaW9uIHRpbWVyIGlmIGF2YWlsYWJsZS5cbiAgICAgKi9cbiAgICB0aW1lOiBmdW5jdGlvbiB0aW1lKGNiKSB7XG4gICAgICB2YXIgc3RhcnQgPSAkbWRVdGlsLm5vdygpO1xuICAgICAgY2IoKTtcbiAgICAgIHJldHVybiAkbWRVdGlsLm5vdygpIC0gc3RhcnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbXBsaWNpdCBnZXR0ZXIgdGhhdCBjYWNoZXMgaXRzIGBnZXR0ZXIoKWBcbiAgICAgKiBsb29rdXAgdmFsdWVcbiAgICAgKi9cbiAgICB2YWx1ZU9uVXNlIDogZnVuY3Rpb24gKHNjb3BlLCBrZXksIGdldHRlcikge1xuICAgICAgdmFyIHZhbHVlID0gbnVsbCwgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICB2YXIgcGFyYW1zID0gKGFyZ3MubGVuZ3RoID4gMykgPyBhcmdzLnNsaWNlKDMpIDogWyBdO1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2NvcGUsIGtleSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHZhbHVlID0gZ2V0dGVyLmFwcGx5KHNjb3BlLCBwYXJhbXMpO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBhIHVuaXF1ZSBJRC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGFuIHVuaXF1ZSBudW1lcmljIHN0cmluZ1xuICAgICAqL1xuICAgIG5leHRVaWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcnICsgbmV4dFVuaXF1ZUlkKys7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQgQW5ndWxhckpTIGF0dGFjaGVzIGluZm9ybWF0aW9uIGFib3V0IGJpbmRpbmcgYW5kIHNjb3BlcyB0byBET00gbm9kZXMsXG4gICAgICogYW5kIGFkZHMgQ1NTIGNsYXNzZXMgdG8gZGF0YS1ib3VuZCBlbGVtZW50cy4gQnV0IHRoaXMgaW5mb3JtYXRpb24gaXMgTk9UIGF2YWlsYWJsZVxuICAgICAqIHdoZW4gYCRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZChmYWxzZSk7YFxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9ndWlkZS9wcm9kdWN0aW9uXG4gICAgICovXG4gICAgdmFsaWRhdGVTY29wZSA6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBoYXNTY29wZSA9IGVsZW1lbnQgJiYgYW5ndWxhci5pc0RlZmluZWQoZWxlbWVudC5zY29wZSgpKTtcbiAgICAgIGlmICggIWhhc1Njb3BlICkge1xuICAgICAgICAkbG9nLndhcm4oXCJlbGVtZW50LnNjb3BlKCkgaXMgbm90IGF2YWlsYWJsZSB3aGVuICdkZWJ1ZyBtb2RlJyA9PSBmYWxzZS4gQHNlZSBodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9ndWlkZS9wcm9kdWN0aW9uIVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhhc1Njb3BlO1xuICAgIH0sXG5cbiAgICAvLyBTdG9wIHdhdGNoZXJzIGFuZCBldmVudHMgZnJvbSBmaXJpbmcgb24gYSBzY29wZSB3aXRob3V0IGRlc3Ryb3lpbmcgaXQsXG4gICAgLy8gYnkgZGlzY29ubmVjdGluZyBpdCBmcm9tIGl0cyBwYXJlbnQgYW5kIGl0cyBzaWJsaW5ncycgbGlua2VkIGxpc3RzLlxuICAgIGRpc2Nvbm5lY3RTY29wZTogZnVuY3Rpb24gZGlzY29ubmVjdFNjb3BlKHNjb3BlKSB7XG4gICAgICBpZiAoIXNjb3BlKSByZXR1cm47XG5cbiAgICAgIC8vIHdlIGNhbid0IGRlc3Ryb3kgdGhlIHJvb3Qgc2NvcGUgb3IgYSBzY29wZSB0aGF0IGhhcyBiZWVuIGFscmVhZHkgZGVzdHJveWVkXG4gICAgICBpZiAoc2NvcGUuJHJvb3QgPT09IHNjb3BlKSByZXR1cm47XG4gICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgdmFyIHBhcmVudCA9IHNjb3BlLiRwYXJlbnQ7XG4gICAgICBzY29wZS4kJGRpc2Nvbm5lY3RlZCA9IHRydWU7XG5cbiAgICAgIC8vIFNlZSBTY29wZS4kZGVzdHJveVxuICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCA9PT0gc2NvcGUpIHBhcmVudC4kJGNoaWxkSGVhZCA9IHNjb3BlLiQkbmV4dFNpYmxpbmc7XG4gICAgICBpZiAocGFyZW50LiQkY2hpbGRUYWlsID09PSBzY29wZSkgcGFyZW50LiQkY2hpbGRUYWlsID0gc2NvcGUuJCRwcmV2U2libGluZztcbiAgICAgIGlmIChzY29wZS4kJHByZXZTaWJsaW5nKSBzY29wZS4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmcgPSBzY29wZS4kJG5leHRTaWJsaW5nO1xuICAgICAgaWYgKHNjb3BlLiQkbmV4dFNpYmxpbmcpIHNjb3BlLiQkbmV4dFNpYmxpbmcuJCRwcmV2U2libGluZyA9IHNjb3BlLiQkcHJldlNpYmxpbmc7XG5cbiAgICAgIHNjb3BlLiQkbmV4dFNpYmxpbmcgPSBzY29wZS4kJHByZXZTaWJsaW5nID0gbnVsbDtcblxuICAgIH0sXG5cbiAgICAvLyBVbmRvIHRoZSBlZmZlY3RzIG9mIGRpc2Nvbm5lY3RTY29wZSBhYm92ZS5cbiAgICByZWNvbm5lY3RTY29wZTogZnVuY3Rpb24gcmVjb25uZWN0U2NvcGUoc2NvcGUpIHtcbiAgICAgIGlmICghc2NvcGUpIHJldHVybjtcblxuICAgICAgLy8gd2UgY2FuJ3QgZGlzY29ubmVjdCB0aGUgcm9vdCBub2RlIG9yIHNjb3BlIGFscmVhZHkgZGlzY29ubmVjdGVkXG4gICAgICBpZiAoc2NvcGUuJHJvb3QgPT09IHNjb3BlKSByZXR1cm47XG4gICAgICBpZiAoIXNjb3BlLiQkZGlzY29ubmVjdGVkKSByZXR1cm47XG5cbiAgICAgIHZhciBjaGlsZCA9IHNjb3BlO1xuXG4gICAgICB2YXIgcGFyZW50ID0gY2hpbGQuJHBhcmVudDtcbiAgICAgIGNoaWxkLiQkZGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAvLyBTZWUgU2NvcGUuJG5ldyBmb3IgdGhpcyBsb2dpYy4uLlxuICAgICAgY2hpbGQuJCRwcmV2U2libGluZyA9IHBhcmVudC4kJGNoaWxkVGFpbDtcbiAgICAgIGlmIChwYXJlbnQuJCRjaGlsZEhlYWQpIHtcbiAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmcgPSBjaGlsZDtcbiAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQuJCRjaGlsZEhlYWQgPSBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBnZXRDbG9zZXN0IHJlcGxpY2F0ZXMgalF1ZXJ5LmNsb3Nlc3QoKSB0byB3YWxrIHVwIHRoZSBET00gdHJlZSB1bnRpbCBpdCBmaW5kcyBhIG1hdGNoaW5nIG5vZGVOYW1lXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWwgRWxlbWVudCB0byBzdGFydCB3YWxraW5nIHRoZSBET00gZnJvbVxuICAgICAqIEBwYXJhbSB0YWdOYW1lIFRhZyBuYW1lIHRvIGZpbmQgY2xvc2VzdCB0byBlbCwgc3VjaCBhcyAnZm9ybSdcbiAgICAgKiBAcGFyYW0gb25seVBhcmVudCBPbmx5IHN0YXJ0IGNoZWNraW5nIGZyb20gdGhlIHBhcmVudCBlbGVtZW50LCBub3QgYGVsYC5cbiAgICAgKi9cbiAgICBnZXRDbG9zZXN0OiBmdW5jdGlvbiBnZXRDbG9zZXN0KGVsLCB0YWdOYW1lLCBvbmx5UGFyZW50KSB7XG4gICAgICBpZiAoZWwgaW5zdGFuY2VvZiBhbmd1bGFyLmVsZW1lbnQpIGVsID0gZWxbMF07XG4gICAgICB0YWdOYW1lID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgaWYgKG9ubHlQYXJlbnQpIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICAgIGlmICghZWwpIHJldHVybiBudWxsO1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoZWwubm9kZU5hbWUgPT09IHRhZ05hbWUpIHtcbiAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKGVsID0gZWwucGFyZW50Tm9kZSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgcG9seWZpbGwgZm9yIHRoZSBOb2RlLmNvbnRhaW5zIGZlYXR1cmUgKGlmIG5lZWRlZClcbiAgICAgKi9cbiAgICBlbGVtZW50Q29udGFpbnM6IGZ1bmN0aW9uKG5vZGUsIGNoaWxkKSB7XG4gICAgICB2YXIgaGFzQ29udGFpbnMgPSAod2luZG93Lk5vZGUgJiYgd2luZG93Lk5vZGUucHJvdG90eXBlICYmIE5vZGUucHJvdG90eXBlLmNvbnRhaW5zKTtcbiAgICAgIHZhciBmaW5kRm4gPSBoYXNDb250YWlucyA/IGFuZ3VsYXIuYmluZChub2RlLCBub2RlLmNvbnRhaW5zKSA6IGFuZ3VsYXIuYmluZChub2RlLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgLy8gY29tcGFyZXMgdGhlIHBvc2l0aW9ucyBvZiB0d28gbm9kZXMgYW5kIHJldHVybnMgYSBiaXRtYXNrXG4gICAgICAgIHJldHVybiAobm9kZSA9PT0gY2hpbGQpIHx8ICEhKHRoaXMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYXJnKSAmIDE2KVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmaW5kRm4oY2hpbGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbmFsIGVxdWl2YWxlbnQgZm9yICRlbGVtZW50LmZpbHRlcijigJhtZC1ib3R0b20tc2hlZXTigJkpXG4gICAgICogdXNlZnVsIHdpdGggaW50ZXJpbUVsZW1lbnRzIHdoZXJlIHRoZSBlbGVtZW50IGFuZCBpdHMgY29udGFpbmVyIGFyZSBpbXBvcnRhbnQuLi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7W119IGVsZW1lbnRzIHRvIHNjYW5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBvZiBub2RlIHRvIGZpbmQgKGUuZy4gJ21kLWRpYWxvZycpXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0aW9uYWwgZmxhZyB0byBhbGxvdyBkZWVwIHNjYW5zOyBkZWZhdWx0cyB0byAnZmFsc2UnLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdGlvbmFsIGZsYWcgdG8gZW5hYmxlIGxvZyB3YXJuaW5nczsgZGVmYXVsdHMgdG8gZmFsc2VcbiAgICAgKi9cbiAgICBleHRyYWN0RWxlbWVudEJ5TmFtZTogZnVuY3Rpb24oZWxlbWVudCwgbm9kZU5hbWUsIHNjYW5EZWVwLCB3YXJuTm90Rm91bmQpIHtcbiAgICAgIHZhciBmb3VuZCA9IHNjYW5UcmVlKGVsZW1lbnQpO1xuICAgICAgaWYgKCFmb3VuZCAmJiAhIXdhcm5Ob3RGb3VuZCkge1xuICAgICAgICAkbG9nLndhcm4oICRtZFV0aWwuc3VwcGxhbnQoXCJVbmFibGUgdG8gZmluZCBub2RlICd7MH0nIGluIGVsZW1lbnQgJ3sxfScuXCIsW25vZGVOYW1lLCBlbGVtZW50WzBdLm91dGVySFRNTF0pICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbmd1bGFyLmVsZW1lbnQoZm91bmQgfHwgZWxlbWVudCk7XG5cbiAgICAgIC8qKlxuICAgICAgICogQnJlYWR0aC1GaXJzdCB0cmVlIHNjYW4gZm9yIGVsZW1lbnQgd2l0aCBtYXRjaGluZyBgbm9kZU5hbWVgXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHNjYW5UcmVlKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHNjYW5MZXZlbChlbGVtZW50KSB8fCAoISFzY2FuRGVlcCA/IHNjYW5DaGlsZHJlbihlbGVtZW50KSA6IG51bGwpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENhc2UtaW5zZW5zaXRpdmUgc2NhbiBvZiBjdXJyZW50IGVsZW1lbnRzIG9ubHkgKGRvIG5vdCBkZXNjZW5kKS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gc2NhbkxldmVsKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCBlbGVtZW50ICkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBlbGVtZW50Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudFtpXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZSkge1xuICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudFtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2NhbiBjaGlsZHJlbiBvZiBzcGVjaWZpZWQgbm9kZVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBzY2FuQ2hpbGRyZW4oZWxlbWVudCkge1xuICAgICAgICB2YXIgZm91bmQ7XG4gICAgICAgIGlmICggZWxlbWVudCApIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZWxlbWVudC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGVsZW1lbnRbaV07XG4gICAgICAgICAgICBpZiAoICFmb3VuZCApIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIG51bUNoaWxkID0gdGFyZ2V0LmNoaWxkTm9kZXMubGVuZ3RoOyBqIDwgbnVtQ2hpbGQ7IGorKykge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gZm91bmQgfHwgc2NhblRyZWUoW3RhcmdldC5jaGlsZE5vZGVzW2pdXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgfVxuXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdpdmUgb3B0aW9uYWwgcHJvcGVydGllcyB3aXRoIG5vIHZhbHVlIGEgYm9vbGVhbiB0cnVlIGlmIGF0dHIgcHJvdmlkZWQgb3IgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaW5pdE9wdGlvbmFsUHJvcGVydGllczogZnVuY3Rpb24oc2NvcGUsIGF0dHIsIGRlZmF1bHRzKSB7XG4gICAgICBkZWZhdWx0cyA9IGRlZmF1bHRzIHx8IHt9O1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHNjb3BlLiQkaXNvbGF0ZUJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nLCBrZXkpIHtcbiAgICAgICAgaWYgKGJpbmRpbmcub3B0aW9uYWwgJiYgYW5ndWxhci5pc1VuZGVmaW5lZChzY29wZVtrZXldKSkge1xuICAgICAgICAgIHZhciBhdHRySXNEZWZpbmVkID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cltiaW5kaW5nLmF0dHJOYW1lXSk7XG4gICAgICAgICAgc2NvcGVba2V5XSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGRlZmF1bHRzW2tleV0pID8gZGVmYXVsdHNba2V5XSA6IGF0dHJJc0RlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBbHRlcm5hdGl2ZSB0byAkdGltZW91dCBjYWxscyB3aXRoIDAgZGVsYXkuXG4gICAgICogbmV4dFRpY2soKSBjb2FsZXNjZXMgYWxsIGNhbGxzIHdpdGhpbiBhIHNpbmdsZSBmcmFtZVxuICAgICAqIHRvIG1pbmltaXplICRkaWdlc3QgdGhyYXNoaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gZGlnZXN0XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgbmV4dFRpY2s6IGZ1bmN0aW9uKGNhbGxiYWNrLCBkaWdlc3QsIHNjb3BlKSB7XG4gICAgICAvLy0tIGdyYWIgZnVuY3Rpb24gcmVmZXJlbmNlIGZvciBzdG9yaW5nIHN0YXRlIGRldGFpbHNcbiAgICAgIHZhciBuZXh0VGljayA9ICRtZFV0aWwubmV4dFRpY2s7XG4gICAgICB2YXIgdGltZW91dCA9IG5leHRUaWNrLnRpbWVvdXQ7XG4gICAgICB2YXIgcXVldWUgPSBuZXh0VGljay5xdWV1ZSB8fCBbXTtcblxuICAgICAgLy8tLSBhZGQgY2FsbGJhY2sgdG8gdGhlIHF1ZXVlXG4gICAgICBxdWV1ZS5wdXNoKGNhbGxiYWNrKTtcblxuICAgICAgLy8tLSBzZXQgZGVmYXVsdCB2YWx1ZSBmb3IgZGlnZXN0XG4gICAgICBpZiAoZGlnZXN0ID09IG51bGwpIGRpZ2VzdCA9IHRydWU7XG5cbiAgICAgIC8vLS0gc3RvcmUgdXBkYXRlZCBkaWdlc3QvcXVldWUgdmFsdWVzXG4gICAgICBuZXh0VGljay5kaWdlc3QgPSBuZXh0VGljay5kaWdlc3QgfHwgZGlnZXN0O1xuICAgICAgbmV4dFRpY2sucXVldWUgPSBxdWV1ZTtcblxuICAgICAgLy8tLSBlaXRoZXIgcmV0dXJuIGV4aXN0aW5nIHRpbWVvdXQgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgcmV0dXJuIHRpbWVvdXQgfHwgKG5leHRUaWNrLnRpbWVvdXQgPSAkdGltZW91dChwcm9jZXNzUXVldWUsIDAsIGZhbHNlKSk7XG5cbiAgICAgIC8qKlxuICAgICAgICogR3JhYiBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgcXVldWVcbiAgICAgICAqIENsZWFyIHRoZSBxdWV1ZSBmb3IgZnV0dXJlIHVzZVxuICAgICAgICogUHJvY2VzcyB0aGUgZXhpc3RpbmcgcXVldWVcbiAgICAgICAqIFRyaWdnZXIgZGlnZXN0IGlmIG5lY2Vzc2FyeVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBwcm9jZXNzUXVldWUoKSB7XG4gICAgICAgIHZhciBza2lwID0gc2NvcGUgJiYgc2NvcGUuJCRkZXN0cm95ZWQ7XG4gICAgICAgIHZhciBxdWV1ZSA9ICFza2lwID8gbmV4dFRpY2sucXVldWUgOiBbXTtcbiAgICAgICAgdmFyIGRpZ2VzdCA9ICFza2lwID8gbmV4dFRpY2suZGlnZXN0IDogbnVsbDtcblxuICAgICAgICBuZXh0VGljay5xdWV1ZSA9IFtdO1xuICAgICAgICBuZXh0VGljay50aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgbmV4dFRpY2suZGlnZXN0ID0gZmFsc2U7XG5cbiAgICAgICAgcXVldWUuZm9yRWFjaChmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChkaWdlc3QpICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgYSB0ZW1wbGF0ZSBhbmQgcmVwbGFjZXMgdGhlIHN0YXJ0L2VuZCBzeW1ib2xzIGlmIHRoZSBhcHBsaWNhdGlvbiBoYXNcbiAgICAgKiBvdmVycmlkZW4gdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZSBUaGUgdGVtcGxhdGUgdG8gcHJvY2VzcyB3aG9zZSBzdGFydC9lbmQgdGFncyBtYXkgYmUgcmVwbGFjZWQuXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgcHJvY2Vzc1RlbXBsYXRlOiBmdW5jdGlvbih0ZW1wbGF0ZSkge1xuICAgICAgaWYgKHVzZXNTdGFuZGFyZFN5bWJvbHMpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZSB8fCAhYW5ndWxhci5pc1N0cmluZyh0ZW1wbGF0ZSkpIHJldHVybiB0ZW1wbGF0ZTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcey9nLCBzdGFydFN5bWJvbCkucmVwbGFjZSgvfX0vZywgZW5kU3ltYm9sKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2NhbiB1cCBkb20gaGllcmFyY2h5IGZvciBlbmFibGVkIHBhcmVudDtcbiAgICAgKi9cbiAgICBnZXRQYXJlbnRXaXRoUG9pbnRlckV2ZW50czogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuXG4gICAgICAvLyBqcUxpdGUgbWlnaHQgcmV0dXJuIGEgbm9uLW51bGwsIGJ1dCBzdGlsbCBlbXB0eSwgcGFyZW50OyBzbyBjaGVjayBmb3IgcGFyZW50IGFuZCBsZW5ndGhcbiAgICAgIHdoaWxlIChoYXNDb21wdXRlZFN0eWxlKHBhcmVudCwgJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKSkge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfSxcblxuICAgIGdldE5lYXJlc3RDb250ZW50RWxlbWVudDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gZWxlbWVudC5wYXJlbnQoKVswXTtcbiAgICAgIC8vIExvb2sgZm9yIHRoZSBuZWFyZXN0IHBhcmVudCBtZC1jb250ZW50LCBzdG9wcGluZyBhdCB0aGUgcm9vdEVsZW1lbnQuXG4gICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSAkcm9vdEVsZW1lbnRbMF0gJiYgY3VycmVudCAhPT0gZG9jdW1lbnQuYm9keSAmJiBjdXJyZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICdNRC1DT05URU5UJykge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfSxcblxuICAgIGhhc0NvbXB1dGVkU3R5bGU6IGhhc0NvbXB1dGVkU3R5bGVcbiAgfTtcblxuLy8gSW5zdGFudGlhdGUgb3RoZXIgbmFtZXNwYWNlIHV0aWxpdHkgbWV0aG9kc1xuXG4gICRtZFV0aWwuZG9tLmFuaW1hdG9yID0gJCRtZEFuaW1hdGUoJG1kVXRpbCk7XG5cbiAgcmV0dXJuICRtZFV0aWw7XG5cbiAgZnVuY3Rpb24gZ2V0Tm9kZShlbCkge1xuICAgIHJldHVybiBlbFswXSB8fCBlbDtcbiAgfVxuXG59XG5VdGlsRmFjdG9yeS4kaW5qZWN0ID0gW1wiJGRvY3VtZW50XCIsIFwiJHRpbWVvdXRcIiwgXCIkY29tcGlsZVwiLCBcIiRyb290U2NvcGVcIiwgXCIkJG1kQW5pbWF0ZVwiLCBcIiRpbnRlcnBvbGF0ZVwiLCBcIiRsb2dcIiwgXCIkcm9vdEVsZW1lbnRcIiwgXCIkd2luZG93XCJdO1xuXG4vKlxuICogU2luY2UgcmVtb3ZpbmcgalF1ZXJ5IGZyb20gdGhlIGRlbW9zLCBzb21lIGNvZGUgdGhhdCB1c2VzIGBlbGVtZW50LmZvY3VzKClgIGlzIGJyb2tlbi5cbiAqIFdlIG5lZWQgdG8gYWRkIGBlbGVtZW50LmZvY3VzKClgLCBiZWNhdXNlIGl0J3MgdGVzdGFibGUgdW5saWtlIGBlbGVtZW50WzBdLmZvY3VzYC5cbiAqL1xuXG5hbmd1bGFyLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzID0gYW5ndWxhci5lbGVtZW50LnByb3RvdHlwZS5mb2N1cyB8fCBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5sZW5ndGgpIHtcbiAgICAgIHRoaXNbMF0uZm9jdXMoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5hbmd1bGFyLmVsZW1lbnQucHJvdG90eXBlLmJsdXIgPSBhbmd1bGFyLmVsZW1lbnQucHJvdG90eXBlLmJsdXIgfHwgZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoKSB7XG4gICAgICB0aGlzWzBdLmJsdXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAuc2VydmljZSgnJG1kQXJpYScsIEFyaWFTZXJ2aWNlKTtcblxuLypcbiAqIEBuZ0luamVjdFxuICovXG5mdW5jdGlvbiBBcmlhU2VydmljZSgkJHJBRiwgJGxvZywgJHdpbmRvdykge1xuXG4gIHJldHVybiB7XG4gICAgZXhwZWN0OiBleHBlY3QsXG4gICAgZXhwZWN0QXN5bmM6IGV4cGVjdEFzeW5jLFxuICAgIGV4cGVjdFdpdGhUZXh0OiBleHBlY3RXaXRoVGV4dFxuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBleHBlY3RlZCBhdHRyaWJ1dGUgaGFzIGJlZW4gc3BlY2lmaWVkIG9uIHRoZSB0YXJnZXQgZWxlbWVudCBvciBjaGlsZFxuICAgKiBAcGFyYW0gZWxlbWVudFxuICAgKiBAcGFyYW0gYXR0ck5hbWVcbiAgICogQHBhcmFtIHtvcHRpb25hbH0gZGVmYXVsdFZhbHVlIFdoYXQgdG8gc2V0IHRoZSBhdHRyIHRvIGlmIG5vIHZhbHVlIGlzIGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiBleHBlY3QoZWxlbWVudCwgYXR0ck5hbWUsIGRlZmF1bHRWYWx1ZSkge1xuXG4gICAgdmFyIG5vZGUgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudClbMF0gfHwgZWxlbWVudDtcblxuICAgIC8vIGlmIG5vZGUgZXhpc3RzIGFuZCBuZWl0aGVyIGl0IG5vciBpdHMgY2hpbGRyZW4gaGF2ZSB0aGUgYXR0cmlidXRlXG4gICAgaWYgKG5vZGUgJiZcbiAgICAgICAoKCFub2RlLmhhc0F0dHJpYnV0ZShhdHRyTmFtZSkgfHxcbiAgICAgICAgbm9kZS5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpLmxlbmd0aCA9PT0gMCkgJiZcbiAgICAgICAgIWNoaWxkSGFzQXR0cmlidXRlKG5vZGUsIGF0dHJOYW1lKSkpIHtcblxuICAgICAgZGVmYXVsdFZhbHVlID0gYW5ndWxhci5pc1N0cmluZyhkZWZhdWx0VmFsdWUpID8gZGVmYXVsdFZhbHVlLnRyaW0oKSA6ICcnO1xuICAgICAgaWYgKGRlZmF1bHRWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgZWxlbWVudC5hdHRyKGF0dHJOYW1lLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGxvZy53YXJuKCdBUklBOiBBdHRyaWJ1dGUgXCInLCBhdHRyTmFtZSwgJ1wiLCByZXF1aXJlZCBmb3IgYWNjZXNzaWJpbGl0eSwgaXMgbWlzc2luZyBvbiBub2RlOicsIG5vZGUpO1xuICAgICAgfVxuXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0QXN5bmMoZWxlbWVudCwgYXR0ck5hbWUsIGRlZmF1bHRWYWx1ZUdldHRlcikge1xuICAgIC8vIFByb2JsZW06IHdoZW4gcmV0cmlldmluZyB0aGUgZWxlbWVudCdzIGNvbnRlbnRzIHN5bmNocm9ub3VzbHkgdG8gZmluZCB0aGUgbGFiZWwsXG4gICAgLy8gdGhlIHRleHQgbWF5IG5vdCBiZSBkZWZpbmVkIHlldCBpbiB0aGUgY2FzZSBvZiBhIGJpbmRpbmcuXG4gICAgLy8gVGhlcmUgaXMgYSBoaWdoZXIgY2hhbmNlIHRoYXQgYSBiaW5kaW5nIHdpbGwgYmUgZGVmaW5lZCBpZiB3ZSB3YWl0IG9uZSBmcmFtZS5cbiAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdChlbGVtZW50LCBhdHRyTmFtZSwgZGVmYXVsdFZhbHVlR2V0dGVyKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0V2l0aFRleHQoZWxlbWVudCwgYXR0ck5hbWUpIHtcbiAgICBleHBlY3RBc3luYyhlbGVtZW50LCBhdHRyTmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0VGV4dChlbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRleHQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LnRleHQoKS50cmltKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGlsZEhhc0F0dHJpYnV0ZShub2RlLCBhdHRyTmFtZSkge1xuICAgIHZhciBoYXNDaGlsZHJlbiA9IG5vZGUuaGFzQ2hpbGROb2RlcygpLFxuICAgICAgICBoYXNBdHRyID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBpc0hpZGRlbihlbCkge1xuICAgICAgdmFyIHN0eWxlID0gZWwuY3VycmVudFN0eWxlID8gZWwuY3VycmVudFN0eWxlIDogJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgIHJldHVybiAoc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKTtcbiAgICB9XG5cbiAgICBpZihoYXNDaGlsZHJlbikge1xuICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xuICAgICAgZm9yKHZhciBpPTA7IGk8Y2hpbGRyZW4ubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgaWYoY2hpbGQubm9kZVR5cGUgPT09IDEgJiYgY2hpbGQuaGFzQXR0cmlidXRlKGF0dHJOYW1lKSkge1xuICAgICAgICAgIGlmKCFpc0hpZGRlbihjaGlsZCkpe1xuICAgICAgICAgICAgaGFzQXR0ciA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNBdHRyO1xuICB9XG59XG5BcmlhU2VydmljZS4kaW5qZWN0ID0gW1wiJCRyQUZcIiwgXCIkbG9nXCIsIFwiJHdpbmRvd1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4gIC5zZXJ2aWNlKCckbWRDb21waWxlcicsIG1kQ29tcGlsZXJTZXJ2aWNlKTtcblxuZnVuY3Rpb24gbWRDb21waWxlclNlcnZpY2UoJHEsICRodHRwLCAkaW5qZWN0b3IsICRjb21waWxlLCAkY29udHJvbGxlciwgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuXG4gIC8qXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRtZENvbXBpbGVyXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlICRtZENvbXBpbGVyIHNlcnZpY2UgaXMgYW4gYWJzdHJhY3Rpb24gb2YgYW5ndWxhcidzIGNvbXBpbGVyLCB0aGF0IGFsbG93cyB0aGUgZGV2ZWxvcGVyXG4gICAqIHRvIGVhc2lseSBjb21waWxlIGFuIGVsZW1lbnQgd2l0aCBhIHRlbXBsYXRlVXJsLCBjb250cm9sbGVyLCBhbmQgbG9jYWxzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogPGhsanMgbGFuZz1cImpzXCI+XG4gICAqICRtZENvbXBpbGVyLmNvbXBpbGUoe1xuICAgKiAgIHRlbXBsYXRlVXJsOiAnbW9kYWwuaHRtbCcsXG4gICAqICAgY29udHJvbGxlcjogJ01vZGFsQ3RybCcsXG4gICAqICAgbG9jYWxzOiB7XG4gICAqICAgICBtb2RhbDogbXlNb2RhbEluc3RhbmNlO1xuICAgKiAgIH1cbiAgICogfSkudGhlbihmdW5jdGlvbihjb21waWxlRGF0YSkge1xuICAgKiAgIGNvbXBpbGVEYXRhLmVsZW1lbnQ7IC8vIG1vZGFsLmh0bWwncyB0ZW1wbGF0ZSBpbiBhbiBlbGVtZW50XG4gICAqICAgY29tcGlsZURhdGEubGluayhteVNjb3BlKTsgLy9hdHRhY2ggY29udHJvbGxlciAmIHNjb3BlIHRvIGVsZW1lbnRcbiAgICogfSk7XG4gICAqIDwvaGxqcz5cbiAgICovXG5cbiAgIC8qXG4gICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgKiBAbmFtZSAkbWRDb21waWxlciNjb21waWxlXG4gICAgKiBAZGVzY3JpcHRpb24gQSBoZWxwZXIgdG8gY29tcGlsZSBhbiBIVE1MIHRlbXBsYXRlL3RlbXBsYXRlVXJsIHdpdGggYSBnaXZlbiBjb250cm9sbGVyLFxuICAgICogbG9jYWxzLCBhbmQgc2NvcGUuXG4gICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBBbiBvcHRpb25zIG9iamVjdCwgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgKlxuICAgICogICAgLSBgY29udHJvbGxlcmAgLSBgeyhzdHJpbmc9fGZ1bmN0aW9uKCk9fWAgQ29udHJvbGxlciBmbiB0aGF0IHNob3VsZCBiZSBhc3NvY2lhdGVkIHdpdGhcbiAgICAqICAgICAgbmV3bHkgY3JlYXRlZCBzY29wZSBvciB0aGUgbmFtZSBvZiBhIHJlZ2lzdGVyZWQgY29udHJvbGxlciBpZiBwYXNzZWQgYXMgYSBzdHJpbmcuXG4gICAgKiAgICAtIGBjb250cm9sbGVyQXNgIC0gYHtzdHJpbmc9fWAgQSBjb250cm9sbGVyIGFsaWFzIG5hbWUuIElmIHByZXNlbnQgdGhlIGNvbnRyb2xsZXIgd2lsbCBiZVxuICAgICogICAgICBwdWJsaXNoZWQgdG8gc2NvcGUgdW5kZXIgdGhlIGBjb250cm9sbGVyQXNgIG5hbWUuXG4gICAgKiAgICAtIGB0ZW1wbGF0ZWAgLSBge3N0cmluZz19YCBBbiBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nLlxuICAgICogICAgLSBgdGVtcGxhdGVVcmxgIC0gYHtzdHJpbmc9fWAgQSBwYXRoIHRvIGFuIGh0bWwgdGVtcGxhdGUuXG4gICAgKiAgICAtIGB0cmFuc2Zvcm1UZW1wbGF0ZWAgLSBge2Z1bmN0aW9uKHRlbXBsYXRlKT19YCBBIGZ1bmN0aW9uIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHRlbXBsYXRlIGFmdGVyXG4gICAgKiAgICAgIGl0IGlzIGxvYWRlZC4gSXQgd2lsbCBiZSBnaXZlbiB0aGUgdGVtcGxhdGUgc3RyaW5nIGFzIGEgcGFyYW1ldGVyLCBhbmQgc2hvdWxkXG4gICAgKiAgICAgIHJldHVybiBhIGEgbmV3IHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHRyYW5zZm9ybWVkIHRlbXBsYXRlLlxuICAgICogICAgLSBgcmVzb2x2ZWAgLSBge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj49fWAgLSBBbiBvcHRpb25hbCBtYXAgb2YgZGVwZW5kZW5jaWVzIHdoaWNoIHNob3VsZFxuICAgICogICAgICBiZSBpbmplY3RlZCBpbnRvIHRoZSBjb250cm9sbGVyLiBJZiBhbnkgb2YgdGhlc2UgZGVwZW5kZW5jaWVzIGFyZSBwcm9taXNlcywgdGhlIGNvbXBpbGVyXG4gICAgKiAgICAgIHdpbGwgd2FpdCBmb3IgdGhlbSBhbGwgdG8gYmUgcmVzb2x2ZWQsIG9yIGlmIG9uZSBpcyByZWplY3RlZCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgaXNcbiAgICAqICAgICAgaW5zdGFudGlhdGVkIGBjb21waWxlKClgIHdpbGwgZmFpbC4uXG4gICAgKiAgICAgICogYGtleWAgLSBge3N0cmluZ31gOiBhIG5hbWUgb2YgYSBkZXBlbmRlbmN5IHRvIGJlIGluamVjdGVkIGludG8gdGhlIGNvbnRyb2xsZXIuXG4gICAgKiAgICAgICogYGZhY3RvcnlgIC0gYHtzdHJpbmd8ZnVuY3Rpb259YDogSWYgYHN0cmluZ2AgdGhlbiBpdCBpcyBhbiBhbGlhcyBmb3IgYSBzZXJ2aWNlLlxuICAgICogICAgICAgIE90aGVyd2lzZSBpZiBmdW5jdGlvbiwgdGhlbiBpdCBpcyBpbmplY3RlZCBhbmQgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmVhdGVkIGFzIHRoZVxuICAgICogICAgICAgIGRlcGVuZGVuY3kuIElmIHRoZSByZXN1bHQgaXMgYSBwcm9taXNlLCBpdCBpcyByZXNvbHZlZCBiZWZvcmUgaXRzIHZhbHVlIGlzXG4gICAgKiAgICAgICAgaW5qZWN0ZWQgaW50byB0aGUgY29udHJvbGxlci5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7b2JqZWN0PX0gcHJvbWlzZSBBIHByb21pc2UsIHdoaWNoIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhIGBjb21waWxlRGF0YWAgb2JqZWN0LlxuICAgICogYGNvbXBpbGVEYXRhYCBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICpcbiAgICAqICAgLSBgZWxlbWVudGAgLSBge2VsZW1lbnR9YDogYW4gdW5jb21waWxlZCBlbGVtZW50IG1hdGNoaW5nIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZS5cbiAgICAqICAgLSBgbGlua2AgLSBge2Z1bmN0aW9uKHNjb3BlKX1gOiBBIGxpbmsgZnVuY3Rpb24sIHdoaWNoLCB3aGVuIGNhbGxlZCwgd2lsbCBjb21waWxlXG4gICAgKiAgICAgdGhlIGVsZW1lbnQgYW5kIGluc3RhbnRpYXRlIHRoZSBwcm92aWRlZCBjb250cm9sbGVyIChpZiBnaXZlbikuXG4gICAgKiAgIC0gYGxvY2Fsc2AgLSBge29iamVjdH1gOiBUaGUgbG9jYWxzIHdoaWNoIHdpbGwgYmUgcGFzc2VkIGludG8gdGhlIGNvbnRyb2xsZXIgb25jZSBgbGlua2AgaXNcbiAgICAqICAgICBjYWxsZWQuIElmIGBiaW5kVG9Db250cm9sbGVyYCBpcyB0cnVlLCB0aGV5IHdpbGwgYmUgY29wcGllZCB0byB0aGUgY3RybCBpbnN0ZWFkXG4gICAgKiAgIC0gYGJpbmRUb0NvbnRyb2xsZXJgIC0gYGJvb2xgOiBiaW5kIHRoZSBsb2NhbHMgdG8gdGhlIGNvbnRyb2xsZXIsIGluc3RlYWQgb2YgcGFzc2luZyB0aGVtIGluLlxuICAgICovXG4gIHRoaXMuY29tcGlsZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgdGVtcGxhdGVVcmwgPSBvcHRpb25zLnRlbXBsYXRlVXJsO1xuICAgIHZhciB0ZW1wbGF0ZSA9IG9wdGlvbnMudGVtcGxhdGUgfHwgJyc7XG4gICAgdmFyIGNvbnRyb2xsZXIgPSBvcHRpb25zLmNvbnRyb2xsZXI7XG4gICAgdmFyIGNvbnRyb2xsZXJBcyA9IG9wdGlvbnMuY29udHJvbGxlckFzO1xuICAgIHZhciByZXNvbHZlID0gYW5ndWxhci5leHRlbmQoe30sIG9wdGlvbnMucmVzb2x2ZSB8fCB7fSk7XG4gICAgdmFyIGxvY2FscyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvcHRpb25zLmxvY2FscyB8fCB7fSk7XG4gICAgdmFyIHRyYW5zZm9ybVRlbXBsYXRlID0gb3B0aW9ucy50cmFuc2Zvcm1UZW1wbGF0ZSB8fCBhbmd1bGFyLmlkZW50aXR5O1xuICAgIHZhciBiaW5kVG9Db250cm9sbGVyID0gb3B0aW9ucy5iaW5kVG9Db250cm9sbGVyO1xuXG4gICAgLy8gVGFrZSByZXNvbHZlIHZhbHVlcyBhbmQgaW52b2tlIHRoZW0uXG4gICAgLy8gUmVzb2x2ZXMgY2FuIGVpdGhlciBiZSBhIHN0cmluZyAodmFsdWU6ICdNeVJlZ2lzdGVyZWRBbmd1bGFyQ29uc3QnKSxcbiAgICAvLyBvciBhbiBpbnZva2FibGUgJ2ZhY3RvcnknIG9mIHNvcnRzOiAodmFsdWU6IGZ1bmN0aW9uIFZhbHVlR2V0dGVyKCRkZXBlbmRlbmN5KSB7fSlcbiAgICBhbmd1bGFyLmZvckVhY2gocmVzb2x2ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJlc29sdmVba2V5XSA9ICRpbmplY3Rvci5nZXQodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZVtrZXldID0gJGluamVjdG9yLmludm9rZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy9BZGQgdGhlIGxvY2Fscywgd2hpY2ggYXJlIGp1c3Qgc3RyYWlnaHQgdmFsdWVzIHRvIGluamVjdFxuICAgIC8vZWcgbG9jYWxzOiB7IHRocmVlOiAzIH0sIHdpbGwgaW5qZWN0IHRocmVlIGludG8gdGhlIGNvbnRyb2xsZXJcbiAgICBhbmd1bGFyLmV4dGVuZChyZXNvbHZlLCBsb2NhbHMpO1xuXG4gICAgaWYgKHRlbXBsYXRlVXJsKSB7XG4gICAgICByZXNvbHZlLiR0ZW1wbGF0ZSA9ICRodHRwLmdldCh0ZW1wbGF0ZVVybCwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlLiR0ZW1wbGF0ZSA9ICRxLndoZW4odGVtcGxhdGUpO1xuICAgIH1cblxuICAgIC8vIFdhaXQgZm9yIGFsbCB0aGUgcmVzb2x2ZXMgdG8gZmluaXNoIGlmIHRoZXkgYXJlIHByb21pc2VzXG4gICAgcmV0dXJuICRxLmFsbChyZXNvbHZlKS50aGVuKGZ1bmN0aW9uKGxvY2Fscykge1xuXG4gICAgICB2YXIgY29tcGlsZWREYXRhO1xuICAgICAgdmFyIHRlbXBsYXRlID0gdHJhbnNmb3JtVGVtcGxhdGUobG9jYWxzLiR0ZW1wbGF0ZSwgb3B0aW9ucyk7XG4gICAgICB2YXIgZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudCB8fCBhbmd1bGFyLmVsZW1lbnQoJzxkaXY+JykuaHRtbCh0ZW1wbGF0ZS50cmltKCkpLmNvbnRlbnRzKCk7XG4gICAgICB2YXIgbGlua0ZuID0gJGNvbXBpbGUoZWxlbWVudCk7XG5cbiAgICAgIC8vIFJldHVybiBhIGxpbmtpbmcgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCBsYXRlciB3aGVuIHRoZSBlbGVtZW50IGlzIHJlYWR5XG4gICAgICByZXR1cm4gY29tcGlsZWREYXRhID0ge1xuICAgICAgICBsb2NhbHM6IGxvY2FscyxcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSkge1xuICAgICAgICAgIGxvY2Fscy4kc2NvcGUgPSBzY29wZTtcblxuICAgICAgICAgIC8vSW5zdGFudGlhdGUgY29udHJvbGxlciBpZiBpdCBleGlzdHMsIGJlY2F1c2Ugd2UgaGF2ZSBzY29wZVxuICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICB2YXIgaW52b2tlQ3RybCA9ICRjb250cm9sbGVyKGNvbnRyb2xsZXIsIGxvY2FscywgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoYmluZFRvQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChpbnZva2VDdHJsLmluc3RhbmNlLCBsb2NhbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGN0cmwgPSBpbnZva2VDdHJsKCk7XG4gICAgICAgICAgICAvL1NlZSBhbmd1bGFyLXJvdXRlIHNvdXJjZSBmb3IgdGhpcyBsb2dpY1xuICAgICAgICAgICAgZWxlbWVudC5kYXRhKCckbmdDb250cm9sbGVyQ29udHJvbGxlcicsIGN0cmwpO1xuICAgICAgICAgICAgZWxlbWVudC5jaGlsZHJlbigpLmRhdGEoJyRuZ0NvbnRyb2xsZXJDb250cm9sbGVyJywgY3RybCk7XG5cbiAgICAgICAgICAgIGlmIChjb250cm9sbGVyQXMpIHtcbiAgICAgICAgICAgICAgc2NvcGVbY29udHJvbGxlckFzXSA9IGN0cmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFB1Ymxpc2ggcmVmZXJlbmNlIHRvIHRoaXMgY29udHJvbGxlclxuICAgICAgICAgICAgY29tcGlsZWREYXRhLmNvbnRyb2xsZXIgPSBjdHJsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbGlua0ZuKHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcblxuICB9O1xufVxubWRDb21waWxlclNlcnZpY2UuJGluamVjdCA9IFtcIiRxXCIsIFwiJGh0dHBcIiwgXCIkaW5qZWN0b3JcIiwgXCIkY29tcGlsZVwiLCBcIiRjb250cm9sbGVyXCIsIFwiJHRlbXBsYXRlQ2FjaGVcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgSEFORExFUlMgPSB7fTtcblxuLyogVGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50ICdwb2ludGVyJ1xuICogVGhlIHBvaW50ZXIgcmVwcmVzZW50cyB0aGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgdG91Y2guXG4gKiBJdCBjb250YWlucyBub3JtYWxpemVkIHggYW5kIHkgY29vcmRpbmF0ZXMgZnJvbSBET00gZXZlbnRzLFxuICogYXMgd2VsbCBhcyBvdGhlciBpbmZvcm1hdGlvbiBhYnN0cmFjdGVkIGZyb20gdGhlIERPTS5cbiAqL1xuIFxudmFyIHBvaW50ZXIsIGxhc3RQb2ludGVyLCBmb3JjZVNraXBDbGlja0hpamFjayA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgbW9zdCByZWNlbnQgY2xpY2sgaWYgdGhhdCBjbGljayB3YXMgb24gYSBsYWJlbCBlbGVtZW50LlxuICogQHR5cGUge3t4OiBudW1iZXIsIHk6IG51bWJlcn0/fVxuICovXG52YXIgbGFzdExhYmVsQ2xpY2tQb3MgPSBudWxsO1xuXG4vLyBVc2VkIHRvIGF0dGFjaCBldmVudCBsaXN0ZW5lcnMgb25jZSB3aGVuIG11bHRpcGxlIG5nLWFwcHMgYXJlIHJ1bm5pbmcuXG52YXIgaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ21hdGVyaWFsLmNvcmUuZ2VzdHVyZXMnLCBbIF0pXG4gIC5wcm92aWRlcignJG1kR2VzdHVyZScsIE1kR2VzdHVyZVByb3ZpZGVyKVxuICAuZmFjdG9yeSgnJCRNZEdlc3R1cmVIYW5kbGVyJywgTWRHZXN0dXJlSGFuZGxlcilcbiAgLnJ1biggYXR0YWNoVG9Eb2N1bWVudCApO1xuXG4vKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kR2VzdHVyZVByb3ZpZGVyXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZS5nZXN0dXJlc1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW4gc29tZSBzY2VuYXJpb3Mgb24gTW9iaWxlIGRldmljZXMgKHdpdGhvdXQgalF1ZXJ5KSwgdGhlIGNsaWNrIGV2ZW50cyBzaG91bGQgTk9UIGJlIGhpamFja2VkLlxuICAgKiBgJG1kR2VzdHVyZVByb3ZpZGVyYCBpcyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUgR2VzdHVyZSBtb2R1bGUgdG8gaWdub3JlIG9yIHNraXAgY2xpY2sgaGlqYWNraW5nIG9uIG1vYmlsZVxuICAgKiBkZXZpY2VzLlxuICAgKlxuICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICogICBhcHAuY29uZmlnKGZ1bmN0aW9uKCRtZEdlc3R1cmVQcm92aWRlcikge1xuICAgKlxuICAgKiAgICAgLy8gRm9yIG1vYmlsZSBkZXZpY2VzIHdpdGhvdXQgalF1ZXJ5IGxvYWRlZCwgZG8gbm90XG4gICAqICAgICAvLyBpbnRlcmNlcHQgY2xpY2sgZXZlbnRzIGR1cmluZyB0aGUgY2FwdHVyZSBwaGFzZS5cbiAgICogICAgICRtZEdlc3R1cmVQcm92aWRlci5za2lwQ2xpY2tIaWphY2soKTtcbiAgICpcbiAgICogICB9KTtcbiAgICogPC9obGpzPlxuICAgKlxuICAgKi9cbmZ1bmN0aW9uIE1kR2VzdHVyZVByb3ZpZGVyKCkgeyB9XG5cbk1kR2VzdHVyZVByb3ZpZGVyLnByb3RvdHlwZSA9IHtcblxuICAvLyBQdWJsaXNoIGFjY2VzcyB0byBzZXR0ZXIgdG8gY29uZmlndXJlIGEgdmFyaWFibGUgIEJFRk9SRSB0aGVcbiAgLy8gJG1kR2VzdHVyZSBzZXJ2aWNlIGlzIGluc3RhbnRpYXRlZC4uLlxuICBza2lwQ2xpY2tIaWphY2s6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmb3JjZVNraXBDbGlja0hpamFjayA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqICRnZXQgaXMgdXNlZCB0byBidWlsZCBhbiBpbnN0YW5jZSBvZiAkbWRHZXN0dXJlXG4gICAqIEBuZ0luamVjdFxuICAgKi9cbiAgJGdldCA6IFtcIiQkTWRHZXN0dXJlSGFuZGxlclwiLCBcIiQkckFGXCIsIFwiJHRpbWVvdXRcIiwgZnVuY3Rpb24oJCRNZEdlc3R1cmVIYW5kbGVyLCAkJHJBRiwgJHRpbWVvdXQpIHtcbiAgICAgICByZXR1cm4gbmV3IE1kR2VzdHVyZSgkJE1kR2VzdHVyZUhhbmRsZXIsICQkckFGLCAkdGltZW91dCk7XG4gIH1dXG59O1xuXG5cblxuLyoqXG4gKiBNZEdlc3R1cmUgZmFjdG9yeSBjb25zdHJ1Y3Rpb24gZnVuY3Rpb25cbiAqIEBuZ0luamVjdFxuICovXG5mdW5jdGlvbiBNZEdlc3R1cmUoJCRNZEdlc3R1cmVIYW5kbGVyLCAkJHJBRiwgJHRpbWVvdXQpIHtcbiAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmE7XG4gIHZhciBpc0lvcyA9IHVzZXJBZ2VudC5tYXRjaCgvaXBhZHxpcGhvbmV8aXBvZC9pKTtcbiAgdmFyIGlzQW5kcm9pZCA9IHVzZXJBZ2VudC5tYXRjaCgvYW5kcm9pZC9pKTtcbiAgdmFyIGhhc0pRdWVyeSA9ICAodHlwZW9mIHdpbmRvdy5qUXVlcnkgIT09ICd1bmRlZmluZWQnKSAmJiAoYW5ndWxhci5lbGVtZW50ID09PSB3aW5kb3cualF1ZXJ5KTtcblxuICB2YXIgc2VsZiA9IHtcbiAgICBoYW5kbGVyOiBhZGRIYW5kbGVyLFxuICAgIHJlZ2lzdGVyOiByZWdpc3RlcixcbiAgICAvLyBPbiBtb2JpbGUgdy9vdXQgalF1ZXJ5LCB3ZSBub3JtYWxseSBpbnRlcmNlcHQgY2xpY2tzLiBTaG91bGQgd2Ugc2tpcCB0aGF0P1xuICAgIGlzSGlqYWNraW5nQ2xpY2tzOiAoaXNJb3MgfHwgaXNBbmRyb2lkKSAmJiAhaGFzSlF1ZXJ5ICYmICFmb3JjZVNraXBDbGlja0hpamFja1xuICB9O1xuXG4gIGlmIChzZWxmLmlzSGlqYWNraW5nQ2xpY2tzKSB7XG4gICAgdmFyIG1heENsaWNrRGlzdGFuY2UgPSA2O1xuICAgIHNlbGYuaGFuZGxlcignY2xpY2snLCB7XG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIG1heERpc3RhbmNlOiBtYXhDbGlja0Rpc3RhbmNlXG4gICAgICB9LFxuICAgICAgb25FbmQ6IGNoZWNrRGlzdGFuY2VBbmRFbWl0KCdjbGljaycpXG4gICAgfSk7XG5cbiAgICBzZWxmLmhhbmRsZXIoJ2ZvY3VzJywge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICBtYXhEaXN0YW5jZTogbWF4Q2xpY2tEaXN0YW5jZVxuICAgICAgfSxcbiAgICAgIG9uRW5kOiBmdW5jdGlvbihldiwgcG9pbnRlcikge1xuICAgICAgICBpZiAocG9pbnRlci5kaXN0YW5jZSA8IHRoaXMuc3RhdGUub3B0aW9ucy5tYXhEaXN0YW5jZSkge1xuICAgICAgICAgIGlmIChjYW5Gb2N1cyhldi50YXJnZXQpKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICdmb2N1cycsIHBvaW50ZXIpO1xuICAgICAgICAgICAgZXYudGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2FuRm9jdXMoZWxlbWVudCkge1xuICAgICAgICAgIHZhciBmb2N1c2FibGVFbGVtZW50cyA9IFsnSU5QVVQnLCAnU0VMRUNUJywgJ0JVVFRPTicsICdURVhUQVJFQScsICdWSURFTycsICdBVURJTyddO1xuXG4gICAgICAgICAgcmV0dXJuIChlbGVtZW50LmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSAhPSAnLTEnKSAmJlxuICAgICAgICAgICAgICAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ0RJU0FCTEVEJykgJiZcbiAgICAgICAgICAgICAgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpIHx8IGVsZW1lbnQuaGFzQXR0cmlidXRlKCdocmVmJykgfHxcbiAgICAgICAgICAgICAgKGZvY3VzYWJsZUVsZW1lbnRzLmluZGV4T2YoZWxlbWVudC5ub2RlTmFtZSkgIT0gLTEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2VsZi5oYW5kbGVyKCdtb3VzZXVwJywge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICBtYXhEaXN0YW5jZTogbWF4Q2xpY2tEaXN0YW5jZVxuICAgICAgfSxcbiAgICAgIG9uRW5kOiBjaGVja0Rpc3RhbmNlQW5kRW1pdCgnbW91c2V1cCcpXG4gICAgfSk7XG5cbiAgICBzZWxmLmhhbmRsZXIoJ21vdXNlZG93bicsIHtcbiAgICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldiwgJ21vdXNlZG93bicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tEaXN0YW5jZUFuZEVtaXQoZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICBpZiAocG9pbnRlci5kaXN0YW5jZSA8IHRoaXMuc3RhdGUub3B0aW9ucy5tYXhEaXN0YW5jZSkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsIGV2ZW50TmFtZSwgcG9pbnRlcik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qXG4gICAqIFJlZ2lzdGVyIGFuIGVsZW1lbnQgdG8gbGlzdGVuIGZvciBhIGhhbmRsZXIuXG4gICAqIFRoaXMgYWxsb3dzIGFuIGVsZW1lbnQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyBmb3IgYSBoYW5kbGVyLlxuICAgKiBBZGRpdGlvbmFsbHksIHNvbWUgaGFuZGxlcnMgbGlrZSBkcmFnIGFuZCBob2xkIG9ubHkgZGlzcGF0Y2ggZXZlbnRzIGlmXG4gICAqIHRoZSBkb21FdmVudCBoYXBwZW5zIGluc2lkZSBhbiBlbGVtZW50IHRoYXQncyByZWdpc3RlcmVkIHRvIGxpc3RlbiBmb3IgdGhlc2UgZXZlbnRzLlxuICAgKlxuICAgKiBAc2VlIEdlc3R1cmVIYW5kbGVyIGZvciBob3cgb3ZlcnJpZGluZyBvZiBkZWZhdWx0IG9wdGlvbnMgd29ya3MuXG4gICAqIEBleGFtcGxlICRtZEdlc3R1cmUucmVnaXN0ZXIobXlFbGVtZW50LCAnZHJhZycsIHsgbWluRGlzdGFuY2U6IDIwLCBob3J6aW9udGFsOiBmYWxzZSB9KVxuICAgKi9cbiAgZnVuY3Rpb24gcmVnaXN0ZXIoZWxlbWVudCwgaGFuZGxlck5hbWUsIG9wdGlvbnMpIHtcbiAgICB2YXIgaGFuZGxlciA9IEhBTkRMRVJTW2hhbmRsZXJOYW1lLnJlcGxhY2UoL15cXCRtZC4vLCAnJyldO1xuICAgIGlmICghaGFuZGxlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gcmVnaXN0ZXIgZWxlbWVudCB3aXRoIGhhbmRsZXIgJyArIGhhbmRsZXJOYW1lICsgJy4gJyArXG4gICAgICAnQXZhaWxhYmxlIGhhbmRsZXJzOiAnICsgT2JqZWN0LmtleXMoSEFORExFUlMpLmpvaW4oJywgJykpO1xuICAgIH1cbiAgICByZXR1cm4gaGFuZGxlci5yZWdpc3RlckVsZW1lbnQoZWxlbWVudCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKlxuICAgKiBhZGQgYSBoYW5kbGVyIHRvICRtZEdlc3R1cmUuIHNlZSBiZWxvdy5cbiAgICovXG4gIGZ1bmN0aW9uIGFkZEhhbmRsZXIobmFtZSwgZGVmaW5pdGlvbikge1xuICAgIHZhciBoYW5kbGVyID0gbmV3ICQkTWRHZXN0dXJlSGFuZGxlcihuYW1lKTtcbiAgICBhbmd1bGFyLmV4dGVuZChoYW5kbGVyLCBkZWZpbml0aW9uKTtcbiAgICBIQU5ETEVSU1tuYW1lXSA9IGhhbmRsZXI7XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuXG4gIC8qXG4gICAqIFJlZ2lzdGVyIGhhbmRsZXJzLiBUaGVzZSBsaXN0ZW4gdG8gdG91Y2gvc3RhcnQvbW92ZSBldmVudHMsIGludGVycHJldCB0aGVtLFxuICAgKiBhbmQgZGlzcGF0Y2ggZ2VzdHVyZSBldmVudHMgZGVwZW5kaW5nIG9uIG9wdGlvbnMgJiBjb25kaXRpb25zLiBUaGVzZSBhcmUgYWxsXG4gICAqIGluc3RhbmNlcyBvZiBHZXN0dXJlSGFuZGxlci5cbiAgICogQHNlZSBHZXN0dXJlSGFuZGxlciBcbiAgICovXG4gIHJldHVybiBzZWxmXG4gICAgLypcbiAgICAgKiBUaGUgcHJlc3MgaGFuZGxlciBkaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRvdWNoZG93bi90b3VjaGVuZC5cbiAgICAgKiBJdCdzIGEgc2ltcGxlIGFic3RyYWN0aW9uIG9mIHRvdWNoL21vdXNlL3BvaW50ZXIgc3RhcnQgYW5kIGVuZC5cbiAgICAgKi9cbiAgICAuaGFuZGxlcigncHJlc3MnLCB7XG4gICAgICBvblN0YXJ0OiBmdW5jdGlvbiAoZXYsIHBvaW50ZXIpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCAnJG1kLnByZXNzZG93bicpO1xuICAgICAgfSxcbiAgICAgIG9uRW5kOiBmdW5jdGlvbiAoZXYsIHBvaW50ZXIpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCAnJG1kLnByZXNzdXAnKTtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLypcbiAgICAgKiBUaGUgaG9sZCBoYW5kbGVyIGRpc3BhdGNoZXMgYW4gZXZlbnQgaWYgdGhlIHVzZXIga2VlcHMgdGhlaXIgZmluZ2VyIHdpdGhpblxuICAgICAqIHRoZSBzYW1lIDxtYXhEaXN0YW5jZT4gYXJlYSBmb3IgPGRlbGF5PiBtcy5cbiAgICAgKiBUaGUgaG9sZCBoYW5kbGVyIHdpbGwgb25seSBydW4gaWYgYSBwYXJlbnQgb2YgdGhlIHRvdWNoIHRhcmdldCBpcyByZWdpc3RlcmVkXG4gICAgICogdG8gbGlzdGVuIGZvciBob2xkIGV2ZW50cyB0aHJvdWdoICRtZEdlc3R1cmUucmVnaXN0ZXIoKVxuICAgICAqL1xuICAgIC5oYW5kbGVyKCdob2xkJywge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICBtYXhEaXN0YW5jZTogNixcbiAgICAgICAgZGVsYXk6IDUwMFxuICAgICAgfSxcbiAgICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aGlzLnN0YXRlLnRpbWVvdXQpO1xuICAgICAgfSxcbiAgICAgIG9uU3RhcnQ6IGZ1bmN0aW9uIChldiwgcG9pbnRlcikge1xuICAgICAgICAvLyBGb3IgaG9sZCwgcmVxdWlyZSBhIHBhcmVudCB0byBiZSByZWdpc3RlcmVkIHdpdGggJG1kR2VzdHVyZS5yZWdpc3RlcigpXG4gICAgICAgIC8vIEJlY2F1c2Ugd2UgcHJldmVudCBzY3JvbGwgZXZlbnRzLCB0aGlzIGlzIG5lY2Vzc2FyeS5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnJlZ2lzdGVyZWRQYXJlbnQpIHJldHVybiB0aGlzLmNhbmNlbCgpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUucG9zID0ge3g6IHBvaW50ZXIueCwgeTogcG9pbnRlci55fTtcbiAgICAgICAgdGhpcy5zdGF0ZS50aW1lb3V0ID0gJHRpbWVvdXQoYW5ndWxhci5iaW5kKHRoaXMsIGZ1bmN0aW9uIGhvbGREZWxheUZuKCkge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldiwgJyRtZC5ob2xkJyk7XG4gICAgICAgICAgdGhpcy5jYW5jZWwoKTsgLy93ZSdyZSBkb25lIVxuICAgICAgICB9KSwgdGhpcy5zdGF0ZS5vcHRpb25zLmRlbGF5LCBmYWxzZSk7XG4gICAgICB9LFxuICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAoZXYsIHBvaW50ZXIpIHtcbiAgICAgICAgLy8gRG9uJ3Qgc2Nyb2xsIHdoaWxlIHdhaXRpbmcgZm9yIGhvbGQuXG4gICAgICAgIC8vIElmIHdlIGRvbid0IHByZXZlbnREZWZhdWx0IHRvdWNobW92ZSBldmVudHMgaGVyZSwgQW5kcm9pZCB3aWxsIGFzc3VtZSB3ZSBkb24ndFxuICAgICAgICAvLyB3YW50IHRvIGxpc3RlbiB0byBhbnltb3JlIHRvdWNoIGV2ZW50cy4gSXQgd2lsbCBzdGFydCBzY3JvbGxpbmcgYW5kIHN0b3Agc2VuZGluZ1xuICAgICAgICAvLyB0b3VjaG1vdmUgZXZlbnRzLlxuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIC8vIElmIHRoZSB1c2VyIG1vdmVzIGdyZWF0ZXIgdGhhbiA8bWF4RGlzdGFuY2U+IHBpeGVscywgc3RvcCB0aGUgaG9sZCB0aW1lclxuICAgICAgICAvLyBzZXQgaW4gb25TdGFydFxuICAgICAgICB2YXIgZHggPSB0aGlzLnN0YXRlLnBvcy54IC0gcG9pbnRlci54O1xuICAgICAgICB2YXIgZHkgPSB0aGlzLnN0YXRlLnBvcy55IC0gcG9pbnRlci55O1xuICAgICAgICBpZiAoTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSA+IHRoaXMub3B0aW9ucy5tYXhEaXN0YW5jZSkge1xuICAgICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm9uQ2FuY2VsKCk7XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8qXG4gICAgICogVGhlIGRyYWcgaGFuZGxlciBkaXNwYXRjaGVzIGEgZHJhZyBldmVudCBpZiB0aGUgdXNlciBob2xkcyBhbmQgbW92ZXMgaGlzIGZpbmdlciBncmVhdGVyIHRoYW5cbiAgICAgKiA8bWluRGlzdGFuY2U+IHB4IGluIHRoZSB4IG9yIHkgZGlyZWN0aW9uLCBkZXBlbmRpbmcgb24gb3B0aW9ucy5ob3Jpem9udGFsLlxuICAgICAqIFRoZSBkcmFnIHdpbGwgYmUgY2FuY2VsbGVkIGlmIHRoZSB1c2VyIG1vdmVzIGhpcyBmaW5nZXIgZ3JlYXRlciB0aGFuIDxtaW5EaXN0YW5jZT4qPGNhbmNlbE11bHRpcGxpZXI+IGluXG4gICAgICogdGhlIHBlcnBpbmRpY3VsYXIgZGlyZWN0aW9uLiBFZyBpZiB0aGUgZHJhZyBpcyBob3Jpem9udGFsIGFuZCB0aGUgdXNlciBtb3ZlcyBoaXMgZmluZ2VyIDxtaW5EaXN0YW5jZT4qPGNhbmNlbE11bHRpcGxpZXI+XG4gICAgICogcGl4ZWxzIHZlcnRpY2FsbHksIHRoaXMgaGFuZGxlciB3b24ndCBjb25zaWRlciB0aGUgbW92ZSBwYXJ0IG9mIGEgZHJhZy5cbiAgICAgKi9cbiAgICAuaGFuZGxlcignZHJhZycsIHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgbWluRGlzdGFuY2U6IDYsXG4gICAgICAgIGhvcml6b250YWw6IHRydWUsXG4gICAgICAgIGNhbmNlbE11bHRpcGxpZXI6IDEuNVxuICAgICAgfSxcbiAgICAgIG9uU3RhcnQ6IGZ1bmN0aW9uIChldikge1xuICAgICAgICAvLyBGb3IgZHJhZywgcmVxdWlyZSBhIHBhcmVudCB0byBiZSByZWdpc3RlcmVkIHdpdGggJG1kR2VzdHVyZS5yZWdpc3RlcigpXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5yZWdpc3RlcmVkUGFyZW50KSB0aGlzLmNhbmNlbCgpO1xuICAgICAgfSxcbiAgICAgIG9uTW92ZTogZnVuY3Rpb24gKGV2LCBwb2ludGVyKSB7XG4gICAgICAgIHZhciBzaG91bGRTdGFydERyYWcsIHNob3VsZENhbmNlbDtcbiAgICAgICAgLy8gRG9uJ3Qgc2Nyb2xsIHdoaWxlIGRlY2lkaW5nIGlmIHRoaXMgdG91Y2htb3ZlIHF1YWxpZmllcyBhcyBhIGRyYWcgZXZlbnQuXG4gICAgICAgIC8vIElmIHdlIGRvbid0IHByZXZlbnREZWZhdWx0IHRvdWNobW92ZSBldmVudHMgaGVyZSwgQW5kcm9pZCB3aWxsIGFzc3VtZSB3ZSBkb24ndFxuICAgICAgICAvLyB3YW50IHRvIGxpc3RlbiB0byBhbnltb3JlIHRvdWNoIGV2ZW50cy4gSXQgd2lsbCBzdGFydCBzY3JvbGxpbmcgYW5kIHN0b3Agc2VuZGluZ1xuICAgICAgICAvLyB0b3VjaG1vdmUgZXZlbnRzLlxuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcikge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXRlLm9wdGlvbnMuaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgc2hvdWxkU3RhcnREcmFnID0gTWF0aC5hYnMocG9pbnRlci5kaXN0YW5jZVgpID4gdGhpcy5zdGF0ZS5vcHRpb25zLm1pbkRpc3RhbmNlO1xuICAgICAgICAgICAgc2hvdWxkQ2FuY2VsID0gTWF0aC5hYnMocG9pbnRlci5kaXN0YW5jZVkpID4gdGhpcy5zdGF0ZS5vcHRpb25zLm1pbkRpc3RhbmNlICogdGhpcy5zdGF0ZS5vcHRpb25zLmNhbmNlbE11bHRpcGxpZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNob3VsZFN0YXJ0RHJhZyA9IE1hdGguYWJzKHBvaW50ZXIuZGlzdGFuY2VZKSA+IHRoaXMuc3RhdGUub3B0aW9ucy5taW5EaXN0YW5jZTtcbiAgICAgICAgICAgIHNob3VsZENhbmNlbCA9IE1hdGguYWJzKHBvaW50ZXIuZGlzdGFuY2VYKSA+IHRoaXMuc3RhdGUub3B0aW9ucy5taW5EaXN0YW5jZSAqIHRoaXMuc3RhdGUub3B0aW9ucy5jYW5jZWxNdWx0aXBsaWVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzaG91bGRTdGFydERyYWcpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwb2ludGVyIHJlcHJlc2VudGluZyB0aGlzIGRyYWcsIHN0YXJ0aW5nIGF0IHRoaXMgcG9pbnQgd2hlcmUgdGhlIGRyYWcgc3RhcnRlZC5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIgPSBtYWtlU3RhcnRQb2ludGVyKGV2KTtcbiAgICAgICAgICAgIHVwZGF0ZVBvaW50ZXJTdGF0ZShldiwgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcik7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICckbWQuZHJhZ3N0YXJ0JywgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcik7XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKHNob3VsZENhbmNlbCkge1xuICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaERyYWdNb3ZlKGV2KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIE9ubHkgZGlzcGF0Y2ggZHJhZ21vdmUgZXZlbnRzIGV2ZXJ5IGZyYW1lOyBhbnkgbW9yZSBpcyB1bm5lY2Vzc3JheVxuICAgICAgZGlzcGF0Y2hEcmFnTW92ZTogJCRyQUYudGhyb3R0bGUoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgZHJhZyBkaWRuJ3Qgc3RvcCB3aGlsZSB3YWl0aW5nIGZvciB0aGUgbmV4dCBmcmFtZVxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc1J1bm5pbmcpIHtcbiAgICAgICAgICB1cGRhdGVQb2ludGVyU3RhdGUoZXYsIHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIpO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldiwgJyRtZC5kcmFnJywgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcik7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgb25FbmQ6IGZ1bmN0aW9uIChldiwgcG9pbnRlcikge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5kcmFnUG9pbnRlcikge1xuICAgICAgICAgIHVwZGF0ZVBvaW50ZXJTdGF0ZShldiwgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcik7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCAnJG1kLmRyYWdlbmQnLCB0aGlzLnN0YXRlLmRyYWdQb2ludGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvKlxuICAgICAqIFRoZSBzd2lwZSBoYW5kbGVyIHdpbGwgZGlzcGF0Y2ggYSBzd2lwZSBldmVudCBpZiwgb24gdGhlIGVuZCBvZiBhIHRvdWNoLFxuICAgICAqIHRoZSB2ZWxvY2l0eSBhbmQgZGlzdGFuY2Ugd2VyZSBoaWdoIGVub3VnaC5cbiAgICAgKi9cbiAgICAuaGFuZGxlcignc3dpcGUnLCB7XG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIG1pblZlbG9jaXR5OiAwLjY1LFxuICAgICAgICBtaW5EaXN0YW5jZTogMTBcbiAgICAgIH0sXG4gICAgICBvbkVuZDogZnVuY3Rpb24gKGV2LCBwb2ludGVyKSB7XG4gICAgICAgIHZhciBldmVudFR5cGU7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHBvaW50ZXIudmVsb2NpdHlYKSA+IHRoaXMuc3RhdGUub3B0aW9ucy5taW5WZWxvY2l0eSAmJlxuICAgICAgICAgIE1hdGguYWJzKHBvaW50ZXIuZGlzdGFuY2VYKSA+IHRoaXMuc3RhdGUub3B0aW9ucy5taW5EaXN0YW5jZSkge1xuICAgICAgICAgIGV2ZW50VHlwZSA9IHBvaW50ZXIuZGlyZWN0aW9uWCA9PSAnbGVmdCcgPyAnJG1kLnN3aXBlbGVmdCcgOiAnJG1kLnN3aXBlcmlnaHQnO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldiwgZXZlbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhwb2ludGVyLnZlbG9jaXR5WSkgPiB0aGlzLnN0YXRlLm9wdGlvbnMubWluVmVsb2NpdHkgJiZcbiAgICAgICAgICBNYXRoLmFicyhwb2ludGVyLmRpc3RhbmNlWSkgPiB0aGlzLnN0YXRlLm9wdGlvbnMubWluRGlzdGFuY2UpIHtcbiAgICAgICAgICBldmVudFR5cGUgPSBwb2ludGVyLmRpcmVjdGlvblkgPT0gJ3VwJyA/ICckbWQuc3dpcGV1cCcgOiAnJG1kLnN3aXBlZG93bic7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCBldmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbn1cbk1kR2VzdHVyZS4kaW5qZWN0ID0gW1wiJCRNZEdlc3R1cmVIYW5kbGVyXCIsIFwiJCRyQUZcIiwgXCIkdGltZW91dFwiXTtcblxuLyoqXG4gKiBNZEdlc3R1cmVIYW5kbGVyXG4gKiBBIEdlc3R1cmVIYW5kbGVyIGlzIGFuIG9iamVjdCB3aGljaCBpcyBhYmxlIHRvIGRpc3BhdGNoIGN1c3RvbSBkb20gZXZlbnRzXG4gKiBiYXNlZCBvbiBuYXRpdmUgZG9tIHt0b3VjaCxwb2ludGVyLG1vdXNlfXtzdGFydCxtb3ZlLGVuZH0gZXZlbnRzLlxuICpcbiAqIEEgZ2VzdHVyZSB3aWxsIG1hbmFnZSBpdHMgbGlmZWN5Y2xlIHRocm91Z2ggdGhlIHN0YXJ0LG1vdmUsZW5kLCBhbmQgY2FuY2VsXG4gKiBmdW5jdGlvbnMsIHdoaWNoIGFyZSBjYWxsZWQgYnkgbmF0aXZlIGRvbSBldmVudHMuXG4gKlxuICogQSBnZXN0dXJlIGhhcyB0aGUgY29uY2VwdCBvZiAnb3B0aW9ucycgKGVnIGEgc3dpcGUncyByZXF1aXJlZCB2ZWxvY2l0eSksIHdoaWNoIGNhbiBiZVxuICogb3ZlcnJpZGRlbiBieSBlbGVtZW50cyByZWdpc3RlcmluZyB0aHJvdWdoICRtZEdlc3R1cmUucmVnaXN0ZXIoKVxuICovXG5mdW5jdGlvbiBHZXN0dXJlSGFuZGxlciAobmFtZSkge1xuICB0aGlzLm5hbWUgPSBuYW1lO1xuICB0aGlzLnN0YXRlID0ge307XG59XG5cbmZ1bmN0aW9uIE1kR2VzdHVyZUhhbmRsZXIoKSB7XG4gIHZhciBoYXNKUXVlcnkgPSAgKHR5cGVvZiB3aW5kb3cualF1ZXJ5ICE9PSAndW5kZWZpbmVkJykgJiYgKGFuZ3VsYXIuZWxlbWVudCA9PT0gd2luZG93LmpRdWVyeSk7XG5cbiAgR2VzdHVyZUhhbmRsZXIucHJvdG90eXBlID0ge1xuICAgIG9wdGlvbnM6IHt9LFxuICAgIC8vIGpRdWVyeSBsaXN0ZW5lcnMgZG9uJ3Qgd29yayB3aXRoIGN1c3RvbSBET01FdmVudHMsIHNvIHdlIGhhdmUgdG8gZGlzcGF0Y2ggZXZlbnRzXG4gICAgLy8gZGlmZmVyZW50bHkgd2hlbiBqUXVlcnkgaXMgbG9hZGVkXG4gICAgZGlzcGF0Y2hFdmVudDogaGFzSlF1ZXJ5ID8gIGpRdWVyeURpc3BhdGNoRXZlbnQgOiBuYXRpdmVEaXNwYXRjaEV2ZW50LFxuXG4gICAgLy8gVGhlc2UgYXJlIG92ZXJyaWRkZW4gYnkgdGhlIHJlZ2lzdGVyZWQgaGFuZGxlclxuICAgIG9uU3RhcnQ6IGFuZ3VsYXIubm9vcCxcbiAgICBvbk1vdmU6IGFuZ3VsYXIubm9vcCxcbiAgICBvbkVuZDogYW5ndWxhci5ub29wLFxuICAgIG9uQ2FuY2VsOiBhbmd1bGFyLm5vb3AsXG5cbiAgICAvLyBvblN0YXJ0IHNldHMgdXAgYSBuZXcgc3RhdGUgZm9yIHRoZSBoYW5kbGVyLCB3aGljaCBpbmNsdWRlcyBvcHRpb25zIGZyb20gdGhlXG4gICAgLy8gbmVhcmVzdCByZWdpc3RlcmVkIHBhcmVudCBlbGVtZW50IG9mIGV2LnRhcmdldC5cbiAgICBzdGFydDogZnVuY3Rpb24gKGV2LCBwb2ludGVyKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc1J1bm5pbmcpIHJldHVybjtcbiAgICAgIHZhciBwYXJlbnRUYXJnZXQgPSB0aGlzLmdldE5lYXJlc3RQYXJlbnQoZXYudGFyZ2V0KTtcbiAgICAgIC8vIEdldCB0aGUgb3B0aW9ucyBmcm9tIHRoZSBuZWFyZXN0IHJlZ2lzdGVyZWQgcGFyZW50XG4gICAgICB2YXIgcGFyZW50VGFyZ2V0T3B0aW9ucyA9IHBhcmVudFRhcmdldCAmJiBwYXJlbnRUYXJnZXQuJG1kR2VzdHVyZVt0aGlzLm5hbWVdIHx8IHt9O1xuXG4gICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICBpc1J1bm5pbmc6IHRydWUsXG4gICAgICAgIC8vIE92ZXJyaWRlIHRoZSBkZWZhdWx0IG9wdGlvbnMgd2l0aCB0aGUgbmVhcmVzdCByZWdpc3RlcmVkIHBhcmVudCdzIG9wdGlvbnNcbiAgICAgICAgb3B0aW9uczogYW5ndWxhci5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgcGFyZW50VGFyZ2V0T3B0aW9ucyksXG4gICAgICAgIC8vIFBhc3MgaW4gdGhlIHJlZ2lzdGVyZWQgcGFyZW50IG5vZGUgdG8gdGhlIHN0YXRlIHNvIHRoZSBvblN0YXJ0IGxpc3RlbmVyIGNhbiB1c2VcbiAgICAgICAgcmVnaXN0ZXJlZFBhcmVudDogcGFyZW50VGFyZ2V0XG4gICAgICB9O1xuICAgICAgdGhpcy5vblN0YXJ0KGV2LCBwb2ludGVyKTtcbiAgICB9LFxuICAgIG1vdmU6IGZ1bmN0aW9uIChldiwgcG9pbnRlcikge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzUnVubmluZykgcmV0dXJuO1xuICAgICAgdGhpcy5vbk1vdmUoZXYsIHBvaW50ZXIpO1xuICAgIH0sXG4gICAgZW5kOiBmdW5jdGlvbiAoZXYsIHBvaW50ZXIpIHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5pc1J1bm5pbmcpIHJldHVybjtcbiAgICAgIHRoaXMub25FbmQoZXYsIHBvaW50ZXIpO1xuICAgICAgdGhpcy5zdGF0ZS5pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICB9LFxuICAgIGNhbmNlbDogZnVuY3Rpb24gKGV2LCBwb2ludGVyKSB7XG4gICAgICB0aGlzLm9uQ2FuY2VsKGV2LCBwb2ludGVyKTtcbiAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB9LFxuXG4gICAgLy8gRmluZCBhbmQgcmV0dXJuIHRoZSBuZWFyZXN0IHBhcmVudCBlbGVtZW50IHRoYXQgaGFzIGJlZW4gcmVnaXN0ZXJlZCB0b1xuICAgIC8vIGxpc3RlbiBmb3IgdGhpcyBoYW5kbGVyIHZpYSAkbWRHZXN0dXJlLnJlZ2lzdGVyKGVsZW1lbnQsICdoYW5kbGVyTmFtZScpLlxuICAgIGdldE5lYXJlc3RQYXJlbnQ6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgY3VycmVudCA9IG5vZGU7XG4gICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICBpZiAoKGN1cnJlbnQuJG1kR2VzdHVyZSB8fCB7fSlbdGhpcy5uYW1lXSkge1xuICAgICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLy8gQ2FsbGVkIGZyb20gJG1kR2VzdHVyZS5yZWdpc3RlciB3aGVuIGFuIGVsZW1lbnQgcmVpZ3N0ZXJzIGl0c2VsZiB3aXRoIGEgaGFuZGxlci5cbiAgICAvLyBTdG9yZSB0aGUgb3B0aW9ucyB0aGUgdXNlciBnYXZlIG9uIHRoZSBET01FbGVtZW50IGl0c2VsZi4gVGhlc2Ugb3B0aW9ucyB3aWxsXG4gICAgLy8gYmUgcmV0cmlldmVkIHdpdGggZ2V0TmVhcmVzdFBhcmVudCB3aGVuIHRoZSBoYW5kbGVyIHN0YXJ0cy5cbiAgICByZWdpc3RlckVsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBlbGVtZW50WzBdLiRtZEdlc3R1cmUgPSBlbGVtZW50WzBdLiRtZEdlc3R1cmUgfHwge307XG4gICAgICBlbGVtZW50WzBdLiRtZEdlc3R1cmVbdGhpcy5uYW1lXSA9IG9wdGlvbnMgfHwge307XG4gICAgICBlbGVtZW50Lm9uKCckZGVzdHJveScsIG9uRGVzdHJveSk7XG5cbiAgICAgIHJldHVybiBvbkRlc3Ryb3k7XG5cbiAgICAgIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICAgICAgZGVsZXRlIGVsZW1lbnRbMF0uJG1kR2VzdHVyZVtzZWxmLm5hbWVdO1xuICAgICAgICBlbGVtZW50Lm9mZignJGRlc3Ryb3knLCBvbkRlc3Ryb3kpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gR2VzdHVyZUhhbmRsZXI7XG5cbiAgLypcbiAgICogRGlzcGF0Y2ggYW4gZXZlbnQgd2l0aCBqUXVlcnlcbiAgICogVE9ETzogTWFrZSBzdXJlIHRoaXMgc2VuZHMgYnViYmxpbmcgZXZlbnRzXG4gICAqXG4gICAqIEBwYXJhbSBzcmNFdmVudCB0aGUgb3JpZ2luYWwgRE9NIHRvdWNoIGV2ZW50IHRoYXQgc3RhcnRlZCB0aGlzLlxuICAgKiBAcGFyYW0gZXZlbnRUeXBlIHRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZXZlbnQgdG8gc2VuZCAoZWcgJ2NsaWNrJyBvciAnJG1kLmRyYWcnKVxuICAgKiBAcGFyYW0gZXZlbnRQb2ludGVyIHRoZSBwb2ludGVyIG9iamVjdCB0aGF0IG1hdGNoZXMgdGhpcyBldmVudC5cbiAgICovXG4gIGZ1bmN0aW9uIGpRdWVyeURpc3BhdGNoRXZlbnQoc3JjRXZlbnQsIGV2ZW50VHlwZSwgZXZlbnRQb2ludGVyKSB7XG4gICAgZXZlbnRQb2ludGVyID0gZXZlbnRQb2ludGVyIHx8IHBvaW50ZXI7XG4gICAgdmFyIGV2ZW50T2JqID0gbmV3IGFuZ3VsYXIuZWxlbWVudC5FdmVudChldmVudFR5cGUpO1xuXG4gICAgZXZlbnRPYmouJG1hdGVyaWFsID0gdHJ1ZTtcbiAgICBldmVudE9iai5wb2ludGVyID0gZXZlbnRQb2ludGVyO1xuICAgIGV2ZW50T2JqLnNyY0V2ZW50ID0gc3JjRXZlbnQ7XG5cbiAgICBhbmd1bGFyLmV4dGVuZChldmVudE9iaiwge1xuICAgICAgY2xpZW50WDogZXZlbnRQb2ludGVyLngsXG4gICAgICBjbGllbnRZOiBldmVudFBvaW50ZXIueSxcbiAgICAgIHNjcmVlblg6IGV2ZW50UG9pbnRlci54LFxuICAgICAgc2NyZWVuWTogZXZlbnRQb2ludGVyLnksXG4gICAgICBwYWdlWDogZXZlbnRQb2ludGVyLngsXG4gICAgICBwYWdlWTogZXZlbnRQb2ludGVyLnksXG4gICAgICBjdHJsS2V5OiBzcmNFdmVudC5jdHJsS2V5LFxuICAgICAgYWx0S2V5OiBzcmNFdmVudC5hbHRLZXksXG4gICAgICBzaGlmdEtleTogc3JjRXZlbnQuc2hpZnRLZXksXG4gICAgICBtZXRhS2V5OiBzcmNFdmVudC5tZXRhS2V5XG4gICAgfSk7XG4gICAgYW5ndWxhci5lbGVtZW50KGV2ZW50UG9pbnRlci50YXJnZXQpLnRyaWdnZXIoZXZlbnRPYmopO1xuICB9XG5cbiAgLypcbiAgICogTk9URTogbmF0aXZlRGlzcGF0Y2hFdmVudCBpcyB2ZXJ5IHBlcmZvcm1hbmNlIHNlbnNpdGl2ZS5cbiAgICogQHBhcmFtIHNyY0V2ZW50IHRoZSBvcmlnaW5hbCBET00gdG91Y2ggZXZlbnQgdGhhdCBzdGFydGVkIHRoaXMuXG4gICAqIEBwYXJhbSBldmVudFR5cGUgdGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBldmVudCB0byBzZW5kIChlZyAnY2xpY2snIG9yICckbWQuZHJhZycpXG4gICAqIEBwYXJhbSBldmVudFBvaW50ZXIgdGhlIHBvaW50ZXIgb2JqZWN0IHRoYXQgbWF0Y2hlcyB0aGlzIGV2ZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gbmF0aXZlRGlzcGF0Y2hFdmVudChzcmNFdmVudCwgZXZlbnRUeXBlLCBldmVudFBvaW50ZXIpIHtcbiAgICBldmVudFBvaW50ZXIgPSBldmVudFBvaW50ZXIgfHwgcG9pbnRlcjtcbiAgICB2YXIgZXZlbnRPYmo7XG5cbiAgICBpZiAoZXZlbnRUeXBlID09PSAnY2xpY2snIHx8IGV2ZW50VHlwZSA9PSAnbW91c2V1cCcgfHwgZXZlbnRUeXBlID09ICdtb3VzZWRvd24nICkge1xuICAgICAgZXZlbnRPYmogPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICAgIGV2ZW50T2JqLmluaXRNb3VzZUV2ZW50KFxuICAgICAgICBldmVudFR5cGUsIHRydWUsIHRydWUsIHdpbmRvdywgc3JjRXZlbnQuZGV0YWlsLFxuICAgICAgICBldmVudFBvaW50ZXIueCwgZXZlbnRQb2ludGVyLnksIGV2ZW50UG9pbnRlci54LCBldmVudFBvaW50ZXIueSxcbiAgICAgICAgc3JjRXZlbnQuY3RybEtleSwgc3JjRXZlbnQuYWx0S2V5LCBzcmNFdmVudC5zaGlmdEtleSwgc3JjRXZlbnQubWV0YUtleSxcbiAgICAgICAgc3JjRXZlbnQuYnV0dG9uLCBzcmNFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG51bGxcbiAgICAgICk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnRPYmogPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICAgIGV2ZW50T2JqLmluaXRDdXN0b21FdmVudChldmVudFR5cGUsIHRydWUsIHRydWUsIHt9KTtcbiAgICB9XG4gICAgZXZlbnRPYmouJG1hdGVyaWFsID0gdHJ1ZTtcbiAgICBldmVudE9iai5wb2ludGVyID0gZXZlbnRQb2ludGVyO1xuICAgIGV2ZW50T2JqLnNyY0V2ZW50ID0gc3JjRXZlbnQ7XG4gICAgZXZlbnRQb2ludGVyLnRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50T2JqKTtcbiAgfVxuXG59XG5cbi8qKlxuICogQXR0YWNoIEdlc3R1cmVzOiBob29rIGRvY3VtZW50IGFuZCBjaGVjayBzaG91bGRIaWphY2sgY2xpY2tzXG4gKiBAbmdJbmplY3RcbiAqL1xuZnVuY3Rpb24gYXR0YWNoVG9Eb2N1bWVudCggJG1kR2VzdHVyZSwgJCRNZEdlc3R1cmVIYW5kbGVyICkge1xuXG4gIC8vIFBvbHlmaWxsIGRvY3VtZW50LmNvbnRhaW5zIGZvciBJRTExLlxuICAvLyBUT0RPOiBtb3ZlIHRvIHV0aWxcbiAgZG9jdW1lbnQuY29udGFpbnMgfHwgKGRvY3VtZW50LmNvbnRhaW5zID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5jb250YWlucyhub2RlKTtcbiAgfSk7XG5cbiAgaWYgKCFpc0luaXRpYWxpemVkICYmICRtZEdlc3R1cmUuaXNIaWphY2tpbmdDbGlja3MgKSB7XG4gICAgLypcbiAgICAgKiBJZiBoaWphY2sgY2xpY2tzIGlzIHRydWUsIHdlIHByZXZlbnREZWZhdWx0IGFueSBjbGljayB0aGF0IHdhc24ndFxuICAgICAqIHNlbnQgYnkgbmdNYXRlcmlhbC4gVGhpcyBpcyBiZWNhdXNlIG9uIG9sZGVyIEFuZHJvaWQgJiBpT1MsIGEgZmFsc2UsIG9yICdnaG9zdCcsXG4gICAgICogY2xpY2sgZXZlbnQgd2lsbCBiZSBzZW50IH40MDBtcyBhZnRlciBhIHRvdWNoZW5kIGV2ZW50IGhhcHBlbnMuXG4gICAgICogVGhlIG9ubHkgd2F5IHRvIGtub3cgaWYgdGhpcyBjbGljayBpcyByZWFsIGlzIHRvIHByZXZlbnQgYW55IG5vcm1hbFxuICAgICAqIGNsaWNrIGV2ZW50cywgYW5kIGFkZCBhIGZsYWcgdG8gZXZlbnRzIHNlbnQgYnkgbWF0ZXJpYWwgc28gd2Uga25vdyBub3QgdG8gcHJldmVudCB0aG9zZS5cbiAgICAgKiBcbiAgICAgKiBUd28gZXhjZXB0aW9ucyB0byBjbGljayBldmVudHMgdGhhdCBzaG91bGQgYmUgcHJldmVudGVkIGFyZTpcbiAgICAgKiAgLSBjbGljayBldmVudHMgc2VudCBieSB0aGUga2V5Ym9hcmQgKGVnIGZvcm0gc3VibWl0KVxuICAgICAqICAtIGV2ZW50cyB0aGF0IG9yaWdpbmF0ZSBmcm9tIGFuIElvbmljIGFwcFxuICAgICAqL1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyAgICAsIGNsaWNrSGlqYWNrZXIgICAgICwgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcgICwgbW91c2VJbnB1dEhpamFja2VyLCB0cnVlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBtb3VzZUlucHV0SGlqYWNrZXIsIHRydWUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJyAgICAsIG1vdXNlSW5wdXRIaWphY2tlciwgdHJ1ZSk7XG5cbiAgICBpc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdXNlSW5wdXRIaWphY2tlcihldikge1xuICAgIHZhciBpc0tleUNsaWNrID0gIWV2LmNsaWVudFggJiYgIWV2LmNsaWVudFk7XG4gICAgaWYgKCFpc0tleUNsaWNrICYmICFldi4kbWF0ZXJpYWwgJiYgIWV2LmlzSW9uaWNUYXBcbiAgICAgICYmICFpc0lucHV0RXZlbnRGcm9tTGFiZWxDbGljayhldikpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGlja0hpamFja2VyKGV2KSB7XG4gICAgdmFyIGlzS2V5Q2xpY2sgPSBldi5jbGllbnRYID09PSAwICYmIGV2LmNsaWVudFkgPT09IDA7XG4gICAgaWYgKCFpc0tleUNsaWNrICYmICFldi4kbWF0ZXJpYWwgJiYgIWV2LmlzSW9uaWNUYXBcbiAgICAgICYmICFpc0lucHV0RXZlbnRGcm9tTGFiZWxDbGljayhldikpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGxhc3RMYWJlbENsaWNrUG9zID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdExhYmVsQ2xpY2tQb3MgPSBudWxsO1xuICAgICAgaWYgKGV2LnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2xhYmVsJykge1xuICAgICAgICBsYXN0TGFiZWxDbGlja1BvcyA9IHt4OiBldi54LCB5OiBldi55fTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIC8vIExpc3RlbiB0byBhbGwgZXZlbnRzIHRvIGNvdmVyIGFsbCBwbGF0Zm9ybXMuXG4gIHZhciBTVEFSVF9FVkVOVFMgPSAnbW91c2Vkb3duIHRvdWNoc3RhcnQgcG9pbnRlcmRvd24nO1xuICB2YXIgTU9WRV9FVkVOVFMgPSAnbW91c2Vtb3ZlIHRvdWNobW92ZSBwb2ludGVybW92ZSc7XG4gIHZhciBFTkRfRVZFTlRTID0gJ21vdXNldXAgbW91c2VsZWF2ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7XG5cbiAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KVxuICAgIC5vbihTVEFSVF9FVkVOVFMsIGdlc3R1cmVTdGFydClcbiAgICAub24oTU9WRV9FVkVOVFMsIGdlc3R1cmVNb3ZlKVxuICAgIC5vbihFTkRfRVZFTlRTLCBnZXN0dXJlRW5kKVxuICAgIC8vIEZvciB0ZXN0aW5nXG4gICAgLm9uKCckJG1kR2VzdHVyZVJlc2V0JywgZnVuY3Rpb24gZ2VzdHVyZUNsZWFyQ2FjaGUgKCkge1xuICAgICAgbGFzdFBvaW50ZXIgPSBwb2ludGVyID0gbnVsbDtcbiAgICB9KTtcblxuICAvKlxuICAgKiBXaGVuIGEgRE9NIGV2ZW50IGhhcHBlbnMsIHJ1biBhbGwgcmVnaXN0ZXJlZCBnZXN0dXJlIGhhbmRsZXJzJyBsaWZlY3ljbGVcbiAgICogbWV0aG9kcyB3aGljaCBtYXRjaCB0aGUgRE9NIGV2ZW50LlxuICAgKiBFZyB3aGVuIGEgJ3RvdWNoc3RhcnQnIGV2ZW50IGhhcHBlbnMsIHJ1bkhhbmRsZXJzKCdzdGFydCcpIHdpbGwgY2FsbCBhbmRcbiAgICogcnVuIGBoYW5kbGVyLmNhbmNlbCgpYCBhbmQgYGhhbmRsZXIuc3RhcnQoKWAgb24gYWxsIHJlZ2lzdGVyZWQgaGFuZGxlcnMuXG4gICAqL1xuICBmdW5jdGlvbiBydW5IYW5kbGVycyhoYW5kbGVyRXZlbnQsIGV2ZW50KSB7XG4gICAgdmFyIGhhbmRsZXI7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBIQU5ETEVSUykge1xuICAgICAgaGFuZGxlciA9IEhBTkRMRVJTW25hbWVdO1xuICAgICAgaWYoIGhhbmRsZXIgaW5zdGFuY2VvZiAkJE1kR2VzdHVyZUhhbmRsZXIgKSB7XG5cbiAgICAgICAgaWYgKGhhbmRsZXJFdmVudCA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAgIC8vIFJ1biBjYW5jZWwgdG8gcmVzZXQgYW55IGhhbmRsZXJzJyBzdGF0ZVxuICAgICAgICAgIGhhbmRsZXIuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlcltoYW5kbGVyRXZlbnRdKGV2ZW50LCBwb2ludGVyKTtcblxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIGdlc3R1cmVTdGFydCB2ZXRzIGlmIGEgc3RhcnQgZXZlbnQgaXMgbGVnaXRpbWF0ZSAoYW5kIG5vdCBwYXJ0IG9mIGEgJ2dob3N0IGNsaWNrJyBmcm9tIGlPUy9BbmRyb2lkKVxuICAgKiBJZiBpdCBpcyBsZWdpdGltYXRlLCB3ZSBpbml0aWF0ZSB0aGUgcG9pbnRlciBzdGF0ZSBhbmQgbWFyayB0aGUgY3VycmVudCBwb2ludGVyJ3MgdHlwZVxuICAgKiBGb3IgZXhhbXBsZSwgZm9yIGEgdG91Y2hzdGFydCBldmVudCwgbWFyayB0aGUgY3VycmVudCBwb2ludGVyIGFzIGEgJ3RvdWNoJyBwb2ludGVyLCBzbyBtb3VzZSBldmVudHNcbiAgICogd29uJ3QgZWZmZWN0IGl0LlxuICAgKi9cbiAgZnVuY3Rpb24gZ2VzdHVyZVN0YXJ0KGV2KSB7XG4gICAgLy8gSWYgd2UncmUgYWxyZWFkeSB0b3VjaGVkIGRvd24sIGFib3J0XG4gICAgaWYgKHBvaW50ZXIpIHJldHVybjtcblxuICAgIHZhciBub3cgPSArRGF0ZS5ub3coKTtcblxuICAgIC8vIGlPUyAmIG9sZCBhbmRyb2lkIGJ1ZzogYWZ0ZXIgYSB0b3VjaCBldmVudCwgYSBjbGljayBldmVudCBpcyBzZW50IDM1MCBtcyBsYXRlci5cbiAgICAvLyBJZiA8NDAwbXMgaGF2ZSBwYXNzZWQsIGRvbid0IGFsbG93IGFuIGV2ZW50IG9mIGEgZGlmZmVyZW50IHR5cGUgdGhhbiB0aGUgcHJldmlvdXMgZXZlbnRcbiAgICBpZiAobGFzdFBvaW50ZXIgJiYgIXR5cGVzTWF0Y2goZXYsIGxhc3RQb2ludGVyKSAmJiAobm93IC0gbGFzdFBvaW50ZXIuZW5kVGltZSA8IDE1MDApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcG9pbnRlciA9IG1ha2VTdGFydFBvaW50ZXIoZXYpO1xuXG4gICAgcnVuSGFuZGxlcnMoJ3N0YXJ0JywgZXYpO1xuICB9XG4gIC8qXG4gICAqIElmIGEgbW92ZSBldmVudCBoYXBwZW5zIG9mIHRoZSByaWdodCB0eXBlLCB1cGRhdGUgdGhlIHBvaW50ZXIgYW5kIHJ1biBhbGwgdGhlIG1vdmUgaGFuZGxlcnMuXG4gICAqIFwib2YgdGhlIHJpZ2h0IHR5cGVcIjogaWYgYSBtb3VzZW1vdmUgaGFwcGVucyBidXQgb3VyIHBvaW50ZXIgc3RhcnRlZCB3aXRoIGEgdG91Y2ggZXZlbnQsIGRvIG5vdGhpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBnZXN0dXJlTW92ZShldikge1xuICAgIGlmICghcG9pbnRlciB8fCAhdHlwZXNNYXRjaChldiwgcG9pbnRlcikpIHJldHVybjtcblxuICAgIHVwZGF0ZVBvaW50ZXJTdGF0ZShldiwgcG9pbnRlcik7XG4gICAgcnVuSGFuZGxlcnMoJ21vdmUnLCBldik7XG4gIH1cbiAgLypcbiAgICogSWYgYW4gZW5kIGV2ZW50IGhhcHBlbnMgb2YgdGhlIHJpZ2h0IHR5cGUsIHVwZGF0ZSB0aGUgcG9pbnRlciwgcnVuIGVuZEhhbmRsZXJzLCBhbmQgc2F2ZSB0aGUgcG9pbnRlciBhcyAnbGFzdFBvaW50ZXInXG4gICAqL1xuICBmdW5jdGlvbiBnZXN0dXJlRW5kKGV2KSB7XG4gICAgaWYgKCFwb2ludGVyIHx8ICF0eXBlc01hdGNoKGV2LCBwb2ludGVyKSkgcmV0dXJuO1xuXG4gICAgdXBkYXRlUG9pbnRlclN0YXRlKGV2LCBwb2ludGVyKTtcbiAgICBwb2ludGVyLmVuZFRpbWUgPSArRGF0ZS5ub3coKTtcblxuICAgIHJ1bkhhbmRsZXJzKCdlbmQnLCBldik7XG5cbiAgICBsYXN0UG9pbnRlciA9IHBvaW50ZXI7XG4gICAgcG9pbnRlciA9IG51bGw7XG4gIH1cblxufVxuYXR0YWNoVG9Eb2N1bWVudC4kaW5qZWN0ID0gW1wiJG1kR2VzdHVyZVwiLCBcIiQkTWRHZXN0dXJlSGFuZGxlclwiXTtcblxuLy8gKioqKioqKioqKioqKioqKioqKipcbi8vIE1vZHVsZSBGdW5jdGlvbnNcbi8vICoqKioqKioqKioqKioqKioqKioqXG5cbi8qXG4gKiBJbml0aWF0ZSB0aGUgcG9pbnRlci4geCwgeSwgYW5kIHRoZSBwb2ludGVyJ3MgdHlwZS5cbiAqL1xuZnVuY3Rpb24gbWFrZVN0YXJ0UG9pbnRlcihldikge1xuICB2YXIgcG9pbnQgPSBnZXRFdmVudFBvaW50KGV2KTtcbiAgdmFyIHN0YXJ0UG9pbnRlciA9IHtcbiAgICBzdGFydFRpbWU6ICtEYXRlLm5vdygpLFxuICAgIHRhcmdldDogZXYudGFyZ2V0LFxuICAgIC8vICdwJyBmb3IgcG9pbnRlciBldmVudHMsICdtJyBmb3IgbW91c2UsICd0JyBmb3IgdG91Y2hcbiAgICB0eXBlOiBldi50eXBlLmNoYXJBdCgwKVxuICB9O1xuICBzdGFydFBvaW50ZXIuc3RhcnRYID0gc3RhcnRQb2ludGVyLnggPSBwb2ludC5wYWdlWDtcbiAgc3RhcnRQb2ludGVyLnN0YXJ0WSA9IHN0YXJ0UG9pbnRlci55ID0gcG9pbnQucGFnZVk7XG4gIHJldHVybiBzdGFydFBvaW50ZXI7XG59XG5cbi8qXG4gKiByZXR1cm4gd2hldGhlciB0aGUgcG9pbnRlcidzIHR5cGUgbWF0Y2hlcyB0aGUgZXZlbnQncyB0eXBlLlxuICogRWcgaWYgYSB0b3VjaCBldmVudCBoYXBwZW5zIGJ1dCB0aGUgcG9pbnRlciBoYXMgYSBtb3VzZSB0eXBlLCByZXR1cm4gZmFsc2UuXG4gKi9cbmZ1bmN0aW9uIHR5cGVzTWF0Y2goZXYsIHBvaW50ZXIpIHtcbiAgcmV0dXJuIGV2ICYmIHBvaW50ZXIgJiYgZXYudHlwZS5jaGFyQXQoMCkgPT09IHBvaW50ZXIudHlwZTtcbn1cblxuLyoqXG4gKiBHZXRzIHdoZXRoZXIgdGhlIGdpdmVuIGV2ZW50IGlzIGFuIGlucHV0IGV2ZW50IHRoYXQgd2FzIGNhdXNlZCBieSBjbGlja2luZyBvbiBhblxuICogYXNzb2NpYXRlZCBsYWJlbCBlbGVtZW50LlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgdGhlIGJyb3dzZXIgd2lsbCwgdXBvbiBjbGlja2luZyBvbiBhIGxhYmVsIGVsZW1lbnQsIGZpcmUgYW5cbiAqICpleHRyYSogY2xpY2sgZXZlbnQgb24gaXRzIGFzc29jaWF0ZWQgaW5wdXQgKGlmIGFueSkuIG1kR2VzdHVyZSBpcyBhYmxlIHRvIGZsYWcgdGhlIGxhYmVsXG4gKiBjbGljayBhcyB3aXRoIGAkbWF0ZXJpYWxgIGNvcnJlY3RseSwgYnV0IG5vdCB0aGUgc2Vjb25kIGlucHV0IGNsaWNrLlxuICpcbiAqIEluIG9yZGVyIHRvIGRldGVybWluZSB3aGV0aGVyIGFuIGlucHV0IGV2ZW50IGlzIGZyb20gYSBsYWJlbCBjbGljaywgd2UgY29tcGFyZSB0aGUgKHgsIHkpIGZvclxuICogdGhlIGV2ZW50IHRvIHRoZSAoeCwgeSkgZm9yIHRoZSBtb3N0IHJlY2VudCBsYWJlbCBjbGljayAod2hpY2ggaXMgY2xlYXJlZCB3aGVuZXZlciBhIG5vbi1sYWJlbFxuICogY2xpY2sgb2NjdXJzKS4gVW5mb3J0dW5hdGVseSwgdGhlcmUgYXJlIG5vIGV2ZW50IHByb3BlcnRpZXMgdGhhdCB0aWUgdGhlIGlucHV0IGFuZCB0aGUgbGFiZWxcbiAqIHRvZ2V0aGVyIChzdWNoIGFzIHJlbGF0ZWRUYXJnZXQpLlxuICpcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0lucHV0RXZlbnRGcm9tTGFiZWxDbGljayhldmVudCkge1xuICByZXR1cm4gbGFzdExhYmVsQ2xpY2tQb3NcbiAgICAgICYmIGxhc3RMYWJlbENsaWNrUG9zLnggPT0gZXZlbnQueFxuICAgICAgJiYgbGFzdExhYmVsQ2xpY2tQb3MueSA9PSBldmVudC55O1xufVxuXG4vKlxuICogVXBkYXRlIHRoZSBnaXZlbiBwb2ludGVyIGJhc2VkIHVwb24gdGhlIGdpdmVuIERPTUV2ZW50LlxuICogRGlzdGFuY2UsIHZlbG9jaXR5LCBkaXJlY3Rpb24sIGR1cmF0aW9uLCBldGNcbiAqL1xuZnVuY3Rpb24gdXBkYXRlUG9pbnRlclN0YXRlKGV2LCBwb2ludGVyKSB7XG4gIHZhciBwb2ludCA9IGdldEV2ZW50UG9pbnQoZXYpO1xuICB2YXIgeCA9IHBvaW50ZXIueCA9IHBvaW50LnBhZ2VYO1xuICB2YXIgeSA9IHBvaW50ZXIueSA9IHBvaW50LnBhZ2VZO1xuXG4gIHBvaW50ZXIuZGlzdGFuY2VYID0geCAtIHBvaW50ZXIuc3RhcnRYO1xuICBwb2ludGVyLmRpc3RhbmNlWSA9IHkgLSBwb2ludGVyLnN0YXJ0WTtcbiAgcG9pbnRlci5kaXN0YW5jZSA9IE1hdGguc3FydChcbiAgICBwb2ludGVyLmRpc3RhbmNlWCAqIHBvaW50ZXIuZGlzdGFuY2VYICsgcG9pbnRlci5kaXN0YW5jZVkgKiBwb2ludGVyLmRpc3RhbmNlWVxuICApO1xuXG4gIHBvaW50ZXIuZGlyZWN0aW9uWCA9IHBvaW50ZXIuZGlzdGFuY2VYID4gMCA/ICdyaWdodCcgOiBwb2ludGVyLmRpc3RhbmNlWCA8IDAgPyAnbGVmdCcgOiAnJztcbiAgcG9pbnRlci5kaXJlY3Rpb25ZID0gcG9pbnRlci5kaXN0YW5jZVkgPiAwID8gJ2Rvd24nIDogcG9pbnRlci5kaXN0YW5jZVkgPCAwID8gJ3VwJyA6ICcnO1xuXG4gIHBvaW50ZXIuZHVyYXRpb24gPSArRGF0ZS5ub3coKSAtIHBvaW50ZXIuc3RhcnRUaW1lO1xuICBwb2ludGVyLnZlbG9jaXR5WCA9IHBvaW50ZXIuZGlzdGFuY2VYIC8gcG9pbnRlci5kdXJhdGlvbjtcbiAgcG9pbnRlci52ZWxvY2l0eVkgPSBwb2ludGVyLmRpc3RhbmNlWSAvIHBvaW50ZXIuZHVyYXRpb247XG59XG5cbi8qXG4gKiBOb3JtYWxpemUgdGhlIHBvaW50IHdoZXJlIHRoZSBET00gZXZlbnQgaGFwcGVuZWQgd2hldGhlciBpdCdzIHRvdWNoIG9yIG1vdXNlLlxuICogQHJldHVybnMgcG9pbnQgZXZlbnQgb2JqIHdpdGggcGFnZVggYW5kIHBhZ2VZIG9uIGl0LlxuICovXG5mdW5jdGlvbiBnZXRFdmVudFBvaW50KGV2KSB7XG4gIGV2ID0gZXYub3JpZ2luYWxFdmVudCB8fCBldjsgLy8gc3VwcG9ydCBqUXVlcnkgZXZlbnRzXG4gIHJldHVybiAoZXYudG91Y2hlcyAmJiBldi50b3VjaGVzWzBdKSB8fFxuICAgIChldi5jaGFuZ2VkVG91Y2hlcyAmJiBldi5jaGFuZ2VkVG91Y2hlc1swXSkgfHxcbiAgICBldjtcbn1cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgLnByb3ZpZGVyKCckJGludGVyaW1FbGVtZW50JywgSW50ZXJpbUVsZW1lbnRQcm92aWRlcik7XG5cbi8qXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJCRpbnRlcmltRWxlbWVudFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb3JlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogRmFjdG9yeSB0aGF0IGNvbnRydWN0cyBgJCRpbnRlcmltRWxlbWVudC4kc2VydmljZWAgc2VydmljZXMuXG4gKiBVc2VkIGludGVybmFsbHkgaW4gbWF0ZXJpYWwgZGVzaWduIGZvciBlbGVtZW50cyB0aGF0IGFwcGVhciBvbiBzY3JlZW4gdGVtcG9yYXJpbHkuXG4gKiBUaGUgc2VydmljZSBwcm92aWRlcyBhIHByb21pc2UtbGlrZSBBUEkgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIHRlbXBvcmFyeVxuICogZWxlbWVudHMuXG4gKlxuICogYGBganNcbiAqIGFwcC5zZXJ2aWNlKCckbWRUb2FzdCcsIGZ1bmN0aW9uKCQkaW50ZXJpbUVsZW1lbnQpIHtcbiAqICAgdmFyICRtZFRvYXN0ID0gJCRpbnRlcmltRWxlbWVudCh0b2FzdERlZmF1bHRPcHRpb25zKTtcbiAqICAgcmV0dXJuICRtZFRvYXN0O1xuICogfSk7XG4gKiBgYGBcbiAqIEBwYXJhbSB7b2JqZWN0PX0gZGVmYXVsdE9wdGlvbnMgT3B0aW9ucyB1c2VkIGJ5IGRlZmF1bHQgZm9yIHRoZSBgc2hvd2AgbWV0aG9kIG9uIHRoZSBzZXJ2aWNlLlxuICpcbiAqIEByZXR1cm5zIHskJGludGVyaW1FbGVtZW50LiRzZXJ2aWNlfVxuICpcbiAqL1xuXG5mdW5jdGlvbiBJbnRlcmltRWxlbWVudFByb3ZpZGVyKCkge1xuICBjcmVhdGVJbnRlcmltRWxlbWVudFByb3ZpZGVyLiRnZXQgPSBJbnRlcmltRWxlbWVudEZhY3Rvcnk7XG4gIEludGVyaW1FbGVtZW50RmFjdG9yeS4kaW5qZWN0ID0gW1wiJGRvY3VtZW50XCIsIFwiJHFcIiwgXCIkJHFcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHRpbWVvdXRcIiwgXCIkcm9vdEVsZW1lbnRcIiwgXCIkYW5pbWF0ZVwiLCBcIiRtZFV0aWxcIiwgXCIkbWRDb21waWxlclwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkaW5qZWN0b3JcIl07XG4gIHJldHVybiBjcmVhdGVJbnRlcmltRWxlbWVudFByb3ZpZGVyO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IHByb3ZpZGVyIHdoaWNoIGFsbG93cyBjb25maWd1cmF0aW9uIG9mIGEgbmV3IGludGVyaW1FbGVtZW50XG4gICAqIHNlcnZpY2UuIEFsbG93cyBjb25maWd1cmF0aW9uIG9mIGRlZmF1bHQgb3B0aW9ucyAmIG1ldGhvZHMgZm9yIG9wdGlvbnMsXG4gICAqIGFzIHdlbGwgYXMgY29uZmlndXJhdGlvbiBvZiAncHJlc2V0JyBtZXRob2RzIChlZyBkaWFsb2cuYmFzaWMoKTogYmFzaWMgaXMgYSBwcmVzZXQgbWV0aG9kKVxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlSW50ZXJpbUVsZW1lbnRQcm92aWRlcihpbnRlcmltRmFjdG9yeU5hbWUpIHtcbiAgICB2YXIgRVhQT1NFRF9NRVRIT0RTID0gWydvbkhpZGUnLCAnb25TaG93JywgJ29uUmVtb3ZlJ107XG5cbiAgICB2YXIgY3VzdG9tTWV0aG9kcyA9IHt9O1xuICAgIHZhciBwcm92aWRlckNvbmZpZyA9IHtcbiAgICAgIHByZXNldHM6IHt9XG4gICAgfTtcblxuICAgIHZhciBwcm92aWRlciA9IHtcbiAgICAgIHNldERlZmF1bHRzOiBzZXREZWZhdWx0cyxcbiAgICAgIGFkZFByZXNldDogYWRkUHJlc2V0LFxuICAgICAgYWRkTWV0aG9kOiBhZGRNZXRob2QsXG4gICAgICAkZ2V0OiBmYWN0b3J5XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGFsbCBpbnRlcmltIGVsZW1lbnRzIHdpbGwgY29tZSB3aXRoIHRoZSAnYnVpbGQnIHByZXNldFxuICAgICAqL1xuICAgIHByb3ZpZGVyLmFkZFByZXNldCgnYnVpbGQnLCB7XG4gICAgICBtZXRob2RzOiBbJ2NvbnRyb2xsZXInLCAnY29udHJvbGxlckFzJywgJ3Jlc29sdmUnLFxuICAgICAgICAndGVtcGxhdGUnLCAndGVtcGxhdGVVcmwnLCAndGhlbWFibGUnLCAndHJhbnNmb3JtVGVtcGxhdGUnLCAncGFyZW50J11cbiAgICB9KTtcblxuICAgIGZhY3RvcnkuJGluamVjdCA9IFtcIiQkaW50ZXJpbUVsZW1lbnRcIiwgXCIkaW5qZWN0b3JcIl07XG4gICAgcmV0dXJuIHByb3ZpZGVyO1xuXG4gICAgLyoqXG4gICAgICogU2F2ZSB0aGUgY29uZmlndXJlZCBkZWZhdWx0cyB0byBiZSB1c2VkIHdoZW4gdGhlIGZhY3RvcnkgaXMgaW5zdGFudGlhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0RGVmYXVsdHMoZGVmaW5pdGlvbikge1xuICAgICAgcHJvdmlkZXJDb25maWcub3B0aW9uc0ZhY3RvcnkgPSBkZWZpbml0aW9uLm9wdGlvbnM7XG4gICAgICBwcm92aWRlckNvbmZpZy5tZXRob2RzID0gKGRlZmluaXRpb24ubWV0aG9kcyB8fCBbXSkuY29uY2F0KEVYUE9TRURfTUVUSE9EUyk7XG4gICAgICByZXR1cm4gcHJvdmlkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbWV0aG9kIHRvIHRoZSBmYWN0b3J5IHRoYXQgaXNuJ3Qgc3BlY2lmaWMgdG8gYW55IGludGVyaW0gZWxlbWVudCBvcGVyYXRpb25zXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBhZGRNZXRob2QobmFtZSwgZm4pIHtcbiAgICAgIGN1c3RvbU1ldGhvZHNbbmFtZV0gPSBmbjtcbiAgICAgIHJldHVybiBwcm92aWRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIHRoZSBjb25maWd1cmVkIHByZXNldCB0byBiZSB1c2VkIHdoZW4gdGhlIGZhY3RvcnkgaXMgaW5zdGFudGlhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkUHJlc2V0KG5hbWUsIGRlZmluaXRpb24pIHtcbiAgICAgIGRlZmluaXRpb24gPSBkZWZpbml0aW9uIHx8IHt9O1xuICAgICAgZGVmaW5pdGlvbi5tZXRob2RzID0gZGVmaW5pdGlvbi5tZXRob2RzIHx8IFtdO1xuICAgICAgZGVmaW5pdGlvbi5vcHRpb25zID0gZGVmaW5pdGlvbi5vcHRpb25zIHx8IGZ1bmN0aW9uKCkgeyByZXR1cm4ge307IH07XG5cbiAgICAgIGlmICgvXmNhbmNlbHxoaWRlfHNob3ckLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlByZXNldCAnXCIgKyBuYW1lICsgXCInIGluIFwiICsgaW50ZXJpbUZhY3RvcnlOYW1lICsgXCIgaXMgcmVzZXJ2ZWQhXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGRlZmluaXRpb24ubWV0aG9kcy5pbmRleE9mKCdfb3B0aW9ucycpID4gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kICdfb3B0aW9ucycgaW4gXCIgKyBpbnRlcmltRmFjdG9yeU5hbWUgKyBcIiBpcyByZXNlcnZlZCFcIik7XG4gICAgICB9XG4gICAgICBwcm92aWRlckNvbmZpZy5wcmVzZXRzW25hbWVdID0ge1xuICAgICAgICBtZXRob2RzOiBkZWZpbml0aW9uLm1ldGhvZHMuY29uY2F0KEVYUE9TRURfTUVUSE9EUyksXG4gICAgICAgIG9wdGlvbnNGYWN0b3J5OiBkZWZpbml0aW9uLm9wdGlvbnMsXG4gICAgICAgIGFyZ09wdGlvbjogZGVmaW5pdGlvbi5hcmdPcHRpb25cbiAgICAgIH07XG4gICAgICByZXR1cm4gcHJvdmlkZXI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkUHJlc2V0TWV0aG9kKHByZXNldE5hbWUsIG1ldGhvZE5hbWUsIG1ldGhvZCkge1xuICAgICAgcHJvdmlkZXJDb25maWcucHJlc2V0c1twcmVzZXROYW1lXVttZXRob2ROYW1lXSA9IG1ldGhvZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBmYWN0b3J5IHRoYXQgaGFzIHRoZSBnaXZlbiBtZXRob2RzICYgZGVmYXVsdHMgaW1wbGVtZW50aW5nIGludGVyaW1FbGVtZW50XG4gICAgICovXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZmFjdG9yeSgkJGludGVyaW1FbGVtZW50LCAkaW5qZWN0b3IpIHtcbiAgICAgIHZhciBkZWZhdWx0TWV0aG9kcztcbiAgICAgIHZhciBkZWZhdWx0T3B0aW9ucztcbiAgICAgIHZhciBpbnRlcmltRWxlbWVudFNlcnZpY2UgPSAkJGludGVyaW1FbGVtZW50KCk7XG5cbiAgICAgIC8qXG4gICAgICAgKiBwdWJsaWNTZXJ2aWNlIGlzIHdoYXQgdGhlIGRldmVsb3BlciB3aWxsIGJlIHVzaW5nLlxuICAgICAgICogSXQgaGFzIG1ldGhvZHMgaGlkZSgpLCBjYW5jZWwoKSwgc2hvdygpLCBidWlsZCgpLCBhbmQgYW55IG90aGVyXG4gICAgICAgKiBwcmVzZXRzIHdoaWNoIHdlcmUgc2V0IGR1cmluZyB0aGUgY29uZmlnIHBoYXNlLlxuICAgICAgICovXG4gICAgICB2YXIgcHVibGljU2VydmljZSA9IHtcbiAgICAgICAgaGlkZTogaW50ZXJpbUVsZW1lbnRTZXJ2aWNlLmhpZGUsXG4gICAgICAgIGNhbmNlbDogaW50ZXJpbUVsZW1lbnRTZXJ2aWNlLmNhbmNlbCxcbiAgICAgICAgc2hvdzogc2hvd0ludGVyaW1FbGVtZW50LFxuXG4gICAgICAgIC8vIFNwZWNpYWwgaW50ZXJuYWwgbWV0aG9kIHRvIGRlc3Ryb3kgYW4gaW50ZXJpbSBlbGVtZW50IHdpdGhvdXQgYW5pbWF0aW9uc1xuICAgICAgICAvLyB1c2VkIHdoZW4gbmF2aWdhdGlvbiBjaGFuZ2VzIGNhdXNlcyBhICRzY29wZS4kZGVzdHJveSgpIGFjdGlvblxuICAgICAgICBkZXN0cm95IDogZGVzdHJveUludGVyaW1FbGVtZW50XG4gICAgICB9O1xuXG5cbiAgICAgIGRlZmF1bHRNZXRob2RzID0gcHJvdmlkZXJDb25maWcubWV0aG9kcyB8fCBbXTtcbiAgICAgIC8vIFRoaXMgbXVzdCBiZSBpbnZva2VkIGFmdGVyIHRoZSBwdWJsaWNTZXJ2aWNlIGlzIGluaXRpYWxpemVkXG4gICAgICBkZWZhdWx0T3B0aW9ucyA9IGludm9rZUZhY3RvcnkocHJvdmlkZXJDb25maWcub3B0aW9uc0ZhY3RvcnksIHt9KTtcblxuICAgICAgLy8gQ29weSBvdmVyIHRoZSBzaW1wbGUgY3VzdG9tIG1ldGhvZHNcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChjdXN0b21NZXRob2RzLCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAgICAgICBwdWJsaWNTZXJ2aWNlW25hbWVdID0gZm47XG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5mb3JFYWNoKHByb3ZpZGVyQ29uZmlnLnByZXNldHMsIGZ1bmN0aW9uKGRlZmluaXRpb24sIG5hbWUpIHtcbiAgICAgICAgdmFyIHByZXNldERlZmF1bHRzID0gaW52b2tlRmFjdG9yeShkZWZpbml0aW9uLm9wdGlvbnNGYWN0b3J5LCB7fSk7XG4gICAgICAgIHZhciBwcmVzZXRNZXRob2RzID0gKGRlZmluaXRpb24ubWV0aG9kcyB8fCBbXSkuY29uY2F0KGRlZmF1bHRNZXRob2RzKTtcblxuICAgICAgICAvLyBFdmVyeSBpbnRlcmltRWxlbWVudCBidWlsdCB3aXRoIGEgcHJlc2V0IGhhcyBhIGZpZWxkIGNhbGxlZCBgJHR5cGVgLFxuICAgICAgICAvLyB3aGljaCBtYXRjaGVzIHRoZSBuYW1lIG9mIHRoZSBwcmVzZXQuXG4gICAgICAgIC8vIEVnIGluIHByZXNldCAnY29uZmlybScsIG9wdGlvbnMuJHR5cGUgPT09ICdjb25maXJtJ1xuICAgICAgICBhbmd1bGFyLmV4dGVuZChwcmVzZXREZWZhdWx0cywgeyAkdHlwZTogbmFtZSB9KTtcblxuICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgYSBwcmVzZXQgY2xhc3Mgd2hpY2ggaGFzIHNldHRlciBtZXRob2RzIGZvciBldmVyeVxuICAgICAgICAvLyBtZXRob2QgZ2l2ZW4gaW4gdGhlIGAuYWRkUHJlc2V0KClgIGZ1bmN0aW9uLCBhcyB3ZWxsIGFzIGV2ZXJ5XG4gICAgICAgIC8vIG1ldGhvZCBnaXZlbiBpbiB0aGUgYC5zZXREZWZhdWx0cygpYCBmdW5jdGlvbi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQGV4YW1wbGVcbiAgICAgICAgLy8gLnNldERlZmF1bHRzKHtcbiAgICAgICAgLy8gICBtZXRob2RzOiBbJ2hhc0JhY2tkcm9wJywgJ2NsaWNrT3V0c2lkZVRvQ2xvc2UnLCAnZXNjYXBlVG9DbG9zZScsICd0YXJnZXRFdmVudCddLFxuICAgICAgICAvLyAgIG9wdGlvbnM6IGRpYWxvZ0RlZmF1bHRPcHRpb25zXG4gICAgICAgIC8vIH0pXG4gICAgICAgIC8vIC5hZGRQcmVzZXQoJ2FsZXJ0Jywge1xuICAgICAgICAvLyAgIG1ldGhvZHM6IFsndGl0bGUnLCAnb2snXSxcbiAgICAgICAgLy8gICBvcHRpb25zOiBhbGVydERpYWxvZ09wdGlvbnNcbiAgICAgICAgLy8gfSlcbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2V0IHZhbHVlcyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgb3B0aW9ucyB3aGVuIGludGVyaW1FbGVtZW50LnNob3coKSBpcyBjYWxsZWQuXG4gICAgICAgIGZ1bmN0aW9uIFByZXNldChvcHRzKSB7XG4gICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBwcmVzZXREZWZhdWx0cywgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHByZXNldE1ldGhvZHMsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICBQcmVzZXQucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENyZWF0ZSBzaG9ydGN1dCBtZXRob2QgZm9yIG9uZS1saW5lYXIgbWV0aG9kc1xuICAgICAgICBpZiAoZGVmaW5pdGlvbi5hcmdPcHRpb24pIHtcbiAgICAgICAgICB2YXIgbWV0aG9kTmFtZSA9ICdzaG93JyArIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpO1xuICAgICAgICAgIHB1YmxpY1NlcnZpY2VbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgIHZhciBjb25maWcgPSBwdWJsaWNTZXJ2aWNlW25hbWVdKGFyZyk7XG4gICAgICAgICAgICByZXR1cm4gcHVibGljU2VydmljZS5zaG93KGNvbmZpZyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVnICRtZERpYWxvZy5hbGVydCgpIHdpbGwgcmV0dXJuIGEgbmV3IGFsZXJ0IHByZXNldFxuICAgICAgICBwdWJsaWNTZXJ2aWNlW25hbWVdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgLy8gSWYgYXJnT3B0aW9uIGlzIHN1cHBsaWVkLCBlZyBgYXJnT3B0aW9uOiAnY29udGVudCdgLCB0aGVuIHdlIGFzc3VtZVxuICAgICAgICAgIC8vIGlmIHRoZSBhcmd1bWVudCBpcyBub3QgYW4gb3B0aW9ucyBvYmplY3QgdGhlbiBpdCBpcyB0aGUgYGFyZ09wdGlvbmAgb3B0aW9uLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gQGV4YW1wbGUgYCRtZFRvYXN0LnNpbXBsZSgnaGVsbG8nKWAgLy8gc2V0cyBvcHRpb25zLmNvbnRlbnQgdG8gaGVsbG9cbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGFyZ09wdGlvbiA9PT0gJ2NvbnRlbnQnXG4gICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggJiYgZGVmaW5pdGlvbi5hcmdPcHRpb24gJiZcbiAgICAgICAgICAgICAgIWFuZ3VsYXIuaXNPYmplY3QoYXJnKSAmJiAhYW5ndWxhci5pc0FycmF5KGFyZykpICB7XG5cbiAgICAgICAgICAgIHJldHVybiAobmV3IFByZXNldCgpKVtkZWZpbml0aW9uLmFyZ09wdGlvbl0oYXJnKTtcblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByZXNldChhcmcpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBwdWJsaWNTZXJ2aWNlO1xuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHNob3dJbnRlcmltRWxlbWVudChvcHRzKSB7XG4gICAgICAgIC8vIG9wdHMgaXMgZWl0aGVyIGEgcHJlc2V0IHdoaWNoIHN0b3JlcyBpdHMgb3B0aW9ucyBvbiBhbiBfb3B0aW9ucyBmaWVsZCxcbiAgICAgICAgLy8gb3IganVzdCBhbiBvYmplY3QgbWFkZSB1cCBvZiBvcHRpb25zXG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHsgfTtcbiAgICAgICAgaWYgKG9wdHMuX29wdGlvbnMpIG9wdHMgPSBvcHRzLl9vcHRpb25zO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmltRWxlbWVudFNlcnZpY2Uuc2hvdyhcbiAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdHMpXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogIFNwZWNpYWwgbWV0aG9kIHRvIGhpZGUgYW5kIGRlc3Ryb3kgYW4gaW50ZXJpbUVsZW1lbnQgV0lUSE9VVFxuICAgICAgICogIGFueSAnbGVhdmVgIG9yIGhpZGUgYW5pbWF0aW9ucyAoIGFuIGltbWVkaWF0ZSBmb3JjZSBoaWRlL3JlbW92ZSApXG4gICAgICAgKlxuICAgICAgICogIE5PVEU6IFRoaXMgY2FsbHMgdGhlIG9uUmVtb3ZlKCkgc3ViY2xhc3MgbWV0aG9kIGZvciBlYWNoIGNvbXBvbmVudC4uLlxuICAgICAgICogIHdoaWNoIG11c3QgaGF2ZSBjb2RlIHRvIHJlc3BvbmQgdG8gYG9wdGlvbnMuJGRlc3Ryb3kgPT0gdHJ1ZWBcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZGVzdHJveUludGVyaW1FbGVtZW50KG9wdHMpIHtcbiAgICAgICAgICByZXR1cm4gaW50ZXJpbUVsZW1lbnRTZXJ2aWNlLmRlc3Ryb3kob3B0cyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGVscGVyIHRvIGNhbGwgJGluamVjdG9yLmludm9rZSB3aXRoIGEgbG9jYWwgb2YgdGhlIGZhY3RvcnkgbmFtZSBmb3JcbiAgICAgICAqIHRoaXMgcHJvdmlkZXIuXG4gICAgICAgKiBJZiBhbiAkbWREaWFsb2cgaXMgcHJvdmlkaW5nIG9wdGlvbnMgZm9yIGEgZGlhbG9nIGFuZCB0cmllcyB0byBpbmplY3RcbiAgICAgICAqICRtZERpYWxvZywgYSBjaXJjdWxhciBkZXBlbmRlbmN5IGVycm9yIHdpbGwgaGFwcGVuLlxuICAgICAgICogV2UgZ2V0IGFyb3VuZCB0aGF0IGJ5IG1hbnVhbGx5IGluamVjdGluZyAkbWREaWFsb2cgYXMgYSBsb2NhbC5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gaW52b2tlRmFjdG9yeShmYWN0b3J5LCBkZWZhdWx0VmFsKSB7XG4gICAgICAgIHZhciBsb2NhbHMgPSB7fTtcbiAgICAgICAgbG9jYWxzW2ludGVyaW1GYWN0b3J5TmFtZV0gPSBwdWJsaWNTZXJ2aWNlO1xuICAgICAgICByZXR1cm4gJGluamVjdG9yLmludm9rZShmYWN0b3J5IHx8IGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVmYXVsdFZhbDsgfSwge30sIGxvY2Fscyk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgfVxuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBJbnRlcmltRWxlbWVudEZhY3RvcnkoJGRvY3VtZW50LCAkcSwgJCRxLCAkcm9vdFNjb3BlLCAkdGltZW91dCwgJHJvb3RFbGVtZW50LCAkYW5pbWF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtZFV0aWwsICRtZENvbXBpbGVyLCAkbWRUaGVtaW5nLCAkaW5qZWN0b3IgKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUludGVyaW1FbGVtZW50U2VydmljZSgpIHtcbiAgICAgIHZhciBTSE9XX0NBTkNFTExFRCA9IGZhbHNlO1xuXG4gICAgICAvKlxuICAgICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgICAqIEBuYW1lICQkaW50ZXJpbUVsZW1lbnQuJHNlcnZpY2VcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEEgc2VydmljZSB1c2VkIHRvIGNvbnRyb2wgaW5zZXJ0aW5nIGFuZCByZW1vdmluZyBhbiBlbGVtZW50IGludG8gdGhlIERPTS5cbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIHZhciBzZXJ2aWNlLCBzdGFjayA9IFtdO1xuXG4gICAgICAvLyBQdWJsaXNoIGluc3RhbmNlICQkaW50ZXJpbUVsZW1lbnQgc2VydmljZTtcbiAgICAgIC8vIC4uLiB1c2VkIGFzICRtZERpYWxvZywgJG1kVG9hc3QsICRtZE1lbnUsIGFuZCAkbWRTZWxlY3RcblxuICAgICAgcmV0dXJuIHNlcnZpY2UgPSB7XG4gICAgICAgIHNob3c6IHNob3csXG4gICAgICAgIGhpZGU6IGhpZGUsXG4gICAgICAgIGNhbmNlbDogY2FuY2VsLFxuICAgICAgICBkZXN0cm95IDogZGVzdHJveSxcbiAgICAgICAgJGluamVjdG9yXzogJGluamVjdG9yXG4gICAgICB9O1xuXG4gICAgICAvKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJCRpbnRlcmltRWxlbWVudC4kc2VydmljZSNzaG93XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQWRkcyB0aGUgYCRpbnRlcmltRWxlbWVudGAgdG8gdGhlIERPTSBhbmQgcmV0dXJucyBhIHNwZWNpYWwgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWRcbiAgICAgICAqIHdpdGggaGlkZSBvciBjYW5jZWwsIHJlc3BlY3RpdmVseS4gVG8gZXh0ZXJuYWwgY2FuY2VsL2hpZGUsIGRldmVsb3BlcnMgc2hvdWxkIHVzZSB0aGVcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMgaXMgaGFzaE1hcCBvZiBzZXR0aW5nc1xuICAgICAgICogQHJldHVybnMgYSBQcm9taXNlXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBzaG93KG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBpbnRlcmltRWxlbWVudCA9IG5ldyBJbnRlcmltRWxlbWVudChvcHRpb25zIHx8IHt9KTtcbiAgICAgICAgdmFyIGhpZGVFeGlzdGluZyA9ICFvcHRpb25zLnNraXBIaWRlICYmIHN0YWNrLmxlbmd0aCA/IHNlcnZpY2UuaGlkZSgpIDogJHEud2hlbih0cnVlKTtcblxuICAgICAgICAvLyBUaGlzIGhpZGUoKXMgb25seSB0aGUgY3VycmVudCBpbnRlcmltIGVsZW1lbnQgYmVmb3JlIHNob3dpbmcgdGhlIG5leHQsIG5ldyBvbmVcbiAgICAgICAgLy8gTk9URTogdGhpcyBpcyBub3QgcmV2ZXJzaWJsZSAoZS5nLiBpbnRlcmltIGVsZW1lbnRzIGFyZSBub3Qgc3RhY2thYmxlKVxuXG4gICAgICAgIGhpZGVFeGlzdGluZy5maW5hbGx5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgc3RhY2sucHVzaChpbnRlcmltRWxlbWVudCk7XG4gICAgICAgICAgaW50ZXJpbUVsZW1lbnRcbiAgICAgICAgICAgIC5zaG93KClcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiggcmVhc29uICkge1xuICAgICAgICAgICAgICAvLyRsb2cuZXJyb3IoXCJJbnRlcmltRWxlbWVudC5zaG93KCkgZXJyb3I6IFwiICsgcmVhc29uICk7XG4gICAgICAgICAgICAgIHJldHVybiByZWFzb247XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZXR1cm4gYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSBpbnRlcmltXG4gICAgICAgIC8vIGVsZW1lbnQgaXMgaGlkZGVuIG9yIGNhbmNlbGxlZC4uLlxuXG4gICAgICAgIHJldHVybiBpbnRlcmltRWxlbWVudC5kZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJCRpbnRlcmltRWxlbWVudC4kc2VydmljZSNoaWRlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgYCRpbnRlcmltRWxlbWVudGAgZnJvbSB0aGUgRE9NIGFuZCByZXNvbHZlcyB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGBzaG93YFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0gcmVzb2x2ZVBhcmFtIERhdGEgdG8gcmVzb2x2ZSB0aGUgcHJvbWlzZSB3aXRoXG4gICAgICAgKiBAcmV0dXJucyBhIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIHJlbW92ZWQuXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBoaWRlKHJlYXNvbiwgb3B0aW9ucykge1xuICAgICAgICBpZiAoICFzdGFjay5sZW5ndGggKSByZXR1cm4gJHEud2hlbihyZWFzb24pO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jbG9zZUFsbCkge1xuICAgICAgICAgIHZhciBwcm9taXNlID0gJHEuYWxsKHN0YWNrLnJldmVyc2UoKS5tYXAoY2xvc2VFbGVtZW50KSk7XG4gICAgICAgICAgc3RhY2sgPSBbXTtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmNsb3NlVG8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiAkcS5hbGwoc3RhY2suc3BsaWNlKG9wdGlvbnMuY2xvc2VUbykubWFwKGNsb3NlRWxlbWVudCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpbnRlcmltID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgcmV0dXJuIGNsb3NlRWxlbWVudChpbnRlcmltKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsb3NlRWxlbWVudChpbnRlcmltKSB7XG4gICAgICAgICAgaW50ZXJpbVxuICAgICAgICAgICAgLnJlbW92ZShyZWFzb24sIGZhbHNlLCBvcHRpb25zIHx8IHsgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiggcmVhc29uICkge1xuICAgICAgICAgICAgICAvLyRsb2cuZXJyb3IoXCJJbnRlcmltRWxlbWVudC5oaWRlKCkgZXJyb3I6IFwiICsgcmVhc29uICk7XG4gICAgICAgICAgICAgIHJldHVybiByZWFzb247XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gaW50ZXJpbS5kZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkJGludGVyaW1FbGVtZW50LiRzZXJ2aWNlI2NhbmNlbFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlbW92ZXMgdGhlIGAkaW50ZXJpbUVsZW1lbnRgIGZyb20gdGhlIERPTSBhbmQgcmVqZWN0cyB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGBzaG93YFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0gcmVhc29uIERhdGEgdG8gcmVqZWN0IHRoZSBwcm9taXNlIHdpdGhcbiAgICAgICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIHJlbW92ZWQuXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBjYW5jZWwocmVhc29uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBpbnRlcmltID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgaWYgKCAhaW50ZXJpbSApIHJldHVybiAkcS53aGVuKHJlYXNvbik7XG5cbiAgICAgICAgaW50ZXJpbVxuICAgICAgICAgIC5yZW1vdmUocmVhc29uLCB0cnVlLCBvcHRpb25zIHx8IHsgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oIHJlYXNvbiApIHtcbiAgICAgICAgICAgIC8vJGxvZy5lcnJvcihcIkludGVyaW1FbGVtZW50LmNhbmNlbCgpIGVycm9yOiBcIiArIHJlYXNvbiApO1xuICAgICAgICAgICAgcmV0dXJuIHJlYXNvbjtcbiAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gaW50ZXJpbS5kZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogU3BlY2lhbCBtZXRob2QgdG8gcXVpY2stcmVtb3ZlIHRoZSBpbnRlcmltIGVsZW1lbnQgd2l0aG91dCBhbmltYXRpb25zXG4gICAgICAgKiBOb3RlOiBpbnRlcmltIGVsZW1lbnRzIGFyZSBpbiBcImludGVyaW0gY29udGFpbmVyc1wiXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGRlc3Ryb3kodGFyZ2V0KSB7XG4gICAgICAgIHZhciBpbnRlcmltID0gIXRhcmdldCA/IHN0YWNrLnNoaWZ0KCkgOiBudWxsO1xuICAgICAgICB2YXIgY250ciA9IGFuZ3VsYXIuZWxlbWVudCh0YXJnZXQpLmxlbmd0aCA/IGFuZ3VsYXIuZWxlbWVudCh0YXJnZXQpWzBdLnBhcmVudE5vZGUgOiBudWxsO1xuXG4gICAgICAgIGlmIChjbnRyKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gZmluZCB0aGUgaW50ZXJpbSBlbGVtZW50IGluIHRoZSBzdGFjayB3aGljaCBjb3JyZXNwb25kcyB0byB0aGUgc3VwcGxpZWQgRE9NIGVsZW1lbnQuXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSBzdGFjay5maWx0ZXIoZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBjdXJyTm9kZSA9IGVudHJ5Lm9wdGlvbnMuZWxlbWVudFswXTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAgKGN1cnJOb2RlID09PSBjbnRyKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBmdW5jdGlvbiBtaWdodCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBhbHJlYWR5IGhhcyBiZWVuIHJlbW92ZWQsIGluIHdoaWNoXG4gICAgICAgICAgICAvLyAgICAgICBjYXNlIHdlIHdvbid0IGZpbmQgYW55IG1hdGNoZXMuIFRoYXQncyBvay5cbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGludGVyaW0gPSBmaWx0ZXJlZFswXTtcbiAgICAgICAgICAgICAgc3RhY2suc3BsaWNlKHN0YWNrLmluZGV4T2YoaW50ZXJpbSksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGludGVyaW0gPyBpbnRlcmltLnJlbW92ZShTSE9XX0NBTkNFTExFRCwgZmFsc2UsIHsnJGRlc3Ryb3knOnRydWV9KSA6ICRxLndoZW4oU0hPV19DQU5DRUxMRUQpO1xuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogSW50ZXJuYWwgSW50ZXJpbSBFbGVtZW50IE9iamVjdFxuICAgICAgICogVXNlZCBpbnRlcm5hbGx5IHRvIG1hbmFnZSB0aGUgRE9NIGVsZW1lbnQgYW5kIHJlbGF0ZWQgZGF0YVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBJbnRlcmltRWxlbWVudChvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmLCBlbGVtZW50LCBzaG93QWN0aW9uID0gJHEud2hlbih0cnVlKTtcblxuICAgICAgICBvcHRpb25zID0gY29uZmlndXJlU2NvcGVBbmRUcmFuc2l0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gc2VsZiA9IHtcbiAgICAgICAgICBvcHRpb25zIDogb3B0aW9ucyxcbiAgICAgICAgICBkZWZlcnJlZDogJHEuZGVmZXIoKSxcbiAgICAgICAgICBzaG93ICAgIDogY3JlYXRlQW5kVHJhbnNpdGlvbkluLFxuICAgICAgICAgIHJlbW92ZSAgOiB0cmFuc2l0aW9uT3V0QW5kUmVtb3ZlXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBpbGUsIGxpbmssIGFuZCBzaG93IHRoaXMgaW50ZXJpbSBlbGVtZW50XG4gICAgICAgICAqIFVzZSBvcHRpb25hbCBhdXRvSGlkZWQgYW5kIHRyYW5zaXRpb24taW4gZWZmZWN0c1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQW5kVHJhbnNpdGlvbkluKCkge1xuICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuXG4gICAgICAgICAgICBjb21waWxlRWxlbWVudChvcHRpb25zKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiggY29tcGlsZWREYXRhICkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBsaW5rRWxlbWVudCggY29tcGlsZWREYXRhLCBvcHRpb25zICk7XG5cbiAgICAgICAgICAgICAgICBzaG93QWN0aW9uID0gc2hvd0VsZW1lbnQoZWxlbWVudCwgb3B0aW9ucywgY29tcGlsZWREYXRhLmNvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlLCByZWplY3RBbGwgKTtcblxuICAgICAgICAgICAgICB9LCByZWplY3RBbGwpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RBbGwoZmF1bHQpIHtcbiAgICAgICAgICAgICAgLy8gRm9yY2UgdGhlICckbWQ8eHh4Pi5zaG93KCknIHByb21pc2UgdG8gcmVqZWN0XG4gICAgICAgICAgICAgIHNlbGYuZGVmZXJyZWQucmVqZWN0KGZhdWx0KTtcblxuICAgICAgICAgICAgICAvLyBDb250aW51ZSByZWplY3Rpb24gcHJvcGFnYXRpb25cbiAgICAgICAgICAgICAgcmVqZWN0KGZhdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZnRlciB0aGUgc2hvdyBwcm9jZXNzIGhhcyBmaW5pc2hlZC9yZWplY3RlZDpcbiAgICAgICAgICogLSBhbm5vdW5jZSAncmVtb3ZpbmcnLFxuICAgICAgICAgKiAtIHBlcmZvcm0gdGhlIHRyYW5zaXRpb24tb3V0LCBhbmRcbiAgICAgICAgICogLSBwZXJmb3JtIG9wdGlvbmFsIGNsZWFuIHVwIHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gdHJhbnNpdGlvbk91dEFuZFJlbW92ZShyZXNwb25zZSwgaXNDYW5jZWxsZWQsIG9wdHMpIHtcblxuICAgICAgICAgIC8vIGFib3J0IGlmIHRoZSBzaG93KCkgYW5kIGNvbXBpbGUgZmFpbGVkXG4gICAgICAgICAgaWYgKCAhZWxlbWVudCApIHJldHVybiAkcS53aGVuKGZhbHNlKTtcblxuICAgICAgICAgIG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZChvcHRpb25zIHx8IHt9LCBvcHRzIHx8IHt9KTtcbiAgICAgICAgICBvcHRpb25zLmNhbmNlbEF1dG9IaWRlICYmIG9wdGlvbnMuY2FuY2VsQXV0b0hpZGUoKTtcbiAgICAgICAgICBvcHRpb25zLmVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJyRtZEludGVyaW1FbGVtZW50UmVtb3ZlJyk7XG5cbiAgICAgICAgICBpZiAoIG9wdGlvbnMuJGRlc3Ryb3kgPT09IHRydWUgKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBoaWRlRWxlbWVudChvcHRpb25zLmVsZW1lbnQsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgKGlzQ2FuY2VsbGVkICYmIHJlamVjdEFsbChyZXNwb25zZSkpIHx8IHJlc29sdmVBbGwocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAkcS53aGVuKHNob3dBY3Rpb24pXG4gICAgICAgICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBoaWRlRWxlbWVudChvcHRpb25zLmVsZW1lbnQsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgKGlzQ2FuY2VsbGVkICYmIHJlamVjdEFsbChyZXNwb25zZSkpIHx8IHJlc29sdmVBbGwocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgICAgICB9LCByZWplY3RBbGwpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5kZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogVGhlIGBzaG93KClgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSBpbnRlcmltXG4gICAgICAgICAgICogZWxlbWVudCBpcyBoaWRkZW4gb3IgY2FuY2VsbGVkLi4uXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUFsbChyZXNwb25zZSkge1xuICAgICAgICAgICAgc2VsZi5kZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBGb3JjZSB0aGUgJyRtZDx4eHg+LnNob3coKScgcHJvbWlzZSB0byByZWplY3RcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiByZWplY3RBbGwoZmF1bHQpIHtcbiAgICAgICAgICAgIHNlbGYuZGVmZXJyZWQucmVqZWN0KGZhdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlcGFyZSBvcHRpb25hbCBpc29sYXRlZCBzY29wZSBhbmQgcHJlcGFyZSAkYW5pbWF0ZSB3aXRoIGRlZmF1bHQgZW50ZXIgYW5kIGxlYXZlXG4gICAgICAgICAqIHRyYW5zaXRpb25zIGZvciB0aGUgbmV3IGVsZW1lbnQgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjb25maWd1cmVTY29wZUFuZFRyYW5zaXRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IH07XG4gICAgICAgICAgaWYgKCBvcHRpb25zLnRlbXBsYXRlICkge1xuICAgICAgICAgICAgb3B0aW9ucy50ZW1wbGF0ZSA9ICRtZFV0aWwucHJvY2Vzc1RlbXBsYXRlKG9wdGlvbnMudGVtcGxhdGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgICAgICBwcmVzZXJ2ZVNjb3BlOiBmYWxzZSxcbiAgICAgICAgICAgIGNhbmNlbEF1dG9IaWRlIDogYW5ndWxhci5ub29wLFxuICAgICAgICAgICAgc2NvcGU6IG9wdGlvbnMuc2NvcGUgfHwgJHJvb3RTY29wZS4kbmV3KG9wdGlvbnMuaXNvbGF0ZVNjb3BlKSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZhdWx0IHVzYWdlIHRvIGVuYWJsZSAkYW5pbWF0ZSB0byB0cmFuc2l0aW9uLWluOyBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gdmlhICdvcHRpb25zJ1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvblNob3c6IGZ1bmN0aW9uIHRyYW5zaXRpb25JbihzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICAgICAgICByZXR1cm4gJGFuaW1hdGUuZW50ZXIoZWxlbWVudCwgb3B0aW9ucy5wYXJlbnQpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZhdWx0IHVzYWdlIHRvIGVuYWJsZSAkYW5pbWF0ZSB0byB0cmFuc2l0aW9uLW91dDsgY2FuIGJlIGVhc2lseSBvdmVycmlkZGVuIHZpYSAnb3B0aW9ucydcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb25SZW1vdmU6IGZ1bmN0aW9uIHRyYW5zaXRpb25PdXQoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgLy8gRWxlbWVudCBjb3VsZCBiZSB1bmRlZmluZWQgaWYgYSBuZXcgZWxlbWVudCBpcyBzaG93biBiZWZvcmVcbiAgICAgICAgICAgICAgLy8gdGhlIG9sZCBvbmUgZmluaXNoZXMgY29tcGlsaW5nLlxuICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudCAmJiAkYW5pbWF0ZS5sZWF2ZShlbGVtZW50KSB8fCAkcS53aGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgb3B0aW9ucyApO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcGlsZSBhbiBlbGVtZW50IHdpdGggYSB0ZW1wbGF0ZVVybCwgY29udHJvbGxlciwgYW5kIGxvY2Fsc1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY29tcGlsZUVsZW1lbnQob3B0aW9ucykge1xuXG4gICAgICAgICAgdmFyIGNvbXBpbGVkID0gIW9wdGlvbnMuc2tpcENvbXBpbGUgPyAkbWRDb21waWxlci5jb21waWxlKG9wdGlvbnMpIDogbnVsbDtcblxuICAgICAgICAgIHJldHVybiBjb21waWxlZCB8fCAkcShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBsb2NhbHM6IHt9LFxuICAgICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqICBMaW5rIGFuIGVsZW1lbnQgd2l0aCBjb21waWxlZCBjb25maWd1cmF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBsaW5rRWxlbWVudChjb21waWxlRGF0YSwgb3B0aW9ucyl7XG4gICAgICAgICAgYW5ndWxhci5leHRlbmQoY29tcGlsZURhdGEubG9jYWxzLCBvcHRpb25zKTtcblxuICAgICAgICAgIHZhciBlbGVtZW50ID0gY29tcGlsZURhdGEubGluayhvcHRpb25zLnNjb3BlKTtcblxuICAgICAgICAgIC8vIFNlYXJjaCBmb3IgcGFyZW50IGF0IGluc2VydGlvbiB0aW1lLCBpZiBub3Qgc3BlY2lmaWVkXG4gICAgICAgICAgb3B0aW9ucy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICBvcHRpb25zLnBhcmVudCA9IGZpbmRQYXJlbnQoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgaWYgKG9wdGlvbnMudGhlbWFibGUpICRtZFRoZW1pbmcoZWxlbWVudCk7XG5cbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWFyY2ggZm9yIHBhcmVudCBhdCBpbnNlcnRpb24gdGltZSwgaWYgbm90IHNwZWNpZmllZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZmluZFBhcmVudChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xuXG4gICAgICAgICAgLy8gU2VhcmNoIGZvciBwYXJlbnQgYXQgaW5zZXJ0aW9uIHRpbWUsIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHBhcmVudCkpIHtcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudChvcHRpb25zLnNjb3BlLCBlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcocGFyZW50KSkge1xuICAgICAgICAgICAgcGFyZW50ID0gYW5ndWxhci5lbGVtZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKHBhcmVudCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBhbmd1bGFyLmVsZW1lbnQocGFyZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiBwYXJlbnQgcXVlcnlTZWxlY3Rvci9nZXR0ZXIgZnVuY3Rpb24gZmFpbHMsIG9yIGl0J3MganVzdCBudWxsLFxuICAgICAgICAgIC8vIGZpbmQgYSBkZWZhdWx0LlxuICAgICAgICAgIGlmICghKHBhcmVudCB8fCB7fSkubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgZWw7XG4gICAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50WzBdICYmICRyb290RWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgIGVsID0gJHJvb3RFbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJzpub3Qoc3ZnKSA+IGJvZHknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZWwpIGVsID0gJHJvb3RFbGVtZW50WzBdO1xuICAgICAgICAgICAgaWYgKGVsLm5vZGVOYW1lID09ICcjY29tbWVudCcpIHtcbiAgICAgICAgICAgICAgZWwgPSAkZG9jdW1lbnRbMF0uYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmVsZW1lbnQoZWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYXV0by1oaWRlIGlzIGVuYWJsZWQsIHN0YXJ0IHRpbWVyIGFuZCBwcmVwYXJlIGNhbmNlbCBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc3RhcnRBdXRvSGlkZSgpIHtcbiAgICAgICAgICB2YXIgYXV0b0hpZGVUaW1lciwgY2FuY2VsQXV0b0hpZGUgPSBhbmd1bGFyLm5vb3A7XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5oaWRlRGVsYXkpIHtcbiAgICAgICAgICAgIGF1dG9IaWRlVGltZXIgPSAkdGltZW91dChzZXJ2aWNlLmhpZGUsIG9wdGlvbnMuaGlkZURlbGF5KSA7XG4gICAgICAgICAgICBjYW5jZWxBdXRvSGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoYXV0b0hpZGVUaW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ2FjaGUgZm9yIHN1YnNlcXVlbnQgdXNlXG4gICAgICAgICAgb3B0aW9ucy5jYW5jZWxBdXRvSGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FuY2VsQXV0b0hpZGUoKTtcbiAgICAgICAgICAgIG9wdGlvbnMuY2FuY2VsQXV0b0hpZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3cgdGhlIGVsZW1lbnQgKCB3aXRoIHRyYW5zaXRpb25zKSwgbm90aWZ5IGNvbXBsZXRlIGFuZCBzdGFydFxuICAgICAgICAgKiBvcHRpb25hbCBhdXRvLUhpZGVcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNob3dFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAvLyBUcmlnZ2VyIG9uU2hvd2luZyBjYWxsYmFjayBiZWZvcmUgdGhlIGBzaG93KClgIHN0YXJ0c1xuICAgICAgICAgIHZhciBub3RpZnlTaG93aW5nID0gb3B0aW9ucy5vblNob3dpbmcgfHwgYW5ndWxhci5ub29wO1xuICAgICAgICAgIC8vIFRyaWdnZXIgb25Db21wbGV0ZSBjYWxsYmFjayB3aGVuIHRoZSBgc2hvdygpYCBmaW5pc2hlc1xuICAgICAgICAgIHZhciBub3RpZnlDb21wbGV0ZSA9IG9wdGlvbnMub25Db21wbGV0ZSB8fCBhbmd1bGFyLm5vb3A7XG5cbiAgICAgICAgICBub3RpZnlTaG93aW5nKG9wdGlvbnMuc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMsIGNvbnRyb2xsZXIpO1xuXG4gICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIFN0YXJ0IHRyYW5zaXRpb25JblxuICAgICAgICAgICAgICAkcS53aGVuKG9wdGlvbnMub25TaG93KG9wdGlvbnMuc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMsIGNvbnRyb2xsZXIpKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIG5vdGlmeUNvbXBsZXRlKG9wdGlvbnMuc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgc3RhcnRBdXRvSGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICByZXNvbHZlKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgfSwgcmVqZWN0ICk7XG5cbiAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICByZWplY3QoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGhpZGVFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgICB2YXIgYW5ub3VuY2VSZW1vdmluZyA9IG9wdGlvbnMub25SZW1vdmluZyB8fCBhbmd1bGFyLm5vb3A7XG5cbiAgICAgICAgICByZXR1cm4gJCRxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIFN0YXJ0IHRyYW5zaXRpb25JblxuICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gJCRxLndoZW4oIG9wdGlvbnMub25SZW1vdmUob3B0aW9ucy5zY29wZSwgZWxlbWVudCwgb3B0aW9ucykgfHwgdHJ1ZSApO1xuXG4gICAgICAgICAgICAgIC8vIFRyaWdnZXIgY2FsbGJhY2sgKmJlZm9yZSogdGhlIHJlbW92ZSBvcGVyYXRpb24gc3RhcnRzXG4gICAgICAgICAgICAgIGFubm91bmNlUmVtb3ZpbmcoZWxlbWVudCwgYWN0aW9uKTtcblxuICAgICAgICAgICAgICBpZiAoIG9wdGlvbnMuJGRlc3Ryb3kgPT0gdHJ1ZSApIHtcblxuICAgICAgICAgICAgICAgIC8vIEZvciAkZGVzdHJveSwgb25SZW1vdmUgc2hvdWxkIGJlIHN5bmNocm9ub3VzXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShlbGVtZW50KTtcblxuICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgLy8gV2FpdCB1bnRpbCB0cmFuc2l0aW9uLW91dCBpcyBkb25lXG4gICAgICAgICAgICAgICAgYWN0aW9uLnRoZW4oZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMucHJlc2VydmVTY29wZSAmJiBvcHRpb25zLnNjb3BlICkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJlc29sdmUoZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICB9LCByZWplY3QgKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGUubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH07XG5cbiAgfVxuXG59XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJG1kVXRpbCwgJGludGVycG9sYXRlLCAkbG9nO1xuXG4gIHZhciBTVUZGSVhFUyA9IC8oLWd0KT8tKHNtfG1kfGxnKS9nO1xuICB2YXIgV0hJVEVTUEFDRSA9IC9cXHMrL2c7XG5cbiAgdmFyIEZMRVhfT1BUSU9OUyA9IFsnZ3JvdycsICdpbml0aWFsJywgJ2F1dG8nLCAnbm9uZScsICdub3NocmluaycsICdub2dyb3cnIF07XG4gIHZhciBMQVlPVVRfT1BUSU9OUyA9IFsncm93JywgJ2NvbHVtbiddO1xuICB2YXIgQUxJR05NRU5UX01BSU5fQVhJUz0gWyBcIlwiLCBcInN0YXJ0XCIsIFwiY2VudGVyXCIsIFwiZW5kXCIsIFwic3RyZXRjaFwiLCBcInNwYWNlLWFyb3VuZFwiLCBcInNwYWNlLWJldHdlZW5cIiBdO1xuICB2YXIgQUxJR05NRU5UX0NST1NTX0FYSVM9IFsgXCJcIiwgXCJzdGFydFwiLCBcImNlbnRlclwiLCBcImVuZFwiLCBcInN0cmV0Y2hcIiBdO1xuXG4gIHZhciBjb25maWcgPSB7XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGRpcmVjdGl2ZSBhdHRyaWJ1dGUtdG8tY2xhc3MgY29udmVyc2lvbnNcbiAgICAgKiBEZXZlbG9wZXJzIGNhbiB1c2UgYDxib2R5IG1kLWxheW91dC1jc3MgLz5gIHRvIHF1aWNrbHlcbiAgICAgKiBkaXNhYmxlIHRoZSBMYXlvdXQgZGlyZWN0aXZlcyBhbmQgcHJvaGliaXQgdGhlIGluamVjdGlvbiBvZiBMYXlvdXQgY2xhc3NOYW1lc1xuICAgICAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIG1lZGlhUXVlcnkgYnJlYWtwb2ludHMgYW5kIGFzc29jaWF0ZWQgc3VmZml4ZXNcbiAgICAgKlxuICAgICAqICAgW1xuICAgICAqICAgIHsgc3VmZml4OiBcInNtXCIsIG1lZGlhUXVlcnk6IFwic2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1OTlweClcIiB9LFxuICAgICAqICAgIHsgc3VmZml4OiBcIm1kXCIsIG1lZGlhUXVlcnk6IFwic2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDBweCkgYW5kIChtYXgtd2lkdGg6IDk1OXB4KVwiIH1cbiAgICAgKiAgIF1cbiAgICAgKi9cbiAgICBicmVha3BvaW50czogW11cbiAgfTtcblxuICByZWdpc3RlckxheW91dEFQSSggYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUubGF5b3V0JywgWyduZyddKSApO1xuXG4gIC8qKlxuICAgKiAgIHJlZ2lzdGVyTGF5b3V0QVBJKClcbiAgICpcbiAgICogICBUaGUgb3JpZ2luYWwgbmdNYXRlcmlhbCBMYXlvdXQgc29sdXRpb24gdXNlZCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFuZCBDU1MuXG4gICAqXG4gICAqICBgYGBodG1sXG4gICAqICA8ZGl2IGxheW91dD1cImNvbHVtblwiPiBNeSBDb250ZW50IDwvZGl2PlxuICAgKiAgYGBgXG4gICAqXG4gICAqICBgYGBjc3NcbiAgICogIFtsYXlvdXRdIHtcbiAgICogICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICogICAgZGlzcGxheTpmbGV4O1xuICAgKiAgfVxuICAgKiAgW2xheW91dD1jb2x1bW5dIHtcbiAgICogICAgZmxleC1kaXJlY3Rpb24gOiBjb2x1bW5cbiAgICogIH1cbiAgICogIGBgYFxuICAgKlxuICAgKiAgVXNlIG9mIGF0dHJpYnV0ZSBzZWxlY3RvcnMgY3JlYXRlcyBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpbXBhY3RzIGluIHNvbWVcbiAgICogIGJyb3dzZXJzLi4uIG1haW5seSBJRS5cbiAgICpcbiAgICogIFRoaXMgbW9kdWxlIHJlZ2lzdGVycyBkaXJlY3RpdmVzIHRoYXQgYWxsb3cgdGhlIHNhbWUgbGF5b3V0IGF0dHJpYnV0ZXMgdG8gYmVcbiAgICogIGludGVycHJldGVkIGFuZCBjb252ZXJ0ZWQgdG8gY2xhc3Mgc2VsZWN0b3JzLiBUaGUgZGlyZWN0aXZlIHdpbGwgYWRkIGVxdWl2YWxlbnQgY2xhc3NlcyB0byBlYWNoIGVsZW1lbnQgdGhhdFxuICAgKiAgY29udGFpbnMgYSBMYXlvdXQgZGlyZWN0aXZlLlxuICAgKlxuICAgKiBgYGBodG1sXG4gICAqICAgPGRpdiBsYXlvdXQ9XCJjb2x1bW5cIiBjbGFzcz1cImxheW91dCBsYXlvdXQtY29sdW1uXCI+IE15IENvbnRlbnQgPC9kaXY+XG4gICAqYGBgXG4gICAqXG4gICAqICBgYGBjc3NcbiAgICogIC5sYXlvdXQge1xuICAgKiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgKiAgICBkaXNwbGF5OmZsZXg7XG4gICAqICB9XG4gICAqICAubGF5b3V0LWNvbHVtbiB7XG4gICAqICAgIGZsZXgtZGlyZWN0aW9uIDogY29sdW1uXG4gICAqICB9XG4gICAqICBgYGBcbiAgICovXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyTGF5b3V0QVBJKG1vZHVsZSl7XG4gICAgdmFyIFBSRUZJWF9SRUdFWFAgPSAvXigoPzp4fGRhdGEpW1xcOlxcLV9dKS9pO1xuICAgIHZhciBTUEVDSUFMX0NIQVJTX1JFR0VYUCA9IC8oW1xcOlxcLVxcX10rKC4pKS9nO1xuXG4gICAgLy8gTk9URTogdGhlc2UgYXJlIGFsc28gZGVmaW5lZCBpbiBjb25zdGFudHM6Ok1FRElBX1BSSU9SSVRZIGFuZCBjb25zdGFudHM6Ok1FRElBXG4gICAgdmFyIEJSRUFLUE9JTlRTICAgICA9IFsgXCJcIiwgXCJ4c1wiLCBcImd0LXhzXCIsIFwic21cIiwgXCJndC1zbVwiLCBcIm1kXCIsIFwiZ3QtbWRcIiwgXCJsZ1wiLCBcImd0LWxnXCIsIFwieGxcIiBdO1xuICAgIHZhciBBUElfV0lUSF9WQUxVRVMgPSBbIFwibGF5b3V0XCIsIFwiZmxleFwiLCBcImZsZXgtb3JkZXJcIiwgXCJmbGV4LW9mZnNldFwiLCBcImxheW91dC1hbGlnblwiIF07XG4gICAgdmFyIEFQSV9OT19WQUxVRVMgICA9IFsgXCJzaG93XCIsIFwiaGlkZVwiLCBcImxheW91dC1wYWRkaW5nXCIsIFwibGF5b3V0LW1hcmdpblwiIF07XG5cblxuICAgIC8vIEJ1aWxkIGRpcmVjdGl2ZSByZWdpc3RyYXRpb24gZnVuY3Rpb25zIGZvciB0aGUgc3RhbmRhcmQgTGF5b3V0IEFQSS4uLiBmb3IgYWxsIGJyZWFrcG9pbnRzLlxuICAgIGFuZ3VsYXIuZm9yRWFjaChCUkVBS1BPSU5UUywgZnVuY3Rpb24obXFiKSB7XG5cbiAgICAgIC8vIEF0dHJpYnV0ZSBkaXJlY3RpdmVzIHdpdGggZXhwZWN0ZWQsIG9ic2VydmFibGUgdmFsdWUocylcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCggQVBJX1dJVEhfVkFMVUVTLCBmdW5jdGlvbihuYW1lKXtcbiAgICAgICAgdmFyIGZ1bGxOYW1lID0gbXFiID8gbmFtZSArIFwiLVwiICsgbXFiIDogbmFtZTtcbiAgICAgICAgbW9kdWxlLmRpcmVjdGl2ZSggZGlyZWN0aXZlTm9ybWFsaXplKGZ1bGxOYW1lKSwgYXR0cmlidXRlV2l0aE9ic2VydmUoZnVsbE5hbWUpKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBdHRyaWJ1dGUgZGlyZWN0aXZlcyB3aXRoIG5vIGV4cGVjdGVkIHZhbHVlKHMpXG4gICAgICBhbmd1bGFyLmZvckVhY2goIEFQSV9OT19WQUxVRVMsIGZ1bmN0aW9uKG5hbWUpe1xuICAgICAgICB2YXIgZnVsbE5hbWUgPSBtcWIgPyBuYW1lICsgXCItXCIgKyBtcWIgOiBuYW1lO1xuICAgICAgICBtb2R1bGUuZGlyZWN0aXZlKCBkaXJlY3RpdmVOb3JtYWxpemUoZnVsbE5hbWUpLCBhdHRyaWJ1dGVXaXRob3V0VmFsdWUoZnVsbE5hbWUpKTtcbiAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgICAvLyBSZWdpc3RlciBvdGhlciwgc3BlY2lhbCBkaXJlY3RpdmUgZnVuY3Rpb25zIGZvciB0aGUgTGF5b3V0IGZlYXR1cmVzOlxuICAgIG1vZHVsZVxuICAgICAgLmRpcmVjdGl2ZSgnbWRMYXlvdXRDc3MnICAsIGRpc2FibGVMYXlvdXREaXJlY3RpdmUgKVxuICAgICAgLmRpcmVjdGl2ZSgnbmdDbG9haycgICAgICAsICBidWlsZENsb2FrSW50ZXJjZXB0b3IoJ25nLWNsb2FrJykpXG5cbiAgICAgIC5kaXJlY3RpdmUoJ2xheW91dFdyYXAnICAgLCBhdHRyaWJ1dGVXaXRob3V0VmFsdWUoJ2xheW91dC13cmFwJykpXG4gICAgICAuZGlyZWN0aXZlKCdsYXlvdXROb1dyYXAnICwgYXR0cmlidXRlV2l0aG91dFZhbHVlKCdsYXlvdXQtbm8td3JhcCcpKVxuICAgICAgLmRpcmVjdGl2ZSgnbGF5b3V0RmlsbCcgICAsIGF0dHJpYnV0ZVdpdGhvdXRWYWx1ZSgnbGF5b3V0LWZpbGwnKSlcblxuICAgICAgLy8gISEgRGVwcmVjYXRlZCBhdHRyaWJ1dGVzOiB1c2UgdGhlIGAtbHRgIChha2EgbGVzcy10aGFuKSBub3RhdGlvbnNcblxuICAgICAgLmRpcmVjdGl2ZSgnbGF5b3V0THRNZCcgICAgICwgd2FybkF0dHJOb3RTdXBwb3J0ZWQoJ2xheW91dC1sdC1tZCcsIHRydWUpKVxuICAgICAgLmRpcmVjdGl2ZSgnbGF5b3V0THRMZycgICAgICwgd2FybkF0dHJOb3RTdXBwb3J0ZWQoJ2xheW91dC1sdC1sZycsIHRydWUpKVxuICAgICAgLmRpcmVjdGl2ZSgnZmxleEx0TWQnICAgICAgICwgd2FybkF0dHJOb3RTdXBwb3J0ZWQoJ2ZsZXgtbHQtbWQnLCB0cnVlKSlcbiAgICAgIC5kaXJlY3RpdmUoJ2ZsZXhMdExnJyAgICAgICAsIHdhcm5BdHRyTm90U3VwcG9ydGVkKCdmbGV4LWx0LWxnJywgdHJ1ZSkpXG5cbiAgICAgIC5kaXJlY3RpdmUoJ2xheW91dEFsaWduTHRNZCcsIHdhcm5BdHRyTm90U3VwcG9ydGVkKCdsYXlvdXQtYWxpZ24tbHQtbWQnKSlcbiAgICAgIC5kaXJlY3RpdmUoJ2xheW91dEFsaWduTHRMZycsIHdhcm5BdHRyTm90U3VwcG9ydGVkKCdsYXlvdXQtYWxpZ24tbHQtbGcnKSlcbiAgICAgIC5kaXJlY3RpdmUoJ2ZsZXhPcmRlckx0TWQnICAsIHdhcm5BdHRyTm90U3VwcG9ydGVkKCdmbGV4LW9yZGVyLWx0LW1kJykpXG4gICAgICAuZGlyZWN0aXZlKCdmbGV4T3JkZXJMdExnJyAgLCB3YXJuQXR0ck5vdFN1cHBvcnRlZCgnZmxleC1vcmRlci1sdC1sZycpKVxuICAgICAgLmRpcmVjdGl2ZSgnb2Zmc2V0THRNZCcgICAgICwgd2FybkF0dHJOb3RTdXBwb3J0ZWQoJ2ZsZXgtb2Zmc2V0LWx0LW1kJykpXG4gICAgICAuZGlyZWN0aXZlKCdvZmZzZXRMdExnJyAgICAgLCB3YXJuQXR0ck5vdFN1cHBvcnRlZCgnZmxleC1vZmZzZXQtbHQtbGcnKSlcblxuICAgICAgLmRpcmVjdGl2ZSgnaGlkZUx0TWQnICAgICAgICwgd2FybkF0dHJOb3RTdXBwb3J0ZWQoJ2hpZGUtbHQtbWQnKSlcbiAgICAgIC5kaXJlY3RpdmUoJ2hpZGVMdExnJyAgICAgICAsIHdhcm5BdHRyTm90U3VwcG9ydGVkKCdoaWRlLWx0LWxnJykpXG4gICAgICAuZGlyZWN0aXZlKCdzaG93THRNZCcgICAgICAgLCB3YXJuQXR0ck5vdFN1cHBvcnRlZCgnc2hvdy1sdC1tZCcpKVxuICAgICAgLmRpcmVjdGl2ZSgnc2hvd0x0TGcnICAgICAgICwgd2FybkF0dHJOb3RTdXBwb3J0ZWQoJ3Nob3ctbHQtbGcnKSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBzbmFrZV9jYXNlIHRvIGNhbWVsQ2FzZS5cbiAgICAgKiBBbHNvIHRoZXJlIGlzIHNwZWNpYWwgY2FzZSBmb3IgTW96IHByZWZpeCBzdGFydGluZyB3aXRoIHVwcGVyIGNhc2UgbGV0dGVyLlxuICAgICAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUpIHtcbiAgICAgIHJldHVybiBuYW1lXG4gICAgICAgIC5yZXBsYWNlKFBSRUZJWF9SRUdFWFAsICcnKVxuICAgICAgICAucmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCwgZnVuY3Rpb24oXywgc2VwYXJhdG9yLCBsZXR0ZXIsIG9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBvZmZzZXQgPyBsZXR0ZXIudG9VcHBlckNhc2UoKSA6IGxldHRlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogU3BlY2lhbCBkaXJlY3RpdmUgdGhhdCB3aWxsIGRpc2FibGUgQUxMIExheW91dCBjb252ZXJzaW9ucyBvZiBsYXlvdXRcbiAgICogYXR0cmlidXRlKHMpIHRvIGNsYXNzbmFtZShzKS5cbiAgICpcbiAgICogPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCJhbmd1bGFyLW1hdGVyaWFsLm1pbi5jc3NcIj5cbiAgICogPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCJhbmd1bGFyLW1hdGVyaWFsLmxheW91dC5jc3NcIj5cbiAgICpcbiAgICogPGJvZHkgbWQtbGF5b3V0LWNzcz5cbiAgICogIC4uLlxuICAgKiA8L2JvZHk+XG4gICAqXG4gICAqIE5vdGU6IFVzaW5nIG1kLWxheW91dC1jc3MgZGlyZWN0aXZlIHJlcXVpcmVzIHRoZSBkZXZlbG9wZXIgdG8gbG9hZCB0aGUgTWF0ZXJpYWxcbiAgICogTGF5b3V0IEF0dHJpYnV0ZSBzdHlsZXNoZWV0ICh3aGljaCBvbmx5IHVzZXMgYXR0cmlidXRlIHNlbGVjdG9ycyk6XG4gICAqXG4gICAqICAgICAgIGBhbmd1bGFyLW1hdGVyaWFsLmxheW91dC5jc3NgXG4gICAqXG4gICAqIEFub3RoZXIgb3B0aW9uIGlzIHRvIHVzZSB0aGUgTGF5b3V0UHJvdmlkZXIgdG8gY29uZmlndXJlIGFuZCBkaXNhYmxlIHRoZSBhdHRyaWJ1dGVcbiAgICogY29udmVyc2lvbnM7IHRoaXMgd291bGQgb2J2aWF0ZSB0aGUgdXNlIG9mIHRoZSBgbWQtbGF5b3V0LWNzc2AgZGlyZWN0aXZlXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBkaXNhYmxlTGF5b3V0RGlyZWN0aXZlKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdCA6ICdBJyxcbiAgICAgIHByaW9yaXR5IDogJzkwMCcsXG4gICAgICBjb21waWxlICA6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgY29uZmlnLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIubm9vcDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRhaWwtaG9vayBuZ0Nsb2FrIHRvIGRlbGF5IHRoZSB1bmNsb2FraW5nIHdoaWxlIExheW91dCB0cmFuc2Zvcm1lcnNcbiAgICogZmluaXNoIHByb2Nlc3NpbmcuIEVsaW1pbmF0ZXMgZmxpY2tlciB3aXRoIE1hdGVyaWFsLkxheW9vdXRzXG4gICAqL1xuICBmdW5jdGlvbiBidWlsZENsb2FrSW50ZXJjZXB0b3IoY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIFsgJyR0aW1lb3V0JywgZnVuY3Rpb24oJHRpbWVvdXQpe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3QgOiAnQScsXG4gICAgICAgIHByaW9yaXR5IDogLTEwLCAgIC8vIHJ1biBhZnRlciBub3JtYWwgbmctY2xvYWtcbiAgICAgICAgY29tcGlsZSAgOiBmdW5jdGlvbiggZWxlbWVudCApIHtcbiAgICAgICAgICBpZiAoIWNvbmZpZy5lbmFibGVkKSByZXR1cm4gYW5ndWxhci5ub29wO1xuXG4gICAgICAgICAgLy8gUmUtYWRkIHRoZSBjbG9ha1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiggc2NvcGUsIGVsZW1lbnQgKSB7XG4gICAgICAgICAgICAvLyBXYWl0IHdoaWxlIGxheW91dCBpbmplY3RvcnMgY29uZmlndXJlLCB0aGVuIHVuY2xvYWtcbiAgICAgICAgICAgIC8vIE5PVEU6ICRyQUYgZG9lcyBub3QgZGVsYXkgZW5vdWdoLi4uIGFuZCB0aGlzIGlzIGEgMXgtb25seSBldmVudCxcbiAgICAgICAgICAgIC8vICAgICAgICR0aW1lb3V0IGlzIGFjY2VwdGFibGUuXG4gICAgICAgICAgICAkdGltZW91dCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgICAgfSwgMTAsIGZhbHNlKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dO1xuICB9XG5cblxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy9cbiAgLy8gVGhlc2UgZnVuY3Rpb25zIGNyZWF0ZSByZWdpc3RyYXRpb24gZnVuY3Rpb25zIGZvciBuZ01hdGVyaWFsIExheW91dCBhdHRyaWJ1dGUgZGlyZWN0aXZlc1xuICAvLyBUaGlzIHByb3ZpZGVzIGVhc3kgdHJhbnNsYXRpb24gdG8gc3dpdGNoIG5nTWF0ZXJpYWwgYXR0cmlidXRlIHNlbGVjdG9ycyB0b1xuICAvLyBDTEFTUyBzZWxlY3RvcnMgYW5kIGRpcmVjdGl2ZXM7IHdoaWNoIGhhcyBodWdlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9uc1xuICAvLyBmb3IgSUUgQnJvd3NlcnNcbiAgLy9cbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBkaXJlY3RpdmUgcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIHdoZXJlIGEgcG9zc2libGUgZHluYW1pYyBhdHRyaWJ1dGVcbiAgICogdmFsdWUgd2lsbCBiZSBvYnNlcnZlZC93YXRjaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIGF0dHJpYnV0ZSBuYW1lOyBlZyBgbGF5b3V0LWd0LW1kYCB3aXRoIHZhbHVlID1cInJvd1wiXG4gICAqL1xuICBmdW5jdGlvbiBhdHRyaWJ1dGVXaXRoT2JzZXJ2ZShjbGFzc05hbWUpIHtcblxuICAgIHJldHVybiBbJyRtZFV0aWwnLCAnJGludGVycG9sYXRlJywgXCIkbG9nXCIsIGZ1bmN0aW9uKF8kbWRVdGlsXywgXyRpbnRlcnBvbGF0ZV8sIF8kbG9nXykge1xuICAgICAgJG1kVXRpbCA9IF8kbWRVdGlsXztcbiAgICAgICRpbnRlcnBvbGF0ZSA9IF8kaW50ZXJwb2xhdGVfO1xuICAgICAgJGxvZyA9IF8kbG9nXztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgICAgICAgIHZhciBsaW5rRm47XG4gICAgICAgICAgaWYgKGNvbmZpZy5lbmFibGVkKSB7XG4gICAgICAgICAgICAvLyBpbW1lZGlhdGVseSByZXBsYWNlIHN0YXRpYyAobm9uLWludGVycG9sYXRlZCkgaW52YWxpZCB2YWx1ZXMuLi5cblxuICAgICAgICAgICAgdmFsaWRhdGVBdHRyaWJ1dGVVc2FnZShjbGFzc05hbWUsIGF0dHIsIGVsZW1lbnQsICRsb2cpO1xuXG4gICAgICAgICAgICB2YWxpZGF0ZUF0dHJpYnV0ZVZhbHVlKCBjbGFzc05hbWUsXG4gICAgICAgICAgICAgIGdldE5vcm1hbGl6ZWRBdHRyVmFsdWUoY2xhc3NOYW1lLCBhdHRyLCBcIlwiKSxcbiAgICAgICAgICAgICAgYnVpbGRVcGRhdGVGbihlbGVtZW50LCBjbGFzc05hbWUsIGF0dHIpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBsaW5rRm4gPSB0cmFuc2xhdGVXaXRoVmFsdWVUb0Nzc0NsYXNzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFVzZSBmb3IgcG9zdExpbmsgdG8gYWNjb3VudCBmb3IgdHJhbnNmb3JtcyBhZnRlciBuZy10cmFuc2NsdWRlLlxuICAgICAgICAgIHJldHVybiBsaW5rRm4gfHwgYW5ndWxhci5ub29wO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dO1xuXG4gICAgLyoqXG4gICAgICogQWRkIGFzIHRyYW5zZm9ybWVkIGNsYXNzIHNlbGVjdG9yKHMpLCB0aGVuXG4gICAgICogcmVtb3ZlIHRoZSBkZXByZWNhdGVkIGF0dHJpYnV0ZSBzZWxlY3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZVdpdGhWYWx1ZVRvQ3NzQ2xhc3Moc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICB2YXIgdXBkYXRlRm4gPSB1cGRhdGVDbGFzc1dpdGhWYWx1ZShlbGVtZW50LCBjbGFzc05hbWUsIGF0dHJzKTtcbiAgICAgIHZhciB1bndhdGNoID0gYXR0cnMuJG9ic2VydmUoYXR0cnMuJG5vcm1hbGl6ZShjbGFzc05hbWUpLCB1cGRhdGVGbik7XG5cbiAgICAgIHVwZGF0ZUZuKGdldE5vcm1hbGl6ZWRBdHRyVmFsdWUoY2xhc3NOYW1lLCBhdHRycywgXCJcIikpO1xuICAgICAgc2NvcGUuJG9uKFwiJGRlc3Ryb3lcIiwgZnVuY3Rpb24oKSB7IHVud2F0Y2goKSB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgbmdNYXRlcmlhbCBMYXlvdXQgYXR0cmlidXRlIGRpcmVjdGl2ZS5cbiAgICogVGhpcyBpcyBhIGBzaW1wbGVgIHRyYW5zcG9zZSBvZiBhdHRyaWJ1dGUgdXNhZ2UgdG8gY2xhc3MgdXNhZ2U7IHdoZXJlIHdlIGlnbm9yZVxuICAgKiBhbnkgYXR0cmlidXRlIHZhbHVlXG4gICAqL1xuICBmdW5jdGlvbiBhdHRyaWJ1dGVXaXRob3V0VmFsdWUoY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIFsnJG1kVXRpbCcsICckaW50ZXJwb2xhdGUnLCBcIiRsb2dcIiwgZnVuY3Rpb24oXyRtZFV0aWxfLCBfJGludGVycG9sYXRlXywgXyRsb2dfKSB7XG4gICAgICAkbWRVdGlsID0gXyRtZFV0aWxfO1xuICAgICAgJGludGVycG9sYXRlID0gXyRpbnRlcnBvbGF0ZV87XG4gICAgICAkbG9nID0gXyRsb2dfO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICAgdmFyIGxpbmtGbjtcbiAgICAgICAgICBpZiAoY29uZmlnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIC8vIGltbWVkaWF0ZWx5IHJlcGxhY2Ugc3RhdGljIChub24taW50ZXJwb2xhdGVkKSBpbnZhbGlkIHZhbHVlcy4uLlxuXG4gICAgICAgICAgICB2YWxpZGF0ZUF0dHJpYnV0ZVZhbHVlKCBjbGFzc05hbWUsXG4gICAgICAgICAgICAgIGdldE5vcm1hbGl6ZWRBdHRyVmFsdWUoY2xhc3NOYW1lLCBhdHRyLCBcIlwiKSxcbiAgICAgICAgICAgICAgYnVpbGRVcGRhdGVGbihlbGVtZW50LCBjbGFzc05hbWUsIGF0dHIpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0cmFuc2xhdGVUb0Nzc0NsYXNzKG51bGwsIGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAvLyBVc2UgZm9yIHBvc3RMaW5rIHRvIGFjY291bnQgZm9yIHRyYW5zZm9ybXMgYWZ0ZXIgbmctdHJhbnNjbHVkZS5cbiAgICAgICAgICAgIGxpbmtGbiA9IHRyYW5zbGF0ZVRvQ3NzQ2xhc3M7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGxpbmtGbiB8fCBhbmd1bGFyLm5vb3A7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYXMgdHJhbnNmb3JtZWQgY2xhc3Mgc2VsZWN0b3IsIHRoZW5cbiAgICAgKiByZW1vdmUgdGhlIGRlcHJlY2F0ZWQgYXR0cmlidXRlIHNlbGVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNsYXRlVG9Dc3NDbGFzcyhzY29wZSwgZWxlbWVudCkge1xuICAgICAgZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgIH1cbiAgfVxuXG5cblxuICAvKipcbiAgICogQWZ0ZXIgbGluay1waGFzZSwgZG8gTk9UIHJlbW92ZSBkZXByZWNhdGVkIGxheW91dCBhdHRyaWJ1dGUgc2VsZWN0b3IuXG4gICAqIEluc3RlYWQgd2F0Y2ggdGhlIGF0dHJpYnV0ZSBzbyBpbnRlcnBvbGF0ZWQgZGF0YS1iaW5kaW5ncyB0byBsYXlvdXRcbiAgICogc2VsZWN0b3JzIHdpbGwgY29udGludWUgdG8gYmUgc3VwcG9ydGVkLlxuICAgKlxuICAgKiAkb2JzZXJ2ZSgpIHRoZSBjbGFzc05hbWUgYW5kIHVwZGF0ZSB3aXRoIG5ldyBjbGFzcyAoYWZ0ZXIgcmVtb3ZpbmcgdGhlIGxhc3Qgb25lKVxuICAgKlxuICAgKiBlLmcuIGBsYXlvdXQ9XCJ7e2xheW91dERlbW8uZGlyZWN0aW9ufX1cImAgd2lsbCB1cGRhdGUuLi5cbiAgICpcbiAgICogTk9URTogVGhlIHZhbHVlIG11c3QgbWF0Y2ggb25lIG9mIHRoZSBzcGVjaWZpZWQgc3R5bGVzIGluIHRoZSBDU1MuXG4gICAqIEZvciBleGFtcGxlIGBmbGV4LWd0LW1kPVwie3tzaXplfX1gICB3aGVyZSBgc2NvcGUuc2l6ZSA9PSA0N2Agd2lsbCBOT1Qgd29yayBzaW5jZVxuICAgKiBvbmx5IGJyZWFrcG9pbnRzIGZvciAwLCA1LCAxMCwgMTUuLi4gMTAwLCAzMywgMzQsIDY2LCA2NyBhcmUgZGVmaW5lZC5cbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzV2l0aFZhbHVlKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIHZhciBsYXN0Q2xhc3M7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlQ2xhc3NGbihuZXdWYWx1ZSkge1xuICAgICAgdmFyIHZhbHVlID0gdmFsaWRhdGVBdHRyaWJ1dGVWYWx1ZShjbGFzc05hbWUsIG5ld1ZhbHVlIHx8IFwiXCIpO1xuICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkgKSB7XG4gICAgICAgIGlmIChsYXN0Q2xhc3MpIGVsZW1lbnQucmVtb3ZlQ2xhc3MobGFzdENsYXNzKTtcbiAgICAgICAgbGFzdENsYXNzID0gIXZhbHVlID8gY2xhc3NOYW1lIDogY2xhc3NOYW1lICsgXCItXCIgKyB2YWx1ZS5yZXBsYWNlKFdISVRFU1BBQ0UsIFwiLVwiKTtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhsYXN0Q2xhc3MpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZSBjb25zb2xlIHdhcm5pbmcgdGhhdCB0aGlzIGxheW91dCBhdHRyaWJ1dGUgaGFzIGJlZW4gZGVwcmVjYXRlZFxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gd2FybkF0dHJOb3RTdXBwb3J0ZWQoY2xhc3NOYW1lKSB7XG4gICAgdmFyIHBhcnRzID0gY2xhc3NOYW1lLnNwbGl0KFwiLVwiKTtcbiAgICByZXR1cm4gW1wiJGxvZ1wiLCBmdW5jdGlvbigkbG9nKSB7XG4gICAgICAkbG9nLndhcm4oY2xhc3NOYW1lICsgXCJoYXMgYmVlbiBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGEgYFwiICsgcGFydHNbMF0gKyBcIi1ndC08eHh4PmAgdmFyaWFudC5cIik7XG4gICAgICByZXR1cm4gYW5ndWxhci5ub29wO1xuICAgIH1dO1xuICB9XG5cbiAgLyoqXG4gICAqIENlbnRyYWxpemUgd2FybmluZ3MgZm9yIGtub3duIGZsZXhib3ggaXNzdWVzIChlc3BlY2lhbGx5IElFLXJlbGF0ZWQgaXNzdWVzKVxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVBdHRyaWJ1dGVVc2FnZShjbGFzc05hbWUsIGF0dHIsIGVsZW1lbnQsICRsb2cpe1xuICAgIHZhciBtZXNzYWdlLCB1c2FnZSwgdXJsO1xuICAgIHZhciBub2RlTmFtZSA9IGVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIHN3aXRjaChjbGFzc05hbWUucmVwbGFjZShTVUZGSVhFUyxcIlwiKSkge1xuICAgICAgY2FzZSBcImZsZXhcIjpcbiAgICAgICAgaWYgKChub2RlTmFtZSA9PSBcIm1kLWJ1dHRvblwiKSB8fCAobm9kZU5hbWUgPT0gXCJmaWVsZHNldFwiKSl7XG4gICAgICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhpbGlwd2FsdG9uL2ZsZXhidWdzIzktc29tZS1odG1sLWVsZW1lbnRzLWNhbnQtYmUtZmxleC1jb250YWluZXJzXG4gICAgICAgICAgLy8gVXNlIDxkaXYgZmxleD4gd3JhcHBlciBpbnNpZGUgKHByZWZlcnJlZCkgb3Igb3V0c2lkZVxuXG4gICAgICAgICAgdXNhZ2UgPSBcIjxcIiArIG5vZGVOYW1lICsgXCIgXCIgKyBjbGFzc05hbWUgKyBcIj48L1wiICsgbm9kZU5hbWUgKyBcIj5cIjtcbiAgICAgICAgICB1cmwgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9waGlsaXB3YWx0b24vZmxleGJ1Z3MjOS1zb21lLWh0bWwtZWxlbWVudHMtY2FudC1iZS1mbGV4LWNvbnRhaW5lcnNcIjtcbiAgICAgICAgICBtZXNzYWdlID0gXCJNYXJrdXAgJ3swfScgbWF5IG5vdCB3b3JrIGFzIGV4cGVjdGVkIGluIElFIEJyb3dzZXJzLiBDb25zdWx0ICd7MX0nIGZvciBkZXRhaWxzLlwiO1xuXG4gICAgICAgICAgJGxvZy53YXJuKCAkbWRVdGlsLnN1cHBsYW50KG1lc3NhZ2UsIFt1c2FnZSwgdXJsXSkgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICB9XG5cblxuICAvKipcbiAgICogRm9yIHRoZSBMYXlvdXQgYXR0cmlidXRlIHZhbHVlLCB2YWxpZGF0ZSBvciByZXBsYWNlIHdpdGggZGVmYXVsdFxuICAgKiBmYWxsYmFjayB2YWx1ZVxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVBdHRyaWJ1dGVWYWx1ZShjbGFzc05hbWUsIHZhbHVlLCB1cGRhdGVGbikge1xuICAgIHZhciBvcmlnVmFsdWUgPSB2YWx1ZTtcblxuICAgIGlmICghbmVlZHNJbnRlcnBvbGF0aW9uKHZhbHVlKSkge1xuICAgICAgc3dpdGNoIChjbGFzc05hbWUucmVwbGFjZShTVUZGSVhFUyxcIlwiKSkge1xuICAgICAgICBjYXNlICdsYXlvdXQnICAgICAgICA6XG4gICAgICAgICAgaWYgKCAhZmluZEluKHZhbHVlLCBMQVlPVVRfT1BUSU9OUykgKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IExBWU9VVF9PUFRJT05TWzBdOyAgICAvLyAncm93JztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZmxleCcgICAgICAgICAgOlxuICAgICAgICAgIGlmICghZmluZEluKHZhbHVlLCBGTEVYX09QVElPTlMpKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2ZsZXgtb2Zmc2V0JyA6XG4gICAgICAgIGNhc2UgJ2ZsZXgtb3JkZXInICAgIDpcbiAgICAgICAgICBpZiAoIXZhbHVlIHx8IGlzTmFOKCt2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gJzAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdsYXlvdXQtYWxpZ24nICA6XG4gICAgICAgICAgdmFyIGF4aXMgPSBleHRyYWN0QWxpZ25BeGlzKHZhbHVlKTtcbiAgICAgICAgICB2YWx1ZSA9ICRtZFV0aWwuc3VwcGxhbnQoXCJ7bWFpbn0te2Nyb3NzfVwiLGF4aXMpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2xheW91dC1wYWRkaW5nJyA6XG4gICAgICAgIGNhc2UgJ2xheW91dC1tYXJnaW4nICA6XG4gICAgICAgIGNhc2UgJ2xheW91dC1maWxsJyAgICA6XG4gICAgICAgIGNhc2UgJ2xheW91dC13cmFwJyAgICA6XG4gICAgICAgIGNhc2UgJ2xheW91dC1uby13cmFwJyA6XG4gICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlICE9IG9yaWdWYWx1ZSkge1xuICAgICAgICAodXBkYXRlRm4gfHwgYW5ndWxhci5ub29wKSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgY3VycmVudCBhdHRyaWJ1dGUgdmFsdWUgd2l0aCBmYWxsYmFjayB2YWx1ZVxuICAgKi9cbiAgZnVuY3Rpb24gYnVpbGRVcGRhdGVGbihlbGVtZW50LCBjbGFzc05hbWUsIGF0dHJzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZUF0dHJWYWx1ZShmYWxsYmFjaykge1xuICAgICAgaWYgKCFuZWVkc0ludGVycG9sYXRpb24oZmFsbGJhY2spKSB7XG4gICAgICAgIC8vIERvIG5vdCBtb2RpZnkgdGhlIGVsZW1lbnQncyBhdHRyaWJ1dGUgdmFsdWU7IHNvXG4gICAgICAgIC8vIHVzZXMgJzx1aS1sYXlvdXQgbGF5b3V0PVwiL2FwaS9zaWRlYmFyLmh0bWxcIiAvPicgd2lsbCBub3RcbiAgICAgICAgLy8gYmUgYWZmZWN0ZWQuIEp1c3QgdXBkYXRlIHRoZSBhdHRycyB2YWx1ZS5cbiAgICAgICAgYXR0cnNbYXR0cnMuJG5vcm1hbGl6ZShjbGFzc05hbWUpXSA9IGZhbGxiYWNrO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU2VlIGlmIHRoZSBvcmlnaW5hbCB2YWx1ZSBoYXMgaW50ZXJwb2xhdGlvbiBzeW1ib2xzOlxuICAgKiBlLmcuICBmbGV4LWd0LW1kPVwie3t0cmlnZ2VyUG9pbnR9fVwiXG4gICAqL1xuICBmdW5jdGlvbiBuZWVkc0ludGVycG9sYXRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIHx8IFwiXCIpLmluZGV4T2YoJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkpID4gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBnZXROb3JtYWxpemVkQXR0clZhbHVlKGNsYXNzTmFtZSwgYXR0cnMsIGRlZmF1bHRWYWwpIHtcbiAgICB2YXIgbm9ybWFsaXplZEF0dHIgPSBhdHRycy4kbm9ybWFsaXplKGNsYXNzTmFtZSk7XG4gICAgcmV0dXJuIGF0dHJzW25vcm1hbGl6ZWRBdHRyXSA/IGF0dHJzW25vcm1hbGl6ZWRBdHRyXS5yZXBsYWNlKFdISVRFU1BBQ0UsIFwiLVwiKSA6IGRlZmF1bHRWYWwgfHwgbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRJbihpdGVtLCBsaXN0LCByZXBsYWNlV2l0aCkge1xuICAgIGl0ZW0gPSByZXBsYWNlV2l0aCAmJiBpdGVtID8gaXRlbS5yZXBsYWNlKFdISVRFU1BBQ0UsIHJlcGxhY2VXaXRoKSA6IGl0ZW07XG5cbiAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGl0KSB7XG4gICAgICAgIGl0ID0gcmVwbGFjZVdpdGggPyBpdC5yZXBsYWNlKFdISVRFU1BBQ0UsIHJlcGxhY2VXaXRoKSA6IGl0O1xuICAgICAgICBmb3VuZCA9IGZvdW5kIHx8IChpdCA9PT0gaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0cmFjdEFsaWduQXhpcyhhdHRyVmFsdWUpIHtcbiAgICB2YXIgYXhpcyA9IHtcbiAgICAgIG1haW4gOiBcInN0YXJ0XCIsXG4gICAgICBjcm9zczogXCJzdHJldGNoXCJcbiAgICB9LCB2YWx1ZXM7XG5cbiAgICBhdHRyVmFsdWUgPSAoYXR0clZhbHVlIHx8IFwiXCIpO1xuXG4gICAgaWYgKCBhdHRyVmFsdWUuaW5kZXhPZihcIi1cIikgPT0gMCB8fCBhdHRyVmFsdWUuaW5kZXhPZihcIiBcIikgPT0gMCkge1xuICAgICAgLy8gRm9yIG1pc3NpbmcgbWFpbi1heGlzIHZhbHVlc1xuICAgICAgYXR0clZhbHVlID0gXCJub25lXCIgKyBhdHRyVmFsdWU7XG4gICAgfVxuXG4gICAgdmFsdWVzID0gYXR0clZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpLnJlcGxhY2UoV0hJVEVTUEFDRSwgXCItXCIpLnNwbGl0KFwiLVwiKTtcbiAgICBpZiAoIHZhbHVlcy5sZW5ndGggJiYgKHZhbHVlc1swXSA9PT0gXCJzcGFjZVwiKSApIHtcbiAgICAgIC8vIGZvciBtYWluLWF4aXMgdmFsdWVzIG9mIFwic3BhY2UtYXJvdW5kXCIgb3IgXCJzcGFjZS1iZXR3ZWVuXCJcbiAgICAgIHZhbHVlcyA9IFsgdmFsdWVzWzBdK1wiLVwiK3ZhbHVlc1sxXSx2YWx1ZXNbMl0gXTtcbiAgICB9XG5cbiAgICBpZiAoIHZhbHVlcy5sZW5ndGggPiAwICkgYXhpcy5tYWluICA9IHZhbHVlc1swXSB8fCBheGlzLm1haW47XG4gICAgaWYgKCB2YWx1ZXMubGVuZ3RoID4gMSApIGF4aXMuY3Jvc3MgPSB2YWx1ZXNbMV0gfHwgYXhpcy5jcm9zcztcblxuICAgIGlmICggQUxJR05NRU5UX01BSU5fQVhJUy5pbmRleE9mKGF4aXMubWFpbikgPCAwICkgICBheGlzLm1haW4gPSBcInN0YXJ0XCI7XG4gICAgaWYgKCBBTElHTk1FTlRfQ1JPU1NfQVhJUy5pbmRleE9mKGF4aXMuY3Jvc3MpIDwgMCApIGF4aXMuY3Jvc3MgPSBcInN0cmV0Y2hcIjtcblxuICAgIHJldHVybiBheGlzO1xuICB9XG5cblxufSkoKTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtb2R1bGVcbiAgICogQG5hbWUgbWF0ZXJpYWwuY29yZS5jb21wb25lbnRSZWdpc3RyeVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQSBjb21wb25lbnQgaW5zdGFuY2UgcmVnaXN0cmF0aW9uIHNlcnZpY2UuXG4gICAqIE5vdGU6IGN1cnJlbnRseSB0aGlzIGFzIGEgcHJpdmF0ZSBzZXJ2aWNlIGluIHRoZSBTaWRlTmF2IGNvbXBvbmVudC5cbiAgICovXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgICAuZmFjdG9yeSgnJG1kQ29tcG9uZW50UmVnaXN0cnknLCBDb21wb25lbnRSZWdpc3RyeSk7XG5cbiAgLypcbiAgICogQHByaXZhdGVcbiAgICogQG5nZG9jIGZhY3RvcnlcbiAgICogQG5hbWUgQ29tcG9uZW50UmVnaXN0cnlcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb3JlLmNvbXBvbmVudFJlZ2lzdHJ5XG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBDb21wb25lbnRSZWdpc3RyeSgkbG9nLCAkcSkge1xuXG4gICAgdmFyIHNlbGY7XG4gICAgdmFyIGluc3RhbmNlcyA9IFsgXTtcbiAgICB2YXIgcGVuZGluZ3MgPSB7IH07XG5cbiAgICByZXR1cm4gc2VsZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBwcmludCBhbiBlcnJvciB3aGVuIGFuIGluc3RhbmNlIGZvciBhIGhhbmRsZSBpc24ndCBmb3VuZC5cbiAgICAgICAqL1xuICAgICAgbm90Rm91bmRFcnJvcjogZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICRsb2cuZXJyb3IoJ05vIGluc3RhbmNlIGZvdW5kIGZvciBoYW5kbGUnLCBoYW5kbGUpO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJuIGFsbCByZWdpc3RlcmVkIGluc3RhbmNlcyBhcyBhbiBhcnJheS5cbiAgICAgICAqL1xuICAgICAgZ2V0SW5zdGFuY2VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IGEgcmVnaXN0ZXJlZCBpbnN0YW5jZS5cbiAgICAgICAqIEBwYXJhbSBoYW5kbGUgdGhlIFN0cmluZyBoYW5kbGUgdG8gbG9vayB1cCBmb3IgYSByZWdpc3RlcmVkIGluc3RhbmNlLlxuICAgICAgICovXG4gICAgICBnZXQ6IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICBpZiAoICFpc1ZhbGlkSUQoaGFuZGxlKSApIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciBpLCBqLCBpbnN0YW5jZTtcbiAgICAgICAgZm9yKGkgPSAwLCBqID0gaW5zdGFuY2VzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIGluc3RhbmNlID0gaW5zdGFuY2VzW2ldO1xuICAgICAgICAgIGlmKGluc3RhbmNlLiQkbWRIYW5kbGUgPT09IGhhbmRsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmVnaXN0ZXIgYW4gaW5zdGFuY2UuXG4gICAgICAgKiBAcGFyYW0gaW5zdGFuY2UgdGhlIGluc3RhbmNlIHRvIHJlZ2lzdGVyXG4gICAgICAgKiBAcGFyYW0gaGFuZGxlIHRoZSBoYW5kbGUgdG8gaWRlbnRpZnkgdGhlIGluc3RhbmNlIHVuZGVyLlxuICAgICAgICovXG4gICAgICByZWdpc3RlcjogZnVuY3Rpb24oaW5zdGFuY2UsIGhhbmRsZSkge1xuICAgICAgICBpZiAoICFoYW5kbGUgKSByZXR1cm4gYW5ndWxhci5ub29wO1xuXG4gICAgICAgIGluc3RhbmNlLiQkbWRIYW5kbGUgPSBoYW5kbGU7XG4gICAgICAgIGluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcbiAgICAgICAgcmVzb2x2ZVdoZW4oKTtcblxuICAgICAgICByZXR1cm4gZGVyZWdpc3RlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHJlZ2lzdHJhdGlvbiBmb3IgYW4gaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlcmVnaXN0ZXIoKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gaW5zdGFuY2VzLmluZGV4T2YoaW5zdGFuY2UpO1xuICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGluc3RhbmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNvbHZlIGFueSBwZW5kaW5nIHByb21pc2VzIGZvciB0aGlzIGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZXNvbHZlV2hlbigpIHtcbiAgICAgICAgICB2YXIgZGZkID0gcGVuZGluZ3NbaGFuZGxlXTtcbiAgICAgICAgICBpZiAoIGRmZCApIHtcbiAgICAgICAgICAgIGRmZC5yZXNvbHZlKCBpbnN0YW5jZSApO1xuICAgICAgICAgICAgZGVsZXRlIHBlbmRpbmdzW2hhbmRsZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFzeW5jIGFjY2Vzc29yIHRvIHJlZ2lzdGVyZWQgY29tcG9uZW50IGluc3RhbmNlXG4gICAgICAgKiBJZiBub3QgYXZhaWxhYmxlIHRoZW4gYSBwcm9taXNlIGlzIGNyZWF0ZWQgdG8gbm90aWZ5XG4gICAgICAgKiBhbGwgbGlzdGVuZXJzIHdoZW4gdGhlIGluc3RhbmNlIGlzIHJlZ2lzdGVyZWQuXG4gICAgICAgKi9cbiAgICAgIHdoZW4gOiBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgaWYgKCBpc1ZhbGlkSUQoaGFuZGxlKSApIHtcbiAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHNlbGYuZ2V0KGhhbmRsZSk7XG5cbiAgICAgICAgICBpZiAoIGluc3RhbmNlICkgIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoIGluc3RhbmNlICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlbmRpbmdzW2hhbmRsZV0gPSBkZWZlcnJlZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJHEucmVqZWN0KFwiSW52YWxpZCBgbWQtY29tcG9uZW50LWlkYCB2YWx1ZS5cIik7XG4gICAgICB9XG5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaXNWYWxpZElEKGhhbmRsZSl7XG4gICAgICByZXR1cm4gaGFuZGxlICYmIChoYW5kbGUgIT09IFwiXCIpO1xuICAgIH1cblxuICB9XG4gIENvbXBvbmVudFJlZ2lzdHJ5LiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHFcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kQnV0dG9uSW5rUmlwcGxlXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUHJvdmlkZXMgcmlwcGxlIGVmZmVjdHMgZm9yIG1kLWJ1dHRvbi4gIFNlZSAkbWRJbmtSaXBwbGUgc2VydmljZSBmb3IgYWxsIHBvc3NpYmxlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzY29wZSBTY29wZSB3aXRoaW4gdGhlIGN1cnJlbnQgY29udGV4dFxuICAgKiBAcGFyYW0ge29iamVjdD19IGVsZW1lbnQgVGhlIGVsZW1lbnQgdGhlIHJpcHBsZSBlZmZlY3Qgc2hvdWxkIGJlIGFwcGxpZWQgdG9cbiAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIChPcHRpb25hbCkgQ29uZmlndXJhdGlvbiBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHJpcHBsZSBjb25maWd1cmF0aW9uXG4gICAqL1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgICAuZmFjdG9yeSgnJG1kQnV0dG9uSW5rUmlwcGxlJywgTWRCdXR0b25JbmtSaXBwbGUpO1xuXG4gIGZ1bmN0aW9uIE1kQnV0dG9uSW5rUmlwcGxlKCRtZElua1JpcHBsZSkge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRhY2g6IGZ1bmN0aW9uIGF0dGFjaFJpcHBsZShzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gYW5ndWxhci5leHRlbmQob3B0aW9uc0ZvckVsZW1lbnQoZWxlbWVudCksIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiAkbWRJbmtSaXBwbGUuYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb3B0aW9uc0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoJ21kLWljb24tYnV0dG9uJykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpc01lbnVJdGVtOiBlbGVtZW50Lmhhc0NsYXNzKCdtZC1tZW51LWl0ZW0nKSxcbiAgICAgICAgICBmaXRSaXBwbGU6IHRydWUsXG4gICAgICAgICAgY2VudGVyOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzTWVudUl0ZW06IGVsZW1lbnQuaGFzQ2xhc3MoJ21kLW1lbnUtaXRlbScpLFxuICAgICAgICAgIGRpbUJhY2tncm91bmQ6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgTWRCdXR0b25JbmtSaXBwbGUuJGluamVjdCA9IFtcIiRtZElua1JpcHBsZVwiXTs7XG59KSgpO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kQ2hlY2tib3hJbmtSaXBwbGVcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb3JlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBQcm92aWRlcyByaXBwbGUgZWZmZWN0cyBmb3IgbWQtY2hlY2tib3guICBTZWUgJG1kSW5rUmlwcGxlIHNlcnZpY2UgZm9yIGFsbCBwb3NzaWJsZSBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc2NvcGUgU2NvcGUgd2l0aGluIHRoZSBjdXJyZW50IGNvbnRleHRcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoZSByaXBwbGUgZWZmZWN0IHNob3VsZCBiZSBhcHBsaWVkIHRvXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyAoT3B0aW9uYWwpIENvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHJpcHBsZSBjb25maWd1cmF0aW9uXG4gICAqL1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgICAuZmFjdG9yeSgnJG1kQ2hlY2tib3hJbmtSaXBwbGUnLCBNZENoZWNrYm94SW5rUmlwcGxlKTtcblxuICBmdW5jdGlvbiBNZENoZWNrYm94SW5rUmlwcGxlKCRtZElua1JpcHBsZSkge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRhY2g6IGF0dGFjaFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhdHRhY2goc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiAkbWRJbmtSaXBwbGUuYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgIGNlbnRlcjogdHJ1ZSxcbiAgICAgICAgZGltQmFja2dyb3VuZDogZmFsc2UsXG4gICAgICAgIGZpdFJpcHBsZTogdHJ1ZVxuICAgICAgfSwgb3B0aW9ucykpO1xuICAgIH07XG4gIH1cbiAgTWRDaGVja2JveElua1JpcHBsZS4kaW5qZWN0ID0gW1wiJG1kSW5rUmlwcGxlXCJdOztcbn0pKCk7XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kTGlzdElua1JpcHBsZVxuICAgKiBAbW9kdWxlIG1hdGVyaWFsLmNvcmVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFByb3ZpZGVzIHJpcHBsZSBlZmZlY3RzIGZvciBtZC1saXN0LiAgU2VlICRtZElua1JpcHBsZSBzZXJ2aWNlIGZvciBhbGwgcG9zc2libGUgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdD19IHNjb3BlIFNjb3BlIHdpdGhpbiB0aGUgY3VycmVudCBjb250ZXh0XG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gZWxlbWVudCBUaGUgZWxlbWVudCB0aGUgcmlwcGxlIGVmZmVjdCBzaG91bGQgYmUgYXBwbGllZCB0b1xuICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgKE9wdGlvbmFsKSBDb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRyaXBwbGUgY29uZmlndXJhdGlvblxuICAgKi9cblxuICBhbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4gICAgLmZhY3RvcnkoJyRtZExpc3RJbmtSaXBwbGUnLCBNZExpc3RJbmtSaXBwbGUpO1xuXG4gIGZ1bmN0aW9uIE1kTGlzdElua1JpcHBsZSgkbWRJbmtSaXBwbGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXR0YWNoOiBhdHRhY2hcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gJG1kSW5rUmlwcGxlLmF0dGFjaChzY29wZSwgZWxlbWVudCwgYW5ndWxhci5leHRlbmQoe1xuICAgICAgICBjZW50ZXI6IGZhbHNlLFxuICAgICAgICBkaW1CYWNrZ3JvdW5kOiB0cnVlLFxuICAgICAgICBvdXRsaW5lOiBmYWxzZSxcbiAgICAgICAgcmlwcGxlU2l6ZTogJ2Z1bGwnXG4gICAgICB9LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgfVxuICBNZExpc3RJbmtSaXBwbGUuJGluamVjdCA9IFtcIiRtZElua1JpcHBsZVwiXTs7XG59KSgpO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb3JlLnJpcHBsZVxuICogQGRlc2NyaXB0aW9uXG4gKiBSaXBwbGVcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAgIC5mYWN0b3J5KCckbWRJbmtSaXBwbGUnLCBJbmtSaXBwbGVTZXJ2aWNlKVxuICAgIC5kaXJlY3RpdmUoJ21kSW5rUmlwcGxlJywgSW5rUmlwcGxlRGlyZWN0aXZlKVxuICAgIC5kaXJlY3RpdmUoJ21kTm9JbmsnLCBhdHRyTm9EaXJlY3RpdmUpXG4gICAgLmRpcmVjdGl2ZSgnbWROb0JhcicsIGF0dHJOb0RpcmVjdGl2ZSlcbiAgICAuZGlyZWN0aXZlKCdtZE5vU3RyZXRjaCcsIGF0dHJOb0RpcmVjdGl2ZSk7XG5cbnZhciBEVVJBVElPTiA9IDQ1MDtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZElua1JpcHBsZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb3JlLnJpcHBsZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBtZC1pbmstcmlwcGxlYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IHRoZSByaXBwbGUgY29sb3Igb3IgaWQgYSByaXBwbGUgaXMgYWxsb3dlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSBtZC1pbmstcmlwcGxlIEEgY29sb3Igc3RyaW5nIGAjRkYwMDAwYCBvciBib29sZWFuIChgZmFsc2VgIG9yIGAwYCkgZm9yIHByZXZlbnRpbmcgcmlwcGxlXG4gKlxuICogQHVzYWdlXG4gKiAjIyMgU3RyaW5nIHZhbHVlc1xuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICAgPEFOWSBtZC1pbmstcmlwcGxlPVwiI0ZGMDAwMFwiPlxuICogICAgIFJpcHBsZXMgaW4gcmVkXG4gKiAgIDwvQU5ZPlxuICpcbiAqICAgPEFOWSBtZC1pbmstcmlwcGxlPVwiZmFsc2VcIj5cbiAqICAgICBOb3QgcmlwcGxpbmdcbiAqICAgPC9BTlk+XG4gKiA8L2hsanM+XG4gKlxuICogIyMjIEludGVycG9sYXRlZCB2YWx1ZXNcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgIDxBTlkgbWQtaW5rLXJpcHBsZT1cInt7IHJhbmRvbUNvbG9yKCkgfX1cIj5cbiAqICAgICBSaXBwbGVzIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiAncmFuZG9tQ29sb3InIGZ1bmN0aW9uXG4gKiAgIDwvQU5ZPlxuICpcbiAqICAgPEFOWSBtZC1pbmstcmlwcGxlPVwie3sgY2FuUmlwcGxlKCkgfX1cIj5cbiAqICAgICBSaXBwbGVzIGlmICdjYW5SaXBwbGUnIGZ1bmN0aW9uIHJldHVybiB2YWx1ZSBpcyBub3QgJ2ZhbHNlJyBvciAnMCdcbiAqICAgPC9BTlk+XG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIElua1JpcHBsZURpcmVjdGl2ZSAoJG1kQnV0dG9uSW5rUmlwcGxlLCAkbWRDaGVja2JveElua1JpcHBsZSkge1xuICByZXR1cm4ge1xuICAgIGNvbnRyb2xsZXI6IGFuZ3VsYXIubm9vcCxcbiAgICBsaW5rOiAgICAgICBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGF0dHIuaGFzT3duUHJvcGVydHkoJ21kSW5rUmlwcGxlQ2hlY2tib3gnKVxuICAgICAgICAgID8gJG1kQ2hlY2tib3hJbmtSaXBwbGUuYXR0YWNoKHNjb3BlLCBlbGVtZW50KVxuICAgICAgICAgIDogJG1kQnV0dG9uSW5rUmlwcGxlLmF0dGFjaChzY29wZSwgZWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxuSW5rUmlwcGxlRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRCdXR0b25JbmtSaXBwbGVcIiwgXCIkbWRDaGVja2JveElua1JpcHBsZVwiXTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJG1kSW5rUmlwcGxlXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvcmUucmlwcGxlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgJG1kSW5rUmlwcGxlYCBpcyBhIHNlcnZpY2UgZm9yIGFkZGluZyByaXBwbGVzIHRvIGFueSBlbGVtZW50XG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIGFwcC5mYWN0b3J5KCckbXlFbGVtZW50SW5rUmlwcGxlJywgZnVuY3Rpb24oJG1kSW5rUmlwcGxlKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgYXR0YWNoOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAqICAgICAgIHJldHVybiAkbWRJbmtSaXBwbGUuYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBhbmd1bGFyLmV4dGVuZCh7XG4gKiAgICAgICAgIGNlbnRlcjogZmFsc2UsXG4gKiAgICAgICAgIGRpbUJhY2tncm91bmQ6IHRydWVcbiAqICAgICAgIH0sIG9wdGlvbnMpKTtcbiAqICAgICB9XG4gKiAgIH07XG4gKiB9KTtcbiAqXG4gKiBhcHAuY29udHJvbGxlcignbXlDb250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRteUVsZW1lbnRJbmtSaXBwbGUpIHtcbiAqICAgJHNjb3BlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZXYpIHtcbiAqICAgICAkbXlFbGVtZW50SW5rUmlwcGxlLmF0dGFjaCgkc2NvcGUsIGFuZ3VsYXIuZWxlbWVudChldi50YXJnZXQpLCB7IGNlbnRlcjogdHJ1ZSB9KTtcbiAqICAgfVxuICogfSk7XG4gKiA8L2hsanM+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRJbmtSaXBwbGUjYXR0YWNoXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBdHRhY2hpbmcgZ2l2ZW4gc2NvcGUsIGVsZW1lbnQgYW5kIG9wdGlvbnMgdG8gaW5rUmlwcGxlIGNvbnRyb2xsZXJcbiAqXG4gKiBAcGFyYW0ge29iamVjdD19IHNjb3BlIFNjb3BlIHdpdGhpbiB0aGUgY3VycmVudCBjb250ZXh0XG4gKiBAcGFyYW0ge29iamVjdD19IGVsZW1lbnQgVGhlIGVsZW1lbnQgdGhlIHJpcHBsZSBlZmZlY3Qgc2hvdWxkIGJlIGFwcGxpZWQgdG9cbiAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyAoT3B0aW9uYWwpIENvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdFJpcHBsZSBjb25maWd1cmF0aW9uXG4gKiAqIGBjZW50ZXJgIC0gIFdoZXRoZXIgdGhlIHJpcHBsZSBzaG91bGQgc3RhcnQgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBjb250YWluZXIgZWxlbWVudFxuICogKiBgZGltQmFja2dyb3VuZGAgLSBXaGV0aGVyIHRoZSBiYWNrZ3JvdW5kIHNob3VsZCBiZSBkaW1tZWQgd2l0aCB0aGUgcmlwcGxlIGNvbG9yXG4gKiAqIGBjb2xvckVsZW1lbnRgIC0gVGhlIGVsZW1lbnQgdGhlIHJpcHBsZSBzaG91bGQgdGFrZSBpdHMgY29sb3IgZnJvbSwgZGVmaW5lZCBieSBjc3MgcHJvcGVydHkgYGNvbG9yYFxuICogKiBgZml0UmlwcGxlYCAtIFdoZXRoZXIgdGhlIHJpcHBsZSBzaG91bGQgZmlsbCB0aGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBJbmtSaXBwbGVTZXJ2aWNlICgkaW5qZWN0b3IpIHtcbiAgcmV0dXJuIHsgYXR0YWNoOiBhdHRhY2ggfTtcbiAgZnVuY3Rpb24gYXR0YWNoIChzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIGlmIChlbGVtZW50LmNvbnRyb2xsZXIoJ21kTm9JbmsnKSkgcmV0dXJuIGFuZ3VsYXIubm9vcDtcbiAgICByZXR1cm4gJGluamVjdG9yLmluc3RhbnRpYXRlKElua1JpcHBsZUN0cmwsIHtcbiAgICAgICRzY29wZTogICAgICAgIHNjb3BlLFxuICAgICAgJGVsZW1lbnQ6ICAgICAgZWxlbWVudCxcbiAgICAgIHJpcHBsZU9wdGlvbnM6IG9wdGlvbnNcbiAgICB9KTtcbiAgfVxufVxuSW5rUmlwcGxlU2VydmljZS4kaW5qZWN0ID0gW1wiJGluamVjdG9yXCJdO1xuXG4vKipcbiAqIENvbnRyb2xsZXIgdXNlZCBieSB0aGUgcmlwcGxlIHNlcnZpY2UgaW4gb3JkZXIgdG8gYXBwbHkgcmlwcGxlc1xuICogQG5nSW5qZWN0XG4gKi9cbmZ1bmN0aW9uIElua1JpcHBsZUN0cmwgKCRzY29wZSwgJGVsZW1lbnQsIHJpcHBsZU9wdGlvbnMsICR3aW5kb3csICR0aW1lb3V0LCAkbWRVdGlsKSB7XG4gIHRoaXMuJHdpbmRvdyAgICA9ICR3aW5kb3c7XG4gIHRoaXMuJHRpbWVvdXQgICA9ICR0aW1lb3V0O1xuICB0aGlzLiRtZFV0aWwgICAgPSAkbWRVdGlsO1xuICB0aGlzLiRzY29wZSAgICAgPSAkc2NvcGU7XG4gIHRoaXMuJGVsZW1lbnQgICA9ICRlbGVtZW50O1xuICB0aGlzLm9wdGlvbnMgICAgPSByaXBwbGVPcHRpb25zO1xuICB0aGlzLm1vdXNlZG93biAgPSBmYWxzZTtcbiAgdGhpcy5yaXBwbGVzICAgID0gW107XG4gIHRoaXMudGltZW91dCAgICA9IG51bGw7IC8vIFN0b3JlcyBhIHJlZmVyZW5jZSB0byB0aGUgbW9zdC1yZWNlbnQgcmlwcGxlIHRpbWVvdXRcbiAgdGhpcy5sYXN0UmlwcGxlID0gbnVsbDtcblxuICAkbWRVdGlsLnZhbHVlT25Vc2UodGhpcywgJ2NvbnRhaW5lcicsIHRoaXMuY3JlYXRlQ29udGFpbmVyKTtcblxuICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdtZC1pbmstcmlwcGxlJyk7XG5cbiAgLy8gYXR0YWNoIG1ldGhvZCBmb3IgdW5pdCB0ZXN0c1xuICAoJGVsZW1lbnQuY29udHJvbGxlcignbWRJbmtSaXBwbGUnKSB8fCB7fSkuY3JlYXRlUmlwcGxlID0gYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMuY3JlYXRlUmlwcGxlKTtcbiAgKCRlbGVtZW50LmNvbnRyb2xsZXIoJ21kSW5rUmlwcGxlJykgfHwge30pLnNldENvbG9yID0gYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMuY29sb3IpO1xuXG4gIHRoaXMuYmluZEV2ZW50cygpO1xufVxuSW5rUmlwcGxlQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCJyaXBwbGVPcHRpb25zXCIsIFwiJHdpbmRvd1wiLCBcIiR0aW1lb3V0XCIsIFwiJG1kVXRpbFwiXTtcblxuXG4vKipcbiAqIEVpdGhlciByZW1vdmUgb3IgdW5sb2NrIGFueSByZW1haW5pbmcgcmlwcGxlcyB3aGVuIHRoZSB1c2VyIG1vdXNlcyBvZmYgb2YgdGhlIGVsZW1lbnQgKGVpdGhlciBieVxuICogbW91c2V1cCBvciBtb3VzZWxlYXZlIGV2ZW50KVxuICovXG5mdW5jdGlvbiBhdXRvQ2xlYW51cCAoc2VsZiwgY2xlYW51cEZuKSB7XG5cbiAgaWYgKCBzZWxmLm1vdXNlZG93biB8fCBzZWxmLmxhc3RSaXBwbGUgKSB7XG4gICAgc2VsZi5tb3VzZWRvd24gPSBmYWxzZTtcbiAgICBzZWxmLiRtZFV0aWwubmV4dFRpY2soIGFuZ3VsYXIuYmluZChzZWxmLCBjbGVhbnVwRm4pLCBmYWxzZSk7XG4gIH1cblxufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29sb3IgdGhhdCB0aGUgcmlwcGxlIHNob3VsZCBiZSAoZWl0aGVyIGJhc2VkIG9uIENTUyBvciBoYXJkLWNvZGVkKVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuSW5rUmlwcGxlQ3RybC5wcm90b3R5cGUuY29sb3IgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIElmIGFzc2lnbmluZyBhIGNvbG9yIHZhbHVlLCBhcHBseSBpdCB0byBiYWNrZ3JvdW5kIGFuZCB0aGUgcmlwcGxlIGNvbG9yXG4gIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICBzZWxmLl9jb2xvciA9IHNlbGYuX3BhcnNlQ29sb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gSWYgY29sb3IgbG9va3VwLCB1c2UgYXNzaWduZWQsIGRlZmluZWQsIG9yIGluaGVyaXRlZFxuICByZXR1cm4gc2VsZi5fY29sb3IgfHwgc2VsZi5fcGFyc2VDb2xvciggc2VsZi5pbmtSaXBwbGUoKSApIHx8IHNlbGYuX3BhcnNlQ29sb3IoIGdldEVsZW1lbnRDb2xvcigpICk7XG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBjb2xvciBlbGVtZW50IGFuZCByZXR1cm5zIGl0cyB0ZXh0IGNvbG9yIGZvciB1c2UgYXMgZGVmYXVsdCByaXBwbGUgY29sb3JcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRDb2xvciAoKSB7XG4gICAgdmFyIGl0ZW1zID0gc2VsZi5vcHRpb25zICYmIHNlbGYub3B0aW9ucy5jb2xvckVsZW1lbnQgPyBzZWxmLm9wdGlvbnMuY29sb3JFbGVtZW50IDogW107XG4gICAgdmFyIGVsZW0gPSAgaXRlbXMubGVuZ3RoID8gaXRlbXNbIDAgXSA6IHNlbGYuJGVsZW1lbnRbIDAgXTtcblxuICAgIHJldHVybiBlbGVtID8gc2VsZi4kd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSkuY29sb3IgOiAncmdiKDAsMCwwKSc7XG4gIH1cbn07XG5cbi8qKlxuICogVXBkYXRpbmcgdGhlIHJpcHBsZSBjb2xvcnMgYmFzZWQgb24gdGhlIGN1cnJlbnQgaW5rUmlwcGxlIHZhbHVlXG4gKiBvciB0aGUgZWxlbWVudCdzIGNvbXB1dGVkIHN0eWxlIGNvbG9yXG4gKi9cbklua1JpcHBsZUN0cmwucHJvdG90eXBlLmNhbGN1bGF0ZUNvbG9yID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5jb2xvcigpO1xufTtcblxuXG4vKipcbiAqIFRha2VzIGEgc3RyaW5nIGNvbG9yIGFuZCBjb252ZXJ0cyBpdCB0byBSR0JBIGZvcm1hdFxuICogQHBhcmFtIGNvbG9yIHtzdHJpbmd9XG4gKiBAcGFyYW0gW211bHRpcGxpZXJdIHtpbnR9XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5cbklua1JpcHBsZUN0cmwucHJvdG90eXBlLl9wYXJzZUNvbG9yID0gZnVuY3Rpb24gcGFyc2VDb2xvciAoY29sb3IsIG11bHRpcGxpZXIpIHtcbiAgbXVsdGlwbGllciA9IG11bHRpcGxpZXIgfHwgMTtcblxuICBpZiAoIWNvbG9yKSByZXR1cm47XG4gIGlmIChjb2xvci5pbmRleE9mKCdyZ2JhJykgPT09IDApIHJldHVybiBjb2xvci5yZXBsYWNlKC9cXGQ/XFwuP1xcZCpcXHMqXFwpXFxzKiQvLCAoMC4xICogbXVsdGlwbGllcikudG9TdHJpbmcoKSArICcpJyk7XG4gIGlmIChjb2xvci5pbmRleE9mKCdyZ2InKSA9PT0gMCkgcmV0dXJuIHJnYlRvUkdCQShjb2xvcik7XG4gIGlmIChjb2xvci5pbmRleE9mKCcjJykgPT09IDApIHJldHVybiBoZXhUb1JHQkEoY29sb3IpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBoZXggdmFsdWUgdG8gUkdCQSBzdHJpbmdcbiAgICogQHBhcmFtIGNvbG9yIHtzdHJpbmd9XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBmdW5jdGlvbiBoZXhUb1JHQkEgKGNvbG9yKSB7XG4gICAgdmFyIGhleCAgID0gY29sb3JbIDAgXSA9PT0gJyMnID8gY29sb3Iuc3Vic3RyKDEpIDogY29sb3IsXG4gICAgICBkaWcgICA9IGhleC5sZW5ndGggLyAzLFxuICAgICAgcmVkICAgPSBoZXguc3Vic3RyKDAsIGRpZyksXG4gICAgICBncmVlbiA9IGhleC5zdWJzdHIoZGlnLCBkaWcpLFxuICAgICAgYmx1ZSAgPSBoZXguc3Vic3RyKGRpZyAqIDIpO1xuICAgIGlmIChkaWcgPT09IDEpIHtcbiAgICAgIHJlZCArPSByZWQ7XG4gICAgICBncmVlbiArPSBncmVlbjtcbiAgICAgIGJsdWUgKz0gYmx1ZTtcbiAgICB9XG4gICAgcmV0dXJuICdyZ2JhKCcgKyBwYXJzZUludChyZWQsIDE2KSArICcsJyArIHBhcnNlSW50KGdyZWVuLCAxNikgKyAnLCcgKyBwYXJzZUludChibHVlLCAxNikgKyAnLDAuMSknO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB0byBSR0JBXG4gICAqIEBwYXJhbSBjb2xvciB7c3RyaW5nfVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZnVuY3Rpb24gcmdiVG9SR0JBIChjb2xvcikge1xuICAgIHJldHVybiBjb2xvci5yZXBsYWNlKCcpJywgJywgMC4xKScpLnJlcGxhY2UoJygnLCAnYSgnKTtcbiAgfVxuXG59O1xuXG4vKipcbiAqIEJpbmRzIGV2ZW50cyB0byB0aGUgcm9vdCBlbGVtZW50IGZvclxuICovXG5JbmtSaXBwbGVDdHJsLnByb3RvdHlwZS5iaW5kRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLiRlbGVtZW50Lm9uKCdtb3VzZWRvd24nLCBhbmd1bGFyLmJpbmQodGhpcywgdGhpcy5oYW5kbGVNb3VzZWRvd24pKTtcbiAgdGhpcy4kZWxlbWVudC5vbignbW91c2V1cCB0b3VjaGVuZCcsIGFuZ3VsYXIuYmluZCh0aGlzLCB0aGlzLmhhbmRsZU1vdXNldXApKTtcbiAgdGhpcy4kZWxlbWVudC5vbignbW91c2VsZWF2ZScsIGFuZ3VsYXIuYmluZCh0aGlzLCB0aGlzLmhhbmRsZU1vdXNldXApKTtcbiAgdGhpcy4kZWxlbWVudC5vbigndG91Y2htb3ZlJywgYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMuaGFuZGxlVG91Y2htb3ZlKSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyByaXBwbGUgb24gZXZlcnkgbW91c2Vkb3duIGV2ZW50IGZyb20gdGhlIHJvb3QgZWxlbWVudFxuICogQHBhcmFtIGV2ZW50IHtNb3VzZUV2ZW50fVxuICovXG5JbmtSaXBwbGVDdHJsLnByb3RvdHlwZS5oYW5kbGVNb3VzZWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgaWYgKCB0aGlzLm1vdXNlZG93biApIHJldHVybjtcblxuICAvLyBXaGVuIGpRdWVyeSBpcyBsb2FkZWQsIHdlIGhhdmUgdG8gZ2V0IHRoZSBvcmlnaW5hbCBldmVudFxuICBpZiAoZXZlbnQuaGFzT3duUHJvcGVydHkoJ29yaWdpbmFsRXZlbnQnKSkgZXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuICB0aGlzLm1vdXNlZG93biA9IHRydWU7XG4gIGlmICh0aGlzLm9wdGlvbnMuY2VudGVyKSB7XG4gICAgdGhpcy5jcmVhdGVSaXBwbGUodGhpcy5jb250YWluZXIucHJvcCgnY2xpZW50V2lkdGgnKSAvIDIsIHRoaXMuY29udGFpbmVyLnByb3AoJ2NsaWVudFdpZHRoJykgLyAyKTtcbiAgfSBlbHNlIHtcblxuICAgIC8vIFdlIG5lZWQgdG8gY2FsY3VsYXRlIHRoZSByZWxhdGl2ZSBjb29yZGluYXRlcyBpZiB0aGUgdGFyZ2V0IGlzIGEgc3VibGF5ZXIgb2YgdGhlIHJpcHBsZSBlbGVtZW50XG4gICAgaWYgKGV2ZW50LnNyY0VsZW1lbnQgIT09IHRoaXMuJGVsZW1lbnRbMF0pIHtcbiAgICAgIHZhciBsYXllclJlY3QgPSB0aGlzLiRlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIGxheWVyWCA9IGV2ZW50LmNsaWVudFggLSBsYXllclJlY3QubGVmdDtcbiAgICAgIHZhciBsYXllclkgPSBldmVudC5jbGllbnRZIC0gbGF5ZXJSZWN0LnRvcDtcblxuICAgICAgdGhpcy5jcmVhdGVSaXBwbGUobGF5ZXJYLCBsYXllclkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNyZWF0ZVJpcHBsZShldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRWl0aGVyIHJlbW92ZSBvciB1bmxvY2sgYW55IHJlbWFpbmluZyByaXBwbGVzIHdoZW4gdGhlIHVzZXIgbW91c2VzIG9mZiBvZiB0aGUgZWxlbWVudCAoZWl0aGVyIGJ5XG4gKiBtb3VzZXVwLCB0b3VjaGVuZCBvciBtb3VzZWxlYXZlIGV2ZW50KVxuICovXG5JbmtSaXBwbGVDdHJsLnByb3RvdHlwZS5oYW5kbGVNb3VzZXVwID0gZnVuY3Rpb24gKCkge1xuICBhdXRvQ2xlYW51cCh0aGlzLCB0aGlzLmNsZWFyUmlwcGxlcyk7XG59O1xuXG4vKipcbiAqIEVpdGhlciByZW1vdmUgb3IgdW5sb2NrIGFueSByZW1haW5pbmcgcmlwcGxlcyB3aGVuIHRoZSB1c2VyIG1vdXNlcyBvZmYgb2YgdGhlIGVsZW1lbnQgKGJ5XG4gKiB0b3VjaG1vdmUpXG4gKi9cbklua1JpcHBsZUN0cmwucHJvdG90eXBlLmhhbmRsZVRvdWNobW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgYXV0b0NsZWFudXAodGhpcywgdGhpcy5kZWxldGVSaXBwbGVzKTtcbn07XG5cbi8qKlxuICogQ3ljbGVzIHRocm91Z2ggYWxsIHJpcHBsZXMgYW5kIGF0dGVtcHRzIHRvIHJlbW92ZSB0aGVtLlxuICovXG5JbmtSaXBwbGVDdHJsLnByb3RvdHlwZS5kZWxldGVSaXBwbGVzID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmlwcGxlcy5sZW5ndGg7IGkrKykge1xuICAgIHRoaXMucmlwcGxlc1sgaSBdLnJlbW92ZSgpO1xuICB9XG59O1xuXG4vKipcbiAqIEN5Y2xlcyB0aHJvdWdoIGFsbCByaXBwbGVzIGFuZCBhdHRlbXB0cyB0byByZW1vdmUgdGhlbSB3aXRoIGZhZGUuXG4gKiBEZXBlbmRpbmcgb24gbG9naWMgd2l0aGluIGBmYWRlSW5Db21wbGV0ZWAsIHNvbWUgcmVtb3ZhbHMgd2lsbCBiZSBwb3N0cG9uZWQuXG4gKi9cbklua1JpcHBsZUN0cmwucHJvdG90eXBlLmNsZWFyUmlwcGxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpcHBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICB0aGlzLmZhZGVJbkNvbXBsZXRlKHRoaXMucmlwcGxlc1sgaSBdKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGVzIHRoZSByaXBwbGUgY29udGFpbmVyIGVsZW1lbnRcbiAqIEByZXR1cm5zIHsqfVxuICovXG5JbmtSaXBwbGVDdHJsLnByb3RvdHlwZS5jcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJtZC1yaXBwbGUtY29udGFpbmVyXCI+PC9kaXY+Jyk7XG4gIHRoaXMuJGVsZW1lbnQuYXBwZW5kKGNvbnRhaW5lcik7XG4gIHJldHVybiBjb250YWluZXI7XG59O1xuXG5JbmtSaXBwbGVDdHJsLnByb3RvdHlwZS5jbGVhclRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICB0aGlzLiR0aW1lb3V0LmNhbmNlbCh0aGlzLnRpbWVvdXQpO1xuICAgIHRoaXMudGltZW91dCA9IG51bGw7XG4gIH1cbn07XG5cbklua1JpcHBsZUN0cmwucHJvdG90eXBlLmlzUmlwcGxlQWxsb3dlZCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGVsZW1lbnQgPSB0aGlzLiRlbGVtZW50WzBdO1xuICBkbyB7XG4gICAgaWYgKCFlbGVtZW50LnRhZ05hbWUgfHwgZWxlbWVudC50YWdOYW1lID09PSAnQk9EWScpIGJyZWFrO1xuXG4gICAgaWYgKGVsZW1lbnQgJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGVsZW1lbnQuaGFzQXR0cmlidXRlKSkge1xuICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAodGhpcy5pbmtSaXBwbGUoKSA9PT0gJ2ZhbHNlJyB8fCB0aGlzLmlua1JpcHBsZSgpID09PSAnMCcpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgfSB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSk7XG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBUaGUgYXR0cmlidXRlIGBtZC1pbmstcmlwcGxlYCBtYXkgYmUgYSBzdGF0aWMgb3IgaW50ZXJwb2xhdGVkXG4gKiBjb2xvciB2YWx1ZSBPUiBhIGJvb2xlYW4gaW5kaWNhdG9yICh1c2VkIHRvIGRpc2FibGUgcmlwcGxlcylcbiAqL1xuSW5rUmlwcGxlQ3RybC5wcm90b3R5cGUuaW5rUmlwcGxlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy4kZWxlbWVudC5hdHRyKCdtZC1pbmstcmlwcGxlJyk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcmlwcGxlIGFuZCBhZGRzIGl0IHRvIHRoZSBjb250YWluZXIuICBBbHNvIHRyYWNrcyByaXBwbGUgaW4gYHRoaXMucmlwcGxlc2AuXG4gKiBAcGFyYW0gbGVmdFxuICogQHBhcmFtIHRvcFxuICovXG5JbmtSaXBwbGVDdHJsLnByb3RvdHlwZS5jcmVhdGVSaXBwbGUgPSBmdW5jdGlvbiAobGVmdCwgdG9wKSB7XG4gIGlmICghdGhpcy5pc1JpcHBsZUFsbG93ZWQoKSkgcmV0dXJuO1xuXG4gIHZhciBjdHJsICAgICAgICA9IHRoaXM7XG4gIHZhciByaXBwbGUgICAgICA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cIm1kLXJpcHBsZVwiPjwvZGl2PicpO1xuICB2YXIgd2lkdGggICAgICAgPSB0aGlzLiRlbGVtZW50LnByb3AoJ2NsaWVudFdpZHRoJyk7XG4gIHZhciBoZWlnaHQgICAgICA9IHRoaXMuJGVsZW1lbnQucHJvcCgnY2xpZW50SGVpZ2h0Jyk7XG4gIHZhciB4ICAgICAgICAgICA9IE1hdGgubWF4KE1hdGguYWJzKHdpZHRoIC0gbGVmdCksIGxlZnQpICogMjtcbiAgdmFyIHkgICAgICAgICAgID0gTWF0aC5tYXgoTWF0aC5hYnMoaGVpZ2h0IC0gdG9wKSwgdG9wKSAqIDI7XG4gIHZhciBzaXplICAgICAgICA9IGdldFNpemUodGhpcy5vcHRpb25zLmZpdFJpcHBsZSwgeCwgeSk7XG4gIHZhciBjb2xvciAgICAgICA9IHRoaXMuY2FsY3VsYXRlQ29sb3IoKTtcblxuICByaXBwbGUuY3NzKHtcbiAgICBsZWZ0OiAgICAgICAgICAgIGxlZnQgKyAncHgnLFxuICAgIHRvcDogICAgICAgICAgICAgdG9wICsgJ3B4JyxcbiAgICBiYWNrZ3JvdW5kOiAgICAgICdibGFjaycsXG4gICAgd2lkdGg6ICAgICAgICAgICBzaXplICsgJ3B4JyxcbiAgICBoZWlnaHQ6ICAgICAgICAgIHNpemUgKyAncHgnLFxuICAgIGJhY2tncm91bmRDb2xvcjogcmdiYVRvUkdCKGNvbG9yKSxcbiAgICBib3JkZXJDb2xvcjogICAgIHJnYmFUb1JHQihjb2xvcilcbiAgfSk7XG4gIHRoaXMubGFzdFJpcHBsZSA9IHJpcHBsZTtcblxuICAvLyB3ZSBvbmx5IHdhbnQgb25lIHRpbWVvdXQgdG8gYmUgcnVubmluZyBhdCBhIHRpbWVcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcbiAgdGhpcy50aW1lb3V0ICAgID0gdGhpcy4kdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgY3RybC5jbGVhclRpbWVvdXQoKTtcbiAgICBpZiAoIWN0cmwubW91c2Vkb3duKSBjdHJsLmZhZGVJbkNvbXBsZXRlKHJpcHBsZSk7XG4gIH0sIERVUkFUSU9OICogMC4zNSwgZmFsc2UpO1xuXG4gIGlmICh0aGlzLm9wdGlvbnMuZGltQmFja2dyb3VuZCkgdGhpcy5jb250YWluZXIuY3NzKHsgYmFja2dyb3VuZENvbG9yOiBjb2xvciB9KTtcbiAgdGhpcy5jb250YWluZXIuYXBwZW5kKHJpcHBsZSk7XG4gIHRoaXMucmlwcGxlcy5wdXNoKHJpcHBsZSk7XG4gIHJpcHBsZS5hZGRDbGFzcygnbWQtcmlwcGxlLXBsYWNlZCcpO1xuXG4gIHRoaXMuJG1kVXRpbC5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG5cbiAgICByaXBwbGUuYWRkQ2xhc3MoJ21kLXJpcHBsZS1zY2FsZWQgbWQtcmlwcGxlLWFjdGl2ZScpO1xuICAgIGN0cmwuJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY3RybC5jbGVhclJpcHBsZXMoKTtcbiAgICB9LCBEVVJBVElPTiwgZmFsc2UpO1xuXG4gIH0sIGZhbHNlKTtcblxuICBmdW5jdGlvbiByZ2JhVG9SR0IgKGNvbG9yKSB7XG4gICAgcmV0dXJuIGNvbG9yXG4gICAgICAgID8gY29sb3IucmVwbGFjZSgncmdiYScsICdyZ2InKS5yZXBsYWNlKC8sW15cXCksXStcXCkvLCAnKScpXG4gICAgICAgIDogJ3JnYigwLDAsMCknO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2l6ZSAoZml0LCB4LCB5KSB7XG4gICAgcmV0dXJuIGZpdFxuICAgICAgICA/IE1hdGgubWF4KHgsIHkpXG4gICAgICAgIDogTWF0aC5zcXJ0KE1hdGgucG93KHgsIDIpICsgTWF0aC5wb3coeSwgMikpO1xuICB9XG59O1xuXG5cblxuLyoqXG4gKiBBZnRlciBmYWRlSW4gZmluaXNoZXMsIGVpdGhlciBraWNrcyBvZmYgdGhlIGZhZGUtb3V0IGFuaW1hdGlvbiBvciBxdWV1ZXMgdGhlIGVsZW1lbnQgZm9yIHJlbW92YWwgb24gbW91c2V1cFxuICogQHBhcmFtIHJpcHBsZVxuICovXG5JbmtSaXBwbGVDdHJsLnByb3RvdHlwZS5mYWRlSW5Db21wbGV0ZSA9IGZ1bmN0aW9uIChyaXBwbGUpIHtcbiAgaWYgKHRoaXMubGFzdFJpcHBsZSA9PT0gcmlwcGxlKSB7XG4gICAgaWYgKCF0aGlzLnRpbWVvdXQgJiYgIXRoaXMubW91c2Vkb3duKSB7XG4gICAgICB0aGlzLnJlbW92ZVJpcHBsZShyaXBwbGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnJlbW92ZVJpcHBsZShyaXBwbGUpO1xuICB9XG59O1xuXG4vKipcbiAqIEtpY2tzIG9mZiB0aGUgYW5pbWF0aW9uIGZvciByZW1vdmluZyBhIHJpcHBsZVxuICogQHBhcmFtIHJpcHBsZSB7RWxlbWVudH1cbiAqL1xuSW5rUmlwcGxlQ3RybC5wcm90b3R5cGUucmVtb3ZlUmlwcGxlID0gZnVuY3Rpb24gKHJpcHBsZSkge1xuICB2YXIgY3RybCAgPSB0aGlzO1xuICB2YXIgaW5kZXggPSB0aGlzLnJpcHBsZXMuaW5kZXhPZihyaXBwbGUpO1xuICBpZiAoaW5kZXggPCAwKSByZXR1cm47XG4gIHRoaXMucmlwcGxlcy5zcGxpY2UodGhpcy5yaXBwbGVzLmluZGV4T2YocmlwcGxlKSwgMSk7XG4gIHJpcHBsZS5yZW1vdmVDbGFzcygnbWQtcmlwcGxlLWFjdGl2ZScpO1xuICBpZiAodGhpcy5yaXBwbGVzLmxlbmd0aCA9PT0gMCkgdGhpcy5jb250YWluZXIuY3NzKHsgYmFja2dyb3VuZENvbG9yOiAnJyB9KTtcbiAgLy8gdXNlIGEgMi1zZWNvbmQgdGltZW91dCBpbiBvcmRlciB0byBhbGxvdyBmb3IgdGhlIGFuaW1hdGlvbiB0byBmaW5pc2hcbiAgLy8gd2UgZG9uJ3QgYWN0dWFsbHkgY2FyZSBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIHRha2VzXG4gIHRoaXMuJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGN0cmwuZmFkZU91dENvbXBsZXRlKHJpcHBsZSk7XG4gIH0sIERVUkFUSU9OLCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIHByb3ZpZGVkIHJpcHBsZSBmcm9tIHRoZSBET01cbiAqIEBwYXJhbSByaXBwbGVcbiAqL1xuSW5rUmlwcGxlQ3RybC5wcm90b3R5cGUuZmFkZU91dENvbXBsZXRlID0gZnVuY3Rpb24gKHJpcHBsZSkge1xuICByaXBwbGUucmVtb3ZlKCk7XG4gIHRoaXMubGFzdFJpcHBsZSA9IG51bGw7XG59O1xuXG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIGFuIGVtcHR5IGRpcmVjdGl2ZS4gIFRoaXMgaXMgdXNlZCB0byB0cmFjayBmbGFnLWRpcmVjdGl2ZXMgd2hvc2UgY2hpbGRyZW4gbWF5IGhhdmVcbiAqIGZ1bmN0aW9uYWxpdHkgYmFzZWQgb24gdGhlbS5cbiAqXG4gKiBFeGFtcGxlOiBgbWQtbm8taW5rYCB3aWxsIHBvdGVudGlhbGx5IGJlIHVzZWQgYnkgYWxsIGNoaWxkIGRpcmVjdGl2ZXMuXG4gKi9cbmZ1bmN0aW9uIGF0dHJOb0RpcmVjdGl2ZSAoKSB7XG4gIHJldHVybiB7IGNvbnRyb2xsZXI6IGFuZ3VsYXIubm9vcCB9O1xufVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kVGFiSW5rUmlwcGxlXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUHJvdmlkZXMgcmlwcGxlIGVmZmVjdHMgZm9yIG1kLXRhYnMuICBTZWUgJG1kSW5rUmlwcGxlIHNlcnZpY2UgZm9yIGFsbCBwb3NzaWJsZSBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc2NvcGUgU2NvcGUgd2l0aGluIHRoZSBjdXJyZW50IGNvbnRleHRcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoZSByaXBwbGUgZWZmZWN0IHNob3VsZCBiZSBhcHBsaWVkIHRvXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyAoT3B0aW9uYWwpIENvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHJpcHBsZSBjb25maWd1cmF0aW9uXG4gICAqL1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgICAuZmFjdG9yeSgnJG1kVGFiSW5rUmlwcGxlJywgTWRUYWJJbmtSaXBwbGUpO1xuXG4gIGZ1bmN0aW9uIE1kVGFiSW5rUmlwcGxlKCRtZElua1JpcHBsZSkge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRhY2g6IGF0dGFjaFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhdHRhY2goc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiAkbWRJbmtSaXBwbGUuYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgIGNlbnRlcjogZmFsc2UsXG4gICAgICAgIGRpbUJhY2tncm91bmQ6IHRydWUsXG4gICAgICAgIG91dGxpbmU6IGZhbHNlLFxuICAgICAgICByaXBwbGVTaXplOiAnZnVsbCdcbiAgICAgIH0sIG9wdGlvbnMpKTtcbiAgICB9O1xuICB9XG4gIE1kVGFiSW5rUmlwcGxlLiRpbmplY3QgPSBbXCIkbWRJbmtSaXBwbGVcIl07O1xufSkoKTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlLnRoZW1pbmcucGFsZXR0ZScsIFtdKVxuLmNvbnN0YW50KCckbWRDb2xvclBhbGV0dGUnLCB7XG4gICdyZWQnOiB7XG4gICAgJzUwJzogJyNmZmViZWUnLFxuICAgICcxMDAnOiAnI2ZmY2RkMicsXG4gICAgJzIwMCc6ICcjZWY5YTlhJyxcbiAgICAnMzAwJzogJyNlNTczNzMnLFxuICAgICc0MDAnOiAnI2VmNTM1MCcsXG4gICAgJzUwMCc6ICcjZjQ0MzM2JyxcbiAgICAnNjAwJzogJyNlNTM5MzUnLFxuICAgICc3MDAnOiAnI2QzMmYyZicsXG4gICAgJzgwMCc6ICcjYzYyODI4JyxcbiAgICAnOTAwJzogJyNiNzFjMWMnLFxuICAgICdBMTAwJzogJyNmZjhhODAnLFxuICAgICdBMjAwJzogJyNmZjUyNTInLFxuICAgICdBNDAwJzogJyNmZjE3NDQnLFxuICAgICdBNzAwJzogJyNkNTAwMDAnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIDMwMCBBMTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc0MDAgNTAwIDYwMCA3MDAgQTIwMCBBNDAwIEE3MDAnXG4gIH0sXG4gICdwaW5rJzoge1xuICAgICc1MCc6ICcjZmNlNGVjJyxcbiAgICAnMTAwJzogJyNmOGJiZDAnLFxuICAgICcyMDAnOiAnI2Y0OGZiMScsXG4gICAgJzMwMCc6ICcjZjA2MjkyJyxcbiAgICAnNDAwJzogJyNlYzQwN2EnLFxuICAgICc1MDAnOiAnI2U5MWU2MycsXG4gICAgJzYwMCc6ICcjZDgxYjYwJyxcbiAgICAnNzAwJzogJyNjMjE4NWInLFxuICAgICc4MDAnOiAnI2FkMTQ1NycsXG4gICAgJzkwMCc6ICcjODgwZTRmJyxcbiAgICAnQTEwMCc6ICcjZmY4MGFiJyxcbiAgICAnQTIwMCc6ICcjZmY0MDgxJyxcbiAgICAnQTQwMCc6ICcjZjUwMDU3JyxcbiAgICAnQTcwMCc6ICcjYzUxMTYyJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCBBMTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc1MDAgNjAwIEEyMDAgQTQwMCBBNzAwJ1xuICB9LFxuICAncHVycGxlJzoge1xuICAgICc1MCc6ICcjZjNlNWY1JyxcbiAgICAnMTAwJzogJyNlMWJlZTcnLFxuICAgICcyMDAnOiAnI2NlOTNkOCcsXG4gICAgJzMwMCc6ICcjYmE2OGM4JyxcbiAgICAnNDAwJzogJyNhYjQ3YmMnLFxuICAgICc1MDAnOiAnIzljMjdiMCcsXG4gICAgJzYwMCc6ICcjOGUyNGFhJyxcbiAgICAnNzAwJzogJyM3YjFmYTInLFxuICAgICc4MDAnOiAnIzZhMWI5YScsXG4gICAgJzkwMCc6ICcjNGExNDhjJyxcbiAgICAnQTEwMCc6ICcjZWE4MGZjJyxcbiAgICAnQTIwMCc6ICcjZTA0MGZiJyxcbiAgICAnQTQwMCc6ICcjZDUwMGY5JyxcbiAgICAnQTcwMCc6ICcjYWEwMGZmJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCBBMTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICczMDAgNDAwIEEyMDAgQTQwMCBBNzAwJ1xuICB9LFxuICAnZGVlcC1wdXJwbGUnOiB7XG4gICAgJzUwJzogJyNlZGU3ZjYnLFxuICAgICcxMDAnOiAnI2QxYzRlOScsXG4gICAgJzIwMCc6ICcjYjM5ZGRiJyxcbiAgICAnMzAwJzogJyM5NTc1Y2QnLFxuICAgICc0MDAnOiAnIzdlNTdjMicsXG4gICAgJzUwMCc6ICcjNjczYWI3JyxcbiAgICAnNjAwJzogJyM1ZTM1YjEnLFxuICAgICc3MDAnOiAnIzUxMmRhOCcsXG4gICAgJzgwMCc6ICcjNDUyN2EwJyxcbiAgICAnOTAwJzogJyMzMTFiOTInLFxuICAgICdBMTAwJzogJyNiMzg4ZmYnLFxuICAgICdBMjAwJzogJyM3YzRkZmYnLFxuICAgICdBNDAwJzogJyM2NTFmZmYnLFxuICAgICdBNzAwJzogJyM2MjAwZWEnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIEExMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzMwMCA0MDAgQTIwMCdcbiAgfSxcbiAgJ2luZGlnbyc6IHtcbiAgICAnNTAnOiAnI2U4ZWFmNicsXG4gICAgJzEwMCc6ICcjYzVjYWU5JyxcbiAgICAnMjAwJzogJyM5ZmE4ZGEnLFxuICAgICczMDAnOiAnIzc5ODZjYicsXG4gICAgJzQwMCc6ICcjNWM2YmMwJyxcbiAgICAnNTAwJzogJyMzZjUxYjUnLFxuICAgICc2MDAnOiAnIzM5NDlhYicsXG4gICAgJzcwMCc6ICcjMzAzZjlmJyxcbiAgICAnODAwJzogJyMyODM1OTMnLFxuICAgICc5MDAnOiAnIzFhMjM3ZScsXG4gICAgJ0ExMDAnOiAnIzhjOWVmZicsXG4gICAgJ0EyMDAnOiAnIzUzNmRmZScsXG4gICAgJ0E0MDAnOiAnIzNkNWFmZScsXG4gICAgJ0E3MDAnOiAnIzMwNGZmZScsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgQTEwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnMzAwIDQwMCBBMjAwIEE0MDAnXG4gIH0sXG4gICdibHVlJzoge1xuICAgICc1MCc6ICcjZTNmMmZkJyxcbiAgICAnMTAwJzogJyNiYmRlZmInLFxuICAgICcyMDAnOiAnIzkwY2FmOScsXG4gICAgJzMwMCc6ICcjNjRiNWY2JyxcbiAgICAnNDAwJzogJyM0MmE1ZjUnLFxuICAgICc1MDAnOiAnIzIxOTZmMycsXG4gICAgJzYwMCc6ICcjMWU4OGU1JyxcbiAgICAnNzAwJzogJyMxOTc2ZDInLFxuICAgICc4MDAnOiAnIzE1NjVjMCcsXG4gICAgJzkwMCc6ICcjMGQ0N2ExJyxcbiAgICAnQTEwMCc6ICcjODJiMWZmJyxcbiAgICAnQTIwMCc6ICcjNDQ4YWZmJyxcbiAgICAnQTQwMCc6ICcjMjk3OWZmJyxcbiAgICAnQTcwMCc6ICcjMjk2MmZmJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCAzMDAgNDAwIEExMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwIEEyMDAgQTQwMCBBNzAwJ1xuICB9LFxuICAnbGlnaHQtYmx1ZSc6IHtcbiAgICAnNTAnOiAnI2UxZjVmZScsXG4gICAgJzEwMCc6ICcjYjNlNWZjJyxcbiAgICAnMjAwJzogJyM4MWQ0ZmEnLFxuICAgICczMDAnOiAnIzRmYzNmNycsXG4gICAgJzQwMCc6ICcjMjliNmY2JyxcbiAgICAnNTAwJzogJyMwM2E5ZjQnLFxuICAgICc2MDAnOiAnIzAzOWJlNScsXG4gICAgJzcwMCc6ICcjMDI4OGQxJyxcbiAgICAnODAwJzogJyMwMjc3YmQnLFxuICAgICc5MDAnOiAnIzAxNTc5YicsXG4gICAgJ0ExMDAnOiAnIzgwZDhmZicsXG4gICAgJ0EyMDAnOiAnIzQwYzRmZicsXG4gICAgJ0E0MDAnOiAnIzAwYjBmZicsXG4gICAgJ0E3MDAnOiAnIzAwOTFlYScsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzYwMCA3MDAgODAwIDkwMCBBNzAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc2MDAgNzAwIDgwMCBBNzAwJ1xuICB9LFxuICAnY3lhbic6IHtcbiAgICAnNTAnOiAnI2UwZjdmYScsXG4gICAgJzEwMCc6ICcjYjJlYmYyJyxcbiAgICAnMjAwJzogJyM4MGRlZWEnLFxuICAgICczMDAnOiAnIzRkZDBlMScsXG4gICAgJzQwMCc6ICcjMjZjNmRhJyxcbiAgICAnNTAwJzogJyMwMGJjZDQnLFxuICAgICc2MDAnOiAnIzAwYWNjMScsXG4gICAgJzcwMCc6ICcjMDA5N2E3JyxcbiAgICAnODAwJzogJyMwMDgzOGYnLFxuICAgICc5MDAnOiAnIzAwNjA2NCcsXG4gICAgJ0ExMDAnOiAnIzg0ZmZmZicsXG4gICAgJ0EyMDAnOiAnIzE4ZmZmZicsXG4gICAgJ0E0MDAnOiAnIzAwZTVmZicsXG4gICAgJ0E3MDAnOiAnIzAwYjhkNCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzcwMCA4MDAgOTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc3MDAgODAwIDkwMCdcbiAgfSxcbiAgJ3RlYWwnOiB7XG4gICAgJzUwJzogJyNlMGYyZjEnLFxuICAgICcxMDAnOiAnI2IyZGZkYicsXG4gICAgJzIwMCc6ICcjODBjYmM0JyxcbiAgICAnMzAwJzogJyM0ZGI2YWMnLFxuICAgICc0MDAnOiAnIzI2YTY5YScsXG4gICAgJzUwMCc6ICcjMDA5Njg4JyxcbiAgICAnNjAwJzogJyMwMDg5N2InLFxuICAgICc3MDAnOiAnIzAwNzk2YicsXG4gICAgJzgwMCc6ICcjMDA2OTVjJyxcbiAgICAnOTAwJzogJyMwMDRkNDAnLFxuICAgICdBMTAwJzogJyNhN2ZmZWInLFxuICAgICdBMjAwJzogJyM2NGZmZGEnLFxuICAgICdBNDAwJzogJyMxZGU5YjYnLFxuICAgICdBNzAwJzogJyMwMGJmYTUnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAnY29udHJhc3RMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCA4MDAgOTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCdcbiAgfSxcbiAgJ2dyZWVuJzoge1xuICAgICc1MCc6ICcjZThmNWU5JyxcbiAgICAnMTAwJzogJyNjOGU2YzknLFxuICAgICcyMDAnOiAnI2E1ZDZhNycsXG4gICAgJzMwMCc6ICcjODFjNzg0JyxcbiAgICAnNDAwJzogJyM2NmJiNmEnLFxuICAgICc1MDAnOiAnIzRjYWY1MCcsXG4gICAgJzYwMCc6ICcjNDNhMDQ3JyxcbiAgICAnNzAwJzogJyMzODhlM2MnLFxuICAgICc4MDAnOiAnIzJlN2QzMicsXG4gICAgJzkwMCc6ICcjMWI1ZTIwJyxcbiAgICAnQTEwMCc6ICcjYjlmNmNhJyxcbiAgICAnQTIwMCc6ICcjNjlmMGFlJyxcbiAgICAnQTQwMCc6ICcjMDBlNjc2JyxcbiAgICAnQTcwMCc6ICcjMDBjODUzJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaycsXG4gICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiAnNjAwIDcwMCA4MDAgOTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc2MDAgNzAwJ1xuICB9LFxuICAnbGlnaHQtZ3JlZW4nOiB7XG4gICAgJzUwJzogJyNmMWY4ZTknLFxuICAgICcxMDAnOiAnI2RjZWRjOCcsXG4gICAgJzIwMCc6ICcjYzVlMWE1JyxcbiAgICAnMzAwJzogJyNhZWQ1ODEnLFxuICAgICc0MDAnOiAnIzljY2M2NScsXG4gICAgJzUwMCc6ICcjOGJjMzRhJyxcbiAgICAnNjAwJzogJyM3Y2IzNDInLFxuICAgICc3MDAnOiAnIzY4OWYzOCcsXG4gICAgJzgwMCc6ICcjNTU4YjJmJyxcbiAgICAnOTAwJzogJyMzMzY5MWUnLFxuICAgICdBMTAwJzogJyNjY2ZmOTAnLFxuICAgICdBMjAwJzogJyNiMmZmNTknLFxuICAgICdBNDAwJzogJyM3NmZmMDMnLFxuICAgICdBNzAwJzogJyM2NGRkMTcnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAnY29udHJhc3RMaWdodENvbG9ycyc6ICc3MDAgODAwIDkwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNzAwIDgwMCA5MDAnXG4gIH0sXG4gICdsaW1lJzoge1xuICAgICc1MCc6ICcjZjlmYmU3JyxcbiAgICAnMTAwJzogJyNmMGY0YzMnLFxuICAgICcyMDAnOiAnI2U2ZWU5YycsXG4gICAgJzMwMCc6ICcjZGNlNzc1JyxcbiAgICAnNDAwJzogJyNkNGUxNTcnLFxuICAgICc1MDAnOiAnI2NkZGMzOScsXG4gICAgJzYwMCc6ICcjYzBjYTMzJyxcbiAgICAnNzAwJzogJyNhZmI0MmInLFxuICAgICc4MDAnOiAnIzllOWQyNCcsXG4gICAgJzkwMCc6ICcjODI3NzE3JyxcbiAgICAnQTEwMCc6ICcjZjRmZjgxJyxcbiAgICAnQTIwMCc6ICcjZWVmZjQxJyxcbiAgICAnQTQwMCc6ICcjYzZmZjAwJyxcbiAgICAnQTcwMCc6ICcjYWVlYTAwJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaycsXG4gICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiAnOTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc5MDAnXG4gIH0sXG4gICd5ZWxsb3cnOiB7XG4gICAgJzUwJzogJyNmZmZkZTcnLFxuICAgICcxMDAnOiAnI2ZmZjljNCcsXG4gICAgJzIwMCc6ICcjZmZmNTlkJyxcbiAgICAnMzAwJzogJyNmZmYxNzYnLFxuICAgICc0MDAnOiAnI2ZmZWU1OCcsXG4gICAgJzUwMCc6ICcjZmZlYjNiJyxcbiAgICAnNjAwJzogJyNmZGQ4MzUnLFxuICAgICc3MDAnOiAnI2ZiYzAyZCcsXG4gICAgJzgwMCc6ICcjZjlhODI1JyxcbiAgICAnOTAwJzogJyNmNTdmMTcnLFxuICAgICdBMTAwJzogJyNmZmZmOGQnLFxuICAgICdBMjAwJzogJyNmZmZmMDAnLFxuICAgICdBNDAwJzogJyNmZmVhMDAnLFxuICAgICdBNzAwJzogJyNmZmQ2MDAnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJ1xuICB9LFxuICAnYW1iZXInOiB7XG4gICAgJzUwJzogJyNmZmY4ZTEnLFxuICAgICcxMDAnOiAnI2ZmZWNiMycsXG4gICAgJzIwMCc6ICcjZmZlMDgyJyxcbiAgICAnMzAwJzogJyNmZmQ1NGYnLFxuICAgICc0MDAnOiAnI2ZmY2EyOCcsXG4gICAgJzUwMCc6ICcjZmZjMTA3JyxcbiAgICAnNjAwJzogJyNmZmIzMDAnLFxuICAgICc3MDAnOiAnI2ZmYTAwMCcsXG4gICAgJzgwMCc6ICcjZmY4ZjAwJyxcbiAgICAnOTAwJzogJyNmZjZmMDAnLFxuICAgICdBMTAwJzogJyNmZmU1N2YnLFxuICAgICdBMjAwJzogJyNmZmQ3NDAnLFxuICAgICdBNDAwJzogJyNmZmM0MDAnLFxuICAgICdBNzAwJzogJyNmZmFiMDAnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJ1xuICB9LFxuICAnb3JhbmdlJzoge1xuICAgICc1MCc6ICcjZmZmM2UwJyxcbiAgICAnMTAwJzogJyNmZmUwYjInLFxuICAgICcyMDAnOiAnI2ZmY2M4MCcsXG4gICAgJzMwMCc6ICcjZmZiNzRkJyxcbiAgICAnNDAwJzogJyNmZmE3MjYnLFxuICAgICc1MDAnOiAnI2ZmOTgwMCcsXG4gICAgJzYwMCc6ICcjZmI4YzAwJyxcbiAgICAnNzAwJzogJyNmNTdjMDAnLFxuICAgICc4MDAnOiAnI2VmNmMwMCcsXG4gICAgJzkwMCc6ICcjZTY1MTAwJyxcbiAgICAnQTEwMCc6ICcjZmZkMTgwJyxcbiAgICAnQTIwMCc6ICcjZmZhYjQwJyxcbiAgICAnQTQwMCc6ICcjZmY5MTAwJyxcbiAgICAnQTcwMCc6ICcjZmY2ZDAwJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaycsXG4gICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiAnODAwIDkwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnODAwIDkwMCdcbiAgfSxcbiAgJ2RlZXAtb3JhbmdlJzoge1xuICAgICc1MCc6ICcjZmJlOWU3JyxcbiAgICAnMTAwJzogJyNmZmNjYmMnLFxuICAgICcyMDAnOiAnI2ZmYWI5MScsXG4gICAgJzMwMCc6ICcjZmY4YTY1JyxcbiAgICAnNDAwJzogJyNmZjcwNDMnLFxuICAgICc1MDAnOiAnI2ZmNTcyMicsXG4gICAgJzYwMCc6ICcjZjQ1MTFlJyxcbiAgICAnNzAwJzogJyNlNjRhMTknLFxuICAgICc4MDAnOiAnI2Q4NDMxNScsXG4gICAgJzkwMCc6ICcjYmYzNjBjJyxcbiAgICAnQTEwMCc6ICcjZmY5ZTgwJyxcbiAgICAnQTIwMCc6ICcjZmY2ZTQwJyxcbiAgICAnQTQwMCc6ICcjZmYzZDAwJyxcbiAgICAnQTcwMCc6ICcjZGQyYzAwJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCAzMDAgNDAwIEExMDAgQTIwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgODAwIDkwMCBBNDAwIEE3MDAnXG4gIH0sXG4gICdicm93bic6IHtcbiAgICAnNTAnOiAnI2VmZWJlOScsXG4gICAgJzEwMCc6ICcjZDdjY2M4JyxcbiAgICAnMjAwJzogJyNiY2FhYTQnLFxuICAgICczMDAnOiAnI2ExODg3ZicsXG4gICAgJzQwMCc6ICcjOGQ2ZTYzJyxcbiAgICAnNTAwJzogJyM3OTU1NDgnLFxuICAgICc2MDAnOiAnIzZkNGM0MScsXG4gICAgJzcwMCc6ICcjNWQ0MDM3JyxcbiAgICAnODAwJzogJyM0ZTM0MmUnLFxuICAgICc5MDAnOiAnIzNlMjcyMycsXG4gICAgJ0ExMDAnOiAnI2Q3Y2NjOCcsXG4gICAgJ0EyMDAnOiAnI2JjYWFhNCcsXG4gICAgJ0E0MDAnOiAnIzhkNmU2MycsXG4gICAgJ0E3MDAnOiAnIzVkNDAzNycsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzMwMCA0MDAnXG4gIH0sXG4gICdncmV5Jzoge1xuICAgICc1MCc6ICcjZmFmYWZhJyxcbiAgICAnMTAwJzogJyNmNWY1ZjUnLFxuICAgICcyMDAnOiAnI2VlZWVlZScsXG4gICAgJzMwMCc6ICcjZTBlMGUwJyxcbiAgICAnNDAwJzogJyNiZGJkYmQnLFxuICAgICc1MDAnOiAnIzllOWU5ZScsXG4gICAgJzYwMCc6ICcjNzU3NTc1JyxcbiAgICAnNzAwJzogJyM2MTYxNjEnLFxuICAgICc4MDAnOiAnIzQyNDI0MicsXG4gICAgJzkwMCc6ICcjMjEyMTIxJyxcbiAgICAnMTAwMCc6ICcjMDAwMDAwJyxcbiAgICAnQTEwMCc6ICcjZmZmZmZmJyxcbiAgICAnQTIwMCc6ICcjZWVlZWVlJyxcbiAgICAnQTQwMCc6ICcjYmRiZGJkJyxcbiAgICAnQTcwMCc6ICcjNjE2MTYxJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaycsXG4gICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiAnNjAwIDcwMCA4MDAgOTAwJ1xuICB9LFxuICAnYmx1ZS1ncmV5Jzoge1xuICAgICc1MCc6ICcjZWNlZmYxJyxcbiAgICAnMTAwJzogJyNjZmQ4ZGMnLFxuICAgICcyMDAnOiAnI2IwYmVjNScsXG4gICAgJzMwMCc6ICcjOTBhNGFlJyxcbiAgICAnNDAwJzogJyM3ODkwOWMnLFxuICAgICc1MDAnOiAnIzYwN2Q4YicsXG4gICAgJzYwMCc6ICcjNTQ2ZTdhJyxcbiAgICAnNzAwJzogJyM0NTVhNjQnLFxuICAgICc4MDAnOiAnIzM3NDc0ZicsXG4gICAgJzkwMCc6ICcjMjYzMjM4JyxcbiAgICAnQTEwMCc6ICcjY2ZkOGRjJyxcbiAgICAnQTIwMCc6ICcjYjBiZWM1JyxcbiAgICAnQTQwMCc6ICcjNzg5MDljJyxcbiAgICAnQTcwMCc6ICcjNDU1YTY0JyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCAzMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzQwMCA1MDAnXG4gIH1cbn0pO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUudGhlbWluZycsIFsnbWF0ZXJpYWwuY29yZS50aGVtaW5nLnBhbGV0dGUnXSlcbiAgLmRpcmVjdGl2ZSgnbWRUaGVtZScsIFRoZW1pbmdEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21kVGhlbWFibGUnLCBUaGVtYWJsZURpcmVjdGl2ZSlcbiAgLnByb3ZpZGVyKCckbWRUaGVtaW5nJywgVGhlbWluZ1Byb3ZpZGVyKVxuICAucnVuKGdlbmVyYXRlQWxsVGhlbWVzKTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJG1kVGhlbWluZ1Byb3ZpZGVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvcmUudGhlbWluZ1xuICpcbiAqIEBkZXNjcmlwdGlvbiBQcm92aWRlciB0byBjb25maWd1cmUgdGhlIGAkbWRUaGVtaW5nYCBzZXJ2aWNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kVGhlbWluZ1Byb3ZpZGVyI3NldERlZmF1bHRUaGVtZVxuICogQHBhcmFtIHtzdHJpbmd9IHRoZW1lTmFtZSBEZWZhdWx0IHRoZW1lIG5hbWUgdG8gYmUgYXBwbGllZCB0byBlbGVtZW50cy4gRGVmYXVsdCB2YWx1ZSBpcyBgZGVmYXVsdGAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUaGVtaW5nUHJvdmlkZXIjYWx3YXlzV2F0Y2hUaGVtZVxuICogQHBhcmFtIHtib29sZWFufSB3YXRjaCBXaGV0aGVyIG9yIG5vdCB0byBhbHdheXMgd2F0Y2ggdGhlbWVzIGZvciBjaGFuZ2VzIGFuZCByZS1hcHBseVxuICogY2xhc3NlcyB3aGVuIHRoZXkgY2hhbmdlLiBEZWZhdWx0IGlzIGBmYWxzZWAuIEVuYWJsaW5nIGNhbiByZWR1Y2UgcGVyZm9ybWFuY2UuXG4gKi9cblxuLyogU29tZSBFeGFtcGxlIFZhbGlkIFRoZW1pbmcgRXhwcmVzc2lvbnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqIEludGVudGlvbiBncm91cCBleHBhbnNpb246ICh2YWxpZCBmb3IgcHJpbWFyeSwgYWNjZW50LCB3YXJuLCBiYWNrZ3JvdW5kKVxuICpcbiAqIHt7cHJpbWFyeS0xMDB9fSAtIGdyYWIgc2hhZGUgMTAwIGZyb20gdGhlIHByaW1hcnkgcGFsZXR0ZVxuICoge3twcmltYXJ5LTEwMC0wLjd9fSAtIGdyYWIgc2hhZGUgMTAwLCBhcHBseSBvcGFjaXR5IG9mIDAuN1xuICoge3twcmltYXJ5LTEwMC1jb250cmFzdH19IC0gZ3JhYiBzaGFkZSAxMDAncyBjb250cmFzdCBjb2xvclxuICoge3twcmltYXJ5LWh1ZS0xfX0gLSBncmFiIHRoZSBzaGFkZSBhc3NpZ25lZCB0byBodWUtMSBmcm9tIHRoZSBwcmltYXJ5IHBhbGV0dGVcbiAqIHt7cHJpbWFyeS1odWUtMS0wLjd9fSAtIGFwcGx5IDAuNyBvcGFjaXR5IHRvIHByaW1hcnktaHVlLTFcbiAqIHt7cHJpbWFyeS1jb2xvcn19IC0gR2VuZXJhdGVzIC5tZC1odWUtMSwgLm1kLWh1ZS0yLCAubWQtaHVlLTMgd2l0aCBjb25maWd1cmVkIHNoYWRlcyBzZXQgZm9yIGVhY2ggaHVlXG4gKiB7e3ByaW1hcnktY29sb3ItMC43fX0gLSBBcHBseSAwLjcgb3BhY2l0eSB0byBlYWNoIG9mIHRoZSBhYm92ZSBydWxlc1xuICoge3twcmltYXJ5LWNvbnRyYXN0fX0gLSBHZW5lcmF0ZXMgLm1kLWh1ZS0xLCAubWQtaHVlLTIsIC5tZC1odWUtMyB3aXRoIGNvbmZpZ3VyZWQgY29udHJhc3QgKGllLiB0ZXh0KSBjb2xvciBzaGFkZXMgc2V0IGZvciBlYWNoIGh1ZVxuICoge3twcmltYXJ5LWNvbnRyYXN0LTAuN319IC0gQXBwbHkgMC43IG9wYWNpdHkgdG8gZWFjaCBvZiB0aGUgYWJvdmUgcnVsZXNcbiAqXG4gKiBGb3JlZ3JvdW5kIGV4cGFuc2lvbjogQXBwbGllcyByZ2JhIHRvIGJsYWNrL3doaXRlIGZvcmVncm91bmQgdGV4dFxuICpcbiAqIHt7Zm9yZWdyb3VuZC0xfX0gLSB1c2VkIGZvciBwcmltYXJ5IHRleHRcbiAqIHt7Zm9yZWdyb3VuZC0yfX0gLSB1c2VkIGZvciBzZWNvbmRhcnkgdGV4dC9kaXZpZGVyXG4gKiB7e2ZvcmVncm91bmQtM319IC0gdXNlZCBmb3IgZGlzYWJsZWQgdGV4dFxuICoge3tmb3JlZ3JvdW5kLTR9fSAtIHVzZWQgZm9yIGRpdmlkZXJzXG4gKlxuICovXG5cbi8vIEluIG1lbW9yeSBnZW5lcmF0ZWQgQ1NTIHJ1bGVzOyByZWdpc3RlcmVkIGJ5IHRoZW1lLm5hbWVcbnZhciBHRU5FUkFURUQgPSB7IH07XG5cbi8vIEluIG1lbW9yeSBzdG9yYWdlIG9mIGRlZmluZWQgdGhlbWVzIGFuZCBjb2xvciBwYWxldHRlcyAoYm90aCBsb2FkZWQgYnkgQ1NTLCBhbmQgdXNlciBzcGVjaWZpZWQpXG52YXIgUEFMRVRURVM7XG52YXIgVEhFTUVTO1xuXG52YXIgREFSS19GT1JFR1JPVU5EID0ge1xuICBuYW1lOiAnZGFyaycsXG4gICcxJzogJ3JnYmEoMCwwLDAsMC44NyknLFxuICAnMic6ICdyZ2JhKDAsMCwwLDAuNTQpJyxcbiAgJzMnOiAncmdiYSgwLDAsMCwwLjI2KScsXG4gICc0JzogJ3JnYmEoMCwwLDAsMC4xMiknXG59O1xudmFyIExJR0hUX0ZPUkVHUk9VTkQgPSB7XG4gIG5hbWU6ICdsaWdodCcsXG4gICcxJzogJ3JnYmEoMjU1LDI1NSwyNTUsMS4wKScsXG4gICcyJzogJ3JnYmEoMjU1LDI1NSwyNTUsMC43KScsXG4gICczJzogJ3JnYmEoMjU1LDI1NSwyNTUsMC4zKScsXG4gICc0JzogJ3JnYmEoMjU1LDI1NSwyNTUsMC4xMiknXG59O1xuXG52YXIgREFSS19TSEFET1cgPSAnMXB4IDFweCAwcHggcmdiYSgwLDAsMCwwLjQpLCAtMXB4IC0xcHggMHB4IHJnYmEoMCwwLDAsMC40KSc7XG52YXIgTElHSFRfU0hBRE9XID0gJyc7XG5cbnZhciBEQVJLX0NPTlRSQVNUX0NPTE9SID0gY29sb3JUb1JnYmFBcnJheSgncmdiYSgwLDAsMCwwLjg3KScpO1xudmFyIExJR0hUX0NPTlRSQVNUX0NPTE9SID0gY29sb3JUb1JnYmFBcnJheSgncmdiYSgyNTUsMjU1LDI1NSwwLjg3KScpO1xudmFyIFNUUk9OR19MSUdIVF9DT05UUkFTVF9DT0xPUiA9IGNvbG9yVG9SZ2JhQXJyYXkoJ3JnYigyNTUsMjU1LDI1NSknKTtcblxudmFyIFRIRU1FX0NPTE9SX1RZUEVTID0gWydwcmltYXJ5JywgJ2FjY2VudCcsICd3YXJuJywgJ2JhY2tncm91bmQnXTtcbnZhciBERUZBVUxUX0NPTE9SX1RZUEUgPSAncHJpbWFyeSc7XG5cbi8vIEEgY29sb3IgaW4gYSB0aGVtZSB3aWxsIHVzZSB0aGVzZSBodWVzIGJ5IGRlZmF1bHQsIGlmIG5vdCBzcGVjaWZpZWQgYnkgdXNlci5cbnZhciBMSUdIVF9ERUZBVUxUX0hVRVMgPSB7XG4gICdhY2NlbnQnOiB7XG4gICAgJ2RlZmF1bHQnOiAnQTIwMCcsXG4gICAgJ2h1ZS0xJzogJ0ExMDAnLFxuICAgICdodWUtMic6ICdBNDAwJyxcbiAgICAnaHVlLTMnOiAnQTcwMCdcbiAgfSxcbiAgJ2JhY2tncm91bmQnOiB7XG4gICAgJ2RlZmF1bHQnOiAnQTEwMCcsXG4gICAgJ2h1ZS0xJzogJzMwMCcsXG4gICAgJ2h1ZS0yJzogJzgwMCcsXG4gICAgJ2h1ZS0zJzogJzkwMCdcbiAgfVxufTtcblxudmFyIERBUktfREVGQVVMVF9IVUVTID0ge1xuICAnYmFja2dyb3VuZCc6IHtcbiAgICAnZGVmYXVsdCc6ICc4MDAnLFxuICAgICdodWUtMSc6ICc2MDAnLFxuICAgICdodWUtMic6ICczMDAnLFxuICAgICdodWUtMyc6ICc5MDAnXG4gIH1cbn07XG5USEVNRV9DT0xPUl9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uKGNvbG9yVHlwZSkge1xuICAvLyBDb2xvciB0eXBlcyB3aXRoIHVuc3BlY2lmaWVkIGRlZmF1bHQgaHVlcyB3aWxsIHVzZSB0aGVzZSBkZWZhdWx0IGh1ZSB2YWx1ZXNcbiAgdmFyIGRlZmF1bHREZWZhdWx0SHVlcyA9IHtcbiAgICAnZGVmYXVsdCc6ICc1MDAnLFxuICAgICdodWUtMSc6ICczMDAnLFxuICAgICdodWUtMic6ICc4MDAnLFxuICAgICdodWUtMyc6ICdBMTAwJ1xuICB9O1xuICBpZiAoIUxJR0hUX0RFRkFVTFRfSFVFU1tjb2xvclR5cGVdKSBMSUdIVF9ERUZBVUxUX0hVRVNbY29sb3JUeXBlXSA9IGRlZmF1bHREZWZhdWx0SHVlcztcbiAgaWYgKCFEQVJLX0RFRkFVTFRfSFVFU1tjb2xvclR5cGVdKSBEQVJLX0RFRkFVTFRfSFVFU1tjb2xvclR5cGVdID0gZGVmYXVsdERlZmF1bHRIdWVzO1xufSk7XG5cbnZhciBWQUxJRF9IVUVfVkFMVUVTID0gW1xuICAnNTAnLCAnMTAwJywgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLFxuICAnNzAwJywgJzgwMCcsICc5MDAnLCAnQTEwMCcsICdBMjAwJywgJ0E0MDAnLCAnQTcwMCdcbl07XG5cbi8vIFdoZXRoZXIgb3Igbm90IHRoZW1lcyBhcmUgdG8gYmUgZ2VuZXJhdGVkIG9uLWRlbWFuZCAodnMuIGVhZ2VybHkpLlxudmFyIGdlbmVyYXRlT25EZW1hbmQgPSBmYWxzZTtcblxuZnVuY3Rpb24gVGhlbWluZ1Byb3ZpZGVyKCRtZENvbG9yUGFsZXR0ZSkge1xuICBQQUxFVFRFUyA9IHsgfTtcbiAgVEhFTUVTID0geyB9O1xuXG4gIHZhciB0aGVtaW5nUHJvdmlkZXI7XG4gIHZhciBkZWZhdWx0VGhlbWUgPSAnZGVmYXVsdCc7XG4gIHZhciBhbHdheXNXYXRjaFRoZW1lID0gZmFsc2U7XG5cbiAgLy8gTG9hZCBKUyBEZWZpbmVkIFBhbGV0dGVzXG4gIGFuZ3VsYXIuZXh0ZW5kKFBBTEVUVEVTLCAkbWRDb2xvclBhbGV0dGUpO1xuXG4gIC8vIERlZmF1bHQgdGhlbWUgZGVmaW5lZCBpbiBjb3JlLmpzXG5cbiAgVGhlbWluZ1NlcnZpY2UuJGluamVjdCA9IFtcIiRyb290U2NvcGVcIiwgXCIkbG9nXCJdO1xuICByZXR1cm4gdGhlbWluZ1Byb3ZpZGVyID0ge1xuICAgIGRlZmluZVBhbGV0dGU6IGRlZmluZVBhbGV0dGUsXG4gICAgZXh0ZW5kUGFsZXR0ZTogZXh0ZW5kUGFsZXR0ZSxcbiAgICB0aGVtZTogcmVnaXN0ZXJUaGVtZSxcblxuICAgIHNldERlZmF1bHRUaGVtZTogZnVuY3Rpb24odGhlbWUpIHtcbiAgICAgIGRlZmF1bHRUaGVtZSA9IHRoZW1lO1xuICAgIH0sXG4gICAgYWx3YXlzV2F0Y2hUaGVtZTogZnVuY3Rpb24oYWx3YXlzV2F0Y2gpIHtcbiAgICAgIGFsd2F5c1dhdGNoVGhlbWUgPSBhbHdheXNXYXRjaDtcbiAgICB9LFxuICAgIGdlbmVyYXRlVGhlbWVzT25EZW1hbmQ6IGZ1bmN0aW9uKG9uRGVtYW5kKSB7XG4gICAgICBnZW5lcmF0ZU9uRGVtYW5kID0gb25EZW1hbmQ7XG4gICAgfSxcbiAgICAkZ2V0OiBUaGVtaW5nU2VydmljZSxcbiAgICBfTElHSFRfREVGQVVMVF9IVUVTOiBMSUdIVF9ERUZBVUxUX0hVRVMsXG4gICAgX0RBUktfREVGQVVMVF9IVUVTOiBEQVJLX0RFRkFVTFRfSFVFUyxcbiAgICBfUEFMRVRURVM6IFBBTEVUVEVTLFxuICAgIF9USEVNRVM6IFRIRU1FUyxcbiAgICBfcGFyc2VSdWxlczogcGFyc2VSdWxlcyxcbiAgICBfcmdiYTogcmdiYVxuICB9O1xuXG4gIC8vIEV4YW1wbGU6ICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCduZW9uUmVkJywgeyA1MDogJyNmNWZhZmEnLCAuLi4gfSk7XG4gIGZ1bmN0aW9uIGRlZmluZVBhbGV0dGUobmFtZSwgbWFwKSB7XG4gICAgbWFwID0gbWFwIHx8IHt9O1xuICAgIFBBTEVUVEVTW25hbWVdID0gY2hlY2tQYWxldHRlVmFsaWQobmFtZSwgbWFwKTtcbiAgICByZXR1cm4gdGhlbWluZ1Byb3ZpZGVyO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhbiBuZXcgb2JqZWN0IHdoaWNoIGlzIGEgY29weSBvZiBhIGdpdmVuIHBhbGV0dGUgYG5hbWVgIHdpdGggdmFyaWFibGVzIGZyb21cbiAgLy8gYG1hcGAgb3ZlcndyaXR0ZW5cbiAgLy8gRXhhbXBsZTogdmFyIG5lb25SZWRNYXAgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgncmVkJywgeyA1MDogJyNmNWZhZmFmYScgfSk7XG4gIGZ1bmN0aW9uIGV4dGVuZFBhbGV0dGUobmFtZSwgbWFwKSB7XG4gICAgcmV0dXJuIGNoZWNrUGFsZXR0ZVZhbGlkKG5hbWUsICBhbmd1bGFyLmV4dGVuZCh7fSwgUEFMRVRURVNbbmFtZV0gfHwge30sIG1hcCkgKTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSB0aGF0IHBhbGV0dGUgaGFzIGFsbCByZXF1aXJlZCBodWVzXG4gIGZ1bmN0aW9uIGNoZWNrUGFsZXR0ZVZhbGlkKG5hbWUsIG1hcCkge1xuICAgIHZhciBtaXNzaW5nQ29sb3JzID0gVkFMSURfSFVFX1ZBTFVFUy5maWx0ZXIoZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgIHJldHVybiAhbWFwW2ZpZWxkXTtcbiAgICB9KTtcbiAgICBpZiAobWlzc2luZ0NvbG9ycy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgY29sb3JzICUxIGluIHBhbGV0dGUgJTIhXCJcbiAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTEnLCBtaXNzaW5nQ29sb3JzLmpvaW4oJywgJykpXG4gICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyUyJywgbmFtZSkpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXA7XG4gIH1cblxuICAvLyBSZWdpc3RlciBhIHRoZW1lICh3aGljaCBpcyBhIGNvbGxlY3Rpb24gb2YgY29sb3IgcGFsZXR0ZXMgdG8gdXNlIHdpdGggdmFyaW91cyBzdGF0ZXNcbiAgLy8gaWUuIHdhcm4sIGFjY2VudCwgcHJpbWFyeSApXG4gIC8vIE9wdGlvbmFsbHkgaW5oZXJpdCBmcm9tIGFuIGV4aXN0aW5nIHRoZW1lXG4gIC8vICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnY3VzdG9tLXRoZW1lJykucHJpbWFyeVBhbGV0dGUoJ3JlZCcpO1xuICBmdW5jdGlvbiByZWdpc3RlclRoZW1lKG5hbWUsIGluaGVyaXRGcm9tKSB7XG4gICAgaWYgKFRIRU1FU1tuYW1lXSkgcmV0dXJuIFRIRU1FU1tuYW1lXTtcblxuICAgIGluaGVyaXRGcm9tID0gaW5oZXJpdEZyb20gfHwgJ2RlZmF1bHQnO1xuXG4gICAgdmFyIHBhcmVudFRoZW1lID0gdHlwZW9mIGluaGVyaXRGcm9tID09PSAnc3RyaW5nJyA/IFRIRU1FU1tpbmhlcml0RnJvbV0gOiBpbmhlcml0RnJvbTtcbiAgICB2YXIgdGhlbWUgPSBuZXcgVGhlbWUobmFtZSk7XG5cbiAgICBpZiAocGFyZW50VGhlbWUpIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChwYXJlbnRUaGVtZS5jb2xvcnMsIGZ1bmN0aW9uKGNvbG9yLCBjb2xvclR5cGUpIHtcbiAgICAgICAgdGhlbWUuY29sb3JzW2NvbG9yVHlwZV0gPSB7XG4gICAgICAgICAgbmFtZTogY29sb3IubmFtZSxcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgYSBDT1BZIG9mIHRoZSBodWVzIGlzIGdpdmVuIHRvIHRoZSBjaGlsZCBjb2xvcixcbiAgICAgICAgICAvLyBub3QgdGhlIHNhbWUgcmVmZXJlbmNlLlxuICAgICAgICAgIGh1ZXM6IGFuZ3VsYXIuZXh0ZW5kKHt9LCBjb2xvci5odWVzKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICAgIFRIRU1FU1tuYW1lXSA9IHRoZW1lO1xuXG4gICAgcmV0dXJuIHRoZW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gVGhlbWUobmFtZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLm5hbWUgPSBuYW1lO1xuICAgIHNlbGYuY29sb3JzID0ge307XG5cbiAgICBzZWxmLmRhcmsgPSBzZXREYXJrO1xuICAgIHNldERhcmsoZmFsc2UpO1xuXG4gICAgZnVuY3Rpb24gc2V0RGFyayhpc0RhcmspIHtcbiAgICAgIGlzRGFyayA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDAgPyB0cnVlIDogISFpc0Rhcms7XG5cbiAgICAgIC8vIElmIG5vIGNoYW5nZSwgYWJvcnRcbiAgICAgIGlmIChpc0RhcmsgPT09IHNlbGYuaXNEYXJrKSByZXR1cm47XG5cbiAgICAgIHNlbGYuaXNEYXJrID0gaXNEYXJrO1xuXG4gICAgICBzZWxmLmZvcmVncm91bmRQYWxldHRlID0gc2VsZi5pc0RhcmsgPyBMSUdIVF9GT1JFR1JPVU5EIDogREFSS19GT1JFR1JPVU5EO1xuICAgICAgc2VsZi5mb3JlZ3JvdW5kU2hhZG93ID0gc2VsZi5pc0RhcmsgPyBEQVJLX1NIQURPVyA6IExJR0hUX1NIQURPVztcblxuICAgICAgLy8gTGlnaHQgYW5kIGRhcmsgdGhlbWVzIGhhdmUgZGlmZmVyZW50IGRlZmF1bHQgaHVlcy5cbiAgICAgIC8vIEdvIHRocm91Z2ggZWFjaCBleGlzdGluZyBjb2xvciB0eXBlIGZvciB0aGlzIHRoZW1lLCBhbmQgZm9yIGV2ZXJ5XG4gICAgICAvLyBodWUgdmFsdWUgdGhhdCBpcyBzdGlsbCB0aGUgZGVmYXVsdCBodWUgdmFsdWUgZnJvbSB0aGUgcHJldmlvdXMgbGlnaHQvZGFyayBzZXR0aW5nLFxuICAgICAgLy8gc2V0IGl0IHRvIHRoZSBkZWZhdWx0IGh1ZSB2YWx1ZSBmcm9tIHRoZSBuZXcgbGlnaHQvZGFyayBzZXR0aW5nLlxuICAgICAgdmFyIG5ld0RlZmF1bHRIdWVzID0gc2VsZi5pc0RhcmsgPyBEQVJLX0RFRkFVTFRfSFVFUyA6IExJR0hUX0RFRkFVTFRfSFVFUztcbiAgICAgIHZhciBvbGREZWZhdWx0SHVlcyA9IHNlbGYuaXNEYXJrID8gTElHSFRfREVGQVVMVF9IVUVTIDogREFSS19ERUZBVUxUX0hVRVM7XG4gICAgICBhbmd1bGFyLmZvckVhY2gobmV3RGVmYXVsdEh1ZXMsIGZ1bmN0aW9uKG5ld0RlZmF1bHRzLCBjb2xvclR5cGUpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gc2VsZi5jb2xvcnNbY29sb3JUeXBlXTtcbiAgICAgICAgdmFyIG9sZERlZmF1bHRzID0gb2xkRGVmYXVsdEh1ZXNbY29sb3JUeXBlXTtcbiAgICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgICAgZm9yICh2YXIgaHVlTmFtZSBpbiBjb2xvci5odWVzKSB7XG4gICAgICAgICAgICBpZiAoY29sb3IuaHVlc1todWVOYW1lXSA9PT0gb2xkRGVmYXVsdHNbaHVlTmFtZV0pIHtcbiAgICAgICAgICAgICAgY29sb3IuaHVlc1todWVOYW1lXSA9IG5ld0RlZmF1bHRzW2h1ZU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIFRIRU1FX0NPTE9SX1RZUEVTLmZvckVhY2goZnVuY3Rpb24oY29sb3JUeXBlKSB7XG4gICAgICB2YXIgZGVmYXVsdEh1ZXMgPSAoc2VsZi5pc0RhcmsgPyBEQVJLX0RFRkFVTFRfSFVFUyA6IExJR0hUX0RFRkFVTFRfSFVFUylbY29sb3JUeXBlXTtcbiAgICAgIHNlbGZbY29sb3JUeXBlICsgJ1BhbGV0dGUnXSA9IGZ1bmN0aW9uIHNldFBhbGV0dGVUeXBlKHBhbGV0dGVOYW1lLCBodWVzKSB7XG4gICAgICAgIHZhciBjb2xvciA9IHNlbGYuY29sb3JzW2NvbG9yVHlwZV0gPSB7XG4gICAgICAgICAgbmFtZTogcGFsZXR0ZU5hbWUsXG4gICAgICAgICAgaHVlczogYW5ndWxhci5leHRlbmQoe30sIGRlZmF1bHRIdWVzLCBodWVzKVxuICAgICAgICB9O1xuXG4gICAgICAgIE9iamVjdC5rZXlzKGNvbG9yLmh1ZXMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgIGlmICghZGVmYXVsdEh1ZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaHVlIG5hbWUgJyUxJyBpbiB0aGVtZSAlMidzICUzIGNvbG9yICU0LiBBdmFpbGFibGUgaHVlIG5hbWVzOiAlNFwiXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclMScsIG5hbWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclMicsIHNlbGYubmFtZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyUzJywgcGFsZXR0ZU5hbWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclNCcsIE9iamVjdC5rZXlzKGRlZmF1bHRIdWVzKS5qb2luKCcsICcpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3Qua2V5cyhjb2xvci5odWVzKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yLmh1ZXNba2V5XTtcbiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbihodWVWYWx1ZSkge1xuICAgICAgICAgIGlmIChWQUxJRF9IVUVfVkFMVUVTLmluZGV4T2YoaHVlVmFsdWUpID09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGh1ZSB2YWx1ZSAnJTEnIGluIHRoZW1lICUyJ3MgJTMgY29sb3IgJTQuIEF2YWlsYWJsZSBodWUgdmFsdWVzOiAlNVwiXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclMScsIGh1ZVZhbHVlKVxuICAgICAgICAgICAgICAucmVwbGFjZSgnJTInLCBzZWxmLm5hbWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclMycsIGNvbG9yVHlwZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyU0JywgcGFsZXR0ZU5hbWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclNScsIFZBTElEX0hVRV9WQUxVRVMuam9pbignLCAnKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9O1xuXG4gICAgICBzZWxmW2NvbG9yVHlwZSArICdDb2xvciddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS53YXJuKCckbWRUaGVtaW5nUHJvdmlkZXJUaGVtZS4nICsgY29sb3JUeXBlICsgJ0NvbG9yKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAnVXNlICRtZFRoZW1pbmdQcm92aWRlclRoZW1lLicgKyBjb2xvclR5cGUgKyAnUGFsZXR0ZSgpIGluc3RlYWQuJyk7XG4gICAgICAgIHJldHVybiBzZWxmW2NvbG9yVHlwZSArICdQYWxldHRlJ10uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRtZFRoZW1pbmdcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFNlcnZpY2UgdGhhdCBtYWtlcyBhbiBlbGVtZW50IGFwcGx5IHRoZW1pbmcgcmVsYXRlZCBjbGFzc2VzIHRvIGl0c2VsZi5cbiAgICpcbiAgICogYGBganNcbiAgICogYXBwLmRpcmVjdGl2ZSgnbXlGYW5jeURpcmVjdGl2ZScsIGZ1bmN0aW9uKCRtZFRoZW1pbmcpIHtcbiAgICogICByZXR1cm4ge1xuICAgKiAgICAgcmVzdHJpY3Q6ICdlJyxcbiAgICogICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICogICAgICAgJG1kVGhlbWluZyhlbCk7XG4gICAqICAgICB9XG4gICAqICAgfTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge2VsPX0gZWxlbWVudCB0byBhcHBseSB0aGVtaW5nIHRvXG4gICAqL1xuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gVGhlbWluZ1NlcnZpY2UoJHJvb3RTY29wZSwgJGxvZykge1xuXG4gICAgYXBwbHlUaGVtZS5pbmhlcml0ID0gZnVuY3Rpb24oZWwsIHBhcmVudCkge1xuICAgICAgdmFyIGN0cmwgPSBwYXJlbnQuY29udHJvbGxlcignbWRUaGVtZScpO1xuXG4gICAgICB2YXIgYXR0clRoZW1lVmFsdWUgPSBlbC5hdHRyKCdtZC10aGVtZS13YXRjaCcpO1xuICAgICAgaWYgKCAoYWx3YXlzV2F0Y2hUaGVtZSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRyVGhlbWVWYWx1ZSkpICYmIGF0dHJUaGVtZVZhbHVlICE9ICdmYWxzZScpIHtcbiAgICAgICAgdmFyIGRlcmVnaXN0ZXJXYXRjaCA9ICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBjdHJsICYmIGN0cmwuJG1kVGhlbWUgfHwgKGRlZmF1bHRUaGVtZSA9PSAnZGVmYXVsdCcgPyAnJyA6IGRlZmF1bHRUaGVtZSk7XG4gICAgICAgIH0sIGNoYW5nZVRoZW1lKTtcbiAgICAgICAgZWwub24oJyRkZXN0cm95JywgZGVyZWdpc3RlcldhdGNoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0aGVtZSA9IGN0cmwgJiYgY3RybC4kbWRUaGVtZSB8fCAoZGVmYXVsdFRoZW1lID09ICdkZWZhdWx0JyA/ICcnIDogZGVmYXVsdFRoZW1lKTtcbiAgICAgICAgY2hhbmdlVGhlbWUodGhlbWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGFuZ2VUaGVtZSh0aGVtZSkge1xuICAgICAgICBpZiAoIXRoZW1lKSByZXR1cm47XG4gICAgICAgIGlmICghcmVnaXN0ZXJlZCh0aGVtZSkpIHtcbiAgICAgICAgICAkbG9nLndhcm4oJ0F0dGVtcHRlZCB0byB1c2UgdW5yZWdpc3RlcmVkIHRoZW1lIFxcJycgKyB0aGVtZSArICdcXCcuICcgK1xuICAgICAgICAgICAgICAgICAgICAnUmVnaXN0ZXIgaXQgd2l0aCAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoKS4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2xkVGhlbWUgPSBlbC5kYXRhKCckbWRUaGVtZU5hbWUnKTtcbiAgICAgICAgaWYgKG9sZFRoZW1lKSBlbC5yZW1vdmVDbGFzcygnbWQtJyArIG9sZFRoZW1lICsnLXRoZW1lJyk7XG4gICAgICAgIGVsLmFkZENsYXNzKCdtZC0nICsgdGhlbWUgKyAnLXRoZW1lJyk7XG4gICAgICAgIGVsLmRhdGEoJyRtZFRoZW1lTmFtZScsIHRoZW1lKTtcbiAgICAgICAgaWYgKGN0cmwpIHtcbiAgICAgICAgICBlbC5kYXRhKCckbWRUaGVtZUNvbnRyb2xsZXInLCBjdHJsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBhcHBseVRoZW1lLlRIRU1FUyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBUSEVNRVMpO1xuICAgIGFwcGx5VGhlbWUuZGVmYXVsdFRoZW1lID0gZnVuY3Rpb24oKSB7IHJldHVybiBkZWZhdWx0VGhlbWU7IH07XG4gICAgYXBwbHlUaGVtZS5yZWdpc3RlcmVkID0gcmVnaXN0ZXJlZDtcbiAgICBhcHBseVRoZW1lLmdlbmVyYXRlVGhlbWUgPSBnZW5lcmF0ZVRoZW1lO1xuXG4gICAgcmV0dXJuIGFwcGx5VGhlbWU7XG5cbiAgICBmdW5jdGlvbiByZWdpc3RlcmVkKHRoZW1lTmFtZSkge1xuICAgICAgaWYgKHRoZW1lTmFtZSA9PT0gdW5kZWZpbmVkIHx8IHRoZW1lTmFtZSA9PT0gJycpIHJldHVybiB0cnVlO1xuICAgICAgcmV0dXJuIGFwcGx5VGhlbWUuVEhFTUVTW3RoZW1lTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcHBseVRoZW1lKHNjb3BlLCBlbCkge1xuICAgICAgLy8gQWxsb3cgdXMgdG8gYmUgaW52b2tlZCB2aWEgYSBsaW5raW5nIGZ1bmN0aW9uIHNpZ25hdHVyZS5cbiAgICAgIGlmIChlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVsID0gc2NvcGU7XG4gICAgICAgIHNjb3BlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgICAgfVxuICAgICAgYXBwbHlUaGVtZS5pbmhlcml0KGVsLCBlbCk7XG4gICAgfVxuICB9XG59XG5UaGVtaW5nUHJvdmlkZXIuJGluamVjdCA9IFtcIiRtZENvbG9yUGFsZXR0ZVwiXTtcblxuZnVuY3Rpb24gVGhlbWluZ0RpcmVjdGl2ZSgkbWRUaGVtaW5nLCAkaW50ZXJwb2xhdGUsICRsb2cpIHtcbiAgcmV0dXJuIHtcbiAgICBwcmlvcml0eTogMTAwLFxuICAgIGxpbms6IHtcbiAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsLCBhdHRycykge1xuICAgICAgICB2YXIgY3RybCA9IHtcbiAgICAgICAgICAkc2V0VGhlbWU6IGZ1bmN0aW9uKHRoZW1lKSB7XG4gICAgICAgICAgICBpZiAoISRtZFRoZW1pbmcucmVnaXN0ZXJlZCh0aGVtZSkpIHtcbiAgICAgICAgICAgICAgJGxvZy53YXJuKCdhdHRlbXB0ZWQgdG8gdXNlIHVucmVnaXN0ZXJlZCB0aGVtZSBcXCcnICsgdGhlbWUgKyAnXFwnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHJsLiRtZFRoZW1lID0gdGhlbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBlbC5kYXRhKCckbWRUaGVtZUNvbnRyb2xsZXInLCBjdHJsKTtcbiAgICAgICAgY3RybC4kc2V0VGhlbWUoJGludGVycG9sYXRlKGF0dHJzLm1kVGhlbWUpKHNjb3BlKSk7XG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdtZFRoZW1lJywgY3RybC4kc2V0VGhlbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblRoZW1pbmdEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIiwgXCIkaW50ZXJwb2xhdGVcIiwgXCIkbG9nXCJdO1xuXG5mdW5jdGlvbiBUaGVtYWJsZURpcmVjdGl2ZSgkbWRUaGVtaW5nKSB7XG4gIHJldHVybiAkbWRUaGVtaW5nO1xufVxuVGhlbWFibGVEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIl07XG5cbmZ1bmN0aW9uIHBhcnNlUnVsZXModGhlbWUsIGNvbG9yVHlwZSwgcnVsZXMpIHtcbiAgY2hlY2tWYWxpZFBhbGV0dGUodGhlbWUsIGNvbG9yVHlwZSk7XG5cbiAgcnVsZXMgPSBydWxlcy5yZXBsYWNlKC9USEVNRV9OQU1FL2csIHRoZW1lLm5hbWUpO1xuICB2YXIgZ2VuZXJhdGVkUnVsZXMgPSBbXTtcbiAgdmFyIGNvbG9yID0gdGhlbWUuY29sb3JzW2NvbG9yVHlwZV07XG5cbiAgdmFyIHRoZW1lTmFtZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnLm1kLScgKyB0aGVtZS5uYW1lICsgJy10aGVtZScsICdnJyk7XG4gIC8vIE1hdGNoZXMgJ3t7IHByaW1hcnktY29sb3IgfX0nLCBldGNcbiAgdmFyIGh1ZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnKFxcJ3xcIik/e3tcXFxccyooJyArIGNvbG9yVHlwZSArICcpLShjb2xvcnxjb250cmFzdCktPyhcXFxcZFxcXFwuP1xcXFxkKik/XFxcXHMqfX0oXFxcInxcXCcpPycsJ2cnKTtcbiAgdmFyIHNpbXBsZVZhcmlhYmxlUmVnZXggPSAvJz9cIj9cXHtcXHtcXHMqKFthLXpBLVpdKyktKEE/XFxkK3xodWVcXC1bMC0zXXxzaGFkb3cpLT8oXFxkXFwuP1xcZCopPyhjb250cmFzdCk/XFxzKlxcfVxcfSc/XCI/L2c7XG4gIHZhciBwYWxldHRlID0gUEFMRVRURVNbY29sb3IubmFtZV07XG5cbiAgLy8gZmluZCBhbmQgcmVwbGFjZSBzaW1wbGUgdmFyaWFibGVzIHdoZXJlIHdlIHVzZSBhIHNwZWNpZmljIGh1ZSwgbm90IGFuIGVudGlyZSBwYWxldHRlXG4gIC8vIGVnLiBcInt7cHJpbWFyeS0xMDB9fVwiXG4gIC8vXFwoJyArIFRIRU1FX0NPTE9SX1RZUEVTLmpvaW4oJ1xcfCcpICsgJ1xcKSdcbiAgcnVsZXMgPSBydWxlcy5yZXBsYWNlKHNpbXBsZVZhcmlhYmxlUmVnZXgsIGZ1bmN0aW9uKG1hdGNoLCBjb2xvclR5cGUsIGh1ZSwgb3BhY2l0eSwgY29udHJhc3QpIHtcbiAgICBpZiAoY29sb3JUeXBlID09PSAnZm9yZWdyb3VuZCcpIHtcbiAgICAgIGlmIChodWUgPT0gJ3NoYWRvdycpIHtcbiAgICAgICAgcmV0dXJuIHRoZW1lLmZvcmVncm91bmRTaGFkb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhlbWUuZm9yZWdyb3VuZFBhbGV0dGVbaHVlXSB8fCB0aGVtZS5mb3JlZ3JvdW5kUGFsZXR0ZVsnMSddO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaHVlLmluZGV4T2YoJ2h1ZScpID09PSAwKSB7XG4gICAgICBodWUgPSB0aGVtZS5jb2xvcnNbY29sb3JUeXBlXS5odWVzW2h1ZV07XG4gICAgfVxuICAgIHJldHVybiByZ2JhKCAoUEFMRVRURVNbIHRoZW1lLmNvbG9yc1tjb2xvclR5cGVdLm5hbWUgXVtodWVdIHx8ICcnKVtjb250cmFzdCA/ICdjb250cmFzdCcgOiAndmFsdWUnXSwgb3BhY2l0eSApO1xuICB9KTtcblxuICAvLyBGb3IgZWFjaCB0eXBlLCBnZW5lcmF0ZSBydWxlcyBmb3IgZWFjaCBodWUgKGllLiBkZWZhdWx0LCBtZC1odWUtMSwgbWQtaHVlLTIsIG1kLWh1ZS0zKVxuICBhbmd1bGFyLmZvckVhY2goY29sb3IuaHVlcywgZnVuY3Rpb24oaHVlVmFsdWUsIGh1ZU5hbWUpIHtcbiAgICB2YXIgbmV3UnVsZSA9IHJ1bGVzXG4gICAgICAucmVwbGFjZShodWVSZWdleCwgZnVuY3Rpb24obWF0Y2gsIF8sIGNvbG9yVHlwZSwgaHVlVHlwZSwgb3BhY2l0eSkge1xuICAgICAgICByZXR1cm4gcmdiYShwYWxldHRlW2h1ZVZhbHVlXVtodWVUeXBlID09PSAnY29sb3InID8gJ3ZhbHVlJyA6ICdjb250cmFzdCddLCBvcGFjaXR5KTtcbiAgICAgIH0pO1xuICAgIGlmIChodWVOYW1lICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgIG5ld1J1bGUgPSBuZXdSdWxlLnJlcGxhY2UodGhlbWVOYW1lUmVnZXgsICcubWQtJyArIHRoZW1lLm5hbWUgKyAnLXRoZW1lLm1kLScgKyBodWVOYW1lKTtcbiAgICB9XG5cbiAgICAvLyBEb24ndCBhcHBseSBhIHNlbGVjdG9yIHJ1bGUgdG8gdGhlIGRlZmF1bHQgdGhlbWUsIG1ha2luZyBpdCBlYXNpZXIgdG8gb3ZlcnJpZGVcbiAgICAvLyBzdHlsZXMgb2YgdGhlIGJhc2UtY29tcG9uZW50XG4gICAgaWYgKHRoZW1lLm5hbWUgPT0gJ2RlZmF1bHQnKSB7XG4gICAgICB2YXIgdGhlbWVSdWxlUmVnZXggPSAvKCg/Oig/Oig/OiB8PnxcXC58XFx3fC18OnxcXCh8XFwpfFxcW3xcXF18XCJ8J3w9KSspICk/KSgoPzooPzpcXHd8XFwufC0pKyk/KVxcLm1kLWRlZmF1bHQtdGhlbWUoKD86IHw+fFxcLnxcXHd8LXw6fFxcKHxcXCl8XFxbfFxcXXxcInwnfD0pKikvZztcbiAgICAgIG5ld1J1bGUgPSBuZXdSdWxlLnJlcGxhY2UodGhlbWVSdWxlUmVnZXgsIGZ1bmN0aW9uKG1hdGNoLCBwcmVmaXgsIHRhcmdldCwgc3VmZml4KSB7XG4gICAgICAgIHJldHVybiBtYXRjaCArICcsICcgKyBwcmVmaXggKyB0YXJnZXQgKyBzdWZmaXg7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZ2VuZXJhdGVkUnVsZXMucHVzaChuZXdSdWxlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGdlbmVyYXRlZFJ1bGVzO1xufVxuXG52YXIgcnVsZXNCeVR5cGUgPSB7fTtcblxuLy8gR2VuZXJhdGUgb3VyIHRoZW1lcyBhdCBydW4gdGltZSBnaXZlbiB0aGUgc3RhdGUgb2YgVEhFTUVTIGFuZCBQQUxFVFRFU1xuZnVuY3Rpb24gZ2VuZXJhdGVBbGxUaGVtZXMoJGluamVjdG9yKSB7XG4gIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZDtcbiAgdmFyIGZpcnN0Q2hpbGQgPSBoZWFkID8gaGVhZC5maXJzdEVsZW1lbnRDaGlsZCA6IG51bGw7XG4gIHZhciB0aGVtZUNzcyA9ICRpbmplY3Rvci5oYXMoJyRNRF9USEVNRV9DU1MnKSA/ICRpbmplY3Rvci5nZXQoJyRNRF9USEVNRV9DU1MnKSA6ICcnO1xuXG4gIGlmICggIWZpcnN0Q2hpbGQgKSByZXR1cm47XG4gIGlmICh0aGVtZUNzcy5sZW5ndGggPT09IDApIHJldHVybjsgLy8gbm8gcnVsZXMsIHNvIG5vIHBvaW50IGluIHJ1bm5pbmcgdGhpcyBleHBlbnNpdmUgdGFza1xuXG4gIC8vIEV4cG9zZSBjb250cmFzdCBjb2xvcnMgZm9yIHBhbGV0dGVzIHRvIGVuc3VyZSB0aGF0IHRleHQgaXMgYWx3YXlzIHJlYWRhYmxlXG4gIGFuZ3VsYXIuZm9yRWFjaChQQUxFVFRFUywgc2FuaXRpemVQYWxldHRlKTtcblxuICAvLyBNRF9USEVNRV9DU1MgaXMgYSBzdHJpbmcgZ2VuZXJhdGVkIGJ5IHRoZSBidWlsZCBwcm9jZXNzIHRoYXQgaW5jbHVkZXMgYWxsIHRoZSB0aGVtYWJsZVxuICAvLyBjb21wb25lbnRzIGFzIHRlbXBsYXRlc1xuXG4gIC8vIEJyZWFrIHRoZSBDU1MgaW50byBpbmRpdmlkdWFsIHJ1bGVzXG4gIHZhciBydWxlcyA9IHRoZW1lQ3NzXG4gICAgICAgICAgICAgICAgICAuc3BsaXQoL1xcfSg/IShcXH18J3xcInw7KSkvKVxuICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihydWxlKSB7IHJldHVybiBydWxlICYmIHJ1bGUubGVuZ3RoOyB9KVxuICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihydWxlKSB7IHJldHVybiBydWxlLnRyaW0oKSArICd9JzsgfSk7XG5cblxuICB2YXIgcnVsZU1hdGNoUmVnZXggPSBuZXcgUmVnRXhwKCdtZC0oJyArIFRIRU1FX0NPTE9SX1RZUEVTLmpvaW4oJ3wnKSArICcpJywgJ2cnKTtcblxuICBUSEVNRV9DT0xPUl9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUpIHtcbiAgICBydWxlc0J5VHlwZVt0eXBlXSA9ICcnO1xuICB9KTtcblxuXG4gIC8vIFNvcnQgdGhlIHJ1bGVzIGJhc2VkIG9uIHR5cGUsIGFsbG93aW5nIHVzIHRvIGRvIGNvbG9yIHN1YnN0aXR1dGlvbiBvbiBhIHBlci10eXBlIGJhc2lzXG4gIHJ1bGVzLmZvckVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2gocnVsZU1hdGNoUmVnZXgpO1xuICAgIC8vIEZpcnN0OiB0ZXN0IHRoYXQgaWYgdGhlIHJ1bGUgaGFzICcubWQtYWNjZW50JywgaXQgZ29lcyBpbnRvIHRoZSBhY2NlbnQgc2V0IG9mIHJ1bGVzXG4gICAgZm9yICh2YXIgaSA9IDAsIHR5cGU7IHR5cGUgPSBUSEVNRV9DT0xPUl9UWVBFU1tpXTsgaSsrKSB7XG4gICAgICBpZiAocnVsZS5pbmRleE9mKCcubWQtJyArIHR5cGUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGVzQnlUeXBlW3R5cGVdICs9IHJ1bGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgbm8gZWcgJ21kLWFjY2VudCcgY2xhc3MgaXMgZm91bmQsIHRyeSB0byBqdXN0IGZpbmQgJ2FjY2VudCcgaW4gdGhlIHJ1bGUgYW5kIGd1ZXNzIGZyb21cbiAgICAvLyB0aGVyZVxuICAgIGZvciAoaSA9IDA7IHR5cGUgPSBUSEVNRV9DT0xPUl9UWVBFU1tpXTsgaSsrKSB7XG4gICAgICBpZiAocnVsZS5pbmRleE9mKHR5cGUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGVzQnlUeXBlW3R5cGVdICs9IHJ1bGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCB0byB0aGUgcHJpbWFyeSBhcnJheVxuICAgIHJldHVybiBydWxlc0J5VHlwZVtERUZBVUxUX0NPTE9SX1RZUEVdICs9IHJ1bGU7XG4gIH0pO1xuXG4gIC8vIElmIHRoZW1lcyBhcmUgYmVpbmcgZ2VuZXJhdGVkIG9uLWRlbWFuZCwgcXVpdCBoZXJlLiBUaGUgdXNlciB3aWxsIGxhdGVyIG1hbnVhbGx5XG4gIC8vIGNhbGwgZ2VuZXJhdGVUaGVtZSB0byBkbyB0aGlzIG9uIGEgdGhlbWUtYnktdGhlbWUgYmFzaXMuXG4gIGlmIChnZW5lcmF0ZU9uRGVtYW5kKSByZXR1cm47XG5cbiAgYW5ndWxhci5mb3JFYWNoKFRIRU1FUywgZnVuY3Rpb24odGhlbWUpIHtcbiAgICBpZiAoIUdFTkVSQVRFRFt0aGVtZS5uYW1lXSkge1xuICAgICAgZ2VuZXJhdGVUaGVtZSh0aGVtZS5uYW1lKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAvLyBJbnRlcm5hbCBmdW5jdGlvbnNcbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIC8vIFRoZSB1c2VyIHNwZWNpZmllcyBhICdkZWZhdWx0JyBjb250cmFzdCBjb2xvciBhcyBlaXRoZXIgbGlnaHQgb3IgZGFyayxcbiAgLy8gdGhlbiBleHBsaWNpdGx5IGxpc3RzIHdoaWNoIGh1ZXMgYXJlIHRoZSBvcHBvc2l0ZSBjb250cmFzdCAoZWcuIEExMDAgaGFzIGRhcmssIEEyMDAgaGFzIGxpZ2h0KVxuICBmdW5jdGlvbiBzYW5pdGl6ZVBhbGV0dGUocGFsZXR0ZSkge1xuICAgIHZhciBkZWZhdWx0Q29udHJhc3QgPSBwYWxldHRlLmNvbnRyYXN0RGVmYXVsdENvbG9yO1xuICAgIHZhciBsaWdodENvbG9ycyA9IHBhbGV0dGUuY29udHJhc3RMaWdodENvbG9ycyB8fCBbXTtcbiAgICB2YXIgc3Ryb25nTGlnaHRDb2xvcnMgPSBwYWxldHRlLmNvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMgfHwgW107XG4gICAgdmFyIGRhcmtDb2xvcnMgPSBwYWxldHRlLmNvbnRyYXN0RGFya0NvbG9ycyB8fCBbXTtcblxuICAgIC8vIFRoZXNlIGNvbG9ycyBhcmUgcHJvdmlkZWQgYXMgc3BhY2Utc2VwYXJhdGVkIGxpc3RzXG4gICAgaWYgKHR5cGVvZiBsaWdodENvbG9ycyA9PT0gJ3N0cmluZycpIGxpZ2h0Q29sb3JzID0gbGlnaHRDb2xvcnMuc3BsaXQoJyAnKTtcbiAgICBpZiAodHlwZW9mIHN0cm9uZ0xpZ2h0Q29sb3JzID09PSAnc3RyaW5nJykgc3Ryb25nTGlnaHRDb2xvcnMgPSBzdHJvbmdMaWdodENvbG9ycy5zcGxpdCgnICcpO1xuICAgIGlmICh0eXBlb2YgZGFya0NvbG9ycyA9PT0gJ3N0cmluZycpIGRhcmtDb2xvcnMgPSBkYXJrQ29sb3JzLnNwbGl0KCcgJyk7XG5cbiAgICAvLyBDbGVhbnVwIGFmdGVyIG91cnNlbHZlc1xuICAgIGRlbGV0ZSBwYWxldHRlLmNvbnRyYXN0RGVmYXVsdENvbG9yO1xuICAgIGRlbGV0ZSBwYWxldHRlLmNvbnRyYXN0TGlnaHRDb2xvcnM7XG4gICAgZGVsZXRlIHBhbGV0dGUuY29udHJhc3RTdHJvbmdMaWdodENvbG9ycztcbiAgICBkZWxldGUgcGFsZXR0ZS5jb250cmFzdERhcmtDb2xvcnM7XG5cbiAgICAvLyBDaGFuZ2UgeyAnQTEwMCc6ICcjZmZmZWVlJyB9IHRvIHsgJ0ExMDAnOiB7IHZhbHVlOiAnI2ZmZmVlZScsIGNvbnRyYXN0OkRBUktfQ09OVFJBU1RfQ09MT1IgfVxuICAgIGFuZ3VsYXIuZm9yRWFjaChwYWxldHRlLCBmdW5jdGlvbihodWVWYWx1ZSwgaHVlTmFtZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QoaHVlVmFsdWUpKSByZXR1cm47IC8vIEFscmVhZHkgY29udmVydGVkXG4gICAgICAvLyBNYXAgZXZlcnl0aGluZyB0byByZ2IgY29sb3JzXG4gICAgICB2YXIgcmdiVmFsdWUgPSBjb2xvclRvUmdiYUFycmF5KGh1ZVZhbHVlKTtcbiAgICAgIGlmICghcmdiVmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29sb3IgJTEsIGluIHBhbGV0dGUgJTIncyBodWUgJTMsIGlzIGludmFsaWQuIEhleCBvciByZ2IoYSkgY29sb3IgZXhwZWN0ZWQuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMScsIGh1ZVZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyUyJywgcGFsZXR0ZS5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyUzJywgaHVlTmFtZSkpO1xuICAgICAgfVxuXG4gICAgICBwYWxldHRlW2h1ZU5hbWVdID0ge1xuICAgICAgICB2YWx1ZTogcmdiVmFsdWUsXG4gICAgICAgIGNvbnRyYXN0OiBnZXRDb250cmFzdENvbG9yKClcbiAgICAgIH07XG4gICAgICBmdW5jdGlvbiBnZXRDb250cmFzdENvbG9yKCkge1xuICAgICAgICBpZiAoZGVmYXVsdENvbnRyYXN0ID09PSAnbGlnaHQnKSB7XG4gICAgICAgICAgaWYgKGRhcmtDb2xvcnMuaW5kZXhPZihodWVOYW1lKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gREFSS19DT05UUkFTVF9DT0xPUjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN0cm9uZ0xpZ2h0Q29sb3JzLmluZGV4T2YoaHVlTmFtZSkgPiAtMSA/IFNUUk9OR19MSUdIVF9DT05UUkFTVF9DT0xPUlxuICAgICAgICAgICAgICA6IExJR0hUX0NPTlRSQVNUX0NPTE9SO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobGlnaHRDb2xvcnMuaW5kZXhPZihodWVOYW1lKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gc3Ryb25nTGlnaHRDb2xvcnMuaW5kZXhPZihodWVOYW1lKSA+IC0xID8gU1RST05HX0xJR0hUX0NPTlRSQVNUX0NPTE9SXG4gICAgICAgICAgICAgIDogTElHSFRfQ09OVFJBU1RfQ09MT1I7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBEQVJLX0NPTlRSQVNUX0NPTE9SO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5nZW5lcmF0ZUFsbFRoZW1lcy4kaW5qZWN0ID0gW1wiJGluamVjdG9yXCJdO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVRoZW1lKG5hbWUpIHtcbiAgdmFyIHRoZW1lID0gVEhFTUVTW25hbWVdO1xuICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQ7XG4gIHZhciBmaXJzdENoaWxkID0gaGVhZCA/IGhlYWQuZmlyc3RFbGVtZW50Q2hpbGQgOiBudWxsO1xuXG4gIGlmICghR0VORVJBVEVEW25hbWVdKSB7XG4gICAgLy8gRm9yIGVhY2ggdGhlbWUsIHVzZSB0aGUgY29sb3IgcGFsZXR0ZXMgc3BlY2lmaWVkIGZvclxuICAgIC8vIGBwcmltYXJ5YCwgYHdhcm5gIGFuZCBgYWNjZW50YCB0byBnZW5lcmF0ZSBDU1MgcnVsZXMuXG4gICAgVEhFTUVfQ09MT1JfVFlQRVMuZm9yRWFjaChmdW5jdGlvbihjb2xvclR5cGUpIHtcbiAgICAgIHZhciBzdHlsZVN0cmluZ3MgPSBwYXJzZVJ1bGVzKHRoZW1lLCBjb2xvclR5cGUsIHJ1bGVzQnlUeXBlW2NvbG9yVHlwZV0pO1xuICAgICAgd2hpbGUgKHN0eWxlU3RyaW5ncy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHN0eWxlQ29udGVudCA9IHN0eWxlU3RyaW5ncy5zaGlmdCgpO1xuICAgICAgICBpZiAoc3R5bGVDb250ZW50KSB7XG4gICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21kLXRoZW1lLXN0eWxlJywgJycpO1xuICAgICAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0eWxlQ29udGVudCkpO1xuICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBmaXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICBpZiAodGhlbWUuY29sb3JzLnByaW1hcnkubmFtZSA9PSB0aGVtZS5jb2xvcnMuYWNjZW50Lm5hbWUpIHtcbiAgICAgIGNvbnNvbGUud2FybignJG1kVGhlbWluZ1Byb3ZpZGVyOiBVc2luZyB0aGUgc2FtZSBwYWxldHRlIGZvciBwcmltYXJ5IGFuZCcgK1xuICAgICAgICAgICAgICAgICAgICcgYWNjZW50LiBUaGlzIHZpb2xhdGVzIHRoZSBtYXRlcmlhbCBkZXNpZ24gc3BlYy4nKTtcbiAgICB9XG5cbiAgICBHRU5FUkFURURbdGhlbWUubmFtZV0gPSB0cnVlO1xuICB9XG5cbn1cblxuXG5mdW5jdGlvbiBjaGVja1ZhbGlkUGFsZXR0ZSh0aGVtZSwgY29sb3JUeXBlKSB7XG4gIC8vIElmIHRoZW1lIGF0dGVtcHRzIHRvIHVzZSBhIHBhbGV0dGUgdGhhdCBkb2VzbnQgZXhpc3QsIHRocm93IGVycm9yXG4gIGlmICghUEFMRVRURVNbICh0aGVtZS5jb2xvcnNbY29sb3JUeXBlXSB8fCB7fSkubmFtZSBdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJZb3Ugc3VwcGxpZWQgYW4gaW52YWxpZCBjb2xvciBwYWxldHRlIGZvciB0aGVtZSAlMSdzICUyIHBhbGV0dGUuIEF2YWlsYWJsZSBwYWxldHRlczogJTNcIlxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTEnLCB0aGVtZS5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTInLCBjb2xvclR5cGUpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMycsIE9iamVjdC5rZXlzKFBBTEVUVEVTKS5qb2luKCcsICcpKVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29sb3JUb1JnYmFBcnJheShjbHIpIHtcbiAgaWYgKGFuZ3VsYXIuaXNBcnJheShjbHIpICYmIGNsci5sZW5ndGggPT0gMykgcmV0dXJuIGNscjtcbiAgaWYgKC9ecmdiLy50ZXN0KGNscikpIHtcbiAgICByZXR1cm4gY2xyLnJlcGxhY2UoLyheXFxzKnJnYmE/XFwofFxcKVxccyokKS9nLCAnJykuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24odmFsdWUsIGkpIHtcbiAgICAgIHJldHVybiBpID09IDMgPyBwYXJzZUZsb2F0KHZhbHVlLCAxMCkgOiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0pO1xuICB9XG4gIGlmIChjbHIuY2hhckF0KDApID09ICcjJykgY2xyID0gY2xyLnN1YnN0cmluZygxKTtcbiAgaWYgKCEvXihbYS1mQS1GMC05XXszfSl7MSwyfSQvZy50ZXN0KGNscikpIHJldHVybjtcblxuICB2YXIgZGlnID0gY2xyLmxlbmd0aCAvIDM7XG4gIHZhciByZWQgPSBjbHIuc3Vic3RyKDAsIGRpZyk7XG4gIHZhciBncm4gPSBjbHIuc3Vic3RyKGRpZywgZGlnKTtcbiAgdmFyIGJsdSA9IGNsci5zdWJzdHIoZGlnICogMik7XG4gIGlmIChkaWcgPT09IDEpIHtcbiAgICByZWQgKz0gcmVkO1xuICAgIGdybiArPSBncm47XG4gICAgYmx1ICs9IGJsdTtcbiAgfVxuICByZXR1cm4gW3BhcnNlSW50KHJlZCwgMTYpLCBwYXJzZUludChncm4sIDE2KSwgcGFyc2VJbnQoYmx1LCAxNildO1xufVxuXG5mdW5jdGlvbiByZ2JhKHJnYkFycmF5LCBvcGFjaXR5KSB7XG4gIGlmICggIXJnYkFycmF5ICkgcmV0dXJuIFwicmdiKCcwLDAsMCcpXCI7XG5cbiAgaWYgKHJnYkFycmF5Lmxlbmd0aCA9PSA0KSB7XG4gICAgcmdiQXJyYXkgPSBhbmd1bGFyLmNvcHkocmdiQXJyYXkpO1xuICAgIG9wYWNpdHkgPyByZ2JBcnJheS5wb3AoKSA6IG9wYWNpdHkgPSByZ2JBcnJheS5wb3AoKTtcbiAgfVxuICByZXR1cm4gb3BhY2l0eSAmJiAodHlwZW9mIG9wYWNpdHkgPT0gJ251bWJlcicgfHwgKHR5cGVvZiBvcGFjaXR5ID09ICdzdHJpbmcnICYmIG9wYWNpdHkubGVuZ3RoKSkgP1xuICAgICdyZ2JhKCcgKyByZ2JBcnJheS5qb2luKCcsJykgKyAnLCcgKyBvcGFjaXR5ICsgJyknIDpcbiAgICAncmdiKCcgKyByZ2JBcnJheS5qb2luKCcsJykgKyAnKSc7XG59XG5cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFBvbHlmaWxsIGFuZ3VsYXIgPCAxLjQgKHByb3ZpZGUgJGFuaW1hdGVDc3MpXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAuZmFjdG9yeSgnJCRtZEFuaW1hdGUnLCBbXCIkcVwiLCBcIiR0aW1lb3V0XCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkYW5pbWF0ZUNzc1wiLCBmdW5jdGlvbigkcSwgJHRpbWVvdXQsICRtZENvbnN0YW50LCAkYW5pbWF0ZUNzcyl7XG5cbiAgICAgLy8gU2luY2UgJCRtZEFuaW1hdGUgaXMgaW5qZWN0ZWQgaW50byAkbWRVdGlsLi4uIHVzZSBhIHdyYXBwZXIgZnVuY3Rpb25cbiAgICAgLy8gdG8gc3Vic2VxdWVudGx5IGluamVjdCAkbWRVdGlsIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBBbmltYXRlRG9tVXRpbHNcblxuICAgICByZXR1cm4gZnVuY3Rpb24oJG1kVXRpbCkge1xuICAgICAgIHJldHVybiBBbmltYXRlRG9tVXRpbHMoICRtZFV0aWwsICRxLCAkdGltZW91dCwgJG1kQ29uc3RhbnQsICRhbmltYXRlQ3NzKTtcbiAgICAgfTtcbiAgIH1dKTtcblxuLyoqXG4gKiBGYWN0b3J5IGZ1bmN0aW9uIHRoYXQgcmVxdWlyZXMgc3BlY2lhbCBpbmplY3Rpb25zXG4gKi9cbmZ1bmN0aW9uIEFuaW1hdGVEb21VdGlscygkbWRVdGlsLCAkcSwgJHRpbWVvdXQsICRtZENvbnN0YW50LCAkYW5pbWF0ZUNzcykge1xuICB2YXIgc2VsZjtcbiAgcmV0dXJuIHNlbGYgPSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICB0cmFuc2xhdGUzZCA6IGZ1bmN0aW9uKCB0YXJnZXQsIGZyb20sIHRvLCBvcHRpb25zICkge1xuICAgICAgcmV0dXJuICRhbmltYXRlQ3NzKHRhcmdldCx7XG4gICAgICAgIGZyb206ZnJvbSxcbiAgICAgICAgdG86dG8sXG4gICAgICAgIGFkZENsYXNzOm9wdGlvbnMudHJhbnNpdGlvbkluQ2xhc3NcbiAgICAgIH0pXG4gICAgICAuc3RhcnQoKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAvLyBSZXNvbHZlIHdpdGggcmV2ZXJzZXIgZnVuY3Rpb24uLi5cbiAgICAgICAgICByZXR1cm4gcmV2ZXJzZVRyYW5zbGF0ZTtcbiAgICAgIH0pO1xuXG4gICAgICAvKipcbiAgICAgICAqIFNwZWNpZmljIHJldmVyc2FsIG9mIHRoZSByZXF1ZXN0IHRyYW5zbGF0ZSBhbmltYXRpb24gYWJvdmUuLi5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcmV2ZXJzZVRyYW5zbGF0ZSAobmV3RnJvbSkge1xuICAgICAgICByZXR1cm4gJGFuaW1hdGVDc3ModGFyZ2V0LCB7XG4gICAgICAgICAgIHRvOiBuZXdGcm9tIHx8IGZyb20sXG4gICAgICAgICAgIGFkZENsYXNzOiBvcHRpb25zLnRyYW5zaXRpb25PdXRDbGFzcyxcbiAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IG9wdGlvbnMudHJhbnNpdGlvbkluQ2xhc3NcbiAgICAgICAgfSkuc3RhcnQoKTtcblxuICAgICAgfVxuICB9LFxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuIGZvciB0cmFuc2l0aW9uRW5kIGV2ZW50ICh3aXRoIG9wdGlvbmFsIHRpbWVvdXQpXG4gICAgICogQW5ub3VuY2UgY29tcGxldGlvbiBvciBmYWlsdXJlIHZpYSBwcm9taXNlIGhhbmRsZXJzXG4gICAgICovXG4gICAgd2FpdFRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRzKSB7XG4gICAgICAgIHZhciBUSU1FT1VUID0gMzAwMDsgLy8gZmFsbGJhY2sgaXMgMyBzZWNzXG5cbiAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICAgICAgb3B0cyA9IG9wdHMgfHwgeyB9O1xuXG4gICAgICAgICAgdmFyIHRpbWVyID0gJHRpbWVvdXQoZmluaXNoZWQsIG9wdHMudGltZW91dCB8fCBUSU1FT1VUKTtcbiAgICAgICAgICBlbGVtZW50Lm9uKCRtZENvbnN0YW50LkNTUy5UUkFOU0lUSU9ORU5ELCBmaW5pc2hlZCk7XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBVcG9uIHRpbWVvdXQgb3IgdHJhbnNpdGlvbkVuZCwgcmVqZWN0IG9yIHJlc29sdmUgKHJlc3BlY3RpdmVseSkgdGhpcyBwcm9taXNlLlxuICAgICAgICAgICAqIE5PVEU6IE1ha2Ugc3VyZSB0aGlzIHRyYW5zaXRpb25FbmQgZGlkbid0IGJ1YmJsZSB1cCBmcm9tIGEgY2hpbGRcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBmaW5pc2hlZChldikge1xuICAgICAgICAgICAgaWYgKCBldiAmJiBldi50YXJnZXQgIT09IGVsZW1lbnRbMF0pIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKCBldiAgKSAkdGltZW91dC5jYW5jZWwodGltZXIpO1xuICAgICAgICAgICAgZWxlbWVudC5vZmYoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05FTkQsIGZpbmlzaGVkKTtcblxuICAgICAgICAgICAgLy8gTmV2ZXIgcmVqZWN0IHNpbmNlIG5nQW5pbWF0ZSBtYXkgY2F1c2UgdGltZW91dHMgZHVlIG1pc3NlZCB0cmFuc2l0aW9uRW5kIGV2ZW50c1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgem9vbSB0cmFuc2Zvcm0gZnJvbSBkaWFsb2cgdG8gb3JpZ2luLlxuICAgICAqXG4gICAgICogV2UgdXNlIHRoaXMgdG8gc2V0IHRoZSBkaWFsb2cgcG9zaXRpb24gaW1tZWRpYXRlbHk7XG4gICAgICogdGhlbiB0aGUgbWQtdHJhbnNpdGlvbi1pbiBhY3R1YWxseSB0cmFuc2xhdGVzIGJhY2sgdG9cbiAgICAgKiBgdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKDEuMClgLi4uXG4gICAgICpcbiAgICAgKiBOT1RFOiBhbGwgdmFsdWVzIGFyZSByb3VuZGVkIHRvIHRoZSBuZWFyZXN0IGludGVnZXJcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVab29tVG9PcmlnaW46IGZ1bmN0aW9uIChlbGVtZW50LCBvcmlnaW5hdG9yKSB7XG4gICAgICB2YXIgb3JpZ2luID0gb3JpZ2luYXRvci5lbGVtZW50O1xuICAgICAgdmFyIGJvdW5kcyA9IG9yaWdpbmF0b3IuYm91bmRzO1xuXG4gICAgICB2YXIgem9vbVRlbXBsYXRlID0gXCJ0cmFuc2xhdGUzZCgge2NlbnRlclh9cHgsIHtjZW50ZXJZfXB4LCAwICkgc2NhbGUoIHtzY2FsZVh9LCB7c2NhbGVZfSApXCI7XG4gICAgICB2YXIgYnVpbGRab29tID0gYW5ndWxhci5iaW5kKG51bGwsICRtZFV0aWwuc3VwcGxhbnQsIHpvb21UZW1wbGF0ZSk7XG4gICAgICB2YXIgem9vbVN0eWxlID0gYnVpbGRab29tKHtjZW50ZXJYOiAwLCBjZW50ZXJZOiAwLCBzY2FsZVg6IDAuNSwgc2NhbGVZOiAwLjV9KTtcblxuICAgICAgaWYgKG9yaWdpbiB8fCBib3VuZHMpIHtcbiAgICAgICAgdmFyIG9yaWdpbkJuZHMgPSBvcmlnaW4gPyBzZWxmLmNsaWVudFJlY3Qob3JpZ2luKSB8fCBjdXJyZW50Qm91bmRzKCkgOiBzZWxmLmNvcHlSZWN0KGJvdW5kcyk7XG4gICAgICAgIHZhciBkaWFsb2dSZWN0ID0gc2VsZi5jb3B5UmVjdChlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgdmFyIGRpYWxvZ0NlbnRlclB0ID0gc2VsZi5jZW50ZXJQb2ludEZvcihkaWFsb2dSZWN0KTtcbiAgICAgICAgdmFyIG9yaWdpbkNlbnRlclB0ID0gc2VsZi5jZW50ZXJQb2ludEZvcihvcmlnaW5CbmRzKTtcblxuICAgICAgICAvLyBCdWlsZCB0aGUgdHJhbnNmb3JtIHRvIHpvb20gZnJvbSB0aGUgZGlhbG9nIGNlbnRlciB0byB0aGUgb3JpZ2luIGNlbnRlclxuXG4gICAgICAgIHpvb21TdHlsZSA9IGJ1aWxkWm9vbSh7XG4gICAgICAgICAgY2VudGVyWDogb3JpZ2luQ2VudGVyUHQueCAtIGRpYWxvZ0NlbnRlclB0LngsXG4gICAgICAgICAgY2VudGVyWTogb3JpZ2luQ2VudGVyUHQueSAtIGRpYWxvZ0NlbnRlclB0LnksXG4gICAgICAgICAgc2NhbGVYOiBNYXRoLnJvdW5kKDEwMCAqIE1hdGgubWluKDAuNSwgb3JpZ2luQm5kcy53aWR0aCAvIGRpYWxvZ1JlY3Qud2lkdGgpKS8xMDAsXG4gICAgICAgICAgc2NhbGVZOiBNYXRoLnJvdW5kKDEwMCAqIE1hdGgubWluKDAuNSwgb3JpZ2luQm5kcy5oZWlnaHQgLyBkaWFsb2dSZWN0LmhlaWdodCkpLzEwMFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHpvb21TdHlsZTtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGlzIGlzIGEgZmFsbGJhY2sgaWYgdGhlIG9yaWdpbiBpbmZvcm1hdGlvbiBpcyBubyBsb25nZXIgdmFsaWQsIHRoZW4gdGhlXG4gICAgICAgKiBvcmlnaW4gYm91bmRzIHNpbXBseSBiZWNvbWVzIHRoZSBjdXJyZW50IGJvdW5kcyBmb3IgdGhlIGRpYWxvZ0NvbnRhaW5lcidzIHBhcmVudFxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBjdXJyZW50Qm91bmRzKCkge1xuICAgICAgICB2YXIgY250ciA9IGVsZW1lbnQgPyBlbGVtZW50LnBhcmVudCgpIDogbnVsbDtcbiAgICAgICAgdmFyIHBhcmVudCA9IGNudHIgPyBjbnRyLnBhcmVudCgpIDogbnVsbDtcblxuICAgICAgICByZXR1cm4gcGFyZW50ID8gc2VsZi5jbGllbnRSZWN0KHBhcmVudCkgOiBudWxsO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFbmhhbmNlIHJhdyB2YWx1ZXMgdG8gcmVwcmVzZW50IHZhbGlkIGNzcyBzdHlsaW5ncy4uLlxuICAgICAqL1xuICAgIHRvQ3NzIDogZnVuY3Rpb24oIHJhdyApIHtcbiAgICAgIHZhciBjc3MgPSB7IH07XG4gICAgICB2YXIgbG9va3VwcyA9ICdsZWZ0IHRvcCByaWdodCBib3R0b20gd2lkdGggaGVpZ2h0IHggeSBtaW4td2lkdGggbWluLWhlaWdodCBtYXgtd2lkdGggbWF4LWhlaWdodCc7XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChyYXcsIGZ1bmN0aW9uKHZhbHVlLGtleSkge1xuICAgICAgICBpZiAoIGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsdWUpICkgcmV0dXJuO1xuXG4gICAgICAgIGlmICggbG9va3Vwcy5pbmRleE9mKGtleSkgPj0gMCApIHtcbiAgICAgICAgICBjc3Nba2V5XSA9IHZhbHVlICsgJ3B4JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAndHJhbnNpdGlvbic6XG4gICAgICAgICAgICAgIGNvbnZlcnRUb1ZlbmRvcihrZXksICRtZENvbnN0YW50LkNTUy5UUkFOU0lUSU9OLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhbnNmb3JtJzpcbiAgICAgICAgICAgICAgY29udmVydFRvVmVuZG9yKGtleSwgJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgdmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RyYW5zZm9ybU9yaWdpbic6XG4gICAgICAgICAgICAgIGNvbnZlcnRUb1ZlbmRvcihrZXksICRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk1fT1JJR0lOLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBjc3M7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbnZlcnRUb1ZlbmRvcihrZXksIHZlbmRvciwgdmFsdWUpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZlbmRvci5zcGxpdCgnICcpLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgY3NzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIHRyYW5zbGF0ZSBDU1MgdmFsdWUgdG8ga2V5L3ZhbHVlIHBhaXIocykuXG4gICAgICovXG4gICAgdG9UcmFuc2Zvcm1Dc3M6IGZ1bmN0aW9uICh0cmFuc2Zvcm0sIGFkZFRyYW5zaXRpb24sIHRyYW5zaXRpb24pIHtcbiAgICAgIHZhciBjc3MgPSB7fTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLnNwbGl0KCcgJyksIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgY3NzW2tleV0gPSB0cmFuc2Zvcm07XG4gICAgICB9KTtcblxuICAgICAgaWYgKGFkZFRyYW5zaXRpb24pIHtcbiAgICAgICAgdHJhbnNpdGlvbiA9IHRyYW5zaXRpb24gfHwgXCJhbGwgMC40cyBjdWJpYy1iZXppZXIoMC4yNSwgMC44LCAwLjI1LCAxKSAhaW1wb3J0YW50XCI7XG4gICAgICAgIGNzc1sndHJhbnNpdGlvbiddID0gdHJhbnNpdGlvbjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNzcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogIENsb25lIHRoZSBSZWN0IGFuZCBjYWxjdWxhdGUgdGhlIGhlaWdodC93aWR0aCBpZiBuZWVkZWRcbiAgICAgKi9cbiAgICBjb3B5UmVjdDogZnVuY3Rpb24gKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICAgIGlmICghc291cmNlKSByZXR1cm4gbnVsbDtcblxuICAgICAgZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbiB8fCB7fTtcblxuICAgICAgYW5ndWxhci5mb3JFYWNoKCdsZWZ0IHRvcCByaWdodCBib3R0b20gd2lkdGggaGVpZ2h0Jy5zcGxpdCgnICcpLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBNYXRoLnJvdW5kKHNvdXJjZVtrZXldKVxuICAgICAgfSk7XG5cbiAgICAgIGRlc3RpbmF0aW9uLndpZHRoID0gZGVzdGluYXRpb24ud2lkdGggfHwgKGRlc3RpbmF0aW9uLnJpZ2h0IC0gZGVzdGluYXRpb24ubGVmdCk7XG4gICAgICBkZXN0aW5hdGlvbi5oZWlnaHQgPSBkZXN0aW5hdGlvbi5oZWlnaHQgfHwgKGRlc3RpbmF0aW9uLmJvdHRvbSAtIGRlc3RpbmF0aW9uLnRvcCk7XG5cbiAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIENsaWVudFJlY3Qgb2YgZWxlbWVudDsgcmV0dXJuIG51bGwgaWYgaGlkZGVuIG9yIHplcm8gc2l6ZVxuICAgICAqL1xuICAgIGNsaWVudFJlY3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgYm91bmRzID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnQpWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIGlzUG9zaXRpdmVTaXplQ2xpZW50UmVjdCA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIHJldHVybiByZWN0ICYmIChyZWN0LndpZHRoID4gMCkgJiYgKHJlY3QuaGVpZ2h0ID4gMCk7XG4gICAgICB9O1xuXG4gICAgICAvLyBJZiB0aGUgZXZlbnQgb3JpZ2luIGVsZW1lbnQgaGFzIHplcm8gc2l6ZSwgaXQgaGFzIHByb2JhYmx5IGJlZW4gaGlkZGVuLlxuICAgICAgcmV0dXJuIGlzUG9zaXRpdmVTaXplQ2xpZW50UmVjdChib3VuZHMpID8gc2VsZi5jb3B5UmVjdChib3VuZHMpIDogbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogIENhbGN1bGF0ZSAncm91bmRlZCcgY2VudGVyIHBvaW50IG9mIFJlY3RcbiAgICAgKi9cbiAgICBjZW50ZXJQb2ludEZvcjogZnVuY3Rpb24gKHRhcmdldFJlY3QpIHtcbiAgICAgIHJldHVybiB0YXJnZXRSZWN0ID8ge1xuICAgICAgICB4OiBNYXRoLnJvdW5kKHRhcmdldFJlY3QubGVmdCArICh0YXJnZXRSZWN0LndpZHRoIC8gMikpLFxuICAgICAgICB5OiBNYXRoLnJvdW5kKHRhcmdldFJlY3QudG9wICsgKHRhcmdldFJlY3QuaGVpZ2h0IC8gMikpXG4gICAgICB9IDogeyB4IDogMCwgeSA6IDAgfTtcbiAgICB9XG5cbiAgfTtcbn07XG5cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cblwidXNlIHN0cmljdFwiO1xuXG5pZiAoYW5ndWxhci52ZXJzaW9uLm1pbm9yID49IDQpIHtcbiAgYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUuYW5pbWF0ZScsIFtdKTtcbn0gZWxzZSB7XG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGZvckVhY2ggPSBhbmd1bGFyLmZvckVhY2g7XG5cbiAgdmFyIFdFQktJVCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKTtcbiAgdmFyIFRSQU5TSVRJT05fUFJPUCA9IFdFQktJVCA/ICdXZWJraXRUcmFuc2l0aW9uJyA6ICd0cmFuc2l0aW9uJztcbiAgdmFyIEFOSU1BVElPTl9QUk9QID0gV0VCS0lUID8gJ1dlYmtpdEFuaW1hdGlvbicgOiAnYW5pbWF0aW9uJztcbiAgdmFyIFBSRUZJWCA9IFdFQktJVCA/ICctd2Via2l0LScgOiAnJztcblxuICB2YXIgVFJBTlNJVElPTl9FVkVOVFMgPSAoV0VCS0lUID8gJ3dlYmtpdFRyYW5zaXRpb25FbmQgJyA6ICcnKSArICd0cmFuc2l0aW9uZW5kJztcbiAgdmFyIEFOSU1BVElPTl9FVkVOVFMgPSAoV0VCS0lUID8gJ3dlYmtpdEFuaW1hdGlvbkVuZCAnIDogJycpICsgJ2FuaW1hdGlvbmVuZCc7XG5cbiAgdmFyICQkRm9yY2VSZWZsb3dGYWN0b3J5ID0gWyckZG9jdW1lbnQnLCBmdW5jdGlvbigkZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJGRvY3VtZW50WzBdLmJvZHkuY2xpZW50V2lkdGggKyAxO1xuICAgIH1cbiAgfV07XG5cbiAgdmFyICQkckFGTXV0ZXhGYWN0b3J5ID0gWyckJHJBRicsIGZ1bmN0aW9uKCQkckFGKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhc3NlZCA9IGZhbHNlO1xuICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgIHBhc3NlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihmbikge1xuICAgICAgICBwYXNzZWQgPyBmbigpIDogJCRyQUYoZm4pO1xuICAgICAgfTtcbiAgICB9O1xuICB9XTtcblxuICB2YXIgJCRBbmltYXRlUnVubmVyRmFjdG9yeSA9IFsnJHEnLCAnJCRyQUZNdXRleCcsIGZ1bmN0aW9uKCRxLCAkJHJBRk11dGV4KSB7XG4gICAgdmFyIElOSVRJQUxfU1RBVEUgPSAwO1xuICAgIHZhciBET05FX1BFTkRJTkdfU1RBVEUgPSAxO1xuICAgIHZhciBET05FX0NPTVBMRVRFX1NUQVRFID0gMjtcblxuICAgIGZ1bmN0aW9uIEFuaW1hdGVSdW5uZXIoaG9zdCkge1xuICAgICAgdGhpcy5zZXRIb3N0KGhvc3QpO1xuXG4gICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzID0gW107XG4gICAgICB0aGlzLl9ydW5JbkFuaW1hdGlvbkZyYW1lID0gJCRyQUZNdXRleCgpO1xuICAgICAgdGhpcy5fc3RhdGUgPSAwO1xuICAgIH1cblxuICAgIEFuaW1hdGVSdW5uZXIucHJvdG90eXBlID0ge1xuICAgICAgc2V0SG9zdDogZnVuY3Rpb24oaG9zdCkge1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0IHx8IHt9O1xuICAgICAgfSxcblxuICAgICAgZG9uZTogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBET05FX0NPTVBMRVRFX1NUQVRFKSB7XG4gICAgICAgICAgZm4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzLnB1c2goZm4pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBwcm9ncmVzczogYW5ndWxhci5ub29wLFxuXG4gICAgICBnZXRQcm9taXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb21pc2UpIHtcbiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgdGhpcy5wcm9taXNlID0gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBzZWxmLmRvbmUoZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgICAgICAgICAgIHN0YXR1cyA9PT0gZmFsc2UgPyByZWplY3QoKSA6IHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gICAgICB9LFxuXG4gICAgICB0aGVuOiBmdW5jdGlvbihyZXNvbHZlSGFuZGxlciwgcmVqZWN0SGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9taXNlKCkudGhlbihyZXNvbHZlSGFuZGxlciwgcmVqZWN0SGFuZGxlcik7XG4gICAgICB9LFxuXG4gICAgICAnY2F0Y2gnOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKVsnY2F0Y2gnXShoYW5kbGVyKTtcbiAgICAgIH0sXG5cbiAgICAgICdmaW5hbGx5JzogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9taXNlKClbJ2ZpbmFsbHknXShoYW5kbGVyKTtcbiAgICAgIH0sXG5cbiAgICAgIHBhdXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaG9zdC5wYXVzZSkge1xuICAgICAgICAgIHRoaXMuaG9zdC5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICByZXN1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5ob3N0LnJlc3VtZSkge1xuICAgICAgICAgIHRoaXMuaG9zdC5yZXN1bWUoKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaG9zdC5lbmQpIHtcbiAgICAgICAgICB0aGlzLmhvc3QuZW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0sXG5cbiAgICAgIGNhbmNlbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmhvc3QuY2FuY2VsKSB7XG4gICAgICAgICAgdGhpcy5ob3N0LmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jlc29sdmUoZmFsc2UpO1xuICAgICAgfSxcblxuICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlID09PSBJTklUSUFMX1NUQVRFKSB7XG4gICAgICAgICAgc2VsZi5fc3RhdGUgPSBET05FX1BFTkRJTkdfU1RBVEU7XG4gICAgICAgICAgc2VsZi5fcnVuSW5BbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuX3Jlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfcmVzb2x2ZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSBET05FX0NPTVBMRVRFX1NUQVRFKSB7XG4gICAgICAgICAgZm9yRWFjaCh0aGlzLl9kb25lQ2FsbGJhY2tzLCBmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgZm4ocmVzcG9uc2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICAgICAgICB0aGlzLl9zdGF0ZSA9IERPTkVfQ09NUExFVEVfU1RBVEU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIEFuaW1hdGVSdW5uZXI7XG4gIH1dO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb3JlLmFuaW1hdGUnLCBbXSlcbiAgICAuZmFjdG9yeSgnJCRmb3JjZVJlZmxvdycsICQkRm9yY2VSZWZsb3dGYWN0b3J5KVxuICAgIC5mYWN0b3J5KCckJEFuaW1hdGVSdW5uZXInLCAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5KVxuICAgIC5mYWN0b3J5KCckJHJBRk11dGV4JywgJCRyQUZNdXRleEZhY3RvcnkpXG4gICAgLmZhY3RvcnkoJyRhbmltYXRlQ3NzJywgWyckd2luZG93JywgJyQkckFGJywgJyQkQW5pbWF0ZVJ1bm5lcicsICckJGZvcmNlUmVmbG93JywgJyQkanFMaXRlJywgJyR0aW1lb3V0JyxcbiAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCR3aW5kb3csICAgJCRyQUYsICAgJCRBbmltYXRlUnVubmVyLCAgICQkZm9yY2VSZWZsb3csICAgJCRqcUxpdGUsICAgJHRpbWVvdXQpIHtcblxuICAgICAgZnVuY3Rpb24gaW5pdChlbGVtZW50LCBvcHRpb25zKSB7XG5cbiAgICAgICAgdmFyIHRlbXBvcmFyeVN0eWxlcyA9IFtdO1xuICAgICAgICB2YXIgbm9kZSA9IGdldERvbU5vZGUoZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvblN0eWxlKSB7XG4gICAgICAgICAgdGVtcG9yYXJ5U3R5bGVzLnB1c2goW1BSRUZJWCArICd0cmFuc2l0aW9uJywgb3B0aW9ucy50cmFuc2l0aW9uU3R5bGVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmtleWZyYW1lU3R5bGUpIHtcbiAgICAgICAgICB0ZW1wb3JhcnlTdHlsZXMucHVzaChbUFJFRklYICsgJ2FuaW1hdGlvbicsIG9wdGlvbnMua2V5ZnJhbWVTdHlsZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZGVsYXkpIHtcbiAgICAgICAgICB0ZW1wb3JhcnlTdHlsZXMucHVzaChbUFJFRklYICsgJ3RyYW5zaXRpb24tZGVsYXknLCBvcHRpb25zLmRlbGF5ICsgJ3MnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbikge1xuICAgICAgICAgIHRlbXBvcmFyeVN0eWxlcy5wdXNoKFtQUkVGSVggKyAndHJhbnNpdGlvbi1kdXJhdGlvbicsIG9wdGlvbnMuZHVyYXRpb24gKyAncyddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYXNDb21wbGV0ZVN0eWxlcyA9IG9wdGlvbnMua2V5ZnJhbWVTdHlsZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3B0aW9ucy50byAmJiAob3B0aW9ucy5kdXJhdGlvbiA+IDAgfHwgb3B0aW9ucy50cmFuc2l0aW9uU3R5bGUpKTtcbiAgICAgICAgdmFyIGhhc0NvbXBsZXRlQ2xhc3NlcyA9ICEhb3B0aW9ucy5hZGRDbGFzcyB8fCAhIW9wdGlvbnMucmVtb3ZlQ2xhc3M7XG4gICAgICAgIHZhciBoYXNDb21wbGV0ZUFuaW1hdGlvbiA9IGhhc0NvbXBsZXRlU3R5bGVzIHx8IGhhc0NvbXBsZXRlQ2xhc3NlcztcblxuICAgICAgICBibG9ja1RyYW5zaXRpb24oZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgIGFwcGx5QW5pbWF0aW9uRnJvbVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcblxuICAgICAgICB2YXIgYW5pbWF0aW9uQ2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHZhciBldmVudHMsIGV2ZW50Rm47XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjbG9zZTogJHdpbmRvdy5jbG9zZSxcbiAgICAgICAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcnVubmVyID0gbmV3ICQkQW5pbWF0ZVJ1bm5lcigpO1xuICAgICAgICAgICAgd2FpdFVudGlsUXVpZXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGJsb2NrVHJhbnNpdGlvbihlbGVtZW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgIGlmICghaGFzQ29tcGxldGVBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvc2UoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGZvckVhY2godGVtcG9yYXJ5U3R5bGVzLCBmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBlbnRyeVswXTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBlbnRyeVsxXTtcbiAgICAgICAgICAgICAgICBub2RlLnN0eWxlW2NhbWVsQ2FzZShrZXkpXSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBhcHBseUNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgdmFyIHRpbWluZ3MgPSBjb21wdXRlVGltaW5ncyhlbGVtZW50KTtcbiAgICAgICAgICAgICAgaWYgKHRpbWluZ3MuZHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvc2UoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBtb3JlU3R5bGVzID0gW107XG5cbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZWFzaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBtb3JlU3R5bGVzLnB1c2goW1BSRUZJWCArICd0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbicsIG9wdGlvbnMuZWFzaW5nXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBtb3JlU3R5bGVzLnB1c2goW1BSRUZJWCArICdhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uJywgb3B0aW9ucy5lYXNpbmddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWxheSAmJiB0aW1pbmdzLmFuaW1hdGlvbkRlbGF5KSB7XG4gICAgICAgICAgICAgICAgbW9yZVN0eWxlcy5wdXNoKFtQUkVGSVggKyAnYW5pbWF0aW9uLWRlbGF5Jywgb3B0aW9ucy5kZWxheSArICdzJ10pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZHVyYXRpb24gJiYgdGltaW5ncy5hbmltYXRpb25EdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIG1vcmVTdHlsZXMucHVzaChbUFJFRklYICsgJ2FuaW1hdGlvbi1kdXJhdGlvbicsIG9wdGlvbnMuZHVyYXRpb24gKyAncyddKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGZvckVhY2gobW9yZVN0eWxlcywgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZW50cnlbMV07XG4gICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtjYW1lbENhc2Uoa2V5KV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0ZW1wb3JhcnlTdHlsZXMucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHZhciBtYXhEZWxheSA9IHRpbWluZ3MuZGVsYXk7XG4gICAgICAgICAgICAgIHZhciBtYXhEZWxheVRpbWUgPSBtYXhEZWxheSAqIDEwMDA7XG4gICAgICAgICAgICAgIHZhciBtYXhEdXJhdGlvbiA9IHRpbWluZ3MuZHVyYXRpb247XG4gICAgICAgICAgICAgIHZhciBtYXhEdXJhdGlvblRpbWUgPSBtYXhEdXJhdGlvbiAqIDEwMDA7XG4gICAgICAgICAgICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgICAgICAgIGV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgICBpZiAodGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChUUkFOU0lUSU9OX0VWRU5UUyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChBTklNQVRJT05fRVZFTlRTKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBldmVudHMgPSBldmVudHMuam9pbignICcpO1xuICAgICAgICAgICAgICBldmVudEZuID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgZXYgPSBldmVudC5vcmlnaW5hbEV2ZW50IHx8IGV2ZW50O1xuICAgICAgICAgICAgICAgIHZhciB0aW1lU3RhbXAgPSBldi50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBwYXJzZUZsb2F0KGV2LmVsYXBzZWRUaW1lLnRvRml4ZWQoMykpO1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLm1heCh0aW1lU3RhbXAgLSBzdGFydFRpbWUsIDApID49IG1heERlbGF5VGltZSAmJiBlbGFwc2VkVGltZSA+PSBtYXhEdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGVsZW1lbnQub24oZXZlbnRzLCBldmVudEZuKTtcblxuICAgICAgICAgICAgICBhcHBseUFuaW1hdGlvblRvU3R5bGVzKGVsZW1lbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICR0aW1lb3V0KGNsb3NlLCBtYXhEZWxheVRpbWUgKyBtYXhEdXJhdGlvblRpbWUgKiAxLjUsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcnVubmVyO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkNsb3NlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICBhbmltYXRpb25DbG9zZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIGlmIChldmVudHMgJiYgZXZlbnRGbikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQub2ZmKGV2ZW50cywgZXZlbnRGbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYXBwbHlDbGFzc2VzKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICBhcHBseUFuaW1hdGlvblN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgZm9yRWFjaCh0ZW1wb3JhcnlTdHlsZXMsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtjYW1lbENhc2UoZW50cnlbMF0pXSA9ICcnO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcnVubmVyLmNvbXBsZXRlKHRydWUpO1xuICAgICAgICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhcHBseUNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy5hZGRDbGFzcykge1xuICAgICAgICAgICQkanFMaXRlLmFkZENsYXNzKGVsZW1lbnQsIG9wdGlvbnMuYWRkQ2xhc3MpO1xuICAgICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnJlbW92ZUNsYXNzKSB7XG4gICAgICAgICAgJCRqcUxpdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgb3B0aW9ucy5yZW1vdmVDbGFzcyk7XG4gICAgICAgICAgb3B0aW9ucy5yZW1vdmVDbGFzcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY29tcHV0ZVRpbWluZ3MoZWxlbWVudCkge1xuICAgICAgICB2YXIgbm9kZSA9IGdldERvbU5vZGUoZWxlbWVudCk7XG4gICAgICAgIHZhciBjcyA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKVxuICAgICAgICB2YXIgdGRyID0gcGFyc2VNYXhUaW1lKGNzW3Byb3AoJ3RyYW5zaXRpb25EdXJhdGlvbicpXSk7XG4gICAgICAgIHZhciBhZHIgPSBwYXJzZU1heFRpbWUoY3NbcHJvcCgnYW5pbWF0aW9uRHVyYXRpb24nKV0pO1xuICAgICAgICB2YXIgdGR5ID0gcGFyc2VNYXhUaW1lKGNzW3Byb3AoJ3RyYW5zaXRpb25EZWxheScpXSk7XG4gICAgICAgIHZhciBhZHkgPSBwYXJzZU1heFRpbWUoY3NbcHJvcCgnYW5pbWF0aW9uRGVsYXknKV0pO1xuXG4gICAgICAgIGFkciAqPSAocGFyc2VJbnQoY3NbcHJvcCgnYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQnKV0sIDEwKSB8fCAxKTtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoYWRyLCB0ZHIpO1xuICAgICAgICB2YXIgZGVsYXkgPSBNYXRoLm1heChhZHksIHRkeSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgZGVsYXk6IGRlbGF5LFxuICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBhZHIsXG4gICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiB0ZHIsXG4gICAgICAgICAgYW5pbWF0aW9uRGVsYXk6IGFkeSxcbiAgICAgICAgICB0cmFuc2l0aW9uRGVsYXk6IHRkeVxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHByb3Aoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIFdFQktJVCA/ICdXZWJraXQnICsga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cigxKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBrZXk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VNYXhUaW1lKHN0cikge1xuICAgICAgICB2YXIgbWF4VmFsdWUgPSAwO1xuICAgICAgICB2YXIgdmFsdWVzID0gKHN0ciB8fCBcIlwiKS5zcGxpdCgvXFxzKixcXHMqLyk7XG4gICAgICAgIGZvckVhY2godmFsdWVzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIC8vIGl0J3MgYWx3YXlzIHNhZmUgdG8gY29uc2lkZXIgb25seSBzZWNvbmQgdmFsdWVzIGFuZCBvbWl0IGBtc2AgdmFsdWVzIHNpbmNlXG4gICAgICAgICAgLy8gZ2V0Q29tcHV0ZWRTdHlsZSB3aWxsIGFsd2F5cyBoYW5kbGUgdGhlIGNvbnZlcnNpb24gZm9yIHVzXG4gICAgICAgICAgaWYgKHZhbHVlLmNoYXJBdCh2YWx1ZS5sZW5ndGggLSAxKSA9PSAncycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XG4gICAgICAgICAgbWF4VmFsdWUgPSBtYXhWYWx1ZSA/IE1hdGgubWF4KHZhbHVlLCBtYXhWYWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtYXhWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbmNlbExhc3RSQUZSZXF1ZXN0O1xuICAgICAgdmFyIHJhZldhaXRRdWV1ZSA9IFtdO1xuICAgICAgZnVuY3Rpb24gd2FpdFVudGlsUXVpZXQoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbmNlbExhc3RSQUZSZXF1ZXN0KSB7XG4gICAgICAgICAgY2FuY2VsTGFzdFJBRlJlcXVlc3QoKTsgLy9jYW5jZWxzIHRoZSByZXF1ZXN0XG4gICAgICAgIH1cbiAgICAgICAgcmFmV2FpdFF1ZXVlLnB1c2goY2FsbGJhY2spO1xuICAgICAgICBjYW5jZWxMYXN0UkFGUmVxdWVzdCA9ICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNhbmNlbExhc3RSQUZSZXF1ZXN0ID0gbnVsbDtcblxuICAgICAgICAgIC8vIERPIE5PVCBSRU1PVkUgVEhJUyBMSU5FIE9SIFJFRkFDVE9SIE9VVCBUSEUgYHBhZ2VXaWR0aGAgdmFyaWFibGUuXG4gICAgICAgICAgLy8gUExFQVNFIEVYQU1JTkUgVEhFIGAkJGZvcmNlUmVmbG93YCBzZXJ2aWNlIHRvIHVuZGVyc3RhbmQgd2h5LlxuICAgICAgICAgIHZhciBwYWdlV2lkdGggPSAkJGZvcmNlUmVmbG93KCk7XG5cbiAgICAgICAgICAvLyB3ZSB1c2UgYSBmb3IgbG9vcCB0byBlbnN1cmUgdGhhdCBpZiB0aGUgcXVldWUgaXMgY2hhbmdlZFxuICAgICAgICAgIC8vIGR1cmluZyB0aGlzIGxvb3BpbmcgdGhlbiBpdCB3aWxsIGNvbnNpZGVyIG5ldyByZXF1ZXN0c1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFmV2FpdFF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByYWZXYWl0UXVldWVbaV0ocGFnZVdpZHRoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmFmV2FpdFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhcHBseUFuaW1hdGlvblN0eWxlcyhlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGFwcGx5QW5pbWF0aW9uRnJvbVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgYXBwbHlBbmltYXRpb25Ub1N0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYXBwbHlBbmltYXRpb25Gcm9tU3R5bGVzKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZnJvbSkge1xuICAgICAgICAgIGVsZW1lbnQuY3NzKG9wdGlvbnMuZnJvbSk7XG4gICAgICAgICAgb3B0aW9ucy5mcm9tID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhcHBseUFuaW1hdGlvblRvU3R5bGVzKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMudG8pIHtcbiAgICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLnRvKTtcbiAgICAgICAgICBvcHRpb25zLnRvID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXREb21Ob2RlKGVsZW1lbnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnRbaV0ubm9kZVR5cGUgPT09IDEpIHJldHVybiBlbGVtZW50W2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJsb2NrVHJhbnNpdGlvbihlbGVtZW50LCBib29sKSB7XG4gICAgICAgIHZhciBub2RlID0gZ2V0RG9tTm9kZShlbGVtZW50KTtcbiAgICAgICAgdmFyIGtleSA9IGNhbWVsQ2FzZShQUkVGSVggKyAndHJhbnNpdGlvbi1kZWxheScpO1xuICAgICAgICBub2RlLnN0eWxlW2tleV0gPSBib29sID8gJy05OTk5cycgOiAnJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluaXQ7XG4gICAgfV0pO1xuXG4gIC8qKlxuICAgKiBPbGRlciBicm93c2VycyBbRkYzMV0gZXhwZWN0IGNhbWVsQ2FzZVxuICAgKiBwcm9wZXJ0eSBrZXlzLlxuICAgKiBlLmcuXG4gICAqICBhbmltYXRpb24tZHVyYXRpb24gLS0+IGFuaW1hdGlvbkR1cmF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBjYW1lbENhc2Uoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8tW2Etel0vZywgZnVuY3Rpb24oc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLmNoYXJBdCgxKS50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xuICB9XG5cbn0pKCk7XG5cbn1cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5hdXRvY29tcGxldGVcbiAqL1xuLypcbiAqIEBzZWUganMgZm9sZGVyIGZvciBhdXRvY29tcGxldGUgaW1wbGVtZW50YXRpb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmljb24nLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy52aXJ0dWFsUmVwZWF0J1xuXSk7XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuYm90dG9tU2hlZXRcbiAqIEBkZXNjcmlwdGlvblxuICogQm90dG9tU2hlZXRcbiAqL1xuYW5ndWxhclxuICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmJvdHRvbVNoZWV0JywgW1xuICAgICdtYXRlcmlhbC5jb3JlJyxcbiAgICAnbWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcCdcbiAgXSlcbiAgLmRpcmVjdGl2ZSgnbWRCb3R0b21TaGVldCcsIE1kQm90dG9tU2hlZXREaXJlY3RpdmUpXG4gIC5wcm92aWRlcignJG1kQm90dG9tU2hlZXQnLCBNZEJvdHRvbVNoZWV0UHJvdmlkZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIE1kQm90dG9tU2hlZXREaXJlY3RpdmUoJG1kQm90dG9tU2hlZXQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGxpbmsgOiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgLy8gV2hlbiBuYXZpZ2F0aW9uIGZvcmNlIGRlc3Ryb3lzIGFuIGludGVyaW1FbGVtZW50LCB0aGVuXG4gICAgICAvLyBsaXN0ZW4gYW5kICRkZXN0cm95KCkgdGhhdCBpbnRlcmltIGluc3RhbmNlLi4uXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICRtZEJvdHRvbVNoZWV0LmRlc3Ryb3koKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbk1kQm90dG9tU2hlZXREaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZEJvdHRvbVNoZWV0XCJdO1xuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZEJvdHRvbVNoZWV0XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYm90dG9tU2hlZXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkbWRCb3R0b21TaGVldGAgb3BlbnMgYSBib3R0b20gc2hlZXQgb3ZlciB0aGUgYXBwIGFuZCBwcm92aWRlcyBhIHNpbXBsZSBwcm9taXNlIEFQSS5cbiAqXG4gKiAjIyBSZXN0cmljdGlvbnNcbiAqXG4gKiAtIFRoZSBib3R0b20gc2hlZXQncyB0ZW1wbGF0ZSBtdXN0IGhhdmUgYW4gb3V0ZXIgYDxtZC1ib3R0b20tc2hlZXQ+YCBlbGVtZW50LlxuICogLSBBZGQgdGhlIGBtZC1ncmlkYCBjbGFzcyB0byB0aGUgYm90dG9tIHNoZWV0IGZvciBhIGdyaWQgbGF5b3V0LlxuICogLSBBZGQgdGhlIGBtZC1saXN0YCBjbGFzcyB0byB0aGUgYm90dG9tIHNoZWV0IGZvciBhIGxpc3QgbGF5b3V0LlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIk15Q29udHJvbGxlclwiPlxuICogICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwib3BlbkJvdHRvbVNoZWV0KClcIj5cbiAqICAgICBPcGVuIGEgQm90dG9tIFNoZWV0IVxuICogICA8L21kLWJ1dHRvbj5cbiAqIDwvZGl2PlxuICogPC9obGpzPlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsnbmdNYXRlcmlhbCddKTtcbiAqIGFwcC5jb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRtZEJvdHRvbVNoZWV0KSB7XG4gKiAgICRzY29wZS5vcGVuQm90dG9tU2hlZXQgPSBmdW5jdGlvbigpIHtcbiAqICAgICAkbWRCb3R0b21TaGVldC5zaG93KHtcbiAqICAgICAgIHRlbXBsYXRlOiAnPG1kLWJvdHRvbS1zaGVldD5IZWxsbyE8L21kLWJvdHRvbS1zaGVldD4nXG4gKiAgICAgfSk7XG4gKiAgIH07XG4gKiB9KTtcbiAqIDwvaGxqcz5cbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRCb3R0b21TaGVldCNzaG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTaG93IGEgYm90dG9tIHNoZWV0IHdpdGggdGhlIHNwZWNpZmllZCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIEFuIG9wdGlvbnMgb2JqZWN0LCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gYHRlbXBsYXRlVXJsYCAtIGB7c3RyaW5nPX1gOiBUaGUgdXJsIG9mIGFuIGh0bWwgdGVtcGxhdGUgZmlsZSB0aGF0IHdpbGxcbiAqICAgYmUgdXNlZCBhcyB0aGUgY29udGVudCBvZiB0aGUgYm90dG9tIHNoZWV0LiBSZXN0cmljdGlvbnM6IHRoZSB0ZW1wbGF0ZSBtdXN0XG4gKiAgIGhhdmUgYW4gb3V0ZXIgYG1kLWJvdHRvbS1zaGVldGAgZWxlbWVudC5cbiAqICAgLSBgdGVtcGxhdGVgIC0gYHtzdHJpbmc9fWA6IFNhbWUgYXMgdGVtcGxhdGVVcmwsIGV4Y2VwdCB0aGlzIGlzIGFuIGFjdHVhbFxuICogICB0ZW1wbGF0ZSBzdHJpbmcuXG4gKiAgIC0gYHNjb3BlYCAtIGB7b2JqZWN0PX1gOiB0aGUgc2NvcGUgdG8gbGluayB0aGUgdGVtcGxhdGUgLyBjb250cm9sbGVyIHRvLiBJZiBub25lIGlzIHNwZWNpZmllZCwgaXQgd2lsbCBjcmVhdGUgYSBuZXcgY2hpbGQgc2NvcGUuXG4gKiAgICAgVGhpcyBzY29wZSB3aWxsIGJlIGRlc3Ryb3llZCB3aGVuIHRoZSBib3R0b20gc2hlZXQgaXMgcmVtb3ZlZCB1bmxlc3MgYHByZXNlcnZlU2NvcGVgIGlzIHNldCB0byB0cnVlLlxuICogICAtIGBwcmVzZXJ2ZVNjb3BlYCAtIGB7Ym9vbGVhbj19YDogd2hldGhlciB0byBwcmVzZXJ2ZSB0aGUgc2NvcGUgd2hlbiB0aGUgZWxlbWVudCBpcyByZW1vdmVkLiBEZWZhdWx0IGlzIGZhbHNlXG4gKiAgIC0gYGNvbnRyb2xsZXJgIC0gYHtzdHJpbmc9fWA6IFRoZSBjb250cm9sbGVyIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgYm90dG9tIHNoZWV0LlxuICogICAtIGBsb2NhbHNgIC0gYHtzdHJpbmc9fWA6IEFuIG9iamVjdCBjb250YWluaW5nIGtleS92YWx1ZSBwYWlycy4gVGhlIGtleXMgd2lsbFxuICogICBiZSB1c2VkIGFzIG5hbWVzIG9mIHZhbHVlcyB0byBpbmplY3QgaW50byB0aGUgY29udHJvbGxlci4gRm9yIGV4YW1wbGUsXG4gKiAgIGBsb2NhbHM6IHt0aHJlZTogM31gIHdvdWxkIGluamVjdCBgdGhyZWVgIGludG8gdGhlIGNvbnRyb2xsZXIgd2l0aCB0aGUgdmFsdWVcbiAqICAgb2YgMy5cbiAqICAgLSBgY2xpY2tPdXRzaWRlVG9DbG9zZWAgLSBge2Jvb2xlYW49fWA6IFdoZXRoZXIgdGhlIHVzZXIgY2FuIGNsaWNrIG91dHNpZGUgdGhlIGJvdHRvbSBzaGVldCB0b1xuICogICAgIGNsb3NlIGl0LiBEZWZhdWx0IHRydWUuXG4gKiAgIC0gYGVzY2FwZVRvQ2xvc2VgIC0gYHtib29sZWFuPX1gOiBXaGV0aGVyIHRoZSB1c2VyIGNhbiBwcmVzcyBlc2NhcGUgdG8gY2xvc2UgdGhlIGJvdHRvbSBzaGVldC5cbiAqICAgICBEZWZhdWx0IHRydWUuXG4gKiAgIC0gYHJlc29sdmVgIC0gYHtvYmplY3Q9fWA6IFNpbWlsYXIgdG8gbG9jYWxzLCBleGNlcHQgaXQgdGFrZXMgcHJvbWlzZXMgYXMgdmFsdWVzXG4gKiAgIGFuZCB0aGUgYm90dG9tIHNoZWV0IHdpbGwgbm90IG9wZW4gdW50aWwgdGhlIHByb21pc2VzIHJlc29sdmUuXG4gKiAgIC0gYGNvbnRyb2xsZXJBc2AgLSBge3N0cmluZz19YDogQW4gYWxpYXMgdG8gYXNzaWduIHRoZSBjb250cm9sbGVyIHRvIG9uIHRoZSBzY29wZS5cbiAqICAgLSBgcGFyZW50YCAtIGB7ZWxlbWVudD19YDogVGhlIGVsZW1lbnQgdG8gYXBwZW5kIHRoZSBib3R0b20gc2hlZXQgdG8uIFRoZSBgcGFyZW50YCBtYXkgYmUgYSBgZnVuY3Rpb25gLCBgc3RyaW5nYCxcbiAqICAgYG9iamVjdGAsIG9yIG51bGwuIERlZmF1bHRzIHRvIGFwcGVuZGluZyB0byB0aGUgYm9keSBvZiB0aGUgcm9vdCBlbGVtZW50IChvciB0aGUgcm9vdCBlbGVtZW50KSBvZiB0aGUgYXBwbGljYXRpb24uXG4gKiAgIGUuZy4gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykpIG9yIFwiI2NvbnRlbnRcIlxuICogICAtIGBkaXNhYmxlUGFyZW50U2Nyb2xsYCAtIGB7Ym9vbGVhbj19YDogV2hldGhlciB0byBkaXNhYmxlIHNjcm9sbGluZyB3aGlsZSB0aGUgYm90dG9tIHNoZWV0IGlzIG9wZW4uXG4gKiAgICAgRGVmYXVsdCB0cnVlLlxuICpcbiAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2UgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgd2l0aCBgJG1kQm90dG9tU2hlZXQuaGlkZSgpYCBvclxuICogcmVqZWN0ZWQgd2l0aCBgJG1kQm90dG9tU2hlZXQuY2FuY2VsKClgLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kQm90dG9tU2hlZXQjaGlkZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSB0aGUgZXhpc3RpbmcgYm90dG9tIHNoZWV0IGFuZCByZXNvbHZlIHRoZSBwcm9taXNlIHJldHVybmVkIGZyb21cbiAqIGAkbWRCb3R0b21TaGVldC5zaG93KClgLiBUaGlzIGNhbGwgd2lsbCBjbG9zZSB0aGUgbW9zdCByZWNlbnRseSBvcGVuZWQvY3VycmVudCBib3R0b21zaGVldCAoaWYgYW55KS5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlc29sdmVkIHByb21pc2UuXG4gKlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kQm90dG9tU2hlZXQjY2FuY2VsXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIaWRlIHRoZSBleGlzdGluZyBib3R0b20gc2hlZXQgYW5kIHJlamVjdCB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tXG4gKiBgJG1kQm90dG9tU2hlZXQuc2hvdygpYC5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlamVjdGVkIHByb21pc2UuXG4gKlxuICovXG5cbmZ1bmN0aW9uIE1kQm90dG9tU2hlZXRQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcbiAgLy8gaG93IGZhc3Qgd2UgbmVlZCB0byBmbGljayBkb3duIHRvIGNsb3NlIHRoZSBzaGVldCwgcGl4ZWxzL21zXG4gIHZhciBDTE9TSU5HX1ZFTE9DSVRZID0gMC41O1xuICB2YXIgUEFERElORyA9IDgwOyAvLyBzYW1lIGFzIGNzc1xuXG4gIGJvdHRvbVNoZWV0RGVmYXVsdHMuJGluamVjdCA9IFtcIiRhbmltYXRlXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRVdGlsXCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRtZEJvdHRvbVNoZWV0XCIsIFwiJHJvb3RFbGVtZW50XCIsIFwiJG1kR2VzdHVyZVwiXTtcbiAgcmV0dXJuICQkaW50ZXJpbUVsZW1lbnRQcm92aWRlcignJG1kQm90dG9tU2hlZXQnKVxuICAgIC5zZXREZWZhdWx0cyh7XG4gICAgICBtZXRob2RzOiBbJ2Rpc2FibGVQYXJlbnRTY3JvbGwnLCAnZXNjYXBlVG9DbG9zZScsICdjbGlja091dHNpZGVUb0Nsb3NlJ10sXG4gICAgICBvcHRpb25zOiBib3R0b21TaGVldERlZmF1bHRzXG4gICAgfSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGJvdHRvbVNoZWV0RGVmYXVsdHMoJGFuaW1hdGUsICRtZENvbnN0YW50LCAkbWRVdGlsLCAkbWRUaGVtaW5nLCAkbWRCb3R0b21TaGVldCwgJHJvb3RFbGVtZW50LCAkbWRHZXN0dXJlKSB7XG4gICAgdmFyIGJhY2tkcm9wO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRoZW1hYmxlOiB0cnVlLFxuICAgICAgb25TaG93OiBvblNob3csXG4gICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICBlc2NhcGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcbiAgICAgIGRpc2FibGVQYXJlbnRTY3JvbGw6IHRydWVcbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiBvblNob3coc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMsIGNvbnRyb2xsZXIpIHtcblxuICAgICAgZWxlbWVudCA9ICRtZFV0aWwuZXh0cmFjdEVsZW1lbnRCeU5hbWUoZWxlbWVudCwgJ21kLWJvdHRvbS1zaGVldCcpO1xuXG4gICAgICAvLyBBZGQgYSBiYWNrZHJvcCB0aGF0IHdpbGwgY2xvc2Ugb24gY2xpY2tcbiAgICAgIGJhY2tkcm9wID0gJG1kVXRpbC5jcmVhdGVCYWNrZHJvcChzY29wZSwgXCJtZC1ib3R0b20tc2hlZXQtYmFja2Ryb3AgbWQtb3BhcXVlXCIpO1xuXG4gICAgICBpZiAob3B0aW9ucy5jbGlja091dHNpZGVUb0Nsb3NlKSB7XG4gICAgICAgIGJhY2tkcm9wLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRtZFV0aWwubmV4dFRpY2soJG1kQm90dG9tU2hlZXQuY2FuY2VsLHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJG1kVGhlbWluZy5pbmhlcml0KGJhY2tkcm9wLCBvcHRpb25zLnBhcmVudCk7XG5cbiAgICAgICRhbmltYXRlLmVudGVyKGJhY2tkcm9wLCBvcHRpb25zLnBhcmVudCwgbnVsbCk7XG5cbiAgICAgIHZhciBib3R0b21TaGVldCA9IG5ldyBCb3R0b21TaGVldChlbGVtZW50LCBvcHRpb25zLnBhcmVudCk7XG4gICAgICBvcHRpb25zLmJvdHRvbVNoZWV0ID0gYm90dG9tU2hlZXQ7XG5cbiAgICAgICRtZFRoZW1pbmcuaW5oZXJpdChib3R0b21TaGVldC5lbGVtZW50LCBvcHRpb25zLnBhcmVudCk7XG5cbiAgICAgIGlmIChvcHRpb25zLmRpc2FibGVQYXJlbnRTY3JvbGwpIHtcbiAgICAgICAgb3B0aW9ucy5yZXN0b3JlU2Nyb2xsID0gJG1kVXRpbC5kaXNhYmxlU2Nyb2xsQXJvdW5kKGJvdHRvbVNoZWV0LmVsZW1lbnQsIG9wdGlvbnMucGFyZW50KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICRhbmltYXRlLmVudGVyKGJvdHRvbVNoZWV0LmVsZW1lbnQsIG9wdGlvbnMucGFyZW50KVxuICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgZm9jdXNhYmxlID0gJG1kVXRpbC5maW5kRm9jdXNUYXJnZXQoZWxlbWVudCkgfHwgYW5ndWxhci5lbGVtZW50KFxuICAgICAgICAgICAgZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKSB8fFxuICAgICAgICAgICAgZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCdhJykgfHxcbiAgICAgICAgICAgIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignW25nLWNsaWNrXScpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmb2N1c2FibGUuZm9jdXMoKTtcblxuICAgICAgICAgIGlmIChvcHRpb25zLmVzY2FwZVRvQ2xvc2UpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucm9vdEVsZW1lbnRLZXl1cENhbGxiYWNrID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAkbWRDb25zdGFudC5LRVlfQ09ERS5FU0NBUEUpIHtcbiAgICAgICAgICAgICAgICAkbWRVdGlsLm5leHRUaWNrKCRtZEJvdHRvbVNoZWV0LmNhbmNlbCx0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRyb290RWxlbWVudC5vbigna2V5dXAnLCBvcHRpb25zLnJvb3RFbGVtZW50S2V5dXBDYWxsYmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUmVtb3ZlKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG5cbiAgICAgIHZhciBib3R0b21TaGVldCA9IG9wdGlvbnMuYm90dG9tU2hlZXQ7XG5cbiAgICAgICRhbmltYXRlLmxlYXZlKGJhY2tkcm9wKTtcbiAgICAgIHJldHVybiAkYW5pbWF0ZS5sZWF2ZShib3R0b21TaGVldC5lbGVtZW50KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAob3B0aW9ucy5kaXNhYmxlUGFyZW50U2Nyb2xsKSB7XG4gICAgICAgICAgb3B0aW9ucy5yZXN0b3JlU2Nyb2xsKCk7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnMucmVzdG9yZVNjcm9sbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvdHRvbVNoZWV0LmNsZWFudXAoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJvdHRvbVNoZWV0IGNsYXNzIHRvIGFwcGx5IGJvdHRvbS1zaGVldCBiZWhhdmlvciB0byBhbiBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gQm90dG9tU2hlZXQoZWxlbWVudCwgcGFyZW50KSB7XG4gICAgICB2YXIgZGVyZWdpc3RlciA9ICRtZEdlc3R1cmUucmVnaXN0ZXIocGFyZW50LCAnZHJhZycsIHsgaG9yaXpvbnRhbDogZmFsc2UgfSk7XG4gICAgICBwYXJlbnQub24oJyRtZC5kcmFnc3RhcnQnLCBvbkRyYWdTdGFydClcbiAgICAgICAgLm9uKCckbWQuZHJhZycsIG9uRHJhZylcbiAgICAgICAgLm9uKCckbWQuZHJhZ2VuZCcsIG9uRHJhZ0VuZCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgIGNsZWFudXA6IGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgICAgZGVyZWdpc3RlcigpO1xuICAgICAgICAgIHBhcmVudC5vZmYoJyRtZC5kcmFnc3RhcnQnLCBvbkRyYWdTdGFydCk7XG4gICAgICAgICAgcGFyZW50Lm9mZignJG1kLmRyYWcnLCBvbkRyYWcpO1xuICAgICAgICAgIHBhcmVudC5vZmYoJyRtZC5kcmFnZW5kJywgb25EcmFnRW5kKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gb25EcmFnU3RhcnQoZXYpIHtcbiAgICAgICAgLy8gRGlzYWJsZSB0cmFuc2l0aW9ucyBvbiB0cmFuc2Zvcm0gc28gdGhhdCBpdCBmZWVscyBmYXN0XG4gICAgICAgIGVsZW1lbnQuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0lUSU9OX0RVUkFUSU9OLCAnMG1zJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uRHJhZyhldikge1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gZXYucG9pbnRlci5kaXN0YW5jZVk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm0gPCA1KSB7XG4gICAgICAgICAgLy8gU2xvdyBkb3duIGRyYWcgd2hlbiB0cnlpbmcgdG8gZHJhZyB1cCwgYW5kIHN0b3AgYWZ0ZXIgUEFERElOR1xuICAgICAgICAgIHRyYW5zZm9ybSA9IE1hdGgubWF4KC1QQURESU5HLCB0cmFuc2Zvcm0gLyAyKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAndHJhbnNsYXRlM2QoMCwnICsgKFBBRERJTkcgKyB0cmFuc2Zvcm0pICsgJ3B4LDApJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uRHJhZ0VuZChldikge1xuICAgICAgICBpZiAoZXYucG9pbnRlci5kaXN0YW5jZVkgPiAwICYmXG4gICAgICAgICAgICAoZXYucG9pbnRlci5kaXN0YW5jZVkgPiAyMCB8fCBNYXRoLmFicyhldi5wb2ludGVyLnZlbG9jaXR5WSkgPiBDTE9TSU5HX1ZFTE9DSVRZKSkge1xuICAgICAgICAgIHZhciBkaXN0YW5jZVJlbWFpbmluZyA9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0JykgLSBldi5wb2ludGVyLmRpc3RhbmNlWTtcbiAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gTWF0aC5taW4oZGlzdGFuY2VSZW1haW5pbmcgLyBldi5wb2ludGVyLnZlbG9jaXR5WSAqIDAuNzUsIDUwMCk7XG4gICAgICAgICAgZWxlbWVudC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05fRFVSQVRJT04sIHRyYW5zaXRpb25EdXJhdGlvbiArICdtcycpO1xuICAgICAgICAgICRtZFV0aWwubmV4dFRpY2soJG1kQm90dG9tU2hlZXQuY2FuY2VsLHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0lUSU9OX0RVUkFUSU9OLCAnJyk7XG4gICAgICAgICAgZWxlbWVudC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgJycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxufVxuTWRCb3R0b21TaGVldFByb3ZpZGVyLiRpbmplY3QgPSBbXCIkJGludGVyaW1FbGVtZW50UHJvdmlkZXJcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcFxuICogQGRlc2NyaXB0aW9uIEJhY2tkcm9wXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZEJhY2tkcm9wXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYmFja2Ryb3BcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYDxtZC1iYWNrZHJvcD5gIGlzIGEgYmFja2Ryb3AgZWxlbWVudCB1c2VkIGJ5IG90aGVyIGNvbXBvbmVudHMsIHN1Y2ggYXMgZGlhbG9nIGFuZCBib3R0b20gc2hlZXQuXG4gKiBBcHBseSBjbGFzcyBgb3BhcXVlYCB0byBtYWtlIHRoZSBiYWNrZHJvcCB1c2UgdGhlIHRoZW1lIGJhY2tkcm9wIGNvbG9yLlxuICpcbiAqL1xuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYmFja2Ryb3AnLCBbJ21hdGVyaWFsLmNvcmUnXSlcbiAgLmRpcmVjdGl2ZSgnbWRCYWNrZHJvcCcsIFtcIiRtZFRoZW1pbmdcIiwgXCIkYW5pbWF0ZVwiLCBcIiRyb290RWxlbWVudFwiLCBcIiR3aW5kb3dcIiwgXCIkbG9nXCIsIFwiJCRyQUZcIiwgXCIkZG9jdW1lbnRcIiwgZnVuY3Rpb24gQmFja2Ryb3BEaXJlY3RpdmUoJG1kVGhlbWluZywgJGFuaW1hdGUsICRyb290RWxlbWVudCwgJHdpbmRvdywgJGxvZywgJCRyQUYsICRkb2N1bWVudCkge1xuICAgIHZhciBFUlJPUl9DU1NfUE9TSVRJT04gPSBcIjxtZC1iYWNrZHJvcD4gbWF5IG5vdCB3b3JrIHByb3Blcmx5IGluIGEgc2Nyb2xsZWQsIHN0YXRpYy1wb3NpdGlvbmVkIHBhcmVudCBjb250YWluZXIuXCI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgIGxpbms6IHBvc3RMaW5rXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXG4gICAgICAvLyBJZiBib2R5IHNjcm9sbGluZyBoYXMgYmVlbiBkaXNhYmxlZCB1c2luZyBtZFV0aWwuZGlzYWJsZUJvZHlTY3JvbGwoKSxcbiAgICAgIC8vIGFkanVzdCB0aGUgJ2JhY2tkcm9wJyBoZWlnaHQgdG8gYWNjb3VudCBmb3IgdGhlIGZpeGVkICdib2R5JyB0b3Agb2Zmc2V0XG4gICAgICB2YXIgYm9keSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSgkZG9jdW1lbnRbMF0uYm9keSk7XG4gICAgICBpZiAoYm9keS5wb3NpdGlvbiA9PSAnZml4ZWQnKSB7XG4gICAgICAgIHZhciBoVmlld3BvcnQgPSBwYXJzZUludChib2R5LmhlaWdodCwgMTApICsgTWF0aC5hYnMocGFyc2VJbnQoYm9keS50b3AsIDEwKSk7XG4gICAgICAgIGVsZW1lbnQuY3NzKHtcbiAgICAgICAgICBoZWlnaHQ6IGhWaWV3cG9ydCArICdweCdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGJhY2tkcm9wIG1heSBiZSBvdXRzaWRlIHRoZSAkcm9vdEVsZW1lbnQsIHRlbGwgbmdBbmltYXRlIHRvIGFuaW1hdGUgcmVnYXJkbGVzc1xuICAgICAgaWYgKCRhbmltYXRlLnBpbikgJGFuaW1hdGUucGluKGVsZW1lbnQsICRyb290RWxlbWVudCk7XG5cbiAgICAgICQkckFGKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLyBPZnRlbiAkYW5pbWF0ZS5lbnRlcigpIGlzIHVzZWQgdG8gYXBwZW5kIHRoZSBiYWNrRHJvcCBlbGVtZW50XG4gICAgICAgIC8vIHNvIGxldCdzIHdhaXQgdW50aWwgJGFuaW1hdGUgaXMgZG9uZS4uLlxuICAgICAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQoKVswXTtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuXG4gICAgICAgICAgaWYgKCBwYXJlbnQubm9kZU5hbWUgPT0gJ0JPRFknICkge1xuICAgICAgICAgICAgZWxlbWVudC5jc3Moe3Bvc2l0aW9uIDogJ2ZpeGVkJ30pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzdHlsZXMgPSAkd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50KTtcbiAgICAgICAgICBpZiAoc3R5bGVzLnBvc2l0aW9uID09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgICAvLyBiYWNrZHJvcCB1c2VzIHBvc2l0aW9uOmFic29sdXRlIGFuZCB3aWxsIG5vdCB3b3JrIHByb3Blcmx5IHdpdGggcGFyZW50IHBvc2l0aW9uOnN0YXRpYyAoZGVmYXVsdClcbiAgICAgICAgICAgICRsb2cud2FybihFUlJPUl9DU1NfUE9TSVRJT04pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICRtZFRoZW1pbmcuaW5oZXJpdChlbGVtZW50LCBlbGVtZW50LnBhcmVudCgpKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gIH1dKTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5idXR0b25cbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEJ1dHRvblxuICovXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5idXR0b24nLCBbICdtYXRlcmlhbC5jb3JlJyBdKVxuICAgIC5kaXJlY3RpdmUoJ21kQnV0dG9uJywgTWRCdXR0b25EaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kQnV0dG9uXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYnV0dG9uXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGA8bWQtYnV0dG9uPmAgaXMgYSBidXR0b24gZGlyZWN0aXZlIHdpdGggb3B0aW9uYWwgaW5rIHJpcHBsZXMgKGRlZmF1bHQgZW5hYmxlZCkuXG4gKlxuICogSWYgeW91IHN1cHBseSBhIGBocmVmYCBvciBgbmctaHJlZmAgYXR0cmlidXRlLCBpdCB3aWxsIGJlY29tZSBhbiBgPGE+YCBlbGVtZW50LiBPdGhlcndpc2UsIGl0IHdpbGxcbiAqIGJlY29tZSBhIGA8YnV0dG9uPmAgZWxlbWVudC4gQXMgcGVyIHRoZSBbTWF0ZXJpYWwgRGVzaWduIHNwZWNpZmljYXRpb25zXShodHRwOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvc3R5bGUvY29sb3IuaHRtbCNjb2xvci11aS1jb2xvci1hcHBsaWNhdGlvbilcbiAqIHRoZSBGQUIgYnV0dG9uIGJhY2tncm91bmQgaXMgZmlsbGVkIHdpdGggdGhlIGFjY2VudCBjb2xvciBbYnkgZGVmYXVsdF0uIFRoZSBwcmltYXJ5IGNvbG9yIHBhbGV0dGUgbWF5IGJlIHVzZWQgd2l0aFxuICogdGhlIGBtZC1wcmltYXJ5YCBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1pbmsgSWYgcHJlc2VudCwgZGlzYWJsZSByaXBwbGUgaW5rIGVmZmVjdHMuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZy1kaXNhYmxlZCBFbi9EaXNhYmxlIGJhc2VkIG9uIHRoZSBleHByZXNzaW9uXG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLXJpcHBsZS1zaXplIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCByaXBwbGUgc2l6ZSBsb2dpYy4gT3B0aW9uczogYGZ1bGxgLCBgcGFydGlhbGAsIGBhdXRvYFxuICogQHBhcmFtIHtzdHJpbmc9fSBhcmlhLWxhYmVsIEFkZHMgYWx0ZXJuYXRpdmUgdGV4dCB0byBidXR0b24gZm9yIGFjY2Vzc2liaWxpdHksIHVzZWZ1bCBmb3IgaWNvbiBidXR0b25zLlxuICogSWYgbm8gZGVmYXVsdCB0ZXh0IGlzIGZvdW5kLCBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQuXG4gKlxuICogQHVzYWdlXG4gKlxuICogUmVndWxhciBidXR0b25zOlxuICpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgPG1kLWJ1dHRvbj4gRmxhdCBCdXR0b24gPC9tZC1idXR0b24+XG4gKiAgPG1kLWJ1dHRvbiBocmVmPVwiaHR0cDovL2dvb2dsZS5jb21cIj4gRmxhdCBsaW5rIDwvbWQtYnV0dG9uPlxuICogIDxtZC1idXR0b24gY2xhc3M9XCJtZC1yYWlzZWRcIj4gUmFpc2VkIEJ1dHRvbiA8L21kLWJ1dHRvbj5cbiAqICA8bWQtYnV0dG9uIG5nLWRpc2FibGVkPVwidHJ1ZVwiPiBEaXNhYmxlZCBCdXR0b24gPC9tZC1idXR0b24+XG4gKiAgPG1kLWJ1dHRvbj5cbiAqICAgIDxtZC1pY29uIG1kLXN2Zy1zcmM9XCJ5b3VyL2ljb24uc3ZnXCI+PC9tZC1pY29uPlxuICogICAgUmVnaXN0ZXIgTm93XG4gKiAgPC9tZC1idXR0b24+XG4gKiA8L2hsanM+XG4gKlxuICogRkFCIGJ1dHRvbnM6XG4gKlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICA8bWQtYnV0dG9uIGNsYXNzPVwibWQtZmFiXCIgYXJpYS1sYWJlbD1cIkZBQlwiPlxuICogICAgPG1kLWljb24gbWQtc3ZnLXNyYz1cInlvdXIvaWNvbi5zdmdcIj48L21kLWljb24+XG4gKiAgPC9tZC1idXR0b24+XG4gKiAgPCEtLSBtaW5pLUZBQiAtLT5cbiAqICA8bWQtYnV0dG9uIGNsYXNzPVwibWQtZmFiIG1kLW1pbmlcIiBhcmlhLWxhYmVsPVwiTWluaSBGQUJcIj5cbiAqICAgIDxtZC1pY29uIG1kLXN2Zy1zcmM9XCJ5b3VyL2ljb24uc3ZnXCI+PC9tZC1pY29uPlxuICogIDwvbWQtYnV0dG9uPlxuICogIDwhLS0gQnV0dG9uIHdpdGggU1ZHIEljb24gLS0+XG4gKiAgPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLWljb24tYnV0dG9uXCIgYXJpYS1sYWJlbD1cIkN1c3RvbSBJY29uIEJ1dHRvblwiPlxuICogICAgPG1kLWljb24gbWQtc3ZnLWljb249XCJwYXRoL3RvL3lvdXIuc3ZnXCI+PC9tZC1pY29uPlxuICogIDwvbWQtYnV0dG9uPlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBNZEJ1dHRvbkRpcmVjdGl2ZSgkbWRCdXR0b25JbmtSaXBwbGUsICRtZFRoZW1pbmcsICRtZEFyaWEsICR0aW1lb3V0KSB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGU6IGdldFRlbXBsYXRlLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gaXNBbmNob3IoYXR0cikge1xuICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLmhyZWYpIHx8IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubmdIcmVmKSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm5nTGluaykgfHwgYW5ndWxhci5pc0RlZmluZWQoYXR0ci51aVNyZWYpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGVtcGxhdGUoZWxlbWVudCwgYXR0cikge1xuICAgIGlmIChpc0FuY2hvcihhdHRyKSkge1xuICAgICAgcmV0dXJuICc8YSBjbGFzcz1cIm1kLWJ1dHRvblwiIG5nLXRyYW5zY2x1ZGU+PC9hPic7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vSWYgYnV0dG9ucyBkb24ndCBoYXZlIHR5cGU9XCJidXR0b25cIiwgdGhleSB3aWxsIHN1Ym1pdCBmb3JtcyBhdXRvbWF0aWNhbGx5LlxuICAgICAgdmFyIGJ0blR5cGUgPSAodHlwZW9mIGF0dHIudHlwZSA9PT0gJ3VuZGVmaW5lZCcpID8gJ2J1dHRvbicgOiBhdHRyLnR5cGU7XG4gICAgICByZXR1cm4gJzxidXR0b24gY2xhc3M9XCJtZC1idXR0b25cIiB0eXBlPVwiJyArIGJ0blR5cGUgKyAnXCIgbmctdHJhbnNjbHVkZT48L2J1dHRvbj4nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgJG1kQnV0dG9uSW5rUmlwcGxlLmF0dGFjaChzY29wZSwgZWxlbWVudCk7XG5cbiAgICB2YXIgZWxlbWVudEhhc1RleHQgPSBub2RlLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICBpZiAoIWVsZW1lbnRIYXNUZXh0KSB7XG4gICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAnYXJpYS1sYWJlbCcpO1xuICAgIH1cblxuICAgIC8vIEZvciBhbmNob3IgZWxlbWVudHMsIHdlIGhhdmUgdG8gc2V0IHRhYmluZGV4IG1hbnVhbGx5IHdoZW4gdGhlXG4gICAgLy8gZWxlbWVudCBpcyBkaXNhYmxlZFxuICAgIGlmIChpc0FuY2hvcihhdHRyKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm5nRGlzYWJsZWQpICkge1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdEaXNhYmxlZCwgZnVuY3Rpb24oaXNEaXNhYmxlZCkge1xuICAgICAgICBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgaXNEaXNhYmxlZCA/IC0xIDogMCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxpbmcgY2xpY2sgZXZlbnQgd2hlbiBkaXNhYmxlZCBpcyB0cnVlXG4gICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgIGlmIChhdHRyLmRpc2FibGVkID09PSB0cnVlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHJlc3RyaWN0IGZvY3VzIHN0eWxlcyB0byB0aGUga2V5Ym9hcmRcbiAgICBzY29wZS5tb3VzZUFjdGl2ZSA9IGZhbHNlO1xuICAgIGVsZW1lbnQub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5tb3VzZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgc2NvcGUubW91c2VBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH0pXG4gICAgICAub24oJ2ZvY3VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzY29wZS5tb3VzZUFjdGl2ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1mb2N1c2VkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAub24oJ2JsdXInLCBmdW5jdGlvbihldikge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdtZC1mb2N1c2VkJyk7XG4gICAgICB9KTtcbiAgfVxuXG59XG5NZEJ1dHRvbkRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kQnV0dG9uSW5rUmlwcGxlXCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRtZEFyaWFcIiwgXCIkdGltZW91dFwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5jYXJkXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDYXJkIGNvbXBvbmVudHMuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNhcmQnLCBbXG4gICAgJ21hdGVyaWFsLmNvcmUnXG4gIF0pXG4gIC5kaXJlY3RpdmUoJ21kQ2FyZCcsIG1kQ2FyZERpcmVjdGl2ZSk7XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZENhcmRcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5jYXJkXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLWNhcmQ+YCBkaXJlY3RpdmUgaXMgYSBjb250YWluZXIgZWxlbWVudCB1c2VkIHdpdGhpbiBgPG1kLWNvbnRlbnQ+YCBjb250YWluZXJzLlxuICpcbiAqIEFuIGltYWdlIGluY2x1ZGVkIGFzIGEgZGlyZWN0IGRlc2NlbmRhbnQgd2lsbCBmaWxsIHRoZSBjYXJkJ3Mgd2lkdGgsIHdoaWxlIHRoZSBgPG1kLWNhcmQtY29udGVudD5gXG4gKiBjb250YWluZXIgd2lsbCB3cmFwIHRleHQgY29udGVudCBhbmQgcHJvdmlkZSBwYWRkaW5nLiBBbiBgPG1kLWNhcmQtZm9vdGVyPmAgZWxlbWVudCBjYW4gYmVcbiAqIG9wdGlvbmFsbHkgaW5jbHVkZWQgdG8gcHV0IGNvbnRlbnQgZmx1c2ggYWdhaW5zdCB0aGUgYm90dG9tIGVkZ2Ugb2YgdGhlIGNhcmQuXG4gKlxuICogQWN0aW9uIGJ1dHRvbnMgY2FuIGJlIGluY2x1ZGVkIGluIGFuIGA8bWQtY2FyZC1hY3Rpb25zPmAgZWxlbWVudCwgc2ltaWxhciB0byBgPG1kLWRpYWxvZy1hY3Rpb25zPmAuXG4gKiBZb3UgY2FuIHRoZW4gcG9zaXRpb24gYnV0dG9ucyB1c2luZyBsYXlvdXQgYXR0cmlidXRlcy5cbiAqXG4gKiBDYXJkIGlzIGJ1aWx0IHdpdGg6XG4gKiAqIGA8bWQtY2FyZC1oZWFkZXI+YCAtIEhlYWRlciBmb3IgdGhlIGNhcmQsIGhvbGRzIGF2YXRhciwgdGV4dCBhbmQgc3F1YXJlZCBpbWFnZVxuICogIC0gYDxtZC1jYXJkLWF2YXRhcj5gIC0gQ2FyZCBhdmF0YXJcbiAqICAgIC0gYG1kLXVzZXItYXZhdGFyYCAtIENsYXNzIGZvciB1c2VyIGltYWdlXG4gKiAgICAtIGA8bWQtaWNvbj5gXG4gKiAgLSBgPG1kLWNhcmQtaGVhZGVyLXRleHQ+YCAtIENvbnRhaW5zIGVsZW1lbnRzIGZvciB0aGUgY2FyZCBkZXNjcmlwdGlvblxuICogICAgLSBgbWQtdGl0bGVgIC0gQ2xhc3MgZm9yIHRoZSBjYXJkIHRpdGxlXG4gKiAgICAtIGBtZC1zdWJoZWFkYCAtIENsYXNzIGZvciB0aGUgY2FyZCBzdWIgaGVhZGVyXG4gKiAqIGA8aW1nPmAgLSBJbWFnZSBmb3IgdGhlIGNhcmRcbiAqICogYDxtZC1jYXJkLXRpdGxlPmAgLSBDYXJkIGNvbnRlbnQgdGl0bGVcbiAqICAtIGA8bWQtY2FyZC10aXRsZS10ZXh0PmBcbiAqICAgIC0gYG1kLWhlYWRsaW5lYCAtIENsYXNzIGZvciB0aGUgY2FyZCBjb250ZW50IHRpdGxlXG4gKiAgICAtIGBtZC1zdWJoZWFkYCAtIENsYXNzIGZvciB0aGUgY2FyZCBjb250ZW50IHN1YiBoZWFkZXJcbiAqICAtIGA8bWQtY2FyZC10aXRsZS1tZWRpYT5gIC0gU3F1YXJlZCBpbWFnZSB3aXRoaW4gdGhlIHRpdGxlXG4gKiAgICAtIGBtZC1tZWRpYS1zbWAgLSBDbGFzcyBmb3Igc21hbGwgaW1hZ2VcbiAqICAgIC0gYG1kLW1lZGlhLW1kYCAtIENsYXNzIGZvciBtZWRpdW0gaW1hZ2VcbiAqICAgIC0gYG1kLW1lZGlhLWxnYCAtIENsYXNzIGZvciBsYXJnZSBpbWFnZVxuICogKiBgPG1kLWNhcmQtY29udGVudD5gIC0gQ2FyZCBjb250ZW50XG4gKiAgLSBgbWQtbWVkaWEteGxgIC0gQ2xhc3MgZm9yIGV4dHJhIGxhcmdlIGltYWdlXG4gKiAqIGA8bWQtY2FyZC1hY3Rpb25zPmAgLSBDYXJkIGFjdGlvbnNcbiAqICAtIGA8bWQtY2FyZC1pY29uLWFjdGlvbnM+YCAtIEljb24gYWN0aW9uc1xuICpcbiAqIENhcmRzIGhhdmUgY29uc3RhbnQgd2lkdGggYW5kIHZhcmlhYmxlIGhlaWdodHM7IHdoZXJlIHRoZSBtYXhpbXVtIGhlaWdodCBpcyBsaW1pdGVkIHRvIHdoYXQgY2FuXG4gKiBmaXQgd2l0aGluIGEgc2luZ2xlIHZpZXcgb24gYSBwbGF0Zm9ybSwgYnV0IGl0IGNhbiB0ZW1wb3JhcmlseSBleHBhbmQgYXMgbmVlZGVkLlxuICpcbiAqIEB1c2FnZVxuICogIyMjIENhcmQgd2l0aCBvcHRpb25hbCBmb290ZXJcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtY2FyZD5cbiAqICA8aW1nIHNyYz1cImNhcmQtaW1hZ2UucG5nXCIgY2xhc3M9XCJtZC1jYXJkLWltYWdlXCIgYWx0PVwiaW1hZ2UgY2FwdGlvblwiPlxuICogIDxtZC1jYXJkLWNvbnRlbnQ+XG4gKiAgICA8aDI+Q2FyZCBoZWFkbGluZTwvaDI+XG4gKiAgICA8cD5DYXJkIGNvbnRlbnQ8L3A+XG4gKiAgPC9tZC1jYXJkLWNvbnRlbnQ+XG4gKiAgPG1kLWNhcmQtZm9vdGVyPlxuICogICAgQ2FyZCBmb290ZXJcbiAqICA8L21kLWNhcmQtZm9vdGVyPlxuICogPC9tZC1jYXJkPlxuICogPC9obGpzPlxuICpcbiAqICMjIyBDYXJkIHdpdGggYWN0aW9uc1xuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1jYXJkPlxuICogIDxpbWcgc3JjPVwiY2FyZC1pbWFnZS5wbmdcIiBjbGFzcz1cIm1kLWNhcmQtaW1hZ2VcIiBhbHQ9XCJpbWFnZSBjYXB0aW9uXCI+XG4gKiAgPG1kLWNhcmQtY29udGVudD5cbiAqICAgIDxoMj5DYXJkIGhlYWRsaW5lPC9oMj5cbiAqICAgIDxwPkNhcmQgY29udGVudDwvcD5cbiAqICA8L21kLWNhcmQtY29udGVudD5cbiAqICA8bWQtY2FyZC1hY3Rpb25zIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImVuZCBjZW50ZXJcIj5cbiAqICAgIDxtZC1idXR0b24+QWN0aW9uIDE8L21kLWJ1dHRvbj5cbiAqICAgIDxtZC1idXR0b24+QWN0aW9uIDI8L21kLWJ1dHRvbj5cbiAqICA8L21kLWNhcmQtYWN0aW9ucz5cbiAqIDwvbWQtY2FyZD5cbiAqIDwvaGxqcz5cbiAqXG4gKiAjIyMgQ2FyZCB3aXRoIGhlYWRlciwgaW1hZ2UsIHRpdGxlIGFjdGlvbnMgYW5kIGNvbnRlbnRcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtY2FyZD5cbiAqICAgPG1kLWNhcmQtaGVhZGVyPlxuICogICAgIDxtZC1jYXJkLWF2YXRhcj5cbiAqICAgICAgIDxpbWcgY2xhc3M9XCJtZC11c2VyLWF2YXRhclwiIHNyYz1cImF2YXRhci5wbmdcIi8+XG4gKiAgICAgPC9tZC1jYXJkLWF2YXRhcj5cbiAqICAgICA8bWQtY2FyZC1oZWFkZXItdGV4dD5cbiAqICAgICAgIDxzcGFuIGNsYXNzPVwibWQtdGl0bGVcIj5UaXRsZTwvc3Bhbj5cbiAqICAgICAgIDxzcGFuIGNsYXNzPVwibWQtc3ViaGVhZFwiPlN1YiBoZWFkZXI8L3NwYW4+XG4gKiAgICAgPC9tZC1jYXJkLWhlYWRlci10ZXh0PlxuICogICA8L21kLWNhcmQtaGVhZGVyPlxuICogICA8aW1nIG5nLXNyYz1cImNhcmQtaW1hZ2UucG5nXCIgY2xhc3M9XCJtZC1jYXJkLWltYWdlXCIgYWx0PVwiaW1hZ2UgY2FwdGlvblwiPlxuICogICA8bWQtY2FyZC10aXRsZT5cbiAqICAgICA8bWQtY2FyZC10aXRsZS10ZXh0PlxuICogICAgICAgPHNwYW4gY2xhc3M9XCJtZC1oZWFkbGluZVwiPkNhcmQgaGVhZGxpbmU8L3NwYW4+XG4gKiAgICAgICA8c3BhbiBjbGFzcz1cIm1kLXN1YmhlYWRcIj5DYXJkIHN1YmhlYWRlcjwvc3Bhbj5cbiAqICAgICA8L21kLWNhcmQtdGl0bGUtdGV4dD5cbiAqICAgPC9tZC1jYXJkLXRpdGxlPlxuICogICA8bWQtY2FyZC1hY3Rpb25zIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cInN0YXJ0IGNlbnRlclwiPlxuICogICAgIDxtZC1idXR0b24+QWN0aW9uIDE8L21kLWJ1dHRvbj5cbiAqICAgICA8bWQtYnV0dG9uPkFjdGlvbiAyPC9tZC1idXR0b24+XG4gKiAgICAgPG1kLWNhcmQtaWNvbi1hY3Rpb25zPlxuICogICAgICAgPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLWljb24tYnV0dG9uXCIgYXJpYS1sYWJlbD1cImljb25cIj5cbiAqICAgICAgICAgPG1kLWljb24gbWQtc3ZnLWljb249XCJpY29uXCI+PC9tZC1pY29uPlxuICogICAgICAgPC9tZC1idXR0b24+XG4gKiAgICAgPC9tZC1jYXJkLWljb24tYWN0aW9ucz5cbiAqICAgPC9tZC1jYXJkLWFjdGlvbnM+XG4gKiAgIDxtZC1jYXJkLWNvbnRlbnQ+XG4gKiAgICAgPHA+XG4gKiAgICAgIENhcmQgY29udGVudFxuICogICAgIDwvcD5cbiAqICAgPC9tZC1jYXJkLWNvbnRlbnQ+XG4gKiA8L21kLWNhcmQ+XG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIG1kQ2FyZERpcmVjdGl2ZSgkbWRUaGVtaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCkge1xuICAgICAgJG1kVGhlbWluZygkZWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubWRDYXJkRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmNoZWNrYm94XG4gKiBAZGVzY3JpcHRpb24gQ2hlY2tib3ggbW9kdWxlIVxuICovXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hlY2tib3gnLCBbJ21hdGVyaWFsLmNvcmUnXSlcbiAgLmRpcmVjdGl2ZSgnbWRDaGVja2JveCcsIE1kQ2hlY2tib3hEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kQ2hlY2tib3hcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5jaGVja2JveFxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBjaGVja2JveCBkaXJlY3RpdmUgaXMgdXNlZCBsaWtlIHRoZSBub3JtYWwgW2FuZ3VsYXIgY2hlY2tib3hdKGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy9pbnB1dC9pbnB1dCU1QmNoZWNrYm94JTVEKS5cbiAqXG4gKiBBcyBwZXIgdGhlIFttYXRlcmlhbCBkZXNpZ24gc3BlY10oaHR0cDovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL3N0eWxlL2NvbG9yLmh0bWwjY29sb3ItdWktY29sb3ItYXBwbGljYXRpb24pXG4gKiB0aGUgY2hlY2tib3ggaXMgaW4gdGhlIGFjY2VudCBjb2xvciBieSBkZWZhdWx0LiBUaGUgcHJpbWFyeSBjb2xvciBwYWxldHRlIG1heSBiZSB1c2VkIHdpdGhcbiAqIHRoZSBgbWQtcHJpbWFyeWAgY2xhc3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nLW1vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nLXRydWUtdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nLWZhbHNlLXZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gbm90IHNlbGVjdGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZy1jaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlciBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtbm8taW5rIFVzZSBvZiBhdHRyaWJ1dGUgaW5kaWNhdGVzIHVzZSBvZiByaXBwbGUgaW5rIGVmZmVjdHNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXJpYS1sYWJlbCBBZGRzIGxhYmVsIHRvIGNoZWNrYm94IGZvciBhY2Nlc3NpYmlsaXR5LlxuICogRGVmYXVsdHMgdG8gY2hlY2tib3gncyB0ZXh0LiBJZiBubyBkZWZhdWx0IHRleHQgaXMgZm91bmQsIGEgd2FybmluZyB3aWxsIGJlIGxvZ2dlZC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtY2hlY2tib3ggbmctbW9kZWw9XCJpc0NoZWNrZWRcIiBhcmlhLWxhYmVsPVwiRmluaXNoZWQ/XCI+XG4gKiAgIEZpbmlzaGVkID9cbiAqIDwvbWQtY2hlY2tib3g+XG4gKlxuICogPG1kLWNoZWNrYm94IG1kLW5vLWluayBuZy1tb2RlbD1cImhhc0lua1wiIGFyaWEtbGFiZWw9XCJObyBJbmsgRWZmZWN0c1wiPlxuICogICBObyBJbmsgRWZmZWN0c1xuICogPC9tZC1jaGVja2JveD5cbiAqXG4gKiA8bWQtY2hlY2tib3ggbmctZGlzYWJsZWQ9XCJ0cnVlXCIgbmctbW9kZWw9XCJpc0Rpc2FibGVkXCIgYXJpYS1sYWJlbD1cIkRpc2FibGVkXCI+XG4gKiAgIERpc2FibGVkXG4gKiA8L21kLWNoZWNrYm94PlxuICpcbiAqIDwvaGxqcz5cbiAqXG4gKi9cbmZ1bmN0aW9uIE1kQ2hlY2tib3hEaXJlY3RpdmUoaW5wdXREaXJlY3RpdmUsICRtZEFyaWEsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nLCAkbWRVdGlsLCAkdGltZW91dCkge1xuICBpbnB1dERpcmVjdGl2ZSA9IGlucHV0RGlyZWN0aXZlWzBdO1xuICB2YXIgQ0hFQ0tFRF9DU1MgPSAnbWQtY2hlY2tlZCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBwcmlvcml0eTogMjEwLCAvLyBSdW4gYmVmb3JlIG5nQXJpYVxuICAgIHRlbXBsYXRlOiBcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtY29udGFpbmVyXCIgbWQtaW5rLXJpcHBsZSBtZC1pbmstcmlwcGxlLWNoZWNrYm94PicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWljb25cIj48L2Rpdj4nICtcbiAgICAgICc8L2Rpdj4nICtcbiAgICAgICc8ZGl2IG5nLXRyYW5zY2x1ZGUgY2xhc3M9XCJtZC1sYWJlbFwiPjwvZGl2PicsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy8gUHJpdmF0ZSBNZXRob2RzXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBmdW5jdGlvbiBjb21waWxlICh0RWxlbWVudCwgdEF0dHJzKSB7XG5cbiAgICB0QXR0cnMudHlwZSA9ICdjaGVja2JveCc7XG4gICAgdEF0dHJzLnRhYmluZGV4ID0gdEF0dHJzLnRhYmluZGV4IHx8ICcwJztcbiAgICB0RWxlbWVudC5hdHRyKCdyb2xlJywgdEF0dHJzLnR5cGUpO1xuXG4gICAgLy8gQXR0YWNoIGEgY2xpY2sgaGFuZGxlciBpbiBjb21waWxlIGluIG9yZGVyIHRvIGltbWVkaWF0ZWx5IHN0b3AgcHJvcGFnYXRpb25cbiAgICAvLyAoZXNwZWNpYWxseSBmb3IgbmctY2xpY2spIHdoZW4gdGhlIGNoZWNrYm94IGlzIGRpc2FibGVkLlxuICAgIHRFbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIG5nTW9kZWxDdHJsKSB7XG4gICAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsIHx8ICRtZFV0aWwuZmFrZU5nTW9kZWwoKTtcbiAgICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG5cbiAgICAgIGlmIChhdHRyLm5nQ2hlY2tlZCkge1xuICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICBzY29wZS4kZXZhbC5iaW5kKHNjb3BlLCBhdHRyLm5nQ2hlY2tlZCksXG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlLmJpbmQobmdNb2RlbEN0cmwpXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgICQkd2F0Y2hFeHByKCduZ0Rpc2FibGVkJywgJ3RhYmluZGV4Jywge1xuICAgICAgICB0cnVlOiAnLTEnLFxuICAgICAgICBmYWxzZTogYXR0ci50YWJpbmRleFxuICAgICAgfSk7XG5cbiAgICAgICRtZEFyaWEuZXhwZWN0V2l0aFRleHQoZWxlbWVudCwgJ2FyaWEtbGFiZWwnKTtcblxuICAgICAgLy8gUmV1c2UgdGhlIG9yaWdpbmFsIGlucHV0W3R5cGU9Y2hlY2tib3hdIGRpcmVjdGl2ZSBmcm9tIEFuZ3VsYXIgY29yZS5cbiAgICAgIC8vIFRoaXMgaXMgYSBiaXQgaGFja3kgYXMgd2UgbmVlZCBvdXIgb3duIGV2ZW50IGxpc3RlbmVyIGFuZCBvd24gcmVuZGVyXG4gICAgICAvLyBmdW5jdGlvbi5cbiAgICAgIGlucHV0RGlyZWN0aXZlLmxpbmsucHJlKHNjb3BlLCB7XG4gICAgICAgIG9uOiBhbmd1bGFyLm5vb3AsXG4gICAgICAgIDA6IHt9XG4gICAgICB9LCBhdHRyLCBbbmdNb2RlbEN0cmxdKTtcblxuICAgICAgc2NvcGUubW91c2VBY3RpdmUgPSBmYWxzZTtcbiAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgbGlzdGVuZXIpXG4gICAgICAgIC5vbigna2V5cHJlc3MnLCBrZXlwcmVzc0hhbmRsZXIpXG4gICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUubW91c2VBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUubW91c2VBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9KVxuICAgICAgICAub24oJ2ZvY3VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHNjb3BlLm1vdXNlQWN0aXZlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnbWQtZm9jdXNlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtZm9jdXNlZCcpO1xuICAgICAgICB9KTtcblxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHJlbmRlcjtcblxuICAgICAgZnVuY3Rpb24gJCR3YXRjaEV4cHIoZXhwciwgaHRtbEF0dHIsIHZhbHVlT3B0cykge1xuICAgICAgICBpZiAoYXR0cltleHByXSkge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRyW2V4cHJdLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZU9wdHNbdmFsXSkge1xuICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoaHRtbEF0dHIsIHZhbHVlT3B0c1t2YWxdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBrZXlwcmVzc0hhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIGtleUNvZGUgPSBldi53aGljaCB8fCBldi5rZXlDb2RlO1xuICAgICAgICBpZiAoa2V5Q29kZSA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuU1BBQ0UgfHwga2V5Q29kZSA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuRU5URVIpIHtcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzKCdtZC1mb2N1c2VkJykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWZvY3VzZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcihldik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGxpc3RlbmVyKGV2KSB7XG4gICAgICAgIGlmIChlbGVtZW50WzBdLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBUb2dnbGUgdGhlIGNoZWNrYm94IHZhbHVlLi4uXG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IGF0dHIubmdDaGVja2VkID8gYXR0ci5jaGVja2VkIDogIW5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG5cbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCB2aWV3VmFsdWUsIGV2ICYmIGV2LnR5cGUpO1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgaWYobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoQ0hFQ0tFRF9DU1MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoQ0hFQ0tFRF9DU1MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuTWRDaGVja2JveERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiaW5wdXREaXJlY3RpdmVcIiwgXCIkbWRBcmlhXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJG1kVXRpbFwiLCBcIiR0aW1lb3V0XCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmNoaXBzXG4gKi9cbi8qXG4gKiBAc2VlIGpzIGZvbGRlciBmb3IgY2hpcHMgaW1wbGVtZW50YXRpb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHMnLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJ1xuXSk7XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuY29udGVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2Nyb2xsYWJsZSBjb250ZW50XG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnQnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRDb250ZW50JywgbWRDb250ZW50RGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZENvbnRlbnRcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5jb250ZW50XG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLWNvbnRlbnQ+YCBkaXJlY3RpdmUgaXMgYSBjb250YWluZXIgZWxlbWVudCB1c2VmdWwgZm9yIHNjcm9sbGFibGUgY29udGVudFxuICpcbiAqIEB1c2FnZVxuICpcbiAqIC0gQWRkIHRoZSBgW2xheW91dC1wYWRkaW5nXWAgYXR0cmlidXRlIHRvIG1ha2UgdGhlIGNvbnRlbnQgcGFkZGVkLlxuICpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgPG1kLWNvbnRlbnQgbGF5b3V0LXBhZGRpbmc+XG4gKiAgICAgIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBuZSBxdW9kIG5vdnVtIG1laS5cbiAqICA8L21kLWNvbnRlbnQ+XG4gKiA8L2hsanM+XG4gKlxuICovXG5cbmZ1bmN0aW9uIG1kQ29udGVudERpcmVjdGl2ZSgkbWRUaGVtaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckZWxlbWVudCcsIENvbnRlbnRDb250cm9sbGVyXSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuXG4gICAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnJG1kQ29udGVudExvYWRlZCcsIGVsZW1lbnQpO1xuXG4gICAgICBpb3NTY3JvbGxGaXgoZWxlbWVudFswXSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIENvbnRlbnRDb250cm9sbGVyKCRzY29wZSwgJGVsZW1lbnQpIHtcbiAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcbiAgICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gIH1cbn1cbm1kQ29udGVudERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiXTtcblxuZnVuY3Rpb24gaW9zU2Nyb2xsRml4KG5vZGUpIHtcbiAgLy8gSU9TIEZJWDpcbiAgLy8gSWYgd2Ugc2Nyb2xsIHdoZXJlIHRoZXJlIGlzIG5vIG1vcmUgcm9vbSBmb3IgdGhlIHdlYnZpZXcgdG8gc2Nyb2xsLFxuICAvLyBieSBkZWZhdWx0IHRoZSB3ZWJ2aWV3IGl0c2VsZiB3aWxsIHNjcm9sbCB1cCBhbmQgZG93biwgdGhpcyBsb29rcyByZWFsbHlcbiAgLy8gYmFkLiAgU28gaWYgd2UgYXJlIHNjcm9sbGluZyB0byB0aGUgdmVyeSB0b3Agb3IgYm90dG9tLCBhZGQvc3VidHJhY3Qgb25lXG4gIGFuZ3VsYXIuZWxlbWVudChub2RlKS5vbignJG1kLnByZXNzZG93bicsIGZ1bmN0aW9uKGV2KSB7XG4gICAgLy8gT25seSB0b3VjaCBldmVudHNcbiAgICBpZiAoZXYucG9pbnRlci50eXBlICE9PSAndCcpIHJldHVybjtcbiAgICAvLyBEb24ndCBsZXQgYSBjaGlsZCBjb250ZW50J3MgdG91Y2hzdGFydCBydWluIGl0IGZvciB1cy5cbiAgICBpZiAoZXYuJG1hdGVyaWFsU2Nyb2xsRml4ZWQpIHJldHVybjtcbiAgICBldi4kbWF0ZXJpYWxTY3JvbGxGaXhlZCA9IHRydWU7XG5cbiAgICBpZiAobm9kZS5zY3JvbGxUb3AgPT09IDApIHtcbiAgICAgIG5vZGUuc2Nyb2xsVG9wID0gMTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuc2Nyb2xsSGVpZ2h0ID09PSBub2RlLnNjcm9sbFRvcCArIG5vZGUub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICBub2RlLnNjcm9sbFRvcCAtPSAxO1xuICAgIH1cbiAgfSk7XG59XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIG1vZHVsZVxuICAgKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmRhdGVwaWNrZXJcbiAgICogQGRlc2NyaXB0aW9uIERhdGVwaWNrZXJcbiAgICovXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmRhdGVwaWNrZXInLCBbXG4gICAgJ21hdGVyaWFsLmNvcmUnLFxuICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmljb24nLFxuICAgICdtYXRlcmlhbC5jb21wb25lbnRzLnZpcnR1YWxSZXBlYXQnXG4gIF0pLmRpcmVjdGl2ZSgnbWRDYWxlbmRhcicsIGNhbGVuZGFyRGlyZWN0aXZlKTtcblxuXG4gIC8vIFBPU1QgUkVMRUFTRVxuICAvLyBUT0RPKGplbGJvdXJuKTogTWFjIENtZCArIGxlZnQgLyByaWdodCA9PSBIb21lIC8gRW5kXG4gIC8vIFRPRE8oamVsYm91cm4pOiBDbGlja2luZyBvbiB0aGUgbW9udGggbGFiZWwgb3BlbnMgdGhlIG1vbnRoLXBpY2tlci5cbiAgLy8gVE9ETyhqZWxib3Vybik6IE1pbmltdW0gYW5kIG1heGltdW0gZGF0ZVxuICAvLyBUT0RPKGplbGJvdXJuKTogUmVmYWN0b3IgbW9udGggZWxlbWVudCBjcmVhdGlvbiB0byB1c2UgY2xvbmVOb2RlIChwZXJmb3JtYW5jZSkuXG4gIC8vIFRPRE8oamVsYm91cm4pOiBEZWZpbmUgdmlydHVhbCBzY3JvbGxpbmcgY29uc3RhbnRzIChjb21wYWN0bmVzcykgdXNlcnMgY2FuIG92ZXJyaWRlLlxuICAvLyBUT0RPKGplbGJvdXJuKTogQW5pbWF0ZWQgbW9udGggdHJhbnNpdGlvbiBvbiBuZy1tb2RlbCBjaGFuZ2UgKHZpcnR1YWwtcmVwZWF0KVxuICAvLyBUT0RPKGplbGJvdXJuKTogU2Nyb2xsIHNuYXBwaW5nICh2aXJ0dWFsIHJlcGVhdClcbiAgLy8gVE9ETyhqZWxib3Vybik6IFJlbW92ZSBzdXBlcmZsdW91cyByb3cgZnJvbSBzaG9ydCBtb250aHMgKHZpcnR1YWwtcmVwZWF0KVxuICAvLyBUT0RPKGplbGJvdXJuKTogTW9udGggaGVhZGVycyBzdGljayB0byB0b3Agd2hlbiBzY3JvbGxpbmcuXG4gIC8vIFRPRE8oamVsYm91cm4pOiBQcmV2aW91cyBtb250aCBvcGFjaXR5IGlzIGxvd2VyZWQgd2hlbiBwYXJ0aWFsbHkgc2Nyb2xsZWQgb3V0IG9mIHZpZXcuXG4gIC8vIFRPRE8oamVsYm91cm4pOiBTdXBwb3J0IG1kLWNhbGVuZGFyIHN0YW5kYWxvbmUgb24gYSBwYWdlIChhcyBhIHRhYnN0b3Agdy8gYXJpYS1saXZlXG4gIC8vICAgICBhbm5vdW5jZW1lbnQgYW5kIGtleSBoYW5kbGluZykuXG4gIC8vIFJlYWQtb25seSBjYWxlbmRhciAobm90IGp1c3QgZGF0ZS1waWNrZXIpLlxuXG4gIC8qKlxuICAgKiBIZWlnaHQgb2Ygb25lIGNhbGVuZGFyIG1vbnRoIHRib2R5LiBUaGlzIG11c3QgYmUgbWFkZSBrbm93biB0byB0aGUgdmlydHVhbC1yZXBlYXQgYW5kIGlzXG4gICAqIHN1YnNlcXVlbnRseSB1c2VkIGZvciBzY3JvbGxpbmcgdG8gc3BlY2lmaWMgbW9udGhzLlxuICAgKi9cbiAgdmFyIFRCT0RZX0hFSUdIVCA9IDI2NTtcblxuICAvKipcbiAgICogSGVpZ2h0IG9mIGEgY2FsZW5kYXIgbW9udGggd2l0aCBhIHNpbmdsZSByb3cuIFRoaXMgaXMgbmVlZGVkIHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0IGZvclxuICAgKiByZW5kZXJpbmcgYW4gZXh0cmEgbW9udGggaW4gdmlydHVhbC1yZXBlYXQgdGhhdCBvbmx5IGNvbnRhaW5zIG9uZSByb3cuXG4gICAqL1xuICB2YXIgVEJPRFlfU0lOR0xFX1JPV19IRUlHSFQgPSA0NTtcblxuICBmdW5jdGlvbiBjYWxlbmRhckRpcmVjdGl2ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGVtcGxhdGU6XG4gICAgICAgICAgJzx0YWJsZSBhcmlhLWhpZGRlbj1cInRydWVcIiBjbGFzcz1cIm1kLWNhbGVuZGFyLWRheS1oZWFkZXJcIj48dGhlYWQ+PC90aGVhZD48L3RhYmxlPicgK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtY2FsZW5kYXItc2Nyb2xsLW1hc2tcIj4nICtcbiAgICAgICAgICAnPG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWNhbGVuZGFyLXNjcm9sbC1jb250YWluZXJcIiAnICtcbiAgICAgICAgICAgICAgICAnbWQtb2Zmc2V0LXNpemU9XCInICsgKFRCT0RZX1NJTkdMRV9ST1dfSEVJR0hUIC0gVEJPRFlfSEVJR0hUKSArICdcIj4nICtcbiAgICAgICAgICAgICAgJzx0YWJsZSByb2xlPVwiZ3JpZFwiIHRhYmluZGV4PVwiMFwiIGNsYXNzPVwibWQtY2FsZW5kYXJcIiBhcmlhLXJlYWRvbmx5PVwidHJ1ZVwiPicgK1xuICAgICAgICAgICAgICAgICc8dGJvZHkgcm9sZT1cInJvd2dyb3VwXCIgbWQtdmlydHVhbC1yZXBlYXQ9XCJpIGluIGN0cmwuaXRlbXNcIiBtZC1jYWxlbmRhci1tb250aCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ21kLW1vbnRoLW9mZnNldD1cIiRpbmRleFwiIGNsYXNzPVwibWQtY2FsZW5kYXItbW9udGhcIiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ21kLXN0YXJ0LWluZGV4PVwiY3RybC5nZXRTZWxlY3RlZE1vbnRoSW5kZXgoKVwiICcgK1xuICAgICAgICAgICAgICAgICAgICAnbWQtaXRlbS1zaXplPVwiJyArIFRCT0RZX0hFSUdIVCArICdcIj48L3Rib2R5PicgK1xuICAgICAgICAgICAgICAnPC90YWJsZT4nICtcbiAgICAgICAgICAgICc8L21kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lcj4nICtcbiAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG1pbkRhdGU6ICc9bWRNaW5EYXRlJyxcbiAgICAgICAgbWF4RGF0ZTogJz1tZE1heERhdGUnLFxuICAgICAgICBkYXRlRmlsdGVyOiAnPW1kRGF0ZUZpbHRlcicsXG4gICAgICB9LFxuICAgICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ21kQ2FsZW5kYXInXSxcbiAgICAgIGNvbnRyb2xsZXI6IENhbGVuZGFyQ3RybCxcbiAgICAgIGNvbnRyb2xsZXJBczogJ2N0cmwnLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMpIHtcbiAgICAgICAgdmFyIG5nTW9kZWxDdHJsID0gY29udHJvbGxlcnNbMF07XG4gICAgICAgIHZhciBtZENhbGVuZGFyQ3RybCA9IGNvbnRyb2xsZXJzWzFdO1xuICAgICAgICBtZENhbGVuZGFyQ3RybC5jb25maWd1cmVOZ01vZGVsKG5nTW9kZWxDdHJsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqIENsYXNzIGFwcGxpZWQgdG8gdGhlIHNlbGVjdGVkIGRhdGUgY2VsbC8uICovXG4gIHZhciBTRUxFQ1RFRF9EQVRFX0NMQVNTID0gJ21kLWNhbGVuZGFyLXNlbGVjdGVkLWRhdGUnO1xuXG4gIC8qKiBDbGFzcyBhcHBsaWVkIHRvIHRoZSBmb2N1c2VkIGRhdGUgY2VsbC8uICovXG4gIHZhciBGT0NVU0VEX0RBVEVfQ0xBU1MgPSAnbWQtZm9jdXMnO1xuXG4gIC8qKiBOZXh0IGlkZW50aWZpZXIgZm9yIGNhbGVuZGFyIGluc3RhbmNlLiAqL1xuICB2YXIgbmV4dFVuaXF1ZUlkID0gMDtcblxuICAvKiogVGhlIGZpcnN0IHJlbmRlcmFibGUgZGF0ZSBpbiB0aGUgdmlydHVhbC1zY3JvbGxpbmcgY2FsZW5kYXIgKGZvciBhbGwgaW5zdGFuY2VzKS4gKi9cbiAgdmFyIGZpcnN0UmVuZGVyYWJsZURhdGUgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBDb250cm9sbGVyIGZvciB0aGUgbWRDYWxlbmRhciBjb21wb25lbnQuXG4gICAqIEBuZ0luamVjdCBAY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIENhbGVuZGFyQ3RybCgkZWxlbWVudCwgJGF0dHJzLCAkc2NvcGUsICRhbmltYXRlLCAkcSwgJG1kQ29uc3RhbnQsXG4gICAgICAkbWRUaGVtaW5nLCAkJG1kRGF0ZVV0aWwsICRtZERhdGVMb2NhbGUsICRtZElua1JpcHBsZSwgJG1kVXRpbCkge1xuICAgICRtZFRoZW1pbmcoJGVsZW1lbnQpO1xuICAgIC8qKlxuICAgICAqIER1bW15IGFycmF5LWxpa2Ugb2JqZWN0IGZvciB2aXJ0dWFsLXJlcGVhdCB0byBpdGVyYXRlIG92ZXIuIFRoZSBsZW5ndGggaXMgdGhlIHRvdGFsXG4gICAgICogbnVtYmVyIG9mIG1vbnRocyB0aGF0IGNhbiBiZSB2aWV3ZWQuIFRoaXMgaXMgc2hvcnRlciB0aGFuIGlkZWFsIGJlY2F1c2Ugb2YgKHBvdGVudGlhbClcbiAgICAgKiBGaXJlZm94IGJ1ZyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMTgxNjU4LlxuICAgICAqL1xuICAgIHRoaXMuaXRlbXMgPSB7bGVuZ3RoOiAyMDAwfTtcblxuICAgIGlmICh0aGlzLm1heERhdGUgJiYgdGhpcy5taW5EYXRlKSB7XG4gICAgICAvLyBMaW1pdCB0aGUgbnVtYmVyIG9mIG1vbnRocyBpZiBtaW4gYW5kIG1heCBkYXRlcyBhcmUgc2V0LlxuICAgICAgdmFyIG51bU1vbnRocyA9ICQkbWREYXRlVXRpbC5nZXRNb250aERpc3RhbmNlKHRoaXMubWluRGF0ZSwgdGhpcy5tYXhEYXRlKSArIDE7XG4gICAgICBudW1Nb250aHMgPSBNYXRoLm1heChudW1Nb250aHMsIDEpO1xuICAgICAgLy8gQWRkIGFuIGFkZGl0aW9uYWwgbW9udGggYXMgdGhlIGZpbmFsIGR1bW15IG1vbnRoIGZvciByZW5kZXJpbmcgcHVycG9zZXMuXG4gICAgICBudW1Nb250aHMgKz0gMTtcbiAgICAgIHRoaXMuaXRlbXMubGVuZ3RoID0gbnVtTW9udGhzO1xuICAgIH1cblxuICAgIC8qKiBAZmluYWwgeyFhbmd1bGFyLiRhbmltYXRlfSAqL1xuICAgIHRoaXMuJGFuaW1hdGUgPSAkYW5pbWF0ZTtcblxuICAgIC8qKiBAZmluYWwgeyFhbmd1bGFyLiRxfSAqL1xuICAgIHRoaXMuJHEgPSAkcTtcblxuICAgIC8qKiBAZmluYWwgKi9cbiAgICB0aGlzLiRtZElua1JpcHBsZSA9ICRtZElua1JpcHBsZTtcblxuICAgIC8qKiBAZmluYWwgKi9cbiAgICB0aGlzLiRtZFV0aWwgPSAkbWRVdGlsO1xuXG4gICAgLyoqIEBmaW5hbCAqL1xuICAgIHRoaXMua2V5Q29kZSA9ICRtZENvbnN0YW50LktFWV9DT0RFO1xuXG4gICAgLyoqIEBmaW5hbCAqL1xuICAgIHRoaXMuZGF0ZVV0aWwgPSAkJG1kRGF0ZVV0aWw7XG5cbiAgICAvKiogQGZpbmFsICovXG4gICAgdGhpcy5kYXRlTG9jYWxlID0gJG1kRGF0ZUxvY2FsZTtcblxuICAgIC8qKiBAZmluYWwgeyFhbmd1bGFyLkpRTGl0ZX0gKi9cbiAgICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG5cbiAgICAvKiogQGZpbmFsIHshYW5ndWxhci5TY29wZX0gKi9cbiAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcblxuICAgIC8qKiBAZmluYWwge0hUTUxFbGVtZW50fSAqL1xuICAgIHRoaXMuY2FsZW5kYXJFbGVtZW50ID0gJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLWNhbGVuZGFyJyk7XG5cbiAgICAvKiogQGZpbmFsIHtIVE1MRWxlbWVudH0gKi9cbiAgICB0aGlzLmNhbGVuZGFyU2Nyb2xsZXIgPSAkZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtdmlydHVhbC1yZXBlYXQtc2Nyb2xsZXInKTtcblxuICAgIC8qKiBAZmluYWwge0RhdGV9ICovXG4gICAgdGhpcy50b2RheSA9IHRoaXMuZGF0ZVV0aWwuY3JlYXRlRGF0ZUF0TWlkbmlnaHQoKTtcblxuICAgIC8qKiBAdHlwZSB7RGF0ZX0gKi9cbiAgICB0aGlzLmZpcnN0UmVuZGVyYWJsZURhdGUgPSB0aGlzLmRhdGVVdGlsLmluY3JlbWVudE1vbnRocyh0aGlzLnRvZGF5LCAtdGhpcy5pdGVtcy5sZW5ndGggLyAyKTtcblxuICAgIGlmICh0aGlzLm1pbkRhdGUgJiYgdGhpcy5taW5EYXRlID4gdGhpcy5maXJzdFJlbmRlcmFibGVEYXRlKSB7XG4gICAgICB0aGlzLmZpcnN0UmVuZGVyYWJsZURhdGUgPSB0aGlzLm1pbkRhdGU7XG4gICAgfSBlbHNlIGlmICh0aGlzLm1heERhdGUpIHtcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBzdGFydCBkYXRlIGFuZCBtYXggZGF0ZS5cbiAgICAgIC8vIFN1YnRyYWN0IDEgYmVjYXVzZSBpdCdzIGFuIGluY2x1c2l2ZSBkaWZmZXJlbmNlIGFuZCAxIGZvciB0aGUgZmluYWwgZHVtbXkgbW9udGguXG4gICAgICAvL1xuICAgICAgdmFyIG1vbnRoRGlmZmVyZW5jZSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMjtcbiAgICAgIHRoaXMuZmlyc3RSZW5kZXJhYmxlRGF0ZSA9IHRoaXMuZGF0ZVV0aWwuaW5jcmVtZW50TW9udGhzKHRoaXMubWF4RGF0ZSwgLSh0aGlzLml0ZW1zLmxlbmd0aCAtIDIpKTtcbiAgICB9XG5cblxuICAgIC8qKiBAZmluYWwge251bWJlcn0gVW5pcXVlIElEIGZvciB0aGlzIGNhbGVuZGFyIGluc3RhbmNlLiAqL1xuICAgIHRoaXMuaWQgPSBuZXh0VW5pcXVlSWQrKztcblxuICAgIC8qKiBAdHlwZSB7IWFuZ3VsYXIuTmdNb2RlbENvbnRyb2xsZXJ9ICovXG4gICAgdGhpcy5uZ01vZGVsQ3RybCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VsZWN0ZWQgZGF0ZS4gS2VlcCB0cmFjayBvZiB0aGlzIHNlcGFyYXRlbHkgZnJvbSB0aGUgbmctbW9kZWwgdmFsdWUgc28gdGhhdCB3ZVxuICAgICAqIGNhbiBrbm93LCB3aGVuIHRoZSBuZy1tb2RlbCB2YWx1ZSBjaGFuZ2VzLCB3aGF0IHRoZSBwcmV2aW91cyB2YWx1ZSB3YXMgYmVmb3JlIGl0cyB1cGRhdGVkXG4gICAgICogaW4gdGhlIGNvbXBvbmVudCdzIFVJLlxuICAgICAqXG4gICAgICogQHR5cGUge0RhdGV9XG4gICAgICovXG4gICAgdGhpcy5zZWxlY3RlZERhdGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGUgdGhhdCBpcyBjdXJyZW50bHkgZm9jdXNlZCBvciBzaG93aW5nIGluIHRoZSBjYWxlbmRhci4gVGhpcyB3aWxsIGluaXRpYWxseSBiZSBzZXRcbiAgICAgKiB0byB0aGUgbmctbW9kZWwgdmFsdWUgaWYgc2V0LCBvdGhlcndpc2UgdG8gdG9kYXkuIEl0IHdpbGwgYmUgdXBkYXRlZCBhcyB0aGUgdXNlciBuYXZpZ2F0ZXNcbiAgICAgKiB0byBvdGhlciBtb250aHMuIFRoZSBjZWxsIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGRpc3BsYXlEYXRlIGRvZXMgbm90IG5lY2VzYXJpbHkgYWx3YXlzIGhhdmVcbiAgICAgKiBmb2N1cyBpbiB0aGUgZG9jdW1lbnQgKHN1Y2ggYXMgZm9yIGNhc2VzIHdoZW4gdGhlIHVzZXIgaXMgc2Nyb2xsaW5nIHRoZSBjYWxlbmRhcikuXG4gICAgICogQHR5cGUge0RhdGV9XG4gICAgICovXG4gICAgdGhpcy5kaXNwbGF5RGF0ZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGF0ZSB0aGF0IGhhcyBvciBzaG91bGQgaGF2ZSBmb2N1cy5cbiAgICAgKiBAdHlwZSB7RGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmZvY3VzRGF0ZSA9IG51bGw7XG5cbiAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc01vbnRoVHJhbnNpdGlvbkluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgIC8vIFVubGVzcyB0aGUgdXNlciBzcGVjaWZpZXMgc28sIHRoZSBjYWxlbmRhciBzaG91bGQgbm90IGJlIGEgdGFiIHN0b3AuXG4gICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBuZ0FyaWEgbWlnaHQgYWRkIGEgdGFiaW5kZXggdG8gYW55dGhpbmcgd2l0aCBhbiBuZy1tb2RlbFxuICAgIC8vIChiYXNlZCBvbiB3aGV0aGVyIG9yIG5vdCB0aGUgdXNlciBoYXMgdHVybmVkIHRoYXQgcGFydGljdWxhciBmZWF0dXJlIG9uL29mZikuXG4gICAgaWYgKCEkYXR0cnNbJ3RhYmluZGV4J10pIHtcbiAgICAgICRlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGNsaWNrIGV2ZW50IG9uIGEgZGF0ZSBjZWxsLlxuICAgICAqIENyZWF0ZWQgaGVyZSBzbyB0aGF0IGV2ZXJ5IGNlbGwgY2FuIHVzZSB0aGUgc2FtZSBmdW5jdGlvbiBpbnN0YW5jZS5cbiAgICAgKiBAdGhpcyB7SFRNTFRhYmxlQ2VsbEVsZW1lbnR9IFRoZSBjZWxsIHRoYXQgd2FzIGNsaWNrZWQuXG4gICAgICovXG4gICAgdGhpcy5jZWxsQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2VsbEVsZW1lbnQgPSB0aGlzO1xuICAgICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKCdkYXRhLXRpbWVzdGFtcCcpKSB7XG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHRpbWVzdGFtcCA9IE51bWJlcihjZWxsRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGltZXN0YW1wJykpO1xuICAgICAgICAgIHNlbGYuc2V0TmdNb2RlbFZhbHVlKHNlbGYuZGF0ZVV0aWwuY3JlYXRlRGF0ZUF0TWlkbmlnaHQodGltZXN0YW1wKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmF0dGFjaENhbGVuZGFyRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuICBDYWxlbmRhckN0cmwuJGluamVjdCA9IFtcIiRlbGVtZW50XCIsIFwiJGF0dHJzXCIsIFwiJHNjb3BlXCIsIFwiJGFuaW1hdGVcIiwgXCIkcVwiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kVGhlbWluZ1wiLCBcIiQkbWREYXRlVXRpbFwiLCBcIiRtZERhdGVMb2NhbGVcIiwgXCIkbWRJbmtSaXBwbGVcIiwgXCIkbWRVdGlsXCJdO1xuXG5cbiAgLyoqKiBJbml0aWFsaXphdGlvbiAqKiovXG5cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhlIGNvbnRyb2xsZXIncyByZWZlcmVuY2UgdG8gbmdNb2RlbENvbnRyb2xsZXIuXG4gICAqIEBwYXJhbSB7IWFuZ3VsYXIuTmdNb2RlbENvbnRyb2xsZXJ9IG5nTW9kZWxDdHJsXG4gICAqL1xuICBDYWxlbmRhckN0cmwucHJvdG90eXBlLmNvbmZpZ3VyZU5nTW9kZWwgPSBmdW5jdGlvbihuZ01vZGVsQ3RybCkge1xuICAgIHRoaXMubmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybDtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmNoYW5nZVNlbGVjdGVkRGF0ZShzZWxmLm5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGNhbGVuZGFyIGJ5IGJ1aWxkaW5nIHRoZSBtb250aHMgdGhhdCBhcmUgaW5pdGlhbGx5IHZpc2libGUuXG4gICAqIEluaXRpYWxpemF0aW9uIHNob3VsZCBvY2N1ciBhZnRlciB0aGUgbmdNb2RlbCB2YWx1ZSBpcyBrbm93bi5cbiAgICovXG4gIENhbGVuZGFyQ3RybC5wcm90b3R5cGUuYnVpbGRJbml0aWFsQ2FsZW5kYXJEaXNwbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5idWlsZFdlZWtIZWFkZXIoKTtcbiAgICB0aGlzLmhpZGVWZXJ0aWNhbFNjcm9sbGJhcigpO1xuXG4gICAgdGhpcy5kaXNwbGF5RGF0ZSA9IHRoaXMuc2VsZWN0ZWREYXRlIHx8IHRoaXMudG9kYXk7XG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogSGlkZXMgdGhlIHZlcnRpY2FsIHNjcm9sbGJhciBvbiB0aGUgY2FsZW5kYXIgc2Nyb2xsZXIgYnkgc2V0dGluZyB0aGUgd2lkdGggb24gdGhlXG4gICAqIGNhbGVuZGFyIHNjcm9sbGVyIGFuZCB0aGUgYG92ZXJmbG93OiBoaWRkZW5gIHdyYXBwZXIgYXJvdW5kIHRoZSBzY3JvbGxlciwgYW5kIHRoZW4gc2V0dGluZ1xuICAgKiBhIHBhZGRpbmctcmlnaHQgb24gdGhlIHNjcm9sbGVyIGVxdWFsIHRvIHRoZSB3aWR0aCBvZiB0aGUgYnJvd3NlcidzIHNjcm9sbGJhci5cbiAgICpcbiAgICogVGhpcyB3aWxsIGNhdXNlIGEgcmVmbG93LlxuICAgKi9cbiAgQ2FsZW5kYXJDdHJsLnByb3RvdHlwZS5oaWRlVmVydGljYWxTY3JvbGxiYXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWxlbWVudCA9IHRoaXMuJGVsZW1lbnRbMF07XG5cbiAgICB2YXIgc2Nyb2xsTWFzayA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1kLWNhbGVuZGFyLXNjcm9sbC1tYXNrJyk7XG4gICAgdmFyIHNjcm9sbGVyID0gdGhpcy5jYWxlbmRhclNjcm9sbGVyO1xuXG4gICAgdmFyIGhlYWRlcldpZHRoID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubWQtY2FsZW5kYXItZGF5LWhlYWRlcicpLmNsaWVudFdpZHRoO1xuICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbGVyLm9mZnNldFdpZHRoIC0gc2Nyb2xsZXIuY2xpZW50V2lkdGg7XG5cbiAgICBzY3JvbGxNYXNrLnN0eWxlLndpZHRoID0gaGVhZGVyV2lkdGggKyAncHgnO1xuICAgIHNjcm9sbGVyLnN0eWxlLndpZHRoID0gKGhlYWRlcldpZHRoICsgc2Nyb2xsYmFyV2lkdGgpICsgJ3B4JztcbiAgICBzY3JvbGxlci5zdHlsZS5wYWRkaW5nUmlnaHQgPSBzY3JvbGxiYXJXaWR0aCArICdweCc7XG4gIH07XG5cblxuICAvKiogQXR0YWNoIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIGNhbGVuZGFyLiAqL1xuICBDYWxlbmRhckN0cmwucHJvdG90eXBlLmF0dGFjaENhbGVuZGFyRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBLZXlib2FyZCBpbnRlcmFjdGlvbi5cbiAgICB0aGlzLiRlbGVtZW50Lm9uKCdrZXlkb3duJywgYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMuaGFuZGxlS2V5RXZlbnQpKTtcbiAgfTtcbiAgXG4gIC8qKiogVXNlciBpbnB1dCBoYW5kbGluZyAqKiovXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYSBrZXkgZXZlbnQgaW4gdGhlIGNhbGVuZGFyIHdpdGggdGhlIGFwcHJvcHJpYXRlIGFjdGlvbi4gVGhlIGFjdGlvbiB3aWxsIGVpdGhlclxuICAgKiBiZSB0byBzZWxlY3QgdGhlIGZvY3VzZWQgZGF0ZSBvciB0byBuYXZpZ2F0ZSB0byBmb2N1cyBhIG5ldyBkYXRlLlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gICAqL1xuICBDYWxlbmRhckN0cmwucHJvdG90eXBlLmhhbmRsZUtleUV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy4kc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgLy8gQ2FwdHVyZSBlc2NhcGUgYW5kIGVtaXQgYmFjayB1cCBzbyB0aGF0IGEgd3JhcHBpbmcgY29tcG9uZW50XG4gICAgICAvLyAoc3VjaCBhcyBhIGRhdGUtcGlja2VyKSBjYW4gZGVjaWRlIHRvIGNsb3NlLlxuICAgICAgaWYgKGV2ZW50LndoaWNoID09IHNlbGYua2V5Q29kZS5FU0NBUEUgfHwgZXZlbnQud2hpY2ggPT0gc2VsZi5rZXlDb2RlLlRBQikge1xuICAgICAgICBzZWxmLiRzY29wZS4kZW1pdCgnbWQtY2FsZW5kYXItY2xvc2UnKTtcblxuICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT0gc2VsZi5rZXlDb2RlLlRBQikge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbWFpbmluZyBrZXkgZXZlbnRzIGZhbGwgaW50byB0d28gY2F0ZWdvcmllczogc2VsZWN0aW9uIGFuZCBuYXZpZ2F0aW9uLlxuICAgICAgLy8gU3RhcnQgYnkgY2hlY2tpbmcgaWYgdGhpcyBpcyBhIHNlbGVjdGlvbiBldmVudC5cbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gc2VsZi5rZXlDb2RlLkVOVEVSKSB7XG4gICAgICAgIHNlbGYuc2V0TmdNb2RlbFZhbHVlKHNlbGYuZGlzcGxheURhdGUpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdGlvbiBpc24ndCBvY2N1cmluZywgc28gdGhlIGtleSBldmVudCBpcyBlaXRoZXIgbmF2aWdhdGlvbiBvciBub3RoaW5nLlxuICAgICAgdmFyIGRhdGUgPSBzZWxmLmdldEZvY3VzRGF0ZUZyb21LZXlFdmVudChldmVudCk7XG4gICAgICBpZiAoZGF0ZSkge1xuICAgICAgICBkYXRlID0gc2VsZi5ib3VuZERhdGVCeU1pbkFuZE1heChkYXRlKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgLy8gU2luY2UgdGhpcyBpcyBhIGtleWJvYXJkIGludGVyYWN0aW9uLCBhY3R1YWxseSBnaXZlIHRoZSBuZXdseSBmb2N1c2VkIGRhdGUga2V5Ym9hcmRcbiAgICAgICAgLy8gZm9jdXMgYWZ0ZXIgdGhlIGJlZW4gYnJvdWdodCBpbnRvIHZpZXcuXG4gICAgICAgIHNlbGYuY2hhbmdlRGlzcGxheURhdGUoZGF0ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5mb2N1cyhkYXRlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRhdGUgdG8gZm9jdXMgYXMgdGhlIHJlc3VsdCBvZiBhIGtleSBldmVudC5cbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxuICAgKiBAcmV0dXJucyB7RGF0ZX0gRGF0ZSB0byBuYXZpZ2F0ZSB0bywgb3IgbnVsbCBpZiB0aGUga2V5IGRvZXMgbm90IG1hdGNoIGEgY2FsZW5kYXIgc2hvcnRjdXQuXG4gICAqL1xuICBDYWxlbmRhckN0cmwucHJvdG90eXBlLmdldEZvY3VzRGF0ZUZyb21LZXlFdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGRhdGVVdGlsID0gdGhpcy5kYXRlVXRpbDtcbiAgICB2YXIga2V5Q29kZSA9IHRoaXMua2V5Q29kZTtcblxuICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgIGNhc2Uga2V5Q29kZS5SSUdIVF9BUlJPVzogcmV0dXJuIGRhdGVVdGlsLmluY3JlbWVudERheXModGhpcy5kaXNwbGF5RGF0ZSwgMSk7XG4gICAgICBjYXNlIGtleUNvZGUuTEVGVF9BUlJPVzogcmV0dXJuIGRhdGVVdGlsLmluY3JlbWVudERheXModGhpcy5kaXNwbGF5RGF0ZSwgLTEpO1xuICAgICAgY2FzZSBrZXlDb2RlLkRPV05fQVJST1c6XG4gICAgICAgIHJldHVybiBldmVudC5tZXRhS2V5ID9cbiAgICAgICAgICBkYXRlVXRpbC5pbmNyZW1lbnRNb250aHModGhpcy5kaXNwbGF5RGF0ZSwgMSkgOlxuICAgICAgICAgIGRhdGVVdGlsLmluY3JlbWVudERheXModGhpcy5kaXNwbGF5RGF0ZSwgNyk7XG4gICAgICBjYXNlIGtleUNvZGUuVVBfQVJST1c6XG4gICAgICAgIHJldHVybiBldmVudC5tZXRhS2V5ID9cbiAgICAgICAgICBkYXRlVXRpbC5pbmNyZW1lbnRNb250aHModGhpcy5kaXNwbGF5RGF0ZSwgLTEpIDpcbiAgICAgICAgICBkYXRlVXRpbC5pbmNyZW1lbnREYXlzKHRoaXMuZGlzcGxheURhdGUsIC03KTtcbiAgICAgIGNhc2Uga2V5Q29kZS5QQUdFX0RPV046IHJldHVybiBkYXRlVXRpbC5pbmNyZW1lbnRNb250aHModGhpcy5kaXNwbGF5RGF0ZSwgMSk7XG4gICAgICBjYXNlIGtleUNvZGUuUEFHRV9VUDogcmV0dXJuIGRhdGVVdGlsLmluY3JlbWVudE1vbnRocyh0aGlzLmRpc3BsYXlEYXRlLCAtMSk7XG4gICAgICBjYXNlIGtleUNvZGUuSE9NRTogcmV0dXJuIGRhdGVVdGlsLmdldEZpcnN0RGF0ZU9mTW9udGgodGhpcy5kaXNwbGF5RGF0ZSk7XG4gICAgICBjYXNlIGtleUNvZGUuRU5EOiByZXR1cm4gZGF0ZVV0aWwuZ2V0TGFzdERhdGVPZk1vbnRoKHRoaXMuZGlzcGxheURhdGUpO1xuICAgICAgZGVmYXVsdDogcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBcImluZGV4XCIgb2YgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkYXRlIGFzIGl0IHdvdWxkIGJlIGluIHRoZSB2aXJ0dWFsLXJlcGVhdC5cbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIENhbGVuZGFyQ3RybC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRNb250aEluZGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0ZVV0aWwuZ2V0TW9udGhEaXN0YW5jZSh0aGlzLmZpcnN0UmVuZGVyYWJsZURhdGUsXG4gICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlIHx8IHRoaXMudG9kYXkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRvIHRoZSBtb250aCBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAgICogQHBhcmFtIHtEYXRlfSBkYXRlXG4gICAqL1xuICBDYWxlbmRhckN0cmwucHJvdG90eXBlLnNjcm9sbFRvTW9udGggPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgaWYgKCF0aGlzLmRhdGVVdGlsLmlzVmFsaWREYXRlKGRhdGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1vbnRoRGlzdGFuY2UgPSB0aGlzLmRhdGVVdGlsLmdldE1vbnRoRGlzdGFuY2UodGhpcy5maXJzdFJlbmRlcmFibGVEYXRlLCBkYXRlKTtcbiAgICB0aGlzLmNhbGVuZGFyU2Nyb2xsZXIuc2Nyb2xsVG9wID0gbW9udGhEaXN0YW5jZSAqIFRCT0RZX0hFSUdIVDtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgbmctbW9kZWwgdmFsdWUgZm9yIHRoZSBjYWxlbmRhciBhbmQgZW1pdHMgYSBjaGFuZ2UgZXZlbnQuXG4gICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZVxuICAgKi9cbiAgQ2FsZW5kYXJDdHJsLnByb3RvdHlwZS5zZXROZ01vZGVsVmFsdWUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdGhpcy4kc2NvcGUuJGVtaXQoJ21kLWNhbGVuZGFyLWNoYW5nZScsIGRhdGUpO1xuICAgIHRoaXMubmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShkYXRlKTtcbiAgICB0aGlzLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgfTtcblxuICAvKipcbiAgICogRm9jdXMgdGhlIGNlbGwgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gZGF0ZS5cbiAgICogQHBhcmFtIHtEYXRlPX0gb3B0X2RhdGVcbiAgICovXG4gIENhbGVuZGFyQ3RybC5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbihvcHRfZGF0ZSkge1xuICAgIHZhciBkYXRlID0gb3B0X2RhdGUgfHwgdGhpcy5zZWxlY3RlZERhdGUgfHwgdGhpcy50b2RheTtcblxuICAgIHZhciBwcmV2aW91c0ZvY3VzID0gdGhpcy5jYWxlbmRhckVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1kLWZvY3VzJyk7XG4gICAgaWYgKHByZXZpb3VzRm9jdXMpIHtcbiAgICAgIHByZXZpb3VzRm9jdXMuY2xhc3NMaXN0LnJlbW92ZShGT0NVU0VEX0RBVEVfQ0xBU1MpO1xuICAgIH1cblxuICAgIHZhciBjZWxsSWQgPSB0aGlzLmdldERhdGVJZChkYXRlKTtcbiAgICB2YXIgY2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNlbGxJZCk7XG4gICAgaWYgKGNlbGwpIHtcbiAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChGT0NVU0VEX0RBVEVfQ0xBU1MpO1xuICAgICAgY2VsbC5mb2N1cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZvY3VzRGF0ZSA9IGRhdGU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBJZiBhIGRhdGUgZXhjZWVkcyBtaW5EYXRlIG9yIG1heERhdGUsIHJldHVybnMgZGF0ZSBtYXRjaGluZyBtaW5EYXRlIG9yIG1heERhdGUsIHJlc3BlY3RpdmVseS5cbiAgICogT3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBkYXRlLlxuICAgKiBAcGFyYW0ge0RhdGV9IGRhdGVcbiAgICogQHJldHVybiB7RGF0ZX1cbiAgICovXG4gIENhbGVuZGFyQ3RybC5wcm90b3R5cGUuYm91bmREYXRlQnlNaW5BbmRNYXggPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIGJvdW5kRGF0ZSA9IGRhdGU7XG4gICAgaWYgKHRoaXMubWluRGF0ZSAmJiBkYXRlIDwgdGhpcy5taW5EYXRlKSB7XG4gICAgICBib3VuZERhdGUgPSBuZXcgRGF0ZSh0aGlzLm1pbkRhdGUuZ2V0VGltZSgpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWF4RGF0ZSAmJiBkYXRlID4gdGhpcy5tYXhEYXRlKSB7XG4gICAgICBib3VuZERhdGUgPSBuZXcgRGF0ZSh0aGlzLm1heERhdGUuZ2V0VGltZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGJvdW5kRGF0ZTtcbiAgfTtcblxuICAvKioqIFVwZGF0aW5nIHRoZSBkaXNwbGF5ZWQgLyBzZWxlY3RlZCBkYXRlICoqKi9cblxuICAvKipcbiAgICogQ2hhbmdlIHRoZSBzZWxlY3RlZCBkYXRlIGluIHRoZSBjYWxlbmRhciAobmdNb2RlbCB2YWx1ZSBoYXMgYWxyZWFkeSBiZWVuIGNoYW5nZWQpLlxuICAgKiBAcGFyYW0ge0RhdGV9IGRhdGVcbiAgICovXG4gIENhbGVuZGFyQ3RybC5wcm90b3R5cGUuY2hhbmdlU2VsZWN0ZWREYXRlID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcHJldmlvdXNTZWxlY3RlZERhdGUgPSB0aGlzLnNlbGVjdGVkRGF0ZTtcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZSA9IGRhdGU7XG4gICAgdGhpcy5jaGFuZ2VEaXNwbGF5RGF0ZShkYXRlKS50aGVuKGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIHNlbGVjdGVkIGNsYXNzIGZyb20gdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgZGF0ZSwgaWYgYW55LlxuICAgICAgaWYgKHByZXZpb3VzU2VsZWN0ZWREYXRlKSB7XG4gICAgICAgIHZhciBwcmV2RGF0ZUNlbGwgPVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZi5nZXREYXRlSWQocHJldmlvdXNTZWxlY3RlZERhdGUpKTtcbiAgICAgICAgaWYgKHByZXZEYXRlQ2VsbCkge1xuICAgICAgICAgIHByZXZEYXRlQ2VsbC5jbGFzc0xpc3QucmVtb3ZlKFNFTEVDVEVEX0RBVEVfQ0xBU1MpO1xuICAgICAgICAgIHByZXZEYXRlQ2VsbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBcHBseSB0aGUgc2VsZWN0IGNsYXNzIHRvIHRoZSBuZXcgc2VsZWN0ZWQgZGF0ZSBpZiBpdCBpcyBzZXQuXG4gICAgICBpZiAoZGF0ZSkge1xuICAgICAgICB2YXIgZGF0ZUNlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxmLmdldERhdGVJZChkYXRlKSk7XG4gICAgICAgIGlmIChkYXRlQ2VsbCkge1xuICAgICAgICAgIGRhdGVDZWxsLmNsYXNzTGlzdC5hZGQoU0VMRUNURURfREFURV9DTEFTUyk7XG4gICAgICAgICAgZGF0ZUNlbGwuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIENoYW5nZSB0aGUgZGF0ZSB0aGF0IGlzIGJlaW5nIHNob3duIGluIHRoZSBjYWxlbmRhci4gSWYgdGhlIGdpdmVuIGRhdGUgaXMgaW4gYSBkaWZmZXJlbnRcbiAgICogbW9udGgsIHRoZSBkaXNwbGF5ZWQgbW9udGggd2lsbCBiZSB0cmFuc2l0aW9uZWQuXG4gICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZVxuICAgKi9cbiAgQ2FsZW5kYXJDdHJsLnByb3RvdHlwZS5jaGFuZ2VEaXNwbGF5RGF0ZSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAvLyBJbml0aWFsaXphdGlvbiBpcyBkZWZlcnJlZCB1bnRpbCB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBiZWNhdXNlIHdlIHdhbnQgdG8gcmVmbGVjdFxuICAgIC8vIHRoZSBzdGFydGluZyB2YWx1ZSBvZiBuZ01vZGVsLlxuICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICB0aGlzLmJ1aWxkSW5pdGlhbENhbGVuZGFyRGlzcGxheSgpO1xuICAgICAgcmV0dXJuIHRoaXMuJHEud2hlbigpO1xuICAgIH1cblxuICAgIC8vIElmIHRyeWluZyB0byBzaG93IGFuIGludmFsaWQgZGF0ZSBvciBhIHRyYW5zaXRpb24gaXMgaW4gcHJvZ3Jlc3MsIGRvIG5vdGhpbmcuXG4gICAgaWYgKCF0aGlzLmRhdGVVdGlsLmlzVmFsaWREYXRlKGRhdGUpIHx8IHRoaXMuaXNNb250aFRyYW5zaXRpb25JblByb2dyZXNzKSB7XG4gICAgICByZXR1cm4gdGhpcy4kcS53aGVuKCk7XG4gICAgfVxuXG4gICAgdGhpcy5pc01vbnRoVHJhbnNpdGlvbkluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIHZhciBhbmltYXRpb25Qcm9taXNlID0gdGhpcy5hbmltYXRlRGF0ZUNoYW5nZShkYXRlKTtcblxuICAgIHRoaXMuZGlzcGxheURhdGUgPSBkYXRlO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGFuaW1hdGlvblByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuaXNNb250aFRyYW5zaXRpb25JblByb2dyZXNzID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYW5pbWF0aW9uUHJvbWlzZTtcbiAgfTtcblxuICAvKipcbiAgICogQW5pbWF0ZXMgdGhlIHRyYW5zaXRpb24gZnJvbSB0aGUgY2FsZW5kYXIncyBjdXJyZW50IG1vbnRoIHRvIHRoZSBnaXZlbiBtb250aC5cbiAgICogQHBhcmFtIHtEYXRlfSBkYXRlXG4gICAqIEByZXR1cm5zIHthbmd1bGFyLiRxLlByb21pc2V9IFRoZSBhbmltYXRpb24gcHJvbWlzZS5cbiAgICovXG4gIENhbGVuZGFyQ3RybC5wcm90b3R5cGUuYW5pbWF0ZURhdGVDaGFuZ2UgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdGhpcy5zY3JvbGxUb01vbnRoKGRhdGUpO1xuICAgIHJldHVybiB0aGlzLiRxLndoZW4oKTtcbiAgfTtcblxuICAvKioqIENvbnN0cnVjdGluZyB0aGUgY2FsZW5kYXIgdGFibGUgKioqL1xuXG4gIC8qKlxuICAgKiBCdWlsZHMgYW5kIGFwcGVuZHMgYSBkYXktb2YtdGhlLXdlZWsgaGVhZGVyIHRvIHRoZSBjYWxlbmRhci5cbiAgICogVGhpcyBzaG91bGQgb25seSBuZWVkIHRvIGJlIGNhbGxlZCBvbmNlIGR1cmluZyBpbml0aWFsaXphdGlvbi5cbiAgICovXG4gIENhbGVuZGFyQ3RybC5wcm90b3R5cGUuYnVpbGRXZWVrSGVhZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZpcnN0RGF5T2ZXZWVrID0gdGhpcy5kYXRlTG9jYWxlLmZpcnN0RGF5T2ZXZWVrO1xuICAgIHZhciBzaG9ydERheXMgPSB0aGlzLmRhdGVMb2NhbGUuc2hvcnREYXlzO1xuXG4gICAgdmFyIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgIHZhciB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICB0aC50ZXh0Q29udGVudCA9IHNob3J0RGF5c1soaSArIGZpcnN0RGF5T2ZXZWVrKSAlIDddO1xuICAgICAgcm93LmFwcGVuZENoaWxkKHRoKTtcbiAgICB9XG5cbiAgICB0aGlzLiRlbGVtZW50LmZpbmQoJ3RoZWFkJykuYXBwZW5kKHJvdyk7XG4gIH07XG5cbiAgICAvKipcbiAgICogR2V0cyBhbiBpZGVudGlmaWVyIGZvciBhIGRhdGUgdW5pcXVlIHRvIHRoZSBjYWxlbmRhciBpbnN0YW5jZSBmb3IgaW50ZXJuYWxcbiAgICogcHVycG9zZXMuIE5vdCB0byBiZSBkaXNwbGF5ZWQuXG4gICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgQ2FsZW5kYXJDdHJsLnByb3RvdHlwZS5nZXREYXRlSWQgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdtZCcsXG4gICAgICB0aGlzLmlkLFxuICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgZGF0ZS5nZXRNb250aCgpLFxuICAgICAgZGF0ZS5nZXREYXRlKClcbiAgICBdLmpvaW4oJy0nKTtcbiAgfTtcbn0pKCk7XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmRhdGVwaWNrZXInKVxuICAgICAgLmRpcmVjdGl2ZSgnbWRDYWxlbmRhck1vbnRoJywgbWRDYWxlbmRhck1vbnRoRGlyZWN0aXZlKTtcblxuXG4gIC8qKlxuICAgKiBQcml2YXRlIGRpcmVjdGl2ZSBjb25zdW1lZCBieSBtZC1jYWxlbmRhci4gSGF2aW5nIHRoaXMgZGlyZWN0aXZlIGxldHMgdGhlIGNhbGVuZGVyIHVzZVxuICAgKiBtZC12aXJ0dWFsLXJlcGVhdCBhbmQgYWxzbyBjbGVhbmx5IHNlcGFyYXRlcyB0aGUgbW9udGggRE9NIGNvbnN0cnVjdGlvbiBmdW5jdGlvbnMgZnJvbVxuICAgKiB0aGUgcmVzdCBvZiB0aGUgY2FsZW5kYXIgY29udHJvbGxlciBsb2dpYy5cbiAgICovXG4gIGZ1bmN0aW9uIG1kQ2FsZW5kYXJNb250aERpcmVjdGl2ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWlyZTogWydeXm1kQ2FsZW5kYXInLCAnbWRDYWxlbmRhck1vbnRoJ10sXG4gICAgICBzY29wZToge29mZnNldDogJz1tZE1vbnRoT2Zmc2V0J30sXG4gICAgICBjb250cm9sbGVyOiBDYWxlbmRhck1vbnRoQ3RybCxcbiAgICAgIGNvbnRyb2xsZXJBczogJ21kTW9udGhDdHJsJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzKSB7XG4gICAgICAgIHZhciBjYWxlbmRhckN0cmwgPSBjb250cm9sbGVyc1swXTtcbiAgICAgICAgdmFyIG1vbnRoQ3RybCA9IGNvbnRyb2xsZXJzWzFdO1xuXG4gICAgICAgIG1vbnRoQ3RybC5jYWxlbmRhckN0cmwgPSBjYWxlbmRhckN0cmw7XG4gICAgICAgIG1vbnRoQ3RybC5nZW5lcmF0ZUNvbnRlbnQoKTtcblxuICAgICAgICAvLyBUaGUgdmlydHVhbC1yZXBlYXQgcmUtdXNlcyB0aGUgc2FtZSBET00gZWxlbWVudHMsIHNvIHRoZXJlIGFyZSBvbmx5IGEgbGltaXRlZCBudW1iZXJcbiAgICAgICAgLy8gb2YgcmVwZWF0ZWQgaXRlbXMgdGhhdCBhcmUgbGlua2VkLCBhbmQgdGhlbiB0aG9zZSBlbGVtZW50cyBoYXZlIHRoZWlyIGJpbmRpbmdzIHVwZGF0YWVkLlxuICAgICAgICAvLyBTaW5jZSB0aGUgbW9udGhzIGFyZSBub3QgZ2VuZXJhdGVkIGJ5IGJpbmRpbmdzLCB3ZSBzaW1wbHkgcmVnZW5lcmF0ZSB0aGUgZW50aXJlIHRoaW5nXG4gICAgICAgIC8vIHdoZW4gdGhlIGJpbmRpbmcgKG9mZnNldCkgY2hhbmdlcy5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9udGhDdHJsLm9mZnNldDsgfSwgZnVuY3Rpb24ob2Zmc2V0LCBvbGRPZmZzZXQpIHtcbiAgICAgICAgICBpZiAob2Zmc2V0ICE9IG9sZE9mZnNldCkge1xuICAgICAgICAgICAgbW9udGhDdHJsLmdlbmVyYXRlQ29udGVudCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKiBDbGFzcyBhcHBsaWVkIHRvIHRoZSBjZWxsIGZvciB0b2RheS4gKi9cbiAgdmFyIFRPREFZX0NMQVNTID0gJ21kLWNhbGVuZGFyLWRhdGUtdG9kYXknO1xuXG4gIC8qKiBDbGFzcyBhcHBsaWVkIHRvIHRoZSBzZWxlY3RlZCBkYXRlIGNlbGwvLiAqL1xuICB2YXIgU0VMRUNURURfREFURV9DTEFTUyA9ICdtZC1jYWxlbmRhci1zZWxlY3RlZC1kYXRlJztcblxuICAvKiogQ2xhc3MgYXBwbGllZCB0byB0aGUgZm9jdXNlZCBkYXRlIGNlbGwvLiAqL1xuICB2YXIgRk9DVVNFRF9EQVRFX0NMQVNTID0gJ21kLWZvY3VzJztcblxuICAvKipcbiAgICogQ29udHJvbGxlciBmb3IgYSBzaW5nbGUgY2FsZW5kYXIgbW9udGguXG4gICAqIEBuZ0luamVjdCBAY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIENhbGVuZGFyTW9udGhDdHJsKCRlbGVtZW50LCAkJG1kRGF0ZVV0aWwsICRtZERhdGVMb2NhbGUpIHtcbiAgICB0aGlzLmRhdGVVdGlsID0gJCRtZERhdGVVdGlsO1xuICAgIHRoaXMuZGF0ZUxvY2FsZSA9ICRtZERhdGVMb2NhbGU7XG4gICAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICAgIHRoaXMuY2FsZW5kYXJDdHJsID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBtb250aHMgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIG1vbnRoIFwiaXRlbXNcIiB0aGF0IHRoZSBjdXJyZW50bHkgcmVuZGVyZWQgbW9udGhcbiAgICAgKiBvY2N1cnMuIFNldCB2aWEgYW5ndWxhciBkYXRhIGJpbmRpbmcuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm9mZnNldDtcblxuICAgIC8qKlxuICAgICAqIERhdGUgY2VsbCB0byBmb2N1cyBhZnRlciBhcHBlbmRpbmcgdGhlIG1vbnRoIHRvIHRoZSBkb2N1bWVudC5cbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5mb2N1c0FmdGVyQXBwZW5kID0gbnVsbDtcbiAgfVxuICBDYWxlbmRhck1vbnRoQ3RybC4kaW5qZWN0ID0gW1wiJGVsZW1lbnRcIiwgXCIkJG1kRGF0ZVV0aWxcIiwgXCIkbWREYXRlTG9jYWxlXCJdO1xuXG4gIC8qKiBHZW5lcmF0ZSBhbmQgYXBwZW5kIHRoZSBjb250ZW50IGZvciB0aGlzIG1vbnRoIHRvIHRoZSBkaXJlY3RpdmUgZWxlbWVudC4gKi9cbiAgQ2FsZW5kYXJNb250aEN0cmwucHJvdG90eXBlLmdlbmVyYXRlQ29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYWxlbmRhckN0cmwgPSB0aGlzLmNhbGVuZGFyQ3RybDtcbiAgICB2YXIgZGF0ZSA9IHRoaXMuZGF0ZVV0aWwuaW5jcmVtZW50TW9udGhzKGNhbGVuZGFyQ3RybC5maXJzdFJlbmRlcmFibGVEYXRlLCB0aGlzLm9mZnNldCk7XG5cbiAgICB0aGlzLiRlbGVtZW50LmVtcHR5KCk7XG4gICAgdGhpcy4kZWxlbWVudC5hcHBlbmQodGhpcy5idWlsZENhbGVuZGFyRm9yTW9udGgoZGF0ZSkpO1xuXG4gICAgaWYgKHRoaXMuZm9jdXNBZnRlckFwcGVuZCkge1xuICAgICAgdGhpcy5mb2N1c0FmdGVyQXBwZW5kLmNsYXNzTGlzdC5hZGQoRk9DVVNFRF9EQVRFX0NMQVNTKTtcbiAgICAgIHRoaXMuZm9jdXNBZnRlckFwcGVuZC5mb2N1cygpO1xuICAgICAgdGhpcy5mb2N1c0FmdGVyQXBwZW5kID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzaW5nbGUgY2VsbCB0byBjb250YWluIGEgZGF0ZSBpbiB0aGUgY2FsZW5kYXIgd2l0aCBhbGwgYXBwcm9wcmlhdGVcbiAgICogYXR0cmlidXRlcyBhbmQgY2xhc3NlcyBhZGRlZC4gSWYgYSBkYXRlIGlzIGdpdmVuLCB0aGUgY2VsbCBjb250ZW50IHdpbGwgYmUgc2V0XG4gICAqIGJhc2VkIG9uIHRoZSBkYXRlLlxuICAgKiBAcGFyYW0ge0RhdGU9fSBvcHRfZGF0ZVxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBDYWxlbmRhck1vbnRoQ3RybC5wcm90b3R5cGUuYnVpbGREYXRlQ2VsbCA9IGZ1bmN0aW9uKG9wdF9kYXRlKSB7XG4gICAgdmFyIGNhbGVuZGFyQ3RybCA9IHRoaXMuY2FsZW5kYXJDdHJsO1xuXG4gICAgLy8gVE9ETyhqZWxib3Vybik6IGNsb25lTm9kZSBpcyBsaWtlbHkgYSBmYXN0ZXIgd2F5IG9mIGRvaW5nIHRoaXMuXG4gICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIGNlbGwudGFiSW5kZXggPSAtMTtcbiAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21kLWNhbGVuZGFyLWRhdGUnKTtcbiAgICBjZWxsLnNldEF0dHJpYnV0ZSgncm9sZScsICdncmlkY2VsbCcpO1xuXG4gICAgaWYgKG9wdF9kYXRlKSB7XG4gICAgICBjZWxsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdGhpcy5kYXRlTG9jYWxlLmxvbmdEYXRlRm9ybWF0dGVyKG9wdF9kYXRlKSk7XG4gICAgICBjZWxsLmlkID0gY2FsZW5kYXJDdHJsLmdldERhdGVJZChvcHRfZGF0ZSk7XG5cbiAgICAgIC8vIFVzZSBgZGF0YS10aW1lc3RhbXBgIGF0dHJpYnV0ZSBiZWNhdXNlIElFMTAgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYGRhdGFzZXRgIHByb3BlcnR5LlxuICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGltZXN0YW1wJywgb3B0X2RhdGUuZ2V0VGltZSgpKTtcblxuICAgICAgLy8gVE9ETyhqZWxvdXJuKTogRG9pbmcgdGhlc2UgY29tcGFyaXNvbnMgZm9yIGNsYXNzIGFkZGl0aW9uIGR1cmluZyBnZW5lcmF0aW9uIG1pZ2h0IGJlIHNsb3cuXG4gICAgICAvLyBJdCBtYXkgYmUgYmV0dGVyIHRvIGZpbmlzaCB0aGUgY29uc3RydWN0aW9uIGFuZCB0aGVuIHF1ZXJ5IHRoZSBub2RlIGFuZCBhZGQgdGhlIGNsYXNzLlxuICAgICAgaWYgKHRoaXMuZGF0ZVV0aWwuaXNTYW1lRGF5KG9wdF9kYXRlLCBjYWxlbmRhckN0cmwudG9kYXkpKSB7XG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChUT0RBWV9DTEFTUyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmRhdGVVdGlsLmlzVmFsaWREYXRlKGNhbGVuZGFyQ3RybC5zZWxlY3RlZERhdGUpICYmXG4gICAgICAgICAgdGhpcy5kYXRlVXRpbC5pc1NhbWVEYXkob3B0X2RhdGUsIGNhbGVuZGFyQ3RybC5zZWxlY3RlZERhdGUpKSB7XG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChTRUxFQ1RFRF9EQVRFX0NMQVNTKTtcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2VsbFRleHQgPSB0aGlzLmRhdGVMb2NhbGUuZGF0ZXNbb3B0X2RhdGUuZ2V0RGF0ZSgpXTtcblxuICAgICAgaWYgKHRoaXMuaXNEYXRlRW5hYmxlZChvcHRfZGF0ZSkpIHtcbiAgICAgICAgLy8gQWRkIGEgaW5kaWNhdG9yIGZvciBzZWxlY3QsIGhvdmVyLCBhbmQgZm9jdXMgc3RhdGVzLlxuICAgICAgICB2YXIgc2VsZWN0aW9uSW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjZWxsLmFwcGVuZENoaWxkKHNlbGVjdGlvbkluZGljYXRvcik7XG4gICAgICAgIHNlbGVjdGlvbkluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdtZC1jYWxlbmRhci1kYXRlLXNlbGVjdGlvbi1pbmRpY2F0b3InKTtcbiAgICAgICAgc2VsZWN0aW9uSW5kaWNhdG9yLnRleHRDb250ZW50ID0gY2VsbFRleHQ7XG5cbiAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbGVuZGFyQ3RybC5jZWxsQ2xpY2tIYW5kbGVyKTtcblxuICAgICAgICBpZiAoY2FsZW5kYXJDdHJsLmZvY3VzRGF0ZSAmJiB0aGlzLmRhdGVVdGlsLmlzU2FtZURheShvcHRfZGF0ZSwgY2FsZW5kYXJDdHJsLmZvY3VzRGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzQWZ0ZXJBcHBlbmQgPSBjZWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21kLWNhbGVuZGFyLWRhdGUtZGlzYWJsZWQnKTtcbiAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IGNlbGxUZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjZWxsO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgZGF0ZSBpcyBpbiByYW5nZSBhbmQgZW5hYmxlZFxuICAgKiBAcGFyYW0ge0RhdGU9fSBvcHRfZGF0ZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBkYXRlIGlzIGVuYWJsZWQuXG4gICAqL1xuICBDYWxlbmRhck1vbnRoQ3RybC5wcm90b3R5cGUuaXNEYXRlRW5hYmxlZCA9IGZ1bmN0aW9uKG9wdF9kYXRlKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0ZVV0aWwuaXNEYXRlV2l0aGluUmFuZ2Uob3B0X2RhdGUsIFxuICAgICAgICAgIHRoaXMuY2FsZW5kYXJDdHJsLm1pbkRhdGUsIHRoaXMuY2FsZW5kYXJDdHJsLm1heERhdGUpICYmIFxuICAgICAgICAgICghYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMuY2FsZW5kYXJDdHJsLmRhdGVGaWx0ZXIpXG4gICAgICAgICAgIHx8IHRoaXMuY2FsZW5kYXJDdHJsLmRhdGVGaWx0ZXIob3B0X2RhdGUpKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIEJ1aWxkcyBhIGB0cmAgZWxlbWVudCBmb3IgdGhlIGNhbGVuZGFyIGdyaWQuXG4gICAqIEBwYXJhbSByb3dOdW1iZXIgVGhlIHdlZWsgbnVtYmVyIHdpdGhpbiB0aGUgbW9udGguXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIENhbGVuZGFyTW9udGhDdHJsLnByb3RvdHlwZS5idWlsZERhdGVSb3cgPSBmdW5jdGlvbihyb3dOdW1iZXIpIHtcbiAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3JvdycpO1xuXG4gICAgLy8gQmVjYXVzZSBvZiBhbiBOVkRBIGJ1ZyAod2l0aCBGaXJlZm94KSwgdGhlIHJvdyBuZWVkcyBhbiBhcmlhLWxhYmVsIGluIG9yZGVyXG4gICAgLy8gdG8gcHJldmVudCB0aGUgZW50aXJlIHJvdyBiZWluZyByZWFkIGFsb3VkIHdoZW4gdGhlIHVzZXIgbW92ZXMgYmV0d2VlbiByb3dzLlxuICAgIC8vIFNlZSBodHRwOi8vY29tbXVuaXR5Lm52ZGEtcHJvamVjdC5vcmcvdGlja2V0LzQ2NDMuXG4gICAgcm93LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXMuZGF0ZUxvY2FsZS53ZWVrTnVtYmVyRm9ybWF0dGVyKHJvd051bWJlcikpO1xuXG4gICAgcmV0dXJuIHJvdztcbiAgfTtcblxuICAvKipcbiAgICogQnVpbGRzIHRoZSA8dGJvZHk+IGNvbnRlbnQgZm9yIHRoZSBnaXZlbiBkYXRlJ3MgbW9udGguXG4gICAqIEBwYXJhbSB7RGF0ZT19IG9wdF9kYXRlSW5Nb250aFxuICAgKiBAcmV0dXJucyB7RG9jdW1lbnRGcmFnbWVudH0gQSBkb2N1bWVudCBmcmFnbWVudCBjb250YWluaW5nIHRoZSA8dHI+IGVsZW1lbnRzLlxuICAgKi9cbiAgQ2FsZW5kYXJNb250aEN0cmwucHJvdG90eXBlLmJ1aWxkQ2FsZW5kYXJGb3JNb250aCA9IGZ1bmN0aW9uKG9wdF9kYXRlSW5Nb250aCkge1xuICAgIHZhciBkYXRlID0gdGhpcy5kYXRlVXRpbC5pc1ZhbGlkRGF0ZShvcHRfZGF0ZUluTW9udGgpID8gb3B0X2RhdGVJbk1vbnRoIDogbmV3IERhdGUoKTtcblxuICAgIHZhciBmaXJzdERheU9mTW9udGggPSB0aGlzLmRhdGVVdGlsLmdldEZpcnN0RGF0ZU9mTW9udGgoZGF0ZSk7XG4gICAgdmFyIGZpcnN0RGF5T2ZUaGVXZWVrID0gdGhpcy5nZXRMb2NhbGVEYXlfKGZpcnN0RGF5T2ZNb250aCk7XG4gICAgdmFyIG51bWJlck9mRGF5c0luTW9udGggPSB0aGlzLmRhdGVVdGlsLmdldE51bWJlck9mRGF5c0luTW9udGgoZGF0ZSk7XG5cbiAgICAvLyBTdG9yZSByb3dzIGZvciB0aGUgbW9udGggaW4gYSBkb2N1bWVudCBmcmFnbWVudCBzbyB0aGF0IHdlIGNhbiBhcHBlbmQgdGhlbSBhbGwgYXQgb25jZS5cbiAgICB2YXIgbW9udGhCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgdmFyIHJvd051bWJlciA9IDE7XG4gICAgdmFyIHJvdyA9IHRoaXMuYnVpbGREYXRlUm93KHJvd051bWJlcik7XG4gICAgbW9udGhCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG5cbiAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaW5hbCBtb250aCBpbiB0aGUgbGlzdCBvZiBpdGVtcywgb25seSB0aGUgZmlyc3Qgd2VlayBzaG91bGQgcmVuZGVyLFxuICAgIC8vIHNvIHdlIHNob3VsZCByZXR1cm4gaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGZpcnN0IHJvdyBpcyBjb21wbGV0ZSBhbmQgaGFzIGJlZW5cbiAgICAvLyBhdHRhY2hlZCB0byB0aGUgYm9keS5cbiAgICB2YXIgaXNGaW5hbE1vbnRoID0gdGhpcy5vZmZzZXQgPT09IHRoaXMuY2FsZW5kYXJDdHJsLml0ZW1zLmxlbmd0aCAtIDE7XG5cbiAgICAvLyBBZGQgYSBsYWJlbCBmb3IgdGhlIG1vbnRoLiBJZiB0aGUgbW9udGggc3RhcnRzIG9uIGEgU3VuL01vbi9UdWVzLCB0aGUgbW9udGggbGFiZWxcbiAgICAvLyBnb2VzIG9uIGEgcm93IGFib3ZlIHRoZSBmaXJzdCBvZiB0aGUgbW9udGguIE90aGVyd2lzZSwgdGhlIG1vbnRoIGxhYmVsIHRha2VzIHVwIHRoZSBmaXJzdFxuICAgIC8vIHR3byBjZWxscyBvZiB0aGUgZmlyc3Qgcm93LlxuICAgIHZhciBibGFua0NlbGxPZmZzZXQgPSAwO1xuICAgIHZhciBtb250aExhYmVsQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgbW9udGhMYWJlbENlbGwuY2xhc3NMaXN0LmFkZCgnbWQtY2FsZW5kYXItbW9udGgtbGFiZWwnKTtcbiAgICAvLyBJZiB0aGUgZW50aXJlIG1vbnRoIGlzIGFmdGVyIHRoZSBtYXggZGF0ZSwgcmVuZGVyIHRoZSBsYWJlbCBhcyBhIGRpc2FibGVkIHN0YXRlLlxuICAgIGlmICh0aGlzLmNhbGVuZGFyQ3RybC5tYXhEYXRlICYmIGZpcnN0RGF5T2ZNb250aCA+IHRoaXMuY2FsZW5kYXJDdHJsLm1heERhdGUpIHtcbiAgICAgIG1vbnRoTGFiZWxDZWxsLmNsYXNzTGlzdC5hZGQoJ21kLWNhbGVuZGFyLW1vbnRoLWxhYmVsLWRpc2FibGVkJyk7XG4gICAgfVxuICAgIG1vbnRoTGFiZWxDZWxsLnRleHRDb250ZW50ID0gdGhpcy5kYXRlTG9jYWxlLm1vbnRoSGVhZGVyRm9ybWF0dGVyKGRhdGUpO1xuICAgIGlmIChmaXJzdERheU9mVGhlV2VlayA8PSAyKSB7XG4gICAgICBtb250aExhYmVsQ2VsbC5zZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nLCAnNycpO1xuXG4gICAgICB2YXIgbW9udGhMYWJlbFJvdyA9IHRoaXMuYnVpbGREYXRlUm93KCk7XG4gICAgICBtb250aExhYmVsUm93LmFwcGVuZENoaWxkKG1vbnRoTGFiZWxDZWxsKTtcbiAgICAgIG1vbnRoQm9keS5pbnNlcnRCZWZvcmUobW9udGhMYWJlbFJvdywgcm93KTtcblxuICAgICAgaWYgKGlzRmluYWxNb250aCkge1xuICAgICAgICByZXR1cm4gbW9udGhCb2R5O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBibGFua0NlbGxPZmZzZXQgPSAyO1xuICAgICAgbW9udGhMYWJlbENlbGwuc2V0QXR0cmlidXRlKCdjb2xzcGFuJywgJzInKTtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZChtb250aExhYmVsQ2VsbCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGEgYmxhbmsgY2VsbCBmb3IgZWFjaCBkYXkgb2YgdGhlIHdlZWsgdGhhdCBvY2N1cnMgYmVmb3JlIHRoZSBmaXJzdCBvZiB0aGUgbW9udGguXG4gICAgLy8gRm9yIGV4YW1wbGUsIGlmIHRoZSBmaXJzdCBkYXkgb2YgdGhlIG1vbnRoIGlzIGEgVHVlc2RheSwgYWRkIGJsYW5rIGNlbGxzIGZvciBTdW4gYW5kIE1vbi5cbiAgICAvLyBUaGUgYmxhbmtDZWxsT2Zmc2V0IGlzIG5lZWRlZCBpbiBjYXNlcyB3aGVyZSB0aGUgZmlyc3QgTiBjZWxscyBhcmUgdXNlZCBieSB0aGUgbW9udGggbGFiZWwuXG4gICAgZm9yICh2YXIgaSA9IGJsYW5rQ2VsbE9mZnNldDsgaSA8IGZpcnN0RGF5T2ZUaGVXZWVrOyBpKyspIHtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkRGF0ZUNlbGwoKSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGEgY2VsbCBmb3IgZWFjaCBkYXkgb2YgdGhlIG1vbnRoLCBrZWVwaW5nIHRyYWNrIG9mIHRoZSBkYXkgb2YgdGhlIHdlZWsgc28gdGhhdFxuICAgIC8vIHdlIGtub3cgd2hlbiB0byBzdGFydCBhIG5ldyByb3cuXG4gICAgdmFyIGRheU9mV2VlayA9IGZpcnN0RGF5T2ZUaGVXZWVrO1xuICAgIHZhciBpdGVyYXRpb25EYXRlID0gZmlyc3REYXlPZk1vbnRoO1xuICAgIGZvciAodmFyIGQgPSAxOyBkIDw9IG51bWJlck9mRGF5c0luTW9udGg7IGQrKykge1xuICAgICAgLy8gSWYgd2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSB3ZWVrLCBzdGFydCBhIG5ldyByb3cuXG4gICAgICBpZiAoZGF5T2ZXZWVrID09PSA3KSB7XG4gICAgICAgIC8vIFdlJ3ZlIGZpbmlzaGVkIHRoZSBmaXJzdCByb3csIHNvIHdlJ3JlIGRvbmUgaWYgdGhpcyBpcyB0aGUgZmluYWwgbW9udGguXG4gICAgICAgIGlmIChpc0ZpbmFsTW9udGgpIHtcbiAgICAgICAgICByZXR1cm4gbW9udGhCb2R5O1xuICAgICAgICB9XG4gICAgICAgIGRheU9mV2VlayA9IDA7XG4gICAgICAgIHJvd051bWJlcisrO1xuICAgICAgICByb3cgPSB0aGlzLmJ1aWxkRGF0ZVJvdyhyb3dOdW1iZXIpO1xuICAgICAgICBtb250aEJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgIH1cblxuICAgICAgaXRlcmF0aW9uRGF0ZS5zZXREYXRlKGQpO1xuICAgICAgdmFyIGNlbGwgPSB0aGlzLmJ1aWxkRGF0ZUNlbGwoaXRlcmF0aW9uRGF0ZSk7XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG5cbiAgICAgIGRheU9mV2VlaysrO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBsYXN0IHJvdyBvZiB0aGUgbW9udGggaGFzIDcgY2VsbHMuXG4gICAgd2hpbGUgKHJvdy5jaGlsZE5vZGVzLmxlbmd0aCA8IDcpIHtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkRGF0ZUNlbGwoKSk7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIHRoYXQgYWxsIG1vbnRocyBoYXZlIDYgcm93cy4gVGhpcyBpcyBuZWNlc3NhcnkgZm9yIG5vdyBiZWNhdXNlIHRoZSB2aXJ0dWFsLXJlcGVhdFxuICAgIC8vIHJlcXVpcmVzIHRoYXQgYWxsIGl0ZW1zIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBoZWlnaHQuXG4gICAgd2hpbGUgKG1vbnRoQm9keS5jaGlsZE5vZGVzLmxlbmd0aCA8IDYpIHtcbiAgICAgIHZhciB3aGl0ZXNwYWNlUm93ID0gdGhpcy5idWlsZERhdGVSb3coKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIHdoaXRlc3BhY2VSb3cuYXBwZW5kQ2hpbGQodGhpcy5idWlsZERhdGVDZWxsKCkpO1xuICAgICAgfVxuICAgICAgbW9udGhCb2R5LmFwcGVuZENoaWxkKHdoaXRlc3BhY2VSb3cpO1xuICAgIH1cblxuICAgIHJldHVybiBtb250aEJvZHk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRheS1vZi10aGUtd2VlayBpbmRleCBmb3IgYSBkYXRlIGZvciB0aGUgY3VycmVudCBsb2NhbGUuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZVxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgY29sdW1uIGluZGV4IG9mIHRoZSBkYXRlIGluIHRoZSBjYWxlbmRhci5cbiAgICovXG4gIENhbGVuZGFyTW9udGhDdHJsLnByb3RvdHlwZS5nZXRMb2NhbGVEYXlfID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHJldHVybiAoZGF0ZS5nZXREYXkoKSArICg3IC0gdGhpcy5kYXRlTG9jYWxlLmZpcnN0RGF5T2ZXZWVrKSkgJSA3XG4gIH07XG59KSgpO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRtZERhdGVMb2NhbGVQcm92aWRlclxuICAgKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuZGF0ZXBpY2tlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGAkbWREYXRlTG9jYWxlUHJvdmlkZXJgIGlzIHRoZSBwcm92aWRlciB0aGF0IGNyZWF0ZXMgdGhlIGAkbWREYXRlTG9jYWxlYCBzZXJ2aWNlLlxuICAgKiBUaGlzIHByb3ZpZGVyIHRoYXQgYWxsb3dzIHRoZSB1c2VyIHRvIHNwZWNpZnkgbWVzc2FnZXMsIGZvcm1hdHRlcnMsIGFuZCBwYXJzZXJzIGZvciBkYXRlXG4gICAqIGludGVybmF0aW9uYWxpemF0aW9uLiBUaGUgYCRtZERhdGVMb2NhbGVgIHNlcnZpY2UgaXRzZWxmIGlzIGNvbnN1bWVkIGJ5IEFuZ3VsYXIgTWF0ZXJpYWxcbiAgICogY29tcG9uZW50cyB0aGF0IHRoYXQgZGVhbCB3aXRoIGRhdGVzLlxuICAgKlxuICAgKiBAcHJvcGVydHkgeyhBcnJheTxzdHJpbmc+KT19IG1vbnRocyBBcnJheSBvZiBtb250aCBuYW1lcyAoaW4gb3JkZXIpLlxuICAgKiBAcHJvcGVydHkgeyhBcnJheTxzdHJpbmc+KT19IHNob3J0TW9udGhzIEFycmF5IG9mIGFiYnJldmlhdGVkIG1vbnRoIG5hbWVzLlxuICAgKiBAcHJvcGVydHkgeyhBcnJheTxzdHJpbmc+KT19IGRheXMgQXJyYXkgb2YgdGhlIGRheXMgb2YgdGhlIHdlZWsgKGluIG9yZGVyKS5cbiAgICogQHByb3BlcnR5IHsoQXJyYXk8c3RyaW5nPik9fSBzaG9ydERheXMgQXJyYXkgb2YgYWJicmV2aWF0ZWQgZGF5ZXMgb2YgdGhlIHdlZWsuXG4gICAqIEBwcm9wZXJ0eSB7KEFycmF5PHN0cmluZz4pPX0gZGF0ZXMgQXJyYXkgb2YgZGF0ZXMgb2YgdGhlIG1vbnRoLiBPbmx5IG5lY2Vzc2FyeSBmb3IgbG9jYWxlc1xuICAgKiAgICAgdXNpbmcgYSBudW1lcmFsIHN5c3RlbSBvdGhlciB0aGFuIFsxLCAyLCAzLi4uXS5cbiAgICogQHByb3BlcnR5IHsoQXJyYXk8c3RyaW5nPik9fSBmaXJzdERheU9mV2VlayBUaGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLiBTdW5kYXkgPSAwLCBNb25kYXkgPSAxLFxuICAgKiAgICBldGMuXG4gICAqIEBwcm9wZXJ0eSB7KGZ1bmN0aW9uKHN0cmluZyk6IERhdGUpPX0gcGFyc2VEYXRlIEZ1bmN0aW9uIHRvIHBhcnNlIGEgZGF0ZSBvYmplY3QgZnJvbSBhIHN0cmluZy5cbiAgICogQHByb3BlcnR5IHsoZnVuY3Rpb24oRGF0ZSk6IHN0cmluZyk9fSBmb3JtYXREYXRlIEZ1bmN0aW9uIHRvIGZvcm1hdCBhIGRhdGUgb2JqZWN0IHRvIGEgc3RyaW5nLlxuICAgKiBAcHJvcGVydHkgeyhmdW5jdGlvbihEYXRlKTogc3RyaW5nKT19IG1vbnRoSGVhZGVyRm9ybWF0dGVyIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbGFiZWwgZm9yXG4gICAqICAgICBhIG1vbnRoIGdpdmVuIGEgZGF0ZS5cbiAgICogQHByb3BlcnR5IHsoZnVuY3Rpb24obnVtYmVyKTogc3RyaW5nKT19IHdlZWtOdW1iZXJGb3JtYXR0ZXIgRnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgbGFiZWwgZm9yXG4gICAqICAgICBhIHdlZWsgZ2l2ZW4gdGhlIHdlZWsgbnVtYmVyLlxuICAgKiBAcHJvcGVydHkgeyhzdHJpbmcpPX0gbXNnQ2FsZW5kYXIgVHJhbnNsYXRpb24gb2YgdGhlIGxhYmVsIFwiQ2FsZW5kYXJcIiBmb3IgdGhlIGN1cnJlbnQgbG9jYWxlLlxuICAgKiBAcHJvcGVydHkgeyhzdHJpbmcpPX0gbXNnT3BlbkNhbGVuZGFyIFRyYW5zbGF0aW9uIG9mIHRoZSBidXR0b24gbGFiZWwgXCJPcGVuIGNhbGVuZGFyXCIgZm9yIHRoZVxuICAgKiAgICAgY3VycmVudCBsb2NhbGUuXG4gICAqXG4gICAqIEB1c2FnZVxuICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICogICBteUFwcE1vZHVsZS5jb25maWcoZnVuY3Rpb24oJG1kRGF0ZUxvY2FsZVByb3ZpZGVyKSB7XG4gICAqXG4gICAqICAgICAvLyBFeGFtcGxlIG9mIGEgRnJlbmNoIGxvY2FsaXphdGlvbi5cbiAgICogICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5tb250aHMgPSBbJ2phbnZpZXInLCAnZsOpdnJpZXInLCAnbWFycycsIC4uLl07XG4gICAqICAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIuc2hvcnRNb250aHMgPSBbJ2phbnYnLCAnZsOpdnInLCAnbWFycycsIC4uLl07XG4gICAqICAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIuZGF5cyA9IFsnZGltYW5jaGUnLCAnbHVuZGknLCAnbWFyZGknLCAuLi5dO1xuICAgKiAgICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLnNob3J0RGF5cyA9IFsnRGknLCAnTHUnLCAnTWEnLCAuLi5dO1xuICAgKlxuICAgKiAgICAgLy8gQ2FuIGNoYW5nZSB3ZWVrIGRpc3BsYXkgdG8gc3RhcnQgb24gTW9uZGF5LlxuICAgKiAgICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmZpcnN0RGF5T2ZXZWVrID0gMTtcbiAgICpcbiAgICogICAgIC8vIE9wdGlvbmFsLlxuICAgKiAgICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmRhdGVzID0gWzEsIDIsIDMsIDQsIDUsIDYsIC4uLl07XG4gICAqXG4gICAqICAgICAvLyBFeGFtcGxlIHVzZXMgbW9tZW50LmpzIHRvIHBhcnNlIGFuZCBmb3JtYXQgZGF0ZXMuXG4gICAqICAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIucGFyc2VEYXRlID0gZnVuY3Rpb24oZGF0ZVN0cmluZykge1xuICAgKiAgICAgICB2YXIgbSA9IG1vbWVudChkYXRlU3RyaW5nLCAnTCcsIHRydWUpO1xuICAgKiAgICAgICByZXR1cm4gbS5pc1ZhbGlkKCkgPyBtLnRvRGF0ZSgpIDogbmV3IERhdGUoTmFOKTtcbiAgICogICAgIH07XG4gICAqXG4gICAqICAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICogICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQoJ0wnKTtcbiAgICogICAgIH07XG4gICAqXG4gICAqICAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIubW9udGhIZWFkZXJGb3JtYXR0ZXIgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAqICAgICAgIHJldHVybiBteVNob3J0TW9udGhzW2RhdGUuZ2V0TW9udGgoKV0gKyAnICcgKyBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAqICAgICB9O1xuICAgKlxuICAgKiAgICAgLy8gSW4gYWRkaXRpb24gdG8gZGF0ZSBkaXNwbGF5LCBkYXRlIGNvbXBvbmVudHMgYWxzbyBuZWVkIGxvY2FsaXplZCBtZXNzYWdlc1xuICAgKiAgICAgLy8gZm9yIGFyaWEtbGFiZWxzIGZvciBzY3JlZW4tcmVhZGVyIHVzZXJzLlxuICAgKlxuICAgKiAgICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLndlZWtOdW1iZXJGb3JtYXR0ZXIgPSBmdW5jdGlvbih3ZWVrTnVtYmVyKSB7XG4gICAqICAgICAgIHJldHVybiAnU2VtYWluZSAnICsgd2Vla051bWJlcjtcbiAgICogICAgIH07XG4gICAqXG4gICAqICAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIubXNnQ2FsZW5kYXIgPSAnQ2FsZW5kcmllcic7XG4gICAqICAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIubXNnT3BlbkNhbGVuZGFyID0gJ091dnJpciBsZSBjYWxlbmRyaWVyJztcbiAgICpcbiAgICogfSk7XG4gICAqIDwvaGxqcz5cbiAgICpcbiAgICovXG5cbiAgYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuZGF0ZXBpY2tlcicpLmNvbmZpZyhbXCIkcHJvdmlkZVwiLCBmdW5jdGlvbigkcHJvdmlkZSkge1xuICAgIC8vIFRPRE8oamVsYm91cm4pOiBBc3NlcnQgcHJvdmlkZWQgdmFsdWVzIGFyZSBjb3JyZWN0bHkgZm9ybWF0dGVkLiBOZWVkIGFzc2VydGlvbnMuXG5cbiAgICAvKiogQGNvbnN0cnVjdG9yICovXG4gICAgZnVuY3Rpb24gRGF0ZUxvY2FsZVByb3ZpZGVyKCkge1xuICAgICAgLyoqIEFycmF5IG9mIGZ1bGwgbW9udGggbmFtZXMuIEUuZy4sIFsnSmFudWFyeScsICdGZWJ1YXJ5JywgLi4uXSAqL1xuICAgICAgdGhpcy5tb250aHMgPSBudWxsO1xuXG4gICAgICAvKiogQXJyYXkgb2YgYWJicmV2aWF0ZWQgbW9udGggbmFtZXMuIEUuZy4sIFsnSmFuJywgJ0ZlYicsIC4uLl0gKi9cbiAgICAgIHRoaXMuc2hvcnRNb250aHMgPSBudWxsO1xuXG4gICAgICAvKiogQXJyYXkgb2YgZnVsbCBkYXkgb2YgdGhlIHdlZWsgbmFtZXMuIEUuZy4sIFsnTW9uZGF5JywgJ1R1ZXNkYXknLCAuLi5dICovXG4gICAgICB0aGlzLmRheXMgPSBudWxsO1xuXG4gICAgICAvKiogQXJyYXkgb2YgYWJicmV2aWF0ZWQgZGF0IG9mIHRoZSB3ZWVrIG5hbWVzLiBFLmcuLCBbJ00nLCAnVCcsIC4uLl0gKi9cbiAgICAgIHRoaXMuc2hvcnREYXlzID0gbnVsbDtcblxuICAgICAgLyoqIEFycmF5IG9mIGRhdGVzIG9mIGEgbW9udGggKDEgLSAzMSkuIENoYXJhY3RlcnMgbWlnaHQgYmUgZGlmZmVyZW50IGluIHNvbWUgbG9jYWxlcy4gKi9cbiAgICAgIHRoaXMuZGF0ZXMgPSBudWxsO1xuXG4gICAgICAvKiogSW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay4gMCA9IFN1bmRheSwgMSA9IE1vbmRheSwgZXRjLiAqL1xuICAgICAgdGhpcy5maXJzdERheU9mV2VlayA9IDA7XG5cbiAgICAgIC8qKlxuICAgICAgICogRnVuY3Rpb24gdGhhdCBjb252ZXJ0cyB0aGUgZGF0ZSBwb3J0aW9uIG9mIGEgRGF0ZSB0byBhIHN0cmluZy5cbiAgICAgICAqIEB0eXBlIHsoZnVuY3Rpb24oRGF0ZSk6IHN0cmluZyl9XG4gICAgICAgKi9cbiAgICAgIHRoaXMuZm9ybWF0RGF0ZSA9IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogRnVuY3Rpb24gdGhhdCBjb252ZXJ0cyBhIGRhdGUgc3RyaW5nIHRvIGEgRGF0ZSBvYmplY3QgKHRoZSBkYXRlIHBvcnRpb24pXG4gICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oc3RyaW5nKTogRGF0ZX1cbiAgICAgICAqL1xuICAgICAgdGhpcy5wYXJzZURhdGUgPSBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIEZ1bmN0aW9uIHRoYXQgZm9ybWF0cyBhIERhdGUgaW50byBhIG1vbnRoIGhlYWRlciBzdHJpbmcuXG4gICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oRGF0ZSk6IHN0cmluZ31cbiAgICAgICAqL1xuICAgICAgdGhpcy5tb250aEhlYWRlckZvcm1hdHRlciA9IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogRnVuY3Rpb24gdGhhdCBmb3JtYXRzIGEgd2VlayBudW1iZXIgaW50byBhIGxhYmVsIGZvciB0aGUgd2Vlay5cbiAgICAgICAqIEB0eXBlIHtmdW5jdGlvbihudW1iZXIpOiBzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgIHRoaXMud2Vla051bWJlckZvcm1hdHRlciA9IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogRnVuY3Rpb24gdGhhdCBmb3JtYXRzIGEgZGF0ZSBpbnRvIGEgbG9uZyBhcmlhLWxhYmVsIHRoYXQgaXMgcmVhZFxuICAgICAgICogd2hlbiB0aGUgZm9jdXNlZCBkYXRlIGNoYW5nZXMuXG4gICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oRGF0ZSk6IHN0cmluZ31cbiAgICAgICAqL1xuICAgICAgdGhpcy5sb25nRGF0ZUZvcm1hdHRlciA9IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogQVJJQSBsYWJlbCBmb3IgdGhlIGNhbGVuZGFyIFwiZGlhbG9nXCIgdXNlZCBpbiB0aGUgZGF0ZXBpY2tlci5cbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgIHRoaXMubXNnQ2FsZW5kYXIgPSAnJztcblxuICAgICAgLyoqXG4gICAgICAgKiBBUklBIGxhYmVsIGZvciB0aGUgZGF0ZXBpY2tlcidzIFwiT3BlbiBjYWxlbmRhclwiIGJ1dHRvbnMuXG4gICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICB0aGlzLm1zZ09wZW5DYWxlbmRhciA9ICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZhY3RvcnkgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGluc3RhbmNlIG9mIHRoZSBkYXRlTG9jYWxlIHNlcnZpY2UuXG4gICAgICogQG5nSW5qZWN0XG4gICAgICogQHBhcmFtICRsb2NhbGVcbiAgICAgKiBAcmV0dXJucyB7RGF0ZUxvY2FsZX1cbiAgICAgKi9cbiAgICBEYXRlTG9jYWxlUHJvdmlkZXIucHJvdG90eXBlLiRnZXQgPSBmdW5jdGlvbigkbG9jYWxlKSB7XG4gICAgICAvKipcbiAgICAgICAqIERlZmF1bHQgZGF0ZS10by1zdHJpbmcgZm9ybWF0dGluZyBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7IURhdGV9IGRhdGVcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGRlZmF1bHRGb3JtYXREYXRlKGRhdGUpIHtcbiAgICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxsIG9mIHRoZSBkYXRlcyBjcmVhdGVkIHRocm91Z2ggbmctbWF0ZXJpYWwgKnNob3VsZCogYmUgc2V0IHRvIG1pZG5pZ2h0LlxuICAgICAgICAvLyBJZiB3ZSBlbmNvdW50ZXIgYSBkYXRlIHdoZXJlIHRoZSBsb2NhbGVUaW1lIHNob3dzIGF0IDExcG0gaW5zdGVhZCBvZiBtaWRuaWdodCxcbiAgICAgICAgLy8gd2UgaGF2ZSBydW4gaW50byBhbiBpc3N1ZSB3aXRoIERTVCB3aGVyZSB3ZSBuZWVkIHRvIGluY3JlbWVudCB0aGUgaG91ciBieSBvbmU6XG4gICAgICAgIC8vIHZhciBkID0gbmV3IERhdGUoMTk5MiwgOSwgOCwgMCwgMCwgMCk7XG4gICAgICAgIC8vIGQudG9Mb2NhbGVTdHJpbmcoKTsgLy8gPT0gXCIxMC83LzE5OTIsIDExOjAwOjAwIFBNXCJcbiAgICAgICAgdmFyIGxvY2FsZVRpbWUgPSBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpO1xuICAgICAgICB2YXIgZm9ybWF0RGF0ZSA9IGRhdGU7XG4gICAgICAgIGlmIChkYXRlLmdldEhvdXJzKCkgPT0gMCAmJlxuICAgICAgICAgICAgKGxvY2FsZVRpbWUuaW5kZXhPZignMTE6JykgIT09IC0xIHx8IGxvY2FsZVRpbWUuaW5kZXhPZignMjM6JykgIT09IC0xKSkge1xuICAgICAgICAgIGZvcm1hdERhdGUgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCksIDEsIDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRGVmYXVsdCBzdHJpbmctdG8tZGF0ZSBwYXJzaW5nIGZ1bmN0aW9uLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGVTdHJpbmdcbiAgICAgICAqIEByZXR1cm5zIHshRGF0ZX1cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZGVmYXVsdFBhcnNlRGF0ZShkYXRlU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBEZWZhdWx0IGZ1bmN0aW9uIHRvIGRldGVybWluZSB3aGV0aGVyIGEgc3RyaW5nIG1ha2VzIHNlbnNlIHRvIGJlXG4gICAgICAgKiBwYXJzZWQgdG8gYSBEYXRlIG9iamVjdC5cbiAgICAgICAqXG4gICAgICAgKiBUaGlzIGlzIHZlcnkgcGVybWlzc2l2ZSBhbmQgaXMganVzdCBhIGJhc2ljIHNhbml0eSBjaGVjayB0byBlbnN1cmUgdGhhdFxuICAgICAgICogdGhpbmdzIGxpa2Ugc2luZ2xlIGludGVnZXJzIGFyZW4ndCBhYmxlIHRvIGJlIHBhcnNlZCBpbnRvIGRhdGVzLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGVTdHJpbmdcbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBkZWZhdWx0SXNEYXRlQ29tcGxldGUoZGF0ZVN0cmluZykge1xuICAgICAgICBkYXRlU3RyaW5nID0gZGF0ZVN0cmluZy50cmltKCk7XG5cbiAgICAgICAgLy8gTG9va3MgZm9yIHRocmVlIGNodW5rcyBvZiBjb250ZW50IChlaXRoZXIgbnVtYmVycyBvciB0ZXh0KSBzZXBhcmF0ZWRcbiAgICAgICAgLy8gYnkgZGVsaW1pdGVycy5cbiAgICAgICAgdmFyIHJlID0gL14oKFthLXpBLVpdezMsfXxbMC05XXsxLDR9KShbIFxcLixdK3xbXFwvXFwtXSkpezJ9KFthLXpBLVpdezMsfXxbMC05XXsxLDR9KSQvO1xuICAgICAgICByZXR1cm4gcmUudGVzdChkYXRlU3RyaW5nKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBEZWZhdWx0IGRhdGUtdG8tc3RyaW5nIGZvcm1hdHRlciB0byBnZXQgYSBtb250aCBoZWFkZXIuXG4gICAgICAgKiBAcGFyYW0geyFEYXRlfSBkYXRlXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBkZWZhdWx0TW9udGhIZWFkZXJGb3JtYXR0ZXIoZGF0ZSkge1xuICAgICAgICByZXR1cm4gc2VydmljZS5zaG9ydE1vbnRoc1tkYXRlLmdldE1vbnRoKCldICsgJyAnICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIERlZmF1bHQgd2VlayBudW1iZXIgZm9ybWF0dGVyLlxuICAgICAgICogQHBhcmFtIG51bWJlclxuICAgICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZGVmYXVsdFdlZWtOdW1iZXJGb3JtYXR0ZXIobnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAnV2VlayAnICsgbnVtYmVyO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIERlZmF1bHQgZm9ybWF0dGVyIGZvciBkYXRlIGNlbGwgYXJpYS1sYWJlbHMuXG4gICAgICAgKiBAcGFyYW0geyFEYXRlfSBkYXRlXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXR0ZXIoZGF0ZSkge1xuICAgICAgICAvLyBFeGFtcGxlOiAnVGh1cnNkYXkgSnVuZSAxOCAyMDE1J1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHNlcnZpY2UuZGF5c1tkYXRlLmdldERheSgpXSxcbiAgICAgICAgICBzZXJ2aWNlLm1vbnRoc1tkYXRlLmdldE1vbnRoKCldLFxuICAgICAgICAgIHNlcnZpY2UuZGF0ZXNbZGF0ZS5nZXREYXRlKCldLFxuICAgICAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKVxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGRlZmF1bHQgXCJzaG9ydFwiIGRheSBzdHJpbmdzIGFyZSB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGVhY2ggZGF5LFxuICAgICAgLy8gZS5nLiwgXCJNb25kYXlcIiA9PiBcIk1cIi5cbiAgICAgIHZhciBkZWZhdWx0U2hvcnREYXlzID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkRBWS5tYXAoZnVuY3Rpb24oZGF5KSB7XG4gICAgICAgIHJldHVybiBkYXlbMF07XG4gICAgICB9KTtcblxuICAgICAgLy8gVGhlIGRlZmF1bHQgZGF0ZXMgYXJlIHNpbXBseSB0aGUgbnVtYmVycyAxIHRocm91Z2ggMzEuXG4gICAgICB2YXIgZGVmYXVsdERhdGVzID0gQXJyYXkoMzIpO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMzE7IGkrKykge1xuICAgICAgICBkZWZhdWx0RGF0ZXNbaV0gPSBpO1xuICAgICAgfVxuXG4gICAgICAvLyBEZWZhdWx0IEFSSUEgbWVzc2FnZXMgYXJlIGluIEVuZ2xpc2ggKFVTKS5cbiAgICAgIHZhciBkZWZhdWx0TXNnQ2FsZW5kYXIgPSAnQ2FsZW5kYXInO1xuICAgICAgdmFyIGRlZmF1bHRNc2dPcGVuQ2FsZW5kYXIgPSAnT3BlbiBjYWxlbmRhcic7XG5cbiAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICBtb250aHM6IHRoaXMubW9udGhzIHx8ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USCxcbiAgICAgICAgc2hvcnRNb250aHM6IHRoaXMuc2hvcnRNb250aHMgfHwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEgsXG4gICAgICAgIGRheXM6IHRoaXMuZGF5cyB8fCAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuREFZLFxuICAgICAgICBzaG9ydERheXM6IHRoaXMuc2hvcnREYXlzIHx8IGRlZmF1bHRTaG9ydERheXMsXG4gICAgICAgIGRhdGVzOiB0aGlzLmRhdGVzIHx8IGRlZmF1bHREYXRlcyxcbiAgICAgICAgZmlyc3REYXlPZldlZWs6IHRoaXMuZmlyc3REYXlPZldlZWsgfHwgMCxcbiAgICAgICAgZm9ybWF0RGF0ZTogdGhpcy5mb3JtYXREYXRlIHx8IGRlZmF1bHRGb3JtYXREYXRlLFxuICAgICAgICBwYXJzZURhdGU6IHRoaXMucGFyc2VEYXRlIHx8IGRlZmF1bHRQYXJzZURhdGUsXG4gICAgICAgIGlzRGF0ZUNvbXBsZXRlOiB0aGlzLmlzRGF0ZUNvbXBsZXRlIHx8IGRlZmF1bHRJc0RhdGVDb21wbGV0ZSxcbiAgICAgICAgbW9udGhIZWFkZXJGb3JtYXR0ZXI6IHRoaXMubW9udGhIZWFkZXJGb3JtYXR0ZXIgfHwgZGVmYXVsdE1vbnRoSGVhZGVyRm9ybWF0dGVyLFxuICAgICAgICB3ZWVrTnVtYmVyRm9ybWF0dGVyOiB0aGlzLndlZWtOdW1iZXJGb3JtYXR0ZXIgfHwgZGVmYXVsdFdlZWtOdW1iZXJGb3JtYXR0ZXIsXG4gICAgICAgIGxvbmdEYXRlRm9ybWF0dGVyOiB0aGlzLmxvbmdEYXRlRm9ybWF0dGVyIHx8IGRlZmF1bHRMb25nRGF0ZUZvcm1hdHRlcixcbiAgICAgICAgbXNnQ2FsZW5kYXI6IHRoaXMubXNnQ2FsZW5kYXIgfHwgZGVmYXVsdE1zZ0NhbGVuZGFyLFxuICAgICAgICBtc2dPcGVuQ2FsZW5kYXI6IHRoaXMubXNnT3BlbkNhbGVuZGFyIHx8IGRlZmF1bHRNc2dPcGVuQ2FsZW5kYXJcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgIH07XG4gICAgRGF0ZUxvY2FsZVByb3ZpZGVyLnByb3RvdHlwZS4kZ2V0LiRpbmplY3QgPSBbXCIkbG9jYWxlXCJdO1xuXG4gICAgJHByb3ZpZGUucHJvdmlkZXIoJyRtZERhdGVMb2NhbGUnLCBuZXcgRGF0ZUxvY2FsZVByb3ZpZGVyKCkpO1xuICB9XSk7XG59KSgpO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gUE9TVCBSRUxFQVNFXG4gIC8vIFRPRE8oamVsYm91cm4pOiBEZW1vIHRoYXQgdXNlcyBtb21lbnQuanNcbiAgLy8gVE9ETyhqZWxib3Vybik6IG1ha2Ugc3VyZSB0aGlzIHBsYXlzIHdlbGwgd2l0aCB2YWxpZGF0aW9uIGFuZCBuZ01lc3NhZ2VzLlxuICAvLyBUT0RPKGplbGJvdXJuKTogY2FsZW5kYXIgcGFuZSBkb2Vzbid0IG9wZW4gdXAgb3V0c2lkZSBvZiB2aXNpYmxlIHZpZXdwb3J0LlxuICAvLyBUT0RPKGplbGJvdXJuKTogZm9yd2FyZCBtb3JlIGF0dHJpYnV0ZXMgdG8gdGhlIGludGVybmFsIGlucHV0IChyZXF1aXJlZCwgYXV0b2ZvY3VzLCBldGMuKVxuICAvLyBUT0RPKGplbGJvdXJuKTogc29tZXRoaW5nIGJldHRlciBmb3IgbW9iaWxlIChjYWxlbmRhciBwYW5lbCB0YWtlcyB1cCBlbnRpcmUgc2NyZWVuPylcbiAgLy8gVE9ETyhqZWxib3Vybik6IGlucHV0IGJlaGF2aW9yIChtYXNraW5nPyBhdXRvLWNvbXBsZXRlPylcbiAgLy8gVE9ETyhqZWxib3Vybik6IFVUQyBtb2RlXG4gIC8vIFRPRE8oamVsYm91cm4pOiBSVExcblxuXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmRhdGVwaWNrZXInKVxuICAgICAgLmRpcmVjdGl2ZSgnbWREYXRlcGlja2VyJywgZGF0ZVBpY2tlckRpcmVjdGl2ZSk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICogQG5hbWUgbWREYXRlcGlja2VyXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5kYXRlcGlja2VyXG4gICAqXG4gICAqIEBwYXJhbSB7RGF0ZX0gbmctbW9kZWwgVGhlIGNvbXBvbmVudCdzIG1vZGVsLiBFeHBlY3RzIGEgSmF2YVNjcmlwdCBEYXRlIG9iamVjdC5cbiAgICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmctY2hhbmdlIEV4cHJlc3Npb24gZXZhbHVhdGVkIHdoZW4gdGhlIG1vZGVsIHZhbHVlIGNoYW5nZXMuXG4gICAqIEBwYXJhbSB7RGF0ZT19IG1kLW1pbi1kYXRlIEV4cHJlc3Npb24gcmVwcmVzZW50aW5nIGEgbWluIGRhdGUgKGluY2x1c2l2ZSkuXG4gICAqIEBwYXJhbSB7RGF0ZT19IG1kLW1heC1kYXRlIEV4cHJlc3Npb24gcmVwcmVzZW50aW5nIGEgbWF4IGRhdGUgKGluY2x1c2l2ZSkuXG4gICAqIEBwYXJhbSB7KGZ1bmN0aW9uKERhdGUpOiBib29sZWFuKT19IG1kLWRhdGUtZmlsdGVyIEZ1bmN0aW9uIGV4cGVjdGluZyBhIGRhdGUgYW5kIHJldHVybmluZyBhIGJvb2xlYW4gd2hldGhlciBpdCBjYW4gYmUgc2VsZWN0ZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge1N0cmluZz19IG1kLXBsYWNlaG9sZGVyIFRoZSBkYXRlIGlucHV0IHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBuZy1kaXNhYmxlZCBXaGV0aGVyIHRoZSBkYXRlcGlja2VyIGlzIGRpc2FibGVkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBuZy1yZXF1aXJlZCBXaGV0aGVyIGEgdmFsdWUgaXMgcmVxdWlyZWQgZm9yIHRoZSBkYXRlcGlja2VyLlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogYDxtZC1kYXRlcGlja2VyPmAgaXMgYSBjb21wb25lbnQgdXNlZCB0byBzZWxlY3QgYSBzaW5nbGUgZGF0ZS5cbiAgICogRm9yIGluZm9ybWF0aW9uIG9uIGhvdyB0byBjb25maWd1cmUgaW50ZXJuYXRpb25hbGl6YXRpb24gZm9yIHRoZSBkYXRlIHBpY2tlcixcbiAgICogc2VlIGAkbWREYXRlTG9jYWxlUHJvdmlkZXJgLlxuICAgKlxuICAgKiBUaGlzIGNvbXBvbmVudCBzdXBwb3J0cyBbbmdNZXNzYWdlc10oaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nTWVzc2FnZXMvZGlyZWN0aXZlL25nTWVzc2FnZXMpLlxuICAgKiBTdXBwb3J0ZWQgYXR0cmlidXRlcyBhcmU6XG4gICAqICogYHJlcXVpcmVkYDogd2hldGhlciBhIHJlcXVpcmVkIGRhdGUgaXMgbm90IHNldC5cbiAgICogKiBgbWluZGF0ZWA6IHdoZXRoZXIgdGhlIHNlbGVjdGVkIGRhdGUgaXMgYmVmb3JlIHRoZSBtaW5pbXVtIGFsbG93ZWQgZGF0ZS5cbiAgICogKiBgbWF4ZGF0ZWA6IHdoZXRoZXIgdGhlIHNlbGVjdGVkIGRhdGUgaXMgYWZ0ZXIgdGhlIG1heGltdW0gYWxsb3dlZCBkYXRlLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAgICogICA8bWQtZGF0ZXBpY2tlciBuZy1tb2RlbD1cImJpcnRoZGF5XCI+PC9tZC1kYXRlcGlja2VyPlxuICAgKiA8L2hsanM+XG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBkYXRlUGlja2VyRGlyZWN0aXZlKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZW1wbGF0ZTpcbiAgICAgICAgICAvLyBCdXR0b25zIGFyZSBub3QgaW4gdGhlIHRhYiBvcmRlciBiZWNhdXNlIHVzZXJzIGNhbiBvcGVuIHRoZSBjYWxlbmRhciB2aWEga2V5Ym9hcmRcbiAgICAgICAgICAvLyBpbnRlcmFjdGlvbiBvbiB0aGUgdGV4dCBpbnB1dCwgYW5kIG11bHRpcGxlIHRhYiBzdG9wcyBmb3Igb25lIGNvbXBvbmVudCAocGlja2VyKVxuICAgICAgICAgIC8vIG1heSBiZSBjb25mdXNpbmcuXG4gICAgICAgICAgJzxtZC1idXR0b24gY2xhc3M9XCJtZC1kYXRlcGlja2VyLWJ1dHRvbiBtZC1pY29uLWJ1dHRvblwiIHR5cGU9XCJidXR0b25cIiAnICtcbiAgICAgICAgICAgICAgJ3RhYmluZGV4PVwiLTFcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAnICtcbiAgICAgICAgICAgICAgJ25nLWNsaWNrPVwiY3RybC5vcGVuQ2FsZW5kYXJQYW5lKCRldmVudClcIj4nICtcbiAgICAgICAgICAgICc8bWQtaWNvbiBjbGFzcz1cIm1kLWRhdGVwaWNrZXItY2FsZW5kYXItaWNvblwiIG1kLXN2Zy1pY29uPVwibWQtY2FsZW5kYXJcIj48L21kLWljb24+JyArXG4gICAgICAgICAgJzwvbWQtYnV0dG9uPicgK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtZGF0ZXBpY2tlci1pbnB1dC1jb250YWluZXJcIiAnICtcbiAgICAgICAgICAgICAgJ25nLWNsYXNzPVwie1xcJ21kLWRhdGVwaWNrZXItZm9jdXNlZFxcJzogY3RybC5pc0ZvY3VzZWR9XCI+JyArXG4gICAgICAgICAgICAnPGlucHV0IGNsYXNzPVwibWQtZGF0ZXBpY2tlci1pbnB1dFwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgJyArXG4gICAgICAgICAgICAgICAgJ25nLWZvY3VzPVwiY3RybC5zZXRGb2N1c2VkKHRydWUpXCIgbmctYmx1cj1cImN0cmwuc2V0Rm9jdXNlZChmYWxzZSlcIj4nICtcbiAgICAgICAgICAgICc8bWQtYnV0dG9uIHR5cGU9XCJidXR0b25cIiBtZC1uby1pbmsgJyArXG4gICAgICAgICAgICAgICAgJ2NsYXNzPVwibWQtZGF0ZXBpY2tlci10cmlhbmdsZS1idXR0b24gbWQtaWNvbi1idXR0b25cIiAnICtcbiAgICAgICAgICAgICAgICAnbmctY2xpY2s9XCJjdHJsLm9wZW5DYWxlbmRhclBhbmUoJGV2ZW50KVwiICcgK1xuICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsPVwie3s6OmN0cmwuZGF0ZUxvY2FsZS5tc2dPcGVuQ2FsZW5kYXJ9fVwiPicgK1xuICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWRhdGVwaWNrZXItZXhwYW5kLXRyaWFuZ2xlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnPC9tZC1idXR0b24+JyArXG4gICAgICAgICAgJzwvZGl2PicgK1xuXG4gICAgICAgICAgLy8gVGhpcyBwYW5lIHdpbGwgYmUgZGV0YWNoZWQgZnJvbSBoZXJlIGFuZCByZS1hdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQgYm9keS5cbiAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWRhdGVwaWNrZXItY2FsZW5kYXItcGFuZSBtZC13aGl0ZWZyYW1lLXoxXCI+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWRhdGVwaWNrZXItaW5wdXQtbWFza1wiPicgK1xuICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWRhdGVwaWNrZXItaW5wdXQtbWFzay1vcGFxdWVcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtZGF0ZXBpY2tlci1jYWxlbmRhclwiPicgK1xuICAgICAgICAgICAgICAnPG1kLWNhbGVuZGFyIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWxhYmVsPVwie3s6OmN0cmwuZGF0ZUxvY2FsZS5tc2dDYWxlbmRhcn19XCIgJyArXG4gICAgICAgICAgICAgICAgICAnbWQtbWluLWRhdGU9XCJjdHJsLm1pbkRhdGVcIiBtZC1tYXgtZGF0ZT1cImN0cmwubWF4RGF0ZVwiJyArXG4gICAgICAgICAgICAgICAgICAnbWQtZGF0ZS1maWx0ZXI9XCJjdHJsLmRhdGVGaWx0ZXJcIicgK1xuICAgICAgICAgICAgICAgICAgJ25nLW1vZGVsPVwiY3RybC5kYXRlXCIgbmctaWY9XCJjdHJsLmlzQ2FsZW5kYXJPcGVuXCI+JyArXG4gICAgICAgICAgICAgICc8L21kLWNhbGVuZGFyPicgK1xuICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ21kRGF0ZXBpY2tlcicsICc/Xm1kSW5wdXRDb250YWluZXInXSxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG1pbkRhdGU6ICc9bWRNaW5EYXRlJyxcbiAgICAgICAgbWF4RGF0ZTogJz1tZE1heERhdGUnLFxuICAgICAgICBwbGFjZWhvbGRlcjogJ0BtZFBsYWNlaG9sZGVyJyxcbiAgICAgICAgZGF0ZUZpbHRlcjogJz1tZERhdGVGaWx0ZXInXG4gICAgICB9LFxuICAgICAgY29udHJvbGxlcjogRGF0ZVBpY2tlckN0cmwsXG4gICAgICBjb250cm9sbGVyQXM6ICdjdHJsJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udHJvbGxlcnMpIHtcbiAgICAgICAgdmFyIG5nTW9kZWxDdHJsID0gY29udHJvbGxlcnNbMF07XG4gICAgICAgIHZhciBtZERhdGVQaWNrZXJDdHJsID0gY29udHJvbGxlcnNbMV07XG5cbiAgICAgICAgdmFyIG1kSW5wdXRDb250YWluZXIgPSBjb250cm9sbGVyc1syXTtcbiAgICAgICAgaWYgKG1kSW5wdXRDb250YWluZXIpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcignbWQtZGF0ZXBpY2tlciBzaG91bGQgbm90IGJlIHBsYWNlZCBpbnNpZGUgbWQtaW5wdXQtY29udGFpbmVyLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWREYXRlUGlja2VyQ3RybC5jb25maWd1cmVOZ01vZGVsKG5nTW9kZWxDdHJsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqIEFkZGl0aW9uYWwgb2Zmc2V0IGZvciB0aGUgaW5wdXQncyBgc2l6ZWAgYXR0cmlidXRlLCB3aGljaCBpcyB1cGRhdGVkIGJhc2VkIG9uIGl0cyBjb250ZW50LiAqL1xuICB2YXIgRVhUUkFfSU5QVVRfU0laRSA9IDM7XG5cbiAgLyoqIENsYXNzIGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lciBpZiB0aGUgZGF0ZSBpcyBpbnZhbGlkLiAqL1xuICB2YXIgSU5WQUxJRF9DTEFTUyA9ICdtZC1kYXRlcGlja2VyLWludmFsaWQnO1xuXG4gIC8qKiBEZWZhdWx0IHRpbWUgaW4gbXMgdG8gZGVib3VuY2UgaW5wdXQgZXZlbnQgYnkuICovXG4gIHZhciBERUZBVUxUX0RFQk9VTkNFX0lOVEVSVkFMID0gNTAwO1xuXG4gIC8qKlxuICAgKiBIZWlnaHQgb2YgdGhlIGNhbGVuZGFyIHBhbmUgdXNlZCB0byBjaGVjayBpZiB0aGUgcGFuZSBpcyBnb2luZyBvdXRzaWRlIHRoZSBib3VuZGFyeSBvZlxuICAgKiB0aGUgdmlld3BvcnQuIFNlZSBjYWxlbmRhci5zY3NzIGZvciBob3cgJG1kLWNhbGVuZGFyLWhlaWdodCBpcyBjb21wdXRlZDsgYW4gZXh0cmEgMjBweCBpc1xuICAgKiBhbHNvIGFkZGVkIHRvIHNwYWNlIHRoZSBwYW5lIGF3YXkgZnJvbSB0aGUgZXhhY3QgZWRnZSBvZiB0aGUgc2NyZWVuLlxuICAgKlxuICAgKiAgVGhpcyBpcyBjb21wdXRlZCBzdGF0aWNhbGx5IG5vdywgYnV0IGNhbiBiZSBjaGFuZ2VkIHRvIGJlIG1lYXN1cmVkIGlmIHRoZSBjaXJjdW1zdGFuY2VzXG4gICAqICBvZiBjYWxlbmRhciBzaXppbmcgYXJlIGNoYW5nZWQuXG4gICAqL1xuICB2YXIgQ0FMRU5EQVJfUEFORV9IRUlHSFQgPSAzNjg7XG5cbiAgLyoqXG4gICAqIFdpZHRoIG9mIHRoZSBjYWxlbmRhciBwYW5lIHVzZWQgdG8gY2hlY2sgaWYgdGhlIHBhbmUgaXMgZ29pbmcgb3V0c2lkZSB0aGUgYm91bmRhcnkgb2ZcbiAgICogdGhlIHZpZXdwb3J0LiBTZWUgY2FsZW5kYXIuc2NzcyBmb3IgaG93ICRtZC1jYWxlbmRhci13aWR0aCBpcyBjb21wdXRlZDsgYW4gZXh0cmEgMjBweCBpc1xuICAgKiBhbHNvIGFkZGVkIHRvIHNwYWNlIHRoZSBwYW5lIGF3YXkgZnJvbSB0aGUgZXhhY3QgZWRnZSBvZiB0aGUgc2NyZWVuLlxuICAgKlxuICAgKiAgVGhpcyBpcyBjb21wdXRlZCBzdGF0aWNhbGx5IG5vdywgYnV0IGNhbiBiZSBjaGFuZ2VkIHRvIGJlIG1lYXN1cmVkIGlmIHRoZSBjaXJjdW1zdGFuY2VzXG4gICAqICBvZiBjYWxlbmRhciBzaXppbmcgYXJlIGNoYW5nZWQuXG4gICAqL1xuICB2YXIgQ0FMRU5EQVJfUEFORV9XSURUSCA9IDM2MDtcblxuICAvKipcbiAgICogQ29udHJvbGxlciBmb3IgbWQtZGF0ZXBpY2tlci5cbiAgICpcbiAgICogQG5nSW5qZWN0IEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZnVuY3Rpb24gRGF0ZVBpY2tlckN0cmwoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkY29tcGlsZSwgJHRpbWVvdXQsICR3aW5kb3csXG4gICAgICAkbWRDb25zdGFudCwgJG1kVGhlbWluZywgJG1kVXRpbCwgJG1kRGF0ZUxvY2FsZSwgJCRtZERhdGVVdGlsLCAkJHJBRikge1xuICAgIC8qKiBAZmluYWwgKi9cbiAgICB0aGlzLiRjb21waWxlID0gJGNvbXBpbGU7XG5cbiAgICAvKiogQGZpbmFsICovXG4gICAgdGhpcy4kdGltZW91dCA9ICR0aW1lb3V0O1xuXG4gICAgLyoqIEBmaW5hbCAqL1xuICAgIHRoaXMuJHdpbmRvdyA9ICR3aW5kb3c7XG5cbiAgICAvKiogQGZpbmFsICovXG4gICAgdGhpcy5kYXRlTG9jYWxlID0gJG1kRGF0ZUxvY2FsZTtcblxuICAgIC8qKiBAZmluYWwgKi9cbiAgICB0aGlzLmRhdGVVdGlsID0gJCRtZERhdGVVdGlsO1xuXG4gICAgLyoqIEBmaW5hbCAqL1xuICAgIHRoaXMuJG1kQ29uc3RhbnQgPSAkbWRDb25zdGFudDtcblxuICAgIC8qIEBmaW5hbCAqL1xuICAgIHRoaXMuJG1kVXRpbCA9ICRtZFV0aWw7XG5cbiAgICAvKiogQGZpbmFsICovXG4gICAgdGhpcy4kJHJBRiA9ICQkckFGO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvb3QgZG9jdW1lbnQgZWxlbWVudC4gVGhpcyBpcyB1c2VkIGZvciBhdHRhY2hpbmcgYSB0b3AtbGV2ZWwgY2xpY2sgaGFuZGxlciB0b1xuICAgICAqIGNsb3NlIHRoZSBjYWxlbmRhciBwYW5lbCB3aGVuIGEgY2xpY2sgb3V0c2lkZSBzYWlkIHBhbmVsIG9jY3Vycy4gV2UgdXNlIGBkb2N1bWVudEVsZW1lbnRgXG4gICAgICogaW5zdGVhZCBvZiBib2R5IGJlY2F1c2UsIHdoZW4gc2Nyb2xsaW5nIGlzIGRpc2FibGVkLCBzb21lIGJyb3dzZXJzIGNvbnNpZGVyIHRoZSBib2R5IGVsZW1lbnRcbiAgICAgKiB0byBiZSBjb21wbGV0ZWx5IG9mZiB0aGUgc2NyZWVuIGFuZCBwcm9wYWdhdGUgZXZlbnRzIGRpcmVjdGx5IHRvIHRoZSBodG1sIGVsZW1lbnQuXG4gICAgICogQHR5cGUgeyFhbmd1bGFyLkpRTGl0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmRvY3VtZW50RWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuXG4gICAgLyoqIEB0eXBlIHshYW5ndWxhci5OZ01vZGVsQ29udHJvbGxlcn0gKi9cbiAgICB0aGlzLm5nTW9kZWxDdHJsID0gbnVsbDtcblxuICAgIC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gKi9cbiAgICB0aGlzLmlucHV0RWxlbWVudCA9ICRlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG5cbiAgICAvKiogQGZpbmFsIHshYW5ndWxhci5KUUxpdGV9ICovXG4gICAgdGhpcy5uZ0lucHV0RWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzLmlucHV0RWxlbWVudCk7XG5cbiAgICAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqL1xuICAgIHRoaXMuaW5wdXRDb250YWluZXIgPSAkZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtZGF0ZXBpY2tlci1pbnB1dC1jb250YWluZXInKTtcblxuICAgIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9IEZsb2F0aW5nIGNhbGVuZGFyIHBhbmUuICovXG4gICAgdGhpcy5jYWxlbmRhclBhbmUgPSAkZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtZGF0ZXBpY2tlci1jYWxlbmRhci1wYW5lJyk7XG5cbiAgICAvKiogQHR5cGUge0hUTUxFbGVtZW50fSBDYWxlbmRhciBpY29uIGJ1dHRvbi4gKi9cbiAgICB0aGlzLmNhbGVuZGFyQnV0dG9uID0gJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLWRhdGVwaWNrZXItYnV0dG9uJyk7XG5cbiAgICAvKipcbiAgICAgKiBFbGVtZW50IGNvdmVyaW5nIGV2ZXJ5dGhpbmcgYnV0IHRoZSBpbnB1dCBpbiB0aGUgdG9wIG9mIHRoZSBmbG9hdGluZyBjYWxlbmRhciBwYW5lLlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmlucHV0TWFzayA9ICRlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1kYXRlcGlja2VyLWlucHV0LW1hc2stb3BhcXVlJyk7XG5cbiAgICAvKiogQGZpbmFsIHshYW5ndWxhci5KUUxpdGV9ICovXG4gICAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuXG4gICAgLyoqIEBmaW5hbCB7IWFuZ3VsYXIuQXR0cmlidXRlc30gKi9cbiAgICB0aGlzLiRhdHRycyA9ICRhdHRycztcblxuICAgIC8qKiBAZmluYWwgeyFhbmd1bGFyLlNjb3BlfSAqL1xuICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xuXG4gICAgLyoqIEB0eXBlIHtEYXRlfSAqL1xuICAgIHRoaXMuZGF0ZSA9IG51bGw7XG5cbiAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcblxuICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmlzRGlzYWJsZWQ7XG4gICAgdGhpcy5zZXREaXNhYmxlZCgkZWxlbWVudFswXS5kaXNhYmxlZCB8fCBhbmd1bGFyLmlzU3RyaW5nKCRhdHRyc1snZGlzYWJsZWQnXSkpO1xuXG4gICAgLyoqIEB0eXBlIHtib29sZWFufSBXaGV0aGVyIHRoZSBkYXRlLXBpY2tlcidzIGNhbGVuZGFyIHBhbmUgaXMgb3Blbi4gKi9cbiAgICB0aGlzLmlzQ2FsZW5kYXJPcGVuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBFbGVtZW50IGZyb20gd2hpY2ggdGhlIGNhbGVuZGFyIHBhbmUgd2FzIG9wZW5lZC4gS2VlcCB0cmFjayBvZiB0aGlzIHNvIHRoYXQgd2UgY2FuIHJldHVyblxuICAgICAqIGZvY3VzIHRvIGl0IHdoZW4gdGhlIHBhbmUgaXMgY2xvc2VkLlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmNhbGVuZGFyUGFuZU9wZW5lZEZyb20gPSBudWxsO1xuXG4gICAgdGhpcy5jYWxlbmRhclBhbmUuaWQgPSAnbWQtZGF0ZS1wYW5lJyArICRtZFV0aWwubmV4dFVpZCgpO1xuXG4gICAgJG1kVGhlbWluZygkZWxlbWVudCk7XG5cbiAgICAvKiogUHJlLWJvdW5kIGNsaWNrIGhhbmRsZXIgaXMgc2F2ZWQgc28gdGhhdCB0aGUgZXZlbnQgbGlzdGVuZXIgY2FuIGJlIHJlbW92ZWQuICovXG4gICAgdGhpcy5ib2R5Q2xpY2tIYW5kbGVyID0gYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMuaGFuZGxlQm9keUNsaWNrKTtcblxuICAgIC8qKiBQcmUtYm91bmQgcmVzaXplIGhhbmRsZXIgc28gdGhhdCB0aGUgZXZlbnQgbGlzdGVuZXIgY2FuIGJlIHJlbW92ZWQuICovXG4gICAgdGhpcy53aW5kb3dSZXNpemVIYW5kbGVyID0gJG1kVXRpbC5kZWJvdW5jZShhbmd1bGFyLmJpbmQodGhpcywgdGhpcy5jbG9zZUNhbGVuZGFyUGFuZSksIDEwMCk7XG5cbiAgICAvLyBVbmxlc3MgdGhlIHVzZXIgc3BlY2lmaWVzIHNvLCB0aGUgZGF0ZXBpY2tlciBzaG91bGQgbm90IGJlIGEgdGFiIHN0b3AuXG4gICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBuZ0FyaWEgbWlnaHQgYWRkIGEgdGFiaW5kZXggdG8gYW55dGhpbmcgd2l0aCBhbiBuZy1tb2RlbFxuICAgIC8vIChiYXNlZCBvbiB3aGV0aGVyIG9yIG5vdCB0aGUgdXNlciBoYXMgdHVybmVkIHRoYXQgcGFydGljdWxhciBmZWF0dXJlIG9uL29mZikuXG4gICAgaWYgKCEkYXR0cnNbJ3RhYmluZGV4J10pIHtcbiAgICAgICRlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pbnN0YWxsUHJvcGVydHlJbnRlcmNlcHRvcnMoKTtcbiAgICB0aGlzLmF0dGFjaENoYW5nZUxpc3RlbmVycygpO1xuICAgIHRoaXMuYXR0YWNoSW50ZXJhY3Rpb25MaXN0ZW5lcnMoKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5kZXRhY2hDYWxlbmRhclBhbmUoKTtcbiAgICB9KTtcbiAgfVxuICBEYXRlUGlja2VyQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkYXR0cnNcIiwgXCIkY29tcGlsZVwiLCBcIiR0aW1lb3V0XCIsIFwiJHdpbmRvd1wiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRtZFV0aWxcIiwgXCIkbWREYXRlTG9jYWxlXCIsIFwiJCRtZERhdGVVdGlsXCIsIFwiJCRyQUZcIl07XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhlIGNvbnRyb2xsZXIncyByZWZlcmVuY2UgdG8gbmdNb2RlbENvbnRyb2xsZXIuXG4gICAqIEBwYXJhbSB7IWFuZ3VsYXIuTmdNb2RlbENvbnRyb2xsZXJ9IG5nTW9kZWxDdHJsXG4gICAqL1xuICBEYXRlUGlja2VyQ3RybC5wcm90b3R5cGUuY29uZmlndXJlTmdNb2RlbCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsKSB7XG4gICAgdGhpcy5uZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHNlbGYubmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcblxuICAgICAgaWYgKHZhbHVlICYmICEodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICB0aHJvdyBFcnJvcignVGhlIG5nLW1vZGVsIGZvciBtZC1kYXRlcGlja2VyIG11c3QgYmUgYSBEYXRlIGluc3RhbmNlLiAnICtcbiAgICAgICAgICAgICdDdXJyZW50bHkgdGhlIG1vZGVsIGlzIGE6ICcgKyAodHlwZW9mIHZhbHVlKSk7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuZGF0ZSA9IHZhbHVlO1xuICAgICAgc2VsZi5pbnB1dEVsZW1lbnQudmFsdWUgPSBzZWxmLmRhdGVMb2NhbGUuZm9ybWF0RGF0ZSh2YWx1ZSk7XG4gICAgICBzZWxmLnJlc2l6ZUlucHV0RWxlbWVudCgpO1xuICAgICAgc2VsZi51cGRhdGVFcnJvclN0YXRlKCk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQXR0YWNoIGV2ZW50IGxpc3RlbmVycyBmb3IgYm90aCB0aGUgdGV4dCBpbnB1dCBhbmQgdGhlIG1kLWNhbGVuZGFyLlxuICAgKiBFdmVudHMgYXJlIHVzZWQgaW5zdGVhZCBvZiBuZy1tb2RlbCBzbyB0aGF0IHVwZGF0ZXMgZG9uJ3QgaW5maW5pdGVseSB1cGRhdGUgdGhlIG90aGVyXG4gICAqIG9uIGEgY2hhbmdlLiBUaGlzIHNob3VsZCBhbHNvIGJlIG1vcmUgcGVyZm9ybWFudCB0aGFuIHVzaW5nIGEgJHdhdGNoLlxuICAgKi9cbiAgRGF0ZVBpY2tlckN0cmwucHJvdG90eXBlLmF0dGFjaENoYW5nZUxpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuJHNjb3BlLiRvbignbWQtY2FsZW5kYXItY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIGRhdGUpIHtcbiAgICAgIHNlbGYubmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShkYXRlKTtcbiAgICAgIHNlbGYuZGF0ZSA9IGRhdGU7XG4gICAgICBzZWxmLmlucHV0RWxlbWVudC52YWx1ZSA9IHNlbGYuZGF0ZUxvY2FsZS5mb3JtYXREYXRlKGRhdGUpO1xuICAgICAgc2VsZi5jbG9zZUNhbGVuZGFyUGFuZSgpO1xuICAgICAgc2VsZi5yZXNpemVJbnB1dEVsZW1lbnQoKTtcbiAgICAgIHNlbGYudXBkYXRlRXJyb3JTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgc2VsZi5uZ0lucHV0RWxlbWVudC5vbignaW5wdXQnLCBhbmd1bGFyLmJpbmQoc2VsZiwgc2VsZi5yZXNpemVJbnB1dEVsZW1lbnQpKTtcbiAgICAvLyBUT0RPKGNoZW5taWtlKTogQWRkIGFiaWxpdHkgZm9yIHVzZXJzIHRvIHNwZWNpZnkgdGhpcyBpbnRlcnZhbC5cbiAgICBzZWxmLm5nSW5wdXRFbGVtZW50Lm9uKCdpbnB1dCcsIHNlbGYuJG1kVXRpbC5kZWJvdW5jZShzZWxmLmhhbmRsZUlucHV0RXZlbnQsXG4gICAgICAgIERFRkFVTFRfREVCT1VOQ0VfSU5URVJWQUwsIHNlbGYpKTtcbiAgfTtcblxuICAvKiogQXR0YWNoIGV2ZW50IGxpc3RlbmVycyBmb3IgdXNlciBpbnRlcmFjdGlvbi4gKi9cbiAgRGF0ZVBpY2tlckN0cmwucHJvdG90eXBlLmF0dGFjaEludGVyYWN0aW9uTGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciAkc2NvcGUgPSB0aGlzLiRzY29wZTtcbiAgICB2YXIga2V5Q29kZXMgPSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFO1xuXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIHRocm91Z2ggYW5ndWxhciBzbyB0aGF0IHdlIGNhbiB0cmlnZ2VySGFuZGxlciBpbiB1bml0IHRlc3RzLlxuICAgIHNlbGYubmdJbnB1dEVsZW1lbnQub24oJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5rZXlDb2RlID09IGtleUNvZGVzLkRPV05fQVJST1cpIHtcbiAgICAgICAgc2VsZi5vcGVuQ2FsZW5kYXJQYW5lKGV2ZW50KTtcbiAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS4kb24oJ21kLWNhbGVuZGFyLWNsb3NlJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmNsb3NlQ2FsZW5kYXJQYW5lKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhcHR1cmUgcHJvcGVydGllcyBzZXQgdG8gdGhlIGRhdGUtcGlja2VyIGFuZCBpbXBlcml0aXZlbHkgaGFuZGxlIGludGVybmFsIGNoYW5nZXMuXG4gICAqIFRoaXMgaXMgZG9uZSB0byBhdm9pZCBzZXR0aW5nIHVwIGFkZGl0aW9uYWwgJHdhdGNoZXMuXG4gICAqL1xuICBEYXRlUGlja2VyQ3RybC5wcm90b3R5cGUuaW5zdGFsbFByb3BlcnR5SW50ZXJjZXB0b3JzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuJGF0dHJzWyduZ0Rpc2FibGVkJ10pIHtcbiAgICAgIC8vIFRoZSBleHByZXNzaW9uIGlzIHRvIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSBkaXJlY3RpdmUgZWxlbWVudCdzIHNjb3BlIGFuZCBub3RcbiAgICAgIC8vIHRoZSBkaXJlY3RpdmUncyBpc29sYXRlIHNjb3BlLlxuICAgICAgdmFyIHNjb3BlID0gdGhpcy4kbWRVdGlsLnZhbGlkYXRlU2NvcGUodGhpcy4kZWxlbWVudCkgPyB0aGlzLiRlbGVtZW50LnNjb3BlKCkgOiBudWxsO1xuXG4gICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKHRoaXMuJGF0dHJzWyduZ0Rpc2FibGVkJ10sIGZ1bmN0aW9uKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgICBzZWxmLnNldERpc2FibGVkKGlzRGlzYWJsZWQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3BsYWNlaG9sZGVyJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYuaW5wdXRFbGVtZW50LnBsYWNlaG9sZGVyOyB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkgeyBzZWxmLmlucHV0RWxlbWVudC5wbGFjZWhvbGRlciA9IHZhbHVlIHx8ICcnOyB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgd2hldGhlciB0aGUgZGF0ZS1waWNrZXIgaXMgZGlzYWJsZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNEaXNhYmxlZFxuICAgKi9cbiAgRGF0ZVBpY2tlckN0cmwucHJvdG90eXBlLnNldERpc2FibGVkID0gZnVuY3Rpb24oaXNEaXNhYmxlZCkge1xuICAgIHRoaXMuaXNEaXNhYmxlZCA9IGlzRGlzYWJsZWQ7XG4gICAgdGhpcy5pbnB1dEVsZW1lbnQuZGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuICAgIHRoaXMuY2FsZW5kYXJCdXR0b24uZGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXN0b20gbmdNb2RlbC4kZXJyb3IgZmxhZ3MgdG8gYmUgY29uc3VtZWQgYnkgbmdNZXNzYWdlcy4gRmxhZ3MgYXJlOlxuICAgKiAgIC0gbWluZGF0ZTogd2hldGhlciB0aGUgc2VsZWN0ZWQgZGF0ZSBpcyBiZWZvcmUgdGhlIG1pbmltdW0gZGF0ZS5cbiAgICogICAtIG1heGRhdGU6IHdoZXRoZXIgdGhlIHNlbGVjdGVkIGZsYWcgaXMgYWZ0ZXIgdGhlIG1heGltdW0gZGF0ZS5cbiAgICogICAtIGZpbHRlcmVkOiB3aGV0aGVyIHRoZSBzZWxlY3RlZCBkYXRlIGlzIGFsbG93ZWQgYnkgdGhlIGN1c3RvbSBmaWx0ZXJpbmcgZnVuY3Rpb24uXG4gICAqICAgLSB2YWxpZDogd2hldGhlciB0aGUgZW50ZXJlZCB0ZXh0IGlucHV0IGlzIGEgdmFsaWQgZGF0ZVxuICAgKlxuICAgKiBUaGUgJ3JlcXVpcmVkJyBmbGFnIGlzIGhhbmRsZWQgYXV0b21hdGljYWxseSBieSBuZ01vZGVsLlxuICAgKlxuICAgKiBAcGFyYW0ge0RhdGU9fSBvcHRfZGF0ZSBEYXRlIHRvIGNoZWNrLiBJZiBub3QgZ2l2ZW4sIGRlZmF1bHRzIHRvIHRoZSBkYXRlcGlja2VyJ3MgbW9kZWwgdmFsdWUuXG4gICAqL1xuICBEYXRlUGlja2VyQ3RybC5wcm90b3R5cGUudXBkYXRlRXJyb3JTdGF0ZSA9IGZ1bmN0aW9uKG9wdF9kYXRlKSB7XG4gICAgdmFyIGRhdGUgPSBvcHRfZGF0ZSB8fCB0aGlzLmRhdGU7XG5cbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgZXJyb3JzIHRvIGdldCByaWQgb2YgYW55dGhpbmcgdGhhdCdzIG5vIGxvbmdlciByZWxldmFudC5cbiAgICB0aGlzLmNsZWFyRXJyb3JTdGF0ZSgpO1xuXG4gICAgaWYgKHRoaXMuZGF0ZVV0aWwuaXNWYWxpZERhdGUoZGF0ZSkpIHtcbiAgICAgIGlmICh0aGlzLmRhdGVVdGlsLmlzVmFsaWREYXRlKHRoaXMubWluRGF0ZSkpIHtcbiAgICAgICAgdGhpcy5uZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ21pbmRhdGUnLCBkYXRlID49IHRoaXMubWluRGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmRhdGVVdGlsLmlzVmFsaWREYXRlKHRoaXMubWF4RGF0ZSkpIHtcbiAgICAgICAgdGhpcy5uZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ21heGRhdGUnLCBkYXRlIDw9IHRoaXMubWF4RGF0ZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5kYXRlRmlsdGVyKSkge1xuICAgICAgICB0aGlzLm5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZmlsdGVyZWQnLCB0aGlzLmRhdGVGaWx0ZXIoZGF0ZSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgZGF0ZSBpcyBzZWVuIGFzIFwibm90IGEgdmFsaWQgZGF0ZVwiIGlmIHRoZXJlIGlzICpzb21ldGhpbmcqIHNldFxuICAgICAgLy8gKGkuZS4uLCBub3QgbnVsbCBvciB1bmRlZmluZWQpLCBidXQgdGhhdCBzb21ldGhpbmcgaXNuJ3QgYSB2YWxpZCBkYXRlLlxuICAgICAgdGhpcy5uZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3ZhbGlkJywgZGF0ZSA9PSBudWxsKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPKGplbGJvdXJuKTogQ2hhbmdlIHRoaXMgdG8gY2xhc3NMaXN0LnRvZ2dsZSB3aGVuIHdlIHN0b3AgdXNpbmcgUGhhbnRvbUpTIGluIHVuaXQgdGVzdHNcbiAgICAvLyBiZWNhdXNlIGl0IGRvZXNuJ3QgY29uZm9ybSB0byB0aGUgRE9NVG9rZW5MaXN0IHNwZWMuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hcml5YS9waGFudG9tanMvaXNzdWVzLzEyNzgyLlxuICAgIGlmICghdGhpcy5uZ01vZGVsQ3RybC4kdmFsaWQpIHtcbiAgICAgIHRoaXMuaW5wdXRDb250YWluZXIuY2xhc3NMaXN0LmFkZChJTlZBTElEX0NMQVNTKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqIENsZWFycyBhbnkgZXJyb3IgZmxhZ3Mgc2V0IGJ5IGB1cGRhdGVFcnJvclN0YXRlYC4gKi9cbiAgRGF0ZVBpY2tlckN0cmwucHJvdG90eXBlLmNsZWFyRXJyb3JTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5wdXRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShJTlZBTElEX0NMQVNTKTtcbiAgICBbJ21pbmRhdGUnLCAnbWF4ZGF0ZScsICdmaWx0ZXJlZCcsICd2YWxpZCddLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgIHRoaXMubmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KGZpZWxkLCB0cnVlKTtcbiAgICB9LCB0aGlzKTtcbiAgfTtcblxuICAvKiogUmVzaXplcyB0aGUgaW5wdXQgZWxlbWVudCBiYXNlZCBvbiB0aGUgc2l6ZSBvZiBpdHMgY29udGVudC4gKi9cbiAgRGF0ZVBpY2tlckN0cmwucHJvdG90eXBlLnJlc2l6ZUlucHV0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5wdXRFbGVtZW50LnNpemUgPSB0aGlzLmlucHV0RWxlbWVudC52YWx1ZS5sZW5ndGggKyBFWFRSQV9JTlBVVF9TSVpFO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBtb2RlbCB2YWx1ZSBpZiB0aGUgdXNlciBpbnB1dCBpcyBhIHZhbGlkIGRhdGUuXG4gICAqIEFkZHMgYW4gaW52YWxpZCBjbGFzcyB0byB0aGUgaW5wdXQgZWxlbWVudCBpZiBub3QuXG4gICAqL1xuICBEYXRlUGlja2VyQ3RybC5wcm90b3R5cGUuaGFuZGxlSW5wdXRFdmVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnB1dFN0cmluZyA9IHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xuICAgIHZhciBwYXJzZWREYXRlID0gaW5wdXRTdHJpbmcgPyB0aGlzLmRhdGVMb2NhbGUucGFyc2VEYXRlKGlucHV0U3RyaW5nKSA6IG51bGw7XG4gICAgdGhpcy5kYXRlVXRpbC5zZXREYXRlVGltZVRvTWlkbmlnaHQocGFyc2VkRGF0ZSk7XG5cbiAgICAvLyBBbiBpbnB1dCBzdHJpbmcgaXMgdmFsaWQgaWYgaXQgaXMgZWl0aGVyIGVtcHR5IChyZXByZXNlbnRpbmcgbm8gZGF0ZSlcbiAgICAvLyBvciBpZiBpdCBwYXJzZXMgdG8gYSB2YWxpZCBkYXRlIHRoYXQgdGhlIHVzZXIgaXMgYWxsb3dlZCB0byBzZWxlY3QuXG4gICAgdmFyIGlzVmFsaWRJbnB1dCA9IGlucHV0U3RyaW5nID09ICcnIHx8IChcbiAgICAgIHRoaXMuZGF0ZVV0aWwuaXNWYWxpZERhdGUocGFyc2VkRGF0ZSkgJiZcbiAgICAgIHRoaXMuZGF0ZUxvY2FsZS5pc0RhdGVDb21wbGV0ZShpbnB1dFN0cmluZykgJiZcbiAgICAgIHRoaXMuaXNEYXRlRW5hYmxlZChwYXJzZWREYXRlKVxuICAgICk7XG5cbiAgICAvLyBUaGUgZGF0ZXBpY2tlcidzIG1vZGVsIGlzIG9ubHkgdXBkYXRlZCB3aGVuIHRoZXJlIGlzIGEgdmFsaWQgaW5wdXQuXG4gICAgaWYgKGlzVmFsaWRJbnB1dCkge1xuICAgICAgdGhpcy5uZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHBhcnNlZERhdGUpO1xuICAgICAgdGhpcy5kYXRlID0gcGFyc2VkRGF0ZTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUVycm9yU3RhdGUocGFyc2VkRGF0ZSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBkYXRlIGlzIGluIHJhbmdlIGFuZCBlbmFibGVkXG4gICAqIEBwYXJhbSB7RGF0ZT19IG9wdF9kYXRlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGRhdGUgaXMgZW5hYmxlZC5cbiAgICovXG4gIERhdGVQaWNrZXJDdHJsLnByb3RvdHlwZS5pc0RhdGVFbmFibGVkID0gZnVuY3Rpb24ob3B0X2RhdGUpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRlVXRpbC5pc0RhdGVXaXRoaW5SYW5nZShvcHRfZGF0ZSwgdGhpcy5taW5EYXRlLCB0aGlzLm1heERhdGUpICYmIFxuICAgICAgICAgICghYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMuZGF0ZUZpbHRlcikgfHwgdGhpcy5kYXRlRmlsdGVyKG9wdF9kYXRlKSk7XG4gIH07XG4gIFxuICAvKiogUG9zaXRpb24gYW5kIGF0dGFjaCB0aGUgZmxvYXRpbmcgY2FsZW5kYXIgdG8gdGhlIGRvY3VtZW50LiAqL1xuICBEYXRlUGlja2VyQ3RybC5wcm90b3R5cGUuYXR0YWNoQ2FsZW5kYXJQYW5lID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNhbGVuZGFyUGFuZSA9IHRoaXMuY2FsZW5kYXJQYW5lO1xuICAgIGNhbGVuZGFyUGFuZS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdtZC1kYXRlcGlja2VyLW9wZW4nKTtcblxuICAgIHZhciBlbGVtZW50UmVjdCA9IHRoaXMuaW5wdXRDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIGJvZHlSZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgY2FsZW5kYXIgcGFuZSB3b3VsZCBnbyBvZmYgdGhlIHNjcmVlbi4gSWYgc28sIGFkanVzdCBwb3NpdGlvblxuICAgIC8vIGFjY29yZGluZ2x5IHRvIGtlZXAgaXQgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAgICB2YXIgcGFuZVRvcCA9IGVsZW1lbnRSZWN0LnRvcCAtIGJvZHlSZWN0LnRvcDtcbiAgICB2YXIgcGFuZUxlZnQgPSBlbGVtZW50UmVjdC5sZWZ0IC0gYm9keVJlY3QubGVmdDtcblxuICAgIC8vIElmIG5nLW1hdGVyaWFsIGhhcyBkaXNhYmxlZCBib2R5IHNjcm9sbGluZyAoZm9yIGV4YW1wbGUsIGlmIGEgZGlhbG9nIGlzIG9wZW4pLFxuICAgIC8vIHRoZW4gaXQncyBwb3NzaWJsZSB0aGF0IHRoZSBhbHJlYWR5LXNjcm9sbGVkIGJvZHkgaGFzIGEgbmVnYXRpdmUgdG9wL2xlZnQuIEluIHRoaXMgY2FzZSxcbiAgICAvLyB3ZSB3YW50IHRvIHRyZWF0IHRoZSBcInJlYWxcIiB0b3AgYXMgKDAgLSBib2R5UmVjdC50b3ApLiBJbiBhIG5vcm1hbCBzY3JvbGxpbmcgc2l0dWF0aW9uLFxuICAgIC8vIHRob3VnaCwgdGhlIHRvcCBvZiB0aGUgdmlld3BvcnQgc2hvdWxkIGp1c3QgYmUgdGhlIGJvZHkncyBzY3JvbGwgcG9zaXRpb24uXG4gICAgdmFyIHZpZXdwb3J0VG9wID0gKGJvZHlSZWN0LnRvcCA8IDAgJiYgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPT0gMCkgP1xuICAgICAgICAtYm9keVJlY3QudG9wIDpcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG5cbiAgICB2YXIgdmlld3BvcnRMZWZ0ID0gKGJvZHlSZWN0LmxlZnQgPCAwICYmIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCA9PSAwKSA/XG4gICAgICAgIC1ib2R5UmVjdC5sZWZ0IDpcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0O1xuXG4gICAgdmFyIHZpZXdwb3J0Qm90dG9tID0gdmlld3BvcnRUb3AgKyB0aGlzLiR3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgdmFyIHZpZXdwb3J0UmlnaHQgPSB2aWV3cG9ydExlZnQgKyB0aGlzLiR3aW5kb3cuaW5uZXJXaWR0aDtcblxuICAgIC8vIElmIHRoZSByaWdodCBlZGdlIG9mIHRoZSBwYW5lIHdvdWxkIGJlIG9mZiB0aGUgc2NyZWVuIGFuZCBzaGlmdGluZyBpdCBsZWZ0IGJ5IHRoZVxuICAgIC8vIGRpZmZlcmVuY2Ugd291bGQgbm90IGdvIHBhc3QgdGhlIGxlZnQgZWRnZSBvZiB0aGUgc2NyZWVuLiBJZiB0aGUgY2FsZW5kYXIgcGFuZSBpcyB0b29cbiAgICAvLyBiaWcgdG8gZml0IG9uIHRoZSBzY3JlZW4gYXQgYWxsLCBtb3ZlIGl0IHRvIHRoZSBsZWZ0IG9mIHRoZSBzY3JlZW4gYW5kIHNjYWxlIHRoZSBlbnRpcmVcbiAgICAvLyBlbGVtZW50IGRvd24gdG8gZml0LlxuICAgIGlmIChwYW5lTGVmdCArIENBTEVOREFSX1BBTkVfV0lEVEggPiB2aWV3cG9ydFJpZ2h0KSB7XG4gICAgICBpZiAodmlld3BvcnRSaWdodCAtIENBTEVOREFSX1BBTkVfV0lEVEggPiAwKSB7XG4gICAgICAgIHBhbmVMZWZ0ID0gdmlld3BvcnRSaWdodCAtIENBTEVOREFSX1BBTkVfV0lEVEg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYW5lTGVmdCA9IHZpZXdwb3J0TGVmdDtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy4kd2luZG93LmlubmVyV2lkdGggLyBDQUxFTkRBUl9QQU5FX1dJRFRIO1xuICAgICAgICBjYWxlbmRhclBhbmUuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKCcgKyBzY2FsZSArICcpJztcbiAgICAgIH1cblxuICAgICAgY2FsZW5kYXJQYW5lLmNsYXNzTGlzdC5hZGQoJ21kLWRhdGVwaWNrZXItcG9zLWFkanVzdGVkJyk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSBwYW5lIHdvdWxkIGJlIG9mZiB0aGUgc2NyZWVuIGFuZCBzaGlmdGluZyBpdCB1cCBieSB0aGVcbiAgICAvLyBkaWZmZXJlbmNlIHdvdWxkIG5vdCBnbyBwYXN0IHRoZSB0b3AgZWRnZSBvZiB0aGUgc2NyZWVuLlxuICAgIGlmIChwYW5lVG9wICsgQ0FMRU5EQVJfUEFORV9IRUlHSFQgPiB2aWV3cG9ydEJvdHRvbSAmJlxuICAgICAgICB2aWV3cG9ydEJvdHRvbSAtIENBTEVOREFSX1BBTkVfSEVJR0hUID4gdmlld3BvcnRUb3ApIHtcbiAgICAgIHBhbmVUb3AgPSB2aWV3cG9ydEJvdHRvbSAtIENBTEVOREFSX1BBTkVfSEVJR0hUO1xuICAgICAgY2FsZW5kYXJQYW5lLmNsYXNzTGlzdC5hZGQoJ21kLWRhdGVwaWNrZXItcG9zLWFkanVzdGVkJyk7XG4gICAgfVxuXG4gICAgY2FsZW5kYXJQYW5lLnN0eWxlLmxlZnQgPSBwYW5lTGVmdCArICdweCc7XG4gICAgY2FsZW5kYXJQYW5lLnN0eWxlLnRvcCA9IHBhbmVUb3AgKyAncHgnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FsZW5kYXJQYW5lKTtcblxuICAgIC8vIFRoZSB0b3Agb2YgdGhlIGNhbGVuZGFyIHBhbmUgaXMgYSB0cmFuc3BhcmVudCBib3ggdGhhdCBzaG93cyB0aGUgdGV4dCBpbnB1dCB1bmRlcm5lYXRoLlxuICAgIC8vIFNpbmNlIHRoZSBwYW5lIGlzIGZsb2F0aW5nLCB0aG91Z2gsIHRoZSBwYWdlIHVuZGVybmVhdGggdGhlIHBhbmUgKmFkamFjZW50KiB0byB0aGUgaW5wdXQgaXNcbiAgICAvLyBhbHNvIHNob3duIHVubGVzcyB3ZSBjb3ZlciBpdCB1cC4gVGhlIGlucHV0TWFzayBkb2VzIHRoaXMgYnkgZmlsbGluZyB1cCB0aGUgcmVtYWluaW5nIHNwYWNlXG4gICAgLy8gYmFzZWQgb24gdGhlIHdpZHRoIG9mIHRoZSBpbnB1dC5cbiAgICB0aGlzLmlucHV0TWFzay5zdHlsZS5sZWZ0ID0gZWxlbWVudFJlY3Qud2lkdGggKyAncHgnO1xuXG4gICAgLy8gQWRkIENTUyBjbGFzcyBhZnRlciBvbmUgZnJhbWUgdG8gdHJpZ2dlciBvcGVuIGFuaW1hdGlvbi5cbiAgICB0aGlzLiQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgY2FsZW5kYXJQYW5lLmNsYXNzTGlzdC5hZGQoJ21kLXBhbmUtb3BlbicpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKiBEZXRhY2ggdGhlIGZsb2F0aW5nIGNhbGVuZGFyIHBhbmUgZnJvbSB0aGUgZG9jdW1lbnQuICovXG4gIERhdGVQaWNrZXJDdHJsLnByb3RvdHlwZS5kZXRhY2hDYWxlbmRhclBhbmUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdtZC1kYXRlcGlja2VyLW9wZW4nKTtcbiAgICB0aGlzLmNhbGVuZGFyUGFuZS5jbGFzc0xpc3QucmVtb3ZlKCdtZC1wYW5lLW9wZW4nKTtcbiAgICB0aGlzLmNhbGVuZGFyUGFuZS5jbGFzc0xpc3QucmVtb3ZlKCdtZC1kYXRlcGlja2VyLXBvcy1hZGp1c3RlZCcpO1xuXG4gICAgaWYgKHRoaXMuY2FsZW5kYXJQYW5lLnBhcmVudE5vZGUpIHtcbiAgICAgIC8vIFVzZSBuYXRpdmUgRE9NIHJlbW92YWwgYmVjYXVzZSB3ZSBkbyBub3Qgd2FudCBhbnkgb2YgdGhlIGFuZ3VsYXIgc3RhdGUgb2YgdGhpcyBlbGVtZW50XG4gICAgICAvLyB0byBiZSBkaXNwb3NlZC5cbiAgICAgIHRoaXMuY2FsZW5kYXJQYW5lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYWxlbmRhclBhbmUpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogT3BlbiB0aGUgZmxvYXRpbmcgY2FsZW5kYXIgcGFuZS5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICovXG4gIERhdGVQaWNrZXJDdHJsLnByb3RvdHlwZS5vcGVuQ2FsZW5kYXJQYW5lID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuaXNDYWxlbmRhck9wZW4gJiYgIXRoaXMuaXNEaXNhYmxlZCkge1xuICAgICAgdGhpcy5pc0NhbGVuZGFyT3BlbiA9IHRydWU7XG4gICAgICB0aGlzLmNhbGVuZGFyUGFuZU9wZW5lZEZyb20gPSBldmVudC50YXJnZXQ7XG5cbiAgICAgIC8vIEJlY2F1c2UgdGhlIGNhbGVuZGFyIHBhbmUgaXMgYXR0YWNoZWQgZGlyZWN0bHkgdG8gdGhlIGJvZHksIGl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlXG4gICAgICAvLyByZXN0IG9mIHRoZSBjb21wb25lbnQgKGlucHV0LCBldGMpIGlzIGluIGEgZGlmZmVyZW50IHNjcm9sbGluZyBjb250YWluZXIsIHN1Y2ggYXNcbiAgICAgIC8vIGFuIG1kLWNvbnRlbnQuIFRoaXMgbWVhbnMgdGhhdCwgaWYgdGhlIGNvbnRhaW5lciBpcyBzY3JvbGxlZCwgdGhlIHBhbmUgd291bGQgcmVtYWluXG4gICAgICAvLyBzdGF0aW9uYXJ5LiBUbyByZW1lZHkgdGhpcywgd2UgZGlzYWJsZSBzY3JvbGxpbmcgd2hpbGUgdGhlIGNhbGVuZGFyIHBhbmUgaXMgb3Blbiwgd2hpY2hcbiAgICAgIC8vIGFsc28gbWF0Y2hlcyB0aGUgbmF0aXZlIGJlaGF2aW9yIGZvciB0aGluZ3MgbGlrZSBgPHNlbGVjdD5gIG9uIE1hYyBhbmQgV2luZG93cy5cbiAgICAgIHRoaXMuJG1kVXRpbC5kaXNhYmxlU2Nyb2xsQXJvdW5kKHRoaXMuY2FsZW5kYXJQYW5lKTtcblxuICAgICAgdGhpcy5hdHRhY2hDYWxlbmRhclBhbmUoKTtcbiAgICAgIHRoaXMuZm9jdXNDYWxlbmRhcigpO1xuXG4gICAgICAvLyBBdHRhY2ggY2xpY2sgbGlzdGVuZXIgaW5zaWRlIG9mIGEgdGltZW91dCBiZWNhdXNlLCBpZiB0aGlzIG9wZW4gY2FsbCB3YXMgdHJpZ2dlcmVkIGJ5IGFcbiAgICAgIC8vIGNsaWNrLCB3ZSBkb24ndCB3YW50IGl0IHRvIGJlIGltbWVkaWF0ZWx5IHByb3BvZ2F0ZWQgdXAgdG8gdGhlIGJvZHkgYW5kIGhhbmRsZWQuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLiRtZFV0aWwubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSAndG91Y2hzdGFydGAgaW4gYWRkaXRpb24gdG8gY2xpY2sgaW4gb3JkZXIgdG8gd29yayBvbiBpT1MgU2FmYXJpLCB3aGVyZSBjbGlja1xuICAgICAgICAvLyBldmVudHMgYXJlbid0IHByb3BvZ2F0ZWQgdW5kZXIgbW9zdCBjaXJjdW1zdGFuY2VzLlxuICAgICAgICAvLyBTZWUgaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTQvMDIvbW91c2VfZXZlbnRfYnViLmh0bWxcbiAgICAgICAgc2VsZi5kb2N1bWVudEVsZW1lbnQub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCBzZWxmLmJvZHlDbGlja0hhbmRsZXIpO1xuICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy53aW5kb3dSZXNpemVIYW5kbGVyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqIENsb3NlIHRoZSBmbG9hdGluZyBjYWxlbmRhciBwYW5lLiAqL1xuICBEYXRlUGlja2VyQ3RybC5wcm90b3R5cGUuY2xvc2VDYWxlbmRhclBhbmUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc0NhbGVuZGFyT3Blbikge1xuICAgICAgdGhpcy5pc0NhbGVuZGFyT3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5kZXRhY2hDYWxlbmRhclBhbmUoKTtcbiAgICAgIHRoaXMuY2FsZW5kYXJQYW5lT3BlbmVkRnJvbS5mb2N1cygpO1xuICAgICAgdGhpcy5jYWxlbmRhclBhbmVPcGVuZWRGcm9tID0gbnVsbDtcbiAgICAgIHRoaXMuJG1kVXRpbC5lbmFibGVTY3JvbGxpbmcoKTtcblxuICAgICAgdGhpcy5kb2N1bWVudEVsZW1lbnQub2ZmKCdjbGljayB0b3VjaHN0YXJ0JywgdGhpcy5ib2R5Q2xpY2tIYW5kbGVyKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLndpbmRvd1Jlc2l6ZUhhbmRsZXIpO1xuICAgIH1cbiAgfTtcblxuICAvKiogR2V0cyB0aGUgY29udHJvbGxlciBpbnN0YW5jZSBmb3IgdGhlIGNhbGVuZGFyIGluIHRoZSBmbG9hdGluZyBwYW5lLiAqL1xuICBEYXRlUGlja2VyQ3RybC5wcm90b3R5cGUuZ2V0Q2FsZW5kYXJDdHJsID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGFuZ3VsYXIuZWxlbWVudCh0aGlzLmNhbGVuZGFyUGFuZS5xdWVyeVNlbGVjdG9yKCdtZC1jYWxlbmRhcicpKS5jb250cm9sbGVyKCdtZENhbGVuZGFyJyk7XG4gIH07XG5cbiAgLyoqIEZvY3VzIHRoZSBjYWxlbmRhciBpbiB0aGUgZmxvYXRpbmcgcGFuZS4gKi9cbiAgRGF0ZVBpY2tlckN0cmwucHJvdG90eXBlLmZvY3VzQ2FsZW5kYXIgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBVc2UgYSB0aW1lb3V0IGluIG9yZGVyIHRvIGFsbG93IHRoZSBjYWxlbmRhciB0byBiZSByZW5kZXJlZCwgYXMgaXQgaXMgZ2F0ZWQgYmVoaW5kIGFuIG5nLWlmLlxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLiRtZFV0aWwubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmdldENhbGVuZGFyQ3RybCgpLmZvY3VzKCk7XG4gICAgfSwgZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHdoZXRoZXIgdGhlIGlucHV0IGlzIGN1cnJlbnRseSBmb2N1c2VkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRm9jdXNlZFxuICAgKi9cbiAgRGF0ZVBpY2tlckN0cmwucHJvdG90eXBlLnNldEZvY3VzZWQgPSBmdW5jdGlvbihpc0ZvY3VzZWQpIHtcbiAgICB0aGlzLmlzRm9jdXNlZCA9IGlzRm9jdXNlZDtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyBhIGNsaWNrIG9uIHRoZSBkb2N1bWVudCBib2R5IHdoZW4gdGhlIGZsb2F0aW5nIGNhbGVuZGFyIHBhbmUgaXMgb3Blbi5cbiAgICogQ2xvc2VzIHRoZSBmbG9hdGluZyBjYWxlbmRhciBwYW5lIGlmIHRoZSBjbGljayBpcyBub3QgaW5zaWRlIG9mIGl0LlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gICAqL1xuICBEYXRlUGlja2VyQ3RybC5wcm90b3R5cGUuaGFuZGxlQm9keUNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAodGhpcy5pc0NhbGVuZGFyT3Blbikge1xuICAgICAgLy8gVE9ETyhqZWxib3Vybik6IHdheSB3YW50IHRvIGFsc28gaW5jbHVkZSB0aGUgbWQtZGF0ZXBpY2tlciBpdHNlbGYgaW4gdGhpcyBjaGVjay5cbiAgICAgIHZhciBpc0luQ2FsZW5kYXIgPSB0aGlzLiRtZFV0aWwuZ2V0Q2xvc2VzdChldmVudC50YXJnZXQsICdtZC1jYWxlbmRhcicpO1xuICAgICAgaWYgKCFpc0luQ2FsZW5kYXIpIHtcbiAgICAgICAgdGhpcy5jbG9zZUNhbGVuZGFyUGFuZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiRzY29wZS4kZGlnZXN0KCk7XG4gICAgfVxuICB9O1xufSkoKTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBVdGlsaXR5IGZvciBwZXJmb3JtaW5nIGRhdGUgY2FsY3VsYXRpb25zIHRvIGZhY2lsaXRhdGUgb3BlcmF0aW9uIG9mIHRoZSBjYWxlbmRhciBhbmRcbiAgICogZGF0ZXBpY2tlci5cbiAgICovXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmRhdGVwaWNrZXInKS5mYWN0b3J5KCckJG1kRGF0ZVV0aWwnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0Rmlyc3REYXRlT2ZNb250aDogZ2V0Rmlyc3REYXRlT2ZNb250aCxcbiAgICAgIGdldE51bWJlck9mRGF5c0luTW9udGg6IGdldE51bWJlck9mRGF5c0luTW9udGgsXG4gICAgICBnZXREYXRlSW5OZXh0TW9udGg6IGdldERhdGVJbk5leHRNb250aCxcbiAgICAgIGdldERhdGVJblByZXZpb3VzTW9udGg6IGdldERhdGVJblByZXZpb3VzTW9udGgsXG4gICAgICBpc0luTmV4dE1vbnRoOiBpc0luTmV4dE1vbnRoLFxuICAgICAgaXNJblByZXZpb3VzTW9udGg6IGlzSW5QcmV2aW91c01vbnRoLFxuICAgICAgZ2V0RGF0ZU1pZHBvaW50OiBnZXREYXRlTWlkcG9pbnQsXG4gICAgICBpc1NhbWVNb250aEFuZFllYXI6IGlzU2FtZU1vbnRoQW5kWWVhcixcbiAgICAgIGdldFdlZWtPZk1vbnRoOiBnZXRXZWVrT2ZNb250aCxcbiAgICAgIGluY3JlbWVudERheXM6IGluY3JlbWVudERheXMsXG4gICAgICBpbmNyZW1lbnRNb250aHM6IGluY3JlbWVudE1vbnRocyxcbiAgICAgIGdldExhc3REYXRlT2ZNb250aDogZ2V0TGFzdERhdGVPZk1vbnRoLFxuICAgICAgaXNTYW1lRGF5OiBpc1NhbWVEYXksXG4gICAgICBnZXRNb250aERpc3RhbmNlOiBnZXRNb250aERpc3RhbmNlLFxuICAgICAgaXNWYWxpZERhdGU6IGlzVmFsaWREYXRlLFxuICAgICAgc2V0RGF0ZVRpbWVUb01pZG5pZ2h0OiBzZXREYXRlVGltZVRvTWlkbmlnaHQsXG4gICAgICBjcmVhdGVEYXRlQXRNaWRuaWdodDogY3JlYXRlRGF0ZUF0TWlkbmlnaHQsXG4gICAgICBpc0RhdGVXaXRoaW5SYW5nZTogaXNEYXRlV2l0aGluUmFuZ2VcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZGF5IG9mIHRoZSBtb250aCBmb3IgdGhlIGdpdmVuIGRhdGUncyBtb250aC5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGVcbiAgICAgKiBAcmV0dXJucyB7RGF0ZX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGaXJzdERhdGVPZk1vbnRoKGRhdGUpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGRheXMgaW4gdGhlIG1vbnRoIGZvciB0aGUgZ2l2ZW4gZGF0ZSdzIG1vbnRoLlxuICAgICAqIEBwYXJhbSBkYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROdW1iZXJPZkRheXNJbk1vbnRoKGRhdGUpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gYXJiaXRyYXJ5IGRhdGUgaW4gdGhlIG1vbnRoIGFmdGVyIHRoZSBnaXZlbiBkYXRlJ3MgbW9udGguXG4gICAgICogQHBhcmFtIGRhdGVcbiAgICAgKiBAcmV0dXJucyB7RGF0ZX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXREYXRlSW5OZXh0TW9udGgoZGF0ZSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFuIGFyYml0cmFyeSBkYXRlIGluIHRoZSBtb250aCBiZWZvcmUgdGhlIGdpdmVuIGRhdGUncyBtb250aC5cbiAgICAgKiBAcGFyYW0gZGF0ZVxuICAgICAqIEByZXR1cm5zIHtEYXRlfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldERhdGVJblByZXZpb3VzTW9udGgoZGF0ZSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpIC0gMSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB3aGV0aGVyIHR3byBkYXRlcyBoYXZlIHRoZSBzYW1lIG1vbnRoIGFuZCB5ZWFyLlxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZDFcbiAgICAgKiBAcGFyYW0ge0RhdGV9IGQyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYW1lTW9udGhBbmRZZWFyKGQxLCBkMikge1xuICAgICAgcmV0dXJuIGQxLmdldEZ1bGxZZWFyKCkgPT09IGQyLmdldEZ1bGxZZWFyKCkgJiYgZDEuZ2V0TW9udGgoKSA9PT0gZDIuZ2V0TW9udGgoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHdoZXRoZXIgdHdvIGRhdGVzIGFyZSB0aGUgc2FtZSBkYXkgKG5vdCBub3QgbmVjZXNhcmlseSB0aGUgc2FtZSB0aW1lKS5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGQxXG4gICAgICogQHBhcmFtIHtEYXRlfSBkMlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU2FtZURheShkMSwgZDIpIHtcbiAgICAgIHJldHVybiBkMS5nZXREYXRlKCkgPT0gZDIuZ2V0RGF0ZSgpICYmIGlzU2FtZU1vbnRoQW5kWWVhcihkMSwgZDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgd2hldGhlciBhIGRhdGUgaXMgaW4gdGhlIG1vbnRoIGltbWVkaWF0ZWx5IGFmdGVyIHNvbWUgZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IHN0YXJ0RGF0ZSBUaGUgZGF0ZSBmcm9tIHdoaWNoIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtEYXRlfSBlbmREYXRlIFRoZSBkYXRlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW5OZXh0TW9udGgoc3RhcnREYXRlLCBlbmREYXRlKSB7XG4gICAgICB2YXIgbmV4dE1vbnRoID0gZ2V0RGF0ZUluTmV4dE1vbnRoKHN0YXJ0RGF0ZSk7XG4gICAgICByZXR1cm4gaXNTYW1lTW9udGhBbmRZZWFyKG5leHRNb250aCwgZW5kRGF0ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB3aGV0aGVyIGEgZGF0ZSBpcyBpbiB0aGUgbW9udGggaW1tZWRpYXRlbHkgYmVmb3JlIHNvbWUgZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IHN0YXJ0RGF0ZSBUaGUgZGF0ZSBmcm9tIHdoaWNoIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtEYXRlfSBlbmREYXRlIFRoZSBkYXRlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW5QcmV2aW91c01vbnRoKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuICAgICAgdmFyIHByZXZpb3VzTW9udGggPSBnZXREYXRlSW5QcmV2aW91c01vbnRoKHN0YXJ0RGF0ZSk7XG4gICAgICByZXR1cm4gaXNTYW1lTW9udGhBbmRZZWFyKGVuZERhdGUsIHByZXZpb3VzTW9udGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1pZHBvaW50IGJldHdlZW4gdHdvIGRhdGVzLlxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZDFcbiAgICAgKiBAcGFyYW0ge0RhdGV9IGQyXG4gICAgICogQHJldHVybnMge0RhdGV9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RGF0ZU1pZHBvaW50KGQxLCBkMikge1xuICAgICAgcmV0dXJuIGNyZWF0ZURhdGVBdE1pZG5pZ2h0KChkMS5nZXRUaW1lKCkgKyBkMi5nZXRUaW1lKCkpIC8gMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgd2VlayBvZiB0aGUgbW9udGggdGhhdCBhIGdpdmVuIGRhdGUgb2NjdXJzIGluLlxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IEluZGV4IG9mIHRoZSB3ZWVrIG9mIHRoZSBtb250aCAoemVyby1iYXNlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V2Vla09mTW9udGgoZGF0ZSkge1xuICAgICAgdmFyIGZpcnN0RGF5T2ZNb250aCA9IGdldEZpcnN0RGF0ZU9mTW9udGgoZGF0ZSk7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcigoZmlyc3REYXlPZk1vbnRoLmdldERheSgpICsgZGF0ZS5nZXREYXRlKCkgLSAxKSAvIDcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBuZXcgZGF0ZSBpbmNyZW1lbnRlZCBieSB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGRheXMuIE51bWJlciBvZiBkYXlzIGNhbiBiZSBuZWdhdGl2ZS5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyT2ZEYXlzXG4gICAgICogQHJldHVybnMge0RhdGV9XG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5jcmVtZW50RGF5cyhkYXRlLCBudW1iZXJPZkRheXMpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkgKyBudW1iZXJPZkRheXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBuZXcgZGF0ZSBpbmNyZW1lbnRlZCBieSB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1vbnRocy4gTnVtYmVyIG9mIG1vbnRocyBjYW4gYmUgbmVnYXRpdmUuXG4gICAgICogSWYgdGhlIGRhdGUgb2YgdGhlIGdpdmVuIG1vbnRoIGRvZXMgbm90IG1hdGNoIHRoZSB0YXJnZXQgbW9udGgsIHRoZSBkYXRlIHdpbGwgYmUgc2V0IHRvIHRoZVxuICAgICAqIGxhc3QgZGF5IG9mIHRoZSBtb250aC5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyT2ZNb250aHNcbiAgICAgKiBAcmV0dXJucyB7RGF0ZX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNyZW1lbnRNb250aHMoZGF0ZSwgbnVtYmVyT2ZNb250aHMpIHtcbiAgICAgIC8vIElmIHRoZSBzYW1lIGRhdGUgaW4gdGhlIHRhcmdldCBtb250aCBkb2VzIG5vdCBhY3R1YWxseSBleGlzdCwgdGhlIERhdGUgb2JqZWN0IHdpbGxcbiAgICAgIC8vIGF1dG9tYXRpY2FsbHkgYWR2YW5jZSAqYW5vdGhlciogbW9udGggYnkgdGhlIG51bWJlciBvZiBtaXNzaW5nIGRheXMuXG4gICAgICAvLyBGb3IgZXhhbXBsZSwgaWYgeW91IHRyeSB0byBnbyBmcm9tIEphbi4gMzAgdG8gRmViLiAzMCwgeW91J2xsIGVuZCB1cCBvbiBNYXJjaCAyLlxuICAgICAgLy8gU28sIHdlIGNoZWNrIGlmIHRoZSBtb250aCBvdmVyZmxvd2VkIGFuZCBnbyB0byB0aGUgbGFzdCBkYXkgb2YgdGhlIHRhcmdldCBtb250aCBpbnN0ZWFkLlxuICAgICAgdmFyIGRhdGVJblRhcmdldE1vbnRoID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgKyBudW1iZXJPZk1vbnRocywgMSk7XG4gICAgICB2YXIgbnVtYmVyT2ZEYXlzSW5Nb250aCA9IGdldE51bWJlck9mRGF5c0luTW9udGgoZGF0ZUluVGFyZ2V0TW9udGgpO1xuICAgICAgaWYgKG51bWJlck9mRGF5c0luTW9udGggPCBkYXRlLmdldERhdGUoKSkge1xuICAgICAgICBkYXRlSW5UYXJnZXRNb250aC5zZXREYXRlKG51bWJlck9mRGF5c0luTW9udGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZUluVGFyZ2V0TW9udGguc2V0RGF0ZShkYXRlLmdldERhdGUoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRlSW5UYXJnZXRNb250aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGludGVnZXIgZGlzdGFuY2UgYmV0d2VlbiB0d28gbW9udGhzLiBUaGlzICpvbmx5KiBjb25zaWRlcnMgdGhlIG1vbnRoIGFuZCB5ZWFyXG4gICAgICogcG9ydGlvbiBvZiB0aGUgRGF0ZSBpbnN0YW5jZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHN0YXJ0XG4gICAgICogQHBhcmFtIHtEYXRlfSBlbmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBOdW1iZXIgb2YgbW9udGhzIGJldHdlZW4gYHN0YXJ0YCBhbmQgYGVuZGAuIElmIGBlbmRgIGlzIGJlZm9yZSBgc3RhcnRgXG4gICAgICogICAgIGNocm9ub2xvZ2ljYWxseSwgdGhpcyBudW1iZXIgd2lsbCBiZSBuZWdhdGl2ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNb250aERpc3RhbmNlKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiAoMTIgKiAoZW5kLmdldEZ1bGxZZWFyKCkgLSBzdGFydC5nZXRGdWxsWWVhcigpKSkgKyAoZW5kLmdldE1vbnRoKCkgLSBzdGFydC5nZXRNb250aCgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGRheSBvZiB0aGUgbW9udGggZm9yIHRoZSBnaXZlbiBkYXRlLlxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZVxuICAgICAqIEByZXR1cm5zIHtEYXRlfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldExhc3REYXRlT2ZNb250aChkYXRlKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGdldE51bWJlck9mRGF5c0luTW9udGgoZGF0ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIGEgZGF0ZSBpcyB2YWxpZC5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBkYXRlIGlzIGEgdmFsaWQgRGF0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRGF0ZShkYXRlKSB7XG4gICAgICByZXR1cm4gZGF0ZSAhPSBudWxsICYmIGRhdGUuZ2V0VGltZSAmJiAhaXNOYU4oZGF0ZS5nZXRUaW1lKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYSBkYXRlJ3MgdGltZSB0byBtaWRuaWdodC5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXREYXRlVGltZVRvTWlkbmlnaHQoZGF0ZSkge1xuICAgICAgaWYgKGlzVmFsaWREYXRlKGRhdGUpKSB7XG4gICAgICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRhdGUgd2l0aCB0aGUgdGltZSBzZXQgdG8gbWlkbmlnaHQuXG4gICAgICogRHJvcC1pbiByZXBsYWNlbWVudCBmb3IgdHdvIGZvcm1zIG9mIHRoZSBEYXRlIGNvbnN0cnVjdG9yOlxuICAgICAqIDEuIE5vIGFyZ3VtZW50IGZvciBEYXRlIHJlcHJlc2VudGluZyBub3cuXG4gICAgICogMi4gU2luZ2xlLWFyZ3VtZW50IHZhbHVlIHJlcHJlc2VudGluZyBudW1iZXIgb2Ygc2Vjb25kcyBzaW5jZSBVbml4IEVwb2NoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3ZhbHVlXG4gICAgICogQHJldHVybiB7RGF0ZX0gTmV3IGRhdGUgd2l0aCB0aW1lIHNldCB0byBtaWRuaWdodC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVEYXRlQXRNaWRuaWdodChvcHRfdmFsdWUpIHtcbiAgICAgIHZhciBkYXRlO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQob3B0X3ZhbHVlKSkge1xuICAgICAgICBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGUgPSBuZXcgRGF0ZShvcHRfdmFsdWUpO1xuICAgICAgfVxuICAgICAgc2V0RGF0ZVRpbWVUb01pZG5pZ2h0KGRhdGUpO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBDaGVja3MgaWYgYSBkYXRlIGlzIHdpdGhpbiBhIG1pbiBhbmQgbWF4IHJhbmdlLlxuICAgICAgKiBJZiBtaW5EYXRlIG9yIG1heERhdGUgYXJlIG5vdCBkYXRlcywgdGhleSBhcmUgaWdub3JlZC5cbiAgICAgICogQHBhcmFtIHtEYXRlfSBkYXRlXG4gICAgICAqIEBwYXJhbSB7RGF0ZX0gbWluRGF0ZVxuICAgICAgKiBAcGFyYW0ge0RhdGV9IG1heERhdGVcbiAgICAgICovXG4gICAgIGZ1bmN0aW9uIGlzRGF0ZVdpdGhpblJhbmdlKGRhdGUsIG1pbkRhdGUsIG1heERhdGUpIHtcbiAgICAgICByZXR1cm4gKCFhbmd1bGFyLmlzRGF0ZShtaW5EYXRlKSB8fCBtaW5EYXRlIDw9IGRhdGUpICYmXG4gICAgICAgICAgICghYW5ndWxhci5pc0RhdGUobWF4RGF0ZSkgfHwgbWF4RGF0ZSA+PSBkYXRlKTtcbiAgICAgfVxuICB9KTtcbn0pKCk7XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuZGlhbG9nXG4gKi9cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5kaWFsb2cnLCBbXG4gICAgJ21hdGVyaWFsLmNvcmUnLFxuICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wJ1xuICBdKVxuICAuZGlyZWN0aXZlKCdtZERpYWxvZycsIE1kRGlhbG9nRGlyZWN0aXZlKVxuICAucHJvdmlkZXIoJyRtZERpYWxvZycsIE1kRGlhbG9nUHJvdmlkZXIpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kRGlhbG9nXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuZGlhbG9nXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGA8bWQtZGlhbG9nPmAgLSBUaGUgZGlhbG9nJ3MgdGVtcGxhdGUgbXVzdCBiZSBpbnNpZGUgdGhpcyBlbGVtZW50LlxuICpcbiAqIEluc2lkZSwgdXNlIGFuIGA8bWQtZGlhbG9nLWNvbnRlbnQ+YCBlbGVtZW50IGZvciB0aGUgZGlhbG9nJ3MgY29udGVudCwgYW5kIHVzZVxuICogYW4gYDxtZC1kaWFsb2ctYWN0aW9ucz5gIGVsZW1lbnQgZm9yIHRoZSBkaWFsb2cncyBhY3Rpb25zLlxuICpcbiAqICogIyMgQ1NTXG4gKiAtIGAubWQtZGlhbG9nLWNvbnRlbnRgIC0gY2xhc3MgdGhhdCBzZXRzIHRoZSBwYWRkaW5nIG9uIHRoZSBjb250ZW50IGFzIHRoZSBzcGVjIGZpbGVcbiAqXG4gKiBAdXNhZ2VcbiAqICMjIyBEaWFsb2cgdGVtcGxhdGVcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtZGlhbG9nIGFyaWEtbGFiZWw9XCJMaXN0IGRpYWxvZ1wiPlxuICogICA8bWQtZGlhbG9nLWNvbnRlbnQ+XG4gKiAgICAgPG1kLWxpc3Q+XG4gKiAgICAgICA8bWQtbGlzdC1pdGVtIG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXNcIj5cbiAqICAgICAgICAgPHA+TnVtYmVyIHt7aXRlbX19PC9wPlxuICogICAgICAgPC9tZC1saXN0LWl0ZW0+XG4gKiAgICAgPC9tZC1saXN0PlxuICogICA8L21kLWRpYWxvZy1jb250ZW50PlxuICogICA8bWQtZGlhbG9nLWFjdGlvbnM+XG4gKiAgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cImNsb3NlRGlhbG9nKClcIiBjbGFzcz1cIm1kLXByaW1hcnlcIj5DbG9zZSBEaWFsb2c8L21kLWJ1dHRvbj5cbiAqICAgPC9tZC1kaWFsb2ctYWN0aW9ucz5cbiAqIDwvbWQtZGlhbG9nPlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBNZERpYWxvZ0RpcmVjdGl2ZSgkJHJBRiwgJG1kVGhlbWluZywgJG1kRGlhbG9nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaW1hZ2VzO1xuICAgICAgICB2YXIgY29udGVudCA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignbWQtZGlhbG9nLWNvbnRlbnQnKTtcblxuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgIGltYWdlcyA9IGNvbnRlbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpO1xuICAgICAgICAgIGFkZE92ZXJmbG93Q2xhc3MoKTtcbiAgICAgICAgICAvLy0tIGRlbGF5ZWQgaW1hZ2UgbG9hZGluZyBtYXkgaW1wYWN0IHNjcm9sbCBoZWlnaHQsIGNoZWNrIGFmdGVyIGltYWdlcyBhcmUgbG9hZGVkXG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KGltYWdlcykub24oJ2xvYWQnLCBhZGRPdmVyZmxvd0NsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkbWREaWFsb2cuZGVzdHJveShlbGVtZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhZGRPdmVyZmxvd0NsYXNzKCkge1xuICAgICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWNvbnRlbnQtb3ZlcmZsb3cnLCBjb250ZW50LnNjcm9sbEhlaWdodCA+IGNvbnRlbnQuY2xpZW50SGVpZ2h0KTtcbiAgICAgICAgfVxuXG5cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbk1kRGlhbG9nRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkJHJBRlwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWREaWFsb2dcIl07XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZERpYWxvZ1xuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmRpYWxvZ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYCRtZERpYWxvZ2Agb3BlbnMgYSBkaWFsb2cgb3ZlciB0aGUgYXBwIHRvIGluZm9ybSB1c2VycyBhYm91dCBjcml0aWNhbCBpbmZvcm1hdGlvbiBvciByZXF1aXJlXG4gKiAgdGhlbSB0byBtYWtlIGRlY2lzaW9ucy4gVGhlcmUgYXJlIHR3byBhcHByb2FjaGVzIGZvciBzZXR1cDogYSBzaW1wbGUgcHJvbWlzZSBBUElcbiAqICBhbmQgcmVndWxhciBvYmplY3Qgc3ludGF4LlxuICpcbiAqICMjIFJlc3RyaWN0aW9uc1xuICpcbiAqIC0gVGhlIGRpYWxvZyBpcyBhbHdheXMgZ2l2ZW4gYW4gaXNvbGF0ZSBzY29wZS5cbiAqIC0gVGhlIGRpYWxvZydzIHRlbXBsYXRlIG11c3QgaGF2ZSBhbiBvdXRlciBgPG1kLWRpYWxvZz5gIGVsZW1lbnQuXG4gKiAgIEluc2lkZSwgdXNlIGFuIGA8bWQtZGlhbG9nLWNvbnRlbnQ+YCBlbGVtZW50IGZvciB0aGUgZGlhbG9nJ3MgY29udGVudCwgYW5kIHVzZVxuICogICBhbiBgPG1kLWRpYWxvZy1hY3Rpb25zPmAgZWxlbWVudCBmb3IgdGhlIGRpYWxvZydzIGFjdGlvbnMuXG4gKiAtIERpYWxvZ3MgbXVzdCBjb3ZlciB0aGUgZW50aXJlIGFwcGxpY2F0aW9uIHRvIGtlZXAgaW50ZXJhY3Rpb25zIGluc2lkZSBvZiB0aGVtLlxuICogVXNlIHRoZSBgcGFyZW50YCBvcHRpb24gdG8gY2hhbmdlIHdoZXJlIGRpYWxvZ3MgYXJlIGFwcGVuZGVkLlxuICpcbiAqICMjIFNpemluZ1xuICogLSBDb21wbGV4IGRpYWxvZ3MgY2FuIGJlIHNpemVkIHdpdGggYGZsZXg9XCJwZXJjZW50YWdlXCJgLCBpLmUuIGBmbGV4PVwiNjZcImAuXG4gKiAtIERlZmF1bHQgbWF4LXdpZHRoIGlzIDgwJSBvZiB0aGUgYHJvb3RFbGVtZW50YCBvciBgcGFyZW50YC5cbiAqXG4gKiAjIyBDU1NcbiAqIC0gYC5tZC1kaWFsb2ctY29udGVudGAgLSBjbGFzcyB0aGF0IHNldHMgdGhlIHBhZGRpbmcgb24gdGhlIGNvbnRlbnQgYXMgdGhlIHNwZWMgZmlsZVxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgIG5nLWFwcD1cImRlbW9BcHBcIiBuZy1jb250cm9sbGVyPVwiRW1wbG95ZWVDb250cm9sbGVyXCI+XG4gKiAgIDxkaXY+XG4gKiAgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cInNob3dBbGVydCgpXCIgY2xhc3M9XCJtZC1yYWlzZWQgbWQtd2FyblwiPlxuICogICAgICAgRW1wbG95ZWUgQWxlcnQhXG4gKiAgICAgICA8L21kLWJ1dHRvbj5cbiAqICAgPC9kaXY+XG4gKiAgIDxkaXY+XG4gKiAgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cInNob3dEaWFsb2coJGV2ZW50KVwiIGNsYXNzPVwibWQtcmFpc2VkXCI+XG4gKiAgICAgICBDdXN0b20gRGlhbG9nXG4gKiAgICAgICA8L21kLWJ1dHRvbj5cbiAqICAgPC9kaXY+XG4gKiAgIDxkaXY+XG4gKiAgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cImNsb3NlQWxlcnQoKVwiIG5nLWRpc2FibGVkPVwiIWhhc0FsZXJ0KClcIiBjbGFzcz1cIm1kLXJhaXNlZFwiPlxuICogICAgICAgQ2xvc2UgQWxlcnRcbiAqICAgICA8L21kLWJ1dHRvbj5cbiAqICAgPC9kaXY+XG4gKiAgIDxkaXY+XG4gKiAgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cInNob3dHcmVldGluZygkZXZlbnQpXCIgY2xhc3M9XCJtZC1yYWlzZWQgbWQtcHJpbWFyeVwiID5cbiAqICAgICAgIEdyZWV0IEVtcGxveWVlXG4gKiAgICAgICA8L21kLWJ1dHRvbj5cbiAqICAgPC9kaXY+XG4gKiA8L2Rpdj5cbiAqIDwvaGxqcz5cbiAqXG4gKiAjIyMgSmF2YVNjcmlwdDogb2JqZWN0IHN5bnRheFxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiAoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKXtcbiAqICAgXCJ1c2Ugc3RyaWN0XCI7XG4gKlxuICogICBhbmd1bGFyXG4gKiAgICAubW9kdWxlKCdkZW1vQXBwJywgWyduZ01hdGVyaWFsJ10pXG4gKiAgICAuY29udHJvbGxlcignQXBwQ3RybCcsIEFwcENvbnRyb2xsZXIpO1xuICpcbiAqICAgZnVuY3Rpb24gQXBwQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZykge1xuICogICAgIHZhciBhbGVydDtcbiAqICAgICAkc2NvcGUuc2hvd0FsZXJ0ID0gc2hvd0FsZXJ0O1xuICogICAgICRzY29wZS5zaG93RGlhbG9nID0gc2hvd0RpYWxvZztcbiAqICAgICAkc2NvcGUuaXRlbXMgPSBbMSwgMiwgM107XG4gKlxuICogICAgIC8vIEludGVybmFsIG1ldGhvZFxuICogICAgIGZ1bmN0aW9uIHNob3dBbGVydCgpIHtcbiAqICAgICAgIGFsZXJ0ID0gJG1kRGlhbG9nLmFsZXJ0KHtcbiAqICAgICAgICAgdGl0bGU6ICdBdHRlbnRpb24nLFxuICogICAgICAgICB0ZXh0Q29udGVudDogJ1RoaXMgaXMgYW4gZXhhbXBsZSBvZiBob3cgZWFzeSBkaWFsb2dzIGNhbiBiZSEnLFxuICogICAgICAgICBvazogJ0Nsb3NlJ1xuICogICAgICAgfSk7XG4gKlxuICogICAgICAgJG1kRGlhbG9nXG4gKiAgICAgICAgIC5zaG93KCBhbGVydCApXG4gKiAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgIGFsZXJ0ID0gdW5kZWZpbmVkO1xuICogICAgICAgICB9KTtcbiAqICAgICB9XG4gKlxuICogICAgIGZ1bmN0aW9uIHNob3dEaWFsb2coJGV2ZW50KSB7XG4gKiAgICAgICAgdmFyIHBhcmVudEVsID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICogICAgICAgICRtZERpYWxvZy5zaG93KHtcbiAqICAgICAgICAgIHBhcmVudDogcGFyZW50RWwsXG4gKiAgICAgICAgICB0YXJnZXRFdmVudDogJGV2ZW50LFxuICogICAgICAgICAgdGVtcGxhdGU6XG4gKiAgICAgICAgICAgICc8bWQtZGlhbG9nIGFyaWEtbGFiZWw9XCJMaXN0IGRpYWxvZ1wiPicgK1xuICogICAgICAgICAgICAnICA8bWQtZGlhbG9nLWNvbnRlbnQ+JytcbiAqICAgICAgICAgICAgJyAgICA8bWQtbGlzdD4nK1xuICogICAgICAgICAgICAnICAgICAgPG1kLWxpc3QtaXRlbSBuZy1yZXBlYXQ9XCJpdGVtIGluIGl0ZW1zXCI+JytcbiAqICAgICAgICAgICAgJyAgICAgICA8cD5OdW1iZXIge3tpdGVtfX08L3A+JyArXG4gKiAgICAgICAgICAgICcgICAgICA8L21kLWl0ZW0+JytcbiAqICAgICAgICAgICAgJyAgICA8L21kLWxpc3Q+JytcbiAqICAgICAgICAgICAgJyAgPC9tZC1kaWFsb2ctY29udGVudD4nICtcbiAqICAgICAgICAgICAgJyAgPG1kLWRpYWxvZy1hY3Rpb25zPicgK1xuICogICAgICAgICAgICAnICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJjbG9zZURpYWxvZygpXCIgY2xhc3M9XCJtZC1wcmltYXJ5XCI+JyArXG4gKiAgICAgICAgICAgICcgICAgICBDbG9zZSBEaWFsb2cnICtcbiAqICAgICAgICAgICAgJyAgICA8L21kLWJ1dHRvbj4nICtcbiAqICAgICAgICAgICAgJyAgPC9tZC1kaWFsb2ctYWN0aW9ucz4nICtcbiAqICAgICAgICAgICAgJzwvbWQtZGlhbG9nPicsXG4gKiAgICAgICAgICBsb2NhbHM6IHtcbiAqICAgICAgICAgICAgaXRlbXM6ICRzY29wZS5pdGVtc1xuICogICAgICAgICAgfSxcbiAqICAgICAgICAgIGNvbnRyb2xsZXI6IERpYWxvZ0NvbnRyb2xsZXJcbiAqICAgICAgIH0pO1xuICogICAgICAgZnVuY3Rpb24gRGlhbG9nQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZywgaXRlbXMpIHtcbiAqICAgICAgICAgJHNjb3BlLml0ZW1zID0gaXRlbXM7XG4gKiAgICAgICAgICRzY29wZS5jbG9zZURpYWxvZyA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9XG4gKiAgIH1cbiAqIH0pKGFuZ3VsYXIpO1xuICogPC9obGpzPlxuICpcbiAqICMjIyBKYXZhU2NyaXB0OiBwcm9taXNlIEFQSSBzeW50YXgsIGN1c3RvbSBkaWFsb2cgdGVtcGxhdGVcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCl7XG4gKiAgIFwidXNlIHN0cmljdFwiO1xuICpcbiAqICAgYW5ndWxhclxuICogICAgIC5tb2R1bGUoJ2RlbW9BcHAnLCBbJ25nTWF0ZXJpYWwnXSlcbiAqICAgICAuY29udHJvbGxlcignRW1wbG95ZWVDb250cm9sbGVyJywgRW1wbG95ZWVFZGl0b3IpXG4gKiAgICAgLmNvbnRyb2xsZXIoJ0dyZWV0aW5nQ29udHJvbGxlcicsIEdyZWV0aW5nQ29udHJvbGxlcik7XG4gKlxuICogICAvLyBGaWN0aXRpb3VzIEVtcGxveWVlIEVkaXRvciB0byBzaG93IGhvdyB0byB1c2Ugc2ltcGxlIGFuZCBjb21wbGV4IGRpYWxvZ3MuXG4gKlxuICogICBmdW5jdGlvbiBFbXBsb3llZUVkaXRvcigkc2NvcGUsICRtZERpYWxvZykge1xuICogICAgIHZhciBhbGVydDtcbiAqXG4gKiAgICAgJHNjb3BlLnNob3dBbGVydCA9IHNob3dBbGVydDtcbiAqICAgICAkc2NvcGUuY2xvc2VBbGVydCA9IGNsb3NlQWxlcnQ7XG4gKiAgICAgJHNjb3BlLnNob3dHcmVldGluZyA9IHNob3dDdXN0b21HcmVldGluZztcbiAqXG4gKiAgICAgJHNjb3BlLmhhc0FsZXJ0ID0gZnVuY3Rpb24oKSB7IHJldHVybiAhIWFsZXJ0IH07XG4gKiAgICAgJHNjb3BlLnVzZXJOYW1lID0gJHNjb3BlLnVzZXJOYW1lIHx8ICdCb2JieSc7XG4gKlxuICogICAgIC8vIERpYWxvZyAjMSAtIFNob3cgc2ltcGxlIGFsZXJ0IGRpYWxvZyBhbmQgY2FjaGVcbiAqICAgICAvLyByZWZlcmVuY2UgdG8gZGlhbG9nIGluc3RhbmNlXG4gKlxuICogICAgIGZ1bmN0aW9uIHNob3dBbGVydCgpIHtcbiAqICAgICAgIGFsZXJ0ID0gJG1kRGlhbG9nLmFsZXJ0KClcbiAqICAgICAgICAgLnRpdGxlKCdBdHRlbnRpb24sICcgKyAkc2NvcGUudXNlck5hbWUpXG4gKiAgICAgICAgIC50ZXh0Q29udGVudCgnVGhpcyBpcyBhbiBleGFtcGxlIG9mIGhvdyBlYXN5IGRpYWxvZ3MgY2FuIGJlIScpXG4gKiAgICAgICAgIC5vaygnQ2xvc2UnKTtcbiAqXG4gKiAgICAgICAkbWREaWFsb2dcbiAqICAgICAgICAgICAuc2hvdyggYWxlcnQgKVxuICogICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgYWxlcnQgPSB1bmRlZmluZWQ7XG4gKiAgICAgICAgICAgfSk7XG4gKiAgICAgfVxuICpcbiAqICAgICAvLyBDbG9zZSB0aGUgc3BlY2lmaWVkIGRpYWxvZyBpbnN0YW5jZSBhbmQgcmVzb2x2ZSB3aXRoICdmaW5pc2hlZCcgZmxhZ1xuICogICAgIC8vIE5vcm1hbGx5IHRoaXMgaXMgbm90IG5lZWRlZCwganVzdCB1c2UgJyRtZERpYWxvZy5oaWRlKCknIHRvIGNsb3NlXG4gKiAgICAgLy8gdGhlIG1vc3QgcmVjZW50IGRpYWxvZyBwb3B1cC5cbiAqXG4gKiAgICAgZnVuY3Rpb24gY2xvc2VBbGVydCgpIHtcbiAqICAgICAgICRtZERpYWxvZy5oaWRlKCBhbGVydCwgXCJmaW5pc2hlZFwiICk7XG4gKiAgICAgICBhbGVydCA9IHVuZGVmaW5lZDtcbiAqICAgICB9XG4gKlxuICogICAgIC8vIERpYWxvZyAjMiAtIERlbW9uc3RyYXRlIG1vcmUgY29tcGxleCBkaWFsb2dzIGNvbnN0cnVjdGlvbiBhbmQgcG9wdXAuXG4gKlxuICogICAgIGZ1bmN0aW9uIHNob3dDdXN0b21HcmVldGluZygkZXZlbnQpIHtcbiAqICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuICogICAgICAgICAgIHRhcmdldEV2ZW50OiAkZXZlbnQsXG4gKiAgICAgICAgICAgdGVtcGxhdGU6XG4gKiAgICAgICAgICAgICAnPG1kLWRpYWxvZz4nICtcbiAqXG4gKiAgICAgICAgICAgICAnICA8bWQtZGlhbG9nLWNvbnRlbnQ+SGVsbG8ge3sgZW1wbG95ZWUgfX0hPC9tZC1kaWFsb2ctY29udGVudD4nICtcbiAqXG4gKiAgICAgICAgICAgICAnICA8bWQtZGlhbG9nLWFjdGlvbnM+JyArXG4gKiAgICAgICAgICAgICAnICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJjbG9zZURpYWxvZygpXCIgY2xhc3M9XCJtZC1wcmltYXJ5XCI+JyArXG4gKiAgICAgICAgICAgICAnICAgICAgQ2xvc2UgR3JlZXRpbmcnICtcbiAqICAgICAgICAgICAgICcgICAgPC9tZC1idXR0b24+JyArXG4gKiAgICAgICAgICAgICAnICA8L21kLWRpYWxvZy1hY3Rpb25zPicgK1xuICogICAgICAgICAgICAgJzwvbWQtZGlhbG9nPicsXG4gKiAgICAgICAgICAgY29udHJvbGxlcjogJ0dyZWV0aW5nQ29udHJvbGxlcicsXG4gKiAgICAgICAgICAgb25Db21wbGV0ZTogYWZ0ZXJTaG93QW5pbWF0aW9uLFxuICogICAgICAgICAgIGxvY2FsczogeyBlbXBsb3llZTogJHNjb3BlLnVzZXJOYW1lIH1cbiAqICAgICAgICAgfSk7XG4gKlxuICogICAgICAgICAvLyBXaGVuIHRoZSAnZW50ZXInIGFuaW1hdGlvbiBmaW5pc2hlcy4uLlxuICpcbiAqICAgICAgICAgZnVuY3Rpb24gYWZ0ZXJTaG93QW5pbWF0aW9uKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gKiAgICAgICAgICAgIC8vIHBvc3Qtc2hvdyBjb2RlIGhlcmU6IERPTSBlbGVtZW50IGZvY3VzLCBldGMuXG4gKiAgICAgICAgIH1cbiAqICAgICB9XG4gKlxuICogICAgIC8vIERpYWxvZyAjMyAtIERlbW9uc3RyYXRlIHVzZSBvZiBDb250cm9sbGVyQXMgYW5kIHBhc3NpbmcgJHNjb3BlIHRvIGRpYWxvZ1xuICogICAgIC8vICAgICAgICAgICAgIEhlcmUgd2UgdXNlZCBuZy1jb250cm9sbGVyPVwiR3JlZXRpbmdDb250cm9sbGVyIGFzIHZtXCIgYW5kXG4gKiAgICAgLy8gICAgICAgICAgICAgJHNjb3BlLnZtID09PSA8Y29udHJvbGxlciBpbnN0YW5jZT5cbiAqXG4gKiAgICAgZnVuY3Rpb24gc2hvd0N1c3RvbUdyZWV0aW5nKCkge1xuICpcbiAqICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gKiAgICAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcbiAqXG4gKiAgICAgICAgICAgc2NvcGU6ICRzY29wZSwgICAgICAgIC8vIHVzZSBwYXJlbnQgc2NvcGUgaW4gdGVtcGxhdGVcbiAqICAgICAgICAgICBwcmVzZXJ2ZVNjb3BlOiB0cnVlLCAgLy8gZG8gbm90IGZvcmdldCB0aGlzIGlmIHVzZSBwYXJlbnQgc2NvcGVcblxuICogICAgICAgICAgIC8vIFNpbmNlIEdyZWV0aW5nQ29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQgd2l0aCBDb250cm9sbGVyQXMgc3ludGF4XG4gKiAgICAgICAgICAgLy8gQU5EIHdlIGFyZSBwYXNzaW5nIHRoZSBwYXJlbnQgJyRzY29wZScgdG8gdGhlIGRpYWxvZywgd2UgTVVTVFxuICogICAgICAgICAgIC8vIHVzZSAndm0uPHh4eD4nIGluIHRoZSB0ZW1wbGF0ZSBtYXJrdXBcbiAqXG4gKiAgICAgICAgICAgdGVtcGxhdGU6ICc8bWQtZGlhbG9nPicgK1xuICogICAgICAgICAgICAgICAgICAgICAnICA8bWQtZGlhbG9nLWNvbnRlbnQ+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICcgICAgIEhpIFRoZXJlIHt7dm0uZW1wbG95ZWV9fScgK1xuICogICAgICAgICAgICAgICAgICAgICAnICA8L21kLWRpYWxvZy1jb250ZW50PicgK1xuICogICAgICAgICAgICAgICAgICAgICAnPC9tZC1kaWFsb2c+JyxcbiAqXG4gKiAgICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gRGlhbG9nQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZykge1xuICogICAgICAgICAgICAgJHNjb3BlLmNsb3NlRGlhbG9nID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XG4gKiAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgfVxuICogICAgICAgIH0pO1xuICogICAgIH1cbiAqXG4gKiAgIH1cbiAqXG4gKiAgIC8vIEdyZWV0aW5nIGNvbnRyb2xsZXIgdXNlZCB3aXRoIHRoZSBtb3JlIGNvbXBsZXggJ3Nob3dDdXN0b21HcmVldGluZygpJyBjdXN0b20gZGlhbG9nXG4gKlxuICogICBmdW5jdGlvbiBHcmVldGluZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbWREaWFsb2csIGVtcGxveWVlKSB7XG4gKiAgICAgLy8gQXNzaWduZWQgZnJvbSBjb25zdHJ1Y3Rpb24gPGNvZGU+bG9jYWxzPC9jb2RlPiBvcHRpb25zLi4uXG4gKiAgICAgJHNjb3BlLmVtcGxveWVlID0gZW1wbG95ZWU7XG4gKlxuICogICAgICRzY29wZS5jbG9zZURpYWxvZyA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgLy8gRWFzaWx5IGhpZGVzIG1vc3QgcmVjZW50IGRpYWxvZyBzaG93bi4uLlxuICogICAgICAgLy8gbm8gc3BlY2lmaWMgaW5zdGFuY2UgcmVmZXJlbmNlIGlzIG5lZWRlZC5cbiAqICAgICAgICRtZERpYWxvZy5oaWRlKCk7XG4gKiAgICAgfTtcbiAqICAgfVxuICpcbiAqIH0pKGFuZ3VsYXIpO1xuICogPC9obGpzPlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kRGlhbG9nI2FsZXJ0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBCdWlsZHMgYSBwcmVjb25maWd1cmVkIGRpYWxvZyB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqfSBhbiBgJG1kRGlhbG9nUHJlc2V0YCB3aXRoIHRoZSBjaGFpbmFibGUgY29uZmlndXJhdGlvbiBtZXRob2RzOlxuICpcbiAqIC0gJG1kRGlhbG9nUHJlc2V0I3RpdGxlKHN0cmluZykgLSBTZXRzIHRoZSBhbGVydCB0aXRsZS5cbiAqIC0gJG1kRGlhbG9nUHJlc2V0I3RleHRDb250ZW50KHN0cmluZykgLSBTZXRzIHRoZSBhbGVydCBtZXNzYWdlLlxuICogLSAkbWREaWFsb2dQcmVzZXQjaHRtbENvbnRlbnQoc3RyaW5nKSAtIFNldHMgdGhlIGFsZXJ0IG1lc3NhZ2UgYXMgSFRNTC4gUmVxdWlyZXMgbmdTYW5pdGl6ZVxuICogICAgIG1vZHVsZSB0byBiZSBsb2FkZWQuIEhUTUwgaXMgbm90IHJ1biB0aHJvdWdoIEFuZ3VsYXIncyBjb21waWxlci5cbiAqIC0gJG1kRGlhbG9nUHJlc2V0I29rKHN0cmluZykgLSBTZXRzIHRoZSBhbGVydCBcIk9rYXlcIiBidXR0b24gdGV4dC5cbiAqIC0gJG1kRGlhbG9nUHJlc2V0I3RoZW1lKHN0cmluZykgLSBTZXRzIHRoZSB0aGVtZSBvZiB0aGUgYWxlcnQgZGlhbG9nLlxuICogLSAkbWREaWFsb2dQcmVzZXQjdGFyZ2V0RXZlbnQoRE9NQ2xpY2tFdmVudD0pIC0gQSBjbGljaydzIGV2ZW50IG9iamVjdC4gV2hlbiBwYXNzZWQgaW4gYXMgYW4gb3B0aW9uLFxuICogICAgIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2xpY2sgd2lsbCBiZSB1c2VkIGFzIHRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIG9wZW5pbmcgYW5pbWF0aW9uXG4gKiAgICAgb2YgdGhlIHRoZSBkaWFsb2cuXG4gKlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kRGlhbG9nI2NvbmZpcm1cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEJ1aWxkcyBhIHByZWNvbmZpZ3VyZWQgZGlhbG9nIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLiBZb3UgY2FuIGNhbGwgc2hvdyBhbmQgdGhlIHByb21pc2UgcmV0dXJuZWRcbiAqIHdpbGwgYmUgcmVzb2x2ZWQgb25seSBpZiB0aGUgdXNlciBjbGlja3MgdGhlIGNvbmZpcm0gYWN0aW9uIG9uIHRoZSBkaWFsb2cuXG4gKlxuICogQHJldHVybnMge29ian0gYW4gYCRtZERpYWxvZ1ByZXNldGAgd2l0aCB0aGUgY2hhaW5hYmxlIGNvbmZpZ3VyYXRpb24gbWV0aG9kczpcbiAqXG4gKiBBZGRpdGlvbmFsbHksIGl0IHN1cHBvcnRzIHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcbiAqXG4gKiAtICRtZERpYWxvZ1ByZXNldCN0aXRsZShzdHJpbmcpIC0gU2V0cyB0aGUgY29uZmlybSB0aXRsZS5cbiAqIC0gJG1kRGlhbG9nUHJlc2V0I3RleHRDb250ZW50KHN0cmluZykgLSBTZXRzIHRoZSBjb25maXJtIG1lc3NhZ2UuXG4gKiAtICRtZERpYWxvZ1ByZXNldCNodG1sQ29udGVudChzdHJpbmcpIC0gU2V0cyB0aGUgY29uZmlybSBtZXNzYWdlIGFzIEhUTUwuIFJlcXVpcmVzIG5nU2FuaXRpemVcbiAqICAgICBtb2R1bGUgdG8gYmUgbG9hZGVkLiBIVE1MIGlzIG5vdCBydW4gdGhyb3VnaCBBbmd1bGFyJ3MgY29tcGlsZXIuXG4gKiAtICRtZERpYWxvZ1ByZXNldCNvayhzdHJpbmcpIC0gU2V0cyB0aGUgY29uZmlybSBcIk9rYXlcIiBidXR0b24gdGV4dC5cbiAqIC0gJG1kRGlhbG9nUHJlc2V0I2NhbmNlbChzdHJpbmcpIC0gU2V0cyB0aGUgY29uZmlybSBcIkNhbmNlbFwiIGJ1dHRvbiB0ZXh0LlxuICogLSAkbWREaWFsb2dQcmVzZXQjdGhlbWUoc3RyaW5nKSAtIFNldHMgdGhlIHRoZW1lIG9mIHRoZSBjb25maXJtIGRpYWxvZy5cbiAqIC0gJG1kRGlhbG9nUHJlc2V0I3RhcmdldEV2ZW50KERPTUNsaWNrRXZlbnQ9KSAtIEEgY2xpY2sncyBldmVudCBvYmplY3QuIFdoZW4gcGFzc2VkIGluIGFzIGFuIG9wdGlvbixcbiAqICAgICB0aGUgbG9jYXRpb24gb2YgdGhlIGNsaWNrIHdpbGwgYmUgdXNlZCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgZm9yIHRoZSBvcGVuaW5nIGFuaW1hdGlvblxuICogICAgIG9mIHRoZSB0aGUgZGlhbG9nLlxuICpcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZERpYWxvZyNzaG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTaG93IGEgZGlhbG9nIHdpdGggdGhlIHNwZWNpZmllZCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zT3JQcmVzZXQgRWl0aGVyIHByb3ZpZGUgYW4gYCRtZERpYWxvZ1ByZXNldGAgcmV0dXJuZWQgZnJvbSBgYWxlcnQoKWAsIGFuZFxuICogYGNvbmZpcm0oKWAsIG9yIGFuIG9wdGlvbnMgb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogICAtIGB0ZW1wbGF0ZVVybGAgLSBge3N0cmluZz19YDogVGhlIHVybCBvZiBhIHRlbXBsYXRlIHRoYXQgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZW50XG4gKiAgIG9mIHRoZSBkaWFsb2cuXG4gKiAgIC0gYHRlbXBsYXRlYCAtIGB7c3RyaW5nPX1gOiBIVE1MIHRlbXBsYXRlIHRvIHNob3cgaW4gdGhlIGRpYWxvZy4gVGhpcyAqKm11c3QqKiBiZSB0cnVzdGVkIEhUTUxcbiAqICAgICAgd2l0aCByZXNwZWN0IHRvIEFuZ3VsYXIncyBbJHNjZSBzZXJ2aWNlXShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvc2VydmljZS8kc2NlKS5cbiAqICAgICAgVGhpcyB0ZW1wbGF0ZSBzaG91bGQgKipuZXZlcioqIGJlIGNvbnN0cnVjdGVkIHdpdGggYW55IGtpbmQgb2YgdXNlciBpbnB1dCBvciB1c2VyIGRhdGEuXG4gKiAgIC0gYGF1dG9XcmFwYCAtIGB7Ym9vbGVhbj19YDogV2hldGhlciBvciBub3QgdG8gYXV0b21hdGljYWxseSB3cmFwIHRoZSB0ZW1wbGF0ZSB3aXRoIGFcbiAqICAgICBgPG1kLWRpYWxvZz5gIHRhZyBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLiBEZWZhdWx0cyB0byB0cnVlLiBDYW4gYmUgZGlzYWJsZWQgaWYgeW91IHByb3ZpZGUgYVxuICogICAgIGN1c3RvbSBkaWFsb2cgZGlyZWN0aXZlLlxuICogICAtIGB0YXJnZXRFdmVudGAgLSBge0RPTUNsaWNrRXZlbnQ9fWA6IEEgY2xpY2sncyBldmVudCBvYmplY3QuIFdoZW4gcGFzc2VkIGluIGFzIGFuIG9wdGlvbixcbiAqICAgICB0aGUgbG9jYXRpb24gb2YgdGhlIGNsaWNrIHdpbGwgYmUgdXNlZCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgZm9yIHRoZSBvcGVuaW5nIGFuaW1hdGlvblxuICogICAgIG9mIHRoZSB0aGUgZGlhbG9nLlxuICogICAtIGBvcGVuRnJvbWAgLSBge3N0cmluZ3xFbGVtZW50fG9iamVjdH1gOiBUaGUgcXVlcnkgc2VsZWN0b3IsIERPTSBlbGVtZW50IG9yIHRoZSBSZWN0IG9iamVjdFxuICogICAgIHRoYXQgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIGJvdW5kcyAodG9wLCBsZWZ0LCBoZWlnaHQsIHdpZHRoKSBmcm9tIHdoaWNoIHRoZSBEaWFsb2cgd2lsbFxuICogICAgIG9yaWdpbmF0ZS5cbiAqICAgLSBgY2xvc2VUb2AgLSBge3N0cmluZ3xFbGVtZW50fG9iamVjdH1gOiBUaGUgcXVlcnkgc2VsZWN0b3IsIERPTSBlbGVtZW50IG9yIHRoZSBSZWN0IG9iamVjdFxuICogICAgIHRoYXQgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIGJvdW5kcyAodG9wLCBsZWZ0LCBoZWlnaHQsIHdpZHRoKSB0byB3aGljaCB0aGUgRGlhbG9nIHdpbGxcbiAqICAgICB0YXJnZXQuXG4gKiAgIC0gYHNjb3BlYCAtIGB7b2JqZWN0PX1gOiB0aGUgc2NvcGUgdG8gbGluayB0aGUgdGVtcGxhdGUgLyBjb250cm9sbGVyIHRvLiBJZiBub25lIGlzIHNwZWNpZmllZCxcbiAqICAgICBpdCB3aWxsIGNyZWF0ZSBhIG5ldyBpc29sYXRlIHNjb3BlLlxuICogICAgIFRoaXMgc2NvcGUgd2lsbCBiZSBkZXN0cm95ZWQgd2hlbiB0aGUgZGlhbG9nIGlzIHJlbW92ZWQgdW5sZXNzIGBwcmVzZXJ2ZVNjb3BlYCBpcyBzZXQgdG8gdHJ1ZS5cbiAqICAgLSBgcHJlc2VydmVTY29wZWAgLSBge2Jvb2xlYW49fWA6IHdoZXRoZXIgdG8gcHJlc2VydmUgdGhlIHNjb3BlIHdoZW4gdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZC4gRGVmYXVsdCBpcyBmYWxzZVxuICogICAtIGBkaXNhYmxlUGFyZW50U2Nyb2xsYCAtIGB7Ym9vbGVhbj19YDogV2hldGhlciB0byBkaXNhYmxlIHNjcm9sbGluZyB3aGlsZSB0aGUgZGlhbG9nIGlzIG9wZW4uXG4gKiAgICAgRGVmYXVsdCB0cnVlLlxuICogICAtIGBoYXNCYWNrZHJvcGAgLSBge2Jvb2xlYW49fWA6IFdoZXRoZXIgdGhlcmUgc2hvdWxkIGJlIGFuIG9wYXF1ZSBiYWNrZHJvcCBiZWhpbmQgdGhlIGRpYWxvZy5cbiAqICAgICBEZWZhdWx0IHRydWUuXG4gKiAgIC0gYGNsaWNrT3V0c2lkZVRvQ2xvc2VgIC0gYHtib29sZWFuPX1gOiBXaGV0aGVyIHRoZSB1c2VyIGNhbiBjbGljayBvdXRzaWRlIHRoZSBkaWFsb2cgdG9cbiAqICAgICBjbG9zZSBpdC4gRGVmYXVsdCBmYWxzZS5cbiAqICAgLSBgZXNjYXBlVG9DbG9zZWAgLSBge2Jvb2xlYW49fWA6IFdoZXRoZXIgdGhlIHVzZXIgY2FuIHByZXNzIGVzY2FwZSB0byBjbG9zZSB0aGUgZGlhbG9nLlxuICogICAgIERlZmF1bHQgdHJ1ZS5cbiAqICAgLSBgZm9jdXNPbk9wZW5gIC0gYHtib29sZWFuPX1gOiBBbiBvcHRpb24gdG8gb3ZlcnJpZGUgZm9jdXMgYmVoYXZpb3Igb24gb3Blbi4gT25seSBkaXNhYmxlIGlmXG4gKiAgICAgZm9jdXNpbmcgc29tZSBvdGhlciB3YXksIGFzIGZvY3VzIG1hbmFnZW1lbnQgaXMgcmVxdWlyZWQgZm9yIGRpYWxvZ3MgdG8gYmUgYWNjZXNzaWJsZS5cbiAqICAgICBEZWZhdWx0cyB0byB0cnVlLlxuICogICAtIGBjb250cm9sbGVyYCAtIGB7ZnVuY3Rpb258c3RyaW5nPX1gOiBUaGUgY29udHJvbGxlciB0byBhc3NvY2lhdGUgd2l0aCB0aGUgZGlhbG9nLiBUaGUgY29udHJvbGxlclxuICogICAgIHdpbGwgYmUgaW5qZWN0ZWQgd2l0aCB0aGUgbG9jYWwgYCRtZERpYWxvZ2AsIHdoaWNoIHBhc3NlcyBhbG9uZyBhIHNjb3BlIGZvciB0aGUgZGlhbG9nLlxuICogICAtIGBsb2NhbHNgIC0gYHtvYmplY3Q9fWA6IEFuIG9iamVjdCBjb250YWluaW5nIGtleS92YWx1ZSBwYWlycy4gVGhlIGtleXMgd2lsbCBiZSB1c2VkIGFzIG5hbWVzXG4gKiAgICAgb2YgdmFsdWVzIHRvIGluamVjdCBpbnRvIHRoZSBjb250cm9sbGVyLiBGb3IgZXhhbXBsZSwgYGxvY2Fsczoge3RocmVlOiAzfWAgd291bGQgaW5qZWN0XG4gKiAgICAgYHRocmVlYCBpbnRvIHRoZSBjb250cm9sbGVyLCB3aXRoIHRoZSB2YWx1ZSAzLiBJZiBgYmluZFRvQ29udHJvbGxlcmAgaXMgdHJ1ZSwgdGhleSB3aWxsIGJlXG4gKiAgICAgY29waWVkIHRvIHRoZSBjb250cm9sbGVyIGluc3RlYWQuXG4gKiAgIC0gYGJpbmRUb0NvbnRyb2xsZXJgIC0gYGJvb2xgOiBiaW5kIHRoZSBsb2NhbHMgdG8gdGhlIGNvbnRyb2xsZXIsIGluc3RlYWQgb2YgcGFzc2luZyB0aGVtIGluLlxuICogICAgIFRoZXNlIHZhbHVlcyB3aWxsIG5vdCBiZSBhdmFpbGFibGUgdW50aWwgYWZ0ZXIgaW5pdGlhbGl6YXRpb24uXG4gKiAgIC0gYHJlc29sdmVgIC0gYHtvYmplY3Q9fWA6IFNpbWlsYXIgdG8gbG9jYWxzLCBleGNlcHQgaXQgdGFrZXMgcHJvbWlzZXMgYXMgdmFsdWVzLCBhbmQgdGhlXG4gKiAgICAgZGlhbG9nIHdpbGwgbm90IG9wZW4gdW50aWwgYWxsIG9mIHRoZSBwcm9taXNlcyByZXNvbHZlLlxuICogICAtIGBjb250cm9sbGVyQXNgIC0gYHtzdHJpbmc9fWA6IEFuIGFsaWFzIHRvIGFzc2lnbiB0aGUgY29udHJvbGxlciB0byBvbiB0aGUgc2NvcGUuXG4gKiAgIC0gYHBhcmVudGAgLSBge2VsZW1lbnQ9fWA6IFRoZSBlbGVtZW50IHRvIGFwcGVuZCB0aGUgZGlhbG9nIHRvLiBEZWZhdWx0cyB0byBhcHBlbmRpbmdcbiAqICAgICB0byB0aGUgcm9vdCBlbGVtZW50IG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAqICAgLSBgb25TaG93aW5nYCBge2Z1bmN0aW9uPX0gQ2FsbGJhY2sgZnVuY3Rpb24gdXNlZCB0byBhbm5vdW5jZSB0aGUgc2hvdygpIGFjdGlvbiBpc1xuICogICAgIHN0YXJ0aW5nLlxuICogICAtIGBvbkNvbXBsZXRlYCBge2Z1bmN0aW9uPX1gOiBDYWxsYmFjayBmdW5jdGlvbiB1c2VkIHRvIGFubm91bmNlIHdoZW4gdGhlIHNob3coKSBhY3Rpb24gaXNcbiAqICAgICBmaW5pc2hlZC5cbiAqICAgLSBgb25SZW1vdmluZ2AgYHtmdW5jdGlvbj19YDogQ2FsbGJhY2sgZnVuY3Rpb24gdXNlZCB0byBhbm5vdW5jZSB0aGUgY2xvc2UvaGlkZSgpIGFjdGlvbiBpc1xuICogICAgIHN0YXJ0aW5nLiBUaGlzIGFsbG93cyBkZXZlbG9wZXJzIHRvIHJ1biBjdXN0b20gYW5pbWF0aW9ucyBpbiBwYXJhbGxlbCB0aGUgY2xvc2UgYW5pbWF0aW9ucy5cbiAqICAgLSBgZnVsbHNjcmVlbmAgYHtib29sZWFuPX1gOiBBbiBvcHRpb24gdG8gYXBwbHkgYC5tZC1kaWFsb2ctZnVsbHNjcmVlbmAgY2xhc3Mgb24gb3Blbi5cbiAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2UgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgd2l0aCBgJG1kRGlhbG9nLmhpZGUoKWAgb3JcbiAqIHJlamVjdGVkIHdpdGggYCRtZERpYWxvZy5jYW5jZWwoKWAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWREaWFsb2cjaGlkZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSBhbiBleGlzdGluZyBkaWFsb2cgYW5kIHJlc29sdmUgdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbSBgJG1kRGlhbG9nLnNob3coKWAuXG4gKlxuICogQHBhcmFtIHsqPX0gcmVzcG9uc2UgQW4gYXJndW1lbnQgZm9yIHRoZSByZXNvbHZlZCBwcm9taXNlLlxuICpcbiAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBkaWFsb2cgaGFzIGJlZW4gY2xvc2VkLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kRGlhbG9nI2NhbmNlbFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSBhbiBleGlzdGluZyBkaWFsb2cgYW5kIHJlamVjdCB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGAkbWREaWFsb2cuc2hvdygpYC5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlamVjdGVkIHByb21pc2UuXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIGRpYWxvZyBoYXMgYmVlbiBjbG9zZWQuXG4gKi9cblxuZnVuY3Rpb24gTWREaWFsb2dQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcbiAgLy8gRWxlbWVudHMgdG8gY2FwdHVyZSBhbmQgcmVkaXJlY3QgZm9jdXMgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRhYiBhdCB0aGUgZGlhbG9nIGJvdW5kYXJ5LlxuICB2YXIgdG9wRm9jdXNUcmFwLCBib3R0b21Gb2N1c1RyYXA7XG5cbiAgYWR2YW5jZWREaWFsb2dPcHRpb25zLiRpbmplY3QgPSBbXCIkbWREaWFsb2dcIiwgXCIkbWRUaGVtaW5nXCJdO1xuICBkaWFsb2dEZWZhdWx0T3B0aW9ucy4kaW5qZWN0ID0gW1wiJG1kRGlhbG9nXCIsIFwiJG1kQXJpYVwiLCBcIiRtZFV0aWxcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRhbmltYXRlXCIsIFwiJGRvY3VtZW50XCIsIFwiJHdpbmRvd1wiLCBcIiRyb290RWxlbWVudFwiLCBcIiRsb2dcIiwgXCIkaW5qZWN0b3JcIl07XG4gIHJldHVybiAkJGludGVyaW1FbGVtZW50UHJvdmlkZXIoJyRtZERpYWxvZycpXG4gICAgLnNldERlZmF1bHRzKHtcbiAgICAgIG1ldGhvZHM6IFsnZGlzYWJsZVBhcmVudFNjcm9sbCcsICdoYXNCYWNrZHJvcCcsICdjbGlja091dHNpZGVUb0Nsb3NlJywgJ2VzY2FwZVRvQ2xvc2UnLFxuICAgICAgICAgICd0YXJnZXRFdmVudCcsICdjbG9zZVRvJywgJ29wZW5Gcm9tJywgJ3BhcmVudCcsICdmdWxsc2NyZWVuJ10sXG4gICAgICBvcHRpb25zOiBkaWFsb2dEZWZhdWx0T3B0aW9uc1xuICAgIH0pXG4gICAgLmFkZFByZXNldCgnYWxlcnQnLCB7XG4gICAgICBtZXRob2RzOiBbJ3RpdGxlJywgJ2h0bWxDb250ZW50JywgJ3RleHRDb250ZW50JywgJ2NvbnRlbnQnLCAnYXJpYUxhYmVsJywgJ29rJywgJ3RoZW1lJyxcbiAgICAgICAgICAnY3NzJ10sXG4gICAgICBvcHRpb25zOiBhZHZhbmNlZERpYWxvZ09wdGlvbnNcbiAgICB9KVxuICAgIC5hZGRQcmVzZXQoJ2NvbmZpcm0nLCB7XG4gICAgICBtZXRob2RzOiBbJ3RpdGxlJywgJ2h0bWxDb250ZW50JywgJ3RleHRDb250ZW50JywgJ2NvbnRlbnQnLCAnYXJpYUxhYmVsJywgJ29rJywgJ2NhbmNlbCcsXG4gICAgICAgICAgJ3RoZW1lJywgJ2NzcyddLFxuICAgICAgb3B0aW9uczogYWR2YW5jZWREaWFsb2dPcHRpb25zXG4gICAgfSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGFkdmFuY2VkRGlhbG9nT3B0aW9ucygkbWREaWFsb2csICRtZFRoZW1pbmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGVtcGxhdGU6IFtcbiAgICAgICAgJzxtZC1kaWFsb2cgbWQtdGhlbWU9XCJ7eyBkaWFsb2cudGhlbWUgfX1cIiBhcmlhLWxhYmVsPVwie3sgZGlhbG9nLmFyaWFMYWJlbCB9fVwiIG5nLWNsYXNzPVwiZGlhbG9nLmNzc1wiPicsXG4gICAgICAgICcgIDxtZC1kaWFsb2ctY29udGVudCBjbGFzcz1cIm1kLWRpYWxvZy1jb250ZW50XCIgcm9sZT1cImRvY3VtZW50XCIgdGFiSW5kZXg9XCItMVwiPicsXG4gICAgICAgICcgICAgPGgyIGNsYXNzPVwibWQtdGl0bGVcIj57eyBkaWFsb2cudGl0bGUgfX08L2gyPicsXG4gICAgICAgICcgICAgPGRpdiBuZy1pZj1cIjo6ZGlhbG9nLm1kSHRtbENvbnRlbnRcIiBjbGFzcz1cIm1kLWRpYWxvZy1jb250ZW50LWJvZHlcIiAnLFxuICAgICAgICAnICAgICAgICBuZy1iaW5kLWh0bWw9XCI6OmRpYWxvZy5tZEh0bWxDb250ZW50XCI+PC9kaXY+JyxcbiAgICAgICAgJyAgICA8ZGl2IG5nLWlmPVwiOjohZGlhbG9nLm1kSHRtbENvbnRlbnRcIiBjbGFzcz1cIm1kLWRpYWxvZy1jb250ZW50LWJvZHlcIj4nLFxuICAgICAgICAnICAgICAgPHA+e3s6OmRpYWxvZy5tZFRleHRDb250ZW50fX08L3A+JyxcbiAgICAgICAgJyAgICA8L2Rpdj4nLFxuICAgICAgICAnICA8L21kLWRpYWxvZy1jb250ZW50PicsXG4gICAgICAgICcgIDxtZC1kaWFsb2ctYWN0aW9ucz4nLFxuICAgICAgICAnICAgIDxtZC1idXR0b24gbmctaWY9XCJkaWFsb2cuJHR5cGUgPT0gXFwnY29uZmlybVxcJ1wiJyArXG4gICAgICAgICcgICAgICAgICAgICAgICBuZy1jbGljaz1cImRpYWxvZy5hYm9ydCgpXCIgY2xhc3M9XCJtZC1wcmltYXJ5XCI+JyxcbiAgICAgICAgJyAgICAgIHt7IGRpYWxvZy5jYW5jZWwgfX0nLFxuICAgICAgICAnICAgIDwvbWQtYnV0dG9uPicsXG4gICAgICAgICcgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cImRpYWxvZy5oaWRlKClcIiBjbGFzcz1cIm1kLXByaW1hcnlcIiBtZC1hdXRvZm9jdXM9XCJkaWFsb2cuJHR5cGUhPVxcJ2NvbmZpcm1cXCdcIj4nLFxuICAgICAgICAnICAgICAge3sgZGlhbG9nLm9rIH19JyxcbiAgICAgICAgJyAgICA8L21kLWJ1dHRvbj4nLFxuICAgICAgICAnICA8L21kLWRpYWxvZy1hY3Rpb25zPicsXG4gICAgICAgICc8L21kLWRpYWxvZz4nXG4gICAgICBdLmpvaW4oJycpLnJlcGxhY2UoL1xcc1xccysvZywgJycpLFxuICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gbWREaWFsb2dDdHJsKCkge1xuICAgICAgICB0aGlzLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkbWREaWFsb2cuaGlkZSh0cnVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBjb250cm9sbGVyQXM6ICdkaWFsb2cnLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIHRoZW1lOiAkbWRUaGVtaW5nLmRlZmF1bHRUaGVtZSgpXG4gICAgfTtcbiAgfVxuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkaWFsb2dEZWZhdWx0T3B0aW9ucygkbWREaWFsb2csICRtZEFyaWEsICRtZFV0aWwsICRtZENvbnN0YW50LCAkYW5pbWF0ZSwgJGRvY3VtZW50LCAkd2luZG93LCAkcm9vdEVsZW1lbnQsICRsb2csICRpbmplY3Rvcikge1xuICAgIHJldHVybiB7XG4gICAgICBoYXNCYWNrZHJvcDogdHJ1ZSxcbiAgICAgIGlzb2xhdGVTY29wZTogdHJ1ZSxcbiAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgb25TaG93aW5nOiBiZWZvcmVTaG93LFxuICAgICAgb25SZW1vdmU6IG9uUmVtb3ZlLFxuICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogZmFsc2UsXG4gICAgICBlc2NhcGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgdGFyZ2V0RXZlbnQ6IG51bGwsXG4gICAgICBjbG9zZVRvOiBudWxsLFxuICAgICAgb3BlbkZyb206IG51bGwsXG4gICAgICBmb2N1c09uT3BlbjogdHJ1ZSxcbiAgICAgIGRpc2FibGVQYXJlbnRTY3JvbGw6IHRydWUsXG4gICAgICBhdXRvV3JhcDogdHJ1ZSxcbiAgICAgIGZ1bGxzY3JlZW46IGZhbHNlLFxuICAgICAgdHJhbnNmb3JtVGVtcGxhdGU6IGZ1bmN0aW9uKHRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIm1kLWRpYWxvZy1jb250YWluZXJcIj4nICsgdmFsaWRhdGVkVGVtcGxhdGUodGVtcGxhdGUpICsgJzwvZGl2Pic7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGVjaWZpZWQgdGVtcGxhdGUgc2hvdWxkIGNvbnRhaW4gYSA8bWQtZGlhbG9nPiB3cmFwcGVyIGVsZW1lbnQuLi4uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZWRUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgICAgIGlmIChvcHRpb25zLmF1dG9XcmFwICYmICEvPFxcL21kLWRpYWxvZz4vZy50ZXN0KHRlbXBsYXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuICc8bWQtZGlhbG9nPicgKyAodGVtcGxhdGUgfHwgJycpICsgJzwvbWQtZGlhbG9nPic7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZSB8fCAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYmVmb3JlU2hvdyhzY29wZSwgZWxlbWVudCwgb3B0aW9ucywgY29udHJvbGxlcikge1xuICAgICAgaWYgKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5tZEh0bWxDb250ZW50ID0gY29udHJvbGxlci5odG1sQ29udGVudCB8fCBvcHRpb25zLmh0bWxDb250ZW50IHx8ICcnO1xuICAgICAgICBjb250cm9sbGVyLm1kVGV4dENvbnRlbnQgPSBjb250cm9sbGVyLnRleHRDb250ZW50IHx8IG9wdGlvbnMudGV4dENvbnRlbnQgfHxcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuY29udGVudCB8fCBvcHRpb25zLmNvbnRlbnQgfHwgJyc7XG5cbiAgICAgICAgaWYgKGNvbnRyb2xsZXIubWRIdG1sQ29udGVudCAmJiAhJGluamVjdG9yLmhhcygnJHNhbml0aXplJykpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcignVGhlIG5nU2FuaXRpemUgbW9kdWxlIG11c3QgYmUgbG9hZGVkIGluIG9yZGVyIHRvIHVzZSBodG1sQ29udGVudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250cm9sbGVyLm1kSHRtbENvbnRlbnQgJiYgY29udHJvbGxlci5tZFRleHRDb250ZW50KSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ21kLWRpYWxvZyBjYW5ub3QgaGF2ZSBib3RoIGBodG1sQ29udGVudGAgYW5kIGB0ZXh0Q29udGVudGAnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBTaG93IG1ldGhvZCBmb3IgZGlhbG9ncyAqL1xuICAgIGZ1bmN0aW9uIG9uU2hvdyhzY29wZSwgZWxlbWVudCwgb3B0aW9ucywgY29udHJvbGxlcikge1xuICAgICAgYW5ndWxhci5lbGVtZW50KCRkb2N1bWVudFswXS5ib2R5KS5hZGRDbGFzcygnbWQtZGlhbG9nLWlzLXNob3dpbmcnKTtcblxuICAgICAgY2FwdHVyZVBhcmVudEFuZEZyb21Ub0VsZW1lbnRzKG9wdGlvbnMpO1xuICAgICAgY29uZmlndXJlQXJpYShlbGVtZW50LmZpbmQoJ21kLWRpYWxvZycpLCBvcHRpb25zKTtcbiAgICAgIHNob3dCYWNrZHJvcChzY29wZSwgZWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgIHJldHVybiBkaWFsb2dQb3BJbihlbGVtZW50LCBvcHRpb25zKVxuICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBhY3RpdmF0ZUxpc3RlbmVycyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICBsb2NrU2NyZWVuUmVhZGVyKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgIHdhcm5EZXByZWNhdGVkQWN0aW9ucygpO1xuICAgICAgICAgIGZvY3VzT25PcGVuKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAvKipcbiAgICAgICAqIENoZWNrIHRvIHNlZSBpZiB0aGV5IHVzZWQgdGhlIGRlcHJlY2F0ZWQgLm1kLWFjdGlvbnMgY2xhc3MgYW5kIGxvZyBhIHdhcm5pbmdcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gd2FybkRlcHJlY2F0ZWRBY3Rpb25zKCkge1xuICAgICAgICB2YXIgYmFkQWN0aW9ucyA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnLm1kLWFjdGlvbnMnKTtcblxuICAgICAgICBpZiAoYmFkQWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgJGxvZy53YXJuKCdVc2luZyBhIGNsYXNzIG9mIG1kLWFjdGlvbnMgaXMgZGVwcmVjdGVkLCBwbGVhc2UgdXNlIDxtZC1kaWFsb2ctYWN0aW9ucz4uJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBGb3IgYWxlcnRzLCBmb2N1cyBvbiBjb250ZW50Li4uIG90aGVyd2lzZSBmb2N1cyBvblxuICAgICAgICogdGhlIGNsb3NlIGJ1dHRvbiAob3IgZXF1aXZhbGVudClcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZm9jdXNPbk9wZW4oKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmZvY3VzT25PcGVuKSB7XG4gICAgICAgICAgdmFyIHRhcmdldCA9ICRtZFV0aWwuZmluZEZvY3VzVGFyZ2V0KGVsZW1lbnQpIHx8IGZpbmRDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgIHRhcmdldC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIG5vIGVsZW1lbnQgd2l0aCBjbGFzcyBkaWFsb2ctY2xvc2UsIHRyeSB0byBmaW5kIHRoZSBsYXN0XG4gICAgICAgICAqIGJ1dHRvbiBjaGlsZCBpbiBtZC1hY3Rpb25zIGFuZCBhc3N1bWUgaXQgaXMgYSBjbG9zZSBidXR0b24uXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHdlIGZpbmQgbm8gYWN0aW9ucyBhdCBhbGwsIGxvZyBhIHdhcm5pbmcgdG8gdGhlIGNvbnNvbGUuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmaW5kQ2xvc2VCdXR0b24oKSB7XG4gICAgICAgICAgdmFyIGNsb3NlQnV0dG9uID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZGlhbG9nLWNsb3NlJyk7XG4gICAgICAgICAgaWYgKCFjbG9zZUJ1dHRvbikge1xuICAgICAgICAgICAgdmFyIGFjdGlvbkJ1dHRvbnMgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZC1hY3Rpb25zIGJ1dHRvbiwgbWQtZGlhbG9nLWFjdGlvbnMgYnV0dG9uJyk7XG4gICAgICAgICAgICBjbG9zZUJ1dHRvbiA9IGFjdGlvbkJ1dHRvbnNbYWN0aW9uQnV0dG9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZWxlbWVudChjbG9zZUJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZnVuY3Rpb24gZm9yIGFsbCBkaWFsb2dzXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25SZW1vdmUoc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMuZGVhY3RpdmF0ZUxpc3RlbmVycygpO1xuICAgICAgb3B0aW9ucy51bmxvY2tTY3JlZW5SZWFkZXIoKTtcbiAgICAgIG9wdGlvbnMuaGlkZUJhY2tkcm9wKG9wdGlvbnMuJGRlc3Ryb3kpO1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIGZvY3VzIHRyYXBzIHRoYXQgd2UgYWRkZWQgZWFybGllciBmb3Iga2VlcGluZyBmb2N1cyB3aXRoaW4gdGhlIGRpYWxvZy5cbiAgICAgIGlmICh0b3BGb2N1c1RyYXAgJiYgdG9wRm9jdXNUcmFwLnBhcmVudE5vZGUpIHtcbiAgICAgICAgdG9wRm9jdXNUcmFwLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodG9wRm9jdXNUcmFwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGJvdHRvbUZvY3VzVHJhcCAmJiBib3R0b21Gb2N1c1RyYXAucGFyZW50Tm9kZSkge1xuICAgICAgICBib3R0b21Gb2N1c1RyYXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChib3R0b21Gb2N1c1RyYXApO1xuICAgICAgfVxuXG4gICAgICAvLyBGb3IgbmF2aWdhdGlvbiAkZGVzdHJveSBldmVudHMsIGRvIGEgcXVpY2ssIG5vbi1hbmltYXRlZCByZW1vdmFsLFxuICAgICAgLy8gYnV0IGZvciBub3JtYWwgY2xvc2VzIChmcm9tIGNsaWNrcywgZXRjKSBhbmltYXRlIHRoZSByZW1vdmFsXG4gICAgICByZXR1cm4gISFvcHRpb25zLiRkZXN0cm95ID8gZGV0YWNoQW5kQ2xlYW4oKSA6IGFuaW1hdGVSZW1vdmFsKCkudGhlbiggZGV0YWNoQW5kQ2xlYW4gKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBGb3Igbm9ybWFsIGNsb3NlcywgYW5pbWF0ZSB0aGUgcmVtb3ZhbC5cbiAgICAgICAqIEZvciBmb3JjZWQgY2xvc2VzIChsaWtlICRkZXN0cm95IGV2ZW50cyksIHNraXAgdGhlIGFuaW1hdGlvbnNcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gYW5pbWF0ZVJlbW92YWwoKSB7XG4gICAgICAgIHJldHVybiBkaWFsb2dQb3BPdXQoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRGV0YWNoIHRoZSBlbGVtZW50XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGRldGFjaEFuZENsZWFuKCkge1xuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJGRvY3VtZW50WzBdLmJvZHkpLnJlbW92ZUNsYXNzKCdtZC1kaWFsb2ctaXMtc2hvd2luZycpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy4kZGVzdHJveSkgb3B0aW9ucy5vcmlnaW4uZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXB0dXJlIG9yaWdpbmF0b3IvdHJpZ2dlci9mcm9tL3RvIGVsZW1lbnQgaW5mb3JtYXRpb24gKGlmIGF2YWlsYWJsZSlcbiAgICAgKiBhbmQgdGhlIHBhcmVudCBjb250YWluZXIgZm9yIHRoZSBkaWFsb2c7IGRlZmF1bHRzIHRvIHRoZSAkcm9vdEVsZW1lbnRcbiAgICAgKiB1bmxlc3Mgb3ZlcnJpZGRlbiBpbiB0aGUgb3B0aW9ucy5wYXJlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXB0dXJlUGFyZW50QW5kRnJvbVRvRWxlbWVudHMob3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMub3JpZ2luID0gYW5ndWxhci5leHRlbmQoe1xuICAgICAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIGJvdW5kczogbnVsbCxcbiAgICAgICAgICAgIGZvY3VzOiBhbmd1bGFyLm5vb3BcbiAgICAgICAgICB9LCBvcHRpb25zLm9yaWdpbiB8fCB7fSk7XG5cbiAgICAgICAgICBvcHRpb25zLnBhcmVudCAgID0gZ2V0RG9tRWxlbWVudChvcHRpb25zLnBhcmVudCwgJHJvb3RFbGVtZW50KTtcbiAgICAgICAgICBvcHRpb25zLmNsb3NlVG8gID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGdldERvbUVsZW1lbnQob3B0aW9ucy5jbG9zZVRvKSk7XG4gICAgICAgICAgb3B0aW9ucy5vcGVuRnJvbSA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChnZXREb21FbGVtZW50KG9wdGlvbnMub3BlbkZyb20pKTtcblxuICAgICAgICAgIGlmICggb3B0aW9ucy50YXJnZXRFdmVudCApIHtcbiAgICAgICAgICAgIG9wdGlvbnMub3JpZ2luICAgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob3B0aW9ucy50YXJnZXRFdmVudC50YXJnZXQsIG9wdGlvbnMub3JpZ2luKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBJZGVudGlmeSB0aGUgYm91bmRpbmcgUkVDVCBmb3IgdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICAgICAgICpcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QgKGVsZW1lbnQsIG9yaWcpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhbmd1bGFyLmVsZW1lbnQoKGVsZW1lbnQgfHwge30pKTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgJiYgc291cmNlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBDb21wdXRlIGFuZCBzYXZlIHRoZSB0YXJnZXQgZWxlbWVudCdzIGJvdW5kaW5nIHJlY3QsIHNvIHRoYXQgaWYgdGhlXG4gICAgICAgICAgICAgIC8vIGVsZW1lbnQgaXMgaGlkZGVuIHdoZW4gdGhlIGRpYWxvZyBjbG9zZXMsIHdlIGNhbiBzaHJpbmsgdGhlIGRpYWxvZ1xuICAgICAgICAgICAgICAvLyBiYWNrIHRvIHRoZSBzYW1lIHBvc2l0aW9uIGl0IGV4cGFuZGVkIGZyb20uXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBzb3VyY2UgaXMgYSByZWN0IG9iamVjdCBvciBhIERPTSBlbGVtZW50XG4gICAgICAgICAgICAgIHZhciBib3VuZHMgPSB7dG9wOjAsbGVmdDowLGhlaWdodDowLHdpZHRoOjB9O1xuICAgICAgICAgICAgICB2YXIgaGFzRm4gPSBhbmd1bGFyLmlzRnVuY3Rpb24oc291cmNlWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZXh0ZW5kKG9yaWcgfHwge30sIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQgOiBoYXNGbiA/IHNvdXJjZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgIGJvdW5kcyAgOiBoYXNGbiA/IHNvdXJjZVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGFuZ3VsYXIuZXh0ZW5kKHt9LCBib3VuZHMsIHNvdXJjZVswXSksXG4gICAgICAgICAgICAgICAgICBmb2N1cyAgIDogYW5ndWxhci5iaW5kKHNvdXJjZSwgc291cmNlLmZvY3VzKSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogSWYgdGhlIHNwZWNpZmllciBpcyBhIHNpbXBsZSBzdHJpbmcgc2VsZWN0b3IsIHRoZW4gcXVlcnkgZm9yXG4gICAgICAgICAgICogdGhlIERPTSBlbGVtZW50LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZ1bmN0aW9uIGdldERvbUVsZW1lbnQoZWxlbWVudCwgZGVmYXVsdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgIHZhciBzaW1wbGVTZWxlY3RvciA9IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoc2ltcGxlU2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBjb250YWluZXIubGVuZ3RoID8gY29udGFpbmVyWzBdIDogbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHJlZmVyZW5jZSB0byBhIHJhdyBkb20gZWxlbWVudCwgYWx3YXlzIHdyYXAgaXQgaW4ganFMaXRlXG4gICAgICAgICAgICByZXR1cm4gYW5ndWxhci5lbGVtZW50KGVsZW1lbnQgfHwgZGVmYXVsdEVsZW1lbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gZm9yIGVzY2FwZSBrZXlzIGFuZCBvdXRzaWRlIGNsaWNrcyB0byBhdXRvIGNsb3NlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWN0aXZhdGVMaXN0ZW5lcnMoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdmFyIHdpbmRvdyA9IGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KTtcbiAgICAgIHZhciBvbldpbmRvd1Jlc2l6ZSA9ICRtZFV0aWwuZGVib3VuY2UoZnVuY3Rpb24oKXtcbiAgICAgICAgc3RyZXRjaERpYWxvZ0NvbnRhaW5lclRvVmlld3BvcnQoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICB9LCA2MCk7XG5cbiAgICAgIHZhciByZW1vdmVMaXN0ZW5lcnMgPSBbXTtcbiAgICAgIHZhciBzbWFydENsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE9ubHkgJ2NvbmZpcm0nIGRpYWxvZ3MgaGF2ZSBhIGNhbmNlbCBidXR0b24uLi4gZXNjYXBlL2NsaWNrT3V0c2lkZSB3aWxsXG4gICAgICAgIC8vIGNhbmNlbCBvciBmYWxsYmFjayB0byBoaWRlLlxuICAgICAgICB2YXIgY2xvc2VGbiA9ICggb3B0aW9ucy4kdHlwZSA9PSAnYWxlcnQnICkgPyAkbWREaWFsb2cuaGlkZSA6ICRtZERpYWxvZy5jYW5jZWw7XG4gICAgICAgICRtZFV0aWwubmV4dFRpY2soY2xvc2VGbiwgdHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAob3B0aW9ucy5lc2NhcGVUb0Nsb3NlKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBvcHRpb25zLnBhcmVudDtcbiAgICAgICAgdmFyIGtleUhhbmRsZXJGbiA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgaWYgKGV2LmtleUNvZGUgPT09ICRtZENvbnN0YW50LktFWV9DT0RFLkVTQ0FQRSkge1xuICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBzbWFydENsb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFkZCBrZXlkb3duIGxpc3RlbmVyc1xuICAgICAgICBlbGVtZW50Lm9uKCdrZXlkb3duJywga2V5SGFuZGxlckZuKTtcbiAgICAgICAgdGFyZ2V0Lm9uKCdrZXlkb3duJywga2V5SGFuZGxlckZuKTtcbiAgICAgICAgd2luZG93Lm9uKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSk7XG5cbiAgICAgICAgLy8gUXVldWUgcmVtb3ZlIGxpc3RlbmVycyBmdW5jdGlvblxuICAgICAgICByZW1vdmVMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpIHtcblxuICAgICAgICAgIGVsZW1lbnQub2ZmKCdrZXlkb3duJywga2V5SGFuZGxlckZuKTtcbiAgICAgICAgICB0YXJnZXQub2ZmKCdrZXlkb3duJywga2V5SGFuZGxlckZuKTtcbiAgICAgICAgICB3aW5kb3cub2ZmKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSk7XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5jbGlja091dHNpZGVUb0Nsb3NlKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBlbGVtZW50O1xuICAgICAgICB2YXIgc291cmNlRWxlbTtcblxuICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIHRoZSBlbGVtZW50IG9uIHdoaWNoIHRoZSBtb3VzZSBvcmlnaW5hbGx5IHdlbnQgZG93blxuICAgICAgICAvLyBzbyB0aGF0IHdlIGNhbiBvbmx5IGNsb3NlIHRoZSBiYWNrZHJvcCB3aGVuIHRoZSAnY2xpY2snIHN0YXJ0ZWQgb24gaXQuXG4gICAgICAgIC8vIEEgc2ltcGxlICdjbGljaycgaGFuZGxlciBkb2VzIG5vdCB3b3JrLFxuICAgICAgICAvLyBpdCBzZXRzIHRoZSB0YXJnZXQgb2JqZWN0IGFzIHRoZSBlbGVtZW50IHRoZSBtb3VzZSB3ZW50IGRvd24gb24uXG4gICAgICAgIHZhciBtb3VzZWRvd25IYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBzb3VyY2VFbGVtID0gZXYudGFyZ2V0O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFdlIGNoZWNrIGlmIG91ciBvcmlnaW5hbCBlbGVtZW50IGFuZCB0aGUgdGFyZ2V0IGlzIHRoZSBiYWNrZHJvcFxuICAgICAgICAvLyBiZWNhdXNlIGlmIHRoZSBvcmlnaW5hbCB3YXMgdGhlIGJhY2tkcm9wIGFuZCB0aGUgdGFyZ2V0IHdhcyBpbnNpZGUgdGhlIGRpYWxvZ1xuICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIGRpYWxvZyB0byBjbG9zZS5cbiAgICAgICAgdmFyIG1vdXNldXBIYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBpZiAoc291cmNlRWxlbSA9PT0gdGFyZ2V0WzBdICYmIGV2LnRhcmdldCA9PT0gdGFyZ2V0WzBdKSB7XG4gICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIHNtYXJ0Q2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQWRkIGxpc3RlbmVyc1xuICAgICAgICB0YXJnZXQub24oJ21vdXNlZG93bicsIG1vdXNlZG93bkhhbmRsZXIpO1xuICAgICAgICB0YXJnZXQub24oJ21vdXNldXAnLCBtb3VzZXVwSGFuZGxlcik7XG5cbiAgICAgICAgLy8gUXVldWUgcmVtb3ZlIGxpc3RlbmVycyBmdW5jdGlvblxuICAgICAgICByZW1vdmVMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgICB0YXJnZXQub2ZmKCdtb3VzZWRvd24nLCBtb3VzZWRvd25IYW5kbGVyKTtcbiAgICAgICAgICB0YXJnZXQub2ZmKCdtb3VzZXVwJywgbW91c2V1cEhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQXR0YWNoIHNwZWNpZmljIGByZW1vdmVgIGxpc3RlbmVyIGhhbmRsZXJcbiAgICAgIG9wdGlvbnMuZGVhY3RpdmF0ZUxpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihyZW1vdmVGbikge1xuICAgICAgICAgIHJlbW92ZUZuKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBvcHRpb25zLmRlYWN0aXZhdGVMaXN0ZW5lcnMgPSBudWxsO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IG1vZGFsIGJhY2tkcm9wIGVsZW1lbnQuLi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG93QmFja2Ryb3Aoc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcblxuICAgICAgaWYgKG9wdGlvbnMuZGlzYWJsZVBhcmVudFNjcm9sbCkge1xuICAgICAgICAvLyAhISBETyB0aGlzIGJlZm9yZSBjcmVhdGluZyB0aGUgYmFja2Ryb3A7IHNpbmNlIGRpc2FibGVTY3JvbGxBcm91bmQoKVxuICAgICAgICAvLyAgICBjb25maWd1cmVzIHRoZSBzY3JvbGwgb2Zmc2V0OyB3aGljaCBpcyB1c2VkIGJ5IG1kQmFja0Ryb3AgcG9zdExpbmsoKVxuICAgICAgICBvcHRpb25zLnJlc3RvcmVTY3JvbGwgPSAkbWRVdGlsLmRpc2FibGVTY3JvbGxBcm91bmQoZWxlbWVudCwgb3B0aW9ucy5wYXJlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5oYXNCYWNrZHJvcCkge1xuICAgICAgICBvcHRpb25zLmJhY2tkcm9wID0gJG1kVXRpbC5jcmVhdGVCYWNrZHJvcChzY29wZSwgXCJtZC1kaWFsb2ctYmFja2Ryb3AgbWQtb3BhcXVlXCIpO1xuICAgICAgICAkYW5pbWF0ZS5lbnRlcihvcHRpb25zLmJhY2tkcm9wLCBvcHRpb25zLnBhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGlkZSBtb2RhbCBiYWNrZHJvcCBlbGVtZW50Li4uXG4gICAgICAgKi9cbiAgICAgIG9wdGlvbnMuaGlkZUJhY2tkcm9wID0gZnVuY3Rpb24gaGlkZUJhY2tkcm9wKCRkZXN0cm95KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmJhY2tkcm9wKSB7XG4gICAgICAgICAgaWYgKCAhISRkZXN0cm95ICkgb3B0aW9ucy5iYWNrZHJvcC5yZW1vdmUoKTtcbiAgICAgICAgICBlbHNlICAgICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShvcHRpb25zLmJhY2tkcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmRpc2FibGVQYXJlbnRTY3JvbGwpIHtcbiAgICAgICAgICBvcHRpb25zLnJlc3RvcmVTY3JvbGwoKTtcbiAgICAgICAgICBkZWxldGUgb3B0aW9ucy5yZXN0b3JlU2Nyb2xsO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5oaWRlQmFja2Ryb3AgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluamVjdCBBUklBLXNwZWNpZmljIGF0dHJpYnV0ZXMgYXBwcm9wcmlhdGUgZm9yIERpYWxvZ3NcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25maWd1cmVBcmlhKGVsZW1lbnQsIG9wdGlvbnMpIHtcblxuICAgICAgdmFyIHJvbGUgPSAob3B0aW9ucy4kdHlwZSA9PT0gJ2FsZXJ0JykgPyAnYWxlcnRkaWFsb2cnIDogJ2RpYWxvZyc7XG4gICAgICB2YXIgZGlhbG9nQ29udGVudCA9IGVsZW1lbnQuZmluZCgnbWQtZGlhbG9nLWNvbnRlbnQnKTtcbiAgICAgIHZhciBkaWFsb2dJZCA9IGVsZW1lbnQuYXR0cignaWQnKSB8fCAoJ2RpYWxvZ18nICsgJG1kVXRpbC5uZXh0VWlkKCkpO1xuXG4gICAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAncm9sZSc6IHJvbGUsXG4gICAgICAgICd0YWJJbmRleCc6ICctMSdcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZGlhbG9nQ29udGVudC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGlhbG9nQ29udGVudCA9IGVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIGRpYWxvZ0NvbnRlbnQuYXR0cignaWQnLCBkaWFsb2dJZCk7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCBkaWFsb2dJZCk7XG5cbiAgICAgIGlmIChvcHRpb25zLmFyaWFMYWJlbCkge1xuICAgICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAnYXJpYS1sYWJlbCcsIG9wdGlvbnMuYXJpYUxhYmVsKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAkbWRBcmlhLmV4cGVjdEFzeW5jKGVsZW1lbnQsICdhcmlhLWxhYmVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHdvcmRzID0gZGlhbG9nQ29udGVudC50ZXh0KCkuc3BsaXQoL1xccysvKTtcbiAgICAgICAgICBpZiAod29yZHMubGVuZ3RoID4gMykgd29yZHMgPSB3b3Jkcy5zbGljZSgwLCAzKS5jb25jYXQoJy4uLicpO1xuICAgICAgICAgIHJldHVybiB3b3Jkcy5qb2luKCcgJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdXAgZWxlbWVudHMgYmVmb3JlIGFuZCBhZnRlciB0aGUgZGlhbG9nIGNvbnRlbnQgdG8gY2FwdHVyZSBmb2N1cyBhbmRcbiAgICAgIC8vIHJlZGlyZWN0IGJhY2sgaW50byB0aGUgZGlhbG9nLlxuICAgICAgdG9wRm9jdXNUcmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0b3BGb2N1c1RyYXAuY2xhc3NMaXN0LmFkZCgnbWQtZGlhbG9nLWZvY3VzLXRyYXAnKTtcbiAgICAgIHRvcEZvY3VzVHJhcC50YWJJbmRleCA9IDA7XG5cbiAgICAgIGJvdHRvbUZvY3VzVHJhcCA9IHRvcEZvY3VzVHJhcC5jbG9uZU5vZGUoZmFsc2UpO1xuXG4gICAgICAvLyBXaGVuIGZvY3VzIGlzIGFib3V0IHRvIG1vdmUgb3V0IG9mIHRoZSBkaWFsb2csIHdlIHdhbnQgdG8gaW50ZXJjZXB0IGl0IGFuZCByZWRpcmVjdCBpdFxuICAgICAgLy8gYmFjayB0byB0aGUgZGlhbG9nIGVsZW1lbnQuXG4gICAgICB2YXIgZm9jdXNIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH07XG4gICAgICB0b3BGb2N1c1RyYXAuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmb2N1c0hhbmRsZXIpO1xuICAgICAgYm90dG9tRm9jdXNUcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZm9jdXNIYW5kbGVyKTtcblxuICAgICAgLy8gVGhlIHRvcCBmb2N1cyB0cmFwIGluc2VydGVkIGltbWVpZGF0ZWx5IGJlZm9yZSB0aGUgbWQtZGlhbG9nIGVsZW1lbnQgKGFzIGEgc2libGluZykuXG4gICAgICAvLyBUaGUgYm90dG9tIGZvY3VzIHRyYXAgaXMgaW5zZXJ0ZWQgYXQgdGhlIHZlcnkgZW5kIG9mIHRoZSBtZC1kaWFsb2cgZWxlbWVudCAoYXMgYSBjaGlsZCkuXG4gICAgICBlbGVtZW50WzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRvcEZvY3VzVHJhcCwgZWxlbWVudFswXSk7XG4gICAgICBlbGVtZW50LmFwcGVuZChib3R0b21Gb2N1c1RyYXApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHNjcmVlbiByZWFkZXIgaW50ZXJhY3Rpb24gYmVoaW5kIG1vZGFsIHdpbmRvd1xuICAgICAqIG9uIHN3aXBlIGludGVyZmFjZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2NrU2NyZWVuUmVhZGVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBpc0hpZGRlbiA9IHRydWU7XG5cbiAgICAgIC8vIGdldCByYXcgRE9NIG5vZGVcbiAgICAgIHdhbGtET00oZWxlbWVudFswXSk7XG5cbiAgICAgIG9wdGlvbnMudW5sb2NrU2NyZWVuUmVhZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzSGlkZGVuID0gZmFsc2U7XG4gICAgICAgIHdhbGtET00oZWxlbWVudFswXSk7XG5cbiAgICAgICAgb3B0aW9ucy51bmxvY2tTY3JlZW5SZWFkZXIgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBXYWxrIERPTSB0byBhcHBseSBvciByZW1vdmUgYXJpYS1oaWRkZW4gb24gc2libGluZyBub2Rlc1xuICAgICAgICogYW5kIHBhcmVudCBzaWJsaW5nIG5vZGVzXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiB3YWxrRE9NKGVsZW1lbnQpIHtcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGlmIChlbGVtZW50ID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQucGFyZW50Tm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBza2lwIG92ZXIgY2hpbGQgaWYgaXQgaXMgYW4gYXNjZW5kYW50IG9mIHRoZSBkaWFsb2dcbiAgICAgICAgICAgIC8vIG9yIGEgc2NyaXB0IG9yIHN0eWxlIHRhZ1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IGNoaWxkcmVuW2ldICYmICFpc05vZGVPbmVPZihjaGlsZHJlbltpXSwgWydTQ1JJUFQnLCAnU1RZTEUnXSkpIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW5baV0uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIGlzSGlkZGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3YWxrRE9NKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5zdXJlIHRoZSBkaWFsb2cgY29udGFpbmVyIGZpbGwtc3RyZXRjaGVzIHRvIHRoZSB2aWV3cG9ydFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0cmV0Y2hEaWFsb2dDb250YWluZXJUb1ZpZXdwb3J0KGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgdmFyIGlzRml4ZWQgPSAkd2luZG93LmdldENvbXB1dGVkU3R5bGUoJGRvY3VtZW50WzBdLmJvZHkpLnBvc2l0aW9uID09ICdmaXhlZCc7XG4gICAgICB2YXIgYmFja2Ryb3AgPSBvcHRpb25zLmJhY2tkcm9wID8gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG9wdGlvbnMuYmFja2Ryb3BbMF0pIDogbnVsbDtcbiAgICAgIHZhciBoZWlnaHQgPSBiYWNrZHJvcCA/IE1hdGgubWluKCRkb2N1bWVudFswXS5ib2R5LmNsaWVudEhlaWdodCwgTWF0aC5jZWlsKE1hdGguYWJzKHBhcnNlSW50KGJhY2tkcm9wLmhlaWdodCwgMTApKSkpIDogMDtcblxuICAgICAgY29udGFpbmVyLmNzcyh7XG4gICAgICAgIHRvcDogKGlzRml4ZWQgPyAkbWRVdGlsLnNjcm9sbFRvcChvcHRpb25zLnBhcmVudCkgOiAwKSArICdweCcsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0ID8gaGVpZ2h0ICsgJ3B4JyA6ICcxMDAlJ1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIERpYWxvZyBvcGVuIGFuZCBwb3AtaW4gYW5pbWF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGlhbG9nUG9wSW4oY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICAvLyBBZGQgdGhlIGBtZC1kaWFsb2ctY29udGFpbmVyYCB0byB0aGUgRE9NXG4gICAgICBvcHRpb25zLnBhcmVudC5hcHBlbmQoY29udGFpbmVyKTtcbiAgICAgIHN0cmV0Y2hEaWFsb2dDb250YWluZXJUb1ZpZXdwb3J0KGNvbnRhaW5lciwgb3B0aW9ucyk7XG5cbiAgICAgIHZhciBkaWFsb2dFbCA9IGNvbnRhaW5lci5maW5kKCdtZC1kaWFsb2cnKTtcbiAgICAgIHZhciBhbmltYXRvciA9ICRtZFV0aWwuZG9tLmFuaW1hdG9yO1xuICAgICAgdmFyIGJ1aWxkVHJhbnNsYXRlVG9PcmlnaW4gPSBhbmltYXRvci5jYWxjdWxhdGVab29tVG9PcmlnaW47XG4gICAgICB2YXIgdHJhbnNsYXRlT3B0aW9ucyA9IHt0cmFuc2l0aW9uSW5DbGFzczogJ21kLXRyYW5zaXRpb24taW4nLCB0cmFuc2l0aW9uT3V0Q2xhc3M6ICdtZC10cmFuc2l0aW9uLW91dCd9O1xuICAgICAgdmFyIGZyb20gPSBhbmltYXRvci50b1RyYW5zZm9ybUNzcyhidWlsZFRyYW5zbGF0ZVRvT3JpZ2luKGRpYWxvZ0VsLCBvcHRpb25zLm9wZW5Gcm9tIHx8IG9wdGlvbnMub3JpZ2luKSk7XG4gICAgICB2YXIgdG8gPSBhbmltYXRvci50b1RyYW5zZm9ybUNzcyhcIlwiKTsgIC8vIGRlZmF1bHRzIHRvIGNlbnRlciBkaXNwbGF5IChvciBwYXJlbnQgb3IgJHJvb3RFbGVtZW50KVxuXG4gICAgICBpZiAob3B0aW9ucy5mdWxsc2NyZWVuKSB7XG4gICAgICAgIGRpYWxvZ0VsLmFkZENsYXNzKCdtZC1kaWFsb2ctZnVsbHNjcmVlbicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYW5pbWF0b3JcbiAgICAgICAgLnRyYW5zbGF0ZTNkKGRpYWxvZ0VsLCBmcm9tLCB0bywgdHJhbnNsYXRlT3B0aW9ucylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oYW5pbWF0ZVJldmVyc2FsKSB7XG4gICAgICAgICAgLy8gQnVpbGQgYSByZXZlcnNhbCB0cmFuc2xhdGUgZnVuY3Rpb24gc3luY2hlZCB0byB0aGlzIHRyYW5zbGF0aW9uLi4uXG4gICAgICAgICAgb3B0aW9ucy5yZXZlcnNlQW5pbWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMucmV2ZXJzZUFuaW1hdGU7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNsb3NlVG8pIHtcbiAgICAgICAgICAgICAgLy8gVXNpbmcgdGhlIG9wcG9zaXRlIGNsYXNzZXMgdG8gY3JlYXRlIGEgY2xvc2UgYW5pbWF0aW9uIHRvIHRoZSBjbG9zZVRvIGVsZW1lbnRcbiAgICAgICAgICAgICAgdHJhbnNsYXRlT3B0aW9ucyA9IHt0cmFuc2l0aW9uSW5DbGFzczogJ21kLXRyYW5zaXRpb24tb3V0JywgdHJhbnNpdGlvbk91dENsYXNzOiAnbWQtdHJhbnNpdGlvbi1pbid9O1xuICAgICAgICAgICAgICBmcm9tID0gdG87XG4gICAgICAgICAgICAgIHRvID0gYW5pbWF0b3IudG9UcmFuc2Zvcm1Dc3MoYnVpbGRUcmFuc2xhdGVUb09yaWdpbihkaWFsb2dFbCwgb3B0aW9ucy5jbG9zZVRvKSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdG9yXG4gICAgICAgICAgICAgICAgLnRyYW5zbGF0ZTNkKGRpYWxvZ0VsLCBmcm9tLCB0byx0cmFuc2xhdGVPcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGVSZXZlcnNhbChcbiAgICAgICAgICAgICAgYW5pbWF0b3IudG9UcmFuc2Zvcm1Dc3MoXG4gICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGUgb3JpZ2luIGVsZW1lbnQgaGFzIG1vdmVkIG9yIGlzIGhpZGRlbixcbiAgICAgICAgICAgICAgICAvLyBsZXQncyByZWNhbGN1bGF0ZSB0aGUgdHJhbnNsYXRlQ1NTXG4gICAgICAgICAgICAgICAgYnVpbGRUcmFuc2xhdGVUb09yaWdpbihkaWFsb2dFbCwgb3B0aW9ucy5vcmlnaW4pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaWFsb2cgY2xvc2UgYW5kIHBvcC1vdXQgYW5pbWF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGlhbG9nUG9wT3V0KGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIG9wdGlvbnMucmV2ZXJzZUFuaW1hdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGZpbHRlciBvdXQgcmF3IERPTSBub2Rlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTm9kZU9uZU9mKGVsZW0sIG5vZGVUeXBlQXJyYXkpIHtcbiAgICAgIGlmIChub2RlVHlwZUFycmF5LmluZGV4T2YoZWxlbS5ub2RlTmFtZSkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICB9XG59XG5NZERpYWxvZ1Byb3ZpZGVyLiRpbmplY3QgPSBbXCIkJGludGVyaW1FbGVtZW50UHJvdmlkZXJcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuZGl2aWRlclxuICogQGRlc2NyaXB0aW9uIERpdmlkZXIgbW9kdWxlIVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5kaXZpZGVyJywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kRGl2aWRlcicsIE1kRGl2aWRlckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWREaXZpZGVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuZGl2aWRlclxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERpdmlkZXJzIGdyb3VwIGFuZCBzZXBhcmF0ZSBjb250ZW50IHdpdGhpbiBsaXN0cyBhbmQgcGFnZSBsYXlvdXRzIHVzaW5nIHN0cm9uZyB2aXN1YWwgYW5kIHNwYXRpYWwgZGlzdGluY3Rpb25zLiBUaGlzIGRpdmlkZXIgaXMgYSB0aGluIHJ1bGUsIGxpZ2h0d2VpZ2h0IGVub3VnaCB0byBub3QgZGlzdHJhY3QgdGhlIHVzZXIgZnJvbSBjb250ZW50LlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLWluc2V0IEFkZCB0aGlzIGF0dHJpYnV0ZSB0byBhY3RpdmF0ZSB0aGUgaW5zZXQgZGl2aWRlciBzdHlsZS5cbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1kaXZpZGVyPjwvbWQtZGl2aWRlcj5cbiAqXG4gKiA8bWQtZGl2aWRlciBtZC1pbnNldD48L21kLWRpdmlkZXI+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBNZERpdmlkZXJEaXJlY3RpdmUoJG1kVGhlbWluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgbGluazogJG1kVGhlbWluZ1xuICB9O1xufVxuTWREaXZpZGVyRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtb2R1bGVcbiAgICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5mYWJBY3Rpb25zXG4gICAqL1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5mYWJBY3Rpb25zJywgWydtYXRlcmlhbC5jb3JlJ10pXG4gICAgLmRpcmVjdGl2ZSgnbWRGYWJBY3Rpb25zJywgTWRGYWJBY3Rpb25zRGlyZWN0aXZlKTtcblxuICAvKipcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgKiBAbmFtZSBtZEZhYkFjdGlvbnNcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmZhYkFjdGlvbnNcbiAgICpcbiAgICogQHJlc3RyaWN0IEVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSBgPG1kLWZhYi1hY3Rpb25zPmAgZGlyZWN0aXZlIGlzIHVzZWQgaW5zaWRlIG9mIGEgYDxtZC1mYWItc3BlZWQtZGlhbD5gIG9yXG4gICAqIGA8bWQtZmFiLXRvb2xiYXI+YCBkaXJlY3RpdmUgdG8gbWFyayBhbiBlbGVtZW50IChvciBlbGVtZW50cykgYXMgdGhlIGFjdGlvbnMgYW5kIHNldHVwIHRoZVxuICAgKiBwcm9wZXIgZXZlbnQgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogU2VlIHRoZSBgPG1kLWZhYi1zcGVlZC1kaWFsPmAgb3IgYDxtZC1mYWItdG9vbGJhcj5gIGRpcmVjdGl2ZXMgZm9yIGV4YW1wbGUgdXNhZ2UuXG4gICAqL1xuICBmdW5jdGlvbiBNZEZhYkFjdGlvbnNEaXJlY3RpdmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG5cbiAgICAgIHJlcXVpcmU6IFsnXj9tZEZhYlNwZWVkRGlhbCcsICdeP21kRmFiVG9vbGJhciddLFxuXG4gICAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4oKTtcblxuICAgICAgICB2YXIgaGFzTmdSZXBlYXQgPSBmYWxzZTtcblxuICAgICAgICBhbmd1bGFyLmZvckVhY2goWycnLCAnZGF0YS0nLCAneC0nXSwgZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgICAgICAgaGFzTmdSZXBlYXQgPSBoYXNOZ1JlcGVhdCB8fCAoY2hpbGRyZW4uYXR0cihwcmVmaXggKyAnbmctcmVwZWF0JykgPyB0cnVlIDogZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTdXBwb3J0IGJvdGggbmctcmVwZWF0IGFuZCBzdGF0aWMgY29udGVudFxuICAgICAgICBpZiAoaGFzTmdSZXBlYXQpIHtcbiAgICAgICAgICBjaGlsZHJlbi5hZGRDbGFzcygnbWQtZmFiLWFjdGlvbi1pdGVtJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gV3JhcCBldmVyeSBjaGlsZCBpbiBhIG5ldyBkaXYgYW5kIGFkZCBhIGNsYXNzIHRoYXQgd2UgY2FuIHNjYWxlL2ZsaW5nIGluZGVwZW5kZW50bHlcbiAgICAgICAgICBjaGlsZHJlbi53cmFwKCc8ZGl2IGNsYXNzPVwibWQtZmFiLWFjdGlvbi1pdGVtXCI+Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxufSkoKTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmZhYlNoYXJlZCcsIFsnbWF0ZXJpYWwuY29yZSddKVxuICAgIC5jb250cm9sbGVyKCdGYWJDb250cm9sbGVyJywgRmFiQ29udHJvbGxlcik7XG5cbiAgZnVuY3Rpb24gRmFiQ29udHJvbGxlcigkc2NvcGUsICRlbGVtZW50LCAkYW5pbWF0ZSwgJG1kVXRpbCwgJG1kQ29uc3RhbnQsICR0aW1lb3V0KSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIC8vIE5PVEU6IFdlIHVzZSBhc3luYyBldmFsKHMpIGJlbG93IHRvIGF2b2lkIGNvbmZsaWN0cyB3aXRoIGFueSBleGlzdGluZyBkaWdlc3QgbG9vcHNcblxuICAgIHZtLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS4kZXZhbEFzeW5jKFwidm0uaXNPcGVuID0gdHJ1ZVwiKTtcbiAgICB9O1xuXG4gICAgdm0uY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIC8vIEFzeW5jIGV2YWwgdG8gYXZvaWQgY29uZmxpY3RzIHdpdGggZXhpc3RpbmcgZGlnZXN0IGxvb3BzXG4gICAgICAkc2NvcGUuJGV2YWxBc3luYyhcInZtLmlzT3BlbiA9IGZhbHNlXCIpO1xuXG4gICAgICAvLyBGb2N1cyB0aGUgdHJpZ2dlciB3aGVuIHRoZSBlbGVtZW50IGNsb3NlcyBzbyB1c2VycyBjYW4gc3RpbGwgdGFiIHRvIHRoZSBuZXh0IGl0ZW1cbiAgICAgICRlbGVtZW50LmZpbmQoJ21kLWZhYi10cmlnZ2VyJylbMF0uZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgLy8gVG9nZ2xlIHRoZSBvcGVuL2Nsb3NlIHN0YXRlIHdoZW4gdGhlIHRyaWdnZXIgaXMgY2xpY2tlZFxuICAgIHZtLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLiRldmFsQXN5bmMoXCJ2bS5pc09wZW4gPSAhdm0uaXNPcGVuXCIpO1xuICAgIH07XG5cbiAgICBzZXR1cERlZmF1bHRzKCk7XG4gICAgc2V0dXBMaXN0ZW5lcnMoKTtcbiAgICBzZXR1cFdhdGNoZXJzKCk7XG5cbiAgICB2YXIgaW5pdGlhbEFuaW1hdGlvbkF0dGVtcHRzID0gMDtcbiAgICBmaXJlSW5pdGlhbEFuaW1hdGlvbnMoKTtcblxuICAgIGZ1bmN0aW9uIHNldHVwRGVmYXVsdHMoKSB7XG4gICAgICAvLyBTZXQgdGhlIGRlZmF1bHQgZGlyZWN0aW9uIHRvICdkb3duJyBpZiBub25lIGlzIHNwZWNpZmllZFxuICAgICAgdm0uZGlyZWN0aW9uID0gdm0uZGlyZWN0aW9uIHx8ICdkb3duJztcblxuICAgICAgLy8gU2V0IHRoZSBkZWZhdWx0IHRvIGJlIGNsb3NlZFxuICAgICAgdm0uaXNPcGVuID0gdm0uaXNPcGVuIHx8IGZhbHNlO1xuXG4gICAgICAvLyBTdGFydCB0aGUga2V5Ym9hcmQgaW50ZXJhY3Rpb24gYXQgdGhlIGZpcnN0IGFjdGlvblxuICAgICAgcmVzZXRBY3Rpb25JbmRleCgpO1xuXG4gICAgICAvLyBBZGQgYW4gYW5pbWF0aW9ucyB3YWl0aW5nIGNsYXNzIHNvIHdlIGtub3cgbm90IHRvIHJ1blxuICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWFuaW1hdGlvbnMtd2FpdGluZycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldHVwTGlzdGVuZXJzKCkge1xuICAgICAgdmFyIGV2ZW50VHlwZXMgPSBbXG4gICAgICAgICdjbGljaycsICdmb2N1c2luJywgJ2ZvY3Vzb3V0J1xuICAgICAgXTtcblxuICAgICAgLy8gQWRkIG91ciBsaXN0ZW5lcnNcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChldmVudFR5cGVzLCBmdW5jdGlvbihldmVudFR5cGUpIHtcbiAgICAgICAgJGVsZW1lbnQub24oZXZlbnRUeXBlLCBwYXJzZUV2ZW50cyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVtb3ZlIG91ciBsaXN0ZW5lcnMgd2hlbiBkZXN0cm95ZWRcbiAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChldmVudFR5cGVzLCBmdW5jdGlvbihldmVudFR5cGUpIHtcbiAgICAgICAgICAkZWxlbWVudC5vZmYoZXZlbnRUeXBlLCBwYXJzZUV2ZW50cyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlbW92ZSBhbnkgYXR0YWNoZWQga2V5Ym9hcmQgaGFuZGxlcnMgaW4gY2FzZSBlbGVtZW50IGlzIHJlbW92ZWQgd2hpbGVcbiAgICAgICAgLy8gc3BlZWQgZGlhbCBpcyBvcGVuXG4gICAgICAgIGRpc2FibGVLZXlib2FyZCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGNsb3NlVGltZW91dDtcbiAgICBmdW5jdGlvbiBwYXJzZUV2ZW50cyhldmVudCkge1xuICAgICAgLy8gSWYgdGhlIGV2ZW50IGlzIGEgY2xpY2ssIGp1c3QgaGFuZGxlIGl0XG4gICAgICBpZiAoZXZlbnQudHlwZSA9PSAnY2xpY2snKSB7XG4gICAgICAgIGhhbmRsZUl0ZW1DbGljayhldmVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlIGZvY3Vzb3V0LCBzZXQgYSB0aW1lb3V0IHRvIGNsb3NlIHRoZSBlbGVtZW50XG4gICAgICBpZiAoZXZlbnQudHlwZSA9PSAnZm9jdXNvdXQnICYmICFjbG9zZVRpbWVvdXQpIHtcbiAgICAgICAgY2xvc2VUaW1lb3V0ID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdm0uY2xvc2UoKTtcbiAgICAgICAgfSwgMTAwLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlIHNlZSBhIGZvY3VzaW4gYW5kIHRoZXJlIGlzIGEgdGltZW91dCBhYm91dCB0byBydW4sIGNhbmNlbCBpdCBzbyB3ZSBzdGF5IG9wZW5cbiAgICAgIGlmIChldmVudC50eXBlID09ICdmb2N1c2luJyAmJiBjbG9zZVRpbWVvdXQpIHtcbiAgICAgICAgJHRpbWVvdXQuY2FuY2VsKGNsb3NlVGltZW91dCk7XG4gICAgICAgIGNsb3NlVGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXRBY3Rpb25JbmRleCgpIHtcbiAgICAgIHZtLmN1cnJlbnRBY3Rpb25JbmRleCA9IC0xO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldHVwV2F0Y2hlcnMoKSB7XG4gICAgICAvLyBXYXRjaCBmb3IgY2hhbmdlcyB0byB0aGUgZGlyZWN0aW9uIGFuZCB1cGRhdGUgY2xhc3Nlcy9hdHRyaWJ1dGVzXG4gICAgICAkc2NvcGUuJHdhdGNoKCd2bS5kaXJlY3Rpb24nLCBmdW5jdGlvbihuZXdEaXIsIG9sZERpcikge1xuICAgICAgICAvLyBBZGQgdGhlIGFwcHJvcHJpYXRlIGNsYXNzZXMgc28gd2UgY2FuIHRhcmdldCB0aGUgZGlyZWN0aW9uIGluIHRoZSBDU1NcbiAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsICdtZC0nICsgb2xkRGlyKTtcbiAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsICdtZC0nICsgbmV3RGlyKTtcblxuICAgICAgICAvLyBSZXNldCB0aGUgYWN0aW9uIGluZGV4IHNpbmNlIGl0IG1heSBoYXZlIGNoYW5nZWRcbiAgICAgICAgcmVzZXRBY3Rpb25JbmRleCgpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciB0cmlnZ2VyLCBhY3Rpb25zO1xuXG4gICAgICAvLyBXYXRjaCBmb3IgY2hhbmdlcyB0byBtZC1vcGVuXG4gICAgICAkc2NvcGUuJHdhdGNoKCd2bS5pc09wZW4nLCBmdW5jdGlvbihpc09wZW4pIHtcbiAgICAgICAgLy8gUmVzZXQgdGhlIGFjdGlvbiBpbmRleCBzaW5jZSBpdCBtYXkgaGF2ZSBjaGFuZ2VkXG4gICAgICAgIHJlc2V0QWN0aW9uSW5kZXgoKTtcblxuICAgICAgICAvLyBXZSBjYW4ndCBnZXQgdGhlIHRyaWdnZXIvYWN0aW9ucyBvdXRzaWRlIG9mIHRoZSB3YXRjaCBiZWNhdXNlIHRoZSBjb21wb25lbnQgaGFzbid0IGJlZW5cbiAgICAgICAgLy8gbGlua2VkIHlldCwgc28gd2Ugd2FpdCB1bnRpbCB0aGUgZmlyc3Qgd2F0Y2ggZmlyZXMgdG8gY2FjaGUgdGhlbS5cbiAgICAgICAgaWYgKCF0cmlnZ2VyIHx8ICFhY3Rpb25zKSB7XG4gICAgICAgICAgdHJpZ2dlciA9IGdldFRyaWdnZXJFbGVtZW50KCk7XG4gICAgICAgICAgYWN0aW9ucyA9IGdldEFjdGlvbnNFbGVtZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgZW5hYmxlS2V5Ym9hcmQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXNhYmxlS2V5Ym9hcmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b0FkZCA9IGlzT3BlbiA/ICdtZC1pcy1vcGVuJyA6ICcnO1xuICAgICAgICB2YXIgdG9SZW1vdmUgPSBpc09wZW4gPyAnJyA6ICdtZC1pcy1vcGVuJztcblxuICAgICAgICAvLyBTZXQgdGhlIHByb3BlciBBUklBIGF0dHJpYnV0ZXNcbiAgICAgICAgdHJpZ2dlci5hdHRyKCdhcmlhLWhhc3BvcHVwJywgdHJ1ZSk7XG4gICAgICAgIHRyaWdnZXIuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3Blbik7XG4gICAgICAgIGFjdGlvbnMuYXR0cignYXJpYS1oaWRkZW4nLCAhaXNPcGVuKTtcblxuICAgICAgICAvLyBBbmltYXRlIHRoZSBDU1MgY2xhc3Nlc1xuICAgICAgICAkYW5pbWF0ZS5zZXRDbGFzcygkZWxlbWVudCwgdG9BZGQsIHRvUmVtb3ZlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpcmVJbml0aWFsQW5pbWF0aW9ucygpIHtcbiAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGFjdHVhbGx5IHZpc2libGUgb24gdGhlIHNjcmVlblxuICAgICAgaWYgKCRlbGVtZW50WzBdLnNjcm9sbEhlaWdodCA+IDApIHtcbiAgICAgICAgLy8gRmlyZSBvdXIgYW5pbWF0aW9uXG4gICAgICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCAnbWQtYW5pbWF0aW9ucy1yZWFkeScpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIHRoZSB3YWl0aW5nIGNsYXNzXG4gICAgICAgICAgJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ21kLWFuaW1hdGlvbnMtd2FpdGluZycpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gT3RoZXJ3aXNlLCB0cnkgZm9yIHVwIHRvIDEgc2Vjb25kIGJlZm9yZSBnaXZpbmcgdXBcbiAgICAgIGVsc2UgaWYgKGluaXRpYWxBbmltYXRpb25BdHRlbXB0cyA8IDEwKSB7XG4gICAgICAgICR0aW1lb3V0KGZpcmVJbml0aWFsQW5pbWF0aW9ucywgMTAwKTtcblxuICAgICAgICAvLyBJbmNyZW1lbnQgb3VyIGNvdW50ZXJcbiAgICAgICAgaW5pdGlhbEFuaW1hdGlvbkF0dGVtcHRzID0gaW5pdGlhbEFuaW1hdGlvbkF0dGVtcHRzICsgMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmFibGVLZXlib2FyZCgpIHtcbiAgICAgICRlbGVtZW50Lm9uKCdrZXlkb3duJywga2V5UHJlc3NlZCk7XG5cbiAgICAgIC8vIE9uIHRoZSBuZXh0IHRpY2ssIHNldHVwIGEgY2hlY2sgZm9yIG91dHNpZGUgY2xpY2tzOyB3ZSBkbyB0aGlzIG9uIHRoZSBuZXh0IHRpY2sgdG8gYXZvaWRcbiAgICAgIC8vIGNsaWNrcy90b3VjaGVzIHRoYXQgcmVzdWx0IGluIHRoZSBpc09wZW4gYXR0cmlidXRlIGNoYW5naW5nIChlLmcuIGEgYm91bmQgcmFkaW8gYnV0dG9uKVxuICAgICAgJG1kVXRpbC5uZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5vbignY2xpY2sgdG91Y2hlbmQnLCBjaGVja0Zvck91dHNpZGVDbGljayk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVE9ETzogT24gZGVza3RvcCwgd2Ugc2hvdWxkIGJlIGFibGUgdG8gcmVzZXQgdGhlIGluZGV4ZXMgc28geW91IGNhbm5vdCB0YWIgdGhyb3VnaCwgYnV0XG4gICAgICAvLyB0aGlzIGJyZWFrcyBhY2Nlc3NpYmlsaXR5LCBlc3BlY2lhbGx5IG9uIG1vYmlsZSwgc2luY2UgeW91IGhhdmUgbm8gYXJyb3cga2V5cyB0byBwcmVzc1xuICAgICAgLy9yZXNldEFjdGlvblRhYkluZGV4ZXMoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXNhYmxlS2V5Ym9hcmQoKSB7XG4gICAgICAkZWxlbWVudC5vZmYoJ2tleWRvd24nLCBrZXlQcmVzc2VkKTtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkub2ZmKCdjbGljayB0b3VjaGVuZCcsIGNoZWNrRm9yT3V0c2lkZUNsaWNrKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja0Zvck91dHNpZGVDbGljayhldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCkge1xuICAgICAgICB2YXIgY2xvc2VzdFRyaWdnZXIgPSAkbWRVdGlsLmdldENsb3Nlc3QoZXZlbnQudGFyZ2V0LCAnbWQtZmFiLXRyaWdnZXInKTtcbiAgICAgICAgdmFyIGNsb3Nlc3RBY3Rpb25zID0gJG1kVXRpbC5nZXRDbG9zZXN0KGV2ZW50LnRhcmdldCwgJ21kLWZhYi1hY3Rpb25zJyk7XG5cbiAgICAgICAgaWYgKCFjbG9zZXN0VHJpZ2dlciAmJiAhY2xvc2VzdEFjdGlvbnMpIHtcbiAgICAgICAgICB2bS5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga2V5UHJlc3NlZChldmVudCkge1xuICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkVTQ0FQRTogdm0uY2xvc2UoKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTsgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkxFRlRfQVJST1c6IGRvS2V5TGVmdChldmVudCk7IHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5VUF9BUlJPVzogZG9LZXlVcChldmVudCk7IHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5SSUdIVF9BUlJPVzogZG9LZXlSaWdodChldmVudCk7IHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5ET1dOX0FSUk9XOiBkb0tleURvd24oZXZlbnQpOyByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9BY3Rpb25QcmV2KGV2ZW50KSB7XG4gICAgICBmb2N1c0FjdGlvbihldmVudCwgLTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvQWN0aW9uTmV4dChldmVudCkge1xuICAgICAgZm9jdXNBY3Rpb24oZXZlbnQsIDEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvY3VzQWN0aW9uKGV2ZW50LCBkaXJlY3Rpb24pIHtcbiAgICAgIHZhciBhY3Rpb25zID0gcmVzZXRBY3Rpb25UYWJJbmRleGVzKCk7XG5cbiAgICAgIC8vIEluY3JlbWVudC9kZWNyZW1lbnQgdGhlIGNvdW50ZXIgd2l0aCByZXN0cmljdGlvbnNcbiAgICAgIHZtLmN1cnJlbnRBY3Rpb25JbmRleCA9IHZtLmN1cnJlbnRBY3Rpb25JbmRleCArIGRpcmVjdGlvbjtcbiAgICAgIHZtLmN1cnJlbnRBY3Rpb25JbmRleCA9IE1hdGgubWluKGFjdGlvbnMubGVuZ3RoIC0gMSwgdm0uY3VycmVudEFjdGlvbkluZGV4KTtcbiAgICAgIHZtLmN1cnJlbnRBY3Rpb25JbmRleCA9IE1hdGgubWF4KDAsIHZtLmN1cnJlbnRBY3Rpb25JbmRleCk7XG5cbiAgICAgIC8vIEZvY3VzIHRoZSBlbGVtZW50XG4gICAgICB2YXIgZm9jdXNFbGVtZW50ID0gIGFuZ3VsYXIuZWxlbWVudChhY3Rpb25zW3ZtLmN1cnJlbnRBY3Rpb25JbmRleF0pLmNoaWxkcmVuKClbMF07XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoZm9jdXNFbGVtZW50KS5hdHRyKCd0YWJpbmRleCcsIDApO1xuICAgICAgZm9jdXNFbGVtZW50LmZvY3VzKCk7XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgZXZlbnQgZG9lc24ndCBidWJibGUgYW5kIGNhdXNlIHNvbWV0aGluZyBlbHNlXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXRBY3Rpb25UYWJJbmRleGVzKCkge1xuICAgICAgLy8gR3JhYiBhbGwgb2YgdGhlIGFjdGlvbnNcbiAgICAgIHZhciBhY3Rpb25zID0gZ2V0QWN0aW9uc0VsZW1lbnQoKVswXS5xdWVyeVNlbGVjdG9yQWxsKCcubWQtZmFiLWFjdGlvbi1pdGVtJyk7XG5cbiAgICAgIC8vIERpc2FibGUgYWxsIG90aGVyIGFjdGlvbnMgZm9yIHRhYmJpbmdcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChhY3Rpb25zLCBmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KGFuZ3VsYXIuZWxlbWVudChhY3Rpb24pLmNoaWxkcmVuKClbMF0pLmF0dHIoJ3RhYmluZGV4JywgLTEpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvS2V5TGVmdChldmVudCkge1xuICAgICAgaWYgKHZtLmRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIGRvQWN0aW9uTmV4dChldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb0FjdGlvblByZXYoZXZlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvS2V5VXAoZXZlbnQpIHtcbiAgICAgIGlmICh2bS5kaXJlY3Rpb24gPT09ICdkb3duJykge1xuICAgICAgICBkb0FjdGlvblByZXYoZXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9BY3Rpb25OZXh0KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb0tleVJpZ2h0KGV2ZW50KSB7XG4gICAgICBpZiAodm0uZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgZG9BY3Rpb25QcmV2KGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvQWN0aW9uTmV4dChldmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9LZXlEb3duKGV2ZW50KSB7XG4gICAgICBpZiAodm0uZGlyZWN0aW9uID09PSAndXAnKSB7XG4gICAgICAgIGRvQWN0aW9uUHJldihldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb0FjdGlvbk5leHQoZXZlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVHJpZ2dlcihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gJG1kVXRpbC5nZXRDbG9zZXN0KGVsZW1lbnQsICdtZC1mYWItdHJpZ2dlcicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQWN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAkbWRVdGlsLmdldENsb3Nlc3QoZWxlbWVudCwgJ21kLWZhYi1hY3Rpb25zJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlSXRlbUNsaWNrKGV2ZW50KSB7XG4gICAgICBpZiAoaXNUcmlnZ2VyKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgdm0udG9nZ2xlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FjdGlvbihldmVudC50YXJnZXQpKSB7XG4gICAgICAgIHZtLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VHJpZ2dlckVsZW1lbnQoKSB7XG4gICAgICByZXR1cm4gJGVsZW1lbnQuZmluZCgnbWQtZmFiLXRyaWdnZXInKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRBY3Rpb25zRWxlbWVudCgpIHtcbiAgICAgIHJldHVybiAkZWxlbWVudC5maW5kKCdtZC1mYWItYWN0aW9ucycpO1xuICAgIH1cbiAgfVxuICBGYWJDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkZWxlbWVudFwiLCBcIiRhbmltYXRlXCIsIFwiJG1kVXRpbFwiLCBcIiRtZENvbnN0YW50XCIsIFwiJHRpbWVvdXRcIl07XG59KSgpO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIFRoZSBkdXJhdGlvbiBvZiB0aGUgQ1NTIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB2YXIgY3NzQW5pbWF0aW9uRHVyYXRpb24gPSAzMDA7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtb2R1bGVcbiAgICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5mYWJTcGVlZERpYWxcbiAgICovXG4gIGFuZ3VsYXJcbiAgICAvLyBEZWNsYXJlIG91ciBtb2R1bGVcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmZhYlNwZWVkRGlhbCcsIFtcbiAgICAgICdtYXRlcmlhbC5jb3JlJyxcbiAgICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmZhYlNoYXJlZCcsXG4gICAgICAnbWF0ZXJpYWwuY29tcG9uZW50cy5mYWJUcmlnZ2VyJyxcbiAgICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmZhYkFjdGlvbnMnXG4gICAgXSlcblxuICAgIC8vIFJlZ2lzdGVyIG91ciBkaXJlY3RpdmVcbiAgICAuZGlyZWN0aXZlKCdtZEZhYlNwZWVkRGlhbCcsIE1kRmFiU3BlZWREaWFsRGlyZWN0aXZlKVxuXG4gICAgLy8gUmVnaXN0ZXIgb3VyIGN1c3RvbSBhbmltYXRpb25zXG4gICAgLmFuaW1hdGlvbignLm1kLWZsaW5nJywgTWRGYWJTcGVlZERpYWxGbGluZ0FuaW1hdGlvbilcbiAgICAuYW5pbWF0aW9uKCcubWQtc2NhbGUnLCBNZEZhYlNwZWVkRGlhbFNjYWxlQW5pbWF0aW9uKVxuXG4gICAgLy8gUmVnaXN0ZXIgYSBzZXJ2aWNlIGZvciBlYWNoIGFuaW1hdGlvbiBzbyB0aGF0IHdlIGNhbiBlYXNpbHkgaW5qZWN0IHRoZW0gaW50byB1bml0IHRlc3RzXG4gICAgLnNlcnZpY2UoJ21kRmFiU3BlZWREaWFsRmxpbmdBbmltYXRpb24nLCBNZEZhYlNwZWVkRGlhbEZsaW5nQW5pbWF0aW9uKVxuICAgIC5zZXJ2aWNlKCdtZEZhYlNwZWVkRGlhbFNjYWxlQW5pbWF0aW9uJywgTWRGYWJTcGVlZERpYWxTY2FsZUFuaW1hdGlvbik7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICogQG5hbWUgbWRGYWJTcGVlZERpYWxcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmZhYlNwZWVkRGlhbFxuICAgKlxuICAgKiBAcmVzdHJpY3QgRVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGA8bWQtZmFiLXNwZWVkLWRpYWw+YCBkaXJlY3RpdmUgaXMgdXNlZCB0byBwcmVzZW50IGEgc2VyaWVzIG9mIHBvcHVwIGVsZW1lbnRzICh1c3VhbGx5XG4gICAqIGA8bWQtYnV0dG9uPmBzKSBmb3IgcXVpY2sgYWNjZXNzIHRvIGNvbW1vbiBhY3Rpb25zLlxuICAgKlxuICAgKiBUaGVyZSBhcmUgY3VycmVudGx5IHR3byBhbmltYXRpb25zIGF2YWlsYWJsZSBieSBhcHBseWluZyBvbmUgb2YgdGhlIGZvbGxvd2luZyBjbGFzc2VzIHRvXG4gICAqIHRoZSBjb21wb25lbnQ6XG4gICAqXG4gICAqICAtIGBtZC1mbGluZ2AgLSBUaGUgc3BlZWQgZGlhbCBpdGVtcyBhcHBlYXIgZnJvbSB1bmRlcm5lYXRoIHRoZSB0cmlnZ2VyIGFuZCBtb3ZlIGludG8gdGhlaXJcbiAgICogICAgYXBwcm9wcmlhdGUgcG9zaXRpb25zLlxuICAgKiAgLSBgbWQtc2NhbGVgIC0gVGhlIHNwZWVkIGRpYWwgaXRlbXMgYXBwZWFyIGluIHRoZWlyIHByb3BlciBwbGFjZXMgYnkgc2NhbGluZyBmcm9tIDAlIHRvIDEwMCUuXG4gICAqXG4gICAqIFlvdSBtYXkgYWxzbyBlYXNpbHkgcG9zaXRpb24gdGhlIHRyaWdnZXIgYnkgYXBwbHlpbmcgb25lIG9uZSBvZiB0aGUgZm9sbG93aW5nIGNsYXNzZXMgdG8gdGhlXG4gICAqIGA8bWQtZmFiLXNwZWVkLWRpYWw+YCBlbGVtZW50OlxuICAgKiAgLSBgbWQtZmFiLXRvcC1sZWZ0YFxuICAgKiAgLSBgbWQtZmFiLXRvcC1yaWdodGBcbiAgICogIC0gYG1kLWZhYi1ib3R0b20tbGVmdGBcbiAgICogIC0gYG1kLWZhYi1ib3R0b20tcmlnaHRgXG4gICAqXG4gICAqIFRoZXNlIENTUyBjbGFzc2VzIHVzZSBgcG9zaXRpb246IGFic29sdXRlYCwgc28geW91IG5lZWQgdG8gZW5zdXJlIHRoYXQgdGhlIGNvbnRhaW5lciBlbGVtZW50XG4gICAqIGFsc28gdXNlcyBgcG9zaXRpb246IGFic29sdXRlYCBvciBgcG9zaXRpb246IHJlbGF0aXZlYCBpbiBvcmRlciBmb3IgdGhlbSB0byB3b3JrLlxuICAgKlxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBtYXkgdXNlIHRoZSBzdGFuZGFyZCBgbmctbW91c2VlbnRlcmAgYW5kIGBuZy1tb3VzZWxlYXZlYCBkaXJlY3RpdmVzIHRvXG4gICAqIG9wZW4gb3IgY2xvc2UgdGhlIHNwZWVkIGRpYWwuIEhvd2V2ZXIsIGlmIHlvdSB3aXNoIHRvIGFsbG93IHVzZXJzIHRvIGhvdmVyIG92ZXIgdGhlIGVtcHR5XG4gICAqIHNwYWNlIHdoZXJlIHRoZSBhY3Rpb25zIHdpbGwgYXBwZWFyLCB5b3UgbXVzdCBhbHNvIGFkZCB0aGUgYG1kLWhvdmVyLWZ1bGxgIGNsYXNzIHRvIHRoZSBzcGVlZFxuICAgKiBkaWFsIGVsZW1lbnQuIFdpdGhvdXQgdGhpcywgdGhlIGhvdmVyIGVmZmVjdCB3aWxsIG9ubHkgb2NjdXIgb24gdG9wIG9mIHRoZSB0cmlnZ2VyLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAgICogPG1kLWZhYi1zcGVlZC1kaWFsIG1kLWRpcmVjdGlvbj1cInVwXCIgY2xhc3M9XCJtZC1mbGluZ1wiPlxuICAgKiAgIDxtZC1mYWItdHJpZ2dlcj5cbiAgICogICAgIDxtZC1idXR0b24gYXJpYS1sYWJlbD1cIkFkZC4uLlwiPjxtZC1pY29uIGljb249XCIvaW1nL2ljb25zL3BsdXMuc3ZnXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPlxuICAgKiAgIDwvbWQtZmFiLXRyaWdnZXI+XG4gICAqXG4gICAqICAgPG1kLWZhYi1hY3Rpb25zPlxuICAgKiAgICAgPG1kLWJ1dHRvbiBhcmlhLWxhYmVsPVwiQWRkIFVzZXJcIj5cbiAgICogICAgICAgPG1kLWljb24gaWNvbj1cIi9pbWcvaWNvbnMvdXNlci5zdmdcIj48L21kLWljb24+XG4gICAqICAgICA8L21kLWJ1dHRvbj5cbiAgICpcbiAgICogICAgIDxtZC1idXR0b24gYXJpYS1sYWJlbD1cIkFkZCBHcm91cFwiPlxuICAgKiAgICAgICA8bWQtaWNvbiBpY29uPVwiL2ltZy9pY29ucy9ncm91cC5zdmdcIj48L21kLWljb24+XG4gICAqICAgICA8L21kLWJ1dHRvbj5cbiAgICogICA8L21kLWZhYi1hY3Rpb25zPlxuICAgKiA8L21kLWZhYi1zcGVlZC1kaWFsPlxuICAgKiA8L2hsanM+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZC1kaXJlY3Rpb24gRnJvbSB3aGljaCBkaXJlY3Rpb24geW91IHdvdWxkIGxpa2UgdGhlIHNwZWVkIGRpYWwgdG8gYXBwZWFyXG4gICAqIHJlbGF0aXZlIHRvIHRoZSB0cmlnZ2VyIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLW9wZW4gUHJvZ3JhbW1hdGljYWxseSBjb250cm9sIHdoZXRoZXIgb3Igbm90IHRoZSBzcGVlZC1kaWFsIGlzIHZpc2libGUuXG4gICAqL1xuICBmdW5jdGlvbiBNZEZhYlNwZWVkRGlhbERpcmVjdGl2ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFJyxcblxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgZGlyZWN0aW9uOiAnQD9tZERpcmVjdGlvbicsXG4gICAgICAgIGlzT3BlbjogJz0/bWRPcGVuJ1xuICAgICAgfSxcblxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIGNvbnRyb2xsZXI6ICdGYWJDb250cm9sbGVyJyxcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblxuICAgICAgbGluazogRmFiU3BlZWREaWFsTGlua1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBGYWJTcGVlZERpYWxMaW5rKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAvLyBQcmVwZW5kIGFuIGVsZW1lbnQgdG8gaG9sZCBvdXIgQ1NTIHZhcmlhYmxlcyBzbyB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIGFuaW1hdGlvbnMgYmVsb3dcbiAgICAgIGVsZW1lbnQucHJlcGVuZCgnPGRpdiBjbGFzcz1cIm1kLWNzcy12YXJpYWJsZXNcIj48L2Rpdj4nKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBNZEZhYlNwZWVkRGlhbEZsaW5nQW5pbWF0aW9uKCR0aW1lb3V0KSB7XG4gICAgZnVuY3Rpb24gZGVsYXlEb25lKGRvbmUpIHsgJHRpbWVvdXQoZG9uZSwgY3NzQW5pbWF0aW9uRHVyYXRpb24sIGZhbHNlKTsgfVxuXG4gICAgZnVuY3Rpb24gcnVuQW5pbWF0aW9uKGVsZW1lbnQpIHtcbiAgICAgIC8vIERvbid0IHJ1biBpZiB3ZSBhcmUgc3RpbGwgd2FpdGluZyBhbmQgd2UgYXJlIG5vdCByZWFkeVxuICAgICAgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoJ21kLWFuaW1hdGlvbnMtd2FpdGluZycpICYmICFlbGVtZW50Lmhhc0NsYXNzKCdtZC1hbmltYXRpb25zLXJlYWR5JykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZWwgPSBlbGVtZW50WzBdO1xuICAgICAgdmFyIGN0cmwgPSBlbGVtZW50LmNvbnRyb2xsZXIoJ21kRmFiU3BlZWREaWFsJyk7XG4gICAgICB2YXIgaXRlbXMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKCcubWQtZmFiLWFjdGlvbi1pdGVtJyk7XG5cbiAgICAgIC8vIEdyYWIgb3VyIHRyaWdnZXIgZWxlbWVudFxuICAgICAgdmFyIHRyaWdnZXJFbGVtZW50ID0gZWwucXVlcnlTZWxlY3RvcignbWQtZmFiLXRyaWdnZXInKTtcblxuICAgICAgLy8gR3JhYiBvdXIgZWxlbWVudCB3aGljaCBzdG9yZXMgQ1NTIHZhcmlhYmxlc1xuICAgICAgdmFyIHZhcmlhYmxlc0VsZW1lbnQgPSBlbC5xdWVyeVNlbGVjdG9yKCcubWQtY3NzLXZhcmlhYmxlcycpO1xuXG4gICAgICAvLyBTZXR1cCBKUyB2YXJpYWJsZXMgYmFzZWQgb24gb3VyIENTUyB2YXJpYWJsZXNcbiAgICAgIHZhciBzdGFydFpJbmRleCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHZhcmlhYmxlc0VsZW1lbnQpLnpJbmRleCk7XG5cbiAgICAgIC8vIEFsd2F5cyByZXNldCB0aGUgaXRlbXMgdG8gdGhlaXIgbmF0dXJhbCBwb3NpdGlvbi9zdGF0ZVxuICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICB2YXIgc3R5bGVzID0gaXRlbS5zdHlsZTtcblxuICAgICAgICBzdHlsZXMudHJhbnNmb3JtID0gc3R5bGVzLndlYmtpdFRyYW5zZm9ybSA9ICcnO1xuICAgICAgICBzdHlsZXMudHJhbnNpdGlvbkRlbGF5ID0gJyc7XG4gICAgICAgIHN0eWxlcy5vcGFjaXR5ID0gMTtcblxuICAgICAgICAvLyBNYWtlIHRoZSBpdGVtcyBjbG9zZXN0IHRvIHRoZSB0cmlnZ2VyIGhhdmUgdGhlIGhpZ2hlc3Qgei1pbmRleFxuICAgICAgICBzdHlsZXMuekluZGV4ID0gKGl0ZW1zLmxlbmd0aCAtIGluZGV4KSArIHN0YXJ0WkluZGV4O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFNldCB0aGUgdHJpZ2dlciB0byBiZSBhYm92ZSBhbGwgb2YgdGhlIGFjdGlvbnMgc28gdGhleSBkaXNhcHBlYXIgYmVoaW5kIGl0LlxuICAgICAgdHJpZ2dlckVsZW1lbnQuc3R5bGUuekluZGV4ID0gc3RhcnRaSW5kZXggKyBpdGVtcy5sZW5ndGggKyAxO1xuXG4gICAgICAvLyBJZiB0aGUgY29udHJvbCBpcyBjbG9zZWQsIGhpZGUgdGhlIGl0ZW1zIGJlaGluZCB0aGUgdHJpZ2dlclxuICAgICAgaWYgKCFjdHJsLmlzT3Blbikge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgdmFyIG5ld1Bvc2l0aW9uLCBheGlzO1xuICAgICAgICAgIHZhciBzdHlsZXMgPSBpdGVtLnN0eWxlO1xuXG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRvIGFjY291bnQgZm9yIGRpZmZlcmVuY2VzIGluIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB0cmlnZ2VyIHZlcnNlcyB0aGUgaXRlbXNcbiAgICAgICAgICAvLyBzbyB0aGF0IHdlIGNhbiBwcm9wZXJseSBjZW50ZXIgZXZlcnl0aGluZzsgdGhpcyBoZWxwcyBoaWRlIHRoZSBpdGVtJ3Mgc2hhZG93cyBiZWhpbmRcbiAgICAgICAgICAvLyB0aGUgdHJpZ2dlci5cbiAgICAgICAgICB2YXIgdHJpZ2dlckl0ZW1IZWlnaHRPZmZzZXQgPSAodHJpZ2dlckVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gaXRlbS5jbGllbnRIZWlnaHQpIC8gMjtcbiAgICAgICAgICB2YXIgdHJpZ2dlckl0ZW1XaWR0aE9mZnNldCA9ICh0cmlnZ2VyRWxlbWVudC5jbGllbnRXaWR0aCAtIGl0ZW0uY2xpZW50V2lkdGgpIC8gMjtcblxuICAgICAgICAgIHN3aXRjaCAoY3RybC5kaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ3VwJzpcbiAgICAgICAgICAgICAgbmV3UG9zaXRpb24gPSAoaXRlbS5zY3JvbGxIZWlnaHQgKiAoaW5kZXggKyAxKSArIHRyaWdnZXJJdGVtSGVpZ2h0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgYXhpcyA9ICdZJztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkb3duJzpcbiAgICAgICAgICAgICAgbmV3UG9zaXRpb24gPSAtKGl0ZW0uc2Nyb2xsSGVpZ2h0ICogKGluZGV4ICsgMSkgKyB0cmlnZ2VySXRlbUhlaWdodE9mZnNldCk7XG4gICAgICAgICAgICAgIGF4aXMgPSAnWSc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgIG5ld1Bvc2l0aW9uID0gKGl0ZW0uc2Nyb2xsV2lkdGggKiAoaW5kZXggKyAxKSArIHRyaWdnZXJJdGVtV2lkdGhPZmZzZXQpO1xuICAgICAgICAgICAgICBheGlzID0gJ1gnO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgbmV3UG9zaXRpb24gPSAtKGl0ZW0uc2Nyb2xsV2lkdGggKiAoaW5kZXggKyAxKSArIHRyaWdnZXJJdGVtV2lkdGhPZmZzZXQpO1xuICAgICAgICAgICAgICBheGlzID0gJ1gnO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbmV3VHJhbnNsYXRlID0gJ3RyYW5zbGF0ZScgKyBheGlzICsgJygnICsgbmV3UG9zaXRpb24gKyAncHgpJztcblxuICAgICAgICAgIHN0eWxlcy50cmFuc2Zvcm0gPSBzdHlsZXMud2Via2l0VHJhbnNmb3JtID0gbmV3VHJhbnNsYXRlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgICBpZiAoZWxlbWVudC5oYXNDbGFzcygnbWQtZmxpbmcnKSkge1xuICAgICAgICAgIHJ1bkFuaW1hdGlvbihlbGVtZW50KTtcbiAgICAgICAgICBkZWxheURvbmUoZG9uZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgICBydW5BbmltYXRpb24oZWxlbWVudCk7XG4gICAgICAgIGRlbGF5RG9uZShkb25lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgTWRGYWJTcGVlZERpYWxGbGluZ0FuaW1hdGlvbi4kaW5qZWN0ID0gW1wiJHRpbWVvdXRcIl07XG5cbiAgZnVuY3Rpb24gTWRGYWJTcGVlZERpYWxTY2FsZUFuaW1hdGlvbigkdGltZW91dCkge1xuICAgIGZ1bmN0aW9uIGRlbGF5RG9uZShkb25lKSB7ICR0aW1lb3V0KGRvbmUsIGNzc0FuaW1hdGlvbkR1cmF0aW9uLCBmYWxzZSk7IH1cblxuICAgIHZhciBkZWxheSA9IDY1O1xuXG4gICAgZnVuY3Rpb24gcnVuQW5pbWF0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBlbCA9IGVsZW1lbnRbMF07XG4gICAgICB2YXIgY3RybCA9IGVsZW1lbnQuY29udHJvbGxlcignbWRGYWJTcGVlZERpYWwnKTtcbiAgICAgIHZhciBpdGVtcyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZC1mYWItYWN0aW9uLWl0ZW0nKTtcblxuICAgICAgLy8gR3JhYiBvdXIgZWxlbWVudCB3aGljaCBzdG9yZXMgQ1NTIHZhcmlhYmxlc1xuICAgICAgdmFyIHZhcmlhYmxlc0VsZW1lbnQgPSBlbC5xdWVyeVNlbGVjdG9yKCcubWQtY3NzLXZhcmlhYmxlcycpO1xuXG4gICAgICAvLyBTZXR1cCBKUyB2YXJpYWJsZXMgYmFzZWQgb24gb3VyIENTUyB2YXJpYWJsZXNcbiAgICAgIHZhciBzdGFydFpJbmRleCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHZhcmlhYmxlc0VsZW1lbnQpLnpJbmRleCk7XG5cbiAgICAgIC8vIEFsd2F5cyByZXNldCB0aGUgaXRlbXMgdG8gdGhlaXIgbmF0dXJhbCBwb3NpdGlvbi9zdGF0ZVxuICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICB2YXIgc3R5bGVzID0gaXRlbS5zdHlsZSxcbiAgICAgICAgICBvZmZzZXREZWxheSA9IGluZGV4ICogZGVsYXk7XG5cbiAgICAgICAgc3R5bGVzLm9wYWNpdHkgPSBjdHJsLmlzT3BlbiA/IDEgOiAwO1xuICAgICAgICBzdHlsZXMudHJhbnNmb3JtID0gc3R5bGVzLndlYmtpdFRyYW5zZm9ybSA9IGN0cmwuaXNPcGVuID8gJ3NjYWxlKDEpJyA6ICdzY2FsZSgwLjEpJztcbiAgICAgICAgc3R5bGVzLnRyYW5zaXRpb25EZWxheSA9IChjdHJsLmlzT3BlbiA/IG9mZnNldERlbGF5IDogKGl0ZW1zLmxlbmd0aCAtIG9mZnNldERlbGF5KSkgKyAnbXMnO1xuXG4gICAgICAgIC8vIE1ha2UgdGhlIGl0ZW1zIGNsb3Nlc3QgdG8gdGhlIHRyaWdnZXIgaGF2ZSB0aGUgaGlnaGVzdCB6LWluZGV4XG4gICAgICAgIHN0eWxlcy56SW5kZXggPSAoaXRlbXMubGVuZ3RoIC0gaW5kZXgpICsgc3RhcnRaSW5kZXg7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgICBydW5BbmltYXRpb24oZWxlbWVudCk7XG4gICAgICAgIGRlbGF5RG9uZShkb25lKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHtcbiAgICAgICAgcnVuQW5pbWF0aW9uKGVsZW1lbnQpO1xuICAgICAgICBkZWxheURvbmUoZG9uZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIE1kRmFiU3BlZWREaWFsU2NhbGVBbmltYXRpb24uJGluamVjdCA9IFtcIiR0aW1lb3V0XCJdO1xufSkoKTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbW9kdWxlXG4gICAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuZmFiVG9vbGJhclxuICAgKi9cbiAgYW5ndWxhclxuICAgIC8vIERlY2xhcmUgb3VyIG1vZHVsZVxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuZmFiVG9vbGJhcicsIFtcbiAgICAgICdtYXRlcmlhbC5jb3JlJyxcbiAgICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmZhYlNoYXJlZCcsXG4gICAgICAnbWF0ZXJpYWwuY29tcG9uZW50cy5mYWJUcmlnZ2VyJyxcbiAgICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmZhYkFjdGlvbnMnXG4gICAgXSlcblxuICAgIC8vIFJlZ2lzdGVyIG91ciBkaXJlY3RpdmVcbiAgICAuZGlyZWN0aXZlKCdtZEZhYlRvb2xiYXInLCBNZEZhYlRvb2xiYXJEaXJlY3RpdmUpXG5cbiAgICAvLyBSZWdpc3RlciBvdXIgY3VzdG9tIGFuaW1hdGlvbnNcbiAgICAuYW5pbWF0aW9uKCcubWQtZmFiLXRvb2xiYXInLCBNZEZhYlRvb2xiYXJBbmltYXRpb24pXG5cbiAgICAvLyBSZWdpc3RlciBhIHNlcnZpY2UgZm9yIHRoZSBhbmltYXRpb24gc28gdGhhdCB3ZSBjYW4gZWFzaWx5IGluamVjdCBpdCBpbnRvIHVuaXQgdGVzdHNcbiAgICAuc2VydmljZSgnbWRGYWJUb29sYmFyQW5pbWF0aW9uJywgTWRGYWJUb29sYmFyQW5pbWF0aW9uKTtcblxuICAvKipcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgKiBAbmFtZSBtZEZhYlRvb2xiYXJcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmZhYlRvb2xiYXJcbiAgICpcbiAgICogQHJlc3RyaWN0IEVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFRoZSBgPG1kLWZhYi10b29sYmFyPmAgZGlyZWN0aXZlIGlzIHVzZWQgcHJlc2VudCBhIHRvb2xiYXIgb2YgZWxlbWVudHMgKHVzdWFsbHkgYDxtZC1idXR0b24+YHMpXG4gICAqIGZvciBxdWljayBhY2Nlc3MgdG8gY29tbW9uIGFjdGlvbnMgd2hlbiBhIGZsb2F0aW5nIGFjdGlvbiBidXR0b24gaXMgYWN0aXZhdGVkICh2aWEgY2xpY2sgb3JcbiAgICoga2V5Ym9hcmQgbmF2aWdhdGlvbikuXG4gICAqXG4gICAqIFlvdSBtYXkgYWxzbyBlYXNpbHkgcG9zaXRpb24gdGhlIHRyaWdnZXIgYnkgYXBwbHlpbmcgb25lIG9uZSBvZiB0aGUgZm9sbG93aW5nIGNsYXNzZXMgdG8gdGhlXG4gICAqIGA8bWQtZmFiLXRvb2xiYXI+YCBlbGVtZW50OlxuICAgKiAgLSBgbWQtZmFiLXRvcC1sZWZ0YFxuICAgKiAgLSBgbWQtZmFiLXRvcC1yaWdodGBcbiAgICogIC0gYG1kLWZhYi1ib3R0b20tbGVmdGBcbiAgICogIC0gYG1kLWZhYi1ib3R0b20tcmlnaHRgXG4gICAqXG4gICAqIFRoZXNlIENTUyBjbGFzc2VzIHVzZSBgcG9zaXRpb246IGFic29sdXRlYCwgc28geW91IG5lZWQgdG8gZW5zdXJlIHRoYXQgdGhlIGNvbnRhaW5lciBlbGVtZW50XG4gICAqIGFsc28gdXNlcyBgcG9zaXRpb246IGFic29sdXRlYCBvciBgcG9zaXRpb246IHJlbGF0aXZlYCBpbiBvcmRlciBmb3IgdGhlbSB0byB3b3JrLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICpcbiAgICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAgICogPG1kLWZhYi10b29sYmFyIG1kLWRpcmVjdGlvbj0nbGVmdCc+XG4gICAqICAgPG1kLWZhYi10cmlnZ2VyPlxuICAgKiAgICAgPG1kLWJ1dHRvbiBhcmlhLWxhYmVsPVwiQWRkLi4uXCI+PG1kLWljb24gaWNvbj1cIi9pbWcvaWNvbnMvcGx1cy5zdmdcIj48L21kLWljb24+PC9tZC1idXR0b24+XG4gICAqICAgPC9tZC1mYWItdHJpZ2dlcj5cbiAgICpcbiAgICogICA8bWQtZmFiLWFjdGlvbnM+XG4gICAqICAgICA8bWQtYnV0dG9uIGFyaWEtbGFiZWw9XCJBZGQgVXNlclwiPlxuICAgKiAgICAgICA8bWQtaWNvbiBpY29uPVwiL2ltZy9pY29ucy91c2VyLnN2Z1wiPjwvbWQtaWNvbj5cbiAgICogICAgIDwvbWQtYnV0dG9uPlxuICAgKlxuICAgKiAgICAgPG1kLWJ1dHRvbiBhcmlhLWxhYmVsPVwiQWRkIEdyb3VwXCI+XG4gICAqICAgICAgIDxtZC1pY29uIGljb249XCIvaW1nL2ljb25zL2dyb3VwLnN2Z1wiPjwvbWQtaWNvbj5cbiAgICogICAgIDwvbWQtYnV0dG9uPlxuICAgKiAgIDwvbWQtZmFiLWFjdGlvbnM+XG4gICAqIDwvbWQtZmFiLXRvb2xiYXI+XG4gICAqIDwvaGxqcz5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1kLWRpcmVjdGlvbiBGcm9tIHdoaWNoIGRpcmVjdGlvbiB5b3Ugd291bGQgbGlrZSB0aGUgdG9vbGJhciBpdGVtcyB0byBhcHBlYXJcbiAgICogcmVsYXRpdmUgdG8gdGhlIHRyaWdnZXIgZWxlbWVudC4gU3VwcG9ydHMgYGxlZnRgIGFuZCBgcmlnaHRgIGRpcmVjdGlvbnMuXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLW9wZW4gUHJvZ3JhbW1hdGljYWxseSBjb250cm9sIHdoZXRoZXIgb3Igbm90IHRoZSB0b29sYmFyIGlzIHZpc2libGUuXG4gICAqL1xuICBmdW5jdGlvbiBNZEZhYlRvb2xiYXJEaXJlY3RpdmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibWQtZmFiLXRvb2xiYXItd3JhcHBlclwiPicgK1xuICAgICAgJyAgPGRpdiBjbGFzcz1cIm1kLWZhYi10b29sYmFyLWNvbnRlbnRcIiBuZy10cmFuc2NsdWRlPjwvZGl2PicgK1xuICAgICAgJzwvZGl2PicsXG5cbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGRpcmVjdGlvbjogJ0A/bWREaXJlY3Rpb24nLFxuICAgICAgICBpc09wZW46ICc9P21kT3BlbidcbiAgICAgIH0sXG5cbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICBjb250cm9sbGVyOiAnRmFiQ29udHJvbGxlcicsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG5cbiAgICAgIGxpbms6IGxpbmtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cmlidXRlcykge1xuICAgICAgLy8gQWRkIHRoZSBiYXNlIGNsYXNzIGZvciBhbmltYXRpb25zXG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1mYWItdG9vbGJhcicpO1xuXG4gICAgICAvLyBQcmVwZW5kIHRoZSBiYWNrZ3JvdW5kIGVsZW1lbnQgdG8gdGhlIHRyaWdnZXIncyBidXR0b25cbiAgICAgIGVsZW1lbnQuZmluZCgnbWQtZmFiLXRyaWdnZXInKS5maW5kKCdidXR0b24nKVxuICAgICAgICAucHJlcGVuZCgnPGRpdiBjbGFzcz1cIm1kLWZhYi10b29sYmFyLWJhY2tncm91bmRcIj48L2Rpdj4nKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBNZEZhYlRvb2xiYXJBbmltYXRpb24oKSB7XG5cbiAgICBmdW5jdGlvbiBydW5BbmltYXRpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAvLyBJZiBubyBjbGFzc05hbWUgd2FzIHNwZWNpZmllZCwgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgIGlmICghY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGVsID0gZWxlbWVudFswXTtcbiAgICAgIHZhciBjdHJsID0gZWxlbWVudC5jb250cm9sbGVyKCdtZEZhYlRvb2xiYXInKTtcblxuICAgICAgLy8gR3JhYiB0aGUgcmVsZXZhbnQgY2hpbGQgZWxlbWVudHNcbiAgICAgIHZhciBiYWNrZ3JvdW5kRWxlbWVudCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5tZC1mYWItdG9vbGJhci1iYWNrZ3JvdW5kJyk7XG4gICAgICB2YXIgdHJpZ2dlckVsZW1lbnQgPSBlbC5xdWVyeVNlbGVjdG9yKCdtZC1mYWItdHJpZ2dlciBidXR0b24nKTtcbiAgICAgIHZhciB0b29sYmFyRWxlbWVudCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ21kLXRvb2xiYXInKTtcbiAgICAgIHZhciBpY29uRWxlbWVudCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ21kLWZhYi10cmlnZ2VyIGJ1dHRvbiBtZC1pY29uJyk7XG4gICAgICB2YXIgYWN0aW9ucyA9IGVsZW1lbnQuZmluZCgnbWQtZmFiLWFjdGlvbnMnKS5jaGlsZHJlbigpO1xuXG4gICAgICAvLyBJZiB3ZSBoYXZlIGJvdGggZWxlbWVudHMsIHVzZSB0aGVtIHRvIHBvc2l0aW9uIHRoZSBuZXcgYmFja2dyb3VuZFxuICAgICAgaWYgKHRyaWdnZXJFbGVtZW50ICYmIGJhY2tncm91bmRFbGVtZW50KSB7XG4gICAgICAgIC8vIEdldCBvdXIgdmFyaWFibGVzXG4gICAgICAgIHZhciBjb2xvciA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRyaWdnZXJFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgICAgIHZhciB3aWR0aCA9IGVsLm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZWwub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgIC8vIE1ha2UgaXQgdHdpY2UgYXMgYmlnIGFzIGl0IHNob3VsZCBiZSBzaW5jZSB3ZSBzY2FsZSBmcm9tIHRoZSBjZW50ZXJcbiAgICAgICAgdmFyIHNjYWxlID0gMiAqICh3aWR0aCAvIHRyaWdnZXJFbGVtZW50Lm9mZnNldFdpZHRoKTtcblxuICAgICAgICAvLyBTZXQgc29tZSBiYXNpYyBzdHlsZXMgbm8gbWF0dGVyIHdoYXQgYW5pbWF0aW9uIHdlJ3JlIGRvaW5nXG4gICAgICAgIGJhY2tncm91bmRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICBiYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5ib3JkZXJSYWRpdXMgPSB3aWR0aCArICdweCc7XG5cbiAgICAgICAgLy8gSWYgd2UncmUgb3BlblxuICAgICAgICBpZiAoY3RybC5pc09wZW4pIHtcbiAgICAgICAgICAvLyBUdXJuIG9uIHRvb2xiYXIgcG9pbnRlciBldmVudHMgd2hlbiBjbG9zZWRcbiAgICAgICAgICB0b29sYmFyRWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2luaXRpYWwnO1xuXG4gICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUud2lkdGggPSB0cmlnZ2VyRWxlbWVudC5vZmZzZXRXaWR0aCArICdweCc7XG4gICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdHJpZ2dlckVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgICBiYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoJyArIHNjYWxlICsgJyknO1xuXG4gICAgICAgICAgLy8gU2V0IHRoZSBuZXh0IGNsb3NlIGFuaW1hdGlvbiB0byBoYXZlIHRoZSBwcm9wZXIgZGVsYXlzXG4gICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gJzBtcyc7XG4gICAgICAgICAgaWNvbkVsZW1lbnQgJiYgKGljb25FbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9ICcuM3MnKTtcblxuICAgICAgICAgIC8vIEFwcGx5IGEgdHJhbnNpdGlvbiBkZWxheSB0byBhY3Rpb25zXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGFjdGlvbnMsIGZ1bmN0aW9uKGFjdGlvbiwgaW5kZXgpIHtcbiAgICAgICAgICAgIGFjdGlvbi5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSAoYWN0aW9ucy5sZW5ndGggLSBpbmRleCkgKiAyNSArICdtcyc7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVHVybiBvZmYgdG9vbGJhciBwb2ludGVyIGV2ZW50cyB3aGVuIGNsb3NlZFxuICAgICAgICAgIHRvb2xiYXJFbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG5cbiAgICAgICAgICAvLyBTY2FsZSBpdCBiYWNrIGRvd24gdG8gdGhlIHRyaWdnZXIncyBzaXplXG4gICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDEpJztcblxuICAgICAgICAgIC8vIFJlc2V0IHRoZSBwb3NpdGlvblxuICAgICAgICAgIGJhY2tncm91bmRFbGVtZW50LnN0eWxlLnRvcCA9ICcwJztcblxuICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKCdtZC1yaWdodCcpKSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUucmlnaHQgPSBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKCdtZC1sZWZ0JykpIHtcbiAgICAgICAgICAgIGJhY2tncm91bmRFbGVtZW50LnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUubGVmdCA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2V0IHRoZSBuZXh0IG9wZW4gYW5pbWF0aW9uIHRvIGhhdmUgdGhlIHByb3BlciBkZWxheXNcbiAgICAgICAgICBiYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSAnMjAwbXMnO1xuICAgICAgICAgIGljb25FbGVtZW50ICYmIChpY29uRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSAnMG1zJyk7XG5cbiAgICAgICAgICAvLyBBcHBseSBhIHRyYW5zaXRpb24gZGVsYXkgdG8gYWN0aW9uc1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChhY3Rpb25zLCBmdW5jdGlvbihhY3Rpb24sIGluZGV4KSB7XG4gICAgICAgICAgICBhY3Rpb24uc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gMjAwICsgKGluZGV4ICogMjUpICsgJ21zJztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAgIHJ1bkFuaW1hdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAgIHJ1bkFuaW1hdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59KSgpO1xufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbW9kdWxlXG4gICAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuZmFiVHJpZ2dlclxuICAgKi9cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuZmFiVHJpZ2dlcicsIFsnbWF0ZXJpYWwuY29yZSddKVxuICAgIC5kaXJlY3RpdmUoJ21kRmFiVHJpZ2dlcicsIE1kRmFiVHJpZ2dlckRpcmVjdGl2ZSk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICogQG5hbWUgbWRGYWJUcmlnZ2VyXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5mYWJTcGVlZERpYWxcbiAgICpcbiAgICogQHJlc3RyaWN0IEVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSBgPG1kLWZhYi10cmlnZ2VyPmAgZGlyZWN0aXZlIGlzIHVzZWQgaW5zaWRlIG9mIGEgYDxtZC1mYWItc3BlZWQtZGlhbD5gIG9yXG4gICAqIGA8bWQtZmFiLXRvb2xiYXI+YCBkaXJlY3RpdmUgdG8gbWFyayBhbiBlbGVtZW50IChvciBlbGVtZW50cykgYXMgdGhlIHRyaWdnZXIgYW5kIHNldHVwIHRoZVxuICAgKiBwcm9wZXIgZXZlbnQgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogU2VlIHRoZSBgPG1kLWZhYi1zcGVlZC1kaWFsPmAgb3IgYDxtZC1mYWItdG9vbGJhcj5gIGRpcmVjdGl2ZXMgZm9yIGV4YW1wbGUgdXNhZ2UuXG4gICAqL1xuICBmdW5jdGlvbiBNZEZhYlRyaWdnZXJEaXJlY3RpdmUoKSB7XG4gICAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgY29tcGxldGVseT9cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFJyxcblxuICAgICAgcmVxdWlyZTogWydeP21kRmFiU3BlZWREaWFsJywgJ14/bWRGYWJUb29sYmFyJ11cbiAgICB9O1xuICB9XG59KSgpO1xuXG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuZ3JpZExpc3RcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuZ3JpZExpc3QnLCBbJ21hdGVyaWFsLmNvcmUnXSlcbiAgICAgICAuZGlyZWN0aXZlKCdtZEdyaWRMaXN0JywgR3JpZExpc3REaXJlY3RpdmUpXG4gICAgICAgLmRpcmVjdGl2ZSgnbWRHcmlkVGlsZScsIEdyaWRUaWxlRGlyZWN0aXZlKVxuICAgICAgIC5kaXJlY3RpdmUoJ21kR3JpZFRpbGVGb290ZXInLCBHcmlkVGlsZUNhcHRpb25EaXJlY3RpdmUpXG4gICAgICAgLmRpcmVjdGl2ZSgnbWRHcmlkVGlsZUhlYWRlcicsIEdyaWRUaWxlQ2FwdGlvbkRpcmVjdGl2ZSlcbiAgICAgICAuZmFjdG9yeSgnJG1kR3JpZExheW91dCcsIEdyaWRMYXlvdXRGYWN0b3J5KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZEdyaWRMaXN0XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuZ3JpZExpc3RcbiAqIEByZXN0cmljdCBFXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdyaWQgbGlzdHMgYXJlIGFuIGFsdGVybmF0aXZlIHRvIHN0YW5kYXJkIGxpc3Qgdmlld3MuIEdyaWQgbGlzdHMgYXJlIGRpc3RpbmN0XG4gKiBmcm9tIGdyaWRzIHVzZWQgZm9yIGxheW91dHMgYW5kIG90aGVyIHZpc3VhbCBwcmVzZW50YXRpb25zLlxuICpcbiAqIEEgZ3JpZCBsaXN0IGlzIGJlc3Qgc3VpdGVkIHRvIHByZXNlbnRpbmcgYSBob21vZ2Vub3VzIGRhdGEgdHlwZSwgdHlwaWNhbGx5XG4gKiBpbWFnZXMsIGFuZCBpcyBvcHRpbWl6ZWQgZm9yIHZpc3VhbCBjb21wcmVoZW5zaW9uIGFuZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlblxuICogbGlrZSBkYXRhIHR5cGVzLlxuICpcbiAqIEEgZ3JpZCBsaXN0IGlzIGEgY29udGludW91cyBlbGVtZW50IGNvbnNpc3Rpbmcgb2YgdGVzc2VsbGF0ZWQsIHJlZ3VsYXJcbiAqIHN1YmRpdmlzaW9ucyBjYWxsZWQgY2VsbHMgdGhhdCBjb250YWluIHRpbGVzIChgbWQtZ3JpZC10aWxlYCkuXG4gKlxuICogPGltZyBzcmM9XCIvL21hdGVyaWFsLWRlc2lnbi5zdG9yYWdlLmdvb2dsZWFwaXMuY29tL3B1Ymxpc2gvdl8yL21hdGVyaWFsX2V4dF9wdWJsaXNoLzBCeDRCU3Q2am5pRDdPVmxFYVhaNVltVTFYemcvY29tcG9uZW50c19ncmlkc191c2FnZTIucG5nXCJcbiAqICAgIHN0eWxlPVwid2lkdGg6IDMwMHB4OyBoZWlnaHQ6IGF1dG87IG1hcmdpbi1yaWdodDogMTZweDtcIiBhbHQ9XCJDb25jZXB0IG9mIGdyaWQgZXhwbGFpbmVkIHZpc3VhbGx5XCI+XG4gKiA8aW1nIHNyYz1cIi8vbWF0ZXJpYWwtZGVzaWduLnN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vcHVibGlzaC92XzIvbWF0ZXJpYWxfZXh0X3B1Ymxpc2gvMEJ4NEJTdDZqbmlEN1ZHaHNPRTVpZFdsSldYTS9jb21wb25lbnRzX2dyaWRzX3VzYWdlMy5wbmdcIlxuICogICAgc3R5bGU9XCJ3aWR0aDogMzAwcHg7IGhlaWdodDogYXV0bztcIiBhbHQ9XCJHcmlkIGNvbmNlcHRzIGxlZ2VuZFwiPlxuICpcbiAqIENlbGxzIGFyZSBhcnJheWVkIHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseSB3aXRoaW4gdGhlIGdyaWQuXG4gKlxuICogVGlsZXMgaG9sZCBjb250ZW50IGFuZCBjYW4gc3BhbiBvbmUgb3IgbW9yZSBjZWxscyB2ZXJ0aWNhbGx5IG9yIGhvcml6b250YWxseS5cbiAqXG4gKiAjIyMgUmVzcG9uc2l2ZSBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIGBtZC1ncmlkLWxpc3RgIGRpcmVjdGl2ZSBzdXBwb3J0cyBcInJlc3BvbnNpdmVcIiBhdHRyaWJ1dGVzLCB3aGljaCBhbGxvd1xuICogZGlmZmVyZW50IGBtZC1jb2xzYCwgYG1kLWd1dHRlcmAgYW5kIGBtZC1yb3ctaGVpZ2h0YCB2YWx1ZXMgZGVwZW5kaW5nIG9uIHRoZVxuICogY3VycmVudGx5IG1hdGNoaW5nIG1lZGlhIHF1ZXJ5IChhcyBkZWZpbmVkIGluIGAkbWRDb25zdGFudC5NRURJQWApLlxuICpcbiAqIEluIG9yZGVyIHRvIHNldCBhIHJlc3BvbnNpdmUgYXR0cmlidXRlLCBmaXJzdCBkZWZpbmUgdGhlIGZhbGxiYWNrIHZhbHVlIHdpdGhcbiAqIHRoZSBzdGFuZGFyZCBhdHRyaWJ1dGUgbmFtZSwgdGhlbiBhZGQgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIHdpdGggdGhlXG4gKiBmb2xsb3dpbmcgY29udmVudGlvbjogYHtiYXNlLWF0dHJpYnV0ZS1uYW1lfS17bWVkaWEtcXVlcnktbmFtZX09XCJ7dmFsdWV9XCJgXG4gKiAoaWUuIGBtZC1jb2xzLWxnPVwiOFwiYClcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbWQtY29scyBOdW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgZ3JpZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1yb3ctaGVpZ2h0IE9uZSBvZlxuICogPHVsPlxuICogICA8bGk+Q1NTIGxlbmd0aCAtIEZpeGVkIGhlaWdodCByb3dzIChlZy4gYDhweGAgb3IgYDFyZW1gKTwvbGk+XG4gKiAgIDxsaT5ge3dpZHRofTp7aGVpZ2h0fWAgLSBSYXRpbyBvZiB3aWR0aCB0byBoZWlnaHQgKGVnLlxuICogICBgbWQtcm93LWhlaWdodD1cIjE2OjlcImApPC9saT5cbiAqICAgPGxpPmBcImZpdFwiYCAtIEhlaWdodCB3aWxsIGJlIGRldGVybWluZWQgYnkgc3ViZGl2aWRpbmcgdGhlIGF2YWlsYWJsZVxuICogICBoZWlnaHQgYnkgdGhlIG51bWJlciBvZiByb3dzPC9saT5cbiAqIDwvdWw+XG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLWd1dHRlciBUaGUgYW1vdW50IG9mIHNwYWNlIGJldHdlZW4gdGlsZXMgaW4gQ1NTIHVuaXRzXG4gKiAgICAgKGRlZmF1bHQgMXB4KVxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtb24tbGF5b3V0IEV4cHJlc3Npb24gdG8gZXZhbHVhdGUgYWZ0ZXIgbGF5b3V0LiBFdmVudFxuICogICAgIG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAsIGFuZCBjb250YWlucyBwZXJmb3JtYW5jZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VcbiAqIEJhc2ljOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLWxpc3QgbWQtY29scz1cIjVcIiBtZC1ndXR0ZXI9XCIxZW1cIiBtZC1yb3ctaGVpZ2h0PVwiNDozXCI+XG4gKiAgIDxtZC1ncmlkLXRpbGU+PC9tZC1ncmlkLXRpbGU+XG4gKiA8L21kLWdyaWQtbGlzdD5cbiAqIDwvaGxqcz5cbiAqXG4gKiBGaXhlZC1oZWlnaHQgcm93czpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtZ3JpZC1saXN0IG1kLWNvbHM9XCI0XCIgbWQtcm93LWhlaWdodD1cIjIwMHB4XCIgLi4uPlxuICogICA8bWQtZ3JpZC10aWxlPjwvbWQtZ3JpZC10aWxlPlxuICogPC9tZC1ncmlkLWxpc3Q+XG4gKiA8L2hsanM+XG4gKlxuICogRml0IHJvd3M6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtbGlzdCBtZC1jb2xzPVwiNFwiIG1kLXJvdy1oZWlnaHQ9XCJmaXRcIiBzdHlsZT1cImhlaWdodDogNDAwcHg7XCIgLi4uPlxuICogICA8bWQtZ3JpZC10aWxlPjwvbWQtZ3JpZC10aWxlPlxuICogPC9tZC1ncmlkLWxpc3Q+XG4gKiA8L2hsanM+XG4gKlxuICogVXNpbmcgcmVzcG9uc2l2ZSBhdHRyaWJ1dGVzOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLWxpc3RcbiAqICAgICBtZC1jb2xzLXNtPVwiMlwiXG4gKiAgICAgbWQtY29scy1tZD1cIjRcIlxuICogICAgIG1kLWNvbHMtbGc9XCI4XCJcbiAqICAgICBtZC1jb2xzLWd0LWxnPVwiMTJcIlxuICogICAgIC4uLj5cbiAqICAgPG1kLWdyaWQtdGlsZT48L21kLWdyaWQtdGlsZT5cbiAqIDwvbWQtZ3JpZC1saXN0PlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBHcmlkTGlzdERpcmVjdGl2ZSgkaW50ZXJwb2xhdGUsICRtZENvbnN0YW50LCAkbWRHcmlkTGF5b3V0LCAkbWRNZWRpYSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogR3JpZExpc3RDb250cm9sbGVyLFxuICAgIHNjb3BlOiB7XG4gICAgICBtZE9uTGF5b3V0OiAnJidcbiAgICB9LFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgLy8gQXBwbHkgc2VtYW50aWNzXG4gICAgZWxlbWVudC5hdHRyKCdyb2xlJywgJ2xpc3QnKTtcblxuICAgIC8vIFByb3ZpZGUgdGhlIGNvbnRyb2xsZXIgd2l0aCBhIHdheSB0byB0cmlnZ2VyIGxheW91dHMuXG4gICAgY3RybC5sYXlvdXREZWxlZ2F0ZSA9IGxheW91dERlbGVnYXRlO1xuXG4gICAgdmFyIGludmFsaWRhdGVMYXlvdXQgPSBhbmd1bGFyLmJpbmQoY3RybCwgY3RybC5pbnZhbGlkYXRlTGF5b3V0KSxcbiAgICAgICAgdW53YXRjaEF0dHJzID0gd2F0Y2hNZWRpYSgpO1xuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHVud2F0Y2hNZWRpYSk7XG5cbiAgICAvKipcbiAgICAgKiBXYXRjaGVzIGZvciBjaGFuZ2VzIGluIG1lZGlhLCBpbnZhbGlkYXRpbmcgbGF5b3V0IGFzIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3YXRjaE1lZGlhKCkge1xuICAgICAgZm9yICh2YXIgbWVkaWFOYW1lIGluICRtZENvbnN0YW50Lk1FRElBKSB7XG4gICAgICAgICRtZE1lZGlhKG1lZGlhTmFtZSk7IC8vIGluaXRpYWxpemVcbiAgICAgICAgJG1kTWVkaWEuZ2V0UXVlcnkoJG1kQ29uc3RhbnQuTUVESUFbbWVkaWFOYW1lXSlcbiAgICAgICAgICAgIC5hZGRMaXN0ZW5lcihpbnZhbGlkYXRlTGF5b3V0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkbWRNZWRpYS53YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzKFxuICAgICAgICAgIFsnbWQtY29scycsICdtZC1yb3ctaGVpZ2h0JywgJ21kLWd1dHRlciddLCBhdHRycywgbGF5b3V0SWZNZWRpYU1hdGNoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bndhdGNoTWVkaWEoKSB7XG4gICAgICBjdHJsLmxheW91dERlbGVnYXRlID0gYW5ndWxhci5ub29wO1xuXG4gICAgICB1bndhdGNoQXR0cnMoKTtcbiAgICAgIGZvciAodmFyIG1lZGlhTmFtZSBpbiAkbWRDb25zdGFudC5NRURJQSkge1xuICAgICAgICAkbWRNZWRpYS5nZXRRdWVyeSgkbWRDb25zdGFudC5NRURJQVttZWRpYU5hbWVdKVxuICAgICAgICAgICAgLnJlbW92ZUxpc3RlbmVyKGludmFsaWRhdGVMYXlvdXQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGdyaWQgbGF5b3V0IGlmIHRoZSBwcm92aWRlZCBtZWRpYU5hbWUgbWF0Y2hlcyB0aGUgY3VycmVudGx5XG4gICAgICogYWN0aXZlIG1lZGlhIHR5cGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF5b3V0SWZNZWRpYU1hdGNoKG1lZGlhTmFtZSkge1xuICAgICAgaWYgKG1lZGlhTmFtZSA9PSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE8oc2h5bmRtYW4pOiBJdCB3b3VsZCBiZSBuaWNlIHRvIG9ubHkgbGF5b3V0IGlmIHdlIGhhdmVcbiAgICAgICAgLy8gaW5zdGFuY2VzIG9mIGF0dHJpYnV0ZXMgdXNpbmcgdGhpcyBtZWRpYSB0eXBlXG4gICAgICAgIGN0cmwuaW52YWxpZGF0ZUxheW91dCgpO1xuICAgICAgfSBlbHNlIGlmICgkbWRNZWRpYShtZWRpYU5hbWUpKSB7XG4gICAgICAgIGN0cmwuaW52YWxpZGF0ZUxheW91dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsYXN0TGF5b3V0UHJvcHM7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBsYXlvdXQgZW5naW5lLCBhbmQgdXNlcyBpdHMgcmVzdWx0cyB0byBsYXkgb3V0IG91clxuICAgICAqIHRpbGUgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRpbGVzSW52YWxpZGF0ZWQgV2hldGhlciB0aWxlcyBoYXZlIGJlZW5cbiAgICAgKiAgICBhZGRlZC9yZW1vdmVkL21vdmVkIHNpbmNlIHRoZSBsYXN0IGxheW91dC4gVGhpcyBpcyB0byBhdm9pZCBzaXR1YXRpb25zXG4gICAgICogICAgd2hlcmUgdGlsZXMgYXJlIHJlcGxhY2VkIHdpdGggcHJvcGVydGllcyBpZGVudGljYWwgdG8gdGhlaXIgcmVtb3ZlZFxuICAgICAqICAgIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXlvdXREZWxlZ2F0ZSh0aWxlc0ludmFsaWRhdGVkKSB7XG4gICAgICB2YXIgdGlsZXMgPSBnZXRUaWxlRWxlbWVudHMoKTtcbiAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgdGlsZVNwYW5zOiBnZXRUaWxlU3BhbnModGlsZXMpLFxuICAgICAgICBjb2xDb3VudDogZ2V0Q29sdW1uQ291bnQoKSxcbiAgICAgICAgcm93TW9kZTogZ2V0Um93TW9kZSgpLFxuICAgICAgICByb3dIZWlnaHQ6IGdldFJvd0hlaWdodCgpLFxuICAgICAgICBndXR0ZXI6IGdldEd1dHRlcigpXG4gICAgICB9O1xuXG4gICAgICBpZiAoIXRpbGVzSW52YWxpZGF0ZWQgJiYgYW5ndWxhci5lcXVhbHMocHJvcHMsIGxhc3RMYXlvdXRQcm9wcykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGVyZm9ybWFuY2UgPVxuICAgICAgICAkbWRHcmlkTGF5b3V0KHByb3BzLmNvbENvdW50LCBwcm9wcy50aWxlU3BhbnMsIHRpbGVzKVxuICAgICAgICAgIC5tYXAoZnVuY3Rpb24odGlsZVBvc2l0aW9ucywgcm93Q291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgICAgIHN0eWxlOiBnZXRHcmlkU3R5bGUocHJvcHMuY29sQ291bnQsIHJvd0NvdW50LFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5ndXR0ZXIsIHByb3BzLnJvd01vZGUsIHByb3BzLnJvd0hlaWdodClcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdGlsZXM6IHRpbGVQb3NpdGlvbnMubWFwKGZ1bmN0aW9uKHBzLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGFuZ3VsYXIuZWxlbWVudCh0aWxlc1tpXSksXG4gICAgICAgICAgICAgICAgICBzdHlsZTogZ2V0VGlsZVN0eWxlKHBzLnBvc2l0aW9uLCBwcy5zcGFucyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5jb2xDb3VudCwgcm93Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcHMuZ3V0dGVyLCBwcm9wcy5yb3dNb2RlLCBwcm9wcy5yb3dIZWlnaHQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnJlZmxvdygpXG4gICAgICAgICAgLnBlcmZvcm1hbmNlKCk7XG5cbiAgICAgIC8vIFJlcG9ydCBsYXlvdXRcbiAgICAgIHNjb3BlLm1kT25MYXlvdXQoe1xuICAgICAgICAkZXZlbnQ6IHtcbiAgICAgICAgICBwZXJmb3JtYW5jZTogcGVyZm9ybWFuY2VcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxhc3RMYXlvdXRQcm9wcyA9IHByb3BzO1xuICAgIH1cblxuICAgIC8vIFVzZSAkaW50ZXJwb2xhdGUgdG8gZG8gc29tZSBzaW1wbGUgc3RyaW5nIGludGVycG9sYXRpb24gYXMgYSBjb252ZW5pZW5jZS5cblxuICAgIHZhciBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpO1xuICAgIHZhciBlbmRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCk7XG5cbiAgICAvLyBSZXR1cm5zIGFuIGV4cHJlc3Npb24gd3JhcHBlZCBpbiB0aGUgaW50ZXJwb2xhdG9yJ3Mgc3RhcnQgYW5kIGVuZCBzeW1ib2xzLlxuICAgIGZ1bmN0aW9uIGV4cHIoZXhwclN0cikge1xuICAgICAgcmV0dXJuIHN0YXJ0U3ltYm9sICsgZXhwclN0ciArIGVuZFN5bWJvbDtcbiAgICB9XG5cbiAgICAvLyBUaGUgYW1vdW50IG9mIHNwYWNlIGEgc2luZ2xlIDF4MSB0aWxlIHdvdWxkIHRha2UgdXAgKGVpdGhlciB3aWR0aCBvciBoZWlnaHQpLCB1c2VkIGFzXG4gICAgLy8gYSBiYXNpcyBmb3Igb3RoZXIgY2FsY3VsYXRpb25zLiBUaGlzIGNvbnNpc3RzIG9mIHRha2luZyB0aGUgYmFzZSBzaXplIHBlcmNlbnQgKGFzIHdvdWxkIGJlXG4gICAgLy8gaWYgZXZlbmx5IGRpdmlkaW5nIHRoZSBzaXplIGJldHdlZW4gY2VsbHMpLCBhbmQgdGhlbiBzdWJ0cmFjdGluZyB0aGUgc2l6ZSBvZiBvbmUgZ3V0dGVyLlxuICAgIC8vIEhvd2V2ZXIsIHNpbmNlIHRoZXJlIGFyZSBubyBndXR0ZXJzIG9uIHRoZSBlZGdlcywgZWFjaCB0aWxlIG9ubHkgdXNlcyBhIGZyYXRpb25cbiAgICAvLyAoZ3V0dGVyU2hhcmUgPSBudW1HdXR0ZXJzIC8gbnVtQ2VsbHMpIG9mIHRoZSBndXR0ZXIgc2l6ZS4gKEltYWdpbmUgaGF2aW5nIG9uZSBndXR0ZXIgcGVyXG4gICAgLy8gdGlsZSwgYW5kIHRoZW4gYnJlYWtpbmcgdXAgdGhlIGV4dHJhIGd1dHRlciBvbiB0aGUgZWRnZSBldmVubHkgYW1vbmcgdGhlIGNlbGxzKS5cbiAgICB2YXIgVU5JVCA9ICRpbnRlcnBvbGF0ZShleHByKCdzaGFyZScpICsgJyUgLSAoJyArIGV4cHIoJ2d1dHRlcicpICsgJyAqICcgKyBleHByKCdndXR0ZXJTaGFyZScpICsgJyknKTtcblxuICAgIC8vIFRoZSBob3Jpem9udGFsIG9yIHZlcnRpY2FsIHBvc2l0aW9uIG9mIGEgdGlsZSwgZS5nLiwgdGhlICd0b3AnIG9yICdsZWZ0JyBwcm9wZXJ0eSB2YWx1ZS5cbiAgICAvLyBUaGUgcG9zaXRpb24gY29tZXMgdGhlIHNpemUgb2YgYSAxeDEgdGlsZSBwbHVzIGd1dHRlciBmb3IgZWFjaCBwcmV2aW91cyB0aWxlIGluIHRoZVxuICAgIC8vIHJvdy9jb2x1bW4gKG9mZnNldCkuXG4gICAgdmFyIFBPU0lUSU9OICA9ICRpbnRlcnBvbGF0ZSgnY2FsYygoJyArIGV4cHIoJ3VuaXQnKSArICcgKyAnICsgZXhwcignZ3V0dGVyJykgKyAnKSAqICcgKyBleHByKCdvZmZzZXQnKSArICcpJyk7XG5cbiAgICAvLyBUaGUgYWN0dWFsIHNpemUgb2YgYSB0aWxlLCBlLmcuLCB3aWR0aCBvciBoZWlnaHQsIHRha2luZyByb3dTcGFuIG9yIGNvbFNwYW4gaW50byBhY2NvdW50LlxuICAgIC8vIFRoaXMgaXMgY29tcHV0ZWQgYnkgbXVsdGlwbHlpbmcgdGhlIGJhc2UgdW5pdCBieSB0aGUgcm93U3Bhbi9jb2xTcGFuLCBhbmQgdGhlbiBhZGRpbmcgYmFja1xuICAgIC8vIGluIHRoZSBzcGFjZSB0aGF0IHRoZSBndXR0ZXIgd291bGQgbm9ybWFsbHkgaGF2ZSB1c2VkICh3aGljaCB3YXMgYWxyZWFkeSBhY2NvdW50ZWQgZm9yIGluXG4gICAgLy8gdGhlIGJhc2UgdW5pdCBjYWxjdWxhdGlvbikuXG4gICAgdmFyIERJTUVOU0lPTiA9ICRpbnRlcnBvbGF0ZSgnY2FsYygoJyArIGV4cHIoJ3VuaXQnKSArICcpICogJyArIGV4cHIoJ3NwYW4nKSArICcgKyAoJyArIGV4cHIoJ3NwYW4nKSArICcgLSAxKSAqICcgKyBleHByKCdndXR0ZXInKSArICcpJyk7XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdHlsZXMgYXBwbGllZCB0byBhIHRpbGUgZWxlbWVudCBkZXNjcmliZWQgYnkgdGhlIGdpdmVuIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHt7cm93OiBudW1iZXIsIGNvbDogbnVtYmVyfX0gcG9zaXRpb24gVGhlIHJvdyBhbmQgY29sdW1uIGluZGljZXMgb2YgdGhlIHRpbGUuXG4gICAgICogQHBhcmFtIHt7cm93OiBudW1iZXIsIGNvbDogbnVtYmVyfX0gc3BhbnMgVGhlIHJvd1NwYW4gYW5kIGNvbFNwYW4gb2YgdGhlIHRpbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbENvdW50IFRoZSBudW1iZXIgb2YgY29sdW1ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93Q291bnQgVGhlIG51bWJlciBvZiByb3dzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBndXR0ZXIgVGhlIGFtb3VudCBvZiBzcGFjZSBiZXR3ZWVuIHRpbGVzLiBUaGlzIHdpbGwgYmUgc29tZXRoaW5nIGxpa2VcbiAgICAgKiAgICAgJzVweCcgb3IgJzJlbScuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJvd01vZGUgVGhlIHJvdyBoZWlnaHQgbW9kZS4gQ2FuIGJlIG9uZSBvZjpcbiAgICAgKiAgICAgJ2ZpeGVkJzogYWxsIHJvd3MgaGF2ZSBhIGZpeGVkIHNpemUsIGdpdmVuIGJ5IHJvd0hlaWdodCxcbiAgICAgKiAgICAgJ3JhdGlvJzogcm93IGhlaWdodCBkZWZpbmVkIGFzIGEgcmF0aW8gdG8gd2lkdGgsIG9yXG4gICAgICogICAgICdmaXQnOiBmaXQgdG8gdGhlIGdyaWQtbGlzdCBlbGVtZW50IGhlaWdodCwgZGl2aW5kaW5nIGV2ZW5seSBhbW9uZyByb3dzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gcm93SGVpZ2h0IFRoZSBoZWlnaHQgb2YgYSByb3cuIFRoaXMgaXMgb25seSB1c2VkIGZvciAnZml4ZWQnIG1vZGUgYW5kXG4gICAgICogICAgIGZvciAncmF0aW8nIG1vZGUuIEZvciAncmF0aW8nIG1vZGUsIHRoaXMgaXMgdGhlICpyYXRpbyogb2Ygd2lkdGgtdG8taGVpZ2h0IChlLmcuLCAwLjc1KS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBNYXAgb2YgQ1NTIHByb3BlcnRpZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgc3R5bGUgZWxlbWVudC4gV2lsbCBkZWZpbmVcbiAgICAgKiAgICAgdmFsdWVzIGZvciB0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsIG1hcmdpblRvcCwgYW5kIHBhZGRpbmdUb3AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VGlsZVN0eWxlKHBvc2l0aW9uLCBzcGFucywgY29sQ291bnQsIHJvd0NvdW50LCBndXR0ZXIsIHJvd01vZGUsIHJvd0hlaWdodCkge1xuICAgICAgLy8gVE9ETyhzaHluZG1hbik6IFRoZXJlIGFyZSBzdHlsZSBjYWNoaW5nIG9wcG9ydHVuaXRpZXMgaGVyZS5cblxuICAgICAgLy8gUGVyY2VudCBvZiB0aGUgYXZhaWxhYmxlIGhvcml6b250YWwgc3BhY2UgdGhhdCBvbmUgY29sdW1uIHRha2VzIHVwLlxuICAgICAgdmFyIGhTaGFyZSA9ICgxIC8gY29sQ291bnQpICogMTAwO1xuXG4gICAgICAvLyBGcmFjdGlvbiBvZiB0aGUgZ3V0dGVyIHNpemUgdGhhdCBlYWNoIGNvbHVtbiB0YWtlcyB1cC5cbiAgICAgIHZhciBoR3V0dGVyU2hhcmUgPSAoY29sQ291bnQgLSAxKSAvIGNvbENvdW50O1xuXG4gICAgICAvLyBCYXNlIGhvcml6b250YWwgc2l6ZSBvZiBhIGNvbHVtbi5cbiAgICAgIHZhciBoVW5pdCA9IFVOSVQoe3NoYXJlOiBoU2hhcmUsIGd1dHRlclNoYXJlOiBoR3V0dGVyU2hhcmUsIGd1dHRlcjogZ3V0dGVyfSk7XG5cbiAgICAgIC8vIFRoZSB3aWR0aCBhbmQgaG9yaXpvbnRhbCBwb3NpdGlvbiBvZiBlYWNoIHRpbGUgaXMgYWx3YXlzIGNhbGN1bGF0ZWQgdGhlIHNhbWUgd2F5LCBidXQgdGhlXG4gICAgICAvLyBoZWlnaHQgYW5kIHZlcnRpY2FsIHBvc2l0aW9uIGRlcGVuZHMgb24gdGhlIHJvd01vZGUuXG4gICAgICB2YXIgc3R5bGUgPSB7XG4gICAgICAgIGxlZnQ6IFBPU0lUSU9OKHsgdW5pdDogaFVuaXQsIG9mZnNldDogcG9zaXRpb24uY29sLCBndXR0ZXI6IGd1dHRlciB9KSxcbiAgICAgICAgd2lkdGg6IERJTUVOU0lPTih7IHVuaXQ6IGhVbml0LCBzcGFuOiBzcGFucy5jb2wsIGd1dHRlcjogZ3V0dGVyIH0pLFxuICAgICAgICAvLyByZXNldHNcbiAgICAgICAgcGFkZGluZ1RvcDogJycsXG4gICAgICAgIG1hcmdpblRvcDogJycsXG4gICAgICAgIHRvcDogJycsXG4gICAgICAgIGhlaWdodDogJydcbiAgICAgIH07XG5cbiAgICAgIHN3aXRjaCAocm93TW9kZSkge1xuICAgICAgICBjYXNlICdmaXhlZCc6XG4gICAgICAgICAgLy8gSW4gZml4ZWQgbW9kZSwgc2ltcGx5IHVzZSB0aGUgZ2l2ZW4gcm93SGVpZ2h0LlxuICAgICAgICAgIHN0eWxlLnRvcCA9IFBPU0lUSU9OKHsgdW5pdDogcm93SGVpZ2h0LCBvZmZzZXQ6IHBvc2l0aW9uLnJvdywgZ3V0dGVyOiBndXR0ZXIgfSk7XG4gICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gRElNRU5TSU9OKHsgdW5pdDogcm93SGVpZ2h0LCBzcGFuOiBzcGFucy5yb3csIGd1dHRlcjogZ3V0dGVyIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JhdGlvJzpcbiAgICAgICAgICAvLyBQZXJjZW50IG9mIHRoZSBhdmFpbGFibGUgdmVydGljYWwgc3BhY2UgdGhhdCBvbmUgcm93IHRha2VzIHVwLiBIZXJlLCByb3dIZWlnaHQgaG9sZHNcbiAgICAgICAgICAvLyB0aGUgcmF0aW8gdmFsdWUuIEZvciBleGFtcGxlLCBpZiB0aGUgd2lkdGg6aGVpZ2h0IHJhdGlvIGlzIDQ6Mywgcm93SGVpZ2h0ID0gMS4zMzMuXG4gICAgICAgICAgdmFyIHZTaGFyZSA9IGhTaGFyZSAvIHJvd0hlaWdodDtcblxuICAgICAgICAgIC8vIEJhc2UgdmVyaXRjYWwgc2l6ZSBvZiBhIHJvdy5cbiAgICAgICAgICB2YXIgdlVuaXQgPSBVTklUKHsgc2hhcmU6IHZTaGFyZSwgZ3V0dGVyU2hhcmU6IGhHdXR0ZXJTaGFyZSwgZ3V0dGVyOiBndXR0ZXIgfSk7XG5cbiAgICAgICAgICAvLyBwYWRpZG5nVG9wIGFuZCBtYXJnaW5Ub3AgYXJlIHVzZWQgdG8gbWFpbnRhaW4gdGhlIGdpdmVuIGFzcGVjdCByYXRpbywgYXNcbiAgICAgICAgICAvLyBhIHBlcmNlbnRhZ2UtYmFzZWQgdmFsdWUgZm9yIHRoZXNlIHByb3BlcnRpZXMgaXMgYXBwbGllZCB0byB0aGUgKndpZHRoKiBvZiB0aGVcbiAgICAgICAgICAvLyBjb250YWluaW5nIGJsb2NrLiBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMi9ib3guaHRtbCNtYXJnaW4tcHJvcGVydGllc1xuICAgICAgICAgIHN0eWxlLnBhZGRpbmdUb3AgPSBESU1FTlNJT04oeyB1bml0OiB2VW5pdCwgc3Bhbjogc3BhbnMucm93LCBndXR0ZXI6IGd1dHRlcn0pO1xuICAgICAgICAgIHN0eWxlLm1hcmdpblRvcCA9IFBPU0lUSU9OKHsgdW5pdDogdlVuaXQsIG9mZnNldDogcG9zaXRpb24ucm93LCBndXR0ZXI6IGd1dHRlciB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmaXQnOlxuICAgICAgICAgIC8vIEZyYWN0aW9uIG9mIHRoZSBndXR0ZXIgc2l6ZSB0aGF0IGVhY2ggY29sdW1uIHRha2VzIHVwLlxuICAgICAgICAgIHZhciB2R3V0dGVyU2hhcmUgPSAocm93Q291bnQgLSAxKSAvIHJvd0NvdW50O1xuXG4gICAgICAgICAgLy8gUGVyY2VudCBvZiB0aGUgYXZhaWxhYmxlIHZlcnRpY2FsIHNwYWNlIHRoYXQgb25lIHJvdyB0YWtlcyB1cC5cbiAgICAgICAgICB2YXIgdlNoYXJlID0gKDEgLyByb3dDb3VudCkgKiAxMDA7XG5cbiAgICAgICAgICAvLyBCYXNlIHZlcnRpY2FsIHNpemUgb2YgYSByb3cuXG4gICAgICAgICAgdmFyIHZVbml0ID0gVU5JVCh7c2hhcmU6IHZTaGFyZSwgZ3V0dGVyU2hhcmU6IHZHdXR0ZXJTaGFyZSwgZ3V0dGVyOiBndXR0ZXJ9KTtcblxuICAgICAgICAgIHN0eWxlLnRvcCA9IFBPU0lUSU9OKHt1bml0OiB2VW5pdCwgb2Zmc2V0OiBwb3NpdGlvbi5yb3csIGd1dHRlcjogZ3V0dGVyfSk7XG4gICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gRElNRU5TSU9OKHt1bml0OiB2VW5pdCwgc3Bhbjogc3BhbnMucm93LCBndXR0ZXI6IGd1dHRlcn0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0R3JpZFN0eWxlKGNvbENvdW50LCByb3dDb3VudCwgZ3V0dGVyLCByb3dNb2RlLCByb3dIZWlnaHQpIHtcbiAgICAgIHZhciBzdHlsZSA9IHt9O1xuXG4gICAgICBzd2l0Y2gocm93TW9kZSkge1xuICAgICAgICBjYXNlICdmaXhlZCc6XG4gICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gRElNRU5TSU9OKHsgdW5pdDogcm93SGVpZ2h0LCBzcGFuOiByb3dDb3VudCwgZ3V0dGVyOiBndXR0ZXIgfSk7XG4gICAgICAgICAgc3R5bGUucGFkZGluZ0JvdHRvbSA9ICcnO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JhdGlvJzpcbiAgICAgICAgICAvLyByb3dIZWlnaHQgaXMgd2lkdGggLyBoZWlnaHRcbiAgICAgICAgICB2YXIgaEd1dHRlclNoYXJlID0gY29sQ291bnQgPT09IDEgPyAwIDogKGNvbENvdW50IC0gMSkgLyBjb2xDb3VudCxcbiAgICAgICAgICAgICAgaFNoYXJlID0gKDEgLyBjb2xDb3VudCkgKiAxMDAsXG4gICAgICAgICAgICAgIHZTaGFyZSA9IGhTaGFyZSAqICgxIC8gcm93SGVpZ2h0KSxcbiAgICAgICAgICAgICAgdlVuaXQgPSBVTklUKHsgc2hhcmU6IHZTaGFyZSwgZ3V0dGVyU2hhcmU6IGhHdXR0ZXJTaGFyZSwgZ3V0dGVyOiBndXR0ZXIgfSk7XG5cbiAgICAgICAgICBzdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gRElNRU5TSU9OKHsgdW5pdDogdlVuaXQsIHNwYW46IHJvd0NvdW50LCBndXR0ZXI6IGd1dHRlcn0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2ZpdCc6XG4gICAgICAgICAgLy8gbm9vcCwgYXMgdGhlIGhlaWdodCBpcyB1c2VyIHNldFxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VGlsZUVsZW1lbnRzKCkge1xuICAgICAgcmV0dXJuIFtdLmZpbHRlci5jYWxsKGVsZW1lbnQuY2hpbGRyZW4oKSwgZnVuY3Rpb24oZWxlKSB7XG4gICAgICAgIHJldHVybiBlbGUudGFnTmFtZSA9PSAnTUQtR1JJRC1USUxFJyAmJiAhZWxlLiQkbWREZXN0cm95ZWQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuIGFycmF5IG9mIG9iamVjdHMgY29udGFpbmluZyB0aGUgcm93c3BhbiBhbmQgY29sc3BhbiBmb3IgZWFjaCB0aWxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheTx7cm93OiBudW1iZXIsIGNvbDogbnVtYmVyfT59XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VGlsZVNwYW5zKHRpbGVFbGVtZW50cykge1xuICAgICAgcmV0dXJuIFtdLm1hcC5jYWxsKHRpbGVFbGVtZW50cywgZnVuY3Rpb24oZWxlKSB7XG4gICAgICAgIHZhciBjdHJsID0gYW5ndWxhci5lbGVtZW50KGVsZSkuY29udHJvbGxlcignbWRHcmlkVGlsZScpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvdzogcGFyc2VJbnQoXG4gICAgICAgICAgICAgICRtZE1lZGlhLmdldFJlc3BvbnNpdmVBdHRyaWJ1dGUoY3RybC4kYXR0cnMsICdtZC1yb3dzcGFuJyksIDEwKSB8fCAxLFxuICAgICAgICAgIGNvbDogcGFyc2VJbnQoXG4gICAgICAgICAgICAgICRtZE1lZGlhLmdldFJlc3BvbnNpdmVBdHRyaWJ1dGUoY3RybC4kYXR0cnMsICdtZC1jb2xzcGFuJyksIDEwKSB8fCAxXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDb2x1bW5Db3VudCgpIHtcbiAgICAgIHZhciBjb2xDb3VudCA9IHBhcnNlSW50KCRtZE1lZGlhLmdldFJlc3BvbnNpdmVBdHRyaWJ1dGUoYXR0cnMsICdtZC1jb2xzJyksIDEwKTtcbiAgICAgIGlmIChpc05hTihjb2xDb3VudCkpIHtcbiAgICAgICAgdGhyb3cgJ21kLWdyaWQtbGlzdDogbWQtY29scyBhdHRyaWJ1dGUgd2FzIG5vdCBmb3VuZCwgb3IgY29udGFpbmVkIGEgbm9uLW51bWVyaWMgdmFsdWUnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbENvdW50O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEd1dHRlcigpIHtcbiAgICAgIHJldHVybiBhcHBseURlZmF1bHRVbml0KCRtZE1lZGlhLmdldFJlc3BvbnNpdmVBdHRyaWJ1dGUoYXR0cnMsICdtZC1ndXR0ZXInKSB8fCAxKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRSb3dIZWlnaHQoKSB7XG4gICAgICB2YXIgcm93SGVpZ2h0ID0gJG1kTWVkaWEuZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZShhdHRycywgJ21kLXJvdy1oZWlnaHQnKTtcbiAgICAgIHN3aXRjaCAoZ2V0Um93TW9kZSgpKSB7XG4gICAgICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgICAgICByZXR1cm4gYXBwbHlEZWZhdWx0VW5pdChyb3dIZWlnaHQpO1xuICAgICAgICBjYXNlICdyYXRpbyc6XG4gICAgICAgICAgdmFyIHdoUmF0aW8gPSByb3dIZWlnaHQuc3BsaXQoJzonKTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh3aFJhdGlvWzBdKSAvIHBhcnNlRmxvYXQod2hSYXRpb1sxXSk7XG4gICAgICAgIGNhc2UgJ2ZpdCc6XG4gICAgICAgICAgcmV0dXJuIDA7IC8vIE4vQVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFJvd01vZGUoKSB7XG4gICAgICB2YXIgcm93SGVpZ2h0ID0gJG1kTWVkaWEuZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZShhdHRycywgJ21kLXJvdy1oZWlnaHQnKTtcbiAgICAgIGlmIChyb3dIZWlnaHQgPT0gJ2ZpdCcpIHtcbiAgICAgICAgcmV0dXJuICdmaXQnO1xuICAgICAgfSBlbHNlIGlmIChyb3dIZWlnaHQuaW5kZXhPZignOicpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gJ3JhdGlvJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnZml4ZWQnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFwcGx5RGVmYXVsdFVuaXQodmFsKSB7XG4gICAgICByZXR1cm4gL1xcRCQvLnRlc3QodmFsKSA/IHZhbCA6IHZhbCArICdweCc7XG4gICAgfVxuICB9XG59XG5HcmlkTGlzdERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJGludGVycG9sYXRlXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRHcmlkTGF5b3V0XCIsIFwiJG1kTWVkaWFcIl07XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gR3JpZExpc3RDb250cm9sbGVyKCRtZFV0aWwpIHtcbiAgdGhpcy5sYXlvdXRJbnZhbGlkYXRlZCA9IGZhbHNlO1xuICB0aGlzLnRpbGVzSW52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgdGhpcy4kdGltZW91dF8gPSAkbWRVdGlsLm5leHRUaWNrO1xuICB0aGlzLmxheW91dERlbGVnYXRlID0gYW5ndWxhci5ub29wO1xufVxuR3JpZExpc3RDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkbWRVdGlsXCJdO1xuXG5HcmlkTGlzdENvbnRyb2xsZXIucHJvdG90eXBlID0ge1xuICBpbnZhbGlkYXRlVGlsZXM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGlsZXNJbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdGhpcy5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gIH0sXG5cbiAgaW52YWxpZGF0ZUxheW91dDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMubGF5b3V0SW52YWxpZGF0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5sYXlvdXRJbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdGhpcy4kdGltZW91dF8oYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMubGF5b3V0KSk7XG4gIH0sXG5cbiAgbGF5b3V0OiBmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5sYXlvdXREZWxlZ2F0ZSh0aGlzLnRpbGVzSW52YWxpZGF0ZWQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLmxheW91dEludmFsaWRhdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnRpbGVzSW52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBHcmlkTGF5b3V0RmFjdG9yeSgkbWRVdGlsKSB7XG4gIHZhciBkZWZhdWx0QW5pbWF0b3IgPSBHcmlkVGlsZUFuaW1hdG9yO1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJlZmxvdyBhbmltYXRvciBjYWxsYmFja1xuICAgKi9cbiAgR3JpZExheW91dC5hbmltYXRlV2l0aCA9IGZ1bmN0aW9uKGN1c3RvbUFuaW1hdG9yKSB7XG4gICAgZGVmYXVsdEFuaW1hdG9yID0gIWFuZ3VsYXIuaXNGdW5jdGlvbihjdXN0b21BbmltYXRvcikgPyBHcmlkVGlsZUFuaW1hdG9yIDogY3VzdG9tQW5pbWF0b3I7XG4gIH07XG5cbiAgcmV0dXJuIEdyaWRMYXlvdXQ7XG5cbiAgLyoqXG4gICAqIFB1Ymxpc2ggbGF5b3V0IGZ1bmN0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBHcmlkTGF5b3V0KGNvbENvdW50LCB0aWxlU3BhbnMpIHtcbiAgICAgIHZhciBzZWxmLCBsYXlvdXRJbmZvLCBncmlkU3R5bGVzLCBsYXlvdXRUaW1lLCBtYXBUaW1lLCByZWZsb3dUaW1lO1xuXG4gICAgICBsYXlvdXRUaW1lID0gJG1kVXRpbC50aW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICBsYXlvdXRJbmZvID0gY2FsY3VsYXRlR3JpZEZvcihjb2xDb3VudCwgdGlsZVNwYW5zKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZiA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2Ygb2JqZWN0cyBkZXNjcmliaW5nIGVhY2ggdGlsZSdzIHBvc2l0aW9uIGluIHRoZSBncmlkLlxuICAgICAgICAgKi9cbiAgICAgICAgbGF5b3V0SW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGxheW91dEluZm87XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcHMgZ3JpZCBwb3NpdGlvbmluZyB0byBhbiBlbGVtZW50IGFuZCBhIHNldCBvZiBzdHlsZXMgdXNpbmcgdGhlXG4gICAgICAgICAqIHByb3ZpZGVkIHVwZGF0ZUZuLlxuICAgICAgICAgKi9cbiAgICAgICAgbWFwOiBmdW5jdGlvbih1cGRhdGVGbikge1xuICAgICAgICAgIG1hcFRpbWUgPSAkbWRVdGlsLnRpbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5mbyA9IHNlbGYubGF5b3V0SW5mbygpO1xuICAgICAgICAgICAgZ3JpZFN0eWxlcyA9IHVwZGF0ZUZuKGluZm8ucG9zaXRpb25pbmcsIGluZm8ucm93Q291bnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IGFuaW1hdG9yIHNpbXBseSBzZXRzIHRoZSBlbGVtZW50LmNzcyggPHN0eWxlcz4gKS4gQW4gYWx0ZXJuYXRlXG4gICAgICAgICAqIGFuaW1hdG9yIGNhbiBiZSBwcm92aWRlZCBhcyBhbiBhcmd1bWVudC4gVGhlIGZ1bmN0aW9uIGhhcyB0aGUgZm9sbG93aW5nXG4gICAgICAgICAqIHNpZ25hdHVyZTpcbiAgICAgICAgICpcbiAgICAgICAgICogICAgZnVuY3Rpb24oe2dyaWQ6IHtlbGVtZW50OiBKUUxpdGUsIHN0eWxlOiBPYmplY3R9LCB0aWxlczogQXJyYXk8e2VsZW1lbnQ6IEpRTGl0ZSwgc3R5bGU6IE9iamVjdH0+KVxuICAgICAgICAgKi9cbiAgICAgICAgcmVmbG93OiBmdW5jdGlvbihhbmltYXRvckZuKSB7XG4gICAgICAgICAgcmVmbG93VGltZSA9ICRtZFV0aWwudGltZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBhbmltYXRvciA9IGFuaW1hdG9yRm4gfHwgZGVmYXVsdEFuaW1hdG9yO1xuICAgICAgICAgICAgYW5pbWF0b3IoZ3JpZFN0eWxlcy5ncmlkLCBncmlkU3R5bGVzLnRpbGVzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGltaW5nIGZvciB0aGUgbW9zdCByZWNlbnQgbGF5b3V0IHJ1bi5cbiAgICAgICAgICovXG4gICAgICAgIHBlcmZvcm1hbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGlsZUNvdW50OiB0aWxlU3BhbnMubGVuZ3RoLFxuICAgICAgICAgICAgbGF5b3V0VGltZTogbGF5b3V0VGltZSxcbiAgICAgICAgICAgIG1hcFRpbWU6IG1hcFRpbWUsXG4gICAgICAgICAgICByZWZsb3dUaW1lOiByZWZsb3dUaW1lLFxuICAgICAgICAgICAgdG90YWxUaW1lOiBsYXlvdXRUaW1lICsgbWFwVGltZSArIHJlZmxvd1RpbWVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAvKipcbiAgICogRGVmYXVsdCBHcmlkbGlzdCBhbmltYXRvciBzaW1wbGUgc2V0cyB0aGUgY3NzIGZvciBlYWNoIGVsZW1lbnQ7XG4gICAqIE5PVEU6IGFueSB0cmFuc2l0aW9ucyBlZmZlY3RzIG11c3QgYmUgbWFudWFsbHkgc2V0IGluIHRoZSBDU1MuXG4gICAqIGUuZy5cbiAgICpcbiAgICogIG1kLWdyaWQtdGlsZSB7XG4gICAqICAgIHRyYW5zaXRpb246IGFsbCA3MDBtcyBlYXNlLW91dCA1MG1zO1xuICAgKiAgfVxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gR3JpZFRpbGVBbmltYXRvcihncmlkLCB0aWxlcykge1xuICAgIGdyaWQuZWxlbWVudC5jc3MoZ3JpZC5zdHlsZSk7XG4gICAgdGlsZXMuZm9yRWFjaChmdW5jdGlvbih0KSB7XG4gICAgICB0LmVsZW1lbnQuY3NzKHQuc3R5bGUpO1xuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgcG9zaXRpb25zIG9mIHRpbGVzLlxuICAgKlxuICAgKiBUaGUgYWxnb3JpdGhtIHdvcmtzIGFzIGZvbGxvd3M6XG4gICAqICAgIEFuIEFycmF5PE51bWJlcj4gd2l0aCBsZW5ndGggY29sQ291bnQgKHNwYWNlVHJhY2tlcikga2VlcHMgdHJhY2sgb2ZcbiAgICogICAgYXZhaWxhYmxlIHRpbGluZyBwb3NpdGlvbnMsIHdoZXJlIGVsZW1lbnRzIG9mIHZhbHVlIDAgcmVwcmVzZW50cyBhblxuICAgKiAgICBlbXB0eSBwb3NpdGlvbi4gU3BhY2UgZm9yIGEgdGlsZSBpcyByZXNlcnZlZCBieSBmaW5kaW5nIGEgc2VxdWVuY2Ugb2ZcbiAgICogICAgMHMgd2l0aCBsZW5ndGggPD0gdGhhbiB0aGUgdGlsZSdzIGNvbHNwYW4uIFdoZW4gc3VjaCBhIHNwYWNlIGhhcyBiZWVuXG4gICAqICAgIGZvdW5kLCB0aGUgb2NjdXBpZWQgdGlsZSBwb3NpdGlvbnMgYXJlIGluY3JlbWVudGVkIGJ5IHRoZSB0aWxlJ3NcbiAgICogICAgcm93c3BhbiB2YWx1ZSwgYXMgdGhlc2UgcG9zaXRpb25zIGhhdmUgYmVjb21lIHVuYXZhaWxhYmxlIGZvciB0aGF0XG4gICAqICAgIG1hbnkgcm93cy5cbiAgICpcbiAgICogICAgSWYgdGhlIGVuZCBvZiBhIHJvdyBoYXMgYmVlbiByZWFjaGVkIHdpdGhvdXQgZmluZGluZyBzcGFjZSBmb3IgdGhlXG4gICAqICAgIHRpbGUsIHNwYWNlVHJhY2tlcidzIGVsZW1lbnRzIGFyZSBlYWNoIGRlY3JlbWVudGVkIGJ5IDEgdG8gYSBtaW5pbXVtXG4gICAqICAgIG9mIDAuIFJvd3MgYXJlIHNlYXJjaGVkIGluIHRoaXMgZmFzaGlvbiB1bnRpbCBzcGFjZSBpcyBmb3VuZC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUdyaWRGb3IoY29sQ291bnQsIHRpbGVTcGFucykge1xuICAgIHZhciBjdXJDb2wgPSAwLFxuICAgICAgICBjdXJSb3cgPSAwLFxuICAgICAgICBzcGFjZVRyYWNrZXIgPSBuZXdTcGFjZVRyYWNrZXIoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBwb3NpdGlvbmluZzogdGlsZVNwYW5zLm1hcChmdW5jdGlvbihzcGFucywgaSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNwYW5zOiBzcGFucyxcbiAgICAgICAgICBwb3NpdGlvbjogcmVzZXJ2ZVNwYWNlKHNwYW5zLCBpKVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICByb3dDb3VudDogY3VyUm93ICsgTWF0aC5tYXguYXBwbHkoTWF0aCwgc3BhY2VUcmFja2VyKVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZXNlcnZlU3BhY2Uoc3BhbnMsIGkpIHtcbiAgICAgIGlmIChzcGFucy5jb2wgPiBjb2xDb3VudCkge1xuICAgICAgICB0aHJvdyAnbWQtZ3JpZC1saXN0OiBUaWxlIGF0IHBvc2l0aW9uICcgKyBpICsgJyBoYXMgYSBjb2xzcGFuICcgK1xuICAgICAgICAgICAgJygnICsgc3BhbnMuY29sICsgJykgdGhhdCBleGNlZWRzIHRoZSBjb2x1bW4gY291bnQgJyArXG4gICAgICAgICAgICAnKCcgKyBjb2xDb3VudCArICcpJztcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0ID0gMCxcbiAgICAgICAgICBlbmQgPSAwO1xuXG4gICAgICAvLyBUT0RPKHNoeW5kbWFuKTogVGhpcyBsb29wIGlzbid0IHN0cmljdGx5IG5lY2Vzc2FyeSBpZiB5b3UgY2FuXG4gICAgICAvLyBkZXRlcm1pbmUgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHJvd3MgYmVmb3JlIGEgc3BhY2Ugb3BlbnMgdXAuIFRvIGRvXG4gICAgICAvLyB0aGlzLCByZWNvZ25pemUgdGhhdCB5b3UndmUgaXRlcmF0ZWQgYWNyb3NzIGFuIGVudGlyZSByb3cgbG9va2luZyBmb3JcbiAgICAgIC8vIHNwYWNlLCBhbmQgaWYgc28gZmFzdC1mb3J3YXJkIGJ5IHRoZSBtaW5pbXVtIHJvd1NwYW4gY291bnQuIFJlcGVhdFxuICAgICAgLy8gdW50aWwgdGhlIHJlcXVpcmVkIHNwYWNlIG9wZW5zIHVwLlxuICAgICAgd2hpbGUgKGVuZCAtIHN0YXJ0IDwgc3BhbnMuY29sKSB7XG4gICAgICAgIGlmIChjdXJDb2wgPj0gY29sQ291bnQpIHtcbiAgICAgICAgICBuZXh0Um93KCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydCA9IHNwYWNlVHJhY2tlci5pbmRleE9mKDAsIGN1ckNvbCk7XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEgfHwgKGVuZCA9IGZpbmRFbmQoc3RhcnQgKyAxKSkgPT09IC0xKSB7XG4gICAgICAgICAgc3RhcnQgPSBlbmQgPSAwO1xuICAgICAgICAgIG5leHRSb3coKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1ckNvbCA9IGVuZCArIDE7XG4gICAgICB9XG5cbiAgICAgIGFkanVzdFJvdyhzdGFydCwgc3BhbnMuY29sLCBzcGFucy5yb3cpO1xuICAgICAgY3VyQ29sID0gc3RhcnQgKyBzcGFucy5jb2w7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbDogc3RhcnQsXG4gICAgICAgIHJvdzogY3VyUm93XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5leHRSb3coKSB7XG4gICAgICBjdXJDb2wgPSAwO1xuICAgICAgY3VyUm93Kys7XG4gICAgICBhZGp1c3RSb3coMCwgY29sQ291bnQsIC0xKTsgLy8gRGVjcmVtZW50IHJvdyBzcGFucyBieSBvbmVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGp1c3RSb3coZnJvbSwgY29scywgYnkpIHtcbiAgICAgIGZvciAodmFyIGkgPSBmcm9tOyBpIDwgZnJvbSArIGNvbHM7IGkrKykge1xuICAgICAgICBzcGFjZVRyYWNrZXJbaV0gPSBNYXRoLm1heChzcGFjZVRyYWNrZXJbaV0gKyBieSwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluZEVuZChzdGFydCkge1xuICAgICAgdmFyIGk7XG4gICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IHNwYWNlVHJhY2tlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3BhY2VUcmFja2VyW2ldICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGkgPT09IHNwYWNlVHJhY2tlci5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV3U3BhY2VUcmFja2VyKCkge1xuICAgICAgdmFyIHRyYWNrZXIgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sQ291bnQ7IGkrKykge1xuICAgICAgICB0cmFja2VyLnB1c2goMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhY2tlcjtcbiAgICB9XG4gIH1cbn1cbkdyaWRMYXlvdXRGYWN0b3J5LiRpbmplY3QgPSBbXCIkbWRVdGlsXCJdO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kR3JpZFRpbGVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5ncmlkTGlzdFxuICogQHJlc3RyaWN0IEVcbiAqIEBkZXNjcmlwdGlvblxuICogVGlsZXMgY29udGFpbiB0aGUgY29udGVudCBvZiBhbiBgbWQtZ3JpZC1saXN0YC4gVGhleSBzcGFuIG9uZSBvciBtb3JlIGdyaWRcbiAqIGNlbGxzIHZlcnRpY2FsbHkgb3IgaG9yaXpvbnRhbGx5LCBhbmQgdXNlIGBtZC1ncmlkLXRpbGUte2Zvb3RlcixoZWFkZXJ9YCB0b1xuICogZGlzcGxheSBzZWNvbmRhcnkgY29udGVudC5cbiAqXG4gKiAjIyMgUmVzcG9uc2l2ZSBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIGBtZC1ncmlkLXRpbGVgIGRpcmVjdGl2ZSBzdXBwb3J0cyBcInJlc3BvbnNpdmVcIiBhdHRyaWJ1dGVzLCB3aGljaCBhbGxvd1xuICogZGlmZmVyZW50IGBtZC1yb3dzcGFuYCBhbmQgYG1kLWNvbHNwYW5gIHZhbHVlcyBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnRseVxuICogbWF0Y2hpbmcgbWVkaWEgcXVlcnkgKGFzIGRlZmluZWQgaW4gYCRtZENvbnN0YW50Lk1FRElBYCkuXG4gKlxuICogSW4gb3JkZXIgdG8gc2V0IGEgcmVzcG9uc2l2ZSBhdHRyaWJ1dGUsIGZpcnN0IGRlZmluZSB0aGUgZmFsbGJhY2sgdmFsdWUgd2l0aFxuICogdGhlIHN0YW5kYXJkIGF0dHJpYnV0ZSBuYW1lLCB0aGVuIGFkZCBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMgd2l0aCB0aGVcbiAqIGZvbGxvd2luZyBjb252ZW50aW9uOiBge2Jhc2UtYXR0cmlidXRlLW5hbWV9LXttZWRpYS1xdWVyeS1uYW1lfT1cInt2YWx1ZX1cImBcbiAqIChpZS4gYG1kLWNvbHNwYW4tc209XCI0XCJgKVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtY29sc3BhbiBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgdG8gc3BhbiAoZGVmYXVsdCAxKS4gQ2Fubm90XG4gKiAgICBleGNlZWQgdGhlIG51bWJlciBvZiBjb2x1bW5zIGluIHRoZSBncmlkLiBTdXBwb3J0cyBpbnRlcnBvbGF0aW9uLlxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1yb3dzcGFuIFRoZSBudW1iZXIgb2Ygcm93cyB0byBzcGFuIChkZWZhdWx0IDEpLiBTdXBwb3J0c1xuICogICAgIGludGVycG9sYXRpb24uXG4gKlxuICogQHVzYWdlXG4gKiBXaXRoIGhlYWRlcjpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtZ3JpZC10aWxlPlxuICogICA8bWQtZ3JpZC10aWxlLWhlYWRlcj5cbiAqICAgICA8aDM+VGhpcyBpcyBhIGhlYWRlcjwvaDM+XG4gKiAgIDwvbWQtZ3JpZC10aWxlLWhlYWRlcj5cbiAqIDwvbWQtZ3JpZC10aWxlPlxuICogPC9obGpzPlxuICpcbiAqIFdpdGggZm9vdGVyOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLXRpbGU+XG4gKiAgIDxtZC1ncmlkLXRpbGUtZm9vdGVyPlxuICogICAgIDxoMz5UaGlzIGlzIGEgZm9vdGVyPC9oMz5cbiAqICAgPC9tZC1ncmlkLXRpbGUtZm9vdGVyPlxuICogPC9tZC1ncmlkLXRpbGU+XG4gKiA8L2hsanM+XG4gKlxuICogU3Bhbm5pbmcgbXVsdGlwbGUgcm93cy9jb2x1bW5zOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLXRpbGUgbWQtY29sc3Bhbj1cIjJcIiBtZC1yb3dzcGFuPVwiM1wiPlxuICogPC9tZC1ncmlkLXRpbGU+XG4gKiA8L2hsanM+XG4gKlxuICogUmVzcG9uc2l2ZSBhdHRyaWJ1dGVzOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLXRpbGUgbWQtY29sc3Bhbj1cIjFcIiBtZC1jb2xzcGFuLXNtPVwiM1wiIG1kLWNvbHNwYW4tbWQ9XCI1XCI+XG4gKiA8L21kLWdyaWQtdGlsZT5cbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gR3JpZFRpbGVEaXJlY3RpdmUoJG1kTWVkaWEpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6ICdebWRHcmlkTGlzdCcsXG4gICAgdGVtcGxhdGU6ICc8ZmlndXJlIG5nLXRyYW5zY2x1ZGU+PC9maWd1cmU+JyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHNjb3BlOiB7fSxcbiAgICAvLyBTaW1wbGUgY29udHJvbGxlciB0aGF0IGV4cG9zZXMgYXR0cmlidXRlcyB0byB0aGUgZ3JpZCBkaXJlY3RpdmVcbiAgICBjb250cm9sbGVyOiBbXCIkYXR0cnNcIiwgZnVuY3Rpb24oJGF0dHJzKSB7XG4gICAgICB0aGlzLiRhdHRycyA9ICRhdHRycztcbiAgICB9XSxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZ3JpZEN0cmwpIHtcbiAgICAvLyBBcHBseSBzZW1hbnRpY3NcbiAgICBlbGVtZW50LmF0dHIoJ3JvbGUnLCAnbGlzdGl0ZW0nKTtcblxuICAgIC8vIElmIG91ciBjb2xzcGFuIG9yIHJvd3NwYW4gY2hhbmdlcywgdHJpZ2dlciBhIGxheW91dFxuICAgIHZhciB1bndhdGNoQXR0cnMgPSAkbWRNZWRpYS53YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzKFsnbWQtY29sc3BhbicsICdtZC1yb3dzcGFuJ10sXG4gICAgICAgIGF0dHJzLCBhbmd1bGFyLmJpbmQoZ3JpZEN0cmwsIGdyaWRDdHJsLmludmFsaWRhdGVMYXlvdXQpKTtcblxuICAgIC8vIFRpbGUgcmVnaXN0cmF0aW9uL2RlcmVnaXN0cmF0aW9uXG4gICAgZ3JpZEN0cmwuaW52YWxpZGF0ZVRpbGVzKCk7XG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgLy8gTWFyayB0aGUgdGlsZSBhcyBkZXN0cm95ZWQgc28gaXQgaXMgbm8gbG9uZ2VyIGNvbnNpZGVyZWQgaW4gbGF5b3V0LFxuICAgICAgLy8gZXZlbiBpZiB0aGUgRE9NIGVsZW1lbnQgc3RpY2tzIGFyb3VuZCAobGlrZSBkdXJpbmcgYSBsZWF2ZSBhbmltYXRpb24pXG4gICAgICBlbGVtZW50WzBdLiQkbWREZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgdW53YXRjaEF0dHJzKCk7XG4gICAgICBncmlkQ3RybC5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gICAgfSk7XG5cbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc2NvcGUuJHBhcmVudC4kaW5kZXgpKSB7XG4gICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7IHJldHVybiBzY29wZS4kcGFyZW50LiRpbmRleDsgfSxcbiAgICAgICAgZnVuY3Rpb24gaW5kZXhDaGFuZ2VkKG5ld0lkeCwgb2xkSWR4KSB7XG4gICAgICAgICAgaWYgKG5ld0lkeCA9PT0gb2xkSWR4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGdyaWRDdHJsLmludmFsaWRhdGVUaWxlcygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbkdyaWRUaWxlRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRNZWRpYVwiXTtcblxuXG5mdW5jdGlvbiBHcmlkVGlsZUNhcHRpb25EaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgdGVtcGxhdGU6ICc8ZmlnY2FwdGlvbiBuZy10cmFuc2NsdWRlPjwvZmlnY2FwdGlvbj4nLFxuICAgIHRyYW5zY2x1ZGU6IHRydWVcbiAgfTtcbn1cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5pY29uXG4gKiBAZGVzY3JpcHRpb25cbiAqIEljb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuaWNvbicsIFtcbiAgICAnbWF0ZXJpYWwuY29yZSdcbiAgXSk7XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuaW5wdXRcbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dCcsIFtcbiAgICAnbWF0ZXJpYWwuY29yZSdcbiAgXSlcbiAgLmRpcmVjdGl2ZSgnbWRJbnB1dENvbnRhaW5lcicsIG1kSW5wdXRDb250YWluZXJEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ2xhYmVsJywgbGFiZWxEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ2lucHV0JywgaW5wdXRUZXh0YXJlYURpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgndGV4dGFyZWEnLCBpbnB1dFRleHRhcmVhRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdtZE1heGxlbmd0aCcsIG1kTWF4bGVuZ3RoRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdwbGFjZWhvbGRlcicsIHBsYWNlaG9sZGVyRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCduZ01lc3NhZ2VzJywgbmdNZXNzYWdlc0RpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbmdNZXNzYWdlJywgbmdNZXNzYWdlRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCduZ01lc3NhZ2VFeHAnLCBuZ01lc3NhZ2VEaXJlY3RpdmUpXG5cbiAgLmFuaW1hdGlvbignLm1kLWlucHV0LWludmFsaWQnLCBtZElucHV0SW52YWxpZE1lc3NhZ2VzQW5pbWF0aW9uKVxuICAuYW5pbWF0aW9uKCcubWQtaW5wdXQtbWVzc2FnZXMtYW5pbWF0aW9uJywgbmdNZXNzYWdlc0FuaW1hdGlvbilcbiAgLmFuaW1hdGlvbignLm1kLWlucHV0LW1lc3NhZ2UtYW5pbWF0aW9uJywgbmdNZXNzYWdlQW5pbWF0aW9uKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZElucHV0Q29udGFpbmVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuaW5wdXRcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYDxtZC1pbnB1dC1jb250YWluZXI+YCBpcyB0aGUgcGFyZW50IG9mIGFueSBpbnB1dCBvciB0ZXh0YXJlYSBlbGVtZW50LlxuICpcbiAqIElucHV0IGFuZCB0ZXh0YXJlYSBlbGVtZW50cyB3aWxsIG5vdCBiZWhhdmUgcHJvcGVybHkgdW5sZXNzIHRoZSBtZC1pbnB1dC1jb250YWluZXJcbiAqIHBhcmVudCBpcyBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0gbWQtaXMtZXJyb3Ige2V4cHJlc3Npb249fSBXaGVuIHRoZSBnaXZlbiBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLCB0aGUgaW5wdXQgY29udGFpbmVyXG4gKiAgIHdpbGwgZ28gaW50byBlcnJvciBzdGF0ZS4gRGVmYXVsdHMgdG8gZXJyb3JpbmcgaWYgdGhlIGlucHV0IGhhcyBiZWVuIHRvdWNoZWQgYW5kIGlzIGludmFsaWQuXG4gKiBAcGFyYW0gbWQtbm8tZmxvYXQge2Jvb2xlYW49fSBXaGVuIHByZXNlbnQsIHBsYWNlaG9sZGVycyB3aWxsIG5vdCBiZSBjb252ZXJ0ZWQgdG8gZmxvYXRpbmdcbiAqICAgbGFiZWxzLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqXG4gKiA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICA8bGFiZWw+VXNlcm5hbWU8L2xhYmVsPlxuICogICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIubmFtZVwiPlxuICogPC9tZC1pbnB1dC1jb250YWluZXI+XG4gKlxuICogPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgPGxhYmVsPkRlc2NyaXB0aW9uPC9sYWJlbD5cbiAqICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidXNlci5kZXNjcmlwdGlvblwiPjwvdGV4dGFyZWE+XG4gKiA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqXG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIG1kSW5wdXRDb250YWluZXJEaXJlY3RpdmUoJG1kVGhlbWluZywgJHBhcnNlKSB7XG4gIENvbnRhaW5lckN0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJGF0dHJzXCIsIFwiJGFuaW1hdGVcIl07XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBsaW5rOiBwb3N0TGluayxcbiAgICBjb250cm9sbGVyOiBDb250YWluZXJDdHJsXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgIGlmIChlbGVtZW50LmZpbmQoJ21kLWljb24nKS5sZW5ndGgpIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWhhcy1pY29uJyk7XG4gIH1cblxuICBmdW5jdGlvbiBDb250YWluZXJDdHJsKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJGFuaW1hdGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLmlzRXJyb3JHZXR0ZXIgPSAkYXR0cnMubWRJc0Vycm9yICYmICRwYXJzZSgkYXR0cnMubWRJc0Vycm9yKTtcblxuICAgIHNlbGYuZGVsZWdhdGVDbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5pbnB1dC5mb2N1cygpO1xuICAgIH07XG4gICAgc2VsZi5lbGVtZW50ID0gJGVsZW1lbnQ7XG4gICAgc2VsZi5zZXRGb2N1c2VkID0gZnVuY3Rpb24oaXNGb2N1c2VkKSB7XG4gICAgICAkZWxlbWVudC50b2dnbGVDbGFzcygnbWQtaW5wdXQtZm9jdXNlZCcsICEhaXNGb2N1c2VkKTtcbiAgICB9O1xuICAgIHNlbGYuc2V0SGFzVmFsdWUgPSBmdW5jdGlvbihoYXNWYWx1ZSkge1xuICAgICAgJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWlucHV0LWhhcy12YWx1ZScsICEhaGFzVmFsdWUpO1xuICAgIH07XG4gICAgc2VsZi5zZXRIYXNQbGFjZWhvbGRlciA9IGZ1bmN0aW9uKGhhc1BsYWNlaG9sZGVyKSB7XG4gICAgICAkZWxlbWVudC50b2dnbGVDbGFzcygnbWQtaW5wdXQtaGFzLXBsYWNlaG9sZGVyJywgISFoYXNQbGFjZWhvbGRlcik7XG4gICAgfTtcbiAgICBzZWxmLnNldEludmFsaWQgPSBmdW5jdGlvbihpc0ludmFsaWQpIHtcbiAgICAgIGlmIChpc0ludmFsaWQpIHtcbiAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsICdtZC1pbnB1dC1pbnZhbGlkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgJ21kLWlucHV0LWludmFsaWQnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2VsZi5sYWJlbCAmJiBzZWxmLmlucHV0O1xuICAgIH0sIGZ1bmN0aW9uKGhhc0xhYmVsQW5kSW5wdXQpIHtcbiAgICAgIGlmIChoYXNMYWJlbEFuZElucHV0ICYmICFzZWxmLmxhYmVsLmF0dHIoJ2ZvcicpKSB7XG4gICAgICAgIHNlbGYubGFiZWwuYXR0cignZm9yJywgc2VsZi5pbnB1dC5hdHRyKCdpZCcpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxubWRJbnB1dENvbnRhaW5lckRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiLCBcIiRwYXJzZVwiXTtcblxuZnVuY3Rpb24gbGFiZWxEaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiAnXj9tZElucHV0Q29udGFpbmVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udGFpbmVyQ3RybCkge1xuICAgICAgaWYgKCFjb250YWluZXJDdHJsIHx8IGF0dHIubWROb0Zsb2F0IHx8IGVsZW1lbnQuaGFzQ2xhc3MoJ21kLWNvbnRhaW5lci1pZ25vcmUnKSkgcmV0dXJuO1xuXG4gICAgICBjb250YWluZXJDdHJsLmxhYmVsID0gZWxlbWVudDtcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY29udGFpbmVyQ3RybC5sYWJlbCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRJbnB1dFxuICogQHJlc3RyaWN0IEVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogWW91IGNhbiB1c2UgYW55IGA8aW5wdXQ+YCBvciBgPHRleHRhcmVhPmAgZWxlbWVudCBhcyBhIGNoaWxkIG9mIGFuIGA8bWQtaW5wdXQtY29udGFpbmVyPmAuIFRoaXNcbiAqIGFsbG93cyB5b3UgdG8gYnVpbGQgY29tcGxleCBmb3JtcyBmb3IgZGF0YSBlbnRyeS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLW1heGxlbmd0aCBUaGUgbWF4aW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyBhbGxvd2VkIGluIHRoaXMgaW5wdXQuIElmIHRoaXMgaXNcbiAqICAgc3BlY2lmaWVkLCBhIGNoYXJhY3RlciBjb3VudGVyIHdpbGwgYmUgc2hvd24gdW5kZXJuZWF0aCB0aGUgaW5wdXQuPGJyLz48YnIvPlxuICogICBUaGUgcHVycG9zZSBvZiAqKmBtZC1tYXhsZW5ndGhgKiogaXMgZXhhY3RseSB0byBzaG93IHRoZSBtYXggbGVuZ3RoIGNvdW50ZXIgdGV4dC4gSWYgeW91IGRvbid0XG4gKiAgIHdhbnQgdGhlIGNvdW50ZXIgdGV4dCBhbmQgb25seSBuZWVkIFwicGxhaW5cIiB2YWxpZGF0aW9uLCB5b3UgY2FuIHVzZSB0aGUgXCJzaW1wbGVcIiBgbmctbWF4bGVuZ3RoYFxuICogICBvciBtYXhsZW5ndGggYXR0cmlidXRlcy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXJpYS1sYWJlbCBBcmlhLWxhYmVsIGlzIHJlcXVpcmVkIHdoZW4gbm8gbGFiZWwgaXMgcHJlc2VudC4gIEEgd2FybmluZyBtZXNzYWdlXG4gKiAgIHdpbGwgYmUgbG9nZ2VkIGluIHRoZSBjb25zb2xlIGlmIG5vdCBwcmVzZW50LlxuICogQHBhcmFtIHtzdHJpbmc9fSBwbGFjZWhvbGRlciBBbiBhbHRlcm5hdGl2ZSBhcHByb2FjaCB0byB1c2luZyBhcmlhLWxhYmVsIHdoZW4gdGhlIGxhYmVsIGlzIG5vdFxuICogICBQUkVTRU5ULiBUaGUgcGxhY2Vob2xkZXIgdGV4dCBpcyBjb3BpZWQgdG8gdGhlIGFyaWEtbGFiZWwgYXR0cmlidXRlLlxuICogQHBhcmFtIG1kLW5vLWF1dG9ncm93IHtib29sZWFuPX0gV2hlbiBwcmVzZW50LCB0ZXh0YXJlYXMgd2lsbCBub3QgZ3JvdyBhdXRvbWF0aWNhbGx5LlxuICogQHBhcmFtIG1kLWRldGVjdC1oaWRkZW4ge2Jvb2xlYW49fSBXaGVuIHByZXNlbnQsIHRleHRhcmVhcyB3aWxsIGJlIHNpemVkIHByb3Blcmx5IHdoZW4gdGhleSBhcmVcbiAqICAgcmV2ZWFsZWQgYWZ0ZXIgYmVpbmcgaGlkZGVuLiBUaGlzIGlzIG9mZiBieSBkZWZhdWx0IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIGJlY2F1c2UgaXRcbiAqICAgZ3VhcmFudGVlcyBhIHJlZmxvdyBldmVyeSBkaWdlc3QgY3ljbGUuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgPGxhYmVsPkNvbG9yPC9sYWJlbD5cbiAqICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJjb2xvclwiIHJlcXVpcmVkIG1kLW1heGxlbmd0aD1cIjEwXCI+XG4gKiA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqIDwvaGxqcz5cbiAqXG4gKiA8aDM+V2l0aCBFcnJvcnM8L2gzPlxuICpcbiAqIGBtZC1pbnB1dC1jb250YWluZXJgIGFsc28gc3VwcG9ydHMgZXJyb3JzIHVzaW5nIHRoZSBzdGFuZGFyZCBgbmctbWVzc2FnZXNgIGRpcmVjdGl2ZXMgYW5kXG4gKiBhbmltYXRlcyB0aGUgbWVzc2FnZXMgd2hlbiB0aGV5IGJlY29tZSB2aXNpYmxlIHVzaW5nIGZyb20gdGhlIGBuZ0VudGVyYC9gbmdMZWF2ZWAgZXZlbnRzIG9yXG4gKiB0aGUgYG5nU2hvd2AvYG5nSGlkZWAgZXZlbnRzLlxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoZSBtZXNzYWdlcyB3aWxsIGJlIGhpZGRlbiB1bnRpbCB0aGUgaW5wdXQgaXMgaW4gYW4gZXJyb3Igc3RhdGUuIFRoaXMgaXMgYmFzZWQgb2ZmXG4gKiBvZiB0aGUgYG1kLWlzLWVycm9yYCBleHByZXNzaW9uIG9mIHRoZSBgbWQtaW5wdXQtY29udGFpbmVyYC4gVGhpcyBnaXZlcyB0aGUgdXNlciBhIGNoYW5jZSB0b1xuICogZmlsbCBvdXQgdGhlIGZvcm0gYmVmb3JlIHRoZSBlcnJvcnMgYmVjb21lIHZpc2libGUuXG4gKlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxmb3JtIG5hbWU9XCJjb2xvckZvcm1cIj5cbiAqICAgPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgICA8bGFiZWw+RmF2b3JpdGUgQ29sb3I8L2xhYmVsPlxuICogICAgIDxpbnB1dCBuYW1lPVwiZmF2b3JpdGVDb2xvclwiIG5nLW1vZGVsPVwiZmF2b3JpdGVDb2xvclwiIHJlcXVpcmVkPlxuICogICAgIDxkaXYgbmctbWVzc2FnZXM9XCJ1c2VyRm9ybS5sYXN0TmFtZS4kZXJyb3JcIj5cbiAqICAgICAgIDxkaXYgbmctbWVzc2FnZT1cInJlcXVpcmVkXCI+VGhpcyBpcyByZXF1aXJlZCE8L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9tZC1pbnB1dC1jb250YWluZXI+XG4gKiA8L2Zvcm0+XG4gKiA8L2hsanM+XG4gKlxuICogV2UgYXV0b21hdGljYWxseSBkaXNhYmxlIHRoaXMgYXV0by1oaWRpbmcgZnVuY3Rpb25hbGl0eSBpZiB5b3UgcHJvdmlkZSBhbnkgb2YgdGhlIGZvbGxvd2luZ1xuICogdmlzaWJpbGl0eSBkaXJlY3RpdmVzIG9uIHRoZSBgbmctbWVzc2FnZXNgIGNvbnRhaW5lcjpcbiAqXG4gKiAgLSBgbmctaWZgXG4gKiAgLSBgbmctc2hvd2AvYG5nLWhpZGVgXG4gKiAgLSBgbmctc3dpdGNoLXdoZW5gL2BuZy1zd2l0Y2gtZGVmYXVsdGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gZGlzYWJsZSB0aGlzIGZ1bmN0aW9uYWxpdHkgbWFudWFsbHkgYnkgYWRkaW5nIHRoZSBgbWQtYXV0by1oaWRlPVwiZmFsc2VcImAgZXhwcmVzc2lvblxuICogdG8gdGhlIGBuZy1tZXNzYWdlc2AgY29udGFpbmVyLiBUaGlzIG1heSBiZSBoZWxwZnVsIGlmIHlvdSBhbHdheXMgd2FudCB0byBzZWUgdGhlIGVycm9yIG1lc3NhZ2VzXG4gKiBvciBpZiB5b3UgYXJlIGJ1aWxkaW5nIHlvdXIgb3duIHZpc2liaWx0eSBkaXJlY3RpdmUuXG4gKlxuICogXzxiPk5vdGU6PC9iPiBUaGUgYG1kLWF1dG8taGlkZWAgYXR0cmlidXRlIGlzIGEgc3RhdGljIHN0cmluZyB0aGF0IGlzICBvbmx5IGNoZWNrZWQgdXBvblxuICogaW5pdGlhbGl6YXRpb24gb2YgdGhlIGBuZy1tZXNzYWdlc2AgZGlyZWN0aXZlIHRvIHNlZSBpZiBpdCBlcXVhbHMgdGhlIHN0cmluZyBgZmFsc2VgLl9cbiAqXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gKiAgIDxtZC1pbnB1dC1jb250YWluZXI+XG4gKiAgICAgPGxhYmVsPkxhc3QgTmFtZTwvbGFiZWw+XG4gKiAgICAgPGlucHV0IG5hbWU9XCJsYXN0TmFtZVwiIG5nLW1vZGVsPVwibGFzdE5hbWVcIiByZXF1aXJlZCBtZC1tYXhsZW5ndGg9XCIxMFwiIG1pbmxlbmd0aD1cIjRcIj5cbiAqICAgICA8ZGl2IG5nLW1lc3NhZ2VzPVwidXNlckZvcm0ubGFzdE5hbWUuJGVycm9yXCIgbmctc2hvdz1cInVzZXJGb3JtLmxhc3ROYW1lLiRkaXJ0eVwiPlxuICogICAgICAgPGRpdiBuZy1tZXNzYWdlPVwicmVxdWlyZWRcIj5UaGlzIGlzIHJlcXVpcmVkITwvZGl2PlxuICogICAgICAgPGRpdiBuZy1tZXNzYWdlPVwibWQtbWF4bGVuZ3RoXCI+VGhhdCdzIHRvbyBsb25nITwvZGl2PlxuICogICAgICAgPGRpdiBuZy1tZXNzYWdlPVwibWlubGVuZ3RoXCI+VGhhdCdzIHRvbyBzaG9ydCE8L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9tZC1pbnB1dC1jb250YWluZXI+XG4gKiAgIDxtZC1pbnB1dC1jb250YWluZXI+XG4gKiAgICAgPGxhYmVsPkJpb2dyYXBoeTwvbGFiZWw+XG4gKiAgICAgPHRleHRhcmVhIG5hbWU9XCJiaW9cIiBuZy1tb2RlbD1cImJpb2dyYXBoeVwiIHJlcXVpcmVkIG1kLW1heGxlbmd0aD1cIjE1MFwiPjwvdGV4dGFyZWE+XG4gKiAgICAgPGRpdiBuZy1tZXNzYWdlcz1cInVzZXJGb3JtLmJpby4kZXJyb3JcIiBuZy1zaG93PVwidXNlckZvcm0uYmlvLiRkaXJ0eVwiPlxuICogICAgICAgPGRpdiBuZy1tZXNzYWdlPVwicmVxdWlyZWRcIj5UaGlzIGlzIHJlcXVpcmVkITwvZGl2PlxuICogICAgICAgPGRpdiBuZy1tZXNzYWdlPVwibWQtbWF4bGVuZ3RoXCI+VGhhdCdzIHRvbyBsb25nITwvZGl2PlxuICogICAgIDwvZGl2PlxuICogICA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgICA8aW5wdXQgYXJpYS1sYWJlbD0ndGl0bGUnIG5nLW1vZGVsPSd0aXRsZSc+XG4gKiAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICogICA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICAgIDxpbnB1dCBwbGFjZWhvbGRlcj0ndGl0bGUnIG5nLW1vZGVsPSd0aXRsZSc+XG4gKiAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICogPC9mb3JtPlxuICogPC9obGpzPlxuICpcbiAqIDxoMz5Ob3RlczwvaDM+XG4gKlxuICogLSBSZXF1aXJlcyBbbmdNZXNzYWdlc10oaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nTWVzc2FnZXMpLlxuICogLSBCZWhhdmVzIGxpa2UgdGhlIFtBbmd1bGFySlMgaW5wdXQgZGlyZWN0aXZlXShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvZGlyZWN0aXZlL2lucHV0KS5cbiAqXG4gKiBUaGUgYG1kLWlucHV0YCBhbmQgYG1kLWlucHV0LWNvbnRhaW5lcmAgZGlyZWN0aXZlcyB1c2UgdmVyeSBzcGVjaWZpYyBwb3NpdGlvbmluZyB0byBhY2hpZXZlIHRoZVxuICogZXJyb3IgYW5pbWF0aW9uIGVmZmVjdHMuIFRoZXJlZm9yZSwgaXQgaXMgKm5vdCogYWR2aXNlZCB0byB1c2UgdGhlIExheW91dCBzeXN0ZW0gaW5zaWRlIG9mIHRoZVxuICogYDxtZC1pbnB1dC1jb250YWluZXI+YCB0YWdzLiBJbnN0ZWFkLCB1c2UgcmVsYXRpdmUgb3IgYWJzb2x1dGUgcG9zaXRpb25pbmcuXG4gKlxuICovXG5cbmZ1bmN0aW9uIGlucHV0VGV4dGFyZWFEaXJlY3RpdmUoJG1kVXRpbCwgJHdpbmRvdywgJG1kQXJpYSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWydeP21kSW5wdXRDb250YWluZXInLCAnP25nTW9kZWwnXSxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuXG4gICAgdmFyIGNvbnRhaW5lckN0cmwgPSBjdHJsc1swXTtcbiAgICB2YXIgaGFzTmdNb2RlbCA9ICEhY3RybHNbMV07XG4gICAgdmFyIG5nTW9kZWxDdHJsID0gY3RybHNbMV0gfHwgJG1kVXRpbC5mYWtlTmdNb2RlbCgpO1xuICAgIHZhciBpc1JlYWRvbmx5ID0gYW5ndWxhci5pc0RlZmluZWQoYXR0ci5yZWFkb25seSk7XG5cbiAgICBpZiAoIWNvbnRhaW5lckN0cmwpIHJldHVybjtcbiAgICBpZiAoY29udGFpbmVyQ3RybC5pbnB1dCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPG1kLWlucHV0LWNvbnRhaW5lcj4gY2FuIG9ubHkgaGF2ZSAqb25lKiA8aW5wdXQ+LCA8dGV4dGFyZWE+IG9yIDxtZC1zZWxlY3Q+IGNoaWxkIGVsZW1lbnQhXCIpO1xuICAgIH1cbiAgICBjb250YWluZXJDdHJsLmlucHV0ID0gZWxlbWVudDtcblxuICAgIC8vIEFkZCBhbiBlcnJvciBzcGFjZXIgZGl2IGFmdGVyIG91ciBpbnB1dCB0byBwcm92aWRlIHNwYWNlIGZvciB0aGUgY2hhciBjb3VudGVyIGFuZCBhbnkgbmctbWVzc2FnZXNcbiAgICB2YXIgZXJyb3JzU3BhY2VyID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwibWQtZXJyb3JzLXNwYWNlclwiPicpO1xuICAgIGVsZW1lbnQuYWZ0ZXIoZXJyb3JzU3BhY2VyKTtcblxuICAgIGlmICghY29udGFpbmVyQ3RybC5sYWJlbCkge1xuICAgICAgJG1kQXJpYS5leHBlY3QoZWxlbWVudCwgJ2FyaWEtbGFiZWwnLCBlbGVtZW50LmF0dHIoJ3BsYWNlaG9sZGVyJykpO1xuICAgIH1cblxuICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWlucHV0Jyk7XG4gICAgaWYgKCFlbGVtZW50LmF0dHIoJ2lkJykpIHtcbiAgICAgIGVsZW1lbnQuYXR0cignaWQnLCAnaW5wdXRfJyArICRtZFV0aWwubmV4dFVpZCgpKTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0ZXh0YXJlYScpIHtcbiAgICAgIHNldHVwVGV4dGFyZWEoKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgaW5wdXQgZG9lc24ndCBoYXZlIGFuIG5nTW9kZWwsIGl0IG1heSBoYXZlIGEgc3RhdGljIHZhbHVlLiBGb3IgdGhhdCBjYXNlLFxuICAgIC8vIHdlIGhhdmUgdG8gZG8gb25lIGluaXRpYWwgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRoZSBjb250YWluZXIgc2hvdWxkIGJlIGluIHRoZVxuICAgIC8vIFwiaGFzIGEgdmFsdWVcIiBzdGF0ZS5cbiAgICBpZiAoIWhhc05nTW9kZWwpIHtcbiAgICAgIGlucHV0Q2hlY2tWYWx1ZSgpO1xuICAgIH1cblxuICAgIHZhciBpc0Vycm9yR2V0dGVyID0gY29udGFpbmVyQ3RybC5pc0Vycm9yR2V0dGVyIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5nTW9kZWxDdHJsLiRpbnZhbGlkICYmIChcbiAgICAgICAgbmdNb2RlbEN0cmwuJHRvdWNoZWQgfHxcbiAgICAgICAgKG5nTW9kZWxDdHJsLiQkcGFyZW50Rm9ybSAmJiBuZ01vZGVsQ3RybC4kJHBhcmVudEZvcm0uJHN1Ym1pdHRlZClcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHNjb3BlLiR3YXRjaChpc0Vycm9yR2V0dGVyLCBjb250YWluZXJDdHJsLnNldEludmFsaWQpO1xuXG4gICAgbmdNb2RlbEN0cmwuJHBhcnNlcnMucHVzaChuZ01vZGVsUGlwZWxpbmVDaGVja1ZhbHVlKTtcbiAgICBuZ01vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKG5nTW9kZWxQaXBlbGluZUNoZWNrVmFsdWUpO1xuXG4gICAgZWxlbWVudC5vbignaW5wdXQnLCBpbnB1dENoZWNrVmFsdWUpO1xuXG4gICAgaWYgKCFpc1JlYWRvbmx5KSB7XG4gICAgICBlbGVtZW50XG4gICAgICAgIC5vbignZm9jdXMnLCBmdW5jdGlvbihldikge1xuICAgICAgICAgIGNvbnRhaW5lckN0cmwuc2V0Rm9jdXNlZCh0cnVlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdibHVyJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBjb250YWluZXJDdHJsLnNldEZvY3VzZWQoZmFsc2UpO1xuICAgICAgICAgIGlucHV0Q2hlY2tWYWx1ZSgpO1xuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIC8vbmdNb2RlbEN0cmwuJHNldFRvdWNoZWQoKTtcbiAgICAvL2lmKCBuZ01vZGVsQ3RybC4kaW52YWxpZCApIGNvbnRhaW5lckN0cmwuc2V0SW52YWxpZCgpO1xuXG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgY29udGFpbmVyQ3RybC5zZXRGb2N1c2VkKGZhbHNlKTtcbiAgICAgIGNvbnRhaW5lckN0cmwuc2V0SGFzVmFsdWUoZmFsc2UpO1xuICAgICAgY29udGFpbmVyQ3RybC5pbnB1dCA9IG51bGw7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5nTW9kZWxQaXBlbGluZUNoZWNrVmFsdWUoYXJnKSB7XG4gICAgICBjb250YWluZXJDdHJsLnNldEhhc1ZhbHVlKCFuZ01vZGVsQ3RybC4kaXNFbXB0eShhcmcpKTtcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5wdXRDaGVja1ZhbHVlKCkge1xuICAgICAgLy8gQW4gaW5wdXQncyB2YWx1ZSBjb3VudHMgaWYgaXRzIGxlbmd0aCA+IDAsXG4gICAgICAvLyBvciBpZiB0aGUgaW5wdXQncyB2YWxpZGl0eSBzdGF0ZSBzYXlzIGl0IGhhcyBiYWQgaW5wdXQgKGVnIHN0cmluZyBpbiBhIG51bWJlciBpbnB1dClcbiAgICAgIGNvbnRhaW5lckN0cmwuc2V0SGFzVmFsdWUoZWxlbWVudC52YWwoKS5sZW5ndGggPiAwIHx8IChlbGVtZW50WzBdLnZhbGlkaXR5IHx8IHt9KS5iYWRJbnB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBUZXh0YXJlYSgpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChlbGVtZW50LmF0dHIoJ21kLW5vLWF1dG9ncm93JykpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lckN0cmwuZWxlbWVudFswXTtcblxuICAgICAgdmFyIG1pbl9yb3dzID0gTmFOO1xuICAgICAgdmFyIGxpbmVIZWlnaHQgPSBudWxsO1xuICAgICAgLy8gY2FuJ3QgY2hlY2sgaWYgaGVpZ2h0IHdhcyBvciBub3QgZXhwbGljaXR5IHNldCxcbiAgICAgIC8vIHNvIHJvd3MgYXR0cmlidXRlIHdpbGwgdGFrZSBwcmVjZWRlbmNlIGlmIHByZXNlbnRcbiAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZSgncm93cycpKSB7XG4gICAgICAgIG1pbl9yb3dzID0gcGFyc2VJbnQobm9kZS5nZXRBdHRyaWJ1dGUoJ3Jvd3MnKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvbkNoYW5nZVRleHRhcmVhID0gJG1kVXRpbC5kZWJvdW5jZShncm93VGV4dGFyZWEsIDEpO1xuXG4gICAgICBmdW5jdGlvbiBwaXBlbGluZUxpc3RlbmVyKHZhbHVlKSB7XG4gICAgICAgIG9uQ2hhbmdlVGV4dGFyZWEoKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobmdNb2RlbEN0cmwpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChwaXBlbGluZUxpc3RlbmVyKTtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChwaXBlbGluZUxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uQ2hhbmdlVGV4dGFyZWEoKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQub24oJ2tleWRvd24gaW5wdXQnLCBvbkNoYW5nZVRleHRhcmVhKTtcblxuICAgICAgaWYgKGlzTmFOKG1pbl9yb3dzKSkge1xuICAgICAgICBlbGVtZW50LmF0dHIoJ3Jvd3MnLCAnMScpO1xuXG4gICAgICAgIGVsZW1lbnQub24oJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgICAgIH1cblxuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUnLCBvbkNoYW5nZVRleHRhcmVhKTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKCdyZXNpemUnLCBvbkNoYW5nZVRleHRhcmVhKTtcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBncm93VGV4dGFyZWEoKSB7XG4gICAgICAgIC8vIHNldHMgdGhlIG1kLWlucHV0LWNvbnRhaW5lciBoZWlnaHQgdG8gYXZvaWQganVtcGluZyBhcm91bmRcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQgKyAncHgnO1xuXG4gICAgICAgIC8vIHRlbXBvcmFyaWx5IGRpc2FibGVzIGVsZW1lbnQncyBmbGV4IHNvIGl0cyBoZWlnaHQgJ3J1bnMgZnJlZSdcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnbWQtbm8tZmxleCcpO1xuXG4gICAgICAgIGlmIChpc05hTihtaW5fcm93cykpIHtcbiAgICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xuICAgICAgICAgIG5vZGUuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgICB2YXIgaGVpZ2h0ID0gZ2V0SGVpZ2h0KCk7XG4gICAgICAgICAgaWYgKGhlaWdodCkgbm9kZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFwicm93c1wiLCAxKTtcblxuICAgICAgICAgIGlmICghbGluZUhlaWdodCkge1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5taW5IZWlnaHQgPSAnMCc7XG5cbiAgICAgICAgICAgIGxpbmVIZWlnaHQgPSBlbGVtZW50LnByb3AoJ2NsaWVudEhlaWdodCcpO1xuXG4gICAgICAgICAgICBub2RlLnN0eWxlLm1pbkhlaWdodCA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHJvd3MgPSBNYXRoLm1pbihtaW5fcm93cywgTWF0aC5yb3VuZChub2RlLnNjcm9sbEhlaWdodCAvIGxpbmVIZWlnaHQpKTtcbiAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShcInJvd3NcIiwgcm93cyk7XG4gICAgICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBsaW5lSGVpZ2h0ICogcm93cyArIFwicHhcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IGV2ZXJ5dGhpbmcgYmFjayB0byBub3JtYWxcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtbm8tZmxleCcpO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHZhciBsaW5lID0gbm9kZS5zY3JvbGxIZWlnaHQgLSBub2RlLm9mZnNldEhlaWdodDtcbiAgICAgICAgcmV0dXJuIG5vZGUub2Zmc2V0SGVpZ2h0ICsgKGxpbmUgPiAwID8gbGluZSA6IDApO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblNjcm9sbChlKSB7XG4gICAgICAgIG5vZGUuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgLy8gZm9yIHNtb290aCBuZXcgbGluZSBhZGRpbmdcbiAgICAgICAgdmFyIGxpbmUgPSBub2RlLnNjcm9sbEhlaWdodCAtIG5vZGUub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB2YXIgaGVpZ2h0ID0gbm9kZS5vZmZzZXRIZWlnaHQgKyBsaW5lO1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgICB9XG5cbiAgICAgIC8vIEF0dGFjaCBhIHdhdGNoZXIgdG8gZGV0ZWN0IHdoZW4gdGhlIHRleHRhcmVhIGdldHMgc2hvd24uXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZWxlbWVudC5hdHRyKCdtZC1kZXRlY3QtaGlkZGVuJykpKSB7XG5cbiAgICAgICAgdmFyIGhhbmRsZUhpZGRlbkNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB3YXNIaWRkZW4gPSBmYWxzZTtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpc0hpZGRlbiA9IG5vZGUub2Zmc2V0SGVpZ2h0ID09PSAwO1xuXG4gICAgICAgICAgICBpZiAoaXNIaWRkZW4gPT09IGZhbHNlICYmIHdhc0hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBncm93VGV4dGFyZWEoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2FzSGlkZGVuID0gaXNIaWRkZW47XG4gICAgICAgICAgfTtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIC8vIENoZWNrIGV2ZXJ5IGRpZ2VzdCBjeWNsZSB3aGV0aGVyIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSB0ZXh0YXJlYSBoYXMgY2hhbmdlZC5cbiAgICAgICAgLy8gUXVldWUgdXAgdG8gcnVuIGFmdGVyIHRoZSBkaWdlc3QgY3ljbGUgaXMgY29tcGxldGUuXG4gICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAkbWRVdGlsLm5leHRUaWNrKGhhbmRsZUhpZGRlbkNoYW5nZSwgZmFsc2UpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmlucHV0VGV4dGFyZWFEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFV0aWxcIiwgXCIkd2luZG93XCIsIFwiJG1kQXJpYVwiXTtcblxuZnVuY3Rpb24gbWRNYXhsZW5ndGhEaXJlY3RpdmUoJGFuaW1hdGUsICRtZFV0aWwpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdebWRJbnB1dENvbnRhaW5lciddLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgdmFyIG1heGxlbmd0aDtcbiAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1swXTtcbiAgICB2YXIgY29udGFpbmVyQ3RybCA9IGN0cmxzWzFdO1xuICAgIHZhciBjaGFyQ291bnRFbCwgZXJyb3JzU3BhY2VyO1xuXG4gICAgLy8gV2FpdCB1bnRpbCB0aGUgbmV4dCB0aWNrIHRvIGVuc3VyZSB0aGF0IHRoZSBpbnB1dCBoYXMgc2V0dXAgdGhlIGVycm9ycyBzcGFjZXIgd2hlcmUgd2Ugd2lsbFxuICAgIC8vIGFwcGVuZCBvdXIgY291bnRlclxuICAgICRtZFV0aWwubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICBlcnJvcnNTcGFjZXIgPSBhbmd1bGFyLmVsZW1lbnQoY29udGFpbmVyQ3RybC5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1lcnJvcnMtc3BhY2VyJykpO1xuICAgICAgY2hhckNvdW50RWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJtZC1jaGFyLWNvdW50ZXJcIj4nKTtcblxuICAgICAgLy8gQXBwZW5kIG91ciBjaGFyYWN0ZXIgY291bnRlciBpbnNpZGUgdGhlIGVycm9ycyBzcGFjZXJcbiAgICAgIGVycm9yc1NwYWNlci5hcHBlbmQoY2hhckNvdW50RWwpO1xuXG4gICAgICAvLyBTdG9wIG1vZGVsIGZyb20gdHJpbW1pbmcuIFRoaXMgbWFrZXMgaXQgc28gd2hpdGVzcGFjZVxuICAgICAgLy8gb3ZlciB0aGUgbWF4bGVuZ3RoIHN0aWxsIGNvdW50cyBhcyBpbnZhbGlkLlxuICAgICAgYXR0ci4kc2V0KCduZ1RyaW0nLCAnZmFsc2UnKTtcblxuICAgICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChyZW5kZXJDaGFyQ291bnQpO1xuICAgICAgbmdNb2RlbEN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChyZW5kZXJDaGFyQ291bnQpO1xuICAgICAgZWxlbWVudC5vbignaW5wdXQga2V5ZG93biBrZXl1cCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZW5kZXJDaGFyQ291bnQoKTsgLy9tYWtlIHN1cmUgaXQncyBjYWxsZWQgd2l0aCBubyBhcmdzXG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubWRNYXhsZW5ndGgsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIG1heGxlbmd0aCA9IHZhbHVlO1xuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgPiAwKSB7XG4gICAgICAgICAgaWYgKCFjaGFyQ291bnRFbC5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNoYXJDb3VudEVsLCBlcnJvcnNTcGFjZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJDaGFyQ291bnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShjaGFyQ291bnRFbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBuZ01vZGVsQ3RybC4kdmFsaWRhdG9yc1snbWQtbWF4bGVuZ3RoJ10gPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKG1heGxlbmd0aCkgfHwgbWF4bGVuZ3RoIDwgMCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoIG1vZGVsVmFsdWUgfHwgZWxlbWVudC52YWwoKSB8fCB2aWV3VmFsdWUgfHwgJycgKS5sZW5ndGggPD0gbWF4bGVuZ3RoO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHJlbmRlckNoYXJDb3VudCh2YWx1ZSkge1xuICAgICAgLy8gSWYgd2UgaGF2ZSBub3QgYmVlbiBhcHBlbmRlZCB0byB0aGUgYm9keSB5ZXQ7IGRvIG5vdCByZW5kZXJcbiAgICAgIGlmICghY2hhckNvdW50RWwucGFyZW50KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gRm9yY2UgdGhlIHZhbHVlIGludG8gYSBzdHJpbmcgc2luY2UgaXQgbWF5IGJlIGEgbnVtYmVyLFxuICAgICAgLy8gd2hpY2ggZG9lcyBub3QgaGF2ZSBhIGxlbmd0aCBwcm9wZXJ0eS5cbiAgICAgIGNoYXJDb3VudEVsLnRleHQoU3RyaW5nKGVsZW1lbnQudmFsKCkgfHwgdmFsdWUgfHwgJycpLmxlbmd0aCArICcvJyArIG1heGxlbmd0aCk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG59XG5tZE1heGxlbmd0aERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJGFuaW1hdGVcIiwgXCIkbWRVdGlsXCJdO1xuXG5mdW5jdGlvbiBwbGFjZWhvbGRlckRpcmVjdGl2ZSgkbG9nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXl4/bWRJbnB1dENvbnRhaW5lcicsXG4gICAgcHJpb3JpdHk6IDIwMCxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBpbnB1dENvbnRhaW5lcikge1xuICAgIC8vIElmIHRoZXJlIGlzIG5vIGlucHV0IGNvbnRhaW5lciwganVzdCByZXR1cm5cbiAgICBpZiAoIWlucHV0Q29udGFpbmVyKSByZXR1cm47XG5cbiAgICB2YXIgbGFiZWwgPSBpbnB1dENvbnRhaW5lci5lbGVtZW50LmZpbmQoJ2xhYmVsJyk7XG4gICAgdmFyIGhhc05vRmxvYXQgPSBhbmd1bGFyLmlzRGVmaW5lZChpbnB1dENvbnRhaW5lci5lbGVtZW50LmF0dHIoJ21kLW5vLWZsb2F0JykpO1xuXG4gICAgLy8gSWYgd2UgaGF2ZSBhIGxhYmVsLCBvciB0aGV5IHNwZWNpZnkgdGhlIG1kLW5vLWZsb2F0IGF0dHJpYnV0ZSwganVzdCByZXR1cm5cbiAgICBpZiAoKGxhYmVsICYmIGxhYmVsLmxlbmd0aCkgfHwgaGFzTm9GbG9hdCkge1xuICAgICAgLy8gQWRkIGEgcGxhY2Vob2xkZXIgY2xhc3Mgc28gd2UgY2FuIHRhcmdldCBpdCBpbiB0aGUgQ1NTXG4gICAgICBpbnB1dENvbnRhaW5lci5zZXRIYXNQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBPdGhlcndpc2UsIGdyYWIvcmVtb3ZlIHRoZSBwbGFjZWhvbGRlclxuICAgIHZhciBwbGFjZWhvbGRlclRleHQgPSBhdHRyLnBsYWNlaG9sZGVyO1xuICAgIGVsZW1lbnQucmVtb3ZlQXR0cigncGxhY2Vob2xkZXInKTtcblxuICAgIC8vIEFuZCBhZGQgdGhlIHBsYWNlaG9sZGVyIHRleHQgYXMgYSBzZXBhcmF0ZSBsYWJlbFxuICAgIGlmIChpbnB1dENvbnRhaW5lci5pbnB1dCAmJiBpbnB1dENvbnRhaW5lci5pbnB1dFswXS5ub2RlTmFtZSAhPSAnTUQtU0VMRUNUJykge1xuICAgICAgdmFyIHBsYWNlaG9sZGVyID0gJzxsYWJlbCBuZy1jbGljaz1cImRlbGVnYXRlQ2xpY2soKVwiPicgKyBwbGFjZWhvbGRlclRleHQgKyAnPC9sYWJlbD4nO1xuXG4gICAgICBpbnB1dENvbnRhaW5lci5lbGVtZW50LmFkZENsYXNzKCdtZC1pY29uLWZsb2F0Jyk7XG4gICAgICBpbnB1dENvbnRhaW5lci5lbGVtZW50LnByZXBlbmQocGxhY2Vob2xkZXIpO1xuICAgIH1cbiAgfVxufVxucGxhY2Vob2xkZXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRsb2dcIl07XG5cbnZhciB2aXNpYmlsaXR5RGlyZWN0aXZlcyA9IFsnbmdJZicsICduZ1Nob3cnLCAnbmdIaWRlJywgJ25nU3dpdGNoV2hlbicsICduZ1N3aXRjaERlZmF1bHQnXTtcbmZ1bmN0aW9uIG5nTWVzc2FnZXNEaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgbGluazogcG9zdExpbmssXG5cbiAgICAvLyBUaGlzIGlzIG9wdGlvbmFsIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0YXJnZXQgKmFsbCogbmdNZXNzYWdlIGluc3RhbmNlcywganVzdCB0aG9zZSBpbnNpZGUgb2ZcbiAgICAvLyBtZElucHV0Q29udGFpbmVyLlxuICAgIHJlcXVpcmU6ICdeXj9tZElucHV0Q29udGFpbmVyJ1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgaW5wdXRDb250YWluZXIpIHtcbiAgICAvLyBJZiB3ZSBhcmUgbm90IGEgY2hpbGQgb2YgYW4gaW5wdXQgY29udGFpbmVyLCBkb24ndCBkbyBhbnl0aGluZ1xuICAgIGlmICghaW5wdXRDb250YWluZXIpIHJldHVybjtcblxuICAgIC8vIEFkZCBvdXIgYW5pbWF0aW9uIGNsYXNzXG4gICAgZWxlbWVudC50b2dnbGVDbGFzcygnbWQtaW5wdXQtbWVzc2FnZXMtYW5pbWF0aW9uJywgdHJ1ZSk7XG5cbiAgICAvLyBBZGQgb3VyIG1kLWF1dG8taGlkZSBjbGFzcyB0byBhdXRvbWF0aWNhbGx5IGhpZGUvc2hvdyBtZXNzYWdlcyB3aGVuIGNvbnRhaW5lciBpcyBpbnZhbGlkXG4gICAgZWxlbWVudC50b2dnbGVDbGFzcygnbWQtYXV0by1oaWRlJywgdHJ1ZSk7XG5cbiAgICAvLyBJZiB3ZSBzZWUgc29tZSBrbm93biB2aXNpYmlsaXR5IGRpcmVjdGl2ZXMsIHJlbW92ZSB0aGUgbWQtYXV0by1oaWRlIGNsYXNzXG4gICAgaWYgKGF0dHJzLm1kQXV0b0hpZGUgPT0gJ2ZhbHNlJyB8fCBoYXNWaXNpYmlsdHlEaXJlY3RpdmUoYXR0cnMpKSB7XG4gICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKCdtZC1hdXRvLWhpZGUnLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFzVmlzaWJpbHR5RGlyZWN0aXZlKGF0dHJzKSB7XG4gICAgcmV0dXJuIHZpc2liaWxpdHlEaXJlY3RpdmVzLnNvbWUoZnVuY3Rpb24oYXR0cikge1xuICAgICAgcmV0dXJuIGF0dHJzW2F0dHJdO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5nTWVzc2FnZURpcmVjdGl2ZSgkbWRVdGlsKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgY29tcGlsZTogY29tcGlsZSxcbiAgICBwcmlvcml0eTogMTAwXG4gIH07XG5cbiAgZnVuY3Rpb24gY29tcGlsZShlbGVtZW50KSB7XG4gICAgdmFyIGlucHV0Q29udGFpbmVyID0gJG1kVXRpbC5nZXRDbG9zZXN0KGVsZW1lbnQsIFwibWQtaW5wdXQtY29udGFpbmVyXCIpO1xuXG4gICAgLy8gSWYgd2UgYXJlIG5vdCBhIGNoaWxkIG9mIGFuIGlucHV0IGNvbnRhaW5lciwgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICBpZiAoIWlucHV0Q29udGFpbmVyKSByZXR1cm47XG5cbiAgICAvLyBBZGQgb3VyIGFuaW1hdGlvbiBjbGFzc1xuICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWlucHV0LW1lc3NhZ2UtYW5pbWF0aW9uJywgdHJ1ZSk7XG5cbiAgICByZXR1cm4ge307XG4gIH1cbn1cbm5nTWVzc2FnZURpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVXRpbFwiXTtcblxuZnVuY3Rpb24gbWRJbnB1dEludmFsaWRNZXNzYWdlc0FuaW1hdGlvbigkcSwgJGFuaW1hdGVDc3MpIHtcbiAgcmV0dXJuIHtcbiAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICB2YXIgbWVzc2FnZXMgPSBnZXRNZXNzYWdlc0VsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgIGlmIChjbGFzc05hbWUgPT0gXCJtZC1pbnB1dC1pbnZhbGlkXCIgJiYgbWVzc2FnZXMuaGFzQ2xhc3MoJ21kLWF1dG8taGlkZScpKSB7XG4gICAgICAgIHNob3dJbnB1dE1lc3NhZ2VzKGVsZW1lbnQsICRhbmltYXRlQ3NzLCAkcSkuZmluYWxseShkb25lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOT1RFOiBXZSBkbyBub3QgbmVlZCB0aGUgcmVtb3ZlQ2xhc3MgbWV0aG9kLCBiZWNhdXNlIHRoZSBtZXNzYWdlIG5nLWxlYXZlIGFuaW1hdGlvbiB3aWxsIGZpcmVcbiAgfVxufVxubWRJbnB1dEludmFsaWRNZXNzYWdlc0FuaW1hdGlvbi4kaW5qZWN0ID0gW1wiJHFcIiwgXCIkYW5pbWF0ZUNzc1wiXTtcblxuZnVuY3Rpb24gbmdNZXNzYWdlc0FuaW1hdGlvbigkcSwgJGFuaW1hdGVDc3MpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSkge1xuICAgICAgc2hvd0lucHV0TWVzc2FnZXMoZWxlbWVudCwgJGFuaW1hdGVDc3MsICRxKS5maW5hbGx5KGRvbmUpO1xuICAgIH0sXG5cbiAgICBsZWF2ZTogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSkge1xuICAgICAgaGlkZUlucHV0TWVzc2FnZXMoZWxlbWVudCwgJGFuaW1hdGVDc3MsICRxKS5maW5hbGx5KGRvbmUpO1xuICAgIH0sXG5cbiAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICBpZiAoY2xhc3NOYW1lID09IFwibmctaGlkZVwiKSB7XG4gICAgICAgIGhpZGVJbnB1dE1lc3NhZ2VzKGVsZW1lbnQsICRhbmltYXRlQ3NzLCAkcSkuZmluYWxseShkb25lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgaWYgKGNsYXNzTmFtZSA9PSBcIm5nLWhpZGVcIikge1xuICAgICAgICBzaG93SW5wdXRNZXNzYWdlcyhlbGVtZW50LCAkYW5pbWF0ZUNzcywgJHEpLmZpbmFsbHkoZG9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5uZ01lc3NhZ2VzQW5pbWF0aW9uLiRpbmplY3QgPSBbXCIkcVwiLCBcIiRhbmltYXRlQ3NzXCJdO1xuXG5mdW5jdGlvbiBuZ01lc3NhZ2VBbmltYXRpb24oJGFuaW1hdGVDc3MpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSkge1xuICAgICAgdmFyIG1lc3NhZ2VzID0gZ2V0TWVzc2FnZXNFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAvLyBJZiB3ZSBoYXZlIHRoZSBtZC1hdXRvLWhpZGUgY2xhc3MsIHRoZSBtZC1pbnB1dC1pbnZhbGlkIGFuaW1hdGlvbiB3aWxsIGZpcmUsIHNvIHdlIGNhbiBza2lwXG4gICAgICBpZiAobWVzc2FnZXMuaGFzQ2xhc3MoJ21kLWF1dG8taGlkZScpKSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hvd01lc3NhZ2UoZWxlbWVudCwgJGFuaW1hdGVDc3MpO1xuICAgIH0sXG5cbiAgICBsZWF2ZTogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSkge1xuICAgICAgcmV0dXJuIGhpZGVNZXNzYWdlKGVsZW1lbnQsICRhbmltYXRlQ3NzKTtcbiAgICB9XG4gIH1cbn1cbm5nTWVzc2FnZUFuaW1hdGlvbi4kaW5qZWN0ID0gW1wiJGFuaW1hdGVDc3NcIl07XG5cbmZ1bmN0aW9uIHNob3dJbnB1dE1lc3NhZ2VzKGVsZW1lbnQsICRhbmltYXRlQ3NzLCAkcSkge1xuICB2YXIgYW5pbWF0b3JzID0gW10sIGFuaW1hdG9yO1xuICB2YXIgbWVzc2FnZXMgPSBnZXRNZXNzYWdlc0VsZW1lbnQoZWxlbWVudCk7XG5cbiAgYW5ndWxhci5mb3JFYWNoKG1lc3NhZ2VzLmNoaWxkcmVuKCksIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgYW5pbWF0b3IgPSBzaG93TWVzc2FnZShhbmd1bGFyLmVsZW1lbnQoY2hpbGQpLCAkYW5pbWF0ZUNzcyk7XG5cbiAgICBhbmltYXRvcnMucHVzaChhbmltYXRvci5zdGFydCgpKTtcbiAgfSk7XG5cbiAgcmV0dXJuICRxLmFsbChhbmltYXRvcnMpO1xufVxuXG5mdW5jdGlvbiBoaWRlSW5wdXRNZXNzYWdlcyhlbGVtZW50LCAkYW5pbWF0ZUNzcywgJHEpIHtcbiAgdmFyIGFuaW1hdG9ycyA9IFtdLCBhbmltYXRvcjtcbiAgdmFyIG1lc3NhZ2VzID0gZ2V0TWVzc2FnZXNFbGVtZW50KGVsZW1lbnQpO1xuXG4gIGFuZ3VsYXIuZm9yRWFjaChtZXNzYWdlcy5jaGlsZHJlbigpLCBmdW5jdGlvbihjaGlsZCkge1xuICAgIGFuaW1hdG9yID0gaGlkZU1lc3NhZ2UoYW5ndWxhci5lbGVtZW50KGNoaWxkKSwgJGFuaW1hdGVDc3MpO1xuXG4gICAgYW5pbWF0b3JzLnB1c2goYW5pbWF0b3Iuc3RhcnQoKSk7XG4gIH0pO1xuXG4gIHJldHVybiAkcS5hbGwoYW5pbWF0b3JzKTtcbn1cblxuZnVuY3Rpb24gc2hvd01lc3NhZ2UoZWxlbWVudCwgJGFuaW1hdGVDc3MpIHtcbiAgdmFyIGhlaWdodCA9IGVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0O1xuXG4gIHJldHVybiAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgZXZlbnQ6ICdlbnRlcicsXG4gICAgc3RydWN0dXJhbDogdHJ1ZSxcbiAgICBmcm9tOiB7XCJvcGFjaXR5XCI6IDAsIFwibWFyZ2luLXRvcFwiOiAtaGVpZ2h0ICsgXCJweFwifSxcbiAgICB0bzoge1wib3BhY2l0eVwiOiAxLCBcIm1hcmdpbi10b3BcIjogXCIwXCJ9LFxuICAgIGR1cmF0aW9uOiAwLjNcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhpZGVNZXNzYWdlKGVsZW1lbnQsICRhbmltYXRlQ3NzKSB7XG4gIHZhciBoZWlnaHQgPSBlbGVtZW50WzBdLm9mZnNldEhlaWdodDtcbiAgdmFyIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnRbMF0pO1xuXG4gIC8vIElmIHdlIGFyZSBhbHJlYWR5IGhpZGRlbiwganVzdCByZXR1cm4gYW4gZW1wdHkgYW5pbWF0aW9uXG4gIGlmIChzdHlsZXMub3BhY2l0eSA9PSAwKSB7XG4gICAgcmV0dXJuICRhbmltYXRlQ3NzKGVsZW1lbnQsIHt9KTtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSwgYW5pbWF0ZVxuICByZXR1cm4gJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICAgIGV2ZW50OiAnbGVhdmUnLFxuICAgIHN0cnVjdHVyYWw6IHRydWUsXG4gICAgZnJvbToge1wib3BhY2l0eVwiOiAxLCBcIm1hcmdpbi10b3BcIjogMH0sXG4gICAgdG86IHtcIm9wYWNpdHlcIjogMCwgXCJtYXJnaW4tdG9wXCI6IC1oZWlnaHQgKyBcInB4XCJ9LFxuICAgIGR1cmF0aW9uOiAwLjNcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldElucHV0RWxlbWVudChlbGVtZW50KSB7XG4gIHZhciBpbnB1dENvbnRhaW5lciA9IGVsZW1lbnQuY29udHJvbGxlcignbWRJbnB1dENvbnRhaW5lcicpO1xuXG4gIHJldHVybiBpbnB1dENvbnRhaW5lci5lbGVtZW50O1xufVxuXG5mdW5jdGlvbiBnZXRNZXNzYWdlc0VsZW1lbnQoZWxlbWVudCkge1xuICB2YXIgaW5wdXQgPSBnZXRJbnB1dEVsZW1lbnQoZWxlbWVudCk7XG4gIHZhciBzZWxlY3RvciA9ICduZy1tZXNzYWdlcyxkYXRhLW5nLW1lc3NhZ2VzLHgtbmctbWVzc2FnZXMsJyArXG4gICAgJ1tuZy1tZXNzYWdlc10sW2RhdGEtbmctbWVzc2FnZXNdLFt4LW5nLW1lc3NhZ2VzXSc7XG5cbiAgcmV0dXJuIGFuZ3VsYXIuZWxlbWVudChpbnB1dFswXS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSk7XG59XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMubGlzdFxuICogQGRlc2NyaXB0aW9uXG4gKiBMaXN0IG1vZHVsZVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5saXN0JywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5jb250cm9sbGVyKCdNZExpc3RDb250cm9sbGVyJywgTWRMaXN0Q29udHJvbGxlcilcbiAgLmRpcmVjdGl2ZSgnbWRMaXN0JywgbWRMaXN0RGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdtZExpc3RJdGVtJywgbWRMaXN0SXRlbURpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRMaXN0XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMubGlzdFxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1saXN0PmAgZGlyZWN0aXZlIGlzIGEgbGlzdCBjb250YWluZXIgZm9yIDEuLm4gYDxtZC1saXN0LWl0ZW0+YCB0YWdzLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1saXN0PlxuICogICA8bWQtbGlzdC1pdGVtIGNsYXNzPVwibWQtMi1saW5lXCIgbmctcmVwZWF0PVwiaXRlbSBpbiB0b2Rvc1wiPlxuICogICAgIDxtZC1jaGVja2JveCBuZy1tb2RlbD1cIml0ZW0uZG9uZVwiPjwvbWQtY2hlY2tib3g+XG4gKiAgICAgPGRpdiBjbGFzcz1cIm1kLWxpc3QtaXRlbS10ZXh0XCI+XG4gKiAgICAgICA8aDM+e3tpdGVtLnRpdGxlfX08L2gzPlxuICogICAgICAgPHA+e3tpdGVtLmRlc2NyaXB0aW9ufX08L3A+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvbWQtbGlzdC1pdGVtPlxuICogPC9tZC1saXN0PlxuICogPC9obGpzPlxuICovXG5cbmZ1bmN0aW9uIG1kTGlzdERpcmVjdGl2ZSgkbWRUaGVtaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbih0RWwpIHtcbiAgICAgIHRFbFswXS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnbGlzdCcpO1xuICAgICAgcmV0dXJuICRtZFRoZW1pbmc7XG4gICAgfVxuICB9O1xufVxubWRMaXN0RGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCJdO1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZExpc3RJdGVtXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMubGlzdFxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1saXN0LWl0ZW0+YCBkaXJlY3RpdmUgaXMgYSBjb250YWluZXIgaW50ZW5kZWQgZm9yIHJvdyBpdGVtcyBpbiBhIGA8bWQtbGlzdD5gIGNvbnRhaW5lci5cbiAqIFRoZSBgbWQtMi1saW5lYCBhbmQgYG1kLTMtbGluZWAgY2xhc3NlcyBjYW4gYmUgYWRkZWQgdG8gYSBgPG1kLWxpc3QtaXRlbT5gIFxuICogdG8gaW5jcmVhc2UgdGhlIGhlaWdodCB3aXRoIDIycHggYW5kIDQwcHggcmVzcGVjdGl2ZWx5LlxuICpcbiAqICMjIENTU1xuICogYC5tZC1hdmF0YXJgIC0gY2xhc3MgZm9yIGltYWdlIGF2YXRhcnNcbiAqXG4gKiBgLm1kLWF2YXRhci1pY29uYCAtIGNsYXNzIGZvciBpY29uIGF2YXRhcnNcbiAqXG4gKiBgLm1kLW9mZnNldGAgLSBvbiBjb250ZW50IHdpdGhvdXQgYW4gYXZhdGFyXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogIDxtZC1saXN0PlxuICogICAgPG1kLWxpc3QtaXRlbT5cbiAqICAgICAgPGltZyBjbGFzcz1cIm1kLWF2YXRhclwiIG5nLXNyYz1cInBhdGgvdG8vaW1nXCIvPlxuICogICAgICA8c3Bhbj5JdGVtIGNvbnRlbnQgaW4gbGlzdDwvc3Bhbj5cbiAqICAgIDwvbWQtbGlzdC1pdGVtPlxuICogICAgPG1kLWxpc3QtaXRlbT5cbiAqICAgICAgPG1kLWljb24gY2xhc3M9XCJtZC1hdmF0YXItaWNvblwiIG1kLXN2Zy1pY29uPVwiY29tbXVuaWNhdGlvbjpwaG9uZVwiPjwvbWQtaWNvbj5cbiAqICAgICAgPHNwYW4+SXRlbSBjb250ZW50IGluIGxpc3Q8L3NwYW4+XG4gKiAgICA8L21kLWxpc3QtaXRlbT5cbiAqICA8L21kLWxpc3Q+XG4gKiA8L2hsanM+XG4gKlxuICogXyoqTm90ZToqKiBXZSBhdXRvbWF0aWNhbGx5IGFwcGx5IHNwZWNpYWwgc3R5bGluZyB3aGVuIHRoZSBpbm5lciBjb250ZW50cyBhcmUgd3JhcHBlZCBpbnNpZGVcbiAqIG9mIGEgYDxtZC1idXR0b24+YCB0YWcuIFRoaXMgc3R5bGluZyBpcyBhdXRvbWF0aWNhbGx5IGlnbm9yZWQgZm9yIGBjbGFzcz1cIm1kLXNlY29uZGFyeVwiYCBidXR0b25zXG4gKiBhbmQgeW91IGNhbiBpbmNsdWRlIGEgY2xhc3Mgb2YgYGNsYXNzPVwibWQtZXhjbHVkZVwiYCBpZiB5b3UgbmVlZCB0byB1c2UgYSBub24tc2Vjb25kYXJ5IGJ1dHRvblxuICogdGhhdCBpcyBpbnNpZGUgdGhlIGxpc3QsIGJ1dCBkb2VzIG5vdCB3cmFwIHRoZSBjb250ZW50cy5fXG4gKi9cbmZ1bmN0aW9uIG1kTGlzdEl0ZW1EaXJlY3RpdmUoJG1kQXJpYSwgJG1kQ29uc3RhbnQsICRtZFV0aWwsICR0aW1lb3V0KSB7XG4gIHZhciBwcm94aWVkVHlwZXMgPSBbJ21kLWNoZWNrYm94JywgJ21kLXN3aXRjaCddO1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogJ01kTGlzdENvbnRyb2xsZXInLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbCwgdEF0dHJzKSB7XG4gICAgICAvLyBDaGVjayBmb3IgcHJveHkgY29udHJvbHMgKG5vIG5nLWNsaWNrIG9uIHBhcmVudCwgYW5kIGEgY29udHJvbCBpbnNpZGUpXG4gICAgICB2YXIgc2Vjb25kYXJ5SXRlbSA9IHRFbFswXS5xdWVyeVNlbGVjdG9yKCcubWQtc2Vjb25kYXJ5Jyk7XG4gICAgICB2YXIgaGFzUHJveGllZEVsZW1lbnQ7XG4gICAgICB2YXIgcHJveHlFbGVtZW50O1xuXG4gICAgICB0RWxbMF0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2xpc3RpdGVtJyk7XG5cbiAgICAgIGlmICh0QXR0cnMubmdDbGljayB8fCB0QXR0cnMubmdIcmVmIHx8IHRBdHRycy5ocmVmIHx8IHRBdHRycy51aVNyZWYgfHwgdEF0dHJzLm5nQXR0clVpU3JlZikge1xuICAgICAgICB3cmFwSW4oJ2J1dHRvbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHR5cGU7IHR5cGUgPSBwcm94aWVkVHlwZXNbaV07ICsraSkge1xuICAgICAgICAgIGlmIChwcm94eUVsZW1lbnQgPSB0RWxbMF0ucXVlcnlTZWxlY3Rvcih0eXBlKSkge1xuICAgICAgICAgICAgaGFzUHJveGllZEVsZW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNQcm94aWVkRWxlbWVudCkge1xuICAgICAgICAgIHdyYXBJbignZGl2Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRFbFswXS5xdWVyeVNlbGVjdG9yKCdtZC1idXR0b246bm90KC5tZC1zZWNvbmRhcnkpOm5vdCgubWQtZXhjbHVkZSknKSkge1xuICAgICAgICAgIHRFbC5hZGRDbGFzcygnbWQtbm8tcHJveHknKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd3JhcFNlY29uZGFyeSgpO1xuICAgICAgc2V0dXBUb2dnbGVBcmlhKCk7XG5cblxuICAgICAgZnVuY3Rpb24gc2V0dXBUb2dnbGVBcmlhKCkge1xuICAgICAgICB2YXIgdG9nZ2xlVHlwZXMgPSBbJ21kLXN3aXRjaCcsICdtZC1jaGVja2JveCddO1xuICAgICAgICB2YXIgdG9nZ2xlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCB0b2dnbGVUeXBlOyB0b2dnbGVUeXBlID0gdG9nZ2xlVHlwZXNbaV07ICsraSkge1xuICAgICAgICAgIGlmICh0b2dnbGUgPSB0RWwuZmluZCh0b2dnbGVUeXBlKVswXSkge1xuICAgICAgICAgICAgaWYgKCF0b2dnbGUuaGFzQXR0cmlidXRlKCdhcmlhLWxhYmVsJykpIHtcbiAgICAgICAgICAgICAgdmFyIHAgPSB0RWwuZmluZCgncCcpWzBdO1xuICAgICAgICAgICAgICBpZiAoIXApIHJldHVybjtcbiAgICAgICAgICAgICAgdG9nZ2xlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdUb2dnbGUgJyArIHAudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB3cmFwSW4odHlwZSkge1xuICAgICAgICB2YXIgY29udGFpbmVyO1xuICAgICAgICBpZiAodHlwZSA9PSAnZGl2Jykge1xuICAgICAgICAgIGNvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cIm1kLW5vLXN0eWxlIG1kLWxpc3QtaXRlbS1pbm5lclwiPicpO1xuICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQodEVsLmNvbnRlbnRzKCkpO1xuICAgICAgICAgIHRFbC5hZGRDbGFzcygnbWQtcHJveHktZm9jdXMnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoJzxtZC1idXR0b24gY2xhc3M9XCJtZC1uby1zdHlsZVwiPjxkaXYgY2xhc3M9XCJtZC1saXN0LWl0ZW0taW5uZXJcIj48L2Rpdj48L21kLWJ1dHRvbj4nKTtcbiAgICAgICAgICBjb3B5QXR0cmlidXRlcyh0RWxbMF0sIGNvbnRhaW5lclswXSk7XG4gICAgICAgICAgY29udGFpbmVyLmNoaWxkcmVuKCkuZXEoMCkuYXBwZW5kKHRFbC5jb250ZW50cygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRFbFswXS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgICAgIHRFbC5hcHBlbmQoY29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gd3JhcFNlY29uZGFyeSgpIHtcbiAgICAgICAgaWYgKHNlY29uZGFyeUl0ZW0gJiYgIWlzQnV0dG9uKHNlY29uZGFyeUl0ZW0pICYmIHNlY29uZGFyeUl0ZW0uaGFzQXR0cmlidXRlKCduZy1jbGljaycpKSB7XG4gICAgICAgICAgJG1kQXJpYS5leHBlY3Qoc2Vjb25kYXJ5SXRlbSwgJ2FyaWEtbGFiZWwnKTtcbiAgICAgICAgICB2YXIgYnV0dG9uV3JhcHBlciA9IGFuZ3VsYXIuZWxlbWVudCgnPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLXNlY29uZGFyeS1jb250YWluZXIgbWQtaWNvbi1idXR0b25cIj4nKTtcbiAgICAgICAgICBjb3B5QXR0cmlidXRlcyhzZWNvbmRhcnlJdGVtLCBidXR0b25XcmFwcGVyWzBdKTtcbiAgICAgICAgICBzZWNvbmRhcnlJdGVtLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICBzZWNvbmRhcnlJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ21kLXNlY29uZGFyeScpO1xuICAgICAgICAgIGJ1dHRvbldyYXBwZXIuYXBwZW5kKHNlY29uZGFyeUl0ZW0pO1xuICAgICAgICAgIHNlY29uZGFyeUl0ZW0gPSBidXR0b25XcmFwcGVyWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGEgc2Vjb25kYXJ5IGl0ZW0gYW5kIG1vdmUgaXQgb3V0c2lkZVxuICAgICAgICBpZiAoIHNlY29uZGFyeUl0ZW0gJiYgKFxuICAgICAgICAgICAgc2Vjb25kYXJ5SXRlbS5oYXNBdHRyaWJ1dGUoJ25nLWNsaWNrJykgfHxcbiAgICAgICAgICAgICggdEF0dHJzLm5nQ2xpY2sgJiZcbiAgICAgICAgICAgIGlzUHJveGllZEVsZW1lbnQoc2Vjb25kYXJ5SXRlbSkgKVxuICAgICAgICAgICkpIHtcbiAgICAgICAgICB0RWwuYWRkQ2xhc3MoJ21kLXdpdGgtc2Vjb25kYXJ5Jyk7XG4gICAgICAgICAgdEVsLmFwcGVuZChzZWNvbmRhcnlJdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjb3B5QXR0cmlidXRlcyhpdGVtLCB3cmFwcGVyKSB7XG4gICAgICAgIHZhciBjb3BpZWRBdHRycyA9IFsnbmctaWYnLCAnbmctY2xpY2snLCAnYXJpYS1sYWJlbCcsICduZy1kaXNhYmxlZCcsXG4gICAgICAgICAgJ3VpLXNyZWYnLCAnaHJlZicsICduZy1ocmVmJywgJ25nLWF0dHItdWktc3JlZiddO1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goY29waWVkQXR0cnMsIGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgICBpZiAoaXRlbS5oYXNBdHRyaWJ1dGUoYXR0cikpIHtcbiAgICAgICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKGF0dHIsIGl0ZW0uZ2V0QXR0cmlidXRlKGF0dHIpKTtcbiAgICAgICAgICAgIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGlzUHJveGllZEVsZW1lbnQoZWwpIHtcbiAgICAgICAgcmV0dXJuIHByb3hpZWRUeXBlcy5pbmRleE9mKGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpICE9IC0xO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpc0J1dHRvbihlbCkge1xuICAgICAgICB2YXIgbm9kZU5hbWUgPSBlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgIHJldHVybiBub2RlTmFtZSA9PSBcIk1ELUJVVFRPTlwiIHx8IG5vZGVOYW1lID09IFwiQlVUVE9OXCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwb3N0TGluaztcblxuICAgICAgZnVuY3Rpb24gcG9zdExpbmsoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwpIHtcblxuICAgICAgICB2YXIgcHJveGllcyAgICA9IFtdLFxuICAgICAgICAgICAgZmlyc3RDaGlsZCA9ICRlbGVtZW50WzBdLmZpcnN0RWxlbWVudENoaWxkLFxuICAgICAgICAgICAgaGFzQ2xpY2sgICA9IGZpcnN0Q2hpbGQgJiYgaGFzQ2xpY2tFdmVudChmaXJzdENoaWxkKTtcblxuICAgICAgICBjb21wdXRlUHJveGllcygpO1xuICAgICAgICBjb21wdXRlQ2xpY2thYmxlKCk7XG5cbiAgICAgICAgaWYgKCRlbGVtZW50Lmhhc0NsYXNzKCdtZC1wcm94eS1mb2N1cycpICYmIHByb3hpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHByb3hpZXMsIGZ1bmN0aW9uKHByb3h5KSB7XG4gICAgICAgICAgICBwcm94eSA9IGFuZ3VsYXIuZWxlbWVudChwcm94eSk7XG5cbiAgICAgICAgICAgICRzY29wZS5tb3VzZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcHJveHkub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkc2NvcGUubW91c2VBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICRzY29wZS5tb3VzZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5tb3VzZUFjdGl2ZSA9PT0gZmFsc2UpIHsgJGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWZvY3VzZWQnKTsgfVxuICAgICAgICAgICAgICBwcm94eS5vbignYmx1cicsIGZ1bmN0aW9uIHByb3h5T25CbHVyKCkge1xuICAgICAgICAgICAgICAgICRlbGVtZW50LnJlbW92ZUNsYXNzKCdtZC1mb2N1c2VkJyk7XG4gICAgICAgICAgICAgICAgcHJveHkub2ZmKCdibHVyJywgcHJveHlPbkJsdXIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaGFzQ2xpY2tFdmVudCAoZWxlbWVudCkge1xuICAgICAgICAgIHZhciBhdHRyID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCRhdHRyLiRub3JtYWxpemUoYXR0cltpXS5uYW1lKSA9PT0gJ25nQ2xpY2snKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29tcHV0ZVByb3hpZXMoKSB7XG4gICAgICAgICAgdmFyIGNoaWxkcmVuID0gJGVsZW1lbnQuY2hpbGRyZW4oKTtcbiAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoICYmICFjaGlsZHJlblswXS5oYXNBdHRyaWJ1dGUoJ25nLWNsaWNrJykpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwcm94aWVkVHlwZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGZpcnN0Q2hpbGQucXVlcnlTZWxlY3RvckFsbCh0eXBlKSwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwcm94aWVzLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjb21wdXRlQ2xpY2thYmxlKCkge1xuICAgICAgICAgIGlmIChwcm94aWVzLmxlbmd0aCA9PSAxIHx8IGhhc0NsaWNrKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygnbWQtY2xpY2thYmxlJyk7XG5cbiAgICAgICAgICAgIGlmICghaGFzQ2xpY2spIHtcbiAgICAgICAgICAgICAgY3RybC5hdHRhY2hSaXBwbGUoJHNjb3BlLCBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLW5vLXN0eWxlJykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhhc0NsaWNrICYmICFwcm94aWVzLmxlbmd0aCkge1xuICAgICAgICAgIGZpcnN0Q2hpbGQgJiYgZmlyc3RDaGlsZC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5ub2RlTmFtZSAhPSAnSU5QVVQnICYmIGUudGFyZ2V0Lm5vZGVOYW1lICE9ICdURVhUQVJFQScpIHtcbiAgICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBlLndoaWNoIHx8IGUua2V5Q29kZTtcbiAgICAgICAgICAgICAgaWYgKGtleUNvZGUgPT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuU1BBQ0UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgZmlyc3RDaGlsZC5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICRlbGVtZW50Lm9mZignY2xpY2snKTtcbiAgICAgICAgJGVsZW1lbnQub2ZmKCdrZXlwcmVzcycpO1xuXG4gICAgICAgIGlmIChwcm94aWVzLmxlbmd0aCA9PSAxICYmIGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAkZWxlbWVudC5jaGlsZHJlbigpLmVxKDApLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnRCdXR0b24gPSAkbWRVdGlsLmdldENsb3Nlc3QoZS50YXJnZXQsICdCVVRUT04nKTtcbiAgICAgICAgICAgIGlmICghcGFyZW50QnV0dG9uICYmIGZpcnN0Q2hpbGQuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwcm94aWVzLCBmdW5jdGlvbihwcm94eSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gcHJveHkgJiYgIXByb3h5LmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KHByb3h5KS50cmlnZ2VySGFuZGxlcignY2xpY2snKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxubWRMaXN0SXRlbURpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kQXJpYVwiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kVXRpbFwiLCBcIiR0aW1lb3V0XCJdO1xuXG4vKlxuICogQHByaXZhdGVcbiAqIEBuZ2RvYyBjb250cm9sbGVyXG4gKiBAbmFtZSBNZExpc3RDb250cm9sbGVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMubGlzdFxuICpcbiAqL1xuZnVuY3Rpb24gTWRMaXN0Q29udHJvbGxlcigkc2NvcGUsICRlbGVtZW50LCAkbWRMaXN0SW5rUmlwcGxlKSB7XG4gIHZhciBjdHJsID0gdGhpcztcbiAgY3RybC5hdHRhY2hSaXBwbGUgPSBhdHRhY2hSaXBwbGU7XG5cbiAgZnVuY3Rpb24gYXR0YWNoUmlwcGxlIChzY29wZSwgZWxlbWVudCkge1xuICAgIHZhciBvcHRpb25zID0ge307XG4gICAgJG1kTGlzdElua1JpcHBsZS5hdHRhY2goc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpO1xuICB9XG59XG5NZExpc3RDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkZWxlbWVudFwiLCBcIiRtZExpc3RJbmtSaXBwbGVcIl07XG5cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5tZW51XG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMubWVudScsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcCdcbl0pO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLm1lbnUtYmFyXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMubWVudUJhcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5tZW51J1xuXSk7XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NDaXJjdWxhclxuICogQGRlc2NyaXB0aW9uIENpcmN1bGFyIFByb2dyZXNzIG1vZHVsZSFcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NDaXJjdWxhcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZFByb2dyZXNzQ2lyY3VsYXInLCBNZFByb2dyZXNzQ2lyY3VsYXJEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kUHJvZ3Jlc3NDaXJjdWxhclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzQ2lyY3VsYXJcbiAqIEByZXN0cmljdCBFXG4gKlxuKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBjaXJjdWxhciBwcm9ncmVzcyBkaXJlY3RpdmUgaXMgdXNlZCB0byBtYWtlIGxvYWRpbmcgY29udGVudCBpbiB5b3VyIGFwcCBhcyBkZWxpZ2h0ZnVsIGFuZFxuICogcGFpbmxlc3MgYXMgcG9zc2libGUgYnkgbWluaW1pemluZyB0aGUgYW1vdW50IG9mIHZpc3VhbCBjaGFuZ2UgYSB1c2VyIHNlZXMgYmVmb3JlIHRoZXkgY2FuIHZpZXdcbiAqIGFuZCBpbnRlcmFjdCB3aXRoIGNvbnRlbnQuXG4gKlxuICogRm9yIG9wZXJhdGlvbnMgd2hlcmUgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIG9wZXJhdGlvbiBjb21wbGV0ZWQgY2FuIGJlIGRldGVybWluZWQsIHVzZSBhXG4gKiBkZXRlcm1pbmF0ZSBpbmRpY2F0b3IuIFRoZXkgZ2l2ZSB1c2VycyBhIHF1aWNrIHNlbnNlIG9mIGhvdyBsb25nIGFuIG9wZXJhdGlvbiB3aWxsIHRha2UuXG4gKlxuICogRm9yIG9wZXJhdGlvbnMgd2hlcmUgdGhlIHVzZXIgaXMgYXNrZWQgdG8gd2FpdCBhIG1vbWVudCB3aGlsZSBzb21ldGhpbmcgZmluaXNoZXMgdXAsIGFuZCBpdOKAmXNcbiAqIG5vdCBuZWNlc3NhcnkgdG8gZXhwb3NlIHdoYXQncyBoYXBwZW5pbmcgYmVoaW5kIHRoZSBzY2VuZXMgYW5kIGhvdyBsb25nIGl0IHdpbGwgdGFrZSwgdXNlIGFuXG4gKiBpbmRldGVybWluYXRlIGluZGljYXRvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtbW9kZSBTZWxlY3QgZnJvbSBvbmUgb2YgdHdvIG1vZGVzOiAqKidkZXRlcm1pbmF0ZScqKiBhbmQgKionaW5kZXRlcm1pbmF0ZScqKi5cbiAqXG4gKiBOb3RlOiBpZiB0aGUgYG1kLW1vZGVgIHZhbHVlIGlzIHNldCBhcyB1bmRlZmluZWQgb3Igc3BlY2lmaWVkIGFzIG5vdCAxIG9mIHRoZSB0d28gKDIpIHZhbGlkIG1vZGVzLCB0aGVuIGAubmctaGlkZWBcbiAqIHdpbGwgYmUgYXV0by1hcHBsaWVkIGFzIGEgc3R5bGUgdG8gdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBOb3RlOiBpZiBub3QgY29uZmlndXJlZCwgdGhlIGBtZC1tb2RlPVwiaW5kZXRlcm1pbmF0ZVwiYCB3aWxsIGJlIGF1dG8gaW5qZWN0ZWQgYXMgYW4gYXR0cmlidXRlLlxuICogSWYgYHZhbHVlPVwiXCJgIGlzIGFsc28gc3BlY2lmaWVkLCBob3dldmVyLCB0aGVuIGBtZC1tb2RlPVwiZGV0ZXJtaW5hdGVcImAgd291bGQgYmUgYXV0by1pbmplY3RlZCBpbnN0ZWFkLlxuICogQHBhcmFtIHtudW1iZXI9fSB2YWx1ZSBJbiBkZXRlcm1pbmF0ZSBtb2RlLCB0aGlzIG51bWJlciByZXByZXNlbnRzIHRoZSBwZXJjZW50YWdlIG9mIHRoZVxuICogICAgIGNpcmN1bGFyIHByb2dyZXNzLiBEZWZhdWx0OiAwXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLWRpYW1ldGVyIFRoaXMgc3BlY2lmaWVzIHRoZSBkaWFtdGVyIG9mIHRoZSBjaXJjdWxhciBwcm9ncmVzcy4gVGhlIHZhbHVlXG4gKiBtYXkgYmUgYSBwZXJjZW50YWdlIChlZyAnMjUlJykgb3IgYSBwaXhlbC1zaXplIHZhbHVlIChlZyAnNDgnKS4gSWYgdGhpcyBhdHRyaWJ1dGUgaXNcbiAqIG5vdCBwcmVzZW50IHRoZW4gYSBkZWZhdWx0IHZhbHVlIG9mICc0OHB4JyBpcyBhc3N1bWVkLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1tb2RlPVwiZGV0ZXJtaW5hdGVcIiB2YWx1ZT1cIi4uLlwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XCJkZXRlcm1pbmF0ZVwiIG5nLXZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj5cbiAqXG4gKiA8bWQtcHJvZ3Jlc3MtY2lyY3VsYXIgbWQtbW9kZT1cImRldGVybWluYXRlXCIgdmFsdWU9XCIuLi5cIiBtZC1kaWFtZXRlcj1cIjEwMFwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XCJpbmRldGVybWluYXRlXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj5cbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gTWRQcm9ncmVzc0NpcmN1bGFyRGlyZWN0aXZlKCRtZFRoZW1pbmcsICRtZFV0aWwsICRsb2cpIHtcbiAgdmFyIERFRkFVTFRfUFJPR1JFU1NfU0laRSA9IDEwMDtcbiAgdmFyIERFRkFVTFRfU0NBTElORyA9IDAuNTtcblxuICB2YXIgTU9ERV9ERVRFUk1JTkFURSA9IFwiZGV0ZXJtaW5hdGVcIixcbiAgICAgIE1PREVfSU5ERVRFUk1JTkFURSA9IFwiaW5kZXRlcm1pbmF0ZVwiO1xuXG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHNjb3BlIDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTpcbiAgICAgICAgLy8gVGhlIHByb2dyZXNzICdjaXJjbGUnIGlzIGNvbXBvc2VkIG9mIHR3byBoYWxmLWNpcmNsZXM6IHRoZSBsZWZ0IHNpZGUgYW5kIHRoZSByaWdodFxuICAgICAgICAvLyBzaWRlLiBFYWNoIHNpZGUgaGFzIENTUyBhcHBsaWVkIHRvICdmaWxsLWluJyB0aGUgaGFsZi1jaXJjbGUgdG8gdGhlIGFwcHJvcHJpYXRlIHByb2dyZXNzLlxuICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLXNjYWxlLXdyYXBwZXJcIj4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLXNwaW5uZXItd3JhcHBlclwiPicgK1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1pbm5lclwiPicgK1xuICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWdhcFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWxlZnRcIj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWhhbGYtY2lyY2xlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1yaWdodFwiPicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtaGFsZi1jaXJjbGVcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQpIHtcbiAgICAvLyBUaGUgamF2YXNjcmlwdCBpbiB0aGlzIGZpbGUgaXMgbWFpbmx5IHJlc3BvbnNpYmxlIGZvciBzZXR0aW5nIHRoZSBjb3JyZWN0IGFyaWEgYXR0cmlidXRlcy5cbiAgICAvLyBUaGUgYW5pbWF0aW9uIG9mIHRoZSBwcm9ncmVzcyBzcGlubmVyIGlzIGRvbmUgZW50aXJlbHkgd2l0aCBqdXN0IENTUy5cbiAgICB0RWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbWluJywgMCk7XG4gICAgdEVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW1heCcsIDEwMCk7XG4gICAgdEVsZW1lbnQuYXR0cigncm9sZScsICdwcm9ncmVzc2JhcicpO1xuXG4gICAgcmV0dXJuIHBvc3RMaW5rO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuXG4gICAgdmFyIGNpcmNsZSA9IGVsZW1lbnQ7XG4gICAgdmFyIHNwaW5uZXJXcmFwcGVyID0gIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmNoaWxkcmVuKClbMF0pO1xuICAgIHZhciBsYXN0TW9kZSwgdG9WZW5kb3JDU1MgPSAkbWRVdGlsLmRvbS5hbmltYXRvci50b0NzcztcblxuICAgIGVsZW1lbnQuYXR0cignbWQtbW9kZScsIG1vZGUoKSk7XG5cbiAgICB1cGRhdGVTY2FsZSgpO1xuICAgIHZhbGlkYXRlTW9kZSgpO1xuICAgIHdhdGNoQXR0cmlidXRlcygpO1xuXG4gICAgLyoqXG4gICAgICogV2F0Y2ggdGhlIHZhbHVlIGFuZCBtZC1tb2RlIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3YXRjaEF0dHJpYnV0ZXMoKSB7XG4gICAgIGF0dHIuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgdmFyIHBlcmNlbnRWYWx1ZSA9IGNsYW1wKHZhbHVlKTtcbiAgICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbm93JywgcGVyY2VudFZhbHVlKTtcblxuICAgICAgICAgICBpZiAobW9kZSgpID09IE1PREVfREVURVJNSU5BVEUpIHtcbiAgICAgICAgICAgICBhbmltYXRlSW5kaWNhdG9yKHBlcmNlbnRWYWx1ZSk7XG4gICAgICAgICAgIH1cbiAgICAgICAgIH0pO1xuICAgICBhdHRyLiRvYnNlcnZlKCdtZE1vZGUnLGZ1bmN0aW9uKG1vZGUpe1xuICAgICAgIHN3aXRjaCggbW9kZSApIHtcbiAgICAgICAgIGNhc2UgTU9ERV9ERVRFUk1JTkFURTpcbiAgICAgICAgIGNhc2UgTU9ERV9JTkRFVEVSTUlOQVRFOlxuICAgICAgICAgICBzcGlubmVyV3JhcHBlci5yZW1vdmVDbGFzcygnbmctaGlkZScpO1xuICAgICAgICAgICBpZiAobGFzdE1vZGUpIHNwaW5uZXJXcmFwcGVyLnJlbW92ZUNsYXNzKGxhc3RNb2RlKTtcbiAgICAgICAgICAgc3Bpbm5lcldyYXBwZXIuYWRkQ2xhc3MoIGxhc3RNb2RlID0gXCJtZC1tb2RlLVwiICsgbW9kZSApO1xuICAgICAgICAgICBicmVhaztcbiAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgIGlmIChsYXN0TW9kZSkgc3Bpbm5lcldyYXBwZXIucmVtb3ZlQ2xhc3MoIGxhc3RNb2RlICk7XG4gICAgICAgICAgIHNwaW5uZXJXcmFwcGVyLmFkZENsYXNzKCduZy1oaWRlJyk7XG4gICAgICAgICAgIGxhc3RNb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICBicmVhaztcbiAgICAgICB9XG4gICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBzaXplL3NjYWxpbmcgb2YgdGhlIHByb2dyZXNzIGluZGljYXRvclxuICAgICAqIFdhdGNoIHRoZSBcInZhbHVlXCIgYW5kIFwibWQtbW9kZVwiIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVTY2FsZSgpIHtcbiAgICAgIC8vIHNldCB0aGUgb3V0ZXIgY29udGFpbmVyIHRvIHRoZSBzaXplIHRoZSB1c2VyIHNwZWNpZmllZFxuICAgICAgY2lyY2xlLmNzcyh7XG4gICAgICAgIHdpZHRoOiAoMTAwICogZ2V0RGlhbWV0ZXJSYXRpbygpKSArICdweCcsXG4gICAgICAgIGhlaWdodDogKDEwMCAqIGdldERpYW1ldGVyUmF0aW8oKSkgKyAncHgnXG4gICAgICB9KTtcbiAgICAgIC8vIHRoZSBpbnRlcm5hbCBlbGVtZW50IGlzIHN0aWxsIDEwMHB4LCBzbyB3ZSBoYXZlIHRvIHNjYWxlIGl0IGRvd24gdG8gbWF0Y2ggdGhlIHNpemVcbiAgICAgIGNpcmNsZS5jaGlsZHJlbigpLmVxKDApLmNzcyh0b1ZlbmRvckNTUyh7XG4gICAgICAgIHRyYW5zZm9ybSA6ICRtZFV0aWwuc3VwcGxhbnQoJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSggezB9ICknLFtnZXREaWFtZXRlclJhdGlvKCldKVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF1dG8tZGVmYXVsdHMgdGhlIG1vZGUgdG8gZWl0aGVyIGBkZXRlcm1pbmF0ZWAgb3IgYGluZGV0ZXJtaW5hdGVgIG1vZGU7IGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZU1vZGUoKSB7XG4gICAgICBpZiAoIGFuZ3VsYXIuaXNVbmRlZmluZWQoYXR0ci5tZE1vZGUpICkge1xuICAgICAgICB2YXIgaGFzVmFsdWUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLnZhbHVlKTtcbiAgICAgICAgdmFyIG1vZGUgPSBoYXNWYWx1ZSA/IE1PREVfREVURVJNSU5BVEUgOiBNT0RFX0lOREVURVJNSU5BVEU7XG4gICAgICAgIHZhciBpbmZvID0gXCJBdXRvLWFkZGluZyB0aGUgbWlzc2luZyBtZC1tb2RlPSd7MH0nIHRvIHRoZSBQcm9ncmVzc0NpcmN1bGFyIGVsZW1lbnRcIjtcblxuICAgICAgICAkbG9nLmRlYnVnKCAkbWRVdGlsLnN1cHBsYW50KGluZm8sIFttb2RlXSkgKTtcblxuICAgICAgICBlbGVtZW50LmF0dHIoXCJtZC1tb2RlXCIsbW9kZSk7XG4gICAgICAgIGF0dHJbJ21kTW9kZSddID0gbW9kZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGVmdEMsIHJpZ2h0QywgZ2FwO1xuXG4gICAgLyoqXG4gICAgICogTWFudWFsbHkgYW5pbWF0ZSB0aGUgRGV0ZXJtaW5hdGUgaW5kaWNhdG9yIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWRcbiAgICAgKiBwZXJjZW50YWdlIHZhbHVlICgwLTEwMCkuXG4gICAgICpcbiAgICAgKiBOb3RlOiB0aGlzIGFuaW1hdGlvbiB3YXMgcHJldmlvdXNseSBkb25lIHVzaW5nIFNDU1MuXG4gICAgICogLSBnZW5lcmF0ZWQgNTRLIG9mIHN0eWxlc1xuICAgICAqIC0gdXNlIGF0dHJpYnV0ZSBzZWxlY3RvcnMgd2hpY2ggaGFkIHBvb3IgcGVyZm9ybWFuY2VzIGluIElFXG4gICAgICovXG4gICAgZnVuY3Rpb24gYW5pbWF0ZUluZGljYXRvcih2YWx1ZSkge1xuICAgICAgaWYgKCAhbW9kZSgpICkgcmV0dXJuO1xuXG4gICAgICBsZWZ0QyAgPSBsZWZ0QyAgfHwgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLWxlZnQgPiAubWQtaGFsZi1jaXJjbGUnKSk7XG4gICAgICByaWdodEMgPSByaWdodEMgfHwgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXJpZ2h0ID4gLm1kLWhhbGYtY2lyY2xlJykpO1xuICAgICAgZ2FwICAgID0gZ2FwICAgIHx8IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1nYXAnKSk7XG5cbiAgICAgIHZhciBnYXBTdHlsZXMgPSByZW1vdmVFbXB0eVZhbHVlcyh7XG4gICAgICAgICAgYm9yZGVyQm90dG9tQ29sb3I6ICh2YWx1ZSA8PSA1MCkgPyBcInRyYW5zcGFyZW50ICFpbXBvcnRhbnRcIiA6IFwiXCIsXG4gICAgICAgICAgdHJhbnNpdGlvbjogKHZhbHVlIDw9IDUwKSA/IFwiXCIgOiBcImJvcmRlckJvdHRvbUNvbG9yIDAuMXMgbGluZWFyXCJcbiAgICAgICAgfSksXG4gICAgICAgIGxlZnRTdHlsZXMgPSByZW1vdmVFbXB0eVZhbHVlcyh7XG4gICAgICAgICAgdHJhbnNpdGlvbjogKHZhbHVlIDw9IDUwKSA/IFwidHJhbnNmb3JtIDAuMXMgbGluZWFyXCIgOiBcIlwiLFxuICAgICAgICAgIHRyYW5zZm9ybTogJG1kVXRpbC5zdXBwbGFudChcInJvdGF0ZSh7MH1kZWcpXCIsIFt2YWx1ZSA8PSA1MCA/IDEzNSA6ICgoKHZhbHVlIC0gNTApIC8gNTAgKiAxODApICsgMTM1KV0pXG4gICAgICAgIH0pLFxuICAgICAgICByaWdodFN0eWxlcyA9IHJlbW92ZUVtcHR5VmFsdWVzKHtcbiAgICAgICAgICB0cmFuc2l0aW9uOiAodmFsdWUgPj0gNTApID8gXCJ0cmFuc2Zvcm0gMC4xcyBsaW5lYXJcIiA6IFwiXCIsXG4gICAgICAgICAgdHJhbnNmb3JtOiAkbWRVdGlsLnN1cHBsYW50KFwicm90YXRlKHswfWRlZylcIiwgW3ZhbHVlID49IDUwID8gNDUgOiAodmFsdWUgLyA1MCAqIDE4MCAtIDEzNSldKVxuICAgICAgICB9KTtcblxuICAgICAgbGVmdEMuY3NzKHRvVmVuZG9yQ1NTKGxlZnRTdHlsZXMpKTtcbiAgICAgIHJpZ2h0Qy5jc3ModG9WZW5kb3JDU1MocmlnaHRTdHlsZXMpKTtcbiAgICAgIGdhcC5jc3ModG9WZW5kb3JDU1MoZ2FwU3R5bGVzKSk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXZSB3aWxsIHNjYWxlIHRoZSBwcm9ncmVzcyBjaXJjbGUgYmFzZWQgb24gdGhlIGRlZmF1bHQgZGlhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBEZXRlcm1pbmUgdGhlIGRpYW1ldGVyIHBlcmNlbnRhZ2UgKGRlZmF1bHRzIHRvIDEwMCUpXG4gICAgICogTWF5IGJlIGV4cHJlc3MgYXMgZmxvYXQsIHBlcmNlbnRhZ2UsIG9yIGludGVnZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXREaWFtZXRlclJhdGlvKCkge1xuICAgICAgaWYgKCAhYXR0ci5tZERpYW1ldGVyICkgcmV0dXJuIERFRkFVTFRfU0NBTElORztcblxuICAgICAgdmFyIG1hdGNoID0gLyhbMC05XSopJS8uZXhlYyhhdHRyLm1kRGlhbWV0ZXIpO1xuICAgICAgdmFyIHZhbHVlID0gTWF0aC5tYXgoMCwgKG1hdGNoICYmIG1hdGNoWzFdLzEwMCkgfHwgcGFyc2VGbG9hdChhdHRyLm1kRGlhbWV0ZXIpKTtcblxuICAgICAgLy8gc2hvdWxkIHJldHVybiByYXRpbzsgREVGQVVMVF9QUk9HUkVTU19TSVpFID09PSAxMDBweCBpcyBkZWZhdWx0IHNpemVcbiAgICAgIHJldHVybiAgKHZhbHVlID4gMSkgPyB2YWx1ZSAvIERFRkFVTFRfUFJPR1JFU1NfU0laRSA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIHRoZSBtZC1tb2RlIGEgdmFsaWQgb3B0aW9uP1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1vZGUoKSB7XG4gICAgICB2YXIgdmFsdWUgPSAoYXR0ci5tZE1vZGUgfHwgXCJcIikudHJpbSgpO1xuICAgICAgaWYgKCB2YWx1ZSApIHtcbiAgICAgICAgc3dpdGNoKHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBNT0RFX0RFVEVSTUlOQVRFIDpcbiAgICAgICAgICBjYXNlIE1PREVfSU5ERVRFUk1JTkFURSA6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICB9XG5cbiAgLyoqXG4gICAqIENsYW1wcyB0aGUgdmFsdWUgdG8gYmUgYmV0d2VlbiAwIGFuZCAxMDAuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xhbXAuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSB8fCAwLCAxMDApKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUVtcHR5VmFsdWVzKHRhcmdldCkge1xuICAgIGZvciAodmFyIGtleSBpbiB0YXJnZXQpIHtcbiAgICAgIGlmICh0YXJnZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBpZiAoIHRhcmdldFtrZXldID09IFwiXCIgKSBkZWxldGUgdGFyZ2V0W2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxufVxuTWRQcm9ncmVzc0NpcmN1bGFyRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCIsIFwiJG1kVXRpbFwiLCBcIiRsb2dcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NMaW5lYXJcbiAqIEBkZXNjcmlwdGlvbiBMaW5lYXIgUHJvZ3Jlc3MgbW9kdWxlIVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5wcm9ncmVzc0xpbmVhcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZFByb2dyZXNzTGluZWFyJywgTWRQcm9ncmVzc0xpbmVhckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRQcm9ncmVzc0xpbmVhclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzTGluZWFyXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGxpbmVhciBwcm9ncmVzcyBkaXJlY3RpdmUgaXMgdXNlZCB0byBtYWtlIGxvYWRpbmcgY29udGVudFxuICogaW4geW91ciBhcHAgYXMgZGVsaWdodGZ1bCBhbmQgcGFpbmxlc3MgYXMgcG9zc2libGUgYnkgbWluaW1pemluZ1xuICogdGhlIGFtb3VudCBvZiB2aXN1YWwgY2hhbmdlIGEgdXNlciBzZWVzIGJlZm9yZSB0aGV5IGNhbiB2aWV3XG4gKiBhbmQgaW50ZXJhY3Qgd2l0aCBjb250ZW50LlxuICpcbiAqIEVhY2ggb3BlcmF0aW9uIHNob3VsZCBvbmx5IGJlIHJlcHJlc2VudGVkIGJ5IG9uZSBhY3Rpdml0eSBpbmRpY2F0b3JcbiAqIEZvciBleGFtcGxlOiBvbmUgcmVmcmVzaCBvcGVyYXRpb24gc2hvdWxkIG5vdCBkaXNwbGF5IGJvdGggYVxuICogcmVmcmVzaCBiYXIgYW5kIGFuIGFjdGl2aXR5IGNpcmNsZS5cbiAqXG4gKiBGb3Igb3BlcmF0aW9ucyB3aGVyZSB0aGUgcGVyY2VudGFnZSBvZiB0aGUgb3BlcmF0aW9uIGNvbXBsZXRlZFxuICogY2FuIGJlIGRldGVybWluZWQsIHVzZSBhIGRldGVybWluYXRlIGluZGljYXRvci4gVGhleSBnaXZlIHVzZXJzXG4gKiBhIHF1aWNrIHNlbnNlIG9mIGhvdyBsb25nIGFuIG9wZXJhdGlvbiB3aWxsIHRha2UuXG4gKlxuICogRm9yIG9wZXJhdGlvbnMgd2hlcmUgdGhlIHVzZXIgaXMgYXNrZWQgdG8gd2FpdCBhIG1vbWVudCB3aGlsZVxuICogc29tZXRoaW5nIGZpbmlzaGVzIHVwLCBhbmQgaXTigJlzIG5vdCBuZWNlc3NhcnkgdG8gZXhwb3NlIHdoYXQnc1xuICogaGFwcGVuaW5nIGJlaGluZCB0aGUgc2NlbmVzIGFuZCBob3cgbG9uZyBpdCB3aWxsIHRha2UsIHVzZSBhblxuICogaW5kZXRlcm1pbmF0ZSBpbmRpY2F0b3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1kLW1vZGUgU2VsZWN0IGZyb20gb25lIG9mIGZvdXIgbW9kZXM6IGRldGVybWluYXRlLCBpbmRldGVybWluYXRlLCBidWZmZXIgb3IgcXVlcnkuXG4gKlxuICogTm90ZTogaWYgdGhlIGBtZC1tb2RlYCB2YWx1ZSBpcyBzZXQgYXMgdW5kZWZpbmVkIG9yIHNwZWNpZmllZCBhcyAxIG9mIHRoZSBmb3VyICg0KSB2YWxpZCBtb2RlcywgdGhlbiBgLm5nLWhpZGVgXG4gKiB3aWxsIGJlIGF1dG8tYXBwbGllZCBhcyBhIHN0eWxlIHRvIHRoZSBjb21wb25lbnQuXG4gKlxuICogTm90ZTogaWYgbm90IGNvbmZpZ3VyZWQsIHRoZSBgbWQtbW9kZT1cImluZGV0ZXJtaW5hdGVcImAgd2lsbCBiZSBhdXRvIGluamVjdGVkIGFzIGFuIGF0dHJpYnV0ZS4gSWYgYHZhbHVlPVwiXCJgIGlzIGFsc28gc3BlY2lmaWVkLCBob3dldmVyLFxuICogdGhlbiBgbWQtbW9kZT1cImRldGVybWluYXRlXCJgIHdvdWxkIGJlIGF1dG8taW5qZWN0ZWQgaW5zdGVhZC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gdmFsdWUgSW4gZGV0ZXJtaW5hdGUgYW5kIGJ1ZmZlciBtb2RlcywgdGhpcyBudW1iZXIgcmVwcmVzZW50cyB0aGUgcGVyY2VudGFnZSBvZiB0aGUgcHJpbWFyeSBwcm9ncmVzcyBiYXIuIERlZmF1bHQ6IDBcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtYnVmZmVyLXZhbHVlIEluIHRoZSBidWZmZXIgbW9kZSwgdGhpcyBudW1iZXIgcmVwcmVzZW50cyB0aGUgcGVyY2VudGFnZSBvZiB0aGUgc2Vjb25kYXJ5IHByb2dyZXNzIGJhci4gRGVmYXVsdDogMFxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImRldGVybWluYXRlXCIgdmFsdWU9XCIuLi5cIj48L21kLXByb2dyZXNzLWxpbmVhcj5cbiAqXG4gKiA8bWQtcHJvZ3Jlc3MtbGluZWFyIG1kLW1vZGU9XCJkZXRlcm1pbmF0ZVwiIG5nLXZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwiaW5kZXRlcm1pbmF0ZVwiPjwvbWQtcHJvZ3Jlc3MtbGluZWFyPlxuICpcbiAqIDxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImJ1ZmZlclwiIHZhbHVlPVwiLi4uXCIgbWQtYnVmZmVyLXZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwicXVlcnlcIj48L21kLXByb2dyZXNzLWxpbmVhcj5cbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gTWRQcm9ncmVzc0xpbmVhckRpcmVjdGl2ZSgkbWRUaGVtaW5nLCAkbWRVdGlsLCAkbG9nKSB7XG4gIHZhciBNT0RFX0RFVEVSTUlOQVRFID0gXCJkZXRlcm1pbmF0ZVwiLFxuICAgICAgTU9ERV9JTkRFVEVSTUlOQVRFID0gXCJpbmRldGVybWluYXRlXCIsXG4gICAgICBNT0RFX0JVRkZFUiA9IFwiYnVmZmVyXCIsXG4gICAgICBNT0RFX1FVRVJZID0gXCJxdWVyeVwiO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtZC1jb250YWluZXJcIj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtZGFzaGVkXCI+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cIm1kLWJhciBtZC1iYXIxXCI+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cIm1kLWJhciBtZC1iYXIyXCI+PC9kaXY+JyArXG4gICAgICAnPC9kaXY+JyxcbiAgICBjb21waWxlOiBjb21waWxlXG4gIH07XG4gIFxuICBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50LCB0QXR0cnMsIHRyYW5zY2x1ZGUpIHtcbiAgICB0RWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbWluJywgMCk7XG4gICAgdEVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW1heCcsIDEwMCk7XG4gICAgdEVsZW1lbnQuYXR0cigncm9sZScsICdwcm9ncmVzc2JhcicpO1xuXG4gICAgcmV0dXJuIHBvc3RMaW5rO1xuICB9XG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgJG1kVGhlbWluZyhlbGVtZW50KTtcblxuICAgIHZhciBsYXN0TW9kZSwgdG9WZW5kb3JDU1MgPSAkbWRVdGlsLmRvbS5hbmltYXRvci50b0NzcztcbiAgICB2YXIgYmFyMSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1iYXIxJykpLFxuICAgICAgICBiYXIyID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLWJhcjInKSksXG4gICAgICAgIGNvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1jb250YWluZXInKSk7XG5cbiAgICBlbGVtZW50LmF0dHIoJ21kLW1vZGUnLCBtb2RlKCkpO1xuXG4gICAgdmFsaWRhdGVNb2RlKCk7XG4gICAgd2F0Y2hBdHRyaWJ1dGVzKCk7XG5cbiAgICAvKipcbiAgICAgKiBXYXRjaCB0aGUgdmFsdWUsIG1kLWJ1ZmZlci12YWx1ZSwgYW5kIG1kLW1vZGUgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdhdGNoQXR0cmlidXRlcygpIHtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHBlcmNlbnRWYWx1ZSA9IGNsYW1wKHZhbHVlKTtcbiAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbm93JywgcGVyY2VudFZhbHVlKTtcblxuICAgICAgICBpZiAobW9kZSgpICE9IE1PREVfUVVFUlkpIGFuaW1hdGVJbmRpY2F0b3IoYmFyMiwgcGVyY2VudFZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBhdHRyLiRvYnNlcnZlKCdtZEJ1ZmZlclZhbHVlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgYW5pbWF0ZUluZGljYXRvcihiYXIxLCBjbGFtcCh2YWx1ZSkpO1xuICAgICAgfSk7XG5cbiAgICAgIGF0dHIuJG9ic2VydmUoJ21kTW9kZScsZnVuY3Rpb24obW9kZSl7XG4gICAgICAgIHN3aXRjaCggbW9kZSApIHtcbiAgICAgICAgICBjYXNlIE1PREVfUVVFUlk6XG4gICAgICAgICAgY2FzZSBNT0RFX0JVRkZFUjpcbiAgICAgICAgICBjYXNlIE1PREVfREVURVJNSU5BVEU6XG4gICAgICAgICAgY2FzZSBNT0RFX0lOREVURVJNSU5BVEU6XG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoICduZy1oaWRlJyArICcgJyArIGxhc3RNb2RlICk7XG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoIGxhc3RNb2RlID0gXCJtZC1tb2RlLVwiICsgbW9kZSApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChsYXN0TW9kZSkgY29udGFpbmVyLnJlbW92ZUNsYXNzKCBsYXN0TW9kZSApO1xuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKCduZy1oaWRlJyk7XG4gICAgICAgICAgICBsYXN0TW9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdXRvLWRlZmF1bHRzIHRoZSBtb2RlIHRvIGVpdGhlciBgZGV0ZXJtaW5hdGVgIG9yIGBpbmRldGVybWluYXRlYCBtb2RlOyBpZiBub3Qgc3BlY2lmaWVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVNb2RlKCkge1xuICAgICAgaWYgKCBhbmd1bGFyLmlzVW5kZWZpbmVkKGF0dHIubWRNb2RlKSApIHtcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gYW5ndWxhci5pc0RlZmluZWQoYXR0ci52YWx1ZSk7XG4gICAgICAgIHZhciBtb2RlID0gaGFzVmFsdWUgPyBNT0RFX0RFVEVSTUlOQVRFIDogTU9ERV9JTkRFVEVSTUlOQVRFO1xuICAgICAgICB2YXIgaW5mbyA9IFwiQXV0by1hZGRpbmcgdGhlIG1pc3NpbmcgbWQtbW9kZT0nezB9JyB0byB0aGUgUHJvZ3Jlc3NMaW5lYXIgZWxlbWVudFwiO1xuXG4gICAgICAgICRsb2cuZGVidWcoICRtZFV0aWwuc3VwcGxhbnQoaW5mbywgW21vZGVdKSApO1xuXG4gICAgICAgIGVsZW1lbnQuYXR0cihcIm1kLW1vZGVcIixtb2RlKTtcbiAgICAgICAgYXR0clsnbWRNb2RlJ10gPSBtb2RlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIHRoZSBtZC1tb2RlIGEgdmFsaWQgb3B0aW9uP1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1vZGUoKSB7XG4gICAgICB2YXIgdmFsdWUgPSAoYXR0ci5tZE1vZGUgfHwgXCJcIikudHJpbSgpO1xuICAgICAgaWYgKCB2YWx1ZSApIHtcbiAgICAgICAgc3dpdGNoKHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBNT0RFX0RFVEVSTUlOQVRFOlxuICAgICAgICAgIGNhc2UgTU9ERV9JTkRFVEVSTUlOQVRFOlxuICAgICAgICAgIGNhc2UgTU9ERV9CVUZGRVI6XG4gICAgICAgICAgY2FzZSBNT0RFX1FVRVJZOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYW51YWxseSBzZXQgQ1NTIHRvIGFuaW1hdGUgdGhlIERldGVybWluYXRlIGluZGljYXRvciBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkXG4gICAgICogcGVyY2VudGFnZSB2YWx1ZSAoMC0xMDApLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFuaW1hdGVJbmRpY2F0b3IodGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgaWYgKCAhbW9kZSgpICkgcmV0dXJuO1xuXG4gICAgICB2YXIgdG8gPSAkbWRVdGlsLnN1cHBsYW50KFwidHJhbnNsYXRlWCh7MH0lKSBzY2FsZSh7MX0sMSlcIiwgWyAodmFsdWUtMTAwKS8yLCB2YWx1ZS8xMDAgXSk7XG4gICAgICB2YXIgc3R5bGVzID0gdG9WZW5kb3JDU1MoeyB0cmFuc2Zvcm0gOiB0byB9KTtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCh0YXJnZXQpLmNzcyggc3R5bGVzICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsYW1wcyB0aGUgdmFsdWUgdG8gYmUgYmV0d2VlbiAwIGFuZCAxMDAuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xhbXAuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSB8fCAwLCAxMDApKTtcbiAgfVxufVxuTWRQcm9ncmVzc0xpbmVhckRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiLCBcIiRtZFV0aWxcIiwgXCIkbG9nXCJdO1xuXG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMucmFkaW9CdXR0b25cbiAqIEBkZXNjcmlwdGlvbiByYWRpb0J1dHRvbiBtb2R1bGUhXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnJhZGlvQnV0dG9uJywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kUmFkaW9Hcm91cCcsIG1kUmFkaW9Hcm91cERpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbWRSYWRpb0J1dHRvbicsIG1kUmFkaW9CdXR0b25EaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5yYWRpb0J1dHRvblxuICogQG5hbWUgbWRSYWRpb0dyb3VwXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLXJhZGlvLWdyb3VwPmAgZGlyZWN0aXZlIGlkZW50aWZpZXMgYSBncm91cGluZ1xuICogY29udGFpbmVyIGZvciB0aGUgMS4ubiBncm91cGVkIHJhZGlvIGJ1dHRvbnM7IHNwZWNpZmllZCB1c2luZyBuZXN0ZWRcbiAqIGA8bWQtcmFkaW8tYnV0dG9uPmAgdGFncy5cbiAqXG4gKiBBcyBwZXIgdGhlIFttYXRlcmlhbCBkZXNpZ24gc3BlY10oaHR0cDovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL3N0eWxlL2NvbG9yLmh0bWwjY29sb3ItdWktY29sb3ItYXBwbGljYXRpb24pXG4gKiB0aGUgcmFkaW8gYnV0dG9uIGlzIGluIHRoZSBhY2NlbnQgY29sb3IgYnkgZGVmYXVsdC4gVGhlIHByaW1hcnkgY29sb3IgcGFsZXR0ZSBtYXkgYmUgdXNlZCB3aXRoXG4gKiB0aGUgYG1kLXByaW1hcnlgIGNsYXNzLlxuICpcbiAqIE5vdGU6IGA8bWQtcmFkaW8tZ3JvdXA+YCBhbmQgYDxtZC1yYWRpby1idXR0b24+YCBoYW5kbGUgdGFiaW5kZXggZGlmZmVyZW50bHlcbiAqIHRoYW4gdGhlIG5hdGl2ZSBgPGlucHV0IHR5cGU9J3JhZGlvJz5gIGNvbnRyb2xzLiBXaGVyZWFzIHRoZSBuYXRpdmUgY29udHJvbHNcbiAqIGZvcmNlIHRoZSB1c2VyIHRvIHRhYiB0aHJvdWdoIGFsbCB0aGUgcmFkaW8gYnV0dG9ucywgYDxtZC1yYWRpby1ncm91cD5gXG4gKiBpcyBmb2N1c2FibGUsIGFuZCBieSBkZWZhdWx0IHRoZSBgPG1kLXJhZGlvLWJ1dHRvbj5gcyBhcmUgbm90LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZy1tb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1pbmsgVXNlIG9mIGF0dHJpYnV0ZSBpbmRpY2F0ZXMgZmxhZyB0byBkaXNhYmxlIGluayByaXBwbGUgZWZmZWN0cy5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtcmFkaW8tZ3JvdXAgbmctbW9kZWw9XCJzZWxlY3RlZFwiPlxuICpcbiAqICAgPG1kLXJhZGlvLWJ1dHRvblxuICogICAgICAgIG5nLXJlcGVhdD1cImQgaW4gY29sb3JPcHRpb25zXCJcbiAqICAgICAgICBuZy12YWx1ZT1cImQudmFsdWVcIiBhcmlhLWxhYmVsPVwie3sgZC5sYWJlbCB9fVwiPlxuICpcbiAqICAgICAgICAgIHt7IGQubGFiZWwgfX1cbiAqXG4gKiAgIDwvbWQtcmFkaW8tYnV0dG9uPlxuICpcbiAqIDwvbWQtcmFkaW8tZ3JvdXA+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBtZFJhZGlvR3JvdXBEaXJlY3RpdmUoJG1kVXRpbCwgJG1kQ29uc3RhbnQsICRtZFRoZW1pbmcsICR0aW1lb3V0KSB7XG4gIFJhZGlvR3JvdXBDb250cm9sbGVyLnByb3RvdHlwZSA9IGNyZWF0ZVJhZGlvR3JvdXBDb250cm9sbGVyUHJvdG8oKTtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogWyckZWxlbWVudCcsIFJhZGlvR3JvdXBDb250cm9sbGVyXSxcbiAgICByZXF1aXJlOiBbJ21kUmFkaW9Hcm91cCcsICc/bmdNb2RlbCddLFxuICAgIGxpbms6IHsgcHJlOiBsaW5rUmFkaW9Hcm91cCB9XG4gIH07XG5cbiAgZnVuY3Rpb24gbGlua1JhZGlvR3JvdXAoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICB2YXIgcmdDdHJsID0gY3RybHNbMF07XG4gICAgdmFyIG5nTW9kZWxDdHJsID0gY3RybHNbMV0gfHwgJG1kVXRpbC5mYWtlTmdNb2RlbCgpO1xuXG4gICAgcmdDdHJsLmluaXQobmdNb2RlbEN0cmwpO1xuXG4gICAgc2NvcGUubW91c2VBY3RpdmUgPSBmYWxzZTtcbiAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAgICAgICAncm9sZSc6ICdyYWRpb2dyb3VwJyxcbiAgICAgICAgICAgICAgJ3RhYkluZGV4JzogZWxlbWVudC5hdHRyKCd0YWJpbmRleCcpIHx8ICcwJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcilcbiAgICAgICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgc2NvcGUubW91c2VBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5tb3VzZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYoc2NvcGUubW91c2VBY3RpdmUgPT09IGZhbHNlKSB7IHJnQ3RybC4kZWxlbWVudC5hZGRDbGFzcygnbWQtZm9jdXNlZCcpOyB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7IHJnQ3RybC4kZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtZm9jdXNlZCcpOyB9KTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Rm9jdXMoKSB7XG4gICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ21kLWZvY3VzZWQnKSkgeyBlbGVtZW50LmFkZENsYXNzKCdtZC1mb2N1c2VkJyk7IH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleWRvd25MaXN0ZW5lcihldikge1xuICAgICAgdmFyIGtleUNvZGUgPSBldi53aGljaCB8fCBldi5rZXlDb2RlO1xuXG4gICAgICAvLyBPbmx5IGxpc3RlbiB0byBldmVudHMgdGhhdCB3ZSBvcmlnaW5hdGVkIG91cnNlbHZlc1xuICAgICAgLy8gc28gdGhhdCB3ZSBkb24ndCB0cmlnZ2VyIG9uIHRoaW5ncyBsaWtlIGFycm93IGtleXMgaW5cbiAgICAgIC8vIGlucHV0cy5cblxuICAgICAgaWYgKGtleUNvZGUgIT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuRU5URVIgJiZcbiAgICAgICAgICBldi5jdXJyZW50VGFyZ2V0ICE9IGV2LnRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkxFRlRfQVJST1c6XG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuVVBfQVJST1c6XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZ0N0cmwuc2VsZWN0UHJldmlvdXMoKTtcbiAgICAgICAgICBzZXRGb2N1cygpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuUklHSFRfQVJST1c6XG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuRE9XTl9BUlJPVzpcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHJnQ3RybC5zZWxlY3ROZXh0KCk7XG4gICAgICAgICAgc2V0Rm9jdXMoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkVOVEVSOlxuICAgICAgICAgIHZhciBmb3JtID0gYW5ndWxhci5lbGVtZW50KCRtZFV0aWwuZ2V0Q2xvc2VzdChlbGVtZW50WzBdLCAnZm9ybScpKTtcbiAgICAgICAgICBpZiAoZm9ybS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3JtLnRyaWdnZXJIYW5kbGVyKCdzdWJtaXQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBSYWRpb0dyb3VwQ29udHJvbGxlcigkZWxlbWVudCkge1xuICAgIHRoaXMuX3JhZGlvQnV0dG9uUmVuZGVyRm5zID0gW107XG4gICAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUmFkaW9Hcm91cENvbnRyb2xsZXJQcm90bygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5pdDogZnVuY3Rpb24obmdNb2RlbEN0cmwpIHtcbiAgICAgICAgdGhpcy5fbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybDtcbiAgICAgICAgdGhpcy5fbmdNb2RlbEN0cmwuJHJlbmRlciA9IGFuZ3VsYXIuYmluZCh0aGlzLCB0aGlzLnJlbmRlcik7XG4gICAgICB9LFxuICAgICAgYWRkOiBmdW5jdGlvbihyYlJlbmRlcikge1xuICAgICAgICB0aGlzLl9yYWRpb0J1dHRvblJlbmRlckZucy5wdXNoKHJiUmVuZGVyKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uKHJiUmVuZGVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3JhZGlvQnV0dG9uUmVuZGVyRm5zLmluZGV4T2YocmJSZW5kZXIpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdGhpcy5fcmFkaW9CdXR0b25SZW5kZXJGbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3JhZGlvQnV0dG9uUmVuZGVyRm5zLmZvckVhY2goZnVuY3Rpb24ocmJSZW5kZXIpIHtcbiAgICAgICAgICByYlJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzZXRWaWV3VmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBldmVudFR5cGUpIHtcbiAgICAgICAgdGhpcy5fbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSwgZXZlbnRUeXBlKTtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBvdGhlciByYWRpbyBidXR0b25zIGFzIHdlbGxcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH0sXG4gICAgICBnZXRWaWV3VmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBzZWxlY3ROZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZVNlbGVjdGVkQnV0dG9uKHRoaXMuJGVsZW1lbnQsIDEpO1xuICAgICAgfSxcbiAgICAgIHNlbGVjdFByZXZpb3VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZVNlbGVjdGVkQnV0dG9uKHRoaXMuJGVsZW1lbnQsIC0xKTtcbiAgICAgIH0sXG4gICAgICBzZXRBY3RpdmVEZXNjZW5kYW50OiBmdW5jdGlvbiAocmFkaW9JZCkge1xuICAgICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcsIHJhZGlvSWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZSB0aGUgcmFkaW8gZ3JvdXAncyBzZWxlY3RlZCBidXR0b24gYnkgYSBnaXZlbiBpbmNyZW1lbnQuXG4gICAqIElmIG5vIGJ1dHRvbiBpcyBzZWxlY3RlZCwgc2VsZWN0IHRoZSBmaXJzdCBidXR0b24uXG4gICAqL1xuICBmdW5jdGlvbiBjaGFuZ2VTZWxlY3RlZEJ1dHRvbihwYXJlbnQsIGluY3JlbWVudCkge1xuICAgIC8vIENvZXJjZSBhbGwgY2hpbGQgcmFkaW8gYnV0dG9ucyBpbnRvIGFuIGFycmF5LCB0aGVuIHdyYXAgdGhlbiBpbiBhbiBpdGVyYXRvclxuICAgIHZhciBidXR0b25zID0gJG1kVXRpbC5pdGVyYXRvcihwYXJlbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnbWQtcmFkaW8tYnV0dG9uJyksIHRydWUpO1xuXG4gICAgaWYgKGJ1dHRvbnMuY291bnQoKSkge1xuICAgICAgdmFyIHZhbGlkYXRlID0gZnVuY3Rpb24gKGJ1dHRvbikge1xuICAgICAgICAvLyBJZiBkaXNhYmxlZCwgdGhlbiBOT1QgdmFsaWRcbiAgICAgICAgcmV0dXJuICFhbmd1bGFyLmVsZW1lbnQoYnV0dG9uKS5hdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgICB9O1xuXG4gICAgICB2YXIgc2VsZWN0ZWQgPSBwYXJlbnRbMF0ucXVlcnlTZWxlY3RvcignbWQtcmFkaW8tYnV0dG9uLm1kLWNoZWNrZWQnKTtcbiAgICAgIHZhciB0YXJnZXQgPSBidXR0b25zW2luY3JlbWVudCA8IDAgPyAncHJldmlvdXMnIDogJ25leHQnXShzZWxlY3RlZCwgdmFsaWRhdGUpIHx8IGJ1dHRvbnMuZmlyc3QoKTtcblxuICAgICAgLy8gQWN0aXZhdGUgcmFkaW9CdXR0b24ncyBjbGljayBsaXN0ZW5lciAodHJpZ2dlckhhbmRsZXIgd29uJ3QgY3JlYXRlIGEgcmVhbCBjbGljayBldmVudClcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCh0YXJnZXQpLnRyaWdnZXJIYW5kbGVyKCdjbGljaycpO1xuXG5cbiAgICB9XG4gIH1cblxufVxubWRSYWRpb0dyb3VwRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRVdGlsXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJHRpbWVvdXRcIl07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnJhZGlvQnV0dG9uXG4gKiBAbmFtZSBtZFJhZGlvQnV0dG9uXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLXJhZGlvLWJ1dHRvbj5gZGlyZWN0aXZlIGlzIHRoZSBjaGlsZCBkaXJlY3RpdmUgcmVxdWlyZWQgdG8gYmUgdXNlZCB3aXRoaW4gYDxtZC1yYWRpby1ncm91cD5gIGVsZW1lbnRzLlxuICpcbiAqIFdoaWxlIHNpbWlsYXIgdG8gdGhlIGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJcIiB2YWx1ZT1cIlwiPmAgZGlyZWN0aXZlLFxuICogdGhlIGA8bWQtcmFkaW8tYnV0dG9uPmAgZGlyZWN0aXZlIHByb3ZpZGVzIGluayBlZmZlY3RzLCBBUklBIHN1cHBvcnQsIGFuZFxuICogc3VwcG9ydHMgdXNlIHdpdGhpbiBuYW1lZCByYWRpbyBncm91cHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IG5nVmFsdWUgQW5ndWxhciBleHByZXNzaW9uIHdoaWNoIHNldHMgdGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZFxuICogICAgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXJpYS1sYWJlbCBBZGRzIGxhYmVsIHRvIHJhZGlvIGJ1dHRvbiBmb3IgYWNjZXNzaWJpbGl0eS5cbiAqIERlZmF1bHRzIHRvIHJhZGlvIGJ1dHRvbidzIHRleHQuIElmIG5vIHRleHQgY29udGVudCBpcyBhdmFpbGFibGUsIGEgd2FybmluZyB3aWxsIGJlIGxvZ2dlZC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKlxuICogPG1kLXJhZGlvLWJ1dHRvbiB2YWx1ZT1cIjFcIiBhcmlhLWxhYmVsPVwiTGFiZWwgMVwiPlxuICogICBMYWJlbCAxXG4gKiA8L21kLXJhZGlvLWJ1dHRvbj5cbiAqXG4gKiA8bWQtcmFkaW8tYnV0dG9uIG5nLW1vZGVsPVwiY29sb3JcIiBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiIGFyaWEtbGFiZWw9XCJHcmVlblwiPlxuICogICBHcmVlblxuICogPC9tZC1yYWRpby1idXR0b24+XG4gKlxuICogPC9obGpzPlxuICpcbiAqL1xuZnVuY3Rpb24gbWRSYWRpb0J1dHRvbkRpcmVjdGl2ZSgkbWRBcmlhLCAkbWRVdGlsLCAkbWRUaGVtaW5nKSB7XG5cbiAgdmFyIENIRUNLRURfQ1NTID0gJ21kLWNoZWNrZWQnO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiAnXm1kUmFkaW9Hcm91cCcsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtZC1jb250YWluZXJcIiBtZC1pbmstcmlwcGxlIG1kLWluay1yaXBwbGUtY2hlY2tib3g+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1vZmZcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLW9uXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgJzxkaXYgbmctdHJhbnNjbHVkZSBjbGFzcz1cIm1kLWxhYmVsXCI+PC9kaXY+JyxcbiAgICBsaW5rOiBsaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgcmdDdHJsKSB7XG4gICAgdmFyIGxhc3RDaGVja2VkO1xuXG4gICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICBjb25maWd1cmVBcmlhKGVsZW1lbnQsIHNjb3BlKTtcblxuICAgIGluaXRpYWxpemUoKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShjb250cm9sbGVyKSB7XG4gICAgICBpZiAoICFyZ0N0cmwgKSB7XG4gICAgICAgIHRocm93ICdSYWRpb0dyb3VwQ29udHJvbGxlciBub3QgZm91bmQuJztcbiAgICAgIH1cblxuICAgICAgcmdDdHJsLmFkZChyZW5kZXIpO1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgndmFsdWUnLCByZW5kZXIpO1xuXG4gICAgICBlbGVtZW50XG4gICAgICAgIC5vbignY2xpY2snLCBsaXN0ZW5lcilcbiAgICAgICAgLm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJnQ3RybC5yZW1vdmUocmVuZGVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0ZW5lcihldikge1xuICAgICAgaWYgKGVsZW1lbnRbMF0uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSByZXR1cm47XG5cbiAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgcmdDdHJsLnNldFZpZXdWYWx1ZShhdHRyLnZhbHVlLCBldiAmJiBldi50eXBlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBBZGQgb3IgcmVtb3ZlIHRoZSBgLm1kLWNoZWNrZWRgIGNsYXNzIGZyb20gdGhlIFJhZGlvQnV0dG9uIChhbmQgY29uZGl0aW9uYWxseSBpdHMgcGFyZW50KS5cbiAgICAgKiAgVXBkYXRlIHRoZSBgYXJpYS1hY3RpdmVkZXNjZW5kYW50YCBhdHRyaWJ1dGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGNoZWNrZWQgPSAocmdDdHJsLmdldFZpZXdWYWx1ZSgpID09IGF0dHIudmFsdWUpO1xuICAgICAgaWYgKGNoZWNrZWQgPT09IGxhc3RDaGVja2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGFzdENoZWNrZWQgPSBjaGVja2VkO1xuICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWNoZWNrZWQnLCBjaGVja2VkKTtcblxuICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgbWFya1BhcmVudEFzQ2hlY2tlZCh0cnVlKTtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhDSEVDS0VEX0NTUyk7XG5cbiAgICAgICAgcmdDdHJsLnNldEFjdGl2ZURlc2NlbmRhbnQoZWxlbWVudC5hdHRyKCdpZCcpKTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFya1BhcmVudEFzQ2hlY2tlZChmYWxzZSk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoQ0hFQ0tFRF9DU1MpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIElmIHRoZSByYWRpb0J1dHRvbiBpcyBpbnNpZGUgYSBkaXYsIHRoZW4gYWRkIGNsYXNzIHNvIGhpZ2hsaWdodGluZyB3aWxsIHdvcmsuLi5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gbWFya1BhcmVudEFzQ2hlY2tlZChhZGRDbGFzcyApIHtcbiAgICAgICAgaWYgKCBlbGVtZW50LnBhcmVudCgpWzBdLm5vZGVOYW1lICE9IFwiTUQtUkFESU8tR1JPVVBcIikge1xuICAgICAgICAgIGVsZW1lbnQucGFyZW50KClbICEhYWRkQ2xhc3MgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oQ0hFQ0tFRF9DU1MpO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmplY3QgQVJJQS1zcGVjaWZpYyBhdHRyaWJ1dGVzIGFwcHJvcHJpYXRlIGZvciBlYWNoIHJhZGlvIGJ1dHRvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUFyaWEoIGVsZW1lbnQsIHNjb3BlICl7XG4gICAgICBzY29wZS5hcmlhSWQgPSBidWlsZEFyaWFJRCgpO1xuXG4gICAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAnaWQnIDogIHNjb3BlLmFyaWFJZCxcbiAgICAgICAgJ3JvbGUnIDogJ3JhZGlvJyxcbiAgICAgICAgJ2FyaWEtY2hlY2tlZCcgOiAnZmFsc2UnXG4gICAgICB9KTtcblxuICAgICAgJG1kQXJpYS5leHBlY3RXaXRoVGV4dChlbGVtZW50LCAnYXJpYS1sYWJlbCcpO1xuXG4gICAgICAvKipcbiAgICAgICAqIEJ1aWxkIGEgdW5pcXVlIElEIGZvciBlYWNoIHJhZGlvIGJ1dHRvbiB0aGF0IHdpbGwgYmUgdXNlZCB3aXRoIGFyaWEtYWN0aXZlZGVzY2VuZGFudC5cbiAgICAgICAqIFByZXNlcnZlIGV4aXN0aW5nIElEIGlmIGFscmVhZHkgc3BlY2lmaWVkLlxuICAgICAgICogQHJldHVybnMgeyp8c3RyaW5nfVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBidWlsZEFyaWFJRCgpIHtcbiAgICAgICAgcmV0dXJuIGF0dHIuaWQgfHwgKCAncmFkaW8nICsgXCJfXCIgKyAkbWRVdGlsLm5leHRVaWQoKSApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxubWRSYWRpb0J1dHRvbkRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kQXJpYVwiLCBcIiRtZFV0aWxcIiwgXCIkbWRUaGVtaW5nXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnNlbGVjdFxuICovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICMjIyBUT0RPIC0gUE9TVCBSQzEgIyMjXG4gLSBbIF0gQWJzdHJhY3QgcGxhY2VtZW50IGxvZ2ljIGluICRtZFNlbGVjdCBzZXJ2aWNlIHRvICRtZE1lbnUgc2VydmljZVxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG52YXIgU0VMRUNUX0VER0VfTUFSR0lOID0gODtcbnZhciBzZWxlY3ROZXh0SWQgPSAwO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5zZWxlY3QnLCBbXG4gICAgJ21hdGVyaWFsLmNvcmUnLFxuICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wJ1xuICBdKVxuICAuZGlyZWN0aXZlKCdtZFNlbGVjdCcsIFNlbGVjdERpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbWRTZWxlY3RNZW51JywgU2VsZWN0TWVudURpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbWRPcHRpb24nLCBPcHRpb25EaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21kT3B0Z3JvdXAnLCBPcHRncm91cERpcmVjdGl2ZSlcbiAgLnByb3ZpZGVyKCckbWRTZWxlY3QnLCBTZWxlY3RQcm92aWRlcik7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRTZWxlY3RcbiAqIEByZXN0cmljdCBFXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc2VsZWN0XG4gKlxuICogQGRlc2NyaXB0aW9uIERpc3BsYXlzIGEgc2VsZWN0IGJveCwgYm91bmQgdG8gYW4gbmctbW9kZWwuXG4gKlxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZy1tb2RlbCBUaGUgbW9kZWwhXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtdWx0aXBsZSBXaGV0aGVyIGl0J3MgbXVsdGlwbGUuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1vbi1jbG9zZSBFeHByZXNzaW9uIHRvIGJlIGV2YWx1YXRlZCB3aGVuIHRoZSBzZWxlY3QgaXMgY2xvc2VkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBwbGFjZWhvbGRlciBQbGFjZWhvbGRlciBoaW50IHRleHQuXG4gKiBAcGFyYW0ge3N0cmluZz19IGFyaWEtbGFiZWwgT3B0aW9uYWwgbGFiZWwgZm9yIGFjY2Vzc2liaWxpdHkuIE9ubHkgbmVjZXNzYXJ5IGlmIG5vIHBsYWNlaG9sZGVyIG9yXG4gKiBleHBsaWNpdCBsYWJlbCBpcyBwcmVzZW50LlxuICogQHBhcmFtIHtzdHJpbmc9fSBtZC1jb250YWluZXItY2xhc3MgQ2xhc3MgbGlzdCB0byBnZXQgYXBwbGllZCB0byB0aGUgYC5tZC1zZWxlY3QtbWVudS1jb250YWluZXJgXG4gKiBlbGVtZW50IChmb3IgY3VzdG9tIHN0eWxpbmcpLlxuICpcbiAqIEB1c2FnZVxuICogV2l0aCBhIHBsYWNlaG9sZGVyIChsYWJlbCBhbmQgYXJpYS1sYWJlbCBhcmUgYWRkZWQgZHluYW1pY2FsbHkpXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogICA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICAgIDxtZC1zZWxlY3RcbiAqICAgICAgIG5nLW1vZGVsPVwic29tZU1vZGVsXCJcbiAqICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGEgc3RhdGVcIj5cbiAqICAgICAgIDxtZC1vcHRpb24gbmctdmFsdWU9XCJvcHRcIiBuZy1yZXBlYXQ9XCJvcHQgaW4gbmVpZ2hib3Job29kczJcIj57eyBvcHQgfX08L21kLW9wdGlvbj5cbiAqICAgICA8L21kLXNlbGVjdD5cbiAqICAgPC9tZC1pbnB1dC1jb250YWluZXI+XG4gKiA8L2hsanM+XG4gKlxuICogV2l0aCBhbiBleHBsaWNpdCBsYWJlbFxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICAgPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgICA8bGFiZWw+U3RhdGU8L2xhYmVsPlxuICogICAgIDxtZC1zZWxlY3RcbiAqICAgICAgIG5nLW1vZGVsPVwic29tZU1vZGVsXCI+XG4gKiAgICAgICA8bWQtb3B0aW9uIG5nLXZhbHVlPVwib3B0XCIgbmctcmVwZWF0PVwib3B0IGluIG5laWdoYm9yaG9vZHMyXCI+e3sgb3B0IH19PC9tZC1vcHRpb24+XG4gKiAgICAgPC9tZC1zZWxlY3Q+XG4gKiAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICogPC9obGpzPlxuICpcbiAqICMjIFNlbGVjdHMgYW5kIG9iamVjdCBlcXVhbGl0eVxuICogV2hlbiB1c2luZyBhIGBtZC1zZWxlY3RgIHRvIHBpY2sgZnJvbSBhIGxpc3Qgb2Ygb2JqZWN0cywgaXQgaXMgaW1wb3J0YW50IHRvIHJlYWxpemUgaG93IGphdmFzY3JpcHQgaGFuZGxlc1xuICogZXF1YWxpdHkuIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgZXhhbXBsZTpcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogYW5ndWxhci5jb250cm9sbGVyKCdNeUN0cmwnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgJHNjb3BlLnVzZXJzID0gW1xuICogICAgIHsgaWQ6IDEsIG5hbWU6ICdCb2InIH0sXG4gKiAgICAgeyBpZDogMiwgbmFtZTogJ0FsaWNlJyB9LFxuICogICAgIHsgaWQ6IDMsIG5hbWU6ICdTdGV2ZScgfVxuICogICBdO1xuICogICAkc2NvcGUuc2VsZWN0ZWRVc2VyID0geyBpZDogMSwgbmFtZTogJ0JvYicgfTtcbiAqIH0pO1xuICogPC9obGpzPlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIk15Q3RybFwiPlxuICogICA8bWQtc2VsZWN0IG5nLW1vZGVsPVwic2VsZWN0ZWRVc2VyXCI+XG4gKiAgICAgPG1kLW9wdGlvbiBuZy12YWx1ZT1cInVzZXJcIiBuZy1yZXBlYXQ9XCJ1c2VyIGluIHVzZXJzXCI+e3sgdXNlci5uYW1lIH19PC9tZC1vcHRpb24+XG4gKiAgIDwvbWQtc2VsZWN0PlxuICogPC9kaXY+XG4gKiA8L2hsanM+XG4gKlxuICogQXQgZmlyc3Qgb25lIG1pZ2h0IGV4cGVjdCB0aGF0IHRoZSBzZWxlY3Qgc2hvdWxkIGJlIHBvcHVsYXRlZCB3aXRoIFwiQm9iXCIgYXMgdGhlIHNlbGVjdGVkIHVzZXIuIEhvd2V2ZXIsXG4gKiB0aGlzIGlzIG5vdCB0cnVlLiBUbyBkZXRlcm1pbmUgd2hldGhlciBzb21ldGhpbmcgaXMgc2VsZWN0ZWQsIFxuICogYG5nTW9kZWxDb250cm9sbGVyYCBpcyBsb29raW5nIGF0IHdoZXRoZXIgYCRzY29wZS5zZWxlY3RlZFVzZXIgPT0gKGFueSB1c2VyIGluICRzY29wZS51c2Vycyk7YDtcbiAqIFxuICogSmF2YXNjcmlwdCdzIGA9PWAgb3BlcmF0b3IgZG9lcyBub3QgY2hlY2sgZm9yIGRlZXAgZXF1YWxpdHkgKGllLiB0aGF0IGFsbCBwcm9wZXJ0aWVzXG4gKiBvbiB0aGUgb2JqZWN0IGFyZSB0aGUgc2FtZSksIGJ1dCBpbnN0ZWFkIHdoZXRoZXIgdGhlIG9iamVjdHMgYXJlICp0aGUgc2FtZSBvYmplY3QgaW4gbWVtb3J5Ki5cbiAqIEluIHRoaXMgY2FzZSwgd2UgaGF2ZSB0d28gaW5zdGFuY2VzIG9mIGlkZW50aWNhbCBvYmplY3RzLCBidXQgdGhleSBleGlzdCBpbiBtZW1vcnkgYXMgdW5pcXVlXG4gKiBlbnRpdGllcy4gQmVjYXVzZSBvZiB0aGlzLCB0aGUgc2VsZWN0IHdpbGwgaGF2ZSBubyB2YWx1ZSBwb3B1bGF0ZWQgZm9yIGEgc2VsZWN0ZWQgdXNlci5cbiAqXG4gKiBUbyBnZXQgYXJvdW5kIHRoaXMsIGBuZ01vZGVsQ29udHJvbGxlcmAgcHJvdmlkZXMgYSBgdHJhY2sgYnlgIG9wdGlvbiB0aGF0IGFsbG93cyB1cyB0byBzcGVjaWZ5IGEgZGlmZmVyZW50XG4gKiBleHByZXNzaW9uIHdoaWNoIHdpbGwgYmUgdXNlZCBmb3IgdGhlIGVxdWFsaXR5IG9wZXJhdG9yLiBBcyBzdWNoLCB3ZSBjYW4gdXBkYXRlIG91ciBgaHRtbGAgdG9cbiAqIG1ha2UgdXNlIG9mIHRoaXMgYnkgc3BlY2lmeWluZyB0aGUgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7dHJhY2tCeTogJyR2YWx1ZS5pZCd9XCJgIG9uIHRoZSBgbWQtc2VsZWN0YFxuICogZWxlbWVudC4gVGhpcyBjb252ZXJ0cyBvdXIgZXF1YWxpdHkgZXhwcmVzc2lvbiB0byBiZSBcbiAqIGAkc2NvcGUuc2VsZWN0ZWRVc2VyLmlkID09IChhbnkgaWQgaW4gJHNjb3BlLnVzZXJzLm1hcChmdW5jdGlvbih1KSB7IHJldHVybiB1LmlkOyB9KSk7YFxuICogd2hpY2ggcmVzdWx0cyBpbiBCb2IgYmVpbmcgc2VsZWN0ZWQgYXMgZGVzaXJlZC5cbiAqXG4gKiBXb3JraW5nIEhUTUw6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiTXlDdHJsXCI+XG4gKiAgIDxtZC1zZWxlY3QgbmctbW9kZWw9XCJzZWxlY3RlZFVzZXJcIiBuZy1tb2RlbC1vcHRpb25zPVwie3RyYWNrQnk6ICckdmFsdWUuaWQnfVwiPlxuICogICAgIDxtZC1vcHRpb24gbmctdmFsdWU9XCJ1c2VyXCIgbmctcmVwZWF0PVwidXNlciBpbiB1c2Vyc1wiPnt7IHVzZXIubmFtZSB9fTwvbWQtb3B0aW9uPlxuICogICA8L21kLXNlbGVjdD5cbiAqIDwvZGl2PlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBTZWxlY3REaXJlY3RpdmUoJG1kU2VsZWN0LCAkbWRVdGlsLCAkbWRUaGVtaW5nLCAkbWRBcmlhLCAkY29tcGlsZSwgJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJ14/bWRJbnB1dENvbnRhaW5lcicsICdtZFNlbGVjdCcsICduZ01vZGVsJywgJz9eZm9ybSddLFxuICAgIGNvbXBpbGU6IGNvbXBpbGUsXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgfSAvLyBlbXB0eSBwbGFjZWhvbGRlciBjb250cm9sbGVyIHRvIGJlIGluaXRpYWxpemVkIGluIGxpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBjb21waWxlKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAvLyBhZGQgdGhlIHNlbGVjdCB2YWx1ZSB0aGF0IHdpbGwgaG9sZCBvdXIgcGxhY2Vob2xkZXIgb3Igc2VsZWN0ZWQgb3B0aW9uIHZhbHVlXG4gICAgdmFyIHZhbHVlRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxtZC1zZWxlY3QtdmFsdWU+PHNwYW4+PC9zcGFuPjwvbWQtc2VsZWN0LXZhbHVlPicpO1xuICAgIHZhbHVlRWwuYXBwZW5kKCc8c3BhbiBjbGFzcz1cIm1kLXNlbGVjdC1pY29uXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPicpO1xuICAgIHZhbHVlRWwuYWRkQ2xhc3MoJ21kLXNlbGVjdC12YWx1ZScpO1xuICAgIGlmICghdmFsdWVFbFswXS5oYXNBdHRyaWJ1dGUoJ2lkJykpIHtcbiAgICAgIHZhbHVlRWwuYXR0cignaWQnLCAnc2VsZWN0X3ZhbHVlX2xhYmVsXycgKyAkbWRVdGlsLm5leHRVaWQoKSk7XG4gICAgfVxuXG4gICAgLy8gVGhlcmUncyBnb3QgdG8gYmUgYW4gbWQtY29udGVudCBpbnNpZGUuIElmIHRoZXJlJ3Mgbm90IG9uZSwgbGV0J3MgYWRkIGl0LlxuICAgIGlmICghZWxlbWVudC5maW5kKCdtZC1jb250ZW50JykubGVuZ3RoKSB7XG4gICAgICBlbGVtZW50LmFwcGVuZChhbmd1bGFyLmVsZW1lbnQoJzxtZC1jb250ZW50PicpLmFwcGVuZChlbGVtZW50LmNvbnRlbnRzKCkpKTtcbiAgICB9XG5cblxuICAgIC8vIEFkZCBwcm9ncmVzcyBzcGlubmVyIGZvciBtZC1vcHRpb25zLWxvYWRpbmdcbiAgICBpZiAoYXR0ci5tZE9uT3Blbikge1xuXG4gICAgICAvLyBTaG93IHByb2dyZXNzIGluZGljYXRvciB3aGlsZSBsb2FkaW5nIGFzeW5jXG4gICAgICAvLyBVc2UgbmctaGlkZSBmb3IgYGRpc3BsYXk6bm9uZWAgc28gdGhlIGluZGljYXRvciBkb2VzIG5vdCBpbnRlcmZlcmUgd2l0aCB0aGUgb3B0aW9ucyBsaXN0XG4gICAgICBlbGVtZW50XG4gICAgICAgIC5maW5kKCdtZC1jb250ZW50JylcbiAgICAgICAgLnByZXBlbmQoYW5ndWxhci5lbGVtZW50KFxuICAgICAgICAgICc8ZGl2PicgK1xuICAgICAgICAgICcgPG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XCJ7e3Byb2dyZXNzTW9kZX19XCIgbmctaGlkZT1cIiQkbG9hZGluZ0FzeW5jRG9uZVwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+JyArXG4gICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgKSk7XG5cbiAgICAgIC8vIEhpZGUgbGlzdCBbb2YgaXRlbSBvcHRpb25zXSB3aGlsZSBsb2FkaW5nIGFzeW5jXG4gICAgICBlbGVtZW50XG4gICAgICAgIC5maW5kKCdtZC1vcHRpb24nKVxuICAgICAgICAuYXR0cignbmctc2hvdycsICckJGxvYWRpbmdBc3luY0RvbmUnKTtcbiAgICB9XG5cbiAgICBpZiAoYXR0ci5uYW1lKSB7XG4gICAgICB2YXIgYXV0b2ZpbGxDbG9uZSA9IGFuZ3VsYXIuZWxlbWVudCgnPHNlbGVjdCBjbGFzcz1cIm1kLXZpc3VhbGx5LWhpZGRlblwiPicpO1xuICAgICAgYXV0b2ZpbGxDbG9uZS5hdHRyKHtcbiAgICAgICAgJ25hbWUnOiAnLicgKyBhdHRyLm5hbWUsXG4gICAgICAgICduZy1tb2RlbCc6IGF0dHIubmdNb2RlbCxcbiAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLFxuICAgICAgICAndGFiaW5kZXgnOiAnLTEnXG4gICAgICB9KTtcbiAgICAgIHZhciBvcHRzID0gZWxlbWVudC5maW5kKCdtZC1vcHRpb24nKTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChvcHRzLCBmdW5jdGlvbihlbCkge1xuICAgICAgICB2YXIgbmV3RWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxvcHRpb24+JyArIGVsLmlubmVySFRNTCArICc8L29wdGlvbj4nKTtcbiAgICAgICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnbmctdmFsdWUnKSkgbmV3RWwuYXR0cignbmctdmFsdWUnLCBlbC5nZXRBdHRyaWJ1dGUoJ25nLXZhbHVlJykpO1xuICAgICAgICBlbHNlIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ3ZhbHVlJykpIG5ld0VsLmF0dHIoJ3ZhbHVlJywgZWwuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKTtcbiAgICAgICAgYXV0b2ZpbGxDbG9uZS5hcHBlbmQobmV3RWwpO1xuICAgICAgfSk7XG5cbiAgICAgIGVsZW1lbnQucGFyZW50KCkuYXBwZW5kKGF1dG9maWxsQ2xvbmUpO1xuICAgIH1cblxuICAgIC8vIFVzZSBldmVyeXRoaW5nIHRoYXQncyBsZWZ0IGluc2lkZSBlbGVtZW50LmNvbnRlbnRzKCkgYXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBtZW51XG4gICAgdmFyIG11bHRpcGxlID0gYW5ndWxhci5pc0RlZmluZWQoYXR0ci5tdWx0aXBsZSkgPyAnbXVsdGlwbGUnIDogJyc7XG4gICAgdmFyIHNlbGVjdFRlbXBsYXRlID0gJycgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJtZC1zZWxlY3QtbWVudS1jb250YWluZXJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj4nICtcbiAgICAgICc8bWQtc2VsZWN0LW1lbnUgezB9PnsxfTwvbWQtc2VsZWN0LW1lbnU+JyArXG4gICAgICAnPC9kaXY+JztcblxuICAgIHNlbGVjdFRlbXBsYXRlID0gJG1kVXRpbC5zdXBwbGFudChzZWxlY3RUZW1wbGF0ZSwgW211bHRpcGxlLCBlbGVtZW50Lmh0bWwoKV0pO1xuICAgIGVsZW1lbnQuZW1wdHkoKS5hcHBlbmQodmFsdWVFbCk7XG4gICAgZWxlbWVudC5hcHBlbmQoc2VsZWN0VGVtcGxhdGUpO1xuXG4gICAgYXR0ci50YWJpbmRleCA9IGF0dHIudGFiaW5kZXggfHwgJzAnO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgdmFyIHVudG91Y2hlZCA9IHRydWU7XG4gICAgICB2YXIgaXNEaXNhYmxlZCwgYXJpYUxhYmVsQmFzZTtcblxuICAgICAgdmFyIGNvbnRhaW5lckN0cmwgPSBjdHJsc1swXTtcbiAgICAgIHZhciBtZFNlbGVjdEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzJdO1xuICAgICAgdmFyIGZvcm1DdHJsID0gY3RybHNbM107XG4gICAgICAvLyBncmFiIGEgcmVmZXJlbmNlIHRvIHRoZSBzZWxlY3QgbWVudSB2YWx1ZSBsYWJlbFxuICAgICAgdmFyIHZhbHVlRWwgPSBlbGVtZW50LmZpbmQoJ21kLXNlbGVjdC12YWx1ZScpO1xuICAgICAgdmFyIGlzUmVhZG9ubHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLnJlYWRvbmx5KTtcblxuICAgICAgaWYgKGNvbnRhaW5lckN0cmwpIHtcbiAgICAgICAgdmFyIGlzRXJyb3JHZXR0ZXIgPSBjb250YWluZXJDdHJsLmlzRXJyb3JHZXR0ZXIgfHwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbmdNb2RlbEN0cmwuJGludmFsaWQgJiYgbmdNb2RlbEN0cmwuJHRvdWNoZWQ7XG4gICAgICAgICAgfTtcblxuICAgICAgICBpZiAoY29udGFpbmVyQ3RybC5pbnB1dCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjxtZC1pbnB1dC1jb250YWluZXI+IGNhbiBvbmx5IGhhdmUgKm9uZSogY2hpbGQgPGlucHV0PiwgPHRleHRhcmVhPiBvciA8c2VsZWN0PiBlbGVtZW50IVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lckN0cmwuaW5wdXQgPSBlbGVtZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lckN0cmwubGFiZWwpIHtcbiAgICAgICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAnYXJpYS1sYWJlbCcsIGVsZW1lbnQuYXR0cigncGxhY2Vob2xkZXInKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kd2F0Y2goaXNFcnJvckdldHRlciwgY29udGFpbmVyQ3RybC5zZXRJbnZhbGlkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlbGVjdENvbnRhaW5lciwgc2VsZWN0U2NvcGUsIHNlbGVjdE1lbnVDdHJsO1xuXG4gICAgICBmaW5kU2VsZWN0Q29udGFpbmVyKCk7XG4gICAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuXG4gICAgICBpZiAoYXR0ci5uYW1lICYmIGZvcm1DdHJsKSB7XG4gICAgICAgIHZhciBzZWxlY3RFbCA9IGVsZW1lbnQucGFyZW50KClbMF0ucXVlcnlTZWxlY3Rvcignc2VsZWN0W25hbWU9XCIuJyArIGF0dHIubmFtZSArICdcIl0nKTtcbiAgICAgICAgJG1kVXRpbC5uZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGFuZ3VsYXIuZWxlbWVudChzZWxlY3RFbCkuY29udHJvbGxlcignbmdNb2RlbCcpO1xuICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBmb3JtQ3RybC4kcmVtb3ZlQ29udHJvbChjb250cm9sbGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZm9ybUN0cmwpIHtcbiAgICAgICAgJG1kVXRpbC5uZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICBmb3JtQ3RybC4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvcmlnaW5hbFJlbmRlciA9IG5nTW9kZWxDdHJsLiRyZW5kZXI7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG9yaWdpbmFsUmVuZGVyKCk7XG4gICAgICAgIHN5bmNMYWJlbFRleHQoKTtcbiAgICAgICAgc3luY0FyaWFMYWJlbCgpO1xuICAgICAgICBpbnB1dENoZWNrVmFsdWUoKTtcbiAgICAgIH07XG5cblxuICAgICAgYXR0ci4kb2JzZXJ2ZSgncGxhY2Vob2xkZXInLCBuZ01vZGVsQ3RybC4kcmVuZGVyKTtcblxuXG4gICAgICBtZFNlbGVjdEN0cmwuc2V0TGFiZWxUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICBtZFNlbGVjdEN0cmwuc2V0SXNQbGFjZWhvbGRlcighdGV4dCk7XG4gICAgICAgIC8vIFVzZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGUsIG90aGVyd2lzZSBmYWxsYmFjayB0byB0aGUgbWQtaW5wdXQtY29udGFpbmVyIGxhYmVsXG4gICAgICAgIHZhciB0bXBQbGFjZWhvbGRlciA9IGF0dHIucGxhY2Vob2xkZXIgfHwgKGNvbnRhaW5lckN0cmwgJiYgY29udGFpbmVyQ3RybC5sYWJlbCA/IGNvbnRhaW5lckN0cmwubGFiZWwudGV4dCgpIDogJycpO1xuICAgICAgICB0ZXh0ID0gdGV4dCB8fCB0bXBQbGFjZWhvbGRlciB8fCAnJztcbiAgICAgICAgdmFyIHRhcmdldCA9IHZhbHVlRWwuY2hpbGRyZW4oKS5lcSgwKTtcbiAgICAgICAgdGFyZ2V0Lmh0bWwodGV4dCk7XG4gICAgICB9O1xuXG4gICAgICBtZFNlbGVjdEN0cmwuc2V0SXNQbGFjZWhvbGRlciA9IGZ1bmN0aW9uKGlzUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgaWYgKGlzUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICB2YWx1ZUVsLmFkZENsYXNzKCdtZC1zZWxlY3QtcGxhY2Vob2xkZXInKTtcbiAgICAgICAgICBpZiAoY29udGFpbmVyQ3RybCAmJiBjb250YWluZXJDdHJsLmxhYmVsKSB7XG4gICAgICAgICAgICBjb250YWluZXJDdHJsLmxhYmVsLmFkZENsYXNzKCdtZC1wbGFjZWhvbGRlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZUVsLnJlbW92ZUNsYXNzKCdtZC1zZWxlY3QtcGxhY2Vob2xkZXInKTtcbiAgICAgICAgICBpZiAoY29udGFpbmVyQ3RybCAmJiBjb250YWluZXJDdHJsLmxhYmVsKSB7XG4gICAgICAgICAgICBjb250YWluZXJDdHJsLmxhYmVsLnJlbW92ZUNsYXNzKCdtZC1wbGFjZWhvbGRlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKCFpc1JlYWRvbmx5KSB7XG4gICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAub24oJ2ZvY3VzJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgc2V0IGZvY3VzIG9uIGlmIHdlIGRvbid0IGN1cnJlbnRseSBoYXZlIGEgc2VsZWN0ZWQgdmFsdWUuIFRoaXMgYXZvaWRzIHRoZSBcImJvdW5jZVwiXG4gICAgICAgICAgICAvLyBvbiB0aGUgbGFiZWwgdHJhbnNpdGlvbiBiZWNhdXNlIHRoZSBmb2N1cyB3aWxsIGltbWVkaWF0ZWx5IHN3aXRjaCB0byB0aGUgb3BlbiBtZW51LlxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lckN0cmwgJiYgY29udGFpbmVyQ3RybC5lbGVtZW50Lmhhc0NsYXNzKCdtZC1pbnB1dC1oYXMtdmFsdWUnKSkge1xuICAgICAgICAgICAgICBjb250YWluZXJDdHJsLnNldEZvY3VzZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gV2FpdCB1bnRpbCBwb3N0RGlnZXN0IHNvIHRoYXQgd2UgYXR0YWNoIGFmdGVyIG5nTW9kZWwncyBcbiAgICAgICAgLy8gYmx1ciBsaXN0ZW5lciBzbyB3ZSBjYW4gc2V0IHVudG91Y2hlZC5cbiAgICAgICAgJG1kVXRpbC5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZWxlbWVudC5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHVudG91Y2hlZCkge1xuICAgICAgICAgICAgICB1bnRvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFVudG91Y2hlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2VsZWN0U2NvcGUuaXNPcGVuKSByZXR1cm47XG4gICAgICAgICAgICBjb250YWluZXJDdHJsICYmIGNvbnRhaW5lckN0cmwuc2V0Rm9jdXNlZChmYWxzZSk7XG4gICAgICAgICAgICBpbnB1dENoZWNrVmFsdWUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG1kU2VsZWN0Q3RybC50cmlnZ2VyQ2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHBhcnNlKGF0dHIubWRPbkNsb3NlKShzY29wZSk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgIGluaXRBcmlhTGFiZWwoKTtcbiAgICAgICAgc3luY0xhYmVsVGV4dCgpO1xuICAgICAgICBzeW5jQXJpYUxhYmVsKCk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gaW5pdEFyaWFMYWJlbCgpIHtcbiAgICAgICAgdmFyIGxhYmVsVGV4dCA9IGVsZW1lbnQuYXR0cignYXJpYS1sYWJlbCcpIHx8IGVsZW1lbnQuYXR0cigncGxhY2Vob2xkZXInKTtcbiAgICAgICAgaWYgKCFsYWJlbFRleHQgJiYgY29udGFpbmVyQ3RybCAmJiBjb250YWluZXJDdHJsLmxhYmVsKSB7XG4gICAgICAgICAgbGFiZWxUZXh0ID0gY29udGFpbmVyQ3RybC5sYWJlbC50ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgYXJpYUxhYmVsQmFzZSA9IGxhYmVsVGV4dDtcbiAgICAgICAgJG1kQXJpYS5leHBlY3QoZWxlbWVudCwgJ2FyaWEtbGFiZWwnLCBsYWJlbFRleHQpO1xuICAgICAgfVxuXG4gICAgICBzY29wZS4kd2F0Y2goc2VsZWN0TWVudUN0cmwuc2VsZWN0ZWRMYWJlbHMsIHN5bmNMYWJlbFRleHQpO1xuXG4gICAgICBmdW5jdGlvbiBzeW5jTGFiZWxUZXh0KCkge1xuICAgICAgICBpZiAoc2VsZWN0Q29udGFpbmVyKSB7XG4gICAgICAgICAgc2VsZWN0TWVudUN0cmwgPSBzZWxlY3RNZW51Q3RybCB8fCBzZWxlY3RDb250YWluZXIuZmluZCgnbWQtc2VsZWN0LW1lbnUnKS5jb250cm9sbGVyKCdtZFNlbGVjdE1lbnUnKTtcbiAgICAgICAgICBtZFNlbGVjdEN0cmwuc2V0TGFiZWxUZXh0KHNlbGVjdE1lbnVDdHJsLnNlbGVjdGVkTGFiZWxzKCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHN5bmNBcmlhTGFiZWwoKSB7XG4gICAgICAgIGlmICghYXJpYUxhYmVsQmFzZSkgcmV0dXJuO1xuICAgICAgICB2YXIgYXJpYUxhYmVscyA9IHNlbGVjdE1lbnVDdHJsLnNlbGVjdGVkTGFiZWxzKHttb2RlOiAnYXJpYSd9KTtcbiAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWxhYmVsJywgYXJpYUxhYmVscy5sZW5ndGggPyBhcmlhTGFiZWxCYXNlICsgJzogJyArIGFyaWFMYWJlbHMgOiBhcmlhTGFiZWxCYXNlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlcmVnaXN0ZXJXYXRjaGVyO1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbmdNdWx0aXBsZScsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBpZiAoZGVyZWdpc3RlcldhdGNoZXIpIGRlcmVnaXN0ZXJXYXRjaGVyKCk7XG4gICAgICAgIHZhciBwYXJzZXIgPSAkcGFyc2UodmFsKTtcbiAgICAgICAgZGVyZWdpc3RlcldhdGNoZXIgPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlcihzY29wZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKG11bHRpcGxlLCBwcmV2VmFsKSB7XG4gICAgICAgICAgaWYgKG11bHRpcGxlID09PSB1bmRlZmluZWQgJiYgcHJldlZhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm47IC8vIGFzc3VtZSBjb21waWxlciBkaWQgYSBnb29kIGpvYlxuICAgICAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdtdWx0aXBsZScsICdtdWx0aXBsZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ211bHRpcGxlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1tdWx0aXNlbGVjdGFibGUnLCBtdWx0aXBsZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICAgIGlmIChzZWxlY3RDb250YWluZXIpIHtcbiAgICAgICAgICAgIHNlbGVjdE1lbnVDdHJsLnNldE11bHRpcGxlKG11bHRpcGxlKTtcbiAgICAgICAgICAgIG9yaWdpbmFsUmVuZGVyID0gbmdNb2RlbEN0cmwuJHJlbmRlcjtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgb3JpZ2luYWxSZW5kZXIoKTtcbiAgICAgICAgICAgICAgc3luY0xhYmVsVGV4dCgpO1xuICAgICAgICAgICAgICBzeW5jQXJpYUxhYmVsKCk7XG4gICAgICAgICAgICAgIGlucHV0Q2hlY2tWYWx1ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGF0dHIuJG9ic2VydmUoJ2Rpc2FibGVkJywgZnVuY3Rpb24oZGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoZGlzYWJsZWQpKSB7XG4gICAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZXZlbnQgY2xpY2sgZXZlbnQgYmVpbmcgcmVnaXN0ZXJlZCB0d2ljZVxuICAgICAgICBpZiAoaXNEaXNhYmxlZCAhPT0gdW5kZWZpbmVkICYmIGlzRGlzYWJsZWQgPT09IGRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlzRGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgZWxlbWVudC5hdHRyKHsndGFiaW5kZXgnOiAtMSwgJ2FyaWEtZGlzYWJsZWQnOiAndHJ1ZSd9KTtcbiAgICAgICAgICBlbGVtZW50Lm9mZignY2xpY2snLCBvcGVuU2VsZWN0KTtcbiAgICAgICAgICBlbGVtZW50Lm9mZigna2V5ZG93bicsIGhhbmRsZUtleXByZXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LmF0dHIoeyd0YWJpbmRleCc6IGF0dHIudGFiaW5kZXgsICdhcmlhLWRpc2FibGVkJzogJ2ZhbHNlJ30pO1xuICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgb3BlblNlbGVjdCk7XG4gICAgICAgICAgZWxlbWVudC5vbigna2V5ZG93bicsIGhhbmRsZUtleXByZXNzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghYXR0ci5kaXNhYmxlZCAmJiAhYXR0ci5uZ0Rpc2FibGVkKSB7XG4gICAgICAgIGVsZW1lbnQuYXR0cih7J3RhYmluZGV4JzogYXR0ci50YWJpbmRleCwgJ2FyaWEtZGlzYWJsZWQnOiAnZmFsc2UnfSk7XG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgb3BlblNlbGVjdCk7XG4gICAgICAgIGVsZW1lbnQub24oJ2tleWRvd24nLCBoYW5kbGVLZXlwcmVzcyk7XG4gICAgICB9XG5cblxuICAgICAgdmFyIGFyaWFBdHRycyA9IHtcbiAgICAgICAgcm9sZTogJ2xpc3Rib3gnLFxuICAgICAgICAnYXJpYS1leHBhbmRlZCc6ICdmYWxzZScsXG4gICAgICAgICdhcmlhLW11bHRpc2VsZWN0YWJsZSc6IGF0dHIubXVsdGlwbGUgIT09IHVuZGVmaW5lZCAmJiAhYXR0ci5uZ011bHRpcGxlID8gJ3RydWUnIDogJ2ZhbHNlJ1xuICAgICAgfTtcblxuICAgICAgaWYgKCFlbGVtZW50WzBdLmhhc0F0dHJpYnV0ZSgnaWQnKSkge1xuICAgICAgICBhcmlhQXR0cnMuaWQgPSAnc2VsZWN0XycgKyAkbWRVdGlsLm5leHRVaWQoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRhaW5lcklkID0gJ3NlbGVjdF9jb250YWluZXJfJyArICRtZFV0aWwubmV4dFVpZCgpO1xuICAgICAgc2VsZWN0Q29udGFpbmVyLmF0dHIoJ2lkJywgY29udGFpbmVySWQpO1xuICAgICAgYXJpYUF0dHJzWydhcmlhLW93bnMnXSA9IGNvbnRhaW5lcklkO1xuICAgICAgZWxlbWVudC5hdHRyKGFyaWFBdHRycyk7XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJG1kU2VsZWN0XG4gICAgICAgICAgLmRlc3Ryb3koKVxuICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lckN0cmwpIHtcbiAgICAgICAgICAgICAgY29udGFpbmVyQ3RybC5zZXRGb2N1c2VkKGZhbHNlKTtcbiAgICAgICAgICAgICAgY29udGFpbmVyQ3RybC5zZXRIYXNWYWx1ZShmYWxzZSk7XG4gICAgICAgICAgICAgIGNvbnRhaW5lckN0cmwuaW5wdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFRvdWNoZWQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG5cblxuICAgICAgZnVuY3Rpb24gaW5wdXRDaGVja1ZhbHVlKCkge1xuICAgICAgICAvLyBUaGUgc2VsZWN0IGNvdW50cyBhcyBoYXZpbmcgYSB2YWx1ZSBpZiBvbmUgb3IgbW9yZSBvcHRpb25zIGFyZSBzZWxlY3RlZCxcbiAgICAgICAgLy8gb3IgaWYgdGhlIGlucHV0J3MgdmFsaWRpdHkgc3RhdGUgc2F5cyBpdCBoYXMgYmFkIGlucHV0IChlZyBzdHJpbmcgaW4gYSBudW1iZXIgaW5wdXQpXG4gICAgICAgIGNvbnRhaW5lckN0cmwgJiYgY29udGFpbmVyQ3RybC5zZXRIYXNWYWx1ZShzZWxlY3RNZW51Q3RybC5zZWxlY3RlZExhYmVscygpLmxlbmd0aCA+IDAgfHwgKGVsZW1lbnRbMF0udmFsaWRpdHkgfHwge30pLmJhZElucHV0KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmluZFNlbGVjdENvbnRhaW5lcigpIHtcbiAgICAgICAgc2VsZWN0Q29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KFxuICAgICAgICAgIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXNlbGVjdC1tZW51LWNvbnRhaW5lcicpXG4gICAgICAgICk7XG4gICAgICAgIHNlbGVjdFNjb3BlID0gc2NvcGU7XG4gICAgICAgIGlmIChlbGVtZW50LmF0dHIoJ21kLWNvbnRhaW5lci1jbGFzcycpKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gc2VsZWN0Q29udGFpbmVyWzBdLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSArICcgJyArIGVsZW1lbnQuYXR0cignbWQtY29udGFpbmVyLWNsYXNzJyk7XG4gICAgICAgICAgc2VsZWN0Q29udGFpbmVyWzBdLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0TWVudUN0cmwgPSBzZWxlY3RDb250YWluZXIuZmluZCgnbWQtc2VsZWN0LW1lbnUnKS5jb250cm9sbGVyKCdtZFNlbGVjdE1lbnUnKTtcbiAgICAgICAgc2VsZWN0TWVudUN0cmwuaW5pdChuZ01vZGVsQ3RybCwgYXR0ci5uZ01vZGVsKTtcbiAgICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxlY3RDb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVLZXlwcmVzcyhlKSB7XG4gICAgICAgIHZhciBhbGxvd2VkQ29kZXMgPSBbMzIsIDEzLCAzOCwgNDBdO1xuICAgICAgICBpZiAoYWxsb3dlZENvZGVzLmluZGV4T2YoZS5rZXlDb2RlKSAhPSAtMSkge1xuICAgICAgICAgIC8vIHByZXZlbnQgcGFnZSBzY3JvbGxpbmcgb24gaW50ZXJhY3Rpb25cbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgb3BlblNlbGVjdChlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZS5rZXlDb2RlIDw9IDkwICYmIGUua2V5Q29kZSA+PSAzMSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBzZWxlY3RNZW51Q3RybC5vcHROb2RlRm9yS2V5Ym9hcmRTZWFyY2goZSk7XG4gICAgICAgICAgICBpZiAoIW5vZGUpIHJldHVybjtcbiAgICAgICAgICAgIHZhciBvcHRpb25DdHJsID0gYW5ndWxhci5lbGVtZW50KG5vZGUpLmNvbnRyb2xsZXIoJ21kT3B0aW9uJyk7XG4gICAgICAgICAgICBpZiAoIXNlbGVjdE1lbnVDdHJsLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgc2VsZWN0TWVudUN0cmwuZGVzZWxlY3QoT2JqZWN0LmtleXMoc2VsZWN0TWVudUN0cmwuc2VsZWN0ZWQpWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGVjdE1lbnVDdHJsLnNlbGVjdChvcHRpb25DdHJsLmhhc2hLZXksIG9wdGlvbkN0cmwudmFsdWUpO1xuICAgICAgICAgICAgc2VsZWN0TWVudUN0cmwucmVmcmVzaFZpZXdWYWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvcGVuU2VsZWN0KCkge1xuICAgICAgICBzZWxlY3RTY29wZS5pc09wZW4gPSB0cnVlO1xuICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuXG4gICAgICAgICRtZFNlbGVjdC5zaG93KHtcbiAgICAgICAgICBzY29wZTogc2VsZWN0U2NvcGUsXG4gICAgICAgICAgcHJlc2VydmVTY29wZTogdHJ1ZSxcbiAgICAgICAgICBza2lwQ29tcGlsZTogdHJ1ZSxcbiAgICAgICAgICBlbGVtZW50OiBzZWxlY3RDb250YWluZXIsXG4gICAgICAgICAgdGFyZ2V0OiBlbGVtZW50WzBdLFxuICAgICAgICAgIHNlbGVjdEN0cmw6IG1kU2VsZWN0Q3RybCxcbiAgICAgICAgICBwcmVzZXJ2ZUVsZW1lbnQ6IHRydWUsXG4gICAgICAgICAgaGFzQmFja2Ryb3A6IHRydWUsXG4gICAgICAgICAgbG9hZGluZ0FzeW5jOiBhdHRyLm1kT25PcGVuID8gc2NvcGUuJGV2YWwoYXR0ci5tZE9uT3BlbikgfHwgdHJ1ZSA6IGZhbHNlXG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZWN0U2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRUb3VjaGVkKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblNlbGVjdERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kU2VsZWN0XCIsIFwiJG1kVXRpbFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWRBcmlhXCIsIFwiJGNvbXBpbGVcIiwgXCIkcGFyc2VcIl07XG5cbmZ1bmN0aW9uIFNlbGVjdE1lbnVEaXJlY3RpdmUoJHBhcnNlLCAkbWRVdGlsLCAkbWRUaGVtaW5nKSB7XG5cbiAgU2VsZWN0TWVudUNvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRhdHRyc1wiLCBcIiRlbGVtZW50XCJdO1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWydtZFNlbGVjdE1lbnUnXSxcbiAgICBzY29wZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiBTZWxlY3RNZW51Q29udHJvbGxlcixcbiAgICBsaW5rOiB7cHJlOiBwcmVMaW5rfVxuICB9O1xuXG4gIC8vIFdlIHVzZSBwcmVMaW5rIGluc3RlYWQgb2YgcG9zdExpbmsgdG8gZW5zdXJlIHRoYXQgdGhlIHNlbGVjdCBpcyBpbml0aWFsaXplZCBiZWZvcmVcbiAgLy8gaXRzIGNoaWxkIG9wdGlvbnMgcnVuIHBvc3RMaW5rLlxuICBmdW5jdGlvbiBwcmVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgIHZhciBzZWxlY3RDdHJsID0gY3RybHNbMF07XG5cbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgIGVsZW1lbnQub24oJ2NsaWNrJywgY2xpY2tMaXN0ZW5lcik7XG4gICAgZWxlbWVudC5vbigna2V5cHJlc3MnLCBrZXlMaXN0ZW5lcik7XG5cbiAgICBmdW5jdGlvbiBrZXlMaXN0ZW5lcihlKSB7XG4gICAgICBpZiAoZS5rZXlDb2RlID09IDEzIHx8IGUua2V5Q29kZSA9PSAzMikge1xuICAgICAgICBjbGlja0xpc3RlbmVyKGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsaWNrTGlzdGVuZXIoZXYpIHtcbiAgICAgIHZhciBvcHRpb24gPSAkbWRVdGlsLmdldENsb3Nlc3QoZXYudGFyZ2V0LCAnbWQtb3B0aW9uJyk7XG4gICAgICB2YXIgb3B0aW9uQ3RybCA9IG9wdGlvbiAmJiBhbmd1bGFyLmVsZW1lbnQob3B0aW9uKS5kYXRhKCckbWRPcHRpb25Db250cm9sbGVyJyk7XG4gICAgICBpZiAoIW9wdGlvbiB8fCAhb3B0aW9uQ3RybCkgcmV0dXJuO1xuICAgICAgaWYgKG9wdGlvbi5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9wdGlvbkhhc2hLZXkgPSBzZWxlY3RDdHJsLmhhc2hHZXR0ZXIob3B0aW9uQ3RybC52YWx1ZSk7XG4gICAgICB2YXIgaXNTZWxlY3RlZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHNlbGVjdEN0cmwuc2VsZWN0ZWRbb3B0aW9uSGFzaEtleV0pO1xuXG4gICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzZWxlY3RDdHJsLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgc2VsZWN0Q3RybC5kZXNlbGVjdChvcHRpb25IYXNoS2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0Q3RybC5zZWxlY3Qob3B0aW9uSGFzaEtleSwgb3B0aW9uQ3RybC52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgc2VsZWN0Q3RybC5kZXNlbGVjdChPYmplY3Qua2V5cyhzZWxlY3RDdHJsLnNlbGVjdGVkKVswXSk7XG4gICAgICAgICAgICBzZWxlY3RDdHJsLnNlbGVjdChvcHRpb25IYXNoS2V5LCBvcHRpb25DdHJsLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0Q3RybC5yZWZyZXNoVmlld1ZhbHVlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBTZWxlY3RNZW51Q29udHJvbGxlcigkc2NvcGUsICRhdHRycywgJGVsZW1lbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5pc011bHRpcGxlID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm11bHRpcGxlKTtcbiAgICAvLyBzZWxlY3RlZCBpcyBhbiBvYmplY3Qgd2l0aCBrZXlzIG1hdGNoaW5nIGFsbCBvZiB0aGUgc2VsZWN0ZWQgb3B0aW9ucycgaGFzaGVkIHZhbHVlc1xuICAgIHNlbGYuc2VsZWN0ZWQgPSB7fTtcbiAgICAvLyBvcHRpb25zIGlzIGFuIG9iamVjdCB3aXRoIGtleXMgbWF0Y2hpbmcgZXZlcnkgb3B0aW9uJ3MgaGFzaCB2YWx1ZSxcbiAgICAvLyBhbmQgdmFsdWVzIG1hdGNoaW5nIGV2ZXJ5IG9wdGlvbidzIGNvbnRyb2xsZXIuXG4gICAgc2VsZi5vcHRpb25zID0ge307XG5cbiAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzZWxmLm9wdGlvbnM7XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLm5nTW9kZWwuJHJlbmRlcigpO1xuICAgIH0pO1xuXG4gICAgdmFyIGRlcmVnaXN0ZXJDb2xsZWN0aW9uV2F0Y2g7XG4gICAgdmFyIGRlZmF1bHRJc0VtcHR5O1xuICAgIHNlbGYuc2V0TXVsdGlwbGUgPSBmdW5jdGlvbihpc011bHRpcGxlKSB7XG4gICAgICB2YXIgbmdNb2RlbCA9IHNlbGYubmdNb2RlbDtcbiAgICAgIGRlZmF1bHRJc0VtcHR5ID0gZGVmYXVsdElzRW1wdHkgfHwgbmdNb2RlbC4kaXNFbXB0eTtcblxuICAgICAgc2VsZi5pc011bHRpcGxlID0gaXNNdWx0aXBsZTtcbiAgICAgIGlmIChkZXJlZ2lzdGVyQ29sbGVjdGlvbldhdGNoKSBkZXJlZ2lzdGVyQ29sbGVjdGlvbldhdGNoKCk7XG5cbiAgICAgIGlmIChzZWxmLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9yc1snbWQtbXVsdGlwbGUnXSA9IHZhbGlkYXRlQXJyYXk7XG4gICAgICAgIG5nTW9kZWwuJHJlbmRlciA9IHJlbmRlck11bHRpcGxlO1xuXG4gICAgICAgIC8vIHdhdGNoQ29sbGVjdGlvbiBvbiB0aGUgbW9kZWwgYmVjYXVzZSBieSBkZWZhdWx0IG5nTW9kZWwgb25seSB3YXRjaGVzIHRoZSBtb2RlbCdzXG4gICAgICAgIC8vIHJlZmVyZW5jZS4gVGhpcyBhbGxvd2VkIHRoZSBkZXZlbG9wZXIgdG8gYWxzbyBwdXNoIGFuZCBwb3AgZnJvbSB0aGVpciBhcnJheS5cbiAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oc2VsZi5tb2RlbEJpbmRpbmcsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHZhbGlkYXRlQXJyYXkodmFsdWUpKSByZW5kZXJNdWx0aXBsZSh2YWx1ZSk7XG4gICAgICAgICAgc2VsZi5uZ01vZGVsLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBuZ01vZGVsLiR2YWxpZGF0b3JzWydtZC1tdWx0aXBsZSddO1xuICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSByZW5kZXJTaW5ndWxhcjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdmFsaWRhdGVBcnJheShtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgLy8gSWYgYSB2YWx1ZSBpcyB0cnV0aHkgYnV0IG5vdCBhbiBhcnJheSwgcmVqZWN0IGl0LlxuICAgICAgICAvLyBJZiB2YWx1ZSBpcyB1bmRlZmluZWQvZmFsc3ksIGFjY2VwdCB0aGF0IGl0J3MgYW4gZW1wdHkgYXJyYXkuXG4gICAgICAgIHJldHVybiBhbmd1bGFyLmlzQXJyYXkobW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWUgfHwgW10pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc2VhcmNoU3RyID0gJyc7XG4gICAgdmFyIGNsZWFyU2VhcmNoVGltZW91dCwgb3B0Tm9kZXMsIG9wdFRleHQ7XG4gICAgdmFyIENMRUFSX1NFQVJDSF9BRlRFUiA9IDMwMDtcbiAgICBzZWxmLm9wdE5vZGVGb3JLZXlib2FyZFNlYXJjaCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNsZWFyU2VhcmNoVGltZW91dCAmJiBjbGVhclRpbWVvdXQoY2xlYXJTZWFyY2hUaW1lb3V0KTtcbiAgICAgIGNsZWFyU2VhcmNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyU2VhcmNoVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgc2VhcmNoU3RyID0gJyc7XG4gICAgICAgIG9wdFRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIG9wdE5vZGVzID0gdW5kZWZpbmVkO1xuICAgICAgfSwgQ0xFQVJfU0VBUkNIX0FGVEVSKTtcbiAgICAgIHNlYXJjaFN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSk7XG4gICAgICB2YXIgc2VhcmNoID0gbmV3IFJlZ0V4cCgnXicgKyBzZWFyY2hTdHIsICdpJyk7XG4gICAgICBpZiAoIW9wdE5vZGVzKSB7XG4gICAgICAgIG9wdE5vZGVzID0gJGVsZW1lbnQuZmluZCgnbWQtb3B0aW9uJyk7XG4gICAgICAgIG9wdFRleHQgPSBuZXcgQXJyYXkob3B0Tm9kZXMubGVuZ3RoKTtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKG9wdE5vZGVzLCBmdW5jdGlvbihlbCwgaSkge1xuICAgICAgICAgIG9wdFRleHRbaV0gPSBlbC50ZXh0Q29udGVudC50cmltKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRUZXh0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChzZWFyY2gudGVzdChvcHRUZXh0W2ldKSkge1xuICAgICAgICAgIHJldHVybiBvcHROb2Rlc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsLCBiaW5kaW5nKSB7XG4gICAgICBzZWxmLm5nTW9kZWwgPSBuZ01vZGVsO1xuICAgICAgc2VsZi5tb2RlbEJpbmRpbmcgPSBiaW5kaW5nO1xuXG4gICAgICAvLyBBbGxvdyB1c2VycyB0byBwcm92aWRlIGBuZy1tb2RlbD1cImZvb1wiIG5nLW1vZGVsLW9wdGlvbnM9XCJ7dHJhY2tCeTogJ2Zvby5pZCd9XCJgIHNvXG4gICAgICAvLyB0aGF0IHdlIGNhbiBwcm9wZXJseSBjb21wYXJlIG9iamVjdHMgc2V0IG9uIHRoZSBtb2RlbCB0byB0aGUgYXZhaWxhYmxlIG9wdGlvbnNcbiAgICAgIGlmIChuZ01vZGVsLiRvcHRpb25zICYmIG5nTW9kZWwuJG9wdGlvbnMudHJhY2tCeSkge1xuICAgICAgICB2YXIgdHJhY2tCeUxvY2FscyA9IHt9O1xuICAgICAgICB2YXIgdHJhY2tCeVBhcnNlZCA9ICRwYXJzZShuZ01vZGVsLiRvcHRpb25zLnRyYWNrQnkpO1xuICAgICAgICBzZWxmLmhhc2hHZXR0ZXIgPSBmdW5jdGlvbih2YWx1ZSwgdmFsdWVTY29wZSkge1xuICAgICAgICAgIHRyYWNrQnlMb2NhbHMuJHZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrQnlQYXJzZWQodmFsdWVTY29wZSB8fCAkc2NvcGUsIHRyYWNrQnlMb2NhbHMpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBkb2Vzbid0IHByb3ZpZGUgYSB0cmFja0J5LCB3ZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGFuIGlkIGZvciBldmVyeVxuICAgICAgICAvLyB2YWx1ZSBwYXNzZWQgaW5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuaGFzaEdldHRlciA9IGZ1bmN0aW9uIGdldEhhc2hWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuICdvYmplY3RfJyArICh2YWx1ZS4kJG1kU2VsZWN0SWQgfHwgKHZhbHVlLiQkbWRTZWxlY3RJZCA9ICsrc2VsZWN0TmV4dElkKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNlbGYuc2V0TXVsdGlwbGUoc2VsZi5pc011bHRpcGxlKTtcbiAgICB9O1xuXG4gICAgc2VsZi5zZWxlY3RlZExhYmVscyA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgdmFyIG1vZGUgPSBvcHRzLm1vZGUgfHwgJ2h0bWwnO1xuICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uRWxzID0gJG1kVXRpbC5ub2Rlc1RvQXJyYXkoJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnbWQtb3B0aW9uW3NlbGVjdGVkXScpKTtcbiAgICAgIGlmIChzZWxlY3RlZE9wdGlvbkVscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIG1hcEZuO1xuXG4gICAgICAgIGlmIChtb2RlID09ICdodG1sJykge1xuICAgICAgICAgIG1hcEZuID0gZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLmlubmVySFRNTDsgfTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09ICdhcmlhJykge1xuICAgICAgICAgIG1hcEZuID0gZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpID8gZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgOiBlbC50ZXh0Q29udGVudDsgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRPcHRpb25FbHMubWFwKG1hcEZuKS5qb2luKCcsICcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzZWxmLnNlbGVjdCA9IGZ1bmN0aW9uKGhhc2hLZXksIGhhc2hlZFZhbHVlKSB7XG4gICAgICB2YXIgb3B0aW9uID0gc2VsZi5vcHRpb25zW2hhc2hLZXldO1xuICAgICAgb3B0aW9uICYmIG9wdGlvbi5zZXRTZWxlY3RlZCh0cnVlKTtcbiAgICAgIHNlbGYuc2VsZWN0ZWRbaGFzaEtleV0gPSBoYXNoZWRWYWx1ZTtcbiAgICB9O1xuICAgIHNlbGYuZGVzZWxlY3QgPSBmdW5jdGlvbihoYXNoS2V5KSB7XG4gICAgICB2YXIgb3B0aW9uID0gc2VsZi5vcHRpb25zW2hhc2hLZXldO1xuICAgICAgb3B0aW9uICYmIG9wdGlvbi5zZXRTZWxlY3RlZChmYWxzZSk7XG4gICAgICBkZWxldGUgc2VsZi5zZWxlY3RlZFtoYXNoS2V5XTtcbiAgICB9O1xuXG4gICAgc2VsZi5hZGRPcHRpb24gPSBmdW5jdGlvbihoYXNoS2V5LCBvcHRpb25DdHJsKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc2VsZi5vcHRpb25zW2hhc2hLZXldKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0R1cGxpY2F0ZSBtZC1vcHRpb24gdmFsdWVzIGFyZSBub3QgYWxsb3dlZCBpbiBhIHNlbGVjdC4gJyArXG4gICAgICAgICAgJ0R1cGxpY2F0ZSB2YWx1ZSBcIicgKyBvcHRpb25DdHJsLnZhbHVlICsgJ1wiIGZvdW5kLicpO1xuICAgICAgfVxuICAgICAgc2VsZi5vcHRpb25zW2hhc2hLZXldID0gb3B0aW9uQ3RybDtcblxuICAgICAgLy8gSWYgdGhpcyBvcHRpb24ncyB2YWx1ZSB3YXMgYWxyZWFkeSBpbiBvdXIgbmdNb2RlbCwgZ28gYWhlYWQgYW5kIHNlbGVjdCBpdC5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChzZWxmLnNlbGVjdGVkW2hhc2hLZXldKSkge1xuICAgICAgICBzZWxmLnNlbGVjdChoYXNoS2V5LCBvcHRpb25DdHJsLnZhbHVlKTtcbiAgICAgICAgc2VsZi5yZWZyZXNoVmlld1ZhbHVlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBzZWxmLnJlbW92ZU9wdGlvbiA9IGZ1bmN0aW9uKGhhc2hLZXkpIHtcbiAgICAgIGRlbGV0ZSBzZWxmLm9wdGlvbnNbaGFzaEtleV07XG4gICAgICAvLyBEb24ndCBkZXNlbGVjdCBhbiBvcHRpb24gd2hlbiBpdCdzIHJlbW92ZWQgLSB0aGUgdXNlcidzIG5nTW9kZWwgc2hvdWxkIGJlIGFsbG93ZWRcbiAgICAgIC8vIHRvIGhhdmUgdmFsdWVzIHRoYXQgZG8gbm90IG1hdGNoIGEgY3VycmVudGx5IGF2YWlsYWJsZSBvcHRpb24uXG4gICAgfTtcblxuICAgIHNlbGYucmVmcmVzaFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgdmFyIG9wdGlvbjtcbiAgICAgIGZvciAodmFyIGhhc2hLZXkgaW4gc2VsZi5zZWxlY3RlZCkge1xuICAgICAgICAvLyBJZiB0aGlzIGhhc2hLZXkgaGFzIGFuIGFzc29jaWF0ZWQgb3B0aW9uLCBwdXNoIHRoYXQgb3B0aW9uJ3MgdmFsdWUgdG8gdGhlIG1vZGVsLlxuICAgICAgICBpZiAoKG9wdGlvbiA9IHNlbGYub3B0aW9uc1toYXNoS2V5XSkpIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaChvcHRpb24udmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhlIGdpdmVuIGhhc2hLZXkgaGFzIG5vIGFzc29jaWF0ZWQgb3B0aW9uLCBhbmQgd2UgZ290IGl0XG4gICAgICAgICAgLy8gZnJvbSBhbiBuZ01vZGVsIHZhbHVlIGF0IGFuIGVhcmxpZXIgdGltZS4gUHVzaCB0aGUgdW5oYXNoZWQgdmFsdWUgb2ZcbiAgICAgICAgICAvLyB0aGlzIGhhc2hLZXkgdG8gdGhlIG1vZGVsLlxuICAgICAgICAgIC8vIFRoaXMgYWxsb3dzIHRoZSBkZXZlbG9wZXIgdG8gcHV0IGEgdmFsdWUgaW4gdGhlIG1vZGVsIHRoYXQgZG9lc24ndCB5ZXQgaGF2ZVxuICAgICAgICAgIC8vIGFuIGFzc29jaWF0ZWQgb3B0aW9uLlxuICAgICAgICAgIHZhbHVlcy5wdXNoKHNlbGYuc2VsZWN0ZWRbaGFzaEtleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgdXNpbmdUcmFja0J5ID0gc2VsZi5uZ01vZGVsLiRvcHRpb25zICYmIHNlbGYubmdNb2RlbC4kb3B0aW9ucy50cmFja0J5O1xuXG4gICAgICB2YXIgbmV3VmFsID0gc2VsZi5pc011bHRpcGxlID8gdmFsdWVzIDogdmFsdWVzWzBdO1xuICAgICAgdmFyIHByZXZWYWwgPSBzZWxmLm5nTW9kZWwuJG1vZGVsVmFsdWU7XG5cbiAgICAgIGlmICh1c2luZ1RyYWNrQnkgPyAhYW5ndWxhci5lcXVhbHMocHJldlZhbCwgbmV3VmFsKSA6IHByZXZWYWwgIT0gbmV3VmFsKSB7XG4gICAgICAgIHNlbGYubmdNb2RlbC4kc2V0Vmlld1ZhbHVlKG5ld1ZhbCk7XG4gICAgICAgIHNlbGYubmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlbmRlck11bHRpcGxlKCkge1xuICAgICAgdmFyIG5ld1NlbGVjdGVkVmFsdWVzID0gc2VsZi5uZ01vZGVsLiRtb2RlbFZhbHVlIHx8IHNlbGYubmdNb2RlbC4kdmlld1ZhbHVlIHx8IFtdO1xuICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkobmV3U2VsZWN0ZWRWYWx1ZXMpKSByZXR1cm47XG5cbiAgICAgIHZhciBvbGRTZWxlY3RlZCA9IE9iamVjdC5rZXlzKHNlbGYuc2VsZWN0ZWQpO1xuXG4gICAgICB2YXIgbmV3U2VsZWN0ZWRIYXNoZXMgPSBuZXdTZWxlY3RlZFZhbHVlcy5tYXAoc2VsZi5oYXNoR2V0dGVyKTtcbiAgICAgIHZhciBkZXNlbGVjdGVkID0gb2xkU2VsZWN0ZWQuZmlsdGVyKGZ1bmN0aW9uKGhhc2gpIHtcbiAgICAgICAgcmV0dXJuIG5ld1NlbGVjdGVkSGFzaGVzLmluZGV4T2YoaGFzaCkgPT09IC0xO1xuICAgICAgfSk7XG5cbiAgICAgIGRlc2VsZWN0ZWQuZm9yRWFjaChzZWxmLmRlc2VsZWN0KTtcbiAgICAgIG5ld1NlbGVjdGVkSGFzaGVzLmZvckVhY2goZnVuY3Rpb24oaGFzaEtleSwgaSkge1xuICAgICAgICBzZWxmLnNlbGVjdChoYXNoS2V5LCBuZXdTZWxlY3RlZFZhbHVlc1tpXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXJTaW5ndWxhcigpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHNlbGYubmdNb2RlbC4kdmlld1ZhbHVlIHx8IHNlbGYubmdNb2RlbC4kbW9kZWxWYWx1ZTtcbiAgICAgIE9iamVjdC5rZXlzKHNlbGYuc2VsZWN0ZWQpLmZvckVhY2goc2VsZi5kZXNlbGVjdCk7XG4gICAgICBzZWxmLnNlbGVjdChzZWxmLmhhc2hHZXR0ZXIodmFsdWUpLCB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbn1cblNlbGVjdE1lbnVEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRwYXJzZVwiLCBcIiRtZFV0aWxcIiwgXCIkbWRUaGVtaW5nXCJdO1xuXG5mdW5jdGlvbiBPcHRpb25EaXJlY3RpdmUoJG1kQnV0dG9uSW5rUmlwcGxlLCAkbWRVdGlsKSB7XG5cbiAgT3B0aW9uQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJGVsZW1lbnRcIl07XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJ21kT3B0aW9uJywgJ15ebWRTZWxlY3RNZW51J10sXG4gICAgY29udHJvbGxlcjogT3B0aW9uQ29udHJvbGxlcixcbiAgICBjb21waWxlOiBjb21waWxlXG4gIH07XG5cbiAgZnVuY3Rpb24gY29tcGlsZShlbGVtZW50LCBhdHRyKSB7XG4gICAgLy8gTWFudWFsIHRyYW5zY2x1c2lvbiB0byBhdm9pZCB0aGUgZXh0cmEgaW5uZXIgPHNwYW4+IHRoYXQgbmctdHJhbnNjbHVkZSBnZW5lcmF0ZXNcbiAgICBlbGVtZW50LmFwcGVuZChhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJtZC10ZXh0XCI+JykuYXBwZW5kKGVsZW1lbnQuY29udGVudHMoKSkpO1xuXG4gICAgZWxlbWVudC5hdHRyKCd0YWJpbmRleCcsIGF0dHIudGFiaW5kZXggfHwgJzAnKTtcbiAgICByZXR1cm4gcG9zdExpbms7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICB2YXIgb3B0aW9uQ3RybCA9IGN0cmxzWzBdO1xuICAgIHZhciBzZWxlY3RDdHJsID0gY3RybHNbMV07XG5cbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0ci5uZ1ZhbHVlKSkge1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdWYWx1ZSwgc2V0T3B0aW9uVmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0ci52YWx1ZSkpIHtcbiAgICAgIHNldE9wdGlvblZhbHVlKGF0dHIudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LnRleHQoKTtcbiAgICAgIH0sIHNldE9wdGlvblZhbHVlKTtcbiAgICB9XG5cbiAgICBhdHRyLiRvYnNlcnZlKCdkaXNhYmxlZCcsIGZ1bmN0aW9uKGRpc2FibGVkKSB7XG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgZWxlbWVudC5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5hdHRyKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICBhdHRyLiRvYnNlcnZlKCdzZWxlY3RlZCcsIGZ1bmN0aW9uKHNlbGVjdGVkKSB7XG4gICAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQoc2VsZWN0ZWQpKSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0ZWQgPT0gJ3N0cmluZycpIHNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgaWYgKCFzZWxlY3RDdHJsLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHNlbGVjdEN0cmwuZGVzZWxlY3QoT2JqZWN0LmtleXMoc2VsZWN0Q3RybC5zZWxlY3RlZClbMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxlY3RDdHJsLnNlbGVjdChvcHRpb25DdHJsLmhhc2hLZXksIG9wdGlvbkN0cmwudmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdEN0cmwuZGVzZWxlY3Qob3B0aW9uQ3RybC5oYXNoS2V5KTtcbiAgICAgICAgfVxuICAgICAgICBzZWxlY3RDdHJsLnJlZnJlc2hWaWV3VmFsdWUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJG1kQnV0dG9uSW5rUmlwcGxlLmF0dGFjaChzY29wZSwgZWxlbWVudCk7XG4gICAgY29uZmlndXJlQXJpYSgpO1xuXG4gICAgZnVuY3Rpb24gc2V0T3B0aW9uVmFsdWUobmV3VmFsdWUsIG9sZFZhbHVlLCBwcmV2QXR0ZW1wdCkge1xuICAgICAgaWYgKCFzZWxlY3RDdHJsLmhhc2hHZXR0ZXIpIHtcbiAgICAgICAgaWYgKCFwcmV2QXR0ZW1wdCkge1xuICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNldE9wdGlvblZhbHVlKG5ld1ZhbHVlLCBvbGRWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG9sZEhhc2hLZXkgPSBzZWxlY3RDdHJsLmhhc2hHZXR0ZXIob2xkVmFsdWUsIHNjb3BlKTtcbiAgICAgIHZhciBuZXdIYXNoS2V5ID0gc2VsZWN0Q3RybC5oYXNoR2V0dGVyKG5ld1ZhbHVlLCBzY29wZSk7XG5cbiAgICAgIG9wdGlvbkN0cmwuaGFzaEtleSA9IG5ld0hhc2hLZXk7XG4gICAgICBvcHRpb25DdHJsLnZhbHVlID0gbmV3VmFsdWU7XG5cbiAgICAgIHNlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKG9sZEhhc2hLZXksIG9wdGlvbkN0cmwpO1xuICAgICAgc2VsZWN0Q3RybC5hZGRPcHRpb24obmV3SGFzaEtleSwgb3B0aW9uQ3RybCk7XG4gICAgfVxuXG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZWN0Q3RybC5yZW1vdmVPcHRpb24ob3B0aW9uQ3RybC5oYXNoS2V5LCBvcHRpb25DdHJsKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUFyaWEoKSB7XG4gICAgICB2YXIgYXJpYUF0dHJzID0ge1xuICAgICAgICAncm9sZSc6ICdvcHRpb24nLFxuICAgICAgICAnYXJpYS1zZWxlY3RlZCc6ICdmYWxzZSdcbiAgICAgIH07XG5cbiAgICAgIGlmICghZWxlbWVudFswXS5oYXNBdHRyaWJ1dGUoJ2lkJykpIHtcbiAgICAgICAgYXJpYUF0dHJzLmlkID0gJ3NlbGVjdF9vcHRpb25fJyArICRtZFV0aWwubmV4dFVpZCgpO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5hdHRyKGFyaWFBdHRycyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gT3B0aW9uQ29udHJvbGxlcigkZWxlbWVudCkge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNldFNlbGVjdGVkID0gZnVuY3Rpb24oaXNTZWxlY3RlZCkge1xuICAgICAgaWYgKGlzU2VsZWN0ZWQgJiYgIXRoaXMuc2VsZWN0ZWQpIHtcbiAgICAgICAgJGVsZW1lbnQuYXR0cih7XG4gICAgICAgICAgJ3NlbGVjdGVkJzogJ3NlbGVjdGVkJyxcbiAgICAgICAgICAnYXJpYS1zZWxlY3RlZCc6ICd0cnVlJ1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzU2VsZWN0ZWQgJiYgdGhpcy5zZWxlY3RlZCkge1xuICAgICAgICAkZWxlbWVudC5yZW1vdmVBdHRyKCdzZWxlY3RlZCcpO1xuICAgICAgICAkZWxlbWVudC5hdHRyKCdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNlbGVjdGVkID0gaXNTZWxlY3RlZDtcbiAgICB9O1xuICB9XG5cbn1cbk9wdGlvbkRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kQnV0dG9uSW5rUmlwcGxlXCIsIFwiJG1kVXRpbFwiXTtcblxuZnVuY3Rpb24gT3B0Z3JvdXBEaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBjb21waWxlOiBjb21waWxlXG4gIH07XG4gIGZ1bmN0aW9uIGNvbXBpbGUoZWwsIGF0dHJzKSB7XG4gICAgdmFyIGxhYmVsRWxlbWVudCA9IGVsLmZpbmQoJ2xhYmVsJyk7XG4gICAgaWYgKCFsYWJlbEVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICBsYWJlbEVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJzxsYWJlbD4nKTtcbiAgICAgIGVsLnByZXBlbmQobGFiZWxFbGVtZW50KTtcbiAgICB9XG4gICAgbGFiZWxFbGVtZW50LmFkZENsYXNzKCdtZC1jb250YWluZXItaWdub3JlJyk7XG4gICAgaWYgKGF0dHJzLmxhYmVsKSBsYWJlbEVsZW1lbnQudGV4dChhdHRycy5sYWJlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gU2VsZWN0UHJvdmlkZXIoJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyKSB7XG4gIHNlbGVjdERlZmF1bHRPcHRpb25zLiRpbmplY3QgPSBbXCIkbWRTZWxlY3RcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRtZFV0aWxcIiwgXCIkd2luZG93XCIsIFwiJHFcIiwgXCIkJHJBRlwiLCBcIiRhbmltYXRlQ3NzXCIsIFwiJGFuaW1hdGVcIiwgXCIkZG9jdW1lbnRcIl07XG4gIHJldHVybiAkJGludGVyaW1FbGVtZW50UHJvdmlkZXIoJyRtZFNlbGVjdCcpXG4gICAgLnNldERlZmF1bHRzKHtcbiAgICAgIG1ldGhvZHM6IFsndGFyZ2V0J10sXG4gICAgICBvcHRpb25zOiBzZWxlY3REZWZhdWx0T3B0aW9uc1xuICAgIH0pO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBzZWxlY3REZWZhdWx0T3B0aW9ucygkbWRTZWxlY3QsICRtZENvbnN0YW50LCAkbWRVdGlsLCAkd2luZG93LCAkcSwgJCRyQUYsICRhbmltYXRlQ3NzLCAkYW5pbWF0ZSwgJGRvY3VtZW50KSB7XG4gICAgdmFyIEVSUlJPUl9UQVJHRVRfRVhQRUNURUQgPSBcIiRtZFNlbGVjdC5zaG93KCkgZXhwZWN0ZWQgYSB0YXJnZXQgZWxlbWVudCBpbiBvcHRpb25zLnRhcmdldCBidXQgZ290ICd7MH0nIVwiO1xuICAgIHZhciBhbmltYXRvciA9ICRtZFV0aWwuZG9tLmFuaW1hdG9yO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmVudDogJ2JvZHknLFxuICAgICAgdGhlbWFibGU6IHRydWUsXG4gICAgICBvblNob3c6IG9uU2hvdyxcbiAgICAgIG9uUmVtb3ZlOiBvblJlbW92ZSxcbiAgICAgIGhhc0JhY2tkcm9wOiB0cnVlLFxuICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogdHJ1ZVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmltLWVsZW1lbnQgb25SZW1vdmUgbG9naWMuLi4uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25SZW1vdmUoc2NvcGUsIGVsZW1lbnQsIG9wdHMpIHtcbiAgICAgIG9wdHMgPSBvcHRzIHx8IHsgfTtcbiAgICAgIG9wdHMuY2xlYW51cEludGVyYWN0aW9uKCk7XG4gICAgICBvcHRzLmNsZWFudXBSZXNpemluZygpO1xuICAgICAgb3B0cy5oaWRlQmFja2Ryb3AoKTtcblxuICAgICAgLy8gRm9yIG5hdmlnYXRpb24gJGRlc3Ryb3kgZXZlbnRzLCBkbyBhIHF1aWNrLCBub24tYW5pbWF0ZWQgcmVtb3ZhbCxcbiAgICAgIC8vIGJ1dCBmb3Igbm9ybWFsIGNsb3NlcyAoZnJvbSBjbGlja3MsIGV0YykgYW5pbWF0ZSB0aGUgcmVtb3ZhbFxuXG4gICAgICByZXR1cm4gIChvcHRzLiRkZXN0cm95ID09PSB0cnVlKSA/IGNsZWFuRWxlbWVudCgpIDogYW5pbWF0ZVJlbW92YWwoKS50aGVuKCBjbGVhbkVsZW1lbnQgKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBGb3Igbm9ybWFsIGNsb3NlcyAoZWcgY2xpY2tzKSwgYW5pbWF0ZSB0aGUgcmVtb3ZhbC5cbiAgICAgICAqIEZvciBmb3JjZWQgY2xvc2VzIChsaWtlICRkZXN0cm95IGV2ZW50cyBmcm9tIG5hdmlnYXRpb24pLFxuICAgICAgICogc2tpcCB0aGUgYW5pbWF0aW9uc1xuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBhbmltYXRlUmVtb3ZhbCgpIHtcbiAgICAgICAgcmV0dXJuICRhbmltYXRlQ3NzKGVsZW1lbnQsIHthZGRDbGFzczogJ21kLWxlYXZlJ30pLnN0YXJ0KCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVzdG9yZSB0aGUgZWxlbWVudCB0byBhIGNsb3NlZCBzdGF0ZVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBjbGVhbkVsZW1lbnQoKSB7XG5cbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtYWN0aXZlJyk7XG4gICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICBlbGVtZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgYW5ub3VuY2VDbG9zZWQob3B0cyk7XG5cbiAgICAgICAgaWYgKCFvcHRzLiRkZXN0cm95ICYmIG9wdHMucmVzdG9yZUZvY3VzKSB7XG4gICAgICAgICAgb3B0cy50YXJnZXQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJpbS1lbGVtZW50IG9uU2hvdyBsb2dpYy4uLi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblNob3coc2NvcGUsIGVsZW1lbnQsIG9wdHMpIHtcblxuICAgICAgd2F0Y2hBc3luY0xvYWQoKTtcbiAgICAgIHNhbml0aXplQW5kQ29uZmlndXJlKHNjb3BlLCBvcHRzKTtcblxuICAgICAgb3B0cy5oaWRlQmFja2Ryb3AgPSBzaG93QmFja2Ryb3Aoc2NvcGUsIGVsZW1lbnQsIG9wdHMpO1xuXG4gICAgICByZXR1cm4gc2hvd0Ryb3BEb3duKHNjb3BlLCBlbGVtZW50LCBvcHRzKVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICAgICAgICBvcHRzLmFscmVhZHlPcGVuID0gdHJ1ZTtcbiAgICAgICAgICBvcHRzLmNsZWFudXBJbnRlcmFjdGlvbiA9IGFjdGl2YXRlSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgICBvcHRzLmNsZWFudXBSZXNpemluZyA9IGFjdGl2YXRlUmVzaXppbmcoKTtcblxuICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSwgb3B0cy5oaWRlQmFja2Ryb3ApO1xuXG4gICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgIC8vIENsb3N1cmUgRnVuY3Rpb25zXG4gICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICAgICAgLyoqXG4gICAgICAgKiAgQXR0YWNoIHRoZSBzZWxlY3QgRE9NIGVsZW1lbnQocykgYW5kIGFuaW1hdGUgdG8gdGhlIGNvcnJlY3QgcG9zaXRpb25zXG4gICAgICAgKiAgYW5kIHNjYWxpbmdzLi4uXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHNob3dEcm9wRG93bihzY29wZSwgZWxlbWVudCwgb3B0cykge1xuICAgICAgICBvcHRzLnBhcmVudC5hcHBlbmQoZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge3JlbW92ZUNsYXNzOiAnbWQtbGVhdmUnLCBkdXJhdGlvbjogMH0pXG4gICAgICAgICAgICAgIC5zdGFydCgpXG4gICAgICAgICAgICAgIC50aGVuKHBvc2l0aW9uQW5kRm9jdXNNZW51KVxuICAgICAgICAgICAgICAudGhlbihyZXNvbHZlKTtcblxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSW5pdGlhbGl6ZSBjb250YWluZXIgYW5kIGRyb3BEb3duIG1lbnUgcG9zaXRpb25zL3NjYWxlLCB0aGVuIGFuaW1hdGVcbiAgICAgICAqIHRvIHNob3cuLi4gYW5kIGF1dG9Gb2N1cy5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcG9zaXRpb25BbmRGb2N1c01lbnUoKSB7XG4gICAgICAgIHJldHVybiAkcShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgICAgaWYgKG9wdHMuaXNSZW1vdmVkKSByZXR1cm4gJHEucmVqZWN0KGZhbHNlKTtcblxuICAgICAgICAgIHZhciBpbmZvID0gY2FsY3VsYXRlTWVudVBvc2l0aW9ucyhzY29wZSwgZWxlbWVudCwgb3B0cyk7XG5cbiAgICAgICAgICBpbmZvLmNvbnRhaW5lci5lbGVtZW50LmNzcyhhbmltYXRvci50b0NzcyhpbmZvLmNvbnRhaW5lci5zdHlsZXMpKTtcbiAgICAgICAgICBpbmZvLmRyb3BEb3duLmVsZW1lbnQuY3NzKGFuaW1hdG9yLnRvQ3NzKGluZm8uZHJvcERvd24uc3R5bGVzKSk7XG5cbiAgICAgICAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWFjdGl2ZScpO1xuICAgICAgICAgICAgaW5mby5kcm9wRG93bi5lbGVtZW50LmNzcyhhbmltYXRvci50b0Nzcyh7dHJhbnNmb3JtOiAnJ30pKTtcblxuICAgICAgICAgICAgYXV0b0ZvY3VzKG9wdHMuZm9jdXNlZE5vZGUpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNob3cgbW9kYWwgYmFja2Ryb3AgZWxlbWVudC4uLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBzaG93QmFja2Ryb3Aoc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcblxuICAgICAgICAvLyBJZiB3ZSBhcmUgbm90IHdpdGhpbiBhIGRpYWxvZy4uLlxuICAgICAgICBpZiAob3B0aW9ucy5kaXNhYmxlUGFyZW50U2Nyb2xsICYmICEkbWRVdGlsLmdldENsb3Nlc3Qob3B0aW9ucy50YXJnZXQsICdNRC1ESUFMT0cnKSkge1xuICAgICAgICAgIC8vICEhIERPIHRoaXMgYmVmb3JlIGNyZWF0aW5nIHRoZSBiYWNrZHJvcDsgc2luY2UgZGlzYWJsZVNjcm9sbEFyb3VuZCgpXG4gICAgICAgICAgLy8gICAgY29uZmlndXJlcyB0aGUgc2Nyb2xsIG9mZnNldDsgd2hpY2ggaXMgdXNlZCBieSBtZEJhY2tEcm9wIHBvc3RMaW5rKClcbiAgICAgICAgICBvcHRpb25zLnJlc3RvcmVTY3JvbGwgPSAkbWRVdGlsLmRpc2FibGVTY3JvbGxBcm91bmQob3B0aW9ucy5lbGVtZW50LCBvcHRpb25zLnBhcmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9ucy5kaXNhYmxlUGFyZW50U2Nyb2xsID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNCYWNrZHJvcCkge1xuICAgICAgICAgIC8vIE92ZXJyaWRlIGR1cmF0aW9uIHRvIGltbWVkaWF0ZWx5IHNob3cgaW52aXNpYmxlIGJhY2tkcm9wXG4gICAgICAgICAgb3B0aW9ucy5iYWNrZHJvcCA9ICRtZFV0aWwuY3JlYXRlQmFja2Ryb3Aoc2NvcGUsIFwibWQtc2VsZWN0LWJhY2tkcm9wIG1kLWNsaWNrLWNhdGNoZXJcIik7XG4gICAgICAgICAgJGFuaW1hdGUuZW50ZXIob3B0aW9ucy5iYWNrZHJvcCwgJGRvY3VtZW50WzBdLmJvZHksIG51bGwsIHtkdXJhdGlvbjogMH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhpZGUgbW9kYWwgYmFja2Ryb3AgZWxlbWVudC4uLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhpZGVCYWNrZHJvcCgpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5iYWNrZHJvcCkgb3B0aW9ucy5iYWNrZHJvcC5yZW1vdmUoKTtcbiAgICAgICAgICBpZiAob3B0aW9ucy5kaXNhYmxlUGFyZW50U2Nyb2xsKSBvcHRpb25zLnJlc3RvcmVTY3JvbGwoKTtcblxuICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLnJlc3RvcmVTY3JvbGw7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gYXV0b0ZvY3VzKGZvY3VzZWROb2RlKSB7XG4gICAgICAgIGlmIChmb2N1c2VkTm9kZSAmJiAhZm9jdXNlZE5vZGUuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgZm9jdXNlZE5vZGUuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENoZWNrIGZvciB2YWxpZCBvcHRzIGFuZCBzZXQgc29tZSBzYW5lIGRlZmF1bHRzXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHNhbml0aXplQW5kQ29uZmlndXJlKHNjb3BlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxlY3RFbCA9IGVsZW1lbnQuZmluZCgnbWQtc2VsZWN0LW1lbnUnKTtcblxuICAgICAgICBpZiAoIW9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCRtZFV0aWwuc3VwcGxhbnQoRVJSUk9SX1RBUkdFVF9FWFBFQ1RFRCwgW29wdGlvbnMudGFyZ2V0XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5ndWxhci5leHRlbmQob3B0aW9ucywge1xuICAgICAgICAgIGlzUmVtb3ZlZDogZmFsc2UsXG4gICAgICAgICAgdGFyZ2V0OiBhbmd1bGFyLmVsZW1lbnQob3B0aW9ucy50YXJnZXQpLCAvL21ha2Ugc3VyZSBpdCdzIG5vdCBhIG5ha2VkIGRvbSBub2RlXG4gICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQob3B0aW9ucy5wYXJlbnQpLFxuICAgICAgICAgIHNlbGVjdEVsOiBzZWxlY3RFbCxcbiAgICAgICAgICBjb250ZW50RWw6IGVsZW1lbnQuZmluZCgnbWQtY29udGVudCcpLFxuICAgICAgICAgIG9wdGlvbk5vZGVzOiBzZWxlY3RFbFswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtb3B0aW9uJylcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ29uZmlndXJlIHZhcmlvdXMgcmVzaXplIGxpc3RlbmVycyBmb3Igc2NyZWVuIGNoYW5nZXNcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gYWN0aXZhdGVSZXNpemluZygpIHtcbiAgICAgICAgdmFyIGRlYm91bmNlZE9uUmVzaXplID0gKGZ1bmN0aW9uKHNjb3BlLCB0YXJnZXQsIG9wdGlvbnMpIHtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlzUmVtb3ZlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgdXBkYXRlcyA9IGNhbGN1bGF0ZU1lbnVQb3NpdGlvbnMoc2NvcGUsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdXBkYXRlcy5jb250YWluZXI7XG4gICAgICAgICAgICB2YXIgZHJvcERvd24gPSB1cGRhdGVzLmRyb3BEb3duO1xuXG4gICAgICAgICAgICBjb250YWluZXIuZWxlbWVudC5jc3MoYW5pbWF0b3IudG9Dc3MoY29udGFpbmVyLnN0eWxlcykpO1xuICAgICAgICAgICAgZHJvcERvd24uZWxlbWVudC5jc3MoYW5pbWF0b3IudG9Dc3MoZHJvcERvd24uc3R5bGVzKSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICB9KShzY29wZSwgZWxlbWVudCwgb3B0cyk7XG5cbiAgICAgICAgdmFyIHdpbmRvdyA9IGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KTtcbiAgICAgICAgd2luZG93Lm9uKCdyZXNpemUnLCBkZWJvdW5jZWRPblJlc2l6ZSk7XG4gICAgICAgIHdpbmRvdy5vbignb3JpZW50YXRpb25jaGFuZ2UnLCBkZWJvdW5jZWRPblJlc2l6ZSk7XG5cbiAgICAgICAgLy8gUHVibGlzaCBkZWFjdGl2YXRpb24gY2xvc3VyZS4uLlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVhY3RpdmF0ZVJlc2l6aW5nKCkge1xuXG4gICAgICAgICAgLy8gRGlzYWJsZSByZXNpemluZyBoYW5kbGVyc1xuICAgICAgICAgIHdpbmRvdy5vZmYoJ3Jlc2l6ZScsIGRlYm91bmNlZE9uUmVzaXplKTtcbiAgICAgICAgICB3aW5kb3cub2ZmKCdvcmllbnRhdGlvbmNoYW5nZScsIGRlYm91bmNlZE9uUmVzaXplKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiAgSWYgYXN5bmNocm9ub3VzbHkgbG9hZGluZywgd2F0Y2ggYW5kIHVwZGF0ZSBpbnRlcm5hbFxuICAgICAgICogICckJGxvYWRpbmdBc3luY0RvbmUnIGZsYWdcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gd2F0Y2hBc3luY0xvYWQoKSB7XG4gICAgICAgIGlmIChvcHRzLmxvYWRpbmdBc3luYyAmJiAhb3B0cy5pc1JlbW92ZWQpIHtcbiAgICAgICAgICBzY29wZS4kJGxvYWRpbmdBc3luY0RvbmUgPSBmYWxzZTtcbiAgICAgICAgICBzY29wZS5wcm9ncmVzc01vZGUgPSAnaW5kZXRlcm1pbmF0ZSc7XG5cbiAgICAgICAgICAkcS53aGVuKG9wdHMubG9hZGluZ0FzeW5jKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiQkbG9hZGluZ0FzeW5jRG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgIHNjb3BlLnByb2dyZXNzTW9kZSA9ICcnO1xuICAgICAgICAgICAgICBkZWxldGUgb3B0cy5sb2FkaW5nQXN5bmM7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkJHJBRihwb3NpdGlvbkFuZEZvY3VzTWVudSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlSW50ZXJhY3Rpb24oKSB7XG4gICAgICAgIGlmIChvcHRzLmlzUmVtb3ZlZCkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBkcm9wRG93biA9IG9wdHMuc2VsZWN0RWw7XG4gICAgICAgIHZhciBzZWxlY3RDdHJsID0gZHJvcERvd24uY29udHJvbGxlcignbWRTZWxlY3RNZW51JykgfHwge307XG5cbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnbWQtY2xpY2thYmxlJyk7XG5cbiAgICAgICAgLy8gQ2xvc2Ugb24gYmFja2Ryb3AgY2xpY2tcbiAgICAgICAgb3B0cy5iYWNrZHJvcCAmJiBvcHRzLmJhY2tkcm9wLm9uKCdjbGljaycsIG9uQmFja2Ryb3BDbGljayk7XG5cbiAgICAgICAgLy8gRXNjYXBlIHRvIGNsb3NlXG4gICAgICAgIC8vIEN5Y2xpbmcgb2Ygb3B0aW9ucywgYW5kIGNsb3Npbmcgb24gZW50ZXJcbiAgICAgICAgZHJvcERvd24ub24oJ2tleWRvd24nLCBvbk1lbnVLZXlEb3duKTtcbiAgICAgICAgZHJvcERvd24ub24oJ2NsaWNrJywgY2hlY2tDbG9zZU1lbnUpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwSW50ZXJhY3Rpb24oKSB7XG4gICAgICAgICAgb3B0cy5iYWNrZHJvcCAmJiBvcHRzLmJhY2tkcm9wLm9mZignY2xpY2snLCBvbkJhY2tkcm9wQ2xpY2spO1xuICAgICAgICAgIGRyb3BEb3duLm9mZigna2V5ZG93bicsIG9uTWVudUtleURvd24pO1xuICAgICAgICAgIGRyb3BEb3duLm9mZignY2xpY2snLCBjaGVja0Nsb3NlTWVudSk7XG5cbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdtZC1jbGlja2FibGUnKTtcbiAgICAgICAgICBvcHRzLmlzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIC8vIENsb3N1cmUgRnVuY3Rpb25zXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gICAgICAgIGZ1bmN0aW9uIG9uQmFja2Ryb3BDbGljayhlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgb3B0cy5yZXN0b3JlRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgICAkbWRVdGlsLm5leHRUaWNrKCRtZFNlbGVjdC5oaWRlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uTWVudUtleURvd24oZXYpIHtcbiAgICAgICAgICB2YXIga2V5Q29kZXMgPSAkbWRDb25zdGFudC5LRVlfQ09ERTtcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgc3dpdGNoIChldi5rZXlDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIGtleUNvZGVzLlVQX0FSUk9XOlxuICAgICAgICAgICAgICByZXR1cm4gZm9jdXNQcmV2T3B0aW9uKCk7XG4gICAgICAgICAgICBjYXNlIGtleUNvZGVzLkRPV05fQVJST1c6XG4gICAgICAgICAgICAgIHJldHVybiBmb2N1c05leHRPcHRpb24oKTtcbiAgICAgICAgICAgIGNhc2Uga2V5Q29kZXMuU1BBQ0U6XG4gICAgICAgICAgICBjYXNlIGtleUNvZGVzLkVOVEVSOlxuICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gJG1kVXRpbC5nZXRDbG9zZXN0KGV2LnRhcmdldCwgJ21kLW9wdGlvbicpO1xuICAgICAgICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgZHJvcERvd24udHJpZ2dlckhhbmRsZXIoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2NsaWNrJyxcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogb3B0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjaGVja0Nsb3NlTWVudShldik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBrZXlDb2Rlcy5UQUI6XG4gICAgICAgICAgICBjYXNlIGtleUNvZGVzLkVTQ0FQRTpcbiAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIG9wdHMucmVzdG9yZUZvY3VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgJG1kVXRpbC5uZXh0VGljaygkbWRTZWxlY3QuaGlkZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgaWYgKGV2LmtleUNvZGUgPj0gMzEgJiYgZXYua2V5Q29kZSA8PSA5MCkge1xuICAgICAgICAgICAgICAgIHZhciBvcHROb2RlID0gZHJvcERvd24uY29udHJvbGxlcignbWRTZWxlY3RNZW51Jykub3B0Tm9kZUZvcktleWJvYXJkU2VhcmNoKGV2KTtcbiAgICAgICAgICAgICAgICBvcHRzLmZvY3VzZWROb2RlID0gb3B0Tm9kZSB8fCBvcHRzLmZvY3VzZWROb2RlO1xuICAgICAgICAgICAgICAgIG9wdE5vZGUgJiYgb3B0Tm9kZS5mb2N1cygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZm9jdXNPcHRpb24oZGlyZWN0aW9uKSB7XG4gICAgICAgICAgdmFyIG9wdGlvbnNBcnJheSA9ICRtZFV0aWwubm9kZXNUb0FycmF5KG9wdHMub3B0aW9uTm9kZXMpO1xuICAgICAgICAgIHZhciBpbmRleCA9IG9wdGlvbnNBcnJheS5pbmRleE9mKG9wdHMuZm9jdXNlZE5vZGUpO1xuXG4gICAgICAgICAgdmFyIG5ld09wdGlvbjtcblxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgLy8gV2UgbG9zdCB0aGUgcHJldmlvdXNseSBmb2N1c2VkIGVsZW1lbnQsIHJlc2V0IHRvIGZpcnN0IG9wdGlvblxuICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ25leHQnICYmIGluZGV4IDwgb3B0aW9uc0FycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncHJldicgJiYgaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPcHRpb24gPSBvcHRpb25zQXJyYXlbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKG5ld09wdGlvbi5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIG5ld09wdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9IHdoaWxlICghbmV3T3B0aW9uICYmIGluZGV4IDwgb3B0aW9uc0FycmF5Lmxlbmd0aCAtIDEgJiYgaW5kZXggPiAwKVxuICAgICAgICAgIG5ld09wdGlvbiAmJiBuZXdPcHRpb24uZm9jdXMoKTtcbiAgICAgICAgICBvcHRzLmZvY3VzZWROb2RlID0gbmV3T3B0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZm9jdXNOZXh0T3B0aW9uKCkge1xuICAgICAgICAgIGZvY3VzT3B0aW9uKCduZXh0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmb2N1c1ByZXZPcHRpb24oKSB7XG4gICAgICAgICAgZm9jdXNPcHRpb24oJ3ByZXYnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQ2xvc2VNZW51KGV2KSB7XG4gICAgICAgICAgaWYgKGV2ICYmICggZXYudHlwZSA9PSAnY2xpY2snKSAmJiAoZXYuY3VycmVudFRhcmdldCAhPSBkcm9wRG93blswXSkpIHJldHVybjtcbiAgICAgICAgICBpZiAoIG1vdXNlT25TY3JvbGxiYXIoKSApIHJldHVybjtcblxuICAgICAgICAgIHZhciBvcHRpb24gPSAkbWRVdGlsLmdldENsb3Nlc3QoZXYudGFyZ2V0LCAnbWQtb3B0aW9uJyk7XG4gICAgICAgICAgaWYgKG9wdGlvbiAmJiBvcHRpb24uaGFzQXR0cmlidXRlICYmICFvcHRpb24uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAoIXNlbGVjdEN0cmwuaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgICBvcHRzLnJlc3RvcmVGb2N1cyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgJG1kVXRpbC5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJG1kU2VsZWN0LmhpZGUoc2VsZWN0Q3RybC5uZ01vZGVsLiR2aWV3VmFsdWUpO1xuICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogY2hlY2sgaWYgdGhlIG1vdXNldXAgZXZlbnQgd2FzIG9uIGEgc2Nyb2xsYmFyXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24gbW91c2VPblNjcm9sbGJhcigpIHtcbiAgICAgICAgICAgIHZhciBjbGlja09uU2Nyb2xsYmFyID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoZXYgJiYgKGV2LmN1cnJlbnRUYXJnZXQuY2hpbGRyZW4ubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgdmFyIGNoaWxkID0gZXYuY3VycmVudFRhcmdldC5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgdmFyIGhhc1Njcm9sbGJhciA9IGNoaWxkLnNjcm9sbEhlaWdodCA+IGNoaWxkLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgaWYgKGhhc1Njcm9sbGJhciAmJiBjaGlsZC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbFBvc1ggPSBldi5wYWdlWCAtIGV2LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgICAgICAgICAgICBpZiAocmVsUG9zWCA+IGNoaWxkLnF1ZXJ5U2VsZWN0b3IoJ21kLW9wdGlvbicpLm9mZnNldFdpZHRoKVxuICAgICAgICAgICAgICAgICAgY2xpY2tPblNjcm9sbGJhciA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbGlja09uU2Nyb2xsYmFyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG8gbm90aWZ5IGxpc3RlbmVycyB0aGF0IHRoZSBTZWxlY3QgbWVudSBoYXMgY2xvc2VkLFxuICAgICAqIHRyaWdnZXIgdGhlIFtvcHRpb25hbF0gdXNlci1kZWZpbmVkIGV4cHJlc3Npb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhbm5vdW5jZUNsb3NlZChvcHRzKSB7XG4gICAgICB2YXIgbWRTZWxlY3QgPSBvcHRzLnNlbGVjdEN0cmw7XG4gICAgICBpZiAobWRTZWxlY3QpIHtcbiAgICAgICAgdmFyIG1lbnVDb250cm9sbGVyID0gb3B0cy5zZWxlY3RFbC5jb250cm9sbGVyKCdtZFNlbGVjdE1lbnUnKTtcbiAgICAgICAgbWRTZWxlY3Quc2V0TGFiZWxUZXh0KG1lbnVDb250cm9sbGVyLnNlbGVjdGVkTGFiZWxzKCkpO1xuICAgICAgICBtZFNlbGVjdC50cmlnZ2VyQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVNZW51UG9zaXRpb25zKHNjb3BlLCBlbGVtZW50LCBvcHRzKSB7XG4gICAgICB2YXJcbiAgICAgICAgY29udGFpbmVyTm9kZSA9IGVsZW1lbnRbMF0sXG4gICAgICAgIHRhcmdldE5vZGUgPSBvcHRzLnRhcmdldFswXS5jaGlsZHJlblswXSwgLy8gdGFyZ2V0IHRoZSBsYWJlbFxuICAgICAgICBwYXJlbnROb2RlID0gJGRvY3VtZW50WzBdLmJvZHksXG4gICAgICAgIHNlbGVjdE5vZGUgPSBvcHRzLnNlbGVjdEVsWzBdLFxuICAgICAgICBjb250ZW50Tm9kZSA9IG9wdHMuY29udGVudEVsWzBdLFxuICAgICAgICBwYXJlbnRSZWN0ID0gcGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgdGFyZ2V0UmVjdCA9IHRhcmdldE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIHNob3VsZE9wZW5Bcm91bmRUYXJnZXQgPSBmYWxzZSxcbiAgICAgICAgYm91bmRzID0ge1xuICAgICAgICAgIGxlZnQ6IHBhcmVudFJlY3QubGVmdCArIFNFTEVDVF9FREdFX01BUkdJTixcbiAgICAgICAgICB0b3A6IFNFTEVDVF9FREdFX01BUkdJTixcbiAgICAgICAgICBib3R0b206IHBhcmVudFJlY3QuaGVpZ2h0IC0gU0VMRUNUX0VER0VfTUFSR0lOLFxuICAgICAgICAgIHJpZ2h0OiBwYXJlbnRSZWN0LndpZHRoIC0gU0VMRUNUX0VER0VfTUFSR0lOIC0gKCRtZFV0aWwuZmxvYXRpbmdTY3JvbGxiYXJzKCkgPyAxNiA6IDApXG4gICAgICAgIH0sXG4gICAgICAgIHNwYWNlQXZhaWxhYmxlID0ge1xuICAgICAgICAgIHRvcDogdGFyZ2V0UmVjdC50b3AgLSBib3VuZHMudG9wLFxuICAgICAgICAgIGxlZnQ6IHRhcmdldFJlY3QubGVmdCAtIGJvdW5kcy5sZWZ0LFxuICAgICAgICAgIHJpZ2h0OiBib3VuZHMucmlnaHQgLSAodGFyZ2V0UmVjdC5sZWZ0ICsgdGFyZ2V0UmVjdC53aWR0aCksXG4gICAgICAgICAgYm90dG9tOiBib3VuZHMuYm90dG9tIC0gKHRhcmdldFJlY3QudG9wICsgdGFyZ2V0UmVjdC5oZWlnaHQpXG4gICAgICAgIH0sXG4gICAgICAgIG1heFdpZHRoID0gcGFyZW50UmVjdC53aWR0aCAtIFNFTEVDVF9FREdFX01BUkdJTiAqIDIsXG4gICAgICAgIHNlbGVjdGVkTm9kZSA9IHNlbGVjdE5vZGUucXVlcnlTZWxlY3RvcignbWQtb3B0aW9uW3NlbGVjdGVkXScpLFxuICAgICAgICBvcHRpb25Ob2RlcyA9IHNlbGVjdE5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLW9wdGlvbicpLFxuICAgICAgICBvcHRncm91cE5vZGVzID0gc2VsZWN0Tm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtb3B0Z3JvdXAnKSxcbiAgICAgICAgaXNTY3JvbGxhYmxlID0gY2FsY3VsYXRlU2Nyb2xsYWJsZShlbGVtZW50LCBjb250ZW50Tm9kZSksXG4gICAgICAgIGNlbnRlcmVkTm9kZTtcblxuICAgICAgdmFyIGxvYWRpbmcgPSBpc1Byb21pc2VMaWtlKG9wdHMubG9hZGluZ0FzeW5jKTtcbiAgICAgIGlmICghbG9hZGluZykge1xuICAgICAgICAvLyBJZiBhIHNlbGVjdGVkIG5vZGUsIGNlbnRlciBhcm91bmQgdGhhdFxuICAgICAgICBpZiAoc2VsZWN0ZWROb2RlKSB7XG4gICAgICAgICAgY2VudGVyZWROb2RlID0gc2VsZWN0ZWROb2RlO1xuICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBvcHRpb24gZ3JvdXBzLCBjZW50ZXIgYXJvdW5kIHRoZSBmaXJzdCBvcHRpb24gZ3JvdXBcbiAgICAgICAgfSBlbHNlIGlmIChvcHRncm91cE5vZGVzLmxlbmd0aCkge1xuICAgICAgICAgIGNlbnRlcmVkTm9kZSA9IG9wdGdyb3VwTm9kZXNbMF07XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIC0gaWYgd2UgYXJlIG5vdCBsb2FkaW5nIGFzeW5jIC0gY2VudGVyIGFyb3VuZCB0aGUgZmlyc3Qgb3B0aW9uTm9kZVxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbk5vZGVzLmxlbmd0aCkge1xuICAgICAgICAgIGNlbnRlcmVkTm9kZSA9IG9wdGlvbk5vZGVzWzBdO1xuICAgICAgICAgIC8vIEluIGNhc2UgdGhlcmUgYXJlIG5vIG9wdGlvbnMsIGNlbnRlciBvbiB3aGF0ZXZlcidzIGluIHRoZXJlLi4uIChlZyBwcm9ncmVzcyBpbmRpY2F0b3IpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2VudGVyZWROb2RlID0gY29udGVudE5vZGUuZmlyc3RFbGVtZW50Q2hpbGQgfHwgY29udGVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIGxvYWRpbmcsIGNlbnRlciBvbiBwcm9ncmVzcyBpbmRpY2F0b3JcbiAgICAgICAgY2VudGVyZWROb2RlID0gY29udGVudE5vZGUuZmlyc3RFbGVtZW50Q2hpbGQgfHwgY29udGVudE5vZGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250ZW50Tm9kZS5vZmZzZXRXaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgIGNvbnRlbnROb2RlLnN0eWxlWydtYXgtd2lkdGgnXSA9IG1heFdpZHRoICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnROb2RlLnN0eWxlLm1heFdpZHRoID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRPcGVuQXJvdW5kVGFyZ2V0KSB7XG4gICAgICAgIGNvbnRlbnROb2RlLnN0eWxlWydtaW4td2lkdGgnXSA9IHRhcmdldFJlY3Qud2lkdGggKyAncHgnO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgcGFkZGluZyBiZWZvcmUgd2UgY29tcHV0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIG1lbnVcbiAgICAgIGlmIChpc1Njcm9sbGFibGUpIHtcbiAgICAgICAgc2VsZWN0Tm9kZS5jbGFzc0xpc3QuYWRkKCdtZC1vdmVyZmxvdycpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZm9jdXNlZE5vZGUgPSBjZW50ZXJlZE5vZGU7XG4gICAgICBpZiAoKGZvY3VzZWROb2RlLnRhZ05hbWUgfHwgJycpLnRvVXBwZXJDYXNlKCkgPT09ICdNRC1PUFRHUk9VUCcpIHtcbiAgICAgICAgZm9jdXNlZE5vZGUgPSBvcHRpb25Ob2Rlc1swXSB8fCBjb250ZW50Tm9kZS5maXJzdEVsZW1lbnRDaGlsZCB8fCBjb250ZW50Tm9kZTtcbiAgICAgICAgY2VudGVyZWROb2RlID0gZm9jdXNlZE5vZGU7XG4gICAgICB9XG4gICAgICAvLyBDYWNoZSBmb3IgYXV0b0ZvY3VzKClcbiAgICAgIG9wdHMuZm9jdXNlZE5vZGUgPSBmb2N1c2VkTm9kZTtcblxuICAgICAgLy8gR2V0IHRoZSBzZWxlY3RNZW51UmVjdCAqYWZ0ZXIqIG1heC13aWR0aCBpcyBwb3NzaWJseSBzZXQgYWJvdmVcbiAgICAgIGNvbnRhaW5lck5vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB2YXIgc2VsZWN0TWVudVJlY3QgPSBzZWxlY3ROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIGNlbnRlcmVkUmVjdCA9IGdldE9mZnNldFJlY3QoY2VudGVyZWROb2RlKTtcblxuICAgICAgaWYgKGNlbnRlcmVkTm9kZSkge1xuICAgICAgICB2YXIgY2VudGVyZWRTdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjZW50ZXJlZE5vZGUpO1xuICAgICAgICBjZW50ZXJlZFJlY3QucGFkZGluZ0xlZnQgPSBwYXJzZUludChjZW50ZXJlZFN0eWxlLnBhZGRpbmdMZWZ0LCAxMCkgfHwgMDtcbiAgICAgICAgY2VudGVyZWRSZWN0LnBhZGRpbmdSaWdodCA9IHBhcnNlSW50KGNlbnRlcmVkU3R5bGUucGFkZGluZ1JpZ2h0LCAxMCkgfHwgMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU2Nyb2xsYWJsZSkge1xuICAgICAgICB2YXIgc2Nyb2xsQnVmZmVyID0gY29udGVudE5vZGUub2Zmc2V0SGVpZ2h0IC8gMjtcbiAgICAgICAgY29udGVudE5vZGUuc2Nyb2xsVG9wID0gY2VudGVyZWRSZWN0LnRvcCArIGNlbnRlcmVkUmVjdC5oZWlnaHQgLyAyIC0gc2Nyb2xsQnVmZmVyO1xuXG4gICAgICAgIGlmIChzcGFjZUF2YWlsYWJsZS50b3AgPCBzY3JvbGxCdWZmZXIpIHtcbiAgICAgICAgICBjb250ZW50Tm9kZS5zY3JvbGxUb3AgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIGNlbnRlcmVkUmVjdC50b3AsXG4gICAgICAgICAgICBjb250ZW50Tm9kZS5zY3JvbGxUb3AgKyBzY3JvbGxCdWZmZXIgLSBzcGFjZUF2YWlsYWJsZS50b3BcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNwYWNlQXZhaWxhYmxlLmJvdHRvbSA8IHNjcm9sbEJ1ZmZlcikge1xuICAgICAgICAgIGNvbnRlbnROb2RlLnNjcm9sbFRvcCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgY2VudGVyZWRSZWN0LnRvcCArIGNlbnRlcmVkUmVjdC5oZWlnaHQgLSBzZWxlY3RNZW51UmVjdC5oZWlnaHQsXG4gICAgICAgICAgICBjb250ZW50Tm9kZS5zY3JvbGxUb3AgLSBzY3JvbGxCdWZmZXIgKyBzcGFjZUF2YWlsYWJsZS5ib3R0b21cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBsZWZ0LCB0b3AsIHRyYW5zZm9ybU9yaWdpbiwgbWluV2lkdGg7XG4gICAgICBpZiAoc2hvdWxkT3BlbkFyb3VuZFRhcmdldCkge1xuICAgICAgICBsZWZ0ID0gdGFyZ2V0UmVjdC5sZWZ0O1xuICAgICAgICB0b3AgPSB0YXJnZXRSZWN0LnRvcCArIHRhcmdldFJlY3QuaGVpZ2h0O1xuICAgICAgICB0cmFuc2Zvcm1PcmlnaW4gPSAnNTAlIDAnO1xuICAgICAgICBpZiAodG9wICsgc2VsZWN0TWVudVJlY3QuaGVpZ2h0ID4gYm91bmRzLmJvdHRvbSkge1xuICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QudG9wIC0gc2VsZWN0TWVudVJlY3QuaGVpZ2h0O1xuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbiA9ICc1MCUgMTAwJSc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlZnQgPSAodGFyZ2V0UmVjdC5sZWZ0ICsgY2VudGVyZWRSZWN0LmxlZnQgLSBjZW50ZXJlZFJlY3QucGFkZGluZ0xlZnQpICsgMjtcbiAgICAgICAgdG9wID0gTWF0aC5mbG9vcih0YXJnZXRSZWN0LnRvcCArIHRhcmdldFJlY3QuaGVpZ2h0IC8gMiAtIGNlbnRlcmVkUmVjdC5oZWlnaHQgLyAyIC1cbiAgICAgICAgICAgIGNlbnRlcmVkUmVjdC50b3AgKyBjb250ZW50Tm9kZS5zY3JvbGxUb3ApICsgMjtcblxuICAgICAgICB0cmFuc2Zvcm1PcmlnaW4gPSAoY2VudGVyZWRSZWN0LmxlZnQgKyB0YXJnZXRSZWN0LndpZHRoIC8gMikgKyAncHggJyArXG4gICAgICAgICAgKGNlbnRlcmVkUmVjdC50b3AgKyBjZW50ZXJlZFJlY3QuaGVpZ2h0IC8gMiAtIGNvbnRlbnROb2RlLnNjcm9sbFRvcCkgKyAncHggMHB4JztcblxuICAgICAgICBtaW5XaWR0aCA9IE1hdGgubWluKHRhcmdldFJlY3Qud2lkdGggKyBjZW50ZXJlZFJlY3QucGFkZGluZ0xlZnQgKyBjZW50ZXJlZFJlY3QucGFkZGluZ1JpZ2h0LCBtYXhXaWR0aCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEtlZXAgbGVmdCBhbmQgdG9wIHdpdGhpbiB0aGUgd2luZG93XG4gICAgICB2YXIgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lck5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgc2NhbGVYID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLm1pbih0YXJnZXRSZWN0LndpZHRoIC8gc2VsZWN0TWVudVJlY3Qud2lkdGgsIDEuMCkpIC8gMTAwO1xuICAgICAgdmFyIHNjYWxlWSA9IE1hdGgucm91bmQoMTAwICogTWF0aC5taW4odGFyZ2V0UmVjdC5oZWlnaHQgLyBzZWxlY3RNZW51UmVjdC5oZWlnaHQsIDEuMCkpIC8gMTAwO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICBlbGVtZW50OiBhbmd1bGFyLmVsZW1lbnQoY29udGFpbmVyTm9kZSksXG4gICAgICAgICAgc3R5bGVzOiB7XG4gICAgICAgICAgICBsZWZ0OiBNYXRoLmZsb29yKGNsYW1wKGJvdW5kcy5sZWZ0LCBsZWZ0LCBib3VuZHMucmlnaHQgLSBjb250YWluZXJSZWN0LndpZHRoKSksXG4gICAgICAgICAgICB0b3A6IE1hdGguZmxvb3IoY2xhbXAoYm91bmRzLnRvcCwgdG9wLCBib3VuZHMuYm90dG9tIC0gY29udGFpbmVyUmVjdC5oZWlnaHQpKSxcbiAgICAgICAgICAgICdtaW4td2lkdGgnOiBtaW5XaWR0aFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZHJvcERvd246IHtcbiAgICAgICAgICBlbGVtZW50OiBhbmd1bGFyLmVsZW1lbnQoc2VsZWN0Tm9kZSksXG4gICAgICAgICAgc3R5bGVzOiB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IHRyYW5zZm9ybU9yaWdpbixcbiAgICAgICAgICAgIHRyYW5zZm9ybTogIW9wdHMuYWxyZWFkeU9wZW4gPyAkbWRVdGlsLnN1cHBsYW50KCdzY2FsZSh7MH0sezF9KScsIFtzY2FsZVgsIHNjYWxlWV0pIDogXCJcIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gaXNQcm9taXNlTGlrZShvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihvYmoudGhlbik7XG4gIH1cblxuICBmdW5jdGlvbiBjbGFtcChtaW4sIG4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG4sIG1heCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0T2Zmc2V0UmVjdChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgPyB7XG4gICAgICBsZWZ0OiBub2RlLm9mZnNldExlZnQsXG4gICAgICB0b3A6IG5vZGUub2Zmc2V0VG9wLFxuICAgICAgd2lkdGg6IG5vZGUub2Zmc2V0V2lkdGgsXG4gICAgICBoZWlnaHQ6IG5vZGUub2Zmc2V0SGVpZ2h0XG4gICAgfSA6IHtsZWZ0OiAwLCB0b3A6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlU2Nyb2xsYWJsZShlbGVtZW50LCBjb250ZW50Tm9kZSkge1xuICAgIHZhciBpc1Njcm9sbGFibGUgPSBmYWxzZTtcblxuICAgIHRyeSB7XG4gICAgICB2YXIgb2xkRGlzcGxheSA9IGVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheTtcblxuICAgICAgLy8gU2V0IHRoZSBlbGVtZW50J3MgZGlzcGxheSB0byBibG9jayBzbyB0aGF0IHRoaXMgY2FsY3VsYXRpb24gaXMgY29ycmVjdFxuICAgICAgZWxlbWVudFswXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgaXNTY3JvbGxhYmxlID0gY29udGVudE5vZGUuc2Nyb2xsSGVpZ2h0ID4gY29udGVudE5vZGUub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAvLyBSZXNldCBpdCBiYWNrIGFmdGVyd2FyZHNcbiAgICAgIGVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSA9IG9sZERpc3BsYXk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIE5vdGhpbmcgdG8gZG9cbiAgICB9XG4gICAgcmV0dXJuIGlzU2Nyb2xsYWJsZTtcbiAgfVxufVxuU2VsZWN0UHJvdmlkZXIuJGluamVjdCA9IFtcIiQkaW50ZXJpbUVsZW1lbnRQcm92aWRlclwiXTtcblxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnNob3dIaWRlXG4gKi9cblxuLy8gQWRkIGFkZGl0aW9uYWwgaGFuZGxlcnMgdG8gbmctc2hvdyBhbmQgbmctaGlkZSB0aGF0IG5vdGlmeSBkaXJlY3RpdmVzXG4vLyBjb250YWluZWQgd2l0aGluIHRoYXQgdGhleSBzaG91bGQgcmVjb21wdXRlIHRoZWlyIHNpemUuXG4vLyBUaGVzZSBydW4gaW4gYWRkaXRpb24gdG8gQW5ndWxhcidzIGJ1aWx0LWluIG5nLWhpZGUgYW5kIG5nLXNob3cgZGlyZWN0aXZlcy5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnNob3dIaWRlJywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ25nU2hvdycsIGNyZWF0ZURpcmVjdGl2ZSgnbmdTaG93JywgdHJ1ZSkpXG4gIC5kaXJlY3RpdmUoJ25nSGlkZScsIGNyZWF0ZURpcmVjdGl2ZSgnbmdIaWRlJywgZmFsc2UpKTtcblxuXG5mdW5jdGlvbiBjcmVhdGVEaXJlY3RpdmUobmFtZSwgdGFyZ2V0VmFsdWUpIHtcbiAgcmV0dXJuIFsnJG1kVXRpbCcsIGZ1bmN0aW9uKCRtZFV0aWwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyKSB7XG4gICAgICAgIHZhciB1bnJlZ2lzdGVyID0gJHNjb3BlLiRvbignJG1kLXJlc2l6ZS1lbmFibGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1bnJlZ2lzdGVyKCk7XG5cbiAgICAgICAgICAkc2NvcGUuJHdhdGNoKCRhdHRyW25hbWVdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhdmFsdWUgPT09IHRhcmdldFZhbHVlKSB7XG4gICAgICAgICAgICAgICRtZFV0aWwubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJyRtZC1yZXNpemUnKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICRtZFV0aWwuZG9tLmFuaW1hdG9yLndhaXRUcmFuc2l0aW9uRW5kKCRlbGVtZW50KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCckbWQtcmVzaXplJyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XTtcbn1cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuc2lkZW5hdlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBTaWRlbmF2IFFQIGNvbXBvbmVudC5cbiAqL1xuYW5ndWxhclxuICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnNpZGVuYXYnLCBbXG4gICAgJ21hdGVyaWFsLmNvcmUnLFxuICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wJ1xuICBdKVxuICAuZmFjdG9yeSgnJG1kU2lkZW5hdicsIFNpZGVuYXZTZXJ2aWNlIClcbiAgLmRpcmVjdGl2ZSgnbWRTaWRlbmF2JywgU2lkZW5hdkRpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbWRTaWRlbmF2Rm9jdXMnLCBTaWRlbmF2Rm9jdXNEaXJlY3RpdmUpXG4gIC5jb250cm9sbGVyKCckbWRTaWRlbmF2Q29udHJvbGxlcicsIFNpZGVuYXZDb250cm9sbGVyKTtcblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbWRTaWRlbmF2XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc2lkZW5hdlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYCRtZFNpZGVuYXZgIG1ha2VzIGl0IGVhc3kgdG8gaW50ZXJhY3Qgd2l0aCBtdWx0aXBsZSBzaWRlbmF2c1xuICogaW4gYW4gYXBwLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiAvLyBBc3luYyBsb29rdXAgZm9yIHNpZGVuYXYgaW5zdGFuY2U7IHdpbGwgcmVzb2x2ZSB3aGVuIHRoZSBpbnN0YW5jZSBpcyBhdmFpbGFibGVcbiAqICRtZFNpZGVuYXYoY29tcG9uZW50SWQpLnRoZW4oZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAqICAgJGxvZy5kZWJ1ZyggY29tcG9uZW50SWQgKyBcImlzIG5vdyByZWFkeVwiICk7XG4gKiB9KTtcbiAqIC8vIEFzeW5jIHRvZ2dsZSB0aGUgZ2l2ZW4gc2lkZW5hdjtcbiAqIC8vIHdoZW4gaW5zdGFuY2UgaXMga25vd24gcmVhZHkgYW5kIGxhenkgbG9va3VwIGlzIG5vdCBuZWVkZWQuXG4gKiAkbWRTaWRlbmF2KGNvbXBvbmVudElkKVxuICogICAgLnRvZ2dsZSgpXG4gKiAgICAudGhlbihmdW5jdGlvbigpe1xuICogICAgICAkbG9nLmRlYnVnKCd0b2dnbGVkJyk7XG4gKiAgICB9KTtcbiAqIC8vIEFzeW5jIG9wZW4gdGhlIGdpdmVuIHNpZGVuYXZcbiAqICRtZFNpZGVuYXYoY29tcG9uZW50SWQpXG4gKiAgICAub3BlbigpXG4gKiAgICAudGhlbihmdW5jdGlvbigpe1xuICogICAgICAkbG9nLmRlYnVnKCdvcGVuZWQnKTtcbiAqICAgIH0pO1xuICogLy8gQXN5bmMgY2xvc2UgdGhlIGdpdmVuIHNpZGVuYXZcbiAqICRtZFNpZGVuYXYoY29tcG9uZW50SWQpXG4gKiAgICAuY2xvc2UoKVxuICogICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAqICAgICAgJGxvZy5kZWJ1ZygnY2xvc2VkJyk7XG4gKiAgICB9KTtcbiAqIC8vIFN5bmMgY2hlY2sgdG8gc2VlIGlmIHRoZSBzcGVjaWZpZWQgc2lkZW5hdiBpcyBzZXQgdG8gYmUgb3BlblxuICogJG1kU2lkZW5hdihjb21wb25lbnRJZCkuaXNPcGVuKCk7XG4gKiAvLyBTeW5jIGNoZWNrIHRvIHdoZXRoZXIgZ2l2ZW4gc2lkZW5hdiBpcyBsb2NrZWQgb3BlblxuICogLy8gSWYgdGhpcyBpcyB0cnVlLCB0aGUgc2lkZW5hdiB3aWxsIGJlIG9wZW4gcmVnYXJkbGVzcyBvZiBjbG9zZSgpXG4gKiAkbWRTaWRlbmF2KGNvbXBvbmVudElkKS5pc0xvY2tlZE9wZW4oKTtcbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gU2lkZW5hdlNlcnZpY2UoJG1kQ29tcG9uZW50UmVnaXN0cnksICRxKSB7XG4gIHJldHVybiBmdW5jdGlvbihoYW5kbGUpIHtcblxuICAgIC8vIExvb2t1cCB0aGUgY29udHJvbGxlciBpbnN0YW5jZSBmb3IgdGhlIHNwZWNpZmllZCBzaWROYXYgaW5zdGFuY2VcbiAgICB2YXIgc2VsZjtcbiAgICB2YXIgZXJyb3JNc2cgPSBcIlNpZGVOYXYgJ1wiICsgaGFuZGxlICsgXCInIGlzIG5vdCBhdmFpbGFibGUhXCI7XG4gICAgdmFyIGluc3RhbmNlID0gJG1kQ29tcG9uZW50UmVnaXN0cnkuZ2V0KGhhbmRsZSk7XG5cbiAgICBpZighaW5zdGFuY2UpIHtcbiAgICAgICRtZENvbXBvbmVudFJlZ2lzdHJ5Lm5vdEZvdW5kRXJyb3IoaGFuZGxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZiA9IHtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyBTeW5jIG1ldGhvZHNcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBpc09wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgJiYgaW5zdGFuY2UuaXNPcGVuKCk7XG4gICAgICB9LFxuICAgICAgaXNMb2NrZWRPcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlICYmIGluc3RhbmNlLmlzTG9ja2VkT3BlbigpO1xuICAgICAgfSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyBBc3luYyBtZXRob2RzXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgdG9nZ2xlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlID8gaW5zdGFuY2UudG9nZ2xlKCkgOiAkcS5yZWplY3QoZXJyb3JNc2cpO1xuICAgICAgfSxcbiAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgPyBpbnN0YW5jZS5vcGVuKCkgOiAkcS5yZWplY3QoZXJyb3JNc2cpO1xuICAgICAgfSxcbiAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlID8gaW5zdGFuY2UuY2xvc2UoKSA6ICRxLnJlamVjdChlcnJvck1zZyk7XG4gICAgICB9LFxuICAgICAgdGhlbiA6IGZ1bmN0aW9uKCBjYWxsYmFja0ZuICkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IGluc3RhbmNlID8gJHEud2hlbihpbnN0YW5jZSkgOiB3YWl0Rm9ySW5zdGFuY2UoKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbiggY2FsbGJhY2tGbiB8fCBhbmd1bGFyLm5vb3AgKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVmZXJyZWQgbG9va3VwIG9mIGNvbXBvbmVudCBpbnN0YW5jZSB1c2luZyAkY29tcG9uZW50IHJlZ2lzdHJ5XG4gICAgICovXG4gICAgZnVuY3Rpb24gd2FpdEZvckluc3RhbmNlKCkge1xuICAgICAgcmV0dXJuICRtZENvbXBvbmVudFJlZ2lzdHJ5XG4gICAgICAgICAgICAgICAgLndoZW4oaGFuZGxlKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCBpdCApe1xuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBpdDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5TaWRlbmF2U2VydmljZS4kaW5qZWN0ID0gW1wiJG1kQ29tcG9uZW50UmVnaXN0cnlcIiwgXCIkcVwiXTtcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRTaWRlbmF2Rm9jdXNcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zaWRlbmF2XG4gKlxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGBtZFNpZGVuYXZGb2N1c2AgcHJvdmlkZXMgYSB3YXkgdG8gc3BlY2lmeSB0aGUgZm9jdXNlZCBlbGVtZW50IHdoZW4gYSBzaWRlbmF2IG9wZW5zLlxuICogVGhpcyBpcyBjb21wbGV0ZWx5IG9wdGlvbmFsLCBhcyB0aGUgc2lkZW5hdiBpdHNlbGYgaXMgZm9jdXNlZCBieSBkZWZhdWx0LlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1zaWRlbmF2PlxuICogICA8Zm9ybT5cbiAqICAgICA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICAgICAgPGxhYmVsIGZvcj1cInRlc3RJbnB1dFwiPkxhYmVsPC9sYWJlbD5cbiAqICAgICAgIDxpbnB1dCBpZD1cInRlc3RJbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgbWQtc2lkZW5hdi1mb2N1cz5cbiAqICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgPC9mb3JtPlxuICogPC9tZC1zaWRlbmF2PlxuICogPC9obGpzPlxuICoqL1xuZnVuY3Rpb24gU2lkZW5hdkZvY3VzRGlyZWN0aXZlKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ15tZFNpZGVuYXYnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBzaWRlbmF2Q3RybCkge1xuICAgICAgLy8gQHNlZSAkbWRVdGlsLmZpbmRGb2N1c1RhcmdldCguLi4pXG4gICAgfVxuICB9O1xufVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFNpZGVuYXZcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zaWRlbmF2XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEEgU2lkZW5hdiBjb21wb25lbnQgdGhhdCBjYW4gYmUgb3BlbmVkIGFuZCBjbG9zZWQgcHJvZ3JhbWF0aWNhbGx5LlxuICpcbiAqIEJ5IGRlZmF1bHQsIHVwb24gb3BlbmluZyBpdCB3aWxsIHNsaWRlIG91dCBvbiB0b3Agb2YgdGhlIG1haW4gY29udGVudCBhcmVhLlxuICpcbiAqIEZvciBrZXlib2FyZCBhbmQgc2NyZWVuIHJlYWRlciBhY2Nlc3NpYmlsaXR5LCBmb2N1cyBpcyBzZW50IHRvIHRoZSBzaWRlbmF2IHdyYXBwZXIgYnkgZGVmYXVsdC5cbiAqIEl0IGNhbiBiZSBvdmVycmlkZGVuIHdpdGggdGhlIGBtZC1hdXRvZm9jdXNgIGRpcmVjdGl2ZSBvbiB0aGUgY2hpbGQgZWxlbWVudCB5b3Ugd2FudCBmb2N1c2VkLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbGF5b3V0PVwicm93XCIgbmctY29udHJvbGxlcj1cIk15Q29udHJvbGxlclwiPlxuICogICA8bWQtc2lkZW5hdiBtZC1jb21wb25lbnQtaWQ9XCJsZWZ0XCIgY2xhc3M9XCJtZC1zaWRlbmF2LWxlZnRcIj5cbiAqICAgICBMZWZ0IE5hdiFcbiAqICAgPC9tZC1zaWRlbmF2PlxuICpcbiAqICAgPG1kLWNvbnRlbnQ+XG4gKiAgICAgQ2VudGVyIENvbnRlbnRcbiAqICAgICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwib3BlbkxlZnRNZW51KClcIj5cbiAqICAgICAgIE9wZW4gTGVmdCBNZW51XG4gKiAgICAgPC9tZC1idXR0b24+XG4gKiAgIDwvbWQtY29udGVudD5cbiAqXG4gKiAgIDxtZC1zaWRlbmF2IG1kLWNvbXBvbmVudC1pZD1cInJpZ2h0XCJcbiAqICAgICBtZC1pcy1sb2NrZWQtb3Blbj1cIiRtZE1lZGlhKCdtaW4td2lkdGg6IDMzM3B4JylcIlxuICogICAgIGNsYXNzPVwibWQtc2lkZW5hdi1yaWdodFwiPlxuICogICAgIDxmb3JtPlxuICogICAgICAgPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgICAgICAgPGxhYmVsIGZvcj1cInRlc3RJbnB1dFwiPlRlc3QgaW5wdXQ8L2xhYmVsPlxuICogICAgICAgICA8aW5wdXQgaWQ9XCJ0ZXN0SW5wdXRcIiB0eXBlPVwidGV4dFwiXG4gKiAgICAgICAgICAgICAgICBuZy1tb2RlbD1cImRhdGFcIiBtZC1hdXRvZm9jdXM+XG4gKiAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgICA8L2Zvcm0+XG4gKiAgIDwvbWQtc2lkZW5hdj5cbiAqIDwvZGl2PlxuICogPC9obGpzPlxuICpcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsnbmdNYXRlcmlhbCddKTtcbiAqIGFwcC5jb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRtZFNpZGVuYXYpIHtcbiAqICAgJHNjb3BlLm9wZW5MZWZ0TWVudSA9IGZ1bmN0aW9uKCkge1xuICogICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcbiAqICAgfTtcbiAqIH0pO1xuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLWlzLW9wZW4gQSBtb2RlbCBib3VuZCB0byB3aGV0aGVyIHRoZSBzaWRlbmF2IGlzIG9wZW5lZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtY29tcG9uZW50LWlkIGNvbXBvbmVudElkIHRvIHVzZSB3aXRoICRtZFNpZGVuYXYgc2VydmljZS5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLWlzLWxvY2tlZC1vcGVuIFdoZW4gdGhpcyBleHByZXNzaW9uIGV2YWx1dGVzIHRvIHRydWUsXG4gKiB0aGUgc2lkZW5hdiAnbG9ja3Mgb3Blbic6IGl0IGZhbGxzIGludG8gdGhlIGNvbnRlbnQncyBmbG93IGluc3RlYWRcbiAqIG9mIGFwcGVhcmluZyBvdmVyIGl0LiBUaGlzIG92ZXJyaWRlcyB0aGUgYGlzLW9wZW5gIGF0dHJpYnV0ZS5cbiAqXG4gKiBUaGUgJG1kTWVkaWEoKSBzZXJ2aWNlIGlzIGV4cG9zZWQgdG8gdGhlIGlzLWxvY2tlZC1vcGVuIGF0dHJpYnV0ZSwgd2hpY2hcbiAqIGNhbiBiZSBnaXZlbiBhIG1lZGlhIHF1ZXJ5IG9yIG9uZSBvZiB0aGUgYHNtYCwgYGd0LXNtYCwgYG1kYCwgYGd0LW1kYCwgYGxnYCBvciBgZ3QtbGdgIHByZXNldHMuXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgIC0gYDxtZC1zaWRlbmF2IG1kLWlzLWxvY2tlZC1vcGVuPVwic2hvdWxkTG9ja09wZW5cIj48L21kLXNpZGVuYXY+YFxuICogICAtIGA8bWQtc2lkZW5hdiBtZC1pcy1sb2NrZWQtb3Blbj1cIiRtZE1lZGlhKCdtaW4td2lkdGg6IDEwMDBweCcpXCI+PC9tZC1zaWRlbmF2PmBcbiAqICAgLSBgPG1kLXNpZGVuYXYgbWQtaXMtbG9ja2VkLW9wZW49XCIkbWRNZWRpYSgnc20nKVwiPjwvbWQtc2lkZW5hdj5gIChsb2NrcyBvcGVuIG9uIHNtYWxsIHNjcmVlbnMpXG4gKi9cbmZ1bmN0aW9uIFNpZGVuYXZEaXJlY3RpdmUoJG1kTWVkaWEsICRtZFV0aWwsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nLCAkYW5pbWF0ZSwgJGNvbXBpbGUsICRwYXJzZSwgJGxvZywgJHEsICRkb2N1bWVudCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgc2NvcGU6IHtcbiAgICAgIGlzT3BlbjogJz0/bWRJc09wZW4nXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnJG1kU2lkZW5hdkNvbnRyb2xsZXInLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWNsb3NlZCcpO1xuICAgICAgZWxlbWVudC5hdHRyKCd0YWJJbmRleCcsICctMScpO1xuICAgICAgcmV0dXJuIHBvc3RMaW5rO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGlyZWN0aXZlIFBvc3QgTGluayBmdW5jdGlvbi4uLlxuICAgKi9cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIHNpZGVuYXZDdHJsKSB7XG4gICAgdmFyIGxhc3RQYXJlbnRPdmVyRmxvdztcbiAgICB2YXIgdHJpZ2dlcmluZ0VsZW1lbnQgPSBudWxsO1xuICAgIHZhciBwcm9taXNlID0gJHEud2hlbih0cnVlKTtcblxuICAgIHZhciBpc0xvY2tlZE9wZW5QYXJzZWQgPSAkcGFyc2UoYXR0ci5tZElzTG9ja2VkT3Blbik7XG4gICAgdmFyIGlzTG9ja2VkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNMb2NrZWRPcGVuUGFyc2VkKHNjb3BlLiRwYXJlbnQsIHtcbiAgICAgICAgJG1lZGlhOiBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAkbG9nLndhcm4oXCIkbWVkaWEgaXMgZGVwcmVjYXRlZCBmb3IgaXMtbG9ja2VkLW9wZW4uIFVzZSAkbWRNZWRpYSBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICByZXR1cm4gJG1kTWVkaWEoYXJnKTtcbiAgICAgICAgfSxcbiAgICAgICAgJG1kTWVkaWE6ICRtZE1lZGlhXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBiYWNrZHJvcCA9ICRtZFV0aWwuY3JlYXRlQmFja2Ryb3Aoc2NvcGUsIFwibWQtc2lkZW5hdi1iYWNrZHJvcCBtZC1vcGFxdWUgbmctZW50ZXJcIik7XG5cbiAgICAkbWRUaGVtaW5nLmluaGVyaXQoYmFja2Ryb3AsIGVsZW1lbnQpO1xuXG4gICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgIGJhY2tkcm9wLnJlbW92ZSgpO1xuICAgICAgc2lkZW5hdkN0cmwuZGVzdHJveSgpO1xuICAgIH0pO1xuXG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCl7XG4gICAgICBiYWNrZHJvcC5yZW1vdmUoKVxuICAgIH0pO1xuXG4gICAgc2NvcGUuJHdhdGNoKGlzTG9ja2VkLCB1cGRhdGVJc0xvY2tlZCk7XG4gICAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCB1cGRhdGVJc09wZW4pO1xuXG5cbiAgICAvLyBQdWJsaXNoIHNwZWNpYWwgYWNjZXNzb3IgZm9yIHRoZSBDb250cm9sbGVyIGluc3RhbmNlXG4gICAgc2lkZW5hdkN0cmwuJHRvZ2dsZU9wZW4gPSB0b2dnbGVPcGVuO1xuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIHRoZSBET00gY2xhc3NlcyB0byBpbmRpY2F0ZSBgbG9ja2VkYFxuICAgICAqIEBwYXJhbSBpc0xvY2tlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZUlzTG9ja2VkKGlzTG9ja2VkLCBvbGRWYWx1ZSkge1xuICAgICAgc2NvcGUuaXNMb2NrZWRPcGVuID0gaXNMb2NrZWQ7XG4gICAgICBpZiAoaXNMb2NrZWQgPT09IG9sZFZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWxvY2tlZC1vcGVuJywgISFpc0xvY2tlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYW5pbWF0ZVtpc0xvY2tlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShlbGVtZW50LCAnbWQtbG9ja2VkLW9wZW4nKTtcbiAgICAgIH1cbiAgICAgIGJhY2tkcm9wLnRvZ2dsZUNsYXNzKCdtZC1sb2NrZWQtb3BlbicsICEhaXNMb2NrZWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSB0aGUgU2lkZU5hdiB2aWV3IGFuZCBhdHRhY2gvZGV0YWNoIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSBpc09wZW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVJc09wZW4oaXNPcGVuKSB7XG4gICAgICAvLyBTdXBwb3J0IGRlcHJlY2F0ZWQgbWQtc2lkZW5hdi1mb2N1cyBhdHRyaWJ1dGUgYXMgZmFsbGJhY2tcbiAgICAgIHZhciBmb2N1c0VsID0gJG1kVXRpbC5maW5kRm9jdXNUYXJnZXQoZWxlbWVudCkgfHwgJG1kVXRpbC5maW5kRm9jdXNUYXJnZXQoZWxlbWVudCwnW21kLXNpZGVuYXYtZm9jdXNdJykgfHwgZWxlbWVudDtcbiAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuXG4gICAgICBwYXJlbnRbaXNPcGVuID8gJ29uJyA6ICdvZmYnXSgna2V5ZG93bicsIG9uS2V5RG93bik7XG4gICAgICBiYWNrZHJvcFtpc09wZW4gPyAnb24nIDogJ29mZiddKCdjbGljaycsIGNsb3NlKTtcblxuICAgICAgaWYgKCBpc09wZW4gKSB7XG4gICAgICAgIC8vIENhcHR1cmUgdXBvbiBvcGVuaW5nLi5cbiAgICAgICAgdHJpZ2dlcmluZ0VsZW1lbnQgPSAkZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbChpc09wZW4pO1xuXG4gICAgICByZXR1cm4gcHJvbWlzZSA9ICRxLmFsbChbXG4gICAgICAgICAgICAgICAgaXNPcGVuID8gJGFuaW1hdGUuZW50ZXIoYmFja2Ryb3AsIHBhcmVudCkgOiAkYW5pbWF0ZS5sZWF2ZShiYWNrZHJvcCksXG4gICAgICAgICAgICAgICAgJGFuaW1hdGVbaXNPcGVuID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKGVsZW1lbnQsICdtZC1jbG9zZWQnKVxuICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBQZXJmb3JtIGZvY3VzIHdoZW4gYW5pbWF0aW9ucyBhcmUgQUxMIGRvbmUuLi5cbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICBmb2N1c0VsICYmIGZvY3VzRWwuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXZlbnQgcGFyZW50IHNjcm9sbGluZyAod2hlbiB0aGUgU2lkZU5hdiBpcyBvcGVuKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpc2FibGVQYXJlbnRTY3JvbGwoZGlzYWJsZWQpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgaWYgKCBkaXNhYmxlZCAmJiAhbGFzdFBhcmVudE92ZXJGbG93ICkge1xuXG4gICAgICAgIGxhc3RQYXJlbnRPdmVyRmxvdyA9IHBhcmVudC5jc3MoJ292ZXJmbG93Jyk7XG4gICAgICAgIHBhcmVudC5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuXG4gICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGxhc3RQYXJlbnRPdmVyRmxvdykpIHtcblxuICAgICAgICBwYXJlbnQuY3NzKCdvdmVyZmxvdycsIGxhc3RQYXJlbnRPdmVyRmxvdyk7XG4gICAgICAgIGxhc3RQYXJlbnRPdmVyRmxvdyA9IHVuZGVmaW5lZDtcblxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSB0aGUgc2lkZU5hdiB2aWV3IGFuZCBwdWJsaXNoIGEgcHJvbWlzZSB0byBiZSByZXNvbHZlZCB3aGVuXG4gICAgICogdGhlIHZpZXcgYW5pbWF0aW9uIGZpbmlzaGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGlzT3BlblxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvZ2dsZU9wZW4oIGlzT3BlbiApIHtcbiAgICAgIGlmIChzY29wZS5pc09wZW4gPT0gaXNPcGVuICkge1xuXG4gICAgICAgIHJldHVybiAkcS53aGVuKHRydWUpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSl7XG4gICAgICAgICAgLy8gVG9nZ2xlIHZhbHVlIHRvIGZvcmNlIGFuIGFzeW5jIGB1cGRhdGVJc09wZW4oKWAgdG8gcnVuXG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gaXNPcGVuO1xuXG4gICAgICAgICAgJG1kVXRpbC5uZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIGN1cnJlbnQgYHVwZGF0ZUlzT3BlbigpYCBhbmltYXRpb24gZmluaXNoZXNcbiAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcblxuICAgICAgICAgICAgICBpZiAoICFzY29wZS5pc09wZW4gKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgZm9jdXMgdG8gb3JpZ2luYXRpbmcgZWxlbWVudCAoaWYgYXZhaWxhYmxlKSB1cG9uIGNsb3NlXG4gICAgICAgICAgICAgICAgdHJpZ2dlcmluZ0VsZW1lbnQgJiYgdHJpZ2dlcmluZ0VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyaW5nRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF1dG8tY2xvc2Ugc2lkZU5hdiB3aGVuIHRoZSBgZXNjYXBlYCBrZXkgaXMgcHJlc3NlZC5cbiAgICAgKiBAcGFyYW0gZXZ0XG4gICAgICovXG4gICAgZnVuY3Rpb24gb25LZXlEb3duKGV2KSB7XG4gICAgICB2YXIgaXNFc2NhcGUgPSAoZXYua2V5Q29kZSA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuRVNDQVBFKTtcbiAgICAgIHJldHVybiBpc0VzY2FwZSA/IGNsb3NlKGV2KSA6ICRxLndoZW4odHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2l0aCBiYWNrZHJvcCBgY2xpY2tzYCBvciBgZXNjYXBlYCBrZXktcHJlc3MsIGltbWVkaWF0ZWx5XG4gICAgICogYXBwbHkgdGhlIENTUyBjbG9zZSB0cmFuc2l0aW9uLi4uIFRoZW4gbm90aWZ5IHRoZSBjb250cm9sbGVyXG4gICAgICogdG8gY2xvc2UoKSBhbmQgcGVyZm9ybSBpdHMgb3duIGFjdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvc2UoZXYpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHJldHVybiBzaWRlbmF2Q3RybC5jbG9zZSgpO1xuICAgIH1cblxuICB9XG59XG5TaWRlbmF2RGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRNZWRpYVwiLCBcIiRtZFV0aWxcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkYW5pbWF0ZVwiLCBcIiRjb21waWxlXCIsIFwiJHBhcnNlXCIsIFwiJGxvZ1wiLCBcIiRxXCIsIFwiJGRvY3VtZW50XCJdO1xuXG4vKlxuICogQHByaXZhdGVcbiAqIEBuZ2RvYyBjb250cm9sbGVyXG4gKiBAbmFtZSBTaWRlbmF2Q29udHJvbGxlclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnNpZGVuYXZcbiAqXG4gKi9cbmZ1bmN0aW9uIFNpZGVuYXZDb250cm9sbGVyKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJG1kQ29tcG9uZW50UmVnaXN0cnksICRxKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIFVzZSBEZWZhdWx0IGludGVybmFsIG1ldGhvZCB1bnRpbCBvdmVycmlkZGVuIGJ5IGRpcmVjdGl2ZSBwb3N0TGlua1xuXG4gIC8vIFN5bmNocm9ub3VzIGdldHRlcnNcbiAgc2VsZi5pc09wZW4gPSBmdW5jdGlvbigpIHsgcmV0dXJuICEhJHNjb3BlLmlzT3BlbjsgfTtcbiAgc2VsZi5pc0xvY2tlZE9wZW4gPSBmdW5jdGlvbigpIHsgcmV0dXJuICEhJHNjb3BlLmlzTG9ja2VkT3BlbjsgfTtcblxuICAvLyBBc3luYyBhY3Rpb25zXG4gIHNlbGYub3BlbiAgID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLiR0b2dnbGVPcGVuKCB0cnVlICk7ICB9O1xuICBzZWxmLmNsb3NlICA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi4kdG9nZ2xlT3BlbiggZmFsc2UgKTsgfTtcbiAgc2VsZi50b2dnbGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYuJHRvZ2dsZU9wZW4oICEkc2NvcGUuaXNPcGVuICk7ICB9O1xuICBzZWxmLiR0b2dnbGVPcGVuID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuICRxLndoZW4oJHNjb3BlLmlzT3BlbiA9IHZhbHVlKTsgfTtcblxuICBzZWxmLmRlc3Ryb3kgPSAkbWRDb21wb25lbnRSZWdpc3RyeS5yZWdpc3RlcihzZWxmLCAkYXR0cnMubWRDb21wb25lbnRJZCk7XG59XG5TaWRlbmF2Q29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkYXR0cnNcIiwgXCIkbWRDb21wb25lbnRSZWdpc3RyeVwiLCBcIiRxXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuICAvKipcbiAgICogQG5nZG9jIG1vZHVsZVxuICAgKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnNsaWRlclxuICAgKi9cbiAgYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuc2xpZGVyJywgW1xuICAgICdtYXRlcmlhbC5jb3JlJ1xuICBdKVxuICAuZGlyZWN0aXZlKCdtZFNsaWRlcicsIFNsaWRlckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRTbGlkZXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zbGlkZXJcbiAqIEByZXN0cmljdCBFXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLXNsaWRlcj5gIGNvbXBvbmVudCBhbGxvd3MgdGhlIHVzZXIgdG8gY2hvb3NlIGZyb20gYSByYW5nZSBvZlxuICogdmFsdWVzLlxuICpcbiAqIEFzIHBlciB0aGUgW21hdGVyaWFsIGRlc2lnbiBzcGVjXShodHRwOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvc3R5bGUvY29sb3IuaHRtbCNjb2xvci11aS1jb2xvci1hcHBsaWNhdGlvbilcbiAqIHRoZSBzbGlkZXIgaXMgaW4gdGhlIGFjY2VudCBjb2xvciBieSBkZWZhdWx0LiBUaGUgcHJpbWFyeSBjb2xvciBwYWxldHRlIG1heSBiZSB1c2VkIHdpdGhcbiAqIHRoZSBgbWQtcHJpbWFyeWAgY2xhc3MuXG4gKlxuICogSXQgaGFzIHR3byBtb2RlczogJ25vcm1hbCcgbW9kZSwgd2hlcmUgdGhlIHVzZXIgc2xpZGVzIGJldHdlZW4gYSB3aWRlIHJhbmdlXG4gKiBvZiB2YWx1ZXMsIGFuZCAnZGlzY3JldGUnIG1vZGUsIHdoZXJlIHRoZSB1c2VyIHNsaWRlcyBiZXR3ZWVuIG9ubHkgYSBmZXdcbiAqIHNlbGVjdCB2YWx1ZXMuXG4gKlxuICogVG8gZW5hYmxlIGRpc2NyZXRlIG1vZGUsIGFkZCB0aGUgYG1kLWRpc2NyZXRlYCBhdHRyaWJ1dGUgdG8gYSBzbGlkZXIsXG4gKiBhbmQgdXNlIHRoZSBgc3RlcGAgYXR0cmlidXRlIHRvIGNoYW5nZSB0aGUgZGlzdGFuY2UgYmV0d2VlblxuICogdmFsdWVzIHRoZSB1c2VyIGlzIGFsbG93ZWQgdG8gcGljay5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxoND5Ob3JtYWwgTW9kZTwvaDQ+XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXNsaWRlciBuZy1tb2RlbD1cIm15VmFsdWVcIiBtaW49XCI1XCIgbWF4PVwiNTAwXCI+XG4gKiA8L21kLXNsaWRlcj5cbiAqIDwvaGxqcz5cbiAqIDxoND5EaXNjcmV0ZSBNb2RlPC9oND5cbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtc2xpZGVyIG1kLWRpc2NyZXRlIG5nLW1vZGVsPVwibXlEaXNjcmV0ZVZhbHVlXCIgc3RlcD1cIjEwXCIgbWluPVwiMTBcIiBtYXg9XCIxMzBcIj5cbiAqIDwvbWQtc2xpZGVyPlxuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLWRpc2NyZXRlIFdoZXRoZXIgdG8gZW5hYmxlIGRpc2NyZXRlIG1vZGUuXG4gKiBAcGFyYW0ge251bWJlcj19IHN0ZXAgVGhlIGRpc3RhbmNlIGJldHdlZW4gdmFsdWVzIHRoZSB1c2VyIGlzIGFsbG93ZWQgdG8gcGljay4gRGVmYXVsdCAxLlxuICogQHBhcmFtIHtudW1iZXI9fSBtaW4gVGhlIG1pbmltdW0gdmFsdWUgdGhlIHVzZXIgaXMgYWxsb3dlZCB0byBwaWNrLiBEZWZhdWx0IDAuXG4gKiBAcGFyYW0ge251bWJlcj19IG1heCBUaGUgbWF4aW11bSB2YWx1ZSB0aGUgdXNlciBpcyBhbGxvd2VkIHRvIHBpY2suIERlZmF1bHQgMTAwLlxuICovXG5mdW5jdGlvbiBTbGlkZXJEaXJlY3RpdmUoJCRyQUYsICR3aW5kb3csICRtZEFyaWEsICRtZFV0aWwsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nLCAkbWRHZXN0dXJlLCAkcGFyc2UsICRsb2cpIHtcbiAgcmV0dXJuIHtcbiAgICBzY29wZToge30sXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICB0ZW1wbGF0ZTpcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtc2xpZGVyLXdyYXBwZXJcIj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC10cmFjay1jb250YWluZXJcIj4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLXRyYWNrXCI+PC9kaXY+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC10cmFjayBtZC10cmFjay1maWxsXCI+PC9kaXY+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC10cmFjay10aWNrc1wiPjwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWQtdGh1bWItY29udGFpbmVyXCI+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC10aHVtYlwiPjwvZGl2PicgK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtZm9jdXMtdGh1bWJcIj48L2Rpdj4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWZvY3VzLXJpbmdcIj48L2Rpdj4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLXNpZ25cIj4nICtcbiAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cIm1kLXRodW1iLXRleHRcIj48L3NwYW4+JyArXG4gICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtZGlzYWJsZWQtdGh1bWJcIj48L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgJzwvZGl2PicsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy8gUHJpdmF0ZSBNZXRob2RzXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBmdW5jdGlvbiBjb21waWxlICh0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgdEVsZW1lbnQuYXR0cih7XG4gICAgICB0YWJJbmRleDogMCxcbiAgICAgIHJvbGU6ICdzbGlkZXInXG4gICAgfSk7XG5cbiAgICAkbWRBcmlhLmV4cGVjdCh0RWxlbWVudCwgJ2FyaWEtbGFiZWwnKTtcblxuICAgIHJldHVybiBwb3N0TGluaztcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ01vZGVsQ3RybCkge1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybCB8fCB7XG4gICAgICAvLyBNb2NrIG5nTW9kZWxDb250cm9sbGVyIGlmIGl0IGRvZXNuJ3QgZXhpc3QgdG8gZ2l2ZSB1c1xuICAgICAgLy8gdGhlIG1pbmltdW0gZnVuY3Rpb25hbGl0eSBuZWVkZWRcbiAgICAgICRzZXRWaWV3VmFsdWU6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLiR2aWV3VmFsdWUgPSB2YWw7XG4gICAgICAgIHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihjYikgeyBjYigpOyB9KTtcbiAgICAgIH0sXG4gICAgICAkcGFyc2VyczogW10sXG4gICAgICAkZm9ybWF0dGVyczogW10sXG4gICAgICAkdmlld0NoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuXG4gICAgdmFyIGlzRGlzYWJsZWRHZXR0ZXIgPSBhbmd1bGFyLm5vb3A7XG4gICAgaWYgKGF0dHIuZGlzYWJsZWQgIT0gbnVsbCkge1xuICAgICAgaXNEaXNhYmxlZEdldHRlciA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgICB9IGVsc2UgaWYgKGF0dHIubmdEaXNhYmxlZCkge1xuICAgICAgaXNEaXNhYmxlZEdldHRlciA9IGFuZ3VsYXIuYmluZChudWxsLCAkcGFyc2UoYXR0ci5uZ0Rpc2FibGVkKSwgc2NvcGUuJHBhcmVudCk7XG4gICAgfVxuXG4gICAgdmFyIHRodW1iID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXRodW1iJykpO1xuICAgIHZhciB0aHVtYlRleHQgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtdGh1bWItdGV4dCcpKTtcbiAgICB2YXIgdGh1bWJDb250YWluZXIgPSB0aHVtYi5wYXJlbnQoKTtcbiAgICB2YXIgdHJhY2tDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtdHJhY2stY29udGFpbmVyJykpO1xuICAgIHZhciBhY3RpdmVUcmFjayA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC10cmFjay1maWxsJykpO1xuICAgIHZhciB0aWNrQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXRyYWNrLXRpY2tzJykpO1xuICAgIHZhciB0aHJvdHRsZWRSZWZyZXNoRGltZW5zaW9ucyA9ICRtZFV0aWwudGhyb3R0bGUocmVmcmVzaFNsaWRlckRpbWVuc2lvbnMsIDUwMDApO1xuXG4gICAgLy8gRGVmYXVsdCB2YWx1ZXMsIG92ZXJyaWRhYmxlIGJ5IGF0dHJzXG4gICAgYW5ndWxhci5pc0RlZmluZWQoYXR0ci5taW4pID8gYXR0ci4kb2JzZXJ2ZSgnbWluJywgdXBkYXRlTWluKSA6IHVwZGF0ZU1pbigwKTtcbiAgICBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm1heCkgPyBhdHRyLiRvYnNlcnZlKCdtYXgnLCB1cGRhdGVNYXgpIDogdXBkYXRlTWF4KDEwMCk7XG4gICAgYW5ndWxhci5pc0RlZmluZWQoYXR0ci5zdGVwKT8gYXR0ci4kb2JzZXJ2ZSgnc3RlcCcsIHVwZGF0ZVN0ZXApIDogdXBkYXRlU3RlcCgxKTtcblxuICAgIC8vIFdlIGhhdmUgdG8gbWFudWFsbHkgc3RvcCB0aGUgJHdhdGNoIG9uIG5nRGlzYWJsZWQgYmVjYXVzZSBpdCBleGlzdHNcbiAgICAvLyBvbiB0aGUgcGFyZW50IHNjb3BlLCBhbmQgd29uJ3QgYmUgYXV0b21hdGljYWxseSBkZXN0cm95ZWQgd2hlblxuICAgIC8vIHRoZSBjb21wb25lbnQgaXMgZGVzdHJveWVkLlxuICAgIHZhciBzdG9wRGlzYWJsZWRXYXRjaCA9IGFuZ3VsYXIubm9vcDtcbiAgICBpZiAoYXR0ci5uZ0Rpc2FibGVkKSB7XG4gICAgICBzdG9wRGlzYWJsZWRXYXRjaCA9IHNjb3BlLiRwYXJlbnQuJHdhdGNoKGF0dHIubmdEaXNhYmxlZCwgdXBkYXRlQXJpYURpc2FibGVkKTtcbiAgICB9XG5cbiAgICAkbWRHZXN0dXJlLnJlZ2lzdGVyKGVsZW1lbnQsICdkcmFnJyk7XG5cbiAgICBlbGVtZW50XG4gICAgICAub24oJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIpXG4gICAgICAub24oJyRtZC5wcmVzc2Rvd24nLCBvblByZXNzRG93bilcbiAgICAgIC5vbignJG1kLnByZXNzdXAnLCBvblByZXNzVXApXG4gICAgICAub24oJyRtZC5kcmFnc3RhcnQnLCBvbkRyYWdTdGFydClcbiAgICAgIC5vbignJG1kLmRyYWcnLCBvbkRyYWcpXG4gICAgICAub24oJyRtZC5kcmFnZW5kJywgb25EcmFnRW5kKTtcblxuICAgIC8vIE9uIHJlc2l6ZSwgcmVjYWxjdWxhdGUgdGhlIHNsaWRlcidzIGRpbWVuc2lvbnMgYW5kIHJlLXJlbmRlclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUFsbCgpIHtcbiAgICAgIHJlZnJlc2hTbGlkZXJEaW1lbnNpb25zKCk7XG4gICAgICBuZ01vZGVsUmVuZGVyKCk7XG4gICAgICByZWRyYXdUaWNrcygpO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KHVwZGF0ZUFsbCwgMCk7XG5cbiAgICB2YXIgZGVib3VuY2VkVXBkYXRlQWxsID0gJCRyQUYudGhyb3R0bGUodXBkYXRlQWxsKTtcbiAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oJ3Jlc2l6ZScsIGRlYm91bmNlZFVwZGF0ZUFsbCk7XG5cbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKCdyZXNpemUnLCBkZWJvdW5jZWRVcGRhdGVBbGwpO1xuICAgICAgc3RvcERpc2FibGVkV2F0Y2goKTtcbiAgICB9KTtcblxuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBuZ01vZGVsUmVuZGVyO1xuICAgIG5nTW9kZWxDdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2gobmdNb2RlbFJlbmRlcik7XG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChtaW5NYXhWYWxpZGF0b3IpO1xuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goc3RlcFZhbGlkYXRvcik7XG5cbiAgICAvKipcbiAgICAgKiBBdHRyaWJ1dGVzXG4gICAgICovXG4gICAgdmFyIG1pbjtcbiAgICB2YXIgbWF4O1xuICAgIHZhciBzdGVwO1xuICAgIGZ1bmN0aW9uIHVwZGF0ZU1pbih2YWx1ZSkge1xuICAgICAgbWluID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVtaW4nLCB2YWx1ZSk7XG4gICAgICB1cGRhdGVBbGwoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlTWF4KHZhbHVlKSB7XG4gICAgICBtYXggPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW1heCcsIHZhbHVlKTtcbiAgICAgIHVwZGF0ZUFsbCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTdGVwKHZhbHVlKSB7XG4gICAgICBzdGVwID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICByZWRyYXdUaWNrcygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVBcmlhRGlzYWJsZWQoaXNEaXNhYmxlZCkge1xuICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWRpc2FibGVkJywgISFpc0Rpc2FibGVkKTtcbiAgICB9XG5cbiAgICAvLyBEcmF3IHRoZSB0aWNrcyB3aXRoIGNhbnZhcy5cbiAgICAvLyBUaGUgYWx0ZXJuYXRpdmUgdG8gZHJhd2luZyB0aWNrcyB3aXRoIGNhbnZhcyBpcyB0byBkcmF3IG9uZSBlbGVtZW50IGZvciBlYWNoIHRpY2ssXG4gICAgLy8gd2hpY2ggY291bGQgcXVpY2tseSBiZWNvbWUgYSBwZXJmb3JtYW5jZSBib3R0bGVuZWNrLlxuICAgIHZhciB0aWNrQ2FudmFzLCB0aWNrQ3R4O1xuICAgIGZ1bmN0aW9uIHJlZHJhd1RpY2tzKCkge1xuICAgICAgaWYgKCFhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm1kRGlzY3JldGUpKSByZXR1cm47XG4gICAgICBpZiAoIGFuZ3VsYXIuaXNVbmRlZmluZWQoc3RlcCkgKSAgICAgICAgIHJldHVybjtcblxuICAgICAgaWYgKCBzdGVwIDw9IDAgKSB7XG4gICAgICAgIHZhciBtc2cgPSAnU2xpZGVyIHN0ZXAgdmFsdWUgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybyB3aGVuIGluIGRpc2NyZXRlIG1vZGUnO1xuICAgICAgICAkbG9nLmVycm9yKG1zZyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbnVtU3RlcHMgPSBNYXRoLmZsb29yKCAobWF4IC0gbWluKSAvIHN0ZXAgKTtcbiAgICAgIGlmICghdGlja0NhbnZhcykge1xuICAgICAgICB0aWNrQ2FudmFzID0gYW5ndWxhci5lbGVtZW50KCc8Y2FudmFzIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7XCI+Jyk7XG4gICAgICAgIHRpY2tDb250YWluZXIuYXBwZW5kKHRpY2tDYW52YXMpO1xuXG4gICAgICAgIHZhciB0cmFja1RpY2tzU3R5bGUgPSAkd2luZG93LmdldENvbXB1dGVkU3R5bGUodGlja0NvbnRhaW5lclswXSk7XG4gICAgICAgIHRpY2tDdHggPSB0aWNrQ2FudmFzWzBdLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRpY2tDdHguZmlsbFN0eWxlID0gdHJhY2tUaWNrc1N0eWxlLmJhY2tncm91bmRDb2xvciB8fCAnYmxhY2snO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGltZW5zaW9ucyA9IGdldFNsaWRlckRpbWVuc2lvbnMoKTtcbiAgICAgIHRpY2tDYW52YXNbMF0ud2lkdGggPSBkaW1lbnNpb25zLndpZHRoO1xuICAgICAgdGlja0NhbnZhc1swXS5oZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodDtcblxuICAgICAgdmFyIGRpc3RhbmNlO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbnVtU3RlcHM7IGkrKykge1xuICAgICAgICBkaXN0YW5jZSA9IE1hdGguZmxvb3IoZGltZW5zaW9ucy53aWR0aCAqIChpIC8gbnVtU3RlcHMpKTtcbiAgICAgICAgdGlja0N0eC5maWxsUmVjdChkaXN0YW5jZSAtIDEsIDAsIDIsIGRpbWVuc2lvbnMuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hpbmcgRGltZW5zaW9uc1xuICAgICAqL1xuICAgIHZhciBzbGlkZXJEaW1lbnNpb25zID0ge307XG4gICAgcmVmcmVzaFNsaWRlckRpbWVuc2lvbnMoKTtcbiAgICBmdW5jdGlvbiByZWZyZXNoU2xpZGVyRGltZW5zaW9ucygpIHtcbiAgICAgIHNsaWRlckRpbWVuc2lvbnMgPSB0cmFja0NvbnRhaW5lclswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U2xpZGVyRGltZW5zaW9ucygpIHtcbiAgICAgIHRocm90dGxlZFJlZnJlc2hEaW1lbnNpb25zKCk7XG4gICAgICByZXR1cm4gc2xpZGVyRGltZW5zaW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBsZWZ0L3JpZ2h0IGFycm93IGxpc3RlbmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5ZG93bkxpc3RlbmVyKGV2KSB7XG4gICAgICBpZihlbGVtZW50WzBdLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGFuZ2VBbW91bnQ7XG4gICAgICBpZiAoZXYua2V5Q29kZSA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuTEVGVF9BUlJPVykge1xuICAgICAgICBjaGFuZ2VBbW91bnQgPSAtc3RlcDtcbiAgICAgIH0gZWxzZSBpZiAoZXYua2V5Q29kZSA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuUklHSFRfQVJST1cpIHtcbiAgICAgICAgY2hhbmdlQW1vdW50ID0gc3RlcDtcbiAgICAgIH1cbiAgICAgIGlmIChjaGFuZ2VBbW91bnQpIHtcbiAgICAgICAgaWYgKGV2Lm1ldGFLZXkgfHwgZXYuY3RybEtleSB8fCBldi5hbHRLZXkpIHtcbiAgICAgICAgICBjaGFuZ2VBbW91bnQgKj0gNDtcbiAgICAgICAgfVxuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRNb2RlbFZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgKyBjaGFuZ2VBbW91bnQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBuZ01vZGVsIHNldHRlcnMgYW5kIHZhbGlkYXRvcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRNb2RlbFZhbHVlKHZhbHVlKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCBtaW5NYXhWYWxpZGF0b3Ioc3RlcFZhbGlkYXRvcih2YWx1ZSkpICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5nTW9kZWxSZW5kZXIoKSB7XG4gICAgICBpZiAoaXNOYU4obmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA9IG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGVyY2VudCA9IChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xuICAgICAgc2NvcGUubW9kZWxWYWx1ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVub3cnLCBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKTtcbiAgICAgIHNldFNsaWRlclBlcmNlbnQocGVyY2VudCk7XG4gICAgICB0aHVtYlRleHQudGV4dCggbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1pbk1heFZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RlcFZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IChNYXRoLnJvdW5kKCh2YWx1ZSAtIG1pbikgLyBzdGVwKSAqIHN0ZXAgKyBtaW4pO1xuICAgICAgICAvLyBGb3JtYXQgdG8gMyBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQgLSBmaXhlcyAjMjAxNS5cbiAgICAgICAgcmV0dXJuIChNYXRoLnJvdW5kKGZvcm1hdHRlZFZhbHVlICogMTAwMCkgLyAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGVyY2VudCAwLTFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRTbGlkZXJQZXJjZW50KHBlcmNlbnQpIHtcbiAgICAgICAgdmFyIHBlcmNlbnRTdHIgPSAocGVyY2VudCAqIDEwMCkgKyAnJSc7XG5cbiAgICAgICAgYWN0aXZlVHJhY2suY3NzKCd3aWR0aCcsIHBlcmNlbnRTdHIpO1xuICAgICAgICB0aHVtYkNvbnRhaW5lci5jc3MoJ2xlZnQnLHBlcmNlbnRTdHIpO1xuXG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLW1pbicsIHBlcmNlbnQgPT09IDApO1xuICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKCdtZC1tYXgnLCBwZXJjZW50ID09PSAxKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNsaWRlIGxpc3RlbmVyc1xuICAgICAqL1xuICAgIHZhciBpc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgdmFyIGlzRGlzY3JldGUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm1kRGlzY3JldGUpO1xuXG4gICAgZnVuY3Rpb24gb25QcmVzc0Rvd24oZXYpIHtcbiAgICAgIGlmIChpc0Rpc2FibGVkR2V0dGVyKCkpIHJldHVybjtcblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnbWQtYWN0aXZlJyk7XG4gICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICByZWZyZXNoU2xpZGVyRGltZW5zaW9ucygpO1xuXG4gICAgICB2YXIgZXhhY3RWYWwgPSBwZXJjZW50VG9WYWx1ZSggcG9zaXRpb25Ub1BlcmNlbnQoIGV2LnBvaW50ZXIueCApKTtcbiAgICAgIHZhciBjbG9zZXN0VmFsID0gbWluTWF4VmFsaWRhdG9yKCBzdGVwVmFsaWRhdG9yKGV4YWN0VmFsKSApO1xuICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRNb2RlbFZhbHVlKCBjbG9zZXN0VmFsICk7XG4gICAgICAgIHNldFNsaWRlclBlcmNlbnQoIHZhbHVlVG9QZXJjZW50KGNsb3Nlc3RWYWwpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblByZXNzVXAoZXYpIHtcbiAgICAgIGlmIChpc0Rpc2FibGVkR2V0dGVyKCkpIHJldHVybjtcblxuICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtZHJhZ2dpbmcgbWQtYWN0aXZlJyk7XG5cbiAgICAgIHZhciBleGFjdFZhbCA9IHBlcmNlbnRUb1ZhbHVlKCBwb3NpdGlvblRvUGVyY2VudCggZXYucG9pbnRlci54ICkpO1xuICAgICAgdmFyIGNsb3Nlc3RWYWwgPSBtaW5NYXhWYWxpZGF0b3IoIHN0ZXBWYWxpZGF0b3IoZXhhY3RWYWwpICk7XG4gICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldE1vZGVsVmFsdWUoY2xvc2VzdFZhbCk7XG4gICAgICAgIG5nTW9kZWxSZW5kZXIoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkRyYWdTdGFydChldikge1xuICAgICAgaWYgKGlzRGlzYWJsZWRHZXR0ZXIoKSkgcmV0dXJuO1xuICAgICAgaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnbWQtZHJhZ2dpbmcnKTtcbiAgICAgIHNldFNsaWRlckZyb21FdmVudChldik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRHJhZyhldikge1xuICAgICAgaWYgKCFpc0RyYWdnaW5nKSByZXR1cm47XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHNldFNsaWRlckZyb21FdmVudChldik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRHJhZ0VuZChldikge1xuICAgICAgaWYgKCFpc0RyYWdnaW5nKSByZXR1cm47XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRTbGlkZXJGcm9tRXZlbnQoZXYpIHtcbiAgICAgIC8vIFdoaWxlIHBhbm5pbmcgZGlzY3JldGUsIHVwZGF0ZSBvbmx5IHRoZVxuICAgICAgLy8gdmlzdWFsIHBvc2l0aW9uaW5nIGJ1dCBub3QgdGhlIG1vZGVsIHZhbHVlLlxuICAgICAgaWYgKCBpc0Rpc2NyZXRlICkgYWRqdXN0VGh1bWJQb3NpdGlvbiggZXYucG9pbnRlci54ICk7XG4gICAgICBlbHNlICAgICAgICAgICAgICBkb1NsaWRlKCBldi5wb2ludGVyLnggKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTbGlkZSB0aGUgVUkgYnkgY2hhbmdpbmcgdGhlIG1vZGVsIHZhbHVlXG4gICAgICogQHBhcmFtIHhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkb1NsaWRlKCB4ICkge1xuICAgICAgc2NvcGUuJGV2YWxBc3luYyggZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldE1vZGVsVmFsdWUoIHBlcmNlbnRUb1ZhbHVlKCBwb3NpdGlvblRvUGVyY2VudCh4KSApKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNsaWRlIHRoZSBVSSB3aXRob3V0IGNoYW5naW5nIHRoZSBtb2RlbCAod2hpbGUgZHJhZ2dpbmcvcGFubmluZylcbiAgICAgKiBAcGFyYW0geFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkanVzdFRodW1iUG9zaXRpb24oIHggKSB7XG4gICAgICB2YXIgZXhhY3RWYWwgPSBwZXJjZW50VG9WYWx1ZSggcG9zaXRpb25Ub1BlcmNlbnQoIHggKSk7XG4gICAgICB2YXIgY2xvc2VzdFZhbCA9IG1pbk1heFZhbGlkYXRvciggc3RlcFZhbGlkYXRvcihleGFjdFZhbCkgKTtcbiAgICAgIHNldFNsaWRlclBlcmNlbnQoIHBvc2l0aW9uVG9QZXJjZW50KHgpICk7XG4gICAgICB0aHVtYlRleHQudGV4dCggY2xvc2VzdFZhbCApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgaG9yaXpvbnRhbCBwb3NpdGlvbiBvbiBzbGlkZXIgdG8gcGVyY2VudGFnZSB2YWx1ZSBvZiBvZmZzZXQgZnJvbSBiZWdpbm5pbmcuLi5cbiAgICAgKiBAcGFyYW0geFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcG9zaXRpb25Ub1BlcmNlbnQoIHggKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgKHggLSBzbGlkZXJEaW1lbnNpb25zLmxlZnQpIC8gKHNsaWRlckRpbWVuc2lvbnMud2lkdGgpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBwZXJjZW50YWdlIG9mZnNldCBvbiBzbGlkZSB0byBlcXVpdmFsZW50IG1vZGVsIHZhbHVlXG4gICAgICogQHBhcmFtIHBlcmNlbnRcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwZXJjZW50VG9WYWx1ZSggcGVyY2VudCApIHtcbiAgICAgIHJldHVybiAobWluICsgcGVyY2VudCAqIChtYXggLSBtaW4pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWx1ZVRvUGVyY2VudCggdmFsICkge1xuICAgICAgcmV0dXJuICh2YWwgLSBtaW4pLyhtYXggLSBtaW4pO1xuICAgIH1cbiAgfVxufVxuU2xpZGVyRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkJHJBRlwiLCBcIiR3aW5kb3dcIiwgXCIkbWRBcmlhXCIsIFwiJG1kVXRpbFwiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRtZEdlc3R1cmVcIiwgXCIkcGFyc2VcIiwgXCIkbG9nXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnN0aWNreVxuICogQGRlc2NyaXB0aW9uXG4gKiBTdGlja3kgZWZmZWN0cyBmb3IgbWRcbiAqXG4gKi9cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5zdGlja3knLCBbXG4gICAgJ21hdGVyaWFsLmNvcmUnLFxuICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnQnXG4gIF0pXG4gIC5mYWN0b3J5KCckbWRTdGlja3knLCBNZFN0aWNreSk7XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZFN0aWNreVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnN0aWNreVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGAkbWRTdGlja3lgc2VydmljZSBwcm92aWRlcyBhIG1peGluIHRvIG1ha2UgZWxlbWVudHMgc3RpY2t5LlxuICpcbiAqIEByZXR1cm5zIEEgYCRtZFN0aWNreWAgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aHJlZSBhcmd1bWVudHM6XG4gKiAgIC0gYHNjb3BlYFxuICogICAtIGBlbGVtZW50YDogVGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlICdzdGlja3knXG4gKiAgIC0gYGVsZW1lbnRDbG9uZWA6IEEgY2xvbmUgb2YgdGhlIGVsZW1lbnQsIHRoYXQgd2lsbCBiZSBzaG93blxuICogICAgIHdoZW4gdGhlIHVzZXIgc3RhcnRzIHNjcm9sbGluZyBwYXN0IHRoZSBvcmlnaW5hbCBlbGVtZW50LlxuICogICAgIElmIG5vdCBwcm92aWRlZCwgaXQgd2lsbCB1c2UgdGhlIHJlc3VsdCBvZiBgZWxlbWVudC5jbG9uZSgpYC5cbiAqL1xuZnVuY3Rpb24gTWRTdGlja3koJGRvY3VtZW50LCAkbWRDb25zdGFudCwgJCRyQUYsICRtZFV0aWwpIHtcblxuICB2YXIgYnJvd3NlclN0aWNreVN1cHBvcnQgPSBjaGVja1N0aWNreVN1cHBvcnQoKTtcblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGFuIGVsZW1lbnQgYXMgc3RpY2t5LCB1c2VkIGludGVybmFsbHkgYnkgZGlyZWN0aXZlcyB0byByZWdpc3RlciB0aGVtc2VsdmVzXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gcmVnaXN0ZXJTdGlja3lFbGVtZW50KHNjb3BlLCBlbGVtZW50LCBzdGlja3lDbG9uZSkge1xuICAgIHZhciBjb250ZW50Q3RybCA9IGVsZW1lbnQuY29udHJvbGxlcignbWRDb250ZW50Jyk7XG4gICAgaWYgKCFjb250ZW50Q3RybCkgcmV0dXJuO1xuXG4gICAgaWYgKGJyb3dzZXJTdGlja3lTdXBwb3J0KSB7XG4gICAgICBlbGVtZW50LmNzcyh7XG4gICAgICAgIHBvc2l0aW9uOiBicm93c2VyU3RpY2t5U3VwcG9ydCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICAnei1pbmRleCc6IDJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgJCRzdGlja3kgPSBjb250ZW50Q3RybC4kZWxlbWVudC5kYXRhKCckJHN0aWNreScpO1xuICAgICAgaWYgKCEkJHN0aWNreSkge1xuICAgICAgICAkJHN0aWNreSA9IHNldHVwU3RpY2t5KGNvbnRlbnRDdHJsKTtcbiAgICAgICAgY29udGVudEN0cmwuJGVsZW1lbnQuZGF0YSgnJCRzdGlja3knLCAkJHN0aWNreSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZXJlZ2lzdGVyID0gJCRzdGlja3kuYWRkKGVsZW1lbnQsIHN0aWNreUNsb25lIHx8IGVsZW1lbnQuY2xvbmUoKSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZGVyZWdpc3Rlcik7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHNldHVwU3RpY2t5KGNvbnRlbnRDdHJsKSB7XG4gICAgdmFyIGNvbnRlbnRFbCA9IGNvbnRlbnRDdHJsLiRlbGVtZW50O1xuXG4gICAgLy8gUmVmcmVzaCBlbGVtZW50cyBpcyB2ZXJ5IGV4cGVuc2l2ZSwgc28gd2UgdXNlIHRoZSBkZWJvdW5jZWRcbiAgICAvLyB2ZXJzaW9uIHdoZW4gcG9zc2libGUuXG4gICAgdmFyIGRlYm91bmNlZFJlZnJlc2hFbGVtZW50cyA9ICQkckFGLnRocm90dGxlKHJlZnJlc2hFbGVtZW50cyk7XG5cbiAgICAvLyBzZXR1cEF1Z21lbnRlZFNjcm9sbEV2ZW50cyBnaXZlcyB1cyBgJHNjcm9sbHN0YXJ0YCBhbmQgYCRzY3JvbGxgLFxuICAgIC8vIG1vcmUgcmVsaWFibGUgdGhhbiBgc2Nyb2xsYCBvbiBhbmRyb2lkLlxuICAgIHNldHVwQXVnbWVudGVkU2Nyb2xsRXZlbnRzKGNvbnRlbnRFbCk7XG4gICAgY29udGVudEVsLm9uKCckc2Nyb2xsc3RhcnQnLCBkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMpO1xuICAgIGNvbnRlbnRFbC5vbignJHNjcm9sbCcsIG9uU2Nyb2xsKTtcblxuICAgIHZhciBzZWxmO1xuICAgIHJldHVybiBzZWxmID0ge1xuICAgICAgcHJldjogbnVsbCxcbiAgICAgIGN1cnJlbnQ6IG51bGwsIC8vdGhlIGN1cnJlbnRseSBzdGlja2llZCBpdGVtXG4gICAgICBuZXh0OiBudWxsLFxuICAgICAgaXRlbXM6IFtdLFxuICAgICAgYWRkOiBhZGQsXG4gICAgICByZWZyZXNoRWxlbWVudHM6IHJlZnJlc2hFbGVtZW50c1xuICAgIH07XG5cbiAgICAvKioqKioqKioqKioqKioqXG4gICAgICogUHVibGljXG4gICAgICoqKioqKioqKioqKioqKi9cbiAgICAvLyBBZGQgYW4gZWxlbWVudCBhbmQgaXRzIHN0aWNreSBjbG9uZSB0byB0aGlzIGNvbnRlbnQncyBzdGlja3kgY29sbGVjdGlvblxuICAgIGZ1bmN0aW9uIGFkZChlbGVtZW50LCBzdGlja3lDbG9uZSkge1xuICAgICAgc3RpY2t5Q2xvbmUuYWRkQ2xhc3MoJ21kLXN0aWNreS1jbG9uZScpO1xuXG4gICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgY2xvbmU6IHN0aWNreUNsb25lXG4gICAgICB9O1xuICAgICAgc2VsZi5pdGVtcy5wdXNoKGl0ZW0pO1xuXG4gICAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBjb250ZW50RWwucHJlcGVuZChpdGVtLmNsb25lKTtcbiAgICAgIH0pO1xuXG4gICAgICBkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMoKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgc2VsZi5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgaWYgKGl0ZW0uZWxlbWVudFswXSA9PT0gZWxlbWVudFswXSkge1xuICAgICAgICAgICAgc2VsZi5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgaXRlbS5jbG9uZS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVmcmVzaEVsZW1lbnRzKCkge1xuICAgICAgLy8gU29ydCBvdXIgY29sbGVjdGlvbiBvZiBlbGVtZW50cyBieSB0aGVpciBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBET00uXG4gICAgICAvLyBXZSBuZWVkIHRvIGRvIHRoaXMgYmVjYXVzZSBvdXIgZWxlbWVudHMnIG9yZGVyIG9mIGJlaW5nIGFkZGVkIG1heSBub3RcbiAgICAgIC8vIGJlIHRoZSBzYW1lIGFzIHRoZWlyIG9yZGVyIG9mIGRpc3BsYXkuXG4gICAgICBzZWxmLml0ZW1zLmZvckVhY2gocmVmcmVzaFBvc2l0aW9uKTtcbiAgICAgIHNlbGYuaXRlbXMgPSBzZWxmLml0ZW1zLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gYS50b3AgPCBiLnRvcCA/IC0xIDogMTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBGaW5kIHdoaWNoIGl0ZW0gaW4gdGhlIGxpc3Qgc2hvdWxkIGJlIGFjdGl2ZSwgXG4gICAgICAvLyBiYXNlZCB1cG9uIHRoZSBjb250ZW50J3MgY3VycmVudCBzY3JvbGwgcG9zaXRpb25cbiAgICAgIHZhciBpdGVtO1xuICAgICAgdmFyIGN1cnJlbnRTY3JvbGxUb3AgPSBjb250ZW50RWwucHJvcCgnc2Nyb2xsVG9wJyk7XG4gICAgICBmb3IgKHZhciBpID0gc2VsZi5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoY3VycmVudFNjcm9sbFRvcCA+IHNlbGYuaXRlbXNbaV0udG9wKSB7XG4gICAgICAgICAgaXRlbSA9IHNlbGYuaXRlbXNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldEN1cnJlbnRJdGVtKGl0ZW0pO1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKipcbiAgICAgKiBQcml2YXRlXG4gICAgICoqKioqKioqKioqKioqKi9cblxuICAgIC8vIEZpbmQgdGhlIGB0b3BgIG9mIGFuIGl0ZW0gcmVsYXRpdmUgdG8gdGhlIGNvbnRlbnQgZWxlbWVudCxcbiAgICAvLyBhbmQgYWxzbyB0aGUgaGVpZ2h0LlxuICAgIGZ1bmN0aW9uIHJlZnJlc2hQb3NpdGlvbihpdGVtKSB7XG4gICAgICAvLyBGaW5kIHRoZSB0b3Agb2YgYW4gaXRlbSBieSBhZGRpbmcgdG8gdGhlIG9mZnNldEhlaWdodCB1bnRpbCB3ZSByZWFjaCB0aGUgXG4gICAgICAvLyBjb250ZW50IGVsZW1lbnQuXG4gICAgICB2YXIgY3VycmVudCA9IGl0ZW0uZWxlbWVudFswXTtcbiAgICAgIGl0ZW0udG9wID0gMDtcbiAgICAgIGl0ZW0ubGVmdCA9IDA7XG4gICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBjb250ZW50RWxbMF0pIHtcbiAgICAgICAgaXRlbS50b3AgKz0gY3VycmVudC5vZmZzZXRUb3A7XG4gICAgICAgIGl0ZW0ubGVmdCArPSBjdXJyZW50Lm9mZnNldExlZnQ7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm9mZnNldFBhcmVudDtcbiAgICAgIH1cbiAgICAgIGl0ZW0uaGVpZ2h0ID0gaXRlbS5lbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpO1xuICAgICAgaXRlbS5jbG9uZS5jc3MoJ21hcmdpbi1sZWZ0JywgaXRlbS5sZWZ0ICsgJ3B4Jyk7XG4gICAgICBpZiAoJG1kVXRpbC5mbG9hdGluZ1Njcm9sbGJhcnMoKSkge1xuICAgICAgICBpdGVtLmNsb25lLmNzcygnbWFyZ2luLXJpZ2h0JywgJzAnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBcyB3ZSBzY3JvbGwsIHB1c2ggaW4gYW5kIHNlbGVjdCB0aGUgY29ycmVjdCBzdGlja3kgZWxlbWVudC5cbiAgICBmdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSBjb250ZW50RWwucHJvcCgnc2Nyb2xsVG9wJyk7XG4gICAgICB2YXIgaXNTY3JvbGxpbmdEb3duID0gc2Nyb2xsVG9wID4gKG9uU2Nyb2xsLnByZXZTY3JvbGxUb3AgfHwgMCk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSBwcmV2aW91cyBzY3JvbGwgc28gd2Uga25vdyB3aGljaCBkaXJlY3Rpb24gd2UgYXJlIHNjcm9sbGluZ1xuICAgICAgb25TY3JvbGwucHJldlNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcblxuICAgICAgLy9cbiAgICAgIC8vIEFUIFRPUCAobm90IHNjcm9sbGluZylcbiAgICAgIC8vXG4gICAgICBpZiAoc2Nyb2xsVG9wID09PSAwKSB7XG4gICAgICAgIC8vIElmIHdlJ3JlIGF0IHRoZSB0b3AsIGp1c3QgY2xlYXIgdGhlIGN1cnJlbnQgaXRlbSBhbmQgcmV0dXJuXG4gICAgICAgIHNldEN1cnJlbnRJdGVtKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vXG4gICAgICAvLyBTQ1JPTExJTkcgRE9XTiAoZ29pbmcgdG93YXJkcyB0aGUgbmV4dCBpdGVtKVxuICAgICAgLy9cbiAgICAgIGlmIChpc1Njcm9sbGluZ0Rvd24pIHtcblxuICAgICAgICAvLyBJZiB3ZSd2ZSBzY3JvbGxlZCBkb3duIHBhc3QgdGhlIG5leHQgaXRlbSdzIHBvc2l0aW9uLCBzdGlja3kgaXQgYW5kIHJldHVyblxuICAgICAgICBpZiAoc2VsZi5uZXh0ICYmIHNlbGYubmV4dC50b3AgPD0gc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgc2V0Q3VycmVudEl0ZW0oc2VsZi5uZXh0KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgbmV4dCBpdGVtIGlzIGNsb3NlIHRvIHRoZSBjdXJyZW50IG9uZSwgcHVzaCB0aGUgY3VycmVudCBvbmUgdXAgb3V0IG9mIHRoZSB3YXlcbiAgICAgICAgaWYgKHNlbGYuY3VycmVudCAmJiBzZWxmLm5leHQgJiYgc2VsZi5uZXh0LnRvcCAtIHNjcm9sbFRvcCA8PSBzZWxmLm5leHQuaGVpZ2h0KSB7XG4gICAgICAgICAgdHJhbnNsYXRlKHNlbGYuY3VycmVudCwgc2Nyb2xsVG9wICsgKHNlbGYubmV4dC50b3AgLSBzZWxmLm5leHQuaGVpZ2h0IC0gc2Nyb2xsVG9wKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vXG4gICAgICAvLyBTQ1JPTExJTkcgVVAgKG5vdCBhdCB0aGUgdG9wICYgbm90IHNjcm9sbGluZyBkb3duOyBtdXN0IGJlIHNjcm9sbGluZyB1cClcbiAgICAgIC8vXG4gICAgICBpZiAoIWlzU2Nyb2xsaW5nRG93bikge1xuXG4gICAgICAgIC8vIElmIHdlJ3ZlIHNjcm9sbGVkIHVwIHBhc3QgdGhlIHByZXZpb3VzIGl0ZW0ncyBwb3NpdGlvbiwgc3RpY2t5IGl0IGFuZCByZXR1cm5cbiAgICAgICAgaWYgKHNlbGYuY3VycmVudCAmJiBzZWxmLnByZXYgJiYgc2Nyb2xsVG9wIDwgc2VsZi5jdXJyZW50LnRvcCkge1xuICAgICAgICAgIHNldEN1cnJlbnRJdGVtKHNlbGYucHJldik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIG5leHQgaXRlbSBpcyBjbG9zZSB0byB0aGUgY3VycmVudCBvbmUsIHB1bGwgdGhlIGN1cnJlbnQgb25lIGRvd24gaW50byB2aWV3XG4gICAgICAgIGlmIChzZWxmLm5leHQgJiYgc2VsZi5jdXJyZW50ICYmIChzY3JvbGxUb3AgPj0gKHNlbGYubmV4dC50b3AgLSBzZWxmLmN1cnJlbnQuaGVpZ2h0KSkpIHtcbiAgICAgICAgICB0cmFuc2xhdGUoc2VsZi5jdXJyZW50LCBzY3JvbGxUb3AgKyAoc2VsZi5uZXh0LnRvcCAtIHNjcm9sbFRvcCAtIHNlbGYuY3VycmVudC5oZWlnaHQpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9cbiAgICAgIC8vIE90aGVyd2lzZSwganVzdCBtb3ZlIHRoZSBjdXJyZW50IGl0ZW0gdG8gdGhlIHByb3BlciBwbGFjZSAoc2Nyb2xsaW5nIHVwIG9yIGRvd24pXG4gICAgICAvL1xuICAgICAgaWYgKHNlbGYuY3VycmVudCkge1xuICAgICAgICB0cmFuc2xhdGUoc2VsZi5jdXJyZW50LCBzY3JvbGxUb3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEN1cnJlbnRJdGVtKGl0ZW0pIHtcbiAgICAgIGlmIChzZWxmLmN1cnJlbnQgPT09IGl0ZW0pIHJldHVybjtcbiAgICAgIC8vIERlYWN0aXZhdGUgY3VycmVudGx5IGFjdGl2ZSBpdGVtXG4gICAgICBpZiAoc2VsZi5jdXJyZW50KSB7XG4gICAgICAgIHRyYW5zbGF0ZShzZWxmLmN1cnJlbnQsIG51bGwpO1xuICAgICAgICBzZXRTdGlja3lTdGF0ZShzZWxmLmN1cnJlbnQsIG51bGwpO1xuICAgICAgfVxuXG4gICAgICAvLyBBY3RpdmF0ZSBuZXcgaXRlbSBpZiBnaXZlblxuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgc2V0U3RpY2t5U3RhdGUoaXRlbSwgJ2FjdGl2ZScpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLmN1cnJlbnQgPSBpdGVtO1xuICAgICAgdmFyIGluZGV4ID0gc2VsZi5pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgICAgLy8gSWYgaW5kZXggPT09IC0xLCBpbmRleCArIDEgPSAwLiBJdCB3b3JrcyBvdXQuXG4gICAgICBzZWxmLm5leHQgPSBzZWxmLml0ZW1zW2luZGV4ICsgMV07XG4gICAgICBzZWxmLnByZXYgPSBzZWxmLml0ZW1zW2luZGV4IC0gMV07XG4gICAgICBzZXRTdGlja3lTdGF0ZShzZWxmLm5leHQsICduZXh0Jyk7XG4gICAgICBzZXRTdGlja3lTdGF0ZShzZWxmLnByZXYsICdwcmV2Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0U3RpY2t5U3RhdGUoaXRlbSwgc3RhdGUpIHtcbiAgICAgIGlmICghaXRlbSB8fCBpdGVtLnN0YXRlID09PSBzdGF0ZSkgcmV0dXJuO1xuICAgICAgaWYgKGl0ZW0uc3RhdGUpIHtcbiAgICAgICAgaXRlbS5jbG9uZS5hdHRyKCdzdGlja3ktcHJldi1zdGF0ZScsIGl0ZW0uc3RhdGUpO1xuICAgICAgICBpdGVtLmVsZW1lbnQuYXR0cignc3RpY2t5LXByZXYtc3RhdGUnLCBpdGVtLnN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGl0ZW0uY2xvbmUuYXR0cignc3RpY2t5LXN0YXRlJywgc3RhdGUpO1xuICAgICAgaXRlbS5lbGVtZW50LmF0dHIoJ3N0aWNreS1zdGF0ZScsIHN0YXRlKTtcbiAgICAgIGl0ZW0uc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGUoaXRlbSwgYW1vdW50KSB7XG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcbiAgICAgIGlmIChhbW91bnQgPT09IG51bGwgfHwgYW1vdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGl0ZW0udHJhbnNsYXRlWSkge1xuICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgICAgaXRlbS5jbG9uZS5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBhbW91bnQ7XG4gICAgICAgIGl0ZW0uY2xvbmUuY3NzKFxuICAgICAgICAgICRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sXG4gICAgICAgICAgJ3RyYW5zbGF0ZTNkKCcgKyBpdGVtLmxlZnQgKyAncHgsJyArIGFtb3VudCArICdweCwwKSdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byBjaGVjayBmb3IgYnJvd3NlciBzdGlja3kgc3VwcG9ydFxuICBmdW5jdGlvbiBjaGVja1N0aWNreVN1cHBvcnQoJGVsKSB7XG4gICAgdmFyIHN0aWNreVByb3A7XG4gICAgdmFyIHRlc3RFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdj4nKTtcbiAgICAkZG9jdW1lbnRbMF0uYm9keS5hcHBlbmRDaGlsZCh0ZXN0RWxbMF0pO1xuXG4gICAgdmFyIHN0aWNreVByb3BzID0gWydzdGlja3knLCAnLXdlYmtpdC1zdGlja3knXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0aWNreVByb3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICB0ZXN0RWwuY3NzKHtwb3NpdGlvbjogc3RpY2t5UHJvcHNbaV0sIHRvcDogMCwgJ3otaW5kZXgnOiAyfSk7XG4gICAgICBpZiAodGVzdEVsLmNzcygncG9zaXRpb24nKSA9PSBzdGlja3lQcm9wc1tpXSkge1xuICAgICAgICBzdGlja3lQcm9wID0gc3RpY2t5UHJvcHNbaV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICB0ZXN0RWwucmVtb3ZlKCk7XG4gICAgcmV0dXJuIHN0aWNreVByb3A7XG4gIH1cblxuICAvLyBBbmRyb2lkIDQuNCBkb24ndCBhY2N1cmF0ZWx5IGdpdmUgc2Nyb2xsIGV2ZW50cy5cbiAgLy8gVG8gZml4IHRoaXMgcHJvYmxlbSwgd2Ugc2V0dXAgYSBmYWtlIHNjcm9sbCBldmVudC4gV2Ugc2F5OlxuICAvLyA+IElmIGEgc2Nyb2xsIG9yIHRvdWNobW92ZSBldmVudCBoYXMgaGFwcGVuZWQgaW4gdGhlIGxhc3QgREVMQVkgbWlsbGlzZWNvbmRzLCBcbiAgLy8gICB0aGVuIHNlbmQgYSBgJHNjcm9sbGAgZXZlbnQgZXZlcnkgYW5pbWF0aW9uRnJhbWUuXG4gIC8vIEFkZGl0aW9uYWxseSwgd2UgYWRkICRzY3JvbGxzdGFydCBhbmQgJHNjcm9sbGVuZCBldmVudHMuXG4gIGZ1bmN0aW9uIHNldHVwQXVnbWVudGVkU2Nyb2xsRXZlbnRzKGVsZW1lbnQpIHtcbiAgICB2YXIgU0NST0xMX0VORF9ERUxBWSA9IDIwMDtcbiAgICB2YXIgaXNTY3JvbGxpbmc7XG4gICAgdmFyIGxhc3RTY3JvbGxUaW1lO1xuICAgIGVsZW1lbnQub24oJ3Njcm9sbCB0b3VjaG1vdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghaXNTY3JvbGxpbmcpIHtcbiAgICAgICAgaXNTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgICAkJHJBRi50aHJvdHRsZShsb29wU2Nyb2xsRXZlbnQpO1xuICAgICAgICBlbGVtZW50LnRyaWdnZXJIYW5kbGVyKCckc2Nyb2xsc3RhcnQnKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJyRzY3JvbGwnKTtcbiAgICAgIGxhc3RTY3JvbGxUaW1lID0gKyRtZFV0aWwubm93KCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBsb29wU2Nyb2xsRXZlbnQoKSB7XG4gICAgICBpZiAoKyRtZFV0aWwubm93KCkgLSBsYXN0U2Nyb2xsVGltZSA+IFNDUk9MTF9FTkRfREVMQVkpIHtcbiAgICAgICAgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudC50cmlnZ2VySGFuZGxlcignJHNjcm9sbGVuZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC50cmlnZ2VySGFuZGxlcignJHNjcm9sbCcpO1xuICAgICAgICAkJHJBRi50aHJvdHRsZShsb29wU2Nyb2xsRXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5NZFN0aWNreS4kaW5qZWN0ID0gW1wiJGRvY3VtZW50XCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkJHJBRlwiLCBcIiRtZFV0aWxcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuc3ViaGVhZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFN1YkhlYWRlciBtb2R1bGVcbiAqXG4gKiAgU3ViaGVhZGVycyBhcmUgc3BlY2lhbCBsaXN0IHRpbGVzIHRoYXQgZGVsaW5lYXRlIGRpc3RpbmN0IHNlY3Rpb25zIG9mIGFcbiAqICBsaXN0IG9yIGdyaWQgbGlzdCBhbmQgYXJlIHR5cGljYWxseSByZWxhdGVkIHRvIHRoZSBjdXJyZW50IGZpbHRlcmluZyBvclxuICogIHNvcnRpbmcgY3JpdGVyaWEuIFN1YmhlYWRlciB0aWxlcyBhcmUgZWl0aGVyIGRpc3BsYXllZCBpbmxpbmUgd2l0aCB0aWxlcyBvclxuICogIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggY29udGVudCwgZm9yIGV4YW1wbGUsIGluIGFuIGFkamFjZW50IGNvbHVtbi5cbiAqXG4gKiAgVXBvbiBzY3JvbGxpbmcsIHN1YmhlYWRlcnMgcmVtYWluIHBpbm5lZCB0byB0aGUgdG9wIG9mIHRoZSBzY3JlZW4gYW5kIHJlbWFpblxuICogIHBpbm5lZCB1bnRpbCBwdXNoZWQgb24gb3Igb2ZmIHNjcmVlbiBieSB0aGUgbmV4dCBzdWJoZWFkZXIuIEBzZWUgW01hdGVyaWFsXG4gKiAgRGVzaWduIFNwZWNpZmljYXRpb25zXShodHRwczovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL2NvbXBvbmVudHMvc3ViaGVhZGVycy5odG1sKVxuICpcbiAqICA+IFRvIGltcHJvdmUgdGhlIHZpc3VhbCBncm91cGluZyBvZiBjb250ZW50LCB1c2UgdGhlIHN5c3RlbSBjb2xvciBmb3IgeW91ciBzdWJoZWFkZXJzLlxuICpcbiAqL1xuYW5ndWxhclxuICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnN1YmhlYWRlcicsIFtcbiAgICAnbWF0ZXJpYWwuY29yZScsXG4gICAgJ21hdGVyaWFsLmNvbXBvbmVudHMuc3RpY2t5J1xuICBdKVxuICAuZGlyZWN0aXZlKCdtZFN1YmhlYWRlcicsIE1kU3ViaGVhZGVyRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFN1YmhlYWRlclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnN1YmhlYWRlclxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1zdWJoZWFkZXI+YCBkaXJlY3RpdmUgaXMgYSBzdWJoZWFkZXIgZm9yIGEgc2VjdGlvbi4gQnkgZGVmYXVsdCBpdCBpcyBzdGlja3kuXG4gKiBZb3UgY2FuIG1ha2UgaXQgbm90IHN0aWNreSBieSBhcHBseWluZyB0aGUgYG1kLW5vLXN0aWNreWAgY2xhc3MgdG8gdGhlIHN1YmhlYWRlci5cbiAqXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXN1YmhlYWRlcj5PbmxpbmUgRnJpZW5kczwvbWQtc3ViaGVhZGVyPlxuICogPC9obGpzPlxuICovXG5cbmZ1bmN0aW9uIE1kU3ViaGVhZGVyRGlyZWN0aXZlKCRtZFN0aWNreSwgJGNvbXBpbGUsICRtZFRoZW1pbmcsICRtZFV0aWwpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogKFxuICAgICc8ZGl2IGNsYXNzPVwibWQtc3ViaGVhZGVyXCI+JyArXG4gICAgJyAgPGRpdiBjbGFzcz1cIm1kLXN1YmhlYWRlci1pbm5lclwiPicgK1xuICAgICcgICAgPHNwYW4gY2xhc3M9XCJtZC1zdWJoZWFkZXItY29udGVudFwiPjwvc3Bhbj4nICtcbiAgICAnICA8L2Rpdj4nICtcbiAgICAnPC9kaXY+J1xuICAgICksXG4gICAgbGluazogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGNvbnRyb2xsZXJzLCB0cmFuc2NsdWRlKSB7XG4gICAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgICAgdmFyIG91dGVySFRNTCA9IGVsZW1lbnRbMF0ub3V0ZXJIVE1MO1xuXG4gICAgICBmdW5jdGlvbiBnZXRDb250ZW50KGVsKSB7XG4gICAgICAgIHJldHVybiBhbmd1bGFyLmVsZW1lbnQoZWxbMF0ucXVlcnlTZWxlY3RvcignLm1kLXN1YmhlYWRlci1jb250ZW50JykpO1xuICAgICAgfVxuXG4gICAgICAvLyBUcmFuc2NsdWRlIHRoZSB1c2VyLWdpdmVuIGNvbnRlbnRzIG9mIHRoZSBzdWJoZWFkZXJcbiAgICAgIC8vIHRoZSBjb252ZW50aW9uYWwgd2F5LlxuICAgICAgdHJhbnNjbHVkZShzY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgZ2V0Q29udGVudChlbGVtZW50KS5hcHBlbmQoY2xvbmUpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBhbm90aGVyIGNsb25lLCB0aGF0IHVzZXMgdGhlIG91dGVyIGFuZCBpbm5lciBjb250ZW50c1xuICAgICAgLy8gb2YgdGhlIGVsZW1lbnQsIHRoYXQgd2lsbCBiZSAnc3RpY2tpZWQnIGFzIHRoZSB1c2VyIHNjcm9sbHMuXG4gICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ21kLW5vLXN0aWNreScpKSB7XG4gICAgICAgIHRyYW5zY2x1ZGUoc2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHVzZXIgYWRkcyBhbiBuZy1pZiBvciBuZy1yZXBlYXQgZGlyZWN0bHkgdG8gdGhlIG1kLXN1YmhlYWRlciBlbGVtZW50LCB0aGVcbiAgICAgICAgICAvLyBjb21waWxlZCBjbG9uZSBiZWxvdyB3aWxsIG9ubHkgYmUgYSBjb21tZW50IHRhZyAoc2luY2UgdGhleSByZXBsYWNlIHRoZWlyIGVsZW1lbnRzIHdpdGhcbiAgICAgICAgICAvLyBhIGNvbW1lbnQpIHdoaWNoIGNhbm5vdCBiZSBwcm9wZXJseSBwYXNzZWQgdG8gdGhlICRtZFN0aWNreTsgc28gd2Ugd3JhcCBpdCBpbiBvdXIgb3duXG4gICAgICAgICAgLy8gRElWIHRvIGVuc3VyZSB3ZSBoYXZlIHNvbWV0aGluZyAkbWRTdGlja3kgY2FuIHVzZVxuICAgICAgICAgIHZhciB3cmFwcGVySHRtbCA9ICc8ZGl2IGNsYXNzPVwibWQtc3ViaGVhZGVyLXdyYXBwZXJcIj4nICsgb3V0ZXJIVE1MICsgJzwvZGl2Pic7XG4gICAgICAgICAgdmFyIHN0aWNreUNsb25lID0gJGNvbXBpbGUod3JhcHBlckh0bWwpKHNjb3BlKTtcblxuICAgICAgICAgIC8vIEFwcGVuZCB0aGUgc3RpY2t5XG4gICAgICAgICAgJG1kU3RpY2t5KHNjb3BlLCBlbGVtZW50LCBzdGlja3lDbG9uZSk7XG5cbiAgICAgICAgICAvLyBEZWxheSBpbml0aWFsaXphdGlvbiB1bnRpbCBhZnRlciBhbnkgYG5nLWlmYC9gbmctcmVwZWF0YC9ldGMgaGFzIGZpbmlzaGVkIGJlZm9yZVxuICAgICAgICAgIC8vIGF0dGVtcHRpbmcgdG8gY3JlYXRlIHRoZSBjbG9uZVxuICAgICAgICAgICRtZFV0aWwubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBnZXRDb250ZW50KHN0aWNreUNsb25lKS5hcHBlbmQoY2xvbmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbk1kU3ViaGVhZGVyRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRTdGlja3lcIiwgXCIkY29tcGlsZVwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWRVdGlsXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnN3aXBlXG4gKiBAZGVzY3JpcHRpb24gU3dpcGUgbW9kdWxlIVxuICovXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zd2lwZVxuICogQG5hbWUgbWRTd2lwZUxlZnRcbiAqXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG1kLXN3aXBlLWxlZnQgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igd2hlbiBhbiBlbGVtZW50IGlzIHN3aXBlZFxuICogbGVmdC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8ZGl2IG1kLXN3aXBlLWxlZnQ9XCJvblN3aXBlTGVmdCgpXCI+U3dpcGUgbWUgbGVmdCE8L2Rpdj5cbiAqIDwvaGxqcz5cbiAqL1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc3dpcGVcbiAqIEBuYW1lIG1kU3dpcGVSaWdodFxuICpcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbWQtc3dpcGUtcmlnaHQgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igd2hlbiBhbiBlbGVtZW50IGlzIHN3aXBlZFxuICogcmlnaHQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGRpdiBtZC1zd2lwZS1yaWdodD1cIm9uU3dpcGVSaWdodCgpXCI+U3dpcGUgbWUgcmlnaHQhPC9kaXY+XG4gKiA8L2hsanM+XG4gKi9cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnN3aXBlXG4gKiBAbmFtZSBtZFN3aXBlVXBcbiAqXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG1kLXN3aXBlLXVwIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW4gYW4gZWxlbWVudCBpcyBzd2lwZWRcbiAqIHVwLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbWQtc3dpcGUtdXA9XCJvblN3aXBlVXAoKVwiPlN3aXBlIG1lIHVwITwvZGl2PlxuICogPC9obGpzPlxuICovXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zd2lwZVxuICogQG5hbWUgbWRTd2lwZURvd25cbiAqXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG1kLXN3aXBlLWRvd24gZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igd2hlbiBhbiBlbGVtZW50IGlzIHN3aXBlZFxuICogZG93bi5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8ZGl2IG1kLXN3aXBlLWRvd249XCJvblN3aXBEb3duKClcIj5Td2lwZSBtZSBkb3duITwvZGl2PlxuICogPC9obGpzPlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnN3aXBlJywgWydtYXRlcmlhbC5jb3JlJ10pXG4gICAgLmRpcmVjdGl2ZSgnbWRTd2lwZUxlZnQnLCBnZXREaXJlY3RpdmUoJ1N3aXBlTGVmdCcpKVxuICAgIC5kaXJlY3RpdmUoJ21kU3dpcGVSaWdodCcsIGdldERpcmVjdGl2ZSgnU3dpcGVSaWdodCcpKVxuICAgIC5kaXJlY3RpdmUoJ21kU3dpcGVVcCcsIGdldERpcmVjdGl2ZSgnU3dpcGVVcCcpKVxuICAgIC5kaXJlY3RpdmUoJ21kU3dpcGVEb3duJywgZ2V0RGlyZWN0aXZlKCdTd2lwZURvd24nKSk7XG5cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZShuYW1lKSB7XG4gIHZhciBkaXJlY3RpdmVOYW1lID0gJ21kJyArIG5hbWU7XG4gIHZhciBldmVudE5hbWUgPSAnJG1kLicgKyBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBEaXJlY3RpdmVGYWN0b3J5LiRpbmplY3QgPSBbXCIkcGFyc2VcIl07XG4gIHJldHVybiBEaXJlY3RpdmVGYWN0b3J5O1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBEaXJlY3RpdmVGYWN0b3J5KCRwYXJzZSkge1xuICAgICAgcmV0dXJuIHsgcmVzdHJpY3Q6ICdBJywgbGluazogcG9zdExpbmsgfTtcbiAgICAgIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBmbiA9ICRwYXJzZShhdHRyW2RpcmVjdGl2ZU5hbWVdKTtcbiAgICAgICAgZWxlbWVudC5vbihldmVudE5hbWUsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgeyBmbihzY29wZSwgeyAkZXZlbnQ6IGV2IH0pOyB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxufVxuXG5cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuc3dpdGNoXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuc3dpdGNoJywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmNoZWNrYm94J1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRTd2l0Y2gnLCBNZFN3aXRjaCk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zd2l0Y2hcbiAqIEBuYW1lIG1kU3dpdGNoXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIFRoZSBzd2l0Y2ggZGlyZWN0aXZlIGlzIHVzZWQgdmVyeSBtdWNoIGxpa2UgdGhlIG5vcm1hbCBbYW5ndWxhciBjaGVja2JveF0oaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nL2lucHV0L2lucHV0JTVCY2hlY2tib3glNUQpLlxuICpcbiAqIEFzIHBlciB0aGUgW21hdGVyaWFsIGRlc2lnbiBzcGVjXShodHRwOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvc3R5bGUvY29sb3IuaHRtbCNjb2xvci11aS1jb2xvci1hcHBsaWNhdGlvbilcbiAqIHRoZSBzd2l0Y2ggaXMgaW4gdGhlIGFjY2VudCBjb2xvciBieSBkZWZhdWx0LiBUaGUgcHJpbWFyeSBjb2xvciBwYWxldHRlIG1heSBiZSB1c2VkIHdpdGhcbiAqIHRoZSBgbWQtcHJpbWFyeWAgY2xhc3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nLW1vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nLXRydWUtdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nLWZhbHNlLXZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gbm90IHNlbGVjdGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZy1jaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlciBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmctZGlzYWJsZWQgRW4vRGlzYWJsZSBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLW5vLWluayBVc2Ugb2YgYXR0cmlidXRlIGluZGljYXRlcyB1c2Ugb2YgcmlwcGxlIGluayBlZmZlY3RzLlxuICogQHBhcmFtIHtzdHJpbmc9fSBhcmlhLWxhYmVsIFB1Ymxpc2ggdGhlIGJ1dHRvbiBsYWJlbCB1c2VkIGJ5IHNjcmVlbi1yZWFkZXJzIGZvciBhY2Nlc3NpYmlsaXR5LiBEZWZhdWx0cyB0byB0aGUgc3dpdGNoJ3MgdGV4dC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtc3dpdGNoIG5nLW1vZGVsPVwiaXNBY3RpdmVcIiBhcmlhLWxhYmVsPVwiRmluaXNoZWQ/XCI+XG4gKiAgIEZpbmlzaGVkID9cbiAqIDwvbWQtc3dpdGNoPlxuICpcbiAqIDxtZC1zd2l0Y2ggbWQtbm8taW5rIG5nLW1vZGVsPVwiaGFzSW5rXCIgYXJpYS1sYWJlbD1cIk5vIEluayBFZmZlY3RzXCI+XG4gKiAgIE5vIEluayBFZmZlY3RzXG4gKiA8L21kLXN3aXRjaD5cbiAqXG4gKiA8bWQtc3dpdGNoIG5nLWRpc2FibGVkPVwidHJ1ZVwiIG5nLW1vZGVsPVwiaXNEaXNhYmxlZFwiIGFyaWEtbGFiZWw9XCJEaXNhYmxlZFwiPlxuICogICBEaXNhYmxlZFxuICogPC9tZC1zd2l0Y2g+XG4gKlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBNZFN3aXRjaChtZENoZWNrYm94RGlyZWN0aXZlLCAkbWRVdGlsLCAkbWRDb25zdGFudCwgJHBhcnNlLCAkJHJBRiwgJG1kR2VzdHVyZSkge1xuICB2YXIgY2hlY2tib3hEaXJlY3RpdmUgPSBtZENoZWNrYm94RGlyZWN0aXZlWzBdO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBwcmlvcml0eTogMjEwLCAvLyBSdW4gYmVmb3JlIG5nQXJpYVxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGU6XG4gICAgICAnPGRpdiBjbGFzcz1cIm1kLWNvbnRhaW5lclwiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWJhclwiPjwvZGl2PicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLXRodW1iLWNvbnRhaW5lclwiPicgK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtdGh1bWJcIiBtZC1pbmstcmlwcGxlIG1kLWluay1yaXBwbGUtY2hlY2tib3g+PC9kaXY+JyArXG4gICAgICAgICc8L2Rpdj4nK1xuICAgICAgJzwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctdHJhbnNjbHVkZSBjbGFzcz1cIm1kLWxhYmVsXCI+PC9kaXY+JyxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIGNvbXBpbGU6IG1kU3dpdGNoQ29tcGlsZVxuICB9O1xuXG4gIGZ1bmN0aW9uIG1kU3dpdGNoQ29tcGlsZShlbGVtZW50LCBhdHRyKSB7XG4gICAgdmFyIGNoZWNrYm94TGluayA9IGNoZWNrYm94RGlyZWN0aXZlLmNvbXBpbGUoZWxlbWVudCwgYXR0cik7XG4gICAgLy8gTm8gdHJhbnNpdGlvbiBvbiBpbml0aWFsIGxvYWQuXG4gICAgZWxlbWVudC5hZGRDbGFzcygnbWQtZHJhZ2dpbmcnKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIG5nTW9kZWwpIHtcbiAgICAgIG5nTW9kZWwgPSBuZ01vZGVsIHx8ICRtZFV0aWwuZmFrZU5nTW9kZWwoKTtcblxuICAgICAgdmFyIGRpc2FibGVkR2V0dGVyID0gbnVsbDtcbiAgICAgIGlmIChhdHRyLmRpc2FibGVkICE9IG51bGwpIHtcbiAgICAgICAgZGlzYWJsZWRHZXR0ZXIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgICB9IGVsc2UgaWYgKGF0dHIubmdEaXNhYmxlZCkge1xuICAgICAgICBkaXNhYmxlZEdldHRlciA9ICRwYXJzZShhdHRyLm5nRGlzYWJsZWQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGh1bWJDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtdGh1bWItY29udGFpbmVyJykpO1xuICAgICAgdmFyIHN3aXRjaENvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1jb250YWluZXInKSk7XG5cbiAgICAgIC8vIG5vIHRyYW5zaXRpb24gb24gaW5pdGlhbCBsb2FkXG4gICAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtZHJhZ2dpbmcnKTtcbiAgICAgIH0pO1xuXG4gICAgICBjaGVja2JveExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIG5nTW9kZWwpO1xuXG4gICAgICBpZiAoZGlzYWJsZWRHZXR0ZXIpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGRpc2FibGVkR2V0dGVyLCBmdW5jdGlvbihpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgZWxlbWVudC5hdHRyKCd0YWJpbmRleCcsIGlzRGlzYWJsZWQgPyAtMSA6IDApO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlc2UgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgYnkgc2V0dXAgZHJhZ1xuICAgICAgJG1kR2VzdHVyZS5yZWdpc3Rlcihzd2l0Y2hDb250YWluZXIsICdkcmFnJyk7XG4gICAgICBzd2l0Y2hDb250YWluZXJcbiAgICAgICAgLm9uKCckbWQuZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpXG4gICAgICAgIC5vbignJG1kLmRyYWcnLCBvbkRyYWcpXG4gICAgICAgIC5vbignJG1kLmRyYWdlbmQnLCBvbkRyYWdFbmQpO1xuXG4gICAgICB2YXIgZHJhZztcbiAgICAgIGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2KSB7XG4gICAgICAgIC8vIERvbid0IGdvIGlmIHRoZSBzd2l0Y2ggaXMgZGlzYWJsZWQuXG4gICAgICAgIGlmIChkaXNhYmxlZEdldHRlciAmJiBkaXNhYmxlZEdldHRlcihzY29wZSkpIHJldHVybjtcbiAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnbWQtZHJhZ2dpbmcnKTtcbiAgICAgICAgZHJhZyA9IHt3aWR0aDogdGh1bWJDb250YWluZXIucHJvcCgnb2Zmc2V0V2lkdGgnKX07XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ3RyYW5zaXRpb24nKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25EcmFnKGV2KSB7XG4gICAgICAgIGlmICghZHJhZykgcmV0dXJuO1xuICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXYuc3JjRXZlbnQgJiYgZXYuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB2YXIgcGVyY2VudCA9IGV2LnBvaW50ZXIuZGlzdGFuY2VYIC8gZHJhZy53aWR0aDtcblxuICAgICAgICAvL2lmIGNoZWNrZWQsIHN0YXJ0IGZyb20gcmlnaHQuIGVsc2UsIHN0YXJ0IGZyb20gbGVmdFxuICAgICAgICB2YXIgdHJhbnNsYXRlID0gbmdNb2RlbC4kdmlld1ZhbHVlID8gIDEgKyBwZXJjZW50IDogcGVyY2VudDtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzd2l0Y2ggc3RheXMgaW5zaWRlIGl0cyBib3VuZHMsIDAtMSVcbiAgICAgICAgdHJhbnNsYXRlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdHJhbnNsYXRlKSk7XG5cbiAgICAgICAgdGh1bWJDb250YWluZXIuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sICd0cmFuc2xhdGUzZCgnICsgKDEwMCp0cmFuc2xhdGUpICsgJyUsMCwwKScpO1xuICAgICAgICBkcmFnLnRyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25EcmFnRW5kKGV2KSB7XG4gICAgICAgIGlmICghZHJhZykgcmV0dXJuO1xuICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdtZC1kcmFnZ2luZycpO1xuICAgICAgICB0aHVtYkNvbnRhaW5lci5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgJycpO1xuXG4gICAgICAgIC8vIFdlIGNoYW5nZWQgaWYgdGhlcmUgaXMgbm8gZGlzdGFuY2UgKHRoaXMgaXMgYSBjbGljayBhIGNsaWNrKSxcbiAgICAgICAgLy8gb3IgaWYgdGhlIGRyYWcgZGlzdGFuY2UgaXMgPjUwJSBvZiB0aGUgdG90YWwuXG4gICAgICAgIHZhciBpc0NoYW5nZWQgPSBuZ01vZGVsLiR2aWV3VmFsdWUgPyBkcmFnLnRyYW5zbGF0ZSA+IDAuNSA6IGRyYWcudHJhbnNsYXRlIDwgMC41O1xuICAgICAgICBpZiAoaXNDaGFuZ2VkKSB7XG4gICAgICAgICAgYXBwbHlNb2RlbFZhbHVlKCFuZ01vZGVsLiR2aWV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGRyYWcgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhcHBseU1vZGVsVmFsdWUobmV3VmFsdWUpIHtcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShuZXdWYWx1ZSk7XG4gICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfTtcbiAgfVxuXG5cbn1cbk1kU3dpdGNoLiRpbmplY3QgPSBbXCJtZENoZWNrYm94RGlyZWN0aXZlXCIsIFwiJG1kVXRpbFwiLCBcIiRtZENvbnN0YW50XCIsIFwiJHBhcnNlXCIsIFwiJCRyQUZcIiwgXCIkbWRHZXN0dXJlXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnRhYnNcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICBUYWJzLCBjcmVhdGVkIHdpdGggdGhlIGA8bWQtdGFicz5gIGRpcmVjdGl2ZSBwcm92aWRlICp0YWJiZWQqIG5hdmlnYXRpb24gd2l0aCBkaWZmZXJlbnQgc3R5bGVzLlxuICogIFRoZSBUYWJzIGNvbXBvbmVudCBjb25zaXN0cyBvZiBjbGlja2FibGUgdGFicyB0aGF0IGFyZSBhbGlnbmVkIGhvcml6b250YWxseSBzaWRlLWJ5LXNpZGUuXG4gKlxuICogIEZlYXR1cmVzIGluY2x1ZGUgc3VwcG9ydCBmb3I6XG4gKlxuICogIC0gc3RhdGljIG9yIGR5bmFtaWMgdGFicyxcbiAqICAtIHJlc3BvbnNpdmUgZGVzaWducyxcbiAqICAtIGFjY2Vzc2liaWxpdHkgc3VwcG9ydCAoQVJJQSksXG4gKiAgLSB0YWIgcGFnaW5hdGlvbixcbiAqICAtIGV4dGVybmFsIG9yIGludGVybmFsIHRhYiBjb250ZW50LFxuICogIC0gZm9jdXMgaW5kaWNhdG9ycyBhbmQgYXJyb3cta2V5IG5hdmlnYXRpb25zLFxuICogIC0gcHJvZ3JhbW1hdGljIGxvb2t1cCBhbmQgYWNjZXNzIHRvIHRhYiBjb250cm9sbGVycywgYW5kXG4gKiAgLSBkeW5hbWljIHRyYW5zaXRpb25zIHRocm91Z2ggZGlmZmVyZW50IHRhYiBjb250ZW50cy5cbiAqXG4gKi9cbi8qXG4gKiBAc2VlIGpzIGZvbGRlciBmb3IgdGFicyBpbXBsZW1lbnRhdGlvblxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmljb24nXG5dKTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICAqIEBuZ2RvYyBtb2R1bGVcbiAgKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvYXN0XG4gICogQGRlc2NyaXB0aW9uXG4gICogVG9hc3RcbiAgKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRvYXN0JywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmJ1dHRvbidcbl0pXG4gIC5kaXJlY3RpdmUoJ21kVG9hc3QnLCBNZFRvYXN0RGlyZWN0aXZlKVxuICAucHJvdmlkZXIoJyRtZFRvYXN0JywgTWRUb2FzdFByb3ZpZGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBNZFRvYXN0RGlyZWN0aXZlKCRtZFRvYXN0KSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBsaW5rOiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgLy8gV2hlbiBuYXZpZ2F0aW9uIGZvcmNlIGRlc3Ryb3lzIGFuIGludGVyaW1FbGVtZW50LCB0aGVuXG4gICAgICAvLyBsaXN0ZW4gYW5kICRkZXN0cm95KCkgdGhhdCBpbnRlcmltIGluc3RhbmNlLi4uXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICRtZFRvYXN0LmRlc3Ryb3koKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbk1kVG9hc3REaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRvYXN0XCJdO1xuXG4vKipcbiAgKiBAbmdkb2Mgc2VydmljZVxuICAqIEBuYW1lICRtZFRvYXN0XG4gICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvYXN0XG4gICpcbiAgKiBAZGVzY3JpcHRpb25cbiAgKiBgJG1kVG9hc3RgIGlzIGEgc2VydmljZSB0byBidWlsZCBhIHRvYXN0IG5vdGlmaWNhdGlvbiBvbiBhbnkgcG9zaXRpb25cbiAgKiBvbiB0aGUgc2NyZWVuIHdpdGggYW4gb3B0aW9uYWwgZHVyYXRpb24sIGFuZCBwcm92aWRlcyBhIHNpbXBsZSBwcm9taXNlIEFQSS5cbiAgKlxuICAqXG4gICogIyMgUmVzdHJpY3Rpb25zIG9uIGN1c3RvbSB0b2FzdHNcbiAgKiAtIFRoZSB0b2FzdCdzIHRlbXBsYXRlIG11c3QgaGF2ZSBhbiBvdXRlciBgPG1kLXRvYXN0PmAgZWxlbWVudC5cbiAgKiAtIEZvciBhIHRvYXN0IGFjdGlvbiwgdXNlIGVsZW1lbnQgd2l0aCBjbGFzcyBgbWQtYWN0aW9uYC5cbiAgKiAtIEFkZCB0aGUgY2xhc3MgYG1kLWNhcHN1bGVgIGZvciBjdXJ2ZWQgY29ybmVycy5cbiAgKlxuICAqICMjIFBhcmVudCBjb250YWluZXIgbm90ZXNcbiAgKlxuICAqIFRoZSB0b2FzdCBpcyBwb3NpdGlvbmVkIHVzaW5nIGFic29sdXRlIHBvc2l0aW9uaW5nIHJlbGF0aXZlIHRvIGl0J3MgZmlyc3Qgbm9uLXN0YXRpYyBwYXJlbnRcbiAgKiBjb250YWluZXIuIFRodXMsIGlmIHRoZSByZXF1ZXN0ZWQgcGFyZW50IGNvbnRhaW5lciB1c2VzIHN0YXRpYyBwb3NpdGlvbmluZywgd2Ugd2lsbCB0ZW1wb3JhcmlseVxuICAqIHNldCBpdCdzIHBvc2l0aW9uaW5nIHRvIGByZWxhdGl2ZWAgd2hpbGUgdGhlIHRvYXN0IGlzIHZpc2libGUgYW5kIHJlc2V0IGl0IHdoZW4gdGhlIHRvYXN0IGlzXG4gICogaGlkZGVuLlxuICAqXG4gICogQmVjYXVzZSBvZiB0aGlzLCBpdCBpcyB1c3VhbGx5IGJlc3QgdG8gZW5zdXJlIHRoYXQgdGhlIHBhcmVudCBjb250YWluZXIgaGFzIGEgZml4ZWQgaGVpZ2h0IGFuZFxuICAqIHByZXZlbnRzIHNjcm9sbGluZyBieSBzZXR0aW5nIHRoZSBgb3ZlcmZsb3c6IGhpZGRlbjtgIHN0eWxlLiBTaW5jZSB0aGUgcG9zaXRpb24gaXMgYmFzZWQgb2ZmIG9mXG4gICogdGhlIHBhcmVudCdzIGhlaWdodCwgdGhlIHRvYXN0IG1heSBiZSBtaXNwb3NpdGlvbmVkIGlmIHlvdSBhbGxvdyB0aGUgcGFyZW50IHRvIHNjcm9sbC5cbiAgKlxuICAqIFlvdSBjYW4sIGhvd2V2ZXIsIGhhdmUgYSBzY3JvbGxhYmxlIGVsZW1lbnQgaW5zaWRlIG9mIHRoZSBjb250YWluZXI7IGp1c3QgbWFrZSBzdXJlIHRoZVxuICAqIGNvbnRhaW5lciBpdHNlbGYgZG9lcyBub3Qgc2Nyb2xsLlxuICAqXG4gICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAgKiA8ZGl2IGxheW91dC1maWxsIGlkPVwidG9hc3QtY29udGFpbmVyXCI+XG4gICogICA8bWQtY29udGVudD5cbiAgKiAgICAgSSBjYW4gaGF2ZSBsb3RzIG9mIGNvbnRlbnQgYW5kIHNjcm9sbCFcbiAgKiAgIDwvbWQtY29udGVudD5cbiAgKiA8L2Rpdj5cbiAgKiA8L2hsanM+XG4gICpcbiAgKiBAdXNhZ2VcbiAgKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICAqIDxkaXYgbmctY29udHJvbGxlcj1cIk15Q29udHJvbGxlclwiPlxuICAqICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cIm9wZW5Ub2FzdCgpXCI+XG4gICogICAgIE9wZW4gYSBUb2FzdCFcbiAgKiAgIDwvbWQtYnV0dG9uPlxuICAqIDwvZGl2PlxuICAqIDwvaGxqcz5cbiAgKlxuICAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICAqIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyduZ01hdGVyaWFsJ10pO1xuICAqIGFwcC5jb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRtZFRvYXN0KSB7XG4gICogICAkc2NvcGUub3BlblRvYXN0ID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICogICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkudGV4dENvbnRlbnQoJ0hlbGxvIScpKTtcbiAgKiAgICAgLy8gQ291bGQgYWxzbyBkbyAkbWRUb2FzdC5zaG93U2ltcGxlKCdIZWxsbycpO1xuICAqICAgfTtcbiAgKiB9KTtcbiAgKiA8L2hsanM+XG4gICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kVG9hc3Qjc2hvd1NpbXBsZVxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBkaXNwbGF5IGluc2lkZSB0aGUgdG9hc3RcbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVuaWVuY2UgbWV0aG9kIHdoaWNoIGJ1aWxkcyBhbmQgc2hvd3MgYSBzaW1wbGUgdG9hc3QuXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGNhbiBiZSByZXNvbHZlZCB3aXRoIGAkbWRUb2FzdC5oaWRlKClgIG9yXG4gKiByZWplY3RlZCB3aXRoIGAkbWRUb2FzdC5jYW5jZWwoKWAuXG4gKlxuICovXG5cbiAvKipcbiAgKiBAbmdkb2MgbWV0aG9kXG4gICogQG5hbWUgJG1kVG9hc3Qjc2ltcGxlXG4gICpcbiAgKiBAZGVzY3JpcHRpb25cbiAgKiBCdWlsZHMgYSBwcmVjb25maWd1cmVkIHRvYXN0LlxuICAqXG4gICogQHJldHVybnMge29ian0gYSBgJG1kVG9hc3RQcmVzZXRgIHdpdGggdGhlIGZvbGxvd2luZyBjaGFpbmFibGUgY29uZmlndXJhdGlvbiBtZXRob2RzLlxuICAqXG4gICogXyoqTm90ZToqKiBUaGVzZSBjb25maWd1cmF0aW9uIG1ldGhvZHMgYXJlIHByb3ZpZGVkIGluIGFkZGl0aW9uIHRvIHRoZSBtZXRob2RzIHByb3ZpZGVkIGJ5XG4gICogICB0aGUgYGJ1aWxkKClgIGFuZCBgc2hvdygpYCBtZXRob2RzIGJlbG93Ll9cbiAgKlxuICAqIC0gYC50ZXh0Q29udGVudChzdHJpbmcpYCAtIFNldHMgdGhlIHRvYXN0IGNvbnRlbnQgdG8gdGhlIHNwZWNpZmllZCBzdHJpbmcuXG4gICpcbiAgKiAtIGAuYWN0aW9uKHN0cmluZylgIC0gQWRkcyBhbiBhY3Rpb24gYnV0dG9uLiBJZiBjbGlja2VkLCB0aGUgcHJvbWlzZSAocmV0dXJuZWQgZnJvbSBgc2hvdygpYClcbiAgKiB3aWxsIHJlc29sdmUgd2l0aCB0aGUgdmFsdWUgYCdvaydgOyBvdGhlcndpc2UsIGl0IGlzIHJlc29sdmVkIHdpdGggYHRydWVgIGFmdGVyIGEgYGhpZGVEZWxheWBcbiAgKiB0aW1lb3V0LlxuICAqXG4gICogLSBgLmhpZ2hsaWdodEFjdGlvbihib29sZWFuKWAgLSBXaGV0aGVyIG9yIG5vdCB0aGUgYWN0aW9uIGJ1dHRvbiB3aWxsIGhhdmUgYW4gYWRkaXRpb25hbFxuICAqIGhpZ2hsaWdodCBjbGFzcy5cbiAgKlxuICAqIC0gYC5jYXBzdWxlKGJvb2xlYW4pYCAtIFdoZXRoZXIgb3Igbm90IHRvIGFkZCB0aGUgYG1kLWNhcHN1bGVgIGNsYXNzIHRvIHRoZSB0b2FzdCB0byBwcm92aWRlXG4gICogcm91bmRlZCBjb3JuZXJzLlxuICAqXG4gICogLSBgLnRoZW1lKHN0cmluZylgIC0gU2V0cyB0aGUgdGhlbWUgb24gdGhlIHRvYXN0IHRvIHRoZSByZXF1ZXN0ZWQgdGhlbWUuIERlZmF1bHQgaXNcbiAgKiBgJG1kVGhlbWluZ1Byb3ZpZGVyYCdzIGRlZmF1bHQuXG4gICovXG5cbi8qKlxuICAqIEBuZ2RvYyBtZXRob2RcbiAgKiBAbmFtZSAkbWRUb2FzdCN1cGRhdGVUZXh0Q29udGVudFxuICAqXG4gICogQGRlc2NyaXB0aW9uXG4gICogVXBkYXRlcyB0aGUgY29udGVudCBvZiBhbiBleGlzdGluZyB0b2FzdC4gVXNlZnVsIGZvciB1cGRhdGluZyB0aGluZ3MgbGlrZSBjb3VudHMsIGV0Yy5cbiAgKlxuICAqL1xuXG4gLyoqXG4gICogQG5nZG9jIG1ldGhvZFxuICAqIEBuYW1lICRtZFRvYXN0I2J1aWxkXG4gICpcbiAgKiBAZGVzY3JpcHRpb25cbiAgKiBDcmVhdGVzIGEgY3VzdG9tIGAkbWRUb2FzdFByZXNldGAgdGhhdCB5b3UgY2FuIGNvbmZpZ3VyZS5cbiAgKlxuICAqIEByZXR1cm5zIHtvYmp9IGEgYCRtZFRvYXN0UHJlc2V0YCB3aXRoIHRoZSBjaGFpbmFibGUgY29uZmlndXJhdGlvbiBtZXRob2RzIGZvciBzaG93cycgb3B0aW9ucyAoc2VlIGJlbG93KS5cbiAgKi9cblxuIC8qKlxuICAqIEBuZ2RvYyBtZXRob2RcbiAgKiBAbmFtZSAkbWRUb2FzdCNzaG93XG4gICpcbiAgKiBAZGVzY3JpcHRpb24gU2hvd3MgdGhlIHRvYXN0LlxuICAqXG4gICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNPclByZXNldCBFaXRoZXIgcHJvdmlkZSBhbiBgJG1kVG9hc3RQcmVzZXRgIHJldHVybmVkIGZyb20gYHNpbXBsZSgpYFxuICAqIGFuZCBgYnVpbGQoKWAsIG9yIGFuIG9wdGlvbnMgb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAqXG4gICogICAtIGB0ZW1wbGF0ZVVybGAgLSBge3N0cmluZz19YDogVGhlIHVybCBvZiBhbiBodG1sIHRlbXBsYXRlIGZpbGUgdGhhdCB3aWxsXG4gICogICAgIGJlIHVzZWQgYXMgdGhlIGNvbnRlbnQgb2YgdGhlIHRvYXN0LiBSZXN0cmljdGlvbnM6IHRoZSB0ZW1wbGF0ZSBtdXN0XG4gICogICAgIGhhdmUgYW4gb3V0ZXIgYG1kLXRvYXN0YCBlbGVtZW50LlxuICAqICAgLSBgdGVtcGxhdGVgIC0gYHtzdHJpbmc9fWA6IFNhbWUgYXMgdGVtcGxhdGVVcmwsIGV4Y2VwdCB0aGlzIGlzIGFuIGFjdHVhbFxuICAqICAgICB0ZW1wbGF0ZSBzdHJpbmcuXG4gICogICAtIGBhdXRvV3JhcGAgLSBge2Jvb2xlYW49fWA6IFdoZXRoZXIgb3Igbm90IHRvIGF1dG9tYXRpY2FsbHkgd3JhcCB0aGUgdGVtcGxhdGUgY29udGVudCB3aXRoIGFcbiAgKiAgICAgYDxkaXYgY2xhc3M9XCJtZC10b2FzdC1jb250ZW50XCI+YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLiBEZWZhdWx0cyB0byB0cnVlLiBDYW4gYmUgZGlzYWJsZWQgaWYgeW91IHByb3ZpZGUgYVxuICAqICAgICBjdXN0b20gdG9hc3QgZGlyZWN0aXZlLlxuICAqICAgLSBgc2NvcGVgIC0gYHtvYmplY3Q9fWA6IHRoZSBzY29wZSB0byBsaW5rIHRoZSB0ZW1wbGF0ZSAvIGNvbnRyb2xsZXIgdG8uIElmIG5vbmUgaXMgc3BlY2lmaWVkLCBpdCB3aWxsIGNyZWF0ZSBhIG5ldyBjaGlsZCBzY29wZS5cbiAgKiAgICAgVGhpcyBzY29wZSB3aWxsIGJlIGRlc3Ryb3llZCB3aGVuIHRoZSB0b2FzdCBpcyByZW1vdmVkIHVubGVzcyBgcHJlc2VydmVTY29wZWAgaXMgc2V0IHRvIHRydWUuXG4gICogICAtIGBwcmVzZXJ2ZVNjb3BlYCAtIGB7Ym9vbGVhbj19YDogd2hldGhlciB0byBwcmVzZXJ2ZSB0aGUgc2NvcGUgd2hlbiB0aGUgZWxlbWVudCBpcyByZW1vdmVkLiBEZWZhdWx0IGlzIGZhbHNlXG4gICogICAtIGBoaWRlRGVsYXlgIC0gYHtudW1iZXI9fWA6IEhvdyBtYW55IG1pbGxpc2Vjb25kcyB0aGUgdG9hc3Qgc2hvdWxkIHN0YXlcbiAgKiAgICAgYWN0aXZlIGJlZm9yZSBhdXRvbWF0aWNhbGx5IGNsb3NpbmcuICBTZXQgdG8gMCBvciBmYWxzZSB0byBoYXZlIHRoZSB0b2FzdCBzdGF5IG9wZW4gdW50aWxcbiAgKiAgICAgY2xvc2VkIG1hbnVhbGx5LiBEZWZhdWx0OiAzMDAwLlxuICAqICAgLSBgcG9zaXRpb25gIC0gYHtzdHJpbmc9fWA6IFdoZXJlIHRvIHBsYWNlIHRoZSB0b2FzdC4gQXZhaWxhYmxlOiBhbnkgY29tYmluYXRpb25cbiAgKiAgICAgb2YgJ2JvdHRvbScsICdsZWZ0JywgJ3RvcCcsICdyaWdodCcuIERlZmF1bHQ6ICdib3R0b20gbGVmdCcuXG4gICogICAtIGBjb250cm9sbGVyYCAtIGB7c3RyaW5nPX1gOiBUaGUgY29udHJvbGxlciB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIHRvYXN0LlxuICAqICAgICBUaGUgY29udHJvbGxlciB3aWxsIGJlIGluamVjdGVkIHRoZSBsb2NhbCBgJG1kVG9hc3QuaGlkZSggKWAsIHdoaWNoIGlzIGEgZnVuY3Rpb25cbiAgKiAgICAgdXNlZCB0byBoaWRlIHRoZSB0b2FzdC5cbiAgKiAgIC0gYGxvY2Fsc2AgLSBge3N0cmluZz19YDogQW4gb2JqZWN0IGNvbnRhaW5pbmcga2V5L3ZhbHVlIHBhaXJzLiBUaGUga2V5cyB3aWxsXG4gICogICAgIGJlIHVzZWQgYXMgbmFtZXMgb2YgdmFsdWVzIHRvIGluamVjdCBpbnRvIHRoZSBjb250cm9sbGVyLiBGb3IgZXhhbXBsZSxcbiAgKiAgICAgYGxvY2Fsczoge3RocmVlOiAzfWAgd291bGQgaW5qZWN0IGB0aHJlZWAgaW50byB0aGUgY29udHJvbGxlciB3aXRoIHRoZSB2YWx1ZVxuICAqICAgICBvZiAzLlxuICAqICAgLSBgYmluZFRvQ29udHJvbGxlcmAgLSBgYm9vbGA6IGJpbmQgdGhlIGxvY2FscyB0byB0aGUgY29udHJvbGxlciwgaW5zdGVhZCBvZiBwYXNzaW5nIHRoZW0gaW4uIFRoZXNlIHZhbHVlcyB3aWxsIG5vdCBiZSBhdmFpbGFibGUgdW50aWwgYWZ0ZXIgaW5pdGlhbGl6YXRpb24uXG4gICogICAtIGByZXNvbHZlYCAtIGB7b2JqZWN0PX1gOiBTaW1pbGFyIHRvIGxvY2FscywgZXhjZXB0IGl0IHRha2VzIHByb21pc2VzIGFzIHZhbHVlc1xuICAqICAgICBhbmQgdGhlIHRvYXN0IHdpbGwgbm90IG9wZW4gdW50aWwgdGhlIHByb21pc2VzIHJlc29sdmUuXG4gICogICAtIGBjb250cm9sbGVyQXNgIC0gYHtzdHJpbmc9fWA6IEFuIGFsaWFzIHRvIGFzc2lnbiB0aGUgY29udHJvbGxlciB0byBvbiB0aGUgc2NvcGUuXG4gICogICAtIGBwYXJlbnRgIC0gYHtlbGVtZW50PX1gOiBUaGUgZWxlbWVudCB0byBhcHBlbmQgdGhlIHRvYXN0IHRvLiBEZWZhdWx0cyB0byBhcHBlbmRpbmdcbiAgKiAgICAgdG8gdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgYXBwbGljYXRpb24uXG4gICpcbiAgKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgY2FuIGJlIHJlc29sdmVkIHdpdGggYCRtZFRvYXN0LmhpZGUoKWAgb3JcbiAgKiByZWplY3RlZCB3aXRoIGAkbWRUb2FzdC5jYW5jZWwoKWAuIGAkbWRUb2FzdC5oaWRlKClgIHdpbGwgcmVzb2x2ZSBlaXRoZXIgd2l0aCBhIEJvb2xlYW5cbiAgKiB2YWx1ZSA9PSAndHJ1ZScgb3IgdGhlIHZhbHVlIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byBgJG1kVG9hc3QuaGlkZSgpYC5cbiAgKiBBbmQgYCRtZFRvYXN0LmNhbmNlbCgpYCB3aWxsIHJlc29sdmUgdGhlIHByb21pc2Ugd2l0aCBhIEJvb2xlYW4gdmFsdWUgPT0gJ2ZhbHNlJ1xuICAqL1xuXG4vKipcbiAgKiBAbmdkb2MgbWV0aG9kXG4gICogQG5hbWUgJG1kVG9hc3QjaGlkZVxuICAqXG4gICogQGRlc2NyaXB0aW9uXG4gICogSGlkZSBhbiBleGlzdGluZyB0b2FzdCBhbmQgcmVzb2x2ZSB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGAkbWRUb2FzdC5zaG93KClgLlxuICAqXG4gICogQHBhcmFtIHsqPX0gcmVzcG9uc2UgQW4gYXJndW1lbnQgZm9yIHRoZSByZXNvbHZlZCBwcm9taXNlLlxuICAqXG4gICogQHJldHVybnMge3Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBleGlzdGluZyBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAqIFRoZSBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggZWl0aGVyIGEgQm9vbGVhbiB2YWx1ZSA9PSAndHJ1ZScgb3IgdGhlIHZhbHVlIHBhc3NlZCBhcyB0aGVcbiAgKiBhcmd1bWVudCB0byBgLmhpZGUoKWAuXG4gICpcbiAgKi9cblxuLyoqXG4gICogQG5nZG9jIG1ldGhvZFxuICAqIEBuYW1lICRtZFRvYXN0I2NhbmNlbFxuICAqXG4gICogQGRlc2NyaXB0aW9uXG4gICogYERFUFJFQ0FURURgIC0gVGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbSBvcGVuaW5nIGEgdG9hc3QgaXMgdXNlZCBvbmx5IHRvIG5vdGlmeSBhYm91dCB0aGUgY2xvc2luZyBvZiB0aGUgdG9hc3QuXG4gICogQXMgc3VjaCwgdGhlcmUgaXNuJ3QgYW55IHJlYXNvbiB0byBhbHNvIGFsbG93IHRoYXQgcHJvbWlzZSB0byBiZSByZWplY3RlZCxcbiAgKiBzaW5jZSBpdCdzIG5vdCBjbGVhciB3aGF0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gcmVzb2x2ZSBhbmQgcmVqZWN0IHdvdWxkIGJlLlxuICAqXG4gICogSGlkZSB0aGUgZXhpc3RpbmcgdG9hc3QgYW5kIHJlamVjdCB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tXG4gICogYCRtZFRvYXN0LnNob3coKWAuXG4gICpcbiAgKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlamVjdGVkIHByb21pc2UuXG4gICpcbiAgKiBAcmV0dXJucyB7cHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGV4aXN0aW5nIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET01cbiAgKiBUaGUgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIGEgQm9vbGVhbiB2YWx1ZSA9PSAnZmFsc2UnLlxuICAqXG4gICovXG5cbmZ1bmN0aW9uIE1kVG9hc3RQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcbiAgLy8gRGlmZmVyZW50aWF0ZSBwcm9taXNlIHJlc29sdmVzOiBoaWRlIHRpbWVvdXQgKHZhbHVlID09IHRydWUpIGFuZCBoaWRlIGFjdGlvbiBjbGlja3MgKHZhbHVlID09IG9rKS5cbiAgdmFyIEFDVElPTl9SRVNPTFZFID0gJ29rJztcblxuICB2YXIgYWN0aXZlVG9hc3RDb250ZW50O1xuICB2YXIgJG1kVG9hc3QgPSAkJGludGVyaW1FbGVtZW50UHJvdmlkZXIoJyRtZFRvYXN0JylcbiAgICAuc2V0RGVmYXVsdHMoe1xuICAgICAgbWV0aG9kczogWydwb3NpdGlvbicsICdoaWRlRGVsYXknLCAnY2Fwc3VsZScsICdwYXJlbnQnIF0sXG4gICAgICBvcHRpb25zOiB0b2FzdERlZmF1bHRPcHRpb25zXG4gICAgfSlcbiAgICAuYWRkUHJlc2V0KCdzaW1wbGUnLCB7XG4gICAgICBhcmdPcHRpb246ICd0ZXh0Q29udGVudCcsXG4gICAgICBtZXRob2RzOiBbJ3RleHRDb250ZW50JywgJ2NvbnRlbnQnLCAnYWN0aW9uJywgJ2hpZ2hsaWdodEFjdGlvbicsICd0aGVtZScsICdwYXJlbnQnXSxcbiAgICAgIG9wdGlvbnM6IC8qIEBuZ0luamVjdCAqLyBbXCIkbWRUb2FzdFwiLCBcIiRtZFRoZW1pbmdcIiwgZnVuY3Rpb24oJG1kVG9hc3QsICRtZFRoZW1pbmcpIHtcbiAgICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgICAgdGVtcGxhdGU6XG4gICAgICAgICAgICAnPG1kLXRvYXN0IG1kLXRoZW1lPVwie3sgdG9hc3QudGhlbWUgfX1cIiBuZy1jbGFzcz1cIntcXCdtZC1jYXBzdWxlXFwnOiB0b2FzdC5jYXBzdWxlfVwiPicgK1xuICAgICAgICAgICAgJyAgPGRpdiBjbGFzcz1cIm1kLXRvYXN0LWNvbnRlbnRcIj4nICtcbiAgICAgICAgICAgICcgICAgPHNwYW4gZmxleCByb2xlPVwiYWxlcnRcIiBhcmlhLXJlbGV2YW50PVwiYWxsXCIgYXJpYS1hdG9taWM9XCJ0cnVlXCI+JyArXG4gICAgICAgICAgICAnICAgICAge3sgdG9hc3QuY29udGVudCB9fScgK1xuICAgICAgICAgICAgJyAgICA8L3NwYW4+JyArXG4gICAgICAgICAgICAnICAgIDxtZC1idXR0b24gY2xhc3M9XCJtZC1hY3Rpb25cIiBuZy1pZj1cInRvYXN0LmFjdGlvblwiIG5nLWNsaWNrPVwidG9hc3QucmVzb2x2ZSgpXCIgbmctY2xhc3M9XCJ7XFwnbWQtaGlnaGxpZ2h0XFwnOiB0b2FzdC5oaWdobGlnaHRBY3Rpb259XCI+JyArXG4gICAgICAgICAgICAnICAgICAge3sgdG9hc3QuYWN0aW9uIH19JyArXG4gICAgICAgICAgICAnICAgIDwvbWQtYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgPC9kaXY+JyArXG4gICAgICAgICAgICAnPC9tZC10b2FzdD4nLFxuICAgICAgICAgIGNvbnRyb2xsZXI6IC8qIEBuZ0luamVjdCAqLyBbXCIkc2NvcGVcIiwgZnVuY3Rpb24gbWRUb2FzdEN0cmwoJHNjb3BlKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkgeyByZXR1cm4gYWN0aXZlVG9hc3RDb250ZW50OyB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2VsZi5jb250ZW50ID0gYWN0aXZlVG9hc3RDb250ZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJG1kVG9hc3QuaGlkZSggQUNUSU9OX1JFU09MVkUgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfV0sXG4gICAgICAgICAgdGhlbWU6ICRtZFRoZW1pbmcuZGVmYXVsdFRoZW1lKCksXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndG9hc3QnLFxuICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgICB9XVxuICAgIH0pXG4gICAgLmFkZE1ldGhvZCgndXBkYXRlVGV4dENvbnRlbnQnLCB1cGRhdGVUZXh0Q29udGVudClcbiAgICAuYWRkTWV0aG9kKCd1cGRhdGVDb250ZW50JywgdXBkYXRlVGV4dENvbnRlbnQpO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlVGV4dENvbnRlbnQobmV3Q29udGVudCkge1xuICAgICAgYWN0aXZlVG9hc3RDb250ZW50ID0gbmV3Q29udGVudDtcbiAgICB9XG5cbiAgdG9hc3REZWZhdWx0T3B0aW9ucy4kaW5qZWN0ID0gW1wiJGFuaW1hdGVcIiwgXCIkbWRUb2FzdFwiLCBcIiRtZFV0aWxcIiwgXCIkbWRNZWRpYVwiXTtcbiAgICByZXR1cm4gJG1kVG9hc3Q7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIHRvYXN0RGVmYXVsdE9wdGlvbnMoJGFuaW1hdGUsICRtZFRvYXN0LCAkbWRVdGlsLCAkbWRNZWRpYSkge1xuICAgIHZhciBTV0lQRV9FVkVOVFMgPSAnJG1kLnN3aXBlbGVmdCAkbWQuc3dpcGVyaWdodCAkbWQuc3dpcGV1cCAkbWQuc3dpcGVkb3duJztcbiAgICByZXR1cm4ge1xuICAgICAgb25TaG93OiBvblNob3csXG4gICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICBwb3NpdGlvbjogJ2JvdHRvbSBsZWZ0JyxcbiAgICAgIHRoZW1hYmxlOiB0cnVlLFxuICAgICAgaGlkZURlbGF5OiAzMDAwLFxuICAgICAgYXV0b1dyYXA6IHRydWUsXG4gICAgICB0cmFuc2Zvcm1UZW1wbGF0ZTogZnVuY3Rpb24odGVtcGxhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNob3VsZEFkZFdyYXBwZXIgPSBvcHRpb25zLmF1dG9XcmFwICYmIHRlbXBsYXRlICYmICEvbWQtdG9hc3QtY29udGVudC9nLnRlc3QodGVtcGxhdGUpO1xuXG4gICAgICAgIGlmIChzaG91bGRBZGRXcmFwcGVyKSB7XG4gICAgICAgICAgLy8gUm9vdCBlbGVtZW50IG9mIHRlbXBsYXRlIHdpbGwgYmUgPG1kLXRvYXN0Pi4gV2UgbmVlZCB0byB3cmFwIGFsbCBvZiBpdHMgY29udGVudCBpbnNpZGUgb2ZcbiAgICAgICAgICAvLyBvZiA8ZGl2IGNsYXNzPVwibWQtdG9hc3QtY29udGVudFwiPi4gQWxsIHRlbXBsYXRlcyBwcm92aWRlZCBoZXJlIHNob3VsZCBiZSBzdGF0aWMsIGRldmVsb3Blci1jb250cm9sbGVkXG4gICAgICAgICAgLy8gY29udGVudCAobWVhbmluZyB3ZSdyZSBub3QgYXR0ZW1wdGluZyB0byBndWFyZCBhZ2FpbnN0IFhTUykuXG4gICAgICAgICAgdmFyIHBhcnNlZFRlbXBsYXRlID0gYW5ndWxhci5lbGVtZW50KHRlbXBsYXRlKTtcbiAgICAgICAgICB2YXIgd3JhcHBlZENvbnRlbnQgPSAnPGRpdiBjbGFzcz1cIm1kLXRvYXN0LWNvbnRlbnRcIj4nICsgcGFyc2VkVGVtcGxhdGUuaHRtbCgpICsgJzwvZGl2Pic7XG5cbiAgICAgICAgICBwYXJzZWRUZW1wbGF0ZS5lbXB0eSgpLmFwcGVuZCh3cmFwcGVkQ29udGVudCk7XG5cbiAgICAgICAgICAvLyBVbmRlcmx5aW5nIGludGVyaW1FbGVtZW50IGV4cGVjdHMgYSB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAgICAgICAgcmV0dXJuIHBhcnNlZFRlbXBsYXRlWzBdLm91dGVySFRNTDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaG91bGRBZGRXcmFwcGVyID9cbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtdG9hc3QtY29udGVudFwiPicgKyB0ZW1wbGF0ZSArICc8L2Rpdj4nIDpcbiAgICAgICAgICAgIHRlbXBsYXRlIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvblNob3coc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIGFjdGl2ZVRvYXN0Q29udGVudCA9IG9wdGlvbnMudGV4dENvbnRlbnQgfHwgb3B0aW9ucy5jb250ZW50OyAvLyBzdXBwb3J0IGRlcHJlY2F0ZWQgI2NvbnRlbnQgbWV0aG9kXG5cbiAgICAgIHZhciBpc1NtU2NyZWVuID0gISRtZE1lZGlhKCdndC1zbScpO1xuXG4gICAgICBlbGVtZW50ID0gJG1kVXRpbC5leHRyYWN0RWxlbWVudEJ5TmFtZShlbGVtZW50LCAnbWQtdG9hc3QnLCB0cnVlKTtcbiAgICAgIG9wdGlvbnMub25Td2lwZSA9IGZ1bmN0aW9uKGV2LCBnZXN0dXJlKSB7XG4gICAgICAgIC8vQWRkIHRoZSByZWxldmFudCBzd2lwZSBjbGFzcyB0byB0aGUgZWxlbWVudCBzbyBpdCBjYW4gYW5pbWF0ZSBjb3JyZWN0bHlcbiAgICAgICAgdmFyIHN3aXBlID0gZXYudHlwZS5yZXBsYWNlKCckbWQuJywnJyk7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBzd2lwZS5yZXBsYWNlKCdzd2lwZScsICcnKTtcblxuICAgICAgICAvLyBJZiB0aGUgc3dpcGUgZGlyZWN0aW9uIGlzIGRvd24vdXAgYnV0IHRoZSB0b2FzdCBjYW1lIGZyb20gdG9wL2JvdHRvbSBkb24ndCBmYWRlIGF3YXlcbiAgICAgICAgLy8gVW5sZXNzIHRoZSBzY3JlZW4gaXMgc21hbGwsIHRoZW4gdGhlIHRvYXN0IGFsd2F5cyBvbiBib3R0b21cbiAgICAgICAgaWYgKChkaXJlY3Rpb24gPT09ICdkb3duJyAmJiBvcHRpb25zLnBvc2l0aW9uLmluZGV4T2YoJ3RvcCcpICE9IC0xICYmICFpc1NtU2NyZWVuKSB8fFxuICAgICAgICAgICAgKGRpcmVjdGlvbiA9PT0gJ3VwJyAmJiAob3B0aW9ucy5wb3NpdGlvbi5pbmRleE9mKCdib3R0b20nKSAhPSAtMSB8fCBpc1NtU2NyZWVuKSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKGRpcmVjdGlvbiA9PT0gJ2xlZnQnIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JykgJiYgaXNTbVNjcmVlbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLScgKyBzd2lwZSk7XG4gICAgICAgICRtZFV0aWwubmV4dFRpY2soJG1kVG9hc3QuY2FuY2VsKTtcbiAgICAgIH07XG4gICAgICBvcHRpb25zLm9wZW5DbGFzcyA9IHRvYXN0T3BlbkNsYXNzKG9wdGlvbnMucG9zaXRpb24pO1xuXG5cbiAgICAgIC8vICd0b3AgbGVmdCcgLT4gJ21kLXRvcCBtZC1sZWZ0J1xuICAgICAgb3B0aW9ucy5wYXJlbnQuYWRkQ2xhc3Mob3B0aW9ucy5vcGVuQ2xhc3MpO1xuXG4gICAgICAvLyBzdGF0aWMgaXMgdGhlIGRlZmF1bHQgcG9zaXRpb25cbiAgICAgIGlmICgkbWRVdGlsLmhhc0NvbXB1dGVkU3R5bGUob3B0aW9ucy5wYXJlbnQsICdwb3NpdGlvbicsICdzdGF0aWMnKSkge1xuICAgICAgICBvcHRpb25zLnBhcmVudC5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQub24oU1dJUEVfRVZFTlRTLCBvcHRpb25zLm9uU3dpcGUpO1xuICAgICAgZWxlbWVudC5hZGRDbGFzcyhpc1NtU2NyZWVuID8gJ21kLWJvdHRvbScgOiBvcHRpb25zLnBvc2l0aW9uLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uKHBvcykge1xuICAgICAgICByZXR1cm4gJ21kLScgKyBwb3M7XG4gICAgICB9KS5qb2luKCcgJykpO1xuXG4gICAgICBpZiAob3B0aW9ucy5wYXJlbnQpIG9wdGlvbnMucGFyZW50LmFkZENsYXNzKCdtZC10b2FzdC1hbmltYXRpbmcnKTtcbiAgICAgIHJldHVybiAkYW5pbWF0ZS5lbnRlcihlbGVtZW50LCBvcHRpb25zLnBhcmVudCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMucGFyZW50KSBvcHRpb25zLnBhcmVudC5yZW1vdmVDbGFzcygnbWQtdG9hc3QtYW5pbWF0aW5nJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblJlbW92ZShzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgZWxlbWVudC5vZmYoU1dJUEVfRVZFTlRTLCBvcHRpb25zLm9uU3dpcGUpO1xuICAgICAgaWYgKG9wdGlvbnMucGFyZW50KSBvcHRpb25zLnBhcmVudC5hZGRDbGFzcygnbWQtdG9hc3QtYW5pbWF0aW5nJyk7XG4gICAgICBpZiAob3B0aW9ucy5vcGVuQ2xhc3MpIG9wdGlvbnMucGFyZW50LnJlbW92ZUNsYXNzKG9wdGlvbnMub3BlbkNsYXNzKTtcblxuICAgICAgcmV0dXJuICgob3B0aW9ucy4kZGVzdHJveSA9PSB0cnVlKSA/IGVsZW1lbnQucmVtb3ZlKCkgOiAkYW5pbWF0ZS5sZWF2ZShlbGVtZW50KSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvcHRpb25zLnBhcmVudCkgb3B0aW9ucy5wYXJlbnQucmVtb3ZlQ2xhc3MoJ21kLXRvYXN0LWFuaW1hdGluZycpO1xuICAgICAgICAgIGlmICgkbWRVdGlsLmhhc0NvbXB1dGVkU3R5bGUob3B0aW9ucy5wYXJlbnQsICdwb3NpdGlvbicsICdzdGF0aWMnKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5wYXJlbnQuY3NzKCdwb3NpdGlvbicsICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvYXN0T3BlbkNsYXNzKHBvc2l0aW9uKSB7XG4gICAgICBpZiAoISRtZE1lZGlhKCdndC1zbScpKSB7XG4gICAgICAgIHJldHVybiAnbWQtdG9hc3Qtb3Blbi1ib3R0b20nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJ21kLXRvYXN0LW9wZW4tJyArXG4gICAgICAgIChwb3NpdGlvbi5pbmRleE9mKCd0b3AnKSA+IC0xID8gJ3RvcCcgOiAnYm90dG9tJyk7XG4gICAgfVxuICB9XG5cbn1cbk1kVG9hc3RQcm92aWRlci4kaW5qZWN0ID0gW1wiJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvb2xiYXJcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudG9vbGJhcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5jb250ZW50J1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRUb29sYmFyJywgbWRUb29sYmFyRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFRvb2xiYXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy50b29sYmFyXG4gKiBAcmVzdHJpY3QgRVxuICogQGRlc2NyaXB0aW9uXG4gKiBgbWQtdG9vbGJhcmAgaXMgdXNlZCB0byBwbGFjZSBhIHRvb2xiYXIgaW4geW91ciBhcHAuXG4gKlxuICogVG9vbGJhcnMgYXJlIHVzdWFsbHkgdXNlZCBhYm92ZSBhIGNvbnRlbnQgYXJlYSB0byBkaXNwbGF5IHRoZSB0aXRsZSBvZiB0aGVcbiAqIGN1cnJlbnQgcGFnZSwgYW5kIHNob3cgcmVsZXZhbnQgYWN0aW9uIGJ1dHRvbnMgZm9yIHRoYXQgcGFnZS5cbiAqXG4gKiBZb3UgY2FuIGNoYW5nZSB0aGUgaGVpZ2h0IG9mIHRoZSB0b29sYmFyIGJ5IGFkZGluZyBlaXRoZXIgdGhlXG4gKiBgbWQtbWVkaXVtLXRhbGxgIG9yIGBtZC10YWxsYCBjbGFzcyB0byB0aGUgdG9vbGJhci5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8ZGl2IGxheW91dD1cImNvbHVtblwiIGxheW91dC1maWxsPlxuICogICA8bWQtdG9vbGJhcj5cbiAqXG4gKiAgICAgPGRpdiBjbGFzcz1cIm1kLXRvb2xiYXItdG9vbHNcIj5cbiAqICAgICAgIDxzcGFuPk15IEFwcCdzIFRpdGxlPC9zcGFuPlxuICpcbiAqICAgICAgIDwhLS0gZmlsbCB1cCB0aGUgc3BhY2UgYmV0d2VlbiBsZWZ0IGFuZCByaWdodCBhcmVhIC0tPlxuICogICAgICAgPHNwYW4gZmxleD48L3NwYW4+XG4gKlxuICogICAgICAgPG1kLWJ1dHRvbj5cbiAqICAgICAgICAgUmlnaHQgQmFyIEJ1dHRvblxuICogICAgICAgPC9tZC1idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKlxuICogICA8L21kLXRvb2xiYXI+XG4gKiAgIDxtZC1jb250ZW50PlxuICogICAgIEhlbGxvIVxuICogICA8L21kLWNvbnRlbnQ+XG4gKiA8L2Rpdj5cbiAqIDwvaGxqcz5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1zY3JvbGwtc2hyaW5rIFdoZXRoZXIgdGhlIGhlYWRlciBzaG91bGQgc2hyaW5rIGF3YXkgYXNcbiAqIHRoZSB1c2VyIHNjcm9sbHMgZG93biwgYW5kIHJldmVhbCBpdHNlbGYgYXMgdGhlIHVzZXIgc2Nyb2xscyB1cC5cbiAqXG4gKiBfKipOb3RlICgxKToqKiBmb3Igc2Nyb2xsU2hyaW5rIHRvIHdvcmssIHRoZSB0b29sYmFyIG11c3QgYmUgYSBzaWJsaW5nIG9mIGFcbiAqIGBtZC1jb250ZW50YCBlbGVtZW50LCBwbGFjZWQgYmVmb3JlIGl0LiBTZWUgdGhlIHNjcm9sbCBzaHJpbmsgZGVtby5fXG4gKlxuICogXyoqTm90ZSAoMik6KiogVGhlIGBtZC1zY3JvbGwtc2hyaW5rYCBhdHRyaWJ1dGUgaXMgb25seSBwYXJzZWQgb24gY29tcG9uZW50XG4gKiBpbml0aWFsaXphdGlvbiwgaXQgZG9lcyBub3Qgd2F0Y2ggZm9yIHNjb3BlIGNoYW5nZXMuX1xuICpcbiAqXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLXNocmluay1zcGVlZC1mYWN0b3IgSG93IG11Y2ggdG8gY2hhbmdlIHRoZSBzcGVlZCBvZiB0aGUgdG9vbGJhcidzXG4gKiBzaHJpbmtpbmcgYnkuIEZvciBleGFtcGxlLCBpZiAwLjI1IGlzIGdpdmVuIHRoZW4gdGhlIHRvb2xiYXIgd2lsbCBzaHJpbmtcbiAqIGF0IG9uZSBmb3VydGggdGhlIHJhdGUgYXQgd2hpY2ggdGhlIHVzZXIgc2Nyb2xscyBkb3duLiBEZWZhdWx0IDAuNS5cbiAqL1xuXG5mdW5jdGlvbiBtZFRvb2xiYXJEaXJlY3RpdmUoJCRyQUYsICRtZENvbnN0YW50LCAkbWRVdGlsLCAkbWRUaGVtaW5nLCAkYW5pbWF0ZSkge1xuICB2YXIgdHJhbnNsYXRlWSA9IGFuZ3VsYXIuYmluZChudWxsLCAkbWRVdGlsLnN1cHBsYW50LCAndHJhbnNsYXRlM2QoMCx7MH1weCwwKScpO1xuXG4gIHJldHVybiB7XG4gICAgdGVtcGxhdGU6ICcnLFxuXG4gICAgcmVzdHJpY3Q6ICdFJyxcblxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG5cbiAgICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm1kU2Nyb2xsU2hyaW5rKSkge1xuICAgICAgICBzZXR1cFNjcm9sbFNocmluaygpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXR1cFNjcm9sbFNocmluaygpIHtcblxuICAgICAgICB2YXIgdG9vbGJhckhlaWdodDtcbiAgICAgICAgdmFyIGNvbnRlbnRFbGVtZW50O1xuICAgICAgICB2YXIgZGlzYWJsZVNjcm9sbFNocmluayA9IGFuZ3VsYXIubm9vcDtcblxuICAgICAgICAvLyBDdXJyZW50IFwieVwiIHBvc2l0aW9uIG9mIHNjcm9sbFxuICAgICAgICAvLyBTdG9yZSB0aGUgbGFzdCBzY3JvbGwgdG9wIHBvc2l0aW9uXG4gICAgICAgIHZhciB5ID0gMDtcbiAgICAgICAgdmFyIHByZXZTY3JvbGxUb3AgPSAwO1xuICAgICAgICB2YXIgc2hyaW5rU3BlZWRGYWN0b3IgPSBhdHRyLm1kU2hyaW5rU3BlZWRGYWN0b3IgfHwgMC41O1xuXG4gICAgICAgIHZhciBkZWJvdW5jZWRDb250ZW50U2Nyb2xsID0gJCRyQUYudGhyb3R0bGUob25Db250ZW50U2Nyb2xsKTtcbiAgICAgICAgdmFyIGRlYm91bmNlZFVwZGF0ZUhlaWdodCA9ICRtZFV0aWwuZGVib3VuY2UodXBkYXRlVG9vbGJhckhlaWdodCwgNSAqIDEwMDApO1xuXG4gICAgICAgIC8vIFdhaXQgZm9yICRtZENvbnRlbnRMb2FkZWQgZXZlbnQgZnJvbSBtZENvbnRlbnQgZGlyZWN0aXZlLlxuICAgICAgICAvLyBJZiB0aGUgbWRDb250ZW50IGVsZW1lbnQgaXMgYSBzaWJsaW5nIG9mIG91ciB0b29sYmFyLCBob29rIGl0IHVwXG4gICAgICAgIC8vIHRvIHNjcm9sbCBldmVudHMuXG5cbiAgICAgICAgc2NvcGUuJG9uKCckbWRDb250ZW50TG9hZGVkJywgb25NZENvbnRlbnRMb2FkKTtcblxuICAgICAgICAvLyBJZiB0aGUgdG9vbGJhciBpcyB1c2VkIGluc2lkZSBhbiBuZy1pZiBzdGF0ZW1lbnQsIHdlIG1heSBtaXNzIHRoZVxuICAgICAgICAvLyAkbWRDb250ZW50TG9hZGVkIGV2ZW50LCBzbyB3ZSBhdHRlbXB0IHRvIGZha2UgaXQgaWYgd2UgaGF2ZSBhXG4gICAgICAgIC8vIG1kLWNvbnRlbnQgY2xvc2UgZW5vdWdoLlxuXG4gICAgICAgIGF0dHIuJG9ic2VydmUoJ21kU2Nyb2xsU2hyaW5rJywgb25DaGFuZ2VTY3JvbGxTaHJpbmspO1xuXG4gICAgICAgIC8vIElmIHRoZSB0b29sYmFyIGhhcyBuZ1Nob3cgb3IgbmdIaWRlIHdlIG5lZWQgdG8gdXBkYXRlIGhlaWdodCBpbW1lZGlhdGVseSBhcyBpdCBjaGFuZ2VkXG4gICAgICAgIC8vIGFuZCBub3Qgd2FpdCBmb3IgJG1kVXRpbC5kZWJvdW5jZSB0byBoYXBwZW5cblxuICAgICAgICBpZiAoYXR0ci5uZ1Nob3cpIHsgc2NvcGUuJHdhdGNoKGF0dHIubmdTaG93LCB1cGRhdGVUb29sYmFySGVpZ2h0KTsgfVxuICAgICAgICBpZiAoYXR0ci5uZ0hpZGUpIHsgc2NvcGUuJHdhdGNoKGF0dHIubmdIaWRlLCB1cGRhdGVUb29sYmFySGVpZ2h0KTsgfVxuXG4gICAgICAgIC8vIElmIHRoZSBzY29wZSBpcyBkZXN0cm95ZWQgKHdoaWNoIGNvdWxkIGhhcHBlbiB3aXRoIG5nLWlmKSwgbWFrZSBzdXJlXG4gICAgICAgIC8vIHRvIGRpc2FibGUgc2Nyb2xsIHNocmlua2luZyBhZ2FpblxuXG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBkaXNhYmxlU2Nyb2xsU2hyaW5rKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG9uQ2hhbmdlU2Nyb2xsU2hyaW5rKHNocmlua1dpdGhTY3JvbGwpIHtcbiAgICAgICAgICB2YXIgY2xvc2VzdENvbnRlbnQgPSBlbGVtZW50LnBhcmVudCgpLmZpbmQoJ21kLWNvbnRlbnQnKTtcblxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBjb250ZW50IGVsZW1lbnQsIGZha2UgdGhlIGNhbGw7IHRoaXMgbWlnaHQgc3RpbGwgZmFpbFxuICAgICAgICAgIC8vIGlmIHRoZSBjb250ZW50IGVsZW1lbnQgaXNuJ3QgYSBzaWJsaW5nIG9mIHRoZSB0b29sYmFyXG5cbiAgICAgICAgICBpZiAoIWNvbnRlbnRFbGVtZW50ICYmIGNsb3Nlc3RDb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgb25NZENvbnRlbnRMb2FkKG51bGwsIGNsb3Nlc3RDb250ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBFdmFsdWF0ZSB0aGUgZXhwcmVzc2lvblxuICAgICAgICAgIHNocmlua1dpdGhTY3JvbGwgPSBzY29wZS4kZXZhbChzaHJpbmtXaXRoU2Nyb2xsKTtcblxuICAgICAgICAgIC8vIERpc2FibGUgb25seSBpZiB0aGUgYXR0cmlidXRlJ3MgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gZmFsc2VcbiAgICAgICAgICBpZiAoc2hyaW5rV2l0aFNjcm9sbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRpc2FibGVTY3JvbGxTaHJpbmsoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlzYWJsZVNjcm9sbFNocmluayA9IGVuYWJsZVNjcm9sbFNocmluaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gb25NZENvbnRlbnRMb2FkKCRldmVudCwgbmV3Q29udGVudEVsKSB7XG4gICAgICAgICAgLy8gVG9vbGJhciBhbmQgY29udGVudCBtdXN0IGJlIHNpYmxpbmdzXG4gICAgICAgICAgaWYgKG5ld0NvbnRlbnRFbCAmJiBlbGVtZW50LnBhcmVudCgpWzBdID09PSBuZXdDb250ZW50RWwucGFyZW50KClbMF0pIHtcbiAgICAgICAgICAgIC8vIHVuaG9vayBvbGQgY29udGVudCBldmVudCBsaXN0ZW5lciBpZiBleGlzdHNcbiAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICBjb250ZW50RWxlbWVudC5vZmYoJ3Njcm9sbCcsIGRlYm91bmNlZENvbnRlbnRTY3JvbGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZW50RWxlbWVudCA9IG5ld0NvbnRlbnRFbDtcbiAgICAgICAgICAgIGRpc2FibGVTY3JvbGxTaHJpbmsgPSBlbmFibGVTY3JvbGxTaHJpbmsoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG9uQ29udGVudFNjcm9sbChlKSB7XG4gICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IGUgPyBlLnRhcmdldC5zY3JvbGxUb3AgOiBwcmV2U2Nyb2xsVG9wO1xuXG4gICAgICAgICAgZGVib3VuY2VkVXBkYXRlSGVpZ2h0KCk7XG5cbiAgICAgICAgICB5ID0gTWF0aC5taW4oXG4gICAgICAgICAgICB0b29sYmFySGVpZ2h0IC8gc2hyaW5rU3BlZWRGYWN0b3IsXG4gICAgICAgICAgICBNYXRoLm1heCgwLCB5ICsgc2Nyb2xsVG9wIC0gcHJldlNjcm9sbFRvcClcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgZWxlbWVudC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgdHJhbnNsYXRlWShbLXkgKiBzaHJpbmtTcGVlZEZhY3Rvcl0pKTtcbiAgICAgICAgICBjb250ZW50RWxlbWVudC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgdHJhbnNsYXRlWShbKHRvb2xiYXJIZWlnaHQgLSB5KSAqIHNocmlua1NwZWVkRmFjdG9yXSkpO1xuXG4gICAgICAgICAgcHJldlNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcblxuICAgICAgICAgICRtZFV0aWwubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaGFzV2hpdGVGcmFtZSA9IGVsZW1lbnQuaGFzQ2xhc3MoJ21kLXdoaXRlZnJhbWUtejEnKTtcblxuICAgICAgICAgICAgaWYgKGhhc1doaXRlRnJhbWUgJiYgIXkpIHtcbiAgICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgJ21kLXdoaXRlZnJhbWUtejEnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWhhc1doaXRlRnJhbWUgJiYgeSkge1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnbWQtd2hpdGVmcmFtZS16MScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGVuYWJsZVNjcm9sbFNocmluaygpIHtcbiAgICAgICAgICBpZiAoIWNvbnRlbnRFbGVtZW50KSAgICAgcmV0dXJuIGFuZ3VsYXIubm9vcDsgICAgICAgICAgIC8vIG5vIG1kLWNvbnRlbnRcblxuICAgICAgICAgIGNvbnRlbnRFbGVtZW50Lm9uKCdzY3JvbGwnLCBkZWJvdW5jZWRDb250ZW50U2Nyb2xsKTtcbiAgICAgICAgICBjb250ZW50RWxlbWVudC5hdHRyKCdzY3JvbGwtc2hyaW5rJywgJ3RydWUnKTtcblxuICAgICAgICAgICQkckFGKHVwZGF0ZVRvb2xiYXJIZWlnaHQpO1xuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRpc2FibGVTY3JvbGxTaHJpbmsoKSB7XG4gICAgICAgICAgICBjb250ZW50RWxlbWVudC5vZmYoJ3Njcm9sbCcsIGRlYm91bmNlZENvbnRlbnRTY3JvbGwpO1xuICAgICAgICAgICAgY29udGVudEVsZW1lbnQuYXR0cignc2Nyb2xsLXNocmluaycsICdmYWxzZScpO1xuXG4gICAgICAgICAgICAkJHJBRih1cGRhdGVUb29sYmFySGVpZ2h0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRvb2xiYXJIZWlnaHQoKSB7XG4gICAgICAgICAgdG9vbGJhckhlaWdodCA9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICAgICAgLy8gQWRkIGEgbmVnYXRpdmUgbWFyZ2luLXRvcCB0aGUgc2l6ZSBvZiB0aGUgdG9vbGJhciB0byB0aGUgY29udGVudCBlbC5cbiAgICAgICAgICAvLyBUaGUgY29udGVudCB3aWxsIHN0YXJ0IHRyYW5zZm9ybWVkIGRvd24gdGhlIHRvb2xiYXJIZWlnaHQgYW1vdW50LFxuICAgICAgICAgIC8vIHNvIGV2ZXJ5dGhpbmcgbG9va3Mgbm9ybWFsLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gQXMgdGhlIHVzZXIgc2Nyb2xscyBkb3duLCB0aGUgY29udGVudCB3aWxsIGJlIHRyYW5zZm9ybWVkIHVwIHNsb3dseVxuICAgICAgICAgIC8vIHRvIHB1dCB0aGUgY29udGVudCB1bmRlcm5lYXRoIHdoZXJlIHRoZSB0b29sYmFyIHdhcy5cbiAgICAgICAgICB2YXIgbWFyZ2luID0gKC10b29sYmFySGVpZ2h0ICogc2hyaW5rU3BlZWRGYWN0b3IpICsgJ3B4JztcblxuICAgICAgICAgIGNvbnRlbnRFbGVtZW50LmNzcyh7XG4gICAgICAgICAgICBcIm1hcmdpbi10b3BcIjogbWFyZ2luLFxuICAgICAgICAgICAgXCJtYXJnaW4tYm90dG9tXCI6IG1hcmdpblxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgb25Db250ZW50U2Nyb2xsKCk7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgfVxuICB9O1xuXG59XG5tZFRvb2xiYXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiQkckFGXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRVdGlsXCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRhbmltYXRlXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvb2x0aXBcbiAqL1xuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudG9vbHRpcCcsIFsgJ21hdGVyaWFsLmNvcmUnIF0pXG4gICAgLmRpcmVjdGl2ZSgnbWRUb29sdGlwJywgTWRUb29sdGlwRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFRvb2x0aXBcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy50b29sdGlwXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRvb2x0aXBzIGFyZSB1c2VkIHRvIGRlc2NyaWJlIGVsZW1lbnRzIHRoYXQgYXJlIGludGVyYWN0aXZlIGFuZCBwcmltYXJpbHkgZ3JhcGhpY2FsIChub3QgdGV4dHVhbCkuXG4gKlxuICogUGxhY2UgYSBgPG1kLXRvb2x0aXA+YCBhcyBhIGNoaWxkIG9mIHRoZSBlbGVtZW50IGl0IGRlc2NyaWJlcy5cbiAqXG4gKiBBIHRvb2x0aXAgd2lsbCBhY3RpdmF0ZSB3aGVuIHRoZSB1c2VyIGZvY3VzZXMsIGhvdmVycyBvdmVyLCBvciB0b3VjaGVzIHRoZSBwYXJlbnQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLWZhYiBtZC1hY2NlbnRcIiBhcmlhLWxhYmVsPVwiUGxheVwiPlxuICogICA8bWQtdG9vbHRpcD5cbiAqICAgICBQbGF5IE11c2ljXG4gKiAgIDwvbWQtdG9vbHRpcD5cbiAqICAgPG1kLWljb24gaWNvbj1cImltZy9pY29ucy9pY19wbGF5X2Fycm93XzI0cHguc3ZnXCI+PC9tZC1pY29uPlxuICogPC9tZC1idXR0b24+XG4gKiA8L2hsanM+XG4gKlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtdmlzaWJsZSBCb29sZWFuIGJvdW5kIHRvIHdoZXRoZXIgdGhlIHRvb2x0aXAgaXMgY3VycmVudGx5IHZpc2libGUuXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLWRlbGF5IEhvdyBtYW55IG1pbGxpc2Vjb25kcyB0byB3YWl0IHRvIHNob3cgdGhlIHRvb2x0aXAgYWZ0ZXIgdGhlIHVzZXIgZm9jdXNlcywgaG92ZXJzLCBvciB0b3VjaGVzIHRoZSBwYXJlbnQuIERlZmF1bHRzIHRvIDMwMG1zLlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtYXV0b2hpZGUgSWYgcHJlc2VudCBvciBwcm92aWRlZCB3aXRoIGEgYm9vbGVhbiB2YWx1ZSwgdGhlIHRvb2x0aXAgd2lsbCBoaWRlIG9uIG1vdXNlIGxlYXZlLCByZWdhcmRsZXNzIG9mIGZvY3VzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLWRpcmVjdGlvbiBXaGljaCBkaXJlY3Rpb24gd291bGQgeW91IGxpa2UgdGhlIHRvb2x0aXAgdG8gZ28/ICBTdXBwb3J0cyBsZWZ0LCByaWdodCwgdG9wLCBhbmQgYm90dG9tLiAgRGVmYXVsdHMgdG8gYm90dG9tLlxuICovXG5mdW5jdGlvbiBNZFRvb2x0aXBEaXJlY3RpdmUoJHRpbWVvdXQsICR3aW5kb3csICQkckFGLCAkZG9jdW1lbnQsICRtZFV0aWwsICRtZFRoZW1pbmcsICRyb290RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW5pbWF0ZSwgJHEpIHtcblxuICB2YXIgVE9PTFRJUF9TSE9XX0RFTEFZID0gMDtcbiAgdmFyIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UgPSA4O1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHByaW9yaXR5OjIxMCwgLy8gQmVmb3JlIG5nQXJpYVxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1kLWNvbnRlbnRcIiBuZy10cmFuc2NsdWRlPjwvZGl2PicsXG4gICAgc2NvcGU6IHtcbiAgICAgIGRlbGF5OiAnPT9tZERlbGF5JyxcbiAgICAgIHZpc2libGU6ICc9P21kVmlzaWJsZScsXG4gICAgICBhdXRvaGlkZTogJz0/bWRBdXRvaGlkZScsXG4gICAgICBkaXJlY3Rpb246ICdAP21kRGlyZWN0aW9uJyAgICAvLyBvbmx5IGV4cGVjdCByYXcgb3IgaW50ZXJwb2xhdGVkIHN0cmluZyB2YWx1ZTsgbm90IGV4cHJlc3Npb25cbiAgICB9LFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcblxuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG5cbiAgICB2YXIgcGFyZW50ICAgICAgICA9ICRtZFV0aWwuZ2V0UGFyZW50V2l0aFBvaW50ZXJFdmVudHMoZWxlbWVudCksXG4gICAgICAgIGNvbnRlbnQgICAgICAgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZC1jb250ZW50JylbMF0pLFxuICAgICAgICB0b29sdGlwUGFyZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuICAgICAgICBkZWJvdW5jZWRPblJlc2l6ZSA9ICQkckFGLnRocm90dGxlKGZ1bmN0aW9uICgpIHsgdXBkYXRlUG9zaXRpb24oKTsgfSk7XG5cbiAgICBpZiAoJGFuaW1hdGUucGluKSAkYW5pbWF0ZS5waW4oZWxlbWVudCwgcGFyZW50KTtcblxuICAgIC8vIEluaXRpYWxpemUgZWxlbWVudFxuXG4gICAgc2V0RGVmYXVsdHMoKTtcbiAgICBtYW5pcHVsYXRlRWxlbWVudCgpO1xuICAgIGJpbmRFdmVudHMoKTtcblxuICAgIC8vIERlZmF1bHQgb3JpZ2luIHRyYW5zZm9ybSBwb2ludCBpcyAnY2VudGVyIHRvcCdcbiAgICAvLyBwb3NpdGlvblRvb2x0aXAoKSBpcyBhbHdheXMgcmVsYXRpdmUgdG8gY2VudGVyIHRvcFxuICAgIHVwZGF0ZUNvbnRlbnRPcmlnaW4oKTtcblxuICAgIGNvbmZpZ3VyZVdhdGNoZXJzKCk7XG4gICAgYWRkQXJpYUxhYmVsKCk7XG5cblxuICAgIGZ1bmN0aW9uIHNldERlZmF1bHRzICgpIHtcbiAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQoYXR0ci5tZERlbGF5KSkgc2NvcGUuZGVsYXkgPSBUT09MVElQX1NIT1dfREVMQVk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlQ29udGVudE9yaWdpbigpIHtcbiAgICAgIHZhciBvcmlnaW4gPSAnY2VudGVyIHRvcCc7XG4gICAgICBzd2l0Y2ggKHNjb3BlLmRpcmVjdGlvbikge1xuICAgICAgICBjYXNlICdsZWZ0JyAgOiBvcmlnaW4gPSAgJ3JpZ2h0IGNlbnRlcic7ICBicmVhaztcbiAgICAgICAgY2FzZSAncmlnaHQnIDogb3JpZ2luID0gICdsZWZ0IGNlbnRlcic7ICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RvcCcgICA6IG9yaWdpbiA9ICAnY2VudGVyIGJvdHRvbSc7IGJyZWFrO1xuICAgICAgICBjYXNlICdib3R0b20nOiBvcmlnaW4gPSAgJ2NlbnRlciB0b3AnOyAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQuY3NzKCd0cmFuc2Zvcm0tb3JpZ2luJywgb3JpZ2luKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWd1cmVXYXRjaGVycyAoKSB7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgZGVib3VuY2VkT25SZXNpemUpO1xuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgndmlzaWJsZScsIGZ1bmN0aW9uIChpc1Zpc2libGUpIHtcbiAgICAgICAgaWYgKGlzVmlzaWJsZSkgc2hvd1Rvb2x0aXAoKTtcbiAgICAgICAgZWxzZSBoaWRlVG9vbHRpcCgpO1xuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgnZGlyZWN0aW9uJywgdXBkYXRlUG9zaXRpb24gKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRBcmlhTGFiZWwgKCkge1xuICAgICAgaWYgKCFwYXJlbnQuYXR0cignYXJpYS1sYWJlbCcpICYmICFwYXJlbnQudGV4dCgpLnRyaW0oKSkge1xuICAgICAgICBwYXJlbnQuYXR0cignYXJpYS1sYWJlbCcsIGVsZW1lbnQudGV4dCgpLnRyaW0oKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFuaXB1bGF0ZUVsZW1lbnQgKCkge1xuICAgICAgZWxlbWVudC5kZXRhY2goKTtcbiAgICAgIGVsZW1lbnQuYXR0cigncm9sZScsICd0b29sdGlwJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYmluZEV2ZW50cyAoKSB7XG4gICAgICB2YXIgbW91c2VBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgdmFyIG5nV2luZG93ID0gYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpO1xuXG4gICAgICAvLyBhZGQgYW4gbXV0YXRpb25PYnNlcnZlciB3aGVuIHRoZXJlIGlzIHN1cHBvcnQgZm9yIGl0XG4gICAgICAvLyBhbmQgdGhlIG5lZWQgZm9yIGl0IGluIHRoZSBmb3JtIG9mIHZpYWJsZSBob3N0KHBhcmVudFswXSlcbiAgICAgIGlmIChwYXJlbnRbMF0gJiYgJ011dGF0aW9uT2JzZXJ2ZXInIGluICR3aW5kb3cpIHtcbiAgICAgICAgLy8gdXNlIGFuIG11dGF0aW9uT2JzZXJ2ZXIgdG8gdGFja2xlICMyNjAyXG4gICAgICAgIHZhciBhdHRyaWJ1dGVPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucykge1xuICAgICAgICAgIG11dGF0aW9uc1xuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAnZGlzYWJsZWQnICYmIHBhcmVudFswXS5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTsgLy8gbWFrZSBzdXJlIHRoZSBlbGVtZW50cyBnZXRzIHVwZGF0ZWRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF0dHJpYnV0ZU9ic2VydmVyLm9ic2VydmUocGFyZW50WzBdLCB7IGF0dHJpYnV0ZXM6IHRydWV9KTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RvcmUgd2hldGhlciB0aGUgZWxlbWVudCB3YXMgZm9jdXNlZCB3aGVuIHRoZSB3aW5kb3cgbG9zZXMgZm9jdXMuXG4gICAgICB2YXIgd2luZG93Qmx1ckhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudEZvY3VzZWRPbldpbmRvd0JsdXIgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBwYXJlbnRbMF07XG4gICAgICB9O1xuICAgICAgdmFyIGVsZW1lbnRGb2N1c2VkT25XaW5kb3dCbHVyID0gZmFsc2U7XG5cbiAgICAgIGZ1bmN0aW9uIHdpbmRvd1Njcm9sbEhhbmRsZXIoKSB7XG4gICAgICAgIHNldFZpc2libGUoZmFsc2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBuZ1dpbmRvdy5vbignYmx1cicsIHdpbmRvd0JsdXJIYW5kbGVyKTtcbiAgICAgIG5nV2luZG93Lm9uKCdyZXNpemUnLCBkZWJvdW5jZWRPblJlc2l6ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB3aW5kb3dTY3JvbGxIYW5kbGVyLCB0cnVlKTtcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgbmdXaW5kb3cub2ZmKCdibHVyJywgd2luZG93Qmx1ckhhbmRsZXIpO1xuICAgICAgICBuZ1dpbmRvdy5vZmYoJ3Jlc2l6ZScsIGRlYm91bmNlZE9uUmVzaXplKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgd2luZG93U2Nyb2xsSGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgIGF0dHJpYnV0ZU9ic2VydmVyICYmIGF0dHJpYnV0ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZW50ZXJIYW5kbGVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyBQcmV2ZW50IHRoZSB0b29sdGlwIGZyb20gc2hvd2luZyB3aGVuIHRoZSB3aW5kb3cgaXMgcmVjZWl2aW5nIGZvY3VzLlxuICAgICAgICBpZiAoZS50eXBlID09PSAnZm9jdXMnICYmIGVsZW1lbnRGb2N1c2VkT25XaW5kb3dCbHVyKSB7XG4gICAgICAgICAgZWxlbWVudEZvY3VzZWRPbldpbmRvd0JsdXIgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50Lm9uKCdibHVyIG1vdXNlbGVhdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLCBsZWF2ZUhhbmRsZXIgKTtcbiAgICAgICAgc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgIH07XG4gICAgICB2YXIgbGVhdmVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXV0b2hpZGUgPSBzY29wZS5oYXNPd25Qcm9wZXJ0eSgnYXV0b2hpZGUnKSA/IHNjb3BlLmF1dG9oaWRlIDogYXR0ci5oYXNPd25Qcm9wZXJ0eSgnbWRBdXRvaGlkZScpO1xuICAgICAgICBpZiAoYXV0b2hpZGUgfHwgbW91c2VBY3RpdmUgfHwgKCRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50ICE9PSBwYXJlbnRbMF0pICkge1xuICAgICAgICAgIHBhcmVudC5vZmYoJ2JsdXIgbW91c2VsZWF2ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIGxlYXZlSGFuZGxlciApO1xuICAgICAgICAgIHBhcmVudC50cmlnZ2VySGFuZGxlcihcImJsdXJcIik7XG4gICAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgbW91c2VBY3RpdmUgPSBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIHRvIGF2b2lkIGBzeW50aGV0aWMgY2xpY2tzYCB3ZSBsaXN0ZW4gdG8gbW91c2Vkb3duIGluc3RlYWQgb2YgYGNsaWNrYFxuICAgICAgcGFyZW50Lm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHsgbW91c2VBY3RpdmUgPSB0cnVlOyB9KTtcbiAgICAgIHBhcmVudC5vbignZm9jdXMgbW91c2VlbnRlciB0b3VjaHN0YXJ0JywgZW50ZXJIYW5kbGVyICk7XG5cblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFZpc2libGUgKHZhbHVlKSB7XG4gICAgICBzZXRWaXNpYmxlLnZhbHVlID0gISF2YWx1ZTtcbiAgICAgIGlmICghc2V0VmlzaWJsZS5xdWV1ZWQpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgc2V0VmlzaWJsZS5xdWV1ZWQgPSB0cnVlO1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUudmlzaWJsZSA9IHNldFZpc2libGUudmFsdWU7XG4gICAgICAgICAgICBzZXRWaXNpYmxlLnF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICAgIH0sIHNjb3BlLmRlbGF5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uKCkgeyBzY29wZS52aXNpYmxlID0gZmFsc2U7IH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvd1Rvb2x0aXAoKSB7XG4gICAgICAvLyBJbnNlcnQgdGhlIGVsZW1lbnQgYmVmb3JlIHBvc2l0aW9uaW5nIGl0LCBzbyB3ZSBjYW4gZ2V0IHRoZSBwb3NpdGlvblxuICAgICAgLy8gYW5kIGNoZWNrIGlmIHdlIHNob3VsZCBkaXNwbGF5IGl0XG4gICAgICB0b29sdGlwUGFyZW50LmFwcGVuZChlbGVtZW50KTtcblxuICAgICAgLy8gQ2hlY2sgaWYgd2Ugc2hvdWxkIGRpc3BsYXkgaXQgb3Igbm90LlxuICAgICAgLy8gVGhpcyBoYW5kbGVzIGhpZGUtKiBhbmQgc2hvdy0qIGFsb25nIHdpdGggYW55IHVzZXIgZGVmaW5lZCBjc3NcbiAgICAgIGlmICggJG1kVXRpbC5oYXNDb21wdXRlZFN0eWxlKGVsZW1lbnQsICdkaXNwbGF5JywgJ25vbmUnKSkge1xuICAgICAgICBzY29wZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQuZGV0YWNoKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlUG9zaXRpb24oKTtcblxuICAgICAgYW5ndWxhci5mb3JFYWNoKFtlbGVtZW50LCBjb250ZW50XSwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgJ21kLXNob3cnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpZGVUb29sdGlwKCkge1xuICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKFtlbGVtZW50LCBjb250ZW50XSwgZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgICAgaWYgKGl0LnBhcmVudCgpICYmIGl0Lmhhc0NsYXNzKCdtZC1zaG93JykpIHtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2goJGFuaW1hdGUucmVtb3ZlQ2xhc3MoaXQsICdtZC1zaG93JykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHEuYWxsKHByb21pc2VzKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc2NvcGUudmlzaWJsZSkgZWxlbWVudC5kZXRhY2goKTtcbiAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICAgIGlmICggIXNjb3BlLnZpc2libGUgKSByZXR1cm47XG5cbiAgICAgIHVwZGF0ZUNvbnRlbnRPcmlnaW4oKTtcbiAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBvc2l0aW9uVG9vbHRpcCgpIHtcbiAgICAgIHZhciB0aXBSZWN0ID0gJG1kVXRpbC5vZmZzZXRSZWN0KGVsZW1lbnQsIHRvb2x0aXBQYXJlbnQpO1xuICAgICAgdmFyIHBhcmVudFJlY3QgPSAkbWRVdGlsLm9mZnNldFJlY3QocGFyZW50LCB0b29sdGlwUGFyZW50KTtcbiAgICAgIHZhciBuZXdQb3NpdGlvbiA9IGdldFBvc2l0aW9uKHNjb3BlLmRpcmVjdGlvbik7XG4gICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5wcm9wKCdvZmZzZXRQYXJlbnQnKTtcblxuICAgICAgLy8gSWYgdGhlIHVzZXIgcHJvdmlkZWQgYSBkaXJlY3Rpb24sIGp1c3QgbnVkZ2UgdGhlIHRvb2x0aXAgb250byB0aGUgc2NyZWVuXG4gICAgICAvLyBPdGhlcndpc2UsIHJlY2FsY3VsYXRlIGJhc2VkIG9uICd0b3AnIHNpbmNlIGRlZmF1bHQgaXMgJ2JvdHRvbSdcbiAgICAgIGlmIChzY29wZS5kaXJlY3Rpb24pIHtcbiAgICAgICAgbmV3UG9zaXRpb24gPSBmaXRJblBhcmVudChuZXdQb3NpdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKG9mZnNldFBhcmVudCAmJiBuZXdQb3NpdGlvbi50b3AgPiBvZmZzZXRQYXJlbnQuc2Nyb2xsSGVpZ2h0IC0gdGlwUmVjdC5oZWlnaHQgLSBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFKSB7XG4gICAgICAgIG5ld1Bvc2l0aW9uID0gZml0SW5QYXJlbnQoZ2V0UG9zaXRpb24oJ3RvcCcpKTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudC5jc3Moe1xuICAgICAgICBsZWZ0OiBuZXdQb3NpdGlvbi5sZWZ0ICsgJ3B4JyxcbiAgICAgICAgdG9wOiBuZXdQb3NpdGlvbi50b3AgKyAncHgnXG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gZml0SW5QYXJlbnQgKHBvcykge1xuICAgICAgICB2YXIgbmV3UG9zaXRpb24gPSB7IGxlZnQ6IHBvcy5sZWZ0LCB0b3A6IHBvcy50b3AgfTtcbiAgICAgICAgbmV3UG9zaXRpb24ubGVmdCA9IE1hdGgubWluKCBuZXdQb3NpdGlvbi5sZWZ0LCB0b29sdGlwUGFyZW50LnByb3AoJ3Njcm9sbFdpZHRoJykgLSB0aXBSZWN0LndpZHRoIC0gVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSApO1xuICAgICAgICBuZXdQb3NpdGlvbi5sZWZ0ID0gTWF0aC5tYXgoIG5ld1Bvc2l0aW9uLmxlZnQsIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UgKTtcbiAgICAgICAgbmV3UG9zaXRpb24udG9wICA9IE1hdGgubWluKCBuZXdQb3NpdGlvbi50b3AsICB0b29sdGlwUGFyZW50LnByb3AoJ3Njcm9sbEhlaWdodCcpIC0gdGlwUmVjdC5oZWlnaHQgLSBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFICk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnRvcCAgPSBNYXRoLm1heCggbmV3UG9zaXRpb24udG9wLCAgVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSApO1xuICAgICAgICByZXR1cm4gbmV3UG9zaXRpb247XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldFBvc2l0aW9uIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIGRpciA9PT0gJ2xlZnQnXG4gICAgICAgICAgPyB7IGxlZnQ6IHBhcmVudFJlY3QubGVmdCAtIHRpcFJlY3Qud2lkdGggLSBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFLFxuICAgICAgICAgICAgICB0b3A6IHBhcmVudFJlY3QudG9wICsgcGFyZW50UmVjdC5oZWlnaHQgLyAyIC0gdGlwUmVjdC5oZWlnaHQgLyAyIH1cbiAgICAgICAgICA6IGRpciA9PT0gJ3JpZ2h0J1xuICAgICAgICAgID8geyBsZWZ0OiBwYXJlbnRSZWN0LmxlZnQgKyBwYXJlbnRSZWN0LndpZHRoICsgVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSxcbiAgICAgICAgICAgICAgdG9wOiBwYXJlbnRSZWN0LnRvcCArIHBhcmVudFJlY3QuaGVpZ2h0IC8gMiAtIHRpcFJlY3QuaGVpZ2h0IC8gMiB9XG4gICAgICAgICAgOiBkaXIgPT09ICd0b3AnXG4gICAgICAgICAgPyB7IGxlZnQ6IHBhcmVudFJlY3QubGVmdCArIHBhcmVudFJlY3Qud2lkdGggLyAyIC0gdGlwUmVjdC53aWR0aCAvIDIsXG4gICAgICAgICAgICAgIHRvcDogcGFyZW50UmVjdC50b3AgLSB0aXBSZWN0LmhlaWdodCAtIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UgfVxuICAgICAgICAgIDogeyBsZWZ0OiBwYXJlbnRSZWN0LmxlZnQgKyBwYXJlbnRSZWN0LndpZHRoIC8gMiAtIHRpcFJlY3Qud2lkdGggLyAyLFxuICAgICAgICAgICAgICB0b3A6IHBhcmVudFJlY3QudG9wICsgcGFyZW50UmVjdC5oZWlnaHQgKyBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFIH07XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxufVxuTWRUb29sdGlwRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkdGltZW91dFwiLCBcIiR3aW5kb3dcIiwgXCIkJHJBRlwiLCBcIiRkb2N1bWVudFwiLCBcIiRtZFV0aWxcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJHJvb3RFbGVtZW50XCIsIFwiJGFuaW1hdGVcIiwgXCIkcVwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy52aXJ0dWFsUmVwZWF0XG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnZpcnR1YWxSZXBlYXQnLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuc2hvd0hpZGUnXG5dKVxuLmRpcmVjdGl2ZSgnbWRWaXJ0dWFsUmVwZWF0Q29udGFpbmVyJywgVmlydHVhbFJlcGVhdENvbnRhaW5lckRpcmVjdGl2ZSlcbi5kaXJlY3RpdmUoJ21kVmlydHVhbFJlcGVhdCcsIFZpcnR1YWxSZXBlYXREaXJlY3RpdmUpO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRWaXJ0dWFsUmVwZWF0Q29udGFpbmVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMudmlydHVhbFJlcGVhdFxuICogQHJlc3RyaWN0IEVcbiAqIEBkZXNjcmlwdGlvblxuICogYG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lcmAgcHJvdmlkZXMgdGhlIHNjcm9sbCBjb250YWluZXIgZm9yIG1kLXZpcnR1YWwtcmVwZWF0LlxuICpcbiAqIFZpcnR1YWwgcmVwZWF0IGlzIGEgbGltaXRlZCBzdWJzdGl0dXRlIGZvciBuZy1yZXBlYXQgdGhhdCByZW5kZXJzIG9ubHlcbiAqIGVub3VnaCBkb20gbm9kZXMgdG8gZmlsbCB0aGUgY29udGFpbmVyIGFuZCByZWN5Y2xpbmcgdGhlbSBhcyB0aGUgdXNlciBzY3JvbGxzLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqXG4gKiA8bWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyIG1kLXRvcC1pbmRleD1cInRvcEluZGV4XCI+XG4gKiAgIDxkaXYgbWQtdmlydHVhbC1yZXBlYXQ9XCJpIGluIGl0ZW1zXCIgbWQtaXRlbS1zaXplPVwiMjBcIj5IZWxsbyB7e2l9fSE8L2Rpdj5cbiAqIDwvbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyPlxuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtdG9wLWluZGV4IEJpbmRzIHRoZSBpbmRleCBvZiB0aGUgaXRlbSB0aGF0IGlzIGF0IHRoZSB0b3Agb2YgdGhlIHNjcm9sbFxuICogICAgIGNvbnRhaW5lciB0byAkc2NvcGUuIEl0IGNhbiBib3RoIHJlYWQgYW5kIHNldCB0aGUgc2Nyb2xsIHBvc2l0aW9uLlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtb3JpZW50LWhvcml6b250YWwgV2hldGhlciB0aGUgY29udGFpbmVyIHNob3VsZCBzY3JvbGwgaG9yaXpvbnRhbGx5XG4gKiAgICAgKGRlZmF1bHRzIHRvIG9yaWVudGF0aW9uIGFuZCBzY3JvbGxpbmcgdmVydGljYWxseSkuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1hdXRvLXNocmluayBXaGVuIHByZXNlbnQsIHRoZSBjb250YWluZXIgd2lsbCBzaHJpbmsgdG8gZml0XG4gKiAgICAgdGhlIG51bWJlciBvZiBpdGVtcyB3aGVuIHRoYXQgbnVtYmVyIGlzIGxlc3MgdGhhbiBpdHMgb3JpZ2luYWwgc2l6ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtYXV0by1zaHJpbmstbWluIE1pbmltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgbWQtYXV0by1zaHJpbmtcbiAqICAgICB3aWxsIHNocmluayB0byAoZGVmYXVsdDogMCkuXG4gKi9cbmZ1bmN0aW9uIFZpcnR1YWxSZXBlYXRDb250YWluZXJEaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgY29udHJvbGxlcjogVmlydHVhbFJlcGVhdENvbnRhaW5lckNvbnRyb2xsZXIsXG4gICAgdGVtcGxhdGU6IHZpcnR1YWxSZXBlYXRDb250YWluZXJUZW1wbGF0ZSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiB2aXJ0dWFsUmVwZWF0Q29udGFpbmVyQ29tcGlsZSgkZWxlbWVudCwgJGF0dHJzKSB7XG4gICAgICAkZWxlbWVudFxuICAgICAgICAgIC5hZGRDbGFzcygnbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyJylcbiAgICAgICAgICAuYWRkQ2xhc3MoJGF0dHJzLmhhc093blByb3BlcnR5KCdtZE9yaWVudEhvcml6b250YWwnKVxuICAgICAgICAgICAgICA/ICdtZC1vcmllbnQtaG9yaXpvbnRhbCdcbiAgICAgICAgICAgICAgOiAnbWQtb3JpZW50LXZlcnRpY2FsJyk7XG4gICAgfVxuICB9O1xufVxuXG5cbmZ1bmN0aW9uIHZpcnR1YWxSZXBlYXRDb250YWluZXJUZW1wbGF0ZSgkZWxlbWVudCkge1xuICByZXR1cm4gJzxkaXYgY2xhc3M9XCJtZC12aXJ0dWFsLXJlcGVhdC1zY3JvbGxlclwiPicgK1xuICAgICc8ZGl2IGNsYXNzPVwibWQtdmlydHVhbC1yZXBlYXQtc2l6ZXJcIj48L2Rpdj4nICtcbiAgICAnPGRpdiBjbGFzcz1cIm1kLXZpcnR1YWwtcmVwZWF0LW9mZnNldHRlclwiPicgK1xuICAgICAgJGVsZW1lbnRbMF0uaW5uZXJIVE1MICtcbiAgICAnPC9kaXY+PC9kaXY+Jztcbn1cblxuLyoqXG4gKiBNYXhpbXVtIHNpemUsIGluIHBpeGVscywgdGhhdCBjYW4gYmUgZXhwbGljaXRseSBzZXQgdG8gYW4gZWxlbWVudC4gVGhlIGFjdHVhbCB2YWx1ZSB2YXJpZXNcbiAqIGJldHdlZW4gYnJvd3NlcnMsIGJ1dCBJRTExIGhhcyB0aGUgdmVyeSBsb3dlc3Qgc2l6ZSBhdCBhIG1lcmUgMSw1MzMsOTE3cHguIElkZWFsbHkgd2UgY291bGRcbiAqICpjb21wdXRlKiB0aGlzIHZhbHVlLCBidXQgRmlyZWZveCBhbHdheXMgcmVwb3J0cyBhbiBlbGVtZW50IHRvIGhhdmUgYSBzaXplIG9mIHplcm8gaWYgaXRcbiAqIGdvZXMgb3ZlciB0aGUgbWF4LCBtZWFuaW5nIHRoYXQgd2UnZCBoYXZlIHRvIGJpbmFyeSBzZWFyY2ggZm9yIHRoZSB2YWx1ZS5cbiAqIEBjb25zdCB7bnVtYmVyfVxuICovXG52YXIgTUFYX0VMRU1FTlRfU0laRSA9IDE1MzM5MTc7XG5cbi8qKlxuICogTnVtYmVyIG9mIGFkZGl0aW9uYWwgZWxlbWVudHMgdG8gcmVuZGVyIGFib3ZlIGFuZCBiZWxvdyB0aGUgdmlzaWJsZSBhcmVhIGluc2lkZVxuICogb2YgdGhlIHZpcnR1YWwgcmVwZWF0IGNvbnRhaW5lci4gQSBoaWdoZXIgbnVtYmVyIHJlc3VsdHMgaW4gbGVzcyBmbGlja2VyIHdoZW4gc2Nyb2xsaW5nXG4gKiB2ZXJ5IHF1aWNrbHkgaW4gU2FmYXJpLCBidXQgY29tZXMgd2l0aCBhIGhpZ2hlciByZW5kZXJpbmcgYW5kIGRpcnR5LWNoZWNraW5nIGNvc3QuXG4gKiBAY29uc3Qge251bWJlcn1cbiAqL1xudmFyIE5VTV9FWFRSQSA9IDM7XG5cbi8qKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIFZpcnR1YWxSZXBlYXRDb250YWluZXJDb250cm9sbGVyKFxuICAgICQkckFGLCAkbWRVdGlsLCAkcGFyc2UsICRyb290U2NvcGUsICR3aW5kb3csICRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuICB0aGlzLiRyb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICB0aGlzLiRzY29wZSA9ICRzY29wZTtcbiAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICB0aGlzLiRhdHRycyA9ICRhdHRycztcblxuICAvKiogQHR5cGUge251bWJlcn0gVGhlIHdpZHRoIG9yIGhlaWdodCBvZiB0aGUgY29udGFpbmVyICovXG4gIHRoaXMuc2l6ZSA9IDA7XG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBUaGUgc2Nyb2xsIHdpZHRoIG9yIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgKi9cbiAgdGhpcy5zY3JvbGxTaXplID0gMDtcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IFRoZSBzY3JvbGxMZWZ0IG9yIHNjcm9sbFRvcCBvZiB0aGUgc2Nyb2xsZXIgKi9cbiAgdGhpcy5zY3JvbGxPZmZzZXQgPSAwO1xuICAvKiogQHR5cGUge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHNjcm9sbGVyIGlzIG9yaWVudGVkIGhvcml6b250YWxseSAqL1xuICB0aGlzLmhvcml6b250YWwgPSB0aGlzLiRhdHRycy5oYXNPd25Qcm9wZXJ0eSgnbWRPcmllbnRIb3Jpem9udGFsJyk7XG4gIC8qKiBAdHlwZSB7IVZpcnR1YWxSZXBlYXRDb250cm9sbGVyfSBUaGUgcmVwZWF0ZXIgaW5zaWRlIG9mIHRoaXMgY29udGFpbmVyICovXG4gIHRoaXMucmVwZWF0ZXIgPSBudWxsO1xuICAvKiogQHR5cGUge2Jvb2xlYW59IFdoZXRoZXIgYXV0by1zaHJpbmsgaXMgZW5hYmxlZCAqL1xuICB0aGlzLmF1dG9TaHJpbmsgPSB0aGlzLiRhdHRycy5oYXNPd25Qcm9wZXJ0eSgnbWRBdXRvU2hyaW5rJyk7XG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBNaW5pbXVtIG51bWJlciBvZiBpdGVtcyB0byBhdXRvLXNocmluayB0byAqL1xuICB0aGlzLmF1dG9TaHJpbmtNaW4gPSBwYXJzZUludCh0aGlzLiRhdHRycy5tZEF1dG9TaHJpbmtNaW4sIDEwKSB8fCAwO1xuICAvKiogQHR5cGUgez9udW1iZXJ9IE9yaWdpbmFsIGNvbnRhaW5lciBzaXplIHdoZW4gc2hyYW5rICovXG4gIHRoaXMub3JpZ2luYWxTaXplID0gbnVsbDtcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IEFtb3VudCB0byBvZmZzZXQgdGhlIHRvdGFsIHNjcm9sbCBzaXplIGJ5LiAqL1xuICB0aGlzLm9mZnNldFNpemUgPSBwYXJzZUludCh0aGlzLiRhdHRycy5tZE9mZnNldFNpemUsIDEwKSB8fCAwO1xuICAvKiogQHR5cGUgez9zdHJpbmd9IGhlaWdodCBvciB3aWR0aCBlbGVtZW50IHN0eWxlIG9uIHRoZSBjb250YWluZXIgcHJpb3IgdG8gYXV0by1zaHJpbmtpbmcuICovXG4gIHRoaXMub2xkRWxlbWVudFNpemUgPSBudWxsO1xuXG4gIGlmICh0aGlzLiRhdHRycy5tZFRvcEluZGV4KSB7XG4gICAgLyoqIEB0eXBlIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlKTogbnVtYmVyfSBCaW5kcyB0byB0b3BJbmRleCBvbiBBbmd1bGFyIHNjb3BlICovXG4gICAgdGhpcy5iaW5kVG9wSW5kZXggPSAkcGFyc2UodGhpcy4kYXR0cnMubWRUb3BJbmRleCk7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgaXRlbSB0aGF0IGlzIGF0IHRoZSB0b3Agb2YgdGhlIHNjcm9sbCBjb250YWluZXIgKi9cbiAgICB0aGlzLnRvcEluZGV4ID0gdGhpcy5iaW5kVG9wSW5kZXgodGhpcy4kc2NvcGUpO1xuXG4gICAgaWYgKCFhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLnRvcEluZGV4KSkge1xuICAgICAgdGhpcy50b3BJbmRleCA9IDA7XG4gICAgICB0aGlzLmJpbmRUb3BJbmRleC5hc3NpZ24odGhpcy4kc2NvcGUsIDApO1xuICAgIH1cblxuICAgIHRoaXMuJHNjb3BlLiR3YXRjaCh0aGlzLmJpbmRUb3BJbmRleCwgYW5ndWxhci5iaW5kKHRoaXMsIGZ1bmN0aW9uKG5ld0luZGV4KSB7XG4gICAgICBpZiAobmV3SW5kZXggIT09IHRoaXMudG9wSW5kZXgpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KG5ld0luZGV4KTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy50b3BJbmRleCA9IDA7XG4gIH1cblxuICB0aGlzLnNjcm9sbGVyID0gJGVsZW1lbnRbMF0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWQtdmlydHVhbC1yZXBlYXQtc2Nyb2xsZXInKVswXTtcbiAgdGhpcy5zaXplciA9IHRoaXMuc2Nyb2xsZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWQtdmlydHVhbC1yZXBlYXQtc2l6ZXInKVswXTtcbiAgdGhpcy5vZmZzZXR0ZXIgPSB0aGlzLnNjcm9sbGVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21kLXZpcnR1YWwtcmVwZWF0LW9mZnNldHRlcicpWzBdO1xuXG4gIC8vIEFmdGVyIHRoZSBkb20gc3RhYmxpemVzLCBtZWFzdXJlIHRoZSBpbml0aWFsIHNpemUgb2YgdGhlIGNvbnRhaW5lciBhbmRcbiAgLy8gbWFrZSBhIGJlc3QgZWZmb3J0IGF0IHJlLW1lYXN1cmluZyBhcyBpdCBjaGFuZ2VzLlxuICB2YXIgYm91bmRVcGRhdGVTaXplID0gYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMudXBkYXRlU2l6ZSk7XG5cbiAgJCRyQUYoYW5ndWxhci5iaW5kKHRoaXMsIGZ1bmN0aW9uKCkge1xuICAgIGJvdW5kVXBkYXRlU2l6ZSgpO1xuXG4gICAgdmFyIGRlYm91bmNlZFVwZGF0ZVNpemUgPSAkbWRVdGlsLmRlYm91bmNlKGJvdW5kVXBkYXRlU2l6ZSwgMTAsIG51bGwsIGZhbHNlKTtcbiAgICB2YXIgaldpbmRvdyA9IGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KTtcblxuICAgIC8vIE1ha2Ugb25lIG1vcmUgYXR0ZW1wdCB0byBnZXQgdGhlIHNpemUgaWYgaXQgaXMgMC5cbiAgICAvLyBUaGlzIGlzIG5vdCBieSBhbnkgbWVhbnMgYSBwZXJmZWN0IGFwcHJvYWNoLCBidXQgdGhlcmUncyByZWFsbHkgbm9cbiAgICAvLyBzaWx2ZXIgYnVsbGV0IGhlcmUuXG4gICAgaWYgKCF0aGlzLnNpemUpIHtcbiAgICAgIGRlYm91bmNlZFVwZGF0ZVNpemUoKTtcbiAgICB9XG5cbiAgICBqV2luZG93Lm9uKCdyZXNpemUnLCBkZWJvdW5jZWRVcGRhdGVTaXplKTtcbiAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgaldpbmRvdy5vZmYoJ3Jlc2l6ZScsIGRlYm91bmNlZFVwZGF0ZVNpemUpO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLiRlbWl0KCckbWQtcmVzaXplLWVuYWJsZScpO1xuICAgICRzY29wZS4kb24oJyRtZC1yZXNpemUnLCBib3VuZFVwZGF0ZVNpemUpO1xuICB9KSk7XG59XG5WaXJ0dWFsUmVwZWF0Q29udGFpbmVyQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJCRyQUZcIiwgXCIkbWRVdGlsXCIsIFwiJHBhcnNlXCIsIFwiJHJvb3RTY29wZVwiLCBcIiR3aW5kb3dcIiwgXCIkc2NvcGVcIiwgXCIkZWxlbWVudFwiLCBcIiRhdHRyc1wiXTtcblxuXG4vKiogQ2FsbGVkIGJ5IHRoZSBtZC12aXJ0dWFsLXJlcGVhdCBpbnNpZGUgb2YgdGhlIGNvbnRhaW5lciBhdCBzdGFydHVwLiAqL1xuVmlydHVhbFJlcGVhdENvbnRhaW5lckNvbnRyb2xsZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24ocmVwZWF0ZXJDdHJsKSB7XG4gIHRoaXMucmVwZWF0ZXIgPSByZXBlYXRlckN0cmw7XG5cbiAgYW5ndWxhci5lbGVtZW50KHRoaXMuc2Nyb2xsZXIpXG4gICAgICAub24oJ3Njcm9sbCB3aGVlbCB0b3VjaG1vdmUgdG91Y2hlbmQnLCBhbmd1bGFyLmJpbmQodGhpcywgdGhpcy5oYW5kbGVTY3JvbGxfKSk7XG59O1xuXG5cbi8qKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBjb250YWluZXIgaXMgY29uZmlndXJlZCBmb3IgaG9yaXpvbnRhbCBzY3JvbGxpbmcuICovXG5WaXJ0dWFsUmVwZWF0Q29udGFpbmVyQ29udHJvbGxlci5wcm90b3R5cGUuaXNIb3Jpem9udGFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmhvcml6b250YWw7XG59O1xuXG5cbi8qKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzaXplICh3aWR0aCBvciBoZWlnaHQpIG9mIHRoZSBjb250YWluZXIuICovXG5WaXJ0dWFsUmVwZWF0Q29udGFpbmVyQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zaXplO1xufTtcblxuXG4vKipcbiAqIFJlc2l6ZXMgdGhlIGNvbnRhaW5lci5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gVGhlIG5ldyBzaXplIHRvIHNldC5cbiAqL1xuVmlydHVhbFJlcGVhdENvbnRhaW5lckNvbnRyb2xsZXIucHJvdG90eXBlLnNldFNpemVfID0gZnVuY3Rpb24oc2l6ZSkge1xuICB2YXIgZGltZW5zaW9uID0gdGhpcy5nZXREaW1lbnNpb25OYW1lXygpO1xuXG4gIHRoaXMuc2l6ZSA9IHNpemU7XG4gIHRoaXMuJGVsZW1lbnRbMF0uc3R5bGVbZGltZW5zaW9uXSA9IHNpemUgKyAncHgnO1xufTtcblxuXG5WaXJ0dWFsUmVwZWF0Q29udGFpbmVyQ29udHJvbGxlci5wcm90b3R5cGUudW5zZXRTaXplXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLiRlbGVtZW50WzBdLnN0eWxlW3RoaXMuZ2V0RGltZW5zaW9uTmFtZV8oKV0gPSB0aGlzLm9sZEVsZW1lbnRTaXplO1xuICB0aGlzLm9sZEVsZW1lbnRTaXplID0gbnVsbDtcbn07XG5cblxuLyoqIEluc3RydWN0cyB0aGUgY29udGFpbmVyIHRvIHJlLW1lYXN1cmUgaXRzIHNpemUuICovXG5WaXJ0dWFsUmVwZWF0Q29udGFpbmVyQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlU2l6ZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5vcmlnaW5hbFNpemUpIHJldHVybjtcblxuICB0aGlzLnNpemUgPSB0aGlzLmlzSG9yaXpvbnRhbCgpXG4gICAgICA/IHRoaXMuJGVsZW1lbnRbMF0uY2xpZW50V2lkdGhcbiAgICAgIDogdGhpcy4kZWxlbWVudFswXS5jbGllbnRIZWlnaHQ7XG5cbiAgLy8gUmVjaGVjayB0aGUgc2Nyb2xsIHBvc2l0aW9uIGFmdGVyIHVwZGF0aW5nIHRoZSBzaXplLiBUaGlzIHJlc29sdmVzXG4gIC8vIHByb2JsZW1zIHRoYXQgY2FuIHJlc3VsdCBpZiB0aGUgc2Nyb2xsIHBvc2l0aW9uIHdhcyBtZWFzdXJlZCB3aGlsZSB0aGVcbiAgLy8gZWxlbWVudCB3YXMgZGlzcGxheTogbm9uZSBvciBkZXRhY2hlZCBmcm9tIHRoZSBkb2N1bWVudC5cbiAgdGhpcy5oYW5kbGVTY3JvbGxfKCk7XG5cbiAgdGhpcy5yZXBlYXRlciAmJiB0aGlzLnJlcGVhdGVyLmNvbnRhaW5lclVwZGF0ZWQoKTtcbn07XG5cblxuLyoqIEByZXR1cm4ge251bWJlcn0gVGhlIGNvbnRhaW5lcidzIHNjcm9sbEhlaWdodCBvciBzY3JvbGxXaWR0aC4gKi9cblZpcnR1YWxSZXBlYXRDb250YWluZXJDb250cm9sbGVyLnByb3RvdHlwZS5nZXRTY3JvbGxTaXplID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnNjcm9sbFNpemU7XG59O1xuXG5cblZpcnR1YWxSZXBlYXRDb250YWluZXJDb250cm9sbGVyLnByb3RvdHlwZS5nZXREaW1lbnNpb25OYW1lXyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pc0hvcml6b250YWwoKSA/ICd3aWR0aCcgOiAnaGVpZ2h0Jztcbn07XG5cblxuLyoqXG4gKiBTZXRzIHRoZSBzY3JvbGxlciBlbGVtZW50IHRvIHRoZSBzcGVjaWZpZWQgc2l6ZS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBUaGUgbmV3IHNpemUuXG4gKi9cblZpcnR1YWxSZXBlYXRDb250YWluZXJDb250cm9sbGVyLnByb3RvdHlwZS5zaXplU2Nyb2xsZXJfID0gZnVuY3Rpb24oc2l6ZSkge1xuICB2YXIgZGltZW5zaW9uID0gIHRoaXMuZ2V0RGltZW5zaW9uTmFtZV8oKTtcbiAgdmFyIGNyb3NzRGltZW5zaW9uID0gdGhpcy5pc0hvcml6b250YWwoKSA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgZGltZW5zaW9ucy5cbiAgdGhpcy5zaXplci5pbm5lckhUTUwgPSAnJztcblxuICAvLyBJZiB0aGUgc2l6ZSBmYWxscyB3aXRoaW4gdGhlIGJyb3dzZXIncyBtYXhpbXVtIGV4cGxpY2l0IHNpemUgZm9yIGEgc2luZ2xlIGVsZW1lbnQsIHdlIGNhblxuICAvLyBzZXQgdGhlIHNpemUgYW5kIGJlIGRvbmUuIE90aGVyd2lzZSwgd2UgaGF2ZSB0byBjcmVhdGUgY2hpbGRyZW4gdGhhdCBhZGQgdXAgdGhlIHRoZSBkZXNpcmVkXG4gIC8vIHNpemUuXG4gIGlmIChzaXplIDwgTUFYX0VMRU1FTlRfU0laRSkge1xuICAgIHRoaXMuc2l6ZXIuc3R5bGVbZGltZW5zaW9uXSA9IHNpemUgKyAncHgnO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2l6ZXIuc3R5bGVbZGltZW5zaW9uXSA9ICdhdXRvJztcbiAgICB0aGlzLnNpemVyLnN0eWxlW2Nyb3NzRGltZW5zaW9uXSA9ICdhdXRvJztcblxuICAgIC8vIERpdmlkZSB0aGUgdG90YWwgc2l6ZSB3ZSBoYXZlIHRvIHJlbmRlciBpbnRvIE4gbWF4LXNpemUgcGllY2VzLlxuICAgIHZhciBudW1DaGlsZHJlbiA9IE1hdGguZmxvb3Ioc2l6ZSAvIE1BWF9FTEVNRU5UX1NJWkUpO1xuXG4gICAgLy8gRWxlbWVudCB0ZW1wbGF0ZSB0byBjbG9uZSBmb3IgZWFjaCBtYXgtc2l6ZSBwaWVjZS5cbiAgICB2YXIgc2l6ZXJDaGlsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNpemVyQ2hpbGQuc3R5bGVbZGltZW5zaW9uXSA9IE1BWF9FTEVNRU5UX1NJWkUgKyAncHgnO1xuICAgIHNpemVyQ2hpbGQuc3R5bGVbY3Jvc3NEaW1lbnNpb25dID0gJzFweCc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUNoaWxkcmVuOyBpKyspIHtcbiAgICAgIHRoaXMuc2l6ZXIuYXBwZW5kQ2hpbGQoc2l6ZXJDaGlsZC5jbG9uZU5vZGUoZmFsc2UpKTtcbiAgICB9XG5cbiAgICAvLyBSZS11c2UgdGhlIGVsZW1lbnQgdGVtcGxhdGUgZm9yIHRoZSByZW1haW5kZXIuXG4gICAgc2l6ZXJDaGlsZC5zdHlsZVtkaW1lbnNpb25dID0gKHNpemUgLSAobnVtQ2hpbGRyZW4gKiBNQVhfRUxFTUVOVF9TSVpFKSkgKyAncHgnO1xuICAgIHRoaXMuc2l6ZXIuYXBwZW5kQ2hpbGQoc2l6ZXJDaGlsZCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBJZiBhdXRvLXNocmlua2luZyBpcyBlbmFibGVkLCBzaHJpbmtzIG9yIHVuc2hyaW5rcyBhcyBhcHByb3ByaWF0ZS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBUaGUgbmV3IHNpemUuXG4gKi9cblZpcnR1YWxSZXBlYXRDb250YWluZXJDb250cm9sbGVyLnByb3RvdHlwZS5hdXRvU2hyaW5rXyA9IGZ1bmN0aW9uKHNpemUpIHtcbiAgdmFyIHNocmlua1NpemUgPSBNYXRoLm1heChzaXplLCB0aGlzLmF1dG9TaHJpbmtNaW4gKiB0aGlzLnJlcGVhdGVyLmdldEl0ZW1TaXplKCkpO1xuICBpZiAodGhpcy5hdXRvU2hyaW5rICYmIHNocmlua1NpemUgIT09IHRoaXMuc2l6ZSkge1xuICAgIGlmICh0aGlzLm9sZEVsZW1lbnRTaXplID09PSBudWxsKSB7XG4gICAgICB0aGlzLm9sZEVsZW1lbnRTaXplID0gdGhpcy4kZWxlbWVudFswXS5zdHlsZVt0aGlzLmdldERpbWVuc2lvbk5hbWVfKCldO1xuICAgIH1cblxuICAgIHZhciBjdXJyZW50U2l6ZSA9IHRoaXMub3JpZ2luYWxTaXplIHx8IHRoaXMuc2l6ZTtcbiAgICBpZiAoIWN1cnJlbnRTaXplIHx8IHNocmlua1NpemUgPCBjdXJyZW50U2l6ZSkge1xuICAgICAgaWYgKCF0aGlzLm9yaWdpbmFsU2l6ZSkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsU2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTaXplXyhzaHJpbmtTaXplKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3JpZ2luYWxTaXplICE9PSBudWxsKSB7XG4gICAgICB0aGlzLnVuc2V0U2l6ZV8oKTtcbiAgICAgIHRoaXMub3JpZ2luYWxTaXplID0gbnVsbDtcbiAgICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xuICAgIH1cblxuICAgIHRoaXMucmVwZWF0ZXIuY29udGFpbmVyVXBkYXRlZCgpO1xuICB9XG59O1xuXG5cbi8qKlxuICogU2V0cyB0aGUgc2Nyb2xsSGVpZ2h0IG9yIHNjcm9sbFdpZHRoLiBDYWxsZWQgYnkgdGhlIHJlcGVhdGVyIGJhc2VkIG9uXG4gKiBpdHMgaXRlbSBjb3VudCBhbmQgaXRlbSBzaXplLlxuICogQHBhcmFtIHtudW1iZXJ9IGl0ZW1zU2l6ZSBUaGUgdG90YWwgc2l6ZSBvZiB0aGUgaXRlbXMuXG4gKi9cblZpcnR1YWxSZXBlYXRDb250YWluZXJDb250cm9sbGVyLnByb3RvdHlwZS5zZXRTY3JvbGxTaXplID0gZnVuY3Rpb24oaXRlbXNTaXplKSB7XG4gIHZhciBzaXplID0gaXRlbXNTaXplICsgdGhpcy5vZmZzZXRTaXplO1xuICBpZiAodGhpcy5zY3JvbGxTaXplID09PSBzaXplKSByZXR1cm47XG5cbiAgdGhpcy5zaXplU2Nyb2xsZXJfKHNpemUpO1xuICB0aGlzLmF1dG9TaHJpbmtfKHNpemUpO1xuICB0aGlzLnNjcm9sbFNpemUgPSBzaXplO1xufTtcblxuXG4vKiogQHJldHVybiB7bnVtYmVyfSBUaGUgY29udGFpbmVyJ3MgY3VycmVudCBzY3JvbGwgb2Zmc2V0LiAqL1xuVmlydHVhbFJlcGVhdENvbnRhaW5lckNvbnRyb2xsZXIucHJvdG90eXBlLmdldFNjcm9sbE9mZnNldCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zY3JvbGxPZmZzZXQ7XG59O1xuXG4vKipcbiAqIFNjcm9sbHMgdG8gYSBnaXZlbiBzY3JvbGxUb3AgcG9zaXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb25cbiAqL1xuVmlydHVhbFJlcGVhdENvbnRhaW5lckNvbnRyb2xsZXIucHJvdG90eXBlLnNjcm9sbFRvID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgdGhpcy5zY3JvbGxlclt0aGlzLmlzSG9yaXpvbnRhbCgpID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gcG9zaXRpb247XG4gIHRoaXMuaGFuZGxlU2Nyb2xsXygpO1xufTtcblxuLyoqXG4gKiBTY3JvbGxzIHRoZSBpdGVtIHdpdGggdGhlIGdpdmVuIGluZGV4IHRvIHRoZSB0b3Agb2YgdGhlIHNjcm9sbCBjb250YWluZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqL1xuVmlydHVhbFJlcGVhdENvbnRhaW5lckNvbnRyb2xsZXIucHJvdG90eXBlLnNjcm9sbFRvSW5kZXggPSBmdW5jdGlvbihpbmRleCkge1xuICB2YXIgaXRlbVNpemUgPSB0aGlzLnJlcGVhdGVyLmdldEl0ZW1TaXplKCk7XG4gIHZhciBpdGVtc0xlbmd0aCA9IHRoaXMucmVwZWF0ZXIuaXRlbXNMZW5ndGg7XG4gIGlmKGluZGV4ID4gaXRlbXNMZW5ndGgpIHtcbiAgICBpbmRleCA9IGl0ZW1zTGVuZ3RoIC0gMTtcbiAgfVxuICB0aGlzLnNjcm9sbFRvKGl0ZW1TaXplICogaW5kZXgpO1xufTtcblxuVmlydHVhbFJlcGVhdENvbnRhaW5lckNvbnRyb2xsZXIucHJvdG90eXBlLnJlc2V0U2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuc2Nyb2xsVG8oMCk7XG59O1xuXG5cblZpcnR1YWxSZXBlYXRDb250YWluZXJDb250cm9sbGVyLnByb3RvdHlwZS5oYW5kbGVTY3JvbGxfID0gZnVuY3Rpb24oKSB7XG4gIHZhciBvZmZzZXQgPSB0aGlzLmlzSG9yaXpvbnRhbCgpID8gdGhpcy5zY3JvbGxlci5zY3JvbGxMZWZ0IDogdGhpcy5zY3JvbGxlci5zY3JvbGxUb3A7XG4gIGlmIChvZmZzZXQgPT09IHRoaXMuc2Nyb2xsT2Zmc2V0KSByZXR1cm47XG5cbiAgdmFyIGl0ZW1TaXplID0gdGhpcy5yZXBlYXRlci5nZXRJdGVtU2l6ZSgpO1xuICBpZiAoIWl0ZW1TaXplKSByZXR1cm47XG5cbiAgdmFyIG51bUl0ZW1zID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihvZmZzZXQgLyBpdGVtU2l6ZSkgLSBOVU1fRVhUUkEpO1xuXG4gIHZhciB0cmFuc2Zvcm0gPSB0aGlzLmlzSG9yaXpvbnRhbCgpID8gJ3RyYW5zbGF0ZVgoJyA6ICd0cmFuc2xhdGVZKCc7XG4gICAgICB0cmFuc2Zvcm0gKz0gIChudW1JdGVtcyAqIGl0ZW1TaXplKSArICdweCknO1xuXG4gIHRoaXMuc2Nyb2xsT2Zmc2V0ID0gb2Zmc2V0O1xuICB0aGlzLm9mZnNldHRlci5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gIHRoaXMub2Zmc2V0dGVyLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcblxuICBpZiAodGhpcy5iaW5kVG9wSW5kZXgpIHtcbiAgICB2YXIgdG9wSW5kZXggPSBNYXRoLmZsb29yKG9mZnNldCAvIGl0ZW1TaXplKTtcbiAgICBpZiAodG9wSW5kZXggIT09IHRoaXMudG9wSW5kZXggJiYgdG9wSW5kZXggPCB0aGlzLnJlcGVhdGVyLml0ZW1zTGVuZ3RoKSB7XG4gICAgICB0aGlzLnRvcEluZGV4ID0gdG9wSW5kZXg7XG4gICAgICB0aGlzLmJpbmRUb3BJbmRleC5hc3NpZ24odGhpcy4kc2NvcGUsIHRvcEluZGV4KTtcbiAgICAgIGlmICghdGhpcy4kcm9vdFNjb3BlLiQkcGhhc2UpIHRoaXMuJHNjb3BlLiRkaWdlc3QoKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLnJlcGVhdGVyLmNvbnRhaW5lclVwZGF0ZWQoKTtcbn07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFZpcnR1YWxSZXBlYXRcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy52aXJ0dWFsUmVwZWF0XG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMDBcbiAqIEBkZXNjcmlwdGlvblxuICogYG1kLXZpcnR1YWwtcmVwZWF0YCBzcGVjaWZpZXMgYW4gZWxlbWVudCB0byByZXBlYXQgdXNpbmcgdmlydHVhbCBzY3JvbGxpbmcuXG4gKlxuICogVmlydHVhbCByZXBlYXQgaXMgYSBsaW1pdGVkIHN1YnN0aXR1dGUgZm9yIG5nLXJlcGVhdCB0aGF0IHJlbmRlcnMgb25seVxuICogZW5vdWdoIGRvbSBub2RlcyB0byBmaWxsIHRoZSBjb250YWluZXIgYW5kIHJlY3ljbGluZyB0aGVtIGFzIHRoZSB1c2VyIHNjcm9sbHMuXG4gKiBBcnJheXMsIGJ1dCBub3Qgb2JqZWN0cyBhcmUgc3VwcG9ydGVkIGZvciBpdGVyYXRpb24uXG4gKiBUcmFjayBieSwgYXMgYWxpYXMsIGFuZCAoa2V5LCB2YWx1ZSkgc3ludGF4IGFyZSBub3Qgc3VwcG9ydGVkLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC12aXJ0dWFsLXJlcGVhdC1jb250YWluZXI+XG4gKiAgIDxkaXYgbWQtdmlydHVhbC1yZXBlYXQ9XCJpIGluIGl0ZW1zXCI+SGVsbG8ge3tpfX0hPC9kaXY+XG4gKiA8L21kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lcj5cbiAqXG4gKiA8bWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyIG1kLW9yaWVudC1ob3Jpem9udGFsPlxuICogICA8ZGl2IG1kLXZpcnR1YWwtcmVwZWF0PVwiaSBpbiBpdGVtc1wiIG1kLWl0ZW0tc2l6ZT1cIjIwXCI+SGVsbG8ge3tpfX0hPC9kaXY+XG4gKiA8L21kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lcj5cbiAqIDwvaGxqcz5cbiAqXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLWl0ZW0tc2l6ZSBUaGUgaGVpZ2h0IG9yIHdpZHRoIG9mIHRoZSByZXBlYXRlZCBlbGVtZW50cyAod2hpY2ggbXVzdCBiZVxuICogICBpZGVudGljYWwgZm9yIGVhY2ggZWxlbWVudCkuIE9wdGlvbmFsLiBXaWxsIGF0dGVtcHQgdG8gcmVhZCB0aGUgc2l6ZSBmcm9tIHRoZSBkb20gaWYgbWlzc2luZyxcbiAqICAgYnV0IHN0aWxsIGFzc3VtZXMgdGhhdCBhbGwgcmVwZWF0ZWQgbm9kZXMgaGF2ZSBzYW1lIGhlaWdodCBvciB3aWR0aC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtZXh0cmEtbmFtZSBFdmFsdWF0ZXMgdG8gYW4gYWRkaXRpb25hbCBuYW1lIHRvIHdoaWNoIHRoZSBjdXJyZW50IGl0ZXJhdGVkIGl0ZW1cbiAqICAgY2FuIGJlIGFzc2lnbmVkIG9uIHRoZSByZXBlYXRlZCBzY29wZSAobmVlZGVkIGZvciB1c2UgaW4gYG1kLWF1dG9jb21wbGV0ZWApLlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtb24tZGVtYW5kIFdoZW4gcHJlc2VudCwgdHJlYXRzIHRoZSBtZC12aXJ0dWFsLXJlcGVhdCBhcmd1bWVudCBhcyBhbiBvYmplY3RcbiAqICAgdGhhdCBjYW4gZmV0Y2ggcm93cyByYXRoZXIgdGhhbiBhbiBhcnJheS5cbiAqXG4gKiAgICoqTk9URToqKiBUaGlzIG9iamVjdCBtdXN0IGltcGxlbWVudCB0aGUgZm9sbG93aW5nIGludGVyZmFjZSB3aXRoIHR3byAoMikgbWV0aG9kczpcbiAqXG4gKiAgIC0gYGdldEl0ZW1BdEluZGV4OiBmdW5jdGlvbihpbmRleCkgW29iamVjdF1gIFRoZSBpdGVtIGF0IHRoYXQgaW5kZXggb3IgbnVsbCBpZiBpdCBpcyBub3QgeWV0XG4gKiAgICAgbG9hZGVkIChpdCBzaG91bGQgc3RhcnQgZG93bmxvYWRpbmcgdGhlIGl0ZW0gaW4gdGhhdCBjYXNlKS5cbiAqICAgLSBgZ2V0TGVuZ3RoOiBmdW5jdGlvbigpIFtudW1iZXJdYCBUaGUgZGF0YSBsZW5ndGggdG8gd2hpY2ggdGhlIHJlcGVhdGVyIGNvbnRhaW5lclxuICogICAgIHNob3VsZCBiZSBzaXplZC4gSWRlYWxseSwgd2hlbiB0aGUgY291bnQgaXMga25vd24sIHRoaXMgbWV0aG9kIHNob3VsZCByZXR1cm4gaXQuXG4gKiAgICAgT3RoZXJ3aXNlLCByZXR1cm4gYSBoaWdoZXIgbnVtYmVyIHRoYW4gdGhlIGN1cnJlbnRseSBsb2FkZWQgaXRlbXMgdG8gcHJvZHVjZSBhblxuICogICAgIGluZmluaXRlLXNjcm9sbCBiZWhhdmlvci5cbiAqL1xuZnVuY3Rpb24gVmlydHVhbFJlcGVhdERpcmVjdGl2ZSgkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250cm9sbGVyOiBWaXJ0dWFsUmVwZWF0Q29udHJvbGxlcixcbiAgICBwcmlvcml0eTogMTAwMCxcbiAgICByZXF1aXJlOiBbJ21kVmlydHVhbFJlcGVhdCcsICdeXm1kVmlydHVhbFJlcGVhdENvbnRhaW5lciddLFxuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIFZpcnR1YWxSZXBlYXRDb21waWxlKCRlbGVtZW50LCAkYXR0cnMpIHtcbiAgICAgIHZhciBleHByZXNzaW9uID0gJGF0dHJzLm1kVmlydHVhbFJlcGVhdDtcbiAgICAgIHZhciBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goL15cXHMqKFtcXHNcXFNdKz8pXFxzK2luXFxzKyhbXFxzXFxTXSs/KVxccyokLyk7XG4gICAgICB2YXIgcmVwZWF0TmFtZSA9IG1hdGNoWzFdO1xuICAgICAgdmFyIHJlcGVhdExpc3RFeHByZXNzaW9uID0gJHBhcnNlKG1hdGNoWzJdKTtcbiAgICAgIHZhciBleHRyYU5hbWUgPSAkYXR0cnMubWRFeHRyYU5hbWUgJiYgJHBhcnNlKCRhdHRycy5tZEV4dHJhTmFtZSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBWaXJ0dWFsUmVwZWF0TGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG4gICAgICAgIGN0cmxbMF0ubGlua18oY3RybFsxXSwgJHRyYW5zY2x1ZGUsIHJlcGVhdE5hbWUsIHJlcGVhdExpc3RFeHByZXNzaW9uLCBleHRyYU5hbWUpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5WaXJ0dWFsUmVwZWF0RGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkcGFyc2VcIl07XG5cblxuLyoqIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gVmlydHVhbFJlcGVhdENvbnRyb2xsZXIoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkYnJvd3NlciwgJGRvY3VtZW50LCAkcm9vdFNjb3BlLFxuICAgICQkckFGKSB7XG4gIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xuICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gIHRoaXMuJGF0dHJzID0gJGF0dHJzO1xuICB0aGlzLiRicm93c2VyID0gJGJyb3dzZXI7XG4gIHRoaXMuJGRvY3VtZW50ID0gJGRvY3VtZW50O1xuICB0aGlzLiRyb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICB0aGlzLiQkckFGID0gJCRyQUY7XG5cbiAgLyoqIEB0eXBlIHtib29sZWFufSBXaGV0aGVyIHdlIGFyZSBpbiBvbi1kZW1hbmQgbW9kZS4gKi9cbiAgdGhpcy5vbkRlbWFuZCA9ICRhdHRycy5oYXNPd25Qcm9wZXJ0eSgnbWRPbkRlbWFuZCcpO1xuICAvKiogQHR5cGUgeyFGdW5jdGlvbn0gQmFja3VwIHJlZmVyZW5jZSB0byAkYnJvd3Nlci4kJGNoZWNrVXJsQ2hhbmdlICovXG4gIHRoaXMuYnJvd3NlckNoZWNrVXJsQ2hhbmdlID0gJGJyb3dzZXIuJCRjaGVja1VybENoYW5nZTtcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IE1vc3QgcmVjZW50IHN0YXJ0aW5nIHJlcGVhdCBpbmRleCAoYmFzZWQgb24gc2Nyb2xsIG9mZnNldCkgKi9cbiAgdGhpcy5uZXdTdGFydEluZGV4ID0gMDtcbiAgLyoqIEB0eXBlIHtudW1iZXJ9IE1vc3QgcmVjZW50IGVuZGluZyByZXBlYXQgaW5kZXggKGJhc2VkIG9uIHNjcm9sbCBvZmZzZXQpICovXG4gIHRoaXMubmV3RW5kSW5kZXggPSAwO1xuICAvKiogQHR5cGUge251bWJlcn0gTW9zdCByZWNlbnQgZW5kIHZpc2libGUgaW5kZXggKGJhc2VkIG9uIHNjcm9sbCBvZmZzZXQpICovXG4gIHRoaXMubmV3VmlzaWJsZUVuZCA9IDA7XG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBQcmV2aW91cyBzdGFydGluZyByZXBlYXQgaW5kZXggKGJhc2VkIG9uIHNjcm9sbCBvZmZzZXQpICovXG4gIHRoaXMuc3RhcnRJbmRleCA9IDA7XG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBQcmV2aW91cyBlbmRpbmcgcmVwZWF0IGluZGV4IChiYXNlZCBvbiBzY3JvbGwgb2Zmc2V0KSAqL1xuICB0aGlzLmVuZEluZGV4ID0gMDtcbiAgLy8gVE9ETzogbWVhc3VyZSB3aWR0aC9oZWlnaHQgb2YgZmlyc3QgZWxlbWVudCBmcm9tIGRvbSBpZiBub3QgcHJvdmlkZWQuXG4gIC8vIGdldENvbXB1dGVkU3R5bGU/XG4gIC8qKiBAdHlwZSB7P251bWJlcn0gSGVpZ2h0L3dpZHRoIG9mIHJlcGVhdGVkIGVsZW1lbnRzLiAqL1xuICB0aGlzLml0ZW1TaXplID0gJHNjb3BlLiRldmFsKCRhdHRycy5tZEl0ZW1TaXplKSB8fCBudWxsO1xuXG4gIC8qKiBAdHlwZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoYXQgaXRlbXMgYXJlIHJlbmRlcmVkLiAqL1xuICB0aGlzLmlzRmlyc3RSZW5kZXIgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gV2hldGhlciB0aGUgaXRlbXMgaW4gdGhlIGxpc3QgYXJlIGFscmVhZHkgYmVpbmcgdXBkYXRlZC4gVXNlZCB0byBwcmV2ZW50XG4gICAqICAgICBuZXN0ZWQgY2FsbHMgdG8gdmlydHVhbFJlcGVhdFVwZGF0ZV8uXG4gICAqL1xuICB0aGlzLmlzVmlydHVhbFJlcGVhdFVwZGF0aW5nXyA9IGZhbHNlO1xuXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSBNb3N0IHJlY2VudGx5IHNlZW4gbGVuZ3RoIG9mIGl0ZW1zLiAqL1xuICB0aGlzLml0ZW1zTGVuZ3RoID0gMDtcblxuICAvKipcbiAgICogQHR5cGUgeyFGdW5jdGlvbn0gVW53YXRjaCBjYWxsYmFjayBmb3IgaXRlbSBzaXplICh3aGVuIG1kLWl0ZW1zLXNpemUgaXNcbiAgICogICAgIG5vdCBzcGVjaWZpZWQpLCBvciBhbmd1bGFyLm5vb3Agb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy51bndhdGNoSXRlbVNpemVfID0gYW5ndWxhci5ub29wO1xuXG4gIC8qKlxuICAgKiBQcmVzZW50bHkgcmVuZGVyZWQgYmxvY2tzIGJ5IHJlcGVhdCBpbmRleC5cbiAgICogQHR5cGUge09iamVjdDxudW1iZXIsICFWaXJ0dWFsUmVwZWF0Q29udHJvbGxlci5CbG9ja31cbiAgICovXG4gIHRoaXMuYmxvY2tzID0ge307XG4gIC8qKiBAdHlwZSB7QXJyYXk8IVZpcnR1YWxSZXBlYXRDb250cm9sbGVyLkJsb2NrPn0gQSBwb29sIG9mIHByZXNlbnRseSB1bnVzZWQgYmxvY2tzLiAqL1xuICB0aGlzLnBvb2xlZEJsb2NrcyA9IFtdO1xufVxuVmlydHVhbFJlcGVhdENvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJGF0dHJzXCIsIFwiJGJyb3dzZXJcIiwgXCIkZG9jdW1lbnRcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJCRyQUZcIl07XG5cblxuLyoqXG4gKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGEgcmVwZWF0ZWQgaXRlbS5cbiAqIEB0eXBlZGVmIHt7ZWxlbWVudDogIWpxTGl0ZSwgbmV3OiBib29sZWFuLCBzY29wZTogIWFuZ3VsYXIuU2NvcGV9fVxuICovXG5WaXJ0dWFsUmVwZWF0Q29udHJvbGxlci5CbG9jaztcblxuXG4vKipcbiAqIENhbGxlZCBhdCBzdGFydHVwIGJ5IHRoZSBtZC12aXJ0dWFsLXJlcGVhdCBwb3N0TGluayBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7IVZpcnR1YWxSZXBlYXRDb250YWluZXJDb250cm9sbGVyfSBjb250YWluZXIgVGhlIGNvbnRhaW5lcidzIGNvbnRyb2xsZXIuXG4gKiBAcGFyYW0geyFGdW5jdGlvbn0gdHJhbnNjbHVkZSBUaGUgcmVwZWF0ZWQgZWxlbWVudCdzIGJvdW5kIHRyYW5zY2x1ZGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVwZWF0TmFtZSBUaGUgbGVmdCBoYW5kIHNpZGUgb2YgdGhlIHJlcGVhdCBleHByZXNzaW9uLCBpbmRpY2F0aW5nXG4gKiAgICAgdGhlIG5hbWUgZm9yIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkuXG4gKiBAcGFyYW0geyFGdW5jdGlvbn0gcmVwZWF0TGlzdEV4cHJlc3Npb24gQSBjb21waWxlZCBleHByZXNzaW9uIGJhc2VkIG9uIHRoZSByaWdodCBoYW5kIHNpZGVcbiAqICAgICBvZiB0aGUgcmVwZWF0IGV4cHJlc3Npb24uIFBvaW50cyB0byB0aGUgYXJyYXkgdG8gcmVwZWF0IG92ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IGV4dHJhTmFtZSBUaGUgb3B0aW9uYWwgZXh0cmEgcmVwZWF0TmFtZS5cbiAqL1xuVmlydHVhbFJlcGVhdENvbnRyb2xsZXIucHJvdG90eXBlLmxpbmtfID1cbiAgICBmdW5jdGlvbihjb250YWluZXIsIHRyYW5zY2x1ZGUsIHJlcGVhdE5hbWUsIHJlcGVhdExpc3RFeHByZXNzaW9uLCBleHRyYU5hbWUpIHtcbiAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gIHRoaXMudHJhbnNjbHVkZSA9IHRyYW5zY2x1ZGU7XG4gIHRoaXMucmVwZWF0TmFtZSA9IHJlcGVhdE5hbWU7XG4gIHRoaXMucmF3UmVwZWF0TGlzdEV4cHJlc3Npb24gPSByZXBlYXRMaXN0RXhwcmVzc2lvbjtcbiAgdGhpcy5leHRyYU5hbWUgPSBleHRyYU5hbWU7XG4gIHRoaXMuc2l6ZWQgPSBmYWxzZTtcblxuICB0aGlzLnJlcGVhdExpc3RFeHByZXNzaW9uID0gYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMucmVwZWF0TGlzdEV4cHJlc3Npb25fKTtcblxuICB0aGlzLmNvbnRhaW5lci5yZWdpc3Rlcih0aGlzKTtcbn07XG5cblxuLyoqIEBwcml2YXRlIEF0dGVtcHRzIHRvIHNldCBpdGVtU2l6ZSBieSBtZWFzdXJpbmcgYSByZXBlYXRlZCBlbGVtZW50IGluIHRoZSBkb20gKi9cblZpcnR1YWxSZXBlYXRDb250cm9sbGVyLnByb3RvdHlwZS5yZWFkSXRlbVNpemVfID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLml0ZW1TaXplKSB7XG4gICAgLy8gaXRlbVNpemUgd2FzIHN1Y2Nlc3NmdWxseSByZWFkIGluIGEgZGlmZmVyZW50IGFzeW5jaHJvbm91cyBjYWxsLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuaXRlbXMgPSB0aGlzLnJlcGVhdExpc3RFeHByZXNzaW9uKHRoaXMuJHNjb3BlKTtcbiAgdGhpcy5wYXJlbnROb2RlID0gdGhpcy4kZWxlbWVudFswXS5wYXJlbnROb2RlO1xuICB2YXIgYmxvY2sgPSB0aGlzLmdldEJsb2NrXygwKTtcbiAgaWYgKCFibG9jay5lbGVtZW50WzBdLnBhcmVudE5vZGUpIHtcbiAgICB0aGlzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYmxvY2suZWxlbWVudFswXSk7XG4gIH1cblxuICB0aGlzLml0ZW1TaXplID0gYmxvY2suZWxlbWVudFswXVtcbiAgICAgIHRoaXMuY29udGFpbmVyLmlzSG9yaXpvbnRhbCgpID8gJ29mZnNldFdpZHRoJyA6ICdvZmZzZXRIZWlnaHQnXSB8fCBudWxsO1xuXG4gIHRoaXMuYmxvY2tzWzBdID0gYmxvY2s7XG4gIHRoaXMucG9vbEJsb2NrXygwKTtcblxuICBpZiAodGhpcy5pdGVtU2l6ZSkge1xuICAgIHRoaXMuY29udGFpbmVyVXBkYXRlZCgpO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgdXNlci1zcGVjaWZpZWQgcmVwZWF0IGxpc3QsIHRyYW5zZm9ybWluZyBpdCBpbnRvIGFuIGFycmF5LWxpa2VcbiAqIG9iamVjdCBpbiB0aGUgY2FzZSBvZiBpbmZpbml0ZSBzY3JvbGwvZHluYW1pYyBsb2FkIG1vZGUuXG4gKiBAcGFyYW0geyFhbmd1bGFyLlNjb3BlfSBUaGUgc2NvcGUuXG4gKiBAcmV0dXJuIHshQXJyYXl8IU9iamVjdH0gQW4gYXJyYXkgb3IgYXJyYXktbGlrZSBvYmplY3QgZm9yIGl0ZXJhdGlvbi5cbiAqL1xuVmlydHVhbFJlcGVhdENvbnRyb2xsZXIucHJvdG90eXBlLnJlcGVhdExpc3RFeHByZXNzaW9uXyA9IGZ1bmN0aW9uKHNjb3BlKSB7XG4gIHZhciByZXBlYXRMaXN0ID0gdGhpcy5yYXdSZXBlYXRMaXN0RXhwcmVzc2lvbihzY29wZSk7XG5cbiAgaWYgKHRoaXMub25EZW1hbmQgJiYgcmVwZWF0TGlzdCkge1xuICAgIHZhciB2aXJ0dWFsTGlzdCA9IG5ldyBWaXJ0dWFsUmVwZWF0TW9kZWxBcnJheUxpa2UocmVwZWF0TGlzdCk7XG4gICAgdmlydHVhbExpc3QuJCRpbmNsdWRlSW5kZXhlcyh0aGlzLm5ld1N0YXJ0SW5kZXgsIHRoaXMubmV3VmlzaWJsZUVuZCk7XG4gICAgcmV0dXJuIHZpcnR1YWxMaXN0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXBlYXRMaXN0O1xuICB9XG59O1xuXG5cbi8qKlxuICogQ2FsbGVkIGJ5IHRoZSBjb250YWluZXIuIEluZm9ybXMgdXMgdGhhdCB0aGUgY29udGFpbmVycyBzY3JvbGwgb3Igc2l6ZSBoYXNcbiAqIGNoYW5nZWQuXG4gKi9cblZpcnR1YWxSZXBlYXRDb250cm9sbGVyLnByb3RvdHlwZS5jb250YWluZXJVcGRhdGVkID0gZnVuY3Rpb24oKSB7XG4gIC8vIElmIGl0ZW1TaXplIGlzIHVua25vd24sIGF0dGVtcHQgdG8gbWVhc3VyZSBpdC5cbiAgaWYgKCF0aGlzLml0ZW1TaXplKSB7XG4gICAgdGhpcy51bndhdGNoSXRlbVNpemVfID0gdGhpcy4kc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihcbiAgICAgICAgdGhpcy5yZXBlYXRMaXN0RXhwcmVzc2lvbixcbiAgICAgICAgYW5ndWxhci5iaW5kKHRoaXMsIGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgaWYgKGl0ZW1zICYmIGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy4kJHJBRihhbmd1bGFyLmJpbmQodGhpcywgdGhpcy5yZWFkSXRlbVNpemVfKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgaWYgKCF0aGlzLiRyb290U2NvcGUuJCRwaGFzZSkgdGhpcy4kc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKCF0aGlzLnNpemVkKSB7XG4gICAgdGhpcy5pdGVtcyA9IHRoaXMucmVwZWF0TGlzdEV4cHJlc3Npb24odGhpcy4kc2NvcGUpO1xuICB9XG5cbiAgaWYgKCF0aGlzLnNpemVkKSB7XG4gICAgdGhpcy51bndhdGNoSXRlbVNpemVfKCk7XG4gICAgdGhpcy5zaXplZCA9IHRydWU7XG4gICAgdGhpcy4kc2NvcGUuJHdhdGNoQ29sbGVjdGlvbih0aGlzLnJlcGVhdExpc3RFeHByZXNzaW9uLFxuICAgICAgICBhbmd1bGFyLmJpbmQodGhpcywgZnVuY3Rpb24oaXRlbXMsIG9sZEl0ZW1zKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzVmlydHVhbFJlcGVhdFVwZGF0aW5nXykge1xuICAgICAgICAgICAgdGhpcy52aXJ0dWFsUmVwZWF0VXBkYXRlXyhpdGVtcywgb2xkSXRlbXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICB9XG5cbiAgdGhpcy51cGRhdGVJbmRleGVzXygpO1xuXG4gIGlmICh0aGlzLm5ld1N0YXJ0SW5kZXggIT09IHRoaXMuc3RhcnRJbmRleCB8fFxuICAgICAgdGhpcy5uZXdFbmRJbmRleCAhPT0gdGhpcy5lbmRJbmRleCB8fFxuICAgICAgdGhpcy5jb250YWluZXIuZ2V0U2Nyb2xsT2Zmc2V0KCkgPiB0aGlzLmNvbnRhaW5lci5nZXRTY3JvbGxTaXplKCkpIHtcbiAgICBpZiAodGhpcy5pdGVtcyBpbnN0YW5jZW9mIFZpcnR1YWxSZXBlYXRNb2RlbEFycmF5TGlrZSkge1xuICAgICAgdGhpcy5pdGVtcy4kJGluY2x1ZGVJbmRleGVzKHRoaXMubmV3U3RhcnRJbmRleCwgdGhpcy5uZXdFbmRJbmRleCk7XG4gICAgfVxuICAgIHRoaXMudmlydHVhbFJlcGVhdFVwZGF0ZV8odGhpcy5pdGVtcywgdGhpcy5pdGVtcyk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDYWxsZWQgYnkgdGhlIGNvbnRhaW5lci4gUmV0dXJucyB0aGUgc2l6ZSBvZiBhIHNpbmdsZSByZXBlYXRlZCBpdGVtLlxuICogQHJldHVybiB7P251bWJlcn0gU2l6ZSBvZiBhIHJlcGVhdGVkIGl0ZW0uXG4gKi9cblZpcnR1YWxSZXBlYXRDb250cm9sbGVyLnByb3RvdHlwZS5nZXRJdGVtU2l6ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pdGVtU2l6ZTtcbn07XG5cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBvcmRlciBhbmQgdmlzaWJsZSBvZmZzZXQgb2YgcmVwZWF0ZWQgYmxvY2tzIGluIHJlc3BvbnNlIHRvIHNjcm9sbGluZ1xuICogb3IgaXRlbXMgdXBkYXRlcy5cbiAqIEBwcml2YXRlXG4gKi9cblZpcnR1YWxSZXBlYXRDb250cm9sbGVyLnByb3RvdHlwZS52aXJ0dWFsUmVwZWF0VXBkYXRlXyA9IGZ1bmN0aW9uKGl0ZW1zLCBvbGRJdGVtcykge1xuICB0aGlzLmlzVmlydHVhbFJlcGVhdFVwZGF0aW5nXyA9IHRydWU7XG5cbiAgdmFyIGl0ZW1zTGVuZ3RoID0gaXRlbXMgJiYgaXRlbXMubGVuZ3RoIHx8IDA7XG4gIHZhciBsZW5ndGhDaGFuZ2VkID0gZmFsc2U7XG5cbiAgLy8gSWYgdGhlIG51bWJlciBvZiBpdGVtcyBzaHJhbmssIHNjcm9sbCB1cCB0byB0aGUgdG9wLlxuICBpZiAodGhpcy5pdGVtcyAmJiBpdGVtc0xlbmd0aCA8IHRoaXMuaXRlbXMubGVuZ3RoICYmIHRoaXMuY29udGFpbmVyLmdldFNjcm9sbE9mZnNldCgpICE9PSAwKSB7XG4gICAgdGhpcy5pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuY29udGFpbmVyLnJlc2V0U2Nyb2xsKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGl0ZW1zTGVuZ3RoICE9PSB0aGlzLml0ZW1zTGVuZ3RoKSB7XG4gICAgbGVuZ3RoQ2hhbmdlZCA9IHRydWU7XG4gICAgdGhpcy5pdGVtc0xlbmd0aCA9IGl0ZW1zTGVuZ3RoO1xuICB9XG5cbiAgdGhpcy5pdGVtcyA9IGl0ZW1zO1xuICBpZiAoaXRlbXMgIT09IG9sZEl0ZW1zIHx8IGxlbmd0aENoYW5nZWQpIHtcbiAgICB0aGlzLnVwZGF0ZUluZGV4ZXNfKCk7XG4gIH1cblxuICB0aGlzLnBhcmVudE5vZGUgPSB0aGlzLiRlbGVtZW50WzBdLnBhcmVudE5vZGU7XG5cbiAgaWYgKGxlbmd0aENoYW5nZWQpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5zZXRTY3JvbGxTaXplKGl0ZW1zTGVuZ3RoICogdGhpcy5pdGVtU2l6ZSk7XG4gIH1cblxuICBpZiAodGhpcy5pc0ZpcnN0UmVuZGVyKSB7XG4gICAgdGhpcy5pc0ZpcnN0UmVuZGVyID0gZmFsc2U7XG4gICAgdmFyIHN0YXJ0SW5kZXggPSB0aGlzLiRhdHRycy5tZFN0YXJ0SW5kZXggP1xuICAgICAgdGhpcy4kc2NvcGUuJGV2YWwodGhpcy4kYXR0cnMubWRTdGFydEluZGV4KSA6XG4gICAgICB0aGlzLmNvbnRhaW5lci50b3BJbmRleDtcbiAgICB0aGlzLmNvbnRhaW5lci5zY3JvbGxUb0luZGV4KHN0YXJ0SW5kZXgpO1xuICB9XG5cbiAgLy8gRGV0YWNoIGFuZCBwb29sIGFueSBibG9ja3MgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSB2aWV3cG9ydC5cbiAgT2JqZWN0LmtleXModGhpcy5ibG9ja3MpLmZvckVhY2goZnVuY3Rpb24oYmxvY2tJbmRleCkge1xuICAgIHZhciBpbmRleCA9IHBhcnNlSW50KGJsb2NrSW5kZXgsIDEwKTtcbiAgICBpZiAoaW5kZXggPCB0aGlzLm5ld1N0YXJ0SW5kZXggfHwgaW5kZXggPj0gdGhpcy5uZXdFbmRJbmRleCkge1xuICAgICAgdGhpcy5wb29sQmxvY2tfKGluZGV4KTtcbiAgICB9XG4gIH0sIHRoaXMpO1xuXG4gIC8vIEFkZCBuZWVkZWQgYmxvY2tzLlxuICAvLyBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgdGVtcG9yYXJpbHkgYmxvY2sgYnJvd3NlciB1cmwgY2hlY2tzIGFzIHdlIGRpZ2VzdFxuICAvLyB0aGUgcmVzdG9yZWQgYmxvY2sgc2NvcGVzICgkJGNoZWNrVXJsQ2hhbmdlIHJlYWRzIHdpbmRvdy5sb2NhdGlvbiB0b1xuICAvLyBjaGVjayBmb3IgY2hhbmdlcyBhbmQgdHJpZ2dlciByb3V0ZSBjaGFuZ2UsIGV0Yywgd2hpY2ggd2UgZG9uJ3QgbmVlZCB3aGVuXG4gIC8vIHRyeWluZyB0byBzY3JvbGwgYXQgNjBmcHMpLlxuICB0aGlzLiRicm93c2VyLiQkY2hlY2tVcmxDaGFuZ2UgPSBhbmd1bGFyLm5vb3A7XG5cbiAgdmFyIGksIGJsb2NrLFxuICAgICAgbmV3U3RhcnRCbG9ja3MgPSBbXSxcbiAgICAgIG5ld0VuZEJsb2NrcyA9IFtdO1xuXG4gIC8vIENvbGxlY3QgYmxvY2tzIGF0IHRoZSB0b3AuXG4gIGZvciAoaSA9IHRoaXMubmV3U3RhcnRJbmRleDsgaSA8IHRoaXMubmV3RW5kSW5kZXggJiYgdGhpcy5ibG9ja3NbaV0gPT0gbnVsbDsgaSsrKSB7XG4gICAgYmxvY2sgPSB0aGlzLmdldEJsb2NrXyhpKTtcbiAgICB0aGlzLnVwZGF0ZUJsb2NrXyhibG9jaywgaSk7XG4gICAgbmV3U3RhcnRCbG9ja3MucHVzaChibG9jayk7XG4gIH1cblxuICAvLyBVcGRhdGUgYmxvY2tzIHRoYXQgYXJlIGFscmVhZHkgcmVuZGVyZWQuXG4gIGZvciAoOyB0aGlzLmJsb2Nrc1tpXSAhPSBudWxsOyBpKyspIHtcbiAgICB0aGlzLnVwZGF0ZUJsb2NrXyh0aGlzLmJsb2Nrc1tpXSwgaSk7XG4gIH1cbiAgdmFyIG1heEluZGV4ID0gaSAtIDE7XG5cbiAgLy8gQ29sbGVjdCBibG9ja3MgYXQgdGhlIGVuZC5cbiAgZm9yICg7IGkgPCB0aGlzLm5ld0VuZEluZGV4OyBpKyspIHtcbiAgICBibG9jayA9IHRoaXMuZ2V0QmxvY2tfKGkpO1xuICAgIHRoaXMudXBkYXRlQmxvY2tfKGJsb2NrLCBpKTtcbiAgICBuZXdFbmRCbG9ja3MucHVzaChibG9jayk7XG4gIH1cblxuICAvLyBBdHRhY2ggY29sbGVjdGVkIGJsb2NrcyB0byB0aGUgZG9jdW1lbnQuXG4gIGlmIChuZXdTdGFydEJsb2Nrcy5sZW5ndGgpIHtcbiAgICB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFxuICAgICAgICB0aGlzLmRvbUZyYWdtZW50RnJvbUJsb2Nrc18obmV3U3RhcnRCbG9ja3MpLFxuICAgICAgICB0aGlzLiRlbGVtZW50WzBdLm5leHRTaWJsaW5nKTtcbiAgfVxuICBpZiAobmV3RW5kQmxvY2tzLmxlbmd0aCkge1xuICAgIHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoXG4gICAgICAgIHRoaXMuZG9tRnJhZ21lbnRGcm9tQmxvY2tzXyhuZXdFbmRCbG9ja3MpLFxuICAgICAgICB0aGlzLmJsb2Nrc1ttYXhJbmRleF0gJiYgdGhpcy5ibG9ja3NbbWF4SW5kZXhdLmVsZW1lbnRbMF0ubmV4dFNpYmxpbmcpO1xuICB9XG5cbiAgLy8gUmVzdG9yZSAkJGNoZWNrVXJsQ2hhbmdlLlxuICB0aGlzLiRicm93c2VyLiQkY2hlY2tVcmxDaGFuZ2UgPSB0aGlzLmJyb3dzZXJDaGVja1VybENoYW5nZTtcblxuICB0aGlzLnN0YXJ0SW5kZXggPSB0aGlzLm5ld1N0YXJ0SW5kZXg7XG4gIHRoaXMuZW5kSW5kZXggPSB0aGlzLm5ld0VuZEluZGV4O1xuXG4gIHRoaXMuaXNWaXJ0dWFsUmVwZWF0VXBkYXRpbmdfID0gZmFsc2U7XG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFdoZXJlIHRoZSBibG9jayBpcyB0byBiZSBpbiB0aGUgcmVwZWF0ZWQgbGlzdC5cbiAqIEByZXR1cm4geyFWaXJ0dWFsUmVwZWF0Q29udHJvbGxlci5CbG9ja30gQSBuZXcgb3IgcG9vbGVkIGJsb2NrIHRvIHBsYWNlIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gKiBAcHJpdmF0ZVxuICovXG5WaXJ0dWFsUmVwZWF0Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0QmxvY2tfID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgaWYgKHRoaXMucG9vbGVkQmxvY2tzLmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLnBvb2xlZEJsb2Nrcy5wb3AoKTtcbiAgfVxuXG4gIHZhciBibG9jaztcbiAgdGhpcy50cmFuc2NsdWRlKGFuZ3VsYXIuYmluZCh0aGlzLCBmdW5jdGlvbihjbG9uZSwgc2NvcGUpIHtcbiAgICBibG9jayA9IHtcbiAgICAgIGVsZW1lbnQ6IGNsb25lLFxuICAgICAgbmV3OiB0cnVlLFxuICAgICAgc2NvcGU6IHNjb3BlXG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlU2NvcGVfKHNjb3BlLCBpbmRleCk7XG4gICAgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGNsb25lWzBdKTtcbiAgfSkpO1xuXG4gIHJldHVybiBibG9jaztcbn07XG5cblxuLyoqXG4gKiBVcGRhdGVzIGFuZCBpZiBub3QgaW4gYSBkaWdlc3QgY3ljbGUsIGRpZ2VzdHMgdGhlIHNwZWNpZmllZCBibG9jaydzIHNjb3BlIHRvIHRoZSBkYXRhXG4gKiBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICogQHBhcmFtIHshVmlydHVhbFJlcGVhdENvbnRyb2xsZXIuQmxvY2t9IGJsb2NrIFRoZSBibG9jayB3aG9zZSBzY29wZSBzaG91bGQgYmUgdXBkYXRlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggdG8gc2V0LlxuICogQHByaXZhdGVcbiAqL1xuVmlydHVhbFJlcGVhdENvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZUJsb2NrXyA9IGZ1bmN0aW9uKGJsb2NrLCBpbmRleCkge1xuICB0aGlzLmJsb2Nrc1tpbmRleF0gPSBibG9jaztcblxuICBpZiAoIWJsb2NrLm5ldyAmJlxuICAgICAgKGJsb2NrLnNjb3BlLiRpbmRleCA9PT0gaW5kZXggJiYgYmxvY2suc2NvcGVbdGhpcy5yZXBlYXROYW1lXSA9PT0gdGhpcy5pdGVtc1tpbmRleF0pKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGJsb2NrLm5ldyA9IGZhbHNlO1xuXG4gIC8vIFVwZGF0ZSBhbmQgZGlnZXN0IHRoZSBibG9jaydzIHNjb3BlLlxuICB0aGlzLnVwZGF0ZVNjb3BlXyhibG9jay5zY29wZSwgaW5kZXgpO1xuXG4gIC8vIFBlcmZvcm0gZGlnZXN0IGJlZm9yZSByZWF0dGFjaGluZyB0aGUgYmxvY2suXG4gIC8vIEFueSByZXN1bHRpbmcgc3luY2hyb25vdXMgZG9tIG11dGF0aW9ucyBzaG91bGQgYmUgbXVjaCBmYXN0ZXIgYXMgYSByZXN1bHQuXG4gIC8vIFRoaXMgbWlnaHQgYnJlYWsgc29tZSBkaXJlY3RpdmVzLCBidXQgSSdtIGdvaW5nIHRvIHRyeSBpdCBmb3Igbm93LlxuICBpZiAoIXRoaXMuJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgYmxvY2suc2NvcGUuJGRpZ2VzdCgpO1xuICB9XG59O1xuXG5cbi8qKlxuICogVXBkYXRlcyBzY29wZSB0byB0aGUgZGF0YSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICogQHBhcmFtIHshYW5ndWxhci5TY29wZX0gc2NvcGUgVGhlIHNjb3BlIHdoaWNoIHNob3VsZCBiZSB1cGRhdGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCB0byBzZXQuXG4gKiBAcHJpdmF0ZVxuICovXG5WaXJ0dWFsUmVwZWF0Q29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlU2NvcGVfID0gZnVuY3Rpb24oc2NvcGUsIGluZGV4KSB7XG4gIHNjb3BlLiRpbmRleCA9IGluZGV4O1xuICBzY29wZVt0aGlzLnJlcGVhdE5hbWVdID0gdGhpcy5pdGVtcyAmJiB0aGlzLml0ZW1zW2luZGV4XTtcbiAgaWYgKHRoaXMuZXh0cmFOYW1lKSBzY29wZVt0aGlzLmV4dHJhTmFtZSh0aGlzLiRzY29wZSldID0gdGhpcy5pdGVtc1tpbmRleF07XG59O1xuXG5cbi8qKlxuICogUG9vbHMgdGhlIGJsb2NrIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXggKFB1bGxzIGl0cyBlbGVtZW50IG91dCBvZiB0aGUgZG9tIGFuZCBzdG9yZXMgaXQpLlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBhdCB3aGljaCB0aGUgYmxvY2sgdG8gcG9vbCBpcyBzdG9yZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5WaXJ0dWFsUmVwZWF0Q29udHJvbGxlci5wcm90b3R5cGUucG9vbEJsb2NrXyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHRoaXMucG9vbGVkQmxvY2tzLnB1c2godGhpcy5ibG9ja3NbaW5kZXhdKTtcbiAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuYmxvY2tzW2luZGV4XS5lbGVtZW50WzBdKTtcbiAgZGVsZXRlIHRoaXMuYmxvY2tzW2luZGV4XTtcbn07XG5cblxuLyoqXG4gKiBQcm9kdWNlcyBhIGRvbSBmcmFnbWVudCBjb250YWluaW5nIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBsaXN0IG9mIGJsb2Nrcy5cbiAqIEBwYXJhbSB7IUFycmF5PCFWaXJ0dWFsUmVwZWF0Q29udHJvbGxlci5CbG9jaz59IGJsb2NrcyBUaGUgYmxvY2tzIHdob3NlIGVsZW1lbnRzXG4gKiAgICAgc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBkb2N1bWVudCBmcmFnbWVudC5cbiAqIEByZXR1cm4ge0RvY3VtZW50RnJhZ21lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5WaXJ0dWFsUmVwZWF0Q29udHJvbGxlci5wcm90b3R5cGUuZG9tRnJhZ21lbnRGcm9tQmxvY2tzXyA9IGZ1bmN0aW9uKGJsb2Nrcykge1xuICB2YXIgZnJhZ21lbnQgPSB0aGlzLiRkb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIGJsb2Nrcy5mb3JFYWNoKGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoYmxvY2suZWxlbWVudFswXSk7XG4gIH0pO1xuICByZXR1cm4gZnJhZ21lbnQ7XG59O1xuXG5cbi8qKlxuICogVXBkYXRlcyBzdGFydCBhbmQgZW5kIGluZGV4ZXMgYmFzZWQgb24gbGVuZ3RoIG9mIHJlcGVhdGVkIGl0ZW1zIGFuZCBjb250YWluZXIgc2l6ZS5cbiAqIEBwcml2YXRlXG4gKi9cblZpcnR1YWxSZXBlYXRDb250cm9sbGVyLnByb3RvdHlwZS51cGRhdGVJbmRleGVzXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXNMZW5ndGggPSB0aGlzLml0ZW1zID8gdGhpcy5pdGVtcy5sZW5ndGggOiAwO1xuICB2YXIgY29udGFpbmVyTGVuZ3RoID0gTWF0aC5jZWlsKHRoaXMuY29udGFpbmVyLmdldFNpemUoKSAvIHRoaXMuaXRlbVNpemUpO1xuXG4gIHRoaXMubmV3U3RhcnRJbmRleCA9IE1hdGgubWF4KDAsIE1hdGgubWluKFxuICAgICAgaXRlbXNMZW5ndGggLSBjb250YWluZXJMZW5ndGgsXG4gICAgICBNYXRoLmZsb29yKHRoaXMuY29udGFpbmVyLmdldFNjcm9sbE9mZnNldCgpIC8gdGhpcy5pdGVtU2l6ZSkpKTtcbiAgdGhpcy5uZXdWaXNpYmxlRW5kID0gdGhpcy5uZXdTdGFydEluZGV4ICsgY29udGFpbmVyTGVuZ3RoICsgTlVNX0VYVFJBO1xuICB0aGlzLm5ld0VuZEluZGV4ID0gTWF0aC5taW4oaXRlbXNMZW5ndGgsIHRoaXMubmV3VmlzaWJsZUVuZCk7XG4gIHRoaXMubmV3U3RhcnRJbmRleCA9IE1hdGgubWF4KDAsIHRoaXMubmV3U3RhcnRJbmRleCAtIE5VTV9FWFRSQSk7XG59O1xuXG4vKipcbiAqIFRoaXMgVmlydHVhbFJlcGVhdE1vZGVsQXJyYXlMaWtlIGNsYXNzIGVuZm9yY2VzIHRoZSBpbnRlcmZhY2UgcmVxdWlyZW1lbnRzXG4gKiBmb3IgaW5maW5pdGUgc2Nyb2xsaW5nIHdpdGhpbiBhIG1kVmlydHVhbFJlcGVhdENvbnRhaW5lci4gQW4gb2JqZWN0IHdpdGggdGhpc1xuICogaW50ZXJmYWNlIG11c3QgaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlIHdpdGggdHdvICgyKSBtZXRob2RzOlxuICpcbiAqIGdldEl0ZW1BdEluZGV4OiBmdW5jdGlvbihpbmRleCkgLT4gaXRlbSBhdCB0aGF0IGluZGV4IG9yIG51bGwgaWYgaXQgaXMgbm90IHlldFxuICogICAgIGxvYWRlZCAoSXQgc2hvdWxkIHN0YXJ0IGRvd25sb2FkaW5nIHRoZSBpdGVtIGluIHRoYXQgY2FzZSkuXG4gKlxuICogZ2V0TGVuZ3RoOiBmdW5jdGlvbigpIC0+IG51bWJlciBUaGUgZGF0YSBsZWdudGggdG8gd2hpY2ggdGhlIHJlcGVhdGVyIGNvbnRhaW5lclxuICogICAgIHNob3VsZCBiZSBzaXplZC4gSWRlYWxseSwgd2hlbiB0aGUgY291bnQgaXMga25vd24sIHRoaXMgbWV0aG9kIHNob3VsZCByZXR1cm4gaXQuXG4gKiAgICAgT3RoZXJ3aXNlLCByZXR1cm4gYSBoaWdoZXIgbnVtYmVyIHRoYW4gdGhlIGN1cnJlbnRseSBsb2FkZWQgaXRlbXMgdG8gcHJvZHVjZSBhblxuICogICAgIGluZmluaXRlLXNjcm9sbCBiZWhhdmlvci5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgPG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lciBtZC1vcmllbnQtaG9yaXpvbnRhbD5cbiAqICAgIDxkaXYgbWQtdmlydHVhbC1yZXBlYXQ9XCJpIGluIGl0ZW1zXCIgbWQtb24tZGVtYW5kPlxuICogICAgICBIZWxsbyB7e2l9fSFcbiAqICAgIDwvZGl2PlxuICogIDwvbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyPlxuICogPC9obGpzPlxuICpcbiAqL1xuZnVuY3Rpb24gVmlydHVhbFJlcGVhdE1vZGVsQXJyYXlMaWtlKG1vZGVsKSB7XG4gIGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKG1vZGVsLmdldEl0ZW1BdEluZGV4KSB8fFxuICAgICAgIWFuZ3VsYXIuaXNGdW5jdGlvbihtb2RlbC5nZXRMZW5ndGgpKSB7XG4gICAgdGhyb3cgRXJyb3IoJ1doZW4gbWQtb24tZGVtYW5kIGlzIGVuYWJsZWQsIHRoZSBPYmplY3QgcGFzc2VkIHRvIG1kLXZpcnR1YWwtcmVwZWF0IG11c3QgaW1wbGVtZW50ICcgK1xuICAgICAgICAnZnVuY3Rpb25zIGdldEl0ZW1BdEluZGV4KCkgYW5kIGdldExlbmd0aCgpICcpO1xuICB9XG5cbiAgdGhpcy5tb2RlbCA9IG1vZGVsO1xufVxuXG5cblZpcnR1YWxSZXBlYXRNb2RlbEFycmF5TGlrZS5wcm90b3R5cGUuJCRpbmNsdWRlSW5kZXhlcyA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIHRoaXNbaV0gPSB0aGlzLm1vZGVsLmdldEl0ZW1BdEluZGV4KGkpO1xuICAgIH1cbiAgfVxuICB0aGlzLmxlbmd0aCA9IHRoaXMubW9kZWwuZ2V0TGVuZ3RoKCk7XG59O1xuXG5cbmZ1bmN0aW9uIGFic3RyYWN0TWV0aG9kKCkge1xuICB0aHJvdyBFcnJvcignTm9uLW92ZXJyaWRkZW4gYWJzdHJhY3QgbWV0aG9kIGNhbGxlZC4nKTtcbn1cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy53aGl0ZWZyYW1lXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLndoaXRlZnJhbWUnLCBbXSk7XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5hdXRvY29tcGxldGUnKVxuICAgIC5jb250cm9sbGVyKCdNZEF1dG9jb21wbGV0ZUN0cmwnLCBNZEF1dG9jb21wbGV0ZUN0cmwpO1xuXG52YXIgSVRFTV9IRUlHSFQgICA9IDQxLFxuICAgIE1BWF9IRUlHSFQgICAgPSA1LjUgKiBJVEVNX0hFSUdIVCxcbiAgICBNRU5VX1BBRERJTkcgID0gOCxcbiAgICBJTlBVVF9QQURESU5HID0gMjsgLy8gUGFkZGluZyBwcm92aWRlZCBieSBgbWQtaW5wdXQtY29udGFpbmVyYFxuXG5mdW5jdGlvbiBNZEF1dG9jb21wbGV0ZUN0cmwgKCRzY29wZSwgJGVsZW1lbnQsICRtZFV0aWwsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nLCAkd2luZG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW5pbWF0ZSwgJHJvb3RFbGVtZW50LCAkYXR0cnMsICRxKSB7XG4gIC8vLS0gcHJpdmF0ZSB2YXJpYWJsZXNcbiAgdmFyIGN0cmwgICAgICAgICAgICAgICAgID0gdGhpcyxcbiAgICAgIGl0ZW1QYXJ0cyAgICAgICAgICAgID0gJHNjb3BlLml0ZW1zRXhwci5zcGxpdCgvIGluIC9pKSxcbiAgICAgIGl0ZW1FeHByICAgICAgICAgICAgID0gaXRlbVBhcnRzWyAxIF0sXG4gICAgICBlbGVtZW50cyAgICAgICAgICAgICA9IG51bGwsXG4gICAgICBjYWNoZSAgICAgICAgICAgICAgICA9IHt9LFxuICAgICAgbm9CbHVyICAgICAgICAgICAgICAgPSBmYWxzZSxcbiAgICAgIHNlbGVjdGVkSXRlbVdhdGNoZXJzID0gW10sXG4gICAgICBoYXNGb2N1cyAgICAgICAgICAgICA9IGZhbHNlLFxuICAgICAgbGFzdENvdW50ICAgICAgICAgICAgPSAwO1xuXG4gIC8vLS0gcHVibGljIHZhcmlhYmxlcyB3aXRoIGhhbmRsZXJzXG4gIGRlZmluZVByb3BlcnR5KCdoaWRkZW4nLCBoYW5kbGVIaWRkZW5DaGFuZ2UsIHRydWUpO1xuXG4gIC8vLS0gcHVibGljIHZhcmlhYmxlc1xuICBjdHJsLnNjb3BlICAgICAgPSAkc2NvcGU7XG4gIGN0cmwucGFyZW50ICAgICA9ICRzY29wZS4kcGFyZW50O1xuICBjdHJsLml0ZW1OYW1lICAgPSBpdGVtUGFydHNbIDAgXTtcbiAgY3RybC5tYXRjaGVzICAgID0gW107XG4gIGN0cmwubG9hZGluZyAgICA9IGZhbHNlO1xuICBjdHJsLmhpZGRlbiAgICAgPSB0cnVlO1xuICBjdHJsLmluZGV4ICAgICAgPSBudWxsO1xuICBjdHJsLm1lc3NhZ2VzICAgPSBbXTtcbiAgY3RybC5pZCAgICAgICAgID0gJG1kVXRpbC5uZXh0VWlkKCk7XG4gIGN0cmwuaXNEaXNhYmxlZCA9IG51bGw7XG4gIGN0cmwuaXNSZXF1aXJlZCA9IG51bGw7XG4gIGN0cmwuaGFzTm90Rm91bmQgPSBmYWxzZTtcblxuICAvLy0tIHB1YmxpYyBtZXRob2RzXG4gIGN0cmwua2V5ZG93biAgICAgICAgICAgICAgICAgICAgICAgPSBrZXlkb3duO1xuICBjdHJsLmJsdXIgICAgICAgICAgICAgICAgICAgICAgICAgID0gYmx1cjtcbiAgY3RybC5mb2N1cyAgICAgICAgICAgICAgICAgICAgICAgICA9IGZvY3VzO1xuICBjdHJsLmNsZWFyICAgICAgICAgICAgICAgICAgICAgICAgID0gY2xlYXJWYWx1ZTtcbiAgY3RybC5zZWxlY3QgICAgICAgICAgICAgICAgICAgICAgICA9IHNlbGVjdDtcbiAgY3RybC5saXN0RW50ZXIgICAgICAgICAgICAgICAgICAgICA9IG9uTGlzdEVudGVyO1xuICBjdHJsLmxpc3RMZWF2ZSAgICAgICAgICAgICAgICAgICAgID0gb25MaXN0TGVhdmU7XG4gIGN0cmwubW91c2VVcCAgICAgICAgICAgICAgICAgICAgICAgPSBvbk1vdXNldXA7XG4gIGN0cmwuZ2V0Q3VycmVudERpc3BsYXlWYWx1ZSAgICAgICAgPSBnZXRDdXJyZW50RGlzcGxheVZhbHVlO1xuICBjdHJsLnJlZ2lzdGVyU2VsZWN0ZWRJdGVtV2F0Y2hlciAgID0gcmVnaXN0ZXJTZWxlY3RlZEl0ZW1XYXRjaGVyO1xuICBjdHJsLnVucmVnaXN0ZXJTZWxlY3RlZEl0ZW1XYXRjaGVyID0gdW5yZWdpc3RlclNlbGVjdGVkSXRlbVdhdGNoZXI7XG4gIGN0cmwubm90Rm91bmRWaXNpYmxlICAgICAgICAgICAgICAgPSBub3RGb3VuZFZpc2libGU7XG4gIGN0cmwubG9hZGluZ0lzVmlzaWJsZSAgICAgICAgICAgICAgPSBsb2FkaW5nSXNWaXNpYmxlO1xuXG4gIHJldHVybiBpbml0KCk7XG5cbiAgLy8tLSBpbml0aWFsaXphdGlvbiBtZXRob2RzXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGNvbnRyb2xsZXIsIHNldHVwIHdhdGNoZXJzLCBnYXRoZXIgZWxlbWVudHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQgKCkge1xuICAgICRtZFV0aWwuaW5pdE9wdGlvbmFsUHJvcGVydGllcygkc2NvcGUsICRhdHRycywgeyBzZWFyY2hUZXh0OiBudWxsLCBzZWxlY3RlZEl0ZW06IG51bGwgfSk7XG4gICAgJG1kVGhlbWluZygkZWxlbWVudCk7XG4gICAgY29uZmlndXJlV2F0Y2hlcnMoKTtcbiAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIGdhdGhlckVsZW1lbnRzKCk7XG4gICAgICBtb3ZlRHJvcGRvd24oKTtcbiAgICAgIGZvY3VzRWxlbWVudCgpO1xuICAgICAgJGVsZW1lbnQub24oJ2ZvY3VzJywgZm9jdXNFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBkcm9wZG93bidzIHBvc2l0aW9uIGFuZCBhcHBsaWVzIHRoZSBuZXcgc3R5bGVzIHRvIHRoZSBtZW51IGVsZW1lbnRcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBmdW5jdGlvbiBwb3NpdGlvbkRyb3Bkb3duICgpIHtcbiAgICBpZiAoIWVsZW1lbnRzKSByZXR1cm4gJG1kVXRpbC5uZXh0VGljayhwb3NpdGlvbkRyb3Bkb3duLCBmYWxzZSwgJHNjb3BlKTtcbiAgICB2YXIgaHJlY3QgID0gZWxlbWVudHMud3JhcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgdnJlY3QgID0gZWxlbWVudHMuc25hcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgcm9vdCAgID0gZWxlbWVudHMucm9vdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgdG9wICAgID0gdnJlY3QuYm90dG9tIC0gcm9vdC50b3AsXG4gICAgICAgIGJvdCAgICA9IHJvb3QuYm90dG9tIC0gdnJlY3QudG9wLFxuICAgICAgICBsZWZ0ICAgPSBocmVjdC5sZWZ0IC0gcm9vdC5sZWZ0LFxuICAgICAgICB3aWR0aCAgPSBocmVjdC53aWR0aCxcbiAgICAgICAgb2Zmc2V0ID0gZ2V0VmVydGljYWxPZmZzZXQoKSxcbiAgICAgICAgc3R5bGVzO1xuICAgIC8vIEFkanVzdCB0aGUgd2lkdGggdG8gYWNjb3VudCBmb3IgdGhlIHBhZGRpbmcgcHJvdmlkZWQgYnkgYG1kLWlucHV0LWNvbnRhaW5lcmBcbiAgICBpZiAoJGF0dHJzLm1kRmxvYXRpbmdMYWJlbCkge1xuICAgICAgbGVmdCArPSBJTlBVVF9QQURESU5HO1xuICAgICAgd2lkdGggLT0gSU5QVVRfUEFERElORyAqIDI7XG4gICAgfVxuICAgIHN0eWxlcyA9IHtcbiAgICAgIGxlZnQ6ICAgICBsZWZ0ICsgJ3B4JyxcbiAgICAgIG1pbldpZHRoOiB3aWR0aCArICdweCcsXG4gICAgICBtYXhXaWR0aDogTWF0aC5tYXgoaHJlY3QucmlnaHQgLSByb290LmxlZnQsIHJvb3QucmlnaHQgLSBocmVjdC5sZWZ0KSAtIE1FTlVfUEFERElORyArICdweCdcbiAgICB9O1xuICAgIGlmICh0b3AgPiBib3QgJiYgcm9vdC5oZWlnaHQgLSBocmVjdC5ib3R0b20gLSBNRU5VX1BBRERJTkcgPCBNQVhfSEVJR0hUKSB7XG4gICAgICBzdHlsZXMudG9wICAgICAgID0gJ2F1dG8nO1xuICAgICAgc3R5bGVzLmJvdHRvbSAgICA9IGJvdCArICdweCc7XG4gICAgICBzdHlsZXMubWF4SGVpZ2h0ID0gTWF0aC5taW4oTUFYX0hFSUdIVCwgaHJlY3QudG9wIC0gcm9vdC50b3AgLSBNRU5VX1BBRERJTkcpICsgJ3B4JztcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzLnRvcCAgICAgICA9ICh0b3AgLSBvZmZzZXQpICsgJ3B4JztcbiAgICAgIHN0eWxlcy5ib3R0b20gICAgPSAnYXV0byc7XG4gICAgICBzdHlsZXMubWF4SGVpZ2h0ID0gTWF0aC5taW4oTUFYX0hFSUdIVCwgcm9vdC5ib3R0b20gKyAkbWRVdGlsLnNjcm9sbFRvcCgpIC0gaHJlY3QuYm90dG9tIC0gTUVOVV9QQURESU5HKSArICdweCc7XG4gICAgfVxuXG4gICAgZWxlbWVudHMuJC5zY3JvbGxDb250YWluZXIuY3NzKHN0eWxlcyk7XG4gICAgJG1kVXRpbC5uZXh0VGljayhjb3JyZWN0SG9yaXpvbnRhbEFsaWdubWVudCwgZmFsc2UpO1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgdmVydGljYWwgb2Zmc2V0IGZvciBmbG9hdGluZyBsYWJlbCBleGFtcGxlcyB0byBhY2NvdW50IGZvciBuZ01lc3NhZ2VzXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWZXJ0aWNhbE9mZnNldCAoKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgIHZhciBpbnB1dENvbnRhaW5lciA9ICRlbGVtZW50LmZpbmQoJ21kLWlucHV0LWNvbnRhaW5lcicpO1xuICAgICAgaWYgKGlucHV0Q29udGFpbmVyLmxlbmd0aCkge1xuICAgICAgICB2YXIgaW5wdXQgPSBpbnB1dENvbnRhaW5lci5maW5kKCdpbnB1dCcpO1xuICAgICAgICBvZmZzZXQgPSBpbnB1dENvbnRhaW5lci5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcbiAgICAgICAgb2Zmc2V0IC09IGlucHV0LnByb3AoJ29mZnNldFRvcCcpO1xuICAgICAgICBvZmZzZXQgLT0gaW5wdXQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICAgIC8vIGFkZCBpbiB0aGUgaGVpZ2h0IGxlZnQgdXAgdG9wIGZvciB0aGUgZmxvYXRpbmcgbGFiZWwgdGV4dFxuICAgICAgICBvZmZzZXQgKz0gaW5wdXRDb250YWluZXIucHJvcCgnb2Zmc2V0VG9wJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2VzIHN1cmUgdGhhdCB0aGUgbWVudSBkb2Vzbid0IGdvIG9mZiBvZiB0aGUgc2NyZWVuIG9uIGVpdGhlciBzaWRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcnJlY3RIb3Jpem9udGFsQWxpZ25tZW50ICgpIHtcbiAgICAgIHZhciBkcm9wZG93biA9IGVsZW1lbnRzLnNjcm9sbENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICBzdHlsZXMgICA9IHt9O1xuICAgICAgaWYgKGRyb3Bkb3duLnJpZ2h0ID4gcm9vdC5yaWdodCAtIE1FTlVfUEFERElORykge1xuICAgICAgICBzdHlsZXMubGVmdCA9IChocmVjdC5yaWdodCAtIGRyb3Bkb3duLndpZHRoKSArICdweCc7XG4gICAgICB9XG4gICAgICBlbGVtZW50cy4kLnNjcm9sbENvbnRhaW5lci5jc3Moc3R5bGVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgdGhlIGRyb3Bkb3duIG1lbnUgdG8gdGhlIGJvZHkgdGFnIGluIG9yZGVyIHRvIGF2b2lkIHotaW5kZXggYW5kIG92ZXJmbG93IGlzc3Vlcy5cbiAgICovXG4gIGZ1bmN0aW9uIG1vdmVEcm9wZG93biAoKSB7XG4gICAgaWYgKCFlbGVtZW50cy4kLnJvb3QubGVuZ3RoKSByZXR1cm47XG4gICAgJG1kVGhlbWluZyhlbGVtZW50cy4kLnNjcm9sbENvbnRhaW5lcik7XG4gICAgZWxlbWVudHMuJC5zY3JvbGxDb250YWluZXIuZGV0YWNoKCk7XG4gICAgZWxlbWVudHMuJC5yb290LmFwcGVuZChlbGVtZW50cy4kLnNjcm9sbENvbnRhaW5lcik7XG4gICAgaWYgKCRhbmltYXRlLnBpbikgJGFuaW1hdGUucGluKGVsZW1lbnRzLiQuc2Nyb2xsQ29udGFpbmVyLCAkcm9vdEVsZW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGZvY3VzIHRvIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gZm9jdXNFbGVtZW50ICgpIHtcbiAgICBpZiAoJHNjb3BlLmF1dG9mb2N1cykgZWxlbWVudHMuaW5wdXQuZm9jdXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIGFueSB3YXRjaGVycyB1c2VkIGJ5IGF1dG9jb21wbGV0ZVxuICAgKi9cbiAgZnVuY3Rpb24gY29uZmlndXJlV2F0Y2hlcnMgKCkge1xuICAgIHZhciB3YWl0ID0gcGFyc2VJbnQoJHNjb3BlLmRlbGF5LCAxMCkgfHwgMDtcbiAgICAkYXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgZnVuY3Rpb24gKHZhbHVlKSB7IGN0cmwuaXNEaXNhYmxlZCA9ICEhdmFsdWU7IH0pO1xuICAgICRhdHRycy4kb2JzZXJ2ZSgncmVxdWlyZWQnLCBmdW5jdGlvbiAodmFsdWUpIHsgY3RybC5pc1JlcXVpcmVkID0gISF2YWx1ZTsgfSk7XG4gICAgJHNjb3BlLiR3YXRjaCgnc2VhcmNoVGV4dCcsIHdhaXQgPyAkbWRVdGlsLmRlYm91bmNlKGhhbmRsZVNlYXJjaFRleHQsIHdhaXQpIDogaGFuZGxlU2VhcmNoVGV4dCk7XG4gICAgJHNjb3BlLiR3YXRjaCgnc2VsZWN0ZWRJdGVtJywgc2VsZWN0ZWRJdGVtQ2hhbmdlKTtcbiAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oJ3Jlc2l6ZScsIHBvc2l0aW9uRHJvcGRvd24pO1xuICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgY2xlYW51cCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbnkgZXZlbnRzIG9yIGxlZnRvdmVyIGVsZW1lbnRzIGNyZWF0ZWQgYnkgdGhpcyBjb250cm9sbGVyXG4gICAqL1xuICBmdW5jdGlvbiBjbGVhbnVwICgpIHtcbiAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKCdyZXNpemUnLCBwb3NpdGlvbkRyb3Bkb3duKTtcbiAgICBpZiAoIGVsZW1lbnRzICl7XG4gICAgICB2YXIgaXRlbXMgPSAndWwgc2Nyb2xsZXIgc2Nyb2xsQ29udGFpbmVyIGlucHV0Jy5zcGxpdCgnICcpO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihrZXkpe1xuICAgICAgICBlbGVtZW50cy4kW2tleV0ucmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2F0aGVycyBhbGwgb2YgdGhlIGVsZW1lbnRzIG5lZWRlZCBmb3IgdGhpcyBjb250cm9sbGVyXG4gICAqL1xuICBmdW5jdGlvbiBnYXRoZXJFbGVtZW50cyAoKSB7XG4gICAgZWxlbWVudHMgPSB7XG4gICAgICBtYWluOiAgJGVsZW1lbnRbMF0sXG4gICAgICBzY3JvbGxDb250YWluZXI6ICRlbGVtZW50WzBdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lcicpWzBdLFxuICAgICAgc2Nyb2xsZXI6ICRlbGVtZW50WzBdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21kLXZpcnR1YWwtcmVwZWF0LXNjcm9sbGVyJylbMF0sXG4gICAgICB1bDogICAgJGVsZW1lbnQuZmluZCgndWwnKVswXSxcbiAgICAgIGlucHV0OiAkZWxlbWVudC5maW5kKCdpbnB1dCcpWzBdLFxuICAgICAgd3JhcDogICRlbGVtZW50LmZpbmQoJ21kLWF1dG9jb21wbGV0ZS13cmFwJylbMF0sXG4gICAgICByb290OiAgZG9jdW1lbnQuYm9keVxuICAgIH07XG4gICAgZWxlbWVudHMubGkgICA9IGVsZW1lbnRzLnVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaScpO1xuICAgIGVsZW1lbnRzLnNuYXAgPSBnZXRTbmFwVGFyZ2V0KCk7XG4gICAgZWxlbWVudHMuJCAgICA9IGdldEFuZ3VsYXJFbGVtZW50cyhlbGVtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgdGhlIGVsZW1lbnQgdGhhdCB0aGUgbWVudSB3aWxsIGJhc2UgaXRzIHBvc2l0aW9uIG9uXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U25hcFRhcmdldCAoKSB7XG4gICAgZm9yICh2YXIgZWxlbWVudCA9ICRlbGVtZW50OyBlbGVtZW50Lmxlbmd0aDsgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50KCkpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChlbGVtZW50LmF0dHIoJ21kLWF1dG9jb21wbGV0ZS1zbmFwJykpKSByZXR1cm4gZWxlbWVudFsgMCBdO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudHMud3JhcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHYXRoZXJzIGFuZ3VsYXItd3JhcHBlZCB2ZXJzaW9ucyBvZiBlYWNoIGVsZW1lbnRcbiAgICogQHBhcmFtIGVsZW1lbnRzXG4gICAqIEByZXR1cm5zIHt7fX1cbiAgICovXG4gIGZ1bmN0aW9uIGdldEFuZ3VsYXJFbGVtZW50cyAoZWxlbWVudHMpIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgZm9yICh2YXIga2V5IGluIGVsZW1lbnRzKSB7XG4gICAgICBpZiAoZWxlbWVudHMuaGFzT3duUHJvcGVydHkoa2V5KSkgb2JqWyBrZXkgXSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50c1sga2V5IF0pO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgLy8tLSBldmVudC9jaGFuZ2UgaGFuZGxlcnNcblxuICAvKipcbiAgICogSGFuZGxlcyBjaGFuZ2VzIHRvIHRoZSBgaGlkZGVuYCBwcm9wZXJ0eS5cbiAgICogQHBhcmFtIGhpZGRlblxuICAgKiBAcGFyYW0gb2xkSGlkZGVuXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVIaWRkZW5DaGFuZ2UgKGhpZGRlbiwgb2xkSGlkZGVuKSB7XG4gICAgaWYgKCFoaWRkZW4gJiYgb2xkSGlkZGVuKSB7XG4gICAgICBwb3NpdGlvbkRyb3Bkb3duKCk7XG5cbiAgICAgIGlmIChlbGVtZW50cykge1xuICAgICAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbWRVdGlsLmRpc2FibGVTY3JvbGxBcm91bmQoZWxlbWVudHMudWwpO1xuICAgICAgICB9LCBmYWxzZSwgJHNjb3BlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGhpZGRlbiAmJiAhb2xkSGlkZGVuKSB7XG4gICAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJG1kVXRpbC5lbmFibGVTY3JvbGxpbmcoKTtcbiAgICAgIH0sIGZhbHNlLCAkc2NvcGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSB1c2VyIG1vdXNlcyBvdmVyIHRoZSBkcm9wZG93biBtZW51LCBpZ25vcmUgYmx1ciBldmVudHMuXG4gICAqL1xuICBmdW5jdGlvbiBvbkxpc3RFbnRlciAoKSB7XG4gICAgbm9CbHVyID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSB1c2VyJ3MgbW91c2UgbGVhdmVzIHRoZSBtZW51LCBibHVyIGV2ZW50cyBtYXkgaGlkZSB0aGUgbWVudSBhZ2Fpbi5cbiAgICovXG4gIGZ1bmN0aW9uIG9uTGlzdExlYXZlICgpIHtcbiAgICBpZiAoIWhhc0ZvY3VzKSBlbGVtZW50cy5pbnB1dC5mb2N1cygpO1xuICAgIG5vQmx1ciA9IGZhbHNlO1xuICAgIGN0cmwuaGlkZGVuID0gc2hvdWxkSGlkZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIG1vdXNlIGJ1dHRvbiBpcyByZWxlYXNlZCwgc2VuZCBmb2N1cyBiYWNrIHRvIHRoZSBpbnB1dCBmaWVsZC5cbiAgICovXG4gIGZ1bmN0aW9uIG9uTW91c2V1cCAoKSB7XG4gICAgZWxlbWVudHMuaW5wdXQuZm9jdXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNoYW5nZXMgdG8gdGhlIHNlbGVjdGVkIGl0ZW0uXG4gICAqIEBwYXJhbSBzZWxlY3RlZEl0ZW1cbiAgICogQHBhcmFtIHByZXZpb3VzU2VsZWN0ZWRJdGVtXG4gICAqL1xuICBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1DaGFuZ2UgKHNlbGVjdGVkSXRlbSwgcHJldmlvdXNTZWxlY3RlZEl0ZW0pIHtcbiAgICBpZiAoc2VsZWN0ZWRJdGVtKSB7XG4gICAgICBnZXREaXNwbGF5VmFsdWUoc2VsZWN0ZWRJdGVtKS50aGVuKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgJHNjb3BlLnNlYXJjaFRleHQgPSB2YWw7XG4gICAgICAgIGhhbmRsZVNlbGVjdGVkSXRlbUNoYW5nZShzZWxlY3RlZEl0ZW0sIHByZXZpb3VzU2VsZWN0ZWRJdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzZWxlY3RlZEl0ZW0gIT09IHByZXZpb3VzU2VsZWN0ZWRJdGVtKSBhbm5vdW5jZUl0ZW1DaGFuZ2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2UgdGhlIHVzZXItZGVmaW5lZCBleHByZXNzaW9uIHRvIGFubm91bmNlIGNoYW5nZXMgZWFjaCB0aW1lIGEgbmV3IGl0ZW0gaXMgc2VsZWN0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIGFubm91bmNlSXRlbUNoYW5nZSAoKSB7XG4gICAgYW5ndWxhci5pc0Z1bmN0aW9uKCRzY29wZS5pdGVtQ2hhbmdlKSAmJiAkc2NvcGUuaXRlbUNoYW5nZShnZXRJdGVtQXNOYW1lVmFsKCRzY29wZS5zZWxlY3RlZEl0ZW0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2UgdGhlIHVzZXItZGVmaW5lZCBleHByZXNzaW9uIHRvIGFubm91bmNlIGNoYW5nZXMgZWFjaCB0aW1lIHRoZSBzZWFyY2ggdGV4dCBpcyBjaGFuZ2VkXG4gICAqL1xuICBmdW5jdGlvbiBhbm5vdW5jZVRleHRDaGFuZ2UgKCkge1xuICAgIGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUudGV4dENoYW5nZSkgJiYgJHNjb3BlLnRleHRDaGFuZ2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBhbnkgZXh0ZXJuYWwgd2F0Y2hlcnMgbGlzdGVuaW5nIGZvciB0aGUgc2VsZWN0ZWQgaXRlbS4gIFVzZWQgaW4gY29uanVuY3Rpb24gd2l0aFxuICAgKiBgcmVnaXN0ZXJTZWxlY3RlZEl0ZW1XYXRjaGVyYC5cbiAgICogQHBhcmFtIHNlbGVjdGVkSXRlbVxuICAgKiBAcGFyYW0gcHJldmlvdXNTZWxlY3RlZEl0ZW1cbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGVkSXRlbUNoYW5nZSAoc2VsZWN0ZWRJdGVtLCBwcmV2aW91c1NlbGVjdGVkSXRlbSkge1xuICAgIHNlbGVjdGVkSXRlbVdhdGNoZXJzLmZvckVhY2goZnVuY3Rpb24gKHdhdGNoZXIpIHsgd2F0Y2hlcihzZWxlY3RlZEl0ZW0sIHByZXZpb3VzU2VsZWN0ZWRJdGVtKTsgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgc2VsZWN0ZWQgaXRlbSBjaGFuZ2VzLlxuICAgKiBAcGFyYW0gY2JcbiAgICovXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyU2VsZWN0ZWRJdGVtV2F0Y2hlciAoY2IpIHtcbiAgICBpZiAoc2VsZWN0ZWRJdGVtV2F0Y2hlcnMuaW5kZXhPZihjYikgPT0gLTEpIHtcbiAgICAgIHNlbGVjdGVkSXRlbVdhdGNoZXJzLnB1c2goY2IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyIGEgZnVuY3Rpb24gcHJldmlvdXNseSByZWdpc3RlcmVkIGZvciBzZWxlY3RlZCBpdGVtIGNoYW5nZXMuXG4gICAqIEBwYXJhbSBjYlxuICAgKi9cbiAgZnVuY3Rpb24gdW5yZWdpc3RlclNlbGVjdGVkSXRlbVdhdGNoZXIgKGNiKSB7XG4gICAgdmFyIGkgPSBzZWxlY3RlZEl0ZW1XYXRjaGVycy5pbmRleE9mKGNiKTtcbiAgICBpZiAoaSAhPSAtMSkge1xuICAgICAgc2VsZWN0ZWRJdGVtV2F0Y2hlcnMuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNoYW5nZXMgdG8gdGhlIHNlYXJjaFRleHQgcHJvcGVydHkuXG4gICAqIEBwYXJhbSBzZWFyY2hUZXh0XG4gICAqIEBwYXJhbSBwcmV2aW91c1NlYXJjaFRleHRcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZVNlYXJjaFRleHQgKHNlYXJjaFRleHQsIHByZXZpb3VzU2VhcmNoVGV4dCkge1xuICAgIGN0cmwuaW5kZXggPSBnZXREZWZhdWx0SW5kZXgoKTtcbiAgICAvLyBkbyBub3RoaW5nIG9uIGluaXRcbiAgICBpZiAoc2VhcmNoVGV4dCA9PT0gcHJldmlvdXNTZWFyY2hUZXh0KSByZXR1cm47XG5cbiAgICBnZXREaXNwbGF5VmFsdWUoJHNjb3BlLnNlbGVjdGVkSXRlbSkudGhlbihmdW5jdGlvbiAodmFsKSB7XG4gICAgICAvLyBjbGVhciBzZWxlY3RlZCBpdGVtIGlmIHNlYXJjaCB0ZXh0IG5vIGxvbmdlciBtYXRjaGVzIGl0XG4gICAgICBpZiAoc2VhcmNoVGV4dCAhPT0gdmFsKSB7XG4gICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuXG4gICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIGV2ZW50IGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAoc2VhcmNoVGV4dCAhPT0gcHJldmlvdXNTZWFyY2hUZXh0KSBhbm5vdW5jZVRleHRDaGFuZ2UoKTtcblxuICAgICAgICAvLyBjYW5jZWwgcmVzdWx0cyBpZiBzZWFyY2ggdGV4dCBpcyBub3QgbG9uZyBlbm91Z2hcbiAgICAgICAgaWYgKCFpc01pbkxlbmd0aE1ldCgpKSB7XG4gICAgICAgICAgY3RybC5tYXRjaGVzID0gW107XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgdXBkYXRlTWVzc2FnZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVRdWVyeSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGlucHV0IGJsdXIgZXZlbnQsIGRldGVybWluZXMgaWYgdGhlIGRyb3Bkb3duIHNob3VsZCBoaWRlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmx1ciAoKSB7XG4gICAgaGFzRm9jdXMgPSBmYWxzZTtcbiAgICBpZiAoIW5vQmx1cikge1xuICAgICAgY3RybC5oaWRkZW4gPSBzaG91bGRIaWRlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIGJsdXIgb24gaW5wdXQgZWxlbWVudFxuICAgKiBAcGFyYW0gZm9yY2VCbHVyXG4gICAqL1xuICBmdW5jdGlvbiBkb0JsdXIoZm9yY2VCbHVyKSB7XG4gICAgaWYgKGZvcmNlQmx1cikge1xuICAgICAgbm9CbHVyID0gZmFsc2U7XG4gICAgICBoYXNGb2N1cyA9IGZhbHNlO1xuICAgIH1cbiAgICBlbGVtZW50cy5pbnB1dC5ibHVyKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBpbnB1dCBmb2N1cyBldmVudCwgZGV0ZXJtaW5lcyBpZiB0aGUgZHJvcGRvd24gc2hvdWxkIHNob3cuXG4gICAqL1xuICBmdW5jdGlvbiBmb2N1cyAoKSB7XG4gICAgaGFzRm9jdXMgPSB0cnVlO1xuICAgIC8vLS0gaWYgc2VhcmNoVGV4dCBpcyBudWxsLCBsZXQncyBmb3JjZSBpdCB0byBiZSBhIHN0cmluZ1xuICAgIGlmICghYW5ndWxhci5pc1N0cmluZygkc2NvcGUuc2VhcmNoVGV4dCkpICRzY29wZS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgY3RybC5oaWRkZW4gPSBzaG91bGRIaWRlKCk7XG4gICAgaWYgKCFjdHJsLmhpZGRlbikgaGFuZGxlUXVlcnkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGtleWJvYXJkIGlucHV0LlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIGZ1bmN0aW9uIGtleWRvd24gKGV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkRPV05fQVJST1c6XG4gICAgICAgIGlmIChjdHJsLmxvYWRpbmcpIHJldHVybjtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGN0cmwuaW5kZXggICA9IE1hdGgubWluKGN0cmwuaW5kZXggKyAxLCBjdHJsLm1hdGNoZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgIHVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICB1cGRhdGVNZXNzYWdlcygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuVVBfQVJST1c6XG4gICAgICAgIGlmIChjdHJsLmxvYWRpbmcpIHJldHVybjtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGN0cmwuaW5kZXggICA9IGN0cmwuaW5kZXggPCAwID8gY3RybC5tYXRjaGVzLmxlbmd0aCAtIDEgOiBNYXRoLm1heCgwLCBjdHJsLmluZGV4IC0gMSk7XG4gICAgICAgIHVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICB1cGRhdGVNZXNzYWdlcygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuVEFCOlxuICAgICAgICAvLyBJZiB3ZSBoaXQgdGFiLCBhc3N1bWUgdGhhdCB3ZSd2ZSBsZWZ0IHRoZSBsaXN0IHNvIGl0IHdpbGwgY2xvc2VcbiAgICAgICAgb25MaXN0TGVhdmUoKTtcblxuICAgICAgICBpZiAoY3RybC5oaWRkZW4gfHwgY3RybC5sb2FkaW5nIHx8IGN0cmwuaW5kZXggPCAwIHx8IGN0cmwubWF0Y2hlcy5sZW5ndGggPCAxKSByZXR1cm47XG4gICAgICAgIHNlbGVjdChjdHJsLmluZGV4KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkVOVEVSOlxuICAgICAgICBpZiAoY3RybC5oaWRkZW4gfHwgY3RybC5sb2FkaW5nIHx8IGN0cmwuaW5kZXggPCAwIHx8IGN0cmwubWF0Y2hlcy5sZW5ndGggPCAxKSByZXR1cm47XG4gICAgICAgIGlmIChoYXNTZWxlY3Rpb24oKSkgcmV0dXJuO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc2VsZWN0KGN0cmwuaW5kZXgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuRVNDQVBFOlxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY2xlYXJWYWx1ZSgpO1xuXG4gICAgICAgIC8vIEZvcmNlIHRoZSBjb21wb25lbnQgdG8gYmx1ciBpZiB0aGV5IGhpdCBlc2NhcGVcbiAgICAgICAgZG9CbHVyKHRydWUpO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICB9XG4gIH1cblxuICAvLy0tIGdldHRlcnNcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWluaW11bSBsZW5ndGggbmVlZGVkIHRvIGRpc3BsYXkgdGhlIGRyb3Bkb3duLlxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGZ1bmN0aW9uIGdldE1pbkxlbmd0aCAoKSB7XG4gICAgcmV0dXJuIGFuZ3VsYXIuaXNOdW1iZXIoJHNjb3BlLm1pbkxlbmd0aCkgPyAkc2NvcGUubWluTGVuZ3RoIDogMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkaXNwbGF5IHZhbHVlIGZvciBhbiBpdGVtLlxuICAgKiBAcGFyYW0gaXRlbVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGZ1bmN0aW9uIGdldERpc3BsYXlWYWx1ZSAoaXRlbSkge1xuICAgIHJldHVybiAkcS53aGVuKGdldEl0ZW1UZXh0KGl0ZW0pIHx8IGl0ZW0pO1xuXG4gICAgLyoqXG4gICAgICogR2V0dGVyIGZ1bmN0aW9uIHRvIGludm9rZSB1c2VyLWRlZmluZWQgZXhwcmVzc2lvbiAoaW4gdGhlIGRpcmVjdGl2ZSlcbiAgICAgKiB0byBjb252ZXJ0IHlvdXIgb2JqZWN0IHRvIGEgc2luZ2xlIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJdGVtVGV4dCAoaXRlbSkge1xuICAgICAgcmV0dXJuIChpdGVtICYmICRzY29wZS5pdGVtVGV4dCkgPyAkc2NvcGUuaXRlbVRleHQoZ2V0SXRlbUFzTmFtZVZhbChpdGVtKSkgOiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsb2NhbHMgb2JqZWN0IGZvciBjb21waWxpbmcgaXRlbSB0ZW1wbGF0ZXMuXG4gICAqIEBwYXJhbSBpdGVtXG4gICAqIEByZXR1cm5zIHt7fX1cbiAgICovXG4gIGZ1bmN0aW9uIGdldEl0ZW1Bc05hbWVWYWwgKGl0ZW0pIHtcbiAgICBpZiAoIWl0ZW0pIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgbG9jYWxzID0ge307XG4gICAgaWYgKGN0cmwuaXRlbU5hbWUpIGxvY2Fsc1sgY3RybC5pdGVtTmFtZSBdID0gaXRlbTtcblxuICAgIHJldHVybiBsb2NhbHM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGVmYXVsdCBpbmRleCBiYXNlZCBvbiB3aGV0aGVyIG9yIG5vdCBhdXRvc2VsZWN0IGlzIGVuYWJsZWQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBnZXREZWZhdWx0SW5kZXggKCkge1xuICAgIHJldHVybiAkc2NvcGUuYXV0b3NlbGVjdCA/IDAgOiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsb2FkaW5nIHBhcmFtZXRlciBhbmQgdXBkYXRlcyB0aGUgaGlkZGVuIHN0YXRlLlxuICAgKiBAcGFyYW0gdmFsdWUge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBjb21wb25lbnQgaXMgY3VycmVudGx5IGxvYWRpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRMb2FkaW5nKHZhbHVlKSB7XG4gICAgaWYgKGN0cmwubG9hZGluZyAhPSB2YWx1ZSkge1xuICAgICAgY3RybC5sb2FkaW5nID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gQWx3YXlzIHJlZnJlc2ggdGhlIGhpZGRlbiB2YXJpYWJsZSBhcyBzb21ldGhpbmcgZWxzZSBtaWdodCBoYXZlIGNoYW5nZWRcbiAgICBjdHJsLmhpZGRlbiA9IHNob3VsZEhpZGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBtZW51IHNob3VsZCBiZSBoaWRkZW4uXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gc2hvdWxkSGlkZSAoKSB7XG4gICAgaWYgKGN0cmwubG9hZGluZyAmJiAhaGFzTWF0Y2hlcygpKSByZXR1cm4gdHJ1ZTsgLy8gSGlkZSB3aGlsZSBsb2FkaW5nIGluaXRpYWwgbWF0Y2hlc1xuICAgIGVsc2UgaWYgKGhhc1NlbGVjdGlvbigpKSByZXR1cm4gdHJ1ZTsgICAgICAgICAgIC8vIEhpZGUgaWYgdGhlcmUgaXMgYWxyZWFkeSBhIHNlbGVjdGlvblxuICAgIGVsc2UgaWYgKCFoYXNGb2N1cykgcmV0dXJuIHRydWU7ICAgICAgICAgICAgICAgIC8vIEhpZGUgaWYgdGhlIGlucHV0IGRvZXMgbm90IGhhdmUgZm9jdXNcbiAgICBlbHNlIHJldHVybiAhc2hvdWxkU2hvdygpOyAgICAgICAgICAgICAgICAgICAgICAvLyBEZWZlciB0byBzdGFuZGFyZCBzaG93IGxvZ2ljXG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgbWVudSBzaG91bGQgYmUgc2hvd24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gc2hvdWxkU2hvdygpIHtcbiAgICByZXR1cm4gKGlzTWluTGVuZ3RoTWV0KCkgJiYgaGFzTWF0Y2hlcygpKSB8fCBub3RGb3VuZFZpc2libGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNlYXJjaCB0ZXh0IGhhcyBtYXRjaGVzLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIGhhc01hdGNoZXMoKSB7XG4gICAgcmV0dXJuIGN0cmwubWF0Y2hlcy5sZW5ndGggPyB0cnVlIDogZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBhdXRvY29tcGxldGUgaGFzIGEgdmFsaWQgc2VsZWN0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1NlbGVjdGlvbigpIHtcbiAgICByZXR1cm4gY3RybC5zY29wZS5zZWxlY3RlZEl0ZW0gPyB0cnVlIDogZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBsb2FkaW5nIGluZGljYXRvciBpcywgb3Igc2hvdWxkIGJlLCB2aXNpYmxlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIGxvYWRpbmdJc1Zpc2libGUoKSB7XG4gICAgcmV0dXJuIGN0cmwubG9hZGluZyAmJiAhaGFzU2VsZWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGlzcGxheSB2YWx1ZSBvZiB0aGUgY3VycmVudCBpdGVtLlxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnREaXNwbGF5VmFsdWUgKCkge1xuICAgIHJldHVybiBnZXREaXNwbGF5VmFsdWUoY3RybC5tYXRjaGVzWyBjdHJsLmluZGV4IF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIG1pbmltdW0gbGVuZ3RoIGlzIG1ldCBieSB0aGUgc2VhcmNoIHRleHQuXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gaXNNaW5MZW5ndGhNZXQgKCkge1xuICAgIHJldHVybiAoJHNjb3BlLnNlYXJjaFRleHQgfHwgJycpLmxlbmd0aCA+PSBnZXRNaW5MZW5ndGgoKTtcbiAgfVxuXG4gIC8vLS0gYWN0aW9uc1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGEgcHVibGljIHByb3BlcnR5IHdpdGggYSBoYW5kbGVyIGFuZCBhIGRlZmF1bHQgdmFsdWUuXG4gICAqIEBwYXJhbSBrZXlcbiAgICogQHBhcmFtIGhhbmRsZXJcbiAgICogQHBhcmFtIHZhbHVlXG4gICAqL1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSAoa2V5LCBoYW5kbGVyLCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHJsLCBrZXksIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdmFsdWUgICAgICAgID0gbmV3VmFsdWU7XG4gICAgICAgIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3RzIHRoZSBpdGVtIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICogQHBhcmFtIGluZGV4XG4gICAqL1xuICBmdW5jdGlvbiBzZWxlY3QgKGluZGV4KSB7XG4gICAgLy8tLSBmb3JjZSBmb3JtIHRvIHVwZGF0ZSBzdGF0ZSBmb3IgdmFsaWRhdGlvblxuICAgICRtZFV0aWwubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgZ2V0RGlzcGxheVZhbHVlKGN0cmwubWF0Y2hlc1sgaW5kZXggXSkudGhlbihmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHZhciBuZ01vZGVsID0gZWxlbWVudHMuJC5pbnB1dC5jb250cm9sbGVyKCduZ01vZGVsJyk7XG4gICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZSh2YWwpO1xuICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTtcbiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gY3RybC5tYXRjaGVzWyBpbmRleCBdO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0sIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHNlYXJjaFRleHQgdmFsdWUgYW5kIHNlbGVjdGVkIGl0ZW0uXG4gICAqL1xuICBmdW5jdGlvbiBjbGVhclZhbHVlICgpIHtcbiAgICAvLyBTZXQgdGhlIGxvYWRpbmcgdG8gdHJ1ZSBzbyB3ZSBkb24ndCBzZWUgZmxhc2hlcyBvZiBjb250ZW50XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcblxuICAgIC8vIFJlc2V0IG91ciB2YXJpYWJsZXNcbiAgICBjdHJsLmluZGV4ID0gMDtcbiAgICBjdHJsLm1hdGNoZXMgPSBbXTtcbiAgICAkc2NvcGUuc2VhcmNoVGV4dCA9ICcnO1xuXG4gICAgLy8gVGVsbCB0aGUgc2VsZWN0IHRvIGZpcmUgYW5kIHNlbGVjdCBub3RoaW5nXG4gICAgc2VsZWN0KC0xKTtcblxuICAgIC8vIFBlciBodHRwOi8vd3d3Lnczc2Nob29scy5jb20vanNyZWYvZXZlbnRfb25pbnB1dC5hc3BcbiAgICB2YXIgZXZlbnRPYmogPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBldmVudE9iai5pbml0Q3VzdG9tRXZlbnQoJ2lucHV0JywgdHJ1ZSwgdHJ1ZSwgeyB2YWx1ZTogJHNjb3BlLnNlYXJjaFRleHQgfSk7XG4gICAgZWxlbWVudHMuaW5wdXQuZGlzcGF0Y2hFdmVudChldmVudE9iaik7XG5cbiAgICBlbGVtZW50cy5pbnB1dC5mb2N1cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIHJlc3VsdHMgZm9yIHRoZSBwcm92aWRlZCBzZWFyY2ggdGV4dC5cbiAgICogQHBhcmFtIHNlYXJjaFRleHRcbiAgICovXG4gIGZ1bmN0aW9uIGZldGNoUmVzdWx0cyAoc2VhcmNoVGV4dCkge1xuICAgIHZhciBpdGVtcyA9ICRzY29wZS4kcGFyZW50LiRldmFsKGl0ZW1FeHByKSxcbiAgICAgICAgdGVybSAgPSBzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpdGVtcykpIHtcbiAgICAgIGhhbmRsZVJlc3VsdHMoaXRlbXMpO1xuICAgIH0gZWxzZSBpZiAoaXRlbXMpIHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGl0ZW1zLnN1Y2Nlc3MpIGl0ZW1zLnN1Y2Nlc3MoaGFuZGxlUmVzdWx0cyk7XG4gICAgICAgIGlmIChpdGVtcy50aGVuKSAgICBpdGVtcy50aGVuKGhhbmRsZVJlc3VsdHMpO1xuICAgICAgICBpZiAoaXRlbXMuZmluYWxseSkgaXRlbXMuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSx0cnVlLCAkc2NvcGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVSZXN1bHRzIChtYXRjaGVzKSB7XG4gICAgICBjYWNoZVsgdGVybSBdID0gbWF0Y2hlcztcbiAgICAgIGlmICgoc2VhcmNoVGV4dCB8fCAnJykgIT09ICgkc2NvcGUuc2VhcmNoVGV4dCB8fCAnJykpIHJldHVybjsgLy8tLSBqdXN0IGNhY2hlIHRoZSByZXN1bHRzIGlmIG9sZCByZXF1ZXN0XG4gICAgICBjdHJsLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgICAgY3RybC5oaWRkZW4gID0gc2hvdWxkSGlkZSgpO1xuICAgICAgaWYgKCRzY29wZS5zZWxlY3RPbk1hdGNoKSBzZWxlY3RJdGVtT25NYXRjaCgpO1xuICAgICAgdXBkYXRlTWVzc2FnZXMoKTtcbiAgICAgIHBvc2l0aW9uRHJvcGRvd24oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgQVJJQSBtZXNzYWdlc1xuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlTWVzc2FnZXMgKCkge1xuICAgIGdldEN1cnJlbnREaXNwbGF5VmFsdWUoKS50aGVuKGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgIGN0cmwubWVzc2FnZXMgPSBbIGdldENvdW50TWVzc2FnZSgpLCBtc2cgXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBBUklBIG1lc3NhZ2UgZm9yIGhvdyBtYW55IHJlc3VsdHMgbWF0Y2ggdGhlIGN1cnJlbnQgcXVlcnkuXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0Q291bnRNZXNzYWdlICgpIHtcbiAgICBpZiAobGFzdENvdW50ID09PSBjdHJsLm1hdGNoZXMubGVuZ3RoKSByZXR1cm4gJyc7XG4gICAgbGFzdENvdW50ID0gY3RybC5tYXRjaGVzLmxlbmd0aDtcbiAgICBzd2l0Y2ggKGN0cmwubWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmV0dXJuICdUaGVyZSBhcmUgbm8gbWF0Y2hlcyBhdmFpbGFibGUuJztcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuICdUaGVyZSBpcyAxIG1hdGNoIGF2YWlsYWJsZS4nO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdUaGVyZSBhcmUgJyArIGN0cmwubWF0Y2hlcy5sZW5ndGggKyAnIG1hdGNoZXMgYXZhaWxhYmxlLic7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VzIHN1cmUgdGhhdCB0aGUgZm9jdXNlZCBlbGVtZW50IGlzIHdpdGhpbiB2aWV3LlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsICgpIHtcbiAgICBpZiAoIWVsZW1lbnRzLmxpWzBdKSByZXR1cm47XG4gICAgdmFyIGhlaWdodCA9IGVsZW1lbnRzLmxpWzBdLm9mZnNldEhlaWdodCxcbiAgICAgICAgdG9wID0gaGVpZ2h0ICogY3RybC5pbmRleCxcbiAgICAgICAgYm90ID0gdG9wICsgaGVpZ2h0LFxuICAgICAgICBoZ3QgPSBlbGVtZW50cy5zY3JvbGxlci5jbGllbnRIZWlnaHQsXG4gICAgICAgIHNjcm9sbFRvcCA9IGVsZW1lbnRzLnNjcm9sbGVyLnNjcm9sbFRvcDtcbiAgICBpZiAodG9wIDwgc2Nyb2xsVG9wKSB7XG4gICAgICBzY3JvbGxUbyh0b3ApO1xuICAgIH0gZWxzZSBpZiAoYm90ID4gc2Nyb2xsVG9wICsgaGd0KSB7XG4gICAgICBzY3JvbGxUbyhib3QgLSBoZ3QpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbFRvIChvZmZzZXQpIHtcbiAgICBlbGVtZW50cy4kLnNjcm9sbENvbnRhaW5lci5jb250cm9sbGVyKCdtZFZpcnR1YWxSZXBlYXRDb250YWluZXInKS5zY3JvbGxUbyhvZmZzZXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90Rm91bmRWaXNpYmxlICgpIHtcbiAgICB2YXIgdGV4dExlbmd0aCA9IChjdHJsLnNjb3BlLnNlYXJjaFRleHQgfHwgJycpLmxlbmd0aDtcblxuICAgIHJldHVybiBjdHJsLmhhc05vdEZvdW5kICYmICFoYXNNYXRjaGVzKCkgJiYgIWN0cmwubG9hZGluZyAmJiB0ZXh0TGVuZ3RoID49IGdldE1pbkxlbmd0aCgpICYmIGhhc0ZvY3VzICYmICFoYXNTZWxlY3Rpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHF1ZXJ5IHRvIGdhdGhlciB0aGUgcmVzdWx0cyBmb3IgdGhlIGN1cnJlbnQgc2VhcmNoVGV4dC4gIEF0dGVtcHRzIHRvIHJldHVybiBjYWNoZWRcbiAgICogcmVzdWx0cyBmaXJzdCwgdGhlbiBmb3J3YXJkcyB0aGUgcHJvY2VzcyB0byBgZmV0Y2hSZXN1bHRzYCBpZiBuZWNlc3NhcnkuXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVRdWVyeSAoKSB7XG4gICAgdmFyIHNlYXJjaFRleHQgPSAkc2NvcGUuc2VhcmNoVGV4dCB8fCAnJyxcbiAgICAgICAgdGVybSAgICAgICA9IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAvLy0tIGlmIHJlc3VsdHMgYXJlIGNhY2hlZCwgcHVsbCBpbiBjYWNoZWQgcmVzdWx0c1xuICAgIGlmICghJHNjb3BlLm5vQ2FjaGUgJiYgY2FjaGVbIHRlcm0gXSkge1xuICAgICAgY3RybC5tYXRjaGVzID0gY2FjaGVbIHRlcm0gXTtcbiAgICAgIHVwZGF0ZU1lc3NhZ2VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZldGNoUmVzdWx0cyhzZWFyY2hUZXh0KTtcbiAgICB9XG5cbiAgICBjdHJsLmhpZGRlbiA9IHNob3VsZEhpZGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGVyZSBpcyBvbmx5IG9uZSBtYXRjaGluZyBpdGVtIGFuZCB0aGUgc2VhcmNoIHRleHQgbWF0Y2hlcyBpdHMgZGlzcGxheSB2YWx1ZSBleGFjdGx5LFxuICAgKiBhdXRvbWF0aWNhbGx5IHNlbGVjdCB0aGF0IGl0ZW0uICBOb3RlOiBUaGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIGlmIHRoZSB1c2VyIHVzZXMgdGhlXG4gICAqIGBtZC1zZWxlY3Qtb24tbWF0Y2hgIGZsYWcuXG4gICAqL1xuICBmdW5jdGlvbiBzZWxlY3RJdGVtT25NYXRjaCAoKSB7XG4gICAgdmFyIHNlYXJjaFRleHQgPSAkc2NvcGUuc2VhcmNoVGV4dCxcbiAgICAgICAgbWF0Y2hlcyAgICA9IGN0cmwubWF0Y2hlcyxcbiAgICAgICAgaXRlbSAgICAgICA9IG1hdGNoZXNbIDAgXTtcbiAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDEpIGdldERpc3BsYXlWYWx1ZShpdGVtKS50aGVuKGZ1bmN0aW9uIChkaXNwbGF5VmFsdWUpIHtcbiAgICAgIGlmIChzZWFyY2hUZXh0ID09IGRpc3BsYXlWYWx1ZSkgc2VsZWN0KDApO1xuICAgIH0pO1xuICB9XG5cbn1cbk1kQXV0b2NvbXBsZXRlQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkbWRVdGlsXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJHdpbmRvd1wiLCBcIiRhbmltYXRlXCIsIFwiJHJvb3RFbGVtZW50XCIsIFwiJGF0dHJzXCIsIFwiJHFcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5hdXRvY29tcGxldGUnKVxuICAgIC5kaXJlY3RpdmUoJ21kQXV0b2NvbXBsZXRlJywgTWRBdXRvY29tcGxldGUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kQXV0b2NvbXBsZXRlXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgPG1kLWF1dG9jb21wbGV0ZT5gIGlzIGEgc3BlY2lhbCBpbnB1dCBjb21wb25lbnQgd2l0aCBhIGRyb3AtZG93biBvZiBhbGwgcG9zc2libGUgbWF0Y2hlcyB0byBhXG4gKiAgICAgY3VzdG9tIHF1ZXJ5LiBUaGlzIGNvbXBvbmVudCBhbGxvd3MgeW91IHRvIHByb3ZpZGUgcmVhbC10aW1lIHN1Z2dlc3Rpb25zIGFzIHRoZSB1c2VyIHR5cGVzXG4gKiAgICAgaW4gdGhlIGlucHV0IGFyZWEuXG4gKlxuICogVG8gc3RhcnQsIHlvdSB3aWxsIG5lZWQgdG8gc3BlY2lmeSB0aGUgcmVxdWlyZWQgcGFyYW1ldGVycyBhbmQgcHJvdmlkZSBhIHRlbXBsYXRlIGZvciB5b3VyXG4gKiAgICAgcmVzdWx0cy4gVGhlIGNvbnRlbnQgaW5zaWRlIGBtZC1hdXRvY29tcGxldGVgIHdpbGwgYmUgdHJlYXRlZCBhcyBhIHRlbXBsYXRlLlxuICpcbiAqIEluIG1vcmUgY29tcGxleCBjYXNlcywgeW91IG1heSB3YW50IHRvIGluY2x1ZGUgb3RoZXIgY29udGVudCBzdWNoIGFzIGEgbWVzc2FnZSB0byBkaXNwbGF5IHdoZW5cbiAqICAgICBubyBtYXRjaGVzIHdlcmUgZm91bmQuICBZb3UgY2FuIGRvIHRoaXMgYnkgd3JhcHBpbmcgeW91ciB0ZW1wbGF0ZSBpbiBgbWQtaXRlbS10ZW1wbGF0ZWAgYW5kXG4gKiAgICAgYWRkaW5nIGEgdGFnIGZvciBgbWQtbm90LWZvdW5kYC4gIEFuIGV4YW1wbGUgb2YgdGhpcyBpcyBzaG93biBiZWxvdy5cbiAqXG4gKiAjIyMgVmFsaWRhdGlvblxuICpcbiAqIFlvdSBjYW4gdXNlIGBuZy1tZXNzYWdlc2AgdG8gaW5jbHVkZSB2YWxpZGF0aW9uIHRoZSBzYW1lIHdheSB0aGF0IHlvdSB3b3VsZCBub3JtYWxseSB2YWxpZGF0ZTtcbiAqICAgICBob3dldmVyLCBpZiB5b3Ugd2FudCB0byByZXBsaWNhdGUgYSBzdGFuZGFyZCBpbnB1dCB3aXRoIGEgZmxvYXRpbmcgbGFiZWwsIHlvdSB3aWxsIGhhdmUgdG9cbiAqICAgICBkbyB0aGUgZm9sbG93aW5nOlxuICpcbiAqIC0gTWFrZSBzdXJlIHRoYXQgeW91ciB0ZW1wbGF0ZSBpcyB3cmFwcGVkIGluIGBtZC1pdGVtLXRlbXBsYXRlYFxuICogLSBBZGQgeW91ciBgbmctbWVzc2FnZXNgIGNvZGUgaW5zaWRlIG9mIGBtZC1hdXRvY29tcGxldGVgXG4gKiAtIEFkZCB5b3VyIHZhbGlkYXRpb24gcHJvcGVydGllcyB0byBgbWQtYXV0b2NvbXBsZXRlYCAoaWUuIGByZXF1aXJlZGApXG4gKiAtIEFkZCBhIGBuYW1lYCB0byBgbWQtYXV0b2NvbXBsZXRlYCAodG8gYmUgdXNlZCBvbiB0aGUgZ2VuZXJhdGVkIGBpbnB1dGApXG4gKlxuICogVGhlcmUgaXMgYW4gZXhhbXBsZSBiZWxvdyBvZiBob3cgdGhpcyBzaG91bGQgbG9vay5cbiAqXG4gKlxuICogQHBhcmFtIHtleHByZXNzaW9ufSBtZC1pdGVtcyBBbiBleHByZXNzaW9uIGluIHRoZSBmb3JtYXQgb2YgYGl0ZW0gaW4gaXRlbXNgIHRvIGl0ZXJhdGUgb3ZlclxuICogICAgIG1hdGNoZXMgZm9yIHlvdXIgc2VhcmNoLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtc2VsZWN0ZWQtaXRlbS1jaGFuZ2UgQW4gZXhwcmVzc2lvbiB0byBiZSBydW4gZWFjaCB0aW1lIGEgbmV3IGl0ZW0gaXNcbiAqICAgICBzZWxlY3RlZFxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtc2VhcmNoLXRleHQtY2hhbmdlIEFuIGV4cHJlc3Npb24gdG8gYmUgcnVuIGVhY2ggdGltZSB0aGUgc2VhcmNoIHRleHRcbiAqICAgICB1cGRhdGVzXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1zZWFyY2gtdGV4dCBBIG1vZGVsIHRvIGJpbmQgdGhlIHNlYXJjaCBxdWVyeSB0ZXh0IHRvXG4gKiBAcGFyYW0ge29iamVjdD19IG1kLXNlbGVjdGVkLWl0ZW0gQSBtb2RlbCB0byBiaW5kIHRoZSBzZWxlY3RlZCBpdGVtIHRvXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1pdGVtLXRleHQgQW4gZXhwcmVzc2lvbiB0aGF0IHdpbGwgY29udmVydCB5b3VyIG9iamVjdCB0byBhIHNpbmdsZSBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZz19IHBsYWNlaG9sZGVyIFBsYWNlaG9sZGVyIHRleHQgdGhhdCB3aWxsIGJlIGZvcndhcmRlZCB0byB0aGUgaW5wdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1jYWNoZSBEaXNhYmxlcyB0aGUgaW50ZXJuYWwgY2FjaGluZyB0aGF0IGhhcHBlbnMgaW4gYXV0b2NvbXBsZXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBuZy1kaXNhYmxlZCBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRvIGRpc2FibGUgdGhlIGlucHV0IGZpZWxkXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLW1pbi1sZW5ndGggU3BlY2lmaWVzIHRoZSBtaW5pbXVtIGxlbmd0aCBvZiB0ZXh0IGJlZm9yZSBhdXRvY29tcGxldGUgd2lsbFxuICogICAgIG1ha2Ugc3VnZ2VzdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtZGVsYXkgU3BlY2lmaWVzIHRoZSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0byB3YWl0IGJlZm9yZSBsb29raW5nXG4gKiAgICAgZm9yIHJlc3VsdHNcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLWF1dG9mb2N1cyBJZiB0cnVlLCB3aWxsIGltbWVkaWF0ZWx5IGZvY3VzIHRoZSBpbnB1dCBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1hdXRvc2VsZWN0IElmIHRydWUsIHRoZSBmaXJzdCBpdGVtIHdpbGwgYmUgc2VsZWN0ZWQgYnkgZGVmYXVsdFxuICogQHBhcmFtIHtzdHJpbmc9fSBtZC1tZW51LWNsYXNzIFRoaXMgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBkcm9wZG93biBtZW51IGZvciBzdHlsaW5nXG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLWZsb2F0aW5nLWxhYmVsIFRoaXMgd2lsbCBhZGQgYSBmbG9hdGluZyBsYWJlbCB0byBhdXRvY29tcGxldGUgYW5kIHdyYXAgaXQgaW5cbiAqICAgICBgbWQtaW5wdXQtY29udGFpbmVyYFxuICogQHBhcmFtIHtzdHJpbmc9fSBtZC1pbnB1dC1uYW1lIFRoZSBuYW1lIGF0dHJpYnV0ZSBnaXZlbiB0byB0aGUgaW5wdXQgZWxlbWVudCB0byBiZSB1c2VkIHdpdGhcbiAqICAgICBGb3JtQ29udHJvbGxlclxuICogQHBhcmFtIHtzdHJpbmc9fSBtZC1pbnB1dC1pZCBBbiBJRCB0byBiZSBhZGRlZCB0byB0aGUgaW5wdXQgZWxlbWVudFxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1pbnB1dC1taW5sZW5ndGggVGhlIG1pbmltdW0gbGVuZ3RoIGZvciB0aGUgaW5wdXQncyB2YWx1ZSBmb3IgdmFsaWRhdGlvblxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1pbnB1dC1tYXhsZW5ndGggVGhlIG1heGltdW0gbGVuZ3RoIGZvciB0aGUgaW5wdXQncyB2YWx1ZSBmb3IgdmFsaWRhdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtc2VsZWN0LW9uLW1hdGNoIFdoZW4gc2V0LCBhdXRvY29tcGxldGUgd2lsbCBhdXRvbWF0aWNhbGx5IHNlbGVjdCBleGFjdFxuICogICAgIHRoZSBpdGVtIGlmIHRoZSBzZWFyY2ggdGV4dCBpcyBhbiBleGFjdCBtYXRjaFxuICpcbiAqIEB1c2FnZVxuICogIyMjIEJhc2ljIEV4YW1wbGVcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgIDxtZC1hdXRvY29tcGxldGVcbiAqICAgICAgIG1kLXNlbGVjdGVkLWl0ZW09XCJzZWxlY3RlZEl0ZW1cIlxuICogICAgICAgbWQtc2VhcmNoLXRleHQ9XCJzZWFyY2hUZXh0XCJcbiAqICAgICAgIG1kLWl0ZW1zPVwiaXRlbSBpbiBnZXRNYXRjaGVzKHNlYXJjaFRleHQpXCJcbiAqICAgICAgIG1kLWl0ZW0tdGV4dD1cIml0ZW0uZGlzcGxheVwiPlxuICogICAgIDxzcGFuIG1kLWhpZ2hsaWdodC10ZXh0PVwic2VhcmNoVGV4dFwiPnt7aXRlbS5kaXNwbGF5fX08L3NwYW4+XG4gKiAgIDwvbWQtYXV0b2NvbXBsZXRlPlxuICogPC9obGpzPlxuICpcbiAqICMjIyBFeGFtcGxlIHdpdGggXCJub3QgZm91bmRcIiBtZXNzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWF1dG9jb21wbGV0ZVxuICogICAgIG1kLXNlbGVjdGVkLWl0ZW09XCJzZWxlY3RlZEl0ZW1cIlxuICogICAgIG1kLXNlYXJjaC10ZXh0PVwic2VhcmNoVGV4dFwiXG4gKiAgICAgbWQtaXRlbXM9XCJpdGVtIGluIGdldE1hdGNoZXMoc2VhcmNoVGV4dClcIlxuICogICAgIG1kLWl0ZW0tdGV4dD1cIml0ZW0uZGlzcGxheVwiPlxuICogICA8bWQtaXRlbS10ZW1wbGF0ZT5cbiAqICAgICA8c3BhbiBtZC1oaWdobGlnaHQtdGV4dD1cInNlYXJjaFRleHRcIj57e2l0ZW0uZGlzcGxheX19PC9zcGFuPlxuICogICA8L21kLWl0ZW0tdGVtcGxhdGU+XG4gKiAgIDxtZC1ub3QtZm91bmQ+XG4gKiAgICAgTm8gbWF0Y2hlcyBmb3VuZC5cbiAqICAgPC9tZC1ub3QtZm91bmQ+XG4gKiA8L21kLWF1dG9jb21wbGV0ZT5cbiAqIDwvaGxqcz5cbiAqXG4gKiBJbiB0aGlzIGV4YW1wbGUsIG91ciBjb2RlIHV0aWxpemVzIGBtZC1pdGVtLXRlbXBsYXRlYCBhbmQgYG1kLW5vdC1mb3VuZGAgdG8gc3BlY2lmeSB0aGVcbiAqICAgICBkaWZmZXJlbnQgcGFydHMgdGhhdCBtYWtlIHVwIG91ciBjb21wb25lbnQuXG4gKlxuICogIyMjIEV4YW1wbGUgd2l0aCB2YWxpZGF0aW9uXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGZvcm0gbmFtZT1cImF1dG9jb21wbGV0ZUZvcm1cIj5cbiAqICAgPG1kLWF1dG9jb21wbGV0ZVxuICogICAgICAgcmVxdWlyZWRcbiAqICAgICAgIG1kLWlucHV0LW5hbWU9XCJhdXRvY29tcGxldGVcIlxuICogICAgICAgbWQtc2VsZWN0ZWQtaXRlbT1cInNlbGVjdGVkSXRlbVwiXG4gKiAgICAgICBtZC1zZWFyY2gtdGV4dD1cInNlYXJjaFRleHRcIlxuICogICAgICAgbWQtaXRlbXM9XCJpdGVtIGluIGdldE1hdGNoZXMoc2VhcmNoVGV4dClcIlxuICogICAgICAgbWQtaXRlbS10ZXh0PVwiaXRlbS5kaXNwbGF5XCI+XG4gKiAgICAgPG1kLWl0ZW0tdGVtcGxhdGU+XG4gKiAgICAgICA8c3BhbiBtZC1oaWdobGlnaHQtdGV4dD1cInNlYXJjaFRleHRcIj57e2l0ZW0uZGlzcGxheX19PC9zcGFuPlxuICogICAgIDwvbWQtaXRlbS10ZW1wbGF0ZT5cbiAqICAgICA8ZGl2IG5nLW1lc3NhZ2VzPVwiYXV0b2NvbXBsZXRlRm9ybS5hdXRvY29tcGxldGUuJGVycm9yXCI+XG4gKiAgICAgICA8ZGl2IG5nLW1lc3NhZ2U9XCJyZXF1aXJlZFwiPlRoaXMgZmllbGQgaXMgcmVxdWlyZWQ8L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9tZC1hdXRvY29tcGxldGU+XG4gKiA8L2Zvcm0+XG4gKiA8L2hsanM+XG4gKlxuICogSW4gdGhpcyBleGFtcGxlLCBvdXIgY29kZSB1dGlsaXplcyBgbWQtaXRlbS10ZW1wbGF0ZWAgYW5kIGBtZC1ub3QtZm91bmRgIHRvIHNwZWNpZnkgdGhlXG4gKiAgICAgZGlmZmVyZW50IHBhcnRzIHRoYXQgbWFrZSB1cCBvdXIgY29tcG9uZW50LlxuICovXG5cbmZ1bmN0aW9uIE1kQXV0b2NvbXBsZXRlICgpIHtcbiAgdmFyIGhhc05vdEZvdW5kVGVtcGxhdGUgPSBmYWxzZTtcblxuICByZXR1cm4ge1xuICAgIGNvbnRyb2xsZXI6ICAgJ01kQXV0b2NvbXBsZXRlQ3RybCcsXG4gICAgY29udHJvbGxlckFzOiAnJG1kQXV0b2NvbXBsZXRlQ3RybCcsXG4gICAgc2NvcGU6ICAgICAgICB7XG4gICAgICBpbnB1dE5hbWU6ICAgICAgJ0BtZElucHV0TmFtZScsXG4gICAgICBpbnB1dE1pbmxlbmd0aDogJ0BtZElucHV0TWlubGVuZ3RoJyxcbiAgICAgIGlucHV0TWF4bGVuZ3RoOiAnQG1kSW5wdXRNYXhsZW5ndGgnLFxuICAgICAgc2VhcmNoVGV4dDogICAgICc9P21kU2VhcmNoVGV4dCcsXG4gICAgICBzZWxlY3RlZEl0ZW06ICAgJz0/bWRTZWxlY3RlZEl0ZW0nLFxuICAgICAgaXRlbXNFeHByOiAgICAgICdAbWRJdGVtcycsXG4gICAgICBpdGVtVGV4dDogICAgICAgJyZtZEl0ZW1UZXh0JyxcbiAgICAgIHBsYWNlaG9sZGVyOiAgICAnQHBsYWNlaG9sZGVyJyxcbiAgICAgIG5vQ2FjaGU6ICAgICAgICAnPT9tZE5vQ2FjaGUnLFxuICAgICAgc2VsZWN0T25NYXRjaDogICc9P21kU2VsZWN0T25NYXRjaCcsXG4gICAgICBpdGVtQ2hhbmdlOiAgICAgJyY/bWRTZWxlY3RlZEl0ZW1DaGFuZ2UnLFxuICAgICAgdGV4dENoYW5nZTogICAgICcmP21kU2VhcmNoVGV4dENoYW5nZScsXG4gICAgICBtaW5MZW5ndGg6ICAgICAgJz0/bWRNaW5MZW5ndGgnLFxuICAgICAgZGVsYXk6ICAgICAgICAgICc9P21kRGVsYXknLFxuICAgICAgYXV0b2ZvY3VzOiAgICAgICc9P21kQXV0b2ZvY3VzJyxcbiAgICAgIGZsb2F0aW5nTGFiZWw6ICAnQD9tZEZsb2F0aW5nTGFiZWwnLFxuICAgICAgYXV0b3NlbGVjdDogICAgICc9P21kQXV0b3NlbGVjdCcsXG4gICAgICBtZW51Q2xhc3M6ICAgICAgJ0A/bWRNZW51Q2xhc3MnLFxuICAgICAgaW5wdXRJZDogICAgICAgICdAP21kSW5wdXRJZCdcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcikge1xuICAgICAgY29udHJvbGxlci5oYXNOb3RGb3VuZCA9IGhhc05vdEZvdW5kVGVtcGxhdGU7XG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogICAgIGZ1bmN0aW9uIChlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgbm9JdGVtc1RlbXBsYXRlID0gZ2V0Tm9JdGVtc1RlbXBsYXRlKCksXG4gICAgICAgICAgaXRlbVRlbXBsYXRlICAgID0gZ2V0SXRlbVRlbXBsYXRlKCksXG4gICAgICAgICAgbGVmdG92ZXIgICAgICAgID0gZWxlbWVudC5odG1sKCksXG4gICAgICAgICAgdGFiaW5kZXggICAgICAgID0gYXR0ci50YWJpbmRleDtcblxuICAgICAgLy8gU2V0IG91ciB2YXJpYWJsZSBmb3IgdGhlIGxpbmsgZnVuY3Rpb24gYWJvdmUgd2hpY2ggcnVucyBsYXRlclxuICAgICAgaGFzTm90Rm91bmRUZW1wbGF0ZSA9IG5vSXRlbXNUZW1wbGF0ZSA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgaWYgKCFhdHRyLmhhc093blByb3BlcnR5KCd0YWJpbmRleCcpKSBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgJy0xJyk7XG5cbiAgICAgIHJldHVybiAnXFxcbiAgICAgICAgPG1kLWF1dG9jb21wbGV0ZS13cmFwXFxcbiAgICAgICAgICAgIGxheW91dD1cInJvd1wiXFxcbiAgICAgICAgICAgIG5nLWNsYXNzPVwieyBcXCdtZC13aGl0ZWZyYW1lLXoxXFwnOiAhZmxvYXRpbmdMYWJlbCwgXFwnbWQtbWVudS1zaG93aW5nXFwnOiAhJG1kQXV0b2NvbXBsZXRlQ3RybC5oaWRkZW4gfVwiXFxcbiAgICAgICAgICAgIHJvbGU9XCJsaXN0Ym94XCI+XFxcbiAgICAgICAgICAnICsgZ2V0SW5wdXRFbGVtZW50KCkgKyAnXFxcbiAgICAgICAgICA8bWQtcHJvZ3Jlc3MtbGluZWFyXFxcbiAgICAgICAgICAgICAgY2xhc3M9XCInICsgKGF0dHIubWRGbG9hdGluZ0xhYmVsID8gJ21kLWlubGluZScgOiAnJykgKyAnXCJcXFxuICAgICAgICAgICAgICBuZy1pZj1cIiRtZEF1dG9jb21wbGV0ZUN0cmwubG9hZGluZ0lzVmlzaWJsZSgpXCJcXFxuICAgICAgICAgICAgICBtZC1tb2RlPVwiaW5kZXRlcm1pbmF0ZVwiPjwvbWQtcHJvZ3Jlc3MtbGluZWFyPlxcXG4gICAgICAgICAgPG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lclxcXG4gICAgICAgICAgICAgIG1kLWF1dG8tc2hyaW5rXFxcbiAgICAgICAgICAgICAgbWQtYXV0by1zaHJpbmstbWluPVwiMVwiXFxcbiAgICAgICAgICAgICAgbmctbW91c2VlbnRlcj1cIiRtZEF1dG9jb21wbGV0ZUN0cmwubGlzdEVudGVyKClcIlxcXG4gICAgICAgICAgICAgIG5nLW1vdXNlbGVhdmU9XCIkbWRBdXRvY29tcGxldGVDdHJsLmxpc3RMZWF2ZSgpXCJcXFxuICAgICAgICAgICAgICBuZy1tb3VzZXVwPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5tb3VzZVVwKClcIlxcXG4gICAgICAgICAgICAgIG5nLWhpZGU9XCIkbWRBdXRvY29tcGxldGVDdHJsLmhpZGRlblwiXFxcbiAgICAgICAgICAgICAgY2xhc3M9XCJtZC1hdXRvY29tcGxldGUtc3VnZ2VzdGlvbnMtY29udGFpbmVyIG1kLXdoaXRlZnJhbWUtejFcIlxcXG4gICAgICAgICAgICAgIG5nLWNsYXNzPVwieyBcXCdtZC1ub3QtZm91bmRcXCc6ICRtZEF1dG9jb21wbGV0ZUN0cmwubm90Rm91bmRWaXNpYmxlKCkgfVwiXFxcbiAgICAgICAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiPlxcXG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJtZC1hdXRvY29tcGxldGUtc3VnZ2VzdGlvbnNcIlxcXG4gICAgICAgICAgICAgICAgbmctY2xhc3M9XCI6Om1lbnVDbGFzc1wiXFxcbiAgICAgICAgICAgICAgICBpZD1cInVsLXt7JG1kQXV0b2NvbXBsZXRlQ3RybC5pZH19XCI+XFxcbiAgICAgICAgICAgICAgPGxpIG1kLXZpcnR1YWwtcmVwZWF0PVwiaXRlbSBpbiAkbWRBdXRvY29tcGxldGVDdHJsLm1hdGNoZXNcIlxcXG4gICAgICAgICAgICAgICAgICBuZy1jbGFzcz1cInsgc2VsZWN0ZWQ6ICRpbmRleCA9PT0gJG1kQXV0b2NvbXBsZXRlQ3RybC5pbmRleCB9XCJcXFxuICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XCIkbWRBdXRvY29tcGxldGVDdHJsLnNlbGVjdCgkaW5kZXgpXCJcXFxuICAgICAgICAgICAgICAgICAgbWQtZXh0cmEtbmFtZT1cIiRtZEF1dG9jb21wbGV0ZUN0cmwuaXRlbU5hbWVcIj5cXFxuICAgICAgICAgICAgICAgICAgJyArIGl0ZW1UZW1wbGF0ZSArICdcXFxuICAgICAgICAgICAgICAgICAgPC9saT4nICsgbm9JdGVtc1RlbXBsYXRlICsgJ1xcXG4gICAgICAgICAgICA8L3VsPlxcXG4gICAgICAgICAgPC9tZC12aXJ0dWFsLXJlcGVhdC1jb250YWluZXI+XFxcbiAgICAgICAgPC9tZC1hdXRvY29tcGxldGUtd3JhcD5cXFxuICAgICAgICA8YXJpYS1zdGF0dXNcXFxuICAgICAgICAgICAgY2xhc3M9XCJtZC12aXN1YWxseS1oaWRkZW5cIlxcXG4gICAgICAgICAgICByb2xlPVwic3RhdHVzXCJcXFxuICAgICAgICAgICAgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCI+XFxcbiAgICAgICAgICA8cCBuZy1yZXBlYXQ9XCJtZXNzYWdlIGluICRtZEF1dG9jb21wbGV0ZUN0cmwubWVzc2FnZXMgdHJhY2sgYnkgJGluZGV4XCIgbmctaWY9XCJtZXNzYWdlXCI+e3ttZXNzYWdlfX08L3A+XFxcbiAgICAgICAgPC9hcmlhLXN0YXR1cz4nO1xuXG4gICAgICBmdW5jdGlvbiBnZXRJdGVtVGVtcGxhdGUoKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZVRhZyA9IGVsZW1lbnQuZmluZCgnbWQtaXRlbS10ZW1wbGF0ZScpLmRldGFjaCgpLFxuICAgICAgICAgICAgaHRtbCA9IHRlbXBsYXRlVGFnLmxlbmd0aCA/IHRlbXBsYXRlVGFnLmh0bWwoKSA6IGVsZW1lbnQuaHRtbCgpO1xuICAgICAgICBpZiAoIXRlbXBsYXRlVGFnLmxlbmd0aCkgZWxlbWVudC5lbXB0eSgpO1xuICAgICAgICByZXR1cm4gJzxtZC1hdXRvY29tcGxldGUtcGFyZW50LXNjb3BlIG1kLWF1dG9jb21wbGV0ZS1yZXBsYWNlPicgKyBodG1sICsgJzwvbWQtYXV0b2NvbXBsZXRlLXBhcmVudC1zY29wZT4nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXROb0l0ZW1zVGVtcGxhdGUoKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZVRhZyA9IGVsZW1lbnQuZmluZCgnbWQtbm90LWZvdW5kJykuZGV0YWNoKCksXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlVGFnLmxlbmd0aCA/IHRlbXBsYXRlVGFnLmh0bWwoKSA6ICcnO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgICAgICAgID8gJzxsaSBuZy1pZj1cIiRtZEF1dG9jb21wbGV0ZUN0cmwubm90Rm91bmRWaXNpYmxlKClcIlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgbWQtYXV0b2NvbXBsZXRlLXBhcmVudC1zY29wZT4nICsgdGVtcGxhdGUgKyAnPC9saT4nXG4gICAgICAgICAgICA6ICcnO1xuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldElucHV0RWxlbWVudCAoKSB7XG4gICAgICAgIGlmIChhdHRyLm1kRmxvYXRpbmdMYWJlbCkge1xuICAgICAgICAgIHJldHVybiAnXFxcbiAgICAgICAgICAgIDxtZC1pbnB1dC1jb250YWluZXIgZmxleCBuZy1pZj1cImZsb2F0aW5nTGFiZWxcIj5cXFxuICAgICAgICAgICAgICA8bGFiZWw+e3tmbG9hdGluZ0xhYmVsfX08L2xhYmVsPlxcXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic2VhcmNoXCJcXFxuICAgICAgICAgICAgICAgICAgJyArICh0YWJpbmRleCAhPSBudWxsID8gJ3RhYmluZGV4PVwiJyArIHRhYmluZGV4ICsgJ1wiJyA6ICcnKSArICdcXFxuICAgICAgICAgICAgICAgICAgaWQ9XCJ7eyBpbnB1dElkIHx8IFxcJ2ZsLWlucHV0LVxcJyArICRtZEF1dG9jb21wbGV0ZUN0cmwuaWQgfX1cIlxcXG4gICAgICAgICAgICAgICAgICBuYW1lPVwie3tpbnB1dE5hbWV9fVwiXFxcbiAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZT1cIm9mZlwiXFxcbiAgICAgICAgICAgICAgICAgIG5nLXJlcXVpcmVkPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5pc1JlcXVpcmVkXCJcXFxuICAgICAgICAgICAgICAgICAgbmctbWlubGVuZ3RoPVwiaW5wdXRNaW5sZW5ndGhcIlxcXG4gICAgICAgICAgICAgICAgICBuZy1tYXhsZW5ndGg9XCJpbnB1dE1heGxlbmd0aFwiXFxcbiAgICAgICAgICAgICAgICAgIG5nLWRpc2FibGVkPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5pc0Rpc2FibGVkXCJcXFxuICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCIkbWRBdXRvY29tcGxldGVDdHJsLnNjb3BlLnNlYXJjaFRleHRcIlxcXG4gICAgICAgICAgICAgICAgICBuZy1rZXlkb3duPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5rZXlkb3duKCRldmVudClcIlxcXG4gICAgICAgICAgICAgICAgICBuZy1ibHVyPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5ibHVyKClcIlxcXG4gICAgICAgICAgICAgICAgICBuZy1mb2N1cz1cIiRtZEF1dG9jb21wbGV0ZUN0cmwuZm9jdXMoKVwiXFxcbiAgICAgICAgICAgICAgICAgIGFyaWEtb3ducz1cInVsLXt7JG1kQXV0b2NvbXBsZXRlQ3RybC5pZH19XCJcXFxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cInt7ZmxvYXRpbmdMYWJlbH19XCJcXFxuICAgICAgICAgICAgICAgICAgYXJpYS1hdXRvY29tcGxldGU9XCJsaXN0XCJcXFxuICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxcXG4gICAgICAgICAgICAgICAgICBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XCJcIlxcXG4gICAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwie3shJG1kQXV0b2NvbXBsZXRlQ3RybC5oaWRkZW59fVwiLz5cXFxuICAgICAgICAgICAgICA8ZGl2IG1kLWF1dG9jb21wbGV0ZS1wYXJlbnQtc2NvcGUgbWQtYXV0b2NvbXBsZXRlLXJlcGxhY2U+JyArIGxlZnRvdmVyICsgJzwvZGl2PlxcXG4gICAgICAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAnXFxcbiAgICAgICAgICAgIDxpbnB1dCBmbGV4IHR5cGU9XCJzZWFyY2hcIlxcXG4gICAgICAgICAgICAgICAgJyArICh0YWJpbmRleCAhPSBudWxsID8gJ3RhYmluZGV4PVwiJyArIHRhYmluZGV4ICsgJ1wiJyA6ICcnKSArICdcXFxuICAgICAgICAgICAgICAgIGlkPVwie3sgaW5wdXRJZCB8fCBcXCdpbnB1dC1cXCcgKyAkbWRBdXRvY29tcGxldGVDdHJsLmlkIH19XCJcXFxuICAgICAgICAgICAgICAgIG5hbWU9XCJ7e2lucHV0TmFtZX19XCJcXFxuICAgICAgICAgICAgICAgIG5nLWlmPVwiIWZsb2F0aW5nTGFiZWxcIlxcXG4gICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlPVwib2ZmXCJcXFxuICAgICAgICAgICAgICAgIG5nLXJlcXVpcmVkPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5pc1JlcXVpcmVkXCJcXFxuICAgICAgICAgICAgICAgIG5nLWRpc2FibGVkPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5pc0Rpc2FibGVkXCJcXFxuICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5zY29wZS5zZWFyY2hUZXh0XCJcXFxuICAgICAgICAgICAgICAgIG5nLWtleWRvd249XCIkbWRBdXRvY29tcGxldGVDdHJsLmtleWRvd24oJGV2ZW50KVwiXFxcbiAgICAgICAgICAgICAgICBuZy1ibHVyPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5ibHVyKClcIlxcXG4gICAgICAgICAgICAgICAgbmctZm9jdXM9XCIkbWRBdXRvY29tcGxldGVDdHJsLmZvY3VzKClcIlxcXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ7e3BsYWNlaG9sZGVyfX1cIlxcXG4gICAgICAgICAgICAgICAgYXJpYS1vd25zPVwidWwte3skbWRBdXRvY29tcGxldGVDdHJsLmlkfX1cIlxcXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cInt7cGxhY2Vob2xkZXJ9fVwiXFxcbiAgICAgICAgICAgICAgICBhcmlhLWF1dG9jb21wbGV0ZT1cImxpc3RcIlxcXG4gICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxcXG4gICAgICAgICAgICAgICAgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVwiXCJcXFxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ7eyEkbWRBdXRvY29tcGxldGVDdHJsLmhpZGRlbn19XCIvPlxcXG4gICAgICAgICAgICA8YnV0dG9uXFxcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcXFxuICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiLTFcIlxcXG4gICAgICAgICAgICAgICAgbmctaWY9XCIkbWRBdXRvY29tcGxldGVDdHJsLnNjb3BlLnNlYXJjaFRleHQgJiYgISRtZEF1dG9jb21wbGV0ZUN0cmwuaXNEaXNhYmxlZFwiXFxcbiAgICAgICAgICAgICAgICBuZy1jbGljaz1cIiRtZEF1dG9jb21wbGV0ZUN0cmwuY2xlYXIoKVwiPlxcXG4gICAgICAgICAgICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwibWQtY2xvc2VcIj48L21kLWljb24+XFxcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZC12aXN1YWxseS1oaWRkZW5cIj5DbGVhcjwvc3Bhbj5cXFxuICAgICAgICAgICAgPC9idXR0b24+XFxcbiAgICAgICAgICAgICAgICAnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZScpXG4gIC5kaXJlY3RpdmUoJ21kQXV0b2NvbXBsZXRlUGFyZW50U2NvcGUnLCBNZEF1dG9jb21wbGV0ZUl0ZW1TY29wZURpcmVjdGl2ZSk7XG5cbmZ1bmN0aW9uIE1kQXV0b2NvbXBsZXRlSXRlbVNjb3BlRGlyZWN0aXZlKCRjb21waWxlLCAkbWRVdGlsKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBRScsXG4gICAgY29tcGlsZTogY29tcGlsZSxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCdcbiAgfTtcblxuICBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50LCB0QXR0ciwgdHJhbnNjbHVkZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIGN0cmwgPSBzY29wZS4kbWRBdXRvY29tcGxldGVDdHJsO1xuICAgICAgdmFyIG5ld1Njb3BlID0gY3RybC5wYXJlbnQuJG5ldygpO1xuICAgICAgdmFyIGl0ZW1OYW1lID0gY3RybC5pdGVtTmFtZTtcblxuICAgICAgLy8gV2F0Y2ggZm9yIGNoYW5nZXMgdG8gb3VyIHNjb3BlJ3MgdmFyaWFibGVzIGFuZCBjb3B5IHRoZW0gdG8gdGhlIG5ldyBzY29wZVxuICAgICAgd2F0Y2hWYXJpYWJsZSgnJGluZGV4JywgJyRpbmRleCcpO1xuICAgICAgd2F0Y2hWYXJpYWJsZSgnaXRlbScsIGl0ZW1OYW1lKTtcblxuICAgICAgLy8gRW5zdXJlIHRoYXQgJGRpZ2VzdCBjYWxscyBvbiBvdXIgc2NvcGUgdHJpZ2dlciAkZGlnZXN0IG9uIG5ld1Njb3BlLlxuICAgICAgY29ubmVjdFNjb3BlcygpO1xuXG4gICAgICAvLyBMaW5rIHRoZSBlbGVtZW50IGFnYWluc3QgbmV3U2NvcGUuXG4gICAgICB0cmFuc2NsdWRlKG5ld1Njb3BlLCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICBlbGVtZW50LmFmdGVyKGNsb25lKTtcbiAgICAgIH0pO1xuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYSB3YXRjaGVyIGZvciB2YXJpYWJsZXMgdGhhdCBhcmUgY29waWVkIGZyb20gdGhlIHBhcmVudCBzY29wZVxuICAgICAgICogQHBhcmFtIHZhcmlhYmxlXG4gICAgICAgKiBAcGFyYW0gYWxpYXNcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gd2F0Y2hWYXJpYWJsZSh2YXJpYWJsZSwgYWxpYXMpIHtcbiAgICAgICAgbmV3U2NvcGVbYWxpYXNdID0gc2NvcGVbdmFyaWFibGVdO1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaCh2YXJpYWJsZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmV3U2NvcGVbYWxpYXNdID0gdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgd2F0Y2hlcnMgb24gc2NvcGUgYW5kIG5ld1Njb3BlIHRoYXQgZW5zdXJlIHRoYXQgZm9yIGFueVxuICAgICAgICogJGRpZ2VzdCBvZiBzY29wZSwgbmV3U2NvcGUgaXMgYWxzbyAkZGlnZXN0ZWQuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGNvbm5lY3RTY29wZXMoKSB7XG4gICAgICAgIHZhciBzY29wZURpZ2VzdGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgbmV3U2NvcGVEaWdlc3RpbmcgPSBmYWxzZTtcblxuICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKG5ld1Njb3BlRGlnZXN0aW5nIHx8IHNjb3BlRGlnZXN0aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2NvcGVEaWdlc3RpbmcgPSB0cnVlO1xuICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICghbmV3U2NvcGVEaWdlc3RpbmcpIHtcbiAgICAgICAgICAgICAgbmV3U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY29wZURpZ2VzdGluZyA9IG5ld1Njb3BlRGlnZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ld1Njb3BlLiR3YXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZXdTY29wZURpZ2VzdGluZyA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cbk1kQXV0b2NvbXBsZXRlSXRlbVNjb3BlRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkY29tcGlsZVwiLCBcIiRtZFV0aWxcIl07XG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJylcbiAgICAuY29udHJvbGxlcignTWRIaWdobGlnaHRDdHJsJywgTWRIaWdobGlnaHRDdHJsKTtcblxuZnVuY3Rpb24gTWRIaWdobGlnaHRDdHJsICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpIHtcbiAgdGhpcy5pbml0ID0gaW5pdDtcblxuICBmdW5jdGlvbiBpbml0ICh0ZXJtRXhwciwgdW5zYWZlVGV4dEV4cHIpIHtcbiAgICB2YXIgdGV4dCA9IG51bGwsXG4gICAgICAgIHJlZ2V4ID0gbnVsbCxcbiAgICAgICAgZmxhZ3MgPSAkYXR0cnMubWRIaWdobGlnaHRGbGFncyB8fCAnJyxcbiAgICAgICAgd2F0Y2hlciA9ICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlcm06IHRlcm1FeHByKCRzY29wZSksXG4gICAgICAgICAgICB1bnNhZmVUZXh0OiB1bnNhZmVUZXh0RXhwcigkc2NvcGUpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKHN0YXRlLCBwcmV2U3RhdGUpIHtcbiAgICAgICAgICBpZiAodGV4dCA9PT0gbnVsbCB8fCBzdGF0ZS51bnNhZmVUZXh0ICE9PSBwcmV2U3RhdGUudW5zYWZlVGV4dCkge1xuICAgICAgICAgICAgdGV4dCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdj4nKS50ZXh0KHN0YXRlLnVuc2FmZVRleHQpLmh0bWwoKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVnZXggPT09IG51bGwgfHwgc3RhdGUudGVybSAhPT0gcHJldlN0YXRlLnRlcm0pIHtcbiAgICAgICAgICAgIHJlZ2V4ID0gZ2V0UmVnRXhwKHN0YXRlLnRlcm0sIGZsYWdzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkZWxlbWVudC5odG1sKHRleHQucmVwbGFjZShyZWdleCwgJzxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0XCI+JCY8L3NwYW4+JykpO1xuICAgICAgICB9LCB0cnVlKTtcbiAgICAkZWxlbWVudC5vbignJGRlc3Ryb3knLCB3YXRjaGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNhbml0aXplICh0ZXJtKSB7XG4gICAgcmV0dXJuIHRlcm0gJiYgdGVybS5yZXBsYWNlKC9bXFxcXFxcXlxcJFxcKlxcK1xcP1xcLlxcKFxcKVxcfFxce31cXFtcXF1dL2csICdcXFxcJCYnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJlZ0V4cCAodGV4dCwgZmxhZ3MpIHtcbiAgICB2YXIgc3RyID0gJyc7XG4gICAgaWYgKGZsYWdzLmluZGV4T2YoJ14nKSA+PSAxKSBzdHIgKz0gJ14nO1xuICAgIHN0ciArPSB0ZXh0O1xuICAgIGlmIChmbGFncy5pbmRleE9mKCckJykgPj0gMSkgc3RyICs9ICckJztcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChzYW5pdGl6ZShzdHIpLCBmbGFncy5yZXBsYWNlKC9bXFwkXFxeXS9nLCAnJykpO1xuICB9XG59XG5NZEhpZ2hsaWdodEN0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJGF0dHJzXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJylcbiAgICAuZGlyZWN0aXZlKCdtZEhpZ2hsaWdodFRleHQnLCBNZEhpZ2hsaWdodCk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRIaWdobGlnaHRUZXh0XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG1kLWhpZ2hsaWdodC10ZXh0YCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IHRleHQgdGhhdCBzaG91bGQgYmUgaGlnaGxpZ2h0ZWQgd2l0aGluXG4gKiAgICAgYW4gZWxlbWVudC4gIEhpZ2hsaWdodGVkIHRleHQgd2lsbCBiZSB3cmFwcGVkIGluIGA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodFwiPjwvc3Bhbj5gIHdoaWNoIGNhblxuICogICAgIGJlIHN0eWxlZCB0aHJvdWdoIENTUy4gIFBsZWFzZSBub3RlIHRoYXQgY2hpbGQgZWxlbWVudHMgbWF5IG5vdCBiZSB1c2VkIHdpdGggdGhpcyBkaXJlY3RpdmUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1kLWhpZ2hsaWdodC10ZXh0IEEgbW9kZWwgdG8gYmUgc2VhcmNoZWQgZm9yXG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLWhpZ2hsaWdodC1mbGFncyBBIGxpc3Qgb2YgZmxhZ3MgKGxvb3NlbHkgYmFzZWQgb24gSmF2YVNjcmlwdCBSZXhFeHAgZmxhZ3MpLlxuICogIyMjIyAqKlN1cHBvcnRlZCBmbGFncyoqOlxuICogLSBgZ2A6IEZpbmQgYWxsIG1hdGNoZXMgd2l0aGluIHRoZSBwcm92aWRlZCB0ZXh0XG4gKiAtIGBpYDogSWdub3JlIGNhc2Ugd2hlbiBzZWFyY2hpbmcgZm9yIG1hdGNoZXNcbiAqIC0gYCRgOiBPbmx5IG1hdGNoIGlmIHRoZSB0ZXh0IGVuZHMgd2l0aCB0aGUgc2VhcmNoIHRlcm1cbiAqIC0gYF5gOiBPbmx5IG1hdGNoIGlmIHRoZSB0ZXh0IGJlZ2lucyB3aXRoIHRoZSBzZWFyY2ggdGVybVxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxpbnB1dCBwbGFjZWhvbGRlcj1cIkVudGVyIGEgc2VhcmNoIHRlcm0uLi5cIiBuZy1tb2RlbD1cInNlYXJjaFRlcm1cIiB0eXBlPVwidGV4dFwiIC8+XG4gKiA8dWw+XG4gKiAgIDxsaSBuZy1yZXBlYXQ9XCJyZXN1bHQgaW4gcmVzdWx0c1wiIG1kLWhpZ2hsaWdodC10ZXh0PVwic2VhcmNoVGVybVwiPlxuICogICAgIHt7cmVzdWx0LnRleHR9fVxuICogICA8L2xpPlxuICogPC91bD5cbiAqIDwvaGxqcz5cbiAqL1xuXG5mdW5jdGlvbiBNZEhpZ2hsaWdodCAoJGludGVycG9sYXRlLCAkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnTWRIaWdobGlnaHRDdHJsJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBtZEhpZ2hsaWdodENvbXBpbGUodEVsZW1lbnQsIHRBdHRyKSB7XG4gICAgICB2YXIgdGVybUV4cHIgPSAkcGFyc2UodEF0dHIubWRIaWdobGlnaHRUZXh0KTtcbiAgICAgIHZhciB1bnNhZmVUZXh0RXhwciA9ICRpbnRlcnBvbGF0ZSh0RWxlbWVudC5odG1sKCkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbWRIaWdobGlnaHRMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgICAgIGN0cmwuaW5pdCh0ZXJtRXhwciwgdW5zYWZlVGV4dEV4cHIpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5NZEhpZ2hsaWdodC4kaW5qZWN0ID0gW1wiJGludGVycG9sYXRlXCIsIFwiJHBhcnNlXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHMnKVxuICAgIC5kaXJlY3RpdmUoJ21kQ2hpcCcsIE1kQ2hpcCk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRDaGlwXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGA8bWQtY2hpcD5gIGlzIGEgY29tcG9uZW50IHVzZWQgd2l0aGluIGA8bWQtY2hpcHM+YCBhbmQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBpbmRpdmlkdWFsXG4gKiBjaGlwcy5cbiAqXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogICA8bWQtY2hpcD57eyRjaGlwfX08L21kLWNoaXA+XG4gKiA8L2hsanM+XG4gKlxuICovXG5cbi8vIFRoaXMgaGludCB0ZXh0IGlzIGhpZGRlbiB3aXRoaW4gYSBjaGlwIGJ1dCB1c2VkIGJ5IHNjcmVlbiByZWFkZXJzIHRvXG4vLyBpbmZvcm0gdGhlIHVzZXIgaG93IHRoZXkgY2FuIGludGVyYWN0IHdpdGggYSBjaGlwLlxudmFyIERFTEVURV9ISU5UX1RFTVBMQVRFID0gJ1xcXG4gICAgPHNwYW4gbmctaWY9XCIhJG1kQ2hpcHNDdHJsLnJlYWRvbmx5XCIgY2xhc3M9XCJtZC12aXN1YWxseS1oaWRkZW5cIj5cXFxuICAgICAge3skbWRDaGlwc0N0cmwuZGVsZXRlSGludH19XFxcbiAgICA8L3NwYW4+JztcblxuLyoqXG4gKiBNRENoaXAgRGlyZWN0aXZlIERlZmluaXRpb25cbiAqXG4gKiBAcGFyYW0gJG1kVGhlbWluZ1xuICogQHBhcmFtICRtZElua1JpcHBsZVxuICogQG5nSW5qZWN0XG4gKi9cbmZ1bmN0aW9uIE1kQ2hpcCgkbWRUaGVtaW5nLCAkbWRVdGlsKSB7XG4gIHZhciBoaW50VGVtcGxhdGUgPSAkbWRVdGlsLnByb2Nlc3NUZW1wbGF0ZShERUxFVEVfSElOVF9URU1QTEFURSk7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6ICdeP21kQ2hpcHMnLFxuICAgIGNvbXBpbGU6ICBjb21waWxlXG4gIH07XG5cbiAgZnVuY3Rpb24gY29tcGlsZShlbGVtZW50LCBhdHRyKSB7XG4gICAgLy8gQXBwZW5kIHRoZSBkZWxldGUgdGVtcGxhdGVcbiAgICBlbGVtZW50LmFwcGVuZCgkbWRVdGlsLnByb2Nlc3NUZW1wbGF0ZShoaW50VGVtcGxhdGUpKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xuICAgICAgZWxlbWVudC5hZGRDbGFzcygnbWQtY2hpcCcpO1xuICAgICAgJG1kVGhlbWluZyhlbGVtZW50KTtcblxuICAgICAgaWYgKGN0cmwpIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1jaGlwLWNvbnRlbnQnKSlcbiAgICAgICAgICAub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjdHJsLnNlbGVjdGVkQ2hpcCA9IC0xO1xuICAgICAgICAgIH0pO1xuICAgIH07XG4gIH1cbn1cbk1kQ2hpcC4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiLCBcIiRtZFV0aWxcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5jaGlwcycpXG4gICAgLmRpcmVjdGl2ZSgnbWRDaGlwUmVtb3ZlJywgTWRDaGlwUmVtb3ZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZENoaXBSZW1vdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5jaGlwc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYDxtZC1jaGlwLXJlbW92ZT5gXG4gKiBEZXNpZ25hdGVzIGFuIGVsZW1lbnQgdG8gYmUgdXNlZCBhcyB0aGUgZGVsZXRlIGJ1dHRvbiBmb3IgYSBjaGlwLiBUaGlzXG4gKiBlbGVtZW50IGlzIHBhc3NlZCBhcyBhIGNoaWxkIG9mIHRoZSBgbWQtY2hpcHNgIGVsZW1lbnQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogICA8bWQtY2hpcHM+PGJ1dHRvbiBtZC1jaGlwLXJlbW92ZT5ERUw8L2J1dHRvbj48L21kLWNoaXBzPlxuICogPC9obGpzPlxuICovXG5cblxuLyoqXG4gKiBNZENoaXBSZW1vdmUgRGlyZWN0aXZlIERlZmluaXRpb24uXG4gKiBcbiAqIEBwYXJhbSAkY29tcGlsZVxuICogQHBhcmFtICR0aW1lb3V0XG4gKiBAcmV0dXJucyB7e3Jlc3RyaWN0OiBzdHJpbmcsIHJlcXVpcmU6IHN0cmluZ1tdLCBsaW5rOiBGdW5jdGlvbiwgc2NvcGU6IGJvb2xlYW59fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1kQ2hpcFJlbW92ZSAoJHRpbWVvdXQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdebWRDaGlwcycsXG4gICAgc2NvcGU6IGZhbHNlLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGN0cmwucmVtb3ZlQ2hpcChzY29wZS4kJHJlcGxhY2VkU2NvcGUuJGluZGV4KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gQ2hpbGQgZWxlbWVudHMgYXJlbid0IGF2YWlsYWJsZSB1bnRpbCBhZnRlciBhICR0aW1lb3V0IHRpY2sgYXMgdGhleSBhcmUgaGlkZGVuIGJ5IGFuXG4gICAgLy8gYG5nLWlmYC4gc2VlIGh0dHA6Ly9nb28uZ2wveklXZnV3XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBlbGVtZW50LmF0dHIoeyB0YWJpbmRleDogLTEsICdhcmlhLWhpZGRlbic6IHRydWUgfSk7XG4gICAgICBlbGVtZW50LmZpbmQoJ2J1dHRvbicpLmF0dHIoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgfSk7XG4gIH1cbn1cbk1kQ2hpcFJlbW92ZS4kaW5qZWN0ID0gW1wiJHRpbWVvdXRcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5jaGlwcycpXG4gICAgLmRpcmVjdGl2ZSgnbWRDaGlwVHJhbnNjbHVkZScsIE1kQ2hpcFRyYW5zY2x1ZGUpO1xuXG5mdW5jdGlvbiBNZENoaXBUcmFuc2NsdWRlICgkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIGxpbms6IGxpbmssXG4gICAgc2NvcGU6IGZhbHNlXG4gIH07XG4gIGZ1bmN0aW9uIGxpbmsgKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgdmFyIGN0cmwgPSBzY29wZS4kcGFyZW50LiRtZENoaXBzQ3RybCxcbiAgICAgICAgbmV3U2NvcGUgPSBjdHJsLnBhcmVudC4kbmV3KGZhbHNlLCBjdHJsLnBhcmVudCk7XG4gICAgbmV3U2NvcGUuJCRyZXBsYWNlZFNjb3BlID0gc2NvcGU7XG4gICAgbmV3U2NvcGUuJGNoaXAgPSBzY29wZS4kY2hpcDtcbiAgICBuZXdTY29wZS4kaW5kZXggPSBzY29wZS4kaW5kZXg7XG4gICAgbmV3U2NvcGUuJG1kQ2hpcHNDdHJsID0gY3RybDtcblxuICAgIHZhciBuZXdIdG1sID0gY3RybC4kc2NvcGUuJGV2YWwoYXR0ci5tZENoaXBUcmFuc2NsdWRlKTtcblxuICAgIGVsZW1lbnQuaHRtbChuZXdIdG1sKTtcbiAgICAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKG5ld1Njb3BlKTtcbiAgfVxufVxuTWRDaGlwVHJhbnNjbHVkZS4kaW5qZWN0ID0gW1wiJGNvbXBpbGVcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5jaGlwcycpXG4gICAgLmNvbnRyb2xsZXIoJ01kQ2hpcHNDdHJsJywgTWRDaGlwc0N0cmwpO1xuXG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIHRoZSBNZENoaXBzIGNvbXBvbmVudC4gUmVzcG9uc2libGUgZm9yIGFkZGluZyB0byBhbmRcbiAqIHJlbW92aW5nIGZyb20gdGhlIGxpc3Qgb2YgY2hpcHMsIG1hcmtpbmcgY2hpcHMgYXMgc2VsZWN0ZWQsIGFuZCBiaW5kaW5nIHRvXG4gKiB0aGUgbW9kZWxzIG9mIHZhcmlvdXMgaW5wdXQgY29tcG9uZW50cy5cbiAqXG4gKiBAcGFyYW0gJHNjb3BlXG4gKiBAcGFyYW0gJG1kQ29uc3RhbnRcbiAqIEBwYXJhbSAkbG9nXG4gKiBAcGFyYW0gJGVsZW1lbnRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNZENoaXBzQ3RybCAoJHNjb3BlLCAkbWRDb25zdGFudCwgJGxvZywgJGVsZW1lbnQsICR0aW1lb3V0KSB7XG4gIC8qKiBAdHlwZSB7JHRpbWVvdXR9ICoqL1xuICB0aGlzLiR0aW1lb3V0ID0gJHRpbWVvdXQ7XG5cbiAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gIHRoaXMuJG1kQ29uc3RhbnQgPSAkbWRDb25zdGFudDtcblxuICAvKiogQHR5cGUge2FuZ3VsYXIuJHNjb3BlfSAqL1xuICB0aGlzLiRzY29wZSA9ICRzY29wZTtcblxuICAvKiogQHR5cGUge2FuZ3VsYXIuJHNjb3BlfSAqL1xuICB0aGlzLnBhcmVudCA9ICRzY29wZS4kcGFyZW50O1xuXG4gIC8qKiBAdHlwZSB7JGxvZ30gKi9cbiAgdGhpcy4kbG9nID0gJGxvZztcblxuICAvKiogQHR5cGUgeyRlbGVtZW50fSAqL1xuICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG5cbiAgLyoqIEB0eXBlIHthbmd1bGFyLk5nTW9kZWxDb250cm9sbGVyfSAqL1xuICB0aGlzLm5nTW9kZWxDdHJsID0gbnVsbDtcblxuICAvKiogQHR5cGUge2FuZ3VsYXIuTmdNb2RlbENvbnRyb2xsZXJ9ICovXG4gIHRoaXMudXNlcklucHV0TmdNb2RlbEN0cmwgPSBudWxsO1xuXG4gIC8qKiBAdHlwZSB7RWxlbWVudH0gKi9cbiAgdGhpcy51c2VySW5wdXRFbGVtZW50ID0gbnVsbDtcblxuICAvKiogQHR5cGUge0FycmF5LjxPYmplY3Q+fSAqL1xuICB0aGlzLml0ZW1zID0gW107XG5cbiAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gIHRoaXMuc2VsZWN0ZWRDaGlwID0gLTE7XG5cbiAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICB0aGlzLmhhc0F1dG9jb21wbGV0ZSA9IGZhbHNlO1xuXG5cbiAgLyoqXG4gICAqIEhpZGRlbiBoaW50IHRleHQgZm9yIGhvdyB0byBkZWxldGUgYSBjaGlwLiBVc2VkIHRvIGdpdmUgY29udGV4dCB0byBzY3JlZW4gcmVhZGVycy5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIHRoaXMuZGVsZXRlSGludCA9ICdQcmVzcyBkZWxldGUgdG8gcmVtb3ZlIHRoaXMgY2hpcC4nO1xuXG4gIC8qKlxuICAgKiBIaWRkZW4gbGFiZWwgZm9yIHRoZSBkZWxldGUgYnV0dG9uLiBVc2VkIHRvIGdpdmUgY29udGV4dCB0byBzY3JlZW4gcmVhZGVycy5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIHRoaXMuZGVsZXRlQnV0dG9uTGFiZWwgPSAnUmVtb3ZlJztcblxuICAvKipcbiAgICogTW9kZWwgdXNlZCBieSB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIHRoaXMuY2hpcEJ1ZmZlciA9ICcnO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHVzZSB0aGUgb25BcHBlbmQgZXhwcmVzc2lvbiB0byB0cmFuc2Zvcm0gdGhlIGNoaXAgYnVmZmVyXG4gICAqIGJlZm9yZSBhcHBlbmRpbmcgaXQgdG8gdGhlIGxpc3QuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBXaWxsIHJlbW92ZSBpbiAxLjAuXG4gICAqL1xuICB0aGlzLnVzZU9uQXBwZW5kID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gdXNlIHRoZSB0cmFuc2Zvcm1DaGlwIGV4cHJlc3Npb24gdG8gdHJhbnNmb3JtIHRoZSBjaGlwIGJ1ZmZlclxuICAgKiBiZWZvcmUgYXBwZW5kaW5nIGl0IHRvIHRoZSBsaXN0LlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHRoaXMudXNlVHJhbnNmb3JtQ2hpcCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHVzZSB0aGUgb25BZGQgZXhwcmVzc2lvbiB0byBub3RpZnkgb2YgY2hpcCBhZGRpdGlvbnMuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy51c2VPbkFkZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHVzZSB0aGUgb25SZW1vdmUgZXhwcmVzc2lvbiB0byBub3RpZnkgb2YgY2hpcCByZW1vdmFscy5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICB0aGlzLnVzZU9uUmVtb3ZlID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gdXNlIHRoZSBvblNlbGVjdCBleHByZXNzaW9uIHRvIG5vdGlmeSB0aGUgY29tcG9uZW50J3MgdXNlclxuICAgKiBhZnRlciBzZWxlY3RpbmcgYSBjaGlwIGZyb20gdGhlIGxpc3QuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy51c2VPblNlbGVjdCA9IGZhbHNlO1xufVxuTWRDaGlwc0N0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRtZENvbnN0YW50XCIsIFwiJGxvZ1wiLCBcIiRlbGVtZW50XCIsIFwiJHRpbWVvdXRcIl07XG5cbi8qKlxuICogSGFuZGxlcyB0aGUga2V5ZG93biBldmVudCBvbiB0aGUgaW5wdXQgZWxlbWVudDogYnkgZGVmYXVsdCA8ZW50ZXI+IGFwcGVuZHNcbiAqIHRoZSBidWZmZXIgdG8gdGhlIGNoaXAgbGlzdCwgd2hpbGUgYmFja3NwYWNlIHJlbW92ZXMgdGhlIGxhc3QgY2hpcCBpbiB0aGVcbiAqIGxpc3QgaWYgdGhlIGN1cnJlbnQgYnVmZmVyIGlzIGVtcHR5LlxuICogQHBhcmFtIGV2ZW50XG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5pbnB1dEtleWRvd24gPSBmdW5jdGlvbihldmVudCkge1xuICB2YXIgY2hpcEJ1ZmZlciA9IHRoaXMuZ2V0Q2hpcEJ1ZmZlcigpO1xuXG4gIC8vIElmIHdlIGhhdmUgYW4gYXV0b2NvbXBsZXRlLCBhbmQgaXQgaGFuZGxlZCB0aGUgZXZlbnQsIHdlIGhhdmUgbm90aGluZyB0byBkb1xuICBpZiAodGhpcy5oYXNBdXRvY29tcGxldGUgJiYgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkICYmIGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGV2ZW50LmtleUNvZGUgPT09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuQkFDS1NQQUNFKSB7XG4gICAgaWYgKGNoaXBCdWZmZXIpIHJldHVybjtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCkgdGhpcy5zZWxlY3RBbmRGb2N1c0NoaXBTYWZlKHRoaXMuaXRlbXMubGVuZ3RoIC0gMSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCA8ZW50ZXI+IGFwcGVuZHMgdGhlIGJ1ZmZlciB0byB0aGUgY2hpcCBsaXN0LlxuICBpZiAoIXRoaXMuc2VwYXJhdG9yS2V5cyB8fCB0aGlzLnNlcGFyYXRvcktleXMubGVuZ3RoIDwgMSkge1xuICAgIHRoaXMuc2VwYXJhdG9yS2V5cyA9IFt0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLkVOVEVSXTtcbiAgfVxuXG4gIC8vIFN1cHBvcnQgYWRkaXRpb25hbCBzZXBhcmF0b3Iga2V5IGNvZGVzIGluIGFuIGFycmF5IG9mIGBtZC1zZXBhcmF0b3Ita2V5c2AuXG4gIGlmICh0aGlzLnNlcGFyYXRvcktleXMuaW5kZXhPZihldmVudC5rZXlDb2RlKSAhPT0gLTEpIHtcbiAgICBpZiAoKHRoaXMuaGFzQXV0b2NvbXBsZXRlICYmIHRoaXMucmVxdWlyZU1hdGNoKSB8fCAhY2hpcEJ1ZmZlcikgcmV0dXJuO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5hcHBlbmRDaGlwKGNoaXBCdWZmZXIpO1xuICAgIHRoaXMucmVzZXRDaGlwQnVmZmVyKCk7XG4gIH1cbn07XG5cbi8qKlxuICogSGFuZGxlcyB0aGUga2V5ZG93biBldmVudCBvbiB0aGUgY2hpcCBlbGVtZW50czogYmFja3NwYWNlIHJlbW92ZXMgdGhlIHNlbGVjdGVkIGNoaXAsIGFycm93XG4gKiBrZXlzIHN3aXRjaCB3aGljaCBjaGlwcyBpcyBhY3RpdmVcbiAqIEBwYXJhbSBldmVudFxuICovXG5NZENoaXBzQ3RybC5wcm90b3R5cGUuY2hpcEtleWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgaWYgKHRoaXMuZ2V0Q2hpcEJ1ZmZlcigpKSByZXR1cm47XG4gIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuICAgIGNhc2UgdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5CQUNLU1BBQ0U6XG4gICAgY2FzZSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLkRFTEVURTpcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ2hpcCA8IDApIHJldHVybjtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnJlbW92ZUFuZFNlbGVjdEFkamFjZW50Q2hpcCh0aGlzLnNlbGVjdGVkQ2hpcCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuTEVGVF9BUlJPVzpcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAodGhpcy5zZWxlY3RlZENoaXAgPCAwKSB0aGlzLnNlbGVjdGVkQ2hpcCA9IHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoKSB0aGlzLnNlbGVjdEFuZEZvY3VzQ2hpcFNhZmUodGhpcy5zZWxlY3RlZENoaXAgLSAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5SSUdIVF9BUlJPVzpcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnNlbGVjdEFuZEZvY3VzQ2hpcFNhZmUodGhpcy5zZWxlY3RlZENoaXAgKyAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5FU0NBUEU6XG4gICAgY2FzZSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLlRBQjpcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ2hpcCA8IDApIHJldHVybjtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm9uRm9jdXMoKTtcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG4vKipcbiAqIEdldCB0aGUgaW5wdXQncyBwbGFjZWhvbGRlciAtIHVzZXMgYHBsYWNlaG9sZGVyYCB3aGVuIGxpc3QgaXMgZW1wdHkgYW5kIGBzZWNvbmRhcnktcGxhY2Vob2xkZXJgXG4gKiB3aGVuIHRoZSBsaXN0IGlzIG5vbi1lbXB0eS4gSWYgYHNlY29uZGFyeS1wbGFjZWhvbGRlcmAgaXMgbm90IHByb3ZpZGVkLCBgcGxhY2Vob2xkZXJgIGlzIHVzZWRcbiAqIGFsd2F5cy5cbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLmdldFBsYWNlaG9sZGVyID0gZnVuY3Rpb24oKSB7XG4gIC8vIEFsbG93IGBzZWNvbmRhcnktcGxhY2Vob2xkZXJgIHRvIGJlIGJsYW5rLlxuICB2YXIgdXNlU2Vjb25kYXJ5ID0gKHRoaXMuaXRlbXMubGVuZ3RoICYmXG4gICAgICAodGhpcy5zZWNvbmRhcnlQbGFjZWhvbGRlciA9PSAnJyB8fCB0aGlzLnNlY29uZGFyeVBsYWNlaG9sZGVyKSk7XG4gIHJldHVybiB1c2VTZWNvbmRhcnkgPyB0aGlzLnBsYWNlaG9sZGVyIDogdGhpcy5zZWNvbmRhcnlQbGFjZWhvbGRlcjtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBjaGlwIGF0IHtAY29kZSBpbmRleH0gYW5kIHNlbGVjdHMgdGhlIGFkamFjZW50IGNoaXAuXG4gKiBAcGFyYW0gaW5kZXhcbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLnJlbW92ZUFuZFNlbGVjdEFkamFjZW50Q2hpcCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHZhciBzZWxJbmRleCA9IHRoaXMuZ2V0QWRqYWNlbnRDaGlwSW5kZXgoaW5kZXgpO1xuICB0aGlzLnJlbW92ZUNoaXAoaW5kZXgpO1xuICB0aGlzLiR0aW1lb3V0KGFuZ3VsYXIuYmluZCh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnNlbGVjdEFuZEZvY3VzQ2hpcFNhZmUoc2VsSW5kZXgpO1xuICB9KSk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHNlbGVjdGVkIGNoaXAgaW5kZXggdG8gLTEuXG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5yZXNldFNlbGVjdGVkQ2hpcCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnNlbGVjdGVkQ2hpcCA9IC0xO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBvZiBhbiBhZGphY2VudCBjaGlwIHRvIHNlbGVjdCBhZnRlciBkZWxldGlvbi4gQWRqYWNlbmN5IGlzXG4gKiBkZXRlcm1pbmVkIGFzIHRoZSBuZXh0IGNoaXAgaW4gdGhlIGxpc3QsIHVubGVzcyB0aGUgdGFyZ2V0IGNoaXAgaXMgdGhlXG4gKiBsYXN0IGluIHRoZSBsaXN0LCB0aGVuIGl0IGlzIHRoZSBjaGlwIGltbWVkaWF0ZWx5IHByZWNlZGluZyB0aGUgdGFyZ2V0LiBJZlxuICogdGhlcmUgaXMgb25seSBvbmUgaXRlbSBpbiB0aGUgbGlzdCwgLTEgaXMgcmV0dXJuZWQgKHNlbGVjdCBub25lKS5cbiAqIFRoZSBudW1iZXIgcmV0dXJuZWQgaXMgdGhlIGluZGV4IHRvIHNlbGVjdCBBRlRFUiB0aGUgdGFyZ2V0IGhhcyBiZWVuXG4gKiByZW1vdmVkLlxuICogSWYgdGhlIGN1cnJlbnQgY2hpcCBpcyBub3Qgc2VsZWN0ZWQsIHRoZW4gLTEgaXMgcmV0dXJuZWQgdG8gc2VsZWN0IG5vbmUuXG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5nZXRBZGphY2VudENoaXBJbmRleCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHZhciBsZW4gPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7XG4gIHJldHVybiAobGVuID09IDApID8gLTEgOlxuICAgICAgKGluZGV4ID09IGxlbikgPyBpbmRleCAtMSA6IGluZGV4O1xufTtcblxuLyoqXG4gKiBBcHBlbmQgdGhlIGNvbnRlbnRzIG9mIHRoZSBidWZmZXIgdG8gdGhlIGNoaXAgbGlzdC4gVGhpcyBtZXRob2Qgd2lsbCBmaXJzdFxuICogY2FsbCBvdXQgdG8gdGhlIG1kLXRyYW5zZm9ybS1jaGlwIG1ldGhvZCwgaWYgcHJvdmlkZWQuXG4gKlxuICogQHBhcmFtIG5ld0NoaXBcbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLmFwcGVuZENoaXAgPSBmdW5jdGlvbihuZXdDaGlwKSB7XG4gIGlmICh0aGlzLnVzZVRyYW5zZm9ybUNoaXAgJiYgdGhpcy50cmFuc2Zvcm1DaGlwKSB7XG4gICAgdmFyIHRyYW5zZm9ybWVkQ2hpcCA9IHRoaXMudHJhbnNmb3JtQ2hpcCh7JyRjaGlwJzogbmV3Q2hpcH0pO1xuXG4gICAgLy8gQ2hlY2sgdG8gbWFrZSBzdXJlIHRoZSBjaGlwIGlzIGRlZmluZWQgYmVmb3JlIGFzc2lnbmluZyBpdCwgb3RoZXJ3aXNlLCB3ZSdsbCBqdXN0IGFzc3VtZVxuICAgIC8vIHRoZXkgd2FudCB0aGUgc3RyaW5nIHZlcnNpb24uXG4gICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRyYW5zZm9ybWVkQ2hpcCkpIHtcbiAgICAgIG5ld0NoaXAgPSB0cmFuc2Zvcm1lZENoaXA7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgaXRlbXMgY29udGFpbnMgYW4gaWRlbnRpY2FsIG9iamVjdCB0byBuZXdDaGlwLCBkbyBub3QgYXBwZW5kXG4gIGlmIChhbmd1bGFyLmlzT2JqZWN0KG5ld0NoaXApKXtcbiAgICB2YXIgaWRlbnRpY2FsID0gdGhpcy5pdGVtcy5zb21lKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKG5ld0NoaXAsIGl0ZW0pO1xuICAgIH0pO1xuICAgIGlmKGlkZW50aWNhbCkgcmV0dXJuO1xuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIGEgbnVsbCAoYnV0IG5vdCB1bmRlZmluZWQpLCBvciBleGlzdGluZyBjaGlwIGFuZCBjYW5jZWwgYXBwZW5kaW5nXG4gIGlmIChuZXdDaGlwID09IG51bGwgfHwgdGhpcy5pdGVtcy5pbmRleE9mKG5ld0NoaXApICsgMSkgcmV0dXJuO1xuXG4gIC8vIEFwcGVuZCB0aGUgbmV3IGNoaXAgb250byBvdXIgbGlzdFxuICB2YXIgaW5kZXggPSB0aGlzLml0ZW1zLnB1c2gobmV3Q2hpcCk7XG5cbiAgLy8gSWYgdGhleSBwcm92aWRlIHRoZSBtZC1vbi1hZGQgYXR0cmlidXRlLCBub3RpZnkgdGhlbSBvZiB0aGUgY2hpcCBhZGRpdGlvblxuICBpZiAodGhpcy51c2VPbkFkZCAmJiB0aGlzLm9uQWRkKSB7XG4gICAgdGhpcy5vbkFkZCh7ICckY2hpcCc6IG5ld0NoaXAsICckaW5kZXgnOiBpbmRleCB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHdoZXRoZXIgdG8gdXNlIHRoZSBtZC1vbi1hcHBlbmQgZXhwcmVzc2lvbi4gVGhpcyBleHByZXNzaW9uIGlzXG4gKiBib3VuZCB0byBzY29wZSBhbmQgY29udHJvbGxlciBpbiB7QGNvZGUgTWRDaGlwc0RpcmVjdGl2ZX0gYXNcbiAqIHtAY29kZSBvbkFwcGVuZH0uIER1ZSB0byB0aGUgbmF0dXJlIG9mIGRpcmVjdGl2ZSBzY29wZSBiaW5kaW5ncywgdGhlXG4gKiBjb250cm9sbGVyIGNhbm5vdCBrbm93IG9uIGl0cyBvd24vZnJvbSB0aGUgc2NvcGUgd2hldGhlciBhbiBleHByZXNzaW9uIHdhc1xuICogYWN0dWFsbHkgcHJvdmlkZWQuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqXG4gKiBUT0RPOiBSZW1vdmUgZGVwcmVjYXRlZCBtZC1vbi1hcHBlbmQgZnVuY3Rpb25hbGl0eSBpbiAxLjBcbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLnVzZU9uQXBwZW5kRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLiRsb2cud2FybihcIm1kLW9uLWFwcGVuZCBpcyBkZXByZWNhdGVkOyBwbGVhc2UgdXNlIG1kLXRyYW5zZm9ybS1jaGlwIG9yIG1kLW9uLWFkZCBpbnN0ZWFkXCIpO1xuICBpZiAoIXRoaXMudXNlVHJhbnNmb3JtQ2hpcCB8fCAhdGhpcy50cmFuc2Zvcm1DaGlwKSB7XG4gICAgdGhpcy51c2VUcmFuc2Zvcm1DaGlwID0gdHJ1ZTtcbiAgICB0aGlzLnRyYW5zZm9ybUNoaXAgPSB0aGlzLm9uQXBwZW5kO1xuICB9XG59O1xuXG4vKipcbiAqIFNldHMgd2hldGhlciB0byB1c2UgdGhlIG1kLXRyYW5zZm9ybS1jaGlwIGV4cHJlc3Npb24uIFRoaXMgZXhwcmVzc2lvbiBpc1xuICogYm91bmQgdG8gc2NvcGUgYW5kIGNvbnRyb2xsZXIgaW4ge0Bjb2RlIE1kQ2hpcHNEaXJlY3RpdmV9IGFzXG4gKiB7QGNvZGUgdHJhbnNmb3JtQ2hpcH0uIER1ZSB0byB0aGUgbmF0dXJlIG9mIGRpcmVjdGl2ZSBzY29wZSBiaW5kaW5ncywgdGhlXG4gKiBjb250cm9sbGVyIGNhbm5vdCBrbm93IG9uIGl0cyBvd24vZnJvbSB0aGUgc2NvcGUgd2hldGhlciBhbiBleHByZXNzaW9uIHdhc1xuICogYWN0dWFsbHkgcHJvdmlkZWQuXG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS51c2VUcmFuc2Zvcm1DaGlwRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnVzZVRyYW5zZm9ybUNoaXAgPSB0cnVlO1xufTtcblxuLyoqXG4gKiBTZXRzIHdoZXRoZXIgdG8gdXNlIHRoZSBtZC1vbi1hZGQgZXhwcmVzc2lvbi4gVGhpcyBleHByZXNzaW9uIGlzXG4gKiBib3VuZCB0byBzY29wZSBhbmQgY29udHJvbGxlciBpbiB7QGNvZGUgTWRDaGlwc0RpcmVjdGl2ZX0gYXNcbiAqIHtAY29kZSBvbkFkZH0uIER1ZSB0byB0aGUgbmF0dXJlIG9mIGRpcmVjdGl2ZSBzY29wZSBiaW5kaW5ncywgdGhlXG4gKiBjb250cm9sbGVyIGNhbm5vdCBrbm93IG9uIGl0cyBvd24vZnJvbSB0aGUgc2NvcGUgd2hldGhlciBhbiBleHByZXNzaW9uIHdhc1xuICogYWN0dWFsbHkgcHJvdmlkZWQuXG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS51c2VPbkFkZEV4cHJlc3Npb24gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy51c2VPbkFkZCA9IHRydWU7XG59O1xuXG4vKipcbiAqIFNldHMgd2hldGhlciB0byB1c2UgdGhlIG1kLW9uLXJlbW92ZSBleHByZXNzaW9uLiBUaGlzIGV4cHJlc3Npb24gaXNcbiAqIGJvdW5kIHRvIHNjb3BlIGFuZCBjb250cm9sbGVyIGluIHtAY29kZSBNZENoaXBzRGlyZWN0aXZlfSBhc1xuICoge0Bjb2RlIG9uUmVtb3ZlfS4gRHVlIHRvIHRoZSBuYXR1cmUgb2YgZGlyZWN0aXZlIHNjb3BlIGJpbmRpbmdzLCB0aGVcbiAqIGNvbnRyb2xsZXIgY2Fubm90IGtub3cgb24gaXRzIG93bi9mcm9tIHRoZSBzY29wZSB3aGV0aGVyIGFuIGV4cHJlc3Npb24gd2FzXG4gKiBhY3R1YWxseSBwcm92aWRlZC5cbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLnVzZU9uUmVtb3ZlRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnVzZU9uUmVtb3ZlID0gdHJ1ZTtcbn07XG5cbi8qXG4gKiBTZXRzIHdoZXRoZXIgdG8gdXNlIHRoZSBtZC1vbi1zZWxlY3QgZXhwcmVzc2lvbi4gVGhpcyBleHByZXNzaW9uIGlzXG4gKiBib3VuZCB0byBzY29wZSBhbmQgY29udHJvbGxlciBpbiB7QGNvZGUgTWRDaGlwc0RpcmVjdGl2ZX0gYXNcbiAqIHtAY29kZSBvblNlbGVjdH0uIER1ZSB0byB0aGUgbmF0dXJlIG9mIGRpcmVjdGl2ZSBzY29wZSBiaW5kaW5ncywgdGhlXG4gKiBjb250cm9sbGVyIGNhbm5vdCBrbm93IG9uIGl0cyBvd24vZnJvbSB0aGUgc2NvcGUgd2hldGhlciBhbiBleHByZXNzaW9uIHdhc1xuICogYWN0dWFsbHkgcHJvdmlkZWQuXG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS51c2VPblNlbGVjdEV4cHJlc3Npb24gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy51c2VPblNlbGVjdCA9IHRydWU7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGlucHV0IGJ1ZmZlci4gVGhlIGlucHV0IGJ1ZmZlciBjYW4gYmUgdGhlIG1vZGVsIGJvdW5kIHRvIHRoZVxuICogZGVmYXVsdCBpbnB1dCBpdGVtIHtAY29kZSB0aGlzLmNoaXBCdWZmZXJ9LCB0aGUge0Bjb2RlIHNlbGVjdGVkSXRlbX1cbiAqIG1vZGVsIG9mIGFuIHtAY29kZSBtZC1hdXRvY29tcGxldGV9LCBvciwgdGhyb3VnaCBzb21lIG1hZ2ljLCB0aGUgbW9kZWxcbiAqIGJvdW5kIHRvIGFueSBpbnBwdXQgb3IgdGV4dCBhcmVhIGVsZW1lbnQgZm91bmQgd2l0aGluIGFcbiAqIHtAY29kZSBtZC1pbnB1dC1jb250YWluZXJ9IGVsZW1lbnQuXG4gKiBAcmV0dXJuIHtPYmplY3R8c3RyaW5nfVxuICovXG5NZENoaXBzQ3RybC5wcm90b3R5cGUuZ2V0Q2hpcEJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMudXNlcklucHV0RWxlbWVudCA/IHRoaXMuY2hpcEJ1ZmZlciA6XG4gICAgICB0aGlzLnVzZXJJbnB1dE5nTW9kZWxDdHJsID8gdGhpcy51c2VySW5wdXROZ01vZGVsQ3RybC4kdmlld1ZhbHVlIDpcbiAgICAgICAgICB0aGlzLnVzZXJJbnB1dEVsZW1lbnRbMF0udmFsdWU7XG59O1xuXG4vKipcbiAqIFJlc2V0cyB0aGUgaW5wdXQgYnVmZmVyIGZvciBlaXRoZXIgdGhlIGludGVybmFsIGlucHV0IG9yIHVzZXIgcHJvdmlkZWQgaW5wdXQgZWxlbWVudC5cbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLnJlc2V0Q2hpcEJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy51c2VySW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKHRoaXMudXNlcklucHV0TmdNb2RlbEN0cmwpIHtcbiAgICAgIHRoaXMudXNlcklucHV0TmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSgnJyk7XG4gICAgICB0aGlzLnVzZXJJbnB1dE5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51c2VySW5wdXRFbGVtZW50WzBdLnZhbHVlID0gJyc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuY2hpcEJ1ZmZlciA9ICcnO1xuICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGNoaXAgYXQgdGhlIGdpdmVuIGluZGV4LlxuICogQHBhcmFtIGluZGV4XG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5yZW1vdmVDaGlwID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgdmFyIHJlbW92ZWQgPSB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwgMSk7XG5cbiAgaWYgKHJlbW92ZWQgJiYgcmVtb3ZlZC5sZW5ndGggJiYgdGhpcy51c2VPblJlbW92ZSAmJiB0aGlzLm9uUmVtb3ZlKSB7XG4gICAgdGhpcy5vblJlbW92ZSh7ICckY2hpcCc6IHJlbW92ZWRbMF0sICckaW5kZXgnOiBpbmRleCB9KTtcbiAgfVxufTtcblxuTWRDaGlwc0N0cmwucHJvdG90eXBlLnJlbW92ZUNoaXBBbmRGb2N1c0lucHV0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gIHRoaXMucmVtb3ZlQ2hpcChpbmRleCk7XG4gIHRoaXMub25Gb2N1cygpO1xufTtcbi8qKlxuICogU2VsZWN0cyB0aGUgY2hpcCBhdCBgaW5kZXhgLFxuICogQHBhcmFtIGluZGV4XG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5zZWxlY3RBbmRGb2N1c0NoaXBTYWZlID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgaWYgKCF0aGlzLml0ZW1zLmxlbmd0aCkge1xuICAgIHRoaXMuc2VsZWN0Q2hpcCgtMSk7XG4gICAgdGhpcy5vbkZvY3VzKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpbmRleCA9PT0gdGhpcy5pdGVtcy5sZW5ndGgpIHJldHVybiB0aGlzLm9uRm9jdXMoKTtcbiAgaW5kZXggPSBNYXRoLm1heChpbmRleCwgMCk7XG4gIGluZGV4ID0gTWF0aC5taW4oaW5kZXgsIHRoaXMuaXRlbXMubGVuZ3RoIC0gMSk7XG4gIHRoaXMuc2VsZWN0Q2hpcChpbmRleCk7XG4gIHRoaXMuZm9jdXNDaGlwKGluZGV4KTtcbn07XG5cbi8qKlxuICogTWFya3MgdGhlIGNoaXAgYXQgdGhlIGdpdmVuIGluZGV4IGFzIHNlbGVjdGVkLlxuICogQHBhcmFtIGluZGV4XG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5zZWxlY3RDaGlwID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgaWYgKGluZGV4ID49IC0xICYmIGluZGV4IDw9IHRoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgdGhpcy5zZWxlY3RlZENoaXAgPSBpbmRleDtcblxuICAgIC8vIEZpcmUgdGhlIG9uU2VsZWN0IGlmIHByb3ZpZGVkXG4gICAgaWYgKHRoaXMudXNlT25TZWxlY3QgJiYgdGhpcy5vblNlbGVjdCkge1xuICAgICAgdGhpcy5vblNlbGVjdCh7JyRjaGlwJzogdGhpcy5pdGVtc1t0aGlzLnNlbGVjdGVkQ2hpcF0gfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuJGxvZy53YXJuKCdTZWxlY3RlZCBDaGlwIGluZGV4IG91dCBvZiBib3VuZHM7IGlnbm9yaW5nLicpO1xuICB9XG59O1xuXG4vKipcbiAqIFNlbGVjdHMgdGhlIGNoaXAgYXQgYGluZGV4YCBhbmQgZ2l2ZXMgaXQgZm9jdXMuXG4gKiBAcGFyYW0gaW5kZXhcbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLnNlbGVjdEFuZEZvY3VzQ2hpcCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHRoaXMuc2VsZWN0Q2hpcChpbmRleCk7XG4gIGlmIChpbmRleCAhPSAtMSkge1xuICAgIHRoaXMuZm9jdXNDaGlwKGluZGV4KTtcbiAgfVxufTtcblxuLyoqXG4gKiBDYWxsIGBmb2N1cygpYCBvbiB0aGUgY2hpcCBhdCBgaW5kZXhgXG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5mb2N1c0NoaXAgPSBmdW5jdGlvbihpbmRleCkge1xuICB0aGlzLiRlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ21kLWNoaXBbaW5kZXg9XCInICsgaW5kZXggKyAnXCJdIC5tZC1jaGlwLWNvbnRlbnQnKS5mb2N1cygpO1xufTtcblxuLyoqXG4gKiBDb25maWd1cmVzIHRoZSByZXF1aXJlZCBpbnRlcmFjdGlvbnMgd2l0aCB0aGUgbmdNb2RlbCBDb250cm9sbGVyLlxuICogU3BlY2lmaWNhbGx5LCBzZXQge0Bjb2RlIHRoaXMuaXRlbXN9IHRvIHRoZSB7QGNvZGUgTmdNb2RlbEN0cmwjJHZpZXdWYWxlfS5cbiAqIEBwYXJhbSBuZ01vZGVsQ3RybFxuICovXG5NZENoaXBzQ3RybC5wcm90b3R5cGUuY29uZmlndXJlTmdNb2RlbCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsKSB7XG4gIHRoaXMubmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybDtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBtb2RlbCBpcyB1cGRhdGVkLiBkbyBzb21ldGhpbmcuXG4gICAgc2VsZi5pdGVtcyA9IHNlbGYubmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcbn07XG5cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5vbkZvY3VzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaW5wdXQgPSB0aGlzLiRlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gIGlucHV0ICYmIGlucHV0LmZvY3VzKCk7XG4gIHRoaXMucmVzZXRTZWxlY3RlZENoaXAoKTtcbn07XG5cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5vbklucHV0Rm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaW5wdXRIYXNGb2N1cyA9IHRydWU7XG4gIHRoaXMucmVzZXRTZWxlY3RlZENoaXAoKTtcbn07XG5cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5vbklucHV0Qmx1ciA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pbnB1dEhhc0ZvY3VzID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIENvbmZpZ3VyZSBldmVudCBiaW5kaW5ncyBvbiBhIHVzZXItcHJvdmlkZWQgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSBpbnB1dEVsZW1lbnRcbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLmNvbmZpZ3VyZVVzZXJJbnB1dCA9IGZ1bmN0aW9uKGlucHV0RWxlbWVudCkge1xuICB0aGlzLnVzZXJJbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7XG5cbiAgLy8gRmluZCB0aGUgTmdNb2RlbEN0cmwgZm9yIHRoZSBpbnB1dCBlbGVtZW50XG4gIHZhciBuZ01vZGVsQ3RybCA9IGlucHV0RWxlbWVudC5jb250cm9sbGVyKCduZ01vZGVsJyk7XG4gIC8vIGAuY29udHJvbGxlcmAgd2lsbCBsb29rIGluIHRoZSBwYXJlbnQgYXMgd2VsbC5cbiAgaWYgKG5nTW9kZWxDdHJsICE9IHRoaXMubmdNb2RlbEN0cmwpIHtcbiAgICB0aGlzLnVzZXJJbnB1dE5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmw7XG4gIH1cblxuICB2YXIgc2NvcGUgPSB0aGlzLiRzY29wZTtcbiAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gIC8vIFJ1biBhbGwgb2YgdGhlIGV2ZW50cyB1c2luZyBldmFsQXN5bmMgYmVjYXVzZSBhIGZvY3VzIG1heSBmaXJlIGEgYmx1ciBpbiB0aGUgc2FtZSBkaWdlc3QgbG9vcFxuICB2YXIgc2NvcGVBcHBseUZuID0gZnVuY3Rpb24oZXZlbnQsIGZuKSB7XG4gICAgc2NvcGUuJGV2YWxBc3luYyhhbmd1bGFyLmJpbmQoY3RybCwgZm4sIGV2ZW50KSk7XG4gIH07XG5cbiAgLy8gQmluZCB0byBrZXlkb3duIGFuZCBmb2N1cyBldmVudHMgb2YgaW5wdXRcbiAgaW5wdXRFbGVtZW50XG4gICAgICAuYXR0cih7IHRhYmluZGV4OiAwIH0pXG4gICAgICAub24oJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkgeyBzY29wZUFwcGx5Rm4oZXZlbnQsIGN0cmwuaW5wdXRLZXlkb3duKSB9KVxuICAgICAgLm9uKCdmb2N1cycsIGZ1bmN0aW9uKGV2ZW50KSB7IHNjb3BlQXBwbHlGbihldmVudCwgY3RybC5vbklucHV0Rm9jdXMpIH0pXG4gICAgICAub24oJ2JsdXInLCBmdW5jdGlvbihldmVudCkgeyBzY29wZUFwcGx5Rm4oZXZlbnQsIGN0cmwub25JbnB1dEJsdXIpIH0pXG59O1xuXG5NZENoaXBzQ3RybC5wcm90b3R5cGUuY29uZmlndXJlQXV0b2NvbXBsZXRlID0gZnVuY3Rpb24oY3RybCkge1xuICBpZiAoIGN0cmwgKXtcbiAgICB0aGlzLmhhc0F1dG9jb21wbGV0ZSA9IHRydWU7XG4gICAgY3RybC5yZWdpc3RlclNlbGVjdGVkSXRlbVdhdGNoZXIoYW5ndWxhci5iaW5kKHRoaXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICB0aGlzLmFwcGVuZENoaXAoaXRlbSk7XG4gICAgICAgIHRoaXMucmVzZXRDaGlwQnVmZmVyKCk7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgdGhpcy4kZWxlbWVudC5maW5kKCdpbnB1dCcpXG4gICAgICAgIC5vbignZm9jdXMnLGFuZ3VsYXIuYmluZCh0aGlzLCB0aGlzLm9uSW5wdXRGb2N1cykgKVxuICAgICAgICAub24oJ2JsdXInLCBhbmd1bGFyLmJpbmQodGhpcywgdGhpcy5vbklucHV0Qmx1cikgKTtcbiAgfVxufTtcblxuTWRDaGlwc0N0cmwucHJvdG90eXBlLmhhc0ZvY3VzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5pbnB1dEhhc0ZvY3VzIHx8IHRoaXMuc2VsZWN0ZWRDaGlwID49IDA7XG59O1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNoaXBzJylcbiAgICAgIC5kaXJlY3RpdmUoJ21kQ2hpcHMnLCBNZENoaXBzKTtcblxuICAvKipcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgKiBAbmFtZSBtZENoaXBzXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5jaGlwc1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogYDxtZC1jaGlwcz5gIGlzIGFuIGlucHV0IGNvbXBvbmVudCBmb3IgYnVpbGRpbmcgbGlzdHMgb2Ygc3RyaW5ncyBvciBvYmplY3RzLiBUaGUgbGlzdCBpdGVtcyBhcmVcbiAgICogZGlzcGxheWVkIGFzICdjaGlwcycuIFRoaXMgY29tcG9uZW50IGNhbiBtYWtlIHVzZSBvZiBhbiBgPGlucHV0PmAgZWxlbWVudCBvciBhbiBcbiAgICogYDxtZC1hdXRvY29tcGxldGU+YCBlbGVtZW50LlxuICAgKlxuICAgKiAjIyMgQ3VzdG9tIHRlbXBsYXRlc1xuICAgKiBBIGN1c3RvbSB0ZW1wbGF0ZSBtYXkgYmUgcHJvdmlkZWQgdG8gcmVuZGVyIHRoZSBjb250ZW50IG9mIGVhY2ggY2hpcC4gVGhpcyBpcyBhY2hpZXZlZCBieVxuICAgKiBzcGVjaWZ5aW5nIGFuIGA8bWQtY2hpcC10ZW1wbGF0ZT5gIGVsZW1lbnQgY29udGFpbmluZyB0aGUgY3VzdG9tIGNvbnRlbnQgYXMgYSBjaGlsZCBvZlxuICAgKiBgPG1kLWNoaXBzPmAuXG4gICAqXG4gICAqIE5vdGU6IEFueSBhdHRyaWJ1dGVzIG9uXG4gICAqIGA8bWQtY2hpcC10ZW1wbGF0ZT5gIHdpbGwgYmUgZHJvcHBlZCBhcyBvbmx5IHRoZSBpbm5lckhUTUwgaXMgdXNlZCBmb3IgdGhlIGNoaXAgdGVtcGxhdGUuIFRoZVxuICAgKiB2YXJpYWJsZXMgYCRjaGlwYCBhbmQgYCRpbmRleGAgYXJlIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGUgb2YgYDxtZC1jaGlwLXRlbXBsYXRlPmAsIHJlcHJlc2VudGluZ1xuICAgKiB0aGUgY2hpcCBvYmplY3QgYW5kIGl0cyBpbmRleCBpbiB0aGUgbGlzdCBvZiBjaGlwcywgcmVzcGVjdGl2ZWx5LlxuICAgKiBUbyBvdmVycmlkZSB0aGUgY2hpcCBkZWxldGUgY29udHJvbCwgaW5jbHVkZSBhbiBlbGVtZW50IChpZGVhbGx5IGEgYnV0dG9uKSB3aXRoIHRoZSBhdHRyaWJ1dGVcbiAgICogYG1kLWNoaXAtcmVtb3ZlYC4gQSBjbGljayBsaXN0ZW5lciB0byByZW1vdmUgdGhlIGNoaXAgd2lsbCBiZSBhZGRlZCBhdXRvbWF0aWNhbGx5LiBUaGUgZWxlbWVudFxuICAgKiBpcyBhbHNvIHBsYWNlZCBhcyBhIHNpYmxpbmcgdG8gdGhlIGNoaXAgY29udGVudCAob24gd2hpY2ggdGhlcmUgYXJlIGFsc28gY2xpY2sgbGlzdGVuZXJzKSB0b1xuICAgKiBhdm9pZCBhIG5lc3RlZCBuZy1jbGljayBzaXR1YXRpb24uXG4gICAqXG4gICAqIDxoMz4gUGVuZGluZyBGZWF0dXJlcyA8L2gzPlxuICAgKiA8dWwgc3R5bGU9XCJwYWRkaW5nLWxlZnQ6MjBweDtcIj5cbiAgICpcbiAgICogICA8dWw+U3R5bGVcbiAgICogICAgIDxsaT5Db2xvdXJzIGZvciBob3ZlciwgcHJlc3Mgc3RhdGVzIChyaXBwbGU/KS48L2xpPlxuICAgKiAgIDwvdWw+XG4gICAqXG4gICAqICAgPHVsPlZhbGlkYXRpb25cbiAgICogICAgIDxsaT5hbGxvdyBhIHZhbGlkYXRpb24gY2FsbGJhY2s8L2xpPlxuICAgKiAgICAgPGxpPmhpbGlnaHRpbmcgc3R5bGUgZm9yIGludmFsaWQgY2hpcHM8L2xpPlxuICAgKiAgIDwvdWw+XG4gICAqXG4gICAqICAgPHVsPkl0ZW0gbXV0YXRpb25cbiAgICogICAgIDxsaT5TdXBwb3J0IGBcbiAgICogICAgICAgPG1kLWNoaXAtZWRpdD5gIHRlbXBsYXRlLCBzaG93L2hpZGUgdGhlIGVkaXQgZWxlbWVudCBvbiB0YXAvY2xpY2s/IGRvdWJsZSB0YXAvZG91YmxlXG4gICAqICAgICAgIGNsaWNrP1xuICAgKiAgICAgPC9saT5cbiAgICogICA8L3VsPlxuICAgKlxuICAgKiAgIDx1bD5UcnVuY2F0aW9uIGFuZCBEaXNhbWJpZ3VhdGlvbiAoPylcbiAgICogICAgIDxsaT5UcnVuY2F0ZSBjaGlwIHRleHQgd2hlcmUgcG9zc2libGUsIGJ1dCBkbyBub3QgdHJ1bmNhdGUgZW50cmllcyBzdWNoIHRoYXQgdHdvIGFyZVxuICAgKiAgICAgaW5kaXN0aW5ndWlzaGFibGUuPC9saT5cbiAgICogICA8L3VsPlxuICAgKlxuICAgKiAgIDx1bD5EcmFnIGFuZCBEcm9wXG4gICAqICAgICA8bGk+RHJhZyBhbmQgZHJvcCBjaGlwcyBiZXR3ZWVuIHJlbGF0ZWQgYDxtZC1jaGlwcz5gIGVsZW1lbnRzLlxuICAgKiAgICAgPC9saT5cbiAgICogICA8L3VsPlxuICAgKiA8L3VsPlxuICAgKlxuICAgKiAgPHNwYW4gc3R5bGU9XCJmb250LXNpemU6LjhlbTt0ZXh0LWFsaWduOmNlbnRlclwiPlxuICAgKiAgICBXYXJuaW5nOiBUaGlzIGNvbXBvbmVudCBpcyBhIFdPUksgSU4gUFJPR1JFU1MuIElmIHlvdSB1c2UgaXQgbm93LFxuICAgKiAgICBpdCB3aWxsIHByb2JhYmx5IGJyZWFrIG9uIHlvdSBpbiB0aGUgZnV0dXJlLlxuICAgKiAgPC9zcGFuPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz18b2JqZWN0PX0gbmctbW9kZWwgQSBtb2RlbCB0byBiaW5kIHRoZSBsaXN0IG9mIGl0ZW1zIHRvXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGxhY2Vob2xkZXIgUGxhY2Vob2xkZXIgdGV4dCB0aGF0IHdpbGwgYmUgZm9yd2FyZGVkIHRvIHRoZSBpbnB1dC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzZWNvbmRhcnktcGxhY2Vob2xkZXIgUGxhY2Vob2xkZXIgdGV4dCB0aGF0IHdpbGwgYmUgZm9yd2FyZGVkIHRvIHRoZSBpbnB1dCxcbiAgICogICAgZGlzcGxheWVkIHdoZW4gdGhlcmUgaXMgYXQgbGVhc3Qgb24gaXRlbSBpbiB0aGUgbGlzdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZWFkb25seSBEaXNhYmxlcyBsaXN0IG1hbmlwdWxhdGlvbiAoZGVsZXRpbmcgb3IgYWRkaW5nIGxpc3QgaXRlbXMpLCBoaWRpbmdcbiAgICogICAgdGhlIGlucHV0IGFuZCBkZWxldGUgYnV0dG9uc1xuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG1kLXRyYW5zZm9ybS1jaGlwIEFuIGV4cHJlc3Npb24gb2YgZm9ybSBgbXlGdW5jdGlvbigkY2hpcClgIHRoYXQgd2hlbiBjYWxsZWRcbiAgICogICAgZXhwZWN0cyBvbmUgb2YgdGhlIGZvbGxvd2luZyByZXR1cm4gdmFsdWVzOlxuICAgKiAgICAtIGFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGAkY2hpcGAgaW5wdXQgc3RyaW5nXG4gICAqICAgIC0gYHVuZGVmaW5lZGAgdG8gc2ltcGx5IGFkZCB0aGUgYCRjaGlwYCBpbnB1dCBzdHJpbmcsIG9yXG4gICAqICAgIC0gYG51bGxgIHRvIHByZXZlbnQgdGhlIGNoaXAgZnJvbSBiZWluZyBhcHBlbmRlZFxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1vbi1hZGQgQW4gZXhwcmVzc2lvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aGVuIGEgY2hpcCBoYXMgYmVlblxuICAgKiAgICBhZGRlZC5cbiAgICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtb24tcmVtb3ZlIEFuIGV4cHJlc3Npb24gd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2hlbiBhIGNoaXAgaGFzIGJlZW5cbiAgICogICAgcmVtb3ZlZC5cbiAgICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtb24tc2VsZWN0IEFuIGV4cHJlc3Npb24gd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2hlbiBhIGNoaXAgaXMgc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWQtcmVxdWlyZS1tYXRjaCBJZiB0cnVlLCBhbmQgdGhlIGNoaXBzIHRlbXBsYXRlIGNvbnRhaW5zIGFuIGF1dG9jb21wbGV0ZSxcbiAgICogICAgb25seSBhbGxvdyBzZWxlY3Rpb24gb2YgcHJlLWRlZmluZWQgY2hpcHMgKGkuZS4geW91IGNhbm5vdCBhZGQgbmV3IG9uZXMpLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IGRlbGV0ZS1oaW50IEEgc3RyaW5nIHJlYWQgYnkgc2NyZWVuIHJlYWRlcnMgaW5zdHJ1Y3RpbmcgdXNlcnMgdGhhdCBwcmVzc2luZ1xuICAgKiAgICB0aGUgZGVsZXRlIGtleSB3aWxsIHJlbW92ZSB0aGUgY2hpcC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBkZWxldGUtYnV0dG9uLWxhYmVsIEEgbGFiZWwgZm9yIHRoZSBkZWxldGUgYnV0dG9uLiBBbHNvIGhpZGRlbiBhbmQgcmVhZCBieVxuICAgKiAgICBzY3JlZW4gcmVhZGVycy5cbiAgICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtc2VwYXJhdG9yLWtleXMgQW4gYXJyYXkgb2Yga2V5IGNvZGVzIHVzZWQgdG8gc2VwYXJhdGUgY2hpcHMuXG4gICAqXG4gICAqIEB1c2FnZVxuICAgKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICAgKiAgIDxtZC1jaGlwc1xuICAgKiAgICAgICBuZy1tb2RlbD1cIm15SXRlbXNcIlxuICAgKiAgICAgICBwbGFjZWhvbGRlcj1cIkFkZCBhbiBpdGVtXCJcbiAgICogICAgICAgcmVhZG9ubHk9XCJpc1JlYWRPbmx5XCI+XG4gICAqICAgPC9tZC1jaGlwcz5cbiAgICogPC9obGpzPlxuICAgKlxuICAgKi9cblxuXG4gIHZhciBNRF9DSElQU19URU1QTEFURSA9ICdcXFxuICAgICAgPG1kLWNoaXBzLXdyYXBcXFxuICAgICAgICAgIG5nLWlmPVwiISRtZENoaXBzQ3RybC5yZWFkb25seSB8fCAkbWRDaGlwc0N0cmwuaXRlbXMubGVuZ3RoID4gMFwiXFxcbiAgICAgICAgICBuZy1rZXlkb3duPVwiJG1kQ2hpcHNDdHJsLmNoaXBLZXlkb3duKCRldmVudClcIlxcXG4gICAgICAgICAgbmctY2xhc3M9XCJ7IFxcJ21kLWZvY3VzZWRcXCc6ICRtZENoaXBzQ3RybC5oYXNGb2N1cygpLCBcXCdtZC1yZWFkb25seVxcJzogISRtZENoaXBzQ3RybC5uZ01vZGVsQ3RybCB9XCJcXFxuICAgICAgICAgIGNsYXNzPVwibWQtY2hpcHNcIj5cXFxuICAgICAgICA8bWQtY2hpcCBuZy1yZXBlYXQ9XCIkY2hpcCBpbiAkbWRDaGlwc0N0cmwuaXRlbXNcIlxcXG4gICAgICAgICAgICBpbmRleD1cInt7JGluZGV4fX1cIlxcXG4gICAgICAgICAgICBuZy1jbGFzcz1cIntcXCdtZC1mb2N1c2VkXFwnOiAkbWRDaGlwc0N0cmwuc2VsZWN0ZWRDaGlwID09ICRpbmRleCwgXFwnbWQtcmVhZG9ubHlcXCc6ICRtZENoaXBzQ3RybC5yZWFkb25seX1cIj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZC1jaGlwLWNvbnRlbnRcIlxcXG4gICAgICAgICAgICAgIHRhYmluZGV4PVwiLTFcIlxcXG4gICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXFxcbiAgICAgICAgICAgICAgbmctZm9jdXM9XCIhJG1kQ2hpcHNDdHJsLnJlYWRvbmx5ICYmICRtZENoaXBzQ3RybC5zZWxlY3RDaGlwKCRpbmRleClcIlxcXG4gICAgICAgICAgICAgIG1kLWNoaXAtdHJhbnNjbHVkZT1cIiRtZENoaXBzQ3RybC5jaGlwQ29udGVudHNUZW1wbGF0ZVwiPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBuZy1pZj1cIiEkbWRDaGlwc0N0cmwucmVhZG9ubHlcIlxcXG4gICAgICAgICAgICAgICBjbGFzcz1cIm1kLWNoaXAtcmVtb3ZlLWNvbnRhaW5lclwiXFxcbiAgICAgICAgICAgICAgIG1kLWNoaXAtdHJhbnNjbHVkZT1cIiRtZENoaXBzQ3RybC5jaGlwUmVtb3ZlVGVtcGxhdGVcIj48L2Rpdj5cXFxuICAgICAgICA8L21kLWNoaXA+XFxcbiAgICAgICAgPGRpdiBuZy1pZj1cIiEkbWRDaGlwc0N0cmwucmVhZG9ubHkgJiYgJG1kQ2hpcHNDdHJsLm5nTW9kZWxDdHJsXCJcXFxuICAgICAgICAgICAgY2xhc3M9XCJtZC1jaGlwLWlucHV0LWNvbnRhaW5lclwiXFxcbiAgICAgICAgICAgIG1kLWNoaXAtdHJhbnNjbHVkZT1cIiRtZENoaXBzQ3RybC5jaGlwSW5wdXRUZW1wbGF0ZVwiPjwvZGl2PlxcXG4gICAgICAgIDwvZGl2PlxcXG4gICAgICA8L21kLWNoaXBzLXdyYXA+JztcblxuICB2YXIgQ0hJUF9JTlBVVF9URU1QTEFURSA9ICdcXFxuICAgICAgICA8aW5wdXRcXFxuICAgICAgICAgICAgY2xhc3M9XCJtZC1pbnB1dFwiXFxcbiAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXFxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwie3skbWRDaGlwc0N0cmwuZ2V0UGxhY2Vob2xkZXIoKX19XCJcXFxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cInt7JG1kQ2hpcHNDdHJsLmdldFBsYWNlaG9sZGVyKCl9fVwiXFxcbiAgICAgICAgICAgIG5nLW1vZGVsPVwiJG1kQ2hpcHNDdHJsLmNoaXBCdWZmZXJcIlxcXG4gICAgICAgICAgICBuZy1mb2N1cz1cIiRtZENoaXBzQ3RybC5vbklucHV0Rm9jdXMoKVwiXFxcbiAgICAgICAgICAgIG5nLWJsdXI9XCIkbWRDaGlwc0N0cmwub25JbnB1dEJsdXIoKVwiXFxcbiAgICAgICAgICAgIG5nLWtleWRvd249XCIkbWRDaGlwc0N0cmwuaW5wdXRLZXlkb3duKCRldmVudClcIj4nO1xuXG4gIHZhciBDSElQX0RFRkFVTFRfVEVNUExBVEUgPSAnXFxcbiAgICAgIDxzcGFuPnt7JGNoaXB9fTwvc3Bhbj4nO1xuXG4gIHZhciBDSElQX1JFTU9WRV9URU1QTEFURSA9ICdcXFxuICAgICAgPGJ1dHRvblxcXG4gICAgICAgICAgY2xhc3M9XCJtZC1jaGlwLXJlbW92ZVwiXFxcbiAgICAgICAgICBuZy1pZj1cIiEkbWRDaGlwc0N0cmwucmVhZG9ubHlcIlxcXG4gICAgICAgICAgbmctY2xpY2s9XCIkbWRDaGlwc0N0cmwucmVtb3ZlQ2hpcEFuZEZvY3VzSW5wdXQoJCRyZXBsYWNlZFNjb3BlLiRpbmRleClcIlxcXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXFxcbiAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxcXG4gICAgICAgICAgdGFiaW5kZXg9XCItMVwiPlxcXG4gICAgICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwibWQtY2xvc2VcIj48L21kLWljb24+XFxcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJtZC12aXN1YWxseS1oaWRkZW5cIj5cXFxuICAgICAgICAgIHt7JG1kQ2hpcHNDdHJsLmRlbGV0ZUJ1dHRvbkxhYmVsfX1cXFxuICAgICAgICA8L3NwYW4+XFxcbiAgICAgIDwvYnV0dG9uPic7XG5cbiAgLyoqXG4gICAqIE1EQ2hpcHMgRGlyZWN0aXZlIERlZmluaXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIE1kQ2hpcHMgKCRtZFRoZW1pbmcsICRtZFV0aWwsICRjb21waWxlLCAkbG9nLCAkdGltZW91dCkge1xuICAgIC8vIFJ1biBvdXIgdGVtcGxhdGVzIHRocm91Z2ggJG1kVXRpbC5wcm9jZXNzVGVtcGxhdGUoKSB0byBhbGxvdyBjdXN0b20gc3RhcnQvZW5kIHN5bWJvbHNcbiAgICB2YXIgdGVtcGxhdGVzID0gZ2V0VGVtcGxhdGVzKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGVtcGxhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIC8vIENsb25lIHRoZSBlbGVtZW50IGludG8gYW4gYXR0cmlidXRlLiBCeSBwcmVwZW5kaW5nIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgLy8gbmFtZSB3aXRoICckJywgQW5ndWxhciB3b24ndCB3cml0ZSBpdCBpbnRvIHRoZSBET00uIFRoZSBjbG9uZWRcbiAgICAgICAgLy8gZWxlbWVudCBwcm9wYWdhdGVzIHRvIHRoZSBsaW5rIGZ1bmN0aW9uIHZpYSB0aGUgYXR0cnMgYXJndW1lbnQsXG4gICAgICAgIC8vIHdoZXJlIHZhcmlvdXMgY29udGFpbmVkLWVsZW1lbnRzIGNhbiBiZSBjb25zdW1lZC5cbiAgICAgICAgYXR0cnNbJyRtZFVzZXJUZW1wbGF0ZSddID0gZWxlbWVudC5jbG9uZSgpO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGVzLmNoaXBzO1xuICAgICAgfSxcbiAgICAgIHJlcXVpcmU6IFsnbWRDaGlwcyddLFxuICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdNZENoaXBzQ3RybCcsXG4gICAgICBjb250cm9sbGVyQXM6ICckbWRDaGlwc0N0cmwnLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIGNvbXBpbGU6IGNvbXBpbGUsXG4gICAgICBzY29wZToge1xuICAgICAgICByZWFkb25seTogJz1yZWFkb25seScsXG4gICAgICAgIHBsYWNlaG9sZGVyOiAnQCcsXG4gICAgICAgIHNlY29uZGFyeVBsYWNlaG9sZGVyOiAnQCcsXG4gICAgICAgIHRyYW5zZm9ybUNoaXA6ICcmbWRUcmFuc2Zvcm1DaGlwJyxcbiAgICAgICAgb25BcHBlbmQ6ICcmbWRPbkFwcGVuZCcsXG4gICAgICAgIG9uQWRkOiAnJm1kT25BZGQnLFxuICAgICAgICBvblJlbW92ZTogJyZtZE9uUmVtb3ZlJyxcbiAgICAgICAgb25TZWxlY3Q6ICcmbWRPblNlbGVjdCcsXG4gICAgICAgIGRlbGV0ZUhpbnQ6ICdAJyxcbiAgICAgICAgZGVsZXRlQnV0dG9uTGFiZWw6ICdAJyxcbiAgICAgICAgc2VwYXJhdG9yS2V5czogJz0/bWRTZXBhcmF0b3JLZXlzJyxcbiAgICAgICAgcmVxdWlyZU1hdGNoOiAnPT9tZFJlcXVpcmVNYXRjaCdcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSBmaW5hbCB0ZW1wbGF0ZSBmb3IgYG1kLWNoaXBzYCBhbmQgcmV0dXJucyB0aGUgcG9zdExpbmsgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBCdWlsZGluZyB0aGUgdGVtcGxhdGUgaW52b2x2ZXMgMyBrZXkgY29tcG9uZW50czpcbiAgICAgKiBzdGF0aWMgY2hpcHNcbiAgICAgKiBjaGlwIHRlbXBsYXRlXG4gICAgICogaW5wdXQgY29udHJvbFxuICAgICAqXG4gICAgICogSWYgbm8gYG5nLW1vZGVsYCBpcyBwcm92aWRlZCwgb25seSB0aGUgc3RhdGljIGNoaXAgd29yayBuZWVkcyB0byBiZSBkb25lLlxuICAgICAqXG4gICAgICogSWYgbm8gdXNlci1wYXNzZWQgYG1kLWNoaXAtdGVtcGxhdGVgIGV4aXN0cywgdGhlIGRlZmF1bHQgdGVtcGxhdGUgaXMgdXNlZC4gVGhpcyByZXN1bHRpbmdcbiAgICAgKiB0ZW1wbGF0ZSBpcyBhcHBlbmRlZCB0byB0aGUgY2hpcCBjb250ZW50IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBUaGUgcmVtb3ZlIGJ1dHRvbiBtYXkgYmUgb3ZlcnJpZGRlbiBieSBwYXNzaW5nIGFuIGVsZW1lbnQgd2l0aCBhbiBtZC1jaGlwLXJlbW92ZSBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBJZiBhbiBgaW5wdXRgIG9yIGBtZC1hdXRvY29tcGxldGVgIGVsZW1lbnQgaXMgcHJvdmlkZWQgYnkgdGhlIGNhbGxlciwgaXQgaXMgc2V0IGFzaWRlIGZvclxuICAgICAqIHRyYW5zY2x1c2lvbiBsYXRlci4gVGhlIHRyYW5zY2x1c2lvbiBoYXBwZW5zIGluIGBwb3N0TGlua2AgYXMgdGhlIHBhcmVudCBzY29wZSBpcyByZXF1aXJlZC5cbiAgICAgKiBJZiBubyB1c2VyIGlucHV0IGlzIHByb3ZpZGVkLCBhIGRlZmF1bHQgb25lIGlzIGFwcGVuZGVkIHRvIHRoZSBpbnB1dCBjb250YWluZXIgbm9kZSBpbiB0aGVcbiAgICAgKiB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIFN0YXRpYyBDaGlwcyAoaS5lLiBgbWQtY2hpcGAgZWxlbWVudHMgcGFzc2VkIGZyb20gdGhlIGNhbGxlcikgYXJlIGdhdGhlcmVkIGFuZCBzZXQgYXNpZGUgZm9yXG4gICAgICogdHJhbnNjbHVzaW9uIGluIHRoZSBgcG9zdExpbmtgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqIEBwYXJhbSBhdHRyXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGUoZWxlbWVudCwgYXR0cikge1xuICAgICAgLy8gR3JhYiB0aGUgdXNlciB0ZW1wbGF0ZSBmcm9tIGF0dHIgYW5kIHJlc2V0IHRoZSBhdHRyaWJ1dGUgdG8gbnVsbC5cbiAgICAgIHZhciB1c2VyVGVtcGxhdGUgPSBhdHRyWyckbWRVc2VyVGVtcGxhdGUnXTtcbiAgICAgIGF0dHJbJyRtZFVzZXJUZW1wbGF0ZSddID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRoZSBjaGlwIHJlbW92ZSwgY2hpcCBjb250ZW50cyBhbmQgY2hpcCBpbnB1dCB0ZW1wbGF0ZXMuIFRoZSBsaW5rIGZ1bmN0aW9uIHdpbGwgcHV0XG4gICAgICAvLyB0aGVtIG9uIHRoZSBzY29wZSBmb3IgdHJhbnNjbHVzaW9uIGxhdGVyLlxuICAgICAgdmFyIGNoaXBSZW1vdmVUZW1wbGF0ZSAgID0gZ2V0VGVtcGxhdGVCeVF1ZXJ5KCdtZC1jaGlwcz4qW21kLWNoaXAtcmVtb3ZlXScpIHx8IHRlbXBsYXRlcy5yZW1vdmUsXG4gICAgICAgICAgY2hpcENvbnRlbnRzVGVtcGxhdGUgPSBnZXRUZW1wbGF0ZUJ5UXVlcnkoJ21kLWNoaXBzPm1kLWNoaXAtdGVtcGxhdGUnKSB8fCB0ZW1wbGF0ZXMuZGVmYXVsdCxcbiAgICAgICAgICBjaGlwSW5wdXRUZW1wbGF0ZSAgICA9IGdldFRlbXBsYXRlQnlRdWVyeSgnbWQtY2hpcHM+bWQtYXV0b2NvbXBsZXRlJylcbiAgICAgICAgICAgICAgfHwgZ2V0VGVtcGxhdGVCeVF1ZXJ5KCdtZC1jaGlwcz5pbnB1dCcpXG4gICAgICAgICAgICAgIHx8IHRlbXBsYXRlcy5pbnB1dCxcbiAgICAgICAgICBzdGF0aWNDaGlwcyA9IHVzZXJUZW1wbGF0ZS5maW5kKCdtZC1jaGlwJyk7XG5cbiAgICAgIC8vIFdhcm4gb2YgbWFsZm9ybWVkIHRlbXBsYXRlLiBTZWUgIzI1NDVcbiAgICAgIGlmICh1c2VyVGVtcGxhdGVbMF0ucXVlcnlTZWxlY3RvcignbWQtY2hpcC10ZW1wbGF0ZT4qW21kLWNoaXAtcmVtb3ZlXScpKSB7XG4gICAgICAgICRsb2cud2FybignaW52YWxpZCBwbGFjZW1lbnQgb2YgbWQtY2hpcC1yZW1vdmUgd2l0aGluIG1kLWNoaXAtdGVtcGxhdGUuJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlQnlRdWVyeSAocXVlcnkpIHtcbiAgICAgICAgaWYgKCFhdHRyLm5nTW9kZWwpIHJldHVybjtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB1c2VyVGVtcGxhdGVbMF0ucXVlcnlTZWxlY3RvcihxdWVyeSk7XG4gICAgICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQub3V0ZXJIVE1MO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENvbmZpZ3VyZXMgY29udHJvbGxlciBhbmQgdHJhbnNjbHVkZXMuXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzKSB7XG4gICAgICAgICRtZFV0aWwuaW5pdE9wdGlvbmFsUHJvcGVydGllcyhzY29wZSwgYXR0cik7XG5cbiAgICAgICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICAgICAgdmFyIG1kQ2hpcHNDdHJsID0gY29udHJvbGxlcnNbMF07XG4gICAgICAgIG1kQ2hpcHNDdHJsLmNoaXBDb250ZW50c1RlbXBsYXRlID0gY2hpcENvbnRlbnRzVGVtcGxhdGU7XG4gICAgICAgIG1kQ2hpcHNDdHJsLmNoaXBSZW1vdmVUZW1wbGF0ZSAgID0gY2hpcFJlbW92ZVRlbXBsYXRlO1xuICAgICAgICBtZENoaXBzQ3RybC5jaGlwSW5wdXRUZW1wbGF0ZSAgICA9IGNoaXBJbnB1dFRlbXBsYXRlO1xuXG4gICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIC5hdHRyKHsgJ2FyaWEtaGlkZGVuJzogdHJ1ZSwgdGFiaW5kZXg6IC0xIH0pXG4gICAgICAgICAgICAub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkgeyBtZENoaXBzQ3RybC5vbkZvY3VzKCk7IH0pO1xuXG4gICAgICAgIGlmIChhdHRyLm5nTW9kZWwpIHtcbiAgICAgICAgICBtZENoaXBzQ3RybC5jb25maWd1cmVOZ01vZGVsKGVsZW1lbnQuY29udHJvbGxlcignbmdNb2RlbCcpKTtcblxuICAgICAgICAgIC8vIElmIGFuIGBtZC10cmFuc2Zvcm0tY2hpcGAgYXR0cmlidXRlIHdhcyBzZXQsIHRlbGwgdGhlIGNvbnRyb2xsZXIgdG8gdXNlIHRoZSBleHByZXNzaW9uXG4gICAgICAgICAgLy8gYmVmb3JlIGFwcGVuZGluZyBjaGlwcy5cbiAgICAgICAgICBpZiAoYXR0cnMubWRUcmFuc2Zvcm1DaGlwKSBtZENoaXBzQ3RybC51c2VUcmFuc2Zvcm1DaGlwRXhwcmVzc2lvbigpO1xuXG4gICAgICAgICAgLy8gSWYgYW4gYG1kLW9uLWFwcGVuZGAgYXR0cmlidXRlIHdhcyBzZXQsIHRlbGwgdGhlIGNvbnRyb2xsZXIgdG8gdXNlIHRoZSBleHByZXNzaW9uXG4gICAgICAgICAgLy8gd2hlbiBhcHBlbmRpbmcgY2hpcHMuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBERVBSRUNBVEVEOiBXaWxsIHJlbW92ZSBpbiBvZmZpY2lhbCAxLjAgcmVsZWFzZVxuICAgICAgICAgIGlmIChhdHRycy5tZE9uQXBwZW5kKSBtZENoaXBzQ3RybC51c2VPbkFwcGVuZEV4cHJlc3Npb24oKTtcblxuICAgICAgICAgIC8vIElmIGFuIGBtZC1vbi1hZGRgIGF0dHJpYnV0ZSB3YXMgc2V0LCB0ZWxsIHRoZSBjb250cm9sbGVyIHRvIHVzZSB0aGUgZXhwcmVzc2lvblxuICAgICAgICAgIC8vIHdoZW4gYWRkaW5nIGNoaXBzLlxuICAgICAgICAgIGlmIChhdHRycy5tZE9uQWRkKSBtZENoaXBzQ3RybC51c2VPbkFkZEV4cHJlc3Npb24oKTtcblxuICAgICAgICAgIC8vIElmIGFuIGBtZC1vbi1yZW1vdmVgIGF0dHJpYnV0ZSB3YXMgc2V0LCB0ZWxsIHRoZSBjb250cm9sbGVyIHRvIHVzZSB0aGUgZXhwcmVzc2lvblxuICAgICAgICAgIC8vIHdoZW4gcmVtb3ZpbmcgY2hpcHMuXG4gICAgICAgICAgaWYgKGF0dHJzLm1kT25SZW1vdmUpIG1kQ2hpcHNDdHJsLnVzZU9uUmVtb3ZlRXhwcmVzc2lvbigpO1xuXG4gICAgICAgICAgLy8gSWYgYW4gYG1kLW9uLXNlbGVjdGAgYXR0cmlidXRlIHdhcyBzZXQsIHRlbGwgdGhlIGNvbnRyb2xsZXIgdG8gdXNlIHRoZSBleHByZXNzaW9uXG4gICAgICAgICAgLy8gd2hlbiBzZWxlY3RpbmcgY2hpcHMuXG4gICAgICAgICAgaWYgKGF0dHJzLm1kT25TZWxlY3QpIG1kQ2hpcHNDdHJsLnVzZU9uU2VsZWN0RXhwcmVzc2lvbigpO1xuXG4gICAgICAgICAgLy8gVGhlIG1kLWF1dG9jb21wbGV0ZSBhbmQgaW5wdXQgZWxlbWVudHMgd29uJ3QgYmUgY29tcGlsZWQgdW50aWwgYWZ0ZXIgdGhpcyBkaXJlY3RpdmVcbiAgICAgICAgICAvLyBpcyBjb21wbGV0ZSAoZHVlIHRvIHRoZWlyIG5lc3RlZCBuYXR1cmUpLiBXYWl0IGEgdGljayBiZWZvcmUgbG9va2luZyBmb3IgdGhlbSB0b1xuICAgICAgICAgIC8vIGNvbmZpZ3VyZSB0aGUgY29udHJvbGxlci5cbiAgICAgICAgICBpZiAoY2hpcElucHV0VGVtcGxhdGUgIT0gdGVtcGxhdGVzLmlucHV0KSB7XG4gICAgICAgICAgICAvLyBUaGUgYXV0b2NvbXBsZXRlIHdpbGwgbm90IGFwcGVhciB1bnRpbCB0aGUgcmVhZG9ubHkgYXR0cmlidXRlIGlzIG5vdCB0cnVlIChpLmUuXG4gICAgICAgICAgICAvLyBmYWxzZSBvciB1bmRlZmluZWQpLCBzbyB3ZSBoYXZlIHRvIHdhdGNoIHRoZSByZWFkb25seSBhbmQgdGhlbiBvbiB0aGUgbmV4dCB0aWNrXG4gICAgICAgICAgICAvLyBhZnRlciB0aGUgY2hpcCB0cmFuc2NsdXNpb24gaGFzIHJ1biwgd2UgY2FuIGNvbmZpZ3VyZSB0aGUgYXV0b2NvbXBsZXRlIGFuZCB1c2VyXG4gICAgICAgICAgICAvLyBpbnB1dC5cbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgnJG1kQ2hpcHNDdHJsLnJlYWRvbmx5JywgZnVuY3Rpb24ocmVhZG9ubHkpIHtcbiAgICAgICAgICAgICAgaWYgKCFyZWFkb25seSkge1xuICAgICAgICAgICAgICAgICRtZFV0aWwubmV4dFRpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgIGlmIChjaGlwSW5wdXRUZW1wbGF0ZS5pbmRleE9mKCc8bWQtYXV0b2NvbXBsZXRlJykgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIG1kQ2hpcHNDdHJsXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29uZmlndXJlQXV0b2NvbXBsZXRlKGVsZW1lbnQuZmluZCgnbWQtYXV0b2NvbXBsZXRlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29udHJvbGxlcignbWRBdXRvY29tcGxldGUnKSk7XG4gICAgICAgICAgICAgICAgICBtZENoaXBzQ3RybC5jb25maWd1cmVVc2VySW5wdXQoZWxlbWVudC5maW5kKCdpbnB1dCcpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQXQgdGhlIG5leHQgdGljaywgaWYgd2UgZmluZCBhbiBpbnB1dCwgbWFrZSBzdXJlIGl0IGhhcyB0aGUgbWQtaW5wdXQgY2xhc3NcbiAgICAgICAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudC5maW5kKCdpbnB1dCcpO1xuXG4gICAgICAgICAgICBpbnB1dCAmJiBpbnB1dC50b2dnbGVDbGFzcygnbWQtaW5wdXQnLCB0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbXBpbGUgd2l0aCB0aGUgcGFyZW50J3Mgc2NvcGUgYW5kIHByZXBlbmQgYW55IHN0YXRpYyBjaGlwcyB0byB0aGUgd3JhcHBlci5cbiAgICAgICAgaWYgKHN0YXRpY0NoaXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgY29tcGlsZWRTdGF0aWNDaGlwcyA9ICRjb21waWxlKHN0YXRpY0NoaXBzLmNsb25lKCkpKHNjb3BlLiRwYXJlbnQpO1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyBlbGVtZW50LmZpbmQoJ21kLWNoaXBzLXdyYXAnKS5wcmVwZW5kKGNvbXBpbGVkU3RhdGljQ2hpcHMpOyB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZXMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjaGlwczogJG1kVXRpbC5wcm9jZXNzVGVtcGxhdGUoTURfQ0hJUFNfVEVNUExBVEUpLFxuICAgICAgICBpbnB1dDogJG1kVXRpbC5wcm9jZXNzVGVtcGxhdGUoQ0hJUF9JTlBVVF9URU1QTEFURSksXG4gICAgICAgIGRlZmF1bHQ6ICRtZFV0aWwucHJvY2Vzc1RlbXBsYXRlKENISVBfREVGQVVMVF9URU1QTEFURSksXG4gICAgICAgIHJlbW92ZTogJG1kVXRpbC5wcm9jZXNzVGVtcGxhdGUoQ0hJUF9SRU1PVkVfVEVNUExBVEUpXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBNZENoaXBzLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCIsIFwiJG1kVXRpbFwiLCBcIiRjb21waWxlXCIsIFwiJGxvZ1wiLCBcIiR0aW1lb3V0XCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHMnKVxuICAgIC5jb250cm9sbGVyKCdNZENvbnRhY3RDaGlwc0N0cmwnLCBNZENvbnRhY3RDaGlwc0N0cmwpO1xuXG5cblxuLyoqXG4gKiBDb250cm9sbGVyIGZvciB0aGUgTWRDb250YWN0Q2hpcHMgY29tcG9uZW50XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWRDb250YWN0Q2hpcHNDdHJsICgpIHtcbiAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gIHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcblxuICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgdGhpcy5zZWFyY2hUZXh0ID0gJyc7XG59XG5cblxuTWRDb250YWN0Q2hpcHNDdHJsLnByb3RvdHlwZS5xdWVyeUNvbnRhY3QgPSBmdW5jdGlvbihzZWFyY2hUZXh0KSB7XG4gIHZhciByZXN1bHRzID0gdGhpcy5jb250YWN0UXVlcnkoeyckcXVlcnknOiBzZWFyY2hUZXh0fSk7XG4gIHJldHVybiB0aGlzLmZpbHRlclNlbGVjdGVkID9cbiAgICAgIHJlc3VsdHMuZmlsdGVyKGFuZ3VsYXIuYmluZCh0aGlzLCB0aGlzLmZpbHRlclNlbGVjdGVkQ29udGFjdHMpKSA6IHJlc3VsdHM7XG59O1xuXG5cbk1kQ29udGFjdENoaXBzQ3RybC5wcm90b3R5cGUuaXRlbU5hbWUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIHJldHVybiBpdGVtW3RoaXMuY29udGFjdE5hbWVdO1xufTtcblxuXG5NZENvbnRhY3RDaGlwc0N0cmwucHJvdG90eXBlLmZpbHRlclNlbGVjdGVkQ29udGFjdHMgPSBmdW5jdGlvbihjb250YWN0KSB7XG4gIHJldHVybiB0aGlzLmNvbnRhY3RzLmluZGV4T2YoY29udGFjdCkgPT0gLTE7XG59O1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNoaXBzJylcbiAgLmRpcmVjdGl2ZSgnbWRDb250YWN0Q2hpcHMnLCBNZENvbnRhY3RDaGlwcyk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRDb250YWN0Q2hpcHNcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5jaGlwc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYDxtZC1jb250YWN0LWNoaXBzPmAgaXMgYW4gaW5wdXQgY29tcG9uZW50IGJhc2VkIG9uIGBtZC1jaGlwc2AgYW5kIG1ha2VzIHVzZSBvZiBhblxuICogYG1kLWF1dG9jb21wbGV0ZWAgZWxlbWVudC4gVGhlIGNvbXBvbmVudCBhbGxvd3MgdGhlIGNhbGxlciB0byBzdXBwbHkgYSBxdWVyeSBleHByZXNzaW9uIHdoaWNoXG4gKiByZXR1cm5zICBhIGxpc3Qgb2YgcG9zc2libGUgY29udGFjdHMuIFRoZSB1c2VyIGNhbiBzZWxlY3Qgb25lIG9mIHRoZXNlIGFuZCBhZGQgaXQgdG8gdGhlIGxpc3Qgb2ZcbiAqIGNoaXBzLlxuICpcbiAqIFlvdSBtYXkgYWxzbyB1c2UgdGhlIGBtZC1oaWdobGlnaHQtdGV4dGAgZGlyZWN0aXZlIGFsb25nIHdpdGggaXQncyBwYXJhbWV0ZXJzIHRvIGNvbnRyb2wgdGhlXG4gKiBhcHBlYXJhbmNlIG9mIHRoZSBtYXRjaGVkIHRleHQgaW5zaWRlIG9mIHRoZSBjb250YWN0cycgYXV0b2NvbXBsZXRlIHBvcHVwLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPXxvYmplY3Q9fSBuZy1tb2RlbCBBIG1vZGVsIHRvIGJpbmQgdGhlIGxpc3Qgb2YgaXRlbXMgdG9cbiAqIEBwYXJhbSB7c3RyaW5nPX0gcGxhY2Vob2xkZXIgUGxhY2Vob2xkZXIgdGV4dCB0aGF0IHdpbGwgYmUgZm9yd2FyZGVkIHRvIHRoZSBpbnB1dC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gc2Vjb25kYXJ5LXBsYWNlaG9sZGVyIFBsYWNlaG9sZGVyIHRleHQgdGhhdCB3aWxsIGJlIGZvcndhcmRlZCB0byB0aGUgaW5wdXQsXG4gKiAgICBkaXNwbGF5ZWQgd2hlbiB0aGVyZSBpcyBhdCBsZWFzdCBvbiBpdGVtIGluIHRoZSBsaXN0XG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG1kLWNvbnRhY3RzIEFuIGV4cHJlc3Npb24gZXhwZWN0ZWQgdG8gcmV0dXJuIGNvbnRhY3RzIG1hdGNoaW5nIHRoZSBzZWFyY2hcbiAqICAgIHRlc3QsIGAkcXVlcnlgLlxuICogQHBhcmFtIHtzdHJpbmd9IG1kLWNvbnRhY3QtbmFtZSBUaGUgZmllbGQgbmFtZSBvZiB0aGUgY29udGFjdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZVxuICogICAgY29udGFjdCdzIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtY29udGFjdC1lbWFpbCBUaGUgZmllbGQgbmFtZSBvZiB0aGUgY29udGFjdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZVxuICogICAgY29udGFjdCdzIGVtYWlsIGFkZHJlc3MuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtY29udGFjdC1pbWFnZSBUaGUgZmllbGQgbmFtZSBvZiB0aGUgY29udGFjdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZVxuICogICAgY29udGFjdCdzIGltYWdlLlxuICpcbiAqXG4gKiAvLyBUaGUgZm9sbG93aW5nIGF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkIGJ1dCBtYXkgY29tZSBiYWNrLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gZmlsdGVyLXNlbGVjdGVkIFdoZXRoZXIgdG8gZmlsdGVyIHNlbGVjdGVkIGNvbnRhY3RzIGZyb20gdGhlIGxpc3Qgb2ZcbiAqICAgIHN1Z2dlc3Rpb25zIHNob3duIGluIHRoZSBhdXRvY29tcGxldGUuXG4gKlxuICpcbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgIDxtZC1jb250YWN0LWNoaXBzXG4gKiAgICAgICBuZy1tb2RlbD1cImN0cmwuY29udGFjdHNcIlxuICogICAgICAgbWQtY29udGFjdHM9XCJjdHJsLnF1ZXJ5U2VhcmNoKCRxdWVyeSlcIlxuICogICAgICAgbWQtY29udGFjdC1uYW1lPVwibmFtZVwiXG4gKiAgICAgICBtZC1jb250YWN0LWltYWdlPVwiaW1hZ2VcIlxuICogICAgICAgbWQtY29udGFjdC1lbWFpbD1cImVtYWlsXCJcbiAqICAgICAgIHBsYWNlaG9sZGVyPVwiVG9cIj5cbiAqICAgPC9tZC1jb250YWN0LWNoaXBzPlxuICogPC9obGpzPlxuICpcbiAqL1xuXG5cbnZhciBNRF9DT05UQUNUX0NISVBTX1RFTVBMQVRFID0gJ1xcXG4gICAgICA8bWQtY2hpcHMgY2xhc3M9XCJtZC1jb250YWN0LWNoaXBzXCJcXFxuICAgICAgICAgIG5nLW1vZGVsPVwiJG1kQ29udGFjdENoaXBzQ3RybC5jb250YWN0c1wiXFxcbiAgICAgICAgICBtZC1yZXF1aXJlLW1hdGNoPVwiJG1kQ29udGFjdENoaXBzQ3RybC5yZXF1aXJlTWF0Y2hcIlxcXG4gICAgICAgICAgbWQtYXV0b2NvbXBsZXRlLXNuYXA+XFxcbiAgICAgICAgICA8bWQtYXV0b2NvbXBsZXRlXFxcbiAgICAgICAgICAgICAgbWQtbWVudS1jbGFzcz1cIm1kLWNvbnRhY3QtY2hpcHMtc3VnZ2VzdGlvbnNcIlxcXG4gICAgICAgICAgICAgIG1kLXNlbGVjdGVkLWl0ZW09XCIkbWRDb250YWN0Q2hpcHNDdHJsLnNlbGVjdGVkSXRlbVwiXFxcbiAgICAgICAgICAgICAgbWQtc2VhcmNoLXRleHQ9XCIkbWRDb250YWN0Q2hpcHNDdHJsLnNlYXJjaFRleHRcIlxcXG4gICAgICAgICAgICAgIG1kLWl0ZW1zPVwiaXRlbSBpbiAkbWRDb250YWN0Q2hpcHNDdHJsLnF1ZXJ5Q29udGFjdCgkbWRDb250YWN0Q2hpcHNDdHJsLnNlYXJjaFRleHQpXCJcXFxuICAgICAgICAgICAgICBtZC1pdGVtLXRleHQ9XCIkbWRDb250YWN0Q2hpcHNDdHJsLml0ZW1OYW1lKGl0ZW0pXCJcXFxuICAgICAgICAgICAgICBtZC1uby1jYWNoZT1cInRydWVcIlxcXG4gICAgICAgICAgICAgIG1kLWF1dG9zZWxlY3RcXFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInt7JG1kQ29udGFjdENoaXBzQ3RybC5jb250YWN0cy5sZW5ndGggPT0gMCA/XFxcbiAgICAgICAgICAgICAgICAgICRtZENvbnRhY3RDaGlwc0N0cmwucGxhY2Vob2xkZXIgOiAkbWRDb250YWN0Q2hpcHNDdHJsLnNlY29uZGFyeVBsYWNlaG9sZGVyfX1cIj5cXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLWNvbnRhY3Qtc3VnZ2VzdGlvblwiPlxcXG4gICAgICAgICAgICAgIDxpbWcgXFxcbiAgICAgICAgICAgICAgICAgIG5nLXNyYz1cInt7aXRlbVskbWRDb250YWN0Q2hpcHNDdHJsLmNvbnRhY3RJbWFnZV19fVwiXFxcbiAgICAgICAgICAgICAgICAgIGFsdD1cInt7aXRlbVskbWRDb250YWN0Q2hpcHNDdHJsLmNvbnRhY3ROYW1lXX19XCJcXFxuICAgICAgICAgICAgICAgICAgbmctaWY9XCJpdGVtWyRtZENvbnRhY3RDaGlwc0N0cmwuY29udGFjdEltYWdlXVwiIC8+XFxcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZC1jb250YWN0LW5hbWVcIiBtZC1oaWdobGlnaHQtdGV4dD1cIiRtZENvbnRhY3RDaGlwc0N0cmwuc2VhcmNoVGV4dFwiXFxcbiAgICAgICAgICAgICAgICAgICAgbWQtaGlnaGxpZ2h0LWZsYWdzPVwie3skbWRDb250YWN0Q2hpcHNDdHJsLmhpZ2hsaWdodEZsYWdzfX1cIj5cXFxuICAgICAgICAgICAgICAgIHt7aXRlbVskbWRDb250YWN0Q2hpcHNDdHJsLmNvbnRhY3ROYW1lXX19XFxcbiAgICAgICAgICAgICAgPC9zcGFuPlxcXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWQtY29udGFjdC1lbWFpbFwiID57e2l0ZW1bJG1kQ29udGFjdENoaXBzQ3RybC5jb250YWN0RW1haWxdfX08L3NwYW4+XFxcbiAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgPC9tZC1hdXRvY29tcGxldGU+XFxcbiAgICAgICAgICA8bWQtY2hpcC10ZW1wbGF0ZT5cXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLWNvbnRhY3QtYXZhdGFyXCI+XFxcbiAgICAgICAgICAgICAgPGltZyBcXFxuICAgICAgICAgICAgICAgICAgbmctc3JjPVwie3skY2hpcFskbWRDb250YWN0Q2hpcHNDdHJsLmNvbnRhY3RJbWFnZV19fVwiXFxcbiAgICAgICAgICAgICAgICAgIGFsdD1cInt7JGNoaXBbJG1kQ29udGFjdENoaXBzQ3RybC5jb250YWN0TmFtZV19fVwiXFxcbiAgICAgICAgICAgICAgICAgIG5nLWlmPVwiJGNoaXBbJG1kQ29udGFjdENoaXBzQ3RybC5jb250YWN0SW1hZ2VdXCIgLz5cXFxuICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZC1jb250YWN0LW5hbWVcIj5cXFxuICAgICAgICAgICAgICB7eyRjaGlwWyRtZENvbnRhY3RDaGlwc0N0cmwuY29udGFjdE5hbWVdfX1cXFxuICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICA8L21kLWNoaXAtdGVtcGxhdGU+XFxcbiAgICAgIDwvbWQtY2hpcHM+JztcblxuXG4vKipcbiAqIE1EQ29udGFjdENoaXBzIERpcmVjdGl2ZSBEZWZpbml0aW9uXG4gKlxuICogQHBhcmFtICRtZFRoZW1pbmdcbiAqIEByZXR1cm5zIHsqfVxuICogQG5nSW5qZWN0XG4gKi9cbmZ1bmN0aW9uIE1kQ29udGFjdENoaXBzKCRtZFRoZW1pbmcsICRtZFV0aWwpIHtcbiAgcmV0dXJuIHtcbiAgICB0ZW1wbGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBNRF9DT05UQUNUX0NISVBTX1RFTVBMQVRFO1xuICAgIH0sXG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBjb250cm9sbGVyOiAnTWRDb250YWN0Q2hpcHNDdHJsJyxcbiAgICBjb250cm9sbGVyQXM6ICckbWRDb250YWN0Q2hpcHNDdHJsJyxcbiAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuICAgIGNvbXBpbGU6IGNvbXBpbGUsXG4gICAgc2NvcGU6IHtcbiAgICAgIGNvbnRhY3RRdWVyeTogJyZtZENvbnRhY3RzJyxcbiAgICAgIHBsYWNlaG9sZGVyOiAnQCcsXG4gICAgICBzZWNvbmRhcnlQbGFjZWhvbGRlcjogJ0AnLFxuICAgICAgY29udGFjdE5hbWU6ICdAbWRDb250YWN0TmFtZScsXG4gICAgICBjb250YWN0SW1hZ2U6ICdAbWRDb250YWN0SW1hZ2UnLFxuICAgICAgY29udGFjdEVtYWlsOiAnQG1kQ29udGFjdEVtYWlsJyxcbiAgICAgIGNvbnRhY3RzOiAnPW5nTW9kZWwnLFxuICAgICAgcmVxdWlyZU1hdGNoOiAnPT9tZFJlcXVpcmVNYXRjaCcsXG4gICAgICBoaWdobGlnaHRGbGFnczogJ0A/bWRIaWdobGlnaHRGbGFncydcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gY29tcGlsZShlbGVtZW50LCBhdHRyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMpIHtcblxuICAgICAgJG1kVXRpbC5pbml0T3B0aW9uYWxQcm9wZXJ0aWVzKHNjb3BlLCBhdHRyKTtcbiAgICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG5cbiAgICAgIGVsZW1lbnQuYXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICB9O1xuICB9XG59XG5NZENvbnRhY3RDaGlwcy4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiLCBcIiRtZFV0aWxcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuaWNvbicpXG4gIC5kaXJlY3RpdmUoJ21kSWNvbicsIFsnJG1kSWNvbicsICckbWRUaGVtaW5nJywgJyRtZEFyaWEnLCBtZEljb25EaXJlY3RpdmVdKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZEljb25cbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5pY29uXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbWQtaWNvbmAgZGlyZWN0aXZlIG1ha2VzIGl0IGVhc2llciB0byB1c2UgdmVjdG9yLWJhc2VkIGljb25zIGluIHlvdXIgYXBwIChhcyBvcHBvc2VkIHRvXG4gKiByYXN0ZXItYmFzZWQgaWNvbnMgdHlwZXMgbGlrZSBQTkcpLiBUaGUgZGlyZWN0aXZlIHN1cHBvcnRzIGJvdGggaWNvbiBmb250cyBhbmQgU1ZHIGljb25zLlxuICpcbiAqIEljb25zIHNob3VsZCBiZSBjb25zaWRlciB2aWV3LW9ubHkgZWxlbWVudHMgdGhhdCBzaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkgYXMgYnV0dG9uczsgaW5zdGVhZCBuZXN0IGEgYDxtZC1pY29uPmBcbiAqIGluc2lkZSBhIGBtZC1idXR0b25gIHRvIGFkZCBob3ZlciBhbmQgY2xpY2sgZmVhdHVyZXMuXG4gKlxuICogIyMjIEljb24gZm9udHNcbiAqIEljb24gZm9udHMgYXJlIGEgdGVjaG5pcXVlIGluIHdoaWNoIHlvdSB1c2UgYSBmb250IHdoZXJlIHRoZSBnbHlwaHMgaW4gdGhlIGZvbnQgYXJlXG4gKiB5b3VyIGljb25zIGluc3RlYWQgb2YgdGV4dC4gQmVuZWZpdHMgaW5jbHVkZSBhIHN0cmFpZ2h0Zm9yd2FyZCB3YXkgdG8gYnVuZGxlIGV2ZXJ5dGhpbmcgaW50byBhXG4gKiBzaW5nbGUgSFRUUCByZXF1ZXN0LCBzaW1wbGUgc2NhbGluZywgZWFzeSBjb2xvciBjaGFuZ2luZywgYW5kIG1vcmUuXG4gKlxuICogYG1kLWljb25gIGxldHMgeW91IGNvbnN1bWUgYW4gaWNvbiBmb250IGJ5IGxldHRpbmcgeW91IHJlZmVyZW5jZSBzcGVjaWZpYyBpY29ucyBpbiB0aGF0IGZvbnRcbiAqIGJ5IG5hbWUgcmF0aGVyIHRoYW4gY2hhcmFjdGVyIGNvZGUuXG4gKlxuICogIyMjIFNWR1xuICogRm9yIFNWR3MsIHRoZSBwcm9ibGVtIHdpdGggdXNpbmcgYDxpbWc+YCBvciBhIENTUyBgYmFja2dyb3VuZC1pbWFnZWAgaXMgdGhhdCB5b3UgY2FuJ3QgdGFrZVxuICogYWR2YW50YWdlIG9mIHNvbWUgU1ZHIGZlYXR1cmVzLCBzdWNoIGFzIHN0eWxpbmcgc3BlY2lmaWMgcGFydHMgb2YgdGhlIGljb24gd2l0aCBDU1Mgb3IgU1ZHXG4gKiBhbmltYXRpb24uXG4gKlxuICogYG1kLWljb25gIG1ha2VzIGl0IGVhc2llciB0byB1c2UgU1ZHIGljb25zIGJ5ICppbmxpbmluZyogdGhlIFNWRyBpbnRvIGFuIGA8c3ZnPmAgZWxlbWVudCBpbiB0aGVcbiAqIGRvY3VtZW50LiBUaGUgbW9zdCBzdHJhaWdodGZvcndhcmQgd2F5IG9mIHJlZmVyZW5jaW5nIGFuIFNWRyBpY29uIGlzIHZpYSBVUkwsIGp1c3QgbGlrZSBhXG4gKiB0cmFkaXRpb25hbCBgPGltZz5gLiBgJG1kSWNvblByb3ZpZGVyYCwgYXMgYSBjb252ZW5pZW5jZSwgbGV0cyB5b3UgX25hbWVfIGFuIGljb24gc28geW91IGNhblxuICogcmVmZXJlbmNlIGl0IGJ5IG5hbWUgaW5zdGVhZCBvZiBVUkwgdGhyb3VnaG91dCB5b3VyIHRlbXBsYXRlcy5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHlvdSBtYXkgbm90IHdhbnQgdG8gbWFrZSBzZXBhcmF0ZSBIVFRQIHJlcXVlc3RzIGZvciBldmVyeSBpY29uLCBzbyB5b3UgY2FuIGJ1bmRsZVxuICogeW91ciBTVkcgaWNvbnMgdG9nZXRoZXIgYW5kIHByZS1sb2FkIHRoZW0gd2l0aCAkbWRJY29uUHJvdmlkZXIgYXMgYW4gaWNvbiBzZXQuIEFuIGljb24gc2V0IGNhblxuICogYWxzbyBiZSBnaXZlbiBhIG5hbWUsIHdoaWNoIGFjdHMgYXMgYSBuYW1lc3BhY2UgZm9yIGluZGl2aWR1YWwgaWNvbnMsIHNvIHlvdSBjYW4gcmVmZXJlbmNlIHRoZW1cbiAqIGxpa2UgYFwic29jaWFsOmNha2VcImAuXG4gKlxuICogV2hlbiB1c2luZyBTVkdzLCBib3RoIGV4dGVybmFsIFNWR3MgKHZpYSBVUkxzKSBvciBzZXRzIG9mIFNWR3MgW2Zyb20gaWNvbiBzZXRzXSBjYW4gYmVcbiAqIGVhc2lseSBsb2FkZWQgYW5kIHVzZWQuV2hlbiB1c2UgZm9udC1pY29ucywgZGV2ZWxvcGVycyBtdXN0IGZvbGxvd2luZyB0aHJlZSAoMykgc2ltcGxlIHN0ZXBzOlxuICpcbiAqIDxvbD5cbiAqIDxsaT5Mb2FkIHRoZSBmb250IGxpYnJhcnkuIGUuZy48YnIvPlxuICogICAgJmx0O2xpbmsgaHJlZj1cImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vaWNvbj9mYW1pbHk9TWF0ZXJpYWwrSWNvbnNcIlxuICogICAgcmVsPVwic3R5bGVzaGVldFwiJmd0O1xuICogPC9saT5cbiAqIDxsaT4gVXNlIGVpdGhlciAoYSkgZm9udC1pY29uIGNsYXNzIG5hbWVzIG9yIChiKSBmb250IGxpZ2F0dXJlcyB0byByZW5kZXIgdGhlIGZvbnQgZ2x5cGggYnkgdXNpbmcgaXRzIHRleHR1YWwgbmFtZTwvbGk+XG4gKiA8bGk+IFVzZSAmbHQ7bWQtaWNvbiBtZC1mb250LWljb249XCJjbGFzc25hbWVcIiAvJmd0OyBvciA8YnIvPlxuICogICAgIHVzZSAmbHQ7bWQtaWNvbiBtZC1mb250LXNldD1cImZvbnQgbGlicmFyeSBjbGFzc25hbWUgb3IgYWxpYXNcIiZndDsgdGV4dHVhbF9uYW1lICZsdDsvbWQtaWNvbiZndDsgb3IgPGJyLz5cbiAqICAgICB1c2UgJmx0O21kLWljb24gbWQtZm9udC1zZXQ9XCJmb250IGxpYnJhcnkgY2xhc3NuYW1lIG9yIGFsaWFzXCImZ3Q7IG51bWVyaWNhbF9jaGFyYWN0ZXJfcmVmZXJlbmNlICZsdDsvbWQtaWNvbiZndDtcbiAqIDwvbGk+XG4gKiA8L29sPlxuICpcbiAqIEZ1bGwgZGV0YWlscyBmb3IgdGhlc2Ugc3RlcHMgY2FuIGJlIGZvdW5kOlxuICpcbiAqIDx1bD5cbiAqIDxsaT5odHRwOi8vZ29vZ2xlLmdpdGh1Yi5pby9tYXRlcmlhbC1kZXNpZ24taWNvbnMvPC9saT5cbiAqIDxsaT5odHRwOi8vZ29vZ2xlLmdpdGh1Yi5pby9tYXRlcmlhbC1kZXNpZ24taWNvbnMvI2ljb24tZm9udC1mb3ItdGhlLXdlYjwvbGk+XG4gKiA8L3VsPlxuICpcbiAqIFRoZSBNYXRlcmlhbCBEZXNpZ24gaWNvbiBzdHlsZSA8Y29kZT4ubWF0ZXJpYWwtaWNvbnM8L2NvZGU+IGFuZCB0aGUgaWNvbiBmb250IHJlZmVyZW5jZXMgYXJlIHB1Ymxpc2hlZCBpblxuICogTWF0ZXJpYWwgRGVzaWduIEljb25zOlxuICpcbiAqIDx1bD5cbiAqIDxsaT5odHRwOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL2ljb25zLzwvbGk+XG4gKiA8bGk+aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vaWNvbnMvI2ljX2FjY2Vzc2liaWxpdHk8L2xpPlxuICogPC91bD5cbiAqXG4gKiA8aDIgaWQ9XCJtYXRlcmlhbF9kZXNpZ25faWNvbnNcIj5NYXRlcmlhbCBEZXNpZ24gSWNvbnM8L2gyPlxuICogVXNpbmcgdGhlIE1hdGVyaWFsIERlc2lnbiBJY29uLVNlbGVjdG9yLCBkZXZlbG9wZXJzIGNhbiBlYXNpbHkgYW5kIHF1aWNrbHkgc2VhcmNoIGZvciBhIE1hdGVyaWFsIERlc2lnbiBmb250LWljb24gYW5kXG4gKiBkZXRlcm1pbmUgaXRzIHRleHR1YWwgbmFtZSBhbmQgY2hhcmFjdGVyIHJlZmVyZW5jZSBjb2RlLiBDbGljayBvbiBhbnkgaWNvbiB0byBzZWUgdGhlIHNsaWRlLXVwIGluZm9ybWF0aW9uXG4gKiBwYW5lbCB3aXRoIGRldGFpbHMgcmVnYXJkaW5nIGEgU1ZHIGRvd25sb2FkIG9yIGluZm9ybWF0aW9uIG9uIHRoZSBmb250LWljb24gdXNhZ2UuXG4gKlxuICogPGEgaHJlZj1cImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL2ljb25zLyNpY19hY2Nlc3NpYmlsaXR5XCIgdGFyZ2V0PVwiX2JsYW5rXCIgc3R5bGU9XCJib3JkZXItYm90dG9tOm5vbmU7XCI+XG4gKiA8aW1nIHNyYz1cImh0dHBzOi8vY2xvdWQuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Fzc2V0cy8yMTA0MTMvNzkwMjQ5MC9mZThkZDE0Yy0wNzgwLTExZTUtOThmYi1jODIxY2M2NDc1ZTYucG5nXCJcbiAqICAgICAgYXJpYS1sYWJlbD1cIk1hdGVyaWFsIERlc2lnbiBJY29uLVNlbGVjdG9yXCIgc3R5bGU9XCJtYXgtd2lkdGg6NzUlO3BhZGRpbmctbGVmdDoxMCVcIj5cbiAqIDwvYT5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImltYWdlX2NhcHRpb25cIj5cbiAqICBDbGljayBvbiB0aGUgaW1hZ2UgYWJvdmUgdG8gbGluayB0byB0aGVcbiAqICA8YSBocmVmPVwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vaWNvbnMvI2ljX2FjY2Vzc2liaWxpdHlcIiB0YXJnZXQ9XCJfYmxhbmtcIj5NYXRlcmlhbCBEZXNpZ24gSWNvbi1TZWxlY3RvcjwvYT4uXG4gKiA8L3NwYW4+XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1kLWZvbnQtaWNvbiBTdHJpbmcgbmFtZSBvZiBDU1MgaWNvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGZvbnQtZmFjZSB3aWxsIGJlIHVzZWRcbiAqIHRvIHJlbmRlciB0aGUgaWNvbi4gUmVxdWlyZXMgdGhlIGZvbnRzIGFuZCB0aGUgbmFtZWQgQ1NTIHN0eWxlcyB0byBiZSBwcmVsb2FkZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtZm9udC1zZXQgQ1NTIHN0eWxlIG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBmb250IGxpYnJhcnk7IHdoaWNoIHdpbGwgYmUgYXNzaWduZWQgYXNcbiAqIHRoZSBjbGFzcyBmb3IgdGhlIGZvbnQtaWNvbiBsaWdhdHVyZS4gVGhpcyB2YWx1ZSBtYXkgYWxzbyBiZSBhbiBhbGlhcyB0aGF0IGlzIHVzZWQgdG8gbG9va3VwIHRoZSBjbGFzc25hbWU7XG4gKiBpbnRlcm5hbGx5IHVzZSBgJG1kSWNvblByb3ZpZGVyLmZvbnRTZXQoPGFsaWFzPilgIHRvIGRldGVybWluZSB0aGUgc3R5bGUgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1zdmctc3JjIFN0cmluZyBVUkwgKG9yIGV4cHJlc3Npb24pIHVzZWQgdG8gbG9hZCwgY2FjaGUsIGFuZCBkaXNwbGF5IGFuXG4gKiAgICAgZXh0ZXJuYWwgU1ZHLlxuICogQHBhcmFtIHtzdHJpbmd9IG1kLXN2Zy1pY29uIG1kLXN2Zy1pY29uIFN0cmluZyBuYW1lIHVzZWQgZm9yIGxvb2t1cCBvZiB0aGUgaWNvbiBmcm9tIHRoZSBpbnRlcm5hbCBjYWNoZTtcbiAqICAgICBpbnRlcnBvbGF0ZWQgc3RyaW5ncyBvciBleHByZXNzaW9ucyBtYXkgYWxzbyBiZSB1c2VkLiBTcGVjaWZpYyBzZXQgbmFtZXMgY2FuIGJlIHVzZWQgd2l0aFxuICogICAgIHRoZSBzeW50YXggYDxzZXQgbmFtZT46PGljb24gbmFtZT5gLjxici8+PGJyLz5cbiAqIFRvIHVzZSBpY29uIHNldHMsIGRldmVsb3BlcnMgYXJlIHJlcXVpcmVkIHRvIHByZS1yZWdpc3RlciB0aGUgc2V0cyB1c2luZyB0aGUgYCRtZEljb25Qcm92aWRlcmAgc2VydmljZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXJpYS1sYWJlbCBMYWJlbHMgaWNvbiBmb3IgYWNjZXNzaWJpbGl0eS4gSWYgYW4gZW1wdHkgc3RyaW5nIGlzIHByb3ZpZGVkLCBpY29uXG4gKiB3aWxsIGJlIGhpZGRlbiBmcm9tIGFjY2Vzc2liaWxpdHkgbGF5ZXIgd2l0aCBgYXJpYS1oaWRkZW49XCJ0cnVlXCJgLiBJZiB0aGVyZSdzIG5vIGFyaWEtbGFiZWwgb24gdGhlIGljb25cbiAqIG5vciBhIGxhYmVsIG9uIHRoZSBwYXJlbnQgZWxlbWVudCwgYSB3YXJuaW5nIHdpbGwgYmUgbG9nZ2VkIHRvIHRoZSBjb25zb2xlLlxuICogQHBhcmFtIHtzdHJpbmc9fSBhbHQgTGFiZWxzIGljb24gZm9yIGFjY2Vzc2liaWxpdHkuIElmIGFuIGVtcHR5IHN0cmluZyBpcyBwcm92aWRlZCwgaWNvblxuICogd2lsbCBiZSBoaWRkZW4gZnJvbSBhY2Nlc3NpYmlsaXR5IGxheWVyIHdpdGggYGFyaWEtaGlkZGVuPVwidHJ1ZVwiYC4gSWYgdGhlcmUncyBubyBhbHQgb24gdGhlIGljb25cbiAqIG5vciBhIGxhYmVsIG9uIHRoZSBwYXJlbnQgZWxlbWVudCwgYSB3YXJuaW5nIHdpbGwgYmUgbG9nZ2VkIHRvIHRoZSBjb25zb2xlLlxuICpcbiAqIEB1c2FnZVxuICogV2hlbiB1c2luZyBTVkdzOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqXG4gKiAgPCEtLSBJY29uIElEOyBtYXkgY29udGFpbiBvcHRpb25hbCBpY29uIHNldCBwcmVmaXg7IGljb25zIG11c3QgcmVnaXN0ZXJlZCB1c2luZyAkbWRJY29uUHJvdmlkZXIgLS0+XG4gKiAgPG1kLWljb24gbWQtc3ZnLWljb249XCJzb2NpYWw6YW5kcm9pZFwiICAgIGFyaWEtbGFiZWw9XCJhbmRyb2lkIFwiID48L21kLWljb24+XG4gKlxuICogIDwhLS0gSWNvbiB1cmxzOyBtYXkgYmUgcHJlbG9hZGVkIGluIHRlbXBsYXRlQ2FjaGUgLS0+XG4gKiAgPG1kLWljb24gbWQtc3ZnLXNyYz1cIi9hbmRyb2lkLnN2Z1wiICAgICAgIGFyaWEtbGFiZWw9XCJhbmRyb2lkIFwiID48L21kLWljb24+XG4gKiAgPG1kLWljb24gbWQtc3ZnLXNyYz1cInt7IGdldEFuZHJvaWQoKSB9fVwiIGFyaWEtbGFiZWw9XCJhbmRyb2lkIFwiID48L21kLWljb24+XG4gKlxuICogPC9obGpzPlxuICpcbiAqIFVzZSB0aGUgPGNvZGU+JG1kSWNvblByb3ZpZGVyPC9jb2RlPiB0byBjb25maWd1cmUgeW91ciBhcHBsaWNhdGlvbiB3aXRoXG4gKiBzdmcgaWNvbnNldHMuXG4gKlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiAgYW5ndWxhci5tb2R1bGUoJ2FwcFN2Z0ljb25TZXRzJywgWyduZ01hdGVyaWFsJ10pXG4gKiAgICAuY29udHJvbGxlcignRGVtb0N0cmwnLCBmdW5jdGlvbigkc2NvcGUpIHt9KVxuICogICAgLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAqICAgICAgJG1kSWNvblByb3ZpZGVyXG4gKiAgICAgICAgIC5pY29uU2V0KCdzb2NpYWwnLCAnaW1nL2ljb25zL3NldHMvc29jaWFsLWljb25zLnN2ZycsIDI0KVxuICogICAgICAgICAuZGVmYXVsdEljb25TZXQoJ2ltZy9pY29ucy9zZXRzL2NvcmUtaWNvbnMuc3ZnJywgMjQpO1xuICogICAgIH0pO1xuICogPC9obGpzPlxuICpcbiAqXG4gKiBXaGVuIHVzaW5nIEZvbnQgSWNvbnMgd2l0aCBjbGFzc25hbWVzOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqXG4gKiAgPG1kLWljb24gbWQtZm9udC1pY29uPVwiYW5kcm9pZFwiIGFyaWEtbGFiZWw9XCJhbmRyb2lkXCIgPjwvbWQtaWNvbj5cbiAqICA8bWQtaWNvbiBjbGFzcz1cImljb25faG9tZVwiICAgICAgYXJpYS1sYWJlbD1cIkhvbWVcIiAgICA+PC9tZC1pY29uPlxuICpcbiAqIDwvaGxqcz5cbiAqXG4gKiBXaGVuIHVzaW5nIE1hdGVyaWFsIEZvbnQgSWNvbnMgd2l0aCBsaWdhdHVyZXM6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogIDwhLS0gRm9yIE1hdGVyaWFsIERlc2lnbiBJY29ucyAtLT5cbiAqICA8IS0tIFRoZSBjbGFzcyAnLm1hdGVyaWFsLWljb25zJyBpcyBhdXRvLWFkZGVkIGlmIGEgc3R5bGUgaGFzIE5PVCBiZWVuIHNwZWNpZmllZCAtLT5cbiAqICA8bWQtaWNvbj4gZmFjZSA8L21kLWljb24+XG4gKiAgPG1kLWljb24gbWQtZm9udC1zZXQ9XCJtYXRlcmlhbC1pY29uc1wiPiBmYWNlIDwvbWQtaWNvbj5cbiAqICA8bWQtaWNvbj4gI3hFODdDOyA8L21kLWljb24+XG4gKiAgPCEtLSBUaGUgY2xhc3MgJy5tYXRlcmlhbC1pY29ucycgbXVzdCBiZSBtYW51YWxseSBhZGRlZCBpZiBvdGhlciBzdHlsZXMgYXJlIGFsc28gc3BlY2lmaWVkLS0+XG4gKiAgPG1kLWljb24gY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC1saWdodCBtZC00OFwiPiBmYWNlIDwvbWQtaWNvbj5cbiAqIDwvaGxqcz5cbiAqXG4gKiBXaGVuIHVzaW5nIG90aGVyIEZvbnQtSWNvbiBsaWJyYXJpZXM6XG4gKlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiAgLy8gU3BlY2lmeSBhIGZvbnQtaWNvbiBzdHlsZSBhbGlhc1xuICogIGFuZ3VsYXIuY29uZmlnKGZ1bmN0aW9uKCRtZEljb25Qcm92aWRlcikge1xuICogICAgJG1kSWNvblByb3ZpZGVyLmZvbnRTZXQoJ2ZhJywgJ2ZvbnRhd2Vzb21lJyk7XG4gKiAgfSk7XG4gKiA8L2hsanM+XG4gKlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICA8bWQtaWNvbiBtZC1mb250LXNldD1cImZhXCI+ZW1haWw8L21kLWljb24+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBtZEljb25EaXJlY3RpdmUoJG1kSWNvbiwgJG1kVGhlbWluZywgJG1kQXJpYSApIHtcblxuICByZXR1cm4ge1xuICAgIHNjb3BlOiB7XG4gICAgICBmb250U2V0IDogJ0BtZEZvbnRTZXQnLFxuICAgICAgZm9udEljb246ICdAbWRGb250SWNvbicsXG4gICAgICBzdmdJY29uIDogJ0BtZFN2Z0ljb24nLFxuICAgICAgc3ZnU3JjICA6ICdAbWRTdmdTcmMnXG4gICAgfSxcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGxpbmsgOiBwb3N0TGlua1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIERpcmVjdGl2ZSBwb3N0TGlua1xuICAgKiBTdXBwb3J0cyBlbWJlZGRlZCBTVkdzLCBmb250LWljb25zLCAmIGV4dGVybmFsIFNWR3NcbiAgICovXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgJG1kVGhlbWluZyhlbGVtZW50KTtcblxuICAgIHByZXBhcmVGb3JGb250SWNvbigpO1xuXG4gICAgLy8gSWYgdXNpbmcgYSBmb250LWljb24sIHRoZW4gdGhlIHRleHR1YWwgbmFtZSBvZiB0aGUgaWNvbiBpdHNlbGZcbiAgICAvLyBwcm92aWRlcyB0aGUgYXJpYS1sYWJlbC5cblxuICAgIHZhciBsYWJlbCA9IGF0dHIuYWx0IHx8IHNjb3BlLmZvbnRJY29uIHx8IHNjb3BlLnN2Z0ljb24gfHwgZWxlbWVudC50ZXh0KCk7XG4gICAgdmFyIGF0dHJOYW1lID0gYXR0ci4kbm9ybWFsaXplKGF0dHIuJGF0dHIubWRTdmdJY29uIHx8IGF0dHIuJGF0dHIubWRTdmdTcmMgfHwgJycpO1xuXG4gICAgaWYgKCAhYXR0clsnYXJpYS1sYWJlbCddICkge1xuXG4gICAgICBpZiAobGFiZWwgIT0gJycgJiYgIXBhcmVudHNIYXZlVGV4dCgpICkge1xuXG4gICAgICAgICRtZEFyaWEuZXhwZWN0KGVsZW1lbnQsICdhcmlhLWxhYmVsJywgbGFiZWwpO1xuICAgICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAncm9sZScsICdpbWcnKTtcblxuICAgICAgfSBlbHNlIGlmICggIWVsZW1lbnQudGV4dCgpICkge1xuICAgICAgICAvLyBJZiBub3QgYSBmb250LWljb24gd2l0aCBsaWdhdHVyZSwgdGhlblxuICAgICAgICAvLyBoaWRlIGZyb20gdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXIuXG5cbiAgICAgICAgJG1kQXJpYS5leHBlY3QoZWxlbWVudCwgJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXR0ck5hbWUpIHtcbiAgICAgIC8vIFVzZSBlaXRoZXIgcHJlLWNvbmZpZ3VyZWQgU1ZHIG9yIFVSTCBzb3VyY2UsIHJlc3BlY3RpdmVseS5cbiAgICAgIGF0dHIuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uKGF0dHJWYWwpIHtcblxuICAgICAgICBlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgIGlmIChhdHRyVmFsKSB7XG4gICAgICAgICAgJG1kSWNvbihhdHRyVmFsKS50aGVuKGZ1bmN0aW9uKHN2Zykge1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoc3ZnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJlbnRzSGF2ZVRleHQoKSB7XG4gICAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgIGlmIChwYXJlbnQuYXR0cignYXJpYS1sYWJlbCcpIHx8IHBhcmVudC50ZXh0KCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKHBhcmVudC5wYXJlbnQoKS5hdHRyKCdhcmlhLWxhYmVsJykgfHwgcGFyZW50LnBhcmVudCgpLnRleHQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlRm9yRm9udEljb24oKSB7XG4gICAgICBpZiAoIXNjb3BlLnN2Z0ljb24gJiYgIXNjb3BlLnN2Z1NyYykge1xuICAgICAgICBpZiAoc2NvcGUuZm9udEljb24pIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1mb250ICcgKyBzY29wZS5mb250SWNvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygkbWRJY29uLmZvbnRTZXQoc2NvcGUuZm9udFNldCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5pY29uJyApXG4gICAgLnByb3ZpZGVyKCckbWRJY29uJywgTWRJY29uUHJvdmlkZXIpO1xuXG4gIC8qKlxuICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAqIEBuYW1lICRtZEljb25Qcm92aWRlclxuICAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmljb25cbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIGAkbWRJY29uUHJvdmlkZXJgIGlzIHVzZWQgb25seSB0byByZWdpc3RlciBpY29uIElEcyB3aXRoIFVSTHMuIFRoZXNlIGNvbmZpZ3VyYXRpb24gZmVhdHVyZXMgYWxsb3dcbiAgICAqIGljb25zIGFuZCBpY29uIHNldHMgdG8gYmUgcHJlLXJlZ2lzdGVyZWQgYW5kIGFzc29jaWF0ZWQgd2l0aCBzb3VyY2UgVVJMcyAqKmJlZm9yZSoqIHRoZSBgPG1kLWljb24gLz5gXG4gICAgKiBkaXJlY3RpdmVzIGFyZSBjb21waWxlZC5cbiAgICAqXG4gICAgKiBJZiB1c2luZyBmb250LWljb25zLCB0aGUgZGV2ZWxvcGVyIGlzIHJlc3BvbnNpYmxlIGZvciBsb2FkaW5nIHRoZSBmb250cy5cbiAgICAqXG4gICAgKiBJZiB1c2luZyBTVkdzLCBsb2FkaW5nIG9mIHRoZSBhY3R1YWwgc3ZnIGZpbGVzIGFyZSBkZWZlcnJlZCB0byBvbi1kZW1hbmQgcmVxdWVzdHMgYW5kIGFyZSBsb2FkZWRcbiAgICAqIGludGVybmFsbHkgYnkgdGhlIGAkbWRJY29uYCBzZXJ2aWNlIHVzaW5nIHRoZSBgJGh0dHBgIHNlcnZpY2UuIFdoZW4gYW4gU1ZHIGlzIHJlcXVlc3RlZCBieSBuYW1lL0lELFxuICAgICogdGhlIGAkbWRJY29uYCBzZXJ2aWNlIHNlYXJjaGVzIGl0cyByZWdpc3RyeSBmb3IgdGhlIGFzc29jaWF0ZWQgc291cmNlIFVSTDtcbiAgICAqIHRoYXQgVVJMIGlzIHVzZWQgdG8gb24tZGVtYW5kIGxvYWQgYW5kIHBhcnNlIHRoZSBTVkcgZHluYW1pY2FsbHkuXG4gICAgKlxuICAgICogQHVzYWdlXG4gICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICAqXG4gICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICAqXG4gICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAgKiAgICAgICAgICAuZGVmYXVsdEZvbnRTZXQoICdmb250YXdlc29tZScgKVxuICAgICogICAgICAgICAgLmRlZmF1bHRJY29uU2V0KCdteS9hcHAvaWNvbnMuc3ZnJykgICAgICAgLy8gUmVnaXN0ZXIgYSBkZWZhdWx0IHNldCBvZiBTVkcgaWNvbnNcbiAgICAqICAgICAgICAgIC5pY29uU2V0KCdzb2NpYWwnLCAnbXkvYXBwL3NvY2lhbC5zdmcnKSAgIC8vIFJlZ2lzdGVyIGEgbmFtZWQgaWNvbiBzZXQgb2YgU1ZHc1xuICAgICogICAgICAgICAgLmljb24oJ2FuZHJvaWQnLCAnbXkvYXBwL2FuZHJvaWQuc3ZnJykgICAgLy8gUmVnaXN0ZXIgYSBzcGVjaWZpYyBpY29uIChieSBuYW1lKVxuICAgICogICAgICAgICAgLmljb24oJ3dvcms6Y2hhaXInLCAnbXkvYXBwL2NoYWlyLnN2ZycpOyAgLy8gUmVnaXN0ZXIgaWNvbiBpbiBhIHNwZWNpZmljIHNldFxuICAgICogICB9KTtcbiAgICAqIDwvaGxqcz5cbiAgICAqXG4gICAgKiBTVkcgaWNvbnMgYW5kIGljb24gc2V0cyBjYW4gYmUgZWFzaWx5IHByZS1sb2FkZWQgYW5kIGNhY2hlZCB1c2luZyBlaXRoZXIgKGEpIGEgYnVpbGQgcHJvY2VzcyBvciAoYikgYSBydW50aW1lXG4gICAgKiAqKnN0YXJ0dXAqKiBwcm9jZXNzIChzaG93biBiZWxvdyk6XG4gICAgKlxuICAgICogPGhsanMgbGFuZz1cImpzXCI+XG4gICAgKiAgIGFwcC5jb25maWcoZnVuY3Rpb24oJG1kSWNvblByb3ZpZGVyKSB7XG4gICAgKlxuICAgICogICAgIC8vIFJlZ2lzdGVyIGEgZGVmYXVsdCBzZXQgb2YgU1ZHIGljb24gZGVmaW5pdGlvbnNcbiAgICAqICAgICAkbWRJY29uUHJvdmlkZXIuZGVmYXVsdEljb25TZXQoJ215L2FwcC9pY29ucy5zdmcnKVxuICAgICpcbiAgICAqICAgfSlcbiAgICAqICAgLnJ1bihmdW5jdGlvbigkaHR0cCwgJHRlbXBsYXRlQ2FjaGUpe1xuICAgICpcbiAgICAqICAgICAvLyBQcmUtZmV0Y2ggaWNvbnMgc291cmNlcyBieSBVUkwgYW5kIGNhY2hlIGluIHRoZSAkdGVtcGxhdGVDYWNoZS4uLlxuICAgICogICAgIC8vIHN1YnNlcXVlbnQgJGh0dHAgY2FsbHMgd2lsbCBsb29rIHRoZXJlIGZpcnN0LlxuICAgICpcbiAgICAqICAgICB2YXIgdXJscyA9IFsgJ2lteS9hcHAvaWNvbnMuc3ZnJywgJ2ltZy9pY29ucy9hbmRyb2lkLnN2ZyddO1xuICAgICpcbiAgICAqICAgICBhbmd1bGFyLmZvckVhY2godXJscywgZnVuY3Rpb24odXJsKSB7XG4gICAgKiAgICAgICAkaHR0cC5nZXQodXJsLCB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSk7XG4gICAgKiAgICAgfSk7XG4gICAgKlxuICAgICogICB9KTtcbiAgICAqXG4gICAgKiA8L2hsanM+XG4gICAgKlxuICAgICogTk9URTogdGhlIGxvYWRlZCBTVkcgZGF0YSBpcyBzdWJzZXF1ZW50bHkgY2FjaGVkIGludGVybmFsbHkgZm9yIGZ1dHVyZSByZXF1ZXN0cy5cbiAgICAqXG4gICAgKi9cblxuICAgLyoqXG4gICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgKiBAbmFtZSAkbWRJY29uUHJvdmlkZXIjaWNvblxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogUmVnaXN0ZXIgYSBzb3VyY2UgVVJMIGZvciBhIHNwZWNpZmljIGljb24gbmFtZTsgdGhlIG5hbWUgbWF5IGluY2x1ZGUgb3B0aW9uYWwgJ2ljb24gc2V0JyBuYW1lIHByZWZpeC5cbiAgICAqIFRoZXNlIGljb25zICB3aWxsIGxhdGVyIGJlIHJldHJpZXZlZCBmcm9tIHRoZSBjYWNoZSB1c2luZyBgJG1kSWNvbiggPGljb24gbmFtZT4gKWBcbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSWNvbiBuYW1lL2lkIHVzZWQgdG8gcmVnaXN0ZXIgdGhlIGljb25cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgc3BlY2lmaWVzIHRoZSBleHRlcm5hbCBsb2NhdGlvbiBmb3IgdGhlIGRhdGEgZmlsZS4gVXNlZCBpbnRlcm5hbGx5IGJ5IGAkaHR0cGAgdG8gbG9hZCB0aGVcbiAgICAqIGRhdGEgb3IgYXMgcGFydCBvZiB0aGUgbG9va3VwIGluIGAkdGVtcGxhdGVDYWNoZWAgaWYgcHJlLWxvYWRpbmcgd2FzIGNvbmZpZ3VyZWQuXG4gICAgKiBAcGFyYW0ge251bWJlcj19IHZpZXdCb3hTaXplIFNldHMgdGhlIHdpZHRoIGFuZCBoZWlnaHQgdGhlIGljb24ncyB2aWV3Qm94LlxuICAgICogSXQgaXMgaWdub3JlZCBmb3IgaWNvbnMgd2l0aCBhbiBleGlzdGluZyB2aWV3Qm94LiBEZWZhdWx0IHNpemUgaXMgMjQuXG4gICAgKlxuICAgICogQHJldHVybnMge29ian0gYW4gYCRtZEljb25Qcm92aWRlcmAgcmVmZXJlbmNlOyB1c2VkIHRvIHN1cHBvcnQgbWV0aG9kIGNhbGwgY2hhaW5zIGZvciB0aGUgQVBJXG4gICAgKlxuICAgICogQHVzYWdlXG4gICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICAqXG4gICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICAqXG4gICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAgKiAgICAgICAgICAuaWNvbignYW5kcm9pZCcsICdteS9hcHAvYW5kcm9pZC5zdmcnKSAgICAvLyBSZWdpc3RlciBhIHNwZWNpZmljIGljb24gKGJ5IG5hbWUpXG4gICAgKiAgICAgICAgICAuaWNvbignd29yazpjaGFpcicsICdteS9hcHAvY2hhaXIuc3ZnJyk7ICAvLyBSZWdpc3RlciBpY29uIGluIGEgc3BlY2lmaWMgc2V0XG4gICAgKiAgIH0pO1xuICAgICogPC9obGpzPlxuICAgICpcbiAgICAqL1xuICAgLyoqXG4gICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgKiBAbmFtZSAkbWRJY29uUHJvdmlkZXIjaWNvblNldFxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogUmVnaXN0ZXIgYSBzb3VyY2UgVVJMIGZvciBhICduYW1lZCcgc2V0IG9mIGljb25zOyBncm91cCBvZiBTVkcgZGVmaW5pdGlvbnMgd2hlcmUgZWFjaCBkZWZpbml0aW9uXG4gICAgKiBoYXMgYW4gaWNvbiBpZC4gSW5kaXZpZHVhbCBpY29ucyBjYW4gYmUgc3Vic2VxdWVudGx5IHJldHJpZXZlZCBmcm9tIHRoaXMgY2FjaGVkIHNldCB1c2luZ1xuICAgICogYCRtZEljb24oPGljb24gc2V0IG5hbWU+OjxpY29uIG5hbWU+KWBcbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSWNvbiBuYW1lL2lkIHVzZWQgdG8gcmVnaXN0ZXIgdGhlIGljb25zZXRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgc3BlY2lmaWVzIHRoZSBleHRlcm5hbCBsb2NhdGlvbiBmb3IgdGhlIGRhdGEgZmlsZS4gVXNlZCBpbnRlcm5hbGx5IGJ5IGAkaHR0cGAgdG8gbG9hZCB0aGVcbiAgICAqIGRhdGEgb3IgYXMgcGFydCBvZiB0aGUgbG9va3VwIGluIGAkdGVtcGxhdGVDYWNoZWAgaWYgcHJlLWxvYWRpbmcgd2FzIGNvbmZpZ3VyZWQuXG4gICAgKiBAcGFyYW0ge251bWJlcj19IHZpZXdCb3hTaXplIFNldHMgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHZpZXdCb3ggb2YgYWxsIGljb25zIGluIHRoZSBzZXQuIFxuICAgICogSXQgaXMgaWdub3JlZCBmb3IgaWNvbnMgd2l0aCBhbiBleGlzdGluZyB2aWV3Qm94LiBBbGwgaWNvbnMgaW4gdGhlIGljb24gc2V0IHNob3VsZCBiZSB0aGUgc2FtZSBzaXplLlxuICAgICogRGVmYXVsdCB2YWx1ZSBpcyAyNC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7b2JqfSBhbiBgJG1kSWNvblByb3ZpZGVyYCByZWZlcmVuY2U7IHVzZWQgdG8gc3VwcG9ydCBtZXRob2QgY2FsbCBjaGFpbnMgZm9yIHRoZSBBUElcbiAgICAqXG4gICAgKlxuICAgICogQHVzYWdlXG4gICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICAqXG4gICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICAqXG4gICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAgKiAgICAgICAgICAuaWNvblNldCgnc29jaWFsJywgJ215L2FwcC9zb2NpYWwuc3ZnJykgICAvLyBSZWdpc3RlciBhIG5hbWVkIGljb24gc2V0XG4gICAgKiAgIH0pO1xuICAgICogPC9obGpzPlxuICAgICpcbiAgICAqL1xuICAgLyoqXG4gICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgKiBAbmFtZSAkbWRJY29uUHJvdmlkZXIjZGVmYXVsdEljb25TZXRcbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIFJlZ2lzdGVyIGEgc291cmNlIFVSTCBmb3IgdGhlIGRlZmF1bHQgJ25hbWVkJyBzZXQgb2YgaWNvbnMuIFVubGVzcyBleHBsaWNpdGx5IHJlZ2lzdGVyZWQsXG4gICAgKiBzdWJzZXF1ZW50IGxvb2t1cHMgb2YgaWNvbnMgd2lsbCBmYWlsb3ZlciB0byBzZWFyY2ggdGhpcyAnZGVmYXVsdCcgaWNvbiBzZXQuXG4gICAgKiBJY29uIGNhbiBiZSByZXRyaWV2ZWQgZnJvbSB0aGlzIGNhY2hlZCwgZGVmYXVsdCBzZXQgdXNpbmcgYCRtZEljb24oPG5hbWU+KWBcbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIHNwZWNpZmllcyB0aGUgZXh0ZXJuYWwgbG9jYXRpb24gZm9yIHRoZSBkYXRhIGZpbGUuIFVzZWQgaW50ZXJuYWxseSBieSBgJGh0dHBgIHRvIGxvYWQgdGhlXG4gICAgKiBkYXRhIG9yIGFzIHBhcnQgb2YgdGhlIGxvb2t1cCBpbiBgJHRlbXBsYXRlQ2FjaGVgIGlmIHByZS1sb2FkaW5nIHdhcyBjb25maWd1cmVkLlxuICAgICogQHBhcmFtIHtudW1iZXI9fSB2aWV3Qm94U2l6ZSBTZXRzIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB2aWV3Qm94IG9mIGFsbCBpY29ucyBpbiB0aGUgc2V0LiBcbiAgICAqIEl0IGlzIGlnbm9yZWQgZm9yIGljb25zIHdpdGggYW4gZXhpc3Rpbmcgdmlld0JveC4gQWxsIGljb25zIGluIHRoZSBpY29uIHNldCBzaG91bGQgYmUgdGhlIHNhbWUgc2l6ZS5cbiAgICAqIERlZmF1bHQgdmFsdWUgaXMgMjQuXG4gICAgKlxuICAgICogQHJldHVybnMge29ian0gYW4gYCRtZEljb25Qcm92aWRlcmAgcmVmZXJlbmNlOyB1c2VkIHRvIHN1cHBvcnQgbWV0aG9kIGNhbGwgY2hhaW5zIGZvciB0aGUgQVBJXG4gICAgKlxuICAgICogQHVzYWdlXG4gICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICAqXG4gICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICAqXG4gICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAgKiAgICAgICAgICAuZGVmYXVsdEljb25TZXQoICdteS9hcHAvc29jaWFsLnN2ZycgKSAgIC8vIFJlZ2lzdGVyIGEgZGVmYXVsdCBpY29uIHNldFxuICAgICogICB9KTtcbiAgICAqIDwvaGxqcz5cbiAgICAqXG4gICAgKi9cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJG1kSWNvblByb3ZpZGVyI2RlZmF1bHRGb250U2V0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBXaGVuIHVzaW5nIEZvbnQtSWNvbnMsIEFuZ3VsYXIgTWF0ZXJpYWwgYXNzdW1lcyB0aGUgdGhlIE1hdGVyaWFsIERlc2lnbiBpY29ucyB3aWxsIGJlIHVzZWQgYW5kIGF1dG9tYXRpY2FsbHlcbiAgICogY29uZmlndXJlcyB0aGUgZGVmYXVsdCBmb250LXNldCA9PSAnbWF0ZXJpYWwtaWNvbnMnLiBOb3RlIHRoYXQgdGhlIGZvbnQtc2V0IHJlZmVyZW5jZXMgdGhlIGZvbnQtaWNvbiBsaWJyYXJ5XG4gICAqIGNsYXNzIHN0eWxlIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIGA8bWQtaWNvbj5gLlxuICAgKlxuICAgKiBDb25maWd1cmluZyB0aGUgZGVmYXVsdCBtZWFucyB0aGF0IHRoZSBhdHRyaWJ1dGVzXG4gICAqIGBtZC1mb250LXNldD1cIm1hdGVyaWFsLWljb25zXCJgIG9yIGBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCJgIGRvIG5vdCBuZWVkIHRvIGJlIGV4cGxpY2l0bHkgZGVjbGFyZWQgb24gdGhlXG4gICAqIGA8bWQtaWNvbj5gIG1hcmt1cC4gRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICBgPG1kLWljb24+IGZhY2UgPC9tZC1pY29uPmBcbiAgICogIHdpbGwgcmVuZGVyIGFzXG4gICAqICBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiBmYWNlIDwvc3Bhbj5gLCBhbmRcbiAgICpcbiAgICogIGA8bWQtaWNvbiBtZC1mb250LXNldD1cImZhXCI+IGZhY2UgPC9tZC1pY29uPmBcbiAgICogIHdpbGwgcmVuZGVyIGFzXG4gICAqICBgPHNwYW4gY2xhc3M9XCJmYVwiPiBmYWNlIDwvc3Bhbj5gXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG9mIHRoZSBmb250LWxpYnJhcnkgc3R5bGUgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgbWQtaWNvbiBET00gZWxlbWVudFxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogPGhsanMgbGFuZz1cImpzXCI+XG4gICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICogICAgICRtZEljb25Qcm92aWRlci5kZWZhdWx0Rm9udFNldCggJ2ZvbnRhd2Vzb21lJyApO1xuICAgKiAgIH0pO1xuICAgKiA8L2hsanM+XG4gICAqXG4gICAqL1xuXG4gICAvKipcbiAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAqIEBuYW1lICRtZEljb25Qcm92aWRlciNkZWZhdWx0Vmlld0JveFNpemVcbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIFdoaWxlIGA8bWQtaWNvbiAvPmAgbWFya3VwIGNhbiBhbHNvIGJlIHN0eWxlIHdpdGggc2l6aW5nIENTUywgdGhpcyBtZXRob2QgY29uZmlndXJlc1xuICAgICogdGhlIGRlZmF1bHQgd2lkdGggKiphbmQqKiBoZWlnaHQgdXNlZCBmb3IgYWxsIGljb25zOyB1bmxlc3Mgb3ZlcnJpZGRlbiBieSBzcGVjaWZpYyBDU1MuXG4gICAgKiBUaGUgZGVmYXVsdCBzaXppbmcgaXMgKDI0cHgsIDI0cHgpLlxuICAgICogQHBhcmFtIHtudW1iZXI9fSB2aWV3Qm94U2l6ZSBTZXRzIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB2aWV3Qm94IGZvciBhbiBpY29uIG9yIGFuIGljb24gc2V0LlxuICAgICogQWxsIGljb25zIGluIGEgc2V0IHNob3VsZCBiZSB0aGUgc2FtZSBzaXplLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAyNC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7b2JqfSBhbiBgJG1kSWNvblByb3ZpZGVyYCByZWZlcmVuY2U7IHVzZWQgdG8gc3VwcG9ydCBtZXRob2QgY2FsbCBjaGFpbnMgZm9yIHRoZSBBUElcbiAgICAqXG4gICAgKiBAdXNhZ2VcbiAgICAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICAgICogICBhcHAuY29uZmlnKGZ1bmN0aW9uKCRtZEljb25Qcm92aWRlcikge1xuICAgICpcbiAgICAqICAgICAvLyBDb25maWd1cmUgVVJMcyBmb3IgaWNvbnMgc3BlY2lmaWVkIGJ5IFtzZXQ6XWlkLlxuICAgICpcbiAgICAqICAgICAkbWRJY29uUHJvdmlkZXJcbiAgICAqICAgICAgICAgIC5kZWZhdWx0Vmlld0JveFNpemUoMzYpICAgLy8gUmVnaXN0ZXIgYSBkZWZhdWx0IGljb24gc2l6ZSAod2lkdGggPT0gaGVpZ2h0KVxuICAgICogICB9KTtcbiAgICAqIDwvaGxqcz5cbiAgICAqXG4gICAgKi9cblxuIHZhciBjb25maWcgPSB7XG4gICBkZWZhdWx0Vmlld0JveFNpemU6IDI0LFxuICAgZGVmYXVsdEZvbnRTZXQ6ICdtYXRlcmlhbC1pY29ucycsXG4gICBmb250U2V0cyA6IFsgXVxuIH07XG5cbiBmdW5jdGlvbiBNZEljb25Qcm92aWRlcigpIHsgfVxuXG4gTWRJY29uUHJvdmlkZXIucHJvdG90eXBlID0ge1xuICAgaWNvbiA6IGZ1bmN0aW9uIChpZCwgdXJsLCB2aWV3Qm94U2l6ZSkge1xuICAgICBpZiAoIGlkLmluZGV4T2YoJzonKSA9PSAtMSApIGlkID0gJyRkZWZhdWx0OicgKyBpZDtcblxuICAgICBjb25maWdbaWRdID0gbmV3IENvbmZpZ3VyYXRpb25JdGVtKHVybCwgdmlld0JveFNpemUgKTtcbiAgICAgcmV0dXJuIHRoaXM7XG4gICB9LFxuXG4gICBpY29uU2V0IDogZnVuY3Rpb24gKGlkLCB1cmwsIHZpZXdCb3hTaXplKSB7XG4gICAgIGNvbmZpZ1tpZF0gPSBuZXcgQ29uZmlndXJhdGlvbkl0ZW0odXJsLCB2aWV3Qm94U2l6ZSApO1xuICAgICByZXR1cm4gdGhpcztcbiAgIH0sXG5cbiAgIGRlZmF1bHRJY29uU2V0IDogZnVuY3Rpb24gKHVybCwgdmlld0JveFNpemUpIHtcbiAgICAgdmFyIHNldE5hbWUgPSAnJGRlZmF1bHQnO1xuXG4gICAgIGlmICggIWNvbmZpZ1tzZXROYW1lXSApIHtcbiAgICAgICBjb25maWdbc2V0TmFtZV0gPSBuZXcgQ29uZmlndXJhdGlvbkl0ZW0odXJsLCB2aWV3Qm94U2l6ZSApO1xuICAgICB9XG5cbiAgICAgY29uZmlnW3NldE5hbWVdLnZpZXdCb3hTaXplID0gdmlld0JveFNpemUgfHwgY29uZmlnLmRlZmF1bHRWaWV3Qm94U2l6ZTtcblxuICAgICByZXR1cm4gdGhpcztcbiAgIH0sXG5cbiAgIGRlZmF1bHRWaWV3Qm94U2l6ZSA6IGZ1bmN0aW9uICh2aWV3Qm94U2l6ZSkge1xuICAgICBjb25maWcuZGVmYXVsdFZpZXdCb3hTaXplID0gdmlld0JveFNpemU7XG4gICAgIHJldHVybiB0aGlzO1xuICAgfSxcbiAgIFxuICAgLyoqXG4gICAgKiBSZWdpc3RlciBhbiBhbGlhcyBuYW1lIGFzc29jaWF0ZWQgd2l0aCBhIGZvbnQtaWNvbiBsaWJyYXJ5IHN0eWxlIDtcbiAgICAqL1xuICAgZm9udFNldCA6IGZ1bmN0aW9uIGZvbnRTZXQoYWxpYXMsIGNsYXNzTmFtZSkge1xuICAgIGNvbmZpZy5mb250U2V0cy5wdXNoKHtcbiAgICAgIGFsaWFzIDogYWxpYXMsXG4gICAgICBmb250U2V0IDogY2xhc3NOYW1lIHx8IGFsaWFzXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gICB9LFxuXG4gICAvKipcbiAgICAqIFNwZWNpZnkgYSBkZWZhdWx0IHN0eWxlIG5hbWUgYXNzb2NpYXRlZCB3aXRoIGEgZm9udC1pY29uIGxpYnJhcnlcbiAgICAqIGZhbGxiYWNrIHRvIE1hdGVyaWFsIEljb25zLlxuICAgICpcbiAgICAqL1xuICAgZGVmYXVsdEZvbnRTZXQgOiBmdW5jdGlvbiBkZWZhdWx0Rm9udFNldChjbGFzc05hbWUpIHtcbiAgICBjb25maWcuZGVmYXVsdEZvbnRTZXQgPSAhY2xhc3NOYW1lID8gJycgOiBjbGFzc05hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gICB9LFxuXG4gICBkZWZhdWx0SWNvblNpemUgOiBmdW5jdGlvbiBkZWZhdWx0SWNvblNpemUoaWNvblNpemUpIHtcbiAgICAgY29uZmlnLmRlZmF1bHRJY29uU2l6ZSA9IGljb25TaXplO1xuICAgICByZXR1cm4gdGhpcztcbiAgIH0sXG5cbiAgIHByZWxvYWRJY29uczogZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgIHZhciBpY29uUHJvdmlkZXIgPSB0aGlzO1xuICAgICB2YXIgc3ZnUmVnaXN0cnkgPSBbXG4gICAgICAge1xuICAgICAgICAgaWQgOiAnbWQtdGFicy1hcnJvdycsXG4gICAgICAgICB1cmw6ICdtZC10YWJzLWFycm93LnN2ZycsXG4gICAgICAgICBzdmc6ICc8c3ZnIHZlcnNpb249XCIxLjFcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48Zz48cG9seWdvbiBwb2ludHM9XCIxNS40LDcuNCAxNCw2IDgsMTIgMTQsMTggMTUuNCwxNi42IDEwLjgsMTIgXCIvPjwvZz48L3N2Zz4nXG4gICAgICAgfSxcbiAgICAgICB7XG4gICAgICAgICBpZCA6ICdtZC1jbG9zZScsXG4gICAgICAgICB1cmw6ICdtZC1jbG9zZS5zdmcnLFxuICAgICAgICAgc3ZnOiAnPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGc+PHBhdGggZD1cIk0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5elwiLz48L2c+PC9zdmc+J1xuICAgICAgIH0sXG4gICAgICAge1xuICAgICAgICAgaWQ6ICAnbWQtY2FuY2VsJyxcbiAgICAgICAgIHVybDogJ21kLWNhbmNlbC5zdmcnLFxuICAgICAgICAgc3ZnOiAnPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGc+PHBhdGggZD1cIk0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6XCIvPjwvZz48L3N2Zz4nXG4gICAgICAgfSxcbiAgICAgICB7XG4gICAgICAgICBpZDogICdtZC1tZW51JyxcbiAgICAgICAgIHVybDogJ21kLW1lbnUuc3ZnJyxcbiAgICAgICAgIHN2ZzogJzxzdmcgdmVyc2lvbj1cIjEuMVwiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMyw2SDIxVjhIM1Y2TTMsMTFIMjFWMTNIM1YxMU0zLDE2SDIxVjE4SDNWMTZaXCIgLz48L3N2Zz4nXG4gICAgICAgfSxcbiAgICAgICB7XG4gICAgICAgICBpZDogICdtZC10b2dnbGUtYXJyb3cnLFxuICAgICAgICAgdXJsOiAnbWQtdG9nZ2xlLWFycm93LXN2ZycsXG4gICAgICAgICBzdmc6ICc8c3ZnIHZlcnNpb249XCIxLjFcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHZpZXdCb3g9XCIwIDAgNDggNDhcIj48cGF0aCBkPVwiTTI0IDE2bC0xMiAxMiAyLjgzIDIuODMgOS4xNy05LjE3IDkuMTcgOS4xNyAyLjgzLTIuODN6XCIvPjxwYXRoIGQ9XCJNMCAwaDQ4djQ4aC00OHpcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz4nXG4gICAgICAgfSxcbiAgICAgICB7XG4gICAgICAgICBpZDogICdtZC1jYWxlbmRhcicsXG4gICAgICAgICB1cmw6ICdtZC1jYWxlbmRhci5zdmcnLFxuICAgICAgICAgc3ZnOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3elwiLz48L3N2Zz4nXG4gICAgICAgfVxuICAgICBdO1xuXG4gICAgIHN2Z1JlZ2lzdHJ5LmZvckVhY2goZnVuY3Rpb24oYXNzZXQpe1xuICAgICAgIGljb25Qcm92aWRlci5pY29uKGFzc2V0LmlkLCAgYXNzZXQudXJsKTtcbiAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQoYXNzZXQudXJsLCBhc3NldC5zdmcpO1xuICAgICB9KTtcblxuICAgfSxcblxuICAgJGdldCA6IFsnJGh0dHAnLCAnJHEnLCAnJGxvZycsICckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCRodHRwLCAkcSwgJGxvZywgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgdGhpcy5wcmVsb2FkSWNvbnMoJHRlbXBsYXRlQ2FjaGUpO1xuICAgICByZXR1cm4gTWRJY29uU2VydmljZShjb25maWcsICRodHRwLCAkcSwgJGxvZywgJHRlbXBsYXRlQ2FjaGUpO1xuICAgfV1cbiB9O1xuXG4gICAvKipcbiAgICAqICBDb25maWd1cmF0aW9uIGl0ZW0gc3RvcmVkIGluIHRoZSBJY29uIHJlZ2lzdHJ5OyB1c2VkIGZvciBsb29rdXBzXG4gICAgKiAgdG8gbG9hZCBpZiBub3QgYWxyZWFkeSBjYWNoZWQgaW4gdGhlIGBsb2FkZWRgIGNhY2hlXG4gICAgKi9cbiAgIGZ1bmN0aW9uIENvbmZpZ3VyYXRpb25JdGVtKHVybCwgdmlld0JveFNpemUpIHtcbiAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgIHRoaXMudmlld0JveFNpemUgPSB2aWV3Qm94U2l6ZSB8fCBjb25maWcuZGVmYXVsdFZpZXdCb3hTaXplO1xuICAgfVxuXG4gLyoqXG4gICogQG5nZG9jIHNlcnZpY2VcbiAgKiBAbmFtZSAkbWRJY29uXG4gICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmljb25cbiAgKlxuICAqIEBkZXNjcmlwdGlvblxuICAqIFRoZSBgJG1kSWNvbmAgc2VydmljZSBpcyBhIGZ1bmN0aW9uIHVzZWQgdG8gbG9va3VwIFNWRyBpY29ucy5cbiAgKlxuICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBRdWVyeSB2YWx1ZSBmb3IgYSB1bmlxdWUgSWQgb3IgVVJMLiBJZiB0aGUgYXJndW1lbnQgaXMgYSBVUkwsIHRoZW4gdGhlIHNlcnZpY2Ugd2lsbCByZXRyaWV2ZSB0aGUgaWNvbiBlbGVtZW50XG4gICogZnJvbSBpdHMgaW50ZXJuYWwgY2FjaGUgb3IgbG9hZCB0aGUgaWNvbiBhbmQgY2FjaGUgaXQgZmlyc3QuIElmIHRoZSB2YWx1ZSBpcyBub3QgYSBVUkwtdHlwZSBzdHJpbmcsIHRoZW4gYW4gSUQgbG9va3VwIGlzXG4gICogcGVyZm9ybWVkLiBUaGUgSWQgbWF5IGJlIGEgdW5pcXVlIGljb24gSUQgb3IgbWF5IGluY2x1ZGUgYW4gaWNvblNldCBJRCBwcmVmaXguXG4gICpcbiAgKiBGb3IgdGhlICoqaWQqKiBxdWVyeSB0byB3b3JrIHByb3Blcmx5LCB0aGlzIG1lYW5zIHRoYXQgYWxsIGlkLXRvLVVSTCBtYXBwaW5ncyBtdXN0IGhhdmUgYmVlbiBwcmV2aW91c2x5IGNvbmZpZ3VyZWRcbiAgKiB1c2luZyB0aGUgYCRtZEljb25Qcm92aWRlcmAuXG4gICpcbiAgKiBAcmV0dXJucyB7b2JqfSBDbG9uZSBvZiB0aGUgaW5pdGlhbCBTVkcgRE9NIGVsZW1lbnQ7IHdoaWNoIHdhcyBjcmVhdGVkIGZyb20gdGhlIFNWRyBtYXJrdXAgaW4gdGhlIFNWRyBkYXRhIGZpbGUuXG4gICpcbiAgKiBAdXNhZ2VcbiAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgKiBmdW5jdGlvbiBTb21lRGlyZWN0aXZlKCRtZEljb24pIHtcbiAgKlxuICAqICAgLy8gU2VlIGlmIHRoZSBpY29uIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLCBpZiBub3RcbiAgKiAgIC8vIHRoZW4gbG9va3VwIHRoZSBpY29uIGZyb20gdGhlIHJlZ2lzdHJ5IGNhY2hlLCBsb2FkIGFuZCBjYWNoZVxuICAqICAgLy8gaXQgZm9yIGZ1dHVyZSByZXF1ZXN0cy5cbiAgKiAgIC8vIE5PVEU6IElEIHF1ZXJpZXMgcmVxdWlyZSBjb25maWd1cmF0aW9uIHdpdGggJG1kSWNvblByb3ZpZGVyXG4gICpcbiAgKiAgICRtZEljb24oJ2FuZHJvaWQnKS50aGVuKGZ1bmN0aW9uKGljb25FbCkgICAgeyBlbGVtZW50LmFwcGVuZChpY29uRWwpOyB9KTtcbiAgKiAgICRtZEljb24oJ3dvcms6Y2hhaXInKS50aGVuKGZ1bmN0aW9uKGljb25FbCkgeyBlbGVtZW50LmFwcGVuZChpY29uRWwpOyB9KTtcbiAgKlxuICAqICAgLy8gTG9hZCBhbmQgY2FjaGUgdGhlIGV4dGVybmFsIFNWRyB1c2luZyBhIFVSTFxuICAqXG4gICogICAkbWRJY29uKCdpbWcvaWNvbnMvYW5kcm9pZC5zdmcnKS50aGVuKGZ1bmN0aW9uKGljb25FbCkge1xuICAqICAgICBlbGVtZW50LmFwcGVuZChpY29uRWwpO1xuICAqICAgfSk7XG4gICogfTtcbiAgKiA8L2hsanM+XG4gICpcbiAgKiBOT1RFOiBUaGUgYDxtZC1pY29uIC8+ICBgIGRpcmVjdGl2ZSBpbnRlcm5hbGx5IHVzZXMgdGhlIGAkbWRJY29uYCBzZXJ2aWNlIHRvIHF1ZXJ5LCBsb2FkZWQsIGFuZCBpbnN0YW50aWF0ZVxuICAqIFNWRyBET00gZWxlbWVudHMuXG4gICovXG5cbiAgLyogQG5nSW5qZWN0ICovXG4gZnVuY3Rpb24gTWRJY29uU2VydmljZShjb25maWcsICRodHRwLCAkcSwgJGxvZywgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgIHZhciBpY29uQ2FjaGUgPSB7fTtcbiAgIHZhciB1cmxSZWdleCA9IC9bLWEtekEtWjAtOUA6JV9cXCsufiM/Ji8vPV17MiwyNTZ9XFwuW2Etel17Miw0fVxcYihcXC9bLWEtekEtWjAtOUA6JV9cXCsufiM/Ji8vPV0qKT8vaTtcblxuICAgSWNvbi5wcm90b3R5cGUgPSB7IGNsb25lIDogY2xvbmVTVkcsIHByZXBhcmU6IHByZXBhcmVBbmRTdHlsZSB9O1xuICAgZ2V0SWNvbi5mb250U2V0ID0gZmluZFJlZ2lzdGVyZWRGb250U2V0O1xuXG4gICAvLyBQdWJsaXNoIHNlcnZpY2UuLi5cbiAgIHJldHVybiBnZXRJY29uO1xuXG4gICAvKipcbiAgICAqIEFjdHVhbCAkbWRJY29uIHNlcnZpY2UgaXMgZXNzZW50aWFsbHkgYSBsb29rdXAgZnVuY3Rpb25cbiAgICAqL1xuICAgZnVuY3Rpb24gZ2V0SWNvbihpZCkge1xuICAgICBpZCA9IGlkIHx8ICcnO1xuXG4gICAgIC8vIElmIGFscmVhZHkgbG9hZGVkIGFuZCBjYWNoZWQsIHVzZSBhIGNsb25lIG9mIHRoZSBjYWNoZWQgaWNvbi5cbiAgICAgLy8gT3RoZXJ3aXNlIGVpdGhlciBsb2FkIGJ5IFVSTCwgb3IgbG9va3VwIGluIHRoZSByZWdpc3RyeSBhbmQgdGhlbiBsb2FkIGJ5IFVSTCwgYW5kIGNhY2hlLlxuXG4gICAgIGlmICggaWNvbkNhY2hlW2lkXSAgICAgICAgICkgcmV0dXJuICRxLndoZW4oIGljb25DYWNoZVtpZF0uY2xvbmUoKSApO1xuICAgICBpZiAoIHVybFJlZ2V4LnRlc3QoaWQpICAgICApIHJldHVybiBsb2FkQnlVUkwoaWQpLnRoZW4oIGNhY2hlSWNvbihpZCkgKTtcbiAgICAgaWYgKCBpZC5pbmRleE9mKCc6JykgPT0gLTEgKSBpZCA9ICckZGVmYXVsdDonICsgaWQ7XG5cbiAgICAgdmFyIGxvYWQgPSBjb25maWdbaWRdID8gbG9hZEJ5SUQgOiBsb2FkRnJvbUljb25TZXQ7XG4gICAgIHJldHVybiBsb2FkKGlkKVxuICAgICAgICAgLnRoZW4oIGNhY2hlSWNvbihpZCkgKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBMb29rdXAgcmVnaXN0ZXJlZCBmb250U2V0IHN0eWxlIHVzaW5nIGl0cyBhbGlhcy4uLlxuICAgICogSWYgbm90IGZvdW5kLFxuICAgICovXG4gICBmdW5jdGlvbiBmaW5kUmVnaXN0ZXJlZEZvbnRTZXQoYWxpYXMpIHtcbiAgICAgIHZhciB1c2VEZWZhdWx0ID0gYW5ndWxhci5pc1VuZGVmaW5lZChhbGlhcykgfHwgIShhbGlhcyAmJiBhbGlhcy5sZW5ndGgpO1xuICAgICAgaWYgKCB1c2VEZWZhdWx0ICkgcmV0dXJuIGNvbmZpZy5kZWZhdWx0Rm9udFNldDtcblxuICAgICAgdmFyIHJlc3VsdCA9IGFsaWFzO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKGNvbmZpZy5mb250U2V0cywgZnVuY3Rpb24oaXQpe1xuICAgICAgICBpZiAoIGl0LmFsaWFzID09IGFsaWFzICkgcmVzdWx0ID0gaXQuZm9udFNldCB8fCByZXN1bHQ7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBQcmVwYXJlIGFuZCBjYWNoZSB0aGUgbG9hZGVkIGljb24gZm9yIHRoZSBzcGVjaWZpZWQgYGlkYFxuICAgICovXG4gICBmdW5jdGlvbiBjYWNoZUljb24oIGlkICkge1xuXG4gICAgIHJldHVybiBmdW5jdGlvbiB1cGRhdGVDYWNoZSggaWNvbiApIHtcbiAgICAgICBpY29uQ2FjaGVbaWRdID0gaXNJY29uKGljb24pID8gaWNvbiA6IG5ldyBJY29uKGljb24sIGNvbmZpZ1tpZF0pO1xuXG4gICAgICAgcmV0dXJuIGljb25DYWNoZVtpZF0uY2xvbmUoKTtcbiAgICAgfTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBMb29rdXAgdGhlIGNvbmZpZ3VyYXRpb24gaW4gdGhlIHJlZ2lzdHJ5LCBpZiAhcmVnaXN0ZXJlZCB0aHJvdyBhbiBlcnJvclxuICAgICogb3RoZXJ3aXNlIGxvYWQgdGhlIGljb24gW29uLWRlbWFuZF0gdXNpbmcgdGhlIHJlZ2lzdGVyZWQgVVJMLlxuICAgICpcbiAgICAqL1xuICAgZnVuY3Rpb24gbG9hZEJ5SUQoaWQpIHtcbiAgICB2YXIgaWNvbkNvbmZpZyA9IGNvbmZpZ1tpZF07XG4gICAgIHJldHVybiBsb2FkQnlVUkwoaWNvbkNvbmZpZy51cmwpLnRoZW4oZnVuY3Rpb24oaWNvbikge1xuICAgICAgIHJldHVybiBuZXcgSWNvbihpY29uLCBpY29uQ29uZmlnKTtcbiAgICAgfSk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogICAgTG9hZHMgdGhlIGZpbGUgYXMgWE1MIGFuZCB1c2VzIHF1ZXJ5U2VsZWN0b3IoIDxpZD4gKSB0byBmaW5kXG4gICAgKiAgICB0aGUgZGVzaXJlZCBub2RlLi4uXG4gICAgKi9cbiAgIGZ1bmN0aW9uIGxvYWRGcm9tSWNvblNldChpZCkge1xuICAgICB2YXIgc2V0TmFtZSA9IGlkLnN1YnN0cmluZygwLCBpZC5sYXN0SW5kZXhPZignOicpKSB8fCAnJGRlZmF1bHQnO1xuICAgICB2YXIgaWNvblNldENvbmZpZyA9IGNvbmZpZ1tzZXROYW1lXTtcblxuICAgICByZXR1cm4gIWljb25TZXRDb25maWcgPyBhbm5vdW5jZUlkTm90Rm91bmQoaWQpIDogbG9hZEJ5VVJMKGljb25TZXRDb25maWcudXJsKS50aGVuKGV4dHJhY3RGcm9tU2V0KTtcblxuICAgICBmdW5jdGlvbiBleHRyYWN0RnJvbVNldChzZXQpIHtcbiAgICAgICB2YXIgaWNvbk5hbWUgPSBpZC5zbGljZShpZC5sYXN0SW5kZXhPZignOicpICsgMSk7XG4gICAgICAgdmFyIGljb24gPSBzZXQucXVlcnlTZWxlY3RvcignIycgKyBpY29uTmFtZSk7XG4gICAgICAgcmV0dXJuICFpY29uID8gYW5ub3VuY2VJZE5vdEZvdW5kKGlkKSA6IG5ldyBJY29uKGljb24sIGljb25TZXRDb25maWcpO1xuICAgICB9XG5cbiAgICAgZnVuY3Rpb24gYW5ub3VuY2VJZE5vdEZvdW5kKGlkKSB7XG4gICAgICAgdmFyIG1zZyA9ICdpY29uICcgKyBpZCArICcgbm90IGZvdW5kJztcbiAgICAgICRsb2cud2Fybihtc2cpO1xuXG4gICAgICAgcmV0dXJuICRxLnJlamVjdChtc2cgfHwgaWQpO1xuICAgICB9XG4gICB9XG5cbiAgIC8qKlxuICAgICogTG9hZCB0aGUgaWNvbiBieSBVUkwgKG1heSB1c2UgdGhlICR0ZW1wbGF0ZUNhY2hlKS5cbiAgICAqIEV4dHJhY3QgdGhlIGRhdGEgZm9yIGxhdGVyIGNvbnZlcnNpb24gdG8gSWNvblxuICAgICovXG4gICBmdW5jdGlvbiBsb2FkQnlVUkwodXJsKSB7XG4gICAgIHJldHVybiAkaHR0cFxuICAgICAgIC5nZXQodXJsLCB7IGNhY2hlOiAkdGVtcGxhdGVDYWNoZSB9KVxuICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICByZXR1cm4gYW5ndWxhci5lbGVtZW50KCc8ZGl2PicpLmFwcGVuZChyZXNwb25zZS5kYXRhKS5maW5kKCdzdmcnKVswXTtcbiAgICAgICB9KS5jYXRjaChhbm5vdW5jZU5vdEZvdW5kKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBDYXRjaCBIVFRQIG9yIGdlbmVyaWMgZXJyb3JzIG5vdCByZWxhdGVkIHRvIGluY29ycmVjdCBpY29uIElEcy5cbiAgICAqL1xuICAgZnVuY3Rpb24gYW5ub3VuY2VOb3RGb3VuZChlcnIpIHtcbiAgICAgdmFyIG1zZyA9IGFuZ3VsYXIuaXNTdHJpbmcoZXJyKSA/IGVyciA6IChlcnIubWVzc2FnZSB8fCBlcnIuZGF0YSB8fCBlcnIuc3RhdHVzVGV4dCk7XG4gICAgICRsb2cud2Fybihtc2cpO1xuXG4gICAgIHJldHVybiAkcS5yZWplY3QobXNnKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBDaGVjayB0YXJnZXQgc2lnbmF0dXJlIHRvIHNlZSBpZiBpdCBpcyBhbiBJY29uIGluc3RhbmNlLlxuICAgICovXG4gICBmdW5jdGlvbiBpc0ljb24odGFyZ2V0KSB7XG4gICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZCh0YXJnZXQuZWxlbWVudCkgJiYgYW5ndWxhci5pc0RlZmluZWQodGFyZ2V0LmNvbmZpZyk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogIERlZmluZSB0aGUgSWNvbiBjbGFzc1xuICAgICovXG4gICBmdW5jdGlvbiBJY29uKGVsLCBjb25maWcpIHtcbiAgICAgaWYgKGVsICYmIGVsLnRhZ05hbWUgIT0gJ3N2ZycpIHtcbiAgICAgICBlbCA9IGFuZ3VsYXIuZWxlbWVudCgnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+JykuYXBwZW5kKGVsKVswXTtcbiAgICAgfVxuXG4gICAgIC8vIEluamVjdCB0aGUgbmFtZXNwYWNlIGlmIG5vdCBhdmFpbGFibGUuLi5cbiAgICAgaWYgKCAhZWwuZ2V0QXR0cmlidXRlKCd4bWxucycpICkge1xuICAgICAgIGVsLnNldEF0dHJpYnV0ZSgneG1sbnMnLCBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpO1xuICAgICB9XG5cbiAgICAgdGhpcy5lbGVtZW50ID0gZWw7XG4gICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICB0aGlzLnByZXBhcmUoKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiAgUHJlcGFyZSB0aGUgRE9NIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGNhY2hlZCBpbiB0aGVcbiAgICAqICBsb2FkZWQgaWNvbkNhY2hlIHN0b3JlLlxuICAgICovXG4gICBmdW5jdGlvbiBwcmVwYXJlQW5kU3R5bGUoKSB7XG4gICAgIHZhciB2aWV3Qm94U2l6ZSA9IHRoaXMuY29uZmlnID8gdGhpcy5jb25maWcudmlld0JveFNpemUgOiBjb25maWcuZGVmYXVsdFZpZXdCb3hTaXplO1xuICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHtcbiAgICAgICAgICAgJ2ZpdCcgICA6ICcnLFxuICAgICAgICAgICAnaGVpZ2h0JzogJzEwMCUnLFxuICAgICAgICAgICAnd2lkdGgnIDogJzEwMCUnLFxuICAgICAgICAgICAncHJlc2VydmVBc3BlY3RSYXRpbyc6ICd4TWlkWU1pZCBtZWV0JyxcbiAgICAgICAgICAgJ3ZpZXdCb3gnIDogdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgndmlld0JveCcpIHx8ICgnMCAwICcgKyB2aWV3Qm94U2l6ZSArICcgJyArIHZpZXdCb3hTaXplKVxuICAgICAgICAgfSwgZnVuY3Rpb24odmFsLCBhdHRyKSB7XG4gICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsKTtcbiAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICBhbmd1bGFyLmZvckVhY2goe1xuICAgICAgICAgICAncG9pbnRlci1ldmVudHMnIDogJ25vbmUnLFxuICAgICAgICAgICAnZGlzcGxheScgOiAnYmxvY2snXG4gICAgICAgICB9LCBmdW5jdGlvbih2YWwsIHN0eWxlKSB7XG4gICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZVtzdHlsZV0gPSB2YWw7XG4gICAgICAgICB9LCB0aGlzKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBDbG9uZSB0aGUgSWNvbiBET00gZWxlbWVudC5cbiAgICAqL1xuICAgZnVuY3Rpb24gY2xvbmVTVkcoKXtcbiAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICB9XG5cbiB9XG4gTWRJY29uU2VydmljZS4kaW5qZWN0ID0gW1wiY29uZmlnXCIsIFwiJGh0dHBcIiwgXCIkcVwiLCBcIiRsb2dcIiwgXCIkdGVtcGxhdGVDYWNoZVwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5tZW51JylcbiAgICAuY29udHJvbGxlcignbWRNZW51Q3RybCcsIE1lbnVDb250cm9sbGVyKTtcblxuLyoqXG4gKiBAbmdJbmplY3RcbiAqL1xuZnVuY3Rpb24gTWVudUNvbnRyb2xsZXIoJG1kTWVudSwgJGF0dHJzLCAkZWxlbWVudCwgJHNjb3BlLCAkbWRVdGlsLCAkdGltZW91dCwgJHJvb3RTY29wZSwgJHEpIHtcblxuICB2YXIgbWVudUNvbnRhaW5lcjtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgdHJpZ2dlckVsZW1lbnQ7XG5cbiAgdGhpcy5uZXN0TGV2ZWwgPSBwYXJzZUludCgkYXR0cnMubWROZXN0TGV2ZWwsIDEwKSB8fCAwO1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgYnkgb3VyIGxpbmtpbmcgZm4gdG8gcHJvdmlkZSBhY2Nlc3MgdG8gdGhlIG1lbnUtY29udGVudFxuICAgKiBlbGVtZW50IHJlbW92ZWQgZHVyaW5nIGxpbmtcbiAgICovXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uIGluaXQoc2V0TWVudUNvbnRhaW5lciwgb3B0cykge1xuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIG1lbnVDb250YWluZXIgPSBzZXRNZW51Q29udGFpbmVyO1xuICAgIC8vIERlZmF1bHQgZWxlbWVudCBmb3IgQVJJQSBhdHRyaWJ1dGVzIGhhcyB0aGUgbmdDbGljayBvciBuZ01vdXNlZW50ZXIgZXhwcmVzc2lvblxuICAgIHRyaWdnZXJFbGVtZW50ID0gJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignW25nLWNsaWNrXSxbbmctbW91c2VlbnRlcl0nKTtcbiAgICB0cmlnZ2VyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcblxuICAgIHRoaXMuaXNJbk1lbnVCYXIgPSBvcHRzLmlzSW5NZW51QmFyO1xuICAgIHRoaXMubmVzdGVkTWVudXMgPSAkbWRVdGlsLm5vZGVzVG9BcnJheShtZW51Q29udGFpbmVyWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZC1uZXN0ZWQtbWVudScpKTtcblxuICAgIG1lbnVDb250YWluZXIub24oJyRtZEludGVyaW1FbGVtZW50UmVtb3ZlJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmlzT3BlbiA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgdmFyIG1lbnVDb250YWluZXJJZCA9ICdtZW51X2NvbnRhaW5lcl8nICsgJG1kVXRpbC5uZXh0VWlkKCk7XG4gICAgbWVudUNvbnRhaW5lci5hdHRyKCdpZCcsIG1lbnVDb250YWluZXJJZCk7XG4gICAgYW5ndWxhci5lbGVtZW50KHRyaWdnZXJFbGVtZW50KS5hdHRyKHtcbiAgICAgICdhcmlhLW93bnMnOiBtZW51Q29udGFpbmVySWQsXG4gICAgICAnYXJpYS1oYXNwb3B1cCc6ICd0cnVlJ1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCB0aGlzLmRpc2FibGVIb3Zlckxpc3RlbmVyKTtcbiAgfTtcblxuICB2YXIgb3Blbk1lbnVUaW1lb3V0LCBtZW51SXRlbXMsIGRlcmVnaXN0ZXJTY29wZUxpc3RlbmVycyA9IFtdO1xuICB0aGlzLmVuYWJsZUhvdmVyTGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICBkZXJlZ2lzdGVyU2NvcGVMaXN0ZW5lcnMucHVzaCgkcm9vdFNjb3BlLiRvbignJG1kTWVudU9wZW4nLCBmdW5jdGlvbihldmVudCwgZWwpIHtcbiAgICAgIGlmIChtZW51Q29udGFpbmVyWzBdLmNvbnRhaW5zKGVsWzBdKSkge1xuICAgICAgICBzZWxmLmN1cnJlbnRseU9wZW5NZW51ID0gZWwuY29udHJvbGxlcignbWRNZW51Jyk7XG4gICAgICAgIHNlbGYuaXNBbHJlYWR5T3BlbmluZyA9IGZhbHNlO1xuICAgICAgICBzZWxmLmN1cnJlbnRseU9wZW5NZW51LnJlZ2lzdGVyQ29udGFpbmVyUHJveHkoc2VsZi50cmlnZ2VyQ29udGFpbmVyUHJveHkuYmluZChzZWxmKSk7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGRlcmVnaXN0ZXJTY29wZUxpc3RlbmVycy5wdXNoKCRyb290U2NvcGUuJG9uKCckbWRNZW51Q2xvc2UnLCBmdW5jdGlvbihldmVudCwgZWwpIHtcbiAgICAgIGlmIChtZW51Q29udGFpbmVyWzBdLmNvbnRhaW5zKGVsWzBdKSkge1xuICAgICAgICBzZWxmLmN1cnJlbnRseU9wZW5NZW51ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pKTtcbiAgICBtZW51SXRlbXMgPSBhbmd1bGFyLmVsZW1lbnQoJG1kVXRpbC5ub2Rlc1RvQXJyYXkobWVudUNvbnRhaW5lclswXS5jaGlsZHJlblswXS5jaGlsZHJlbikpO1xuICAgIG1lbnVJdGVtcy5vbignbW91c2VlbnRlcicsIHNlbGYuaGFuZGxlTWVudUl0ZW1Ib3Zlcik7XG4gICAgbWVudUl0ZW1zLm9uKCdtb3VzZWxlYXZlJywgc2VsZi5oYW5kbGVNZW51SXRlbU1vdXNlTGVhdmUpO1xuICB9O1xuXG4gIHRoaXMuZGlzYWJsZUhvdmVyTGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICB3aGlsZSAoZGVyZWdpc3RlclNjb3BlTGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgZGVyZWdpc3RlclNjb3BlTGlzdGVuZXJzLnNoaWZ0KCkoKTtcbiAgICB9XG4gICAgbWVudUl0ZW1zICYmIG1lbnVJdGVtcy5vZmYoJ21vdXNlZW50ZXInLCBzZWxmLmhhbmRsZU1lbnVJdGVtSG92ZXIpO1xuICAgIG1lbnVJdGVtcyAmJiBtZW51SXRlbXMub2ZmKCdtb3VzZWxlYXZlJywgc2VsZi5oYW5kbGVNZW51TW91c2VMZWF2ZSk7XG4gIH07XG5cbiAgdGhpcy5oYW5kbGVNZW51SXRlbUhvdmVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoc2VsZi5pc0FscmVhZHlPcGVuaW5nKSByZXR1cm47XG4gICAgdmFyIG5lc3RlZE1lbnUgPSAoXG4gICAgICBldmVudC50YXJnZXQucXVlcnlTZWxlY3RvcignbWQtbWVudScpXG4gICAgICAgIHx8ICRtZFV0aWwuZ2V0Q2xvc2VzdChldmVudC50YXJnZXQsICdNRC1NRU5VJylcbiAgICApO1xuICAgIG9wZW5NZW51VGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKG5lc3RlZE1lbnUpIHtcbiAgICAgICAgbmVzdGVkTWVudSA9IGFuZ3VsYXIuZWxlbWVudChuZXN0ZWRNZW51KS5jb250cm9sbGVyKCdtZE1lbnUnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGYuY3VycmVudGx5T3Blbk1lbnUgJiYgc2VsZi5jdXJyZW50bHlPcGVuTWVudSAhPSBuZXN0ZWRNZW51KSB7XG4gICAgICAgIHZhciBjbG9zZVRvID0gc2VsZi5uZXN0TGV2ZWwgKyAxO1xuICAgICAgICBzZWxmLmN1cnJlbnRseU9wZW5NZW51LmNsb3NlKHRydWUsIHsgY2xvc2VUbzogY2xvc2VUbyB9KTtcbiAgICAgIH0gZWxzZSBpZiAobmVzdGVkTWVudSAmJiAhbmVzdGVkTWVudS5pc09wZW4gJiYgbmVzdGVkTWVudS5vcGVuKSB7XG4gICAgICAgIHNlbGYuaXNBbHJlYWR5T3BlbmluZyA9IHRydWU7XG4gICAgICAgIG5lc3RlZE1lbnUub3BlbigpO1xuICAgICAgfVxuICAgIH0sIG5lc3RlZE1lbnUgPyAxMDAgOiAyNTApO1xuICAgIHZhciBmb2N1c2FibGVUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSknKTtcbiAgICBmb2N1c2FibGVUYXJnZXQgJiYgZm9jdXNhYmxlVGFyZ2V0LmZvY3VzKCk7XG4gIH07XG5cbiAgdGhpcy5oYW5kbGVNZW51SXRlbU1vdXNlTGVhdmUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAob3Blbk1lbnVUaW1lb3V0KSB7XG4gICAgICAkdGltZW91dC5jYW5jZWwob3Blbk1lbnVUaW1lb3V0KTtcbiAgICAgIG9wZW5NZW51VGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogVXNlcyB0aGUgJG1kTWVudSBpbnRlcmltIGVsZW1lbnQgc2VydmljZSB0byBvcGVuIHRoZSBtZW51IGNvbnRlbnRzXG4gICAqL1xuICB0aGlzLm9wZW4gPSBmdW5jdGlvbiBvcGVuTWVudShldikge1xuICAgIGV2ICYmIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ICYmIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHNlbGYuaXNPcGVuKSByZXR1cm47XG4gICAgc2VsZi5lbmFibGVIb3Zlckxpc3RlbmVyKCk7XG4gICAgc2VsZi5pc09wZW4gPSB0cnVlO1xuICAgIHRyaWdnZXJFbGVtZW50ID0gdHJpZ2dlckVsZW1lbnQgfHwgKGV2ID8gZXYudGFyZ2V0IDogJGVsZW1lbnRbMF0pO1xuICAgIHRyaWdnZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgJHNjb3BlLiRlbWl0KCckbWRNZW51T3BlbicsICRlbGVtZW50KTtcbiAgICAkbWRNZW51LnNob3coe1xuICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgIG1kTWVudUN0cmw6IHNlbGYsXG4gICAgICBuZXN0TGV2ZWw6IHNlbGYubmVzdExldmVsLFxuICAgICAgZWxlbWVudDogbWVudUNvbnRhaW5lcixcbiAgICAgIHRhcmdldDogdHJpZ2dlckVsZW1lbnQsXG4gICAgICBwcmVzZXJ2ZUVsZW1lbnQ6IHRydWUsXG4gICAgICBwYXJlbnQ6ICdib2R5J1xuICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICB0cmlnZ2VyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgIHNlbGYuZGlzYWJsZUhvdmVyTGlzdGVuZXIoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBFeHBvc2UgYSBvcGVuIGZ1bmN0aW9uIHRvIHRoZSBjaGlsZCBzY29wZSBmb3IgaHRtbCB0byB1c2VcbiAgJHNjb3BlLiRtZE9wZW5NZW51ID0gdGhpcy5vcGVuO1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLmlzT3BlbjsgfSwgZnVuY3Rpb24oaXNPcGVuKSB7XG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgbWVudUNvbnRhaW5lci5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgICAgJGVsZW1lbnRbMF0uY2xhc3NMaXN0LmFkZCgnbWQtb3BlbicpO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGYubmVzdGVkTWVudXMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ21kLW9wZW4nKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZW51Q29udGFpbmVyLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICRlbGVtZW50WzBdLmNsYXNzTGlzdC5yZW1vdmUoJ21kLW9wZW4nKTtcbiAgICB9XG4gICAgJHNjb3BlLiRtZE1lbnVJc09wZW4gPSBzZWxmLmlzT3BlbjtcbiAgfSk7XG5cbiAgdGhpcy5mb2N1c01lbnVDb250YWluZXIgPSBmdW5jdGlvbiBmb2N1c01lbnVDb250YWluZXIoKSB7XG4gICAgdmFyIGZvY3VzVGFyZ2V0ID0gbWVudUNvbnRhaW5lclswXS5xdWVyeVNlbGVjdG9yKCdbbWQtbWVudS1mb2N1cy10YXJnZXRdJyk7XG4gICAgaWYgKCFmb2N1c1RhcmdldCkgZm9jdXNUYXJnZXQgPSBtZW51Q29udGFpbmVyWzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1idXR0b24nKTtcbiAgICBmb2N1c1RhcmdldC5mb2N1cygpO1xuICB9O1xuXG4gIHRoaXMucmVnaXN0ZXJDb250YWluZXJQcm94eSA9IGZ1bmN0aW9uIHJlZ2lzdGVyQ29udGFpbmVyUHJveHkoaGFuZGxlcikge1xuICAgIHRoaXMuY29udGFpbmVyUHJveHkgPSBoYW5kbGVyO1xuICB9O1xuXG4gIHRoaXMudHJpZ2dlckNvbnRhaW5lclByb3h5ID0gZnVuY3Rpb24gdHJpZ2dlckNvbnRhaW5lclByb3h5KGV2KSB7XG4gICAgdGhpcy5jb250YWluZXJQcm94eSAmJiB0aGlzLmNvbnRhaW5lclByb3h5KGV2KTtcbiAgfTtcblxuICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5pc09wZW4gPyAkbWRNZW51LmRlc3Ryb3koKSA6ICRxLndoZW4oZmFsc2UpO1xuICB9O1xuXG4gIC8vIFVzZSB0aGUgJG1kTWVudSBpbnRlcmltIGVsZW1lbnQgc2VydmljZSB0byBjbG9zZSB0aGUgbWVudSBjb250ZW50c1xuICB0aGlzLmNsb3NlID0gZnVuY3Rpb24gY2xvc2VNZW51KHNraXBGb2N1cywgY2xvc2VPcHRzKSB7XG4gICAgaWYgKCAhc2VsZi5pc09wZW4gKSByZXR1cm47XG4gICAgc2VsZi5pc09wZW4gPSBmYWxzZTtcblxuICAgIHZhciBldmVudERldGFpbHMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgY2xvc2VPcHRzLCB7IHNraXBGb2N1czogc2tpcEZvY3VzIH0pO1xuICAgICRzY29wZS4kZW1pdCgnJG1kTWVudUNsb3NlJywgJGVsZW1lbnQsIGV2ZW50RGV0YWlscyk7XG4gICAgJG1kTWVudS5oaWRlKG51bGwsIGNsb3NlT3B0cyk7XG5cbiAgICBpZiAoIXNraXBGb2N1cykge1xuICAgICAgdmFyIGVsID0gc2VsZi5yZXN0b3JlRm9jdXNUbyB8fCAkZWxlbWVudC5maW5kKCdidXR0b24nKVswXTtcbiAgICAgIGlmIChlbCBpbnN0YW5jZW9mIGFuZ3VsYXIuZWxlbWVudCkgZWwgPSBlbFswXTtcbiAgICAgIGlmIChlbCkgZWwuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGEgbmljZSBvYmplY3Qgb3V0IG9mIG91ciBzdHJpbmcgYXR0cmlidXRlIHdoaWNoIHNwZWNpZmllcyB0aGVcbiAgICogdGFyZ2V0IG1vZGUgZm9yIGxlZnQgYW5kIHRvcCBwb3NpdGlvbmluZ1xuICAgKi9cbiAgdGhpcy5wb3NpdGlvbk1vZGUgPSBmdW5jdGlvbiBwb3NpdGlvbk1vZGUoKSB7XG4gICAgdmFyIGF0dGFjaG1lbnQgPSAoJGF0dHJzLm1kUG9zaXRpb25Nb2RlIHx8ICd0YXJnZXQnKS5zcGxpdCgnICcpO1xuXG4gICAgLy8gSWYgYXR0YWNobWVudCBpcyBhIHNpbmdsZSBpdGVtLCBkdXBsaWNhdGUgaXQgZm9yIG91ciBzZWNvbmQgdmFsdWUuXG4gICAgLy8gaWUuICd0YXJnZXQnIC0+ICd0YXJnZXQgdGFyZ2V0J1xuICAgIGlmIChhdHRhY2htZW50Lmxlbmd0aCA9PSAxKSB7XG4gICAgICBhdHRhY2htZW50LnB1c2goYXR0YWNobWVudFswXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IGF0dGFjaG1lbnRbMF0sXG4gICAgICB0b3A6IGF0dGFjaG1lbnRbMV1cbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBCdWlsZCBhIG5pY2Ugb2JqZWN0IG91dCBvZiBvdXIgc3RyaW5nIGF0dHJpYnV0ZSB3aGljaCBzcGVjaWZpZXNcbiAgICogdGhlIG9mZnNldCBvZiB0b3AgYW5kIGxlZnQgaW4gcGl4ZWxzLlxuICAgKi9cbiAgdGhpcy5vZmZzZXRzID0gZnVuY3Rpb24gb2Zmc2V0cygpIHtcbiAgICB2YXIgcG9zaXRpb24gPSAoJGF0dHJzLm1kT2Zmc2V0IHx8ICcwIDAnKS5zcGxpdCgnICcpLm1hcChwYXJzZUZsb2F0KTtcbiAgICBpZiAocG9zaXRpb24ubGVuZ3RoID09IDIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IHBvc2l0aW9uWzBdLFxuICAgICAgICB0b3A6IHBvc2l0aW9uWzFdXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24ubGVuZ3RoID09IDEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogcG9zaXRpb25bMF0sXG4gICAgICAgIGxlZnQ6IHBvc2l0aW9uWzBdXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBvZmZzZXRzIHNwZWNpZmllZC4gUGxlYXNlIGZvbGxvdyBmb3JtYXQgPHgsIHk+IG9yIDxuPicpO1xuICAgIH1cbiAgfTtcbn1cbk1lbnVDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkbWRNZW51XCIsIFwiJGF0dHJzXCIsIFwiJGVsZW1lbnRcIiwgXCIkc2NvcGVcIiwgXCIkbWRVdGlsXCIsIFwiJHRpbWVvdXRcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHFcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kTWVudVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLm1lbnVcbiAqIEByZXN0cmljdCBFXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBNZW51cyBhcmUgZWxlbWVudHMgdGhhdCBvcGVuIHdoZW4gY2xpY2tlZC4gVGhleSBhcmUgdXNlZnVsIGZvciBkaXNwbGF5aW5nXG4gKiBhZGRpdGlvbmFsIG9wdGlvbnMgd2l0aGluIHRoZSBjb250ZXh0IG9mIGFuIGFjdGlvbi5cbiAqXG4gKiBFdmVyeSBgbWQtbWVudWAgbXVzdCBzcGVjaWZ5IGV4YWN0bHkgdHdvIGNoaWxkIGVsZW1lbnRzLiBUaGUgZmlyc3QgZWxlbWVudCBpcyB3aGF0IGlzXG4gKiBsZWZ0IGluIHRoZSBET00gYW5kIGlzIHVzZWQgdG8gb3BlbiB0aGUgbWVudS4gVGhpcyBlbGVtZW50IGlzIGNhbGxlZCB0aGUgdHJpZ2dlciBlbGVtZW50LlxuICogVGhlIHRyaWdnZXIgZWxlbWVudCdzIHNjb3BlIGhhcyBhY2Nlc3MgdG8gYCRtZE9wZW5NZW51KCRldmVudClgXG4gKiB3aGljaCBpdCBtYXkgY2FsbCB0byBvcGVuIHRoZSBtZW51LiBCeSBwYXNzaW5nICRldmVudCBhcyBhcmd1bWVudCwgdGhlXG4gKiBjb3JyZXNwb25kaW5nIGV2ZW50IGlzIHN0b3BwZWQgZnJvbSBwcm9wYWdhdGluZyB1cCB0aGUgRE9NLXRyZWUuXG4gKlxuICogVGhlIHNlY29uZCBlbGVtZW50IGlzIHRoZSBgbWQtbWVudS1jb250ZW50YCBlbGVtZW50IHdoaWNoIHJlcHJlc2VudHMgdGhlXG4gKiBjb250ZW50cyBvZiB0aGUgbWVudSB3aGVuIGl0IGlzIG9wZW4uIFR5cGljYWxseSB0aGlzIHdpbGwgY29udGFpbiBgbWQtbWVudS1pdGVtYHMsXG4gKiBidXQgeW91IGNhbiBkbyBjdXN0b20gY29udGVudCBhcyB3ZWxsLlxuICpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtbWVudT5cbiAqICA8IS0tIFRyaWdnZXIgZWxlbWVudCBpcyBhIG1kLWJ1dHRvbiB3aXRoIGFuIGljb24gLS0+XG4gKiAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cIiRtZE9wZW5NZW51KCRldmVudClcIiBjbGFzcz1cIm1kLWljb24tYnV0dG9uXCIgYXJpYS1sYWJlbD1cIk9wZW4gc2FtcGxlIG1lbnVcIj5cbiAqICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwiY2FsbDpwaG9uZVwiPjwvbWQtaWNvbj5cbiAqICA8L21kLWJ1dHRvbj5cbiAqICA8bWQtbWVudS1jb250ZW50PlxuICogICAgPG1kLW1lbnUtaXRlbT48bWQtYnV0dG9uIG5nLWNsaWNrPVwiZG9Tb21ldGhpbmcoKVwiPkRvIFNvbWV0aGluZzwvbWQtYnV0dG9uPjwvbWQtbWVudS1pdGVtPlxuICogIDwvbWQtbWVudS1jb250ZW50PlxuICogPC9tZC1tZW51PlxuICogPC9obGpzPlxuXG4gKiAjIyBTaXppbmcgTWVudXNcbiAqXG4gKiBUaGUgd2lkdGggb2YgdGhlIG1lbnUgd2hlbiBpdCBpcyBvcGVuIG1heSBiZSBzcGVjaWZpZWQgYnkgc3BlY2lmeWluZyBhIGB3aWR0aGBcbiAqIGF0dHJpYnV0ZSBvbiB0aGUgYG1kLW1lbnUtY29udGVudGAgZWxlbWVudC5cbiAqIFNlZSB0aGUgW01hdGVyaWFsIERlc2lnbiBTcGVjXShodHRwOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvY29tcG9uZW50cy9tZW51cy5odG1sI21lbnVzLXNwZWNzKVxuICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICpcbiAqICMjIEFsaWduaW5nIE1lbnVzXG4gKlxuICogV2hlbiBhIG1lbnUgb3BlbnMsIGl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSBjb250ZW50IGFsaWducyB3aXRoIHRoZSB0cmlnZ2VyIGVsZW1lbnQuXG4gKiBGYWlsdXJlIHRvIGFsaWduIG1lbnVzIGNhbiByZXN1bHQgaW4gamFycmluZyBleHBlcmllbmNlcyBmb3IgdXNlcnMgYXMgY29udGVudFxuICogc3VkZGVubHkgc2hpZnRzLiBUbyBoZWxwIHdpdGggdGhpcywgYG1kLW1lbnVgIHByb3ZpZGVzIHNlcnZlcmFsIEFQSXMgdG8gaGVscFxuICogd2l0aCBhbGlnbm1lbnQuXG4gKlxuICogIyMjIFRhcmdldCBNb2RlXG4gKlxuICogQnkgZGVmYXVsdCwgYG1kLW1lbnVgIHdpbGwgYXR0ZW1wdCB0byBhbGlnbiB0aGUgYG1kLW1lbnUtY29udGVudGAgYnkgYWxpZ25pbmdcbiAqIGRlc2lnbmF0ZWQgY2hpbGQgZWxlbWVudHMgaW4gYm90aCB0aGUgdHJpZ2dlciBhbmQgdGhlIG1lbnUgY29udGVudC5cbiAqXG4gKiBUbyBzcGVjaWZ5IHRoZSBhbGlnbm1lbnQgZWxlbWVudCBpbiB0aGUgYHRyaWdnZXJgIHlvdSBjYW4gdXNlIHRoZSBgbWQtbWVudS1vcmlnaW5gXG4gKiBhdHRyaWJ1dGUgb24gYSBjaGlsZCBlbGVtZW50LiBJZiBubyBgbWQtbWVudS1vcmlnaW5gIGlzIHNwZWNpZmllZCwgdGhlIGBtZC1tZW51YFxuICogd2lsbCBiZSB1c2VkIGFzIHRoZSBvcmlnaW4gZWxlbWVudC5cbiAqXG4gKiBTaW1pbGFybHksIHRoZSBgbWQtbWVudS1jb250ZW50YCBtYXkgc3BlY2lmeSBhIGBtZC1tZW51LWFsaWduLXRhcmdldGAgZm9yIGFcbiAqIGBtZC1tZW51LWl0ZW1gIHRvIHNwZWNpZnkgdGhlIG5vZGUgdGhhdCBpdCBzaG91bGQgdHJ5IGFuZCBhbGlnbiB3aXRoLlxuICpcbiAqIEluIHRoaXMgZXhhbXBsZSBjb2RlLCB3ZSBzcGVjaWZ5IGFuIGljb24gdG8gYmUgb3VyIG9yaWdpbiBlbGVtZW50LCBhbmQgYW5cbiAqIGljb24gaW4gb3VyIG1lbnUgY29udGVudCB0byBiZSBvdXIgYWxpZ25tZW50IHRhcmdldC4gVGhpcyBlbnN1cmVzIHRoYXQgYm90aFxuICogaWNvbnMgYXJlIGFsaWduZWQgd2hlbiB0aGUgbWVudSBvcGVucy5cbiAqXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLW1lbnU+XG4gKiAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cIiRtZE9wZW5NZW51KCRldmVudClcIiBjbGFzcz1cIm1kLWljb24tYnV0dG9uXCIgYXJpYS1sYWJlbD1cIk9wZW4gc29tZSBtZW51XCI+XG4gKiAgICA8bWQtaWNvbiBtZC1tZW51LW9yaWdpbiBtZC1zdmctaWNvbj1cImNhbGw6cGhvbmVcIj48L21kLWljb24+XG4gKiAgPC9tZC1idXR0b24+XG4gKiAgPG1kLW1lbnUtY29udGVudD5cbiAqICAgIDxtZC1tZW51LWl0ZW0+XG4gKiAgICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJkb1NvbWV0aGluZygpXCIgYXJpYS1sYWJlbD1cIkRvIHNvbWV0aGluZ1wiPlxuICogICAgICAgIDxtZC1pY29uIG1kLW1lbnUtYWxpZ24tdGFyZ2V0IG1kLXN2Zy1pY29uPVwiY2FsbDpwaG9uZVwiPjwvbWQtaWNvbj5cbiAqICAgICAgICBEbyBTb21ldGhpbmdcbiAqICAgICAgPC9tZC1idXR0b24+XG4gKiAgICA8L21kLW1lbnUtaXRlbT5cbiAqICA8L21kLW1lbnUtY29udGVudD5cbiAqIDwvbWQtbWVudT5cbiAqIDwvaGxqcz5cbiAqXG4gKiBTb21ldGltZXMgd2Ugd2FudCB0byBzcGVjaWZ5IGFsaWdubWVudCBvbiB0aGUgcmlnaHQgc2lkZSBvZiBhbiBlbGVtZW50LCBmb3IgZXhhbXBsZVxuICogaWYgd2UgaGF2ZSBhIG1lbnUgb24gdGhlIHJpZ2h0IHNpZGUgYSB0b29sYmFyLCB3ZSB3YW50IHRvIHJpZ2h0IGFsaWduIG91ciBtZW51IGNvbnRlbnQuXG4gKlxuICogV2UgY2FuIHNwZWNpZnkgdGhlIG9yaWdpbiBieSB1c2luZyB0aGUgYG1kLXBvc2l0aW9uLW1vZGVgIGF0dHJpYnV0ZSBvbiBib3RoXG4gKiB0aGUgYHhgIGFuZCBgeWAgYXhpcy4gUmlnaHQgbm93IG9ubHkgdGhlIGB4LWF4aXNgIGhhcyBtb3JlIHRoYW4gb25lIG9wdGlvbi5cbiAqIFlvdSBtYXkgc3BlY2lmeSB0aGUgZGVmYXVsdCBtb2RlIG9mIGB0YXJnZXQgdGFyZ2V0YCBvclxuICogYHRhcmdldC1yaWdodCB0YXJnZXRgIHRvIHNwZWNpZnkgYSByaWdodC1vcmllbnRlZCBhbGlnbm1lbnQgdGFyZ2V0LiBTZWUgdGhlXG4gKiBwb3NpdGlvbiBzZWN0aW9uIG9mIHRoZSBkZW1vcyBmb3IgbW9yZSBleGFtcGxlcy5cbiAqXG4gKiAjIyMgTWVudSBPZmZzZXRzXG4gKlxuICogSXQgaXMgc29tZXRpbWVzIHVuYXZvaWRhYmxlIHRvIG5lZWQgdG8gaGF2ZSBhIGRlZXBlciBsZXZlbCBvZiBjb250cm9sIGZvclxuICogdGhlIHBvc2l0aW9uaW5nIG9mIGEgbWVudSB0byBlbnN1cmUgcGVyZmVjdCBhbGlnbm1lbnQuIGBtZC1tZW51YCBwcm92aWRlc1xuICogdGhlIGBtZC1vZmZzZXRgIGF0dHJpYnV0ZSB0byBhbGxvdyBwaXhlbCBsZXZlbCBzcGVjaWZpY3R5IG9mIGFkanVzdGluZyB0aGVcbiAqIGV4YWN0IHBvc2l0aW9uaW5nLlxuICpcbiAqIFRoaXMgb2Zmc2V0IGlzIHByb3ZpZGVkIGluIHRoZSBmb3JtYXQgb2YgYHggeWAgb3IgYG5gIHdoZXJlIGBuYCB3aWxsIGJlIHVzZWRcbiAqIGluIGJvdGggdGhlIGB4YCBhbmQgYHlgIGF4aXMuXG4gKlxuICogRm9yIGV4YW1wbGUsIHRvIG1vdmUgYSBtZW51IGJ5IGAycHhgIGZyb20gdGhlIHRvcCwgd2UgY2FuIHVzZTpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtbWVudSBtZC1vZmZzZXQ9XCIyIDBcIj5cbiAqICAgPCEtLSBtZW51LWNvbnRlbnQgLS0+XG4gKiA8L21kLW1lbnU+XG4gKiA8L2hsanM+XG5cbiAqICMjIyBQcmV2ZW50aW5nIGNsb3NlXG4gKlxuICogU29tZXRpbWVzIHlvdSB3b3VsZCBsaWtlIHRvIGJlIGFibGUgdG8gY2xpY2sgb24gYSBtZW51IGl0ZW0gd2l0aG91dCBoYXZpbmcgdGhlIG1lbnVcbiAqIGNsb3NlLiBUbyBkbyB0aGlzLCBuZ01hdGVyaWFsIGV4cG9zZXMgdGhlIGBtZC1wcmV2ZW50LW1lbnUtY2xvc2VgIGF0dHJpYnV0ZSB3aGljaFxuICogY2FuIGJlIGFkZGVkIHRvIGEgYnV0dG9uIGluc2lkZSBhIG1lbnUgdG8gc3RvcCB0aGUgbWVudSBmcm9tIGF1dG9tYXRpY2FsbHkgY2xvc2luZy5cbiAqIFlvdSBjYW4gdGhlbiBjbG9zZSB0aGUgbWVudSBwcm9ncmFtYXRpY2FsbHkgYnkgaW5qZWN0aW5nIGAkbWRNZW51YCBhbmQgY2FsbGluZyBcbiAqIGAkbWRNZW51LmhpZGUoKWAuXG4gKlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1tZW51LWl0ZW0+XG4gKiAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJkb1NvbWV0aGluZygpXCIgYXJpYS1sYWJlbD1cIkRvIHNvbWV0aGluZ1wiIG1kLXByZXZlbnQtbWVudS1jbG9zZT1cIm1kLXByZXZlbnQtbWVudS1jbG9zZVwiPlxuICogICAgIDxtZC1pY29uIG1kLW1lbnUtYWxpZ24tdGFyZ2V0IG1kLXN2Zy1pY29uPVwiY2FsbDpwaG9uZVwiPjwvbWQtaWNvbj5cbiAqICAgICBEbyBTb21ldGhpbmdcbiAqICAgPC9tZC1idXR0b24+XG4gKiA8L21kLW1lbnUtaXRlbT5cbiAqIDwvaGxqcz5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtbWVudT5cbiAqICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwiJG1kT3Blbk1lbnUoJGV2ZW50KVwiIGNsYXNzPVwibWQtaWNvbi1idXR0b25cIj5cbiAqICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwiY2FsbDpwaG9uZVwiPjwvbWQtaWNvbj5cbiAqICA8L21kLWJ1dHRvbj5cbiAqICA8bWQtbWVudS1jb250ZW50PlxuICogICAgPG1kLW1lbnUtaXRlbT48bWQtYnV0dG9uIG5nLWNsaWNrPVwiZG9Tb21ldGhpbmcoKVwiPkRvIFNvbWV0aGluZzwvbWQtYnV0dG9uPjwvbWQtbWVudS1pdGVtPlxuICogIDwvbWQtbWVudS1jb250ZW50PlxuICogPC9tZC1tZW51PlxuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1wb3NpdGlvbi1tb2RlIFRoZSBwb3NpdGlvbiBtb2RlIGluIHRoZSBmb3JtIG9mXG4gKiAgICAgICAgICAgYHhgLCBgeWAuIERlZmF1bHQgdmFsdWUgaXMgYHRhcmdldGAsYHRhcmdldGAuIFJpZ2h0IG5vdyB0aGUgYHhgIGF4aXNcbiAqICAgICAgICAgICBhbHNvIHN1cHBwb3J0cyBgdGFyZ2V0LXJpZ2h0YC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1vZmZzZXQgQW4gb2Zmc2V0IHRvIGFwcGx5IHRvIHRoZSBkcm9wZG93biBhZnRlciBwb3NpdGlvbmluZ1xuICogICAgICAgICAgIGB4YCwgYHlgLiBEZWZhdWx0IHZhbHVlIGlzIGAwYCxgMGAuXG4gKlxuICovXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLm1lbnUnKVxuICAgIC5kaXJlY3RpdmUoJ21kTWVudScsIE1lbnVEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ0luamVjdFxuICovXG5mdW5jdGlvbiBNZW51RGlyZWN0aXZlKCRtZFV0aWwpIHtcbiAgdmFyIElOVkFMSURfUFJFRklYID0gJ0ludmFsaWQgSFRNTCBmb3IgbWQtbWVudTogJztcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6IFsnbWRNZW51JywgJz9ebWRNZW51QmFyJ10sXG4gICAgY29udHJvbGxlcjogJ21kTWVudUN0cmwnLCAvLyBlbXB0eSBmdW5jdGlvbiB0byBiZSBidWlsdCBieSBsaW5rXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbXBpbGUodGVtcGxhdGVFbGVtZW50KSB7XG4gICAgdGVtcGxhdGVFbGVtZW50LmFkZENsYXNzKCdtZC1tZW51Jyk7XG4gICAgdmFyIHRyaWdnZXJFbGVtZW50ID0gdGVtcGxhdGVFbGVtZW50LmNoaWxkcmVuKClbMF07XG4gICAgaWYgKCF0cmlnZ2VyRWxlbWVudC5oYXNBdHRyaWJ1dGUoJ25nLWNsaWNrJykpIHtcbiAgICAgIHRyaWdnZXJFbGVtZW50ID0gdHJpZ2dlckVsZW1lbnQucXVlcnlTZWxlY3RvcignW25nLWNsaWNrXSxbbmctbW91c2VlbnRlcl0nKSB8fCB0cmlnZ2VyRWxlbWVudDtcbiAgICB9XG4gICAgaWYgKHRyaWdnZXJFbGVtZW50ICYmIChcbiAgICAgIHRyaWdnZXJFbGVtZW50Lm5vZGVOYW1lID09ICdNRC1CVVRUT04nIHx8XG4gICAgICB0cmlnZ2VyRWxlbWVudC5ub2RlTmFtZSA9PSAnQlVUVE9OJ1xuICAgICkgJiYgIXRyaWdnZXJFbGVtZW50Lmhhc0F0dHJpYnV0ZSgndHlwZScpKSB7XG4gICAgICB0cmlnZ2VyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgfVxuXG4gICAgaWYgKHRlbXBsYXRlRWxlbWVudC5jaGlsZHJlbigpLmxlbmd0aCAhPSAyKSB7XG4gICAgICB0aHJvdyBFcnJvcihJTlZBTElEX1BSRUZJWCArICdFeHBlY3RlZCB0d28gY2hpbGRyZW4gZWxlbWVudHMuJyk7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBlbGVtZW50IGZvciBBUklBIGF0dHJpYnV0ZXMgaGFzIHRoZSBuZ0NsaWNrIG9yIG5nTW91c2VlbnRlciBleHByZXNzaW9uXG4gICAgdHJpZ2dlckVsZW1lbnQgJiYgdHJpZ2dlckVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhhc3BvcHVwJywgJ3RydWUnKTtcblxuICAgIHZhciBuZXN0ZWRNZW51cyA9IHRlbXBsYXRlRWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdtZC1tZW51Jyk7XG4gICAgdmFyIG5lc3RpbmdEZXB0aCA9IHBhcnNlSW50KHRlbXBsYXRlRWxlbWVudFswXS5nZXRBdHRyaWJ1dGUoJ21kLW5lc3QtbGV2ZWwnKSwgMTApIHx8IDA7XG4gICAgaWYgKG5lc3RlZE1lbnVzKSB7XG4gICAgICBhbmd1bGFyLmZvckVhY2goJG1kVXRpbC5ub2Rlc1RvQXJyYXkobmVzdGVkTWVudXMpLCBmdW5jdGlvbihtZW51RWwpIHtcbiAgICAgICAgaWYgKCFtZW51RWwuaGFzQXR0cmlidXRlKCdtZC1wb3NpdGlvbi1tb2RlJykpIHtcbiAgICAgICAgICBtZW51RWwuc2V0QXR0cmlidXRlKCdtZC1wb3NpdGlvbi1tb2RlJywgJ2Nhc2NhZGUnKTtcbiAgICAgICAgfVxuICAgICAgICBtZW51RWwuY2xhc3NMaXN0LmFkZCgnbWQtbmVzdGVkLW1lbnUnKTtcbiAgICAgICAgbWVudUVsLnNldEF0dHJpYnV0ZSgnbWQtbmVzdC1sZXZlbCcsIG5lc3RpbmdEZXB0aCArIDEpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBsaW5rO1xuICB9XG5cbiAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgdmFyIG1kTWVudUN0cmwgPSBjdHJsc1swXTtcbiAgICB2YXIgaXNJbk1lbnVCYXIgPSBjdHJsc1sxXSAhPSB1bmRlZmluZWQ7XG4gICAgLy8gTW92ZSBldmVyeXRoaW5nIGludG8gYSBtZC1tZW51LWNvbnRhaW5lciBhbmQgcGFzcyBpdCB0byB0aGUgY29udHJvbGxlclxuICAgIHZhciBtZW51Q29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KFxuICAgICAgJzxkaXYgY2xhc3M9XCJtZC1vcGVuLW1lbnUtY29udGFpbmVyIG1kLXdoaXRlZnJhbWUtejJcIj48L2Rpdj4nXG4gICAgKTtcbiAgICB2YXIgbWVudUNvbnRlbnRzID0gZWxlbWVudC5jaGlsZHJlbigpWzFdO1xuICAgIGlmICghbWVudUNvbnRlbnRzLmhhc0F0dHJpYnV0ZSgncm9sZScpKSB7XG4gICAgICBtZW51Q29udGVudHMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ21lbnUnKTtcbiAgICB9XG4gICAgbWVudUNvbnRhaW5lci5hcHBlbmQobWVudUNvbnRlbnRzKTtcblxuICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBtZW51Q29udGFpbmVyLnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgZWxlbWVudC5hcHBlbmQobWVudUNvbnRhaW5lcik7XG4gICAgbWVudUNvbnRhaW5lclswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIG1kTWVudUN0cmwuaW5pdChtZW51Q29udGFpbmVyLCB7IGlzSW5NZW51QmFyOiBpc0luTWVudUJhciB9KTtcbiAgfVxufVxuTWVudURpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVXRpbFwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5tZW51JylcbiAgLnByb3ZpZGVyKCckbWRNZW51JywgTWVudVByb3ZpZGVyKTtcblxuLypcbiAqIEludGVyaW0gZWxlbWVudCBwcm92aWRlciBmb3IgdGhlIG1lbnUuXG4gKiBIYW5kbGVzIGJlaGF2aW9yIGZvciBhIG1lbnUgd2hpbGUgaXQgaXMgb3BlbiwgaW5jbHVkaW5nOlxuICogICAgLSBoYW5kbGluZyBhbmltYXRpbmcgdGhlIG1lbnUgb3BlbmluZy9jbG9zaW5nXG4gKiAgICAtIGhhbmRsaW5nIGtleS9tb3VzZSBldmVudHMgb24gdGhlIG1lbnUgZWxlbWVudFxuICogICAgLSBoYW5kbGluZyBlbmFibGluZy9kaXNhYmxpbmcgc2Nyb2xsIHdoaWxlIHRoZSBtZW51IGlzIG9wZW5cbiAqICAgIC0gaGFuZGxpbmcgcmVkcmF3aW5nIGR1cmluZyByZXNpemVzIGFuZCBvcmllbnRhdGlvbiBjaGFuZ2VzXG4gKlxuICovXG5cbmZ1bmN0aW9uIE1lbnVQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcbiAgdmFyIE1FTlVfRURHRV9NQVJHSU4gPSA4O1xuXG4gIG1lbnVEZWZhdWx0T3B0aW9ucy4kaW5qZWN0ID0gW1wiJG1kVXRpbFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRkb2N1bWVudFwiLCBcIiR3aW5kb3dcIiwgXCIkcVwiLCBcIiQkckFGXCIsIFwiJGFuaW1hdGVDc3NcIiwgXCIkYW5pbWF0ZVwiXTtcbiAgcmV0dXJuICQkaW50ZXJpbUVsZW1lbnRQcm92aWRlcignJG1kTWVudScpXG4gICAgLnNldERlZmF1bHRzKHtcbiAgICAgIG1ldGhvZHM6IFsndGFyZ2V0J10sXG4gICAgICBvcHRpb25zOiBtZW51RGVmYXVsdE9wdGlvbnNcbiAgICB9KTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gbWVudURlZmF1bHRPcHRpb25zKCRtZFV0aWwsICRtZFRoZW1pbmcsICRtZENvbnN0YW50LCAkZG9jdW1lbnQsICR3aW5kb3csICRxLCAkJHJBRiwgJGFuaW1hdGVDc3MsICRhbmltYXRlKSB7XG4gICAgdmFyIGFuaW1hdG9yID0gJG1kVXRpbC5kb20uYW5pbWF0b3I7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGFyZW50OiAnYm9keScsXG4gICAgICBvblNob3c6IG9uU2hvdyxcbiAgICAgIG9uUmVtb3ZlOiBvblJlbW92ZSxcbiAgICAgIGhhc0JhY2tkcm9wOiB0cnVlLFxuICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogdHJ1ZSxcbiAgICAgIHNraXBDb21waWxlOiB0cnVlLFxuICAgICAgcHJlc2VydmVTY29wZTogdHJ1ZSxcbiAgICAgIHNraXBIaWRlOiB0cnVlLFxuICAgICAgdGhlbWFibGU6IHRydWVcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvdyBtb2RhbCBiYWNrZHJvcCBlbGVtZW50Li4uXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKCk6IHZvaWR9IEEgZnVuY3Rpb24gdGhhdCByZW1vdmVzIHRoaXMgYmFja2Ryb3BcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG93QmFja2Ryb3Aoc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLm5lc3RMZXZlbCkgcmV0dXJuIGFuZ3VsYXIubm9vcDtcblxuICAgICAgLy8gSWYgd2UgYXJlIG5vdCB3aXRoaW4gYSBkaWFsb2cuLi5cbiAgICAgIGlmIChvcHRpb25zLmRpc2FibGVQYXJlbnRTY3JvbGwgJiYgISRtZFV0aWwuZ2V0Q2xvc2VzdChvcHRpb25zLnRhcmdldCwgJ01ELURJQUxPRycpKSB7XG4gICAgICAgIC8vICEhIERPIHRoaXMgYmVmb3JlIGNyZWF0aW5nIHRoZSBiYWNrZHJvcDsgc2luY2UgZGlzYWJsZVNjcm9sbEFyb3VuZCgpXG4gICAgICAgIC8vICAgIGNvbmZpZ3VyZXMgdGhlIHNjcm9sbCBvZmZzZXQ7IHdoaWNoIGlzIHVzZWQgYnkgbWRCYWNrRHJvcCBwb3N0TGluaygpXG4gICAgICAgIG9wdGlvbnMucmVzdG9yZVNjcm9sbCA9ICRtZFV0aWwuZGlzYWJsZVNjcm9sbEFyb3VuZChvcHRpb25zLmVsZW1lbnQsIG9wdGlvbnMucGFyZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuZGlzYWJsZVBhcmVudFNjcm9sbCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5oYXNCYWNrZHJvcCkge1xuICAgICAgICBvcHRpb25zLmJhY2tkcm9wID0gJG1kVXRpbC5jcmVhdGVCYWNrZHJvcChzY29wZSwgXCJtZC1tZW51LWJhY2tkcm9wIG1kLWNsaWNrLWNhdGNoZXJcIik7XG5cbiAgICAgICAgJGFuaW1hdGUuZW50ZXIob3B0aW9ucy5iYWNrZHJvcCwgJGRvY3VtZW50WzBdLmJvZHkpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhpZGUgYW5kIGRlc3Ryb3lzIHRoZSBiYWNrZHJvcCBjcmVhdGVkIGJ5IHNob3dCYWNrZHJvcCgpXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBmdW5jdGlvbiBoaWRlQmFja2Ryb3AoKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmJhY2tkcm9wKSBvcHRpb25zLmJhY2tkcm9wLnJlbW92ZSgpO1xuICAgICAgICBpZiAob3B0aW9ucy5kaXNhYmxlUGFyZW50U2Nyb2xsKSBvcHRpb25zLnJlc3RvcmVTY3JvbGwoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZpbmcgdGhlIG1lbnUgZWxlbWVudCBmcm9tIHRoZSBET00gYW5kIHJlbW92ZSBhbGwgYXNzb2NpYXRlZCBldmV0biBsaXN0ZW5lcnNcbiAgICAgKiBhbmQgYmFja2Ryb3BcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblJlbW92ZShzY29wZSwgZWxlbWVudCwgb3B0cykge1xuICAgICAgb3B0cy5jbGVhbnVwSW50ZXJhY3Rpb24oKTtcbiAgICAgIG9wdHMuY2xlYW51cFJlc2l6aW5nKCk7XG4gICAgICBvcHRzLmhpZGVCYWNrZHJvcCgpO1xuXG4gICAgICAvLyBGb3IgbmF2aWdhdGlvbiAkZGVzdHJveSBldmVudHMsIGRvIGEgcXVpY2ssIG5vbi1hbmltYXRlZCByZW1vdmFsLFxuICAgICAgLy8gYnV0IGZvciBub3JtYWwgY2xvc2VzIChmcm9tIGNsaWNrcywgZXRjKSBhbmltYXRlIHRoZSByZW1vdmFsXG5cbiAgICAgIHJldHVybiAob3B0cy4kZGVzdHJveSA9PT0gdHJ1ZSkgPyBkZXRhY2hBbmRDbGVhbigpIDogYW5pbWF0ZVJlbW92YWwoKS50aGVuKCBkZXRhY2hBbmRDbGVhbiApO1xuXG4gICAgICAvKipcbiAgICAgICAqIEZvciBub3JtYWwgY2xvc2VzLCBhbmltYXRlIHRoZSByZW1vdmFsLlxuICAgICAgICogRm9yIGZvcmNlZCBjbG9zZXMgKGxpa2UgJGRlc3Ryb3kgZXZlbnRzKSwgc2tpcCB0aGUgYW5pbWF0aW9uc1xuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBhbmltYXRlUmVtb3ZhbCgpIHtcbiAgICAgICAgcmV0dXJuICRhbmltYXRlQ3NzKGVsZW1lbnQsIHthZGRDbGFzczogJ21kLWxlYXZlJ30pLnN0YXJ0KCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRGV0YWNoIHRoZSBlbGVtZW50XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGRldGFjaEFuZENsZWFuKCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdtZC1hY3RpdmUnKTtcbiAgICAgICAgZGV0YWNoRWxlbWVudChlbGVtZW50LCBvcHRzKTtcbiAgICAgICAgb3B0cy5hbHJlYWR5T3BlbiA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBhbmQgY29uZmlndXJlcyB0aGUgc3RhZ2VkIE1lbnUgZWxlbWVudCBpbnRvIHRoZSBET00sIHBvc2l0aW9uaW5nIGl0LFxuICAgICAqIGFuZCB3aXJpbmcgdXAgdmFyaW91cyBpbnRlcmFjdGlvbiBldmVudHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblNob3coc2NvcGUsIGVsZW1lbnQsIG9wdHMpIHtcbiAgICAgIHNhbml0aXplQW5kQ29uZmlndXJlKG9wdHMpO1xuXG4gICAgICAvLyBXaXJlIHVwIHRoZW1pbmcgb24gb3VyIG1lbnUgZWxlbWVudFxuICAgICAgJG1kVGhlbWluZy5pbmhlcml0KG9wdHMubWVudUNvbnRlbnRFbCwgb3B0cy50YXJnZXQpO1xuXG4gICAgICAvLyBSZWdpc3RlciB2YXJpb3VzIGxpc3RlbmVycyB0byBtb3ZlIG1lbnUgb24gcmVzaXplL29yaWVudGF0aW9uIGNoYW5nZVxuICAgICAgb3B0cy5jbGVhbnVwUmVzaXppbmcgPSBzdGFydFJlcG9zaXRpb25pbmdPblJlc2l6ZSgpO1xuICAgICAgb3B0cy5oaWRlQmFja2Ryb3AgPSBzaG93QmFja2Ryb3Aoc2NvcGUsIGVsZW1lbnQsIG9wdHMpO1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIHByb21pc2UgZm9yIHdoZW4gb3VyIG1lbnUgaXMgZG9uZSBhbmltYXRpbmcgaW5cbiAgICAgIHJldHVybiBzaG93TWVudSgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgb3B0cy5hbHJlYWR5T3BlbiA9IHRydWU7XG4gICAgICAgICAgb3B0cy5jbGVhbnVwSW50ZXJhY3Rpb24gPSBhY3RpdmF0ZUludGVyYWN0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9KTtcblxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZSB0aGUgbWVudSBpbnRvIHRoZSBET00gYW5kIGNhbGwgcG9zaXRpb25pbmcgcmVsYXRlZCBmdW5jdGlvbnNcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gc2hvd01lbnUoKSB7XG4gICAgICAgIG9wdHMucGFyZW50LmFwcGVuZChlbGVtZW50KTtcbiAgICAgICAgZWxlbWVudFswXS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cbiAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgICB2YXIgcG9zaXRpb24gPSBjYWxjdWxhdGVNZW51UG9zaXRpb24oZWxlbWVudCwgb3B0cyk7XG5cbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdtZC1sZWF2ZScpO1xuXG4gICAgICAgICAgLy8gQW5pbWF0ZSB0aGUgbWVudSBzY2FsaW5nLCBhbmQgb3BhY2l0eSBbZnJvbSBpdHMgcG9zaXRpb24gb3JpZ2luIChkZWZhdWx0ID09IHRvcC1sZWZ0KV1cbiAgICAgICAgICAvLyB0byBub3JtYWwgc2NhbGUuXG4gICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICAgICAgICAgICAgYWRkQ2xhc3M6ICdtZC1hY3RpdmUnLFxuICAgICAgICAgICAgZnJvbTogYW5pbWF0b3IudG9Dc3MocG9zaXRpb24pLFxuICAgICAgICAgICAgdG86IGFuaW1hdG9yLnRvQ3NzKHt0cmFuc2Zvcm06ICcnfSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5zdGFydCgpXG4gICAgICAgICAgLnRoZW4ocmVzb2x2ZSk7XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2hlY2sgZm9yIHZhbGlkIG9wdHMgYW5kIHNldCBzb21lIHNhbmUgZGVmYXVsdHNcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gc2FuaXRpemVBbmRDb25maWd1cmUoKSB7XG4gICAgICAgIGlmICghb3B0cy50YXJnZXQpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICckbWRNZW51LnNob3coKSBleHBlY3RlZCBhIHRhcmdldCB0byBhbmltYXRlIGZyb20gaW4gb3B0aW9ucy50YXJnZXQnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBhbmd1bGFyLmV4dGVuZChvcHRzLCB7XG4gICAgICAgICAgYWxyZWFkeU9wZW46IGZhbHNlLFxuICAgICAgICAgIGlzUmVtb3ZlZDogZmFsc2UsXG4gICAgICAgICAgdGFyZ2V0OiBhbmd1bGFyLmVsZW1lbnQob3B0cy50YXJnZXQpLCAvL21ha2Ugc3VyZSBpdCdzIG5vdCBhIG5ha2VkIGRvbSBub2RlXG4gICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQob3B0cy5wYXJlbnQpLFxuICAgICAgICAgIG1lbnVDb250ZW50RWw6IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ21kLW1lbnUtY29udGVudCcpKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDb25maWd1cmUgdmFyaW91cyByZXNpemUgbGlzdGVuZXJzIGZvciBzY3JlZW4gY2hhbmdlc1xuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBzdGFydFJlcG9zaXRpb25pbmdPblJlc2l6ZSgpIHtcblxuICAgICAgICB2YXIgcmVwb3NpdGlvbk1lbnUgPSAoZnVuY3Rpb24odGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgICAgcmV0dXJuICQkckFGLnRocm90dGxlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKG9wdHMuaXNSZW1vdmVkKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBjYWxjdWxhdGVNZW51UG9zaXRpb24odGFyZ2V0LCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdGFyZ2V0LmNzcyhhbmltYXRvci50b0Nzcyhwb3NpdGlvbikpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KShlbGVtZW50LCBvcHRzKTtcblxuICAgICAgICAkd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlcG9zaXRpb25NZW51KTtcbiAgICAgICAgJHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHJlcG9zaXRpb25NZW51KTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gc3RvcFJlcG9zaXRpb25pbmdPblJlc2l6ZSgpIHtcblxuICAgICAgICAgIC8vIERpc2FibGUgcmVzaXppbmcgaGFuZGxlcnNcbiAgICAgICAgICAkd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlcG9zaXRpb25NZW51KTtcbiAgICAgICAgICAkd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgcmVwb3NpdGlvbk1lbnUpO1xuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBY3RpdmF0ZSBpbnRlcmFjdGlvbiBvbiB0aGUgbWVudS4gV2lyZSB1cCBrZXlib2FyZCBsaXN0ZXJucyBmb3JcbiAgICAgICAqIGNsaWNrcywga2V5cHJlc3NlcywgYmFja2Ryb3AgY2xvc2luZywgZXRjLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBhY3RpdmF0ZUludGVyYWN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1jbGlja2FibGUnKTtcblxuICAgICAgICAvLyBjbG9zZSBvbiBiYWNrZHJvcCBjbGlja1xuICAgICAgICBpZiAob3B0cy5iYWNrZHJvcCkgb3B0cy5iYWNrZHJvcC5vbignY2xpY2snLCBvbkJhY2tkcm9wQ2xpY2spO1xuXG4gICAgICAgIC8vIFdpcmUgdXAga2V5Ym9hcmQgbGlzdGVuZXJzLlxuICAgICAgICAvLyAtIENsb3NlIG9uIGVzY2FwZSxcbiAgICAgICAgLy8gLSBmb2N1cyBuZXh0IGl0ZW0gb24gZG93biBhcnJvdyxcbiAgICAgICAgLy8gLSBmb2N1cyBwcmV2IGl0ZW0gb24gdXBcbiAgICAgICAgb3B0cy5tZW51Q29udGVudEVsLm9uKCdrZXlkb3duJywgb25NZW51S2V5RG93bik7XG4gICAgICAgIG9wdHMubWVudUNvbnRlbnRFbFswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhcHR1cmVDbGlja0xpc3RlbmVyLCB0cnVlKTtcblxuICAgICAgICAvLyBraWNrIG9mZiBpbml0aWFsIGZvY3VzIGluIHRoZSBtZW51IG9uIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICAgIHZhciBmb2N1c1RhcmdldCA9IG9wdHMubWVudUNvbnRlbnRFbFswXS5xdWVyeVNlbGVjdG9yKCdbbWQtbWVudS1mb2N1cy10YXJnZXRdJyk7XG4gICAgICAgIGlmICggIWZvY3VzVGFyZ2V0ICkge1xuICAgICAgICAgIHZhciBmaXJzdENoaWxkID0gb3B0cy5tZW51Q29udGVudEVsWzBdLmZpcnN0RWxlbWVudENoaWxkO1xuXG4gICAgICAgICAgZm9jdXNUYXJnZXQgPSBmaXJzdENoaWxkICYmIChmaXJzdENoaWxkLnF1ZXJ5U2VsZWN0b3IoJy5tZC1idXR0b246bm90KFtkaXNhYmxlZF0pJykgfHwgZmlyc3RDaGlsZC5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb2N1c1RhcmdldCAmJiBmb2N1c1RhcmdldC5mb2N1cygpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwSW50ZXJhY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtY2xpY2thYmxlJyk7XG4gICAgICAgICAgaWYgKG9wdHMuYmFja2Ryb3ApIG9wdHMuYmFja2Ryb3Aub2ZmKCdjbGljaycsIG9uQmFja2Ryb3BDbGljayk7XG4gICAgICAgICAgb3B0cy5tZW51Q29udGVudEVsLm9mZigna2V5ZG93bicsIG9uTWVudUtleURvd24pO1xuICAgICAgICAgIG9wdHMubWVudUNvbnRlbnRFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNhcHR1cmVDbGlja0xpc3RlbmVyLCB0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgLy8gaW50ZXJuYWwgZnVuY3Rpb25zXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gICAgICAgIGZ1bmN0aW9uIG9uTWVudUtleURvd24oZXYpIHtcbiAgICAgICAgICB2YXIgaGFuZGxlZDtcbiAgICAgICAgICBzd2l0Y2ggKGV2LmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuRVNDQVBFOlxuICAgICAgICAgICAgICBvcHRzLm1kTWVudUN0cmwuY2xvc2UoZmFsc2UsIHsgY2xvc2VBbGw6IHRydWUgfSk7XG4gICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuVVBfQVJST1c6XG4gICAgICAgICAgICAgIGlmICghZm9jdXNNZW51SXRlbShldiwgb3B0cy5tZW51Q29udGVudEVsLCBvcHRzLCAtMSkgJiYgIW9wdHMubmVzdExldmVsKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5tZE1lbnVDdHJsLnRyaWdnZXJDb250YWluZXJQcm94eShldik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5ET1dOX0FSUk9XOlxuICAgICAgICAgICAgICBpZiAoIWZvY3VzTWVudUl0ZW0oZXYsIG9wdHMubWVudUNvbnRlbnRFbCwgb3B0cywgMSkgJiYgIW9wdHMubmVzdExldmVsKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5tZE1lbnVDdHJsLnRyaWdnZXJDb250YWluZXJQcm94eShldik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5MRUZUX0FSUk9XOlxuICAgICAgICAgICAgICBpZiAob3B0cy5uZXN0TGV2ZWwpIHtcbiAgICAgICAgICAgICAgICBvcHRzLm1kTWVudUN0cmwuY2xvc2UoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRzLm1kTWVudUN0cmwudHJpZ2dlckNvbnRhaW5lclByb3h5KGV2KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLlJJR0hUX0FSUk9XOlxuICAgICAgICAgICAgICB2YXIgcGFyZW50TWVudSA9ICRtZFV0aWwuZ2V0Q2xvc2VzdChldi50YXJnZXQsICdNRC1NRU5VJyk7XG4gICAgICAgICAgICAgIGlmIChwYXJlbnRNZW51ICYmIHBhcmVudE1lbnUgIT0gb3B0cy5wYXJlbnRbMF0pIHtcbiAgICAgICAgICAgICAgICBldi50YXJnZXQuY2xpY2soKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRzLm1kTWVudUN0cmwudHJpZ2dlckNvbnRhaW5lclByb3h5KGV2KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYW5kbGVkKSB7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25CYWNrZHJvcENsaWNrKGUpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBvcHRzLm1kTWVudUN0cmwuY2xvc2UodHJ1ZSwgeyBjbG9zZUFsbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsb3NlIG1lbnUgb24gbWVudSBpdGVtIGNsaWNrLCBpZiBzYWlkIG1lbnUtaXRlbSBpcyBub3QgZGlzYWJsZWRcbiAgICAgICAgZnVuY3Rpb24gY2FwdHVyZUNsaWNrTGlzdGVuZXIoZSkge1xuICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAvLyBUcmF2ZXJzZSB1cCB0aGUgZXZlbnQgdW50aWwgd2UgZ2V0IHRvIHRoZSBtZW51Q29udGVudEVsIHRvIHNlZSBpZlxuICAgICAgICAgIC8vIHRoZXJlIGlzIGFuIG5nLWNsaWNrIGFuZCB0aGF0IHRoZSBuZy1jbGljayBpcyBub3QgZGlzYWJsZWRcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09IG9wdHMubWVudUNvbnRlbnRFbFswXSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKChoYXNBbnlBdHRyaWJ1dGUodGFyZ2V0LCBbJ25nLWNsaWNrJywgJ25nLWhyZWYnLCAndWktc3JlZiddKSB8fFxuICAgICAgICAgICAgICAgIHRhcmdldC5ub2RlTmFtZSA9PSAnQlVUVE9OJyB8fCB0YXJnZXQubm9kZU5hbWUgPT0gJ01ELUJVVFRPTicpICYmICFoYXNBbnlBdHRyaWJ1dGUodGFyZ2V0LCBbJ21kLXByZXZlbnQtbWVudS1jbG9zZSddKSkge1xuICAgICAgICAgICAgICB2YXIgY2xvc2VzdE1lbnUgPSAkbWRVdGlsLmdldENsb3Nlc3QodGFyZ2V0LCAnTUQtTUVOVScpO1xuICAgICAgICAgICAgICBpZiAoIXRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgKCFjbG9zZXN0TWVudSB8fCBjbG9zZXN0TWVudSA9PSBvcHRzLnBhcmVudFswXSkpIHtcbiAgICAgICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlKVxuXG4gICAgICAgICAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIG9wdHMubWRNZW51Q3RybC5jbG9zZSh0cnVlLCB7IGNsb3NlQWxsOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gaGFzQW55QXR0cmlidXRlKHRhcmdldCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgYXR0cjsgYXR0ciA9IGF0dHJzW2ldOyArK2kpIHtcbiAgICAgICAgICAgICAgdmFyIGFsdEZvcm1zID0gW2F0dHIsICdkYXRhLScgKyBhdHRyLCAneC0nICsgYXR0cl07XG4gICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCByYXdBdHRyOyByYXdBdHRyID0gYWx0Rm9ybXNbal07ICsraikge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzQXR0cmlidXRlKHJhd0F0dHIpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvcHRzLm1lbnVDb250ZW50RWxbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYXB0dXJlQ2xpY2tMaXN0ZW5lciwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXBJbnRlcmFjdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdtZC1jbGlja2FibGUnKTtcbiAgICAgICAgICBvcHRzLm1lbnVDb250ZW50RWwub2ZmKCdrZXlkb3duJyk7XG4gICAgICAgICAgb3B0cy5tZW51Q29udGVudEVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FwdHVyZUNsaWNrTGlzdGVuZXIsIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEga2V5cHJlc3MgZXZlbnQgYW5kIGZvY3VzZXMgdGhlIG5leHQvcHJldmlvdXMgbWVudVxuICAgICAqIGl0ZW0gZnJvbSB0aGUgZW1pdHRpbmcgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7ZXZlbnR9IGUgLSBUaGUgb3JpZ2luIGtleXByZXNzIGV2ZW50XG4gICAgICogQHBhcmFtIHthbmd1bGFyLmVsZW1lbnR9IG1lbnVFbCAtIFRoZSBtZW51IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0cyAtIFRoZSBpbnRlcmltIGVsZW1lbnQgb3B0aW9ucyBmb3IgdGhlIG1kTWVudVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gLSBUaGUgZGlyZWN0aW9uIHRvIG1vdmUgaW4gKCsxID0gbmV4dCwgLTEgPSBwcmV2KVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvY3VzTWVudUl0ZW0oZSwgbWVudUVsLCBvcHRzLCBkaXJlY3Rpb24pIHtcbiAgICAgIHZhciBjdXJyZW50SXRlbSA9ICRtZFV0aWwuZ2V0Q2xvc2VzdChlLnRhcmdldCwgJ01ELU1FTlUtSVRFTScpO1xuXG4gICAgICB2YXIgaXRlbXMgPSAkbWRVdGlsLm5vZGVzVG9BcnJheShtZW51RWxbMF0uY2hpbGRyZW4pO1xuICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGl0ZW1zLmluZGV4T2YoY3VycmVudEl0ZW0pO1xuXG4gICAgICAvLyBUcmF2ZXJzZSB0aHJvdWdoIG91ciBlbGVtZW50cyBpbiB0aGUgc3BlY2lmaWVkIGRpcmVjdGlvbiAoKy8tMSkgYW5kIHRyeSB0b1xuICAgICAgLy8gZm9jdXMgdGhlbSB1bnRpbCB3ZSBmaW5kIG9uZSB0aGF0IGFjY2VwdHMgZm9jdXNcbiAgICAgIHZhciBkaWRGb2N1cztcbiAgICAgIGZvciAodmFyIGkgPSBjdXJyZW50SW5kZXggKyBkaXJlY3Rpb247IGkgPj0gMCAmJiBpIDwgaXRlbXMubGVuZ3RoOyBpID0gaSArIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgZm9jdXNUYXJnZXQgPSBpdGVtc1tpXS5xdWVyeVNlbGVjdG9yKCcubWQtYnV0dG9uJyk7XG4gICAgICAgIGRpZEZvY3VzID0gYXR0ZW1wdEZvY3VzKGZvY3VzVGFyZ2V0KTtcbiAgICAgICAgaWYgKGRpZEZvY3VzKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkaWRGb2N1cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBmb2N1cyBhbiBlbGVtZW50LiBDaGVja3Mgd2hldGhlciB0aGF0IGVsZW1lbnQgaXMgdGhlIGN1cnJlbnRseVxuICAgICAqIGZvY3VzZWQgZWxlbWVudCBhZnRlciBhdHRlbXB0aW5nLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIC0gdGhlIGVsZW1lbnQgdG8gYXR0ZW1wdCBmb2N1cyBvblxuICAgICAqIEByZXR1cm5zIHtib29sfSAtIHdoZXRoZXIgdGhlIGVsZW1lbnQgd2FzIHN1Y2Nlc3NmdWxseSBmb2N1c2VkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXR0ZW1wdEZvY3VzKGVsKSB7XG4gICAgICBpZiAoZWwgJiYgZWwuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpICE9IC0xKSB7XG4gICAgICAgIGVsLmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAoJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQgPT0gZWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBicm93c2VyIHRvIHJlbW92ZSB0aGlzIGVsZW1lbnQgd2l0aG91dCB0cmlnZ2VyaW5nIGEgJGRlc3Ryb3kgZXZlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZXRhY2hFbGVtZW50KGVsZW1lbnQsIG9wdHMpIHtcbiAgICAgIGlmICghb3B0cy5wcmVzZXJ2ZUVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRvTm9kZShlbGVtZW50KS5wYXJlbnROb2RlID09PSB0b05vZGUob3B0cy5wYXJlbnQpKSB7XG4gICAgICAgICAgdG9Ob2RlKG9wdHMucGFyZW50KS5yZW1vdmVDaGlsZCh0b05vZGUoZWxlbWVudCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b05vZGUoZWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBtZW51IHBvc2l0aW9uIGFuZCBzZXRzIHRoZSBzdHlsZSBvbiB0aGUgbWVudSBjb250YWluZXJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIHRoZSBtZW51IGNvbnRhaW5lciBlbGVtZW50XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgLSB0aGUgaW50ZXJpbSBlbGVtZW50IG9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlTWVudVBvc2l0aW9uKGVsLCBvcHRzKSB7XG5cbiAgICAgIHZhciBjb250YWluZXJOb2RlID0gZWxbMF0sXG4gICAgICAgIG9wZW5NZW51Tm9kZSA9IGVsWzBdLmZpcnN0RWxlbWVudENoaWxkLFxuICAgICAgICBvcGVuTWVudU5vZGVSZWN0ID0gb3Blbk1lbnVOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBib3VuZHJ5Tm9kZSA9ICRkb2N1bWVudFswXS5ib2R5LFxuICAgICAgICBib3VuZHJ5Tm9kZVJlY3QgPSBib3VuZHJ5Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgdmFyIG1lbnVTdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShvcGVuTWVudU5vZGUpO1xuXG4gICAgICB2YXIgb3JpZ2luTm9kZSA9IG9wdHMudGFyZ2V0WzBdLnF1ZXJ5U2VsZWN0b3IoJ1ttZC1tZW51LW9yaWdpbl0nKSB8fCBvcHRzLnRhcmdldFswXSxcbiAgICAgICAgb3JpZ2luTm9kZVJlY3QgPSBvcmlnaW5Ob2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICB2YXIgYm91bmRzID0ge1xuICAgICAgICBsZWZ0OiBib3VuZHJ5Tm9kZVJlY3QubGVmdCArIE1FTlVfRURHRV9NQVJHSU4sXG4gICAgICAgIHRvcDogTWF0aC5tYXgoYm91bmRyeU5vZGVSZWN0LnRvcCwgMCkgKyBNRU5VX0VER0VfTUFSR0lOLFxuICAgICAgICBib3R0b206IE1hdGgubWF4KGJvdW5kcnlOb2RlUmVjdC5ib3R0b20sIE1hdGgubWF4KGJvdW5kcnlOb2RlUmVjdC50b3AsIDApICsgYm91bmRyeU5vZGVSZWN0LmhlaWdodCkgLSBNRU5VX0VER0VfTUFSR0lOLFxuICAgICAgICByaWdodDogYm91bmRyeU5vZGVSZWN0LnJpZ2h0IC0gTUVOVV9FREdFX01BUkdJTlxuICAgICAgfTtcblxuICAgICAgdmFyIGFsaWduVGFyZ2V0LCBhbGlnblRhcmdldFJlY3QgPSB7IHRvcDowLCBsZWZ0IDogMCwgcmlnaHQ6MCwgYm90dG9tOjAgfSwgZXhpc3RpbmdPZmZzZXRzICA9IHsgdG9wOjAsIGxlZnQgOiAwLCByaWdodDowLCBib3R0b206MCAgfTtcbiAgICAgIHZhciBwb3NpdGlvbk1vZGUgPSBvcHRzLm1kTWVudUN0cmwucG9zaXRpb25Nb2RlKCk7XG5cbiAgICAgIGlmIChwb3NpdGlvbk1vZGUudG9wID09ICd0YXJnZXQnIHx8IHBvc2l0aW9uTW9kZS5sZWZ0ID09ICd0YXJnZXQnIHx8IHBvc2l0aW9uTW9kZS5sZWZ0ID09ICd0YXJnZXQtcmlnaHQnKSB7XG4gICAgICAgIGFsaWduVGFyZ2V0ID0gZmlyc3RWaXNpYmxlQ2hpbGQoKTtcbiAgICAgICAgaWYgKCBhbGlnblRhcmdldCApIHtcbiAgICAgICAgICAvLyBUT0RPOiBBbGxvdyBjZW50ZXJpbmcgb24gYW4gYXJiaXRyYXJ5IG5vZGUsIGZvciBub3cgY2VudGVyIG9uIGZpcnN0IG1lbnUtaXRlbSdzIGNoaWxkXG4gICAgICAgICAgYWxpZ25UYXJnZXQgPSBhbGlnblRhcmdldC5maXJzdEVsZW1lbnRDaGlsZCB8fCBhbGlnblRhcmdldDtcbiAgICAgICAgICBhbGlnblRhcmdldCA9IGFsaWduVGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ1ttZC1tZW51LWFsaWduLXRhcmdldF0nKSB8fCBhbGlnblRhcmdldDtcbiAgICAgICAgICBhbGlnblRhcmdldFJlY3QgPSBhbGlnblRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgIGV4aXN0aW5nT2Zmc2V0cyA9IHtcbiAgICAgICAgICAgIHRvcDogcGFyc2VGbG9hdChjb250YWluZXJOb2RlLnN0eWxlLnRvcCB8fCAwKSxcbiAgICAgICAgICAgIGxlZnQ6IHBhcnNlRmxvYXQoY29udGFpbmVyTm9kZS5zdHlsZS5sZWZ0IHx8IDApXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgcG9zaXRpb24gPSB7fTtcbiAgICAgIHZhciB0cmFuc2Zvcm1PcmlnaW4gPSAndG9wICc7XG5cbiAgICAgIHN3aXRjaCAocG9zaXRpb25Nb2RlLnRvcCkge1xuICAgICAgICBjYXNlICd0YXJnZXQnOlxuICAgICAgICAgIHBvc2l0aW9uLnRvcCA9IGV4aXN0aW5nT2Zmc2V0cy50b3AgKyBvcmlnaW5Ob2RlUmVjdC50b3AgLSBhbGlnblRhcmdldFJlY3QudG9wO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjYXNjYWRlJzpcbiAgICAgICAgICBwb3NpdGlvbi50b3AgPSBvcmlnaW5Ob2RlUmVjdC50b3AgLSBwYXJzZUZsb2F0KG1lbnVTdHlsZS5wYWRkaW5nVG9wKSAtIG9yaWdpbk5vZGUuc3R5bGUudG9wO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgIHBvc2l0aW9uLnRvcCA9IG9yaWdpbk5vZGVSZWN0LnRvcCArIG9yaWdpbk5vZGVSZWN0LmhlaWdodDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFyZ2V0IG1vZGUgXCInICsgcG9zaXRpb25Nb2RlLnRvcCArICdcIiBzcGVjaWZpZWQgZm9yIG1kLW1lbnUgb24gWSBheGlzLicpO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHBvc2l0aW9uTW9kZS5sZWZ0KSB7XG4gICAgICAgIGNhc2UgJ3RhcmdldCc6XG4gICAgICAgICAgcG9zaXRpb24ubGVmdCA9IGV4aXN0aW5nT2Zmc2V0cy5sZWZ0ICsgb3JpZ2luTm9kZVJlY3QubGVmdCAtIGFsaWduVGFyZ2V0UmVjdC5sZWZ0O1xuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbiArPSAnbGVmdCc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RhcmdldC1yaWdodCc6XG4gICAgICAgICAgcG9zaXRpb24ubGVmdCA9IG9yaWdpbk5vZGVSZWN0LnJpZ2h0IC0gb3Blbk1lbnVOb2RlUmVjdC53aWR0aCArIChvcGVuTWVudU5vZGVSZWN0LnJpZ2h0IC0gYWxpZ25UYXJnZXRSZWN0LnJpZ2h0KTtcbiAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW4gKz0gJ3JpZ2h0JztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2FzY2FkZSc6XG4gICAgICAgICAgdmFyIHdpbGxGaXRSaWdodCA9IChvcmlnaW5Ob2RlUmVjdC5yaWdodCArIG9wZW5NZW51Tm9kZVJlY3Qud2lkdGgpIDwgYm91bmRzLnJpZ2h0O1xuICAgICAgICAgIHBvc2l0aW9uLmxlZnQgPSB3aWxsRml0UmlnaHQgPyBvcmlnaW5Ob2RlUmVjdC5yaWdodCAtIG9yaWdpbk5vZGUuc3R5bGUubGVmdCA6IG9yaWdpbk5vZGVSZWN0LmxlZnQgLSBvcmlnaW5Ob2RlLnN0eWxlLmxlZnQgLSBvcGVuTWVudU5vZGVSZWN0LndpZHRoO1xuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbiArPSB3aWxsRml0UmlnaHQgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICBwb3NpdGlvbi5sZWZ0ID0gb3JpZ2luTm9kZVJlY3QubGVmdDtcbiAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW4gKz0gJ2xlZnQnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YXJnZXQgbW9kZSBcIicgKyBwb3NpdGlvbk1vZGUubGVmdCArICdcIiBzcGVjaWZpZWQgZm9yIG1kLW1lbnUgb24gWCBheGlzLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2Zmc2V0cyA9IG9wdHMubWRNZW51Q3RybC5vZmZzZXRzKCk7XG4gICAgICBwb3NpdGlvbi50b3AgKz0gb2Zmc2V0cy50b3A7XG4gICAgICBwb3NpdGlvbi5sZWZ0ICs9IG9mZnNldHMubGVmdDtcblxuICAgICAgY2xhbXAocG9zaXRpb24pO1xuXG4gICAgICB2YXIgc2NhbGVYID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLm1pbihvcmlnaW5Ob2RlUmVjdC53aWR0aCAvIGNvbnRhaW5lck5vZGUub2Zmc2V0V2lkdGgsIDEuMCkpIC8gMTAwO1xuICAgICAgdmFyIHNjYWxlWSA9IE1hdGgucm91bmQoMTAwICogTWF0aC5taW4ob3JpZ2luTm9kZVJlY3QuaGVpZ2h0IC8gY29udGFpbmVyTm9kZS5vZmZzZXRIZWlnaHQsIDEuMCkpIC8gMTAwO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IE1hdGgucm91bmQocG9zaXRpb24udG9wKSxcbiAgICAgICAgbGVmdDogTWF0aC5yb3VuZChwb3NpdGlvbi5sZWZ0KSxcbiAgICAgICAgLy8gQW5pbWF0ZSBhIHNjYWxlIG91dCBpZiB3ZSBhcmVuJ3QganVzdCByZXBvc2l0aW9uaW5nXG4gICAgICAgIHRyYW5zZm9ybTogIW9wdHMuYWxyZWFkeU9wZW4gPyAkbWRVdGlsLnN1cHBsYW50KCdzY2FsZSh7MH0sezF9KScsIFtzY2FsZVgsIHNjYWxlWV0pIDogdW5kZWZpbmVkLFxuICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IHRyYW5zZm9ybU9yaWdpblxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBDbGFtcHMgdGhlIHJlcG9zaXRpb25pbmcgb2YgdGhlIG1lbnUgd2l0aGluIHRoZSBjb25maW5lcyBvZlxuICAgICAgICogYm91bmRpbmcgZWxlbWVudCAob2Z0ZW4gdGhlIHNjcmVlbi9ib2R5KVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBjbGFtcChwb3MpIHtcbiAgICAgICAgcG9zLnRvcCA9IE1hdGgubWF4KE1hdGgubWluKHBvcy50b3AsIGJvdW5kcy5ib3R0b20gLSBjb250YWluZXJOb2RlLm9mZnNldEhlaWdodCksIGJvdW5kcy50b3ApO1xuICAgICAgICBwb3MubGVmdCA9IE1hdGgubWF4KE1hdGgubWluKHBvcy5sZWZ0LCBib3VuZHMucmlnaHQgLSBjb250YWluZXJOb2RlLm9mZnNldFdpZHRoKSwgYm91bmRzLmxlZnQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldHMgdGhlIGZpcnN0IHZpc2libGUgY2hpbGQgaW4gdGhlIG9wZW5NZW51Tm9kZVxuICAgICAgICogTmVjZXNzYXJ5IGluY2FzZSBtZW51IG5vZGVzIGFyZSBiZWluZyBkeW5hbWljYWxseSBoaWRkZW5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZmlyc3RWaXNpYmxlQ2hpbGQoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3Blbk1lbnVOb2RlLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgaWYgKCR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShvcGVuTWVudU5vZGUuY2hpbGRyZW5baV0pLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gb3Blbk1lbnVOb2RlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0b05vZGUoZWwpIHtcbiAgICBpZiAoZWwgaW5zdGFuY2VvZiBhbmd1bGFyLmVsZW1lbnQpIHtcbiAgICAgIGVsID0gZWxbMF07XG4gICAgfVxuICAgIHJldHVybiBlbDtcbiAgfVxufVxuTWVudVByb3ZpZGVyLiRpbmplY3QgPSBbXCIkJGludGVyaW1FbGVtZW50UHJvdmlkZXJcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5tZW51QmFyJylcbiAgLmNvbnRyb2xsZXIoJ01lbnVCYXJDb250cm9sbGVyJywgTWVudUJhckNvbnRyb2xsZXIpO1xuXG52YXIgQk9VTkRfTUVOVV9NRVRIT0RTID0gWydoYW5kbGVLZXlEb3duJywgJ2hhbmRsZU1lbnVIb3ZlcicsICdzY2hlZHVsZU9wZW5Ib3ZlcmVkTWVudScsICdjYW5jZWxTY2hlZHVsZWRPcGVuJ107XG5cbi8qKlxuICogQG5nSW5qZWN0XG4gKi9cbmZ1bmN0aW9uIE1lbnVCYXJDb250cm9sbGVyKCRzY29wZSwgJHJvb3RTY29wZSwgJGVsZW1lbnQsICRhdHRycywgJG1kQ29uc3RhbnQsICRkb2N1bWVudCwgJG1kVXRpbCwgJHRpbWVvdXQpIHtcbiAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICB0aGlzLiRhdHRycyA9ICRhdHRycztcbiAgdGhpcy4kbWRDb25zdGFudCA9ICRtZENvbnN0YW50O1xuICB0aGlzLiRtZFV0aWwgPSAkbWRVdGlsO1xuICB0aGlzLiRkb2N1bWVudCA9ICRkb2N1bWVudDtcbiAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XG4gIHRoaXMuJHJvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gIHRoaXMuJHRpbWVvdXQgPSAkdGltZW91dDtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGFuZ3VsYXIuZm9yRWFjaChCT1VORF9NRU5VX01FVEhPRFMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICBzZWxmW21ldGhvZE5hbWVdID0gYW5ndWxhci5iaW5kKHNlbGYsIHNlbGZbbWV0aG9kTmFtZV0pO1xuICB9KTtcbn1cbk1lbnVCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkYXR0cnNcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRkb2N1bWVudFwiLCBcIiRtZFV0aWxcIiwgXCIkdGltZW91dFwiXTtcblxuTWVudUJhckNvbnRyb2xsZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyICRlbGVtZW50ID0gdGhpcy4kZWxlbWVudDtcbiAgdmFyICRtZFV0aWwgPSB0aGlzLiRtZFV0aWw7XG4gIHZhciAkc2NvcGUgPSB0aGlzLiRzY29wZTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBkZXJlZ2lzdGVyRm5zID0gW107XG4gICRlbGVtZW50Lm9uKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgdGhpcy5wYXJlbnRUb29sYmFyID0gJG1kVXRpbC5nZXRDbG9zZXN0KCRlbGVtZW50LCAnTUQtVE9PTEJBUicpO1xuXG4gIGRlcmVnaXN0ZXJGbnMucHVzaCh0aGlzLiRyb290U2NvcGUuJG9uKCckbWRNZW51T3BlbicsIGZ1bmN0aW9uKGV2ZW50LCBlbCkge1xuICAgIGlmIChzZWxmLmdldE1lbnVzKCkuaW5kZXhPZihlbFswXSkgIT0gLTEpIHtcbiAgICAgICRlbGVtZW50WzBdLmNsYXNzTGlzdC5hZGQoJ21kLW9wZW4nKTtcbiAgICAgIGVsWzBdLmNsYXNzTGlzdC5hZGQoJ21kLW9wZW4nKTtcbiAgICAgIHNlbGYuY3VycmVudGx5T3Blbk1lbnUgPSBlbC5jb250cm9sbGVyKCdtZE1lbnUnKTtcbiAgICAgIHNlbGYuY3VycmVudGx5T3Blbk1lbnUucmVnaXN0ZXJDb250YWluZXJQcm94eShzZWxmLmhhbmRsZUtleURvd24pO1xuICAgICAgc2VsZi5lbmFibGVPcGVuT25Ib3ZlcigpO1xuICAgIH1cbiAgfSkpO1xuXG4gIGRlcmVnaXN0ZXJGbnMucHVzaCh0aGlzLiRyb290U2NvcGUuJG9uKCckbWRNZW51Q2xvc2UnLCBmdW5jdGlvbihldmVudCwgZWwsIG9wdHMpIHtcbiAgICB2YXIgcm9vdE1lbnVzID0gc2VsZi5nZXRNZW51cygpO1xuICAgIGlmIChyb290TWVudXMuaW5kZXhPZihlbFswXSkgIT0gLTEpIHtcbiAgICAgICRlbGVtZW50WzBdLmNsYXNzTGlzdC5yZW1vdmUoJ21kLW9wZW4nKTtcbiAgICAgIGVsWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ21kLW9wZW4nKTtcbiAgICB9XG5cbiAgICBpZiAoJGVsZW1lbnRbMF0uY29udGFpbnMoZWxbMF0pKSB7XG4gICAgICB2YXIgcGFyZW50TWVudSA9IGVsWzBdO1xuICAgICAgd2hpbGUgKHBhcmVudE1lbnUgJiYgcm9vdE1lbnVzLmluZGV4T2YocGFyZW50TWVudSkgPT0gLTEpIHtcbiAgICAgICAgcGFyZW50TWVudSA9ICRtZFV0aWwuZ2V0Q2xvc2VzdChwYXJlbnRNZW51LCAnTUQtTUVOVScsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudE1lbnUpIHtcbiAgICAgICAgaWYgKCFvcHRzLnNraXBGb2N1cykgcGFyZW50TWVudS5xdWVyeVNlbGVjdG9yKCdidXR0b246bm90KFtkaXNhYmxlZF0pJykuZm9jdXMoKTtcbiAgICAgICAgc2VsZi5jdXJyZW50bHlPcGVuTWVudSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc2VsZi5kaXNhYmxlT3Blbk9uSG92ZXIoKTtcbiAgICAgICAgc2VsZi5zZXRLZXlib2FyZE1vZGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9KSk7XG5cbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICB3aGlsZSAoZGVyZWdpc3RlckZucy5sZW5ndGgpIHtcbiAgICAgIGRlcmVnaXN0ZXJGbnMuc2hpZnQoKSgpO1xuICAgIH1cbiAgfSk7XG5cblxuICB0aGlzLnNldEtleWJvYXJkTW9kZSh0cnVlKTtcbn07XG5cbk1lbnVCYXJDb250cm9sbGVyLnByb3RvdHlwZS5zZXRLZXlib2FyZE1vZGUgPSBmdW5jdGlvbihlbmFibGVkKSB7XG4gIGlmIChlbmFibGVkKSB0aGlzLiRlbGVtZW50WzBdLmNsYXNzTGlzdC5hZGQoJ21kLWtleWJvYXJkLW1vZGUnKTtcbiAgZWxzZSB0aGlzLiRlbGVtZW50WzBdLmNsYXNzTGlzdC5yZW1vdmUoJ21kLWtleWJvYXJkLW1vZGUnKTtcbn07XG5cbk1lbnVCYXJDb250cm9sbGVyLnByb3RvdHlwZS5lbmFibGVPcGVuT25Ib3ZlciA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5vcGVuT25Ib3ZlckVuYWJsZWQpIHJldHVybjtcbiAgdGhpcy5vcGVuT25Ib3ZlckVuYWJsZWQgPSB0cnVlO1xuXG4gIHZhciBwYXJlbnRUb29sYmFyO1xuICBpZiAocGFyZW50VG9vbGJhciA9IHRoaXMucGFyZW50VG9vbGJhcikge1xuICAgIHBhcmVudFRvb2xiYXIuZGF0YXNldC5tZFJlc3RvcmVTdHlsZSA9IHBhcmVudFRvb2xiYXIuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgIHBhcmVudFRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHBhcmVudFRvb2xiYXIuc3R5bGUuekluZGV4ID0gMTAwO1xuICB9XG4gIGFuZ3VsYXJcbiAgICAuZWxlbWVudCh0aGlzLmdldE1lbnVzKCkpXG4gICAgLm9uKCdtb3VzZWVudGVyJywgdGhpcy5oYW5kbGVNZW51SG92ZXIpO1xufTtcblxuTWVudUJhckNvbnRyb2xsZXIucHJvdG90eXBlLmhhbmRsZU1lbnVIb3ZlciA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhpcy5zZXRLZXlib2FyZE1vZGUoZmFsc2UpO1xuICBpZiAodGhpcy5vcGVuT25Ib3ZlckVuYWJsZWQpIHtcbiAgICB0aGlzLnNjaGVkdWxlT3BlbkhvdmVyZWRNZW51KGUpO1xuICB9XG59O1xuXG5cbk1lbnVCYXJDb250cm9sbGVyLnByb3RvdHlwZS5kaXNhYmxlT3Blbk9uSG92ZXIgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLm9wZW5PbkhvdmVyRW5hYmxlZCkgcmV0dXJuO1xuICB0aGlzLm9wZW5PbkhvdmVyRW5hYmxlZCA9IGZhbHNlO1xuICB2YXIgcGFyZW50VG9vbGJhcjtcbiAgaWYgKHBhcmVudFRvb2xiYXIgPSB0aGlzLnBhcmVudFRvb2xiYXIpIHtcbiAgICBwYXJlbnRUb29sYmFyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBwYXJlbnRUb29sYmFyLmRhdGFzZXQubWRSZXN0b3JlU3R5bGUgfHwgJycpO1xuICB9XG4gIGFuZ3VsYXJcbiAgICAuZWxlbWVudCh0aGlzLmdldE1lbnVzKCkpXG4gICAgLm9mZignbW91c2VlbnRlcicsIHRoaXMuaGFuZGxlTWVudUhvdmVyKTtcbn07XG5cbk1lbnVCYXJDb250cm9sbGVyLnByb3RvdHlwZS5zY2hlZHVsZU9wZW5Ib3ZlcmVkTWVudSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIG1lbnVFbCA9IGFuZ3VsYXIuZWxlbWVudChlLmN1cnJlbnRUYXJnZXQpO1xuICB2YXIgbWVudUN0cmwgPSBtZW51RWwuY29udHJvbGxlcignbWRNZW51Jyk7XG4gIHRoaXMuc2V0S2V5Ym9hcmRNb2RlKGZhbHNlKTtcbiAgdGhpcy5zY2hlZHVsZU9wZW5NZW51KG1lbnVDdHJsKTtcbn07XG5cbk1lbnVCYXJDb250cm9sbGVyLnByb3RvdHlwZS5zY2hlZHVsZU9wZW5NZW51ID0gZnVuY3Rpb24obWVudUN0cmwpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgJHRpbWVvdXQgPSB0aGlzLiR0aW1lb3V0O1xuICBpZiAobWVudUN0cmwgIT0gc2VsZi5jdXJyZW50bHlPcGVuTWVudSkge1xuICAgICR0aW1lb3V0LmNhbmNlbChzZWxmLnBlbmRpbmdNZW51T3Blbik7XG4gICAgc2VsZi5wZW5kaW5nTWVudU9wZW4gPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYucGVuZGluZ01lbnVPcGVuID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKHNlbGYuY3VycmVudGx5T3Blbk1lbnUpIHtcbiAgICAgICAgc2VsZi5jdXJyZW50bHlPcGVuTWVudS5jbG9zZSh0cnVlLCB7IGNsb3NlQWxsOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgbWVudUN0cmwub3BlbigpO1xuICAgIH0sIDIwMCwgZmFsc2UpO1xuICB9XG59O1xuXG5NZW51QmFyQ29udHJvbGxlci5wcm90b3R5cGUuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIGtleUNvZGVzID0gdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERTtcbiAgdmFyIGN1cnJlbnRNZW51ID0gdGhpcy5jdXJyZW50bHlPcGVuTWVudTtcbiAgdmFyIHdhc09wZW4gPSBjdXJyZW50TWVudSAmJiBjdXJyZW50TWVudS5pc09wZW47XG4gIHRoaXMuc2V0S2V5Ym9hcmRNb2RlKHRydWUpO1xuICB2YXIgaGFuZGxlZCwgbmV3TWVudSwgbmV3TWVudUN0cmw7XG4gIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgY2FzZSBrZXlDb2Rlcy5ET1dOX0FSUk9XOlxuICAgICAgaWYgKGN1cnJlbnRNZW51KSB7XG4gICAgICAgIGN1cnJlbnRNZW51LmZvY3VzTWVudUNvbnRhaW5lcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGVuRm9jdXNlZE1lbnUoKTtcbiAgICAgIH1cbiAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBrZXlDb2Rlcy5VUF9BUlJPVzpcbiAgICAgIGN1cnJlbnRNZW51ICYmIGN1cnJlbnRNZW51LmNsb3NlKCk7XG4gICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2Uga2V5Q29kZXMuTEVGVF9BUlJPVzpcbiAgICAgIG5ld01lbnUgPSB0aGlzLmZvY3VzTWVudSgtMSk7XG4gICAgICBpZiAod2FzT3Blbikge1xuICAgICAgICBuZXdNZW51Q3RybCA9IGFuZ3VsYXIuZWxlbWVudChuZXdNZW51KS5jb250cm9sbGVyKCdtZE1lbnUnKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9wZW5NZW51KG5ld01lbnVDdHJsKTtcbiAgICAgIH1cbiAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBrZXlDb2Rlcy5SSUdIVF9BUlJPVzpcbiAgICAgIG5ld01lbnUgPSB0aGlzLmZvY3VzTWVudSgrMSk7XG4gICAgICBpZiAod2FzT3Blbikge1xuICAgICAgICBuZXdNZW51Q3RybCA9IGFuZ3VsYXIuZWxlbWVudChuZXdNZW51KS5jb250cm9sbGVyKCdtZE1lbnUnKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9wZW5NZW51KG5ld01lbnVDdHJsKTtcbiAgICAgIH1cbiAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgaWYgKGhhbmRsZWQpIHtcbiAgICBlICYmIGUucHJldmVudERlZmF1bHQgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUgJiYgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gJiYgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgfVxufTtcblxuTWVudUJhckNvbnRyb2xsZXIucHJvdG90eXBlLmZvY3VzTWVudSA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICB2YXIgbWVudXMgPSB0aGlzLmdldE1lbnVzKCk7XG4gIHZhciBmb2N1c2VkSW5kZXggPSB0aGlzLmdldEZvY3VzZWRNZW51SW5kZXgoKTtcblxuICBpZiAoZm9jdXNlZEluZGV4ID09IC0xKSB7IGZvY3VzZWRJbmRleCA9IHRoaXMuZ2V0T3Blbk1lbnVJbmRleCgpOyB9XG5cbiAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcblxuICBpZiAoZm9jdXNlZEluZGV4ID09IC0xKSB7IGZvY3VzZWRJbmRleCA9IDA7IH1cbiAgZWxzZSBpZiAoXG4gICAgZGlyZWN0aW9uIDwgMCAmJiBmb2N1c2VkSW5kZXggPiAwIHx8XG4gICAgZGlyZWN0aW9uID4gMCAmJiBmb2N1c2VkSW5kZXggPCBtZW51cy5sZW5ndGggLSBkaXJlY3Rpb25cbiAgKSB7XG4gICAgZm9jdXNlZEluZGV4ICs9IGRpcmVjdGlvbjtcbiAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgfVxuICBpZiAoY2hhbmdlZCkge1xuICAgIG1lbnVzW2ZvY3VzZWRJbmRleF0ucXVlcnlTZWxlY3RvcignYnV0dG9uJykuZm9jdXMoKTtcbiAgICByZXR1cm4gbWVudXNbZm9jdXNlZEluZGV4XTtcbiAgfVxufTtcblxuTWVudUJhckNvbnRyb2xsZXIucHJvdG90eXBlLm9wZW5Gb2N1c2VkTWVudSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbWVudSA9IHRoaXMuZ2V0Rm9jdXNlZE1lbnUoKTtcbiAgbWVudSAmJiBhbmd1bGFyLmVsZW1lbnQobWVudSkuY29udHJvbGxlcignbWRNZW51Jykub3BlbigpO1xufTtcblxuTWVudUJhckNvbnRyb2xsZXIucHJvdG90eXBlLmdldE1lbnVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkZWxlbWVudCA9IHRoaXMuJGVsZW1lbnQ7XG4gIHJldHVybiB0aGlzLiRtZFV0aWwubm9kZXNUb0FycmF5KCRlbGVtZW50WzBdLmNoaWxkcmVuKVxuICAgIC5maWx0ZXIoZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLm5vZGVOYW1lID09ICdNRC1NRU5VJzsgfSk7XG59O1xuXG5NZW51QmFyQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0Rm9jdXNlZE1lbnUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0TWVudXMoKVt0aGlzLmdldEZvY3VzZWRNZW51SW5kZXgoKV07XG59O1xuXG5NZW51QmFyQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0Rm9jdXNlZE1lbnVJbmRleCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJG1kVXRpbCA9IHRoaXMuJG1kVXRpbDtcbiAgdmFyIGZvY3VzZWRFbCA9ICRtZFV0aWwuZ2V0Q2xvc2VzdChcbiAgICB0aGlzLiRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50LFxuICAgICdNRC1NRU5VJ1xuICApO1xuICBpZiAoIWZvY3VzZWRFbCkgcmV0dXJuIC0xO1xuXG4gIHZhciBmb2N1c2VkSW5kZXggPSB0aGlzLmdldE1lbnVzKCkuaW5kZXhPZihmb2N1c2VkRWwpO1xuICByZXR1cm4gZm9jdXNlZEluZGV4O1xuXG59O1xuXG5NZW51QmFyQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0T3Blbk1lbnVJbmRleCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbWVudXMgPSB0aGlzLmdldE1lbnVzKCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWVudXMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobWVudXNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdtZC1vcGVuJykpIHJldHVybiBpO1xuICB9XG4gIHJldHVybiAtMTtcbn07XG5cblxuXG5cblxuXG5cblxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZE1lbnVCYXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5tZW51LWJhclxuICogQHJlc3RyaWN0IEVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE1lbnUgYmFycyBhcmUgY29udGFpbmVycyB0aGF0IGhvbGQgbXVsdGlwbGUgbWVudXMuIFRoZXkgY2hhbmdlIHRoZSBiZWhhdmlvciBhbmQgYXBwZWFyZW5jZVxuICogb2YgdGhlIGBtZC1tZW51YCBkaXJlY3RpdmUgdG8gYmVoYXZlIHNpbWlsYXIgdG8gYW4gb3BlcmF0aW5nIHN5c3RlbSBwcm92aWRlZCBtZW51LlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1tZW51LWJhcj5cbiAqICAgPG1kLW1lbnU+XG4gKiAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRtZE9wZW5NZW51KClcIj5cbiAqICAgICAgIEZpbGVcbiAqICAgICA8L2J1dHRvbj5cbiAqICAgICA8bWQtbWVudS1jb250ZW50PlxuICogICAgICAgPG1kLW1lbnUtaXRlbT5cbiAqICAgICAgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cImN0cmwuc2FtcGxlQWN0aW9uKCdzaGFyZScsICRldmVudClcIj5cbiAqICAgICAgICAgICBTaGFyZS4uLlxuICogICAgICAgICA8L21kLWJ1dHRvbj5cbiAqICAgICAgIDwvbWQtbWVudS1pdGVtPlxuICogICAgICAgPG1kLW1lbnUtZGl2aWRlcj48L21kLW1lbnUtZGl2aWRlcj5cbiAqICAgICAgIDxtZC1tZW51LWl0ZW0+XG4gKiAgICAgICA8bWQtbWVudS1pdGVtPlxuICogICAgICAgICA8bWQtbWVudT5cbiAqICAgICAgICAgICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwiJG1kT3Blbk1lbnUoKVwiPk5ldzwvbWQtYnV0dG9uPlxuICogICAgICAgICAgIDxtZC1tZW51LWNvbnRlbnQ+XG4gKiAgICAgICAgICAgICA8bWQtbWVudS1pdGVtPjxtZC1idXR0b24gbmctY2xpY2s9XCJjdHJsLnNhbXBsZUFjdGlvbignTmV3IERvY3VtZW50JywgJGV2ZW50KVwiPkRvY3VtZW50PC9tZC1idXR0b24+PC9tZC1tZW51LWl0ZW0+XG4gKiAgICAgICAgICAgICA8bWQtbWVudS1pdGVtPjxtZC1idXR0b24gbmctY2xpY2s9XCJjdHJsLnNhbXBsZUFjdGlvbignTmV3IFNwcmVhZHNoZWV0JywgJGV2ZW50KVwiPlNwcmVhZHNoZWV0PC9tZC1idXR0b24+PC9tZC1tZW51LWl0ZW0+XG4gKiAgICAgICAgICAgICA8bWQtbWVudS1pdGVtPjxtZC1idXR0b24gbmctY2xpY2s9XCJjdHJsLnNhbXBsZUFjdGlvbignTmV3IFByZXNlbnRhdGlvbicsICRldmVudClcIj5QcmVzZW50YXRpb248L21kLWJ1dHRvbj48L21kLW1lbnUtaXRlbT5cbiAqICAgICAgICAgICAgIDxtZC1tZW51LWl0ZW0+PG1kLWJ1dHRvbiBuZy1jbGljaz1cImN0cmwuc2FtcGxlQWN0aW9uKCdOZXcgRm9ybScsICRldmVudClcIj5Gb3JtPC9tZC1idXR0b24+PC9tZC1tZW51LWl0ZW0+XG4gKiAgICAgICAgICAgICA8bWQtbWVudS1pdGVtPjxtZC1idXR0b24gbmctY2xpY2s9XCJjdHJsLnNhbXBsZUFjdGlvbignTmV3IERyYXdpbmcnLCAkZXZlbnQpXCI+RHJhd2luZzwvbWQtYnV0dG9uPjwvbWQtbWVudS1pdGVtPlxuICogICAgICAgICAgIDwvbWQtbWVudS1jb250ZW50PlxuICogICAgICAgICA8L21kLW1lbnU+XG4gKiAgICAgICA8L21kLW1lbnUtaXRlbT5cbiAqICAgICA8L21kLW1lbnUtY29udGVudD5cbiAqICAgPC9tZC1tZW51PlxuICogPC9tZC1tZW51LWJhcj5cbiAqIDwvaGxqcz5cbiAqXG4gKiAjIyBNZW51IEJhciBDb250cm9sc1xuICpcbiAqIFlvdSBtYXkgcGxhY2UgYG1kLW1lbnUtaXRlbXNgIHRoYXQgZnVuY3Rpb24gYXMgY29udHJvbHMgd2l0aGluIG1lbnUgYmFycy5cbiAqIFRoZXJlIGFyZSB0d28gbW9kZXMgdGhhdCBhcmUgZXhwb3NlZCB2aWEgdGhlIGB0eXBlYCBhdHRyaWJ1dGUgb2YgdGhlIGBtZC1tZW51LWl0ZW1gLlxuICogYHR5cGU9XCJjaGVja2JveFwiYCB3aWxsIGZ1bmN0aW9uIGFzIGEgYm9vbGVhbiBjb250cm9sIGZvciB0aGUgYG5nLW1vZGVsYCBhdHRyaWJ1dGUgb2YgdGhlXG4gKiBgbWQtbWVudS1pdGVtYC4gYHR5cGU9XCJyYWRpb1wiYCB3aWxsIGZ1bmN0aW9uIGxpa2UgYSByYWRpbyBidXR0b24sIHNldHRpbmcgdGhlIGBuZ01vZGVsYFxuICogdG8gdGhlIGBzdHJpbmdgIHZhbHVlIG9mIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZS4gSWYgeW91IG5lZWQgbm9uLXN0cmluZyB2YWx1ZXMsIHlvdSBjYW4gdXNlXG4gKiBgbmctdmFsdWVgIHRvIHByb3ZpZGUgYW4gZXhwcmVzc2lvbiAodGhpcyBpcyBzaW1pbGFyIHRvIGhvdyBhbmd1bGFyJ3MgbmF0aXZlIGBpbnB1dFt0eXBlPXJhZGlvXWAgd29ya3MuXG4gKlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1tZW51LWJhcj5cbiAqICA8bWQtbWVudT5cbiAqICAgIDxidXR0b24gbmctY2xpY2s9XCIkbWRPcGVuTWVudSgpXCI+XG4gKiAgICAgIFNhbXBsZSBNZW51XG4gKiAgICA8L2J1dHRvbj5cbiAqICAgIDxtZC1tZW51LWNvbnRlbnQ+XG4gKiAgICAgIDxtZC1tZW51LWl0ZW0gdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzZXR0aW5ncy5hbGxvd0NoYW5nZXNcIj5BbGxvdyBjaGFuZ2VzPC9tZC1tZW51LWl0ZW0+XG4gKiAgICAgIDxtZC1tZW51LWRpdmlkZXI+PC9tZC1tZW51LWRpdmlkZXI+XG4gKiAgICAgIDxtZC1tZW51LWl0ZW0gdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJzZXR0aW5ncy5tb2RlXCIgbmctdmFsdWU9XCIxXCI+TW9kZSAxPC9tZC1tZW51LWl0ZW0+XG4gKiAgICAgIDxtZC1tZW51LWl0ZW0gdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJzZXR0aW5ncy5tb2RlXCIgbmctdmFsdWU9XCIxXCI+TW9kZSAyPC9tZC1tZW51LWl0ZW0+XG4gKiAgICAgIDxtZC1tZW51LWl0ZW0gdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJzZXR0aW5ncy5tb2RlXCIgbmctdmFsdWU9XCIxXCI+TW9kZSAzPC9tZC1tZW51LWl0ZW0+XG4gKiAgICA8L21kLW1lbnUtY29udGVudD5cbiAqICA8L21kLW1lbnU+XG4gKiA8L21kLW1lbnUtYmFyPlxuICogPC9obGpzPlxuICpcbiAqXG4gKiAjIyMgTmVzdGluZyBNZW51c1xuICpcbiAqIE1lbnVzIG1heSBiZSBuZXN0ZWQgd2l0aGluIG1lbnUgYmFycy4gVGhpcyBpcyBjb21tb25seSBjYWxsZWQgY2FzY2FkaW5nIG1lbnVzLlxuICogVG8gbmVzdCBhIG1lbnUgcGxhY2UgdGhlIG5lc3RlZCBtZW51IGluc2lkZSB0aGUgY29udGVudCBvZiB0aGUgYG1kLW1lbnUtaXRlbWAuXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLW1lbnUtaXRlbT5cbiAqICAgPG1kLW1lbnU+XG4gKiAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRtZE9wZW5NZW51KClcIj5OZXc8L21kLWJ1dHRvbj5cbiAqICAgICA8bWQtbWVudS1jb250ZW50PlxuICogICAgICAgPG1kLW1lbnUtaXRlbT48bWQtYnV0dG9uIG5nLWNsaWNrPVwiY3RybC5zYW1wbGVBY3Rpb24oJ05ldyBEb2N1bWVudCcsICRldmVudClcIj5Eb2N1bWVudDwvbWQtYnV0dG9uPjwvbWQtbWVudS1pdGVtPlxuICogICAgICAgPG1kLW1lbnUtaXRlbT48bWQtYnV0dG9uIG5nLWNsaWNrPVwiY3RybC5zYW1wbGVBY3Rpb24oJ05ldyBTcHJlYWRzaGVldCcsICRldmVudClcIj5TcHJlYWRzaGVldDwvbWQtYnV0dG9uPjwvbWQtbWVudS1pdGVtPlxuICogICAgICAgPG1kLW1lbnUtaXRlbT48bWQtYnV0dG9uIG5nLWNsaWNrPVwiY3RybC5zYW1wbGVBY3Rpb24oJ05ldyBQcmVzZW50YXRpb24nLCAkZXZlbnQpXCI+UHJlc2VudGF0aW9uPC9tZC1idXR0b24+PC9tZC1tZW51LWl0ZW0+XG4gKiAgICAgICA8bWQtbWVudS1pdGVtPjxtZC1idXR0b24gbmctY2xpY2s9XCJjdHJsLnNhbXBsZUFjdGlvbignTmV3IEZvcm0nLCAkZXZlbnQpXCI+Rm9ybTwvbWQtYnV0dG9uPjwvbWQtbWVudS1pdGVtPlxuICogICAgICAgPG1kLW1lbnUtaXRlbT48bWQtYnV0dG9uIG5nLWNsaWNrPVwiY3RybC5zYW1wbGVBY3Rpb24oJ05ldyBEcmF3aW5nJywgJGV2ZW50KVwiPkRyYXdpbmc8L21kLWJ1dHRvbj48L21kLW1lbnUtaXRlbT5cbiAqICAgICA8L21kLW1lbnUtY29udGVudD5cbiAqICAgPC9tZC1tZW51PlxuICogPC9tZC1tZW51LWl0ZW0+XG4gKiA8L2hsanM+XG4gKlxuICovXG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5tZW51QmFyJylcbiAgLmRpcmVjdGl2ZSgnbWRNZW51QmFyJywgTWVudUJhckRpcmVjdGl2ZSk7XG5cbi8qKlxuICpcbiAqIEBuZ0luamRlY3RcbiAqL1xuZnVuY3Rpb24gTWVudUJhckRpcmVjdGl2ZSgkbWRVdGlsLCAkbWRUaGVtaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiAnbWRNZW51QmFyJyxcbiAgICBjb250cm9sbGVyOiAnTWVudUJhckNvbnRyb2xsZXInLFxuXG4gICAgY29tcGlsZTogZnVuY3Rpb24gY29tcGlsZSh0ZW1wbGF0ZUVsLCB0ZW1wbGF0ZUF0dHJzKSB7XG4gICAgICBpZiAoIXRlbXBsYXRlQXR0cnMuYXJpYVJvbGUpIHtcbiAgICAgICAgdGVtcGxhdGVFbFswXS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnbWVudWJhcicpO1xuICAgICAgfVxuICAgICAgYW5ndWxhci5mb3JFYWNoKHRlbXBsYXRlRWxbMF0uY2hpbGRyZW4sIGZ1bmN0aW9uKG1lbnVFbCkge1xuICAgICAgICBpZiAobWVudUVsLm5vZGVOYW1lID09ICdNRC1NRU5VJykge1xuICAgICAgICAgIGlmICghbWVudUVsLmhhc0F0dHJpYnV0ZSgnbWQtcG9zaXRpb24tbW9kZScpKSB7XG4gICAgICAgICAgICBtZW51RWwuc2V0QXR0cmlidXRlKCdtZC1wb3NpdGlvbi1tb2RlJywgJ2xlZnQgYm90dG9tJyk7XG4gICAgICAgICAgICBtZW51RWwucXVlcnlTZWxlY3RvcignYnV0dG9uLGEnKS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnbWVudWl0ZW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGNvbnRlbnRFbHMgPSAkbWRVdGlsLm5vZGVzVG9BcnJheShtZW51RWwucXVlcnlTZWxlY3RvckFsbCgnbWQtbWVudS1jb250ZW50JykpO1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb250ZW50RWxzLCBmdW5jdGlvbihjb250ZW50RWwpIHtcbiAgICAgICAgICAgIGNvbnRlbnRFbC5jbGFzc0xpc3QuYWRkKCdtZC1tZW51LWJhci1tZW51Jyk7XG4gICAgICAgICAgICBjb250ZW50RWwuY2xhc3NMaXN0LmFkZCgnbWQtZGVuc2UnKTtcbiAgICAgICAgICAgIGlmICghY29udGVudEVsLmhhc0F0dHJpYnV0ZSgnd2lkdGgnKSkge1xuICAgICAgICAgICAgICBjb250ZW50RWwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIDUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgICAgJG1kVGhlbWluZyhzY29wZSwgZWwpO1xuICAgICAgICBjdHJsLmluaXQoKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG59XG5NZW51QmFyRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRVdGlsXCIsIFwiJG1kVGhlbWluZ1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuYW5ndWxhclxuICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLm1lbnVCYXInKVxuICAuZGlyZWN0aXZlKCdtZE1lbnVEaXZpZGVyJywgTWVudURpdmlkZXJEaXJlY3RpdmUpO1xuXG5cbmZ1bmN0aW9uIE1lbnVEaXZpZGVyRGlyZWN0aXZlKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29tcGlsZTogZnVuY3Rpb24odGVtcGxhdGVFbCwgdGVtcGxhdGVBdHRycykge1xuICAgICAgaWYgKCF0ZW1wbGF0ZUF0dHJzLnJvbGUpIHtcbiAgICAgICAgdGVtcGxhdGVFbFswXS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnc2VwYXJhdG9yJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMubWVudUJhcicpXG4gIC5jb250cm9sbGVyKCdNZW51SXRlbUNvbnRyb2xsZXInLCBNZW51SXRlbUNvbnRyb2xsZXIpO1xuXG5cbi8qKlxuICogQG5nSW5qZWN0XG4gKi9cbmZ1bmN0aW9uIE1lbnVJdGVtQ29udHJvbGxlcigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpIHtcbiAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICB0aGlzLiRhdHRycyA9ICRhdHRycztcbiAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XG59XG5NZW51SXRlbUNvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJGF0dHJzXCJdO1xuXG5NZW51SXRlbUNvbnRyb2xsZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsKSB7XG4gIHZhciAkZWxlbWVudCA9IHRoaXMuJGVsZW1lbnQ7XG4gIHZhciAkYXR0cnMgPSB0aGlzLiRhdHRycztcblxuICB0aGlzLm5nTW9kZWwgPSBuZ01vZGVsO1xuICBpZiAoJGF0dHJzLnR5cGUgPT0gJ2NoZWNrYm94JyB8fCAkYXR0cnMudHlwZSA9PSAncmFkaW8nKSB7XG4gICAgdGhpcy5tb2RlICA9ICRhdHRycy50eXBlO1xuICAgIHRoaXMuaWNvbkVsID0gJGVsZW1lbnRbMF0uY2hpbGRyZW5bMF07XG4gICAgdGhpcy5idXR0b25FbCA9ICRlbGVtZW50WzBdLmNoaWxkcmVuWzFdO1xuICAgIGlmIChuZ01vZGVsKSB7XG4gICAgICAvLyBDbGVhciBuZ0FyaWEgc2V0IGF0dHJpYnV0ZXNcbiAgICAgIHRoaXMuaW5pdENsaWNrTGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG59O1xuXG4vLyBuZ0FyaWEgYXV0byBzZXRzIGF0dHJpYnV0ZXMgb24gYSBtZW51LWl0ZW0gd2l0aCBhIG5nTW9kZWwuXG4vLyBXZSBkb24ndCB3YW50IHRoaXMgYmVjYXVzZSBvdXIgY29udGVudCAoYnV0dG9ucykgZ2V0IHRoZSBmb2N1c1xuLy8gYW5kIHNldCB0aGVpciBvd24gYXJpYSBhdHRyaWJ1dGVzIGFwcHJvcHJpdGF0ZWx5LiBIYXZpbmcgYm90aFxuLy8gYnJlYWtzIE5WREEgLyBKQVdTLiBUaGlzIHVuZGVvZXMgbmdBcmlhJ3MgYXR0cnMuXG5NZW51SXRlbUNvbnRyb2xsZXIucHJvdG90eXBlLmNsZWFyTmdBcmlhID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlbCA9IHRoaXMuJGVsZW1lbnRbMF07XG4gIHZhciBjbGVhckF0dHJzID0gWydyb2xlJywgJ3RhYmluZGV4JywgJ2FyaWEtaW52YWxpZCcsICdhcmlhLWNoZWNrZWQnXTtcbiAgYW5ndWxhci5mb3JFYWNoKGNsZWFyQXR0cnMsIGZ1bmN0aW9uKGF0dHIpIHtcbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gIH0pO1xufTtcblxuTWVudUl0ZW1Db250cm9sbGVyLnByb3RvdHlwZS5pbml0Q2xpY2tMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgbmdNb2RlbCA9IHRoaXMubmdNb2RlbDtcbiAgdmFyICRzY29wZSA9IHRoaXMuJHNjb3BlO1xuICB2YXIgJGF0dHJzID0gdGhpcy4kYXR0cnM7XG4gIHZhciAkZWxlbWVudCA9IHRoaXMuJGVsZW1lbnQ7XG4gIHZhciBtb2RlID0gdGhpcy5tb2RlO1xuXG4gIHRoaXMuaGFuZGxlQ2xpY2sgPSBhbmd1bGFyLmJpbmQodGhpcywgdGhpcy5oYW5kbGVDbGljayk7XG5cbiAgdmFyIGljb24gPSB0aGlzLmljb25FbDtcbiAgdmFyIGJ1dHRvbiA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzLmJ1dHRvbkVsKTtcbiAgdmFyIGhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljaztcblxuICAkYXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgc2V0RGlzYWJsZWQpO1xuICBzZXREaXNhYmxlZCgkYXR0cnMuZGlzYWJsZWQpO1xuXG4gIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBzZWxmLmNsZWFyTmdBcmlhKCk7XG4gICAgaWYgKGlzU2VsZWN0ZWQoKSkge1xuICAgICAgaWNvbi5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICBidXR0b24uYXR0cignYXJpYS1jaGVja2VkJywgJ3RydWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgYnV0dG9uLmF0dHIoJ2FyaWEtY2hlY2tlZCcsICdmYWxzZScpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuJCRwb3N0RGlnZXN0KG5nTW9kZWwuJHJlbmRlcik7XG5cbiAgZnVuY3Rpb24gaXNTZWxlY3RlZCgpIHtcbiAgICBpZiAobW9kZSA9PSAncmFkaW8nKSB7XG4gICAgICB2YXIgdmFsID0gJGF0dHJzLm5nVmFsdWUgPyAkc2NvcGUuJGV2YWwoJGF0dHJzLm5nVmFsdWUpIDogJGF0dHJzLnZhbHVlO1xuICAgICAgcmV0dXJuIG5nTW9kZWwuJG1vZGVsVmFsdWUgPT0gdmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmdNb2RlbC4kbW9kZWxWYWx1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXREaXNhYmxlZChkaXNhYmxlZCkge1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgYnV0dG9uLm9mZignY2xpY2snLCBoYW5kbGVDbGljayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbi5vbignY2xpY2snLCBoYW5kbGVDbGljayk7XG4gICAgfVxuICB9XG59O1xuXG5NZW51SXRlbUNvbnRyb2xsZXIucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24oZSkge1xuICB2YXIgbW9kZSA9IHRoaXMubW9kZTtcbiAgdmFyIG5nTW9kZWwgPSB0aGlzLm5nTW9kZWw7XG4gIHZhciAkYXR0cnMgPSB0aGlzLiRhdHRycztcbiAgdmFyIG5ld1ZhbDtcbiAgaWYgKG1vZGUgPT0gJ2NoZWNrYm94Jykge1xuICAgIG5ld1ZhbCA9ICFuZ01vZGVsLiRtb2RlbFZhbHVlO1xuICB9IGVsc2UgaWYgKG1vZGUgPT0gJ3JhZGlvJykge1xuICAgIG5ld1ZhbCA9ICRhdHRycy5uZ1ZhbHVlID8gdGhpcy4kc2NvcGUuJGV2YWwoJGF0dHJzLm5nVmFsdWUpIDogJGF0dHJzLnZhbHVlO1xuICB9XG4gIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShuZXdWYWwpO1xuICBuZ01vZGVsLiRyZW5kZXIoKTtcbn07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5tZW51QmFyJylcbiAgLmRpcmVjdGl2ZSgnbWRNZW51SXRlbScsIE1lbnVJdGVtRGlyZWN0aXZlKTtcblxuIC8qKlxuICAqXG4gICogQG5nSW5qZGVjdFxuICAqL1xuZnVuY3Rpb24gTWVudUl0ZW1EaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogWydtZE1lbnVJdGVtJywgJz9uZ01vZGVsJ10sXG4gICAgcHJpb3JpdHk6IDIxMCwgLy8gZW5zdXJlIHRoYXQgb3VyIHBvc3QgbGluayBydW5zIGFmdGVyIG5nQXJpYVxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRlbXBsYXRlRWwsIHRlbXBsYXRlQXR0cnMpIHtcbiAgICAgIGlmICh0ZW1wbGF0ZUF0dHJzLnR5cGUgPT0gJ2NoZWNrYm94JyB8fCB0ZW1wbGF0ZUF0dHJzLnR5cGUgPT0gJ3JhZGlvJykge1xuICAgICAgICB2YXIgdGV4dCA9IHRlbXBsYXRlRWxbMF0udGV4dENvbnRlbnQ7XG4gICAgICAgIHZhciBidXR0b25FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPG1kLWJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+PC9tZC1idXR0b24+Jyk7XG4gICAgICAgICAgICBidXR0b25FbC5odG1sKHRleHQpO1xuICAgICAgICAgICAgYnV0dG9uRWwuYXR0cigndGFiaW5kZXgnLCAnMCcpO1xuXG4gICAgICAgIHRlbXBsYXRlRWwuaHRtbCgnJyk7XG4gICAgICAgIHRlbXBsYXRlRWwuYXBwZW5kKGFuZ3VsYXIuZWxlbWVudCgnPG1kLWljb24gbWQtc3ZnLWljb249XCJjaGVja1wiPjwvbWQtaWNvbj4nKSk7XG4gICAgICAgIHRlbXBsYXRlRWwuYXBwZW5kKGJ1dHRvbkVsKTtcbiAgICAgICAgdGVtcGxhdGVFbFswXS5jbGFzc0xpc3QuYWRkKCdtZC1pbmRlbnQnKTtcblxuICAgICAgICBzZXREZWZhdWx0KCdyb2xlJywgKHRlbXBsYXRlQXR0cnMudHlwZSA9PSAnY2hlY2tib3gnKSA/ICdtZW51aXRlbWNoZWNrYm94JyA6ICdtZW51aXRlbXJhZGlvJywgYnV0dG9uRWwpO1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goWyduZy1kaXNhYmxlZCddLCBtb3ZlQXR0clRvQnV0dG9uKTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RGVmYXVsdCgncm9sZScsICdtZW51aXRlbScsIHRlbXBsYXRlRWxbMF0ucXVlcnlTZWxlY3RvcignbWQtYnV0dG9uLGJ1dHRvbixhJykpO1xuICAgICAgfVxuXG5cbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWwsIGF0dHJzLCBjdHJscykge1xuICAgICAgICB2YXIgY3RybCA9IGN0cmxzWzBdO1xuICAgICAgICB2YXIgbmdNb2RlbCA9IGN0cmxzWzFdO1xuICAgICAgICBjdHJsLmluaXQobmdNb2RlbCk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBzZXREZWZhdWx0KGF0dHIsIHZhbCwgZWwpIHtcbiAgICAgICAgZWwgPSBlbCB8fCB0ZW1wbGF0ZUVsO1xuICAgICAgICBpZiAoZWwgaW5zdGFuY2VvZiBhbmd1bGFyLmVsZW1lbnQpIHtcbiAgICAgICAgICBlbCA9IGVsWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZWwuaGFzQXR0cmlidXRlKGF0dHIpKSB7XG4gICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHIsIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbW92ZUF0dHJUb0J1dHRvbihhdHRyKSB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZUVsWzBdLmhhc0F0dHJpYnV0ZShhdHRyKSkge1xuICAgICAgICAgIHZhciB2YWwgPSB0ZW1wbGF0ZUVsWzBdLmdldEF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICBidXR0b25FbFswXS5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsKTtcbiAgICAgICAgICB0ZW1wbGF0ZUVsWzBdLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY29udHJvbGxlcjogJ01lbnVJdGVtQ29udHJvbGxlcidcbiAgfTtcbn1cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRUYWJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGUgYDxtZC10YWI+YCBhIG5lc3RlZCBkaXJlY3RpdmUgdXNlZCB3aXRoaW4gYDxtZC10YWJzPmAgdG8gc3BlY2lmeSBhIHRhYiB3aXRoIGEgKipsYWJlbCoqIGFuZCBvcHRpb25hbCAqdmlldyBjb250ZW50Ki5cbiAqXG4gKiBJZiB0aGUgYGxhYmVsYCBhdHRyaWJ1dGUgaXMgbm90IHNwZWNpZmllZCwgdGhlbiBhbiBvcHRpb25hbCBgPG1kLXRhYi1sYWJlbD5gIHRhZyBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IG1vcmVcbiAqIGNvbXBsZXggdGFiIGhlYWRlciBtYXJrdXAuIElmIG5laXRoZXIgdGhlICoqbGFiZWwqKiBub3IgdGhlICoqbWQtdGFiLWxhYmVsKiogYXJlIHNwZWNpZmllZCwgdGhlbiB0aGUgbmVzdGVkXG4gKiBtYXJrdXAgb2YgdGhlIGA8bWQtdGFiPmAgaXMgdXNlZCBhcyB0aGUgdGFiIGhlYWRlciBtYXJrdXAuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCBpZiB5b3UgdXNlIGA8bWQtdGFiLWxhYmVsPmAsIHlvdXIgY29udGVudCAqKk1VU1QqKiBiZSB3cmFwcGVkIGluIHRoZSBgPG1kLXRhYi1ib2R5PmAgdGFnLiAgVGhpc1xuICogaXMgdG8gZGVmaW5lIGEgY2xlYXIgc2VwYXJhdGlvbiBiZXR3ZWVuIHRoZSB0YWIgY29udGVudCBhbmQgdGhlIHRhYiBsYWJlbC5cbiAqXG4gKiBUaGlzIGNvbnRhaW5lciBpcyB1c2VkIGJ5IHRoZSBUYWJzQ29udHJvbGxlciB0byBzaG93L2hpZGUgdGhlIGFjdGl2ZSB0YWIncyBjb250ZW50IHZpZXcuIFRoaXMgc3luY2hyb25pemF0aW9uIGlzXG4gKiBhdXRvbWF0aWNhbGx5IG1hbmFnZWQgYnkgdGhlIGludGVybmFsIFRhYnNDb250cm9sbGVyIHdoZW5ldmVyIHRoZSB0YWIgc2VsZWN0aW9uIGNoYW5nZXMuIFNlbGVjdGlvbiBjaGFuZ2VzIGNhblxuICogYmUgaW5pdGlhdGVkIHZpYSBkYXRhIGJpbmRpbmcgY2hhbmdlcywgcHJvZ3JhbW1hdGljIGludm9jYXRpb24sIG9yIHVzZXIgZ2VzdHVyZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBsYWJlbCBPcHRpb25hbCBhdHRyaWJ1dGUgdG8gc3BlY2lmeSBhIHNpbXBsZSBzdHJpbmcgYXMgdGhlIHRhYiBsYWJlbFxuICogQHBhcmFtIHtib29sZWFuPX0gbmctZGlzYWJsZWQgSWYgcHJlc2VudCwgZGlzYWJsZWQgdGFiIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLW9uLWRlc2VsZWN0IEV4cHJlc3Npb24gdG8gYmUgZXZhbHVhdGVkIGFmdGVyIHRoZSB0YWIgaGFzIGJlZW4gZGUtc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1vbi1zZWxlY3QgRXhwcmVzc2lvbiB0byBiZSBldmFsdWF0ZWQgYWZ0ZXIgdGhlIHRhYiBoYXMgYmVlbiBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLWFjdGl2ZSBXaGVuIHRydWUsIHNldHMgdGhlIGFjdGl2ZSB0YWIuICBOb3RlOiBUaGVyZSBjYW4gb25seSBiZSBvbmUgYWN0aXZlIHRhYiBhdCBhIHRpbWUuXG4gKlxuICpcbiAqIEB1c2FnZVxuICpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtdGFiIGxhYmVsPVwiXCIgZGlzYWJsZWQ9XCJcIiBtZC1vbi1zZWxlY3Q9XCJcIiBtZC1vbi1kZXNlbGVjdD1cIlwiID5cbiAqICAgPGgzPk15IFRhYiBjb250ZW50PC9oMz5cbiAqIDwvbWQtdGFiPlxuICpcbiAqIDxtZC10YWIgPlxuICogICA8bWQtdGFiLWxhYmVsPlxuICogICAgIDxoMz5NeSBUYWIgY29udGVudDwvaDM+XG4gKiAgIDwvbWQtdGFiLWxhYmVsPlxuICogICA8bWQtdGFiLWJvZHk+XG4gKiAgICAgPHA+XG4gKiAgICAgICBTZWQgdXQgcGVyc3BpY2lhdGlzIHVuZGUgb21uaXMgaXN0ZSBuYXR1cyBlcnJvciBzaXQgdm9sdXB0YXRlbSBhY2N1c2FudGl1bSBkb2xvcmVtcXVlIGxhdWRhbnRpdW0sXG4gKiAgICAgICB0b3RhbSByZW0gYXBlcmlhbSwgZWFxdWUgaXBzYSBxdWFlIGFiIGlsbG8gaW52ZW50b3JlIHZlcml0YXRpcyBldCBxdWFzaSBhcmNoaXRlY3RvIGJlYXRhZSB2aXRhZVxuICogICAgICAgZGljdGEgc3VudCBleHBsaWNhYm8uIE5lbW8gZW5pbSBpcHNhbSB2b2x1cHRhdGVtIHF1aWEgdm9sdXB0YXMgc2l0IGFzcGVybmF0dXIgYXV0IG9kaXQgYXV0IGZ1Z2l0LFxuICogICAgICAgc2VkIHF1aWEgY29uc2VxdXVudHVyIG1hZ25pIGRvbG9yZXMgZW9zIHF1aSByYXRpb25lIHZvbHVwdGF0ZW0gc2VxdWkgbmVzY2l1bnQuXG4gKiAgICAgPC9wPlxuICogICA8L21kLXRhYi1ib2R5PlxuICogPC9tZC10YWI+XG4gKiA8L2hsanM+XG4gKlxuICovXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgICAuZGlyZWN0aXZlKCdtZFRhYicsIE1kVGFiKTtcblxuZnVuY3Rpb24gTWRUYWIgKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICAnXj9tZFRhYnMnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIGNvbXBpbGU6ICBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIGxhYmVsID0gZmlyc3RDaGlsZChlbGVtZW50LCAnbWQtdGFiLWxhYmVsJyksXG4gICAgICAgICAgYm9keSAgPSBmaXJzdENoaWxkKGVsZW1lbnQsICdtZC10YWItYm9keScpO1xuXG4gICAgICBpZiAobGFiZWwubGVuZ3RoID09IDApIHtcbiAgICAgICAgbGFiZWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxtZC10YWItbGFiZWw+PC9tZC10YWItbGFiZWw+Jyk7XG4gICAgICAgIGlmIChhdHRyLmxhYmVsKSBsYWJlbC50ZXh0KGF0dHIubGFiZWwpO1xuICAgICAgICBlbHNlIGxhYmVsLmFwcGVuZChlbGVtZW50LmNvbnRlbnRzKCkpO1xuXG4gICAgICAgIGlmIChib2R5Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnRzID0gZWxlbWVudC5jb250ZW50cygpLmRldGFjaCgpO1xuICAgICAgICAgIGJvZHkgICAgICAgICA9IGFuZ3VsYXIuZWxlbWVudCgnPG1kLXRhYi1ib2R5PjwvbWQtdGFiLWJvZHk+Jyk7XG4gICAgICAgICAgYm9keS5hcHBlbmQoY29udGVudHMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuYXBwZW5kKGxhYmVsKTtcbiAgICAgIGlmIChib2R5Lmh0bWwoKSkgZWxlbWVudC5hcHBlbmQoYm9keSk7XG5cbiAgICAgIHJldHVybiBwb3N0TGluaztcbiAgICB9LFxuICAgIHNjb3BlOiAgICB7XG4gICAgICBhY3RpdmU6ICAgJz0/bWRBY3RpdmUnLFxuICAgICAgZGlzYWJsZWQ6ICc9P25nRGlzYWJsZWQnLFxuICAgICAgc2VsZWN0OiAgICcmP21kT25TZWxlY3QnLFxuICAgICAgZGVzZWxlY3Q6ICcmP21kT25EZXNlbGVjdCdcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsgKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgaWYgKCFjdHJsKSByZXR1cm47XG4gICAgdmFyIGluZGV4ID0gY3RybC5nZXRUYWJFbGVtZW50SW5kZXgoZWxlbWVudCksXG4gICAgICAgIGJvZHkgID0gZmlyc3RDaGlsZChlbGVtZW50LCAnbWQtdGFiLWJvZHknKS5yZW1vdmUoKSxcbiAgICAgICAgbGFiZWwgPSBmaXJzdENoaWxkKGVsZW1lbnQsICdtZC10YWItbGFiZWwnKS5yZW1vdmUoKSxcbiAgICAgICAgZGF0YSAgPSBjdHJsLmluc2VydFRhYih7XG4gICAgICAgICAgc2NvcGU6ICAgIHNjb3BlLFxuICAgICAgICAgIHBhcmVudDogICBzY29wZS4kcGFyZW50LFxuICAgICAgICAgIGluZGV4OiAgICBpbmRleCxcbiAgICAgICAgICBlbGVtZW50OiAgZWxlbWVudCxcbiAgICAgICAgICB0ZW1wbGF0ZTogYm9keS5odG1sKCksXG4gICAgICAgICAgbGFiZWw6ICAgIGxhYmVsLmh0bWwoKVxuICAgICAgICB9LCBpbmRleCk7XG5cbiAgICBzY29wZS5zZWxlY3QgICA9IHNjb3BlLnNlbGVjdCB8fCBhbmd1bGFyLm5vb3A7XG4gICAgc2NvcGUuZGVzZWxlY3QgPSBzY29wZS5kZXNlbGVjdCB8fCBhbmd1bGFyLm5vb3A7XG5cbiAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZScsIGZ1bmN0aW9uIChhY3RpdmUpIHsgaWYgKGFjdGl2ZSkgY3RybC5zZWxlY3QoZGF0YS5nZXRJbmRleCgpKTsgfSk7XG4gICAgc2NvcGUuJHdhdGNoKCdkaXNhYmxlZCcsIGZ1bmN0aW9uICgpIHsgY3RybC5yZWZyZXNoSW5kZXgoKTsgfSk7XG4gICAgc2NvcGUuJHdhdGNoKFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGN0cmwuZ2V0VGFiRWxlbWVudEluZGV4KGVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAobmV3SW5kZXgpIHtcbiAgICAgICAgICBkYXRhLmluZGV4ID0gbmV3SW5kZXg7XG4gICAgICAgICAgY3RybC51cGRhdGVUYWJPcmRlcigpO1xuICAgICAgICB9XG4gICAgKTtcbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkgeyBjdHJsLnJlbW92ZVRhYihkYXRhKTsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaXJzdENoaWxkIChlbGVtZW50LCB0YWdOYW1lKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gZWxlbWVudFswXS5jaGlsZHJlbjtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGNoaWxkLnRhZ05hbWUgPT09IHRhZ05hbWUudG9VcHBlckNhc2UoKSkgcmV0dXJuIGFuZ3VsYXIuZWxlbWVudChjaGlsZCk7XG4gICAgfVxuICAgIHJldHVybiBhbmd1bGFyLmVsZW1lbnQoKTtcbiAgfVxufVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudGFicycpXG4gICAgLmRpcmVjdGl2ZSgnbWRUYWJJdGVtJywgTWRUYWJJdGVtKTtcblxuZnVuY3Rpb24gTWRUYWJJdGVtICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXj9tZFRhYnMnLFxuICAgIGxpbms6ICAgIGZ1bmN0aW9uIGxpbmsgKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcbiAgICAgIGN0cmwuYXR0YWNoUmlwcGxlKHNjb3BlLCBlbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgICAuZGlyZWN0aXZlKCdtZFRhYkxhYmVsJywgTWRUYWJMYWJlbCk7XG5cbmZ1bmN0aW9uIE1kVGFiTGFiZWwgKCkge1xuICByZXR1cm4geyB0ZXJtaW5hbDogdHJ1ZSB9O1xufVxuXG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgICAuZGlyZWN0aXZlKCdtZFRhYlNjcm9sbCcsIE1kVGFiU2Nyb2xsKTtcblxuZnVuY3Rpb24gTWRUYWJTY3JvbGwgKCRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gKCRlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgZm4gPSAkcGFyc2UoYXR0ci5tZFRhYlNjcm9sbCwgbnVsbCwgdHJ1ZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdFdmVudEhhbmRsZXIgKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQub24oJ21vdXNld2hlZWwnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkgeyBmbihzY29wZSwgeyAkZXZlbnQ6IGV2ZW50IH0pOyB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuTWRUYWJTY3JvbGwuJGluamVjdCA9IFtcIiRwYXJzZVwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRhYnMnKVxuICAgIC5jb250cm9sbGVyKCdNZFRhYnNDb250cm9sbGVyJywgTWRUYWJzQ29udHJvbGxlcik7XG5cbi8qKlxuICogQG5nSW5qZWN0XG4gKi9cbmZ1bmN0aW9uIE1kVGFic0NvbnRyb2xsZXIgKCRzY29wZSwgJGVsZW1lbnQsICR3aW5kb3csICRtZENvbnN0YW50LCAkbWRUYWJJbmtSaXBwbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkbWRVdGlsLCAkYW5pbWF0ZUNzcywgJGF0dHJzLCAkY29tcGlsZSwgJG1kVGhlbWluZykge1xuICAvLyBkZWZpbmUgcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gIHZhciBjdHJsICAgICAgPSB0aGlzLFxuICAgICAgbG9ja2VkICAgID0gZmFsc2UsXG4gICAgICBlbGVtZW50cyAgPSBnZXRFbGVtZW50cygpLFxuICAgICAgcXVldWUgICAgID0gW10sXG4gICAgICBkZXN0cm95ZWQgPSBmYWxzZSxcbiAgICAgIGxvYWRlZCAgICA9IGZhbHNlO1xuXG4gIC8vIGRlZmluZSBvbmUtd2F5IGJpbmRpbmdzXG4gIGRlZmluZU9uZVdheUJpbmRpbmcoJ3N0cmV0Y2hUYWJzJywgaGFuZGxlU3RyZXRjaFRhYnMpO1xuXG4gIC8vIGRlZmluZSBwdWJsaWMgcHJvcGVydGllcyB3aXRoIGNoYW5nZSBoYW5kbGVyc1xuICBkZWZpbmVQcm9wZXJ0eSgnZm9jdXNJbmRleCcsIGhhbmRsZUZvY3VzSW5kZXhDaGFuZ2UsIGN0cmwuc2VsZWN0ZWRJbmRleCB8fCAwKTtcbiAgZGVmaW5lUHJvcGVydHkoJ29mZnNldExlZnQnLCBoYW5kbGVPZmZzZXRDaGFuZ2UsIDApO1xuICBkZWZpbmVQcm9wZXJ0eSgnaGFzQ29udGVudCcsIGhhbmRsZUhhc0NvbnRlbnQsIGZhbHNlKTtcbiAgZGVmaW5lUHJvcGVydHkoJ21heFRhYldpZHRoJywgaGFuZGxlTWF4VGFiV2lkdGgsIGdldE1heFRhYldpZHRoKCkpO1xuICBkZWZpbmVQcm9wZXJ0eSgnc2hvdWxkUGFnaW5hdGUnLCBoYW5kbGVTaG91bGRQYWdpbmF0ZSwgZmFsc2UpO1xuXG4gIC8vIGRlZmluZSBib29sZWFuIGF0dHJpYnV0ZXNcbiAgZGVmaW5lQm9vbGVhbkF0dHJpYnV0ZSgnbm9JbmtCYXInLCBoYW5kbGVJbmtCYXIpO1xuICBkZWZpbmVCb29sZWFuQXR0cmlidXRlKCdkeW5hbWljSGVpZ2h0JywgaGFuZGxlRHluYW1pY0hlaWdodCk7XG4gIGRlZmluZUJvb2xlYW5BdHRyaWJ1dGUoJ25vUGFnaW5hdGlvbicpO1xuICBkZWZpbmVCb29sZWFuQXR0cmlidXRlKCdzd2lwZUNvbnRlbnQnKTtcbiAgZGVmaW5lQm9vbGVhbkF0dHJpYnV0ZSgnbm9EaXNjb25uZWN0Jyk7XG4gIGRlZmluZUJvb2xlYW5BdHRyaWJ1dGUoJ2F1dG9zZWxlY3QnKTtcbiAgZGVmaW5lQm9vbGVhbkF0dHJpYnV0ZSgnY2VudGVyVGFicycsIGhhbmRsZUNlbnRlclRhYnMsIGZhbHNlKTtcbiAgZGVmaW5lQm9vbGVhbkF0dHJpYnV0ZSgnZW5hYmxlRGlzY29ubmVjdCcpO1xuXG4gIC8vIGRlZmluZSBwdWJsaWMgcHJvcGVydGllc1xuICBjdHJsLnNjb3BlICAgICAgICAgICAgID0gJHNjb3BlO1xuICBjdHJsLnBhcmVudCAgICAgICAgICAgID0gJHNjb3BlLiRwYXJlbnQ7XG4gIGN0cmwudGFicyAgICAgICAgICAgICAgPSBbXTtcbiAgY3RybC5sYXN0U2VsZWN0ZWRJbmRleCA9IG51bGw7XG4gIGN0cmwuaGFzRm9jdXMgICAgICAgICAgPSBmYWxzZTtcbiAgY3RybC5sYXN0Q2xpY2sgICAgICAgICA9IHRydWU7XG4gIGN0cmwuc2hvdWxkQ2VudGVyVGFicyAgPSBzaG91bGRDZW50ZXJUYWJzKCk7XG5cbiAgLy8gZGVmaW5lIHB1YmxpYyBtZXRob2RzXG4gIGN0cmwudXBkYXRlUGFnaW5hdGlvbiAgID0gJG1kVXRpbC5kZWJvdW5jZSh1cGRhdGVQYWdpbmF0aW9uLCAxMDApO1xuICBjdHJsLnJlZGlyZWN0Rm9jdXMgICAgICA9IHJlZGlyZWN0Rm9jdXM7XG4gIGN0cmwuYXR0YWNoUmlwcGxlICAgICAgID0gYXR0YWNoUmlwcGxlO1xuICBjdHJsLmluc2VydFRhYiAgICAgICAgICA9IGluc2VydFRhYjtcbiAgY3RybC5yZW1vdmVUYWIgICAgICAgICAgPSByZW1vdmVUYWI7XG4gIGN0cmwuc2VsZWN0ICAgICAgICAgICAgID0gc2VsZWN0O1xuICBjdHJsLnNjcm9sbCAgICAgICAgICAgICA9IHNjcm9sbDtcbiAgY3RybC5uZXh0UGFnZSAgICAgICAgICAgPSBuZXh0UGFnZTtcbiAgY3RybC5wcmV2aW91c1BhZ2UgICAgICAgPSBwcmV2aW91c1BhZ2U7XG4gIGN0cmwua2V5ZG93biAgICAgICAgICAgID0ga2V5ZG93bjtcbiAgY3RybC5jYW5QYWdlRm9yd2FyZCAgICAgPSBjYW5QYWdlRm9yd2FyZDtcbiAgY3RybC5jYW5QYWdlQmFjayAgICAgICAgPSBjYW5QYWdlQmFjaztcbiAgY3RybC5yZWZyZXNoSW5kZXggICAgICAgPSByZWZyZXNoSW5kZXg7XG4gIGN0cmwuaW5jcmVtZW50SW5kZXggICAgID0gaW5jcmVtZW50SW5kZXg7XG4gIGN0cmwuZ2V0VGFiRWxlbWVudEluZGV4ID0gZ2V0VGFiRWxlbWVudEluZGV4O1xuICBjdHJsLnVwZGF0ZUlua0JhclN0eWxlcyA9ICRtZFV0aWwuZGVib3VuY2UodXBkYXRlSW5rQmFyU3R5bGVzLCAxMDApO1xuICBjdHJsLnVwZGF0ZVRhYk9yZGVyICAgICA9ICRtZFV0aWwuZGVib3VuY2UodXBkYXRlVGFiT3JkZXIsIDEwMCk7XG5cbiAgaW5pdCgpO1xuXG4gIC8qKlxuICAgKiBQZXJmb3JtIGluaXRpYWxpemF0aW9uIGZvciB0aGUgY29udHJvbGxlciwgc2V0dXAgZXZlbnRzIGFuZCB3YXRjaGVyKHMpXG4gICAqL1xuICBmdW5jdGlvbiBpbml0ICgpIHtcbiAgICBjdHJsLnNlbGVjdGVkSW5kZXggPSBjdHJsLnNlbGVjdGVkSW5kZXggfHwgMDtcbiAgICBjb21waWxlVGVtcGxhdGUoKTtcbiAgICBjb25maWd1cmVXYXRjaGVycygpO1xuICAgIGJpbmRFdmVudHMoKTtcbiAgICAkbWRUaGVtaW5nKCRlbGVtZW50KTtcbiAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIHVwZGF0ZUhlaWdodEZyb21Db250ZW50KCk7XG4gICAgICBhZGp1c3RPZmZzZXQoKTtcbiAgICAgIHVwZGF0ZUlua0JhclN0eWxlcygpO1xuICAgICAgY3RybC50YWJzWyBjdHJsLnNlbGVjdGVkSW5kZXggXSAmJiBjdHJsLnRhYnNbIGN0cmwuc2VsZWN0ZWRJbmRleCBdLnNjb3BlLnNlbGVjdCgpO1xuICAgICAgbG9hZGVkID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZVBhZ2luYXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21waWxlcyB0aGUgdGVtcGxhdGUgcHJvdmlkZWQgYnkgdGhlIHVzZXIuICBUaGlzIGlzIHBhc3NlZCBhcyBhbiBhdHRyaWJ1dGUgZnJvbSB0aGUgdGFic1xuICAgKiBkaXJlY3RpdmUncyB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZSAoKSB7XG4gICAgdmFyIHRlbXBsYXRlID0gJGF0dHJzLiRtZFRhYnNUZW1wbGF0ZSxcbiAgICAgICAgZWxlbWVudCAgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudHMuZGF0YSk7XG4gICAgZWxlbWVudC5odG1sKHRlbXBsYXRlKTtcbiAgICAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKGN0cmwucGFyZW50KTtcbiAgICBkZWxldGUgJGF0dHJzLiRtZFRhYnNUZW1wbGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kcyBldmVudHMgdXNlZCBieSB0aGUgdGFicyBjb21wb25lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBiaW5kRXZlbnRzICgpIHtcbiAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oJ3Jlc2l6ZScsIGhhbmRsZVdpbmRvd1Jlc2l6ZSk7XG4gICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBjbGVhbnVwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25maWd1cmUgd2F0Y2hlcihzKSB1c2VkIGJ5IFRhYnNcbiAgICovXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZVdhdGNoZXJzICgpIHtcbiAgICAkc2NvcGUuJHdhdGNoKCckbWRUYWJzQ3RybC5zZWxlY3RlZEluZGV4JywgaGFuZGxlU2VsZWN0ZWRJbmRleENoYW5nZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG9uZS13YXkgYmluZGluZyBtYW51YWxseSByYXRoZXIgdGhhbiByZWx5aW5nIG9uIEFuZ3VsYXIncyBpc29sYXRlZCBzY29wZVxuICAgKiBAcGFyYW0ga2V5XG4gICAqIEBwYXJhbSBoYW5kbGVyXG4gICAqL1xuICBmdW5jdGlvbiBkZWZpbmVPbmVXYXlCaW5kaW5nIChrZXksIGhhbmRsZXIpIHtcbiAgICB2YXIgYXR0ciA9ICRhdHRycy4kbm9ybWFsaXplKCdtZC0nICsga2V5KTtcbiAgICBpZiAoaGFuZGxlcikgZGVmaW5lUHJvcGVydHkoa2V5LCBoYW5kbGVyKTtcbiAgICAkYXR0cnMuJG9ic2VydmUoYXR0ciwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7IGN0cmxbIGtleSBdID0gbmV3VmFsdWU7IH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmluZXMgYm9vbGVhbiBhdHRyaWJ1dGVzIHdpdGggZGVmYXVsdCB2YWx1ZSBzZXQgdG8gdHJ1ZS4gIChpZS4gbWQtc3RyZXRjaC10YWJzIHdpdGggbm8gdmFsdWVcbiAgICogd2lsbCBiZSB0cmVhdGVkIGFzIGJlaW5nIHRydXRoeSlcbiAgICogQHBhcmFtIGtleVxuICAgKiBAcGFyYW0gaGFuZGxlclxuICAgKi9cbiAgZnVuY3Rpb24gZGVmaW5lQm9vbGVhbkF0dHJpYnV0ZSAoa2V5LCBoYW5kbGVyKSB7XG4gICAgdmFyIGF0dHIgPSAkYXR0cnMuJG5vcm1hbGl6ZSgnbWQtJyArIGtleSk7XG4gICAgaWYgKGhhbmRsZXIpIGRlZmluZVByb3BlcnR5KGtleSwgaGFuZGxlcik7XG4gICAgaWYgKCRhdHRycy5oYXNPd25Qcm9wZXJ0eShhdHRyKSkgdXBkYXRlVmFsdWUoJGF0dHJzW2F0dHJdKTtcbiAgICAkYXR0cnMuJG9ic2VydmUoYXR0ciwgdXBkYXRlVmFsdWUpO1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVZhbHVlIChuZXdWYWx1ZSkge1xuICAgICAgY3RybFsga2V5IF0gPSBuZXdWYWx1ZSAhPT0gJ2ZhbHNlJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFueSBldmVudHMgZGVmaW5lZCBieSB0aGlzIGNvbnRyb2xsZXJcbiAgICovXG4gIGZ1bmN0aW9uIGNsZWFudXAgKCkge1xuICAgIGRlc3Ryb3llZCA9IHRydWU7XG4gICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgaGFuZGxlV2luZG93UmVzaXplKTtcbiAgfVxuXG4gIC8vIENoYW5nZSBoYW5kbGVyc1xuXG4gIC8qKlxuICAgKiBUb2dnbGVzIHN0cmV0Y2ggdGFicyBjbGFzcyBhbmQgdXBkYXRlcyBpbmtiYXIgd2hlbiB0YWIgc3RyZXRjaGluZyBjaGFuZ2VzXG4gICAqIEBwYXJhbSBzdHJldGNoVGFic1xuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlU3RyZXRjaFRhYnMgKHN0cmV0Y2hUYWJzKSB7XG4gICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRzLndyYXBwZXIpLnRvZ2dsZUNsYXNzKCdtZC1zdHJldGNoLXRhYnMnLCBzaG91bGRTdHJldGNoVGFicygpKTtcbiAgICB1cGRhdGVJbmtCYXJTdHlsZXMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNlbnRlclRhYnMgKG5ld1ZhbHVlKSB7XG4gICAgY3RybC5zaG91bGRDZW50ZXJUYWJzID0gc2hvdWxkQ2VudGVyVGFicygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTWF4VGFiV2lkdGggKG5ld1dpZHRoLCBvbGRXaWR0aCkge1xuICAgIGlmIChuZXdXaWR0aCAhPT0gb2xkV2lkdGgpIHtcbiAgICAgICRtZFV0aWwubmV4dFRpY2soY3RybC51cGRhdGVJbmtCYXJTdHlsZXMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVNob3VsZFBhZ2luYXRlIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICBjdHJsLm1heFRhYldpZHRoICAgICAgPSBnZXRNYXhUYWJXaWR0aCgpO1xuICAgICAgY3RybC5zaG91bGRDZW50ZXJUYWJzID0gc2hvdWxkQ2VudGVyVGFicygpO1xuICAgICAgJG1kVXRpbC5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN0cmwubWF4VGFiV2lkdGggPSBnZXRNYXhUYWJXaWR0aCgpO1xuICAgICAgICBhZGp1c3RPZmZzZXQoY3RybC5zZWxlY3RlZEluZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQvcmVtb3ZlIHRoZSBgbWQtbm8tdGFiLWNvbnRlbnRgIGNsYXNzIGRlcGVuZGluZyBvbiBgY3RybC5oYXNDb250ZW50YFxuICAgKiBAcGFyYW0gaGFzQ29udGVudFxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlSGFzQ29udGVudCAoaGFzQ29udGVudCkge1xuICAgICRlbGVtZW50WyBoYXNDb250ZW50ID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcycgXSgnbWQtbm8tdGFiLWNvbnRlbnQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBjdHJsLm9mZnNldExlZnQgdG8gdGhlIHBhZ2luZyBlbGVtZW50IHdoZW4gaXQgY2hhbmdlc1xuICAgKiBAcGFyYW0gbGVmdFxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlT2Zmc2V0Q2hhbmdlIChsZWZ0KSB7XG4gICAgdmFyIG5ld1ZhbHVlID0gY3RybC5zaG91bGRDZW50ZXJUYWJzID8gJycgOiAnLScgKyBsZWZ0ICsgJ3B4JztcbiAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudHMucGFnaW5nKS5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgJ3RyYW5zbGF0ZTNkKCcgKyBuZXdWYWx1ZSArICcsIDAsIDApJyk7XG4gICAgJHNjb3BlLiRicm9hZGNhc3QoJyRtZFRhYnNQYWdpbmF0aW9uQ2hhbmdlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgVUkgd2hlbmV2ZXIgYGN0cmwuZm9jdXNJbmRleGAgaXMgdXBkYXRlZFxuICAgKiBAcGFyYW0gbmV3SW5kZXhcbiAgICogQHBhcmFtIG9sZEluZGV4XG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVGb2N1c0luZGV4Q2hhbmdlIChuZXdJbmRleCwgb2xkSW5kZXgpIHtcbiAgICBpZiAobmV3SW5kZXggPT09IG9sZEluZGV4KSByZXR1cm47XG4gICAgaWYgKCFlbGVtZW50cy50YWJzWyBuZXdJbmRleCBdKSByZXR1cm47XG4gICAgYWRqdXN0T2Zmc2V0KCk7XG4gICAgcmVkaXJlY3RGb2N1cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgVUkgd2hlbmV2ZXIgdGhlIHNlbGVjdGVkIGluZGV4IGNoYW5nZXMuIENhbGxzIHVzZXItZGVmaW5lZCBzZWxlY3QvZGVzZWxlY3QgbWV0aG9kcy5cbiAgICogQHBhcmFtIG5ld1ZhbHVlXG4gICAqIEBwYXJhbSBvbGRWYWx1ZVxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlU2VsZWN0ZWRJbmRleENoYW5nZSAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgaWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSkgcmV0dXJuO1xuICAgIFxuICAgIGN0cmwuc2VsZWN0ZWRJbmRleCAgICAgPSBnZXROZWFyZXN0U2FmZUluZGV4KG5ld1ZhbHVlKTtcbiAgICBjdHJsLmxhc3RTZWxlY3RlZEluZGV4ID0gb2xkVmFsdWU7XG4gICAgY3RybC51cGRhdGVJbmtCYXJTdHlsZXMoKTtcbiAgICB1cGRhdGVIZWlnaHRGcm9tQ29udGVudCgpO1xuICAgIGFkanVzdE9mZnNldChuZXdWYWx1ZSk7XG4gICAgJHNjb3BlLiRicm9hZGNhc3QoJyRtZFRhYnNDaGFuZ2VkJyk7XG4gICAgY3RybC50YWJzWyBvbGRWYWx1ZSBdICYmIGN0cmwudGFic1sgb2xkVmFsdWUgXS5zY29wZS5kZXNlbGVjdCgpO1xuICAgIGN0cmwudGFic1sgbmV3VmFsdWUgXSAmJiBjdHJsLnRhYnNbIG5ld1ZhbHVlIF0uc2NvcGUuc2VsZWN0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYWJFbGVtZW50SW5kZXgodGFiRWwpe1xuICAgIHZhciB0YWJzID0gJGVsZW1lbnRbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLXRhYicpO1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHRhYnMsIHRhYkVsWzBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWV1ZXMgdXAgYSBjYWxsIHRvIGBoYW5kbGVXaW5kb3dSZXNpemVgIHdoZW4gYSByZXNpemUgb2NjdXJzIHdoaWxlIHRoZSB0YWJzIGNvbXBvbmVudCBpc1xuICAgKiBoaWRkZW4uXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVSZXNpemVXaGVuVmlzaWJsZSAoKSB7XG4gICAgLy8gaWYgdGhlcmUgaXMgYWxyZWFkeSBhIHdhdGNoZXIgd2FpdGluZyBmb3IgcmVzaXplLCBkbyBub3RoaW5nXG4gICAgaWYgKGhhbmRsZVJlc2l6ZVdoZW5WaXNpYmxlLndhdGNoZXIpIHJldHVybjtcbiAgICAvLyBvdGhlcndpc2UsIHdlIHdpbGwgYWJ1c2UgdGhlICR3YXRjaCBmdW5jdGlvbiB0byBjaGVjayBmb3IgdmlzaWJsZVxuICAgIGhhbmRsZVJlc2l6ZVdoZW5WaXNpYmxlLndhdGNoZXIgPSAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHNpbmNlIHdlIGFyZSBjaGVja2luZyBmb3IgRE9NIHNpemUsIHdlIHVzZSAkbWRVdGlsLm5leHRUaWNrKCkgdG8gd2FpdCBmb3IgYWZ0ZXIgdGhlIERPTSB1cGRhdGVzXG4gICAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWYgdGhlIHdhdGNoZXIgaGFzIGFscmVhZHkgcnVuIChpZS4gbXVsdGlwbGUgZGlnZXN0cyBpbiBvbmUgY3ljbGUpLCBkbyBub3RoaW5nXG4gICAgICAgIGlmICghaGFuZGxlUmVzaXplV2hlblZpc2libGUud2F0Y2hlcikgcmV0dXJuO1xuXG4gICAgICAgIGlmICgkZWxlbWVudC5wcm9wKCdvZmZzZXRQYXJlbnQnKSkge1xuICAgICAgICAgIGhhbmRsZVJlc2l6ZVdoZW5WaXNpYmxlLndhdGNoZXIoKTtcbiAgICAgICAgICBoYW5kbGVSZXNpemVXaGVuVmlzaWJsZS53YXRjaGVyID0gbnVsbDtcblxuICAgICAgICAgIGhhbmRsZVdpbmRvd1Jlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgICB9LCBmYWxzZSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBFdmVudCBoYW5kbGVycyAvIGFjdGlvbnNcblxuICAvKipcbiAgICogSGFuZGxlIHVzZXIga2V5Ym9hcmQgaW50ZXJhY3Rpb25zXG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgZnVuY3Rpb24ga2V5ZG93biAoZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuTEVGVF9BUlJPVzpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaW5jcmVtZW50SW5kZXgoLTEsIHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuUklHSFRfQVJST1c6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGluY3JlbWVudEluZGV4KDEsIHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuU1BBQ0U6XG4gICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkVOVEVSOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIWxvY2tlZCkgY3RybC5zZWxlY3RlZEluZGV4ID0gY3RybC5mb2N1c0luZGV4O1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgY3RybC5sYXN0Q2xpY2sgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHNlbGVjdGVkIGluZGV4IGFuZCB0cmlnZ2VyIGEgY2xpY2sgZXZlbnQgb24gdGhlIG9yaWdpbmFsIGBtZC10YWJgIGVsZW1lbnQgaW4gb3JkZXJcbiAgICogdG8gZmlyZSB1c2VyLWFkZGVkIGNsaWNrIGV2ZW50cy5cbiAgICogQHBhcmFtIGluZGV4XG4gICAqL1xuICBmdW5jdGlvbiBzZWxlY3QgKGluZGV4KSB7XG4gICAgaWYgKCFsb2NrZWQpIGN0cmwuZm9jdXNJbmRleCA9IGN0cmwuc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuICAgIGN0cmwubGFzdENsaWNrID0gdHJ1ZTtcbiAgICAvLyBuZXh0VGljayBpcyByZXF1aXJlZCB0byBwcmV2ZW50IGVycm9ycyBpbiB1c2VyLWRlZmluZWQgY2xpY2sgZXZlbnRzXG4gICAgJG1kVXRpbC5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICBjdHJsLnRhYnNbIGluZGV4IF0uZWxlbWVudC50cmlnZ2VySGFuZGxlcignY2xpY2snKTtcbiAgICB9LCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogV2hlbiBwYWdpbmF0aW9uIGlzIG9uLCB0aGlzIG1ha2VzIHN1cmUgdGhlIHNlbGVjdGVkIGluZGV4IGlzIGluIHZpZXcuXG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgZnVuY3Rpb24gc2Nyb2xsIChldmVudCkge1xuICAgIGlmICghY3RybC5zaG91bGRQYWdpbmF0ZSkgcmV0dXJuO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY3RybC5vZmZzZXRMZWZ0ID0gZml4T2Zmc2V0KGN0cmwub2Zmc2V0TGVmdCAtIGV2ZW50LndoZWVsRGVsdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNsaWRlcyB0aGUgdGFicyBvdmVyIGFwcHJveGltYXRlbHkgb25lIHBhZ2UgZm9yd2FyZC5cbiAgICovXG4gIGZ1bmN0aW9uIG5leHRQYWdlICgpIHtcbiAgICB2YXIgdmlld3BvcnRXaWR0aCA9IGVsZW1lbnRzLmNhbnZhcy5jbGllbnRXaWR0aCxcbiAgICAgICAgdG90YWxXaWR0aCAgICA9IHZpZXdwb3J0V2lkdGggKyBjdHJsLm9mZnNldExlZnQsXG4gICAgICAgIGksIHRhYjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZWxlbWVudHMudGFicy5sZW5ndGg7IGkrKykge1xuICAgICAgdGFiID0gZWxlbWVudHMudGFic1sgaSBdO1xuICAgICAgaWYgKHRhYi5vZmZzZXRMZWZ0ICsgdGFiLm9mZnNldFdpZHRoID4gdG90YWxXaWR0aCkgYnJlYWs7XG4gICAgfVxuICAgIGN0cmwub2Zmc2V0TGVmdCA9IGZpeE9mZnNldCh0YWIub2Zmc2V0TGVmdCk7XG4gIH1cblxuICAvKipcbiAgICogU2xpZGVzIHRoZSB0YWJzIG92ZXIgYXBwcm94aW1hdGVseSBvbmUgcGFnZSBiYWNrd2FyZC5cbiAgICovXG4gIGZ1bmN0aW9uIHByZXZpb3VzUGFnZSAoKSB7XG4gICAgdmFyIGksIHRhYjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZWxlbWVudHMudGFicy5sZW5ndGg7IGkrKykge1xuICAgICAgdGFiID0gZWxlbWVudHMudGFic1sgaSBdO1xuICAgICAgaWYgKHRhYi5vZmZzZXRMZWZ0ICsgdGFiLm9mZnNldFdpZHRoID49IGN0cmwub2Zmc2V0TGVmdCkgYnJlYWs7XG4gICAgfVxuICAgIGN0cmwub2Zmc2V0TGVmdCA9IGZpeE9mZnNldCh0YWIub2Zmc2V0TGVmdCArIHRhYi5vZmZzZXRXaWR0aCAtIGVsZW1lbnRzLmNhbnZhcy5jbGllbnRXaWR0aCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHNpemUgY2FsY3VsYXRpb25zIHdoZW4gdGhlIHdpbmRvdyBpcyByZXNpemVkLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlV2luZG93UmVzaXplICgpIHtcbiAgICBjdHJsLmxhc3RTZWxlY3RlZEluZGV4ID0gY3RybC5zZWxlY3RlZEluZGV4O1xuICAgIGN0cmwub2Zmc2V0TGVmdCAgICAgICAgPSBmaXhPZmZzZXQoY3RybC5vZmZzZXRMZWZ0KTtcbiAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIGN0cmwudXBkYXRlSW5rQmFyU3R5bGVzKCk7XG4gICAgICB1cGRhdGVQYWdpbmF0aW9uKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVJbmtCYXIgKGhpZGUpIHtcbiAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudHMuaW5rQmFyKS50b2dnbGVDbGFzcygnbmctaGlkZScsIGhpZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBkeW5hbWljIGhlaWdodCBjbGFzcyB3aGVuIHZhbHVlIGNoYW5nZXNcbiAgICogQHBhcmFtIHZhbHVlXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVEeW5hbWljSGVpZ2h0ICh2YWx1ZSkge1xuICAgICRlbGVtZW50LnRvZ2dsZUNsYXNzKCdtZC1keW5hbWljLWhlaWdodCcsIHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB0YWIgZnJvbSB0aGUgZGF0YSBhbmQgc2VsZWN0IHRoZSBuZWFyZXN0IHZhbGlkIHRhYi5cbiAgICogQHBhcmFtIHRhYkRhdGFcbiAgICovXG4gIGZ1bmN0aW9uIHJlbW92ZVRhYiAodGFiRGF0YSkge1xuICAgIGlmIChkZXN0cm95ZWQpIHJldHVybjtcbiAgICB2YXIgc2VsZWN0ZWRJbmRleCA9IGN0cmwuc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgdGFiICAgICAgICAgICA9IGN0cmwudGFicy5zcGxpY2UodGFiRGF0YS5nZXRJbmRleCgpLCAxKVsgMCBdO1xuICAgIHJlZnJlc2hJbmRleCgpO1xuICAgIC8vIHdoZW4gcmVtb3ZpbmcgYSB0YWIsIGlmIHRoZSBzZWxlY3RlZCBpbmRleCBkaWQgbm90IGNoYW5nZSwgd2UgaGF2ZSB0byBtYW51YWxseSB0cmlnZ2VyIHRoZVxuICAgIC8vICAgdGFiIHNlbGVjdC9kZXNlbGVjdCBldmVudHNcbiAgICBpZiAoY3RybC5zZWxlY3RlZEluZGV4ID09PSBzZWxlY3RlZEluZGV4KSB7XG4gICAgICB0YWIuc2NvcGUuZGVzZWxlY3QoKTtcbiAgICAgIGN0cmwudGFic1sgY3RybC5zZWxlY3RlZEluZGV4IF0gJiYgY3RybC50YWJzWyBjdHJsLnNlbGVjdGVkSW5kZXggXS5zY29wZS5zZWxlY3QoKTtcbiAgICB9XG4gICAgJG1kVXRpbC5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICB1cGRhdGVQYWdpbmF0aW9uKCk7XG4gICAgICBjdHJsLm9mZnNldExlZnQgPSBmaXhPZmZzZXQoY3RybC5vZmZzZXRMZWZ0KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gZW50cnkgaW4gdGhlIHRhYnMgYXJyYXkgZm9yIGEgbmV3IHRhYiBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgKiBAcGFyYW0gdGFiRGF0YVxuICAgKiBAcGFyYW0gaW5kZXhcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBmdW5jdGlvbiBpbnNlcnRUYWIgKHRhYkRhdGEsIGluZGV4KSB7XG4gICAgdmFyIGhhc0xvYWRlZCA9IGxvYWRlZDtcbiAgICB2YXIgcHJvdG8gICAgID0ge1xuICAgICAgICAgIGdldEluZGV4OiAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3RybC50YWJzLmluZGV4T2YodGFiKTsgfSxcbiAgICAgICAgICBpc0FjdGl2ZTogICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2V0SW5kZXgoKSA9PT0gY3RybC5zZWxlY3RlZEluZGV4OyB9LFxuICAgICAgICAgIGlzTGVmdDogICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5nZXRJbmRleCgpIDwgY3RybC5zZWxlY3RlZEluZGV4OyB9LFxuICAgICAgICAgIGlzUmlnaHQ6ICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5nZXRJbmRleCgpID4gY3RybC5zZWxlY3RlZEluZGV4OyB9LFxuICAgICAgICAgIHNob3VsZFJlbmRlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gIWN0cmwubm9EaXNjb25uZWN0IHx8IHRoaXMuaXNBY3RpdmUoKTsgfSxcbiAgICAgICAgICBoYXNGb2N1czogICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhY3RybC5sYXN0Q2xpY2tcbiAgICAgICAgICAgICAgICAmJiBjdHJsLmhhc0ZvY3VzICYmIHRoaXMuZ2V0SW5kZXgoKSA9PT0gY3RybC5mb2N1c0luZGV4O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaWQ6ICAgICAgICAgICAkbWRVdGlsLm5leHRVaWQoKVxuICAgICAgICB9LFxuICAgICAgICB0YWIgICAgICAgPSBhbmd1bGFyLmV4dGVuZChwcm90bywgdGFiRGF0YSk7XG4gICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGluZGV4KSkge1xuICAgICAgY3RybC50YWJzLnNwbGljZShpbmRleCwgMCwgdGFiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3RybC50YWJzLnB1c2godGFiKTtcbiAgICB9XG4gICAgcHJvY2Vzc1F1ZXVlKCk7XG4gICAgdXBkYXRlSGFzQ29udGVudCgpO1xuICAgICRtZFV0aWwubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgdXBkYXRlUGFnaW5hdGlvbigpO1xuICAgICAgLy8gaWYgYXV0b3NlbGVjdCBpcyBlbmFibGVkLCBzZWxlY3QgdGhlIG5ld2x5IGFkZGVkIHRhYlxuICAgICAgaWYgKGhhc0xvYWRlZCAmJiBjdHJsLmF1dG9zZWxlY3QpICRtZFV0aWwubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgc2VsZWN0KGN0cmwudGFicy5pbmRleE9mKHRhYikpOyB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0YWI7XG4gIH1cblxuICAvLyBHZXR0ZXIgbWV0aG9kc1xuXG4gIC8qKlxuICAgKiBHYXRoZXJzIHJlZmVyZW5jZXMgdG8gYWxsIG9mIHRoZSBET00gZWxlbWVudHMgdXNlZCBieSB0aGlzIGNvbnRyb2xsZXIuXG4gICAqIEByZXR1cm5zIHt7fX1cbiAgICovXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRzICgpIHtcbiAgICB2YXIgZWxlbWVudHMgPSB7fTtcblxuICAgIC8vIGdhdGhlciB0YWIgYmFyIGVsZW1lbnRzXG4gICAgZWxlbWVudHMud3JhcHBlciA9ICRlbGVtZW50WyAwIF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLXRhYnMtd3JhcHBlcicpWyAwIF07XG4gICAgZWxlbWVudHMuZGF0YSAgICA9ICRlbGVtZW50WyAwIF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLXRhYi1kYXRhJylbIDAgXTtcbiAgICBlbGVtZW50cy5jYW52YXMgID0gZWxlbWVudHMud3JhcHBlci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtdGFicy1jYW52YXMnKVsgMCBdO1xuICAgIGVsZW1lbnRzLnBhZ2luZyAgPSBlbGVtZW50cy5jYW52YXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLXBhZ2luYXRpb24td3JhcHBlcicpWyAwIF07XG4gICAgZWxlbWVudHMudGFicyAgICA9IGVsZW1lbnRzLnBhZ2luZy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtdGFiLWl0ZW0nKTtcbiAgICBlbGVtZW50cy5kdW1taWVzID0gZWxlbWVudHMuY2FudmFzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtZC1kdW1teS10YWInKTtcbiAgICBlbGVtZW50cy5pbmtCYXIgID0gZWxlbWVudHMucGFnaW5nLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtZC1pbmstYmFyJylbIDAgXTtcblxuICAgIC8vIGdhdGhlciB0YWIgY29udGVudCBlbGVtZW50c1xuICAgIGVsZW1lbnRzLmNvbnRlbnRzV3JhcHBlciA9ICRlbGVtZW50WyAwIF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLXRhYnMtY29udGVudC13cmFwcGVyJylbIDAgXTtcbiAgICBlbGVtZW50cy5jb250ZW50cyAgICAgICAgPSBlbGVtZW50cy5jb250ZW50c1dyYXBwZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLXRhYi1jb250ZW50Jyk7XG5cbiAgICByZXR1cm4gZWxlbWVudHM7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCB0aGUgbGVmdCBwYWdpbmF0aW9uIGFycm93IHNob3VsZCBiZSBlbmFibGVkLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIGNhblBhZ2VCYWNrICgpIHtcbiAgICByZXR1cm4gY3RybC5vZmZzZXRMZWZ0ID4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRoZSByaWdodCBwYWdpbmF0aW9uIGFycm93IHNob3VsZCBiZSBlbmFibGVkLlxuICAgKiBAcmV0dXJucyB7Knxib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gY2FuUGFnZUZvcndhcmQgKCkge1xuICAgIHZhciBsYXN0VGFiID0gZWxlbWVudHMudGFic1sgZWxlbWVudHMudGFicy5sZW5ndGggLSAxIF07XG4gICAgcmV0dXJuIGxhc3RUYWIgJiYgbGFzdFRhYi5vZmZzZXRMZWZ0ICsgbGFzdFRhYi5vZmZzZXRXaWR0aCA+IGVsZW1lbnRzLmNhbnZhcy5jbGllbnRXaWR0aCArXG4gICAgICAgIGN0cmwub2Zmc2V0TGVmdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBVSSBzaG91bGQgc3RyZXRjaCB0aGUgdGFicyB0byBmaWxsIHRoZSBhdmFpbGFibGUgc3BhY2UuXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gc2hvdWxkU3RyZXRjaFRhYnMgKCkge1xuICAgIHN3aXRjaCAoY3RybC5zdHJldGNoVGFicykge1xuICAgICAgY2FzZSAnYWx3YXlzJzpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlICduZXZlcic6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAhY3RybC5zaG91bGRQYWdpbmF0ZVxuICAgICAgICAgICAgJiYgJHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA2MDBweCknKS5tYXRjaGVzO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSB0YWJzIHNob3VsZCBhcHBlYXIgY2VudGVyZWQuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8Ym9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIHNob3VsZENlbnRlclRhYnMgKCkge1xuICAgIHJldHVybiBjdHJsLmNlbnRlclRhYnMgJiYgIWN0cmwuc2hvdWxkUGFnaW5hdGU7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBwYWdpbmF0aW9uIGlzIG5lY2Vzc2FyeSB0byBkaXNwbGF5IHRoZSB0YWJzIHdpdGhpbiB0aGUgYXZhaWxhYmxlIHNwYWNlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIHNob3VsZFBhZ2luYXRlICgpIHtcbiAgICBpZiAoY3RybC5ub1BhZ2luYXRpb24gfHwgIWxvYWRlZCkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBjYW52YXNXaWR0aCA9ICRlbGVtZW50LnByb3AoJ2NsaWVudFdpZHRoJyk7XG4gICAgYW5ndWxhci5mb3JFYWNoKGdldEVsZW1lbnRzKCkuZHVtbWllcywgZnVuY3Rpb24gKHRhYikgeyBjYW52YXNXaWR0aCAtPSB0YWIub2Zmc2V0V2lkdGg7IH0pO1xuICAgIHJldHVybiBjYW52YXNXaWR0aCA8IDA7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgdGhlIG5lYXJlc3QgdGFiIGluZGV4IHRoYXQgaXMgYXZhaWxhYmxlLiAgVGhpcyBpcyBwcmltYXJpbHkgdXNlZCBmb3Igd2hlbiB0aGUgYWN0aXZlXG4gICAqIHRhYiBpcyByZW1vdmVkLlxuICAgKiBAcGFyYW0gbmV3SW5kZXhcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBmdW5jdGlvbiBnZXROZWFyZXN0U2FmZUluZGV4IChuZXdJbmRleCkge1xuICAgIGlmIChuZXdJbmRleCA9PT0gLTEpIHJldHVybiAtMTtcbiAgICB2YXIgbWF4T2Zmc2V0ID0gTWF0aC5tYXgoY3RybC50YWJzLmxlbmd0aCAtIG5ld0luZGV4LCBuZXdJbmRleCksXG4gICAgICAgIGksIHRhYjtcbiAgICBmb3IgKGkgPSAwOyBpIDw9IG1heE9mZnNldDsgaSsrKSB7XG4gICAgICB0YWIgPSBjdHJsLnRhYnNbIG5ld0luZGV4ICsgaSBdO1xuICAgICAgaWYgKHRhYiAmJiAodGFiLnNjb3BlLmRpc2FibGVkICE9PSB0cnVlKSkgcmV0dXJuIHRhYi5nZXRJbmRleCgpO1xuICAgICAgdGFiID0gY3RybC50YWJzWyBuZXdJbmRleCAtIGkgXTtcbiAgICAgIGlmICh0YWIgJiYgKHRhYi5zY29wZS5kaXNhYmxlZCAhPT0gdHJ1ZSkpIHJldHVybiB0YWIuZ2V0SW5kZXgoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0luZGV4O1xuICB9XG5cbiAgLy8gVXRpbGl0eSBtZXRob2RzXG5cbiAgLyoqXG4gICAqIERlZmluZXMgYSBwcm9wZXJ0eSB1c2luZyBhIGdldHRlciBhbmQgc2V0dGVyIGluIG9yZGVyIHRvIHRyaWdnZXIgYSBjaGFuZ2UgaGFuZGxlciB3aXRob3V0XG4gICAqIHVzaW5nIGAkd2F0Y2hgIHRvIG9ic2VydmUgY2hhbmdlcy5cbiAgICogQHBhcmFtIGtleVxuICAgKiBAcGFyYW0gaGFuZGxlclxuICAgKiBAcGFyYW0gdmFsdWVcbiAgICovXG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5IChrZXksIGhhbmRsZXIsIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0cmwsIGtleSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZTsgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgIHZhciBvbGRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB2YWx1ZSAgICAgICAgPSBuZXdWYWx1ZTtcbiAgICAgICAgaGFuZGxlciAmJiBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB3aGV0aGVyIG9yIG5vdCBwYWdpbmF0aW9uIHNob3VsZCBiZSBkaXNwbGF5ZWQuXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVQYWdpbmF0aW9uICgpIHtcbiAgICBpZiAoIXNob3VsZFN0cmV0Y2hUYWJzKCkpIHVwZGF0ZVBhZ2luZ1dpZHRoKCk7XG4gICAgY3RybC5tYXhUYWJXaWR0aCA9IGdldE1heFRhYldpZHRoKCk7XG4gICAgY3RybC5zaG91bGRQYWdpbmF0ZSA9IHNob3VsZFBhZ2luYXRlKCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVQYWdpbmdXaWR0aCgpIHtcbiAgICB2YXIgd2lkdGggPSAxO1xuICAgIGFuZ3VsYXIuZm9yRWFjaChnZXRFbGVtZW50cygpLmR1bW1pZXMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB3aWR0aCArPSBNYXRoLmNlaWwoZWxlbWVudC5vZmZzZXRXaWR0aCk7XG4gICAgfSk7XG4gICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRzLnBhZ2luZykuY3NzKCd3aWR0aCcsIHdpZHRoICsgJ3B4Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNYXhUYWJXaWR0aCAoKSB7XG4gICAgcmV0dXJuICRlbGVtZW50LnByb3AoJ2NsaWVudFdpZHRoJyk7XG4gIH1cblxuICAvKipcbiAgICogUmUtb3JkZXJzIHRoZSB0YWJzIGFuZCB1cGRhdGVzIHRoZSBzZWxlY3RlZCBhbmQgZm9jdXMgaW5kZXhlcyB0byB0aGVpciBuZXcgcG9zaXRpb25zLlxuICAgKiBUaGlzIGlzIHRyaWdnZXJlZCBieSBgdGFiRGlyZWN0aXZlLmpzYCB3aGVuIHRoZSB1c2VyJ3MgdGFicyBoYXZlIGJlZW4gcmUtb3JkZXJlZC5cbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZVRhYk9yZGVyICgpIHtcbiAgICB2YXIgc2VsZWN0ZWRJdGVtICAgPSBjdHJsLnRhYnNbIGN0cmwuc2VsZWN0ZWRJbmRleCBdLFxuICAgICAgICBmb2N1c0l0ZW0gICAgICA9IGN0cmwudGFic1sgY3RybC5mb2N1c0luZGV4IF07XG4gICAgY3RybC50YWJzICAgICAgICAgID0gY3RybC50YWJzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9KTtcbiAgICBjdHJsLnNlbGVjdGVkSW5kZXggPSBjdHJsLnRhYnMuaW5kZXhPZihzZWxlY3RlZEl0ZW0pO1xuICAgIGN0cmwuZm9jdXNJbmRleCAgICA9IGN0cmwudGFicy5pbmRleE9mKGZvY3VzSXRlbSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtb3ZlcyB0aGUgc2VsZWN0ZWQgb3IgZm9jdXMgaW5kZXggbGVmdCBvciByaWdodC4gIFRoaXMgaXMgdXNlZCBieSB0aGUga2V5ZG93biBoYW5kbGVyLlxuICAgKiBAcGFyYW0gaW5jXG4gICAqL1xuICBmdW5jdGlvbiBpbmNyZW1lbnRJbmRleCAoaW5jLCBmb2N1cykge1xuICAgIHZhciBuZXdJbmRleCxcbiAgICAgICAga2V5ICAgPSBmb2N1cyA/ICdmb2N1c0luZGV4JyA6ICdzZWxlY3RlZEluZGV4JyxcbiAgICAgICAgaW5kZXggPSBjdHJsWyBrZXkgXTtcbiAgICBmb3IgKG5ld0luZGV4ID0gaW5kZXggKyBpbmM7XG4gICAgICAgICBjdHJsLnRhYnNbIG5ld0luZGV4IF0gJiYgY3RybC50YWJzWyBuZXdJbmRleCBdLnNjb3BlLmRpc2FibGVkO1xuICAgICAgICAgbmV3SW5kZXggKz0gaW5jKSB7fVxuICAgIGlmIChjdHJsLnRhYnNbIG5ld0luZGV4IF0pIHtcbiAgICAgIGN0cmxbIGtleSBdID0gbmV3SW5kZXg7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBmb3J3YXJkIGZvY3VzIHRvIGR1bW15IGVsZW1lbnRzLiAgVGhpcyBtZXRob2QgaXMgbmVjZXNzYXJ5IHRvIGF2b2lkIGFuaW1hdGlvblxuICAgKiBpc3N1ZXMgd2hlbiBhdHRlbXB0aW5nIHRvIGZvY3VzIGFuIGl0ZW0gdGhhdCBpcyBvdXQgb2Ygdmlldy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZGlyZWN0Rm9jdXMgKCkge1xuICAgIGdldEVsZW1lbnRzKCkuZHVtbWllc1sgY3RybC5mb2N1c0luZGV4IF0uZm9jdXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZXMgdGhlIHBhZ2luYXRpb24gdG8gbW92ZSB0aGUgZm9jdXNlZCB0YWIgaW50byB2aWV3LlxuICAgKi9cbiAgZnVuY3Rpb24gYWRqdXN0T2Zmc2V0IChpbmRleCkge1xuICAgIGlmIChpbmRleCA9PSBudWxsKSBpbmRleCA9IGN0cmwuZm9jdXNJbmRleDtcbiAgICBpZiAoIWVsZW1lbnRzLnRhYnNbIGluZGV4IF0pIHJldHVybjtcbiAgICBpZiAoY3RybC5zaG91bGRDZW50ZXJUYWJzKSByZXR1cm47XG4gICAgdmFyIHRhYiAgICAgICAgID0gZWxlbWVudHMudGFic1sgaW5kZXggXSxcbiAgICAgICAgbGVmdCAgICAgICAgPSB0YWIub2Zmc2V0TGVmdCxcbiAgICAgICAgcmlnaHQgICAgICAgPSB0YWIub2Zmc2V0V2lkdGggKyBsZWZ0O1xuICAgIGN0cmwub2Zmc2V0TGVmdCA9IE1hdGgubWF4KGN0cmwub2Zmc2V0TGVmdCwgZml4T2Zmc2V0KHJpZ2h0IC0gZWxlbWVudHMuY2FudmFzLmNsaWVudFdpZHRoICsgMzIgKiAyKSk7XG4gICAgY3RybC5vZmZzZXRMZWZ0ID0gTWF0aC5taW4oY3RybC5vZmZzZXRMZWZ0LCBmaXhPZmZzZXQobGVmdCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIHRocm91Z2ggYWxsIHF1ZXVlZCBmdW5jdGlvbnMgYW5kIGNsZWFycyB0aGUgcXVldWUuICBUaGlzIGlzIHVzZWQgZm9yIGZ1bmN0aW9ucyB0aGF0XG4gICAqIGFyZSBjYWxsZWQgYmVmb3JlIHRoZSBVSSBpcyByZWFkeSwgc3VjaCBhcyBzaXplIGNhbGN1bGF0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIHByb2Nlc3NRdWV1ZSAoKSB7XG4gICAgcXVldWUuZm9yRWFjaChmdW5jdGlvbiAoZnVuYykgeyAkbWRVdGlsLm5leHRUaWNrKGZ1bmMpOyB9KTtcbiAgICBxdWV1ZSA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIHRhYiBjb250ZW50IGFyZWEgaXMgbmVlZGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlSGFzQ29udGVudCAoKSB7XG4gICAgdmFyIGhhc0NvbnRlbnQgID0gZmFsc2U7XG4gICAgYW5ndWxhci5mb3JFYWNoKGN0cmwudGFicywgZnVuY3Rpb24gKHRhYikge1xuICAgICAgaWYgKHRhYi50ZW1wbGF0ZSkgaGFzQ29udGVudCA9IHRydWU7XG4gICAgfSk7XG4gICAgY3RybC5oYXNDb250ZW50ID0gaGFzQ29udGVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlcyB0aGUgaW5kZXhlcyB0byB0aGVpciBuZWFyZXN0IHZhbGlkIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZnJlc2hJbmRleCAoKSB7XG4gICAgY3RybC5zZWxlY3RlZEluZGV4ID0gZ2V0TmVhcmVzdFNhZmVJbmRleChjdHJsLnNlbGVjdGVkSW5kZXgpO1xuICAgIGN0cmwuZm9jdXNJbmRleCAgICA9IGdldE5lYXJlc3RTYWZlSW5kZXgoY3RybC5mb2N1c0luZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBjb250ZW50IGhlaWdodCBvZiB0aGUgY3VycmVudCB0YWIuXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlSGVpZ2h0RnJvbUNvbnRlbnQgKCkge1xuICAgIGlmICghY3RybC5keW5hbWljSGVpZ2h0KSByZXR1cm4gJGVsZW1lbnQuY3NzKCdoZWlnaHQnLCAnJyk7XG4gICAgaWYgKCFjdHJsLnRhYnMubGVuZ3RoKSByZXR1cm4gcXVldWUucHVzaCh1cGRhdGVIZWlnaHRGcm9tQ29udGVudCk7XG5cbiAgICB2YXIgdGFiQ29udGVudCAgICA9IGVsZW1lbnRzLmNvbnRlbnRzWyBjdHJsLnNlbGVjdGVkSW5kZXggXSxcbiAgICAgICAgY29udGVudEhlaWdodCA9IHRhYkNvbnRlbnQgPyB0YWJDb250ZW50Lm9mZnNldEhlaWdodCA6IDAsXG4gICAgICAgIHRhYnNIZWlnaHQgICAgPSBlbGVtZW50cy53cmFwcGVyLm9mZnNldEhlaWdodCxcbiAgICAgICAgbmV3SGVpZ2h0ICAgICA9IGNvbnRlbnRIZWlnaHQgKyB0YWJzSGVpZ2h0LFxuICAgICAgICBjdXJyZW50SGVpZ2h0ID0gJGVsZW1lbnQucHJvcCgnY2xpZW50SGVpZ2h0Jyk7XG5cbiAgICBpZiAoY3VycmVudEhlaWdodCA9PT0gbmV3SGVpZ2h0KSByZXR1cm47XG5cbiAgICAvLyBBZGp1c3RzIGNhbGN1bGF0aW9ucyBmb3Igd2hlbiB0aGUgYnV0dG9ucyBhcmUgYm90dG9tLWFsaWduZWQgc2luY2UgdGhpcyByZWxpZXMgb24gYWJzb2x1dGVcbiAgICAvLyBwb3NpdGlvbmluZy4gIFRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIGNsZWFuZWQgdXAgaWYgYSBjbGVhbmVyIHNvbHV0aW9uIGlzIHBvc3NpYmxlLlxuICAgIGlmICgkZWxlbWVudC5hdHRyKCdtZC1hbGlnbi10YWJzJykgPT09ICdib3R0b20nKSB7XG4gICAgICBjdXJyZW50SGVpZ2h0IC09IHRhYnNIZWlnaHQ7XG4gICAgICBuZXdIZWlnaHQgLT0gdGFic0hlaWdodDtcbiAgICAgIC8vIE5lZWQgdG8gaW5jbHVkZSBib3R0b20gYm9yZGVyIGluIHRoZXNlIGNhbGN1bGF0aW9uc1xuICAgICAgaWYgKCRlbGVtZW50LmF0dHIoJ21kLWJvcmRlci1ib3R0b20nKSAhPT0gdW5kZWZpbmVkKSArK2N1cnJlbnRIZWlnaHQ7XG4gICAgfVxuXG4gICAgLy8gTG9jayBkdXJpbmcgYW5pbWF0aW9uIHNvIHRoZSB1c2VyIGNhbid0IGNoYW5nZSB0YWJzXG4gICAgbG9ja2VkID0gdHJ1ZTtcblxuICAgIHZhciBmcm9tSGVpZ2h0ID0geyBoZWlnaHQ6IGN1cnJlbnRIZWlnaHQgKyAncHgnIH0sXG4gICAgICAgIHRvSGVpZ2h0ID0geyBoZWlnaHQ6IG5ld0hlaWdodCArICdweCcgfTtcblxuICAgIC8vIFNldCB0aGUgaGVpZ2h0IHRvIHRoZSBjdXJyZW50LCBzcGVjaWZpYyBwaXhlbCBoZWlnaHQgdG8gZml4IGEgYnVnIG9uIGlPUyB3aGVyZSB0aGUgaGVpZ2h0XG4gICAgLy8gZmlyc3QgYW5pbWF0ZXMgdG8gMCwgdGhlbiBiYWNrIHRvIHRoZSBwcm9wZXIgaGVpZ2h0IGNhdXNpbmcgYSB2aXN1YWwgZ2xpdGNoXG4gICAgJGVsZW1lbnQuY3NzKGZyb21IZWlnaHQpO1xuXG4gICAgLy8gQW5pbWF0ZSB0aGUgaGVpZ2h0IGZyb20gdGhlIG9sZCB0byB0aGUgbmV3XG4gICAgJGFuaW1hdGVDc3MoJGVsZW1lbnQsIHtcbiAgICAgIGZyb206IGZyb21IZWlnaHQsXG4gICAgICB0bzogdG9IZWlnaHQsXG4gICAgICBlYXNpbmc6ICdjdWJpYy1iZXppZXIoMC4zNSwgMCwgMC4yNSwgMSknLFxuICAgICAgZHVyYXRpb246IDAuNVxuICAgIH0pLnN0YXJ0KCkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBUaGVuICh0byBmaXggdGhlIHNhbWUgaU9TIGlzc3VlIGFzIGFib3ZlKSwgZGlzYWJsZSB0cmFuc2l0aW9ucyBhbmQgcmVtb3ZlIHRoZSBzcGVjaWZpY1xuICAgICAgLy8gcGl4ZWwgaGVpZ2h0IHNvIHRoZSBoZWlnaHQgY2FuIHNpemUgd2l0aCBicm93c2VyIHdpZHRoL2NvbnRlbnQgY2hhbmdlcywgZXRjLlxuICAgICAgJGVsZW1lbnQuY3NzKHtcbiAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnLFxuICAgICAgICBoZWlnaHQ6ICcnXG4gICAgICB9KTtcblxuICAgICAgLy8gSW4gdGhlIG5leHQgdGljaywgcmUtYWxsb3cgdHJhbnNpdGlvbnMgKGlmIHdlIGRvIGl0IGFsbCBhdCBvbmNlLCAkZWxlbWVudC5jc3MgaXMgXCJzbWFydFwiXG4gICAgICAvLyBlbm91Z2ggdG8gYmF0Y2ggaXQgZm9yIHVzIGluc3RlYWQgb2YgZG9pbmcgaXQgaW1tZWRpYXRlbHksIHdoaWNoIHVuZG9lcyB0aGUgb3JpZ2luYWxcbiAgICAgIC8vIHRyYW5zaXRpb246IG5vbmUpXG4gICAgICAkbWRVdGlsLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAkZWxlbWVudC5jc3MoJ3RyYW5zaXRpb24nLCAnJyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQW5kIHVubG9jayBzbyB0YWIgY2hhbmdlcyBjYW4gb2NjdXJcbiAgICAgIGxvY2tlZCA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9zaXRpb25zIHRoZSBpbmsgYmFyIHRvIHRoZSBzZWxlY3RlZCB0YWIuXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlSW5rQmFyU3R5bGVzICgpIHtcbiAgICBpZiAoIWVsZW1lbnRzLnRhYnNbIGN0cmwuc2VsZWN0ZWRJbmRleCBdKSB7XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudHMuaW5rQmFyKS5jc3MoeyBsZWZ0OiAnYXV0bycsIHJpZ2h0OiAnYXV0bycgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY3RybC50YWJzLmxlbmd0aCkgcmV0dXJuIHF1ZXVlLnB1c2goY3RybC51cGRhdGVJbmtCYXJTdHlsZXMpO1xuICAgIC8vIGlmIHRoZSBlbGVtZW50IGlzIG5vdCB2aXNpYmxlLCB3ZSB3aWxsIG5vdCBiZSBhYmxlIHRvIGNhbGN1bGF0ZSBzaXplcyB1bnRpbCBpdCBpc1xuICAgIC8vIHdlIHNob3VsZCB0cmVhdCB0aGF0IGFzIGEgcmVzaXplIGV2ZW50IHJhdGhlciB0aGFuIGp1c3QgdXBkYXRpbmcgdGhlIGluayBiYXJcbiAgICBpZiAoISRlbGVtZW50LnByb3AoJ29mZnNldFBhcmVudCcpKSByZXR1cm4gaGFuZGxlUmVzaXplV2hlblZpc2libGUoKTtcbiAgICB2YXIgaW5kZXggICAgICA9IGN0cmwuc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgdG90YWxXaWR0aCA9IGVsZW1lbnRzLnBhZ2luZy5vZmZzZXRXaWR0aCxcbiAgICAgICAgdGFiICAgICAgICA9IGVsZW1lbnRzLnRhYnNbIGluZGV4IF0sXG4gICAgICAgIGxlZnQgICAgICAgPSB0YWIub2Zmc2V0TGVmdCxcbiAgICAgICAgcmlnaHQgICAgICA9IHRvdGFsV2lkdGggLSBsZWZ0IC0gdGFiLm9mZnNldFdpZHRoLFxuICAgICAgICB0YWJXaWR0aDtcbiAgICBpZiAoY3RybC5zaG91bGRDZW50ZXJUYWJzKSB7XG4gICAgICB0YWJXaWR0aCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVsZW1lbnRzLnRhYnMpLnJlZHVjZShmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICsgZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIH0sIDApO1xuICAgICAgaWYgKHRvdGFsV2lkdGggPiB0YWJXaWR0aCkgJG1kVXRpbC5uZXh0VGljayh1cGRhdGVJbmtCYXJTdHlsZXMsIGZhbHNlKTtcbiAgICB9XG4gICAgdXBkYXRlSW5rQmFyQ2xhc3NOYW1lKCk7XG4gICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRzLmlua0JhcikuY3NzKHsgbGVmdDogbGVmdCArICdweCcsIHJpZ2h0OiByaWdodCArICdweCcgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBsZWZ0L3JpZ2h0IGNsYXNzZXMgc28gdGhhdCB0aGUgaW5rIGJhciB3aWxsIGFuaW1hdGUgcHJvcGVybHkuXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVJbmtCYXJDbGFzc05hbWUgKCkge1xuICAgIHZhciBuZXdJbmRleCA9IGN0cmwuc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgb2xkSW5kZXggPSBjdHJsLmxhc3RTZWxlY3RlZEluZGV4LFxuICAgICAgICBpbmsgICAgICA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50cy5pbmtCYXIpO1xuICAgIGlmICghYW5ndWxhci5pc051bWJlcihvbGRJbmRleCkpIHJldHVybjtcbiAgICBpbmtcbiAgICAgICAgLnRvZ2dsZUNsYXNzKCdtZC1sZWZ0JywgbmV3SW5kZXggPCBvbGRJbmRleClcbiAgICAgICAgLnRvZ2dsZUNsYXNzKCdtZC1yaWdodCcsIG5ld0luZGV4ID4gb2xkSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRha2VzIGFuIG9mZnNldCB2YWx1ZSBhbmQgbWFrZXMgc3VyZSB0aGF0IGl0IGlzIHdpdGhpbiB0aGUgbWluL21heCBhbGxvd2VkIHZhbHVlcy5cbiAgICogQHBhcmFtIHZhbHVlXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gZml4T2Zmc2V0ICh2YWx1ZSkge1xuICAgIGlmICghZWxlbWVudHMudGFicy5sZW5ndGggfHwgIWN0cmwuc2hvdWxkUGFnaW5hdGUpIHJldHVybiAwO1xuICAgIHZhciBsYXN0VGFiICAgID0gZWxlbWVudHMudGFic1sgZWxlbWVudHMudGFicy5sZW5ndGggLSAxIF0sXG4gICAgICAgIHRvdGFsV2lkdGggPSBsYXN0VGFiLm9mZnNldExlZnQgKyBsYXN0VGFiLm9mZnNldFdpZHRoO1xuICAgIHZhbHVlICAgICAgICAgID0gTWF0aC5tYXgoMCwgdmFsdWUpO1xuICAgIHZhbHVlICAgICAgICAgID0gTWF0aC5taW4odG90YWxXaWR0aCAtIGVsZW1lbnRzLmNhbnZhcy5jbGllbnRXaWR0aCwgdmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhIHJpcHBsZSB0byB0aGUgdGFiIGl0ZW0gZWxlbWVudC5cbiAgICogQHBhcmFtIHNjb3BlXG4gICAqIEBwYXJhbSBlbGVtZW50XG4gICAqL1xuICBmdW5jdGlvbiBhdHRhY2hSaXBwbGUgKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7IGNvbG9yRWxlbWVudDogYW5ndWxhci5lbGVtZW50KGVsZW1lbnRzLmlua0JhcikgfTtcbiAgICAkbWRUYWJJbmtSaXBwbGUuYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKTtcbiAgfVxufVxuTWRUYWJzQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkd2luZG93XCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUYWJJbmtSaXBwbGVcIiwgXCIkbWRVdGlsXCIsIFwiJGFuaW1hdGVDc3NcIiwgXCIkYXR0cnNcIiwgXCIkY29tcGlsZVwiLCBcIiRtZFRoZW1pbmdcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kVGFic1xuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnRhYnNcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGA8bWQtdGFicz5gIGRpcmVjdGl2ZSBzZXJ2ZXMgYXMgdGhlIGNvbnRhaW5lciBmb3IgMS4ubiBgPG1kLXRhYj5gIGNoaWxkIGRpcmVjdGl2ZXMgdG8gcHJvZHVjZXMgYSBUYWJzIGNvbXBvbmVudHMuXG4gKiBJbiB0dXJuLCB0aGUgbmVzdGVkIGA8bWQtdGFiPmAgZGlyZWN0aXZlIGlzIHVzZWQgdG8gc3BlY2lmeSBhIHRhYiBsYWJlbCBmb3IgdGhlICoqaGVhZGVyIGJ1dHRvbioqIGFuZCBhIFtvcHRpb25hbF0gdGFiIHZpZXdcbiAqIGNvbnRlbnQgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCBlYWNoIHRhYiBidXR0b24uXG4gKlxuICogQmVsb3cgaXMgdGhlIG1hcmt1cCBmb3IgaXRzIHNpbXBsZXN0IHVzYWdlOlxuICpcbiAqICA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogIDxtZC10YWJzPlxuICogICAgPG1kLXRhYiBsYWJlbD1cIlRhYiAjMVwiPjwvbWQtdGFiPlxuICogICAgPG1kLXRhYiBsYWJlbD1cIlRhYiAjMlwiPjwvbWQtdGFiPlxuICogICAgPG1kLXRhYiBsYWJlbD1cIlRhYiAjM1wiPjwvbWQtdGFiPlxuICogIDwvbWQtdGFicz5cbiAqICA8L2hsanM+XG4gKlxuICogVGFicyBzdXBwb3J0cyB0aHJlZSAoMykgdXNhZ2Ugc2NlbmFyaW9zOlxuICpcbiAqICAxLiBUYWJzIChidXR0b25zIG9ubHkpXG4gKiAgMi4gVGFicyB3aXRoIGludGVybmFsIHZpZXcgY29udGVudFxuICogIDMuIFRhYnMgd2l0aCBleHRlcm5hbCB2aWV3IGNvbnRlbnRcbiAqXG4gKiAqKlRhYi1vbmx5Kiogc3VwcG9ydCBpcyB1c2VmdWwgd2hlbiB0YWIgYnV0dG9ucyBhcmUgdXNlZCBmb3IgY3VzdG9tIG5hdmlnYXRpb24gcmVnYXJkbGVzcyBvZiBhbnkgb3RoZXIgY29tcG9uZW50cywgY29udGVudCwgb3Igdmlld3MuXG4gKiAqKlRhYnMgd2l0aCBpbnRlcm5hbCB2aWV3cyoqIGFyZSB0aGUgdHJhZGl0aW9uYWwgdXNhZ2VzIHdoZXJlIGVhY2ggdGFiIGhhcyBhc3NvY2lhdGVkIHZpZXcgY29udGVudCBhbmQgdGhlIHZpZXcgc3dpdGNoaW5nIGlzIG1hbmFnZWQgaW50ZXJuYWxseSBieSB0aGUgVGFicyBjb21wb25lbnQuXG4gKiAqKlRhYnMgd2l0aCBleHRlcm5hbCB2aWV3IGNvbnRlbnQqKiBpcyBvZnRlbiB1c2VmdWwgd2hlbiBjb250ZW50IGFzc29jaWF0ZWQgd2l0aCBlYWNoIHRhYiBpcyBpbmRlcGVuZGVudGx5IG1hbmFnZWQgYW5kIGRhdGEtYmluZGluZyBub3RpZmljYXRpb25zIGFubm91bmNlIHRhYiBzZWxlY3Rpb24gY2hhbmdlcy5cbiAqXG4gKiBBZGRpdGlvbmFsIGZlYXR1cmVzIGFsc28gaW5jbHVkZTpcbiAqXG4gKiAqICBDb250ZW50IGNhbiBpbmNsdWRlIGFueSBtYXJrdXAuXG4gKiAqICBJZiBhIHRhYiBpcyBkaXNhYmxlZCB3aGlsZSBhY3RpdmUvc2VsZWN0ZWQsIHRoZW4gdGhlIG5leHQgdGFiIHdpbGwgYmUgYXV0by1zZWxlY3RlZC5cbiAqXG4gKiAjIyMgRXhwbGFuYXRpb24gb2YgdGFiIHN0cmV0Y2hpbmdcbiAqXG4gKiBJbml0aWFsbHksIHRhYnMgd2lsbCBoYXZlIGFuIGluaGVyZW50IHNpemUuICBUaGlzIHNpemUgd2lsbCBlaXRoZXIgYmUgZGVmaW5lZCBieSBob3cgbXVjaCBzcGFjZSBpcyBuZWVkZWQgdG8gYWNjb21tb2RhdGUgdGhlaXIgdGV4dCBvciBzZXQgYnkgdGhlIHVzZXIgdGhyb3VnaCBDU1MuICBDYWxjdWxhdGlvbnMgd2lsbCBiZSBiYXNlZCBvbiB0aGlzIHNpemUuXG4gKlxuICogT24gbW9iaWxlIGRldmljZXMsIHRhYnMgd2lsbCBiZSBleHBhbmRlZCB0byBmaWxsIHRoZSBhdmFpbGFibGUgaG9yaXpvbnRhbCBzcGFjZS4gIFdoZW4gdGhpcyBoYXBwZW5zLCBhbGwgdGFicyB3aWxsIGJlY29tZSB0aGUgc2FtZSBzaXplLlxuICpcbiAqIE9uIGRlc2t0b3BzLCBieSBkZWZhdWx0LCBzdHJldGNoaW5nIHdpbGwgbmV2ZXIgb2NjdXIuXG4gKlxuICogVGhpcyBkZWZhdWx0IGJlaGF2aW9yIGNhbiBiZSBvdmVycmlkZGVuIHRocm91Z2ggdGhlIGBtZC1zdHJldGNoLXRhYnNgIGF0dHJpYnV0ZS4gIEhlcmUgaXMgYSB0YWJsZSBzaG93aW5nIHdoZW4gc3RyZXRjaGluZyB3aWxsIG9jY3VyOlxuICpcbiAqIGBtZC1zdHJldGNoLXRhYnNgIHwgbW9iaWxlICAgIHwgZGVza3RvcFxuICogLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tfC0tLS0tLS0tXG4gKiBgYXV0b2AgICAgICAgICAgICB8IHN0cmV0Y2hlZCB8IC0tLVxuICogYGFsd2F5c2AgICAgICAgICAgfCBzdHJldGNoZWQgfCBzdHJldGNoZWRcbiAqIGBuZXZlcmAgICAgICAgICAgIHwgLS0tICAgICAgIHwgLS0tXG4gKlxuICogQHBhcmFtIHtpbnRlZ2VyPX0gbWQtc2VsZWN0ZWQgSW5kZXggb2YgdGhlIGFjdGl2ZS9zZWxlY3RlZCB0YWJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLW5vLWluayBJZiBwcmVzZW50LCBkaXNhYmxlcyBpbmsgcmlwcGxlIGVmZmVjdHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1pbmstYmFyIElmIHByZXNlbnQsIGRpc2FibGVzIHRoZSBzZWxlY3Rpb24gaW5rIGJhci5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gIG1kLWFsaWduLXRhYnMgQXR0cmlidXRlIHRvIGluZGljYXRlIHBvc2l0aW9uIG9mIHRhYiBidXR0b25zOiBgYm90dG9tYCBvciBgdG9wYDsgZGVmYXVsdCBpcyBgdG9wYFxuICogQHBhcmFtIHtzdHJpbmc9fSBtZC1zdHJldGNoLXRhYnMgQXR0cmlidXRlIHRvIGluZGljYXRlIHdoZXRoZXIgb3Igbm90IHRvIHN0cmV0Y2ggdGFiczogYGF1dG9gLCBgYWx3YXlzYCwgb3IgYG5ldmVyYDsgZGVmYXVsdCBpcyBgYXV0b2BcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLWR5bmFtaWMtaGVpZ2h0IFdoZW4gZW5hYmxlZCwgdGhlIHRhYiB3cmFwcGVyIHdpbGwgcmVzaXplIGJhc2VkIG9uIHRoZSBjb250ZW50cyBvZiB0aGUgc2VsZWN0ZWQgdGFiXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1jZW50ZXItdGFicyBXaGVuIGVuYWJsZWQsIHRhYnMgd2lsbCBiZSBjZW50ZXJlZCBwcm92aWRlZCB0aGVyZSBpcyBubyBuZWVkIGZvciBwYWdpbmF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1wYWdpbmF0aW9uIFdoZW4gZW5hYmxlZCwgcGFnaW5hdGlvbiB3aWxsIHJlbWFpbiBvZmZcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLXN3aXBlLWNvbnRlbnQgV2hlbiBlbmFibGVkLCBzd2lwZSBnZXN0dXJlcyB3aWxsIGJlIGVuYWJsZWQgZm9yIHRoZSBjb250ZW50IGFyZWEgdG8ganVtcCBiZXR3ZWVuIHRhYnNcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLWVuYWJsZS1kaXNjb25uZWN0IFdoZW4gZW5hYmxlZCwgc2NvcGVzIHdpbGwgYmUgZGlzY29ubmVjdGVkIGZvciB0YWJzIHRoYXQgYXJlIG5vdCBiZWluZyBkaXNwbGF5ZWQuICBUaGlzIHByb3ZpZGVzIGEgcGVyZm9ybWFuY2UgYm9vc3QsIGJ1dCBtYXkgYWxzbyBjYXVzZSB1bmV4cGVjdGVkIGlzc3VlcyBhbmQgaXMgbm90IHJlY29tbWVuZGVkIGZvciBtb3N0IHVzZXJzLlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtYXV0b3NlbGVjdCBXaGVuIHByZXNlbnQsIGFueSB0YWJzIGFkZGVkIGFmdGVyIHRoZSBpbml0aWFsIGxvYWQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHNlbGVjdGVkXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXRhYnMgbWQtc2VsZWN0ZWQ9XCJzZWxlY3RlZEluZGV4XCIgPlxuICogICA8aW1nIG5nLXNyYz1cImltZy9hbmd1bGFyLnBuZ1wiIGNsYXNzPVwiY2VudGVyZWRcIj5cbiAqICAgPG1kLXRhYlxuICogICAgICAgbmctcmVwZWF0PVwidGFiIGluIHRhYnMgfCBvcmRlckJ5OnByZWRpY2F0ZTpyZXZlcnNlZFwiXG4gKiAgICAgICBtZC1vbi1zZWxlY3Q9XCJvblRhYlNlbGVjdGVkKHRhYilcIlxuICogICAgICAgbWQtb24tZGVzZWxlY3Q9XCJhbm5vdW5jZURlc2VsZWN0ZWQodGFiKVwiXG4gKiAgICAgICBuZy1kaXNhYmxlZD1cInRhYi5kaXNhYmxlZFwiPlxuICogICAgIDxtZC10YWItbGFiZWw+XG4gKiAgICAgICB7e3RhYi50aXRsZX19XG4gKiAgICAgICA8aW1nIHNyYz1cImltZy9yZW1vdmVUYWIucG5nXCIgbmctY2xpY2s9XCJyZW1vdmVUYWIodGFiKVwiIGNsYXNzPVwiZGVsZXRlXCI+XG4gKiAgICAgPC9tZC10YWItbGFiZWw+XG4gKiAgICAgPG1kLXRhYi1ib2R5PlxuICogICAgICAge3t0YWIuY29udGVudH19XG4gKiAgICAgPC9tZC10YWItYm9keT5cbiAqICAgPC9tZC10YWI+XG4gKiA8L21kLXRhYnM+XG4gKiA8L2hsanM+XG4gKlxuICovXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgICAuZGlyZWN0aXZlKCdtZFRhYnMnLCBNZFRhYnMpO1xuXG5mdW5jdGlvbiBNZFRhYnMgKCkge1xuICByZXR1cm4ge1xuICAgIHNjb3BlOiAgICAgICAgICAgIHtcbiAgICAgIHNlbGVjdGVkSW5kZXg6ICc9P21kU2VsZWN0ZWQnXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogICAgICAgICBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cikge1xuICAgICAgYXR0clsgXCIkbWRUYWJzVGVtcGxhdGVcIiBdID0gZWxlbWVudC5odG1sKCk7XG4gICAgICByZXR1cm4gJycgK1xuICAgICAgICAnPG1kLXRhYnMtd3JhcHBlcj4gJyArXG4gICAgICAgICAgJzxtZC10YWItZGF0YT48L21kLXRhYi1kYXRhPiAnICtcbiAgICAgICAgICAnPG1kLXByZXYtYnV0dG9uICcgK1xuICAgICAgICAgICAgICAndGFiaW5kZXg9XCItMVwiICcgK1xuICAgICAgICAgICAgICAncm9sZT1cImJ1dHRvblwiICcgK1xuICAgICAgICAgICAgICAnYXJpYS1sYWJlbD1cIlByZXZpb3VzIFBhZ2VcIiAnICtcbiAgICAgICAgICAgICAgJ2FyaWEtZGlzYWJsZWQ9XCJ7eyEkbWRUYWJzQ3RybC5jYW5QYWdlQmFjaygpfX1cIiAnICtcbiAgICAgICAgICAgICAgJ25nLWNsYXNzPVwieyBcXCdtZC1kaXNhYmxlZFxcJzogISRtZFRhYnNDdHJsLmNhblBhZ2VCYWNrKCkgfVwiICcgK1xuICAgICAgICAgICAgICAnbmctaWY9XCIkbWRUYWJzQ3RybC5zaG91bGRQYWdpbmF0ZVwiICcgK1xuICAgICAgICAgICAgICAnbmctY2xpY2s9XCIkbWRUYWJzQ3RybC5wcmV2aW91c1BhZ2UoKVwiPiAnICtcbiAgICAgICAgICAgICc8bWQtaWNvbiBtZC1zdmctaWNvbj1cIm1kLXRhYnMtYXJyb3dcIj48L21kLWljb24+ICcgK1xuICAgICAgICAgICc8L21kLXByZXYtYnV0dG9uPiAnICtcbiAgICAgICAgICAnPG1kLW5leHQtYnV0dG9uICcgK1xuICAgICAgICAgICAgICAndGFiaW5kZXg9XCItMVwiICcgK1xuICAgICAgICAgICAgICAncm9sZT1cImJ1dHRvblwiICcgK1xuICAgICAgICAgICAgICAnYXJpYS1sYWJlbD1cIk5leHQgUGFnZVwiICcgK1xuICAgICAgICAgICAgICAnYXJpYS1kaXNhYmxlZD1cInt7ISRtZFRhYnNDdHJsLmNhblBhZ2VGb3J3YXJkKCl9fVwiICcgK1xuICAgICAgICAgICAgICAnbmctY2xhc3M9XCJ7IFxcJ21kLWRpc2FibGVkXFwnOiAhJG1kVGFic0N0cmwuY2FuUGFnZUZvcndhcmQoKSB9XCIgJyArXG4gICAgICAgICAgICAgICduZy1pZj1cIiRtZFRhYnNDdHJsLnNob3VsZFBhZ2luYXRlXCIgJyArXG4gICAgICAgICAgICAgICduZy1jbGljaz1cIiRtZFRhYnNDdHJsLm5leHRQYWdlKClcIj4gJyArXG4gICAgICAgICAgICAnPG1kLWljb24gbWQtc3ZnLWljb249XCJtZC10YWJzLWFycm93XCI+PC9tZC1pY29uPiAnICtcbiAgICAgICAgICAnPC9tZC1uZXh0LWJ1dHRvbj4gJyArXG4gICAgICAgICAgJzxtZC10YWJzLWNhbnZhcyAnICtcbiAgICAgICAgICAgICAgJ3RhYmluZGV4PVwie3sgJG1kVGFic0N0cmwuaGFzRm9jdXMgPyAtMSA6IDAgfX1cIiAnICtcbiAgICAgICAgICAgICAgJ2FyaWEtYWN0aXZlZGVzY2VuZGFudD1cInRhYi1pdGVtLXt7JG1kVGFic0N0cmwudGFic1skbWRUYWJzQ3RybC5mb2N1c0luZGV4XS5pZH19XCIgJyArXG4gICAgICAgICAgICAgICduZy1mb2N1cz1cIiRtZFRhYnNDdHJsLnJlZGlyZWN0Rm9jdXMoKVwiICcgK1xuICAgICAgICAgICAgICAnbmctY2xhc3M9XCJ7ICcgK1xuICAgICAgICAgICAgICAgICAgJ1xcJ21kLXBhZ2luYXRlZFxcJzogJG1kVGFic0N0cmwuc2hvdWxkUGFnaW5hdGUsICcgK1xuICAgICAgICAgICAgICAgICAgJ1xcJ21kLWNlbnRlci10YWJzXFwnOiAkbWRUYWJzQ3RybC5zaG91bGRDZW50ZXJUYWJzICcgK1xuICAgICAgICAgICAgICAnfVwiICcgK1xuICAgICAgICAgICAgICAnbmcta2V5ZG93bj1cIiRtZFRhYnNDdHJsLmtleWRvd24oJGV2ZW50KVwiICcgK1xuICAgICAgICAgICAgICAncm9sZT1cInRhYmxpc3RcIj4gJyArXG4gICAgICAgICAgICAnPG1kLXBhZ2luYXRpb24td3JhcHBlciAnICtcbiAgICAgICAgICAgICAgICAnbmctY2xhc3M9XCJ7IFxcJ21kLWNlbnRlci10YWJzXFwnOiAkbWRUYWJzQ3RybC5zaG91bGRDZW50ZXJUYWJzIH1cIiAnICtcbiAgICAgICAgICAgICAgICAnbWQtdGFiLXNjcm9sbD1cIiRtZFRhYnNDdHJsLnNjcm9sbCgkZXZlbnQpXCI+ICcgK1xuICAgICAgICAgICAgICAnPG1kLXRhYi1pdGVtICcgK1xuICAgICAgICAgICAgICAgICAgJ3RhYmluZGV4PVwiLTFcIiAnICtcbiAgICAgICAgICAgICAgICAgICdjbGFzcz1cIm1kLXRhYlwiICcgK1xuICAgICAgICAgICAgICAgICAgJ3N0eWxlPVwibWF4LXdpZHRoOiB7eyAkbWRUYWJzQ3RybC5tYXhUYWJXaWR0aCArIFxcJ3B4XFwnIH19XCIgJyArXG4gICAgICAgICAgICAgICAgICAnbmctcmVwZWF0PVwidGFiIGluICRtZFRhYnNDdHJsLnRhYnNcIiAnICtcbiAgICAgICAgICAgICAgICAgICdyb2xlPVwidGFiXCIgJyArXG4gICAgICAgICAgICAgICAgICAnYXJpYS1jb250cm9scz1cInRhYi1jb250ZW50LXt7Ojp0YWIuaWR9fVwiICcgK1xuICAgICAgICAgICAgICAgICAgJ2FyaWEtc2VsZWN0ZWQ9XCJ7e3RhYi5pc0FjdGl2ZSgpfX1cIiAnICtcbiAgICAgICAgICAgICAgICAgICdhcmlhLWRpc2FibGVkPVwie3t0YWIuc2NvcGUuZGlzYWJsZWQgfHwgXFwnZmFsc2VcXCd9fVwiICcgK1xuICAgICAgICAgICAgICAgICAgJ25nLWNsaWNrPVwiJG1kVGFic0N0cmwuc2VsZWN0KHRhYi5nZXRJbmRleCgpKVwiICcgK1xuICAgICAgICAgICAgICAgICAgJ25nLWNsYXNzPVwieyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAnXFwnbWQtYWN0aXZlXFwnOiAgICB0YWIuaXNBY3RpdmUoKSwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgJ1xcJ21kLWZvY3VzZWRcXCc6ICAgdGFiLmhhc0ZvY3VzKCksICcgK1xuICAgICAgICAgICAgICAgICAgICAgICdcXCdtZC1kaXNhYmxlZFxcJzogIHRhYi5zY29wZS5kaXNhYmxlZCAnICtcbiAgICAgICAgICAgICAgICAgICd9XCIgJyArXG4gICAgICAgICAgICAgICAgICAnbmctZGlzYWJsZWQ9XCJ0YWIuc2NvcGUuZGlzYWJsZWRcIiAnICtcbiAgICAgICAgICAgICAgICAgICdtZC1zd2lwZS1sZWZ0PVwiJG1kVGFic0N0cmwubmV4dFBhZ2UoKVwiICcgK1xuICAgICAgICAgICAgICAgICAgJ21kLXN3aXBlLXJpZ2h0PVwiJG1kVGFic0N0cmwucHJldmlvdXNQYWdlKClcIiAnICtcbiAgICAgICAgICAgICAgICAgICdtZC10YWJzLXRlbXBsYXRlPVwiOjp0YWIubGFiZWxcIiAnICtcbiAgICAgICAgICAgICAgICAgICdtZC1zY29wZT1cIjo6dGFiLnBhcmVudFwiPjwvbWQtdGFiLWl0ZW0+ICcgK1xuICAgICAgICAgICAgICAnPG1kLWluay1iYXI+PC9tZC1pbmstYmFyPiAnICtcbiAgICAgICAgICAgICc8L21kLXBhZ2luYXRpb24td3JhcHBlcj4gJyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLXZpc3VhbGx5LWhpZGRlbiBtZC1kdW1teS13cmFwcGVyXCI+ICcgK1xuICAgICAgICAgICAgICAnPG1kLWR1bW15LXRhYiAnICtcbiAgICAgICAgICAgICAgICAgICdjbGFzcz1cIm1kLXRhYlwiICcgK1xuICAgICAgICAgICAgICAgICAgJ3RhYmluZGV4PVwiLTFcIiAnICtcbiAgICAgICAgICAgICAgICAgICdpZD1cInRhYi1pdGVtLXt7Ojp0YWIuaWR9fVwiICcgK1xuICAgICAgICAgICAgICAgICAgJ3JvbGU9XCJ0YWJcIiAnICtcbiAgICAgICAgICAgICAgICAgICdhcmlhLWNvbnRyb2xzPVwidGFiLWNvbnRlbnQte3s6OnRhYi5pZH19XCIgJyArXG4gICAgICAgICAgICAgICAgICAnYXJpYS1zZWxlY3RlZD1cInt7dGFiLmlzQWN0aXZlKCl9fVwiICcgK1xuICAgICAgICAgICAgICAgICAgJ2FyaWEtZGlzYWJsZWQ9XCJ7e3RhYi5zY29wZS5kaXNhYmxlZCB8fCBcXCdmYWxzZVxcJ319XCIgJyArXG4gICAgICAgICAgICAgICAgICAnbmctZm9jdXM9XCIkbWRUYWJzQ3RybC5oYXNGb2N1cyA9IHRydWVcIiAnICtcbiAgICAgICAgICAgICAgICAgICduZy1ibHVyPVwiJG1kVGFic0N0cmwuaGFzRm9jdXMgPSBmYWxzZVwiICcgK1xuICAgICAgICAgICAgICAgICAgJ25nLXJlcGVhdD1cInRhYiBpbiAkbWRUYWJzQ3RybC50YWJzXCIgJyArXG4gICAgICAgICAgICAgICAgICAnbWQtdGFicy10ZW1wbGF0ZT1cIjo6dGFiLmxhYmVsXCIgJyArXG4gICAgICAgICAgICAgICAgICAnbWQtc2NvcGU9XCI6OnRhYi5wYXJlbnRcIj48L21kLWR1bW15LXRhYj4gJyArXG4gICAgICAgICAgICAnPC9kaXY+ICcgK1xuICAgICAgICAgICc8L21kLXRhYnMtY2FudmFzPiAnICtcbiAgICAgICAgJzwvbWQtdGFicy13cmFwcGVyPiAnICtcbiAgICAgICAgJzxtZC10YWJzLWNvbnRlbnQtd3JhcHBlciBuZy1zaG93PVwiJG1kVGFic0N0cmwuaGFzQ29udGVudCAmJiAkbWRUYWJzQ3RybC5zZWxlY3RlZEluZGV4ID49IDBcIj4gJyArXG4gICAgICAgICAgJzxtZC10YWItY29udGVudCAnICtcbiAgICAgICAgICAgICAgJ2lkPVwidGFiLWNvbnRlbnQte3s6OnRhYi5pZH19XCIgJyArXG4gICAgICAgICAgICAgICdyb2xlPVwidGFicGFuZWxcIiAnICtcbiAgICAgICAgICAgICAgJ2FyaWEtbGFiZWxsZWRieT1cInRhYi1pdGVtLXt7Ojp0YWIuaWR9fVwiICcgK1xuICAgICAgICAgICAgICAnbWQtc3dpcGUtbGVmdD1cIiRtZFRhYnNDdHJsLnN3aXBlQ29udGVudCAmJiAkbWRUYWJzQ3RybC5pbmNyZW1lbnRJbmRleCgxKVwiICcgK1xuICAgICAgICAgICAgICAnbWQtc3dpcGUtcmlnaHQ9XCIkbWRUYWJzQ3RybC5zd2lwZUNvbnRlbnQgJiYgJG1kVGFic0N0cmwuaW5jcmVtZW50SW5kZXgoLTEpXCIgJyArXG4gICAgICAgICAgICAgICduZy1pZj1cIiRtZFRhYnNDdHJsLmhhc0NvbnRlbnRcIiAnICtcbiAgICAgICAgICAgICAgJ25nLXJlcGVhdD1cIihpbmRleCwgdGFiKSBpbiAkbWRUYWJzQ3RybC50YWJzXCIgJyArXG4gICAgICAgICAgICAgICduZy1jbGFzcz1cInsgJyArXG4gICAgICAgICAgICAgICAgJ1xcJ21kLW5vLXRyYW5zaXRpb25cXCc6ICRtZFRhYnNDdHJsLmxhc3RTZWxlY3RlZEluZGV4ID09IG51bGwsICcgK1xuICAgICAgICAgICAgICAgICdcXCdtZC1hY3RpdmVcXCc6ICAgICAgICB0YWIuaXNBY3RpdmUoKSwgJyArXG4gICAgICAgICAgICAgICAgJ1xcJ21kLWxlZnRcXCc6ICAgICAgICAgIHRhYi5pc0xlZnQoKSwgJyArXG4gICAgICAgICAgICAgICAgJ1xcJ21kLXJpZ2h0XFwnOiAgICAgICAgIHRhYi5pc1JpZ2h0KCksICcgK1xuICAgICAgICAgICAgICAgICdcXCdtZC1uby1zY3JvbGxcXCc6ICAgICAkbWRUYWJzQ3RybC5keW5hbWljSGVpZ2h0ICcgK1xuICAgICAgICAgICAgICAnfVwiPiAnICtcbiAgICAgICAgICAgICc8ZGl2ICcgK1xuICAgICAgICAgICAgICAgICdtZC10YWJzLXRlbXBsYXRlPVwiOjp0YWIudGVtcGxhdGVcIiAnICtcbiAgICAgICAgICAgICAgICAnbWQtY29ubmVjdGVkLWlmPVwidGFiLmlzQWN0aXZlKClcIiAnICtcbiAgICAgICAgICAgICAgICAnbWQtc2NvcGU9XCI6OnRhYi5wYXJlbnRcIiAnICtcbiAgICAgICAgICAgICAgICAnbmctaWY9XCIkbWRUYWJzQ3RybC5lbmFibGVEaXNjb25uZWN0IHx8IHRhYi5zaG91bGRSZW5kZXIoKVwiPjwvZGl2PiAnICtcbiAgICAgICAgICAnPC9tZC10YWItY29udGVudD4gJyArXG4gICAgICAgICc8L21kLXRhYnMtY29udGVudC13cmFwcGVyPic7XG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAgICAgICAnTWRUYWJzQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAgICAgJyRtZFRhYnNDdHJsJyxcbiAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gIH07XG59XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgICAuZGlyZWN0aXZlKCdtZFRhYnNUZW1wbGF0ZScsIE1kVGFic1RlbXBsYXRlKTtcblxuZnVuY3Rpb24gTWRUYWJzVGVtcGxhdGUgKCRjb21waWxlLCAkbWRVdGlsKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiAgICAgbGluayxcbiAgICBzY29wZTogICAge1xuICAgICAgdGVtcGxhdGU6ICAgICAnPW1kVGFic1RlbXBsYXRlJyxcbiAgICAgIGNvbm5lY3RlZDogICAgJz0/bWRDb25uZWN0ZWRJZicsXG4gICAgICBjb21waWxlU2NvcGU6ICc9bWRTY29wZSdcbiAgICB9LFxuICAgIHJlcXVpcmU6ICAnXj9tZFRhYnMnXG4gIH07XG4gIGZ1bmN0aW9uIGxpbmsgKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgaWYgKCFjdHJsKSByZXR1cm47XG4gICAgdmFyIGNvbXBpbGVTY29wZSA9IGN0cmwuZW5hYmxlRGlzY29ubmVjdCA/IHNjb3BlLmNvbXBpbGVTY29wZS4kbmV3KCkgOiBzY29wZS5jb21waWxlU2NvcGU7XG4gICAgZWxlbWVudC5odG1sKHNjb3BlLnRlbXBsYXRlKTtcbiAgICAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKGNvbXBpbGVTY29wZSk7XG4gICAgZWxlbWVudC5vbignRE9NU3VidHJlZU1vZGlmaWVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgY3RybC51cGRhdGVQYWdpbmF0aW9uKCk7XG4gICAgICBjdHJsLnVwZGF0ZUlua0JhclN0eWxlcygpO1xuICAgIH0pO1xuICAgIHJldHVybiAkbWRVdGlsLm5leHRUaWNrKGhhbmRsZVNjb3BlKTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZVNjb3BlICgpIHtcbiAgICAgIHNjb3BlLiR3YXRjaCgnY29ubmVjdGVkJywgZnVuY3Rpb24gKHZhbHVlKSB7IHZhbHVlID09PSBmYWxzZSA/IGRpc2Nvbm5lY3QoKSA6IHJlY29ubmVjdCgpOyB9KTtcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCByZWNvbm5lY3QpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc2Nvbm5lY3QgKCkge1xuICAgICAgaWYgKGN0cmwuZW5hYmxlRGlzY29ubmVjdCkgJG1kVXRpbC5kaXNjb25uZWN0U2NvcGUoY29tcGlsZVNjb3BlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWNvbm5lY3QgKCkge1xuICAgICAgaWYgKGN0cmwuZW5hYmxlRGlzY29ubmVjdCkgJG1kVXRpbC5yZWNvbm5lY3RTY29wZShjb21waWxlU2NvcGUpO1xuICAgIH1cbiAgfVxufVxuTWRUYWJzVGVtcGxhdGUuJGluamVjdCA9IFtcIiRjb21waWxlXCIsIFwiJG1kVXRpbFwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpeyBcbmFuZ3VsYXIubW9kdWxlKFwibWF0ZXJpYWwuY29yZVwiKS5jb25zdGFudChcIiRNRF9USEVNRV9DU1NcIiwgXCJtZC1hdXRvY29tcGxldGUubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyB9ICBtZC1hdXRvY29tcGxldGUubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0geyAgICBiYWNrZ3JvdW5kOiAne3tiYWNrZ3JvdW5kLTEwMH19JzsgfSAgbWQtYXV0b2NvbXBsZXRlLm1kLVRIRU1FX05BTUUtdGhlbWUgYnV0dG9uIG1kLWljb24gcGF0aCB7ICAgIGZpbGw6ICd7e2JhY2tncm91bmQtNjAwfX0nOyB9ICBtZC1hdXRvY29tcGxldGUubWQtVEhFTUVfTkFNRS10aGVtZSBidXR0b246YWZ0ZXIgeyAgICBiYWNrZ3JvdW5kOiAne3tiYWNrZ3JvdW5kLTYwMC0wLjN9fSc7IH0ubWQtYXV0b2NvbXBsZXRlLXN1Z2dlc3Rpb25zLWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQ6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gIC5tZC1hdXRvY29tcGxldGUtc3VnZ2VzdGlvbnMtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgbGkgeyAgICBjb2xvcjogJ3t7YmFja2dyb3VuZC05MDB9fSc7IH0gICAgLm1kLWF1dG9jb21wbGV0ZS1zdWdnZXN0aW9ucy1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSBsaSAuaGlnaGxpZ2h0IHsgICAgICBjb2xvcjogJ3t7YmFja2dyb3VuZC02MDB9fSc7IH0gICAgLm1kLWF1dG9jb21wbGV0ZS1zdWdnZXN0aW9ucy1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSBsaTpob3ZlciwgLm1kLWF1dG9jb21wbGV0ZS1zdWdnZXN0aW9ucy1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSBsaS5zZWxlY3RlZCB7ICAgICAgYmFja2dyb3VuZDogJ3t7YmFja2dyb3VuZC0yMDB9fSc7IH1tZC1ib3R0b20tc2hlZXQubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7YmFja2dyb3VuZC0zMDB9fSc7IH0gIG1kLWJvdHRvbS1zaGVldC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWxpc3QgbWQtbGlzdC1pdGVtIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtMX19JzsgfSAgbWQtYm90dG9tLXNoZWV0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXN1YmhlYWRlciB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gIG1kLWJvdHRvbS1zaGVldC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1zdWJoZWFkZXIgeyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyB9bWQtYmFja2Ryb3AgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC05MDAtMC4wfX0nOyB9ICBtZC1iYWNrZHJvcC5tZC1vcGFxdWUubWQtVEhFTUVfTkFNRS10aGVtZSB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtOTAwLTEuMH19JzsgfWEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pOmhvdmVyLC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSk6aG92ZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC01MDAtMC4yfX0nOyB9YS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC01MDAtMC4yfX0nOyB9YS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtaWNvbi1idXR0b246aG92ZXIsLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1pY29uLWJ1dHRvbjpob3ZlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfWEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiLC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyAgY29sb3I6ICd7e2FjY2VudC1jb250cmFzdH19JzsgfSAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWIgbWQtaWNvbiwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWIgbWQtaWNvbiB7ICAgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH0gIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmhvdmVyIHsgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYjpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtQTcwMH19JzsgfWEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSwubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSB7ICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLXJhaXNlZCwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYiwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLXJhaXNlZCwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYiB7ICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pIG1kLWljb24sIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pIG1kLWljb24sICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiwgICAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtZmFiOm5vdChbZGlzYWJsZWRdKSBtZC1pY29uIHsgICAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb250cmFzdH19JzsgfSAgICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6aG92ZXIsICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6aG92ZXIsICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6aG92ZXIgeyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYjpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgICAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkLCAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktNjAwfX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnk6bm90KFtkaXNhYmxlZF0pIG1kLWljb24sICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeTpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiB7ICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9YS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWIsLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7ICBjb2xvcjogJ3t7YWNjZW50LWNvbnRyYXN0fX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYjpub3QoW2Rpc2FibGVkXSkgLm1kLWljb24sICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiOm5vdChbZGlzYWJsZWRdKSAubWQtaWNvbiB7ICAgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH0gIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmhvdmVyIHsgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYjpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtQTcwMH19JzsgfWEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcmFpc2VkLC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWQgeyAgY29sb3I6ICd7e2JhY2tncm91bmQtOTAwfX0nOyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC01MH19JzsgfSAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pIC5tZC1pY29uLCAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkgLm1kLWljb24geyAgICBjb2xvcjogJ3t7YmFja2dyb3VuZC1jb250cmFzdH19JzsgfSAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6aG92ZXIgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfWEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiwubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiB7ICBjb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfSAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLXJhaXNlZCwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYiwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLXJhaXNlZCwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYiB7ICAgIGNvbG9yOiAne3t3YXJuLWNvbnRyYXN0fX0nOyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pIG1kLWljb24sIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1mYWI6bm90KFtkaXNhYmxlZF0pIG1kLWljb24sICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiwgICAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtZmFiOm5vdChbZGlzYWJsZWRdKSBtZC1pY29uIHsgICAgICBjb2xvcjogJ3t7d2Fybi1jb250cmFzdH19JzsgfSAgICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6aG92ZXIsICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6aG92ZXIsICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6aG92ZXIgeyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYjpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgICAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkLCAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1mYWI6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tNzAwfX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm46bm90KFtkaXNhYmxlZF0pIG1kLWljb24sICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybjpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiB7ICAgIGNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9YS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQsLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCB7ICBjb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1yYWlzZWQsIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLWZhYiwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtcmFpc2VkLCAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1mYWIgeyAgICBjb2xvcjogJ3t7YWNjZW50LWNvbnRyYXN0fX0nOyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKSBtZC1pY29uLCBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1mYWI6bm90KFtkaXNhYmxlZF0pIG1kLWljb24sICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKSBtZC1pY29uLCAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLWZhYjpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiB7ICAgICAgY29sb3I6ICd7e2FjY2VudC1jb250cmFzdH19JzsgfSAgICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6aG92ZXIsICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtZmFiOm5vdChbZGlzYWJsZWRdKTpob3ZlciB7ICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtZmFiOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkLCAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgICAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1mYWI6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC03MDB9fSc7IH0gIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Om5vdChbZGlzYWJsZWRdKSBtZC1pY29uLCAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudDpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiB7ICAgIGNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1hLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWRbZGlzYWJsZWRdLCBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYltkaXNhYmxlZF0sIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50W2Rpc2FibGVkXSwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuW2Rpc2FibGVkXSwubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdLC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWRbZGlzYWJsZWRdLC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWJbZGlzYWJsZWRdLC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnRbZGlzYWJsZWRdLC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuW2Rpc2FibGVkXSB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nICFpbXBvcnRhbnQ7ICBjdXJzb3I6IGRlZmF1bHQ7IH0gIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIG1kLWljb24sIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcmFpc2VkW2Rpc2FibGVkXSBtZC1pY29uLCBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYltkaXNhYmxlZF0gbWQtaWNvbiwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnRbZGlzYWJsZWRdIG1kLWljb24sIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybltkaXNhYmxlZF0gbWQtaWNvbiwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gbWQtaWNvbiwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWRbZGlzYWJsZWRdIG1kLWljb24sICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiW2Rpc2FibGVkXSBtZC1pY29uLCAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudFtkaXNhYmxlZF0gbWQtaWNvbiwgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuW2Rpc2FibGVkXSBtZC1pY29uIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfWEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcmFpc2VkW2Rpc2FibGVkXSwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWJbZGlzYWJsZWRdLC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWRbZGlzYWJsZWRdLC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWJbZGlzYWJsZWRdIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgfWEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdLC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0geyAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH1tZC1jYXJkLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC1jb2xvcn19JzsgIGJvcmRlci1yYWRpdXM6IDJweDsgfSAgbWQtY2FyZC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1jYXJkLWltYWdlIHsgICAgYm9yZGVyLXJhZGl1czogMnB4IDJweCAwIDA7IH0gIG1kLWNhcmQubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1jYXJkLWhlYWRlciBtZC1jYXJkLWF2YXRhciBtZC1pY29uIHsgICAgY29sb3I6ICd7e2JhY2tncm91bmQtY29sb3J9fSc7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfSAgbWQtY2FyZC5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLWNhcmQtaGVhZGVyIG1kLWNhcmQtaGVhZGVyLXRleHQgLm1kLXN1YmhlYWQgeyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9ICBtZC1jYXJkLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtY2FyZC10aXRsZSBtZC1jYXJkLXRpdGxlLXRleHQ6bm90KDpvbmx5LWNoaWxkKSAubWQtc3ViaGVhZCB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e2FjY2VudC02MDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQgLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7YmFja2dyb3VuZC02MDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtZm9jdXNlZCAubWQtY29udGFpbmVyOmJlZm9yZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3ItMC4yNn19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWluay1yaXBwbGUgeyAgY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSB7ICBjb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuODd9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pY29uIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1pY29uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjg3fX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1pY29uOmFmdGVyIHsgIGJvcmRlci1jb2xvcjogJ3t7YWNjZW50LWNvbnRyYXN0LTAuODd9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e3ByaW1hcnktNjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e2JhY2tncm91bmQtNjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtaW5rLXJpcHBsZSB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlIHsgIGNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuODd9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1pY29uIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1pY29uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3ItMC44N319JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkubWQtY2hlY2tlZC5tZC1mb2N1c2VkIC5tZC1jb250YWluZXI6YmVmb3JlIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3ItMC4yNn19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkubWQtY2hlY2tlZCAubWQtaWNvbjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3QtMC44N319JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4gLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7d2Fybi02MDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1pbmstcmlwcGxlIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuLm1kLWNoZWNrZWQgLm1kLWluay1yaXBwbGUgeyAgY29sb3I6ICd7e3dhcm4tY29sb3ItMC44N319JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4gLm1kLWljb24geyAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuLm1kLWNoZWNrZWQgLm1kLWljb24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvci0wLjg3fX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2Fybi5tZC1jaGVja2VkLm1kLWZvY3VzZWQ6bm90KFtkaXNhYmxlZF0pIC5tZC1jb250YWluZXI6YmVmb3JlIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3ItMC4yNn19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4ubWQtY2hlY2tlZCAubWQtaWNvbjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e2JhY2tncm91bmQtMjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLWljb24geyAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXS5tZC1jaGVja2VkIC5tZC1pY29uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdLm1kLWNoZWNrZWQgLm1kLWljb246YWZ0ZXIgeyAgYm9yZGVyLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1sYWJlbCB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtY2hpcHMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2hpcHMgeyAgYm94LXNoYWRvdzogMCAxcHggJ3t7YmFja2dyb3VuZC0zMDB9fSc7IH0gIG1kLWNoaXBzLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWNoaXBzLm1kLWZvY3VzZWQgeyAgICBib3gtc2hhZG93OiAwIDJweCAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtY2hpcHMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2hpcCB7ICBiYWNrZ3JvdW5kOiAne3tiYWNrZ3JvdW5kLTMwMH19JzsgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTgwMH19JzsgfSAgbWQtY2hpcHMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2hpcC5tZC1mb2N1c2VkIHsgICAgYmFja2dyb3VuZDogJ3t7cHJpbWFyeS1jb2xvcn19JzsgICAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7IH0gICAgbWQtY2hpcHMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2hpcC5tZC1mb2N1c2VkIG1kLWljb24geyAgICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9bWQtY2hpcHMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1jaGlwLXJlbW92ZSAubWQtYnV0dG9uIG1kLWljb24gcGF0aCB7ICBmaWxsOiAne3tiYWNrZ3JvdW5kLTUwMH19JzsgfS5tZC1jb250YWN0LXN1Z2dlc3Rpb24gc3Bhbi5tZC1jb250YWN0LWVtYWlsIHsgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTQwMH19JzsgfW1kLWNvbnRlbnQubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC1jb2xvcn19JzsgfS8qKiBUaGVtZSBzdHlsZXMgZm9yIG1kQ2FsZW5kYXIuICovLm1kLWNhbGVuZGFyLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgY29sb3I6ICd7e2ZvcmVncm91bmQtMX19JzsgfSAgLm1kLWNhbGVuZGFyLm1kLVRIRU1FX05BTUUtdGhlbWUgdHI6bGFzdC1jaGlsZCB0ZCB7ICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICd7e2JhY2tncm91bmQtMjAwfX0nOyB9Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWNhbGVuZGFyLWRheS1oZWFkZXIgeyAgYmFja2dyb3VuZDogJ3t7YmFja2dyb3VuZC1odWUtMX19JzsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTF9fSc7IH0ubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2FsZW5kYXItZGF0ZS5tZC1jYWxlbmRhci1kYXRlLXRvZGF5IC5tZC1jYWxlbmRhci1kYXRlLXNlbGVjdGlvbi1pbmRpY2F0b3IgeyAgYm9yZGVyOiAxcHggc29saWQgJ3t7cHJpbWFyeS01MDB9fSc7IH0ubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2FsZW5kYXItZGF0ZS5tZC1jYWxlbmRhci1kYXRlLXRvZGF5Lm1kLWNhbGVuZGFyLWRhdGUtZGlzYWJsZWQgeyAgY29sb3I6ICd7e3ByaW1hcnktNTAwLTAuNn19JzsgfS5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1jYWxlbmRhci1kYXRlLm1kLWZvY3VzIC5tZC1jYWxlbmRhci1kYXRlLXNlbGVjdGlvbi1pbmRpY2F0b3IgeyAgYmFja2dyb3VuZDogJ3t7YmFja2dyb3VuZC1odWUtMX19JzsgfS5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1jYWxlbmRhci1kYXRlLXNlbGVjdGlvbi1pbmRpY2F0b3I6aG92ZXIgeyAgYmFja2dyb3VuZDogJ3t7YmFja2dyb3VuZC1odWUtMX19JzsgfS5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1jYWxlbmRhci1kYXRlLm1kLWNhbGVuZGFyLXNlbGVjdGVkLWRhdGUgLm1kLWNhbGVuZGFyLWRhdGUtc2VsZWN0aW9uLWluZGljYXRvciwubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2FsZW5kYXItZGF0ZS5tZC1mb2N1cy5tZC1jYWxlbmRhci1zZWxlY3RlZC1kYXRlIC5tZC1jYWxlbmRhci1kYXRlLXNlbGVjdGlvbi1pbmRpY2F0b3IgeyAgYmFja2dyb3VuZDogJ3t7cHJpbWFyeS01MDB9fSc7ICBjb2xvcjogJ3t7cHJpbWFyeS01MDAtY29udHJhc3R9fSc7ICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50OyB9Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWNhbGVuZGFyLWRhdGUtZGlzYWJsZWQsLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWNhbGVuZGFyLW1vbnRoLWxhYmVsLWRpc2FibGVkIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH0vKiogVGhlbWUgc3R5bGVzIGZvciBtZERhdGVwaWNrZXIuICovbWQtZGF0ZXBpY2tlci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQ6ICd7e2JhY2tncm91bmQtY29sb3J9fSc7IH0ubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtZGF0ZXBpY2tlci1pbnB1dCB7ICBjb2xvcjogJ3t7YmFja2dyb3VuZC1jb250cmFzdH19JzsgIGJhY2tncm91bmQ6ICd7e2JhY2tncm91bmQtY29sb3J9fSc7IH0gIC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1kYXRlcGlja2VyLWlucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyLCAubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtZGF0ZXBpY2tlci1pbnB1dDo6LW1vei1wbGFjZWhvbGRlciwgLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWRhdGVwaWNrZXItaW5wdXQ6LW1vei1wbGFjZWhvbGRlciwgLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWRhdGVwaWNrZXItaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHsgICAgY29sb3I6IFxcXCJ7e2ZvcmVncm91bmQtM319XFxcIjsgfS5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1kYXRlcGlja2VyLWlucHV0LWNvbnRhaW5lciB7ICBib3JkZXItYm90dG9tLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTMwMH19JzsgfSAgLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWRhdGVwaWNrZXItaW5wdXQtY29udGFpbmVyLm1kLWRhdGVwaWNrZXItZm9jdXNlZCB7ICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICd7e3ByaW1hcnktNTAwfX0nOyB9ICAubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtZGF0ZXBpY2tlci1pbnB1dC1jb250YWluZXIubWQtZGF0ZXBpY2tlci1pbnZhbGlkIHsgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJ3t7d2Fybi1BNzAwfX0nOyB9Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWRhdGVwaWNrZXItY2FsZW5kYXItcGFuZSB7ICBib3JkZXItY29sb3I6ICd7e2JhY2tncm91bmQtMzAwfX0nOyB9Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWRhdGVwaWNrZXItdHJpYW5nbGUtYnV0dG9uIC5tZC1kYXRlcGlja2VyLWV4cGFuZC10cmlhbmdsZSB7ICBib3JkZXItdG9wLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH0ubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtZGF0ZXBpY2tlci10cmlhbmdsZS1idXR0b246aG92ZXIgLm1kLWRhdGVwaWNrZXItZXhwYW5kLXRyaWFuZ2xlIHsgIGJvcmRlci10b3AtY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfS5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1kYXRlcGlja2VyLW9wZW4gLm1kLWRhdGVwaWNrZXItY2FsZW5kYXItaWNvbiB7ICBmaWxsOiAne3twcmltYXJ5LTUwMH19JzsgfS5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1kYXRlcGlja2VyLWNhbGVuZGFyLC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1kYXRlcGlja2VyLWlucHV0LW1hc2stb3BhcXVlIHsgIGJhY2tncm91bmQ6ICd7e2JhY2tncm91bmQtY29sb3J9fSc7IH1tZC1kaWFsb2cubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBib3JkZXItcmFkaXVzOiA0cHg7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbG9yfX0nOyB9ICBtZC1kaWFsb2cubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jb250ZW50LW92ZXJmbG93IC5tZC1hY3Rpb25zLCBtZC1kaWFsb2cubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jb250ZW50LW92ZXJmbG93IG1kLWRpYWxvZy1hY3Rpb25zIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtZGl2aWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJvcmRlci10b3AtY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgfS5sYXlvdXQtcm93ID4gbWQtZGl2aWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJvcmRlci1yaWdodC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtaWNvbi5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH0gIG1kLWljb24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIG1kLWljb24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgeyAgICBjb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC1pY29uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiB7ICAgIGNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlucHV0IHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTF9fSc7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgIHRleHQtc2hhZG93OiAne3tmb3JlZ3JvdW5kLXNoYWRvd319JzsgfSAgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIsIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dDotbW96LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHsgICAgY29sb3I6IFxcXCJ7e2ZvcmVncm91bmQtM319XFxcIjsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lID4gbWQtaWNvbiB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgbGFiZWwsbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXBsYWNlaG9sZGVyIHsgIHRleHQtc2hhZG93OiAne3tmb3JlZ3JvdW5kLXNoYWRvd319JzsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSBuZy1tZXNzYWdlcyA6bm90KC5tZC1jaGFyLWNvdW50ZXIpLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSBbbmctbWVzc2FnZXNdIDpub3QoLm1kLWNoYXItY291bnRlciksbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgbmctbWVzc2FnZSA6bm90KC5tZC1jaGFyLWNvdW50ZXIpLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSBkYXRhLW5nLW1lc3NhZ2UgOm5vdCgubWQtY2hhci1jb3VudGVyKSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgeC1uZy1tZXNzYWdlIDpub3QoLm1kLWNoYXItY291bnRlciksbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgW25nLW1lc3NhZ2VdIDpub3QoLm1kLWNoYXItY291bnRlciksIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIFtkYXRhLW5nLW1lc3NhZ2VdIDpub3QoLm1kLWNoYXItY291bnRlciksIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIFt4LW5nLW1lc3NhZ2VdIDpub3QoLm1kLWNoYXItY291bnRlciksbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgW25nLW1lc3NhZ2UtZXhwXSA6bm90KC5tZC1jaGFyLWNvdW50ZXIpLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSBbZGF0YS1uZy1tZXNzYWdlLWV4cF0gOm5vdCgubWQtY2hhci1jb3VudGVyKSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgW3gtbmctbWVzc2FnZS1leHBdIDpub3QoLm1kLWNoYXItY291bnRlcikgeyAgY29sb3I6ICd7e3dhcm4tQTcwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtaW5wdXQtaW52YWxpZCkubWQtaW5wdXQtaGFzLXZhbHVlIGxhYmVsIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWlucHV0LWludmFsaWQpLm1kLWlucHV0LWZvY3VzZWQgLm1kLWlucHV0IHsgIGJvcmRlci1jb2xvcjogJ3t7cHJpbWFyeS01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWlucHV0LWludmFsaWQpLm1kLWlucHV0LWZvY3VzZWQgbGFiZWwgeyAgY29sb3I6ICd7e3ByaW1hcnktNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1mb2N1c2VkIG1kLWljb24geyAgY29sb3I6ICd7e3ByaW1hcnktNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1mb2N1c2VkLm1kLWFjY2VudCAubWQtaW5wdXQgeyAgYm9yZGVyLWNvbG9yOiAne3thY2NlbnQtNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1mb2N1c2VkLm1kLWFjY2VudCBsYWJlbCB7ICBjb2xvcjogJ3t7YWNjZW50LTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtaW5wdXQtaW52YWxpZCkubWQtaW5wdXQtZm9jdXNlZC5tZC13YXJuIC5tZC1pbnB1dCB7ICBib3JkZXItY29sb3I6ICd7e3dhcm4tQTcwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtaW5wdXQtaW52YWxpZCkubWQtaW5wdXQtZm9jdXNlZC5tZC13YXJuIGxhYmVsIHsgIGNvbG9yOiAne3t3YXJuLUE3MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1pbnZhbGlkIC5tZC1pbnB1dCB7ICBib3JkZXItY29sb3I6ICd7e3dhcm4tQTcwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQubWQtaW5wdXQtZm9jdXNlZCBsYWJlbCB7ICBjb2xvcjogJ3t7d2Fybi1BNzAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCBuZy1tZXNzYWdlLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1pbnZhbGlkIGRhdGEtbmctbWVzc2FnZSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCB4LW5nLW1lc3NhZ2UsbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCBbbmctbWVzc2FnZV0sIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgW2RhdGEtbmctbWVzc2FnZV0sIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgW3gtbmctbWVzc2FnZV0sbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCBbbmctbWVzc2FnZS1leHBdLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1pbnZhbGlkIFtkYXRhLW5nLW1lc3NhZ2UtZXhwXSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCBbeC1uZy1tZXNzYWdlLWV4cF0sbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCAubWQtY2hhci1jb3VudGVyIHsgIGNvbG9yOiAne3t3YXJuLUE3MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXRbZGlzYWJsZWRdLG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dCBbZGlzYWJsZWRdIHsgIGJvcmRlci1ib3R0b20tY29sb3I6IHRyYW5zcGFyZW50OyAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgXFxcInt7Zm9yZWdyb3VuZC0zfX1cXFwiIDAlLCBcXFwie3tmb3JlZ3JvdW5kLTN9fVxcXCIgMzMlLCB0cmFuc3BhcmVudCAwJSk7ICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KGxlZnQsIHRyYW5zcGFyZW50IDAlLCBcXFwie3tmb3JlZ3JvdW5kLTN9fVxcXCIgMTAwJSk7IH1tZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtLm1kLTItbGluZSAubWQtbGlzdC1pdGVtLXRleHQgaDMsIG1kLWxpc3QubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1saXN0LWl0ZW0ubWQtMi1saW5lIC5tZC1saXN0LWl0ZW0tdGV4dCBoNCxtZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtLm1kLTMtbGluZSAubWQtbGlzdC1pdGVtLXRleHQgaDMsbWQtbGlzdC5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLWxpc3QtaXRlbS5tZC0zLWxpbmUgLm1kLWxpc3QtaXRlbS10ZXh0IGg0IHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTF9fSc7IH1tZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtLm1kLTItbGluZSAubWQtbGlzdC1pdGVtLXRleHQgcCxtZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtLm1kLTMtbGluZSAubWQtbGlzdC1pdGVtLXRleHQgcCB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtbGlzdC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1wcm94eS1mb2N1cy5tZC1mb2N1c2VkIGRpdi5tZC1uby1zdHlsZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTEwMH19JzsgfW1kLWxpc3QubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1saXN0LWl0ZW0gPiAubWQtYXZhdGFyLWljb24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyAgY29sb3I6ICd7e2JhY2tncm91bmQtY29sb3J9fSc7IH1tZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtID4gbWQtaWNvbiB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9ICBtZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtID4gbWQtaWNvbi5tZC1oaWdobGlnaHQgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgICBtZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtID4gbWQtaWNvbi5tZC1oaWdobGlnaHQubWQtYWNjZW50IHsgICAgICBjb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtbWVudS1jb250ZW50Lm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC1jb2xvcn19JzsgfSAgbWQtbWVudS1jb250ZW50Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbWVudS1kaXZpZGVyIHsgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtbWVudS1iYXIubWQtVEhFTUVfTkFNRS10aGVtZSA+IGJ1dHRvbi5tZC1idXR0b24geyAgY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgIGJvcmRlci1yYWRpdXM6IDJweDsgfW1kLW1lbnUtYmFyLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbWVudS5tZC1vcGVuID4gYnV0dG9uLCBtZC1tZW51LWJhci5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLW1lbnUgPiBidXR0b246Zm9jdXMgeyAgb3V0bGluZTogbm9uZTsgIGJhY2tncm91bmQ6ICd7e2JhY2tncm91bmQtMjAwfX0nOyB9bWQtbWVudS1iYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1vcGVuOm5vdCgubWQta2V5Ym9hcmQtbW9kZSkgbWQtbWVudTpob3ZlciA+IGJ1dHRvbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3sgYmFja2dyb3VuZC01MDAtMC4yfX0nOyB9bWQtbWVudS1iYXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWtleWJvYXJkLW1vZGUpOm5vdCgubWQtb3BlbikgbWQtbWVudSBidXR0b246aG92ZXIsbWQtbWVudS1iYXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWtleWJvYXJkLW1vZGUpOm5vdCgubWQtb3BlbikgbWQtbWVudSBidXR0b246Zm9jdXMgeyAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH1tZC1tZW51LWNvbnRlbnQubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtbWVudSA+IC5tZC1idXR0b246YWZ0ZXIgeyAgY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfW1kLW1lbnUtY29udGVudC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1tZW51Lm1kLW9wZW4gPiAubWQtYnV0dG9uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7eyBiYWNrZ3JvdW5kLTUwMC0wLjJ9fSc7IH1tZC10b29sYmFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtbWVudS10b29sYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtY29sb3J9fSc7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyB9ICBtZC10b29sYmFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtbWVudS10b29sYmFyIG1kLXRvb2xiYXItZmlsbGVyIHsgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgICAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7IH0gICAgbWQtdG9vbGJhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLW1lbnUtdG9vbGJhciBtZC10b29sYmFyLWZpbGxlciBtZC1pY29uIHsgICAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb250cmFzdH19JzsgfW1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlubmVyIC5tZC1nYXAgeyAgICBib3JkZXItdG9wLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyAgICBib3JkZXItYm90dG9tLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbm5lciAubWQtbGVmdCAubWQtaGFsZi1jaXJjbGUsIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlubmVyIC5tZC1yaWdodCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItdG9wLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbm5lciAubWQtcmlnaHQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbm5lciAubWQtbGVmdCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItbGVmdC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1pbm5lciAubWQtZ2FwIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1pbm5lciAubWQtbGVmdCAubWQtaGFsZi1jaXJjbGUsIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtaW5uZXIgLm1kLXJpZ2h0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtaW5uZXIgLm1kLXJpZ2h0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci1yaWdodC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1pbm5lciAubWQtbGVmdCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItbGVmdC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgLm1kLWlubmVyIC5tZC1nYXAgeyAgICBib3JkZXItdG9wLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7ICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgLm1kLWlubmVyIC5tZC1sZWZ0IC5tZC1oYWxmLWNpcmNsZSwgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgLm1kLWlubmVyIC5tZC1yaWdodCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItdG9wLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1pbm5lciAubWQtcmlnaHQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1pbm5lciAubWQtbGVmdCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItbGVmdC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWNvbnRhaW5lciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LTEwMH19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLWNvbnRhaW5lciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLTEwMH19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLWJhciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1jb250YWluZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LTEwMH19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lW21kLW1vZGU9YnVmZmVyXS5tZC13YXJuIC5tZC1iYXIxIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tMTAwfX0nOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWVbbWQtbW9kZT1idWZmZXJdLm1kLXdhcm4gLm1kLWRhc2hlZDpiZWZvcmUgeyAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KFxcXCJ7e3dhcm4tMTAwfX1cXFwiIDAlLCBcXFwie3t3YXJuLTEwMH19XFxcIiAxNiUsIHRyYW5zcGFyZW50IDQyJSk7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZVttZC1tb2RlPWJ1ZmZlcl0ubWQtYWNjZW50IC5tZC1iYXIxIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC0xMDB9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZVttZC1tb2RlPWJ1ZmZlcl0ubWQtYWNjZW50IC5tZC1kYXNoZWQ6YmVmb3JlIHsgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChcXFwie3thY2NlbnQtMTAwfX1cXFwiIDAlLCBcXFwie3thY2NlbnQtMTAwfX1cXFwiIDE2JSwgdHJhbnNwYXJlbnQgNDIlKTsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1vZmYgeyAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtb24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1vZmYgeyAgYm9yZGVyLWNvbG9yOiAne3thY2NlbnQtY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQgLm1kLWluay1yaXBwbGUgeyAgY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjg3fX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWNvbnRhaW5lciAubWQtcmlwcGxlIHsgIGNvbG9yOiAne3thY2NlbnQtNjAwfX0nOyB9bWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXByaW1hcnkgLm1kLW9uLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1vbixtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXByaW1hcnkgLm1kLW9uLG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1vbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtcHJpbWFyeSAubWQtY2hlY2tlZCAubWQtb2ZmLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1vZmYsIG1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkgLm1kLWNoZWNrZWQgLm1kLW9mZiwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1vZmYsbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC1wcmltYXJ5IC5tZC1jaGVja2VkIC5tZC1vZmYsbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC1wcmltYXJ5Lm1kLWNoZWNrZWQgLm1kLW9mZixtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtY2hlY2tlZCAubWQtb2ZmLG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5Lm1kLWNoZWNrZWQgLm1kLW9mZiB7ICBib3JkZXItY29sb3I6ICd7e3ByaW1hcnktY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC1wcmltYXJ5IC5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5Lm1kLWNoZWNrZWQgLm1kLWluay1yaXBwbGUsbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC1wcmltYXJ5IC5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5Lm1kLWNoZWNrZWQgLm1kLWluay1yaXBwbGUgeyAgY29sb3I6ICd7e3ByaW1hcnktY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC1wcmltYXJ5IC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtY29udGFpbmVyIC5tZC1yaXBwbGUsbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC1wcmltYXJ5IC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSxtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtY29udGFpbmVyIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e3ByaW1hcnktNjAwfX0nOyB9bWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXdhcm4gLm1kLW9uLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1vbixtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXdhcm4gLm1kLW9uLG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1vbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtd2FybiAubWQtY2hlY2tlZCAubWQtb2ZmLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1vZmYsIG1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4gLm1kLWNoZWNrZWQgLm1kLW9mZiwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1vZmYsbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC13YXJuIC5tZC1jaGVja2VkIC5tZC1vZmYsbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC13YXJuLm1kLWNoZWNrZWQgLm1kLW9mZixtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2FybiAubWQtY2hlY2tlZCAubWQtb2ZmLG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuLm1kLWNoZWNrZWQgLm1kLW9mZiB7ICBib3JkZXItY29sb3I6ICd7e3dhcm4tY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC13YXJuIC5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuLm1kLWNoZWNrZWQgLm1kLWluay1yaXBwbGUsbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC13YXJuIC5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuLm1kLWNoZWNrZWQgLm1kLWluay1yaXBwbGUgeyAgY29sb3I6ICd7e3dhcm4tY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC13YXJuIC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2FybiAubWQtY29udGFpbmVyIC5tZC1yaXBwbGUsbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC13YXJuIC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSxtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2FybiAubWQtY29udGFpbmVyIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e3dhcm4tNjAwfX0nOyB9bWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0sbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH0gIG1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1jb250YWluZXIgLm1kLW9mZiwgIG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSAubWQtY29udGFpbmVyIC5tZC1vZmYgeyAgICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfSAgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLWNvbnRhaW5lciAubWQtb24sICBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLWNvbnRhaW5lciAubWQtb24geyAgICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWNoZWNrZWQgLm1kLWluay1yaXBwbGUgeyAgY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjI2fX0nOyB9bWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC1jaGVja2VkOm5vdChbZGlzYWJsZWRdKSAubWQtaW5rLXJpcHBsZSwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2hlY2tlZDpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtaW5rLXJpcHBsZSB7ICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvci0wLjI2fX0nOyB9bWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2hlY2tlZC5tZC1wcmltYXJ5IC5tZC1pbmstcmlwcGxlIHsgIGNvbG9yOiAne3t3YXJuLWNvbG9yLTAuMjZ9fSc7IH1tZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZvY3VzZWQ6bm90KDplbXB0eSkgLm1kLWNoZWNrZWQgLm1kLWNvbnRhaW5lcjpiZWZvcmUgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuMjZ9fSc7IH1tZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZvY3VzZWQ6bm90KDplbXB0eSkubWQtcHJpbWFyeSAubWQtY2hlY2tlZCAubWQtY29udGFpbmVyOmJlZm9yZSxtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZvY3VzZWQ6bm90KDplbXB0eSkgLm1kLWNoZWNrZWQubWQtcHJpbWFyeSAubWQtY29udGFpbmVyOmJlZm9yZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuMjZ9fSc7IH1tZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZvY3VzZWQ6bm90KDplbXB0eSkubWQtd2FybiAubWQtY2hlY2tlZCAubWQtY29udGFpbmVyOmJlZm9yZSxtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZvY3VzZWQ6bm90KDplbXB0eSkgLm1kLWNoZWNrZWQubWQtd2FybiAubWQtY29udGFpbmVyOmJlZm9yZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yLTAuMjZ9fSc7IH1tZC1zZWxlY3QubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLXNlbGVjdC12YWx1ZSB7ICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDsgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgXFxcInt7Zm9yZWdyb3VuZC0zfX1cXFwiIDAlLCBcXFwie3tmb3JlZ3JvdW5kLTN9fVxcXCIgMzMlLCB0cmFuc3BhcmVudCAwJSk7ICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KGxlZnQsIHRyYW5zcGFyZW50IDAlLCBcXFwie3tmb3JlZ3JvdW5kLTN9fVxcXCIgMTAwJSk7IH1tZC1zZWxlY3QubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtc2VsZWN0LXZhbHVlIHsgIGJvcmRlci1ib3R0b20tY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgfSAgbWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXNlbGVjdC12YWx1ZS5tZC1zZWxlY3QtcGxhY2Vob2xkZXIgeyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWUubmctaW52YWxpZC5uZy1kaXJ0eSAubWQtc2VsZWN0LXZhbHVlIHsgIGNvbG9yOiAne3t3YXJuLUE3MDB9fScgIWltcG9ydGFudDsgIGJvcmRlci1ib3R0b20tY29sb3I6ICd7e3dhcm4tQTcwMH19JyAhaW1wb3J0YW50OyB9bWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pOmZvY3VzIC5tZC1zZWxlY3QtdmFsdWUgeyAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgIGNvbG9yOiAne3sgZm9yZWdyb3VuZC0xIH19JzsgfSAgbWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pOmZvY3VzIC5tZC1zZWxlY3QtdmFsdWUubWQtc2VsZWN0LXBsYWNlaG9sZGVyIHsgICAgY29sb3I6ICd7eyBmb3JlZ3JvdW5kLTEgfX0nOyB9bWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pOmZvY3VzLm1kLWFjY2VudCAubWQtc2VsZWN0LXZhbHVlIHsgIGJvcmRlci1ib3R0b20tY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfW1kLXNlbGVjdC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKTpmb2N1cy5tZC13YXJuIC5tZC1zZWxlY3QtdmFsdWUgeyAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXNlbGVjdC5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSAubWQtc2VsZWN0LXZhbHVlIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH0gIG1kLXNlbGVjdC5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSAubWQtc2VsZWN0LXZhbHVlLm1kLXNlbGVjdC1wbGFjZWhvbGRlciB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC1zZWxlY3QtbWVudS5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLW9wdGlvbltkaXNhYmxlZF0geyAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLXNlbGVjdC1tZW51Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtb3B0Z3JvdXAgeyAgY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfSAgbWQtc2VsZWN0LW1lbnUubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1vcHRncm91cCBtZC1vcHRpb24geyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyB9bWQtc2VsZWN0LW1lbnUubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1vcHRpb25bc2VsZWN0ZWRdIHsgIGNvbG9yOiAne3twcmltYXJ5LTUwMH19JzsgfSAgbWQtc2VsZWN0LW1lbnUubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1vcHRpb25bc2VsZWN0ZWRdOmZvY3VzIHsgICAgY29sb3I6ICd7e3ByaW1hcnktNjAwfX0nOyB9ICBtZC1zZWxlY3QtbWVudS5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLW9wdGlvbltzZWxlY3RlZF0ubWQtYWNjZW50IHsgICAgY29sb3I6ICd7e2FjY2VudC01MDB9fSc7IH0gICAgbWQtc2VsZWN0LW1lbnUubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1vcHRpb25bc2VsZWN0ZWRdLm1kLWFjY2VudDpmb2N1cyB7ICAgICAgY29sb3I6ICd7e2FjY2VudC02MDB9fSc7IH1tZC1zZWxlY3QtbWVudS5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLW9wdGlvbjpmb2N1czpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pIHsgIGJhY2tncm91bmQ6ICd7e2JhY2tncm91bmQtMjAwfX0nOyB9bWQtc2lkZW5hdi5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtdHJhY2sgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRyYWNrLXRpY2tzIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1mb2N1cy10aHVtYiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtZm9jdXMtcmluZyB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtZGlzYWJsZWQtdGh1bWIgeyAgYm9yZGVyLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtbWluIC5tZC10aHVtYjphZnRlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRyYWNrLm1kLXRyYWNrLWZpbGwgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRodW1iOmFmdGVyIHsgIGJvcmRlci1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXNpZ24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtc2lnbjphZnRlciB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10aHVtYi10ZXh0IHsgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1mb2N1cy1yaW5nIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC10cmFjay5tZC10cmFjay1maWxsIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC10aHVtYjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtc2lnbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICBtZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1zaWduOmFmdGVyIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLXRodW1iLXRleHQgeyAgY29sb3I6ICd7e3dhcm4tY29udHJhc3R9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC1mb2N1cy1yaW5nIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC10cmFjay5tZC10cmFjay1maWxsIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC10aHVtYjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSAubWQtc2lnbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICBtZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC1zaWduOmFmdGVyIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgLm1kLXRodW1iLXRleHQgeyAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLXRodW1iOmFmdGVyIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdOm5vdCgubWQtbWluKSAubWQtdGh1bWI6YWZ0ZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9Lm1kLXN1YmhlYWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGNvbG9yOiAne3sgZm9yZWdyb3VuZC0yLTAuMjMgfX0nOyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC1jb2xvcn19JzsgfSAgLm1kLXN1YmhlYWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgLm1kLXN1YmhlYWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCB7ICAgIGNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH0gIC5tZC1zdWJoZWFkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIHsgICAgY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5rLXJpcHBsZSB7ICBjb2xvcjogJ3t7YmFja2dyb3VuZC01MDB9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtdGh1bWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC01MH19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC01MDB9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlIHsgIGNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC10aHVtYiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuNX19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtZm9jdXNlZCAubWQtdGh1bWI6YmVmb3JlIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjI2fX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZC5tZC1wcmltYXJ5IC5tZC1pbmstcmlwcGxlIHsgIGNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZC5tZC1wcmltYXJ5IC5tZC10aHVtYiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZC5tZC1wcmltYXJ5IC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvci0wLjV9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkLm1kLXByaW1hcnkubWQtZm9jdXNlZCAubWQtdGh1bWI6YmVmb3JlIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3ItMC4yNn19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtd2FybiAubWQtaW5rLXJpcHBsZSB7ICBjb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtd2FybiAubWQtdGh1bWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtd2FybiAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3ItMC41fX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZC5tZC13YXJuLm1kLWZvY3VzZWQgLm1kLXRodW1iOmJlZm9yZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yLTAuMjZ9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLXRodW1iIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNDAwfX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYnMtd3JhcHBlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1wYWdpbmF0b3IgbWQtaWNvbiB7ICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfW1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1pbmstYmFyIHsgIGNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7ICBiYWNrZ3JvdW5kOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRhYiB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRhYltkaXNhYmxlZF0sIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtdGFiW2Rpc2FibGVkXSBtZC1pY29uIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10YWIubWQtYWN0aXZlLCBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRhYi5tZC1hY3RpdmUgbWQtaWNvbiwgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10YWIubWQtZm9jdXNlZCwgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10YWIubWQtZm9jdXNlZCBtZC1pY29uIHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtdGFiLm1kLWZvY3VzZWQgeyAgICBiYWNrZ3JvdW5kOiAne3twcmltYXJ5LWNvbG9yLTAuMX19JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10YWIgLm1kLXJpcHBsZS1jb250YWluZXIgeyAgICBjb2xvcjogJ3t7YWNjZW50LTEwMH19JzsgfW1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgPiBtZC10YWJzLXdyYXBwZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50ID4gbWQtdGFicy13cmFwcGVyID4gbWQtdGFicy1jYW52YXMgPiBtZC1wYWdpbmF0aW9uLXdyYXBwZXIgPiBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkgeyAgICBjb2xvcjogJ3t7YWNjZW50LTEwMH19JzsgfSAgICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50ID4gbWQtdGFicy13cmFwcGVyID4gbWQtdGFicy1jYW52YXMgPiBtZC1wYWdpbmF0aW9uLXdyYXBwZXIgPiBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtYWN0aXZlLCBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50ID4gbWQtdGFicy13cmFwcGVyID4gbWQtdGFicy1jYW52YXMgPiBtZC1wYWdpbmF0aW9uLXdyYXBwZXIgPiBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtYWN0aXZlIG1kLWljb24sIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkLCBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50ID4gbWQtdGFicy13cmFwcGVyID4gbWQtdGFicy1jYW52YXMgPiBtZC1wYWdpbmF0aW9uLXdyYXBwZXIgPiBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCBtZC1pY29uIHsgICAgICBjb2xvcjogJ3t7YWNjZW50LWNvbnRyYXN0fX0nOyB9ICAgIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkIHsgICAgICBiYWNrZ3JvdW5kOiAne3thY2NlbnQtY29udHJhc3QtMC4xfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50ID4gbWQtdGFicy13cmFwcGVyID4gbWQtdGFicy1jYW52YXMgPiBtZC1wYWdpbmF0aW9uLXdyYXBwZXIgPiBtZC1pbmstYmFyIHsgICAgY29sb3I6ICd7e3ByaW1hcnktNjAwLTF9fSc7ICAgIGJhY2tncm91bmQ6ICd7e3ByaW1hcnktNjAwLTF9fSc7IH1tZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSA+IG1kLXRhYnMtd3JhcHBlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pIHsgICAgY29sb3I6ICd7e3ByaW1hcnktMTAwfX0nOyB9ICAgIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5ID4gbWQtdGFicy13cmFwcGVyID4gbWQtdGFicy1jYW52YXMgPiBtZC1wYWdpbmF0aW9uLXdyYXBwZXIgPiBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtYWN0aXZlLCBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWFjdGl2ZSBtZC1pY29uLCBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQsIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5ID4gbWQtdGFicy13cmFwcGVyID4gbWQtdGFicy1jYW52YXMgPiBtZC1wYWdpbmF0aW9uLXdyYXBwZXIgPiBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCBtZC1pY29uIHsgICAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb250cmFzdH19JzsgfSAgICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICAgIGJhY2tncm91bmQ6ICd7e3ByaW1hcnktY29udHJhc3QtMC4xfX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gPiBtZC10YWJzLXdyYXBwZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKSB7ICAgIGNvbG9yOiAne3t3YXJuLTEwMH19JzsgfSAgICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWFjdGl2ZSwgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1hY3RpdmUgbWQtaWNvbiwgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkLCBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgbWQtaWNvbiB7ICAgICAgY29sb3I6ICd7e3dhcm4tY29udHJhc3R9fSc7IH0gICAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkIHsgICAgICBiYWNrZ3JvdW5kOiAne3t3YXJuLWNvbnRyYXN0LTAuMX19JzsgfW1kLXRvb2xiYXIgPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgbWQtdG9vbGJhciA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pIHsgICAgY29sb3I6ICd7e3ByaW1hcnktMTAwfX0nOyB9ICAgIG1kLXRvb2xiYXIgPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1hY3RpdmUsIG1kLXRvb2xiYXIgPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1hY3RpdmUgbWQtaWNvbiwgbWQtdG9vbGJhciA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQsIG1kLXRvb2xiYXIgPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkIG1kLWljb24geyAgICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9ICAgIG1kLXRvb2xiYXIgPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkIHsgICAgICBiYWNrZ3JvdW5kOiAne3twcmltYXJ5LWNvbnRyYXN0LTAuMX19JzsgfW1kLXRvb2xiYXIubWQtYWNjZW50ID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lID4gbWQtdGFicy13cmFwcGVyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfSAgbWQtdG9vbGJhci5tZC1hY2NlbnQgPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKSB7ICAgIGNvbG9yOiAne3thY2NlbnQtMTAwfX0nOyB9ICAgIG1kLXRvb2xiYXIubWQtYWNjZW50ID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lID4gbWQtdGFicy13cmFwcGVyID4gbWQtdGFicy1jYW52YXMgPiBtZC1wYWdpbmF0aW9uLXdyYXBwZXIgPiBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtYWN0aXZlLCBtZC10b29sYmFyLm1kLWFjY2VudCA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWFjdGl2ZSBtZC1pY29uLCBtZC10b29sYmFyLm1kLWFjY2VudCA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQsIG1kLXRvb2xiYXIubWQtYWNjZW50ID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lID4gbWQtdGFicy13cmFwcGVyID4gbWQtdGFicy1jYW52YXMgPiBtZC1wYWdpbmF0aW9uLXdyYXBwZXIgPiBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCBtZC1pY29uIHsgICAgICBjb2xvcjogJ3t7YWNjZW50LWNvbnRyYXN0fX0nOyB9ICAgIG1kLXRvb2xiYXIubWQtYWNjZW50ID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lID4gbWQtdGFicy13cmFwcGVyID4gbWQtdGFicy1jYW52YXMgPiBtZC1wYWdpbmF0aW9uLXdyYXBwZXIgPiBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCB7ICAgICAgYmFja2dyb3VuZDogJ3t7YWNjZW50LWNvbnRyYXN0LTAuMX19JzsgfSAgbWQtdG9vbGJhci5tZC1hY2NlbnQgPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLWluay1iYXIgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS02MDAtMX19JzsgICAgYmFja2dyb3VuZDogJ3t7cHJpbWFyeS02MDAtMX19JzsgfW1kLXRvb2xiYXIubWQtd2FybiA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSA+IG1kLXRhYnMtd3JhcHBlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICBtZC10b29sYmFyLm1kLXdhcm4gPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKSB7ICAgIGNvbG9yOiAne3t3YXJuLTEwMH19JzsgfSAgICBtZC10b29sYmFyLm1kLXdhcm4gPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1hY3RpdmUsIG1kLXRvb2xiYXIubWQtd2FybiA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWFjdGl2ZSBtZC1pY29uLCBtZC10b29sYmFyLm1kLXdhcm4gPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkLCBtZC10b29sYmFyLm1kLXdhcm4gPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgPiBtZC10YWJzLXdyYXBwZXIgPiBtZC10YWJzLWNhbnZhcyA+IG1kLXBhZ2luYXRpb24td3JhcHBlciA+IG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkIG1kLWljb24geyAgICAgIGNvbG9yOiAne3t3YXJuLWNvbnRyYXN0fX0nOyB9ICAgIG1kLXRvb2xiYXIubWQtd2FybiA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSA+IG1kLXRhYnMtd3JhcHBlciA+IG1kLXRhYnMtY2FudmFzID4gbWQtcGFnaW5hdGlvbi13cmFwcGVyID4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICAgIGJhY2tncm91bmQ6ICd7e3dhcm4tY29udHJhc3QtMC4xfX0nOyB9bWQtdG9hc3QubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtdG9hc3QtY29udGVudCB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzIzMjMyOyAgY29sb3I6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gIG1kLXRvYXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRvYXN0LWNvbnRlbnQgLm1kLWJ1dHRvbiB7ICAgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyB9ICAgIG1kLXRvYXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRvYXN0LWNvbnRlbnQgLm1kLWJ1dHRvbi5tZC1oaWdobGlnaHQgeyAgICAgIGNvbG9yOiAne3twcmltYXJ5LUEyMDB9fSc7IH0gICAgICBtZC10b2FzdC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10b2FzdC1jb250ZW50IC5tZC1idXR0b24ubWQtaGlnaGxpZ2h0Lm1kLWFjY2VudCB7ICAgICAgICBjb2xvcjogJ3t7YWNjZW50LUEyMDB9fSc7IH0gICAgICBtZC10b2FzdC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10b2FzdC1jb250ZW50IC5tZC1idXR0b24ubWQtaGlnaGxpZ2h0Lm1kLXdhcm4geyAgICAgICAgY29sb3I6ICd7e3dhcm4tQTIwMH19JzsgfW1kLXRvb2xiYXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLW1lbnUtdG9vbGJhcikgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9ICBtZC10b29sYmFyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1tZW51LXRvb2xiYXIpIG1kLWljb24geyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb250cmFzdH19JzsgfSAgbWQtdG9vbGJhci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKSAubWQtYnV0dG9uOm5vdCgubWQtcmFpc2VkKSB7ICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9ICBtZC10b29sYmFyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1tZW51LXRvb2xiYXIpLm1kLWFjY2VudCB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgICAgY29sb3I6ICd7e2FjY2VudC1jb250cmFzdH19JzsgfSAgbWQtdG9vbGJhci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKS5tZC13YXJuIHsgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgICAgY29sb3I6ICd7e3dhcm4tY29udHJhc3R9fSc7IH1tZC10b29sdGlwLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgY29sb3I6ICd7e2JhY2tncm91bmQtQTEwMH19JzsgfSAgbWQtdG9vbHRpcC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1jb250ZW50IHsgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9XCIpOyBcbn0pKCk7XG5cblxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7O3dpbmRvdy5uZ01hdGVyaWFsPXt2ZXJzaW9uOntmdWxsOiBcIjEuMC4yXCJ9fTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
