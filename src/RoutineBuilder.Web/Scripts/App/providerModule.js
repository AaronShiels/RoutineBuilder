angular.module('providerModule', [])
    .service('routineProviderFactory', ['$http', '$q', function ($http, $q) {
        var routineDefinitions = [
            { "name": "Beyond 531", "weeks": [{ "days": [{ "exercises": [{ "name": "Deadlift", "description": "5", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.65, "additional": 0.0 } }, { "name": "Deadlift", "description": "5", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.75, "additional": 0.0 } }, { "name": "Deadlift", "description": "5+", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.85, "additional": 0.0 } }, { "name": "Deadlift", "description": "Jokers (Optional)", "weightFormula": null }, { "name": "Deadlift", "description": "AMRAP", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.65, "additional": 0.0 } }, { "name": "Bench Press", "description": "5x10", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.5, "additional": 0.0 } }, { "name": "Pull Ups", "description": "3x To Fail", "weightFormula": null }] }, { "exercises": [{ "name": "Bench Press", "description": "5", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.65, "additional": 0.0 } }, { "name": "Bench Press", "description": "5", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.75, "additional": 0.0 } }, { "name": "Bench Press", "description": "5+", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.85, "additional": 0.0 } }, { "name": "Bench Press", "description": "Jokers (Optional)", "weightFormula": null }, { "name": "Bench Press", "description": "AMRAP", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.65, "additional": 0.0 } }, { "name": "Overhead Press", "description": "5x10", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.5, "additional": 0.0 } }, { "name": "Leg Press", "description": "3x10", "weightFormula": null }] }, { "exercises": [{ "name": "Overhead Press", "description": "5", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.65, "additional": 0.0 } }, { "name": "Overhead Press", "description": "5", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.75, "additional": 0.0 } }, { "name": "Overhead Press", "description": "5+", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.85, "additional": 0.0 } }, { "name": "Overhead Press", "description": "Jokers (Optional)", "weightFormula": null }, { "name": "Overhead Press", "description": "AMRAP", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.65, "additional": 0.0 } }, { "name": "Deadlift", "description": "5x10", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.5, "additional": 0.0 } }, { "name": "Pull Ups", "description": "3x To Fail", "weightFormula": null }] }] }, { "days": [{ "exercises": [{ "name": "Deadlift", "description": "3", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.7, "additional": 0.0 } }, { "name": "Deadlift", "description": "3", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.8, "additional": 0.0 } }, { "name": "Deadlift", "description": "3+", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.9, "additional": 0.0 } }, { "name": "Deadlift", "description": "Jokers (Optioal)", "weightFormula": null }, { "name": "Deadlift", "description": "AMRAP", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.7, "additional": 0.0 } }, { "name": "Bench Press", "description": "5x10", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.5, "additional": 0.0 } }, { "name": "Pull Ups", "description": "3x To Fail", "weightFormula": null }] }, { "exercises": [{ "name": "Bench Press", "description": "3", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.7, "additional": 0.0 } }, { "name": "Bench Press", "description": "3", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.8, "additional": 0.0 } }, { "name": "Bench Press", "description": "3+", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.9, "additional": 0.0 } }, { "name": "Bench Press", "description": "Jokers (Optional)", "weightFormula": null }, { "name": "Bench Press", "description": "AMRAP", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.77, "additional": 0.0 } }, { "name": "Overhead Press", "description": "5x10", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.5, "additional": 0.0 } }, { "name": "Leg Press", "description": "3x10", "weightFormula": null }] }, { "exercises": [{ "name": "Overhead Press", "description": "3", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.7, "additional": 0.0 } }, { "name": "Overhead Press", "description": "3", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.8, "additional": 0.0 } }, { "name": "Overhead Press", "description": "3+", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.9, "additional": 0.0 } }, { "name": "Overhead Press", "description": "Jokers (Optioal)", "weightFormula": null }, { "name": "Overhead Press", "description": "AMRAP", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.7, "additional": 0.0 } }, { "name": "Deadlift", "description": "5x10", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.5, "additional": 0.0 } }, { "name": "Pull Ups", "description": "3x To Fail", "weightFormula": null }] }] }, { "days": [{ "exercises": [{ "name": "Deadlift", "description": "5", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.75, "additional": 0.0 } }, { "name": "Deadlift", "description": "3", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.85, "additional": 0.0 } }, { "name": "Deadlift", "description": "1+", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.95, "additional": 0.0 } }, { "name": "Deadlift", "description": "Jokers (Optional)", "weightFormula": null }, { "name": "Deadlift", "description": "AMRAP", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.75, "additional": 0.0 } }, { "name": "Bench Press", "description": "5x10", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.5, "additional": 0.0 } }, { "name": "Pull Ups", "description": "3x To Fail", "weightFormula": null }] }, { "exercises": [{ "name": "Bench Press", "description": "5", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.75, "additional": 0.0 } }, { "name": "Bench Press", "description": "3", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.85, "additional": 0.0 } }, { "name": "Bench Press", "description": "1+", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.95, "additional": 0.0 } }, { "name": "Bench Press", "description": "Jokers (Optional)", "weightFormula": null }, { "name": "Bench Press", "description": "AMRAP", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "benchPressTrainingMax", "fraction": 0.75, "additional": 0.0 } }, { "name": "Overhead Press", "description": "5x10", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.5, "additional": 0.0 } }, { "name": "Leg Press", "description": "3x10", "weightFormula": null }] }, { "exercises": [{ "name": "Overhead Press", "description": "5", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.75, "additional": 0.0 } }, { "name": "Overhead Press", "description": "3", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.85, "additional": 0.0 } }, { "name": "Overhead Press", "description": "1+", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.95, "additional": 0.0 } }, { "name": "Overhead Press", "description": "Jokers (Optional)", "weightFormula": null }, { "name": "Overhead Press", "description": "AMRAP", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "overheadPressTrainingMax", "fraction": 0.75, "additional": 0.0 } }, { "name": "Deadlift", "description": "5x10", "weightFormula": { "descriminator": "VariableCoefficientConstant", "variable": "deadliftTrainingMax", "fraction": 0.5, "additional": 0.0 } }, { "name": "Pull Ups", "description": "3x To Fail", "weightFormula": null }] }] }] }
        ];

        return {
            getRoutineDefinitionByName: function (routineName) {
                return routineDefinitions[0];
            }
        };
    }])
    .service('formulaProviderFactory', function () {
        var formulas = {
            'VariableCoefficientConstant': function (base, coefficient, constant) {
                return base * coefficient + constant;
            }
        };

        return {
            getFormulaByDescriminator: function (descriminator) {
                return formulas[descriminator];
            }
        }
    })
;